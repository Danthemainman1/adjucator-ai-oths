import{j as c,m as Ae,A as ws}from"./animations-Cs-j1bJ7.js";import{r as U,R as y0}from"./charts-BqTqP0xP.js";import{r as UA,a as FA,g as x0}from"./react-vendor-OvXVS5lI.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();var Yp={exports:{}},Fc={},Qp={exports:{}},Kp={};var h1;function BA(){return h1||(h1=1,(function(t){function e(K,ce){var ge=K.length;K.push(ce);e:for(;0<ge;){var Re=ge-1>>>1,F=K[Re];if(0<a(F,ce))K[Re]=ce,K[ge]=F,ge=Re;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ce=K[0],ge=K.pop();if(ge!==ce){K[0]=ge;e:for(var Re=0,F=K.length,Ze=F>>>1;Re<Ze;){var Ve=2*(Re+1)-1,V=K[Ve],ke=Ve+1,st=K[ke];if(0>a(V,ge))ke<F&&0>a(st,V)?(K[Re]=st,K[ke]=ge,Re=ke):(K[Re]=V,K[Ve]=ge,Re=Ve);else if(ke<F&&0>a(st,ge))K[Re]=st,K[ke]=ge,Re=ke;else break e}}return ce}function a(K,ce){var ge=K.sortIndex-ce.sortIndex;return ge!==0?ge:K.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var m=[],p=[],x=1,b=null,w=3,v=!1,S=!1,k=!1,R=!1,M=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function te(K){for(var ce=n(p);ce!==null;){if(ce.callback===null)r(p);else if(ce.startTime<=K)r(p),ce.sortIndex=ce.expirationTime,e(m,ce);else break;ce=n(p)}}function W(K){if(k=!1,te(K),!S)if(n(m)!==null)S=!0,G||(G=!0,O());else{var ce=n(p);ce!==null&&oe(W,ce.startTime-K)}}var G=!1,z=-1,I=5,L=-1;function A(){return R?!0:!(t.unstable_now()-L<I)}function C(){if(R=!1,G){var K=t.unstable_now();L=K;var ce=!0;try{e:{S=!1,k&&(k=!1,P(z),z=-1),v=!0;var ge=w;try{t:{for(te(K),b=n(m);b!==null&&!(b.expirationTime>K&&A());){var Re=b.callback;if(typeof Re=="function"){b.callback=null,w=b.priorityLevel;var F=Re(b.expirationTime<=K);if(K=t.unstable_now(),typeof F=="function"){b.callback=F,te(K),ce=!0;break t}b===n(m)&&r(m),te(K)}else r(m);b=n(m)}if(b!==null)ce=!0;else{var Ze=n(p);Ze!==null&&oe(W,Ze.startTime-K),ce=!1}}break e}finally{b=null,w=ge,v=!1}ce=void 0}}finally{ce?O():G=!1}}}var O;if(typeof q=="function")O=function(){q(C)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ue=D.port2;D.port1.onmessage=C,O=function(){ue.postMessage(null)}}else O=function(){M(C,0)};function oe(K,ce){z=M(function(){K(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(K){switch(w){case 1:case 2:case 3:var ce=3;break;default:ce=w}var ge=w;w=ce;try{return K()}finally{w=ge}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(K,ce){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ge=w;w=K;try{return ce()}finally{w=ge}},t.unstable_scheduleCallback=function(K,ce,ge){var Re=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Re+ge:Re):ge=Re,K){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ge+F,K={id:x++,callback:ce,priorityLevel:K,startTime:ge,expirationTime:F,sortIndex:-1},ge>Re?(K.sortIndex=ge,e(p,K),n(m)===null&&K===n(p)&&(k?(P(z),z=-1):k=!0,oe(W,ge-Re))):(K.sortIndex=F,e(m,K),S||v||(S=!0,G||(G=!0,O()))),K},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(K){var ce=w;return function(){var ge=w;w=ce;try{return K.apply(this,arguments)}finally{w=ge}}}})(Kp)),Kp}var f1;function qA(){return f1||(f1=1,Qp.exports=BA()),Qp.exports}var m1;function HA(){if(m1)return Fc;m1=1;var t=qA(),e=UA(),n=FA();function r(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function u(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function h(s){if(s.tag===31){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function m(s){if(o(s)!==s)throw Error(r(188))}function p(s){var i=s.alternate;if(!i){if(i=o(s),i===null)throw Error(r(188));return i!==s?null:s}for(var l=s,d=i;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(d=g.return,d!==null){l=d;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return m(g),s;if(y===d)return m(g),i;y=y.sibling}throw Error(r(188))}if(l.return!==d.return)l=g,d=y;else{for(var E=!1,T=g.child;T;){if(T===l){E=!0,l=g,d=y;break}if(T===d){E=!0,d=g,l=y;break}T=T.sibling}if(!E){for(T=y.child;T;){if(T===l){E=!0,l=y,d=g;break}if(T===d){E=!0,d=y,l=g;break}T=T.sibling}if(!E)throw Error(r(189))}}if(l.alternate!==d)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:i}function x(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=x(s),i!==null)return i;s=s.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),q=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function O(s){return s===null||typeof s!="object"?null:(s=C&&s[C]||s["@@iterator"],typeof s=="function"?s:null)}var D=Symbol.for("react.client.reference");function ue(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===D?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case M:return"Profiler";case R:return"StrictMode";case W:return"Suspense";case G:return"SuspenseList";case L:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case q:return s.displayName||"Context";case P:return(s._context.displayName||"Context")+".Consumer";case te:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case z:return i=s.displayName||null,i!==null?i:ue(s.type)||"Memo";case I:i=s._payload,s=s._init;try{return ue(s(i))}catch{}}return null}var oe=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Re=[],F=-1;function Ze(s){return{current:s}}function Ve(s){0>F||(s.current=Re[F],Re[F]=null,F--)}function V(s,i){F++,Re[F]=s.current,s.current=i}var ke=Ze(null),st=Ze(null),Je=Ze(null),wt=Ze(null);function jt(s,i){switch(V(Je,i),V(st,s),V(ke,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?Mv(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=Mv(i),s=Pv(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Ve(ke),V(ke,s)}function Nt(){Ve(ke),Ve(st),Ve(Je)}function ns(s){s.memoizedState!==null&&V(wt,s);var i=ke.current,l=Pv(i,s.type);i!==l&&(V(st,s),V(ke,l))}function Es(s){st.current===s&&(Ve(ke),Ve(st)),wt.current===s&&(Ve(wt),Lc._currentValue=ge)}var ii,ai;function ss(s){if(ii===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);ii=i&&i[1]||"",ai=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ii+s+ai}var li=!1;function qs(s,i){if(!s||li)return"";li=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(ee){var J=ee}Reflect.construct(s,[],ae)}else{try{ae.call()}catch(ee){J=ee}s.call(ae.prototype)}}else{try{throw Error()}catch(ee){J=ee}(ae=s())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),E=y[0],T=y[1];if(E&&T){var B=E.split(`
`),X=T.split(`
`);for(g=d=0;d<B.length&&!B[d].includes("DetermineComponentFrameRoot");)d++;for(;g<X.length&&!X[g].includes("DetermineComponentFrameRoot");)g++;if(d===B.length||g===X.length)for(d=B.length-1,g=X.length-1;1<=d&&0<=g&&B[d]!==X[g];)g--;for(;1<=d&&0<=g;d--,g--)if(B[d]!==X[g]){if(d!==1||g!==1)do if(d--,g--,0>g||B[d]!==X[g]){var ne=`
`+B[d].replace(" at new "," at ");return s.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",s.displayName)),ne}while(1<=d&&0<=g);break}}}finally{li=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?ss(l):""}function oi(s,i){switch(s.tag){case 26:case 27:case 5:return ss(s.type);case 16:return ss("Lazy");case 13:return s.child!==i&&i!==null?ss("Suspense Fallback"):ss("Suspense");case 19:return ss("SuspenseList");case 0:case 15:return qs(s.type,!1);case 11:return qs(s.type.render,!1);case 1:return qs(s.type,!0);case 31:return ss("Activity");default:return""}}function ba(s){try{var i="",l=null;do i+=oi(s,l),l=s,s=s.return;while(s);return i}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var St=Object.prototype.hasOwnProperty,kt=t.unstable_scheduleCallback,Hs=t.unstable_cancelCallback,Fo=t.unstable_shouldYield,ml=t.unstable_requestPaint,ln=t.unstable_now,Nr=t.unstable_getCurrentPriorityLevel,se=t.unstable_ImmediatePriority,he=t.unstable_UserBlockingPriority,_e=t.unstable_NormalPriority,Le=t.unstable_LowPriority,et=t.unstable_IdlePriority,gn=t.log,rs=t.unstable_setDisableYieldValue,Dt=null,Tt=null;function tn(s){if(typeof gn=="function"&&rs(s),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(Dt,s)}catch{}}var Ye=Math.clz32?Math.clz32:Qu,Ns=Math.log,yn=Math.LN2;function Qu(s){return s>>>=0,s===0?32:31-(Ns(s)/yn|0)|0}var Gs=256,va=262144,zt=4194304;function $s(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ys(s,i,l){var d=s.pendingLanes;if(d===0)return 0;var g=0,y=s.suspendedLanes,E=s.pingedLanes;s=s.warmLanes;var T=d&134217727;return T!==0?(d=T&~y,d!==0?g=$s(d):(E&=T,E!==0?g=$s(E):l||(l=T&~s,l!==0&&(g=$s(l))))):(T=d&~y,T!==0?g=$s(T):E!==0?g=$s(E):l||(l=d&~s,l!==0&&(g=$s(l)))),g===0?0:i!==0&&i!==g&&(i&y)===0&&(y=g&-g,l=i&-i,y>=l||y===32&&(l&4194048)!==0)?i:g}function Ss(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function Wf(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ku(){var s=zt;return zt<<=1,(zt&62914560)===0&&(zt=4194304),s}function Qs(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function wa(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Jf(s,i,l,d,g,y){var E=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var T=s.entanglements,B=s.expirationTimes,X=s.hiddenUpdates;for(l=E&~l;0<l;){var ne=31-Ye(l),ae=1<<ne;T[ne]=0,B[ne]=-1;var J=X[ne];if(J!==null)for(X[ne]=null,ne=0;ne<J.length;ne++){var ee=J[ne];ee!==null&&(ee.lane&=-536870913)}l&=~ae}d!==0&&_a(s,d,0),y!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=y&~(E&~i))}function _a(s,i,l){s.pendingLanes|=i,s.suspendedLanes&=~i;var d=31-Ye(i);s.entangledLanes|=i,s.entanglements[d]=s.entanglements[d]|1073741824|l&261930}function Bo(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var d=31-Ye(l),g=1<<d;g&i|s[d]&i&&(s[d]|=i),l&=~g}}function qo(s,i){var l=i&-i;return l=(l&42)!==0?1:Ea(l),(l&(s.suspendedLanes|i))!==0?0:l}function Ea(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Sr(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Xu(){var s=ce.p;return s!==0?s:(s=window.event,s===void 0?32:i1(s.type))}function Ts(s,i){var l=ce.p;try{return ce.p=s,i()}finally{ce.p=l}}var As=Math.random().toString(36).slice(2),Ut="__reactFiber$"+As,nn="__reactProps$"+As,Ks="__reactContainer$"+As,pl="__reactEvents$"+As,Zf="__reactListeners$"+As,Wu="__reactHandles$"+As,Ju="__reactResources$"+As,Xs="__reactMarker$"+As;function gl(s){delete s[Ut],delete s[nn],delete s[pl],delete s[Zf],delete s[Wu]}function Ws(s){var i=s[Ut];if(i)return i;for(var l=s.parentNode;l;){if(i=l[Ks]||l[Ut]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=qv(s);s!==null;){if(l=s[Ut])return l;s=qv(s)}return i}s=l,l=s.parentNode}return null}function is(s){if(s=s[Ut]||s[Ks]){var i=s.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return s}return null}function Bn(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(r(33))}function Js(s){var i=s[Ju];return i||(i=s[Ju]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ft(s){s[Xs]=!0}var Ho=new Set,Go={};function Zs(s,i){er(s,i),er(s+"Capture",i)}function er(s,i){for(Go[s]=i,s=0;s<i.length;s++)Ho.add(i[s])}var $o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yo={},Qo={};function Zu(s){return St.call(Qo,s)?!0:St.call(Yo,s)?!1:$o.test(s)?Qo[s]=!0:(Yo[s]=!0,!1)}function yl(s,i,l){if(Zu(i))if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var d=i.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+l)}}function qn(s,i,l){if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+l)}}function Bt(s,i,l,d){if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(i,l,""+d)}}function sn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ci(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ko(s,i,l){var d=Object.getOwnPropertyDescriptor(s.constructor.prototype,i);if(!s.hasOwnProperty(i)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var g=d.get,y=d.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return g.call(this)},set:function(E){l=""+E,y.call(this,E)}}),Object.defineProperty(s,i,{enumerable:d.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function lt(s){if(!s._valueTracker){var i=ci(s)?"checked":"value";s._valueTracker=Ko(s,i,""+s[i])}}function Na(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return s&&(d=ci(s)?s.checked?"true":"false":s.value),s=d,s!==l?(i.setValue(s),!0):!1}function tr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Sa=/[\n"\\]/g;function In(s){return s.replace(Sa,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function xl(s,i,l,d,g,y,E,T){s.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.type=E:s.removeAttribute("type"),i!=null?E==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+sn(i)):s.value!==""+sn(i)&&(s.value=""+sn(i)):E!=="submit"&&E!=="reset"||s.removeAttribute("value"),i!=null?Xo(s,E,sn(i)):l!=null?Xo(s,E,sn(l)):d!=null&&s.removeAttribute("value"),g==null&&y!=null&&(s.defaultChecked=!!y),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.name=""+sn(T):s.removeAttribute("name")}function ed(s,i,l,d,g,y,E,T){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),i!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||i!=null)){lt(s);return}l=l!=null?""+sn(l):"",i=i!=null?""+sn(i):l,T||i===s.value||(s.value=i),s.defaultValue=i}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=T?s.checked:!!d,s.defaultChecked=!!d,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.name=E),lt(s)}function Xo(s,i,l){i==="number"&&tr(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ui(s,i,l,d){if(s=s.options,i){i={};for(var g=0;g<l.length;g++)i["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=i.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&d&&(s[l].defaultSelected=!0)}else{for(l=""+sn(l),i=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,d&&(s[g].defaultSelected=!0);return}i!==null||s[g].disabled||(i=s[g])}i!==null&&(i.selected=!0)}}function td(s,i,l){if(i!=null&&(i=""+sn(i),i!==s.value&&(s.value=i),l==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=l!=null?""+sn(l):""}function di(s,i,l,d){if(i==null){if(d!=null){if(l!=null)throw Error(r(92));if(oe(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),i=l}l=sn(i),s.defaultValue=l,d=s.textContent,d===l&&d!==""&&d!==null&&(s.value=d),lt(s)}function Rn(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var nd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wo(s,i,l){var d=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":d?s.setProperty(i,l):typeof l!="number"||l===0||nd.has(i)?i==="float"?s.cssFloat=l:s[i]=(""+l).trim():s[i]=l+"px"}function Jo(s,i,l){if(i!=null&&typeof i!="object")throw Error(r(62));if(s=s.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||i!=null&&i.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var g in i)d=i[g],i.hasOwnProperty(g)&&l[g]!==d&&Wo(s,g,d)}else for(var y in i)i.hasOwnProperty(y)&&Wo(s,y,i[y])}function bl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vl(s){return hi.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Cs(){}var Zo=null;function as(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var fi=null,nr=null;function Ta(s){var i=is(s);if(i&&(s=i.stateNode)){var l=s[nn]||null;e:switch(s=i.stateNode,i.type){case"input":if(xl(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+In(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==s&&d.form===s.form){var g=d[nn]||null;if(!g)throw Error(r(90));xl(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<l.length;i++)d=l[i],d.form===s.form&&Na(d)}break e;case"textarea":td(s,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ui(s,!!l.multiple,i,!1)}}}var wl=!1;function mi(s,i,l){if(wl)return s(i,l);wl=!0;try{var d=s(i);return d}finally{if(wl=!1,(fi!==null||nr!==null)&&(Xd(),fi&&(i=fi,s=nr,nr=fi=null,Ta(i),s)))for(i=0;i<s.length;i++)Ta(s[i])}}function js(s,i){var l=s.stateNode;if(l===null)return null;var d=l[nn]||null;if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Aa=!1;if(ls)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){Aa=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Aa=!1}var sr=null,ec=null,Ca=null;function tc(){if(Ca)return Ca;var s,i=ec,l=i.length,d,g="value"in sr?sr.value:sr.textContent,y=g.length;for(s=0;s<l&&i[s]===g[s];s++);var E=l-s;for(d=1;d<=E&&i[l-d]===g[y-d];d++);return Ca=g.slice(s,1<d?1-d:void 0)}function ja(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Tr(){return!0}function ks(){return!1}function on(s){function i(l,d,g,y,E){this._reactName=l,this._targetInst=g,this.type=d,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var T in s)s.hasOwnProperty(T)&&(l=s[T],this[T]=l?l(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Tr:ks,this.isPropagationStopped=ks,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Tr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Tr)},persist:function(){},isPersistent:Tr}),i}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rr=on(Ar),pi=b({},Ar,{view:0,detail:0}),nc=on(pi),gi,_l,ir,El=b({},pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ir&&(ir&&s.type==="mousemove"?(gi=s.screenX-ir.screenX,_l=s.screenY-ir.screenY):_l=gi=0,ir=s),gi)},movementY:function(s){return"movementY"in s?s.movementY:_l}}),sc=on(El),ka=b({},El,{dataTransfer:0}),rd=on(ka),id=b({},pi,{relatedTarget:0}),Ia=on(id),rc=b({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),ad=on(rc),Nl=b({},Ar,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ld=on(Nl),od=b({},Ar,{data:0}),ar=on(od),cd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ud={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hd(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=dd[s])?!!i[s]:!1}function yi(){return hd}var Tn=b({},pi,{key:function(s){if(s.key){var i=cd[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=ja(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ud[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yi,charCode:function(s){return s.type==="keypress"?ja(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ja(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),fd=on(Tn),md=b({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cr=on(md),f=b({},pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yi}),_=on(f),N=b({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),j=on(N),Y=b({},El,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=on(Y),fe=b({},Ar,{newState:0,oldState:0}),De=on(fe),Ot=[9,13,27,32],rt=ls&&"CompositionEvent"in window,_t=null;ls&&"documentMode"in document&&(_t=document.documentMode);var os=ls&&"TextEvent"in window&&!_t,lr=ls&&(!rt||_t&&8<_t&&11>=_t),Is=" ",Rs=!1;function Ra(s,i){switch(s){case"keyup":return Ot.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sl(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Tl=!1;function uT(s,i){switch(s){case"compositionend":return Sl(i);case"keypress":return i.which!==32?null:(Rs=!0,Is);case"textInput":return s=i.data,s===Is&&Rs?null:s;default:return null}}function dT(s,i){if(Tl)return s==="compositionend"||!rt&&Ra(s,i)?(s=tc(),Ca=ec=sr=null,Tl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return lr&&i.locale!=="ko"?null:i.data;default:return null}}var hT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $y(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!hT[s.type]:i==="textarea"}function Yy(s,i,l,d){fi?nr?nr.push(d):nr=[d]:fi=d,i=sh(i,"onChange"),0<i.length&&(l=new rr("onChange","change",null,l,d),s.push({event:l,listeners:i}))}var ic=null,ac=null;function fT(s){jv(s,0)}function pd(s){var i=Bn(s);if(Na(i))return s}function Qy(s,i){if(s==="change")return i}var Ky=!1;if(ls){var em;if(ls){var tm="oninput"in document;if(!tm){var Xy=document.createElement("div");Xy.setAttribute("oninput","return;"),tm=typeof Xy.oninput=="function"}em=tm}else em=!1;Ky=em&&(!document.documentMode||9<document.documentMode)}function Wy(){ic&&(ic.detachEvent("onpropertychange",Jy),ac=ic=null)}function Jy(s){if(s.propertyName==="value"&&pd(ac)){var i=[];Yy(i,ac,s,as(s)),mi(fT,i)}}function mT(s,i,l){s==="focusin"?(Wy(),ic=i,ac=l,ic.attachEvent("onpropertychange",Jy)):s==="focusout"&&Wy()}function pT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return pd(ac)}function gT(s,i){if(s==="click")return pd(i)}function yT(s,i){if(s==="input"||s==="change")return pd(i)}function xT(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Hn=typeof Object.is=="function"?Object.is:xT;function lc(s,i){if(Hn(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var g=l[d];if(!St.call(i,g)||!Hn(s[g],i[g]))return!1}return!0}function Zy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ex(s,i){var l=Zy(s);s=0;for(var d;l;){if(l.nodeType===3){if(d=s+l.textContent.length,s<=i&&d>=i)return{node:l,offset:i-s};s=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Zy(l)}}function tx(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?tx(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function nx(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=tr(s.document);i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=tr(s.document)}return i}function nm(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var bT=ls&&"documentMode"in document&&11>=document.documentMode,Al=null,sm=null,oc=null,rm=!1;function sx(s,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;rm||Al==null||Al!==tr(d)||(d=Al,"selectionStart"in d&&nm(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),oc&&lc(oc,d)||(oc=d,d=sh(sm,"onSelect"),0<d.length&&(i=new rr("onSelect","select",null,i,l),s.push({event:i,listeners:d}),i.target=Al)))}function Da(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var Cl={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionrun:Da("Transition","TransitionRun"),transitionstart:Da("Transition","TransitionStart"),transitioncancel:Da("Transition","TransitionCancel"),transitionend:Da("Transition","TransitionEnd")},im={},rx={};ls&&(rx=document.createElement("div").style,"AnimationEvent"in window||(delete Cl.animationend.animation,delete Cl.animationiteration.animation,delete Cl.animationstart.animation),"TransitionEvent"in window||delete Cl.transitionend.transition);function Oa(s){if(im[s])return im[s];if(!Cl[s])return s;var i=Cl[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in rx)return im[s]=i[l];return s}var ix=Oa("animationend"),ax=Oa("animationiteration"),lx=Oa("animationstart"),vT=Oa("transitionrun"),wT=Oa("transitionstart"),_T=Oa("transitioncancel"),ox=Oa("transitionend"),cx=new Map,am="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");am.push("scrollEnd");function Ds(s,i){cx.set(s,i),Zs(i,[s])}var gd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},cs=[],jl=0,lm=0;function yd(){for(var s=jl,i=lm=jl=0;i<s;){var l=cs[i];cs[i++]=null;var d=cs[i];cs[i++]=null;var g=cs[i];cs[i++]=null;var y=cs[i];if(cs[i++]=null,d!==null&&g!==null){var E=d.pending;E===null?g.next=g:(g.next=E.next,E.next=g),d.pending=g}y!==0&&ux(l,g,y)}}function xd(s,i,l,d){cs[jl++]=s,cs[jl++]=i,cs[jl++]=l,cs[jl++]=d,lm|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function om(s,i,l,d){return xd(s,i,l,d),bd(s)}function Ma(s,i){return xd(s,null,null,i),bd(s)}function ux(s,i,l){s.lanes|=l;var d=s.alternate;d!==null&&(d.lanes|=l);for(var g=!1,y=s.return;y!==null;)y.childLanes|=l,d=y.alternate,d!==null&&(d.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(g=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,g&&i!==null&&(g=31-Ye(l),s=y.hiddenUpdates,d=s[g],d===null?s[g]=[i]:d.push(i),i.lane=l|536870912),y):null}function bd(s){if(50<kc)throw kc=0,yp=null,Error(r(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var kl={};function ET(s,i,l,d){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(s,i,l,d){return new ET(s,i,l,d)}function cm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function jr(s,i){var l=s.alternate;return l===null?(l=Gn(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function dx(s,i){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,i=l.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function vd(s,i,l,d,g,y){var E=0;if(d=s,typeof s=="function")cm(s)&&(E=1);else if(typeof s=="string")E=CA(s,l,ke.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case L:return s=Gn(31,l,i,g),s.elementType=L,s.lanes=y,s;case k:return Pa(l.children,g,y,i);case R:E=8,g|=24;break;case M:return s=Gn(12,l,i,g|2),s.elementType=M,s.lanes=y,s;case W:return s=Gn(13,l,i,g),s.elementType=W,s.lanes=y,s;case G:return s=Gn(19,l,i,g),s.elementType=G,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case q:E=10;break e;case P:E=9;break e;case te:E=11;break e;case z:E=14;break e;case I:E=16,d=null;break e}E=29,l=Error(r(130,s===null?"null":typeof s,"")),d=null}return i=Gn(E,l,i,g),i.elementType=s,i.type=d,i.lanes=y,i}function Pa(s,i,l,d){return s=Gn(7,s,d,i),s.lanes=l,s}function um(s,i,l){return s=Gn(6,s,null,i),s.lanes=l,s}function hx(s){var i=Gn(18,null,null,0);return i.stateNode=s,i}function dm(s,i,l){return i=Gn(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var fx=new WeakMap;function us(s,i){if(typeof s=="object"&&s!==null){var l=fx.get(s);return l!==void 0?l:(i={value:s,source:i,stack:ba(i)},fx.set(s,i),i)}return{value:s,source:i,stack:ba(i)}}var Il=[],Rl=0,wd=null,cc=0,ds=[],hs=0,xi=null,or=1,cr="";function kr(s,i){Il[Rl++]=cc,Il[Rl++]=wd,wd=s,cc=i}function mx(s,i,l){ds[hs++]=or,ds[hs++]=cr,ds[hs++]=xi,xi=s;var d=or;s=cr;var g=32-Ye(d)-1;d&=~(1<<g),l+=1;var y=32-Ye(i)+g;if(30<y){var E=g-g%5;y=(d&(1<<E)-1).toString(32),d>>=E,g-=E,or=1<<32-Ye(i)+g|l<<g|d,cr=y+s}else or=1<<y|l<<g|d,cr=s}function hm(s){s.return!==null&&(kr(s,1),mx(s,1,0))}function fm(s){for(;s===wd;)wd=Il[--Rl],Il[Rl]=null,cc=Il[--Rl],Il[Rl]=null;for(;s===xi;)xi=ds[--hs],ds[hs]=null,cr=ds[--hs],ds[hs]=null,or=ds[--hs],ds[hs]=null}function px(s,i){ds[hs++]=or,ds[hs++]=cr,ds[hs++]=xi,or=i.id,cr=i.overflow,xi=s}var cn=null,xt=null,Qe=!1,bi=null,fs=!1,mm=Error(r(519));function vi(s){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw uc(us(i,s)),mm}function gx(s){var i=s.stateNode,l=s.type,d=s.memoizedProps;switch(i[Ut]=s,i[nn]=d,l){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(l=0;l<Rc.length;l++)Ue(Rc[l],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Ue("invalid",i),ed(i,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Ue("invalid",i);break;case"textarea":Ue("invalid",i),di(i,d.value,d.defaultValue,d.children)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||d.suppressHydrationWarning===!0||Dv(i.textContent,l)?(d.popover!=null&&(Ue("beforetoggle",i),Ue("toggle",i)),d.onScroll!=null&&Ue("scroll",i),d.onScrollEnd!=null&&Ue("scrollend",i),d.onClick!=null&&(i.onclick=Cs),i=!0):i=!1,i||vi(s,!0)}function yx(s){for(cn=s.return;cn;)switch(cn.tag){case 5:case 31:case 13:fs=!1;return;case 27:case 3:fs=!0;return;default:cn=cn.return}}function Dl(s){if(s!==cn)return!1;if(!Qe)return yx(s),Qe=!0,!1;var i=s.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Rp(s.type,s.memoizedProps)),l=!l),l&&xt&&vi(s),yx(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));xt=Bv(s)}else if(i===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));xt=Bv(s)}else i===27?(i=xt,Oi(s.type)?(s=Lp,Lp=null,xt=s):xt=i):xt=cn?ps(s.stateNode.nextSibling):null;return!0}function La(){xt=cn=null,Qe=!1}function pm(){var s=bi;return s!==null&&(Pn===null?Pn=s:Pn.push.apply(Pn,s),bi=null),s}function uc(s){bi===null?bi=[s]:bi.push(s)}var gm=Ze(null),Va=null,Ir=null;function wi(s,i,l){V(gm,i._currentValue),i._currentValue=l}function Rr(s){s._currentValue=gm.current,Ve(gm)}function ym(s,i,l){for(;s!==null;){var d=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),s===l)break;s=s.return}}function xm(s,i,l,d){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var y=g.dependencies;if(y!==null){var E=g.child;y=y.firstContext;e:for(;y!==null;){var T=y;y=g;for(var B=0;B<i.length;B++)if(T.context===i[B]){y.lanes|=l,T=y.alternate,T!==null&&(T.lanes|=l),ym(y.return,l,s),d||(E=null);break e}y=T.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(r(341));E.lanes|=l,y=E.alternate,y!==null&&(y.lanes|=l),ym(E,l,s),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function Ol(s,i,l,d){s=null;for(var g=i,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var T=g.type;Hn(g.pendingProps.value,E.value)||(s!==null?s.push(T):s=[T])}}else if(g===wt.current){if(E=g.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(Lc):s=[Lc])}g=g.return}s!==null&&xm(i,s,l,d),i.flags|=262144}function _d(s){for(s=s.firstContext;s!==null;){if(!Hn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function za(s){Va=s,Ir=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function un(s){return xx(Va,s)}function Ed(s,i){return Va===null&&za(s),xx(s,i)}function xx(s,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Ir===null){if(s===null)throw Error(r(308));Ir=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else Ir=Ir.next=i;return l}var NT=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(l,d){s.push(d)}};this.abort=function(){i.aborted=!0,s.forEach(function(l){return l()})}},ST=t.unstable_scheduleCallback,TT=t.unstable_NormalPriority,qt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bm(){return{controller:new NT,data:new Map,refCount:0}}function dc(s){s.refCount--,s.refCount===0&&ST(TT,function(){s.controller.abort()})}var hc=null,vm=0,Ml=0,Pl=null;function AT(s,i){if(hc===null){var l=hc=[];vm=0,Ml=Ep(),Pl={status:"pending",value:void 0,then:function(d){l.push(d)}}}return vm++,i.then(bx,bx),i}function bx(){if(--vm===0&&hc!==null){Pl!==null&&(Pl.status="fulfilled");var s=hc;hc=null,Ml=0,Pl=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function CT(s,i){var l=[],d={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){d.status="fulfilled",d.value=i;for(var g=0;g<l.length;g++)(0,l[g])(i)},function(g){for(d.status="rejected",d.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),d}var vx=K.S;K.S=function(s,i){sv=ln(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&AT(s,i),vx!==null&&vx(s,i)};var Ua=Ze(null);function wm(){var s=Ua.current;return s!==null?s:mt.pooledCache}function Nd(s,i){i===null?V(Ua,Ua.current):V(Ua,i.pool)}function wx(){var s=wm();return s===null?null:{parent:qt._currentValue,pool:s}}var Ll=Error(r(460)),_m=Error(r(474)),Sd=Error(r(542)),Td={then:function(){}};function _x(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Ex(s,i,l){switch(l=s[l],l===void 0?s.push(i):l!==i&&(i.then(Cs,Cs),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Sx(s),s;default:if(typeof i.status=="string")i.then(Cs,Cs);else{if(s=mt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=i,s.status="pending",s.then(function(d){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=d}},function(d){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=d}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Sx(s),s}throw Ba=i,Ll}}function Fa(s){try{var i=s._init;return i(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ba=l,Ll):l}}var Ba=null;function Nx(){if(Ba===null)throw Error(r(459));var s=Ba;return Ba=null,s}function Sx(s){if(s===Ll||s===Sd)throw Error(r(483))}var Vl=null,fc=0;function Ad(s){var i=fc;return fc+=1,Vl===null&&(Vl=[]),Ex(Vl,s,i)}function mc(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function Cd(s,i){throw i.$$typeof===w?Error(r(525)):(s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function Tx(s){function i($,H){if(s){var Q=$.deletions;Q===null?($.deletions=[H],$.flags|=16):Q.push(H)}}function l($,H){if(!s)return null;for(;H!==null;)i($,H),H=H.sibling;return null}function d($){for(var H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function g($,H){return $=jr($,H),$.index=0,$.sibling=null,$}function y($,H,Q){return $.index=Q,s?(Q=$.alternate,Q!==null?(Q=Q.index,Q<H?($.flags|=67108866,H):Q):($.flags|=67108866,H)):($.flags|=1048576,H)}function E($){return s&&$.alternate===null&&($.flags|=67108866),$}function T($,H,Q,re){return H===null||H.tag!==6?(H=um(Q,$.mode,re),H.return=$,H):(H=g(H,Q),H.return=$,H)}function B($,H,Q,re){var ve=Q.type;return ve===k?ne($,H,Q.props.children,re,Q.key):H!==null&&(H.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===I&&Fa(ve)===H.type)?(H=g(H,Q.props),mc(H,Q),H.return=$,H):(H=vd(Q.type,Q.key,Q.props,null,$.mode,re),mc(H,Q),H.return=$,H)}function X($,H,Q,re){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=dm(Q,$.mode,re),H.return=$,H):(H=g(H,Q.children||[]),H.return=$,H)}function ne($,H,Q,re,ve){return H===null||H.tag!==7?(H=Pa(Q,$.mode,re,ve),H.return=$,H):(H=g(H,Q),H.return=$,H)}function ae($,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=um(""+H,$.mode,Q),H.return=$,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case v:return Q=vd(H.type,H.key,H.props,null,$.mode,Q),mc(Q,H),Q.return=$,Q;case S:return H=dm(H,$.mode,Q),H.return=$,H;case I:return H=Fa(H),ae($,H,Q)}if(oe(H)||O(H))return H=Pa(H,$.mode,Q,null),H.return=$,H;if(typeof H.then=="function")return ae($,Ad(H),Q);if(H.$$typeof===q)return ae($,Ed($,H),Q);Cd($,H)}return null}function J($,H,Q,re){var ve=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return ve!==null?null:T($,H,""+Q,re);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:return Q.key===ve?B($,H,Q,re):null;case S:return Q.key===ve?X($,H,Q,re):null;case I:return Q=Fa(Q),J($,H,Q,re)}if(oe(Q)||O(Q))return ve!==null?null:ne($,H,Q,re,null);if(typeof Q.then=="function")return J($,H,Ad(Q),re);if(Q.$$typeof===q)return J($,H,Ed($,Q),re);Cd($,Q)}return null}function ee($,H,Q,re,ve){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return $=$.get(Q)||null,T(H,$,""+re,ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case v:return $=$.get(re.key===null?Q:re.key)||null,B(H,$,re,ve);case S:return $=$.get(re.key===null?Q:re.key)||null,X(H,$,re,ve);case I:return re=Fa(re),ee($,H,Q,re,ve)}if(oe(re)||O(re))return $=$.get(Q)||null,ne(H,$,re,ve,null);if(typeof re.then=="function")return ee($,H,Q,Ad(re),ve);if(re.$$typeof===q)return ee($,H,Q,Ed(H,re),ve);Cd(H,re)}return null}function xe($,H,Q,re){for(var ve=null,tt=null,be=H,Me=H=0,qe=null;be!==null&&Me<Q.length;Me++){be.index>Me?(qe=be,be=null):qe=be.sibling;var nt=J($,be,Q[Me],re);if(nt===null){be===null&&(be=qe);break}s&&be&&nt.alternate===null&&i($,be),H=y(nt,H,Me),tt===null?ve=nt:tt.sibling=nt,tt=nt,be=qe}if(Me===Q.length)return l($,be),Qe&&kr($,Me),ve;if(be===null){for(;Me<Q.length;Me++)be=ae($,Q[Me],re),be!==null&&(H=y(be,H,Me),tt===null?ve=be:tt.sibling=be,tt=be);return Qe&&kr($,Me),ve}for(be=d(be);Me<Q.length;Me++)qe=ee(be,$,Me,Q[Me],re),qe!==null&&(s&&qe.alternate!==null&&be.delete(qe.key===null?Me:qe.key),H=y(qe,H,Me),tt===null?ve=qe:tt.sibling=qe,tt=qe);return s&&be.forEach(function(zi){return i($,zi)}),Qe&&kr($,Me),ve}function Ne($,H,Q,re){if(Q==null)throw Error(r(151));for(var ve=null,tt=null,be=H,Me=H=0,qe=null,nt=Q.next();be!==null&&!nt.done;Me++,nt=Q.next()){be.index>Me?(qe=be,be=null):qe=be.sibling;var zi=J($,be,nt.value,re);if(zi===null){be===null&&(be=qe);break}s&&be&&zi.alternate===null&&i($,be),H=y(zi,H,Me),tt===null?ve=zi:tt.sibling=zi,tt=zi,be=qe}if(nt.done)return l($,be),Qe&&kr($,Me),ve;if(be===null){for(;!nt.done;Me++,nt=Q.next())nt=ae($,nt.value,re),nt!==null&&(H=y(nt,H,Me),tt===null?ve=nt:tt.sibling=nt,tt=nt);return Qe&&kr($,Me),ve}for(be=d(be);!nt.done;Me++,nt=Q.next())nt=ee(be,$,Me,nt.value,re),nt!==null&&(s&&nt.alternate!==null&&be.delete(nt.key===null?Me:nt.key),H=y(nt,H,Me),tt===null?ve=nt:tt.sibling=nt,tt=nt);return s&&be.forEach(function(zA){return i($,zA)}),Qe&&kr($,Me),ve}function ft($,H,Q,re){if(typeof Q=="object"&&Q!==null&&Q.type===k&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:e:{for(var ve=Q.key;H!==null;){if(H.key===ve){if(ve=Q.type,ve===k){if(H.tag===7){l($,H.sibling),re=g(H,Q.props.children),re.return=$,$=re;break e}}else if(H.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===I&&Fa(ve)===H.type){l($,H.sibling),re=g(H,Q.props),mc(re,Q),re.return=$,$=re;break e}l($,H);break}else i($,H);H=H.sibling}Q.type===k?(re=Pa(Q.props.children,$.mode,re,Q.key),re.return=$,$=re):(re=vd(Q.type,Q.key,Q.props,null,$.mode,re),mc(re,Q),re.return=$,$=re)}return E($);case S:e:{for(ve=Q.key;H!==null;){if(H.key===ve)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){l($,H.sibling),re=g(H,Q.children||[]),re.return=$,$=re;break e}else{l($,H);break}else i($,H);H=H.sibling}re=dm(Q,$.mode,re),re.return=$,$=re}return E($);case I:return Q=Fa(Q),ft($,H,Q,re)}if(oe(Q))return xe($,H,Q,re);if(O(Q)){if(ve=O(Q),typeof ve!="function")throw Error(r(150));return Q=ve.call(Q),Ne($,H,Q,re)}if(typeof Q.then=="function")return ft($,H,Ad(Q),re);if(Q.$$typeof===q)return ft($,H,Ed($,Q),re);Cd($,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,H!==null&&H.tag===6?(l($,H.sibling),re=g(H,Q),re.return=$,$=re):(l($,H),re=um(Q,$.mode,re),re.return=$,$=re),E($)):l($,H)}return function($,H,Q,re){try{fc=0;var ve=ft($,H,Q,re);return Vl=null,ve}catch(be){if(be===Ll||be===Sd)throw be;var tt=Gn(29,be,null,$.mode);return tt.lanes=re,tt.return=$,tt}finally{}}}var qa=Tx(!0),Ax=Tx(!1),_i=!1;function Em(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nm(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ei(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ni(s,i,l){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(it&2)!==0){var g=d.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),d.pending=i,i=bd(s),ux(s,null,l),i}return xd(s,d,i,l),bd(s)}function pc(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var d=i.lanes;d&=s.pendingLanes,l|=d,i.lanes=l,Bo(s,l)}}function Sm(s,i){var l=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?g=y=i:y=y.next=i}else g=y=i;l={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}var Tm=!1;function gc(){if(Tm){var s=Pl;if(s!==null)throw s}}function yc(s,i,l,d){Tm=!1;var g=s.updateQueue;_i=!1;var y=g.firstBaseUpdate,E=g.lastBaseUpdate,T=g.shared.pending;if(T!==null){g.shared.pending=null;var B=T,X=B.next;B.next=null,E===null?y=X:E.next=X,E=B;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,T=ne.lastBaseUpdate,T!==E&&(T===null?ne.firstBaseUpdate=X:T.next=X,ne.lastBaseUpdate=B))}if(y!==null){var ae=g.baseState;E=0,ne=X=B=null,T=y;do{var J=T.lane&-536870913,ee=J!==T.lane;if(ee?(Be&J)===J:(d&J)===J){J!==0&&J===Ml&&(Tm=!0),ne!==null&&(ne=ne.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var xe=s,Ne=T;J=i;var ft=l;switch(Ne.tag){case 1:if(xe=Ne.payload,typeof xe=="function"){ae=xe.call(ft,ae,J);break e}ae=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Ne.payload,J=typeof xe=="function"?xe.call(ft,ae,J):xe,J==null)break e;ae=b({},ae,J);break e;case 2:_i=!0}}J=T.callback,J!==null&&(s.flags|=64,ee&&(s.flags|=8192),ee=g.callbacks,ee===null?g.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ne===null?(X=ne=ee,B=ae):ne=ne.next=ee,E|=J;if(T=T.next,T===null){if(T=g.shared.pending,T===null)break;ee=T,T=ee.next,ee.next=null,g.lastBaseUpdate=ee,g.shared.pending=null}}while(!0);ne===null&&(B=ae),g.baseState=B,g.firstBaseUpdate=X,g.lastBaseUpdate=ne,y===null&&(g.shared.lanes=0),ji|=E,s.lanes=E,s.memoizedState=ae}}function Cx(s,i){if(typeof s!="function")throw Error(r(191,s));s.call(i)}function jx(s,i){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Cx(l[s],i)}var zl=Ze(null),jd=Ze(0);function kx(s,i){s=Fr,V(jd,s),V(zl,i),Fr=s|i.baseLanes}function Am(){V(jd,Fr),V(zl,zl.current)}function Cm(){Fr=jd.current,Ve(zl),Ve(jd)}var $n=Ze(null),ms=null;function Si(s){var i=s.alternate;V(Mt,Mt.current&1),V($n,s),ms===null&&(i===null||zl.current!==null||i.memoizedState!==null)&&(ms=s)}function jm(s){V(Mt,Mt.current),V($n,s),ms===null&&(ms=s)}function Ix(s){s.tag===22?(V(Mt,Mt.current),V($n,s),ms===null&&(ms=s)):Ti()}function Ti(){V(Mt,Mt.current),V($n,$n.current)}function Yn(s){Ve($n),ms===s&&(ms=null),Ve(Mt)}var Mt=Ze(0);function kd(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Mp(l)||Pp(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Dr=0,Oe=null,dt=null,Ht=null,Id=!1,Ul=!1,Ha=!1,Rd=0,xc=0,Fl=null,jT=0;function It(){throw Error(r(321))}function km(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!Hn(s[l],i[l]))return!1;return!0}function Im(s,i,l,d,g,y){return Dr=y,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=s===null||s.memoizedState===null?mb:$m,Ha=!1,y=l(d,g),Ha=!1,Ul&&(y=Dx(i,l,d,g)),Rx(s),y}function Rx(s){K.H=wc;var i=dt!==null&&dt.next!==null;if(Dr=0,Ht=dt=Oe=null,Id=!1,xc=0,Fl=null,i)throw Error(r(300));s===null||Gt||(s=s.dependencies,s!==null&&_d(s)&&(Gt=!0))}function Dx(s,i,l,d){Oe=s;var g=0;do{if(Ul&&(Fl=null),xc=0,Ul=!1,25<=g)throw Error(r(301));if(g+=1,Ht=dt=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}K.H=pb,y=i(l,d)}while(Ul);return y}function kT(){var s=K.H,i=s.useState()[0];return i=typeof i.then=="function"?bc(i):i,s=s.useState()[0],(dt!==null?dt.memoizedState:null)!==s&&(Oe.flags|=1024),i}function Rm(){var s=Rd!==0;return Rd=0,s}function Dm(s,i,l){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~l}function Om(s){if(Id){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Id=!1}Dr=0,Ht=dt=Oe=null,Ul=!1,xc=Rd=0,Fl=null}function An(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Oe.memoizedState=Ht=s:Ht=Ht.next=s,Ht}function Pt(){if(dt===null){var s=Oe.alternate;s=s!==null?s.memoizedState:null}else s=dt.next;var i=Ht===null?Oe.memoizedState:Ht.next;if(i!==null)Ht=i,dt=s;else{if(s===null)throw Oe.alternate===null?Error(r(467)):Error(r(310));dt=s,s={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Ht===null?Oe.memoizedState=Ht=s:Ht=Ht.next=s}return Ht}function Dd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bc(s){var i=xc;return xc+=1,Fl===null&&(Fl=[]),s=Ex(Fl,s,i),i=Oe,(Ht===null?i.memoizedState:Ht.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?mb:$m),s}function Od(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return bc(s);if(s.$$typeof===q)return un(s)}throw Error(r(438,String(s)))}function Mm(s){var i=null,l=Oe.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var d=Oe.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(i={data:d.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Dd(),Oe.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(s),d=0;d<s;d++)l[d]=A;return i.index++,l}function Or(s,i){return typeof i=="function"?i(s):i}function Md(s){var i=Pt();return Pm(i,dt,s)}function Pm(s,i,l){var d=s.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=l;var g=s.baseQueue,y=d.pending;if(y!==null){if(g!==null){var E=g.next;g.next=y.next,y.next=E}i.baseQueue=g=y,d.pending=null}if(y=s.baseState,g===null)s.memoizedState=y;else{i=g.next;var T=E=null,B=null,X=i,ne=!1;do{var ae=X.lane&-536870913;if(ae!==X.lane?(Be&ae)===ae:(Dr&ae)===ae){var J=X.revertLane;if(J===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ae===Ml&&(ne=!0);else if((Dr&J)===J){X=X.next,J===Ml&&(ne=!0);continue}else ae={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},B===null?(T=B=ae,E=y):B=B.next=ae,Oe.lanes|=J,ji|=J;ae=X.action,Ha&&l(y,ae),y=X.hasEagerState?X.eagerState:l(y,ae)}else J={lane:ae,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},B===null?(T=B=J,E=y):B=B.next=J,Oe.lanes|=ae,ji|=ae;X=X.next}while(X!==null&&X!==i);if(B===null?E=y:B.next=T,!Hn(y,s.memoizedState)&&(Gt=!0,ne&&(l=Pl,l!==null)))throw l;s.memoizedState=y,s.baseState=E,s.baseQueue=B,d.lastRenderedState=y}return g===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function Lm(s){var i=Pt(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var d=l.dispatch,g=l.pending,y=i.memoizedState;if(g!==null){l.pending=null;var E=g=g.next;do y=s(y,E.action),E=E.next;while(E!==g);Hn(y,i.memoizedState)||(Gt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,d]}function Ox(s,i,l){var d=Oe,g=Pt(),y=Qe;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=i();var E=!Hn((dt||g).memoizedState,l);if(E&&(g.memoizedState=l,Gt=!0),g=g.queue,Um(Lx.bind(null,d,g,s),[s]),g.getSnapshot!==i||E||Ht!==null&&Ht.memoizedState.tag&1){if(d.flags|=2048,Bl(9,{destroy:void 0},Px.bind(null,d,g,l,i),null),mt===null)throw Error(r(349));y||(Dr&127)!==0||Mx(d,i,l)}return l}function Mx(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=Oe.updateQueue,i===null?(i=Dd(),Oe.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function Px(s,i,l,d){i.value=l,i.getSnapshot=d,Vx(i)&&zx(s)}function Lx(s,i,l){return l(function(){Vx(i)&&zx(s)})}function Vx(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!Hn(s,l)}catch{return!0}}function zx(s){var i=Ma(s,2);i!==null&&Ln(i,s,2)}function Vm(s){var i=An();if(typeof s=="function"){var l=s;if(s=l(),Ha){tn(!0);try{l()}finally{tn(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:s},i}function Ux(s,i,l,d){return s.baseState=l,Pm(s,dt,typeof d=="function"?d:Or)}function IT(s,i,l,d,g){if(Vd(s))throw Error(r(485));if(s=i.action,s!==null){var y={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};K.T!==null?l(!0):y.isTransition=!1,d(y),l=i.pending,l===null?(y.next=i.pending=y,Fx(i,y)):(y.next=l.next,i.pending=l.next=y)}}function Fx(s,i){var l=i.action,d=i.payload,g=s.state;if(i.isTransition){var y=K.T,E={};K.T=E;try{var T=l(g,d),B=K.S;B!==null&&B(E,T),Bx(s,i,T)}catch(X){zm(s,i,X)}finally{y!==null&&E.types!==null&&(y.types=E.types),K.T=y}}else try{y=l(g,d),Bx(s,i,y)}catch(X){zm(s,i,X)}}function Bx(s,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){qx(s,i,d)},function(d){return zm(s,i,d)}):qx(s,i,l)}function qx(s,i,l){i.status="fulfilled",i.value=l,Hx(i),s.state=l,i=s.pending,i!==null&&(l=i.next,l===i?s.pending=null:(l=l.next,i.next=l,Fx(s,l)))}function zm(s,i,l){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do i.status="rejected",i.reason=l,Hx(i),i=i.next;while(i!==d)}s.action=null}function Hx(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function Gx(s,i){return i}function $x(s,i){if(Qe){var l=mt.formState;if(l!==null){e:{var d=Oe;if(Qe){if(xt){t:{for(var g=xt,y=fs;g.nodeType!==8;){if(!y){g=null;break t}if(g=ps(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){xt=ps(g.nextSibling),d=g.data==="F!";break e}}vi(d)}d=!1}d&&(i=l[0])}}return l=An(),l.memoizedState=l.baseState=i,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gx,lastRenderedState:i},l.queue=d,l=db.bind(null,Oe,d),d.dispatch=l,d=Vm(!1),y=Gm.bind(null,Oe,!1,d.queue),d=An(),g={state:i,dispatch:null,action:s,pending:null},d.queue=g,l=IT.bind(null,Oe,g,y,l),g.dispatch=l,d.memoizedState=s,[i,l,!1]}function Yx(s){var i=Pt();return Qx(i,dt,s)}function Qx(s,i,l){if(i=Pm(s,i,Gx)[0],s=Md(Or)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var d=bc(i)}catch(E){throw E===Ll?Sd:E}else d=i;i=Pt();var g=i.queue,y=g.dispatch;return l!==i.memoizedState&&(Oe.flags|=2048,Bl(9,{destroy:void 0},RT.bind(null,g,l),null)),[d,y,s]}function RT(s,i){s.action=i}function Kx(s){var i=Pt(),l=dt;if(l!==null)return Qx(i,l,s);Pt(),i=i.memoizedState,l=Pt();var d=l.queue.dispatch;return l.memoizedState=s,[i,d,!1]}function Bl(s,i,l,d){return s={tag:s,create:l,deps:d,inst:i,next:null},i=Oe.updateQueue,i===null&&(i=Dd(),Oe.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=s.next=s:(d=l.next,l.next=s,s.next=d,i.lastEffect=s),s}function Xx(){return Pt().memoizedState}function Pd(s,i,l,d){var g=An();Oe.flags|=s,g.memoizedState=Bl(1|i,{destroy:void 0},l,d===void 0?null:d)}function Ld(s,i,l,d){var g=Pt();d=d===void 0?null:d;var y=g.memoizedState.inst;dt!==null&&d!==null&&km(d,dt.memoizedState.deps)?g.memoizedState=Bl(i,y,l,d):(Oe.flags|=s,g.memoizedState=Bl(1|i,y,l,d))}function Wx(s,i){Pd(8390656,8,s,i)}function Um(s,i){Ld(2048,8,s,i)}function DT(s){Oe.flags|=4;var i=Oe.updateQueue;if(i===null)i=Dd(),Oe.updateQueue=i,i.events=[s];else{var l=i.events;l===null?i.events=[s]:l.push(s)}}function Jx(s){var i=Pt().memoizedState;return DT({ref:i,nextImpl:s}),function(){if((it&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Zx(s,i){return Ld(4,2,s,i)}function eb(s,i){return Ld(4,4,s,i)}function tb(s,i){if(typeof i=="function"){s=s();var l=i(s);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function nb(s,i,l){l=l!=null?l.concat([s]):null,Ld(4,4,tb.bind(null,i,s),l)}function Fm(){}function sb(s,i){var l=Pt();i=i===void 0?null:i;var d=l.memoizedState;return i!==null&&km(i,d[1])?d[0]:(l.memoizedState=[s,i],s)}function rb(s,i){var l=Pt();i=i===void 0?null:i;var d=l.memoizedState;if(i!==null&&km(i,d[1]))return d[0];if(d=s(),Ha){tn(!0);try{s()}finally{tn(!1)}}return l.memoizedState=[d,i],d}function Bm(s,i,l){return l===void 0||(Dr&1073741824)!==0&&(Be&261930)===0?s.memoizedState=i:(s.memoizedState=l,s=iv(),Oe.lanes|=s,ji|=s,l)}function ib(s,i,l,d){return Hn(l,i)?l:zl.current!==null?(s=Bm(s,l,d),Hn(s,i)||(Gt=!0),s):(Dr&42)===0||(Dr&1073741824)!==0&&(Be&261930)===0?(Gt=!0,s.memoizedState=l):(s=iv(),Oe.lanes|=s,ji|=s,i)}function ab(s,i,l,d,g){var y=ce.p;ce.p=y!==0&&8>y?y:8;var E=K.T,T={};K.T=T,Gm(s,!1,i,l);try{var B=g(),X=K.S;if(X!==null&&X(T,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ne=CT(B,d);vc(s,i,ne,Xn(s))}else vc(s,i,d,Xn(s))}catch(ae){vc(s,i,{then:function(){},status:"rejected",reason:ae},Xn())}finally{ce.p=y,E!==null&&T.types!==null&&(E.types=T.types),K.T=E}}function OT(){}function qm(s,i,l,d){if(s.tag!==5)throw Error(r(476));var g=lb(s).queue;ab(s,g,i,ge,l===null?OT:function(){return ob(s),l(d)})}function lb(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:ge},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:l},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function ob(s){var i=lb(s);i.next===null&&(i=s.alternate.memoizedState),vc(s,i.next.queue,{},Xn())}function Hm(){return un(Lc)}function cb(){return Pt().memoizedState}function ub(){return Pt().memoizedState}function MT(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var l=Xn();s=Ei(l);var d=Ni(i,s,l);d!==null&&(Ln(d,i,l),pc(d,i,l)),i={cache:bm()},s.payload=i;return}i=i.return}}function PT(s,i,l){var d=Xn();l={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Vd(s)?hb(i,l):(l=om(s,i,l,d),l!==null&&(Ln(l,s,d),fb(l,i,d)))}function db(s,i,l){var d=Xn();vc(s,i,l,d)}function vc(s,i,l,d){var g={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Vd(s))hb(i,g);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var E=i.lastRenderedState,T=y(E,l);if(g.hasEagerState=!0,g.eagerState=T,Hn(T,E))return xd(s,i,g,0),mt===null&&yd(),!1}catch{}finally{}if(l=om(s,i,g,d),l!==null)return Ln(l,s,d),fb(l,i,d),!0}return!1}function Gm(s,i,l,d){if(d={lane:2,revertLane:Ep(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Vd(s)){if(i)throw Error(r(479))}else i=om(s,l,d,2),i!==null&&Ln(i,s,2)}function Vd(s){var i=s.alternate;return s===Oe||i!==null&&i===Oe}function hb(s,i){Ul=Id=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function fb(s,i,l){if((l&4194048)!==0){var d=i.lanes;d&=s.pendingLanes,l|=d,i.lanes=l,Bo(s,l)}}var wc={readContext:un,use:Od,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};wc.useEffectEvent=It;var mb={readContext:un,use:Od,useCallback:function(s,i){return An().memoizedState=[s,i===void 0?null:i],s},useContext:un,useEffect:Wx,useImperativeHandle:function(s,i,l){l=l!=null?l.concat([s]):null,Pd(4194308,4,tb.bind(null,i,s),l)},useLayoutEffect:function(s,i){return Pd(4194308,4,s,i)},useInsertionEffect:function(s,i){Pd(4,2,s,i)},useMemo:function(s,i){var l=An();i=i===void 0?null:i;var d=s();if(Ha){tn(!0);try{s()}finally{tn(!1)}}return l.memoizedState=[d,i],d},useReducer:function(s,i,l){var d=An();if(l!==void 0){var g=l(i);if(Ha){tn(!0);try{l(i)}finally{tn(!1)}}}else g=i;return d.memoizedState=d.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},d.queue=s,s=s.dispatch=PT.bind(null,Oe,s),[d.memoizedState,s]},useRef:function(s){var i=An();return s={current:s},i.memoizedState=s},useState:function(s){s=Vm(s);var i=s.queue,l=db.bind(null,Oe,i);return i.dispatch=l,[s.memoizedState,l]},useDebugValue:Fm,useDeferredValue:function(s,i){var l=An();return Bm(l,s,i)},useTransition:function(){var s=Vm(!1);return s=ab.bind(null,Oe,s.queue,!0,!1),An().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,l){var d=Oe,g=An();if(Qe){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),mt===null)throw Error(r(349));(Be&127)!==0||Mx(d,i,l)}g.memoizedState=l;var y={value:l,getSnapshot:i};return g.queue=y,Wx(Lx.bind(null,d,y,s),[s]),d.flags|=2048,Bl(9,{destroy:void 0},Px.bind(null,d,y,l,i),null),l},useId:function(){var s=An(),i=mt.identifierPrefix;if(Qe){var l=cr,d=or;l=(d&~(1<<32-Ye(d)-1)).toString(32)+l,i="_"+i+"R_"+l,l=Rd++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=jT++,i="_"+i+"r_"+l.toString(32)+"_";return s.memoizedState=i},useHostTransitionStatus:Hm,useFormState:$x,useActionState:$x,useOptimistic:function(s){var i=An();i.memoizedState=i.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Gm.bind(null,Oe,!0,l),l.dispatch=i,[s,i]},useMemoCache:Mm,useCacheRefresh:function(){return An().memoizedState=MT.bind(null,Oe)},useEffectEvent:function(s){var i=An(),l={impl:s};return i.memoizedState=l,function(){if((it&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},$m={readContext:un,use:Od,useCallback:sb,useContext:un,useEffect:Um,useImperativeHandle:nb,useInsertionEffect:Zx,useLayoutEffect:eb,useMemo:rb,useReducer:Md,useRef:Xx,useState:function(){return Md(Or)},useDebugValue:Fm,useDeferredValue:function(s,i){var l=Pt();return ib(l,dt.memoizedState,s,i)},useTransition:function(){var s=Md(Or)[0],i=Pt().memoizedState;return[typeof s=="boolean"?s:bc(s),i]},useSyncExternalStore:Ox,useId:cb,useHostTransitionStatus:Hm,useFormState:Yx,useActionState:Yx,useOptimistic:function(s,i){var l=Pt();return Ux(l,dt,s,i)},useMemoCache:Mm,useCacheRefresh:ub};$m.useEffectEvent=Jx;var pb={readContext:un,use:Od,useCallback:sb,useContext:un,useEffect:Um,useImperativeHandle:nb,useInsertionEffect:Zx,useLayoutEffect:eb,useMemo:rb,useReducer:Lm,useRef:Xx,useState:function(){return Lm(Or)},useDebugValue:Fm,useDeferredValue:function(s,i){var l=Pt();return dt===null?Bm(l,s,i):ib(l,dt.memoizedState,s,i)},useTransition:function(){var s=Lm(Or)[0],i=Pt().memoizedState;return[typeof s=="boolean"?s:bc(s),i]},useSyncExternalStore:Ox,useId:cb,useHostTransitionStatus:Hm,useFormState:Kx,useActionState:Kx,useOptimistic:function(s,i){var l=Pt();return dt!==null?Ux(l,dt,s,i):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Mm,useCacheRefresh:ub};pb.useEffectEvent=Jx;function Ym(s,i,l,d){i=s.memoizedState,l=l(d,i),l=l==null?i:b({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Qm={enqueueSetState:function(s,i,l){s=s._reactInternals;var d=Xn(),g=Ei(d);g.payload=i,l!=null&&(g.callback=l),i=Ni(s,g,d),i!==null&&(Ln(i,s,d),pc(i,s,d))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var d=Xn(),g=Ei(d);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=Ni(s,g,d),i!==null&&(Ln(i,s,d),pc(i,s,d))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Xn(),d=Ei(l);d.tag=2,i!=null&&(d.callback=i),i=Ni(s,d,l),i!==null&&(Ln(i,s,l),pc(i,s,l))}};function gb(s,i,l,d,g,y,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,y,E):i.prototype&&i.prototype.isPureReactComponent?!lc(l,d)||!lc(g,y):!0}function yb(s,i,l,d){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==s&&Qm.enqueueReplaceState(i,i.state,null)}function Ga(s,i){var l=i;if("ref"in i){l={};for(var d in i)d!=="ref"&&(l[d]=i[d])}if(s=s.defaultProps){l===i&&(l=b({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}function xb(s){gd(s)}function bb(s){console.error(s)}function vb(s){gd(s)}function zd(s,i){try{var l=s.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(d){setTimeout(function(){throw d})}}function wb(s,i,l){try{var d=s.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Km(s,i,l){return l=Ei(l),l.tag=3,l.payload={element:null},l.callback=function(){zd(s,i)},l}function _b(s){return s=Ei(s),s.tag=3,s}function Eb(s,i,l,d){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=d.value;s.payload=function(){return g(y)},s.callback=function(){wb(i,l,d)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(s.callback=function(){wb(i,l,d),typeof g!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var T=d.stack;this.componentDidCatch(d.value,{componentStack:T!==null?T:""})})}function LT(s,i,l,d,g){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(i=l.alternate,i!==null&&Ol(i,l,g,!0),l=$n.current,l!==null){switch(l.tag){case 31:case 13:return ms===null?Wd():l.alternate===null&&Rt===0&&(Rt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,d===Td?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([d]):i.add(d),vp(s,d,g)),!1;case 22:return l.flags|=65536,d===Td?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([d]):l.add(d)),vp(s,d,g)),!1}throw Error(r(435,l.tag))}return vp(s,d,g),Wd(),!1}if(Qe)return i=$n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,d!==mm&&(s=Error(r(422),{cause:d}),uc(us(s,l)))):(d!==mm&&(i=Error(r(423),{cause:d}),uc(us(i,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,d=us(d,l),g=Km(s.stateNode,d,g),Sm(s,g),Rt!==4&&(Rt=2)),!1;var y=Error(r(520),{cause:d});if(y=us(y,l),jc===null?jc=[y]:jc.push(y),Rt!==4&&(Rt=2),i===null)return!0;d=us(d,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=Km(l.stateNode,d,s),Sm(l,s),!1;case 1:if(i=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ki===null||!ki.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=_b(g),Eb(g,s,l,d),Sm(l,g),!1}l=l.return}while(l!==null);return!1}var Xm=Error(r(461)),Gt=!1;function dn(s,i,l,d){i.child=s===null?Ax(i,null,l,d):qa(i,s.child,l,d)}function Nb(s,i,l,d,g){l=l.render;var y=i.ref;if("ref"in d){var E={};for(var T in d)T!=="ref"&&(E[T]=d[T])}else E=d;return za(i),d=Im(s,i,l,E,y,g),T=Rm(),s!==null&&!Gt?(Dm(s,i,g),Mr(s,i,g)):(Qe&&T&&hm(i),i.flags|=1,dn(s,i,d,g),i.child)}function Sb(s,i,l,d,g){if(s===null){var y=l.type;return typeof y=="function"&&!cm(y)&&y.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=y,Tb(s,i,y,d,g)):(s=vd(l.type,null,d,i,i.mode,g),s.ref=i.ref,s.return=i,i.child=s)}if(y=s.child,!rp(s,g)){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:lc,l(E,d)&&s.ref===i.ref)return Mr(s,i,g)}return i.flags|=1,s=jr(y,d),s.ref=i.ref,s.return=i,i.child=s}function Tb(s,i,l,d,g){if(s!==null){var y=s.memoizedProps;if(lc(y,d)&&s.ref===i.ref)if(Gt=!1,i.pendingProps=d=y,rp(s,g))(s.flags&131072)!==0&&(Gt=!0);else return i.lanes=s.lanes,Mr(s,i,g)}return Wm(s,i,l,d,g)}function Ab(s,i,l,d){var g=d.children,y=s!==null?s.memoizedState:null;if(s===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((i.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,s!==null){for(d=i.child=s.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;d=g&~y}else d=0,i.child=null;return Cb(s,i,y,l,d)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&Nd(i,y!==null?y.cachePool:null),y!==null?kx(i,y):Am(),Ix(i);else return d=i.lanes=536870912,Cb(s,i,y!==null?y.baseLanes|l:l,l,d)}else y!==null?(Nd(i,y.cachePool),kx(i,y),Ti(),i.memoizedState=null):(s!==null&&Nd(i,null),Am(),Ti());return dn(s,i,g,l),i.child}function _c(s,i){return s!==null&&s.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Cb(s,i,l,d,g){var y=wm();return y=y===null?null:{parent:qt._currentValue,pool:y},i.memoizedState={baseLanes:l,cachePool:y},s!==null&&Nd(i,null),Am(),Ix(i),s!==null&&Ol(s,i,d,!0),i.childLanes=g,null}function Ud(s,i){return i=Bd({mode:i.mode,children:i.children},s.mode),i.ref=s.ref,s.child=i,i.return=s,i}function jb(s,i,l){return qa(i,s.child,null,l),s=Ud(i,i.pendingProps),s.flags|=2,Yn(i),i.memoizedState=null,s}function VT(s,i,l){var d=i.pendingProps,g=(i.flags&128)!==0;if(i.flags&=-129,s===null){if(Qe){if(d.mode==="hidden")return s=Ud(i,d),i.lanes=536870912,_c(null,s);if(jm(i),(s=xt)?(s=Fv(s,fs),s=s!==null&&s.data==="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:xi!==null?{id:or,overflow:cr}:null,retryLane:536870912,hydrationErrors:null},l=hx(s),l.return=i,i.child=l,cn=i,xt=null)):s=null,s===null)throw vi(i);return i.lanes=536870912,null}return Ud(i,d)}var y=s.memoizedState;if(y!==null){var E=y.dehydrated;if(jm(i),g)if(i.flags&256)i.flags&=-257,i=jb(s,i,l);else if(i.memoizedState!==null)i.child=s.child,i.flags|=128,i=null;else throw Error(r(558));else if(Gt||Ol(s,i,l,!1),g=(l&s.childLanes)!==0,Gt||g){if(d=mt,d!==null&&(E=qo(d,l),E!==0&&E!==y.retryLane))throw y.retryLane=E,Ma(s,E),Ln(d,s,E),Xm;Wd(),i=jb(s,i,l)}else s=y.treeContext,xt=ps(E.nextSibling),cn=i,Qe=!0,bi=null,fs=!1,s!==null&&px(i,s),i=Ud(i,d),i.flags|=4096;return i}return s=jr(s.child,{mode:d.mode,children:d.children}),s.ref=i.ref,i.child=s,s.return=i,s}function Fd(s,i){var l=i.ref;if(l===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(i.flags|=4194816)}}function Wm(s,i,l,d,g){return za(i),l=Im(s,i,l,d,void 0,g),d=Rm(),s!==null&&!Gt?(Dm(s,i,g),Mr(s,i,g)):(Qe&&d&&hm(i),i.flags|=1,dn(s,i,l,g),i.child)}function kb(s,i,l,d,g,y){return za(i),i.updateQueue=null,l=Dx(i,d,l,g),Rx(s),d=Rm(),s!==null&&!Gt?(Dm(s,i,y),Mr(s,i,y)):(Qe&&d&&hm(i),i.flags|=1,dn(s,i,l,y),i.child)}function Ib(s,i,l,d,g){if(za(i),i.stateNode===null){var y=kl,E=l.contextType;typeof E=="object"&&E!==null&&(y=un(E)),y=new l(d,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Qm,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=d,y.state=i.memoizedState,y.refs={},Em(i),E=l.contextType,y.context=typeof E=="object"&&E!==null?un(E):kl,y.state=i.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Ym(i,l,E,d),y.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&Qm.enqueueReplaceState(y,y.state,null),yc(i,d,y,g),gc(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),d=!0}else if(s===null){y=i.stateNode;var T=i.memoizedProps,B=Ga(l,T);y.props=B;var X=y.context,ne=l.contextType;E=kl,typeof ne=="object"&&ne!==null&&(E=un(ne));var ae=l.getDerivedStateFromProps;ne=typeof ae=="function"||typeof y.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,ne||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T||X!==E)&&yb(i,y,d,E),_i=!1;var J=i.memoizedState;y.state=J,yc(i,d,y,g),gc(),X=i.memoizedState,T||J!==X||_i?(typeof ae=="function"&&(Ym(i,l,ae,d),X=i.memoizedState),(B=_i||gb(i,l,B,d,J,X,E))?(ne||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=X),y.props=d,y.state=X,y.context=E,d=B):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{y=i.stateNode,Nm(s,i),E=i.memoizedProps,ne=Ga(l,E),y.props=ne,ae=i.pendingProps,J=y.context,X=l.contextType,B=kl,typeof X=="object"&&X!==null&&(B=un(X)),T=l.getDerivedStateFromProps,(X=typeof T=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==ae||J!==B)&&yb(i,y,d,B),_i=!1,J=i.memoizedState,y.state=J,yc(i,d,y,g),gc();var ee=i.memoizedState;E!==ae||J!==ee||_i||s!==null&&s.dependencies!==null&&_d(s.dependencies)?(typeof T=="function"&&(Ym(i,l,T,d),ee=i.memoizedState),(ne=_i||gb(i,l,ne,d,J,ee,B)||s!==null&&s.dependencies!==null&&_d(s.dependencies))?(X||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,ee,B),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,ee,B)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===s.memoizedProps&&J===s.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&J===s.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=ee),y.props=d,y.state=ee,y.context=B,d=ne):(typeof y.componentDidUpdate!="function"||E===s.memoizedProps&&J===s.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&J===s.memoizedState||(i.flags|=1024),d=!1)}return y=d,Fd(s,i),d=(i.flags&128)!==0,y||d?(y=i.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,s!==null&&d?(i.child=qa(i,s.child,null,g),i.child=qa(i,null,l,g)):dn(s,i,l,g),i.memoizedState=y.state,s=i.child):s=Mr(s,i,g),s}function Rb(s,i,l,d){return La(),i.flags|=256,dn(s,i,l,d),i.child}var Jm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zm(s){return{baseLanes:s,cachePool:wx()}}function ep(s,i,l){return s=s!==null?s.childLanes&~l:0,i&&(s|=Kn),s}function Db(s,i,l){var d=i.pendingProps,g=!1,y=(i.flags&128)!==0,E;if((E=y)||(E=s!==null&&s.memoizedState===null?!1:(Mt.current&2)!==0),E&&(g=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,s===null){if(Qe){if(g?Si(i):Ti(),(s=xt)?(s=Fv(s,fs),s=s!==null&&s.data!=="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:xi!==null?{id:or,overflow:cr}:null,retryLane:536870912,hydrationErrors:null},l=hx(s),l.return=i,i.child=l,cn=i,xt=null)):s=null,s===null)throw vi(i);return Pp(s)?i.lanes=32:i.lanes=536870912,null}var T=d.children;return d=d.fallback,g?(Ti(),g=i.mode,T=Bd({mode:"hidden",children:T},g),d=Pa(d,g,l,null),T.return=i,d.return=i,T.sibling=d,i.child=T,d=i.child,d.memoizedState=Zm(l),d.childLanes=ep(s,E,l),i.memoizedState=Jm,_c(null,d)):(Si(i),tp(i,T))}var B=s.memoizedState;if(B!==null&&(T=B.dehydrated,T!==null)){if(y)i.flags&256?(Si(i),i.flags&=-257,i=np(s,i,l)):i.memoizedState!==null?(Ti(),i.child=s.child,i.flags|=128,i=null):(Ti(),T=d.fallback,g=i.mode,d=Bd({mode:"visible",children:d.children},g),T=Pa(T,g,l,null),T.flags|=2,d.return=i,T.return=i,d.sibling=T,i.child=d,qa(i,s.child,null,l),d=i.child,d.memoizedState=Zm(l),d.childLanes=ep(s,E,l),i.memoizedState=Jm,i=_c(null,d));else if(Si(i),Pp(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var X=E.dgst;E=X,d=Error(r(419)),d.stack="",d.digest=E,uc({value:d,source:null,stack:null}),i=np(s,i,l)}else if(Gt||Ol(s,i,l,!1),E=(l&s.childLanes)!==0,Gt||E){if(E=mt,E!==null&&(d=qo(E,l),d!==0&&d!==B.retryLane))throw B.retryLane=d,Ma(s,d),Ln(E,s,d),Xm;Mp(T)||Wd(),i=np(s,i,l)}else Mp(T)?(i.flags|=192,i.child=s.child,i=null):(s=B.treeContext,xt=ps(T.nextSibling),cn=i,Qe=!0,bi=null,fs=!1,s!==null&&px(i,s),i=tp(i,d.children),i.flags|=4096);return i}return g?(Ti(),T=d.fallback,g=i.mode,B=s.child,X=B.sibling,d=jr(B,{mode:"hidden",children:d.children}),d.subtreeFlags=B.subtreeFlags&65011712,X!==null?T=jr(X,T):(T=Pa(T,g,l,null),T.flags|=2),T.return=i,d.return=i,d.sibling=T,i.child=d,_c(null,d),d=i.child,T=s.child.memoizedState,T===null?T=Zm(l):(g=T.cachePool,g!==null?(B=qt._currentValue,g=g.parent!==B?{parent:B,pool:B}:g):g=wx(),T={baseLanes:T.baseLanes|l,cachePool:g}),d.memoizedState=T,d.childLanes=ep(s,E,l),i.memoizedState=Jm,_c(s.child,d)):(Si(i),l=s.child,s=l.sibling,l=jr(l,{mode:"visible",children:d.children}),l.return=i,l.sibling=null,s!==null&&(E=i.deletions,E===null?(i.deletions=[s],i.flags|=16):E.push(s)),i.child=l,i.memoizedState=null,l)}function tp(s,i){return i=Bd({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function Bd(s,i){return s=Gn(22,s,null,i),s.lanes=0,s}function np(s,i,l){return qa(i,s.child,null,l),s=tp(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function Ob(s,i,l){s.lanes|=i;var d=s.alternate;d!==null&&(d.lanes|=i),ym(s.return,i,l)}function sp(s,i,l,d,g,y){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:g,treeForkCount:y}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=d,E.tail=l,E.tailMode=g,E.treeForkCount=y)}function Mb(s,i,l){var d=i.pendingProps,g=d.revealOrder,y=d.tail;d=d.children;var E=Mt.current,T=(E&2)!==0;if(T?(E=E&1|2,i.flags|=128):E&=1,V(Mt,E),dn(s,i,d,l),d=Qe?cc:0,!T&&s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Ob(s,l,i);else if(s.tag===19)Ob(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(l=i.child,g=null;l!==null;)s=l.alternate,s!==null&&kd(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=i.child,i.child=null):(g=l.sibling,l.sibling=null),sp(i,!1,g,l,y,d);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=i.child,i.child=null;g!==null;){if(s=g.alternate,s!==null&&kd(s)===null){i.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}sp(i,!0,l,null,y,d);break;case"together":sp(i,!1,null,null,void 0,d);break;default:i.memoizedState=null}return i.child}function Mr(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),ji|=i.lanes,(l&i.childLanes)===0)if(s!==null){if(Ol(s,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,l=jr(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=jr(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function rp(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&_d(s)))}function zT(s,i,l){switch(i.tag){case 3:jt(i,i.stateNode.containerInfo),wi(i,qt,s.memoizedState.cache),La();break;case 27:case 5:ns(i);break;case 4:jt(i,i.stateNode.containerInfo);break;case 10:wi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,jm(i),null;break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(Si(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Db(s,i,l):(Si(i),s=Mr(s,i,l),s!==null?s.sibling:null);Si(i);break;case 19:var g=(s.flags&128)!==0;if(d=(l&i.childLanes)!==0,d||(Ol(s,i,l,!1),d=(l&i.childLanes)!==0),g){if(d)return Mb(s,i,l);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),V(Mt,Mt.current),d)break;return null;case 22:return i.lanes=0,Ab(s,i,l,i.pendingProps);case 24:wi(i,qt,s.memoizedState.cache)}return Mr(s,i,l)}function Pb(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps)Gt=!0;else{if(!rp(s,l)&&(i.flags&128)===0)return Gt=!1,zT(s,i,l);Gt=(s.flags&131072)!==0}else Gt=!1,Qe&&(i.flags&1048576)!==0&&mx(i,cc,i.index);switch(i.lanes=0,i.tag){case 16:e:{var d=i.pendingProps;if(s=Fa(i.elementType),i.type=s,typeof s=="function")cm(s)?(d=Ga(s,d),i.tag=1,i=Ib(null,i,s,d,l)):(i.tag=0,i=Wm(null,i,s,d,l));else{if(s!=null){var g=s.$$typeof;if(g===te){i.tag=11,i=Nb(null,i,s,d,l);break e}else if(g===z){i.tag=14,i=Sb(null,i,s,d,l);break e}}throw i=ue(s)||s,Error(r(306,i,""))}}return i;case 0:return Wm(s,i,i.type,i.pendingProps,l);case 1:return d=i.type,g=Ga(d,i.pendingProps),Ib(s,i,d,g,l);case 3:e:{if(jt(i,i.stateNode.containerInfo),s===null)throw Error(r(387));d=i.pendingProps;var y=i.memoizedState;g=y.element,Nm(s,i),yc(i,d,null,l);var E=i.memoizedState;if(d=E.cache,wi(i,qt,d),d!==y.cache&&xm(i,[qt],l,!0),gc(),d=E.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=Rb(s,i,d,l);break e}else if(d!==g){g=us(Error(r(424)),i),uc(g),i=Rb(s,i,d,l);break e}else{switch(s=i.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(xt=ps(s.firstChild),cn=i,Qe=!0,bi=null,fs=!0,l=Ax(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(La(),d===g){i=Mr(s,i,l);break e}dn(s,i,d,l)}i=i.child}return i;case 26:return Fd(s,i),s===null?(l=Yv(i.type,null,i.pendingProps,null))?i.memoizedState=l:Qe||(l=i.type,s=i.pendingProps,d=rh(Je.current).createElement(l),d[Ut]=i,d[nn]=s,hn(d,l,s),Ft(d),i.stateNode=d):i.memoizedState=Yv(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return ns(i),s===null&&Qe&&(d=i.stateNode=Hv(i.type,i.pendingProps,Je.current),cn=i,fs=!0,g=xt,Oi(i.type)?(Lp=g,xt=ps(d.firstChild)):xt=g),dn(s,i,i.pendingProps.children,l),Fd(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&Qe&&((g=d=xt)&&(d=pA(d,i.type,i.pendingProps,fs),d!==null?(i.stateNode=d,cn=i,xt=ps(d.firstChild),fs=!1,g=!0):g=!1),g||vi(i)),ns(i),g=i.type,y=i.pendingProps,E=s!==null?s.memoizedProps:null,d=y.children,Rp(g,y)?d=null:E!==null&&Rp(g,E)&&(i.flags|=32),i.memoizedState!==null&&(g=Im(s,i,kT,null,null,l),Lc._currentValue=g),Fd(s,i),dn(s,i,d,l),i.child;case 6:return s===null&&Qe&&((s=l=xt)&&(l=gA(l,i.pendingProps,fs),l!==null?(i.stateNode=l,cn=i,xt=null,s=!0):s=!1),s||vi(i)),null;case 13:return Db(s,i,l);case 4:return jt(i,i.stateNode.containerInfo),d=i.pendingProps,s===null?i.child=qa(i,null,d,l):dn(s,i,d,l),i.child;case 11:return Nb(s,i,i.type,i.pendingProps,l);case 7:return dn(s,i,i.pendingProps,l),i.child;case 8:return dn(s,i,i.pendingProps.children,l),i.child;case 12:return dn(s,i,i.pendingProps.children,l),i.child;case 10:return d=i.pendingProps,wi(i,i.type,d.value),dn(s,i,d.children,l),i.child;case 9:return g=i.type._context,d=i.pendingProps.children,za(i),g=un(g),d=d(g),i.flags|=1,dn(s,i,d,l),i.child;case 14:return Sb(s,i,i.type,i.pendingProps,l);case 15:return Tb(s,i,i.type,i.pendingProps,l);case 19:return Mb(s,i,l);case 31:return VT(s,i,l);case 22:return Ab(s,i,l,i.pendingProps);case 24:return za(i),d=un(qt),s===null?(g=wm(),g===null&&(g=mt,y=bm(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),i.memoizedState={parent:d,cache:g},Em(i),wi(i,qt,g)):((s.lanes&l)!==0&&(Nm(s,i),yc(i,null,null,l),gc()),g=s.memoizedState,y=i.memoizedState,g.parent!==d?(g={parent:d,cache:d},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),wi(i,qt,d)):(d=y.cache,wi(i,qt,d),d!==g.cache&&xm(i,[qt],l,!0))),dn(s,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Pr(s){s.flags|=4}function ip(s,i,l,d,g){if((i=(s.mode&32)!==0)&&(i=!1),i){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(cv())s.flags|=8192;else throw Ba=Td,_m}else s.flags&=-16777217}function Lb(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Jv(i))if(cv())s.flags|=8192;else throw Ba=Td,_m}function qd(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?Ku():536870912,s.lanes|=i,$l|=i)}function Ec(s,i){if(!Qe)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function bt(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,d=0;if(i)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=d,s.childLanes=l,i}function UT(s,i,l){var d=i.pendingProps;switch(fm(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(i),null;case 1:return bt(i),null;case 3:return l=i.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),Rr(qt),Nt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Dl(i)?Pr(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,pm())),bt(i),null;case 26:var g=i.type,y=i.memoizedState;return s===null?(Pr(i),y!==null?(bt(i),Lb(i,y)):(bt(i),ip(i,g,null,d,l))):y?y!==s.memoizedState?(Pr(i),bt(i),Lb(i,y)):(bt(i),i.flags&=-16777217):(s=s.memoizedProps,s!==d&&Pr(i),bt(i),ip(i,g,s,d,l)),null;case 27:if(Es(i),l=Je.current,g=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==d&&Pr(i);else{if(!d){if(i.stateNode===null)throw Error(r(166));return bt(i),null}s=ke.current,Dl(i)?gx(i):(s=Hv(g,d,l),i.stateNode=s,Pr(i))}return bt(i),null;case 5:if(Es(i),g=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==d&&Pr(i);else{if(!d){if(i.stateNode===null)throw Error(r(166));return bt(i),null}if(y=ke.current,Dl(i))gx(i);else{var E=rh(Je.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof d.is=="string"?E.createElement("select",{is:d.is}):E.createElement("select"),d.multiple?y.multiple=!0:d.size&&(y.size=d.size);break;default:y=typeof d.is=="string"?E.createElement(g,{is:d.is}):E.createElement(g)}}y[Ut]=i,y[nn]=d;e:for(E=i.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===i)break e;for(;E.sibling===null;){if(E.return===null||E.return===i)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}i.stateNode=y;e:switch(hn(y,g,d),g){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Pr(i)}}return bt(i),ip(i,i.type,s===null?null:s.memoizedProps,i.pendingProps,l),null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==d&&Pr(i);else{if(typeof d!="string"&&i.stateNode===null)throw Error(r(166));if(s=Je.current,Dl(i)){if(s=i.stateNode,l=i.memoizedProps,d=null,g=cn,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}s[Ut]=i,s=!!(s.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||Dv(s.nodeValue,l)),s||vi(i,!0)}else s=rh(s).createTextNode(d),s[Ut]=i,i.stateNode=s}return bt(i),null;case 31:if(l=i.memoizedState,s===null||s.memoizedState!==null){if(d=Dl(i),l!==null){if(s===null){if(!d)throw Error(r(318));if(s=i.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Ut]=i}else La(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;bt(i),s=!1}else l=pm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return i.flags&256?(Yn(i),i):(Yn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return bt(i),null;case 13:if(d=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Dl(i),d!==null&&d.dehydrated!==null){if(s===null){if(!g)throw Error(r(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Ut]=i}else La(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;bt(i),g=!1}else g=pm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(Yn(i),i):(Yn(i),null)}return Yn(i),(i.flags&128)!==0?(i.lanes=l,i):(l=d!==null,s=s!==null&&s.memoizedState!==null,l&&(d=i.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==g&&(d.flags|=2048)),l!==s&&l&&(i.child.flags|=8192),qd(i,i.updateQueue),bt(i),null);case 4:return Nt(),s===null&&Ap(i.stateNode.containerInfo),bt(i),null;case 10:return Rr(i.type),bt(i),null;case 19:if(Ve(Mt),d=i.memoizedState,d===null)return bt(i),null;if(g=(i.flags&128)!==0,y=d.rendering,y===null)if(g)Ec(d,!1);else{if(Rt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(y=kd(s),y!==null){for(i.flags|=128,Ec(d,!1),s=y.updateQueue,i.updateQueue=s,qd(i,s),i.subtreeFlags=0,s=l,l=i.child;l!==null;)dx(l,s),l=l.sibling;return V(Mt,Mt.current&1|2),Qe&&kr(i,d.treeForkCount),i.child}s=s.sibling}d.tail!==null&&ln()>Qd&&(i.flags|=128,g=!0,Ec(d,!1),i.lanes=4194304)}else{if(!g)if(s=kd(y),s!==null){if(i.flags|=128,g=!0,s=s.updateQueue,i.updateQueue=s,qd(i,s),Ec(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!Qe)return bt(i),null}else 2*ln()-d.renderingStartTime>Qd&&l!==536870912&&(i.flags|=128,g=!0,Ec(d,!1),i.lanes=4194304);d.isBackwards?(y.sibling=i.child,i.child=y):(s=d.last,s!==null?s.sibling=y:i.child=y,d.last=y)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=ln(),s.sibling=null,l=Mt.current,V(Mt,g?l&1|2:l&1),Qe&&kr(i,d.treeForkCount),s):(bt(i),null);case 22:case 23:return Yn(i),Cm(),d=i.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(i.flags|=8192):d&&(i.flags|=8192),d?(l&536870912)!==0&&(i.flags&128)===0&&(bt(i),i.subtreeFlags&6&&(i.flags|=8192)):bt(i),l=i.updateQueue,l!==null&&qd(i,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==l&&(i.flags|=2048),s!==null&&Ve(Ua),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Rr(qt),bt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function FT(s,i){switch(fm(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Rr(qt),Nt(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return Es(i),null;case 31:if(i.memoizedState!==null){if(Yn(i),i.alternate===null)throw Error(r(340));La()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 13:if(Yn(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));La()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Ve(Mt),null;case 4:return Nt(),null;case 10:return Rr(i.type),null;case 22:case 23:return Yn(i),Cm(),s!==null&&Ve(Ua),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return Rr(qt),null;case 25:return null;default:return null}}function Vb(s,i){switch(fm(i),i.tag){case 3:Rr(qt),Nt();break;case 26:case 27:case 5:Es(i);break;case 4:Nt();break;case 31:i.memoizedState!==null&&Yn(i);break;case 13:Yn(i);break;case 19:Ve(Mt);break;case 10:Rr(i.type);break;case 22:case 23:Yn(i),Cm(),s!==null&&Ve(Ua);break;case 24:Rr(qt)}}function Nc(s,i){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var g=d.next;l=g;do{if((l.tag&s)===s){d=void 0;var y=l.create,E=l.inst;d=y(),E.destroy=d}l=l.next}while(l!==g)}}catch(T){ct(i,i.return,T)}}function Ai(s,i,l){try{var d=i.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var y=g.next;d=y;do{if((d.tag&s)===s){var E=d.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,g=i;var B=l,X=T;try{X()}catch(ne){ct(g,B,ne)}}}d=d.next}while(d!==y)}}catch(ne){ct(i,i.return,ne)}}function zb(s){var i=s.updateQueue;if(i!==null){var l=s.stateNode;try{jx(i,l)}catch(d){ct(s,s.return,d)}}}function Ub(s,i,l){l.props=Ga(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(d){ct(s,i,d)}}function Sc(s,i){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof l=="function"?s.refCleanup=l(d):l.current=d}}catch(g){ct(s,i,g)}}function ur(s,i){var l=s.ref,d=s.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(g){ct(s,i,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){ct(s,i,g)}else l.current=null}function Fb(s){var i=s.type,l=s.memoizedProps,d=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(g){ct(s,s.return,g)}}function ap(s,i,l){try{var d=s.stateNode;cA(d,s.type,l,i),d[nn]=i}catch(g){ct(s,s.return,g)}}function Bb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Oi(s.type)||s.tag===4}function lp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Bb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Oi(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function op(s,i,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(s),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Cs));else if(d!==4&&(d===27&&Oi(s.type)&&(l=s.stateNode,i=null),s=s.child,s!==null))for(op(s,i,l),s=s.sibling;s!==null;)op(s,i,l),s=s.sibling}function Hd(s,i,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(d!==4&&(d===27&&Oi(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Hd(s,i,l),s=s.sibling;s!==null;)Hd(s,i,l),s=s.sibling}function qb(s){var i=s.stateNode,l=s.memoizedProps;try{for(var d=s.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);hn(i,d,l),i[Ut]=s,i[nn]=l}catch(y){ct(s,s.return,y)}}var Lr=!1,$t=!1,cp=!1,Hb=typeof WeakSet=="function"?WeakSet:Set,rn=null;function BT(s,i){if(s=s.containerInfo,kp=dh,s=nx(s),nm(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var g=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,T=-1,B=-1,X=0,ne=0,ae=s,J=null;t:for(;;){for(var ee;ae!==l||g!==0&&ae.nodeType!==3||(T=E+g),ae!==y||d!==0&&ae.nodeType!==3||(B=E+d),ae.nodeType===3&&(E+=ae.nodeValue.length),(ee=ae.firstChild)!==null;)J=ae,ae=ee;for(;;){if(ae===s)break t;if(J===l&&++X===g&&(T=E),J===y&&++ne===d&&(B=E),(ee=ae.nextSibling)!==null)break;ae=J,J=ae.parentNode}ae=ee}l=T===-1||B===-1?null:{start:T,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ip={focusedElem:s,selectionRange:l},dh=!1,rn=i;rn!==null;)if(i=rn,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,rn=s;else for(;rn!==null;){switch(i=rn,y=i.alternate,s=i.flags,i.tag){case 0:if((s&4)!==0&&(s=i.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)g=s[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=i,g=y.memoizedProps,y=y.memoizedState,d=l.stateNode;try{var xe=Ga(l.type,g);s=d.getSnapshotBeforeUpdate(xe,y),d.__reactInternalSnapshotBeforeUpdate=s}catch(Ne){ct(l,l.return,Ne)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,l=s.nodeType,l===9)Op(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Op(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=i.sibling,s!==null){s.return=i.return,rn=s;break}rn=i.return}}function Gb(s,i,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:zr(s,l),d&4&&Nc(5,l);break;case 1:if(zr(s,l),d&4)if(s=l.stateNode,i===null)try{s.componentDidMount()}catch(E){ct(l,l.return,E)}else{var g=Ga(l.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(g,i,s.__reactInternalSnapshotBeforeUpdate)}catch(E){ct(l,l.return,E)}}d&64&&zb(l),d&512&&Sc(l,l.return);break;case 3:if(zr(s,l),d&64&&(s=l.updateQueue,s!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{jx(s,i)}catch(E){ct(l,l.return,E)}}break;case 27:i===null&&d&4&&qb(l);case 26:case 5:zr(s,l),i===null&&d&4&&Fb(l),d&512&&Sc(l,l.return);break;case 12:zr(s,l);break;case 31:zr(s,l),d&4&&Qb(s,l);break;case 13:zr(s,l),d&4&&Kb(s,l),d&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=WT.bind(null,l),yA(s,l))));break;case 22:if(d=l.memoizedState!==null||Lr,!d){i=i!==null&&i.memoizedState!==null||$t,g=Lr;var y=$t;Lr=d,($t=i)&&!y?Ur(s,l,(l.subtreeFlags&8772)!==0):zr(s,l),Lr=g,$t=y}break;case 30:break;default:zr(s,l)}}function $b(s){var i=s.alternate;i!==null&&(s.alternate=null,$b(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&gl(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Et=null,Dn=!1;function Vr(s,i,l){for(l=l.child;l!==null;)Yb(s,i,l),l=l.sibling}function Yb(s,i,l){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Dt,l)}catch{}switch(l.tag){case 26:$t||ur(l,i),Vr(s,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:$t||ur(l,i);var d=Et,g=Dn;Oi(l.type)&&(Et=l.stateNode,Dn=!1),Vr(s,i,l),Oc(l.stateNode),Et=d,Dn=g;break;case 5:$t||ur(l,i);case 6:if(d=Et,g=Dn,Et=null,Vr(s,i,l),Et=d,Dn=g,Et!==null)if(Dn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(l.stateNode)}catch(y){ct(l,i,y)}else try{Et.removeChild(l.stateNode)}catch(y){ct(l,i,y)}break;case 18:Et!==null&&(Dn?(s=Et,zv(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),eo(s)):zv(Et,l.stateNode));break;case 4:d=Et,g=Dn,Et=l.stateNode.containerInfo,Dn=!0,Vr(s,i,l),Et=d,Dn=g;break;case 0:case 11:case 14:case 15:Ai(2,l,i),$t||Ai(4,l,i),Vr(s,i,l);break;case 1:$t||(ur(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"&&Ub(l,i,d)),Vr(s,i,l);break;case 21:Vr(s,i,l);break;case 22:$t=(d=$t)||l.memoizedState!==null,Vr(s,i,l),$t=d;break;default:Vr(s,i,l)}}function Qb(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{eo(s)}catch(l){ct(i,i.return,l)}}}function Kb(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{eo(s)}catch(l){ct(i,i.return,l)}}function qT(s){switch(s.tag){case 31:case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new Hb),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new Hb),i;default:throw Error(r(435,s.tag))}}function Gd(s,i){var l=qT(s);i.forEach(function(d){if(!l.has(d)){l.add(d);var g=JT.bind(null,s,d);d.then(g,g)}})}function On(s,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var g=l[d],y=s,E=i,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(Oi(T.type)){Et=T.stateNode,Dn=!1;break e}break;case 5:Et=T.stateNode,Dn=!1;break e;case 3:case 4:Et=T.stateNode.containerInfo,Dn=!0;break e}T=T.return}if(Et===null)throw Error(r(160));Yb(y,E,g),Et=null,Dn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Xb(i,s),i=i.sibling}var Os=null;function Xb(s,i){var l=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:On(i,s),Mn(s),d&4&&(Ai(3,s,s.return),Nc(3,s),Ai(5,s,s.return));break;case 1:On(i,s),Mn(s),d&512&&($t||l===null||ur(l,l.return)),d&64&&Lr&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var g=Os;if(On(i,s),Mn(s),d&512&&($t||l===null||ur(l,l.return)),d&4){var y=l!==null?l.memoizedState:null;if(d=s.memoizedState,l===null)if(d===null)if(s.stateNode===null){e:{d=s.type,l=s.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Xs]||y[Ut]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(d),g.head.insertBefore(y,g.querySelector("head > title"))),hn(y,d,l),y[Ut]=s,Ft(y),d=y;break e;case"link":var E=Xv("link","href",g).get(d+(l.href||""));if(E){for(var T=0;T<E.length;T++)if(y=E[T],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(T,1);break t}}y=g.createElement(d),hn(y,d,l),g.head.appendChild(y);break;case"meta":if(E=Xv("meta","content",g).get(d+(l.content||""))){for(T=0;T<E.length;T++)if(y=E[T],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(T,1);break t}}y=g.createElement(d),hn(y,d,l),g.head.appendChild(y);break;default:throw Error(r(468,d))}y[Ut]=s,Ft(y),d=y}s.stateNode=d}else Wv(g,s.type,s.stateNode);else s.stateNode=Kv(g,d,s.memoizedProps);else y!==d?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,d===null?Wv(g,s.type,s.stateNode):Kv(g,d,s.memoizedProps)):d===null&&s.stateNode!==null&&ap(s,s.memoizedProps,l.memoizedProps)}break;case 27:On(i,s),Mn(s),d&512&&($t||l===null||ur(l,l.return)),l!==null&&d&4&&ap(s,s.memoizedProps,l.memoizedProps);break;case 5:if(On(i,s),Mn(s),d&512&&($t||l===null||ur(l,l.return)),s.flags&32){g=s.stateNode;try{Rn(g,"")}catch(xe){ct(s,s.return,xe)}}d&4&&s.stateNode!=null&&(g=s.memoizedProps,ap(s,g,l!==null?l.memoizedProps:g)),d&1024&&(cp=!0);break;case 6:if(On(i,s),Mn(s),d&4){if(s.stateNode===null)throw Error(r(162));d=s.memoizedProps,l=s.stateNode;try{l.nodeValue=d}catch(xe){ct(s,s.return,xe)}}break;case 3:if(lh=null,g=Os,Os=ih(i.containerInfo),On(i,s),Os=g,Mn(s),d&4&&l!==null&&l.memoizedState.isDehydrated)try{eo(i.containerInfo)}catch(xe){ct(s,s.return,xe)}cp&&(cp=!1,Wb(s));break;case 4:d=Os,Os=ih(s.stateNode.containerInfo),On(i,s),Mn(s),Os=d;break;case 12:On(i,s),Mn(s);break;case 31:On(i,s),Mn(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Gd(s,d)));break;case 13:On(i,s),Mn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Yd=ln()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Gd(s,d)));break;case 22:g=s.memoizedState!==null;var B=l!==null&&l.memoizedState!==null,X=Lr,ne=$t;if(Lr=X||g,$t=ne||B,On(i,s),$t=ne,Lr=X,Mn(s),d&8192)e:for(i=s.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(l===null||B||Lr||$t||$a(s)),l=null,i=s;;){if(i.tag===5||i.tag===26){if(l===null){B=l=i;try{if(y=B.stateNode,g)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=B.stateNode;var ae=B.memoizedProps.style,J=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;T.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(xe){ct(B,B.return,xe)}}}else if(i.tag===6){if(l===null){B=i;try{B.stateNode.nodeValue=g?"":B.memoizedProps}catch(xe){ct(B,B.return,xe)}}}else if(i.tag===18){if(l===null){B=i;try{var ee=B.stateNode;g?Uv(ee,!0):Uv(B.stateNode,!1)}catch(xe){ct(B,B.return,xe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}d&4&&(d=s.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Gd(s,l))));break;case 19:On(i,s),Mn(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Gd(s,d)));break;case 30:break;case 21:break;default:On(i,s),Mn(s)}}function Mn(s){var i=s.flags;if(i&2){try{for(var l,d=s.return;d!==null;){if(Bb(d)){l=d;break}d=d.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,y=lp(s);Hd(s,y,g);break;case 5:var E=l.stateNode;l.flags&32&&(Rn(E,""),l.flags&=-33);var T=lp(s);Hd(s,T,E);break;case 3:case 4:var B=l.stateNode.containerInfo,X=lp(s);op(s,X,B);break;default:throw Error(r(161))}}catch(ne){ct(s,s.return,ne)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function Wb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;Wb(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function zr(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Gb(s,i.alternate,i),i=i.sibling}function $a(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:Ai(4,i,i.return),$a(i);break;case 1:ur(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Ub(i,i.return,l),$a(i);break;case 27:Oc(i.stateNode);case 26:case 5:ur(i,i.return),$a(i);break;case 22:i.memoizedState===null&&$a(i);break;case 30:$a(i);break;default:$a(i)}s=s.sibling}}function Ur(s,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var d=i.alternate,g=s,y=i,E=y.flags;switch(y.tag){case 0:case 11:case 15:Ur(g,y,l),Nc(4,y);break;case 1:if(Ur(g,y,l),d=y,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(X){ct(d,d.return,X)}if(d=y,g=d.updateQueue,g!==null){var T=d.stateNode;try{var B=g.shared.hiddenCallbacks;if(B!==null)for(g.shared.hiddenCallbacks=null,g=0;g<B.length;g++)Cx(B[g],T)}catch(X){ct(d,d.return,X)}}l&&E&64&&zb(y),Sc(y,y.return);break;case 27:qb(y);case 26:case 5:Ur(g,y,l),l&&d===null&&E&4&&Fb(y),Sc(y,y.return);break;case 12:Ur(g,y,l);break;case 31:Ur(g,y,l),l&&E&4&&Qb(g,y);break;case 13:Ur(g,y,l),l&&E&4&&Kb(g,y);break;case 22:y.memoizedState===null&&Ur(g,y,l),Sc(y,y.return);break;case 30:break;default:Ur(g,y,l)}i=i.sibling}}function up(s,i){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&dc(l))}function dp(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&dc(s))}function Ms(s,i,l,d){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Jb(s,i,l,d),i=i.sibling}function Jb(s,i,l,d){var g=i.flags;switch(i.tag){case 0:case 11:case 15:Ms(s,i,l,d),g&2048&&Nc(9,i);break;case 1:Ms(s,i,l,d);break;case 3:Ms(s,i,l,d),g&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&dc(s)));break;case 12:if(g&2048){Ms(s,i,l,d),s=i.stateNode;try{var y=i.memoizedProps,E=y.id,T=y.onPostCommit;typeof T=="function"&&T(E,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(B){ct(i,i.return,B)}}else Ms(s,i,l,d);break;case 31:Ms(s,i,l,d);break;case 13:Ms(s,i,l,d);break;case 23:break;case 22:y=i.stateNode,E=i.alternate,i.memoizedState!==null?y._visibility&2?Ms(s,i,l,d):Tc(s,i):y._visibility&2?Ms(s,i,l,d):(y._visibility|=2,ql(s,i,l,d,(i.subtreeFlags&10256)!==0||!1)),g&2048&&up(E,i);break;case 24:Ms(s,i,l,d),g&2048&&dp(i.alternate,i);break;default:Ms(s,i,l,d)}}function ql(s,i,l,d,g){for(g=g&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var y=s,E=i,T=l,B=d,X=E.flags;switch(E.tag){case 0:case 11:case 15:ql(y,E,T,B,g),Nc(8,E);break;case 23:break;case 22:var ne=E.stateNode;E.memoizedState!==null?ne._visibility&2?ql(y,E,T,B,g):Tc(y,E):(ne._visibility|=2,ql(y,E,T,B,g)),g&&X&2048&&up(E.alternate,E);break;case 24:ql(y,E,T,B,g),g&&X&2048&&dp(E.alternate,E);break;default:ql(y,E,T,B,g)}i=i.sibling}}function Tc(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=s,d=i,g=d.flags;switch(d.tag){case 22:Tc(l,d),g&2048&&up(d.alternate,d);break;case 24:Tc(l,d),g&2048&&dp(d.alternate,d);break;default:Tc(l,d)}i=i.sibling}}var Ac=8192;function Hl(s,i,l){if(s.subtreeFlags&Ac)for(s=s.child;s!==null;)Zb(s,i,l),s=s.sibling}function Zb(s,i,l){switch(s.tag){case 26:Hl(s,i,l),s.flags&Ac&&s.memoizedState!==null&&jA(l,Os,s.memoizedState,s.memoizedProps);break;case 5:Hl(s,i,l);break;case 3:case 4:var d=Os;Os=ih(s.stateNode.containerInfo),Hl(s,i,l),Os=d;break;case 22:s.memoizedState===null&&(d=s.alternate,d!==null&&d.memoizedState!==null?(d=Ac,Ac=16777216,Hl(s,i,l),Ac=d):Hl(s,i,l));break;default:Hl(s,i,l)}}function ev(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function Cc(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var d=i[l];rn=d,nv(d,s)}ev(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)tv(s),s=s.sibling}function tv(s){switch(s.tag){case 0:case 11:case 15:Cc(s),s.flags&2048&&Ai(9,s,s.return);break;case 3:Cc(s);break;case 12:Cc(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,$d(s)):Cc(s);break;default:Cc(s)}}function $d(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var d=i[l];rn=d,nv(d,s)}ev(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:Ai(8,i,i.return),$d(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,$d(i));break;default:$d(i)}s=s.sibling}}function nv(s,i){for(;rn!==null;){var l=rn;switch(l.tag){case 0:case 11:case 15:Ai(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:dc(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,rn=d;else e:for(l=s;rn!==null;){d=rn;var g=d.sibling,y=d.return;if($b(d),d===l){rn=null;break e}if(g!==null){g.return=y,rn=g;break e}rn=y}}}var HT={getCacheForType:function(s){var i=un(qt),l=i.data.get(s);return l===void 0&&(l=s(),i.data.set(s,l)),l},cacheSignal:function(){return un(qt).controller.signal}},GT=typeof WeakMap=="function"?WeakMap:Map,it=0,mt=null,ze=null,Be=0,ot=0,Qn=null,Ci=!1,Gl=!1,hp=!1,Fr=0,Rt=0,ji=0,Ya=0,fp=0,Kn=0,$l=0,jc=null,Pn=null,mp=!1,Yd=0,sv=0,Qd=1/0,Kd=null,ki=null,Wt=0,Ii=null,Yl=null,Br=0,pp=0,gp=null,rv=null,kc=0,yp=null;function Xn(){return(it&2)!==0&&Be!==0?Be&-Be:K.T!==null?Ep():Xu()}function iv(){if(Kn===0)if((Be&536870912)===0||Qe){var s=va;va<<=1,(va&3932160)===0&&(va=262144),Kn=s}else Kn=536870912;return s=$n.current,s!==null&&(s.flags|=32),Kn}function Ln(s,i,l){(s===mt&&(ot===2||ot===9)||s.cancelPendingCommit!==null)&&(Ql(s,0),Ri(s,Be,Kn,!1)),wa(s,l),((it&2)===0||s!==mt)&&(s===mt&&((it&2)===0&&(Ya|=l),Rt===4&&Ri(s,Be,Kn,!1)),dr(s))}function av(s,i,l){if((it&6)!==0)throw Error(r(327));var d=!l&&(i&127)===0&&(i&s.expiredLanes)===0||Ss(s,i),g=d?QT(s,i):bp(s,i,!0),y=d;do{if(g===0){Gl&&!d&&Ri(s,i,0,!1);break}else{if(l=s.current.alternate,y&&!$T(l)){g=bp(s,i,!1),y=!1;continue}if(g===2){if(y=i,s.errorRecoveryDisabledLanes&y)var E=0;else E=s.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var T=s;g=jc;var B=T.current.memoizedState.isDehydrated;if(B&&(Ql(T,E).flags|=256),E=bp(T,E,!1),E!==2){if(hp&&!B){T.errorRecoveryDisabledLanes|=y,Ya|=y,g=4;break e}y=Pn,Pn=g,y!==null&&(Pn===null?Pn=y:Pn.push.apply(Pn,y))}g=E}if(y=!1,g!==2)continue}}if(g===1){Ql(s,0),Ri(s,i,0,!0);break}e:{switch(d=s,y=g,y){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ri(d,i,Kn,!Ci);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(g=Yd+300-ln(),10<g)){if(Ri(d,i,Kn,!Ci),Ys(d,0,!0)!==0)break e;Br=i,d.timeoutHandle=Lv(lv.bind(null,d,l,Pn,Kd,mp,i,Kn,Ya,$l,Ci,y,"Throttled",-0,0),g);break e}lv(d,l,Pn,Kd,mp,i,Kn,Ya,$l,Ci,y,null,-0,0)}}break}while(!0);dr(s)}function lv(s,i,l,d,g,y,E,T,B,X,ne,ae,J,ee){if(s.timeoutHandle=-1,ae=i.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cs},Zb(i,y,ae);var xe=(y&62914560)===y?Yd-ln():(y&4194048)===y?sv-ln():0;if(xe=kA(ae,xe),xe!==null){Br=y,s.cancelPendingCommit=xe(pv.bind(null,s,i,y,l,d,g,E,T,B,ne,ae,null,J,ee)),Ri(s,y,E,!X);return}}pv(s,i,y,l,d,g,E,T,B)}function $T(s){for(var i=s;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var g=l[d],y=g.getSnapshot;g=g.value;try{if(!Hn(y(),g))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ri(s,i,l,d){i&=~fp,i&=~Ya,s.suspendedLanes|=i,s.pingedLanes&=~i,d&&(s.warmLanes|=i),d=s.expirationTimes;for(var g=i;0<g;){var y=31-Ye(g),E=1<<y;d[y]=-1,g&=~E}l!==0&&_a(s,l,i)}function Xd(){return(it&6)===0?(Ic(0),!1):!0}function xp(){if(ze!==null){if(ot===0)var s=ze.return;else s=ze,Ir=Va=null,Om(s),Vl=null,fc=0,s=ze;for(;s!==null;)Vb(s.alternate,s),s=s.return;ze=null}}function Ql(s,i){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,hA(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Br=0,xp(),mt=s,ze=l=jr(s.current,null),Be=i,ot=0,Qn=null,Ci=!1,Gl=Ss(s,i),hp=!1,$l=Kn=fp=Ya=ji=Rt=0,Pn=jc=null,mp=!1,(i&8)!==0&&(i|=i&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=i;0<d;){var g=31-Ye(d),y=1<<g;i|=s[g],d&=~y}return Fr=i,yd(),l}function ov(s,i){Oe=null,K.H=wc,i===Ll||i===Sd?(i=Nx(),ot=3):i===_m?(i=Nx(),ot=4):ot=i===Xm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Qn=i,ze===null&&(Rt=1,zd(s,us(i,s.current)))}function cv(){var s=$n.current;return s===null?!0:(Be&4194048)===Be?ms===null:(Be&62914560)===Be||(Be&536870912)!==0?s===ms:!1}function uv(){var s=K.H;return K.H=wc,s===null?wc:s}function dv(){var s=K.A;return K.A=HT,s}function Wd(){Rt=4,Ci||(Be&4194048)!==Be&&$n.current!==null||(Gl=!0),(ji&134217727)===0&&(Ya&134217727)===0||mt===null||Ri(mt,Be,Kn,!1)}function bp(s,i,l){var d=it;it|=2;var g=uv(),y=dv();(mt!==s||Be!==i)&&(Kd=null,Ql(s,i)),i=!1;var E=Rt;e:do try{if(ot!==0&&ze!==null){var T=ze,B=Qn;switch(ot){case 8:xp(),E=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(i=!0);var X=ot;if(ot=0,Qn=null,Kl(s,T,B,X),l&&Gl){E=0;break e}break;default:X=ot,ot=0,Qn=null,Kl(s,T,B,X)}}YT(),E=Rt;break}catch(ne){ov(s,ne)}while(!0);return i&&s.shellSuspendCounter++,Ir=Va=null,it=d,K.H=g,K.A=y,ze===null&&(mt=null,Be=0,yd()),E}function YT(){for(;ze!==null;)hv(ze)}function QT(s,i){var l=it;it|=2;var d=uv(),g=dv();mt!==s||Be!==i?(Kd=null,Qd=ln()+500,Ql(s,i)):Gl=Ss(s,i);e:do try{if(ot!==0&&ze!==null){i=ze;var y=Qn;t:switch(ot){case 1:ot=0,Qn=null,Kl(s,i,y,1);break;case 2:case 9:if(_x(y)){ot=0,Qn=null,fv(i);break}i=function(){ot!==2&&ot!==9||mt!==s||(ot=7),dr(s)},y.then(i,i);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:_x(y)?(ot=0,Qn=null,fv(i)):(ot=0,Qn=null,Kl(s,i,y,7));break;case 5:var E=null;switch(ze.tag){case 26:E=ze.memoizedState;case 5:case 27:var T=ze;if(E?Jv(E):T.stateNode.complete){ot=0,Qn=null;var B=T.sibling;if(B!==null)ze=B;else{var X=T.return;X!==null?(ze=X,Jd(X)):ze=null}break t}}ot=0,Qn=null,Kl(s,i,y,5);break;case 6:ot=0,Qn=null,Kl(s,i,y,6);break;case 8:xp(),Rt=6;break e;default:throw Error(r(462))}}KT();break}catch(ne){ov(s,ne)}while(!0);return Ir=Va=null,K.H=d,K.A=g,it=l,ze!==null?0:(mt=null,Be=0,yd(),Rt)}function KT(){for(;ze!==null&&!Fo();)hv(ze)}function hv(s){var i=Pb(s.alternate,s,Fr);s.memoizedProps=s.pendingProps,i===null?Jd(s):ze=i}function fv(s){var i=s,l=i.alternate;switch(i.tag){case 15:case 0:i=kb(l,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=kb(l,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:Om(i);default:Vb(l,i),i=ze=dx(i,Fr),i=Pb(l,i,Fr)}s.memoizedProps=s.pendingProps,i===null?Jd(s):ze=i}function Kl(s,i,l,d){Ir=Va=null,Om(i),Vl=null,fc=0;var g=i.return;try{if(LT(s,g,i,l,Be)){Rt=1,zd(s,us(l,s.current)),ze=null;return}}catch(y){if(g!==null)throw ze=g,y;Rt=1,zd(s,us(l,s.current)),ze=null;return}i.flags&32768?(Qe||d===1?s=!0:Gl||(Be&536870912)!==0?s=!1:(Ci=s=!0,(d===2||d===9||d===3||d===6)&&(d=$n.current,d!==null&&d.tag===13&&(d.flags|=16384))),mv(i,s)):Jd(i)}function Jd(s){var i=s;do{if((i.flags&32768)!==0){mv(i,Ci);return}s=i.return;var l=UT(i.alternate,i,Fr);if(l!==null){ze=l;return}if(i=i.sibling,i!==null){ze=i;return}ze=i=s}while(i!==null);Rt===0&&(Rt=5)}function mv(s,i){do{var l=FT(s.alternate,s);if(l!==null){l.flags&=32767,ze=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(s=s.sibling,s!==null)){ze=s;return}ze=s=l}while(s!==null);Rt=6,ze=null}function pv(s,i,l,d,g,y,E,T,B){s.cancelPendingCommit=null;do Zd();while(Wt!==0);if((it&6)!==0)throw Error(r(327));if(i!==null){if(i===s.current)throw Error(r(177));if(y=i.lanes|i.childLanes,y|=lm,Jf(s,l,y,E,T,B),s===mt&&(ze=mt=null,Be=0),Yl=i,Ii=s,Br=l,pp=y,gp=g,rv=d,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,ZT(_e,function(){return vv(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||d){d=K.T,K.T=null,g=ce.p,ce.p=2,E=it,it|=4;try{BT(s,i,l)}finally{it=E,ce.p=g,K.T=d}}Wt=1,gv(),yv(),xv()}}function gv(){if(Wt===1){Wt=0;var s=Ii,i=Yl,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var d=ce.p;ce.p=2;var g=it;it|=4;try{Xb(i,s);var y=Ip,E=nx(s.containerInfo),T=y.focusedElem,B=y.selectionRange;if(E!==T&&T&&T.ownerDocument&&tx(T.ownerDocument.documentElement,T)){if(B!==null&&nm(T)){var X=B.start,ne=B.end;if(ne===void 0&&(ne=X),"selectionStart"in T)T.selectionStart=X,T.selectionEnd=Math.min(ne,T.value.length);else{var ae=T.ownerDocument||document,J=ae&&ae.defaultView||window;if(J.getSelection){var ee=J.getSelection(),xe=T.textContent.length,Ne=Math.min(B.start,xe),ft=B.end===void 0?Ne:Math.min(B.end,xe);!ee.extend&&Ne>ft&&(E=ft,ft=Ne,Ne=E);var $=ex(T,Ne),H=ex(T,ft);if($&&H&&(ee.rangeCount!==1||ee.anchorNode!==$.node||ee.anchorOffset!==$.offset||ee.focusNode!==H.node||ee.focusOffset!==H.offset)){var Q=ae.createRange();Q.setStart($.node,$.offset),ee.removeAllRanges(),Ne>ft?(ee.addRange(Q),ee.extend(H.node,H.offset)):(Q.setEnd(H.node,H.offset),ee.addRange(Q))}}}}for(ae=[],ee=T;ee=ee.parentNode;)ee.nodeType===1&&ae.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ae.length;T++){var re=ae[T];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}dh=!!kp,Ip=kp=null}finally{it=g,ce.p=d,K.T=l}}s.current=i,Wt=2}}function yv(){if(Wt===2){Wt=0;var s=Ii,i=Yl,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var d=ce.p;ce.p=2;var g=it;it|=4;try{Gb(s,i.alternate,i)}finally{it=g,ce.p=d,K.T=l}}Wt=3}}function xv(){if(Wt===4||Wt===3){Wt=0,ml();var s=Ii,i=Yl,l=Br,d=rv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Wt=5:(Wt=0,Yl=Ii=null,bv(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(ki=null),Sr(l),i=i.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Dt,i,void 0,(i.current.flags&128)===128)}catch{}if(d!==null){i=K.T,g=ce.p,ce.p=2,K.T=null;try{for(var y=s.onRecoverableError,E=0;E<d.length;E++){var T=d[E];y(T.value,{componentStack:T.stack})}}finally{K.T=i,ce.p=g}}(Br&3)!==0&&Zd(),dr(s),g=s.pendingLanes,(l&261930)!==0&&(g&42)!==0?s===yp?kc++:(kc=0,yp=s):kc=0,Ic(0)}}function bv(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,dc(i)))}function Zd(){return gv(),yv(),xv(),vv()}function vv(){if(Wt!==5)return!1;var s=Ii,i=pp;pp=0;var l=Sr(Br),d=K.T,g=ce.p;try{ce.p=32>l?32:l,K.T=null,l=gp,gp=null;var y=Ii,E=Br;if(Wt=0,Yl=Ii=null,Br=0,(it&6)!==0)throw Error(r(331));var T=it;if(it|=4,tv(y.current),Jb(y,y.current,E,l),it=T,Ic(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Dt,y)}catch{}return!0}finally{ce.p=g,K.T=d,bv(s,i)}}function wv(s,i,l){i=us(l,i),i=Km(s.stateNode,i,2),s=Ni(s,i,2),s!==null&&(wa(s,2),dr(s))}function ct(s,i,l){if(s.tag===3)wv(s,s,l);else for(;i!==null;){if(i.tag===3){wv(i,s,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ki===null||!ki.has(d))){s=us(l,s),l=_b(2),d=Ni(i,l,2),d!==null&&(Eb(l,d,i,s),wa(d,2),dr(d));break}}i=i.return}}function vp(s,i,l){var d=s.pingCache;if(d===null){d=s.pingCache=new GT;var g=new Set;d.set(i,g)}else g=d.get(i),g===void 0&&(g=new Set,d.set(i,g));g.has(l)||(hp=!0,g.add(l),s=XT.bind(null,s,i,l),i.then(s,s))}function XT(s,i,l){var d=s.pingCache;d!==null&&d.delete(i),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,mt===s&&(Be&l)===l&&(Rt===4||Rt===3&&(Be&62914560)===Be&&300>ln()-Yd?(it&2)===0&&Ql(s,0):fp|=l,$l===Be&&($l=0)),dr(s)}function _v(s,i){i===0&&(i=Ku()),s=Ma(s,i),s!==null&&(wa(s,i),dr(s))}function WT(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),_v(s,l)}function JT(s,i){var l=0;switch(s.tag){case 31:case 13:var d=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(i),_v(s,l)}function ZT(s,i){return kt(s,i)}var eh=null,Xl=null,wp=!1,th=!1,_p=!1,Di=0;function dr(s){s!==Xl&&s.next===null&&(Xl===null?eh=Xl=s:Xl=Xl.next=s),th=!0,wp||(wp=!0,tA())}function Ic(s,i){if(!_p&&th){_p=!0;do for(var l=!1,d=eh;d!==null;){if(s!==0){var g=d.pendingLanes;if(g===0)var y=0;else{var E=d.suspendedLanes,T=d.pingedLanes;y=(1<<31-Ye(42|s)+1)-1,y&=g&~(E&~T),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,Tv(d,y))}else y=Be,y=Ys(d,d===mt?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||Ss(d,y)||(l=!0,Tv(d,y));d=d.next}while(l);_p=!1}}function eA(){Ev()}function Ev(){th=wp=!1;var s=0;Di!==0&&dA()&&(s=Di);for(var i=ln(),l=null,d=eh;d!==null;){var g=d.next,y=Nv(d,i);y===0?(d.next=null,l===null?eh=g:l.next=g,g===null&&(Xl=l)):(l=d,(s!==0||(y&3)!==0)&&(th=!0)),d=g}Wt!==0&&Wt!==5||Ic(s),Di!==0&&(Di=0)}function Nv(s,i){for(var l=s.suspendedLanes,d=s.pingedLanes,g=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var E=31-Ye(y),T=1<<E,B=g[E];B===-1?((T&l)===0||(T&d)!==0)&&(g[E]=Wf(T,i)):B<=i&&(s.expiredLanes|=T),y&=~T}if(i=mt,l=Be,l=Ys(s,s===i?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,l===0||s===i&&(ot===2||ot===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&Hs(d),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Ss(s,l)){if(i=l&-l,i===s.callbackPriority)return i;switch(d!==null&&Hs(d),Sr(l)){case 2:case 8:l=he;break;case 32:l=_e;break;case 268435456:l=et;break;default:l=_e}return d=Sv.bind(null,s),l=kt(l,d),s.callbackPriority=i,s.callbackNode=l,i}return d!==null&&d!==null&&Hs(d),s.callbackPriority=2,s.callbackNode=null,2}function Sv(s,i){if(Wt!==0&&Wt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Zd()&&s.callbackNode!==l)return null;var d=Be;return d=Ys(s,s===mt?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(av(s,d,i),Nv(s,ln()),s.callbackNode!=null&&s.callbackNode===l?Sv.bind(null,s):null)}function Tv(s,i){if(Zd())return null;av(s,i,!0)}function tA(){fA(function(){(it&6)!==0?kt(se,eA):Ev()})}function Ep(){if(Di===0){var s=Ml;s===0&&(s=Gs,Gs<<=1,(Gs&261888)===0&&(Gs=256)),Di=s}return Di}function Av(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:vl(""+s)}function Cv(s,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,s.id&&l.setAttribute("form",s.id),i.parentNode.insertBefore(l,i),s=new FormData(s),l.parentNode.removeChild(l),s}function nA(s,i,l,d,g){if(i==="submit"&&l&&l.stateNode===g){var y=Av((g[nn]||null).action),E=d.submitter;E&&(i=(i=E[nn]||null)?Av(i.formAction):E.getAttribute("formAction"),i!==null&&(y=i,E=null));var T=new rr("action","action",null,d,g);s.push({event:T,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Di!==0){var B=E?Cv(g,E):new FormData(g);qm(l,{pending:!0,data:B,method:g.method,action:y},null,B)}}else typeof y=="function"&&(T.preventDefault(),B=E?Cv(g,E):new FormData(g),qm(l,{pending:!0,data:B,method:g.method,action:y},y,B))},currentTarget:g}]})}}for(var Np=0;Np<am.length;Np++){var Sp=am[Np],sA=Sp.toLowerCase(),rA=Sp[0].toUpperCase()+Sp.slice(1);Ds(sA,"on"+rA)}Ds(ix,"onAnimationEnd"),Ds(ax,"onAnimationIteration"),Ds(lx,"onAnimationStart"),Ds("dblclick","onDoubleClick"),Ds("focusin","onFocus"),Ds("focusout","onBlur"),Ds(vT,"onTransitionRun"),Ds(wT,"onTransitionStart"),Ds(_T,"onTransitionCancel"),Ds(ox,"onTransitionEnd"),er("onMouseEnter",["mouseout","mouseover"]),er("onMouseLeave",["mouseout","mouseover"]),er("onPointerEnter",["pointerout","pointerover"]),er("onPointerLeave",["pointerout","pointerover"]),Zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rc));function jv(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var d=s[l],g=d.event;d=d.listeners;e:{var y=void 0;if(i)for(var E=d.length-1;0<=E;E--){var T=d[E],B=T.instance,X=T.currentTarget;if(T=T.listener,B!==y&&g.isPropagationStopped())break e;y=T,g.currentTarget=X;try{y(g)}catch(ne){gd(ne)}g.currentTarget=null,y=B}else for(E=0;E<d.length;E++){if(T=d[E],B=T.instance,X=T.currentTarget,T=T.listener,B!==y&&g.isPropagationStopped())break e;y=T,g.currentTarget=X;try{y(g)}catch(ne){gd(ne)}g.currentTarget=null,y=B}}}}function Ue(s,i){var l=i[pl];l===void 0&&(l=i[pl]=new Set);var d=s+"__bubble";l.has(d)||(kv(i,s,2,!1),l.add(d))}function Tp(s,i,l){var d=0;i&&(d|=4),kv(l,s,d,i)}var nh="_reactListening"+Math.random().toString(36).slice(2);function Ap(s){if(!s[nh]){s[nh]=!0,Ho.forEach(function(l){l!=="selectionchange"&&(iA.has(l)||Tp(l,!1,s),Tp(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[nh]||(i[nh]=!0,Tp("selectionchange",!1,i))}}function kv(s,i,l,d){switch(i1(i)){case 2:var g=DA;break;case 8:g=OA;break;default:g=Bp}l=g.bind(null,i,l,s),g=void 0,!Aa||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),d?g!==void 0?s.addEventListener(i,l,{capture:!0,passive:g}):s.addEventListener(i,l,!0):g!==void 0?s.addEventListener(i,l,{passive:g}):s.addEventListener(i,l,!1)}function Cp(s,i,l,d,g){var y=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var T=d.stateNode.containerInfo;if(T===g)break;if(E===4)for(E=d.return;E!==null;){var B=E.tag;if((B===3||B===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;T!==null;){if(E=Ws(T),E===null)return;if(B=E.tag,B===5||B===6||B===26||B===27){d=y=E;continue e}T=T.parentNode}}d=d.return}mi(function(){var X=y,ne=as(l),ae=[];e:{var J=cx.get(s);if(J!==void 0){var ee=rr,xe=s;switch(s){case"keypress":if(ja(l)===0)break e;case"keydown":case"keyup":ee=fd;break;case"focusin":xe="focus",ee=Ia;break;case"focusout":xe="blur",ee=Ia;break;case"beforeblur":case"afterblur":ee=Ia;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=rd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=_;break;case ix:case ax:case lx:ee=ad;break;case ox:ee=j;break;case"scroll":case"scrollend":ee=nc;break;case"wheel":ee=Z;break;case"copy":case"cut":case"paste":ee=ld;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Cr;break;case"toggle":case"beforetoggle":ee=De}var Ne=(i&4)!==0,ft=!Ne&&(s==="scroll"||s==="scrollend"),$=Ne?J!==null?J+"Capture":null:J;Ne=[];for(var H=X,Q;H!==null;){var re=H;if(Q=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||Q===null||$===null||(re=js(H,$),re!=null&&Ne.push(Dc(H,re,Q))),ft)break;H=H.return}0<Ne.length&&(J=new ee(J,xe,null,l,ne),ae.push({event:J,listeners:Ne}))}}if((i&7)===0){e:{if(J=s==="mouseover"||s==="pointerover",ee=s==="mouseout"||s==="pointerout",J&&l!==Zo&&(xe=l.relatedTarget||l.fromElement)&&(Ws(xe)||xe[Ks]))break e;if((ee||J)&&(J=ne.window===ne?ne:(J=ne.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(xe=l.relatedTarget||l.toElement,ee=X,xe=xe?Ws(xe):null,xe!==null&&(ft=o(xe),Ne=xe.tag,xe!==ft||Ne!==5&&Ne!==27&&Ne!==6)&&(xe=null)):(ee=null,xe=X),ee!==xe)){if(Ne=sc,re="onMouseLeave",$="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(Ne=Cr,re="onPointerLeave",$="onPointerEnter",H="pointer"),ft=ee==null?J:Bn(ee),Q=xe==null?J:Bn(xe),J=new Ne(re,H+"leave",ee,l,ne),J.target=ft,J.relatedTarget=Q,re=null,Ws(ne)===X&&(Ne=new Ne($,H+"enter",xe,l,ne),Ne.target=Q,Ne.relatedTarget=ft,re=Ne),ft=re,ee&&xe)t:{for(Ne=aA,$=ee,H=xe,Q=0,re=$;re;re=Ne(re))Q++;re=0;for(var ve=H;ve;ve=Ne(ve))re++;for(;0<Q-re;)$=Ne($),Q--;for(;0<re-Q;)H=Ne(H),re--;for(;Q--;){if($===H||H!==null&&$===H.alternate){Ne=$;break t}$=Ne($),H=Ne(H)}Ne=null}else Ne=null;ee!==null&&Iv(ae,J,ee,Ne,!1),xe!==null&&ft!==null&&Iv(ae,ft,xe,Ne,!0)}}e:{if(J=X?Bn(X):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var tt=Qy;else if($y(J))if(Ky)tt=yT;else{tt=pT;var be=mT}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&bl(X.elementType)&&(tt=Qy):tt=gT;if(tt&&(tt=tt(s,X))){Yy(ae,tt,l,ne);break e}be&&be(s,J,X),s==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&Xo(J,"number",J.value)}switch(be=X?Bn(X):window,s){case"focusin":($y(be)||be.contentEditable==="true")&&(Al=be,sm=X,oc=null);break;case"focusout":oc=sm=Al=null;break;case"mousedown":rm=!0;break;case"contextmenu":case"mouseup":case"dragend":rm=!1,sx(ae,l,ne);break;case"selectionchange":if(bT)break;case"keydown":case"keyup":sx(ae,l,ne)}var Me;if(rt)e:{switch(s){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Tl?Ra(s,l)&&(qe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(qe="onCompositionStart");qe&&(lr&&l.locale!=="ko"&&(Tl||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Tl&&(Me=tc()):(sr=ne,ec="value"in sr?sr.value:sr.textContent,Tl=!0)),be=sh(X,qe),0<be.length&&(qe=new ar(qe,s,null,l,ne),ae.push({event:qe,listeners:be}),Me?qe.data=Me:(Me=Sl(l),Me!==null&&(qe.data=Me)))),(Me=os?uT(s,l):dT(s,l))&&(qe=sh(X,"onBeforeInput"),0<qe.length&&(be=new ar("onBeforeInput","beforeinput",null,l,ne),ae.push({event:be,listeners:qe}),be.data=Me)),nA(ae,s,X,l,ne)}jv(ae,i)})}function Dc(s,i,l){return{instance:s,listener:i,currentTarget:l}}function sh(s,i){for(var l=i+"Capture",d=[];s!==null;){var g=s,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=js(s,l),g!=null&&d.unshift(Dc(s,g,y)),g=js(s,i),g!=null&&d.push(Dc(s,g,y))),s.tag===3)return d;s=s.return}return[]}function aA(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Iv(s,i,l,d,g){for(var y=i._reactName,E=[];l!==null&&l!==d;){var T=l,B=T.alternate,X=T.stateNode;if(T=T.tag,B!==null&&B===d)break;T!==5&&T!==26&&T!==27||X===null||(B=X,g?(X=js(l,y),X!=null&&E.unshift(Dc(l,X,B))):g||(X=js(l,y),X!=null&&E.push(Dc(l,X,B)))),l=l.return}E.length!==0&&s.push({event:i,listeners:E})}var lA=/\r\n?/g,oA=/\u0000|\uFFFD/g;function Rv(s){return(typeof s=="string"?s:""+s).replace(lA,`
`).replace(oA,"")}function Dv(s,i){return i=Rv(i),Rv(s)===i}function ht(s,i,l,d,g,y){switch(l){case"children":typeof d=="string"?i==="body"||i==="textarea"&&d===""||Rn(s,d):(typeof d=="number"||typeof d=="bigint")&&i!=="body"&&Rn(s,""+d);break;case"className":qn(s,"class",d);break;case"tabIndex":qn(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(s,l,d);break;case"style":Jo(s,d,y);break;case"data":if(i!=="object"){qn(s,"data",d);break}case"src":case"href":if(d===""&&(i!=="a"||l!=="href")){s.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(l);break}d=vl(""+d),s.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(i!=="input"&&ht(s,i,"name",g.name,g,null),ht(s,i,"formEncType",g.formEncType,g,null),ht(s,i,"formMethod",g.formMethod,g,null),ht(s,i,"formTarget",g.formTarget,g,null)):(ht(s,i,"encType",g.encType,g,null),ht(s,i,"method",g.method,g,null),ht(s,i,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(l);break}d=vl(""+d),s.setAttribute(l,d);break;case"onClick":d!=null&&(s.onclick=Cs);break;case"onScroll":d!=null&&Ue("scroll",s);break;case"onScrollEnd":d!=null&&Ue("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(l=d.__html,l!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}l=vl(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,""+d):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":d===!0?s.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,d):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(l,d):s.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(l):s.setAttribute(l,d);break;case"popover":Ue("beforetoggle",s),Ue("toggle",s),yl(s,"popover",d);break;case"xlinkActuate":Bt(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Bt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Bt(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Bt(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Bt(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Bt(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Bt(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Bt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Bt(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":yl(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=sd.get(l)||l,yl(s,l,d))}}function jp(s,i,l,d,g,y){switch(l){case"style":Jo(s,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(l=d.__html,l!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof d=="string"?Rn(s,d):(typeof d=="number"||typeof d=="bigint")&&Rn(s,""+d);break;case"onScroll":d!=null&&Ue("scroll",s);break;case"onScrollEnd":d!=null&&Ue("scrollend",s);break;case"onClick":d!=null&&(s.onclick=Cs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Go.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),i=l.slice(2,g?l.length-7:void 0),y=s[nn]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(i,y,g),typeof d=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(i,d,g);break e}l in s?s[l]=d:d===!0?s.setAttribute(l,""):yl(s,l,d)}}}function hn(s,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",s),Ue("load",s);var d=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var E=l[y];if(E!=null)switch(y){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ht(s,i,y,E,l,null)}}g&&ht(s,i,"srcSet",l.srcSet,l,null),d&&ht(s,i,"src",l.src,l,null);return;case"input":Ue("invalid",s);var T=y=E=g=null,B=null,X=null;for(d in l)if(l.hasOwnProperty(d)){var ne=l[d];if(ne!=null)switch(d){case"name":g=ne;break;case"type":E=ne;break;case"checked":B=ne;break;case"defaultChecked":X=ne;break;case"value":y=ne;break;case"defaultValue":T=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,i));break;default:ht(s,i,d,ne,l,null)}}ed(s,y,T,B,X,E,g,!1);return;case"select":Ue("invalid",s),d=E=y=null;for(g in l)if(l.hasOwnProperty(g)&&(T=l[g],T!=null))switch(g){case"value":y=T;break;case"defaultValue":E=T;break;case"multiple":d=T;default:ht(s,i,g,T,l,null)}i=y,l=E,s.multiple=!!d,i!=null?ui(s,!!d,i,!1):l!=null&&ui(s,!!d,l,!0);return;case"textarea":Ue("invalid",s),y=g=d=null;for(E in l)if(l.hasOwnProperty(E)&&(T=l[E],T!=null))switch(E){case"value":d=T;break;case"defaultValue":g=T;break;case"children":y=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:ht(s,i,E,T,l,null)}di(s,d,g,y);return;case"option":for(B in l)if(l.hasOwnProperty(B)&&(d=l[B],d!=null))switch(B){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ht(s,i,B,d,l,null)}return;case"dialog":Ue("beforetoggle",s),Ue("toggle",s),Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":Ue("load",s);break;case"video":case"audio":for(d=0;d<Rc.length;d++)Ue(Rc[d],s);break;case"image":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"embed":case"source":case"link":Ue("error",s),Ue("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in l)if(l.hasOwnProperty(X)&&(d=l[X],d!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ht(s,i,X,d,l,null)}return;default:if(bl(i)){for(ne in l)l.hasOwnProperty(ne)&&(d=l[ne],d!==void 0&&jp(s,i,ne,d,l,void 0));return}}for(T in l)l.hasOwnProperty(T)&&(d=l[T],d!=null&&ht(s,i,T,d,l,null))}function cA(s,i,l,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,E=null,T=null,B=null,X=null,ne=null;for(ee in l){var ae=l[ee];if(l.hasOwnProperty(ee)&&ae!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":B=ae;default:d.hasOwnProperty(ee)||ht(s,i,ee,null,d,ae)}}for(var J in d){var ee=d[J];if(ae=l[J],d.hasOwnProperty(J)&&(ee!=null||ae!=null))switch(J){case"type":y=ee;break;case"name":g=ee;break;case"checked":X=ee;break;case"defaultChecked":ne=ee;break;case"value":E=ee;break;case"defaultValue":T=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,i));break;default:ee!==ae&&ht(s,i,J,ee,d,ae)}}xl(s,E,T,B,X,ne,y,g);return;case"select":ee=E=T=J=null;for(y in l)if(B=l[y],l.hasOwnProperty(y)&&B!=null)switch(y){case"value":break;case"multiple":ee=B;default:d.hasOwnProperty(y)||ht(s,i,y,null,d,B)}for(g in d)if(y=d[g],B=l[g],d.hasOwnProperty(g)&&(y!=null||B!=null))switch(g){case"value":J=y;break;case"defaultValue":T=y;break;case"multiple":E=y;default:y!==B&&ht(s,i,g,y,d,B)}i=T,l=E,d=ee,J!=null?ui(s,!!l,J,!1):!!d!=!!l&&(i!=null?ui(s,!!l,i,!0):ui(s,!!l,l?[]:"",!1));return;case"textarea":ee=J=null;for(T in l)if(g=l[T],l.hasOwnProperty(T)&&g!=null&&!d.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ht(s,i,T,null,d,g)}for(E in d)if(g=d[E],y=l[E],d.hasOwnProperty(E)&&(g!=null||y!=null))switch(E){case"value":J=g;break;case"defaultValue":ee=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==y&&ht(s,i,E,g,d,y)}td(s,J,ee);return;case"option":for(var xe in l)if(J=l[xe],l.hasOwnProperty(xe)&&J!=null&&!d.hasOwnProperty(xe))switch(xe){case"selected":s.selected=!1;break;default:ht(s,i,xe,null,d,J)}for(B in d)if(J=d[B],ee=l[B],d.hasOwnProperty(B)&&J!==ee&&(J!=null||ee!=null))switch(B){case"selected":s.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:ht(s,i,B,J,d,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in l)J=l[Ne],l.hasOwnProperty(Ne)&&J!=null&&!d.hasOwnProperty(Ne)&&ht(s,i,Ne,null,d,J);for(X in d)if(J=d[X],ee=l[X],d.hasOwnProperty(X)&&J!==ee&&(J!=null||ee!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,i));break;default:ht(s,i,X,J,d,ee)}return;default:if(bl(i)){for(var ft in l)J=l[ft],l.hasOwnProperty(ft)&&J!==void 0&&!d.hasOwnProperty(ft)&&jp(s,i,ft,void 0,d,J);for(ne in d)J=d[ne],ee=l[ne],!d.hasOwnProperty(ne)||J===ee||J===void 0&&ee===void 0||jp(s,i,ne,J,d,ee);return}}for(var $ in l)J=l[$],l.hasOwnProperty($)&&J!=null&&!d.hasOwnProperty($)&&ht(s,i,$,null,d,J);for(ae in d)J=d[ae],ee=l[ae],!d.hasOwnProperty(ae)||J===ee||J==null&&ee==null||ht(s,i,ae,J,d,ee)}function Ov(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uA(){if(typeof performance.getEntriesByType=="function"){for(var s=0,i=0,l=performance.getEntriesByType("resource"),d=0;d<l.length;d++){var g=l[d],y=g.transferSize,E=g.initiatorType,T=g.duration;if(y&&T&&Ov(E)){for(E=0,T=g.responseEnd,d+=1;d<l.length;d++){var B=l[d],X=B.startTime;if(X>T)break;var ne=B.transferSize,ae=B.initiatorType;ne&&Ov(ae)&&(B=B.responseEnd,E+=ne*(B<T?1:(T-X)/(B-X)))}if(--d,i+=8*(y+E)/(g.duration/1e3),s++,10<s)break}}if(0<s)return i/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var kp=null,Ip=null;function rh(s){return s.nodeType===9?s:s.ownerDocument}function Mv(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pv(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function Rp(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Dp=null;function dA(){var s=window.event;return s&&s.type==="popstate"?s===Dp?!1:(Dp=s,!0):(Dp=null,!1)}var Lv=typeof setTimeout=="function"?setTimeout:void 0,hA=typeof clearTimeout=="function"?clearTimeout:void 0,Vv=typeof Promise=="function"?Promise:void 0,fA=typeof queueMicrotask=="function"?queueMicrotask:typeof Vv<"u"?function(s){return Vv.resolve(null).then(s).catch(mA)}:Lv;function mA(s){setTimeout(function(){throw s})}function Oi(s){return s==="head"}function zv(s,i){var l=i,d=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(d===0){s.removeChild(g),eo(i);return}d--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")d++;else if(l==="html")Oc(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,Oc(l);for(var y=l.firstChild;y;){var E=y.nextSibling,T=y.nodeName;y[Xs]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=E}}else l==="body"&&Oc(s.ownerDocument.body);l=g}while(l);eo(i)}function Uv(s,i){var l=s;s=0;do{var d=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=d}while(l)}function Op(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Op(l),gl(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function pA(s,i,l,d){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[Xs])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=ps(s.nextSibling),s===null)break}return null}function gA(s,i,l){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=ps(s.nextSibling),s===null))return null;return s}function Fv(s,i){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!i||(s=ps(s.nextSibling),s===null))return null;return s}function Mp(s){return s.data==="$?"||s.data==="$~"}function Pp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function yA(s,i){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=i;else if(s.data!=="$?"||l.readyState!=="loading")i();else{var d=function(){i(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function ps(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return s}var Lp=null;function Bv(s){s=s.nextSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(i===0)return ps(s.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}s=s.nextSibling}return null}function qv(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return s;i--}else l!=="/$"&&l!=="/&"||i++}s=s.previousSibling}return null}function Hv(s,i,l){switch(i=rh(l),s){case"html":if(s=i.documentElement,!s)throw Error(r(452));return s;case"head":if(s=i.head,!s)throw Error(r(453));return s;case"body":if(s=i.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Oc(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);gl(s)}var gs=new Map,Gv=new Set;function ih(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var qr=ce.d;ce.d={f:xA,r:bA,D:vA,C:wA,L:_A,m:EA,X:SA,S:NA,M:TA};function xA(){var s=qr.f(),i=Xd();return s||i}function bA(s){var i=is(s);i!==null&&i.tag===5&&i.type==="form"?ob(i):qr.r(s)}var Wl=typeof document>"u"?null:document;function $v(s,i,l){var d=Wl;if(d&&typeof i=="string"&&i){var g=In(i);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Gv.has(g)||(Gv.add(g),s={rel:s,crossOrigin:l,href:i},d.querySelector(g)===null&&(i=d.createElement("link"),hn(i,"link",s),Ft(i),d.head.appendChild(i)))}}function vA(s){qr.D(s),$v("dns-prefetch",s,null)}function wA(s,i){qr.C(s,i),$v("preconnect",s,i)}function _A(s,i,l){qr.L(s,i,l);var d=Wl;if(d&&s&&i){var g='link[rel="preload"][as="'+In(i)+'"]';i==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+In(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+In(l.imageSizes)+'"]')):g+='[href="'+In(s)+'"]';var y=g;switch(i){case"style":y=Jl(s);break;case"script":y=Zl(s)}gs.has(y)||(s=b({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:s,as:i},l),gs.set(y,s),d.querySelector(g)!==null||i==="style"&&d.querySelector(Mc(y))||i==="script"&&d.querySelector(Pc(y))||(i=d.createElement("link"),hn(i,"link",s),Ft(i),d.head.appendChild(i)))}}function EA(s,i){qr.m(s,i);var l=Wl;if(l&&s){var d=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+In(d)+'"][href="'+In(s)+'"]',y=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Zl(s)}if(!gs.has(y)&&(s=b({rel:"modulepreload",href:s},i),gs.set(y,s),l.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Pc(y)))return}d=l.createElement("link"),hn(d,"link",s),Ft(d),l.head.appendChild(d)}}}function NA(s,i,l){qr.S(s,i,l);var d=Wl;if(d&&s){var g=Js(d).hoistableStyles,y=Jl(s);i=i||"default";var E=g.get(y);if(!E){var T={loading:0,preload:null};if(E=d.querySelector(Mc(y)))T.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":i},l),(l=gs.get(y))&&Vp(s,l);var B=E=d.createElement("link");Ft(B),hn(B,"link",s),B._p=new Promise(function(X,ne){B.onload=X,B.onerror=ne}),B.addEventListener("load",function(){T.loading|=1}),B.addEventListener("error",function(){T.loading|=2}),T.loading|=4,ah(E,i,d)}E={type:"stylesheet",instance:E,count:1,state:T},g.set(y,E)}}}function SA(s,i){qr.X(s,i);var l=Wl;if(l&&s){var d=Js(l).hoistableScripts,g=Zl(s),y=d.get(g);y||(y=l.querySelector(Pc(g)),y||(s=b({src:s,async:!0},i),(i=gs.get(g))&&zp(s,i),y=l.createElement("script"),Ft(y),hn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(g,y))}}function TA(s,i){qr.M(s,i);var l=Wl;if(l&&s){var d=Js(l).hoistableScripts,g=Zl(s),y=d.get(g);y||(y=l.querySelector(Pc(g)),y||(s=b({src:s,async:!0,type:"module"},i),(i=gs.get(g))&&zp(s,i),y=l.createElement("script"),Ft(y),hn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(g,y))}}function Yv(s,i,l,d){var g=(g=Je.current)?ih(g):null;if(!g)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Jl(l.href),l=Js(g).hoistableStyles,d=l.get(i),d||(d={type:"style",instance:null,count:0,state:null},l.set(i,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Jl(l.href);var y=Js(g).hoistableStyles,E=y.get(s);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,E),(y=g.querySelector(Mc(s)))&&!y._p&&(E.instance=y,E.state.loading=5),gs.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},gs.set(s,l),y||AA(g,s,l,E.state))),i&&d===null)throw Error(r(528,""));return E}if(i&&d!==null)throw Error(r(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Zl(l),l=Js(g).hoistableScripts,d=l.get(i),d||(d={type:"script",instance:null,count:0,state:null},l.set(i,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Jl(s){return'href="'+In(s)+'"'}function Mc(s){return'link[rel="stylesheet"]['+s+"]"}function Qv(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function AA(s,i,l,d){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?d.loading=1:(i=s.createElement("link"),d.preload=i,i.addEventListener("load",function(){return d.loading|=1}),i.addEventListener("error",function(){return d.loading|=2}),hn(i,"link",l),Ft(i),s.head.appendChild(i))}function Zl(s){return'[src="'+In(s)+'"]'}function Pc(s){return"script[async]"+s}function Kv(s,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var d=s.querySelector('style[data-href~="'+In(l.href)+'"]');if(d)return i.instance=d,Ft(d),d;var g=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),Ft(d),hn(d,"style",g),ah(d,l.precedence,s),i.instance=d;case"stylesheet":g=Jl(l.href);var y=s.querySelector(Mc(g));if(y)return i.state.loading|=4,i.instance=y,Ft(y),y;d=Qv(l),(g=gs.get(g))&&Vp(d,g),y=(s.ownerDocument||s).createElement("link"),Ft(y);var E=y;return E._p=new Promise(function(T,B){E.onload=T,E.onerror=B}),hn(y,"link",d),i.state.loading|=4,ah(y,l.precedence,s),i.instance=y;case"script":return y=Zl(l.src),(g=s.querySelector(Pc(y)))?(i.instance=g,Ft(g),g):(d=l,(g=gs.get(y))&&(d=b({},l),zp(d,g)),s=s.ownerDocument||s,g=s.createElement("script"),Ft(g),hn(g,"link",d),s.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(d=i.instance,i.state.loading|=4,ah(d,l.precedence,s));return i.instance}function ah(s,i,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,y=g,E=0;E<d.length;E++){var T=d[E];if(T.dataset.precedence===i)y=T;else if(y!==g)break}y?y.parentNode.insertBefore(s,y.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(s,i.firstChild))}function Vp(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function zp(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var lh=null;function Xv(s,i,l){if(lh===null){var d=new Map,g=lh=new Map;g.set(l,d)}else g=lh,d=g.get(l),d||(d=new Map,g.set(l,d));if(d.has(s))return d;for(d.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var y=l[g];if(!(y[Xs]||y[Ut]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(i)||"";E=s+E;var T=d.get(E);T?T.push(y):d.set(E,[y])}}return d}function Wv(s,i,l){s=s.ownerDocument||s,s.head.insertBefore(l,i==="title"?s.querySelector("head > title"):null)}function CA(s,i,l){if(l===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return s=i.disabled,typeof i.precedence=="string"&&s==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Jv(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function jA(s,i,l,d){if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Jl(d.href),y=i.querySelector(Mc(g));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(s.count++,s=oh.bind(s),i.then(s,s)),l.state.loading|=4,l.instance=y,Ft(y);return}y=i.ownerDocument||i,d=Qv(d),(g=gs.get(g))&&Vp(d,g),y=y.createElement("link"),Ft(y);var E=y;E._p=new Promise(function(T,B){E.onload=T,E.onerror=B}),hn(y,"link",d),l.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=oh.bind(s),i.addEventListener("load",l),i.addEventListener("error",l))}}var Up=0;function kA(s,i){return s.stylesheets&&s.count===0&&uh(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var d=setTimeout(function(){if(s.stylesheets&&uh(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+i);0<s.imgBytes&&Up===0&&(Up=62500*uA());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&uh(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Up?50:800)+i);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(d),clearTimeout(g)}}:null}function oh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var ch=null;function uh(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,ch=new Map,i.forEach(IA,s),ch=null,oh.call(s))}function IA(s,i){if(!(i.state.loading&4)){var l=ch.get(s);if(l)var d=l.get(null);else{l=new Map,ch.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var E=g[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),d=E)}d&&l.set(null,d)}g=i.instance,E=g.getAttribute("data-precedence"),y=l.get(E)||d,y===d&&l.set(null,g),l.set(E,g),this.count++,d=oh.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),y?y.parentNode.insertBefore(g,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),i.state.loading|=4}}var Lc={$$typeof:q,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function RA(s,i,l,d,g,y,E,T,B){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qs(0),this.hiddenUpdates=Qs(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function Zv(s,i,l,d,g,y,E,T,B,X,ne,ae){return s=new RA(s,i,l,E,B,X,ne,ae,T),i=1,y===!0&&(i|=24),y=Gn(3,null,null,i),s.current=y,y.stateNode=s,i=bm(),i.refCount++,s.pooledCache=i,i.refCount++,y.memoizedState={element:d,isDehydrated:l,cache:i},Em(y),s}function e1(s){return s?(s=kl,s):kl}function t1(s,i,l,d,g,y){g=e1(g),d.context===null?d.context=g:d.pendingContext=g,d=Ei(i),d.payload={element:l},y=y===void 0?null:y,y!==null&&(d.callback=y),l=Ni(s,d,i),l!==null&&(Ln(l,s,i),pc(l,s,i))}function n1(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function Fp(s,i){n1(s,i),(s=s.alternate)&&n1(s,i)}function s1(s){if(s.tag===13||s.tag===31){var i=Ma(s,67108864);i!==null&&Ln(i,s,67108864),Fp(s,67108864)}}function r1(s){if(s.tag===13||s.tag===31){var i=Xn();i=Ea(i);var l=Ma(s,i);l!==null&&Ln(l,s,i),Fp(s,i)}}var dh=!0;function DA(s,i,l,d){var g=K.T;K.T=null;var y=ce.p;try{ce.p=2,Bp(s,i,l,d)}finally{ce.p=y,K.T=g}}function OA(s,i,l,d){var g=K.T;K.T=null;var y=ce.p;try{ce.p=8,Bp(s,i,l,d)}finally{ce.p=y,K.T=g}}function Bp(s,i,l,d){if(dh){var g=qp(d);if(g===null)Cp(s,i,d,hh,l),a1(s,d);else if(PA(g,s,i,l,d))d.stopPropagation();else if(a1(s,d),i&4&&-1<MA.indexOf(s)){for(;g!==null;){var y=is(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=$s(y.pendingLanes);if(E!==0){var T=y;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var B=1<<31-Ye(E);T.entanglements[1]|=B,E&=~B}dr(y),(it&6)===0&&(Qd=ln()+500,Ic(0))}}break;case 31:case 13:T=Ma(y,2),T!==null&&Ln(T,y,2),Xd(),Fp(y,2)}if(y=qp(d),y===null&&Cp(s,i,d,hh,l),y===g)break;g=y}g!==null&&d.stopPropagation()}else Cp(s,i,d,null,l)}}function qp(s){return s=as(s),Hp(s)}var hh=null;function Hp(s){if(hh=null,s=Ws(s),s!==null){var i=o(s);if(i===null)s=null;else{var l=i.tag;if(l===13){if(s=u(i),s!==null)return s;s=null}else if(l===31){if(s=h(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return hh=s,null}function i1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nr()){case se:return 2;case he:return 8;case _e:case Le:return 32;case et:return 268435456;default:return 32}default:return 32}}var Gp=!1,Mi=null,Pi=null,Li=null,Vc=new Map,zc=new Map,Vi=[],MA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a1(s,i){switch(s){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":Vc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zc.delete(i.pointerId)}}function Uc(s,i,l,d,g,y){return s===null||s.nativeEvent!==y?(s={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[g]},i!==null&&(i=is(i),i!==null&&s1(i)),s):(s.eventSystemFlags|=d,i=s.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),s)}function PA(s,i,l,d,g){switch(i){case"focusin":return Mi=Uc(Mi,s,i,l,d,g),!0;case"dragenter":return Pi=Uc(Pi,s,i,l,d,g),!0;case"mouseover":return Li=Uc(Li,s,i,l,d,g),!0;case"pointerover":var y=g.pointerId;return Vc.set(y,Uc(Vc.get(y)||null,s,i,l,d,g)),!0;case"gotpointercapture":return y=g.pointerId,zc.set(y,Uc(zc.get(y)||null,s,i,l,d,g)),!0}return!1}function l1(s){var i=Ws(s.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=u(l),i!==null){s.blockedOn=i,Ts(s.priority,function(){r1(l)});return}}else if(i===31){if(i=h(l),i!==null){s.blockedOn=i,Ts(s.priority,function(){r1(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function fh(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=qp(s.nativeEvent);if(l===null){l=s.nativeEvent;var d=new l.constructor(l.type,l);Zo=d,l.target.dispatchEvent(d),Zo=null}else return i=is(l),i!==null&&s1(i),s.blockedOn=l,!1;i.shift()}return!0}function o1(s,i,l){fh(s)&&l.delete(i)}function LA(){Gp=!1,Mi!==null&&fh(Mi)&&(Mi=null),Pi!==null&&fh(Pi)&&(Pi=null),Li!==null&&fh(Li)&&(Li=null),Vc.forEach(o1),zc.forEach(o1)}function mh(s,i){s.blockedOn===i&&(s.blockedOn=null,Gp||(Gp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,LA)))}var ph=null;function c1(s){ph!==s&&(ph=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ph===s&&(ph=null);for(var i=0;i<s.length;i+=3){var l=s[i],d=s[i+1],g=s[i+2];if(typeof d!="function"){if(Hp(d||l)===null)continue;break}var y=is(l);y!==null&&(s.splice(i,3),i-=3,qm(y,{pending:!0,data:g,method:l.method,action:d},d,g))}}))}function eo(s){function i(B){return mh(B,s)}Mi!==null&&mh(Mi,s),Pi!==null&&mh(Pi,s),Li!==null&&mh(Li,s),Vc.forEach(i),zc.forEach(i);for(var l=0;l<Vi.length;l++){var d=Vi[l];d.blockedOn===s&&(d.blockedOn=null)}for(;0<Vi.length&&(l=Vi[0],l.blockedOn===null);)l1(l),l.blockedOn===null&&Vi.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var g=l[d],y=l[d+1],E=g[nn]||null;if(typeof y=="function")E||c1(l);else if(E){var T=null;if(y&&y.hasAttribute("formAction")){if(g=y,E=y[nn]||null)T=E.formAction;else if(Hp(g)!==null)continue}else T=E.action;typeof T=="function"?l[d+1]=T:(l.splice(d,3),d-=3),c1(l)}}}function u1(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return g=E})},focusReset:"manual",scroll:"manual"})}function i(){g!==null&&(g(),g=null),d||setTimeout(l,20)}function l(){if(!d&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){d=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),g!==null&&(g(),g=null)}}}function $p(s){this._internalRoot=s}gh.prototype.render=$p.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));var l=i.current,d=Xn();t1(l,d,s,i,null,null)},gh.prototype.unmount=$p.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;t1(s.current,2,null,s,null,null),Xd(),i[Ks]=null}};function gh(s){this._internalRoot=s}gh.prototype.unstable_scheduleHydration=function(s){if(s){var i=Xu();s={blockedOn:null,target:s,priority:i};for(var l=0;l<Vi.length&&i!==0&&i<Vi[l].priority;l++);Vi.splice(l,0,s),l===0&&l1(s)}};var d1=e.version;if(d1!=="19.2.0")throw Error(r(527,d1,"19.2.0"));ce.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=p(i),s=s!==null?x(s):null,s=s===null?null:s.stateNode,s};var VA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{Dt=yh.inject(VA),Tt=yh}catch{}}return Fc.createRoot=function(s,i){if(!a(s))throw Error(r(299));var l=!1,d="",g=xb,y=bb,E=vb;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError)),i=Zv(s,1,!1,null,null,l,d,null,g,y,E,u1),s[Ks]=i.current,Ap(s),new $p(i)},Fc.hydrateRoot=function(s,i,l){if(!a(s))throw Error(r(299));var d=!1,g="",y=xb,E=bb,T=vb,B=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError),l.formState!==void 0&&(B=l.formState)),i=Zv(s,1,!0,i,l??null,d,g,B,y,E,T,u1),i.context=e1(null),l=i.current,d=Xn(),d=Ea(d),g=Ei(d),g.callback=null,Ni(l,g,d),l=d,i.current.lanes=l,wa(i,l),dr(i),s[Ks]=i.current,Ap(s),new gh(i)},Fc.version="19.2.0",Fc}var p1;function GA(){if(p1)return Yp.exports;p1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yp.exports=HA(),Yp.exports}var $A=GA();const YA=x0($A);const QA=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KA=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),g1=t=>{const e=KA(t);return e.charAt(0).toUpperCase()+e.slice(1)},cE=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),XA=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var WA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const JA=U.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:u,...h},m)=>U.createElement("svg",{ref:m,...WA,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:cE("lucide",a),...!o&&!XA(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,x])=>U.createElement(p,x)),...Array.isArray(o)?o:[o]]));const me=(t,e)=>{const n=U.forwardRef(({className:r,...a},o)=>U.createElement(JA,{ref:o,iconNode:e,className:cE(`lucide-${QA(g1(t))}`,`lucide-${t}`,r),...a}));return n.displayName=g1(t),n};const ZA=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ag=me("activity",ZA);const eC=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],tC=me("arrow-down-right",eC);const nC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Cg=me("arrow-right",nC);const sC=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],rC=me("arrow-up-right",sC);const iC=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],aC=me("award",iC);const lC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],oC=me("bell",lC);const cC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Cu=me("book-open",cC);const uC=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],b0=me("brain",uC);const dC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],v0=me("calendar",dC);const hC=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Kr=me("chart-column",hC);const fC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],uE=me("check",fC);const mC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],du=me("chevron-down",mC);const pC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ju=me("chevron-right",pC);const gC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],yC=me("chevron-left",gC);const xC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],br=me("circle-alert",xC);const bC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jg=me("circle-check-big",bC);const vC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ea=me("circle-check",vC);const wC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],dE=me("circle-question-mark",wC);const _C=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],EC=me("circle",_C);const NC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yf=me("clock",NC);const SC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ta=me("copy",SC);const TC=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],AC=me("credit-card",TC);const CC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],jC=me("crown",CC);const kC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],IC=me("download",kC);const RC=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],DC=me("dumbbell",RC);const OC=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],y1=me("ellipsis",OC);const MC=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],PC=me("external-link",MC);const LC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],VC=me("eye-off",LC);const zC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],UC=me("eye",zC);const FC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ja=me("file-text",FC);const BC=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],qC=me("flame",BC);const HC=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],na=me("gavel",HC);const GC=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],$C=me("heart",GC);const YC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],vr=me("history",YC);const QC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],kg=me("image",QC);const KC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],w0=me("info",KC);const XC=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Ao=me("lightbulb",XC);const WC=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],JC=me("link-2",WC);const ZC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],da=me("loader-circle",ZC);const ej=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],tj=me("lock",ej);const nj=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],sj=me("log-out",nj);const rj=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ij=me("mail",rj);const aj=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],hE=me("map-pin",aj);const lj=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],_0=me("message-square",lj);const oj=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],x1=me("mic-off",oj);const cj=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],el=me("mic",cj);const uj=[["path",{d:"M5 12h14",key:"1ays0h"}]],E0=me("minus",uj);const dj=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],hj=me("pause",dj);const fj=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],N0=me("pen-line",fj);const mj=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],fE=me("plane",mj);const pj=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],hu=me("play",pj);const gj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],jn=me("plus",gj);const yj=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],zs=me("refresh-cw",yj);const xj=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],mE=me("rotate-ccw",xj);const bj=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],S0=me("save",bj);const vj=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],pE=me("scale",vj);const wj=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],_j=me("school",wj);const Ej=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],fu=me("search",Ej);const Nj=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],T0=me("send",Nj);const Sj=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],A0=me("settings",Sj);const Tj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],gE=me("shield",Tj);const Aj=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],Cj=me("shuffle",Aj);const jj=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],xf=me("sparkles",jj);const kj=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],b1=me("square-check-big",kj);const Ij=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],yE=me("square",Ij);const Rj=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],wr=me("star",Rj);const Dj=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],Oj=me("swords",Dj);const Mj=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],C0=me("tag",Mj);const Pj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],kn=me("target",Pj);const Lj=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],Vj=me("thumbs-down",Lj);const zj=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Uj=me("thumbs-up",zj);const Fj=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ku=me("trash-2",Fj);const Bj=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],qj=me("trending-down",Bj);const Hj=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ig=me("trending-up",Hj);const Gj=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],v1=me("triangle-alert",Gj);const $j=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Yi=me("trophy",$j);const Yj=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],xE=me("upload",Yj);const Qj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],bf=me("user-plus",Qj);const Kj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bE=me("user",Kj);const Xj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sa=me("users",Xj);const Wj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],eu=me("x",Wj);const Jj=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Gh=me("zap",Jj),Zj=()=>{};var w1={};const vE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},e4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],u=t[n++],h=t[n++],m=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},wE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],u=a+1<t.length,h=u?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,x=o>>2,b=(o&3)<<4|h>>4;let w=(h&15)<<2|p>>6,v=p&63;m||(v=64,u||(w=64)),r.push(n[x],n[b],n[w],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):e4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||h==null||p==null||b==null)throw new t4;const w=o<<2|h>>4;if(r.push(w),p!==64){const v=h<<4&240|p>>2;if(r.push(v),b!==64){const S=p<<6&192|b;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class t4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n4=function(t){const e=vE(t);return wE.encodeByteArray(e,!0)},$h=function(t){return n4(t).replace(/\./g,"")},_E=function(t){try{return wE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function s4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const r4=()=>s4().__FIREBASE_DEFAULTS__,i4=()=>{if(typeof process>"u"||typeof w1>"u")return;const t=w1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},a4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_E(t[1]);return e&&JSON.parse(e)},vf=()=>{try{return Zj()||r4()||i4()||a4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},EE=t=>vf()?.emulatorHosts?.[t],l4=t=>{const e=EE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},NE=()=>vf()?.config,SE=t=>vf()?.[`_${t}`];class o4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Co(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function TE(t){return(await fetch(t,{credentials:"include"})).ok}function c4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[$h(JSON.stringify(n)),$h(JSON.stringify(u)),""].join(".")}const tu={};function u4(){const t={prod:[],emulator:[]};for(const e of Object.keys(tu))tu[e]?t.emulator.push(e):t.prod.push(e);return t}function d4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _1=!1;function AE(t,e){if(typeof window>"u"||typeof document>"u"||!Co(window.location.host)||tu[t]===e||tu[t]||_1)return;tu[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",o=u4().prod.length>0;function u(){const w=document.getElementById(r);w&&w.remove()}function h(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,v){w.setAttribute("width","24"),w.setAttribute("id",v),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{_1=!0,u()},w}function x(w,v){w.setAttribute("id",v),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=d4(r),v=n("text"),S=document.getElementById(v)||document.createElement("span"),k=n("learnmore"),R=document.getElementById(k)||document.createElement("a"),M=n("preprendIcon"),P=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const q=w.element;h(q),x(R,k);const te=p();m(P,M),q.append(P,S,R,te),document.body.appendChild(q)}o?(S.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function f4(){const t=vf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function m4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function p4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function g4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y4(){const t=En();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function x4(){return!f4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b4(){try{return typeof indexedDB=="object"}catch{return!1}}function v4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const w4="FirebaseError";class ti extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=w4,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iu.prototype.create)}}class Iu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?_4(o,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new ti(a,h,r)}}function _4(t,e){return t.replace(E4,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const E4=/\{\$([^}]+)}/g;function N4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ra(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],u=e[a];if(E1(o)&&E1(u)){if(!ra(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function E1(t){return t!==null&&typeof t=="object"}function Ru(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Kc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function S4(t,e){const n=new T4(t,e);return n.subscribe.bind(n)}class T4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");A4(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Xp),a.error===void 0&&(a.error=Xp),a.complete===void 0&&(a.complete=Xp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function A4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xp(){}function Zt(t){return t&&t._delegate?t._delegate:t}class tl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ka="[DEFAULT]";class C4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new o4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(k4(e))try{this.getOrInitializeService({instanceIdentifier:Ka})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ka){return this.instances.has(e)}getOptions(e=Ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:j4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ka){return this.component?this.component.multipleInstances?e:Ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j4(t){return t===Ka?void 0:t}function k4(t){return t.instantiationMode==="EAGER"}class I4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new C4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const R4={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},D4=He.INFO,O4={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},M4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=O4[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class j0{constructor(e){this.name=e,this._logLevel=D4,this._logHandler=M4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?R4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const P4=(t,e)=>e.some(n=>t instanceof n);let N1,S1;function L4(){return N1||(N1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V4(){return S1||(S1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CE=new WeakMap,Rg=new WeakMap,jE=new WeakMap,Wp=new WeakMap,k0=new WeakMap;function z4(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(Qi(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&CE.set(n,t)}).catch(()=>{}),k0.set(e,t),e}function U4(t){if(Rg.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});Rg.set(t,e)}let Dg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function F4(t){Dg=t(Dg)}function B4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jp(this),e,...n);return jE.set(r,e.sort?e.sort():[e]),Qi(r)}:V4().includes(t)?function(...e){return t.apply(Jp(this),e),Qi(CE.get(this))}:function(...e){return Qi(t.apply(Jp(this),e))}}function q4(t){return typeof t=="function"?B4(t):(t instanceof IDBTransaction&&U4(t),P4(t,L4())?new Proxy(t,Dg):t)}function Qi(t){if(t instanceof IDBRequest)return z4(t);if(Wp.has(t))return Wp.get(t);const e=q4(t);return e!==t&&(Wp.set(t,e),k0.set(e,t)),e}const Jp=t=>k0.get(t);function H4(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(t,e),h=Qi(u);return r&&u.addEventListener("upgradeneeded",m=>{r(Qi(u.result),m.oldVersion,m.newVersion,Qi(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),h.then(m=>{o&&m.addEventListener("close",()=>o()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const G4=["get","getKey","getAll","getAllKeys","count"],$4=["put","add","delete","clear"],Zp=new Map;function T1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zp.get(e))return Zp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=$4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||G4.includes(n)))return;const o=async function(u,...h){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&m.done]))[0]};return Zp.set(e,o),o}F4(t=>({...t,get:(e,n,r)=>T1(e,n)||t.get(e,n,r),has:(e,n)=>!!T1(e,n)||t.has(e,n)}));class Y4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Q4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Q4(t){return t.getComponent()?.type==="VERSION"}const Og="@firebase/app",A1="0.14.6";const Xr=new j0("@firebase/app"),K4="@firebase/app-compat",X4="@firebase/analytics-compat",W4="@firebase/analytics",J4="@firebase/app-check-compat",Z4="@firebase/app-check",e5="@firebase/auth",t5="@firebase/auth-compat",n5="@firebase/database",s5="@firebase/data-connect",r5="@firebase/database-compat",i5="@firebase/functions",a5="@firebase/functions-compat",l5="@firebase/installations",o5="@firebase/installations-compat",c5="@firebase/messaging",u5="@firebase/messaging-compat",d5="@firebase/performance",h5="@firebase/performance-compat",f5="@firebase/remote-config",m5="@firebase/remote-config-compat",p5="@firebase/storage",g5="@firebase/storage-compat",y5="@firebase/firestore",x5="@firebase/ai",b5="@firebase/firestore-compat",v5="firebase",w5="12.6.0";const Mg="[DEFAULT]",_5={[Og]:"fire-core",[K4]:"fire-core-compat",[W4]:"fire-analytics",[X4]:"fire-analytics-compat",[Z4]:"fire-app-check",[J4]:"fire-app-check-compat",[e5]:"fire-auth",[t5]:"fire-auth-compat",[n5]:"fire-rtdb",[s5]:"fire-data-connect",[r5]:"fire-rtdb-compat",[i5]:"fire-fn",[a5]:"fire-fn-compat",[l5]:"fire-iid",[o5]:"fire-iid-compat",[c5]:"fire-fcm",[u5]:"fire-fcm-compat",[d5]:"fire-perf",[h5]:"fire-perf-compat",[f5]:"fire-rc",[m5]:"fire-rc-compat",[p5]:"fire-gcs",[g5]:"fire-gcs-compat",[y5]:"fire-fst",[b5]:"fire-fst-compat",[x5]:"fire-vertex","fire-js":"fire-js",[v5]:"fire-js-all"};const Yh=new Map,E5=new Map,Pg=new Map;function C1(t,e){try{t.container.addComponent(e)}catch(n){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function go(t){const e=t.name;if(Pg.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;Pg.set(e,t);for(const n of Yh.values())C1(n,t);for(const n of E5.values())C1(n,t);return!0}function I0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jn(t){return t==null?!1:t.settings!==void 0}const N5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new Iu("app","Firebase",N5);class S5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new tl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}const jo=w5;function kE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Mg,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Ki.create("bad-app-name",{appName:String(a)});if(n||(n=NE()),!n)throw Ki.create("no-options");const o=Yh.get(a);if(o){if(ra(n,o.options)&&ra(r,o.config))return o;throw Ki.create("duplicate-app",{appName:a})}const u=new I4(a);for(const m of Pg.values())u.addComponent(m);const h=new S5(n,r,u);return Yh.set(a,h),h}function IE(t=Mg){const e=Yh.get(t);if(!e&&t===Mg&&NE())return kE();if(!e)throw Ki.create("no-app",{appName:t});return e}function Xi(t,e,n){let r=_5[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(u.join(" "));return}go(new tl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const T5="firebase-heartbeat-database",A5=1,mu="firebase-heartbeat-store";let eg=null;function RE(){return eg||(eg=H4(T5,A5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ki.create("idb-open",{originalErrorMessage:t.message})})),eg}async function C5(t){try{const n=(await RE()).transaction(mu),r=await n.objectStore(mu).get(DE(t));return await n.done,r}catch(e){if(e instanceof ti)Xr.warn(e.message);else{const n=Ki.create("idb-get",{originalErrorMessage:e?.message});Xr.warn(n.message)}}}async function j1(t,e){try{const r=(await RE()).transaction(mu,"readwrite");await r.objectStore(mu).put(e,DE(t)),await r.done}catch(n){if(n instanceof ti)Xr.warn(n.message);else{const r=Ki.create("idb-set",{originalErrorMessage:n?.message});Xr.warn(r.message)}}}function DE(t){return`${t.name}!${t.options.appId}`}const j5=1024,k5=30;class I5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new D5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=k1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>k5){const a=O5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=k1(),{heartbeatsToSend:n,unsentEntries:r}=R5(this._heartbeatsCache.heartbeats),a=$h(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Xr.warn(e),""}}}function k1(){return new Date().toISOString().substring(0,10)}function R5(t,e=j5){const n=[];let r=t.slice();for(const a of t){const o=n.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),I1(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),I1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class D5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return b4()?v4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await C5(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return j1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return j1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function I1(t){return $h(JSON.stringify({version:2,heartbeats:t})).length}function O5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function M5(t){go(new tl("platform-logger",e=>new Y4(e),"PRIVATE")),go(new tl("heartbeat",e=>new I5(e),"PRIVATE")),Xi(Og,A1,t),Xi(Og,A1,"esm2020"),Xi("fire-js","")}M5("");var P5="firebase",L5="12.6.0";Xi(P5,L5,"app");function OE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V5=OE,ME=new Iu("auth","Firebase",OE());const Qh=new j0("@firebase/auth");function z5(t,...e){Qh.logLevel<=He.WARN&&Qh.warn(`Auth (${jo}): ${t}`,...e)}function Rh(t,...e){Qh.logLevel<=He.ERROR&&Qh.error(`Auth (${jo}): ${t}`,...e)}function vs(t,...e){throw D0(t,...e)}function Ls(t,...e){return D0(t,...e)}function R0(t,e,n){const r={...V5(),[e]:n};return new Iu("auth","Firebase",r).create(e,{appName:t.name})}function Yr(t){return R0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function U5(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&vs(t,"argument-error"),R0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function D0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ME.create(t,...e)}function Se(t,e,...n){if(!t)throw D0(e,...n)}function Gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rh(e),new Error(e)}function Wr(t,e){t||Gr(e)}function Lg(){return typeof self<"u"&&self.location?.href||""}function F5(){return R1()==="http:"||R1()==="https:"}function R1(){return typeof self<"u"&&self.location?.protocol||null}function B5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(F5()||p4()||"connection"in navigator)?navigator.onLine:!0}function q5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Du{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wr(n>e,"Short delay should be less than long delay!"),this.isMobile=h4()||g4()}get(){return B5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function O0(t,e){Wr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class PE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const H5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const G5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$5=new Du(3e4,6e4);function ni(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function si(t,e,n,r,a={}){return LE(t,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=Ru({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...o};return m4()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Co(t.emulatorConfig.host)&&(p.credentials="include"),PE.fetch()(await VE(t,t.config.apiHost,n,h),p)})}async function LE(t,e,n){t._canInitEmulator=!1;const r={...H5,...e};try{const a=new Q5(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw xh(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[m,p]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw xh(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw xh(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw xh(t,"user-disabled",u);const x=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw R0(t,x,p);vs(t,x)}}catch(a){if(a instanceof ti)throw a;vs(t,"network-request-failed",{message:String(a)})}}async function Ou(t,e,n,r,a={}){const o=await si(t,e,n,r,a);return"mfaPendingCredential"in o&&vs(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function VE(t,e,n,r){const a=`${e}${n}?${r}`,o=t,u=o.config.emulator?O0(t.config,a):`${t.config.apiScheme}://${a}`;return G5.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function Y5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Q5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ls(this.auth,"network-request-failed")),$5.get())})}}function xh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Ls(t,e,r);return a.customData._tokenResponse=n,a}function D1(t){return t!==void 0&&t.enterprise!==void 0}class K5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Y5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function X5(t,e){return si(t,"GET","/v2/recaptchaConfig",ni(t,e))}async function W5(t,e){return si(t,"POST","/v1/accounts:delete",e)}async function Kh(t,e){return si(t,"POST","/v1/accounts:lookup",e)}function nu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function J5(t,e=!1){const n=Zt(t),r=await n.getIdToken(e),a=M0(r);Se(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o?.sign_in_provider;return{claims:a,token:r,authTime:nu(tg(a.auth_time)),issuedAtTime:nu(tg(a.iat)),expirationTime:nu(tg(a.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function tg(t){return Number(t)*1e3}function M0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rh("JWT malformed, contained fewer than 3 sections"),null;try{const a=_E(n);return a?JSON.parse(a):(Rh("Failed to decode base64 JWT payload"),null)}catch(a){return Rh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function O1(t){const e=M0(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function pu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ti&&Z5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Z5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class ek{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Vg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xh(t){const e=t.auth,n=await t.getIdToken(),r=await pu(t,Kh(e,{idToken:n}));Se(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const o=a.providerUserInfo?.length?zE(a.providerUserInfo):[],u=nk(t.providerData,o),h=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,p=h?m:!1,x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Vg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,x)}async function tk(t){const e=Zt(t);await Xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nk(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function zE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function sk(t,e){const n=await LE(t,{},async()=>{const r=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,u=await VE(t,a,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:r};return t.emulatorConfig&&Co(t.emulatorConfig.host)&&(m.credentials="include"),PE.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rk(t,e){return si(t,"POST","/v2/accounts:revokeToken",ni(t,e))}class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):O1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=O1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await sk(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,u=new co;return r&&(Se(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Se(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(Se(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return Gr("not implemented")}}function Ui(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ps{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new ek(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Vg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await pu(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return J5(this,e)}reload(){return tk(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ps({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(Yr(this.auth));const e=await this.getIdToken();return await pu(this,W5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,o=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:v,providerData:S,stsTokenManager:k}=n;Se(b&&k,e,"internal-error");const R=co.fromJSON(this.name,k);Se(typeof b=="string",e,"internal-error"),Ui(r,e.name),Ui(a,e.name),Se(typeof w=="boolean",e,"internal-error"),Se(typeof v=="boolean",e,"internal-error"),Ui(o,e.name),Ui(u,e.name),Ui(h,e.name),Ui(m,e.name),Ui(p,e.name),Ui(x,e.name);const M=new Ps({uid:b,auth:e,email:a,emailVerified:w,displayName:r,isAnonymous:v,photoURL:u,phoneNumber:o,tenantId:h,stsTokenManager:R,createdAt:p,lastLoginAt:x});return S&&Array.isArray(S)&&(M.providerData=S.map(P=>({...P}))),m&&(M._redirectEventId=m),M}static async _fromIdTokenResponse(e,n,r=!1){const a=new co;a.updateFromServerResponse(n);const o=new Ps({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Xh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Se(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?zE(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!o?.length,h=new co;h.updateFromIdToken(r);const m=new Ps({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Vg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(m,p),m}}const M1=new Map;function $r(t){Wr(t instanceof Function,"Expected a class definition");let e=M1.get(t);return e?(Wr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,M1.set(t,e),e)}class UE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UE.type="NONE";const P1=UE;function Dh(t,e,n){return`firebase:${t}:${e}:${n}`}class uo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Dh(this.userKey,a.apiKey,o),this.fullPersistenceKey=Dh("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Kh(this.auth,{idToken:e}).catch(()=>{});return n?Ps._fromGetAccountInfoResponse(this.auth,n,e):null}return Ps._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new uo($r(P1),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||$r(P1);const u=Dh(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const x=await p._get(u);if(x){let b;if(typeof x=="string"){const w=await Kh(e,{idToken:x}).catch(()=>{});if(!w)break;b=await Ps._fromGetAccountInfoResponse(e,w,x)}else b=Ps._fromJSON(e,x);p!==o&&(h=b),o=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!m.length?new uo(o,e,r):(o=m[0],h&&await o._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(u)}catch{}})),new uo(o,e,r))}}function L1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($E(e))return"Blackberry";if(YE(e))return"Webos";if(BE(e))return"Safari";if((e.includes("chrome/")||qE(e))&&!e.includes("edge/"))return"Chrome";if(GE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function FE(t=En()){return/firefox\//i.test(t)}function BE(t=En()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qE(t=En()){return/crios\//i.test(t)}function HE(t=En()){return/iemobile/i.test(t)}function GE(t=En()){return/android/i.test(t)}function $E(t=En()){return/blackberry/i.test(t)}function YE(t=En()){return/webos/i.test(t)}function P0(t=En()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ik(t=En()){return P0(t)&&!!window.navigator?.standalone}function ak(){return y4()&&document.documentMode===10}function QE(t=En()){return P0(t)||GE(t)||YE(t)||$E(t)||/windows phone/i.test(t)||HE(t)}function KE(t,e=[]){let n;switch(t){case"Browser":n=L1(En());break;case"Worker":n=`${L1(En())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jo}/${r}`}class lk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((u,h)=>{try{const m=e(o);u(m)}catch(m){h(m)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function ok(t,e={}){return si(t,"GET","/v2/passwordPolicy",ni(t,e))}const ck=6;class uk{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ck,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class dk{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V1(this),this.idTokenSubscription=new V1(this),this.beforeStateQueue=new lk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ME,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$r(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kh(this,{idToken:e}),r=await Ps._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===u)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(Yr(this));const n=e?Zt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(Yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(Yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ok(this),n=new uk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Iu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await rk(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$r(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[$r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,r,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&z5(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ha(t){return Zt(t)}class V1{constructor(e){this.auth=e,this.observer=null,this.addObserver=S4(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hk(t){wf=t}function XE(t){return wf.loadJS(t)}function fk(){return wf.recaptchaEnterpriseScript}function mk(){return wf.gapiScript}function pk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class gk{constructor(){this.enterprise=new yk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class yk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const xk="recaptcha-enterprise",WE="NO_RECAPTCHA";class bk{constructor(e){this.type=xk,this.auth=ha(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{X5(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new K5(m);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,u(p.siteKey)}}).catch(m=>{h(m)})})}function a(o,u,h){const m=window.grecaptcha;D1(m)?m.enterprise.ready(()=>{m.enterprise.execute(o,{action:e}).then(p=>{u(p)}).catch(()=>{u(WE)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gk().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!n&&D1(window.grecaptcha))a(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=fk();m.length!==0&&(m+=h),XE(m).then(()=>{a(h,o,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function z1(t,e,n,r=!1,a=!1){const o=new bk(t);let u;if(a)u=WE;else try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const m=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const m=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function zg(t,e,n,r,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await z1(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await z1(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(o)})}function vk(t,e){const n=I0(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(ra(o,e??{}))return a;vs(a,"already-initialized")}return n.initialize({options:e})}function wk(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map($r);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function _k(t,e,n){const r=ha(t);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=JE(e),{host:u,port:h}=Ek(e),m=h===null?"":`:${h}`,p={url:`${o}//${u}${m}/`},x=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(ra(p,r.config.emulator)&&ra(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,Co(u)?(TE(`${o}//${u}${m}`),AE("Auth",!0)):Nk()}function JE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ek(t){const e=JE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:U1(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:U1(u)}}}function U1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Nk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class L0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,n){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}async function Sk(t,e){return si(t,"POST","/v1/accounts:signUp",e)}async function Tk(t,e){return Ou(t,"POST","/v1/accounts:signInWithPassword",ni(t,e))}async function Ak(t,e){return si(t,"POST","/v1/accounts:sendOobCode",ni(t,e))}async function Ck(t,e){return Ak(t,e)}async function jk(t,e){return Ou(t,"POST","/v1/accounts:signInWithEmailLink",ni(t,e))}async function kk(t,e){return Ou(t,"POST","/v1/accounts:signInWithEmailLink",ni(t,e))}class gu extends L0{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new gu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new gu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zg(e,n,"signInWithPassword",Tk);case"emailLink":return jk(e,{email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zg(e,r,"signUpPassword",Sk);case"emailLink":return kk(e,{idToken:n,email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ho(t,e){return Ou(t,"POST","/v1/accounts:signInWithIdp",ni(t,e))}const Ik="http://localhost";class nl extends L0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new nl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=n;if(!r||!a)return null;const u=new nl(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ho(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:Ik,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ru(n)}return e}}function Rk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Dk(t){const e=Qc(Kc(t)).link,n=e?Qc(Kc(e)).deep_link_id:null,r=Qc(Kc(t)).deep_link_id;return(r?Qc(Kc(r)).link:null)||r||n||e||t}class V0{constructor(e){const n=Qc(Kc(e)),r=n.apiKey??null,a=n.oobCode??null,o=Rk(n.mode??null);Se(r&&a&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Dk(e);try{return new V0(n)}catch{return null}}}class ko{constructor(){this.providerId=ko.PROVIDER_ID}static credential(e,n){return gu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=V0.parseLink(n);return Se(r,"argument-error"),gu._fromEmailAndCode(e,r.code,r.tenantId)}}ko.PROVIDER_ID="password";ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class z0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Mu extends z0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qi extends Mu{constructor(){super("facebook.com")}static credential(e){return nl._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";class Hr extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return nl._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Hr.credential(n,r)}catch{return null}}}Hr.GOOGLE_SIGN_IN_METHOD="google.com";Hr.PROVIDER_ID="google.com";class Hi extends Mu{constructor(){super("github.com")}static credential(e){return nl._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";class Gi extends Mu{constructor(){super("twitter.com")}static credential(e,n){return nl._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Gi.credential(n,r)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";async function Ok(t,e){return Ou(t,"POST","/v1/accounts:signUp",ni(t,e))}class sl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await Ps._fromIdTokenResponse(e,r,a),u=F1(r);return new sl({user:o,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=F1(r);return new sl({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function F1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Wh extends ti{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Wh(e,n,r,a)}}function ZE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Wh._fromErrorAndOperation(t,o,e,r):o})}async function Mk(t,e,n=!1){const r=await pu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return sl._forOperation(t,"link",r)}async function Pk(t,e,n=!1){const{auth:r}=t;if(Jn(r.app))return Promise.reject(Yr(r));const a="reauthenticate";try{const o=await pu(t,ZE(r,a,e,t),n);Se(o.idToken,r,"internal-error");const u=M0(o.idToken);Se(u,r,"internal-error");const{sub:h}=u;return Se(t.uid===h,r,"user-mismatch"),sl._forOperation(t,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&vs(r,"user-mismatch"),o}}async function eN(t,e,n=!1){if(Jn(t.app))return Promise.reject(Yr(t));const r="signIn",a=await ZE(t,r,e),o=await sl._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}async function Lk(t,e){return eN(ha(t),e)}async function tN(t){const e=ha(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Vk(t,e,n){if(Jn(t.app))return Promise.reject(Yr(t));const r=ha(t),u=await zg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ok).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&tN(t),m}),h=await sl._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function zk(t,e,n){return Jn(t.app)?Promise.reject(Yr(t)):Lk(Zt(t),ko.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&tN(t),r})}async function Uk(t,e){const n=Zt(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:o}=await Ck(n.auth,a);o!==t.email&&await t.reload()}function Fk(t,e,n,r){return Zt(t).onIdTokenChanged(e,n,r)}function Bk(t,e,n){return Zt(t).beforeAuthStateChanged(e,n)}function qk(t,e,n,r){return Zt(t).onAuthStateChanged(e,n,r)}function Hk(t){return Zt(t).signOut()}const Jh="__sak";class nN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jh,"1"),this.storage.removeItem(Jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gk=1e3,$k=10;class sN extends nN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,m)=>{this.notifyListeners(u,m)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);ak()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,$k):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Gk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sN.type="LOCAL";const Yk=sN;class rN extends nN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rN.type="SESSION";const iN=rN;function Qk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class _f{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new _f(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,o)),m=await Qk(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_f.receivers=[];function U0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class Kk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((h,m)=>{const p=U0("",20);a.port1.start();const x=setTimeout(()=>{m(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(b){const w=b;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(x),o=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(w.data.response);break;default:clearTimeout(x),clearTimeout(o),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function mr(){return window}function Xk(t){mr().location.href=t}function aN(){return typeof mr().WorkerGlobalScope<"u"&&typeof mr().importScripts=="function"}async function Wk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Jk(){return navigator?.serviceWorker?.controller||null}function Zk(){return aN()?self:null}const lN="firebaseLocalStorageDb",eI=1,Zh="firebaseLocalStorage",oN="fbase_key";class Pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ef(t,e){return t.transaction([Zh],e?"readwrite":"readonly").objectStore(Zh)}function tI(){const t=indexedDB.deleteDatabase(lN);return new Pu(t).toPromise()}function Ug(){const t=indexedDB.open(lN,eI);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zh,{keyPath:oN})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zh)?e(r):(r.close(),await tI(),e(await Ug()))})})}async function B1(t,e,n){const r=Ef(t,!0).put({[oN]:e,value:n});return new Pu(r).toPromise()}async function nI(t,e){const n=Ef(t,!1).get(e),r=await new Pu(n).toPromise();return r===void 0?null:r.value}function q1(t,e){const n=Ef(t,!0).delete(e);return new Pu(n).toPromise()}const sI=800,rI=3;class cN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ug(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>rI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_f._getInstance(Zk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Wk(),!this.activeServiceWorker)return;this.sender=new Kk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Jk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ug();return await B1(e,Jh,"1"),await q1(e,Jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>B1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>nI(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>q1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Ef(a,!1).getAll();return new Pu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cN.type="LOCAL";const iI=cN;new Du(3e4,6e4);function uN(t,e){return e?$r(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class F0 extends L0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aI(t){return eN(t.auth,new F0(t),t.bypassAuthState)}function lI(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),Pk(n,new F0(t),t.bypassAuthState)}async function oI(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),Mk(n,new F0(t),t.bypassAuthState)}class dN{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aI;case"linkViaPopup":case"linkViaRedirect":return oI;case"reauthViaPopup":case"reauthViaRedirect":return lI;default:vs(this.auth,"internal-error")}}resolve(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cI=new Du(2e3,1e4);async function uI(t,e,n){if(Jn(t.app))return Promise.reject(Ls(t,"operation-not-supported-in-this-environment"));const r=ha(t);U5(t,e,z0);const a=uN(r,n);return new Xa(r,"signInViaPopup",e,a).executeNotNull()}class Xa extends dN{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Wr(this.filter.length===1,"Popup operations only handle one event");const e=U0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ls(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ls(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ls(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cI.get())};e()}}Xa.currentPopupAction=null;const dI="pendingRedirect",Oh=new Map;class hI extends dN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Oh.get(this.auth._key());if(!e){try{const r=await fI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Oh.set(this.auth._key(),e)}return this.bypassAuthState||Oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fI(t,e){const n=gI(e),r=pI(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function mI(t,e){Oh.set(t._key(),e)}function pI(t){return $r(t._redirectPersistence)}function gI(t){return Dh(dI,t.config.apiKey,t.name)}async function yI(t,e,n=!1){if(Jn(t.app))return Promise.reject(Yr(t));const r=ha(t),a=uN(r,e),u=await new hI(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const xI=600*1e3;class bI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!hN(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ls(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xI&&this.cachedEventUids.clear(),this.cachedEventUids.has(H1(e))}saveEventToCache(e){this.cachedEventUids.add(H1(e)),this.lastProcessedEventTime=Date.now()}}function H1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function vI(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hN(t);default:return!1}}async function wI(t,e={}){return si(t,"GET","/v1/projects",e)}const _I=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EI=/^https?/;async function NI(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wI(t);for(const n of e)try{if(SI(n))return}catch{}vs(t,"unauthorized-domain")}function SI(t){const e=Lg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!EI.test(n))return!1;if(_I.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const TI=new Du(3e4,6e4);function G1(){const t=mr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AI(t){return new Promise((e,n)=>{function r(){G1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G1(),n(Ls(t,"network-request-failed"))},timeout:TI.get()})}if(mr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(mr().gapi?.load)r();else{const a=pk("iframefcb");return mr()[a]=()=>{gapi.load?r():n(Ls(t,"network-request-failed"))},XE(`${mk()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw Mh=null,e})}let Mh=null;function CI(t){return Mh=Mh||AI(t),Mh}const jI=new Du(5e3,15e3),kI="__/auth/iframe",II="emulator/auth/iframe",RI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OI(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?O0(e,II):`https://${t.config.authDomain}/${kI}`,r={apiKey:e.apiKey,appName:t.name,v:jo},a=DI.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ru(r).slice(1)}`}async function MI(t){const e=await CI(t),n=mr().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:OI(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RI,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=Ls(t,"network-request-failed"),h=mr().setTimeout(()=>{o(u)},jI.get());function m(){mr().clearTimeout(h),a(r)}r.ping(m).then(m,()=>{o(u)})}))}const PI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LI=500,VI=600,zI="_blank",UI="http://localhost";class $1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FI(t,e,n,r=LI,a=VI){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const m={...PI,width:r.toString(),height:a.toString(),top:o,left:u},p=En().toLowerCase();n&&(h=qE(p)?zI:n),FE(p)&&(e=e||UI,m.scrollbars="yes");const x=Object.entries(m).reduce((w,[v,S])=>`${w}${v}=${S},`,"");if(ik(p)&&h!=="_self")return BI(e||"",h),new $1(null);const b=window.open(e||"",h,x);Se(b,t,"popup-blocked");try{b.focus()}catch{}return new $1(b)}function BI(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const qI="__/auth/handler",HI="emulator/auth/handler",GI=encodeURIComponent("fac");async function Y1(t,e,n,r,a,o){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:jo,eventId:a};if(e instanceof z0){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",N4(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,b]of Object.entries({}))u[x]=b}if(e instanceof Mu){const x=e.getScopes().filter(b=>b!=="");x.length>0&&(u.scopes=x.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const x of Object.keys(h))h[x]===void 0&&delete h[x];const m=await t._getAppCheckToken(),p=m?`#${GI}=${encodeURIComponent(m)}`:"";return`${$I(t)}?${Ru(h).slice(1)}${p}`}function $I({config:t}){return t.emulator?O0(t,HI):`https://${t.authDomain}/${qI}`}const ng="webStorageSupport";class YI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iN,this._completeRedirectFn=yI,this._overrideRedirectResult=mI}async _openPopup(e,n,r,a){Wr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Y1(e,n,r,Lg(),a);return FI(e,o,U0())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await Y1(e,n,r,Lg(),a);return Xk(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(Wr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await MI(e),r=new bI(e);return n.register("authEvent",a=>(Se(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ng,{type:ng},a=>{const o=a?.[0]?.[ng];o!==void 0&&n(!!o),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QE()||BE()||P0()}}const QI=YI;var Q1="@firebase/auth",K1="1.11.1";class KI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function XI(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WI(t){go(new tl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KE(t)},p=new dk(r,a,o,m);return wk(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),go(new tl("auth-internal",e=>{const n=ha(e.getProvider("auth").getImmediate());return(r=>new KI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xi(Q1,K1,XI(t)),Xi(Q1,K1,"esm2020")}const JI=300,ZI=SE("authIdTokenMaxAge")||JI;let X1=null;const eR=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ZI)return;const a=n?.token;X1!==a&&(X1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function tR(t=IE()){const e=I0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vk(t,{popupRedirectResolver:QI,persistence:[iI,Yk,iN]}),r=SE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=eR(o.toString());Bk(n,u,()=>u(n.currentUser)),Fk(n,h=>u(h))}}const a=EE("auth");return a&&_k(n,`http://${a}`),n}function nR(){return document.getElementsByTagName("head")?.[0]??document}hk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=Ls("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",nR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WI("Browser");var W1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Wi,fN;(function(){var t;function e(z,I){function L(){}L.prototype=I.prototype,z.F=I.prototype,z.prototype=new L,z.prototype.constructor=z,z.D=function(A,C,O){for(var D=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)D[ue-2]=arguments[ue];return I.prototype[C].apply(A,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(z,I,L){L||(L=0);const A=Array(16);if(typeof I=="string")for(var C=0;C<16;++C)A[C]=I.charCodeAt(L++)|I.charCodeAt(L++)<<8|I.charCodeAt(L++)<<16|I.charCodeAt(L++)<<24;else for(C=0;C<16;++C)A[C]=I[L++]|I[L++]<<8|I[L++]<<16|I[L++]<<24;I=z.g[0],L=z.g[1],C=z.g[2];let O=z.g[3],D;D=I+(O^L&(C^O))+A[0]+3614090360&4294967295,I=L+(D<<7&4294967295|D>>>25),D=O+(C^I&(L^C))+A[1]+3905402710&4294967295,O=I+(D<<12&4294967295|D>>>20),D=C+(L^O&(I^L))+A[2]+606105819&4294967295,C=O+(D<<17&4294967295|D>>>15),D=L+(I^C&(O^I))+A[3]+3250441966&4294967295,L=C+(D<<22&4294967295|D>>>10),D=I+(O^L&(C^O))+A[4]+4118548399&4294967295,I=L+(D<<7&4294967295|D>>>25),D=O+(C^I&(L^C))+A[5]+1200080426&4294967295,O=I+(D<<12&4294967295|D>>>20),D=C+(L^O&(I^L))+A[6]+2821735955&4294967295,C=O+(D<<17&4294967295|D>>>15),D=L+(I^C&(O^I))+A[7]+4249261313&4294967295,L=C+(D<<22&4294967295|D>>>10),D=I+(O^L&(C^O))+A[8]+1770035416&4294967295,I=L+(D<<7&4294967295|D>>>25),D=O+(C^I&(L^C))+A[9]+2336552879&4294967295,O=I+(D<<12&4294967295|D>>>20),D=C+(L^O&(I^L))+A[10]+4294925233&4294967295,C=O+(D<<17&4294967295|D>>>15),D=L+(I^C&(O^I))+A[11]+2304563134&4294967295,L=C+(D<<22&4294967295|D>>>10),D=I+(O^L&(C^O))+A[12]+1804603682&4294967295,I=L+(D<<7&4294967295|D>>>25),D=O+(C^I&(L^C))+A[13]+4254626195&4294967295,O=I+(D<<12&4294967295|D>>>20),D=C+(L^O&(I^L))+A[14]+2792965006&4294967295,C=O+(D<<17&4294967295|D>>>15),D=L+(I^C&(O^I))+A[15]+1236535329&4294967295,L=C+(D<<22&4294967295|D>>>10),D=I+(C^O&(L^C))+A[1]+4129170786&4294967295,I=L+(D<<5&4294967295|D>>>27),D=O+(L^C&(I^L))+A[6]+3225465664&4294967295,O=I+(D<<9&4294967295|D>>>23),D=C+(I^L&(O^I))+A[11]+643717713&4294967295,C=O+(D<<14&4294967295|D>>>18),D=L+(O^I&(C^O))+A[0]+3921069994&4294967295,L=C+(D<<20&4294967295|D>>>12),D=I+(C^O&(L^C))+A[5]+3593408605&4294967295,I=L+(D<<5&4294967295|D>>>27),D=O+(L^C&(I^L))+A[10]+38016083&4294967295,O=I+(D<<9&4294967295|D>>>23),D=C+(I^L&(O^I))+A[15]+3634488961&4294967295,C=O+(D<<14&4294967295|D>>>18),D=L+(O^I&(C^O))+A[4]+3889429448&4294967295,L=C+(D<<20&4294967295|D>>>12),D=I+(C^O&(L^C))+A[9]+568446438&4294967295,I=L+(D<<5&4294967295|D>>>27),D=O+(L^C&(I^L))+A[14]+3275163606&4294967295,O=I+(D<<9&4294967295|D>>>23),D=C+(I^L&(O^I))+A[3]+4107603335&4294967295,C=O+(D<<14&4294967295|D>>>18),D=L+(O^I&(C^O))+A[8]+1163531501&4294967295,L=C+(D<<20&4294967295|D>>>12),D=I+(C^O&(L^C))+A[13]+2850285829&4294967295,I=L+(D<<5&4294967295|D>>>27),D=O+(L^C&(I^L))+A[2]+4243563512&4294967295,O=I+(D<<9&4294967295|D>>>23),D=C+(I^L&(O^I))+A[7]+1735328473&4294967295,C=O+(D<<14&4294967295|D>>>18),D=L+(O^I&(C^O))+A[12]+2368359562&4294967295,L=C+(D<<20&4294967295|D>>>12),D=I+(L^C^O)+A[5]+4294588738&4294967295,I=L+(D<<4&4294967295|D>>>28),D=O+(I^L^C)+A[8]+2272392833&4294967295,O=I+(D<<11&4294967295|D>>>21),D=C+(O^I^L)+A[11]+1839030562&4294967295,C=O+(D<<16&4294967295|D>>>16),D=L+(C^O^I)+A[14]+4259657740&4294967295,L=C+(D<<23&4294967295|D>>>9),D=I+(L^C^O)+A[1]+2763975236&4294967295,I=L+(D<<4&4294967295|D>>>28),D=O+(I^L^C)+A[4]+1272893353&4294967295,O=I+(D<<11&4294967295|D>>>21),D=C+(O^I^L)+A[7]+4139469664&4294967295,C=O+(D<<16&4294967295|D>>>16),D=L+(C^O^I)+A[10]+3200236656&4294967295,L=C+(D<<23&4294967295|D>>>9),D=I+(L^C^O)+A[13]+681279174&4294967295,I=L+(D<<4&4294967295|D>>>28),D=O+(I^L^C)+A[0]+3936430074&4294967295,O=I+(D<<11&4294967295|D>>>21),D=C+(O^I^L)+A[3]+3572445317&4294967295,C=O+(D<<16&4294967295|D>>>16),D=L+(C^O^I)+A[6]+76029189&4294967295,L=C+(D<<23&4294967295|D>>>9),D=I+(L^C^O)+A[9]+3654602809&4294967295,I=L+(D<<4&4294967295|D>>>28),D=O+(I^L^C)+A[12]+3873151461&4294967295,O=I+(D<<11&4294967295|D>>>21),D=C+(O^I^L)+A[15]+530742520&4294967295,C=O+(D<<16&4294967295|D>>>16),D=L+(C^O^I)+A[2]+3299628645&4294967295,L=C+(D<<23&4294967295|D>>>9),D=I+(C^(L|~O))+A[0]+4096336452&4294967295,I=L+(D<<6&4294967295|D>>>26),D=O+(L^(I|~C))+A[7]+1126891415&4294967295,O=I+(D<<10&4294967295|D>>>22),D=C+(I^(O|~L))+A[14]+2878612391&4294967295,C=O+(D<<15&4294967295|D>>>17),D=L+(O^(C|~I))+A[5]+4237533241&4294967295,L=C+(D<<21&4294967295|D>>>11),D=I+(C^(L|~O))+A[12]+1700485571&4294967295,I=L+(D<<6&4294967295|D>>>26),D=O+(L^(I|~C))+A[3]+2399980690&4294967295,O=I+(D<<10&4294967295|D>>>22),D=C+(I^(O|~L))+A[10]+4293915773&4294967295,C=O+(D<<15&4294967295|D>>>17),D=L+(O^(C|~I))+A[1]+2240044497&4294967295,L=C+(D<<21&4294967295|D>>>11),D=I+(C^(L|~O))+A[8]+1873313359&4294967295,I=L+(D<<6&4294967295|D>>>26),D=O+(L^(I|~C))+A[15]+4264355552&4294967295,O=I+(D<<10&4294967295|D>>>22),D=C+(I^(O|~L))+A[6]+2734768916&4294967295,C=O+(D<<15&4294967295|D>>>17),D=L+(O^(C|~I))+A[13]+1309151649&4294967295,L=C+(D<<21&4294967295|D>>>11),D=I+(C^(L|~O))+A[4]+4149444226&4294967295,I=L+(D<<6&4294967295|D>>>26),D=O+(L^(I|~C))+A[11]+3174756917&4294967295,O=I+(D<<10&4294967295|D>>>22),D=C+(I^(O|~L))+A[2]+718787259&4294967295,C=O+(D<<15&4294967295|D>>>17),D=L+(O^(C|~I))+A[9]+3951481745&4294967295,z.g[0]=z.g[0]+I&4294967295,z.g[1]=z.g[1]+(C+(D<<21&4294967295|D>>>11))&4294967295,z.g[2]=z.g[2]+C&4294967295,z.g[3]=z.g[3]+O&4294967295}r.prototype.v=function(z,I){I===void 0&&(I=z.length);const L=I-this.blockSize,A=this.C;let C=this.h,O=0;for(;O<I;){if(C==0)for(;O<=L;)a(this,z,O),O+=this.blockSize;if(typeof z=="string"){for(;O<I;)if(A[C++]=z.charCodeAt(O++),C==this.blockSize){a(this,A),C=0;break}}else for(;O<I;)if(A[C++]=z[O++],C==this.blockSize){a(this,A),C=0;break}}this.h=C,this.o+=I},r.prototype.A=function(){var z=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);z[0]=128;for(var I=1;I<z.length-8;++I)z[I]=0;I=this.o*8;for(var L=z.length-8;L<z.length;++L)z[L]=I&255,I/=256;for(this.v(z),z=Array(16),I=0,L=0;L<4;++L)for(let A=0;A<32;A+=8)z[I++]=this.g[L]>>>A&255;return z};function o(z,I){var L=h;return Object.prototype.hasOwnProperty.call(L,z)?L[z]:L[z]=I(z)}function u(z,I){this.h=I;const L=[];let A=!0;for(let C=z.length-1;C>=0;C--){const O=z[C]|0;A&&O==I||(L[C]=O,A=!1)}this.g=L}var h={};function m(z){return-128<=z&&z<128?o(z,function(I){return new u([I|0],I<0?-1:0)}):new u([z|0],z<0?-1:0)}function p(z){if(isNaN(z)||!isFinite(z))return b;if(z<0)return R(p(-z));const I=[];let L=1;for(let A=0;z>=L;A++)I[A]=z/L|0,L*=4294967296;return new u(I,0)}function x(z,I){if(z.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(z.charAt(0)=="-")return R(x(z.substring(1),I));if(z.indexOf("-")>=0)throw Error('number format error: interior "-" character');const L=p(Math.pow(I,8));let A=b;for(let O=0;O<z.length;O+=8){var C=Math.min(8,z.length-O);const D=parseInt(z.substring(O,O+C),I);C<8?(C=p(Math.pow(I,C)),A=A.j(C).add(p(D))):(A=A.j(L),A=A.add(p(D)))}return A}var b=m(0),w=m(1),v=m(16777216);t=u.prototype,t.m=function(){if(k(this))return-R(this).m();let z=0,I=1;for(let L=0;L<this.g.length;L++){const A=this.i(L);z+=(A>=0?A:4294967296+A)*I,I*=4294967296}return z},t.toString=function(z){if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(S(this))return"0";if(k(this))return"-"+R(this).toString(z);const I=p(Math.pow(z,6));var L=this;let A="";for(;;){const C=te(L,I).g;L=M(L,C.j(I));let O=((L.g.length>0?L.g[0]:L.h)>>>0).toString(z);if(L=C,S(L))return O+A;for(;O.length<6;)O="0"+O;A=O+A}},t.i=function(z){return z<0?0:z<this.g.length?this.g[z]:this.h};function S(z){if(z.h!=0)return!1;for(let I=0;I<z.g.length;I++)if(z.g[I]!=0)return!1;return!0}function k(z){return z.h==-1}t.l=function(z){return z=M(this,z),k(z)?-1:S(z)?0:1};function R(z){const I=z.g.length,L=[];for(let A=0;A<I;A++)L[A]=~z.g[A];return new u(L,~z.h).add(w)}t.abs=function(){return k(this)?R(this):this},t.add=function(z){const I=Math.max(this.g.length,z.g.length),L=[];let A=0;for(let C=0;C<=I;C++){let O=A+(this.i(C)&65535)+(z.i(C)&65535),D=(O>>>16)+(this.i(C)>>>16)+(z.i(C)>>>16);A=D>>>16,O&=65535,D&=65535,L[C]=D<<16|O}return new u(L,L[L.length-1]&-2147483648?-1:0)};function M(z,I){return z.add(R(I))}t.j=function(z){if(S(this)||S(z))return b;if(k(this))return k(z)?R(this).j(R(z)):R(R(this).j(z));if(k(z))return R(this.j(R(z)));if(this.l(v)<0&&z.l(v)<0)return p(this.m()*z.m());const I=this.g.length+z.g.length,L=[];for(var A=0;A<2*I;A++)L[A]=0;for(A=0;A<this.g.length;A++)for(let C=0;C<z.g.length;C++){const O=this.i(A)>>>16,D=this.i(A)&65535,ue=z.i(C)>>>16,oe=z.i(C)&65535;L[2*A+2*C]+=D*oe,P(L,2*A+2*C),L[2*A+2*C+1]+=O*oe,P(L,2*A+2*C+1),L[2*A+2*C+1]+=D*ue,P(L,2*A+2*C+1),L[2*A+2*C+2]+=O*ue,P(L,2*A+2*C+2)}for(z=0;z<I;z++)L[z]=L[2*z+1]<<16|L[2*z];for(z=I;z<2*I;z++)L[z]=0;return new u(L,0)};function P(z,I){for(;(z[I]&65535)!=z[I];)z[I+1]+=z[I]>>>16,z[I]&=65535,I++}function q(z,I){this.g=z,this.h=I}function te(z,I){if(S(I))throw Error("division by zero");if(S(z))return new q(b,b);if(k(z))return I=te(R(z),I),new q(R(I.g),R(I.h));if(k(I))return I=te(z,R(I)),new q(R(I.g),I.h);if(z.g.length>30){if(k(z)||k(I))throw Error("slowDivide_ only works with positive integers.");for(var L=w,A=I;A.l(z)<=0;)L=W(L),A=W(A);var C=G(L,1),O=G(A,1);for(A=G(A,2),L=G(L,2);!S(A);){var D=O.add(A);D.l(z)<=0&&(C=C.add(L),O=D),A=G(A,1),L=G(L,1)}return I=M(z,C.j(I)),new q(C,I)}for(C=b;z.l(I)>=0;){for(L=Math.max(1,Math.floor(z.m()/I.m())),A=Math.ceil(Math.log(L)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),O=p(L),D=O.j(I);k(D)||D.l(z)>0;)L-=A,O=p(L),D=O.j(I);S(O)&&(O=w),C=C.add(O),z=M(z,D)}return new q(C,z)}t.B=function(z){return te(this,z).h},t.and=function(z){const I=Math.max(this.g.length,z.g.length),L=[];for(let A=0;A<I;A++)L[A]=this.i(A)&z.i(A);return new u(L,this.h&z.h)},t.or=function(z){const I=Math.max(this.g.length,z.g.length),L=[];for(let A=0;A<I;A++)L[A]=this.i(A)|z.i(A);return new u(L,this.h|z.h)},t.xor=function(z){const I=Math.max(this.g.length,z.g.length),L=[];for(let A=0;A<I;A++)L[A]=this.i(A)^z.i(A);return new u(L,this.h^z.h)};function W(z){const I=z.g.length+1,L=[];for(let A=0;A<I;A++)L[A]=z.i(A)<<1|z.i(A-1)>>>31;return new u(L,z.h)}function G(z,I){const L=I>>5;I%=32;const A=z.g.length-L,C=[];for(let O=0;O<A;O++)C[O]=I>0?z.i(O+L)>>>I|z.i(O+L+1)<<32-I:z.i(O+L);return new u(C,z.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,fN=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=x,Wi=u}).apply(typeof W1<"u"?W1:typeof self<"u"?self:typeof window<"u"?window:{});var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mN,Xc,pN,Ph,Fg,gN,yN,xN;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof bh=="object"&&bh];for(var _=0;_<f.length;++_){var N=f[_];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function a(f,_){if(_)e:{var N=r;f=f.split(".");for(var j=0;j<f.length-1;j++){var Y=f[j];if(!(Y in N))break e;N=N[Y]}f=f[f.length-1],j=N[f],_=_(j),_!=j&&_!=null&&e(N,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var N=[],j;for(j in _)Object.prototype.hasOwnProperty.call(_,j)&&N.push([j,_[j]]);return N}});var o=o||{},u=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function m(f,_,N){return f.call.apply(f.bind,arguments)}function p(f,_,N){return p=m,p.apply(null,arguments)}function x(f,_){var N=Array.prototype.slice.call(arguments,1);return function(){var j=N.slice();return j.push.apply(j,arguments),f.apply(this,j)}}function b(f,_){function N(){}N.prototype=_.prototype,f.Z=_.prototype,f.prototype=new N,f.prototype.constructor=f,f.Ob=function(j,Y,Z){for(var fe=Array(arguments.length-2),De=2;De<arguments.length;De++)fe[De-2]=arguments[De];return _.prototype[Y].apply(j,fe)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function v(f){const _=f.length;if(_>0){const N=Array(_);for(let j=0;j<_;j++)N[j]=f[j];return N}return[]}function S(f,_){for(let j=1;j<arguments.length;j++){const Y=arguments[j];var N=typeof Y;if(N=N!="object"?N:Y?Array.isArray(Y)?"array":N:"null",N=="array"||N=="object"&&typeof Y.length=="number"){N=f.length||0;const Z=Y.length||0;f.length=N+Z;for(let fe=0;fe<Z;fe++)f[N+fe]=Y[fe]}else f.push(Y)}}class k{constructor(_,N){this.i=_,this.j=N,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function R(f){u.setTimeout(()=>{throw f},0)}function M(){var f=z;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class P{constructor(){this.h=this.g=null}add(_,N){const j=q.get();j.set(_,N),this.h?this.h.next=j:this.g=j,this.h=j}}var q=new k(()=>new te,f=>f.reset());class te{constructor(){this.next=this.g=this.h=null}set(_,N){this.h=_,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let W,G=!1,z=new P,I=()=>{const f=Promise.resolve(void 0);W=()=>{f.then(L)}};function L(){for(var f;f=M();){try{f.h.call(f.g)}catch(N){R(N)}var _=q;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}G=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const N=()=>{};u.addEventListener("test",N,_),u.removeEventListener("test",N,_)}catch{}return f})();function D(f){return/^[\s\xa0]*$/.test(f)}function ue(f,_){C.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}b(ue,C),ue.prototype.init=function(f,_){const N=this.type=f.type,j=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(N=="mouseover"?_=f.fromElement:N=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),K=0;function ce(f,_,N,j,Y){this.listener=f,this.proxy=null,this.src=_,this.type=N,this.capture=!!j,this.ha=Y,this.key=++K,this.da=this.fa=!1}function ge(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Re(f,_,N){for(const j in f)_.call(N,f[j],j,f)}function F(f,_){for(const N in f)_.call(void 0,f[N],N,f)}function Ze(f){const _={};for(const N in f)_[N]=f[N];return _}const Ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(f,_){let N,j;for(let Y=1;Y<arguments.length;Y++){j=arguments[Y];for(N in j)f[N]=j[N];for(let Z=0;Z<Ve.length;Z++)N=Ve[Z],Object.prototype.hasOwnProperty.call(j,N)&&(f[N]=j[N])}}function ke(f){this.src=f,this.g={},this.h=0}ke.prototype.add=function(f,_,N,j,Y){const Z=f.toString();f=this.g[Z],f||(f=this.g[Z]=[],this.h++);const fe=Je(f,_,j,Y);return fe>-1?(_=f[fe],N||(_.fa=!1)):(_=new ce(_,this.src,Z,!!j,Y),_.fa=N,f.push(_)),_};function st(f,_){const N=_.type;if(N in f.g){var j=f.g[N],Y=Array.prototype.indexOf.call(j,_,void 0),Z;(Z=Y>=0)&&Array.prototype.splice.call(j,Y,1),Z&&(ge(_),f.g[N].length==0&&(delete f.g[N],f.h--))}}function Je(f,_,N,j){for(let Y=0;Y<f.length;++Y){const Z=f[Y];if(!Z.da&&Z.listener==_&&Z.capture==!!N&&Z.ha==j)return Y}return-1}var wt="closure_lm_"+(Math.random()*1e6|0),jt={};function Nt(f,_,N,j,Y){if(Array.isArray(_)){for(let Z=0;Z<_.length;Z++)Nt(f,_[Z],N,j,Y);return null}return N=ba(N),f&&f[oe]?f.J(_,N,h(j)?!!j.capture:!1,Y):ns(f,_,N,!1,j,Y)}function ns(f,_,N,j,Y,Z){if(!_)throw Error("Invalid event type");const fe=h(Y)?!!Y.capture:!!Y;let De=qs(f);if(De||(f[wt]=De=new ke(f)),N=De.add(_,N,j,fe,Z),N.proxy)return N;if(j=Es(),N.proxy=j,j.src=f,j.listener=N,f.addEventListener)O||(Y=fe),Y===void 0&&(Y=!1),f.addEventListener(_.toString(),j,Y);else if(f.attachEvent)f.attachEvent(ss(_.toString()),j);else if(f.addListener&&f.removeListener)f.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Es(){function f(N){return _.call(f.src,f.listener,N)}const _=li;return f}function ii(f,_,N,j,Y){if(Array.isArray(_))for(var Z=0;Z<_.length;Z++)ii(f,_[Z],N,j,Y);else j=h(j)?!!j.capture:!!j,N=ba(N),f&&f[oe]?(f=f.i,Z=String(_).toString(),Z in f.g&&(_=f.g[Z],N=Je(_,N,j,Y),N>-1&&(ge(_[N]),Array.prototype.splice.call(_,N,1),_.length==0&&(delete f.g[Z],f.h--)))):f&&(f=qs(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Je(_,N,j,Y)),(N=f>-1?_[f]:null)&&ai(N))}function ai(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[oe])st(_.i,f);else{var N=f.type,j=f.proxy;_.removeEventListener?_.removeEventListener(N,j,f.capture):_.detachEvent?_.detachEvent(ss(N),j):_.addListener&&_.removeListener&&_.removeListener(j),(N=qs(_))?(st(N,f),N.h==0&&(N.src=null,_[wt]=null)):ge(f)}}}function ss(f){return f in jt?jt[f]:jt[f]="on"+f}function li(f,_){if(f.da)f=!0;else{_=new ue(_,this);const N=f.listener,j=f.ha||f.src;f.fa&&ai(f),f=N.call(j,_)}return f}function qs(f){return f=f[wt],f instanceof ke?f:null}var oi="__closure_events_fn_"+(Math.random()*1e9>>>0);function ba(f){return typeof f=="function"?f:(f[oi]||(f[oi]=function(_){return f.handleEvent(_)}),f[oi])}function St(){A.call(this),this.i=new ke(this),this.M=this,this.G=null}b(St,A),St.prototype[oe]=!0,St.prototype.removeEventListener=function(f,_,N,j){ii(this,f,_,N,j)};function kt(f,_){var N,j=f.G;if(j)for(N=[];j;j=j.G)N.push(j);if(f=f.M,j=_.type||_,typeof _=="string")_=new C(_,f);else if(_ instanceof C)_.target=_.target||f;else{var Y=_;_=new C(j,f),V(_,Y)}Y=!0;let Z,fe;if(N)for(fe=N.length-1;fe>=0;fe--)Z=_.g=N[fe],Y=Hs(Z,j,!0,_)&&Y;if(Z=_.g=f,Y=Hs(Z,j,!0,_)&&Y,Y=Hs(Z,j,!1,_)&&Y,N)for(fe=0;fe<N.length;fe++)Z=_.g=N[fe],Y=Hs(Z,j,!1,_)&&Y}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const N=f.g[_];for(let j=0;j<N.length;j++)ge(N[j]);delete f.g[_],f.h--}}this.G=null},St.prototype.J=function(f,_,N,j){return this.i.add(String(f),_,!1,N,j)},St.prototype.K=function(f,_,N,j){return this.i.add(String(f),_,!0,N,j)};function Hs(f,_,N,j){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let Y=!0;for(let Z=0;Z<_.length;++Z){const fe=_[Z];if(fe&&!fe.da&&fe.capture==N){const De=fe.listener,Ot=fe.ha||fe.src;fe.fa&&st(f.i,fe),Y=De.call(Ot,j)!==!1&&Y}}return Y&&!j.defaultPrevented}function Fo(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(f,_||0)}function ml(f){f.g=Fo(()=>{f.g=null,f.i&&(f.i=!1,ml(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class ln extends A{constructor(_,N){super(),this.m=_,this.l=N,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ml(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(f){A.call(this),this.h=f,this.g={}}b(Nr,A);var se=[];function he(f){Re(f.g,function(_,N){this.g.hasOwnProperty(N)&&ai(_)},f),f.g={}}Nr.prototype.N=function(){Nr.Z.N.call(this),he(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _e=u.JSON.stringify,Le=u.JSON.parse,et=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function gn(){}function rs(){}var Dt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Tt(){C.call(this,"d")}b(Tt,C);function tn(){C.call(this,"c")}b(tn,C);var Ye={},Ns=null;function yn(){return Ns=Ns||new St}Ye.Ia="serverreachability";function Qu(f){C.call(this,Ye.Ia,f)}b(Qu,C);function Gs(f){const _=yn();kt(_,new Qu(_))}Ye.STAT_EVENT="statevent";function va(f,_){C.call(this,Ye.STAT_EVENT,f),this.stat=_}b(va,C);function zt(f){const _=yn();kt(_,new va(_,f))}Ye.Ja="timingevent";function $s(f,_){C.call(this,Ye.Ja,f),this.size=_}b($s,C);function Ys(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function Ss(){this.g=!0}Ss.prototype.ua=function(){this.g=!1};function Wf(f,_,N,j,Y,Z){f.info(function(){if(f.g)if(Z){var fe="",De=Z.split("&");for(let rt=0;rt<De.length;rt++){var Ot=De[rt].split("=");if(Ot.length>1){const _t=Ot[0];Ot=Ot[1];const os=_t.split("_");fe=os.length>=2&&os[1]=="type"?fe+(_t+"="+Ot+"&"):fe+(_t+"=redacted&")}}}else fe=null;else fe=Z;return"XMLHTTP REQ ("+j+") [attempt "+Y+"]: "+_+`
`+N+`
`+fe})}function Ku(f,_,N,j,Y,Z,fe){f.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+Y+"]: "+_+`
`+N+`
`+Z+" "+fe})}function Qs(f,_,N,j){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+Jf(f,N)+(j?" "+j:"")})}function wa(f,_){f.info(function(){return"TIMEOUT: "+_})}Ss.prototype.info=function(){};function Jf(f,_){if(!f.g)return _;if(!_)return null;try{const Z=JSON.parse(_);if(Z){for(f=0;f<Z.length;f++)if(Array.isArray(Z[f])){var N=Z[f];if(!(N.length<2)){var j=N[1];if(Array.isArray(j)&&!(j.length<1)){var Y=j[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let fe=1;fe<j.length;fe++)j[fe]=""}}}}return _e(Z)}catch{return _}}var _a={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qo;function Ea(){}b(Ea,gn),Ea.prototype.g=function(){return new XMLHttpRequest},qo=new Ea;function Sr(f){return encodeURIComponent(String(f))}function Xu(f){var _=1;f=f.split(":");const N=[];for(;_>0&&f.length;)N.push(f.shift()),_--;return f.length&&N.push(f.join(":")),N}function Ts(f,_,N,j){this.j=f,this.i=_,this.l=N,this.S=j||1,this.V=new Nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new As}function As(){this.i=null,this.g="",this.h=!1}var Ut={},nn={};function Ks(f,_,N){f.M=1,f.A=Na(Bt(_)),f.u=N,f.R=!0,pl(f,null)}function pl(f,_){f.F=Date.now(),Xs(f),f.B=Bt(f.A);var N=f.B,j=f.S;Array.isArray(j)||(j=[String(j)]),bl(N.i,"t",j),f.C=0,N=f.j.L,f.h=new As,f.g=dd(f.j,N?_:null,!f.u),f.P>0&&(f.O=new ln(p(f.Y,f,f.g),f.P)),_=f.V,N=f.g,j=f.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(se[0]=Y.toString()),Y=se);for(let Z=0;Z<Y.length;Z++){const fe=Nt(N,Y[Z],j||_.handleEvent,!1,_.h||_);if(!fe)break;_.g[fe.key]=fe}_=f.J?Ze(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),Gs(),Wf(f.i,f.v,f.B,f.l,f.S,f.u)}Ts.prototype.ba=function(f){f=f.target;const _=this.O;_&&ks(f)==3?_.j():this.Y(f)},Ts.prototype.Y=function(f){try{if(f==this.g)e:{const De=ks(this.g),Ot=this.g.ya(),rt=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||on(this.g)))){this.K||De!=4||Ot==7||(Ot==8||rt<=0?Gs(3):Gs(2)),Ws(this);var _=this.g.ca();this.X=_;var N=Zf(this);if(this.o=_==200,Ku(this.i,this.v,this.B,this.l,this.S,De,_),this.o){if(this.U&&!this.L){t:{if(this.g){var j,Y=this.g;if((j=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(j)){var Z=j;break t}}Z=null}if(f=Z)Qs(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Js(this,f);else{this.o=!1,this.m=3,zt(12),Bn(this),is(this);break e}}if(this.R){f=!0;let _t;for(;!this.K&&this.C<N.length;)if(_t=Ju(this,N),_t==nn){De==4&&(this.m=4,zt(14),f=!1),Qs(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==Ut){this.m=4,zt(15),Qs(this.i,this.l,N,"[Invalid Chunk]"),f=!1;break}else Qs(this.i,this.l,_t,null),Js(this,_t);if(Wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||N.length!=0||this.h.h||(this.m=1,zt(16),f=!1),this.o=this.o&&f,!f)Qs(this.i,this.l,N,"[Invalid Chunked Response]"),Bn(this),is(this);else if(N.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),rc(fe),fe.P=!0,zt(11))}}else Qs(this.i,this.l,N,null),Js(this,N);De==4&&Bn(this),this.o&&!this.K&&(De==4?ld(this.j,this):(this.o=!1,Xs(this)))}else Ar(this.g),_==400&&N.indexOf("Unknown SID")>0?(this.m=3,zt(12)):(this.m=0,zt(13)),Bn(this),is(this)}}}catch{}finally{}};function Zf(f){if(!Wu(f))return f.g.la();const _=on(f.g);if(_==="")return"";let N="";const j=_.length,Y=ks(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Bn(f),is(f),"";f.h.i=new u.TextDecoder}for(let Z=0;Z<j;Z++)f.h.h=!0,N+=f.h.i.decode(_[Z],{stream:!(Y&&Z==j-1)});return _.length=0,f.h.g+=N,f.C=0,f.h.g}function Wu(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Ju(f,_){var N=f.C,j=_.indexOf(`
`,N);return j==-1?nn:(N=Number(_.substring(N,j)),isNaN(N)?Ut:(j+=1,j+N>_.length?nn:(_=_.slice(j,j+N),f.C=j+N,_)))}Ts.prototype.cancel=function(){this.K=!0,Bn(this)};function Xs(f){f.T=Date.now()+f.H,gl(f,f.H)}function gl(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Ys(p(f.aa,f),_)}function Ws(f){f.D&&(u.clearTimeout(f.D),f.D=null)}Ts.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(wa(this.i,this.B),this.M!=2&&(Gs(),zt(17)),Bn(this),this.m=2,is(this)):gl(this,this.T-f)};function is(f){f.j.I==0||f.K||ld(f.j,f)}function Bn(f){Ws(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,he(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function Js(f,_){try{var N=f.j;if(N.I!=0&&(N.g==f||er(N.h,f))){if(!f.L&&er(N.h,f)&&N.I==3){try{var j=N.Ba.g.parse(_)}catch{j=null}if(Array.isArray(j)&&j.length==3){var Y=j;if(Y[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<f.F)Nl(N),gi(N);else break e;Ia(N),zt(18)}}else N.xa=Y[1],0<N.xa-N.K&&Y[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=Ys(p(N.Va,N),6e3));Zs(N.h)<=1&&N.ta&&(N.ta=void 0)}else ar(N,11)}else if((f.L||N.g==f)&&Nl(N),!D(_))for(Y=N.Ba.g.parse(_),_=0;_<Y.length;_++){let rt=Y[_];const _t=rt[0];if(!(_t<=N.K))if(N.K=_t,rt=rt[1],N.I==2)if(rt[0]=="c"){N.M=rt[1],N.ba=rt[2];const os=rt[3];os!=null&&(N.ka=os,N.j.info("VER="+N.ka));const lr=rt[4];lr!=null&&(N.za=lr,N.j.info("SVER="+N.za));const Is=rt[5];Is!=null&&typeof Is=="number"&&Is>0&&(j=1.5*Is,N.O=j,N.j.info("backChannelRequestTimeoutMs_="+j)),j=N;const Rs=f.g;if(Rs){const Ra=Rs.g?Rs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ra){var Z=j.h;Z.g||Ra.indexOf("spdy")==-1&&Ra.indexOf("quic")==-1&&Ra.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&($o(Z,Z.h),Z.h=null))}if(j.G){const Sl=Rs.g?Rs.g.getResponseHeader("X-HTTP-Session-Id"):null;Sl&&(j.wa=Sl,lt(j.J,j.G,Sl))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-f.F,N.j.info("Handshake RTT: "+N.T+"ms")),j=N;var fe=f;if(j.na=ud(j,j.L?j.ba:null,j.W),fe.L){Yo(j.h,fe);var De=fe,Ot=j.O;Ot&&(De.H=Ot),De.D&&(Ws(De),Xs(De)),j.g=fe}else id(j);N.i.length>0&&ir(N)}else rt[0]!="stop"&&rt[0]!="close"||ar(N,7);else N.I==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?ar(N,7):nc(N):rt[0]!="noop"&&N.l&&N.l.qa(rt),N.A=0)}}Gs(4)}catch{}}var Ft=class{constructor(f,_){this.g=f,this.map=_}};function Ho(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Go(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Zs(f){return f.h?1:f.g?f.g.size:0}function er(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function $o(f,_){f.g?f.g.add(_):f.h=_}function Yo(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Ho.prototype.cancel=function(){if(this.i=Qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Qo(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const N of f.g.values())_=_.concat(N.G);return _}return v(f.i)}var Zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yl(f,_){if(f){f=f.split("&");for(let N=0;N<f.length;N++){const j=f[N].indexOf("=");let Y,Z=null;j>=0?(Y=f[N].substring(0,j),Z=f[N].substring(j+1)):Y=f[N],_(Y,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function qn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof qn?(this.l=f.l,sn(this,f.j),this.o=f.o,this.g=f.g,ci(this,f.u),this.h=f.h,Ko(this,sd(f.i)),this.m=f.m):f&&(_=String(f).match(Zu))?(this.l=!1,sn(this,_[1]||"",!0),this.o=tr(_[2]||""),this.g=tr(_[3]||"",!0),ci(this,_[4]),this.h=tr(_[5]||"",!0),Ko(this,_[6]||"",!0),this.m=tr(_[7]||"")):(this.l=!1,this.i=new di(null,this.l))}qn.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(Sa(_,xl,!0),":");var N=this.g;return(N||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Sa(_,xl,!0),"@"),f.push(Sr(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&f.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&f.push("/"),f.push(Sa(N,N.charAt(0)=="/"?Xo:ed,!0))),(N=this.i.toString())&&f.push("?",N),(N=this.m)&&f.push("#",Sa(N,td)),f.join("")},qn.prototype.resolve=function(f){const _=Bt(this);let N=!!f.j;N?sn(_,f.j):N=!!f.o,N?_.o=f.o:N=!!f.g,N?_.g=f.g:N=f.u!=null;var j=f.h;if(N)ci(_,f.u);else if(N=!!f.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var Y=_.h.lastIndexOf("/");Y!=-1&&(j=_.h.slice(0,Y+1)+j)}if(Y=j,Y==".."||Y==".")j="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){j=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const Z=[];for(let fe=0;fe<Y.length;){const De=Y[fe++];De=="."?j&&fe==Y.length&&Z.push(""):De==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),j&&fe==Y.length&&Z.push("")):(Z.push(De),j=!0)}j=Z.join("/")}else j=Y}return N?_.h=j:N=f.i.toString()!=="",N?Ko(_,sd(f.i)):N=!!f.m,N&&(_.m=f.m),_};function Bt(f){return new qn(f)}function sn(f,_,N){f.j=N?tr(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function ci(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function Ko(f,_,N){_ instanceof di?(f.i=_,vl(f.i,f.l)):(N||(_=Sa(_,ui)),f.i=new di(_,f.l))}function lt(f,_,N){f.i.set(_,N)}function Na(f){return lt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function tr(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Sa(f,_,N){return typeof f=="string"?(f=encodeURI(f).replace(_,In),N&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function In(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var xl=/[#\/\?@]/g,ed=/[#\?:]/g,Xo=/[#\?]/g,ui=/[#\?@]/g,td=/#/g;function di(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Rn(f){f.g||(f.g=new Map,f.h=0,f.i&&yl(f.i,function(_,N){f.add(decodeURIComponent(_.replace(/\+/g," ")),N)}))}t=di.prototype,t.add=function(f,_){Rn(this),this.i=null,f=hi(this,f);let N=this.g.get(f);return N||this.g.set(f,N=[]),N.push(_),this.h+=1,this};function nd(f,_){Rn(f),_=hi(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Wo(f,_){return Rn(f),_=hi(f,_),f.g.has(_)}t.forEach=function(f,_){Rn(this),this.g.forEach(function(N,j){N.forEach(function(Y){f.call(_,Y,j,this)},this)},this)};function Jo(f,_){Rn(f);let N=[];if(typeof _=="string")Wo(f,_)&&(N=N.concat(f.g.get(hi(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)N=N.concat(f[_]);return N}t.set=function(f,_){return Rn(this),this.i=null,f=hi(this,f),Wo(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=Jo(this,f),f.length>0?String(f[0]):_):_};function bl(f,_,N){nd(f,_),N.length>0&&(f.i=null,f.g.set(hi(f,_),v(N)),f.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let j=0;j<_.length;j++){var N=_[j];const Y=Sr(N);N=Jo(this,N);for(let Z=0;Z<N.length;Z++){let fe=Y;N[Z]!==""&&(fe+="="+Sr(N[Z])),f.push(fe)}}return this.i=f.join("&")};function sd(f){const _=new di;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function hi(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function vl(f,_){_&&!f.j&&(Rn(f),f.i=null,f.g.forEach(function(N,j){const Y=j.toLowerCase();j!=Y&&(nd(this,j),bl(this,Y,N))},f)),f.j=_}function Cs(f,_){const N=new Ss;if(u.Image){const j=new Image;j.onload=x(as,N,"TestLoadImage: loaded",!0,_,j),j.onerror=x(as,N,"TestLoadImage: error",!1,_,j),j.onabort=x(as,N,"TestLoadImage: abort",!1,_,j),j.ontimeout=x(as,N,"TestLoadImage: timeout",!1,_,j),u.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=f}else _(!1)}function Zo(f,_){const N=new Ss,j=new AbortController,Y=setTimeout(()=>{j.abort(),as(N,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:j.signal}).then(Z=>{clearTimeout(Y),Z.ok?as(N,"TestPingServer: ok",!0,_):as(N,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Y),as(N,"TestPingServer: error",!1,_)})}function as(f,_,N,j,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),j(N)}catch{}}function fi(){this.g=new et}function nr(f){this.i=f.Sb||null,this.h=f.ab||!1}b(nr,gn),nr.prototype.g=function(){return new Ta(this.i,this.h)};function Ta(f,_){St.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ta,St),t=Ta.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,js(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,js(this)),this.g&&(this.readyState=3,js(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wl(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function wl(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?mi(this):js(this),this.readyState==3&&wl(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,mi(this))},t.Na=function(f){this.g&&(this.response=f,mi(this))},t.ga=function(){this.g&&mi(this)};function mi(f){f.readyState=4,f.l=null,f.j=null,f.B=null,js(f)}t.setRequestHeader=function(f,_){this.A.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var N=_.next();!N.done;)N=N.value,f.push(N[0]+": "+N[1]),N=_.next();return f.join(`\r
`)};function js(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ls(f){let _="";return Re(f,function(N,j){_+=j,_+=":",_+=N,_+=`\r
`}),_}function Aa(f,_,N){e:{for(j in N){var j=!1;break e}j=!0}j||(N=ls(N),typeof f=="string"?N!=null&&Sr(N):lt(f,_,N))}function ut(f){St.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ut,St);var sr=/^https?$/i,ec=["POST","PUT"];t=ut.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,_,N,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qo.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(Z){Ca(this,Z);return}if(f=N||"",N=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var Y in j)N.set(Y,j[Y]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const Z of j.keys())N.set(Z,j.get(Z));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(N.keys()).find(Z=>Z.toLowerCase()=="content-type"),Y=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(ec,_,void 0)>=0)||j||Y||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,fe]of N)this.g.setRequestHeader(Z,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Z){Ca(this,Z)}};function Ca(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,tc(f),Tr(f)}function tc(f){f.A||(f.A=!0,kt(f,"complete"),kt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,kt(this,"complete"),kt(this,"abort"),Tr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tr(this,!0)),ut.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ja(this):this.Xa())},t.Xa=function(){ja(this)};function ja(f){if(f.h&&typeof o<"u"){if(f.v&&ks(f)==4)setTimeout(f.Ca.bind(f),0);else if(kt(f,"readystatechange"),ks(f)==4){f.h=!1;try{const Z=f.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var N;if(!(N=_)){var j;if(j=Z===0){let fe=String(f.D).match(Zu)[1]||null;!fe&&u.self&&u.self.location&&(fe=u.self.location.protocol.slice(0,-1)),j=!sr.test(fe?fe.toLowerCase():"")}N=j}if(N)kt(f,"complete"),kt(f,"success");else{f.o=6;try{var Y=ks(f)>2?f.g.statusText:""}catch{Y=""}f.l=Y+" ["+f.ca()+"]",tc(f)}}finally{Tr(f)}}}}function Tr(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const N=f.g;f.g=null,_||kt(f,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ks(f){return f.g?f.g.readyState:0}t.ca=function(){try{return ks(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Le(_)}};function on(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ar(f){const _={};f=(f.g&&ks(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<f.length;j++){if(D(f[j]))continue;var N=Xu(f[j]);const Y=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const Z=_[Y]||[];_[Y]=Z,Z.push(N)}F(_,function(j){return j.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function rr(f,_,N){return N&&N.internalChannelParams&&N.internalChannelParams[f]||_}function pi(f){this.za=0,this.i=[],this.j=new Ss,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=rr("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=rr("baseRetryDelayMs",5e3,f),this.Za=rr("retryDelaySeedMs",1e4,f),this.Ta=rr("forwardChannelMaxRetries",2,f),this.va=rr("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Ho(f&&f.concurrentRequestLimit),this.Ba=new fi,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=pi.prototype,t.ka=8,t.I=1,t.connect=function(f,_,N,j){zt(0),this.W=f,this.H=_||{},N&&j!==void 0&&(this.H.OSID=N,this.H.OAID=j),this.F=this.X,this.J=ud(this,null,this.W),ir(this)};function nc(f){if(_l(f),f.I==3){var _=f.V++,N=Bt(f.J);if(lt(N,"SID",f.M),lt(N,"RID",_),lt(N,"TYPE","terminate"),ka(f,N),_=new Ts(f,f.j,_),_.M=2,_.A=Na(Bt(N)),N=!1,u.navigator&&u.navigator.sendBeacon)try{N=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!N&&u.Image&&(new Image().src=_.A,N=!0),N||(_.g=dd(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Xs(_)}cd(f)}function gi(f){f.g&&(rc(f),f.g.cancel(),f.g=null)}function _l(f){gi(f),f.v&&(u.clearTimeout(f.v),f.v=null),Nl(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function ir(f){if(!Go(f.h)&&!f.m){f.m=!0;var _=f.Ea;W||I(),G||(W(),G=!0),z.add(_,f),f.D=0}}function El(f,_){return Zs(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Ys(p(f.Ea,f,_),od(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Y=new Ts(this,this.j,f);let Z=this.o;if(this.U&&(Z?(Z=Ze(Z),V(Z,this.U)):Z=this.U),this.u!==null||this.R||(Y.J=Z,Z=null),this.S)e:{for(var _=0,N=0;N<this.i.length;N++){t:{var j=this.i[N];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(_+=j,_>4096){_=N;break e}if(_===4096||N===this.i.length-1){_=N+1;break e}}_=1e3}else _=1e3;_=rd(this,Y,_),N=Bt(this.J),lt(N,"RID",f),lt(N,"CVER",22),this.G&&lt(N,"X-HTTP-Session-Id",this.G),ka(this,N),Z&&(this.R?_="headers="+Sr(ls(Z))+"&"+_:this.u&&Aa(N,this.u,Z)),$o(this.h,Y),this.Ra&&lt(N,"TYPE","init"),this.S?(lt(N,"$req",_),lt(N,"SID","null"),Y.U=!0,Ks(Y,N,null)):Ks(Y,N,_),this.I=2}}else this.I==3&&(f?sc(this,f):this.i.length==0||Go(this.h)||sc(this))};function sc(f,_){var N;_?N=_.l:N=f.V++;const j=Bt(f.J);lt(j,"SID",f.M),lt(j,"RID",N),lt(j,"AID",f.K),ka(f,j),f.u&&f.o&&Aa(j,f.u,f.o),N=new Ts(f,f.j,N,f.D+1),f.u===null&&(N.J=f.o),_&&(f.i=_.G.concat(f.i)),_=rd(f,N,1e3),N.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),$o(f.h,N),Ks(N,j,_)}function ka(f,_){f.H&&Re(f.H,function(N,j){lt(_,j,N)}),f.l&&Re({},function(N,j){lt(_,j,N)})}function rd(f,_,N){N=Math.min(f.i.length,N);const j=f.l?p(f.l.Ka,f.l,f):null;e:{var Y=f.i;let De=-1;for(;;){const Ot=["count="+N];De==-1?N>0?(De=Y[0].g,Ot.push("ofs="+De)):De=0:Ot.push("ofs="+De);let rt=!0;for(let _t=0;_t<N;_t++){var Z=Y[_t].g;const os=Y[_t].map;if(Z-=De,Z<0)De=Math.max(0,Y[_t].g-100),rt=!1;else try{Z="req"+Z+"_"||"";try{var fe=os instanceof Map?os:Object.entries(os);for(const[lr,Is]of fe){let Rs=Is;h(Is)&&(Rs=_e(Is)),Ot.push(Z+lr+"="+encodeURIComponent(Rs))}}catch(lr){throw Ot.push(Z+"type="+encodeURIComponent("_badmap")),lr}}catch{j&&j(os)}}if(rt){fe=Ot.join("&");break e}}fe=void 0}return f=f.i.splice(0,N),_.G=f,fe}function id(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;W||I(),G||(W(),G=!0),z.add(_,f),f.A=0}}function Ia(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Ys(p(f.Da,f),od(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,ad(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Ys(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,zt(10),gi(this),ad(this))};function rc(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function ad(f){f.g=new Ts(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=Bt(f.na);lt(_,"RID","rpc"),lt(_,"SID",f.M),lt(_,"AID",f.K),lt(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&lt(_,"TO",f.ia),lt(_,"TYPE","xmlhttp"),ka(f,_),f.u&&f.o&&Aa(_,f.u,f.o),f.O&&(f.g.H=f.O);var N=f.g;f=f.ba,N.M=1,N.A=Na(Bt(_)),N.u=null,N.R=!0,pl(N,f)}t.Va=function(){this.C!=null&&(this.C=null,gi(this),Ia(this),zt(19))};function Nl(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function ld(f,_){var N=null;if(f.g==_){Nl(f),rc(f),f.g=null;var j=2}else if(er(f.h,_))N=_.G,Yo(f.h,_),j=1;else return;if(f.I!=0){if(_.o)if(j==1){N=_.u?_.u.length:0,_=Date.now()-_.F;var Y=f.D;j=yn(),kt(j,new $s(j,N)),ir(f)}else id(f);else if(Y=_.m,Y==3||Y==0&&_.X>0||!(j==1&&El(f,_)||j==2&&Ia(f)))switch(N&&N.length>0&&(_=f.h,_.i=_.i.concat(N)),Y){case 1:ar(f,5);break;case 4:ar(f,10);break;case 3:ar(f,6);break;default:ar(f,2)}}}function od(f,_){let N=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(N*=2),N*_}function ar(f,_){if(f.j.info("Error code "+_),_==2){var N=p(f.bb,f),j=f.Ua;const Y=!j;j=new qn(j||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||sn(j,"https"),Na(j),Y?Cs(j.toString(),N):Zo(j.toString(),N)}else zt(2);f.I=0,f.l&&f.l.pa(_),cd(f),_l(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function cd(f){if(f.I=0,f.ja=[],f.l){const _=Qo(f.h);(_.length!=0||f.i.length!=0)&&(S(f.ja,_),S(f.ja,f.i),f.h.i.length=0,v(f.i),f.i.length=0),f.l.oa()}}function ud(f,_,N){var j=N instanceof qn?Bt(N):new qn(N);if(j.g!="")_&&(j.g=_+"."+j.g),ci(j,j.u);else{var Y=u.location;j=Y.protocol,_=_?_+"."+Y.hostname:Y.hostname,Y=+Y.port;const Z=new qn(null);j&&sn(Z,j),_&&(Z.g=_),Y&&ci(Z,Y),N&&(Z.h=N),j=Z}return N=f.G,_=f.wa,N&&_&&lt(j,N,_),lt(j,"VER",f.ka),ka(f,j),j}function dd(f,_,N){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new ut(new nr({ab:N})):new ut(f.ma),_.Fa(f.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hd(){}t=hd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function yi(){}yi.prototype.g=function(f,_){return new Tn(f,_)};function Tn(f,_){St.call(this),this.g=new pi(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!D(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Cr(this)}b(Tn,St),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){nc(this.g)},Tn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var N={};N.__data__=f,f=N}else this.v&&(N={},N.__data__=_e(f),f=N);_.i.push(new Ft(_.Ya++,f)),_.I==3&&ir(_)},Tn.prototype.N=function(){this.g.l=null,delete this.j,nc(this.g),delete this.g,Tn.Z.N.call(this)};function fd(f){Tt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const N in _){f=N;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}b(fd,Tt);function md(){tn.call(this),this.status=1}b(md,tn);function Cr(f){this.g=f}b(Cr,hd),Cr.prototype.ra=function(){kt(this.g,"a")},Cr.prototype.qa=function(f){kt(this.g,new fd(f))},Cr.prototype.pa=function(f){kt(this.g,new md)},Cr.prototype.oa=function(){kt(this.g,"b")},yi.prototype.createWebChannel=yi.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,xN=function(){return new yi},yN=function(){return yn()},gN=Ye,Fg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_a.NO_ERROR=0,_a.TIMEOUT=8,_a.HTTP_ERROR=6,Ph=_a,Bo.COMPLETE="complete",pN=Bo,rs.EventType=Dt,Dt.OPEN="a",Dt.CLOSE="b",Dt.ERROR="c",Dt.MESSAGE="d",St.prototype.listen=St.prototype.J,Xc=rs,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,mN=ut}).apply(typeof bh<"u"?bh:typeof self<"u"?self:typeof window<"u"?window:{});const J1="@firebase/firestore",Z1="4.9.2";class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");let Io="12.3.0";const rl=new j0("@firebase/firestore");function ro(){return rl.logLevel}function ye(t,...e){if(rl.logLevel<=He.DEBUG){const n=e.map(B0);rl.debug(`Firestore (${Io}): ${t}`,...n)}}function Jr(t,...e){if(rl.logLevel<=He.ERROR){const n=e.map(B0);rl.error(`Firestore (${Io}): ${t}`,...n)}}function yo(t,...e){if(rl.logLevel<=He.WARN){const n=e.map(B0);rl.warn(`Firestore (${Io}): ${t}`,...n)}}function B0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Te(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,bN(t,r,n)}function bN(t,e,n){let r=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Jr(r),new Error(r)}function at(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||bN(e,a,r)}function je(t,e){return t}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class vN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(bn.UNAUTHENTICATED)))}shutdown(){}}class rR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class iR{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let o=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Qr,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=o;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},h=m=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Qr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string",31837,{l:r}),new vN(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class aR{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lR{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new aR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(bn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ew{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){at(this.o===void 0,3512);const r=o=>{o.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,ye("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ew(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(at(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ew(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function cR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class q0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=cR(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function Ge(t,e){return t<e?-1:t>e?1:0}function Bg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),o=e.charAt(r);if(a!==o)return sg(a)===sg(o)?Ge(a,o):sg(a)?1:-1}return Ge(t.length,e.length)}const uR=55296,dR=57343;function sg(t){const e=t.charCodeAt(0);return e>=uR&&e<=dR}function xo(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}const tw="__name__";class fr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fr?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=fr.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return Ge(e.length,n.length)}static compareSegments(e,n){const r=fr.isNumericId(e),a=fr.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?fr.extractNumericId(e).compare(fr.extractNumericId(n)):Bg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wi.fromString(e.substring(4,e.length-2))}}class yt extends fr{construct(e,n,r){return new yt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new yt(n)}static emptyPath(){return new yt([])}}const hR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends fr{construct(e,n,r){return new mn(e,n,r)}static isValidIdentifier(e){return hR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tw}static keyField(){return new mn([tw])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new pe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new pe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new pe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(o(),a++)}if(o(),u)throw new pe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(n)}static emptyPath(){return new mn([])}}class we{constructor(e){this.path=e}static fromPath(e){return new we(yt.fromString(e))}static fromName(e){return new we(yt.fromString(e).popFirst(5))}static empty(){return new we(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new yt(e.slice()))}}function wN(t,e,n){if(!n)throw new pe(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fR(t,e,n,r){if(e===!0&&r===!0)throw new pe(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nw(t){if(!we.isDocumentKey(t))throw new pe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sw(t){if(we.isDocumentKey(t))throw new pe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _N(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Nf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te(12329,{type:typeof t})}function Us(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nf(t);throw new pe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function mR(t,e){if(e<=0)throw new pe(ie.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Xt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Lu(t,e){if(!_N(t))throw new pe(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(a&&typeof u!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new pe(ie.INVALID_ARGUMENT,n);return!0}const rw=-62135596800,iw=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*iw);return new vt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rw)throw new pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iw}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lu(e,vt._jsonSchema))return new vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vt._jsonSchemaVersion="firestore/timestamp/1.0",vt._jsonSchema={type:Xt("string",vt._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new vt(0,0))}static max(){return new Ce(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const yu=-1;function pR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Ce.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new ia(a,we.empty(),e)}function gR(t){return new ia(t.readTime,t.key,yu)}class ia{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ia(Ce.min(),we.empty(),yu)}static max(){return new ia(Ce.max(),we.empty(),yu)}}function yR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}const xR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ro(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==xR)throw t;ye("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,r)=>{n(e)}))}static reject(e){return new le(((n,r)=>{r(e)}))}static waitFor(e){return new le(((n,r)=>{let a=0,o=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++o,u&&o===a&&n()}),(m=>r(m)))})),u=!0,o===a&&n()}))}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next((a=>a?le.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,o)=>{r.push(n.call(this,a,o))})),this.waitFor(r)}static mapArray(e,n){return new le(((r,a)=>{const o=e.length,u=new Array(o);let h=0;for(let m=0;m<o;m++){const p=m;n(e[p]).next((x=>{u[p]=x,++h,h===o&&r(u)}),(x=>a(x)))}}))}static doWhile(e,n){return new le(((r,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):r()};o()}))}}function vR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Do(t){return t.name==="IndexedDbTransactionError"}class Sf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sf.ce=-1;const H0=-1;function Tf(t){return t==null}function ef(t){return t===0&&1/t==-1/0}function wR(t){return typeof t=="number"&&Number.isInteger(t)&&!ef(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const EN="";function _R(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=aw(e)),e=ER(t.get(n),e);return aw(e)}function ER(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case EN:n+="";break;default:n+=o}}return n}function aw(t){return t+EN+""}function lw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class At{constructor(e,n){this.comparator=e,this.root=n||fn.EMPTY}insert(e,n){return new At(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vh(this.root,e,this.comparator,!0)}}class vh{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??fn.RED,this.left=a??fn.EMPTY,this.right=o??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new fn(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return fn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,r,a,o){return this}insert(e,n,r){return new fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ow(this.data.getIterator())}getIteratorFrom(e){return new ow(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class ow{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zn{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new Zn([])}unionWith(e){let n=new Jt(mn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class SN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new SN("Invalid base64 string: "+o):o}})(e);return new pn(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o})(e);return new pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const NR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function aa(t){if(at(!!t,39018),typeof t=="string"){let e=0;const n=NR.exec(t);if(at(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function la(t){return typeof t=="string"?pn.fromBase64String(t):pn.fromUint8Array(t)}const TN="server_timestamp",AN="__type__",CN="__previous_value__",jN="__local_write_time__";function G0(t){return(t?.mapValue?.fields||{})[AN]?.stringValue===TN}function Af(t){const e=t.mapValue.fields[CN];return G0(e)?Af(e):e}function xu(t){const e=aa(t.mapValue.fields[jN].timestampValue);return new vt(e.seconds,e.nanos)}class SR{constructor(e,n,r,a,o,u,h,m,p,x){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=x}}const tf="(default)";class bu{constructor(e,n){this.projectId=e,this.database=n||tf}static empty(){return new bu("","")}get isDefaultDatabase(){return this.database===tf}isEqual(e){return e instanceof bu&&e.projectId===this.projectId&&e.database===this.database}}const kN="__type__",TR="__max__",wh={mapValue:{}},IN="__vector__",nf="value";function oa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?G0(t)?4:CR(t)?9007199254740991:AR(t)?10:11:Te(28295,{value:t})}function _r(t,e){if(t===e)return!0;const n=oa(t);if(n!==oa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xu(t).isEqual(xu(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=aa(a.timestampValue),h=aa(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return la(a.bytesValue).isEqual(la(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return Lt(a.geoPointValue.latitude)===Lt(o.geoPointValue.latitude)&&Lt(a.geoPointValue.longitude)===Lt(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Lt(a.integerValue)===Lt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=Lt(a.doubleValue),h=Lt(o.doubleValue);return u===h?ef(u)===ef(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return xo(t.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:case 11:return(function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(lw(u)!==lw(h))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(h[m]===void 0||!_r(u[m],h[m])))return!1;return!0})(t,e);default:return Te(52216,{left:t})}}function vu(t,e){return(t.values||[]).find((n=>_r(n,e)))!==void 0}function bo(t,e){if(t===e)return 0;const n=oa(t),r=oa(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=Lt(o.integerValue||o.doubleValue),m=Lt(u.integerValue||u.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(t,e);case 3:return cw(t.timestampValue,e.timestampValue);case 4:return cw(xu(t),xu(e));case 5:return Bg(t.stringValue,e.stringValue);case 6:return(function(o,u){const h=la(o),m=la(u);return h.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),m=u.split("/");for(let p=0;p<h.length&&p<m.length;p++){const x=Ge(h[p],m[p]);if(x!==0)return x}return Ge(h.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=Ge(Lt(o.latitude),Lt(u.latitude));return h!==0?h:Ge(Lt(o.longitude),Lt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return uw(t.arrayValue,e.arrayValue);case 10:return(function(o,u){const h=o.fields||{},m=u.fields||{},p=h[nf]?.arrayValue,x=m[nf]?.arrayValue,b=Ge(p?.values?.length||0,x?.values?.length||0);return b!==0?b:uw(p,x)})(t.mapValue,e.mapValue);case 11:return(function(o,u){if(o===wh.mapValue&&u===wh.mapValue)return 0;if(o===wh.mapValue)return 1;if(u===wh.mapValue)return-1;const h=o.fields||{},m=Object.keys(h),p=u.fields||{},x=Object.keys(p);m.sort(),x.sort();for(let b=0;b<m.length&&b<x.length;++b){const w=Bg(m[b],x[b]);if(w!==0)return w;const v=bo(h[m[b]],p[x[b]]);if(v!==0)return v}return Ge(m.length,x.length)})(t.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function cw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=aa(t),r=aa(e),a=Ge(n.seconds,r.seconds);return a!==0?a:Ge(n.nanos,r.nanos)}function uw(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=bo(n[a],r[a]);if(o)return o}return Ge(n.length,r.length)}function vo(t){return qg(t)}function qg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=aa(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return la(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return we.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=qg(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${qg(n.fields[u])}`;return a+"}"})(t.mapValue):Te(61005,{value:t})}function Lh(t){switch(oa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Af(t);return e?16+Lh(e):16;case 5:return 2*t.stringValue.length;case 6:return la(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+Lh(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return fa(r.fields,((o,u)=>{a+=o.length+Lh(u)})),a})(t.mapValue);default:throw Te(13486,{value:t})}}function dw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Hg(t){return!!t&&"integerValue"in t}function $0(t){return!!t&&"arrayValue"in t}function hw(t){return!!t&&"nullValue"in t}function fw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vh(t){return!!t&&"mapValue"in t}function AR(t){return(t?.mapValue?.fields||{})[kN]?.stringValue===IN}function su(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return fa(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=su(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=su(t.arrayValue.values[n]);return e}return{...t}}function CR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===TR}class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(n)}setAll(e){let n=mn.emptyPath(),r={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const m=this.getFieldsMap(n);this.applyChanges(m,r,a),r={},a=[],n=h.popLast()}u?r[h.lastSegment()]=su(u):a.push(h.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());Vh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Vh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){fa(n,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new Un(su(this.value))}}function RN(t){const e=[];return fa(t.fields,((n,r)=>{const a=new mn([n]);if(Vh(r)){const o=RN(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)})),new Zn(e)}class vn{constructor(e,n,r,a,o,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new vn(e,0,Ce.min(),Ce.min(),Ce.min(),Un.empty(),0)}static newFoundDocument(e,n,r,a){return new vn(e,1,n,Ce.min(),r,a,0)}static newNoDocument(e,n){return new vn(e,2,n,Ce.min(),Ce.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new vn(e,3,n,Ce.min(),Ce.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sf{constructor(e,n){this.position=e,this.inclusive=n}}function mw(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],u=t.position[a];if(o.field.isKeyField()?r=we.comparator(we.fromName(u.referenceValue),n.key):r=bo(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function pw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_r(t.position[n],e.position[n]))return!1;return!0}class wu{constructor(e,n="asc"){this.field=e,this.dir=n}}function jR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class DN{}class Kt extends DN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new IR(e,n,r):n==="array-contains"?new OR(e,r):n==="in"?new MR(e,r):n==="not-in"?new PR(e,r):n==="array-contains-any"?new LR(e,r):new Kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new RR(e,r):new DR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(bo(n,this.value)):n!==null&&oa(this.value)===oa(n)&&this.matchesComparison(bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fs extends DN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Fs(e,n)}matches(e){return ON(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ON(t){return t.op==="and"}function MN(t){return kR(t)&&ON(t)}function kR(t){for(const e of t.filters)if(e instanceof Fs)return!1;return!0}function Gg(t){if(t instanceof Kt)return t.field.canonicalString()+t.op.toString()+vo(t.value);if(MN(t))return t.filters.map((e=>Gg(e))).join(",");{const e=t.filters.map((n=>Gg(n))).join(",");return`${t.op}(${e})`}}function PN(t,e){return t instanceof Kt?(function(r,a){return a instanceof Kt&&r.op===a.op&&r.field.isEqual(a.field)&&_r(r.value,a.value)})(t,e):t instanceof Fs?(function(r,a){return a instanceof Fs&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,u,h)=>o&&PN(u,a.filters[h])),!0):!1})(t,e):void Te(19439)}function LN(t){return t instanceof Kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${vo(n.value)}`})(t):t instanceof Fs?(function(n){return n.op.toString()+" {"+n.getFilters().map(LN).join(" ,")+"}"})(t):"Filter"}class IR extends Kt{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class RR extends Kt{constructor(e,n){super(e,"in",n),this.keys=VN("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class DR extends Kt{constructor(e,n){super(e,"not-in",n),this.keys=VN("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function VN(t,e){return(e.arrayValue?.values||[]).map((n=>we.fromName(n.referenceValue)))}class OR extends Kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $0(n)&&vu(n.arrayValue,this.value)}}class MR extends Kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vu(this.value.arrayValue,n)}}class PR extends Kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vu(this.value.arrayValue,n)}}class LR extends Kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>vu(this.value.arrayValue,r)))}}class VR{constructor(e,n=null,r=[],a=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function gw(t,e=null,n=[],r=[],a=null,o=null,u=null){return new VR(t,e,n,r,a,o,u)}function Y0(t){const e=je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Gg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Tf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>vo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>vo(r))).join(",")),e.Te=n}return e.Te}function Q0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pw(t.startAt,e.startAt)&&pw(t.endAt,e.endAt)}function $g(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Oo{constructor(e,n=null,r=[],a=[],o=null,u="F",h=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zR(t,e,n,r,a,o,u,h){return new Oo(t,e,n,r,a,o,u,h)}function K0(t){return new Oo(t)}function yw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zN(t){return t.collectionGroup!==null}function ru(t){const e=je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Jt(mn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new wu(o,r))})),n.has(mn.keyField().canonicalString())||e.Ie.push(new wu(mn.keyField(),r))}return e.Ie}function pr(t){const e=je(t);return e.Ee||(e.Ee=UR(e,ru(t))),e.Ee}function UR(t,e){if(t.limitType==="F")return gw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new wu(a.field,o)}));const n=t.endAt?new sf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sf(t.startAt.position,t.startAt.inclusive):null;return gw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Yg(t,e){const n=t.filters.concat([e]);return new Oo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rf(t,e,n){return new Oo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cf(t,e){return Q0(pr(t),pr(e))&&t.limitType===e.limitType}function UN(t){return`${Y0(pr(t))}|lt:${t.limitType}`}function io(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>LN(a))).join(", ")}]`),Tf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>vo(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>vo(a))).join(",")),`Target(${r})`})(pr(t))}; limitType=${t.limitType})`}function jf(t,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):we.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,a){for(const o of ru(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(u,h,m){const p=mw(u,h,m);return u.inclusive?p<=0:p<0})(r.startAt,ru(r),a)||r.endAt&&!(function(u,h,m){const p=mw(u,h,m);return u.inclusive?p>=0:p>0})(r.endAt,ru(r),a))})(t,e)}function FR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FN(t){return(e,n)=>{let r=!1;for(const a of ru(t)){const o=BR(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function BR(t,e,n){const r=t.field.isKeyField()?we.comparator(e.key,n.key):(function(o,u,h){const m=u.data.field(o),p=h.data.field(o);return m!==null&&p!==null?bo(m,p):Te(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:t.dir})}}class ol{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){fa(this.inner,((n,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return NN(this.inner)}size(){return this.innerSize}}const qR=new At(we.comparator);function Zr(){return qR}const BN=new At(we.comparator);function Wc(...t){let e=BN;for(const n of t)e=e.insert(n.key,n);return e}function qN(t){let e=BN;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Wa(){return iu()}function HN(){return iu()}function iu(){return new ol((t=>t.toString()),((t,e)=>t.isEqual(e)))}const HR=new At(we.comparator),GR=new Jt(we.comparator);function $e(...t){let e=GR;for(const n of t)e=e.add(n);return e}const $R=new Jt(Ge);function YR(){return $R}function X0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ef(e)?"-0":e}}function GN(t){return{integerValue:""+t}}function QR(t,e){return wR(e)?GN(e):X0(t,e)}class kf{constructor(){this._=void 0}}function KR(t,e,n){return t instanceof _u?(function(a,o){const u={fields:{[AN]:{stringValue:TN},[jN]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&G0(o)&&(o=Af(o)),o&&(u.fields[CN]=o),{mapValue:u}})(n,e):t instanceof wo?YN(t,e):t instanceof Eu?QN(t,e):(function(a,o){const u=$N(a,o),h=xw(u)+xw(a.Ae);return Hg(u)&&Hg(a.Ae)?GN(h):X0(a.serializer,h)})(t,e)}function XR(t,e,n){return t instanceof wo?YN(t,e):t instanceof Eu?QN(t,e):n}function $N(t,e){return t instanceof af?(function(r){return Hg(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class _u extends kf{}class wo extends kf{constructor(e){super(),this.elements=e}}function YN(t,e){const n=KN(e);for(const r of t.elements)n.some((a=>_r(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Eu extends kf{constructor(e){super(),this.elements=e}}function QN(t,e){let n=KN(e);for(const r of t.elements)n=n.filter((a=>!_r(a,r)));return{arrayValue:{values:n}}}class af extends kf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function xw(t){return Lt(t.integerValue||t.doubleValue)}function KN(t){return $0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class XN{constructor(e,n){this.field=e,this.transform=n}}function WR(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof wo&&a instanceof wo||r instanceof Eu&&a instanceof Eu?xo(r.elements,a.elements,_r):r instanceof af&&a instanceof af?_r(r.Ae,a.Ae):r instanceof _u&&a instanceof _u})(t.transform,e.transform)}class JR{constructor(e,n){this.version=e,this.transformResults=n}}class bs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bs}static exists(e){return new bs(void 0,e)}static updateTime(e){return new bs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class If{}function WN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new W0(t.key,bs.none()):new Vu(t.key,t.data,bs.none());{const n=t.data,r=Un.empty();let a=new Jt(mn.comparator);for(let o of e.fields)if(!a.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new ma(t.key,r,new Zn(a.toArray()),bs.none())}}function ZR(t,e,n){t instanceof Vu?(function(a,o,u){const h=a.value.clone(),m=vw(a.fieldTransforms,o,u.transformResults);h.setAll(m),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ma?(function(a,o,u){if(!zh(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=vw(a.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(JN(a)),m.setAll(h),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function au(t,e,n,r){return t instanceof Vu?(function(o,u,h,m){if(!zh(o.precondition,u))return h;const p=o.value.clone(),x=ww(o.fieldTransforms,m,u);return p.setAll(x),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof ma?(function(o,u,h,m){if(!zh(o.precondition,u))return h;const p=ww(o.fieldTransforms,m,u),x=u.data;return x.setAll(JN(o)),x.setAll(p),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(t,e,n,r):(function(o,u,h){return zh(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function e3(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=$N(r.transform,a||null);o!=null&&(n===null&&(n=Un.empty()),n.set(r.field,o))}return n||null}function bw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&xo(r,a,((o,u)=>WR(o,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vu extends If{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ma extends If{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function JN(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function vw(t,e,n){const r=new Map;at(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],u=o.transform,h=e.data.field(o.field);r.set(o.field,XR(u,h,n[a]))}return r}function ww(t,e,n){const r=new Map;for(const a of t){const o=a.transform,u=n.data.field(a.field);r.set(a.field,KR(o,u,e))}return r}class W0 extends If{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class t3 extends If{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class n3{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&ZR(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=au(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=au(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=HN();return this.mutations.forEach((a=>{const o=e.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=n.has(a.key)?null:h;const m=WN(u,h);m!==null&&r.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Ce.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),$e())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,((n,r)=>bw(n,r)))&&xo(this.baseMutations,e.baseMutations,((n,r)=>bw(n,r)))}}class J0{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){at(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return HR})();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new J0(e,n,r,a)}}class s3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class r3{constructor(e,n){this.count=e,this.unchangedNames=n}}var Yt,Ke;function i3(t){switch(t){case ie.OK:return Te(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Te(15467,{code:t})}}function ZN(t){if(t===void 0)return Jr("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Yt.OK:return ie.OK;case Yt.CANCELLED:return ie.CANCELLED;case Yt.UNKNOWN:return ie.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return ie.INTERNAL;case Yt.UNAVAILABLE:return ie.UNAVAILABLE;case Yt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Yt.NOT_FOUND:return ie.NOT_FOUND;case Yt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Yt.ABORTED:return ie.ABORTED;case Yt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Yt.DATA_LOSS:return ie.DATA_LOSS;default:return Te(39323,{code:t})}}(Ke=Yt||(Yt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function a3(){return new TextEncoder}const l3=new Wi([4294967295,4294967295],0);function _w(t){const e=a3().encode(t),n=new fN;return n.update(e),new Uint8Array(n.digest())}function Ew(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Wi([n,r],0),new Wi([a,o],0)]}class Z0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Jc(`Invalid padding: ${n}`);if(r<0)throw new Jc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Jc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Wi.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Wi.fromNumber(r)));return a.compare(l3)===1&&(a=new Wi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=_w(e),[r,a]=Ew(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);if(!this.we(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Z0(o,a,n);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=_w(e),[r,a]=Ew(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rf{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,zu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rf(Ce.min(),a,new At(Ge),Zr(),$e())}}class zu{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zu(r,n,$e(),$e(),$e())}}class Uh{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class e2{constructor(e,n){this.targetId=e,this.Ce=n}}class t2{constructor(e,n,r=pn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class Nw{constructor(){this.ve=0,this.Fe=Sw(),this.Me=pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),n=$e(),r=$e();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Te(38017,{changeType:o})}})),new zu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Sw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class o3{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zr(),this.Je=_h(),this.He=_h(),this.Ye=new At(Ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if($g(o))if(r===0){const u=new we(o.path);this.et(n,u,vn.newNoDocument(u,Ce.min()))}else at(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const h=this.ut(e),m=h?this.ct(h,e,u):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let u,h;try{u=la(r).toUint8Array()}catch(m){if(m instanceof SN)return yo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new Z0(u,a,o)}catch(m){return yo(m instanceof Jc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&$g(h.target)){const m=new we(h.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,vn.newNoDocument(m,e))}o.Be&&(n.set(u,o.ke()),o.qe())}}));let r=$e();this.He.forEach(((o,u)=>{let h=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const a=new Rf(e,n,this.Ye,this.je,r);return this.je=Zr(),this.Je=_h(),this.He=_h(),this.Ye=new At(Ge),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Nw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Jt(Ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Jt(Ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Nw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _h(){return new At(we.comparator)}function Sw(){return new At(we.comparator)}const c3={asc:"ASCENDING",desc:"DESCENDING"},u3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d3={and:"AND",or:"OR"};class h3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qg(t,e){return t.useProto3Json||Tf(e)?e:{value:e}}function lf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function n2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function f3(t,e){return lf(t,e.toTimestamp())}function gr(t){return at(!!t,49232),Ce.fromTimestamp((function(n){const r=aa(n);return new vt(r.seconds,r.nanos)})(t))}function ey(t,e){return Kg(t,e).canonicalString()}function Kg(t,e){const n=(function(a){return new yt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function s2(t){const e=yt.fromString(t);return at(o2(e),10190,{key:e.toString()}),e}function Xg(t,e){return ey(t.databaseId,e.path)}function rg(t,e){const n=s2(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(i2(n))}function r2(t,e){return ey(t.databaseId,e)}function m3(t){const e=s2(t);return e.length===4?yt.emptyPath():i2(e)}function Wg(t){return new yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function i2(t){return at(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Tw(t,e,n){return{name:Xg(t,e),fields:n.value.mapValue.fields}}function p3(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(p,x){return p.useProto3Json?(at(x===void 0||typeof x=="string",58123),pn.fromBase64String(x||"")):(at(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),pn.fromUint8Array(x||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const x=p.code===void 0?ie.UNKNOWN:ZN(p.code);return new pe(x,p.message||"")})(u);n=new t2(r,a,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=rg(t,r.document.name),o=gr(r.document.updateTime),u=r.document.createTime?gr(r.document.createTime):Ce.min(),h=new Un({mapValue:{fields:r.document.fields}}),m=vn.newFoundDocument(a,o,u,h),p=r.targetIds||[],x=r.removedTargetIds||[];n=new Uh(p,x,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=rg(t,r.document),o=r.readTime?gr(r.readTime):Ce.min(),u=vn.newNoDocument(a,o),h=r.removedTargetIds||[];n=new Uh([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=rg(t,r.document),o=r.removedTargetIds||[];n=new Uh([],o,a,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new r3(a,o),h=r.targetId;n=new e2(h,u)}}return n}function g3(t,e){let n;if(e instanceof Vu)n={update:Tw(t,e.key,e.value)};else if(e instanceof W0)n={delete:Xg(t,e.key)};else if(e instanceof ma)n={update:Tw(t,e.key,e.data),updateMask:S3(e.fieldMask)};else{if(!(e instanceof t3))return Te(16599,{Vt:e.type});n={verify:Xg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const h=u.transform;if(h instanceof _u)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof wo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Eu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof af)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Te(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:f3(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Te(27497)})(t,e.precondition)),n}function y3(t,e){return t&&t.length>0?(at(e!==void 0,14353),t.map((n=>(function(a,o){let u=a.updateTime?gr(a.updateTime):gr(o);return u.isEqual(Ce.min())&&(u=gr(o)),new JR(u,a.transformResults||[])})(n,e)))):[]}function x3(t,e){return{documents:[r2(t,e.path)]}}function b3(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=r2(t,a);const o=(function(p){if(p.length!==0)return l2(Fs.create(p,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const u=(function(p){if(p.length!==0)return p.map((x=>(function(w){return{field:ao(w.field),direction:_3(w.dir)}})(x)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Qg(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function v3(t){let e=m3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){at(r===1,65062);const x=n.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let o=[];n.where&&(o=(function(b){const w=a2(b);return w instanceof Fs&&MN(w)?w.getFilters():[w]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((w=>(function(S){return new wu(lo(S.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(w)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let w;return w=typeof b=="object"?b.value:b,Tf(w)?null:w})(n.limit));let m=null;n.startAt&&(m=(function(b){const w=!!b.before,v=b.values||[];return new sf(v,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const w=!b.before,v=b.values||[];return new sf(v,w)})(n.endAt)),zR(e,a,u,o,h,"F",m,p)}function w3(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function a2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=lo(n.unaryFilter.field);return Kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=lo(n.unaryFilter.field);return Kt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=lo(n.unaryFilter.field);return Kt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=lo(n.unaryFilter.field);return Kt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Kt.create(lo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Fs.create(n.compositeFilter.filters.map((r=>a2(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(t):Te(30097,{filter:t})}function _3(t){return c3[t]}function E3(t){return u3[t]}function N3(t){return d3[t]}function ao(t){return{fieldPath:t.canonicalString()}}function lo(t){return mn.fromServerFormat(t.fieldPath)}function l2(t){return t instanceof Kt?(function(n){if(n.op==="=="){if(fw(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(hw(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fw(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(hw(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:E3(n.op),value:n.value}}})(t):t instanceof Fs?(function(n){const r=n.getFilters().map((a=>l2(a)));return r.length===1?r[0]:{compositeFilter:{op:N3(n.op),filters:r}}})(t):Te(54877,{filter:t})}function S3(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function o2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class $i{constructor(e,n,r,a,o=Ce.min(),u=Ce.min(),h=pn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new $i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class T3{constructor(e){this.yt=e}}function A3(t){const e=v3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rf(e,e.limit,"L"):e}class C3{constructor(){this.Cn=new j3}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(ia.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(ia.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class j3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Jt(yt.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Jt(yt.comparator)).toArray()}}const Aw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},c2=41943040;class zn{static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(c2,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);class _o{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _o(0)}static cr(){return new _o(-1)}}const Cw="LruGarbageCollector",k3=1048576;function jw([t,e],[n,r]){const a=Ge(t,n);return a===0?Ge(e,r):a}class I3{constructor(e){this.Ir=e,this.buffer=new Jt(jw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();jw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class R3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(Cw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Do(n)?ye(Cw,"Ignoring IndexedDB error during garbage collection: ",n):await Ro(n)}await this.Vr(3e5)}))}}class D3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Sf.ce);const r=new I3(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(Aw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Aw):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,o,u,h,m,p;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(r=b,h=Date.now(),this.removeTargets(e,r,n)))).next((b=>(o=b,m=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(p=Date.now(),ro()<=He.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-x}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(m-h)+`ms
	Removed ${b} documents in `+(p-m)+`ms
Total Duration: ${p-x}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:b}))))}}function O3(t,e){return new D3(t,e)}class M3{constructor(){this.changes=new ol((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class P3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class L3{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&au(r.mutation,a,Zn.empty(),vt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,$e()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=$e()){const a=Wa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((o=>{let u=Wc();return o.forEach(((h,m)=>{u=u.insert(h,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=Wa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,$e())))}populateOverlays(e,n,r){const a=[];return r.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,r,a){let o=Zr();const u=iu(),h=(function(){return iu()})();return n.forEach(((m,p)=>{const x=r.get(p.key);a.has(p.key)&&(x===void 0||x.mutation instanceof ma)?o=o.insert(p.key,p):x!==void 0?(u.set(p.key,x.mutation.getFieldMask()),au(x.mutation,p,x.mutation.getFieldMask(),vt.now())):u.set(p.key,Zn.empty())})),this.recalculateAndSaveOverlays(e,o).next((m=>(m.forEach(((p,x)=>u.set(p,x))),n.forEach(((p,x)=>h.set(p,new P3(x,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=iu();let a=new At(((u,h)=>u-h)),o=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let x=r.get(m)||Zn.empty();x=h.applyToLocalView(p,x),r.set(m,x);const b=(a.get(h.batchId)||$e()).add(m);a=a.insert(h.batchId,b)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),p=m.key,x=m.value,b=HN();x.forEach((w=>{if(!o.has(w)){const v=WN(n.get(w),r.get(w));v!==null&&b.set(w,v),o=o.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,b))}return le.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(u){return we.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):le.resolve(Wa());let h=yu,m=o;return u.next((p=>le.forEach(p,((x,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),o.get(x)?le.resolve():this.remoteDocumentCache.getEntry(e,x).next((w=>{m=m.insert(x,w)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,m,p,$e()))).next((x=>({batchId:h,changes:qN(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next((r=>{let a=Wc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let u=Wc();return this.indexManager.getCollectionParents(e,o).next((h=>le.forEach(h,(m=>{const p=(function(b,w){return new Oo(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((x=>{x.forEach(((b,w)=>{u=u.insert(b,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a)))).next((u=>{o.forEach(((m,p)=>{const x=p.getKey();u.get(x)===null&&(u=u.insert(x,vn.newInvalidDocument(x)))}));let h=Wc();return u.forEach(((m,p)=>{const x=o.get(m);x!==void 0&&au(x.mutation,p,Zn.empty(),vt.now()),jf(n,p)&&(h=h.insert(m,p))})),h}))}}class V3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return le.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:gr(a.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:A3(a.bundledQuery),readTime:gr(a.readTime)}})(n)),le.resolve()}}class z3{constructor(){this.overlays=new At(we.comparator),this.qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wa();return le.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,o)=>{this.St(e,n,o)})),le.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const a=Wa(),o=n.length+1,u=new we(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const m=h.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&m.largestBatchId>r&&a.set(m.getKey(),m)}return le.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new At(((p,x)=>p-x));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let x=o.get(p.largestBatchId);x===null&&(x=Wa(),o=o.insert(p.largestBatchId,x)),x.set(p.getKey(),p)}}const h=Wa(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,x)=>h.set(p,x))),!(h.size()>=a)););return le.resolve(h)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new s3(n,r));let o=this.qr.get(n);o===void 0&&(o=$e(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}class U3{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}class ty{constructor(){this.Qr=new Jt(an.$r),this.Ur=new Jt(an.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new an(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new an(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new we(new yt([])),r=new an(n,e),a=new an(n,e+1),o=[];return this.Ur.forEachInRange([r,a],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new we(new yt([])),r=new an(n,e),a=new an(n,e+1);let o=$e();return this.Ur.forEachInRange([r,a],(u=>{o=o.add(u.key)})),o}containsKey(e){const n=new an(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class an{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return we.comparator(e.key,n.key)||Ge(e.Yr,n.Yr)}static Kr(e,n){return Ge(e.Yr,n.Yr)||we.comparator(e.key,n.key)}}class F3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Jt(an.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new n3(o,n,r,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new an(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return le.resolve(u)}lookupMutationBatch(e,n){return le.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),o=a<0?0:a;return le.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?H0:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new an(n,0),a=new an(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(u=>{const h=this.Xr(u.Yr);o.push(h)})),le.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jt(Ge);return n.forEach((a=>{const o=new an(a,0),u=new an(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(h=>{r=r.add(h.Yr)}))})),le.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;we.isDocumentKey(o)||(o=o.child(""));const u=new an(new we(o),0);let h=new Jt(Ge);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(h=h.add(m.Yr)),!0)}),u),le.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){at(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return le.forEach(n.mutations,(a=>{const o=new an(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new an(n,0),a=this.Zr.firstAfterOrEqual(r);return le.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class B3{constructor(e){this.ri=e,this.docs=(function(){return new At(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():vn.newInvalidDocument(n))}getEntries(e,n){let r=Zr();return n.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():vn.newInvalidDocument(a))})),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=Zr();const u=n.path,h=new we(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:p,value:{document:x}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||yR(gR(x),r)<=0||(a.has(x.key)||jf(n,x))&&(o=o.insert(x.key,x.mutableCopy()))}return le.resolve(o)}getAllFromCollectionGroup(e,n,r,a){Te(9500)}ii(e,n){return le.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new q3(this)}getSize(e){return le.resolve(this.size)}}class q3 extends M3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),le.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class H3{constructor(e){this.persistence=e,this.si=new ol((n=>Y0(n)),Q0),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new ty,this.targetCount=0,this.ai=_o.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),le.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new _o(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Pr(n),le.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),le.waitFor(o).next((()=>a))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((u=>{o.push(a.markPotentiallyOrphaned(e,u))})),le.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this._i.containsKey(n))}}class u2{constructor(e,n){this.ui={},this.overlays={},this.ci=new Sf(0),this.li=!1,this.li=!0,this.hi=new U3,this.referenceDelegate=e(this),this.Pi=new H3(this),this.indexManager=new C3,this.remoteDocumentCache=(function(a){return new B3(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new T3(n),this.Ii=new V3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new z3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new F3(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ye("MemoryPersistence","Starting transaction:",e);const a=new G3(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return le.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class G3 extends bR{constructor(e){super(),this.currentSequenceNumber=e}}class ny{constructor(e){this.persistence=e,this.Ri=new ty,this.Vi=null}static mi(e){return new ny(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(r=>{const a=we.fromPath(r);return this.gi(e,a).next((o=>{o||n.removeEntry(a,Ce.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class of{constructor(e,n){this.persistence=e,this.pi=new ol((r=>_R(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=O3(this,n)}static mi(e,n){return new of(e,n)}Ei(){}di(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return le.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?le.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((h=>{h||(r++,o.removeEntry(u,Ce.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Lh(e.data.value)),n}br(e,n,r){return le.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return le.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sy{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=$e(),a=$e();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new sy(e,n.fromCache,r,a)}}class $3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Y3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return x4()?8:vR(En())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.ys(e,n).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,n,a,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new $3;return this.Ss(e,n,u).next((h=>{if(o.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>o.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(ro()<=He.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(ro()<=He.DEBUG&&ye("QueryEngine","Query:",io(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(ro()<=He.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(n))):le.resolve())}ys(e,n){if(yw(n))return le.resolve(null);let r=pr(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=rf(n,null,"F"),r=pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=$e(...o);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((m=>{const p=this.Ds(n,h);return this.Cs(n,p,u,m.readTime)?this.ys(e,rf(n,null,"F")):this.vs(e,p,n,m)}))))})))))}ws(e,n,r,a){return yw(n)||a.isEqual(Ce.min())?le.resolve(null):this.ps.getDocuments(e,r).next((o=>{const u=this.Ds(n,o);return this.Cs(n,u,r,a)?le.resolve(null):(ro()<=He.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),io(n)),this.vs(e,u,n,pR(a,yu)).next((h=>h)))}))}Ds(e,n){let r=new Jt(FN(e));return n.forEach(((a,o)=>{jf(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,r){return ro()<=He.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",io(n)),this.ps.getDocumentsMatchingQuery(e,n,ia.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(n.forEach((u=>{o=o.insert(u.key,u)})),o)))}}const ry="LocalStore",Q3=3e8;class K3{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new At(Ge),this.xs=new ol((o=>Y0(o)),Q0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new L3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function X3(t,e,n,r){return new K3(t,e,n,r)}async function d2(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],h=[];let m=$e();for(const p of a){u.push(p.batchId);for(const x of p.mutations)m=m.add(x.key)}for(const p of o){h.push(p.batchId);for(const x of p.mutations)m=m.add(x.key)}return n.localDocuments.getDocuments(r,m).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function W3(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,m,p,x){const b=p.batch,w=b.keys();let v=le.resolve();return w.forEach((S=>{v=v.next((()=>x.getEntry(m,S))).next((k=>{const R=p.docVersions.get(S);at(R!==null,48541),k.version.compareTo(R)<0&&(b.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),x.addEntry(k)))}))})),v.next((()=>h.mutationQueue.removeMutationBatch(m,b)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let m=$e();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(m=m.add(h.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function h2(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function J3(t,e){const n=je(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((x,b)=>{const w=a.get(b);if(!w)return;h.push(n.Pi.removeMatchingKeys(o,x.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(o,x.addedDocuments,b))));let v=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?v=v.withResumeToken(pn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):x.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(x.resumeToken,r)),a=a.insert(b,v),(function(k,R,M){return k.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=Q3?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(w,v,x)&&h.push(n.Pi.updateTargetData(o,v))}));let m=Zr(),p=$e();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,x))})),h.push(Z3(o,u,e.documentUpdates).next((x=>{m=x.ks,p=x.qs}))),!r.isEqual(Ce.min())){const x=n.Pi.getLastRemoteSnapshotVersion(o).next((b=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(x)}return le.waitFor(h).next((()=>u.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,m,p))).next((()=>m))})).then((o=>(n.Ms=a,o)))}function Z3(t,e,n){let r=$e(),a=$e();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let u=Zr();return n.forEach(((h,m)=>{const p=o.get(h);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),m.isNoDocument()&&m.version.isEqual(Ce.min())?(e.removeEntry(h,m.readTime),u=u.insert(h,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(h,m)):ye(ry,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function eD(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=H0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function tD(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((o=>o?(a=o,le.resolve(a)):n.Pi.allocateTargetId(r).next((u=>(a=new $i(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Jg(t,e,n){const r=je(t),a=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Do(u))throw u;ye(ry,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function kw(t,e,n){const r=je(t);let a=Ce.min(),o=$e();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,x){const b=je(m),w=b.xs.get(x);return w!==void 0?le.resolve(b.Ms.get(w)):b.Pi.getTargetData(p,x)})(r,u,pr(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((m=>{o=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,n?a:Ce.min(),n?o:$e()))).next((h=>(nD(r,FR(e),h),{documents:h,Qs:o})))))}function nD(t,e,n){let r=t.Os.get(e)||Ce.min();n.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class Iw{constructor(){this.activeTargetIds=YR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sD{constructor(){this.Mo=new Iw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Iw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rD{Oo(e){}shutdown(){}}const Rw="ConnectivityMonitor";class Dw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(Rw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(Rw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Eh=null;function Zg(){return Eh===null?Eh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Eh++,"0x"+Eh.toString(16)}const ig="RestConnection",iD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===tf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,o){const u=Zg(),h=this.zo(e,n.toUriEncodedString());ye(ig,`Sending RPC '${e}' ${u}:`,h,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,o);const{host:p}=new URL(h),x=Co(p);return this.Jo(e,h,m,r,x).then((b=>(ye(ig,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw yo(ig,`RPC '${e}' ${u} failed with error: `,b,"url: ",h,"request:",r),b}))}Ho(e,n,r,a,o,u){return this.Go(e,n,r,a,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Io})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const r=iD[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class lD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const xn="WebChannelConnection";class oD extends aD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,o){const u=Zg();return new Promise(((h,m)=>{const p=new mN;p.setWithCredentials(!0),p.listenOnce(pN.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Ph.NO_ERROR:const b=p.getResponseJson();ye(xn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),h(b);break;case Ph.TIMEOUT:ye(xn,`RPC '${e}' ${u} timed out`),m(new pe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Ph.HTTP_ERROR:const w=p.getStatus();if(ye(xn,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let v=p.getResponseJson();Array.isArray(v)&&(v=v[0]);const S=v?.error;if(S&&S.status&&S.message){const k=(function(M){const P=M.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(P)>=0?P:ie.UNKNOWN})(S.status);m(new pe(k,S.message))}else m(new pe(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new pe(ie.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ye(xn,`RPC '${e}' ${u} completed.`)}}));const x=JSON.stringify(a);ye(xn,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",x,r,15)}))}T_(e,n,r){const a=Zg(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=xN(),h=yN(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const x=o.join("");ye(xn,`Creating RPC '${e}' stream ${a}: ${x}`,m);const b=u.createWebChannel(x,m);this.I_(b);let w=!1,v=!1;const S=new lD({Yo:R=>{v?ye(xn,`Not sending because RPC '${e}' stream ${a} is closed:`,R):(w||(ye(xn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),w=!0),ye(xn,`RPC '${e}' stream ${a} sending:`,R),b.send(R))},Zo:()=>b.close()}),k=(R,M,P)=>{R.listen(M,(q=>{try{P(q)}catch(te){setTimeout((()=>{throw te}),0)}}))};return k(b,Xc.EventType.OPEN,(()=>{v||(ye(xn,`RPC '${e}' stream ${a} transport opened.`),S.o_())})),k(b,Xc.EventType.CLOSE,(()=>{v||(v=!0,ye(xn,`RPC '${e}' stream ${a} transport closed`),S.a_(),this.E_(b))})),k(b,Xc.EventType.ERROR,(R=>{v||(v=!0,yo(xn,`RPC '${e}' stream ${a} transport errored. Name:`,R.name,"Message:",R.message),S.a_(new pe(ie.UNAVAILABLE,"The operation could not be completed")))})),k(b,Xc.EventType.MESSAGE,(R=>{if(!v){const M=R.data[0];at(!!M,16349);const P=M,q=P?.error||P[0]?.error;if(q){ye(xn,`RPC '${e}' stream ${a} received error:`,q);const te=q.status;let W=(function(I){const L=Yt[I];if(L!==void 0)return ZN(L)})(te),G=q.message;W===void 0&&(W=ie.INTERNAL,G="Unknown error status: "+te+" with message "+q.message),v=!0,S.a_(new pe(W,G)),b.close()}else ye(xn,`RPC '${e}' stream ${a} received:`,M),S.u_(M)}})),k(h,gN.STAT_EVENT,(R=>{R.stat===Fg.PROXY?ye(xn,`RPC '${e}' stream ${a} detected buffering proxy`):R.stat===Fg.NOPROXY&&ye(xn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ag(){return typeof document<"u"?document:null}function Df(t){return new h3(t,!0)}class f2{constructor(e,n,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Ow="PersistentStream";class m2{constructor(e,n,r,a,o,u,h,m){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new f2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Jr(n.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new pe(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(Ow,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ye(Ow,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cD extends m2{constructor(e,n,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=p3(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ce.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?gr(u.readTime):Ce.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Wg(this.serializer),n.addTarget=(function(o,u){let h;const m=u.target;if(h=$g(m)?{documents:x3(o,m)}:{query:b3(o,m).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=n2(o,u.resumeToken);const p=Qg(o,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ce.min())>0){h.readTime=lf(o,u.snapshotVersion.toTimestamp());const p=Qg(o,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=w3(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Wg(this.serializer),n.removeTarget=e,this.q_(n)}}class uD extends m2{constructor(e,n,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=y3(e.writeResults,e.commitTime),r=gr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Wg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>g3(this.serializer,r)))};this.q_(n)}}class dD{}class hD extends dD{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new pe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,Kg(n,r),a,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(ie.UNKNOWN,o.toString())}))}Ho(e,n,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,Kg(n,r),a,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(ie.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class fD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Jr(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const il="RemoteStore";class mD{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{cl(this)&&(ye(il,"Restarting streams for network reachability change."),await(async function(m){const p=je(m);p.Ea.add(4),await Uu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Of(p)})(this))}))})),this.Ra=new fD(r,a)}}async function Of(t){if(cl(t))for(const e of t.da)await e(!0)}async function Uu(t){for(const e of t.da)await e(!1)}function p2(t,e){const n=je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),oy(n)?ly(n):Mo(n).O_()&&ay(n,e))}function iy(t,e){const n=je(t),r=Mo(n);n.Ia.delete(e),r.O_()&&g2(n,e),n.Ia.size===0&&(r.O_()?r.L_():cl(n)&&n.Ra.set("Unknown"))}function ay(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mo(t).Y_(e)}function g2(t,e){t.Va.Ue(e),Mo(t).Z_(e)}function ly(t){t.Va=new o3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Mo(t).start(),t.Ra.ua()}function oy(t){return cl(t)&&!Mo(t).x_()&&t.Ia.size>0}function cl(t){return je(t).Ea.size===0}function y2(t){t.Va=void 0}async function pD(t){t.Ra.set("Online")}async function gD(t){t.Ia.forEach(((e,n)=>{ay(t,e)}))}async function yD(t,e){y2(t),oy(t)?(t.Ra.ha(e),ly(t)):t.Ra.set("Unknown")}async function xD(t,e,n){if(t.Ra.set("Online"),e instanceof t2&&e.state===2&&e.cause)try{await(async function(a,o){const u=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(r){ye(il,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cf(t,r)}else if(e instanceof Uh?t.Va.Ze(e):e instanceof e2?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ce.min()))try{const r=await h2(t.localStore);n.compareTo(r)>=0&&await(function(o,u){const h=o.Va.Tt(u);return h.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const x=o.Ia.get(p);x&&o.Ia.set(p,x.withResumeToken(m.resumeToken,u))}})),h.targetMismatches.forEach(((m,p)=>{const x=o.Ia.get(m);if(!x)return;o.Ia.set(m,x.withResumeToken(pn.EMPTY_BYTE_STRING,x.snapshotVersion)),g2(o,m);const b=new $i(x.target,m,p,x.sequenceNumber);ay(o,b)})),o.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){ye(il,"Failed to raise snapshot:",r),await cf(t,r)}}async function cf(t,e,n){if(!Do(e))throw e;t.Ea.add(1),await Uu(t),t.Ra.set("Offline"),n||(n=()=>h2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ye(il,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Of(t)}))}function x2(t,e){return e().catch((n=>cf(t,n,e)))}async function Mf(t){const e=je(t),n=ca(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:H0;for(;bD(e);)try{const a=await eD(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,vD(e,a)}catch(a){await cf(e,a)}b2(e)&&v2(e)}function bD(t){return cl(t)&&t.Ta.length<10}function vD(t,e){t.Ta.push(e);const n=ca(t);n.O_()&&n.X_&&n.ea(e.mutations)}function b2(t){return cl(t)&&!ca(t).x_()&&t.Ta.length>0}function v2(t){ca(t).start()}async function wD(t){ca(t).ra()}async function _D(t){const e=ca(t);for(const n of t.Ta)e.ea(n.mutations)}async function ED(t,e,n){const r=t.Ta.shift(),a=J0.from(r,e,n);await x2(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Mf(t)}async function ND(t,e){e&&ca(t).X_&&await(async function(r,a){if((function(u){return i3(u)&&u!==ie.ABORTED})(a.code)){const o=r.Ta.shift();ca(r).B_(),await x2(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Mf(r)}})(t,e),b2(t)&&v2(t)}async function Mw(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),ye(il,"RemoteStore received new credentials");const r=cl(n);n.Ea.add(3),await Uu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Of(n)}async function SD(t,e){const n=je(t);e?(n.Ea.delete(2),await Of(n)):e||(n.Ea.add(2),await Uu(n),n.Ra.set("Unknown"))}function Mo(t){return t.ma||(t.ma=(function(n,r,a){const o=je(n);return o.sa(),new cD(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:pD.bind(null,t),t_:gD.bind(null,t),r_:yD.bind(null,t),H_:xD.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),oy(t)?ly(t):t.Ra.set("Unknown")):(await t.ma.stop(),y2(t))}))),t.ma}function ca(t){return t.fa||(t.fa=(function(n,r,a){const o=je(n);return o.sa(),new uD(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:wD.bind(null,t),r_:ND.bind(null,t),ta:_D.bind(null,t),na:ED.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Mf(t)):(await t.fa.stop(),t.Ta.length>0&&(ye(il,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class cy{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const u=Date.now()+r,h=new cy(e,n,u,a,o);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uy(t,e){if(Jr("AsyncQueue",`${e}: ${t}`),Do(t))return new pe(ie.UNAVAILABLE,`${e}: ${t}`);throw t}class fo{static emptySet(e){return new fo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=Wc(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Pw{constructor(){this.ga=new At(we.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Eo{constructor(e,n,r,a,o,u,h,m,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,o){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Eo(e,n,fo.emptySet(n),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class TD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class AD{constructor(){this.queries=Lw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=je(n),o=a.queries;a.queries=Lw(),o.forEach(((u,h)=>{for(const m of h.Sa)m.onError(r)}))})(this,new pe(ie.ABORTED,"Firestore shutting down"))}}function Lw(){return new ol((t=>UN(t)),Cf)}async function w2(t,e){const n=je(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new TD,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=uy(u,`Initialization of query '${io(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&dy(n)}async function _2(t,e){const n=je(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function CD(t,e){const n=je(t);let r=!1;for(const a of e){const o=a.query,u=n.queries.get(o);if(u){for(const h of u.Sa)h.Fa(a)&&(r=!0);u.wa=a}}r&&dy(n)}function jD(t,e,n){const r=je(t),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);r.queries.delete(e)}function dy(t){t.Ca.forEach((e=>{e.next()}))}var e0,Vw;(Vw=e0||(e0={})).Ma="default",Vw.Cache="cache";class E2{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Eo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==e0.Cache}}class N2{constructor(e){this.key=e}}class S2{constructor(e){this.key=e}}class kD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$e(),this.mutatedKeys=$e(),this.eu=FN(e),this.tu=new fo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Pw,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((x,b)=>{const w=a.get(x),v=jf(this.query,b)?b:null,S=!!w&&this.mutatedKeys.has(w.key),k=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let R=!1;w&&v?w.data.isEqual(v.data)?S!==k&&(r.track({type:3,doc:v}),R=!0):this.su(w,v)||(r.track({type:2,doc:v}),R=!0,(m&&this.eu(v,m)>0||p&&this.eu(v,p)<0)&&(h=!0)):!w&&v?(r.track({type:0,doc:v}),R=!0):w&&!v&&(r.track({type:1,doc:w}),R=!0,(m||p)&&(h=!0)),R&&(v?(u=u.add(v),o=k?o.add(x):o.delete(x)):(u=u.delete(x),o=o.delete(x)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const x=this.query.limitType==="F"?u.last():u.first();u=u.delete(x.key),o=o.delete(x.key),r.track({type:1,doc:x})}return{tu:u,iu:r,Cs:h,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((x,b)=>(function(v,S){const k=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:R})}};return k(v)-k(S)})(x.type,b.type)||this.eu(x.doc,b.doc))),this.ou(r),a=a??!1;const h=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,u.length!==0||p?{snapshot:new Eo(this.query,e.tu,o,u,e.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Pw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$e(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new S2(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new N2(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=$e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hy="SyncEngine";class ID{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class RD{constructor(e){this.key=e,this.hu=!1}}class DD{constructor(e,n,r,a,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ol((h=>UN(h)),Cf),this.Iu=new Map,this.Eu=new Set,this.du=new At(we.comparator),this.Au=new Map,this.Ru=new ty,this.Vu={},this.mu=new Map,this.fu=_o.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function OD(t,e,n=!0){const r=I2(t);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await T2(r,e,n,!0),a}async function MD(t,e){const n=I2(t);await T2(n,e,!0,!1)}async function T2(t,e,n,r){const a=await tD(t.localStore,pr(e)),o=a.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let h;return r&&(h=await PD(t,e,o,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&p2(t.remoteStore,a),h}async function PD(t,e,n,r,a){t.pu=(b,w,v)=>(async function(k,R,M,P){let q=R.view.ru(M);q.Cs&&(q=await kw(k.localStore,R.query,!1).then((({documents:z})=>R.view.ru(z,q))));const te=P&&P.targetChanges.get(R.targetId),W=P&&P.targetMismatches.get(R.targetId)!=null,G=R.view.applyChanges(q,k.isPrimaryClient,te,W);return Uw(k,R.targetId,G.au),G.snapshot})(t,b,w,v);const o=await kw(t.localStore,e,!0),u=new kD(e,o.Qs),h=u.ru(o.documents),m=zu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,m);Uw(t,n,p.au);const x=new ID(e,n,u);return t.Tu.set(e,x),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function LD(t,e,n){const r=je(t),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((u=>!Cf(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Jg(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&iy(r.remoteStore,a.targetId),t0(r,a.targetId)})).catch(Ro)):(t0(r,a.targetId),await Jg(r.localStore,a.targetId,!0))}async function VD(t,e){const n=je(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),iy(n.remoteStore,r.targetId))}async function zD(t,e,n){const r=$D(t);try{const a=await(function(u,h){const m=je(u),p=vt.now(),x=h.reduce(((v,S)=>v.add(S.key)),$e());let b,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let S=Zr(),k=$e();return m.Ns.getEntries(v,x).next((R=>{S=R,S.forEach(((M,P)=>{P.isValidDocument()||(k=k.add(M))}))})).next((()=>m.localDocuments.getOverlayedDocuments(v,S))).next((R=>{b=R;const M=[];for(const P of h){const q=e3(P,b.get(P.key).overlayedDocument);q!=null&&M.push(new ma(P.key,q,RN(q.value.mapValue),bs.exists(!0)))}return m.mutationQueue.addMutationBatch(v,p,M,h)})).next((R=>{w=R;const M=R.applyToLocalDocumentSet(b,k);return m.documentOverlayCache.saveOverlays(v,R.batchId,M)}))})).then((()=>({batchId:w.batchId,changes:qN(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,h,m){let p=u.Vu[u.currentUser.toKey()];p||(p=new At(Ge)),p=p.insert(h,m),u.Vu[u.currentUser.toKey()]=p})(r,a.batchId,n),await Fu(r,a.changes),await Mf(r.remoteStore)}catch(a){const o=uy(a,"Failed to persist write");n.reject(o)}}async function A2(t,e){const n=je(t);try{const r=await J3(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const u=n.Au.get(o);u&&(at(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?at(u.hu,14607):a.removedDocuments.size>0&&(at(u.hu,42227),u.hu=!1))})),await Fu(n,r,e)}catch(r){await Ro(r)}}function zw(t,e,n){const r=je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((o,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const m=je(u);m.onlineState=h;let p=!1;m.queries.forEach(((x,b)=>{for(const w of b.Sa)w.va(h)&&(p=!0)})),p&&dy(m)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UD(t,e,n){const r=je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),o=a&&a.key;if(o){let u=new At(we.comparator);u=u.insert(o,vn.newNoDocument(o,Ce.min()));const h=$e().add(o),m=new Rf(Ce.min(),new Map,new At(Ge),u,h);await A2(r,m),r.du=r.du.remove(o),r.Au.delete(e),fy(r)}else await Jg(r.localStore,e,!1).then((()=>t0(r,e,n))).catch(Ro)}async function FD(t,e){const n=je(t),r=e.batch.batchId;try{const a=await W3(n.localStore,e);j2(n,r,null),C2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Fu(n,a)}catch(a){await Ro(a)}}async function BD(t,e,n){const r=je(t);try{const a=await(function(u,h){const m=je(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let x;return m.mutationQueue.lookupMutationBatch(p,h).next((b=>(at(b!==null,37113),x=b.keys(),m.mutationQueue.removeMutationBatch(p,b)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,x,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,x))).next((()=>m.localDocuments.getDocuments(p,x)))}))})(r.localStore,e);j2(r,e,n),C2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Fu(r,a)}catch(a){await Ro(a)}}function C2(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function j2(t,e,n){const r=je(t);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function t0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||k2(t,r)}))}function k2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(iy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),fy(t))}function Uw(t,e,n){for(const r of n)r instanceof N2?(t.Ru.addReference(r.key,e),qD(t,r)):r instanceof S2?(ye(hy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||k2(t,r.key)):Te(19791,{wu:r})}function qD(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ye(hy,"New document in limbo: "+n),t.Eu.add(r),fy(t))}function fy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new we(yt.fromString(e)),r=t.fu.next();t.Au.set(r,new RD(n)),t.du=t.du.insert(n,r),p2(t.remoteStore,new $i(pr(K0(n.path)),r,"TargetPurposeLimboResolution",Sf.ce))}}async function Fu(t,e,n){const r=je(t),a=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,m)=>{u.push(r.pu(m,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const x=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,x?"current":"not-current")}if(p){a.push(p);const x=sy.As(m.targetId,p);o.push(x)}})))})),await Promise.all(u),r.Pu.H_(a),await(async function(m,p){const x=je(m);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>le.forEach(p,(w=>le.forEach(w.Es,(v=>x.persistence.referenceDelegate.addReference(b,w.targetId,v))).next((()=>le.forEach(w.ds,(v=>x.persistence.referenceDelegate.removeReference(b,w.targetId,v)))))))))}catch(b){if(!Do(b))throw b;ye(ry,"Failed to update sequence numbers: "+b)}for(const b of p){const w=b.targetId;if(!b.fromCache){const v=x.Ms.get(w),S=v.snapshotVersion,k=v.withLastLimboFreeSnapshotVersion(S);x.Ms=x.Ms.insert(w,k)}}})(r.localStore,o))}async function HD(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){ye(hy,"User change. New user:",e.toKey());const r=await d2(n.localStore,e);n.currentUser=e,(function(o,u){o.mu.forEach((h=>{h.forEach((m=>{m.reject(new pe(ie.CANCELLED,u))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fu(n,r.Ls)}}function GD(t,e){const n=je(t),r=n.Au.get(e);if(r&&r.hu)return $e().add(r.key);{let a=$e();const o=n.Iu.get(e);if(!o)return a;for(const u of o){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function I2(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=A2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UD.bind(null,e),e.Pu.H_=CD.bind(null,e.eventManager),e.Pu.yu=jD.bind(null,e.eventManager),e}function $D(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BD.bind(null,e),e}class uf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Df(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return X3(this.persistence,new Y3,e.initialUser,this.serializer)}Cu(e){return new u2(ny.mi,this.serializer)}Du(e){return new sD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uf.provider={build:()=>new uf};class YD extends uf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){at(this.persistence.referenceDelegate instanceof of,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new R3(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new u2((r=>of.mi(r,n)),this.serializer)}}class n0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HD.bind(null,this.syncEngine),await SD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new AD})()}createDatastore(e){const n=Df(e.databaseInfo.databaseId),r=(function(o){return new oD(o)})(e.databaseInfo);return(function(o,u,h,m){return new hD(o,u,h,m)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,o,u,h){return new mD(r,a,o,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>zw(this.syncEngine,n,0)),(function(){return Dw.v()?new Dw:new rD})())}createSyncEngine(e,n){return(function(a,o,u,h,m,p,x){const b=new DD(a,o,u,h,m,p);return x&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=je(n);ye(il,"RemoteStore shutting down."),r.Ea.add(5),await Uu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}n0.provider={build:()=>new n0};class R2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Jr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ua="FirestoreClient";class QD{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=bn.UNAUTHENTICATED,this.clientId=q0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{ye(ua,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ye(ua,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=uy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function lg(t,e){t.asyncQueue.verifyOperationInProgress(),ye(ua,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await d2(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Fw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KD(t);ye(ua,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Mw(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>Mw(e.remoteStore,a))),t._onlineComponents=e}async function KD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(ua,"Using user provided OfflineComponentProvider");try{await lg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;yo("Error using user provided cache. Falling back to memory cache: "+n),await lg(t,new uf)}}else ye(ua,"Using default OfflineComponentProvider"),await lg(t,new YD(void 0));return t._offlineComponents}async function D2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(ua,"Using user provided OnlineComponentProvider"),await Fw(t,t._uninitializedComponentsProvider._online)):(ye(ua,"Using default OnlineComponentProvider"),await Fw(t,new n0))),t._onlineComponents}function XD(t){return D2(t).then((e=>e.syncEngine))}async function O2(t){const e=await D2(t),n=e.eventManager;return n.onListen=OD.bind(null,e.syncEngine),n.onUnlisten=LD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VD.bind(null,e.syncEngine),n}function WD(t,e,n={}){const r=new Qr;return t.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,m,p){const x=new R2({next:w=>{x.Nu(),u.enqueueAndForget((()=>_2(o,b)));const v=w.docs.has(h);!v&&w.fromCache?p.reject(new pe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&w.fromCache&&m&&m.source==="server"?p.reject(new pe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new E2(K0(h.path),x,{includeMetadataChanges:!0,qa:!0});return w2(o,b)})(await O2(t),t.asyncQueue,e,n,r))),r.promise}function JD(t,e,n={}){const r=new Qr;return t.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,m,p){const x=new R2({next:w=>{x.Nu(),u.enqueueAndForget((()=>_2(o,b))),w.fromCache&&m.source==="server"?p.reject(new pe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new E2(h,x,{includeMetadataChanges:!0,qa:!0});return w2(o,b)})(await O2(t),t.asyncQueue,e,n,r))),r.promise}function M2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Bw=new Map;const P2="firestore.googleapis.com",qw=!0;class Hw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=P2,this.ssl=qw}else this.host=e.host,this.ssl=e.ssl??qw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=c2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<k3)throw new pe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=M2(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pf{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new sR;switch(r.type){case"firstParty":return new lR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Bw.get(n);r&&(ye("ComponentProvider","Removing Datastore"),Bw.delete(n),r.terminate())})(this),Promise.resolve()}}function ZD(t,e,n,r={}){t=Us(t,Pf);const a=Co(e),o=t._getSettings(),u={...o,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(TE(`https://${h}`),AE("Firestore",!0)),o.host!==P2&&o.host!==h&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...o,host:h,ssl:a,emulatorOptions:r};if(!ra(m,u)&&(t._setSettings(m),r.mockUserToken)){let p,x;if(typeof r.mockUserToken=="string")p=r.mockUserToken,x=bn.MOCK_USER;else{p=c4(r.mockUserToken,t._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new pe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new bn(b)}t._authCredentials=new rR(new vN(p,x))}}class pa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pa(this.firestore,e,this._query)}}class Vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Lu(n,Vt._jsonSchema))return new Vt(e,r||null,new we(yt.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Xt("string",Vt._jsonSchemaVersion),referencePath:Xt("string")};class Ji extends pa{constructor(e,n,r){super(e,n,K0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new we(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function Nn(t,e,...n){if(t=Zt(t),wN("collection","path",e),t instanceof Pf){const r=yt.fromString(e,...n);return sw(r),new Ji(t,null,r)}{if(!(t instanceof Vt||t instanceof Ji))throw new pe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yt.fromString(e,...n));return sw(r),new Ji(t.firestore,null,r)}}function en(t,e,...n){if(t=Zt(t),arguments.length===1&&(e=q0.newId()),wN("doc","path",e),t instanceof Pf){const r=yt.fromString(e,...n);return nw(r),new Vt(t,null,new we(r))}{if(!(t instanceof Vt||t instanceof Ji))throw new pe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yt.fromString(e,...n));return nw(r),new Vt(t.firestore,t instanceof Ji?t.converter:null,new we(r))}}const Gw="AsyncQueue";class $w{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new f2(this,"async_queue_retry"),this._c=()=>{const r=ag();r&&ye(Gw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ag();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ag();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Qr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Do(e))throw e;ye(Gw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Jr("INTERNAL UNHANDLED ERROR: ",Yw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=cy.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Te(47125,{Pc:Yw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Yw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ul extends Pf{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new $w,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $w(e),this._firestoreClient=void 0,await e}}}function e6(t,e){const n=typeof t=="object"?t:IE(),r=typeof t=="string"?t:tf,a=I0(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=l4("firestore");o&&ZD(a,...o)}return a}function my(t){if(t._terminated)throw new pe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||t6(t),t._firestoreClient}function t6(t){const e=t._freezeSettings(),n=(function(a,o,u,h){return new SR(a,o,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,M2(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new QD(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}class xs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xs(pn.fromBase64String(e))}catch(n){throw new pe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xs(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lu(e,xs._jsonSchema))return xs.fromBase64String(e.bytes)}}xs._jsonSchemaVersion="firestore/bytes/1.0",xs._jsonSchema={type:Xt("string",xs._jsonSchemaVersion),bytes:Xt("string")};class Lf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bu{constructor(e){this._methodName=e}}class yr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yr._jsonSchemaVersion}}static fromJSON(e){if(Lu(e,yr._jsonSchema))return new yr(e.latitude,e.longitude)}}yr._jsonSchemaVersion="firestore/geoPoint/1.0",yr._jsonSchema={type:Xt("string",yr._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};class xr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lu(e,xr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new xr(e.vectorValues);throw new pe(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xr._jsonSchemaVersion="firestore/vectorValue/1.0",xr._jsonSchema={type:Xt("string",xr._jsonSchemaVersion),vectorValues:Xt("object")};const n6=/^__.*__$/;class s6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ma(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vu(e,this.data,n,this.fieldTransforms)}}class L2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ma(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function V2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:t})}}class Vf{constructor(e,n,r,a,o,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Vf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return df(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(V2(this.Ac)&&n6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class r6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Df(e)}Cc(e,n,r,a=!1){return new Vf({Ac:e,methodName:n,Dc:r,path:mn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zf(t){const e=t._freezeSettings(),n=Df(t._databaseId);return new r6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function z2(t,e,n,r,a,o={}){const u=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);yy("Data must be an object, but it was:",u,r);const h=U2(r,u);let m,p;if(o.merge)m=new Zn(u.fieldMask),p=u.fieldTransforms;else if(o.mergeFields){const x=[];for(const b of o.mergeFields){const w=s0(e,b,n);if(!u.contains(w))throw new pe(ie.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);B2(x,w)||x.push(w)}m=new Zn(x),p=u.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,p=u.fieldTransforms;return new s6(new Un(h),m,p)}class Uf extends Bu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uf}}function i6(t,e,n){return new Vf({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class py extends Bu{_toFieldTransform(e){return new XN(e.path,new _u)}isEqual(e){return e instanceof py}}class gy extends Bu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=i6(this,e,!0),r=this.vc.map((o=>Po(o,n))),a=new wo(r);return new XN(e.path,a)}isEqual(e){return e instanceof gy&&ra(this.vc,e.vc)}}function a6(t,e,n,r){const a=t.Cc(1,e,n);yy("Data must be an object, but it was:",a,r);const o=[],u=Un.empty();fa(r,((m,p)=>{const x=xy(e,m,n);p=Zt(p);const b=a.yc(x);if(p instanceof Uf)o.push(x);else{const w=Po(p,b);w!=null&&(o.push(x),u.set(x,w))}}));const h=new Zn(o);return new L2(u,h,a.fieldTransforms)}function l6(t,e,n,r,a,o){const u=t.Cc(1,e,n),h=[s0(e,r,n)],m=[a];if(o.length%2!=0)throw new pe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)h.push(s0(e,o[w])),m.push(o[w+1]);const p=[],x=Un.empty();for(let w=h.length-1;w>=0;--w)if(!B2(p,h[w])){const v=h[w];let S=m[w];S=Zt(S);const k=u.yc(v);if(S instanceof Uf)p.push(v);else{const R=Po(S,k);R!=null&&(p.push(v),x.set(v,R))}}const b=new Zn(p);return new L2(x,b,u.fieldTransforms)}function o6(t,e,n,r=!1){return Po(n,t.Cc(r?4:3,e))}function Po(t,e){if(F2(t=Zt(t)))return yy("Unsupported field value:",e,t),U2(t,e);if(t instanceof Bu)return(function(r,a){if(!V2(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let u=0;for(const h of r){let m=Po(h,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}})(t,e)}return(function(r,a){if((r=Zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QR(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=vt.fromDate(r);return{timestampValue:lf(a.serializer,o)}}if(r instanceof vt){const o=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lf(a.serializer,o)}}if(r instanceof yr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xs)return{bytesValue:n2(a.serializer,r._byteString)};if(r instanceof Vt){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ey(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof xr)return(function(u,h){return{mapValue:{fields:{[kN]:{stringValue:IN},[nf]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return X0(h.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Nf(r)}`)})(t,e)}function U2(t,e){const n={};return NN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fa(t,((r,a)=>{const o=Po(a,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function F2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof yr||t instanceof xs||t instanceof Vt||t instanceof Bu||t instanceof xr)}function yy(t,e,n){if(!F2(n)||!_N(n)){const r=Nf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function s0(t,e,n){if((e=Zt(e))instanceof Lf)return e._internalPath;if(typeof e=="string")return xy(t,e);throw df("Field path arguments must be of type string or ",t,!1,void 0,n)}const c6=new RegExp("[~\\*/\\[\\]]");function xy(t,e,n){if(e.search(c6)>=0)throw df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Lf(...e.split("."))._internalPath}catch{throw df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function df(t,e,n,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(o||u)&&(m+=" (found",o&&(m+=` in field ${r}`),u&&(m+=` in document ${a}`),m+=")"),new pe(ie.INVALID_ARGUMENT,h+t+m)}function B2(t,e){return t.some((n=>n.isEqual(e)))}class q2{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new u6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ff("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class u6 extends q2{data(){return super.data()}}function Ff(t,e){return typeof e=="string"?xy(t,e):e instanceof Lf?e._internalPath:e._delegate._internalPath}function d6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class by{}class vy extends by{}function es(t,e,...n){let r=[];e instanceof by&&r.push(e),r=r.concat(n),(function(o){const u=o.filter((m=>m instanceof _y)).length,h=o.filter((m=>m instanceof Bf)).length;if(u>1||u>0&&h>0)throw new pe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class Bf extends vy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Bf(e,n,r)}_apply(e){const n=this._parse(e);return H2(e._query,n),new pa(e.firestore,e.converter,Yg(e._query,n))}_parse(e){const n=zf(e.firestore);return(function(o,u,h,m,p,x,b){let w;if(p.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new pe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Kw(b,x);const S=[];for(const k of b)S.push(Qw(m,o,k));w={arrayValue:{values:S}}}else w=Qw(m,o,b)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Kw(b,x),w=o6(h,u,b,x==="in"||x==="not-in");return Kt.create(p,x,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function wy(t,e,n){const r=e,a=Ff("where",t);return Bf._create(a,r,n)}class _y extends by{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new _y(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Fs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,o){let u=a;const h=o.getFlattenedFilters();for(const m of h)H2(u,m),u=Yg(u,m)})(e._query,n),new pa(e.firestore,e.converter,Yg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ey extends vy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ey(e,n)}_apply(e){const n=(function(a,o,u){if(a.startAt!==null)throw new pe(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new pe(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wu(o,u)})(e._query,this._field,this._direction);return new pa(e.firestore,e.converter,(function(a,o){const u=a.explicitOrderBy.concat([o]);return new Oo(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function dl(t,e="asc"){const n=e,r=Ff("orderBy",t);return Ey._create(r,n)}class Ny extends vy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Ny(e,n,r)}_apply(e){return new pa(e.firestore,e.converter,rf(e._query,this._limit,this._limitType))}}function Sy(t){return mR("limit",t),Ny._create("limit",t,"F")}function Qw(t,e,n){if(typeof(n=Zt(n))=="string"){if(n==="")throw new pe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zN(e)&&n.indexOf("/")!==-1)throw new pe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(yt.fromString(n));if(!we.isDocumentKey(r))throw new pe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dw(t,new we(r))}if(n instanceof Vt)return dw(t,n._key);throw new pe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nf(n)}.`)}function Kw(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function H2(t,e){const n=(function(a,o){for(const u of a)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new pe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class h6{convertValue(e,n="none"){switch(oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(la(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fa(e,((a,o)=>{r[a]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[nf].arrayValue?.values?.map((r=>Lt(r.doubleValue)));return new xr(n)}convertGeoPoint(e){return new yr(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Af(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xu(e));default:return null}}convertTimestamp(e){const n=aa(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=yt.fromString(e);at(o2(r),9688,{name:e});const a=new bu(r.get(1),r.get(3)),o=new we(r.popFirst(5));return a.isEqual(n)||Jr(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function G2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Zc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Za extends q2{constructor(e,n,r,a,o,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ff("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Za._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Za._jsonSchemaVersion="firestore/documentSnapshot/1.0",Za._jsonSchema={type:Xt("string",Za._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class Fh extends Za{data(e={}){return super.data(e)}}class mo{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Zc(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Fh(this._firestore,this._userDataWriter,r.key,r,new Zc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const m=new Fh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Zc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const m=new Fh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Zc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,x=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),x=u.indexOf(h.doc.key)),{type:f6(h.type),doc:m,oldIndex:p,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=q0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function f6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:t})}}function qf(t){t=Us(t,Vt);const e=Us(t.firestore,ul);return WD(my(e),t._key).then((n=>p6(e,t,n)))}mo._jsonSchemaVersion="firestore/querySnapshot/1.0",mo._jsonSchema={type:Xt("string",mo._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class $2 extends h6{constructor(e){super(),this.firestore=e}convertBytes(e){return new xs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function ga(t){t=Us(t,pa);const e=Us(t.firestore,ul),n=my(e),r=new $2(e);return d6(t._query),JD(n,t._query).then((a=>new mo(e,r,t,a)))}function m6(t,e,n){t=Us(t,Vt);const r=Us(t.firestore,ul),a=G2(t.converter,e,n);return Hf(r,[z2(zf(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,bs.none())])}function Bs(t,e,n,...r){t=Us(t,Vt);const a=Us(t.firestore,ul),o=zf(a);let u;return u=typeof(e=Zt(e))=="string"||e instanceof Lf?l6(o,"updateDoc",t._key,e,n,r):a6(o,"updateDoc",t._key,e),Hf(a,[u.toMutation(t._key,bs.exists(!0))])}function Ty(t){return Hf(Us(t.firestore,ul),[new W0(t._key,bs.none())])}function ya(t,e){const n=Us(t.firestore,ul),r=en(t),a=G2(t.converter,e);return Hf(n,[z2(zf(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,bs.exists(!1))]).then((()=>r))}function Hf(t,e){return(function(r,a){const o=new Qr;return r.asyncQueue.enqueueAndForget((async()=>zD(await XD(r),a,o))),o.promise})(my(t),e)}function p6(t,e,n){const r=n.docs.get(e._key),a=new $2(t);return new Za(t,a,e._key,r,new Zc(n.hasPendingWrites,n.fromCache),e.converter)}function Ct(){return new py("serverTimestamp")}function No(...t){return new gy("arrayUnion",t)}(function(e,n=!0){(function(a){Io=a})(jo),go(new tl("firestore",((r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new ul(new iR(r.getProvider("auth-internal")),new oR(u,r.getProvider("app-check-internal")),(function(p,x){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new pe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(p.options.projectId,x)})(u,a),u);return o={useFetchStreams:n,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Xi(J1,Z1,e),Xi(J1,Z1,"esm2020")})();const g6={apiKey:"AIzaSyAgGkHhRcdGatNvRsm5BQv_RerjG8qt70M",authDomain:"adjucator-ai.firebaseapp.com",projectId:"adjucator-ai",storageBucket:"adjucator-ai.firebasestorage.app",messagingSenderId:"82725691768",appId:"1:82725691768:web:6186a5b41b8a0aa1e7688d",measurementId:"G-N92VEHSKDE"},Y2=kE(g6),qu=tR(Y2),We=e6(Y2),y6=new Hr,x6=async(t,e)=>{const n=await Vk(qu,t,e);return await Uk(n.user),n},b6=async(t,e)=>await zk(qu,t,e),v6=async()=>await uI(qu,y6),w6=async()=>await Hk(qu),_6=t=>qk(qu,t),og=async(t,e)=>{const n=en(We,"users",t);await m6(n,{...e,createdAt:new Date().toISOString(),history:[]},{merge:!0})},Xw=async t=>{const e=en(We,"users",t),n=await qf(e);return n.exists()?n.data():null},E6=async(t,e)=>{const n=en(We,"users",t);await Bs(n,e)},Q2=U.createContext(null),_s=()=>{const t=U.useContext(Q2);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},N6=({children:t})=>{const[e,n]=U.useState(null),[r,a]=U.useState(null),[o,u]=U.useState(!0),[h,m]=U.useState(null);U.useEffect(()=>{const R=_6(async M=>{if(n(M),M)try{let P=await Xw(M.uid);P||(P={email:M.email,displayName:M.displayName||"",photoURL:M.photoURL||"",preferredEvents:[],settings:{theme:"dark",autoSaveHistory:!0}},await og(M.uid,P)),a(P)}catch(P){console.error("Error fetching user profile:",P)}else a(null);u(!1)});return()=>R()},[]);const k={user:e,userProfile:r,loading:o,error:h,login:async(R,M)=>{m(null);try{return await b6(R,M)}catch(P){throw m(Nh(P.code)),P}},register:async(R,M,P)=>{m(null);try{const q=await x6(R,M);return await og(q.user.uid,{email:R,displayName:P,photoURL:"",preferredEvents:[],settings:{theme:"dark",autoSaveHistory:!0}}),q}catch(q){throw m(Nh(q.code)),q}},loginWithGoogle:async()=>{m(null);try{const R=await v6();return await Xw(R.user.uid)||await og(R.user.uid,{email:R.user.email,displayName:R.user.displayName||"",photoURL:R.user.photoURL||"",preferredEvents:[],settings:{theme:"dark",autoSaveHistory:!0}}),R}catch(R){throw m(Nh(R.code)),R}},logout:async()=>{m(null);try{await w6()}catch(R){throw m(Nh(R.code)),R}},updateProfile:async R=>{if(e)try{await E6(e.uid,R),a(M=>({...M,...R}))}catch(M){throw m("Failed to update profile"),M}},clearError:()=>m(null),isAuthenticated:!!e};return c.jsx(Q2.Provider,{value:k,children:t})};function Nh(t){return{"auth/email-already-in-use":"This email is already registered. Try logging in instead.","auth/invalid-email":"Please enter a valid email address.","auth/operation-not-allowed":"This sign-in method is not enabled.","auth/weak-password":"Password should be at least 6 characters.","auth/user-disabled":"This account has been disabled.","auth/user-not-found":"No account found with this email.","auth/wrong-password":"Incorrect password. Please try again.","auth/invalid-credential":"Invalid credentials. Please check your email and password.","auth/too-many-requests":"Too many failed attempts. Please try again later.","auth/popup-closed-by-user":"Sign-in popup was closed. Please try again.","auth/popup-blocked":"Sign-in popup was blocked. Please enable popups.","auth/network-request-failed":"Network error. Please check your connection."}[t]||"An error occurred. Please try again."}const Bc={dark:{id:"dark",name:"Dark",icon:"",colors:{bgPrimary:"#020617",bgSecondary:"#0f172a",bgTertiary:"#1e293b",textPrimary:"#f8fafc",textSecondary:"#94a3b8",textMuted:"#64748b",primary:"#06b6d4",primaryHover:"#22d3ee",accent:"#a855f7",border:"rgba(51, 65, 85, 0.5)",glass:"rgba(15, 23, 42, 0.8)",cardBg:"rgba(15, 23, 42, 0.5)",inputBg:"#020617",success:"#22c55e",warning:"#f59e0b",error:"#ef4444"}},light:{id:"light",name:"Light",icon:"",colors:{bgPrimary:"#ffffff",bgSecondary:"#f8fafc",bgTertiary:"#e2e8f0",textPrimary:"#0f172a",textSecondary:"#334155",textMuted:"#64748b",primary:"#0891b2",primaryHover:"#0e7490",accent:"#7c3aed",border:"rgba(15, 23, 42, 0.15)",glass:"rgba(255, 255, 255, 0.95)",cardBg:"rgba(248, 250, 252, 0.9)",inputBg:"#ffffff",success:"#16a34a",warning:"#d97706",error:"#dc2626"}}},K2=U.createContext(null),S6=()=>{const t=U.useContext(K2);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},T6=({children:t})=>{const[e,n]=U.useState(()=>localStorage.getItem("theme")||"dark"),r=Bc[e]||Bc.dark;U.useEffect(()=>{const h=document.documentElement,m=r.colors;h.style.setProperty("--bg-primary",m.bgPrimary),h.style.setProperty("--bg-secondary",m.bgSecondary),h.style.setProperty("--bg-tertiary",m.bgTertiary),h.style.setProperty("--text-primary",m.textPrimary),h.style.setProperty("--text-secondary",m.textSecondary),h.style.setProperty("--text-muted",m.textMuted),h.style.setProperty("--primary",m.primary),h.style.setProperty("--primary-hover",m.primaryHover),h.style.setProperty("--accent",m.accent),h.style.setProperty("--border",m.border),h.style.setProperty("--glass",m.glass),h.style.setProperty("--card-bg",m.cardBg),h.style.setProperty("--input-bg",m.inputBg),h.style.setProperty("--success",m.success),h.style.setProperty("--warning",m.warning),h.style.setProperty("--error",m.error),h.className=`theme-${e}`,localStorage.setItem("theme",e)},[e,r]);const u={theme:r,themeId:e,setTheme:h=>{Bc[h]&&n(h)},cycleTheme:()=>{const h=Object.keys(Bc),p=(h.indexOf(e)+1)%h.length;n(h[p])},themes:Bc};return c.jsx(K2.Provider,{value:u,children:t})},A6=({activeTab:t,setActiveTab:e,onSettingsClick:n})=>{const[r,a]=U.useState(!1),[o,u]=U.useState(!1),[h,m]=U.useState(!1),{user:p,logout:x,isAuthenticated:b}=_s(),{theme:w,setTheme:v}=S6(),S=[{id:"dashboard",label:"Dashboard",icon:Kr},{id:"analytics",label:"Analytics",icon:Kr},{id:"judge",label:"Analyze",icon:el},{id:"coach",label:"Live Coach",icon:b0},{id:"practice",label:"Practice",icon:DC},{id:"tournaments",label:"Tournaments",icon:Yi}],k=[{id:"opponents",label:"Opponents",icon:kn},{id:"evidence",label:"Evidence Library",icon:Cu},{id:"team",label:"Team",icon:sa},{id:"strategy",label:"Strategy",icon:Ao},{id:"extemp",label:"Extemp",icon:Ja},{id:"tone",label:"Tone Analysis",icon:el},{id:"history",label:"History",icon:vr}],R=[{id:1,title:"Analysis Complete",message:"Your PF speech analysis is ready",time:"2m ago",unread:!0},{id:2,title:"New Feature",message:"Team collaboration now available",time:"1h ago",unread:!0},{id:3,title:"Weekly Report",message:"Your performance summary is ready",time:"1d ago",unread:!1}],M=R.filter(P=>P.unread).length;return c.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 h-16 border-b border-slate-800/60 bg-slate-950/95 backdrop-blur-xl",children:[c.jsxs("div",{className:"h-full max-w-[1800px] mx-auto px-6 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-8",children:[c.jsxs("button",{onClick:()=>e("dashboard"),className:"flex items-center gap-3 group",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-xl blur opacity-40 group-hover:opacity-60 transition-opacity"}),c.jsx("div",{className:"relative w-9 h-9 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:c.jsx(na,{className:"w-5 h-5 text-white"})})]}),c.jsxs("div",{className:"hidden sm:block",children:[c.jsx("span",{className:"text-lg font-bold text-white tracking-tight",children:"Adjudicator"}),c.jsx("span",{className:"text-lg font-light text-slate-400 ml-1",children:"AI"})]})]}),c.jsxs("div",{className:"hidden lg:flex items-center gap-2",children:[c.jsx("div",{className:"flex items-center bg-slate-900/50 rounded-xl p-1 border border-slate-800/50",children:S.map(P=>c.jsxs("button",{onClick:()=>e(P.id),className:`flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${t===P.id?"bg-slate-800 text-white shadow-sm":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,children:[c.jsx(P.icon,{className:"w-4 h-4"}),P.label]},P.id))}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>m(!h),className:`flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 border ${k.some(P=>P.id===t)?"bg-slate-800 text-white border-slate-700":"text-slate-400 hover:text-white hover:bg-slate-800/50 border-slate-800/50"}`,children:[c.jsx(y1,{className:"w-4 h-4"}),"More",c.jsx(du,{className:"w-3 h-3"})]}),h&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>m(!1)}),c.jsx("div",{className:"absolute left-0 top-full mt-2 w-56 bg-slate-900 border border-slate-800 rounded-xl shadow-2xl shadow-black/50 overflow-hidden z-50",children:c.jsx("div",{className:"p-2",children:k.map(P=>c.jsxs("button",{onClick:()=>{e(P.id),m(!1)},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all text-left ${t===P.id?"bg-cyan-500/10 text-cyan-400":"text-slate-300 hover:text-white hover:bg-slate-800/50"}`,children:[c.jsx(P.icon,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:P.label})]},P.id))})})]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{className:"hidden md:flex items-center gap-2 px-3 py-2 rounded-lg bg-slate-900/50 border border-slate-800/50 text-slate-500 hover:text-slate-300 hover:border-slate-700 transition-all",children:[c.jsx(fu,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Search..."}),c.jsx("kbd",{className:"ml-2 px-1.5 py-0.5 text-xs bg-slate-800 rounded border border-slate-700",children:"K"})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>u(!o),className:"relative p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",children:[c.jsx(oC,{className:"w-5 h-5"}),M>0&&c.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-cyan-500 rounded-full ring-2 ring-slate-950"})]}),o&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>u(!1)}),c.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-slate-900 border border-slate-800 rounded-xl shadow-2xl shadow-black/50 overflow-hidden z-50",children:[c.jsx("div",{className:"p-4 border-b border-slate-800",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"font-semibold text-white",children:"Notifications"}),M>0&&c.jsxs("span",{className:"px-2 py-0.5 text-xs font-medium bg-cyan-500/10 text-cyan-400 rounded-full",children:[M," new"]})]})}),c.jsx("div",{className:"max-h-80 overflow-y-auto",children:R.map(P=>c.jsx("div",{className:`p-4 border-b border-slate-800/50 hover:bg-slate-800/30 transition-colors cursor-pointer ${P.unread?"bg-slate-800/20":""}`,children:c.jsxs("div",{className:"flex items-start gap-3",children:[P.unread&&c.jsx("span",{className:"w-2 h-2 mt-2 bg-cyan-500 rounded-full flex-shrink-0"}),c.jsxs("div",{className:P.unread?"":"ml-5",children:[c.jsx("p",{className:"text-sm font-medium text-white",children:P.title}),c.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:P.message}),c.jsx("p",{className:"text-xs text-slate-500 mt-1",children:P.time})]})]})},P.id))}),c.jsx("div",{className:"p-3 border-t border-slate-800",children:c.jsx("button",{className:"w-full py-2 text-sm text-cyan-400 hover:text-cyan-300 transition-colors",children:"View all notifications"})})]})]})]}),c.jsx("button",{onClick:n,className:"p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",children:c.jsx(A0,{className:"w-5 h-5"})}),c.jsxs("div",{className:"relative ml-2",children:[c.jsxs("button",{onClick:()=>a(!r),className:"flex items-center gap-3 p-1.5 pr-3 rounded-xl hover:bg-slate-800/50 transition-all",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center text-white font-semibold text-sm shadow-lg",children:p?.displayName?.[0]||p?.email?.[0]?.toUpperCase()||"G"}),c.jsx(du,{className:"w-4 h-4 text-slate-400"})]}),r&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)}),c.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-slate-900 border border-slate-800 rounded-xl shadow-2xl shadow-black/50 overflow-hidden z-50",children:[c.jsx("div",{className:"p-4 border-b border-slate-800",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center text-white font-semibold shadow-lg",children:p?.displayName?.[0]||p?.email?.[0]?.toUpperCase()||"G"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-white truncate",children:p?.displayName||"Guest User"}),c.jsx("p",{className:"text-xs text-slate-500 truncate",children:p?.email||"guest@adjudicator.ai"})]})]})}),c.jsxs("div",{className:"p-2",children:[c.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-300 hover:text-white hover:bg-slate-800/50 transition-all text-left",children:[c.jsx(bE,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Profile Settings"})]}),c.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-300 hover:text-white hover:bg-slate-800/50 transition-all text-left",children:[c.jsx(AC,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Subscription"})]}),c.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-300 hover:text-white hover:bg-slate-800/50 transition-all text-left",children:[c.jsx(dE,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Help & Support"})]}),c.jsx("div",{className:"px-3 py-2.5",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-slate-300",children:"Dark Mode"}),c.jsx("button",{onClick:()=>v(w==="dark"?"light":"dark"),className:`relative w-11 h-6 rounded-full transition-colors ${w==="dark"?"bg-cyan-500":"bg-slate-700"}`,children:c.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${w==="dark"?"left-6":"left-1"}`})})]})})]}),b&&c.jsx("div",{className:"p-2 border-t border-slate-800",children:c.jsxs("button",{onClick:x,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-all text-left",children:[c.jsx(sj,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Sign Out"})]})})]})]})]})]})]}),c.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-slate-950/95 backdrop-blur-xl border-t border-slate-800/60 px-2 py-2 z-50",children:c.jsxs("div",{className:"flex items-center justify-around",children:[S.slice(0,5).map(P=>c.jsxs("button",{onClick:()=>e(P.id),className:`flex flex-col items-center gap-1 px-2 py-2 rounded-lg transition-all ${t===P.id?"text-cyan-400":"text-slate-500 hover:text-slate-300"}`,children:[c.jsx(P.icon,{className:"w-5 h-5"}),c.jsx("span",{className:"text-[10px] font-medium",children:P.label})]},P.id)),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>m(!h),className:`flex flex-col items-center gap-1 px-2 py-2 rounded-lg transition-all ${k.some(P=>P.id===t)?"text-cyan-400":"text-slate-500 hover:text-slate-300"}`,children:[c.jsx(y1,{className:"w-5 h-5"}),c.jsx("span",{className:"text-[10px] font-medium",children:"More"})]}),h&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>m(!1)}),c.jsx("div",{className:"absolute bottom-full right-0 mb-2 w-48 bg-slate-900 border border-slate-800 rounded-xl shadow-2xl shadow-black/50 overflow-hidden z-50",children:c.jsx("div",{className:"p-2 max-h-64 overflow-y-auto",children:k.map(P=>c.jsxs("button",{onClick:()=>{e(P.id),m(!1)},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all text-left ${t===P.id?"bg-cyan-500/10 text-cyan-400":"text-slate-300 hover:text-white hover:bg-slate-800/50"}`,children:[c.jsx(P.icon,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:P.label})]},P.id))})})]})]})]})})]})},C6=({children:t,activeTab:e,setActiveTab:n,onSettingsClick:r})=>c.jsxs("div",{className:"min-h-screen bg-slate-950",children:[c.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[600px] bg-cyan-500/5 rounded-full blur-[120px]"}),c.jsx("div",{className:"absolute bottom-0 right-1/4 w-[600px] h-[600px] bg-purple-500/5 rounded-full blur-[120px]"}),c.jsx("div",{className:"absolute inset-0 opacity-[0.015]",style:{backgroundImage:`
              linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
              linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)
            `,backgroundSize:"64px 64px"}})]}),c.jsx(A6,{activeTab:e,setActiveTab:n,onSettingsClick:r}),c.jsx("main",{className:"relative pt-16 pb-20 lg:pb-8 min-h-screen",children:c.jsx("div",{className:"max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t})})]}),j6=({setActiveTab:t})=>{const e=[{label:"Speech Analysis",icon:el,color:"cyan",title:"No speeches analyzed yet",description:"Upload or record a speech to get AI-powered feedback on delivery, structure, and argumentation.",action:"Analyze First Speech",tab:"judge"},{label:"Live Coaching",icon:Ag,color:"purple",title:"No coaching sessions yet",description:"Start a live session to get real-time feedback as you practice your speech or debate.",action:"Start Coaching",tab:"coach"},{label:"Strategy Builder",icon:kn,color:"orange",title:"No strategies created yet",description:"Build winning debate strategies with AI-powered case analysis and argument mapping.",action:"Build Strategy",tab:"strategy"},{label:"Tone Analysis",icon:_0,color:"emerald",title:"No tone analyses yet",description:"Analyze the rhetorical tone and persuasive elements of your speeches.",action:"Analyze Tone",tab:"tone"}],n=[{label:"New Analysis",icon:Ja,tab:"judge",color:"from-cyan-500 to-blue-500"},{label:"Start Coaching",icon:hu,tab:"coach",color:"from-purple-500 to-pink-500"},{label:"Build Strategy",icon:kn,tab:"strategy",color:"from-orange-500 to-red-500"},{label:"View History",icon:vr,tab:"history",color:"from-emerald-500 to-teal-500"}];return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"Dashboard"}),c.jsx("p",{className:"text-slate-400 mt-1",children:"Welcome! Let's get started on improving your debate skills."})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.map((r,a)=>{const o=r.icon;return c.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},className:"relative group",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl"}),c.jsxs("div",{className:"relative p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm hover:border-slate-700/60 transition-all h-full flex flex-col",children:[c.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[c.jsx("div",{className:`p-3 rounded-xl bg-${r.color}-500/10 border border-${r.color}-500/20`,children:c.jsx(o,{className:`w-6 h-6 text-${r.color}-400`})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm text-slate-500 font-medium",children:r.label}),c.jsx("p",{className:"text-lg font-semibold text-white mt-0.5",children:r.title})]})]}),c.jsx("p",{className:"text-slate-400 text-sm flex-1 mb-4",children:r.description}),c.jsxs("button",{onClick:()=>t(r.tab),className:`w-full py-2.5 px-4 rounded-lg bg-${r.color}-500/10 border border-${r.color}-500/30 text-${r.color}-400 font-medium hover:bg-${r.color}-500/20 transition-all flex items-center justify-center gap-2`,children:[c.jsx(xf,{className:"w-4 h-4"}),r.action]})]})]},r.label)})}),c.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[c.jsx("div",{className:"lg:col-span-2",children:c.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm h-full",children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:"Performance Trend"}),c.jsx("p",{className:"text-sm text-slate-400",children:"Track your improvement over time"})]})}),c.jsxs("div",{className:"relative h-48 mt-4 flex flex-col items-center justify-center",children:[c.jsx("div",{className:"absolute inset-0 flex items-end justify-between gap-2 px-2 opacity-20",children:[40,55,45,60,50,65,58,70,63,75,68,80].map((r,a)=>c.jsx("div",{className:"flex-1 flex flex-col items-center gap-2",children:c.jsx("div",{style:{height:`${r}%`},className:"w-full bg-gradient-to-t from-slate-700/50 to-slate-600/30 rounded-t-lg"})},a))}),c.jsxs("div",{className:"relative z-10 text-center",children:[c.jsx("div",{className:"p-4 rounded-full bg-slate-800/50 border border-slate-700/50 mb-4 mx-auto w-fit",children:c.jsx(Kr,{className:"w-8 h-8 text-slate-500"})}),c.jsx("p",{className:"text-slate-400 font-medium",children:"No performance data yet"}),c.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Complete your first analysis to start tracking progress"})]})]})]})}),c.jsx("div",{children:c.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm h-full",children:[c.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Quick Actions"}),c.jsx("div",{className:"space-y-3",children:n.map((r,a)=>{const o=r.icon;return c.jsxs("button",{onClick:()=>t(r.tab),className:"w-full flex items-center gap-4 p-4 rounded-xl border border-slate-800/60 bg-slate-900/50 hover:bg-slate-800/50 hover:border-slate-700 transition-all group",children:[c.jsx("div",{className:`p-2.5 rounded-lg bg-gradient-to-br ${r.color} shadow-lg`,children:c.jsx(o,{className:"w-5 h-5 text-white"})}),c.jsx("span",{className:"flex-1 text-left text-white font-medium",children:r.label}),c.jsx(ju,{className:"w-5 h-5 text-slate-500 group-hover:text-slate-300 group-hover:translate-x-1 transition-all"})]},r.label)})})]})})]}),c.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm",children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsx("h2",{className:"text-lg font-semibold text-white",children:"Recent Activity"})}),c.jsxs("div",{className:"py-12 flex flex-col items-center justify-center",children:[c.jsx("div",{className:"p-4 rounded-full bg-slate-800/50 border border-slate-700/50 mb-4",children:c.jsx(vr,{className:"w-8 h-8 text-slate-500"})}),c.jsx("p",{className:"text-slate-400 font-medium",children:"No recent activity"}),c.jsx("p",{className:"text-slate-500 text-sm mt-1 text-center max-w-md",children:"Your recent analyses, coaching sessions, and strategies will appear here as you use the platform."}),c.jsxs("button",{onClick:()=>t("judge"),className:"mt-6 px-5 py-2.5 rounded-lg bg-cyan-500/10 border border-cyan-500/30 text-cyan-400 font-medium hover:bg-cyan-500/20 transition-all flex items-center gap-2",children:[c.jsx(Ja,{className:"w-4 h-4"}),"Start Your First Analysis"]})]})]}),c.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"relative overflow-hidden rounded-2xl border border-slate-800/60",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 via-purple-500/10 to-cyan-500/10"}),c.jsxs("div",{className:"relative p-6 flex items-center gap-6",children:[c.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-cyan-500 to-purple-600 shadow-lg",children:c.jsx(Ao,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-white font-semibold",children:"Getting Started"}),c.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Start by analyzing your first speech. Upload a recording or paste your speech text to get detailed AI-powered feedback."})]}),c.jsx("button",{onClick:()=>t("judge"),className:"px-5 py-2.5 rounded-lg bg-white text-slate-900 font-semibold hover:bg-slate-100 transition-colors",children:"Get Started"})]})]})]})};function k6(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const I6=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,R6=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,D6={};function Ww(t,e){return(D6.jsx?R6:I6).test(t)}const O6=/[ \t\n\f\r]/g;function M6(t){return typeof t=="object"?t.type==="text"?Jw(t.value):!1:Jw(t)}function Jw(t){return t.replace(O6,"")===""}class Hu{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Hu.prototype.normal={};Hu.prototype.property={};Hu.prototype.space=void 0;function X2(t,e){const n={},r={};for(const a of t)Object.assign(n,a.property),Object.assign(r,a.normal);return new Hu(n,r,e)}function r0(t){return t.toLowerCase()}class Fn{constructor(e,n){this.attribute=n,this.property=e}}Fn.prototype.attribute="";Fn.prototype.booleanish=!1;Fn.prototype.boolean=!1;Fn.prototype.commaOrSpaceSeparated=!1;Fn.prototype.commaSeparated=!1;Fn.prototype.defined=!1;Fn.prototype.mustUseProperty=!1;Fn.prototype.number=!1;Fn.prototype.overloadedBoolean=!1;Fn.prototype.property="";Fn.prototype.spaceSeparated=!1;Fn.prototype.space=void 0;let P6=0;const Pe=hl(),Qt=hl(),i0=hl(),de=hl(),gt=hl(),po=hl(),Wn=hl();function hl(){return 2**++P6}const a0=Object.freeze(Object.defineProperty({__proto__:null,boolean:Pe,booleanish:Qt,commaOrSpaceSeparated:Wn,commaSeparated:po,number:de,overloadedBoolean:i0,spaceSeparated:gt},Symbol.toStringTag,{value:"Module"})),cg=Object.keys(a0);class Ay extends Fn{constructor(e,n,r,a){let o=-1;if(super(e,n),Zw(this,"space",a),typeof r=="number")for(;++o<cg.length;){const u=cg[o];Zw(this,cg[o],(r&a0[u])===a0[u])}}}Ay.prototype.defined=!0;function Zw(t,e,n){n&&(t[e]=n)}function Lo(t){const e={},n={};for(const[r,a]of Object.entries(t.properties)){const o=new Ay(r,t.transform(t.attributes||{},r),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[r0(r)]=r,n[r0(o.attribute)]=r}return new Hu(e,n,t.space)}const W2=Lo({properties:{ariaActiveDescendant:null,ariaAtomic:Qt,ariaAutoComplete:null,ariaBusy:Qt,ariaChecked:Qt,ariaColCount:de,ariaColIndex:de,ariaColSpan:de,ariaControls:gt,ariaCurrent:null,ariaDescribedBy:gt,ariaDetails:null,ariaDisabled:Qt,ariaDropEffect:gt,ariaErrorMessage:null,ariaExpanded:Qt,ariaFlowTo:gt,ariaGrabbed:Qt,ariaHasPopup:null,ariaHidden:Qt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:gt,ariaLevel:de,ariaLive:null,ariaModal:Qt,ariaMultiLine:Qt,ariaMultiSelectable:Qt,ariaOrientation:null,ariaOwns:gt,ariaPlaceholder:null,ariaPosInSet:de,ariaPressed:Qt,ariaReadOnly:Qt,ariaRelevant:null,ariaRequired:Qt,ariaRoleDescription:gt,ariaRowCount:de,ariaRowIndex:de,ariaRowSpan:de,ariaSelected:Qt,ariaSetSize:de,ariaSort:null,ariaValueMax:de,ariaValueMin:de,ariaValueNow:de,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function J2(t,e){return e in t?t[e]:e}function Z2(t,e){return J2(t,e.toLowerCase())}const L6=Lo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:po,acceptCharset:gt,accessKey:gt,action:null,allow:null,allowFullScreen:Pe,allowPaymentRequest:Pe,allowUserMedia:Pe,alt:null,as:null,async:Pe,autoCapitalize:null,autoComplete:gt,autoFocus:Pe,autoPlay:Pe,blocking:gt,capture:null,charSet:null,checked:Pe,cite:null,className:gt,cols:de,colSpan:null,content:null,contentEditable:Qt,controls:Pe,controlsList:gt,coords:de|po,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Pe,defer:Pe,dir:null,dirName:null,disabled:Pe,download:i0,draggable:Qt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Pe,formTarget:null,headers:gt,height:de,hidden:i0,high:de,href:null,hrefLang:null,htmlFor:gt,httpEquiv:gt,id:null,imageSizes:null,imageSrcSet:null,inert:Pe,inputMode:null,integrity:null,is:null,isMap:Pe,itemId:null,itemProp:gt,itemRef:gt,itemScope:Pe,itemType:gt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Pe,low:de,manifest:null,max:null,maxLength:de,media:null,method:null,min:null,minLength:de,multiple:Pe,muted:Pe,name:null,nonce:null,noModule:Pe,noValidate:Pe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Pe,optimum:de,pattern:null,ping:gt,placeholder:null,playsInline:Pe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Pe,referrerPolicy:null,rel:gt,required:Pe,reversed:Pe,rows:de,rowSpan:de,sandbox:gt,scope:null,scoped:Pe,seamless:Pe,selected:Pe,shadowRootClonable:Pe,shadowRootDelegatesFocus:Pe,shadowRootMode:null,shape:null,size:de,sizes:null,slot:null,span:de,spellCheck:Qt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:de,step:null,style:null,tabIndex:de,target:null,title:null,translate:null,type:null,typeMustMatch:Pe,useMap:null,value:Qt,width:de,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:gt,axis:null,background:null,bgColor:null,border:de,borderColor:null,bottomMargin:de,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Pe,declare:Pe,event:null,face:null,frame:null,frameBorder:null,hSpace:de,leftMargin:de,link:null,longDesc:null,lowSrc:null,marginHeight:de,marginWidth:de,noResize:Pe,noHref:Pe,noShade:Pe,noWrap:Pe,object:null,profile:null,prompt:null,rev:null,rightMargin:de,rules:null,scheme:null,scrolling:Qt,standby:null,summary:null,text:null,topMargin:de,valueType:null,version:null,vAlign:null,vLink:null,vSpace:de,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Pe,disableRemotePlayback:Pe,prefix:null,property:null,results:de,security:null,unselectable:null},space:"html",transform:Z2}),V6=Lo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Wn,accentHeight:de,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:de,amplitude:de,arabicForm:null,ascent:de,attributeName:null,attributeType:null,azimuth:de,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:de,by:null,calcMode:null,capHeight:de,className:gt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:de,diffuseConstant:de,direction:null,display:null,dur:null,divisor:de,dominantBaseline:null,download:Pe,dx:null,dy:null,edgeMode:null,editable:null,elevation:de,enableBackground:null,end:null,event:null,exponent:de,externalResourcesRequired:null,fill:null,fillOpacity:de,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:po,g2:po,glyphName:po,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:de,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:de,horizOriginX:de,horizOriginY:de,id:null,ideographic:de,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:de,k:de,k1:de,k2:de,k3:de,k4:de,kernelMatrix:Wn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:de,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:de,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:de,overlineThickness:de,paintOrder:null,panose1:null,path:null,pathLength:de,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:gt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:de,pointsAtY:de,pointsAtZ:de,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Wn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Wn,rev:Wn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Wn,requiredFeatures:Wn,requiredFonts:Wn,requiredFormats:Wn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:de,specularExponent:de,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:de,strikethroughThickness:de,string:null,stroke:null,strokeDashArray:Wn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:de,strokeOpacity:de,strokeWidth:null,style:null,surfaceScale:de,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Wn,tabIndex:de,tableValues:null,target:null,targetX:de,targetY:de,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Wn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:de,underlineThickness:de,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:de,values:null,vAlphabetic:de,vMathematical:de,vectorEffect:null,vHanging:de,vIdeographic:de,version:null,vertAdvY:de,vertOriginX:de,vertOriginY:de,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:de,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:J2}),eS=Lo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),tS=Lo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Z2}),nS=Lo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),z6={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},U6=/[A-Z]/g,e_=/-[a-z]/g,F6=/^data[-\w.:]+$/i;function B6(t,e){const n=r0(e);let r=e,a=Fn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&F6.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(e_,H6);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!e_.test(o)){let u=o.replace(U6,q6);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}a=Ay}return new a(r,e)}function q6(t){return"-"+t.toLowerCase()}function H6(t){return t.charAt(1).toUpperCase()}const G6=X2([W2,L6,eS,tS,nS],"html"),Cy=X2([W2,V6,eS,tS,nS],"svg");function $6(t){return t.join(" ").trim()}var to={},ug,t_;function Y6(){if(t_)return ug;t_=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,h=/^\s+|\s+$/g,m=`
`,p="/",x="*",b="",w="comment",v="declaration";function S(R,M){if(typeof R!="string")throw new TypeError("First argument must be a string");if(!R)return[];M=M||{};var P=1,q=1;function te(ue){var oe=ue.match(e);oe&&(P+=oe.length);var K=ue.lastIndexOf(m);q=~K?ue.length-K:q+ue.length}function W(){var ue={line:P,column:q};return function(oe){return oe.position=new G(ue),L(),oe}}function G(ue){this.start=ue,this.end={line:P,column:q},this.source=M.source}G.prototype.content=R;function z(ue){var oe=new Error(M.source+":"+P+":"+q+": "+ue);if(oe.reason=ue,oe.filename=M.source,oe.line=P,oe.column=q,oe.source=R,!M.silent)throw oe}function I(ue){var oe=ue.exec(R);if(oe){var K=oe[0];return te(K),R=R.slice(K.length),oe}}function L(){I(n)}function A(ue){var oe;for(ue=ue||[];oe=C();)oe!==!1&&ue.push(oe);return ue}function C(){var ue=W();if(!(p!=R.charAt(0)||x!=R.charAt(1))){for(var oe=2;b!=R.charAt(oe)&&(x!=R.charAt(oe)||p!=R.charAt(oe+1));)++oe;if(oe+=2,b===R.charAt(oe-1))return z("End of comment missing");var K=R.slice(2,oe-2);return q+=2,te(K),R=R.slice(oe),q+=2,ue({type:w,comment:K})}}function O(){var ue=W(),oe=I(r);if(oe){if(C(),!I(a))return z("property missing ':'");var K=I(o),ce=ue({type:v,property:k(oe[0].replace(t,b)),value:K?k(K[0].replace(t,b)):b});return I(u),ce}}function D(){var ue=[];A(ue);for(var oe;oe=O();)oe!==!1&&(ue.push(oe),A(ue));return ue}return L(),D()}function k(R){return R?R.replace(h,b):b}return ug=S,ug}var n_;function Q6(){if(n_)return to;n_=1;var t=to&&to.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(to,"__esModule",{value:!0}),to.default=n;const e=t(Y6());function n(r,a){let o=null;if(!r||typeof r!="string")return o;const u=(0,e.default)(r),h=typeof a=="function";return u.forEach(m=>{if(m.type!=="declaration")return;const{property:p,value:x}=m;h?a(p,x,m):x&&(o=o||{},o[p]=x)}),o}return to}var qc={},s_;function K6(){if(s_)return qc;s_=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,o=function(p){return!p||n.test(p)||t.test(p)},u=function(p,x){return x.toUpperCase()},h=function(p,x){return"".concat(x,"-")},m=function(p,x){return x===void 0&&(x={}),o(p)?p:(p=p.toLowerCase(),x.reactCompat?p=p.replace(a,h):p=p.replace(r,h),p.replace(e,u))};return qc.camelCase=m,qc}var Hc,r_;function X6(){if(r_)return Hc;r_=1;var t=Hc&&Hc.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},e=t(Q6()),n=K6();function r(a,o){var u={};return!a||typeof a!="string"||(0,e.default)(a,function(h,m){h&&m&&(u[(0,n.camelCase)(h,o)]=m)}),u}return r.default=r,Hc=r,Hc}var W6=X6();const J6=x0(W6),sS=rS("end"),jy=rS("start");function rS(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Z6(t){const e=jy(t),n=sS(t);if(e&&n)return{start:e,end:n}}function lu(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?i_(t.position):"start"in t||"end"in t?i_(t):"line"in t||"column"in t?l0(t):""}function l0(t){return a_(t&&t.line)+":"+a_(t&&t.column)}function i_(t){return l0(t&&t.start)+"-"+l0(t&&t.end)}function a_(t){return t&&typeof t=="number"?t:1}class Sn extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",o={},u=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?a=e:!o.cause&&e&&(u=!0,a=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const m=r.indexOf(":");m===-1?o.ruleId=r:(o.source=r.slice(0,m),o.ruleId=r.slice(m+1))}if(!o.place&&o.ancestors&&o.ancestors){const m=o.ancestors[o.ancestors.length-1];m&&(o.place=m.position)}const h=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=h?h.line:void 0,this.name=lu(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Sn.prototype.file="";Sn.prototype.name="";Sn.prototype.reason="";Sn.prototype.message="";Sn.prototype.stack="";Sn.prototype.column=void 0;Sn.prototype.line=void 0;Sn.prototype.ancestors=void 0;Sn.prototype.cause=void 0;Sn.prototype.fatal=void 0;Sn.prototype.place=void 0;Sn.prototype.ruleId=void 0;Sn.prototype.source=void 0;const ky={}.hasOwnProperty,eO=new Map,tO=/[A-Z]/g,nO=new Set(["table","tbody","thead","tfoot","tr"]),sO=new Set(["td","th"]),iS="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function rO(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=hO(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=dO(n,e.jsx,e.jsxs)}const a={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Cy:G6,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=aS(a,t,void 0);return o&&typeof o!="string"?o:a.create(t,a.Fragment,{children:o||void 0},void 0)}function aS(t,e,n){if(e.type==="element")return iO(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return aO(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return oO(t,e,n);if(e.type==="mdxjsEsm")return lO(t,e);if(e.type==="root")return cO(t,e,n);if(e.type==="text")return uO(t,e)}function iO(t,e,n){const r=t.schema;let a=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=Cy,t.schema=a),t.ancestors.push(e);const o=oS(t,e.tagName,!1),u=fO(t,e);let h=Ry(t,e);return nO.has(e.tagName)&&(h=h.filter(function(m){return typeof m=="string"?!M6(m):!0})),lS(t,u,o,e),Iy(u,h),t.ancestors.pop(),t.schema=r,t.create(e,o,u,n)}function aO(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Nu(t,e.position)}function lO(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Nu(t,e.position)}function oO(t,e,n){const r=t.schema;let a=r;e.name==="svg"&&r.space==="html"&&(a=Cy,t.schema=a),t.ancestors.push(e);const o=e.name===null?t.Fragment:oS(t,e.name,!0),u=mO(t,e),h=Ry(t,e);return lS(t,u,o,e),Iy(u,h),t.ancestors.pop(),t.schema=r,t.create(e,o,u,n)}function cO(t,e,n){const r={};return Iy(r,Ry(t,e)),t.create(e,t.Fragment,r,n)}function uO(t,e){return e.value}function lS(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function Iy(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function dO(t,e,n){return r;function r(a,o,u,h){const p=Array.isArray(u.children)?n:e;return h?p(o,u,h):p(o,u)}}function hO(t,e){return n;function n(r,a,o,u){const h=Array.isArray(o.children),m=jy(r);return e(a,o,u,h,{columnNumber:m?m.column-1:void 0,fileName:t,lineNumber:m?m.line:void 0},void 0)}}function fO(t,e){const n={};let r,a;for(a in e.properties)if(a!=="children"&&ky.call(e.properties,a)){const o=pO(t,a,e.properties[a]);if(o){const[u,h]=o;t.tableCellAlignToStyle&&u==="align"&&typeof h=="string"&&sO.has(e.tagName)?r=h:n[u]=h}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function mO(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const u=o.expression;u.type;const h=u.properties[0];h.type,Object.assign(n,t.evaluater.evaluateExpression(h.argument))}else Nu(t,e.position);else{const a=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const h=r.value.data.estree.body[0];h.type,o=t.evaluater.evaluateExpression(h.expression)}else Nu(t,e.position);else o=r.value===null?!0:r.value;n[a]=o}return n}function Ry(t,e){const n=[];let r=-1;const a=t.passKeys?new Map:eO;for(;++r<e.children.length;){const o=e.children[r];let u;if(t.passKeys){const m=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(m){const p=a.get(m)||0;u=m+"-"+p,a.set(m,p+1)}}const h=aS(t,o,u);h!==void 0&&n.push(h)}return n}function pO(t,e,n){const r=B6(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?k6(n):$6(n)),r.property==="style"){let a=typeof n=="object"?n:gO(t,String(n));return t.stylePropertyNameCase==="css"&&(a=yO(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&r.space?z6[r.property]||r.property:r.attribute,n]}}function gO(t,e){try{return J6(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,a=new Sn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=iS+"#cannot-parse-style-attribute",a}}function oS(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const a=e.split(".");let o=-1,u;for(;++o<a.length;){const h=Ww(a[o])?{type:"Identifier",name:a[o]}:{type:"Literal",value:a[o]};u=u?{type:"MemberExpression",object:u,property:h,computed:!!(o&&h.type==="Literal"),optional:!1}:h}r=u}else r=Ww(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const a=r.value;return ky.call(t.components,a)?t.components[a]:a}if(t.evaluater)return t.evaluater.evaluateExpression(r);Nu(t)}function Nu(t,e){const n=new Sn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=iS+"#cannot-handle-mdx-estrees-without-createevaluater",n}function yO(t){const e={};let n;for(n in t)ky.call(t,n)&&(e[xO(n)]=t[n]);return e}function xO(t){let e=t.replace(tO,bO);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function bO(t){return"-"+t.toLowerCase()}const dg={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},vO={};function Dy(t,e){const n=vO,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return cS(t,r,a)}function cS(t,e,n){if(wO(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return l_(t.children,e,n)}return Array.isArray(t)?l_(t,e,n):""}function l_(t,e,n){const r=[];let a=-1;for(;++a<t.length;)r[a]=cS(t[a],e,n);return r.join("")}function wO(t){return!!(t&&typeof t=="object")}const o_=document.createElement("i");function Oy(t){const e="&"+t+";";o_.innerHTML=e;const n=o_.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function ts(t,e,n,r){const a=t.length;let o=0,u;if(e<0?e=-e>a?0:a+e:e=e>a?a:e,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);o<r.length;)u=r.slice(o,o+1e4),u.unshift(e,0),t.splice(...u),o+=1e4,e+=1e4}function ys(t,e){return t.length>0?(ts(t,t.length,0,e),t):e}const c_={}.hasOwnProperty;function uS(t){const e={};let n=-1;for(;++n<t.length;)_O(e,t[n]);return e}function _O(t,e){let n;for(n in e){const a=(c_.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let u;if(o)for(u in o){c_.call(a,u)||(a[u]=[]);const h=o[u];EO(a[u],Array.isArray(h)?h:h?[h]:[])}}}function EO(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ts(t,0,0,r)}function dS(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Vs(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Cn=xa(/[A-Za-z]/),_n=xa(/[\dA-Za-z]/),NO=xa(/[#-'*+\--9=?A-Z^-~]/);function hf(t){return t!==null&&(t<32||t===127)}const o0=xa(/\d/),SO=xa(/[\dA-Fa-f]/),TO=xa(/[!-/:-@[-`{-~]/);function Ee(t){return t!==null&&t<-2}function pt(t){return t!==null&&(t<0||t===32)}function Fe(t){return t===-2||t===-1||t===32}const Gf=xa(new RegExp("\\p{P}|\\p{S}","u")),al=xa(/\s/);function xa(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Vo(t){const e=[];let n=-1,r=0,a=0;for(;++n<t.length;){const o=t.charCodeAt(n);let u="";if(o===37&&_n(t.charCodeAt(n+1))&&_n(t.charCodeAt(n+2)))a=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const h=t.charCodeAt(n+1);o<56320&&h>56319&&h<57344?(u=String.fromCharCode(o,h),a=1):u=""}else u=String.fromCharCode(o);u&&(e.push(t.slice(r,n),encodeURIComponent(u)),r=n+a+1,u=""),a&&(n+=a,a=0)}return e.join("")+t.slice(r)}function Xe(t,e,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(m){return Fe(m)?(t.enter(n),h(m)):e(m)}function h(m){return Fe(m)&&o++<a?(t.consume(m),h):(t.exit(n),e(m))}}const AO={tokenize:CO};function CO(t){const e=t.attempt(this.parser.constructs.contentInitial,r,a);let n;return e;function r(h){if(h===null){t.consume(h);return}return t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),Xe(t,e,"linePrefix")}function a(h){return t.enter("paragraph"),o(h)}function o(h){const m=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=m),n=m,u(h)}function u(h){if(h===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(h);return}return Ee(h)?(t.consume(h),t.exit("chunkText"),o):(t.consume(h),u)}}const jO={tokenize:kO},u_={tokenize:IO};function kO(t){const e=this,n=[];let r=0,a,o,u;return h;function h(q){if(r<n.length){const te=n[r];return e.containerState=te[1],t.attempt(te[0].continuation,m,p)(q)}return p(q)}function m(q){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,a&&P();const te=e.events.length;let W=te,G;for(;W--;)if(e.events[W][0]==="exit"&&e.events[W][1].type==="chunkFlow"){G=e.events[W][1].end;break}M(r);let z=te;for(;z<e.events.length;)e.events[z][1].end={...G},z++;return ts(e.events,W+1,0,e.events.slice(te)),e.events.length=z,p(q)}return h(q)}function p(q){if(r===n.length){if(!a)return w(q);if(a.currentConstruct&&a.currentConstruct.concrete)return S(q);e.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(u_,x,b)(q)}function x(q){return a&&P(),M(r),w(q)}function b(q){return e.parser.lazy[e.now().line]=r!==n.length,u=e.now().offset,S(q)}function w(q){return e.containerState={},t.attempt(u_,v,S)(q)}function v(q){return r++,n.push([e.currentConstruct,e.containerState]),w(q)}function S(q){if(q===null){a&&P(),M(0),t.consume(q);return}return a=a||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:o}),k(q)}function k(q){if(q===null){R(t.exit("chunkFlow"),!0),M(0),t.consume(q);return}return Ee(q)?(t.consume(q),R(t.exit("chunkFlow")),r=0,e.interrupt=void 0,h):(t.consume(q),k)}function R(q,te){const W=e.sliceStream(q);if(te&&W.push(null),q.previous=o,o&&(o.next=q),o=q,a.defineSkip(q.start),a.write(W),e.parser.lazy[q.start.line]){let G=a.events.length;for(;G--;)if(a.events[G][1].start.offset<u&&(!a.events[G][1].end||a.events[G][1].end.offset>u))return;const z=e.events.length;let I=z,L,A;for(;I--;)if(e.events[I][0]==="exit"&&e.events[I][1].type==="chunkFlow"){if(L){A=e.events[I][1].end;break}L=!0}for(M(r),G=z;G<e.events.length;)e.events[G][1].end={...A},G++;ts(e.events,I+1,0,e.events.slice(z)),e.events.length=G}}function M(q){let te=n.length;for(;te-- >q;){const W=n[te];e.containerState=W[1],W[0].exit.call(e,t)}n.length=q}function P(){a.write([null]),o=void 0,a=void 0,e.containerState._closeFlow=void 0}}function IO(t,e,n){return Xe(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function So(t){if(t===null||pt(t)||al(t))return 1;if(Gf(t))return 2}function $f(t,e,n){const r=[];let a=-1;for(;++a<t.length;){const o=t[a].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const c0={name:"attention",resolveAll:RO,tokenize:DO};function RO(t,e){let n=-1,r,a,o,u,h,m,p,x;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;m=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const b={...t[r][1].end},w={...t[n][1].start};d_(b,-m),d_(w,m),u={type:m>1?"strongSequence":"emphasisSequence",start:b,end:{...t[r][1].end}},h={type:m>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:w},o={type:m>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},a={type:m>1?"strong":"emphasis",start:{...u.start},end:{...h.end}},t[r][1].end={...u.start},t[n][1].start={...h.end},p=[],t[r][1].end.offset-t[r][1].start.offset&&(p=ys(p,[["enter",t[r][1],e],["exit",t[r][1],e]])),p=ys(p,[["enter",a,e],["enter",u,e],["exit",u,e],["enter",o,e]]),p=ys(p,$f(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),p=ys(p,[["exit",o,e],["enter",h,e],["exit",h,e],["exit",a,e]]),t[n][1].end.offset-t[n][1].start.offset?(x=2,p=ys(p,[["enter",t[n][1],e],["exit",t[n][1],e]])):x=0,ts(t,r-1,n-r+3,p),n=r+p.length-x-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function DO(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=So(r);let o;return u;function u(m){return o=m,t.enter("attentionSequence"),h(m)}function h(m){if(m===o)return t.consume(m),h;const p=t.exit("attentionSequence"),x=So(m),b=!x||x===2&&a||n.includes(m),w=!a||a===2&&x||n.includes(r);return p._open=!!(o===42?b:b&&(a||!w)),p._close=!!(o===42?w:w&&(x||!b)),e(m)}}function d_(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const OO={name:"autolink",tokenize:MO};function MO(t,e,n){let r=0;return a;function a(v){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(v){return Cn(v)?(t.consume(v),u):v===64?n(v):p(v)}function u(v){return v===43||v===45||v===46||_n(v)?(r=1,h(v)):p(v)}function h(v){return v===58?(t.consume(v),r=0,m):(v===43||v===45||v===46||_n(v))&&r++<32?(t.consume(v),h):(r=0,p(v))}function m(v){return v===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):v===null||v===32||v===60||hf(v)?n(v):(t.consume(v),m)}function p(v){return v===64?(t.consume(v),x):NO(v)?(t.consume(v),p):n(v)}function x(v){return _n(v)?b(v):n(v)}function b(v){return v===46?(t.consume(v),r=0,x):v===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):w(v)}function w(v){if((v===45||_n(v))&&r++<63){const S=v===45?w:b;return t.consume(v),S}return n(v)}}const Gu={partial:!0,tokenize:PO};function PO(t,e,n){return r;function r(o){return Fe(o)?Xe(t,a,"linePrefix")(o):a(o)}function a(o){return o===null||Ee(o)?e(o):n(o)}}const hS={continuation:{tokenize:VO},exit:zO,name:"blockQuote",tokenize:LO};function LO(t,e,n){const r=this;return a;function a(u){if(u===62){const h=r.containerState;return h.open||(t.enter("blockQuote",{_container:!0}),h.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),o}return n(u)}function o(u){return Fe(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function VO(t,e,n){const r=this;return a;function a(u){return Fe(u)?Xe(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return t.attempt(hS,e,n)(u)}}function zO(t){t.exit("blockQuote")}const fS={name:"characterEscape",tokenize:UO};function UO(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),a}function a(o){return TO(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const mS={name:"characterReference",tokenize:FO};function FO(t,e,n){const r=this;let a=0,o,u;return h;function h(b){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),m}function m(b){return b===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(b),t.exit("characterReferenceMarkerNumeric"),p):(t.enter("characterReferenceValue"),o=31,u=_n,x(b))}function p(b){return b===88||b===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(b),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,u=SO,x):(t.enter("characterReferenceValue"),o=7,u=o0,x(b))}function x(b){if(b===59&&a){const w=t.exit("characterReferenceValue");return u===_n&&!Oy(r.sliceSerialize(w))?n(b):(t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(b)&&a++<o?(t.consume(b),x):n(b)}}const h_={partial:!0,tokenize:qO},f_={concrete:!0,name:"codeFenced",tokenize:BO};function BO(t,e,n){const r=this,a={partial:!0,tokenize:W};let o=0,u=0,h;return m;function m(G){return p(G)}function p(G){const z=r.events[r.events.length-1];return o=z&&z[1].type==="linePrefix"?z[2].sliceSerialize(z[1],!0).length:0,h=G,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),x(G)}function x(G){return G===h?(u++,t.consume(G),x):u<3?n(G):(t.exit("codeFencedFenceSequence"),Fe(G)?Xe(t,b,"whitespace")(G):b(G))}function b(G){return G===null||Ee(G)?(t.exit("codeFencedFence"),r.interrupt?e(G):t.check(h_,k,te)(G)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),w(G))}function w(G){return G===null||Ee(G)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),b(G)):Fe(G)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Xe(t,v,"whitespace")(G)):G===96&&G===h?n(G):(t.consume(G),w)}function v(G){return G===null||Ee(G)?b(G):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),S(G))}function S(G){return G===null||Ee(G)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),b(G)):G===96&&G===h?n(G):(t.consume(G),S)}function k(G){return t.attempt(a,te,R)(G)}function R(G){return t.enter("lineEnding"),t.consume(G),t.exit("lineEnding"),M}function M(G){return o>0&&Fe(G)?Xe(t,P,"linePrefix",o+1)(G):P(G)}function P(G){return G===null||Ee(G)?t.check(h_,k,te)(G):(t.enter("codeFlowValue"),q(G))}function q(G){return G===null||Ee(G)?(t.exit("codeFlowValue"),P(G)):(t.consume(G),q)}function te(G){return t.exit("codeFenced"),e(G)}function W(G,z,I){let L=0;return A;function A(oe){return G.enter("lineEnding"),G.consume(oe),G.exit("lineEnding"),C}function C(oe){return G.enter("codeFencedFence"),Fe(oe)?Xe(G,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(oe):O(oe)}function O(oe){return oe===h?(G.enter("codeFencedFenceSequence"),D(oe)):I(oe)}function D(oe){return oe===h?(L++,G.consume(oe),D):L>=u?(G.exit("codeFencedFenceSequence"),Fe(oe)?Xe(G,ue,"whitespace")(oe):ue(oe)):I(oe)}function ue(oe){return oe===null||Ee(oe)?(G.exit("codeFencedFence"),z(oe)):I(oe)}}}function qO(t,e,n){const r=this;return a;function a(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o)}function o(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}const hg={name:"codeIndented",tokenize:GO},HO={partial:!0,tokenize:$O};function GO(t,e,n){const r=this;return a;function a(p){return t.enter("codeIndented"),Xe(t,o,"linePrefix",5)(p)}function o(p){const x=r.events[r.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?u(p):n(p)}function u(p){return p===null?m(p):Ee(p)?t.attempt(HO,u,m)(p):(t.enter("codeFlowValue"),h(p))}function h(p){return p===null||Ee(p)?(t.exit("codeFlowValue"),u(p)):(t.consume(p),h)}function m(p){return t.exit("codeIndented"),e(p)}}function $O(t,e,n){const r=this;return a;function a(u){return r.parser.lazy[r.now().line]?n(u):Ee(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),a):Xe(t,o,"linePrefix",5)(u)}function o(u){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):Ee(u)?a(u):n(u)}}const YO={name:"codeText",previous:KO,resolve:QO,tokenize:XO};function QO(t){let e=t.length-4,n=3,r,a;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)a===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(a=r):(r===e||t[r][1].type==="lineEnding")&&(t[a][1].type="codeTextData",r!==a+2&&(t[a][1].end=t[r-1][1].end,t.splice(a+2,r-a-2),e-=r-a-2,r=a+2),a=void 0);return t}function KO(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function XO(t,e,n){let r=0,a,o;return u;function u(b){return t.enter("codeText"),t.enter("codeTextSequence"),h(b)}function h(b){return b===96?(t.consume(b),r++,h):(t.exit("codeTextSequence"),m(b))}function m(b){return b===null?n(b):b===32?(t.enter("space"),t.consume(b),t.exit("space"),m):b===96?(o=t.enter("codeTextSequence"),a=0,x(b)):Ee(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),m):(t.enter("codeTextData"),p(b))}function p(b){return b===null||b===32||b===96||Ee(b)?(t.exit("codeTextData"),m(b)):(t.consume(b),p)}function x(b){return b===96?(t.consume(b),a++,x):a===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(b)):(o.type="codeTextData",p(b))}}class WO{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const a=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&Gc(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Gc(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Gc(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Gc(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Gc(this.left,n.reverse())}}}function Gc(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function pS(t){const e={};let n=-1,r,a,o,u,h,m,p;const x=new WO(t);for(;++n<x.length;){for(;n in e;)n=e[n];if(r=x.get(n),n&&r[1].type==="chunkFlow"&&x.get(n-1)[1].type==="listItemPrefix"&&(m=r[1]._tokenizer.events,o=0,o<m.length&&m[o][1].type==="lineEndingBlank"&&(o+=2),o<m.length&&m[o][1].type==="content"))for(;++o<m.length&&m[o][1].type!=="content";)m[o][1].type==="chunkText"&&(m[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,JO(x,n)),n=e[n],p=!0);else if(r[1]._container){for(o=n,a=void 0;o--;)if(u=x.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(a&&(x.get(a)[1].type="lineEndingBlank"),u[1].type="lineEnding",a=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;a&&(r[1].end={...x.get(a)[1].start},h=x.slice(a,n),h.unshift(r),x.splice(a,n-a+1,h))}}return ts(t,0,Number.POSITIVE_INFINITY,x.slice(0)),!p}function JO(t,e){const n=t.get(e)[1],r=t.get(e)[2];let a=e-1;const o=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const h=u.events,m=[],p={};let x,b,w=-1,v=n,S=0,k=0;const R=[k];for(;v;){for(;t.get(++a)[1]!==v;);o.push(a),v._tokenizer||(x=r.sliceStream(v),v.next||x.push(null),b&&u.defineSkip(v.start),v._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(x),v._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),b=v,v=v.next}for(v=n;++w<h.length;)h[w][0]==="exit"&&h[w-1][0]==="enter"&&h[w][1].type===h[w-1][1].type&&h[w][1].start.line!==h[w][1].end.line&&(k=w+1,R.push(k),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(u.events=[],v?(v._tokenizer=void 0,v.previous=void 0):R.pop(),w=R.length;w--;){const M=h.slice(R[w],R[w+1]),P=o.pop();m.push([P,P+M.length-1]),t.splice(P,2,M)}for(m.reverse(),w=-1;++w<m.length;)p[S+m[w][0]]=S+m[w][1],S+=m[w][1]-m[w][0]-1;return p}const ZO={resolve:tM,tokenize:nM},eM={partial:!0,tokenize:sM};function tM(t){return pS(t),t}function nM(t,e){let n;return r;function r(h){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),a(h)}function a(h){return h===null?o(h):Ee(h)?t.check(eM,u,o)(h):(t.consume(h),a)}function o(h){return t.exit("chunkContent"),t.exit("content"),e(h)}function u(h){return t.consume(h),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function sM(t,e,n){const r=this;return a;function a(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),Xe(t,o,"linePrefix")}function o(u){if(u===null||Ee(u))return n(u);const h=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):t.interrupt(r.parser.constructs.flow,n,e)(u)}}function gS(t,e,n,r,a,o,u,h,m){const p=m||Number.POSITIVE_INFINITY;let x=0;return b;function b(M){return M===60?(t.enter(r),t.enter(a),t.enter(o),t.consume(M),t.exit(o),w):M===null||M===32||M===41||hf(M)?n(M):(t.enter(r),t.enter(u),t.enter(h),t.enter("chunkString",{contentType:"string"}),k(M))}function w(M){return M===62?(t.enter(o),t.consume(M),t.exit(o),t.exit(a),t.exit(r),e):(t.enter(h),t.enter("chunkString",{contentType:"string"}),v(M))}function v(M){return M===62?(t.exit("chunkString"),t.exit(h),w(M)):M===null||M===60||Ee(M)?n(M):(t.consume(M),M===92?S:v)}function S(M){return M===60||M===62||M===92?(t.consume(M),v):v(M)}function k(M){return!x&&(M===null||M===41||pt(M))?(t.exit("chunkString"),t.exit(h),t.exit(u),t.exit(r),e(M)):x<p&&M===40?(t.consume(M),x++,k):M===41?(t.consume(M),x--,k):M===null||M===32||M===40||hf(M)?n(M):(t.consume(M),M===92?R:k)}function R(M){return M===40||M===41||M===92?(t.consume(M),k):k(M)}}function yS(t,e,n,r,a,o){const u=this;let h=0,m;return p;function p(v){return t.enter(r),t.enter(a),t.consume(v),t.exit(a),t.enter(o),x}function x(v){return h>999||v===null||v===91||v===93&&!m||v===94&&!h&&"_hiddenFootnoteSupport"in u.parser.constructs?n(v):v===93?(t.exit(o),t.enter(a),t.consume(v),t.exit(a),t.exit(r),e):Ee(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),x):(t.enter("chunkString",{contentType:"string"}),b(v))}function b(v){return v===null||v===91||v===93||Ee(v)||h++>999?(t.exit("chunkString"),x(v)):(t.consume(v),m||(m=!Fe(v)),v===92?w:b)}function w(v){return v===91||v===92||v===93?(t.consume(v),h++,b):b(v)}}function xS(t,e,n,r,a,o){let u;return h;function h(w){return w===34||w===39||w===40?(t.enter(r),t.enter(a),t.consume(w),t.exit(a),u=w===40?41:w,m):n(w)}function m(w){return w===u?(t.enter(a),t.consume(w),t.exit(a),t.exit(r),e):(t.enter(o),p(w))}function p(w){return w===u?(t.exit(o),m(u)):w===null?n(w):Ee(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),Xe(t,p,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),x(w))}function x(w){return w===u||w===null||Ee(w)?(t.exit("chunkString"),p(w)):(t.consume(w),w===92?b:x)}function b(w){return w===u||w===92?(t.consume(w),x):x(w)}}function ou(t,e){let n;return r;function r(a){return Ee(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),n=!0,r):Fe(a)?Xe(t,r,n?"linePrefix":"lineSuffix")(a):e(a)}}const rM={name:"definition",tokenize:aM},iM={partial:!0,tokenize:lM};function aM(t,e,n){const r=this;let a;return o;function o(v){return t.enter("definition"),u(v)}function u(v){return yS.call(r,t,h,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function h(v){return a=Vs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),m):n(v)}function m(v){return pt(v)?ou(t,p)(v):p(v)}function p(v){return gS(t,x,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function x(v){return t.attempt(iM,b,b)(v)}function b(v){return Fe(v)?Xe(t,w,"whitespace")(v):w(v)}function w(v){return v===null||Ee(v)?(t.exit("definition"),r.parser.defined.push(a),e(v)):n(v)}}function lM(t,e,n){return r;function r(h){return pt(h)?ou(t,a)(h):n(h)}function a(h){return xS(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function o(h){return Fe(h)?Xe(t,u,"whitespace")(h):u(h)}function u(h){return h===null||Ee(h)?e(h):n(h)}}const oM={name:"hardBreakEscape",tokenize:cM};function cM(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),a}function a(o){return Ee(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const uM={name:"headingAtx",resolve:dM,tokenize:hM};function dM(t,e){let n=t.length-2,r=3,a,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},ts(t,r,n-r+1,[["enter",a,e],["enter",o,e],["exit",o,e],["exit",a,e]])),t}function hM(t,e,n){let r=0;return a;function a(x){return t.enter("atxHeading"),o(x)}function o(x){return t.enter("atxHeadingSequence"),u(x)}function u(x){return x===35&&r++<6?(t.consume(x),u):x===null||pt(x)?(t.exit("atxHeadingSequence"),h(x)):n(x)}function h(x){return x===35?(t.enter("atxHeadingSequence"),m(x)):x===null||Ee(x)?(t.exit("atxHeading"),e(x)):Fe(x)?Xe(t,h,"whitespace")(x):(t.enter("atxHeadingText"),p(x))}function m(x){return x===35?(t.consume(x),m):(t.exit("atxHeadingSequence"),h(x))}function p(x){return x===null||x===35||pt(x)?(t.exit("atxHeadingText"),h(x)):(t.consume(x),p)}}const fM=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],m_=["pre","script","style","textarea"],mM={concrete:!0,name:"htmlFlow",resolveTo:yM,tokenize:xM},pM={partial:!0,tokenize:vM},gM={partial:!0,tokenize:bM};function yM(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function xM(t,e,n){const r=this;let a,o,u,h,m;return p;function p(V){return x(V)}function x(V){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(V),b}function b(V){return V===33?(t.consume(V),w):V===47?(t.consume(V),o=!0,k):V===63?(t.consume(V),a=3,r.interrupt?e:F):Cn(V)?(t.consume(V),u=String.fromCharCode(V),R):n(V)}function w(V){return V===45?(t.consume(V),a=2,v):V===91?(t.consume(V),a=5,h=0,S):Cn(V)?(t.consume(V),a=4,r.interrupt?e:F):n(V)}function v(V){return V===45?(t.consume(V),r.interrupt?e:F):n(V)}function S(V){const ke="CDATA[";return V===ke.charCodeAt(h++)?(t.consume(V),h===ke.length?r.interrupt?e:O:S):n(V)}function k(V){return Cn(V)?(t.consume(V),u=String.fromCharCode(V),R):n(V)}function R(V){if(V===null||V===47||V===62||pt(V)){const ke=V===47,st=u.toLowerCase();return!ke&&!o&&m_.includes(st)?(a=1,r.interrupt?e(V):O(V)):fM.includes(u.toLowerCase())?(a=6,ke?(t.consume(V),M):r.interrupt?e(V):O(V)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(V):o?P(V):q(V))}return V===45||_n(V)?(t.consume(V),u+=String.fromCharCode(V),R):n(V)}function M(V){return V===62?(t.consume(V),r.interrupt?e:O):n(V)}function P(V){return Fe(V)?(t.consume(V),P):A(V)}function q(V){return V===47?(t.consume(V),A):V===58||V===95||Cn(V)?(t.consume(V),te):Fe(V)?(t.consume(V),q):A(V)}function te(V){return V===45||V===46||V===58||V===95||_n(V)?(t.consume(V),te):W(V)}function W(V){return V===61?(t.consume(V),G):Fe(V)?(t.consume(V),W):q(V)}function G(V){return V===null||V===60||V===61||V===62||V===96?n(V):V===34||V===39?(t.consume(V),m=V,z):Fe(V)?(t.consume(V),G):I(V)}function z(V){return V===m?(t.consume(V),m=null,L):V===null||Ee(V)?n(V):(t.consume(V),z)}function I(V){return V===null||V===34||V===39||V===47||V===60||V===61||V===62||V===96||pt(V)?W(V):(t.consume(V),I)}function L(V){return V===47||V===62||Fe(V)?q(V):n(V)}function A(V){return V===62?(t.consume(V),C):n(V)}function C(V){return V===null||Ee(V)?O(V):Fe(V)?(t.consume(V),C):n(V)}function O(V){return V===45&&a===2?(t.consume(V),K):V===60&&a===1?(t.consume(V),ce):V===62&&a===4?(t.consume(V),Ze):V===63&&a===3?(t.consume(V),F):V===93&&a===5?(t.consume(V),Re):Ee(V)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(pM,Ve,D)(V)):V===null||Ee(V)?(t.exit("htmlFlowData"),D(V)):(t.consume(V),O)}function D(V){return t.check(gM,ue,Ve)(V)}function ue(V){return t.enter("lineEnding"),t.consume(V),t.exit("lineEnding"),oe}function oe(V){return V===null||Ee(V)?D(V):(t.enter("htmlFlowData"),O(V))}function K(V){return V===45?(t.consume(V),F):O(V)}function ce(V){return V===47?(t.consume(V),u="",ge):O(V)}function ge(V){if(V===62){const ke=u.toLowerCase();return m_.includes(ke)?(t.consume(V),Ze):O(V)}return Cn(V)&&u.length<8?(t.consume(V),u+=String.fromCharCode(V),ge):O(V)}function Re(V){return V===93?(t.consume(V),F):O(V)}function F(V){return V===62?(t.consume(V),Ze):V===45&&a===2?(t.consume(V),F):O(V)}function Ze(V){return V===null||Ee(V)?(t.exit("htmlFlowData"),Ve(V)):(t.consume(V),Ze)}function Ve(V){return t.exit("htmlFlow"),e(V)}}function bM(t,e,n){const r=this;return a;function a(u){return Ee(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o):n(u)}function o(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}function vM(t,e,n){return r;function r(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(Gu,e,n)}}const wM={name:"htmlText",tokenize:_M};function _M(t,e,n){const r=this;let a,o,u;return h;function h(F){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(F),m}function m(F){return F===33?(t.consume(F),p):F===47?(t.consume(F),W):F===63?(t.consume(F),q):Cn(F)?(t.consume(F),I):n(F)}function p(F){return F===45?(t.consume(F),x):F===91?(t.consume(F),o=0,S):Cn(F)?(t.consume(F),P):n(F)}function x(F){return F===45?(t.consume(F),v):n(F)}function b(F){return F===null?n(F):F===45?(t.consume(F),w):Ee(F)?(u=b,ce(F)):(t.consume(F),b)}function w(F){return F===45?(t.consume(F),v):b(F)}function v(F){return F===62?K(F):F===45?w(F):b(F)}function S(F){const Ze="CDATA[";return F===Ze.charCodeAt(o++)?(t.consume(F),o===Ze.length?k:S):n(F)}function k(F){return F===null?n(F):F===93?(t.consume(F),R):Ee(F)?(u=k,ce(F)):(t.consume(F),k)}function R(F){return F===93?(t.consume(F),M):k(F)}function M(F){return F===62?K(F):F===93?(t.consume(F),M):k(F)}function P(F){return F===null||F===62?K(F):Ee(F)?(u=P,ce(F)):(t.consume(F),P)}function q(F){return F===null?n(F):F===63?(t.consume(F),te):Ee(F)?(u=q,ce(F)):(t.consume(F),q)}function te(F){return F===62?K(F):q(F)}function W(F){return Cn(F)?(t.consume(F),G):n(F)}function G(F){return F===45||_n(F)?(t.consume(F),G):z(F)}function z(F){return Ee(F)?(u=z,ce(F)):Fe(F)?(t.consume(F),z):K(F)}function I(F){return F===45||_n(F)?(t.consume(F),I):F===47||F===62||pt(F)?L(F):n(F)}function L(F){return F===47?(t.consume(F),K):F===58||F===95||Cn(F)?(t.consume(F),A):Ee(F)?(u=L,ce(F)):Fe(F)?(t.consume(F),L):K(F)}function A(F){return F===45||F===46||F===58||F===95||_n(F)?(t.consume(F),A):C(F)}function C(F){return F===61?(t.consume(F),O):Ee(F)?(u=C,ce(F)):Fe(F)?(t.consume(F),C):L(F)}function O(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(t.consume(F),a=F,D):Ee(F)?(u=O,ce(F)):Fe(F)?(t.consume(F),O):(t.consume(F),ue)}function D(F){return F===a?(t.consume(F),a=void 0,oe):F===null?n(F):Ee(F)?(u=D,ce(F)):(t.consume(F),D)}function ue(F){return F===null||F===34||F===39||F===60||F===61||F===96?n(F):F===47||F===62||pt(F)?L(F):(t.consume(F),ue)}function oe(F){return F===47||F===62||pt(F)?L(F):n(F)}function K(F){return F===62?(t.consume(F),t.exit("htmlTextData"),t.exit("htmlText"),e):n(F)}function ce(F){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),ge}function ge(F){return Fe(F)?Xe(t,Re,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):Re(F)}function Re(F){return t.enter("htmlTextData"),u(F)}}const My={name:"labelEnd",resolveAll:TM,resolveTo:AM,tokenize:CM},EM={tokenize:jM},NM={tokenize:kM},SM={tokenize:IM};function TM(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",e+=a}}return t.length!==n.length&&ts(t,0,t.length,n),t}function AM(t,e){let n=t.length,r=0,a,o,u,h;for(;n--;)if(a=t[n][1],o){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(o=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(u=n);const m={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},p={type:"label",start:{...t[o][1].start},end:{...t[u][1].end}},x={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[u-2][1].start}};return h=[["enter",m,e],["enter",p,e]],h=ys(h,t.slice(o+1,o+r+3)),h=ys(h,[["enter",x,e]]),h=ys(h,$f(e.parser.constructs.insideSpan.null,t.slice(o+r+4,u-3),e)),h=ys(h,[["exit",x,e],t[u-2],t[u-1],["exit",p,e]]),h=ys(h,t.slice(u+1)),h=ys(h,[["exit",m,e]]),ts(t,o,t.length,h),t}function CM(t,e,n){const r=this;let a=r.events.length,o,u;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){o=r.events[a][1];break}return h;function h(w){return o?o._inactive?b(w):(u=r.parser.defined.includes(Vs(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(w),t.exit("labelMarker"),t.exit("labelEnd"),m):n(w)}function m(w){return w===40?t.attempt(EM,x,u?x:b)(w):w===91?t.attempt(NM,x,u?p:b)(w):u?x(w):b(w)}function p(w){return t.attempt(SM,x,b)(w)}function x(w){return e(w)}function b(w){return o._balanced=!0,n(w)}}function jM(t,e,n){return r;function r(b){return t.enter("resource"),t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),a}function a(b){return pt(b)?ou(t,o)(b):o(b)}function o(b){return b===41?x(b):gS(t,u,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(b)}function u(b){return pt(b)?ou(t,m)(b):x(b)}function h(b){return n(b)}function m(b){return b===34||b===39||b===40?xS(t,p,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(b):x(b)}function p(b){return pt(b)?ou(t,x)(b):x(b)}function x(b){return b===41?(t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),t.exit("resource"),e):n(b)}}function kM(t,e,n){const r=this;return a;function a(h){return yS.call(r,t,o,u,"reference","referenceMarker","referenceString")(h)}function o(h){return r.parser.defined.includes(Vs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(h):n(h)}function u(h){return n(h)}}function IM(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),a}function a(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const RM={name:"labelStartImage",resolveAll:My.resolveAll,tokenize:DM};function DM(t,e,n){const r=this;return a;function a(h){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(h),t.exit("labelImageMarker"),o}function o(h){return h===91?(t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelImage"),u):n(h)}function u(h){return h===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(h):e(h)}}const OM={name:"labelStartLink",resolveAll:My.resolveAll,tokenize:MM};function MM(t,e,n){const r=this;return a;function a(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const fg={name:"lineEnding",tokenize:PM};function PM(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Xe(t,e,"linePrefix")}}const Bh={name:"thematicBreak",tokenize:LM};function LM(t,e,n){let r=0,a;return o;function o(p){return t.enter("thematicBreak"),u(p)}function u(p){return a=p,h(p)}function h(p){return p===a?(t.enter("thematicBreakSequence"),m(p)):r>=3&&(p===null||Ee(p))?(t.exit("thematicBreak"),e(p)):n(p)}function m(p){return p===a?(t.consume(p),r++,m):(t.exit("thematicBreakSequence"),Fe(p)?Xe(t,h,"whitespace")(p):h(p))}}const Vn={continuation:{tokenize:FM},exit:qM,name:"list",tokenize:UM},VM={partial:!0,tokenize:HM},zM={partial:!0,tokenize:BM};function UM(t,e,n){const r=this,a=r.events[r.events.length-1];let o=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,u=0;return h;function h(v){const S=r.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!r.containerState.marker||v===r.containerState.marker:o0(v)){if(r.containerState.type||(r.containerState.type=S,t.enter(S,{_container:!0})),S==="listUnordered")return t.enter("listItemPrefix"),v===42||v===45?t.check(Bh,n,p)(v):p(v);if(!r.interrupt||v===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),m(v)}return n(v)}function m(v){return o0(v)&&++u<10?(t.consume(v),m):(!r.interrupt||u<2)&&(r.containerState.marker?v===r.containerState.marker:v===41||v===46)?(t.exit("listItemValue"),p(v)):n(v)}function p(v){return t.enter("listItemMarker"),t.consume(v),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||v,t.check(Gu,r.interrupt?n:x,t.attempt(VM,w,b))}function x(v){return r.containerState.initialBlankLine=!0,o++,w(v)}function b(v){return Fe(v)?(t.enter("listItemPrefixWhitespace"),t.consume(v),t.exit("listItemPrefixWhitespace"),w):n(v)}function w(v){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(v)}}function FM(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Gu,a,o);function a(h){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Xe(t,e,"listItemIndent",r.containerState.size+1)(h)}function o(h){return r.containerState.furtherBlankLines||!Fe(h)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(h)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(zM,e,u)(h))}function u(h){return r.containerState._closeFlow=!0,r.interrupt=void 0,Xe(t,t.attempt(Vn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function BM(t,e,n){const r=this;return Xe(t,a,"listItemIndent",r.containerState.size+1);function a(o){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?e(o):n(o)}}function qM(t){t.exit(this.containerState.type)}function HM(t,e,n){const r=this;return Xe(t,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(o){const u=r.events[r.events.length-1];return!Fe(o)&&u&&u[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const p_={name:"setextUnderline",resolveTo:GM,tokenize:$M};function GM(t,e){let n=t.length,r,a,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(a=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const u={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[a][1].type="setextHeadingText",o?(t.splice(a,0,["enter",u,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=u,t.push(["exit",u,e]),t}function $M(t,e,n){const r=this;let a;return o;function o(p){let x=r.events.length,b;for(;x--;)if(r.events[x][1].type!=="lineEnding"&&r.events[x][1].type!=="linePrefix"&&r.events[x][1].type!=="content"){b=r.events[x][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||b)?(t.enter("setextHeadingLine"),a=p,u(p)):n(p)}function u(p){return t.enter("setextHeadingLineSequence"),h(p)}function h(p){return p===a?(t.consume(p),h):(t.exit("setextHeadingLineSequence"),Fe(p)?Xe(t,m,"lineSuffix")(p):m(p))}function m(p){return p===null||Ee(p)?(t.exit("setextHeadingLine"),e(p)):n(p)}}const YM={tokenize:QM};function QM(t){const e=this,n=t.attempt(Gu,r,t.attempt(this.parser.constructs.flowInitial,a,Xe(t,t.attempt(this.parser.constructs.flow,a,t.attempt(ZO,a)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function a(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const KM={resolveAll:vS()},XM=bS("string"),WM=bS("text");function bS(t){return{resolveAll:vS(t==="text"?JM:void 0),tokenize:e};function e(n){const r=this,a=this.parser.constructs[t],o=n.attempt(a,u,h);return u;function u(x){return p(x)?o(x):h(x)}function h(x){if(x===null){n.consume(x);return}return n.enter("data"),n.consume(x),m}function m(x){return p(x)?(n.exit("data"),o(x)):(n.consume(x),m)}function p(x){if(x===null)return!0;const b=a[x];let w=-1;if(b)for(;++w<b.length;){const v=b[w];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function vS(t){return e;function e(n,r){let a=-1,o;for(;++a<=n.length;)o===void 0?n[a]&&n[a][1].type==="data"&&(o=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==o+2&&(n[o][1].end=n[a-1][1].end,n.splice(o+2,a-o-2),a=o+2),o=void 0);return t?t(n,r):n}}function JM(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],a=e.sliceStream(r);let o=a.length,u=-1,h=0,m;for(;o--;){const p=a[o];if(typeof p=="string"){for(u=p.length;p.charCodeAt(u-1)===32;)h++,u--;if(u)break;u=-1}else if(p===-2)m=!0,h++;else if(p!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(h=0),h){const p={type:n===t.length||m||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:r.start._bufferIndex+u,_index:r.start._index+o,line:r.end.line,column:r.end.column-h,offset:r.end.offset-h},end:{...r.end}};r.end={...p.start},r.start.offset===r.end.offset?Object.assign(r,p):(t.splice(n,0,["enter",p,e],["exit",p,e]),n+=2)}n++}return t}const ZM={42:Vn,43:Vn,45:Vn,48:Vn,49:Vn,50:Vn,51:Vn,52:Vn,53:Vn,54:Vn,55:Vn,56:Vn,57:Vn,62:hS},eP={91:rM},tP={[-2]:hg,[-1]:hg,32:hg},nP={35:uM,42:Bh,45:[p_,Bh],60:mM,61:p_,95:Bh,96:f_,126:f_},sP={38:mS,92:fS},rP={[-5]:fg,[-4]:fg,[-3]:fg,33:RM,38:mS,42:c0,60:[OO,wM],91:OM,92:[oM,fS],93:My,95:c0,96:YO},iP={null:[c0,KM]},aP={null:[42,95]},lP={null:[]},oP=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:aP,contentInitial:eP,disable:lP,document:ZM,flow:nP,flowInitial:tP,insideSpan:iP,string:sP,text:rP},Symbol.toStringTag,{value:"Module"}));function cP(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},o=[];let u=[],h=[];const m={attempt:z(W),check:z(G),consume:P,enter:q,exit:te,interrupt:z(G,{interrupt:!0})},p={code:null,containerState:{},defineSkip:k,events:[],now:S,parser:t,previous:null,sliceSerialize:w,sliceStream:v,write:b};let x=e.tokenize.call(p,m);return e.resolveAll&&o.push(e),p;function b(C){return u=ys(u,C),R(),u[u.length-1]!==null?[]:(I(e,0),p.events=$f(o,p.events,p),p.events)}function w(C,O){return dP(v(C),O)}function v(C){return uP(u,C)}function S(){const{_bufferIndex:C,_index:O,line:D,column:ue,offset:oe}=r;return{_bufferIndex:C,_index:O,line:D,column:ue,offset:oe}}function k(C){a[C.line]=C.column,A()}function R(){let C;for(;r._index<u.length;){const O=u[r._index];if(typeof O=="string")for(C=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===C&&r._bufferIndex<O.length;)M(O.charCodeAt(r._bufferIndex));else M(O)}}function M(C){x=x(C)}function P(C){Ee(C)?(r.line++,r.column=1,r.offset+=C===-3?2:1,A()):C!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),p.previous=C}function q(C,O){const D=O||{};return D.type=C,D.start=S(),p.events.push(["enter",D,p]),h.push(D),D}function te(C){const O=h.pop();return O.end=S(),p.events.push(["exit",O,p]),O}function W(C,O){I(C,O.from)}function G(C,O){O.restore()}function z(C,O){return D;function D(ue,oe,K){let ce,ge,Re,F;return Array.isArray(ue)?Ve(ue):"tokenize"in ue?Ve([ue]):Ze(ue);function Ze(Je){return wt;function wt(jt){const Nt=jt!==null&&Je[jt],ns=jt!==null&&Je.null,Es=[...Array.isArray(Nt)?Nt:Nt?[Nt]:[],...Array.isArray(ns)?ns:ns?[ns]:[]];return Ve(Es)(jt)}}function Ve(Je){return ce=Je,ge=0,Je.length===0?K:V(Je[ge])}function V(Je){return wt;function wt(jt){return F=L(),Re=Je,Je.partial||(p.currentConstruct=Je),Je.name&&p.parser.constructs.disable.null.includes(Je.name)?st():Je.tokenize.call(O?Object.assign(Object.create(p),O):p,m,ke,st)(jt)}}function ke(Je){return C(Re,F),oe}function st(Je){return F.restore(),++ge<ce.length?V(ce[ge]):K}}}function I(C,O){C.resolveAll&&!o.includes(C)&&o.push(C),C.resolve&&ts(p.events,O,p.events.length-O,C.resolve(p.events.slice(O),p)),C.resolveTo&&(p.events=C.resolveTo(p.events,p))}function L(){const C=S(),O=p.previous,D=p.currentConstruct,ue=p.events.length,oe=Array.from(h);return{from:ue,restore:K};function K(){r=C,p.previous=O,p.currentConstruct=D,p.events.length=ue,h=oe,A()}}function A(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function uP(t,e){const n=e.start._index,r=e.start._bufferIndex,a=e.end._index,o=e.end._bufferIndex;let u;if(n===a)u=[t[n].slice(r,o)];else{if(u=t.slice(n,a),r>-1){const h=u[0];typeof h=="string"?u[0]=h.slice(r):u.shift()}o>0&&u.push(t[a].slice(0,o))}return u}function dP(t,e){let n=-1;const r=[];let a;for(;++n<t.length;){const o=t[n];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&a)continue;u=" ";break}default:u=String.fromCharCode(o)}a=o===-2,r.push(u)}return r.join("")}function hP(t){const r={constructs:uS([oP,...(t||{}).extensions||[]]),content:a(AO),defined:[],document:a(jO),flow:a(YM),lazy:{},string:a(XM),text:a(WM)};return r;function a(o){return u;function u(h){return cP(r,o,h)}}}function fP(t){for(;!pS(t););return t}const g_=/[\0\t\n\r]/g;function mP(){let t=1,e="",n=!0,r;return a;function a(o,u,h){const m=[];let p,x,b,w,v;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),b=0,e="",n&&(o.charCodeAt(0)===65279&&b++,n=void 0);b<o.length;){if(g_.lastIndex=b,p=g_.exec(o),w=p&&p.index!==void 0?p.index:o.length,v=o.charCodeAt(w),!p){e=o.slice(b);break}if(v===10&&b===w&&r)m.push(-3),r=void 0;else switch(r&&(m.push(-5),r=void 0),b<w&&(m.push(o.slice(b,w)),t+=w-b),v){case 0:{m.push(65533),t++;break}case 9:{for(x=Math.ceil(t/4)*4,m.push(-2);t++<x;)m.push(-1);break}case 10:{m.push(-4),t=1;break}default:r=!0,t=1}b=w+1}return h&&(r&&m.push(-5),e&&m.push(e),m.push(null)),m}}const pP=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function gP(t){return t.replace(pP,yP)}function yP(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),o=a===120||a===88;return dS(n.slice(o?2:1),o?16:10)}return Oy(n)||t}const wS={}.hasOwnProperty;function xP(t,e,n){return typeof e!="string"&&(n=e,e=void 0),bP(n)(fP(hP(n).document().write(mP()(t,e,!0))))}function bP(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(St),autolinkProtocol:L,autolinkEmail:L,atxHeading:o(li),blockQuote:o(ns),characterEscape:L,characterReference:L,codeFenced:o(Es),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(Es,u),codeText:o(ii,u),codeTextData:L,data:L,codeFlowValue:L,definition:o(ai),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(ss),hardBreakEscape:o(qs),hardBreakTrailing:o(qs),htmlFlow:o(oi,u),htmlFlowData:L,htmlText:o(oi,u),htmlTextData:L,image:o(ba),label:u,link:o(St),listItem:o(Hs),listItemValue:w,listOrdered:o(kt,b),listUnordered:o(kt),paragraph:o(Fo),reference:V,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o(li),strong:o(ml),thematicBreak:o(Nr)},exit:{atxHeading:m(),atxHeadingSequence:W,autolink:m(),autolinkEmail:Nt,autolinkProtocol:jt,blockQuote:m(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:st,characterReferenceMarkerNumeric:st,characterReferenceValue:Je,characterReference:wt,codeFenced:m(R),codeFencedFence:k,codeFencedFenceInfo:v,codeFencedFenceMeta:S,codeFlowValue:A,codeIndented:m(M),codeText:m(oe),codeTextData:A,data:A,definition:m(),definitionDestinationString:te,definitionLabelString:P,definitionTitleString:q,emphasis:m(),hardBreakEscape:m(O),hardBreakTrailing:m(O),htmlFlow:m(D),htmlFlowData:A,htmlText:m(ue),htmlTextData:A,image:m(ce),label:Re,labelText:ge,lineEnding:C,link:m(K),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:ke,resourceDestinationString:F,resourceTitleString:Ze,resource:Ve,setextHeading:m(I),setextHeadingLineSequence:z,setextHeadingText:G,strong:m(),thematicBreak:m()}};_S(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(se){let he={type:"root",children:[]};const _e={stack:[he],tokenStack:[],config:e,enter:h,exit:p,buffer:u,resume:x,data:n},Le=[];let et=-1;for(;++et<se.length;)if(se[et][1].type==="listOrdered"||se[et][1].type==="listUnordered")if(se[et][0]==="enter")Le.push(et);else{const gn=Le.pop();et=a(se,gn,et)}for(et=-1;++et<se.length;){const gn=e[se[et][0]];wS.call(gn,se[et][1].type)&&gn[se[et][1].type].call(Object.assign({sliceSerialize:se[et][2].sliceSerialize},_e),se[et][1])}if(_e.tokenStack.length>0){const gn=_e.tokenStack[_e.tokenStack.length-1];(gn[1]||y_).call(_e,void 0,gn[0])}for(he.position={start:Fi(se.length>0?se[0][1].start:{line:1,column:1,offset:0}),end:Fi(se.length>0?se[se.length-2][1].end:{line:1,column:1,offset:0})},et=-1;++et<e.transforms.length;)he=e.transforms[et](he)||he;return he}function a(se,he,_e){let Le=he-1,et=-1,gn=!1,rs,Dt,Tt,tn;for(;++Le<=_e;){const Ye=se[Le];switch(Ye[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ye[0]==="enter"?et++:et--,tn=void 0;break}case"lineEndingBlank":{Ye[0]==="enter"&&(rs&&!tn&&!et&&!Tt&&(Tt=Le),tn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:tn=void 0}if(!et&&Ye[0]==="enter"&&Ye[1].type==="listItemPrefix"||et===-1&&Ye[0]==="exit"&&(Ye[1].type==="listUnordered"||Ye[1].type==="listOrdered")){if(rs){let Ns=Le;for(Dt=void 0;Ns--;){const yn=se[Ns];if(yn[1].type==="lineEnding"||yn[1].type==="lineEndingBlank"){if(yn[0]==="exit")continue;Dt&&(se[Dt][1].type="lineEndingBlank",gn=!0),yn[1].type="lineEnding",Dt=Ns}else if(!(yn[1].type==="linePrefix"||yn[1].type==="blockQuotePrefix"||yn[1].type==="blockQuotePrefixWhitespace"||yn[1].type==="blockQuoteMarker"||yn[1].type==="listItemIndent"))break}Tt&&(!Dt||Tt<Dt)&&(rs._spread=!0),rs.end=Object.assign({},Dt?se[Dt][1].start:Ye[1].end),se.splice(Dt||Le,0,["exit",rs,Ye[2]]),Le++,_e++}if(Ye[1].type==="listItemPrefix"){const Ns={type:"listItem",_spread:!1,start:Object.assign({},Ye[1].start),end:void 0};rs=Ns,se.splice(Le,0,["enter",Ns,Ye[2]]),Le++,_e++,Tt=void 0,tn=!0}}}return se[he][1]._spread=gn,_e}function o(se,he){return _e;function _e(Le){h.call(this,se(Le),Le),he&&he.call(this,Le)}}function u(){this.stack.push({type:"fragment",children:[]})}function h(se,he,_e){this.stack[this.stack.length-1].children.push(se),this.stack.push(se),this.tokenStack.push([he,_e||void 0]),se.position={start:Fi(he.start),end:void 0}}function m(se){return he;function he(_e){se&&se.call(this,_e),p.call(this,_e)}}function p(se,he){const _e=this.stack.pop(),Le=this.tokenStack.pop();if(Le)Le[0].type!==se.type&&(he?he.call(this,se,Le[0]):(Le[1]||y_).call(this,se,Le[0]));else throw new Error("Cannot close `"+se.type+"` ("+lu({start:se.start,end:se.end})+"): its not open");_e.position.end=Fi(se.end)}function x(){return Dy(this.stack.pop())}function b(){this.data.expectingFirstListItemValue=!0}function w(se){if(this.data.expectingFirstListItemValue){const he=this.stack[this.stack.length-2];he.start=Number.parseInt(this.sliceSerialize(se),10),this.data.expectingFirstListItemValue=void 0}}function v(){const se=this.resume(),he=this.stack[this.stack.length-1];he.lang=se}function S(){const se=this.resume(),he=this.stack[this.stack.length-1];he.meta=se}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function R(){const se=this.resume(),he=this.stack[this.stack.length-1];he.value=se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function M(){const se=this.resume(),he=this.stack[this.stack.length-1];he.value=se.replace(/(\r?\n|\r)$/g,"")}function P(se){const he=this.resume(),_e=this.stack[this.stack.length-1];_e.label=he,_e.identifier=Vs(this.sliceSerialize(se)).toLowerCase()}function q(){const se=this.resume(),he=this.stack[this.stack.length-1];he.title=se}function te(){const se=this.resume(),he=this.stack[this.stack.length-1];he.url=se}function W(se){const he=this.stack[this.stack.length-1];if(!he.depth){const _e=this.sliceSerialize(se).length;he.depth=_e}}function G(){this.data.setextHeadingSlurpLineEnding=!0}function z(se){const he=this.stack[this.stack.length-1];he.depth=this.sliceSerialize(se).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function L(se){const _e=this.stack[this.stack.length-1].children;let Le=_e[_e.length-1];(!Le||Le.type!=="text")&&(Le=ln(),Le.position={start:Fi(se.start),end:void 0},_e.push(Le)),this.stack.push(Le)}function A(se){const he=this.stack.pop();he.value+=this.sliceSerialize(se),he.position.end=Fi(se.end)}function C(se){const he=this.stack[this.stack.length-1];if(this.data.atHardBreak){const _e=he.children[he.children.length-1];_e.position.end=Fi(se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(he.type)&&(L.call(this,se),A.call(this,se))}function O(){this.data.atHardBreak=!0}function D(){const se=this.resume(),he=this.stack[this.stack.length-1];he.value=se}function ue(){const se=this.resume(),he=this.stack[this.stack.length-1];he.value=se}function oe(){const se=this.resume(),he=this.stack[this.stack.length-1];he.value=se}function K(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=he,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function ce(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=he,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function ge(se){const he=this.sliceSerialize(se),_e=this.stack[this.stack.length-2];_e.label=gP(he),_e.identifier=Vs(he).toLowerCase()}function Re(){const se=this.stack[this.stack.length-1],he=this.resume(),_e=this.stack[this.stack.length-1];if(this.data.inReference=!0,_e.type==="link"){const Le=se.children;_e.children=Le}else _e.alt=he}function F(){const se=this.resume(),he=this.stack[this.stack.length-1];he.url=se}function Ze(){const se=this.resume(),he=this.stack[this.stack.length-1];he.title=se}function Ve(){this.data.inReference=void 0}function V(){this.data.referenceType="collapsed"}function ke(se){const he=this.resume(),_e=this.stack[this.stack.length-1];_e.label=he,_e.identifier=Vs(this.sliceSerialize(se)).toLowerCase(),this.data.referenceType="full"}function st(se){this.data.characterReferenceType=se.type}function Je(se){const he=this.sliceSerialize(se),_e=this.data.characterReferenceType;let Le;_e?(Le=dS(he,_e==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Le=Oy(he);const et=this.stack[this.stack.length-1];et.value+=Le}function wt(se){const he=this.stack.pop();he.position.end=Fi(se.end)}function jt(se){A.call(this,se);const he=this.stack[this.stack.length-1];he.url=this.sliceSerialize(se)}function Nt(se){A.call(this,se);const he=this.stack[this.stack.length-1];he.url="mailto:"+this.sliceSerialize(se)}function ns(){return{type:"blockquote",children:[]}}function Es(){return{type:"code",lang:null,meta:null,value:""}}function ii(){return{type:"inlineCode",value:""}}function ai(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ss(){return{type:"emphasis",children:[]}}function li(){return{type:"heading",depth:0,children:[]}}function qs(){return{type:"break"}}function oi(){return{type:"html",value:""}}function ba(){return{type:"image",title:null,url:"",alt:null}}function St(){return{type:"link",title:null,url:"",children:[]}}function kt(se){return{type:"list",ordered:se.type==="listOrdered",start:null,spread:se._spread,children:[]}}function Hs(se){return{type:"listItem",spread:se._spread,checked:null,children:[]}}function Fo(){return{type:"paragraph",children:[]}}function ml(){return{type:"strong",children:[]}}function ln(){return{type:"text",value:""}}function Nr(){return{type:"thematicBreak"}}}function Fi(t){return{line:t.line,column:t.column,offset:t.offset}}function _S(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?_S(t,r):vP(t,r)}}function vP(t,e){let n;for(n in e)if(wS.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function y_(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+lu({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+lu({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+lu({start:e.start,end:e.end})+") is still open")}function wP(t){const e=this;e.parser=n;function n(r){return xP(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function _P(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function EP(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function NP(t,e){const n=e.value?e.value+`
`:"",r={},a=e.lang?e.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(o.data={meta:e.meta}),t.patch(e,o),o=t.applyData(e,o),o={type:"element",tagName:"pre",properties:{},children:[o]},t.patch(e,o),o}function SP(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function TP(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function AP(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),a=Vo(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let u,h=t.footnoteCounts.get(r);h===void 0?(h=0,t.footnoteOrder.push(r),u=t.footnoteOrder.length):u=o+1,h+=1,t.footnoteCounts.set(r,h);const m={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,m);const p={type:"element",tagName:"sup",properties:{},children:[m]};return t.patch(e,p),t.applyData(e,p)}function CP(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function jP(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function ES(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const a=t.all(e),o=a[0];o&&o.type==="text"?o.value="["+o.value:a.unshift({type:"text",value:"["});const u=a[a.length-1];return u&&u.type==="text"?u.value+=r:a.push({type:"text",value:r}),a}function kP(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return ES(t,e);const a={src:Vo(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const o={type:"element",tagName:"img",properties:a,children:[]};return t.patch(e,o),t.applyData(e,o)}function IP(t,e){const n={src:Vo(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function RP(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function DP(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return ES(t,e);const a={href:Vo(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const o={type:"element",tagName:"a",properties:a,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function OP(t,e){const n={href:Vo(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function MP(t,e,n){const r=t.all(e),a=n?PP(n):NS(e),o={},u=[];if(typeof e.checked=="boolean"){const x=r[0];let b;x&&x.type==="element"&&x.tagName==="p"?b=x:(b={type:"element",tagName:"p",properties:{},children:[]},r.unshift(b)),b.children.length>0&&b.children.unshift({type:"text",value:" "}),b.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let h=-1;for(;++h<r.length;){const x=r[h];(a||h!==0||x.type!=="element"||x.tagName!=="p")&&u.push({type:"text",value:`
`}),x.type==="element"&&x.tagName==="p"&&!a?u.push(...x.children):u.push(x)}const m=r[r.length-1];m&&(a||m.type!=="element"||m.tagName!=="p")&&u.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:o,children:u};return t.patch(e,p),t.applyData(e,p)}function PP(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=NS(n[r])}return e}function NS(t){const e=t.spread;return e??t.children.length>1}function LP(t,e){const n={},r=t.all(e);let a=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++a<r.length;){const u=r[a];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function VP(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function zP(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function UP(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function FP(t,e){const n=t.all(e),r=n.shift(),a=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],u),a.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},h=jy(e.children[1]),m=sS(e.children[e.children.length-1]);h&&m&&(u.position={start:h,end:m}),a.push(u)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(e,o),t.applyData(e,o)}function BP(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,h=u?u.length:e.children.length;let m=-1;const p=[];for(;++m<h;){const b=e.children[m],w={},v=u?u[m]:void 0;v&&(w.align=v);let S={type:"element",tagName:o,properties:w,children:[]};b&&(S.children=t.all(b),t.patch(b,S),S=t.applyData(b,S)),p.push(S)}const x={type:"element",tagName:"tr",properties:{},children:t.wrap(p,!0)};return t.patch(e,x),t.applyData(e,x)}function qP(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const x_=9,b_=32;function HP(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),a=0;const o=[];for(;r;)o.push(v_(e.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(e);return o.push(v_(e.slice(a),a>0,!1)),o.join("")}function v_(t,e,n){let r=0,a=t.length;if(e){let o=t.codePointAt(r);for(;o===x_||o===b_;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(a-1);for(;o===x_||o===b_;)a--,o=t.codePointAt(a-1)}return a>r?t.slice(r,a):""}function GP(t,e){const n={type:"text",value:HP(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function $P(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const YP={blockquote:_P,break:EP,code:NP,delete:SP,emphasis:TP,footnoteReference:AP,heading:CP,html:jP,imageReference:kP,image:IP,inlineCode:RP,linkReference:DP,link:OP,listItem:MP,list:LP,paragraph:VP,root:zP,strong:UP,table:FP,tableCell:qP,tableRow:BP,text:GP,thematicBreak:$P,toml:Sh,yaml:Sh,definition:Sh,footnoteDefinition:Sh};function Sh(){}const SS=-1,Yf=0,cu=1,ff=2,Py=3,Ly=4,Vy=5,zy=6,TS=7,AS=8,w_=typeof self=="object"?self:globalThis,QP=(t,e)=>{const n=(a,o)=>(t.set(o,a),a),r=a=>{if(t.has(a))return t.get(a);const[o,u]=e[a];switch(o){case Yf:case SS:return n(u,a);case cu:{const h=n([],a);for(const m of u)h.push(r(m));return h}case ff:{const h=n({},a);for(const[m,p]of u)h[r(m)]=r(p);return h}case Py:return n(new Date(u),a);case Ly:{const{source:h,flags:m}=u;return n(new RegExp(h,m),a)}case Vy:{const h=n(new Map,a);for(const[m,p]of u)h.set(r(m),r(p));return h}case zy:{const h=n(new Set,a);for(const m of u)h.add(r(m));return h}case TS:{const{name:h,message:m}=u;return n(new w_[h](m),a)}case AS:return n(BigInt(u),a);case"BigInt":return n(Object(BigInt(u)),a);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:h}=new Uint8Array(u);return n(new DataView(h),u)}}return n(new w_[o](u),a)};return r},__=t=>QP(new Map,t)(0),no="",{toString:KP}={},{keys:XP}=Object,$c=t=>{const e=typeof t;if(e!=="object"||!t)return[Yf,e];const n=KP.call(t).slice(8,-1);switch(n){case"Array":return[cu,no];case"Object":return[ff,no];case"Date":return[Py,no];case"RegExp":return[Ly,no];case"Map":return[Vy,no];case"Set":return[zy,no];case"DataView":return[cu,n]}return n.includes("Array")?[cu,n]:n.includes("Error")?[TS,n]:[ff,n]},Th=([t,e])=>t===Yf&&(e==="function"||e==="symbol"),WP=(t,e,n,r)=>{const a=(u,h)=>{const m=r.push(u)-1;return n.set(h,m),m},o=u=>{if(n.has(u))return n.get(u);let[h,m]=$c(u);switch(h){case Yf:{let x=u;switch(m){case"bigint":h=AS,x=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+m);x=null;break;case"undefined":return a([SS],u)}return a([h,x],u)}case cu:{if(m){let w=u;return m==="DataView"?w=new Uint8Array(u.buffer):m==="ArrayBuffer"&&(w=new Uint8Array(u)),a([m,[...w]],u)}const x=[],b=a([h,x],u);for(const w of u)x.push(o(w));return b}case ff:{if(m)switch(m){case"BigInt":return a([m,u.toString()],u);case"Boolean":case"Number":case"String":return a([m,u.valueOf()],u)}if(e&&"toJSON"in u)return o(u.toJSON());const x=[],b=a([h,x],u);for(const w of XP(u))(t||!Th($c(u[w])))&&x.push([o(w),o(u[w])]);return b}case Py:return a([h,u.toISOString()],u);case Ly:{const{source:x,flags:b}=u;return a([h,{source:x,flags:b}],u)}case Vy:{const x=[],b=a([h,x],u);for(const[w,v]of u)(t||!(Th($c(w))||Th($c(v))))&&x.push([o(w),o(v)]);return b}case zy:{const x=[],b=a([h,x],u);for(const w of u)(t||!Th($c(w)))&&x.push(o(w));return b}}const{message:p}=u;return a([h,{name:m,message:p}],u)};return o},E_=(t,{json:e,lossy:n}={})=>{const r=[];return WP(!(e||n),!!e,new Map,r)(t),r},mf=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?__(E_(t,e)):structuredClone(t):(t,e)=>__(E_(t,e));function JP(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function ZP(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function e9(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||JP,r=t.options.footnoteBackLabel||ZP,a=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let m=-1;for(;++m<t.footnoteOrder.length;){const p=t.footnoteById.get(t.footnoteOrder[m]);if(!p)continue;const x=t.all(p),b=String(p.identifier).toUpperCase(),w=Vo(b.toLowerCase());let v=0;const S=[],k=t.footnoteCounts.get(b);for(;k!==void 0&&++v<=k;){S.length>0&&S.push({type:"text",value:" "});let P=typeof n=="string"?n:n(m,v);typeof P=="string"&&(P={type:"text",value:P}),S.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+w+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(m,v),className:["data-footnote-backref"]},children:Array.isArray(P)?P:[P]})}const R=x[x.length-1];if(R&&R.type==="element"&&R.tagName==="p"){const P=R.children[R.children.length-1];P&&P.type==="text"?P.value+=" ":R.children.push({type:"text",value:" "}),R.children.push(...S)}else x.push(...S);const M={type:"element",tagName:"li",properties:{id:e+"fn-"+w},children:t.wrap(x,!0)};t.patch(p,M),h.push(M)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...mf(u),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(h,!0)},{type:"text",value:`
`}]}}const Qf=(function(t){if(t==null)return r9;if(typeof t=="function")return Kf(t);if(typeof t=="object")return Array.isArray(t)?t9(t):n9(t);if(typeof t=="string")return s9(t);throw new Error("Expected function, string, or object as test")});function t9(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Qf(t[n]);return Kf(r);function r(...a){let o=-1;for(;++o<e.length;)if(e[o].apply(this,a))return!0;return!1}}function n9(t){const e=t;return Kf(n);function n(r){const a=r;let o;for(o in t)if(a[o]!==e[o])return!1;return!0}}function s9(t){return Kf(e);function e(n){return n&&n.type===t}}function Kf(t){return e;function e(n,r,a){return!!(i9(n)&&t.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function r9(){return!0}function i9(t){return t!==null&&typeof t=="object"&&"type"in t}const CS=[],a9=!0,u0=!1,l9="skip";function jS(t,e,n,r){let a;typeof e=="function"&&typeof n!="function"?(r=n,n=e):a=e;const o=Qf(a),u=r?-1:1;h(t,void 0,[])();function h(m,p,x){const b=m&&typeof m=="object"?m:{};if(typeof b.type=="string"){const v=typeof b.tagName=="string"?b.tagName:typeof b.name=="string"?b.name:void 0;Object.defineProperty(w,"name",{value:"node ("+(m.type+(v?"<"+v+">":""))+")"})}return w;function w(){let v=CS,S,k,R;if((!e||o(m,p,x[x.length-1]||void 0))&&(v=o9(n(m,x)),v[0]===u0))return v;if("children"in m&&m.children){const M=m;if(M.children&&v[0]!==l9)for(k=(r?M.children.length:-1)+u,R=x.concat(M);k>-1&&k<M.children.length;){const P=M.children[k];if(S=h(P,k,R)(),S[0]===u0)return S;k=typeof S[1]=="number"?S[1]:k+u}}return v}}}function o9(t){return Array.isArray(t)?t:typeof t=="number"?[a9,t]:t==null?CS:[t]}function Uy(t,e,n,r){let a,o,u;typeof e=="function"&&typeof n!="function"?(o=void 0,u=e,a=n):(o=e,u=n,a=r),jS(t,o,h,a);function h(m,p){const x=p[p.length-1],b=x?x.children.indexOf(m):void 0;return u(m,b,x)}}const d0={}.hasOwnProperty,c9={};function u9(t,e){const n=e||c9,r=new Map,a=new Map,o=new Map,u={...YP,...n.handlers},h={all:p,applyData:h9,definitionById:r,footnoteById:a,footnoteCounts:o,footnoteOrder:[],handlers:u,one:m,options:n,patch:d9,wrap:m9};return Uy(t,function(x){if(x.type==="definition"||x.type==="footnoteDefinition"){const b=x.type==="definition"?r:a,w=String(x.identifier).toUpperCase();b.has(w)||b.set(w,x)}}),h;function m(x,b){const w=x.type,v=h.handlers[w];if(d0.call(h.handlers,w)&&v)return v(h,x,b);if(h.options.passThrough&&h.options.passThrough.includes(w)){if("children"in x){const{children:k,...R}=x,M=mf(R);return M.children=h.all(x),M}return mf(x)}return(h.options.unknownHandler||f9)(h,x,b)}function p(x){const b=[];if("children"in x){const w=x.children;let v=-1;for(;++v<w.length;){const S=h.one(w[v],x);if(S){if(v&&w[v-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=N_(S.value)),!Array.isArray(S)&&S.type==="element")){const k=S.children[0];k&&k.type==="text"&&(k.value=N_(k.value))}Array.isArray(S)?b.push(...S):b.push(S)}}}return b}}function d9(t,e){t.position&&(e.position=Z6(t))}function h9(t,e){let n=e;if(t&&t.data){const r=t.data.hName,a=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&o&&Object.assign(n.properties,mf(o)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function f9(t,e){const n=e.data||{},r="value"in e&&!(d0.call(n,"hProperties")||d0.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function m9(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function N_(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function S_(t,e){const n=u9(t,e),r=n.one(t,void 0),a=e9(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&o.children.push({type:"text",value:`
`},a),o}function p9(t,e){return t&&"run"in t?async function(n,r){const a=S_(n,{file:r,...e});await t.run(a,r)}:function(n,r){return S_(n,{file:r,...t||e})}}function T_(t){if(t)throw t}var mg,A_;function g9(){if(A_)return mg;A_=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(p){return typeof Array.isArray=="function"?Array.isArray(p):e.call(p)==="[object Array]"},o=function(p){if(!p||e.call(p)!=="[object Object]")return!1;var x=t.call(p,"constructor"),b=p.constructor&&p.constructor.prototype&&t.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!x&&!b)return!1;var w;for(w in p);return typeof w>"u"||t.call(p,w)},u=function(p,x){n&&x.name==="__proto__"?n(p,x.name,{enumerable:!0,configurable:!0,value:x.newValue,writable:!0}):p[x.name]=x.newValue},h=function(p,x){if(x==="__proto__")if(t.call(p,x)){if(r)return r(p,x).value}else return;return p[x]};return mg=function m(){var p,x,b,w,v,S,k=arguments[0],R=1,M=arguments.length,P=!1;for(typeof k=="boolean"&&(P=k,k=arguments[1]||{},R=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});R<M;++R)if(p=arguments[R],p!=null)for(x in p)b=h(k,x),w=h(p,x),k!==w&&(P&&w&&(o(w)||(v=a(w)))?(v?(v=!1,S=b&&a(b)?b:[]):S=b&&o(b)?b:{},u(k,{name:x,newValue:m(P,S,w)})):typeof w<"u"&&u(k,{name:x,newValue:w}));return k},mg}var y9=g9();const pg=x0(y9);function h0(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function x9(){const t=[],e={run:n,use:r};return e;function n(...a){let o=-1;const u=a.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);h(null,...a);function h(m,...p){const x=t[++o];let b=-1;if(m){u(m);return}for(;++b<a.length;)(p[b]===null||p[b]===void 0)&&(p[b]=a[b]);a=p,x?b9(x,h)(...p):u(null,...p)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),e}}function b9(t,e){let n;return r;function r(...u){const h=t.length>u.length;let m;h&&u.push(a);try{m=t.apply(this,u)}catch(p){const x=p;if(h&&n)throw x;return a(x)}h||(m&&m.then&&typeof m.then=="function"?m.then(o,a):m instanceof Error?a(m):o(m))}function a(u,...h){n||(n=!0,e(u,...h))}function o(u){a(null,u)}}const hr={basename:v9,dirname:w9,extname:_9,join:E9,sep:"/"};function v9(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');$u(t);let n=0,r=-1,a=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;a--;)if(t.codePointAt(a)===47){if(o){n=a+1;break}}else r<0&&(o=!0,r=a+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let u=-1,h=e.length-1;for(;a--;)if(t.codePointAt(a)===47){if(o){n=a+1;break}}else u<0&&(o=!0,u=a+1),h>-1&&(t.codePointAt(a)===e.codePointAt(h--)?h<0&&(r=a):(h=-1,r=u));return n===r?r=u:r<0&&(r=t.length),t.slice(n,r)}function w9(t){if($u(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function _9(t){$u(t);let e=t.length,n=-1,r=0,a=-1,o=0,u;for(;e--;){const h=t.codePointAt(e);if(h===47){if(u){r=e+1;break}continue}n<0&&(u=!0,n=e+1),h===46?a<0?a=e:o!==1&&(o=1):a>-1&&(o=-1)}return a<0||n<0||o===0||o===1&&a===n-1&&a===r+1?"":t.slice(a,n)}function E9(...t){let e=-1,n;for(;++e<t.length;)$u(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":N9(n)}function N9(t){$u(t);const e=t.codePointAt(0)===47;let n=S9(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function S9(t,e){let n="",r=0,a=-1,o=0,u=-1,h,m;for(;++u<=t.length;){if(u<t.length)h=t.codePointAt(u);else{if(h===47)break;h=47}if(h===47){if(!(a===u-1||o===1))if(a!==u-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(m=n.lastIndexOf("/"),m!==n.length-1){m<0?(n="",r=0):(n=n.slice(0,m),r=n.length-1-n.lastIndexOf("/")),a=u,o=0;continue}}else if(n.length>0){n="",r=0,a=u,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(a+1,u):n=t.slice(a+1,u),r=u-a-1;a=u,o=0}else h===46&&o>-1?o++:o=-1}return n}function $u(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const T9={cwd:A9};function A9(){return"/"}function f0(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function C9(t){if(typeof t=="string")t=new URL(t);else if(!f0(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return j9(t)}function j9(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(e)}const gg=["history","path","basename","stem","extname","dirname"];class kS{constructor(e){let n;e?f0(e)?n={path:e}:typeof e=="string"||k9(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":T9.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<gg.length;){const o=gg[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let a;for(a in n)gg.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?hr.basename(this.path):void 0}set basename(e){xg(e,"basename"),yg(e,"basename"),this.path=hr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?hr.dirname(this.path):void 0}set dirname(e){C_(this.basename,"dirname"),this.path=hr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?hr.extname(this.path):void 0}set extname(e){if(yg(e,"extname"),C_(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=hr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){f0(e)&&(e=C9(e)),xg(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?hr.basename(this.path,this.extname):void 0}set stem(e){xg(e,"stem"),yg(e,"stem"),this.path=hr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const a=this.message(e,n,r);throw a.fatal=!0,a}info(e,n,r){const a=this.message(e,n,r);return a.fatal=void 0,a}message(e,n,r){const a=new Sn(e,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function yg(t,e){if(t&&t.includes(hr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+hr.sep+"`")}function xg(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function C_(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function k9(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const I9=(function(t){const r=this.constructor.prototype,a=r[t],o=function(){return a.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),R9={}.hasOwnProperty;class Fy extends I9{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=x9()}copy(){const e=new Fy;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(pg(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(wg("data",this.frozen),this.namespace[e]=n,this):R9.call(this.namespace,e)&&this.namespace[e]||void 0:e?(wg("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(e,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Ah(e),r=this.parser||this.Parser;return bg("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),bg("process",this.parser||this.Parser),vg("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(o,u){const h=Ah(e),m=r.parse(h);r.run(m,h,function(x,b,w){if(x||!b||!w)return p(x);const v=b,S=r.stringify(v,w);M9(S)?w.value=S:w.result=S,p(x,w)});function p(x,b){x||!b?u(x):o?o(b):n(void 0,b)}}}processSync(e){let n=!1,r;return this.freeze(),bg("processSync",this.parser||this.Parser),vg("processSync",this.compiler||this.Compiler),this.process(e,a),k_("processSync","process",n),r;function a(o,u){n=!0,T_(o),r=u}}run(e,n,r){j_(e),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(u,h){const m=Ah(n);a.run(e,m,p);function p(x,b,w){const v=b||e;x?h(x):u?u(v):r(void 0,v,w)}}}runSync(e,n){let r=!1,a;return this.run(e,n,o),k_("runSync","run",r),a;function o(u,h){T_(u),a=h,r=!0}}stringify(e,n){this.freeze();const r=Ah(n),a=this.compiler||this.Compiler;return vg("stringify",a),j_(e),a(e,r)}use(e,...n){const r=this.attachers,a=this.namespace;if(wg("use",this.frozen),e!=null)if(typeof e=="function")m(e,n);else if(typeof e=="object")Array.isArray(e)?h(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(p){if(typeof p=="function")m(p,[]);else if(typeof p=="object")if(Array.isArray(p)){const[x,...b]=p;m(x,b)}else u(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function u(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(p.plugins),p.settings&&(a.settings=pg(!0,a.settings,p.settings))}function h(p){let x=-1;if(p!=null)if(Array.isArray(p))for(;++x<p.length;){const b=p[x];o(b)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function m(p,x){let b=-1,w=-1;for(;++b<r.length;)if(r[b][0]===p){w=b;break}if(w===-1)r.push([p,...x]);else if(x.length>0){let[v,...S]=x;const k=r[w][1];h0(k)&&h0(v)&&(v=pg(!0,k,v)),r[w]=[p,v,...S]}}}}const D9=new Fy().freeze();function bg(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function vg(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function wg(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function j_(t){if(!h0(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function k_(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Ah(t){return O9(t)?t:new kS(t)}function O9(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function M9(t){return typeof t=="string"||P9(t)}function P9(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const L9="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",I_=[],R_={allowDangerousHtml:!0},V9=/^(https?|ircs?|mailto|xmpp)$/i,z9=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function zo(t){const e=U9(t),n=F9(t);return B9(e.runSync(e.parse(n),n),t)}function U9(t){const e=t.rehypePlugins||I_,n=t.remarkPlugins||I_,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...R_}:R_;return D9().use(wP).use(n).use(p9,r).use(e)}function F9(t){const e=t.children||"",n=new kS;return typeof e=="string"&&(n.value=e),n}function B9(t,e){const n=e.allowedElements,r=e.allowElement,a=e.components,o=e.disallowedElements,u=e.skipHtml,h=e.unwrapDisallowed,m=e.urlTransform||q9;for(const x of z9)Object.hasOwn(e,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+L9+x.id,void 0);return Uy(t,p),rO(t,{Fragment:c.Fragment,components:a,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function p(x,b,w){if(x.type==="raw"&&w&&typeof b=="number")return u?w.children.splice(b,1):w.children[b]={type:"text",value:x.value},b;if(x.type==="element"){let v;for(v in dg)if(Object.hasOwn(dg,v)&&Object.hasOwn(x.properties,v)){const S=x.properties[v],k=dg[v];(k===null||k.includes(x.tagName))&&(x.properties[v]=m(String(S||""),v,x))}}if(x.type==="element"){let v=n?!n.includes(x.tagName):o?o.includes(x.tagName):!1;if(!v&&r&&typeof b=="number"&&(v=!r(x,b,w)),v&&w&&typeof b=="number")return h&&x.children?w.children.splice(b,1,...x.children):w.children.splice(b,1),b}}}function q9(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),a=t.indexOf("/");return e===-1||a!==-1&&e>a||n!==-1&&e>n||r!==-1&&e>r||V9.test(t.slice(0,e))?t:""}function D_(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(e);for(;a!==-1;)r++,a=n.indexOf(e,a+e.length);return r}function H9(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function G9(t,e,n){const a=Qf((n||{}).ignore||[]),o=$9(e);let u=-1;for(;++u<o.length;)jS(t,"text",h);function h(p,x){let b=-1,w;for(;++b<x.length;){const v=x[b],S=w?w.children:void 0;if(a(v,S?S.indexOf(v):void 0,w))return;w=v}if(w)return m(p,x)}function m(p,x){const b=x[x.length-1],w=o[u][0],v=o[u][1];let S=0;const R=b.children.indexOf(p);let M=!1,P=[];w.lastIndex=0;let q=w.exec(p.value);for(;q;){const te=q.index,W={index:q.index,input:q.input,stack:[...x,p]};let G=v(...q,W);if(typeof G=="string"&&(G=G.length>0?{type:"text",value:G}:void 0),G===!1?w.lastIndex=te+1:(S!==te&&P.push({type:"text",value:p.value.slice(S,te)}),Array.isArray(G)?P.push(...G):G&&P.push(G),S=te+q[0].length,M=!0),!w.global)break;q=w.exec(p.value)}return M?(S<p.value.length&&P.push({type:"text",value:p.value.slice(S)}),b.children.splice(R,1,...P)):P=[p],R+P.length}}function $9(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const a=n[r];e.push([Y9(a[0]),Q9(a[1])])}return e}function Y9(t){return typeof t=="string"?new RegExp(H9(t),"g"):t}function Q9(t){return typeof t=="function"?t:function(){return t}}const _g="phrasing",Eg=["autolink","link","image","label"];function K9(){return{transforms:[n8],enter:{literalAutolink:W9,literalAutolinkEmail:Ng,literalAutolinkHttp:Ng,literalAutolinkWww:Ng},exit:{literalAutolink:t8,literalAutolinkEmail:e8,literalAutolinkHttp:J9,literalAutolinkWww:Z9}}}function X9(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:_g,notInConstruct:Eg},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:_g,notInConstruct:Eg},{character:":",before:"[ps]",after:"\\/",inConstruct:_g,notInConstruct:Eg}]}}function W9(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Ng(t){this.config.enter.autolinkProtocol.call(this,t)}function J9(t){this.config.exit.autolinkProtocol.call(this,t)}function Z9(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function e8(t){this.config.exit.autolinkEmail.call(this,t)}function t8(t){this.exit(t)}function n8(t){G9(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,s8],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),r8]],{ignore:["link","linkReference"]})}function s8(t,e,n,r,a){let o="";if(!IS(a)||(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!i8(n)))return!1;const u=a8(n+r);if(!u[0])return!1;const h={type:"link",title:null,url:o+e+u[0],children:[{type:"text",value:e+u[0]}]};return u[1]?[h,{type:"text",value:u[1]}]:h}function r8(t,e,n,r){return!IS(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function i8(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function a8(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const a=D_(t,"(");let o=D_(t,")");for(;r!==-1&&a>o;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[t,n]}function IS(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||al(n)||Gf(n))&&(!e||n!==47)}RS.peek=p8;function l8(){this.buffer()}function o8(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function c8(){this.buffer()}function u8(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function d8(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Vs(this.sliceSerialize(t)).toLowerCase(),n.label=e}function h8(t){this.exit(t)}function f8(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Vs(this.sliceSerialize(t)).toLowerCase(),n.label=e}function m8(t){this.exit(t)}function p8(){return"["}function RS(t,e,n,r){const a=n.createTracker(r);let o=a.move("[^");const u=n.enter("footnoteReference"),h=n.enter("reference");return o+=a.move(n.safe(n.associationId(t),{after:"]",before:o})),h(),u(),o+=a.move("]"),o}function g8(){return{enter:{gfmFootnoteCallString:l8,gfmFootnoteCall:o8,gfmFootnoteDefinitionLabelString:c8,gfmFootnoteDefinition:u8},exit:{gfmFootnoteCallString:d8,gfmFootnoteCall:h8,gfmFootnoteDefinitionLabelString:f8,gfmFootnoteDefinition:m8}}}function y8(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:RS},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,o,u){const h=o.createTracker(u);let m=h.move("[^");const p=o.enter("footnoteDefinition"),x=o.enter("label");return m+=h.move(o.safe(o.associationId(r),{before:m,after:"]"})),x(),m+=h.move("]:"),r.children&&r.children.length>0&&(h.shift(4),m+=h.move((e?`
`:" ")+o.indentLines(o.containerFlow(r,h.current()),e?DS:x8))),p(),m}}function x8(t,e,n){return e===0?t:DS(t,e,n)}function DS(t,e,n){return(n?"":"    ")+t}const b8=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];OS.peek=N8;function v8(){return{canContainEols:["delete"],enter:{strikethrough:_8},exit:{strikethrough:E8}}}function w8(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:b8}],handlers:{delete:OS}}}function _8(t){this.enter({type:"delete",children:[]},t)}function E8(t){this.exit(t)}function OS(t,e,n,r){const a=n.createTracker(r),o=n.enter("strikethrough");let u=a.move("~~");return u+=n.containerPhrasing(t,{...a.current(),before:u,after:"~"}),u+=a.move("~~"),o(),u}function N8(){return"~"}function S8(t){return t.length}function T8(t,e){const n=e||{},r=(n.align||[]).concat(),a=n.stringLength||S8,o=[],u=[],h=[],m=[];let p=0,x=-1;for(;++x<t.length;){const k=[],R=[];let M=-1;for(t[x].length>p&&(p=t[x].length);++M<t[x].length;){const P=A8(t[x][M]);if(n.alignDelimiters!==!1){const q=a(P);R[M]=q,(m[M]===void 0||q>m[M])&&(m[M]=q)}k.push(P)}u[x]=k,h[x]=R}let b=-1;if(typeof r=="object"&&"length"in r)for(;++b<p;)o[b]=O_(r[b]);else{const k=O_(r);for(;++b<p;)o[b]=k}b=-1;const w=[],v=[];for(;++b<p;){const k=o[b];let R="",M="";k===99?(R=":",M=":"):k===108?R=":":k===114&&(M=":");let P=n.alignDelimiters===!1?1:Math.max(1,m[b]-R.length-M.length);const q=R+"-".repeat(P)+M;n.alignDelimiters!==!1&&(P=R.length+P+M.length,P>m[b]&&(m[b]=P),v[b]=P),w[b]=q}u.splice(1,0,w),h.splice(1,0,v),x=-1;const S=[];for(;++x<u.length;){const k=u[x],R=h[x];b=-1;const M=[];for(;++b<p;){const P=k[b]||"";let q="",te="";if(n.alignDelimiters!==!1){const W=m[b]-(R[b]||0),G=o[b];G===114?q=" ".repeat(W):G===99?W%2?(q=" ".repeat(W/2+.5),te=" ".repeat(W/2-.5)):(q=" ".repeat(W/2),te=q):te=" ".repeat(W)}n.delimiterStart!==!1&&!b&&M.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&P==="")&&(n.delimiterStart!==!1||b)&&M.push(" "),n.alignDelimiters!==!1&&M.push(q),M.push(P),n.alignDelimiters!==!1&&M.push(te),n.padding!==!1&&M.push(" "),(n.delimiterEnd!==!1||b!==p-1)&&M.push("|")}S.push(n.delimiterEnd===!1?M.join("").replace(/ +$/,""):M.join(""))}return S.join(`
`)}function A8(t){return t==null?"":String(t)}function O_(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function C8(t,e,n,r){const a=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const u=n.indentLines(n.containerFlow(t,o.current()),j8);return a(),u}function j8(t,e,n){return">"+(n?"":" ")+t}function k8(t,e){return M_(t,e.inConstruct,!0)&&!M_(t,e.notInConstruct,!1)}function M_(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function P_(t,e,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&k8(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function I8(t,e){const n=String(t);let r=n.indexOf(e),a=r,o=0,u=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++o>u&&(u=o):o=1,a=r+e.length,r=n.indexOf(e,a);return u}function R8(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function D8(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function O8(t,e,n,r){const a=D8(n),o=t.value||"",u=a==="`"?"GraveAccent":"Tilde";if(R8(t,n)){const b=n.enter("codeIndented"),w=n.indentLines(o,M8);return b(),w}const h=n.createTracker(r),m=a.repeat(Math.max(I8(o,a)+1,3)),p=n.enter("codeFenced");let x=h.move(m);if(t.lang){const b=n.enter(`codeFencedLang${u}`);x+=h.move(n.safe(t.lang,{before:x,after:" ",encode:["`"],...h.current()})),b()}if(t.lang&&t.meta){const b=n.enter(`codeFencedMeta${u}`);x+=h.move(" "),x+=h.move(n.safe(t.meta,{before:x,after:`
`,encode:["`"],...h.current()})),b()}return x+=h.move(`
`),o&&(x+=h.move(o+`
`)),x+=h.move(m),p(),x}function M8(t,e,n){return(n?"":"    ")+t}function By(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function P8(t,e,n,r){const a=By(n),o=a==='"'?"Quote":"Apostrophe",u=n.enter("definition");let h=n.enter("label");const m=n.createTracker(r);let p=m.move("[");return p+=m.move(n.safe(n.associationId(t),{before:p,after:"]",...m.current()})),p+=m.move("]: "),h(),!t.url||/[\0- \u007F]/.test(t.url)?(h=n.enter("destinationLiteral"),p+=m.move("<"),p+=m.move(n.safe(t.url,{before:p,after:">",...m.current()})),p+=m.move(">")):(h=n.enter("destinationRaw"),p+=m.move(n.safe(t.url,{before:p,after:t.title?" ":`
`,...m.current()}))),h(),t.title&&(h=n.enter(`title${o}`),p+=m.move(" "+a),p+=m.move(n.safe(t.title,{before:p,after:a,...m.current()})),p+=m.move(a),h()),u(),p}function L8(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Su(t){return"&#x"+t.toString(16).toUpperCase()+";"}function pf(t,e,n){const r=So(t),a=So(e);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}MS.peek=V8;function MS(t,e,n,r){const a=L8(n),o=n.enter("emphasis"),u=n.createTracker(r),h=u.move(a);let m=u.move(n.containerPhrasing(t,{after:a,before:h,...u.current()}));const p=m.charCodeAt(0),x=pf(r.before.charCodeAt(r.before.length-1),p,a);x.inside&&(m=Su(p)+m.slice(1));const b=m.charCodeAt(m.length-1),w=pf(r.after.charCodeAt(0),b,a);w.inside&&(m=m.slice(0,-1)+Su(b));const v=u.move(a);return o(),n.attentionEncodeSurroundingInfo={after:w.outside,before:x.outside},h+m+v}function V8(t,e,n){return n.options.emphasis||"*"}function z8(t,e){let n=!1;return Uy(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,u0}),!!((!t.depth||t.depth<3)&&Dy(t)&&(e.options.setext||n))}function U8(t,e,n,r){const a=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(r);if(z8(t,n)){const x=n.enter("headingSetext"),b=n.enter("phrasing"),w=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return b(),x(),w+`
`+(a===1?"=":"-").repeat(w.length-(Math.max(w.lastIndexOf("\r"),w.lastIndexOf(`
`))+1))}const u="#".repeat(a),h=n.enter("headingAtx"),m=n.enter("phrasing");o.move(u+" ");let p=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(p)&&(p=Su(p.charCodeAt(0))+p.slice(1)),p=p?u+" "+p:u,n.options.closeAtx&&(p+=" "+u),m(),h(),p}PS.peek=F8;function PS(t){return t.value||""}function F8(){return"<"}LS.peek=B8;function LS(t,e,n,r){const a=By(n),o=a==='"'?"Quote":"Apostrophe",u=n.enter("image");let h=n.enter("label");const m=n.createTracker(r);let p=m.move("![");return p+=m.move(n.safe(t.alt,{before:p,after:"]",...m.current()})),p+=m.move("]("),h(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(h=n.enter("destinationLiteral"),p+=m.move("<"),p+=m.move(n.safe(t.url,{before:p,after:">",...m.current()})),p+=m.move(">")):(h=n.enter("destinationRaw"),p+=m.move(n.safe(t.url,{before:p,after:t.title?" ":")",...m.current()}))),h(),t.title&&(h=n.enter(`title${o}`),p+=m.move(" "+a),p+=m.move(n.safe(t.title,{before:p,after:a,...m.current()})),p+=m.move(a),h()),p+=m.move(")"),u(),p}function B8(){return"!"}VS.peek=q8;function VS(t,e,n,r){const a=t.referenceType,o=n.enter("imageReference");let u=n.enter("label");const h=n.createTracker(r);let m=h.move("![");const p=n.safe(t.alt,{before:m,after:"]",...h.current()});m+=h.move(p+"]["),u();const x=n.stack;n.stack=[],u=n.enter("reference");const b=n.safe(n.associationId(t),{before:m,after:"]",...h.current()});return u(),n.stack=x,o(),a==="full"||!p||p!==b?m+=h.move(b+"]"):a==="shortcut"?m=m.slice(0,-1):m+=h.move("]"),m}function q8(){return"!"}zS.peek=H8;function zS(t,e,n){let r=t.value||"",a="`",o=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const u=n.unsafe[o],h=n.compilePattern(u);let m;if(u.atBreak)for(;m=h.exec(r);){let p=m.index;r.charCodeAt(p)===10&&r.charCodeAt(p-1)===13&&p--,r=r.slice(0,p)+" "+r.slice(m.index+1)}}return a+r+a}function H8(){return"`"}function US(t,e){const n=Dy(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}FS.peek=G8;function FS(t,e,n,r){const a=By(n),o=a==='"'?"Quote":"Apostrophe",u=n.createTracker(r);let h,m;if(US(t,n)){const x=n.stack;n.stack=[],h=n.enter("autolink");let b=u.move("<");return b+=u.move(n.containerPhrasing(t,{before:b,after:">",...u.current()})),b+=u.move(">"),h(),n.stack=x,b}h=n.enter("link"),m=n.enter("label");let p=u.move("[");return p+=u.move(n.containerPhrasing(t,{before:p,after:"](",...u.current()})),p+=u.move("]("),m(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(m=n.enter("destinationLiteral"),p+=u.move("<"),p+=u.move(n.safe(t.url,{before:p,after:">",...u.current()})),p+=u.move(">")):(m=n.enter("destinationRaw"),p+=u.move(n.safe(t.url,{before:p,after:t.title?" ":")",...u.current()}))),m(),t.title&&(m=n.enter(`title${o}`),p+=u.move(" "+a),p+=u.move(n.safe(t.title,{before:p,after:a,...u.current()})),p+=u.move(a),m()),p+=u.move(")"),h(),p}function G8(t,e,n){return US(t,n)?"<":"["}BS.peek=$8;function BS(t,e,n,r){const a=t.referenceType,o=n.enter("linkReference");let u=n.enter("label");const h=n.createTracker(r);let m=h.move("[");const p=n.containerPhrasing(t,{before:m,after:"]",...h.current()});m+=h.move(p+"]["),u();const x=n.stack;n.stack=[],u=n.enter("reference");const b=n.safe(n.associationId(t),{before:m,after:"]",...h.current()});return u(),n.stack=x,o(),a==="full"||!p||p!==b?m+=h.move(b+"]"):a==="shortcut"?m=m.slice(0,-1):m+=h.move("]"),m}function $8(){return"["}function qy(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function Y8(t){const e=qy(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Q8(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function qS(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function K8(t,e,n,r){const a=n.enter("list"),o=n.bulletCurrent;let u=t.ordered?Q8(n):qy(n);const h=t.ordered?u==="."?")":".":Y8(n);let m=e&&n.bulletLastUsed?u===n.bulletLastUsed:!1;if(!t.ordered){const x=t.children?t.children[0]:void 0;if((u==="*"||u==="-")&&x&&(!x.children||!x.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(m=!0),qS(n)===u&&x){let b=-1;for(;++b<t.children.length;){const w=t.children[b];if(w&&w.type==="listItem"&&w.children&&w.children[0]&&w.children[0].type==="thematicBreak"){m=!0;break}}}}m&&(u=h),n.bulletCurrent=u;const p=n.containerFlow(t,r);return n.bulletLastUsed=u,n.bulletCurrent=o,a(),p}function X8(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function W8(t,e,n,r){const a=X8(n);let o=n.bulletCurrent||qy(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let u=o.length+1;(a==="tab"||a==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(u=Math.ceil(u/4)*4);const h=n.createTracker(r);h.move(o+" ".repeat(u-o.length)),h.shift(u);const m=n.enter("listItem"),p=n.indentLines(n.containerFlow(t,h.current()),x);return m(),p;function x(b,w,v){return w?(v?"":" ".repeat(u))+b:(v?o:o+" ".repeat(u-o.length))+b}}function J8(t,e,n,r){const a=n.enter("paragraph"),o=n.enter("phrasing"),u=n.containerPhrasing(t,r);return o(),a(),u}const Z8=Qf(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function eL(t,e,n,r){return(t.children.some(function(u){return Z8(u)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function tL(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}HS.peek=nL;function HS(t,e,n,r){const a=tL(n),o=n.enter("strong"),u=n.createTracker(r),h=u.move(a+a);let m=u.move(n.containerPhrasing(t,{after:a,before:h,...u.current()}));const p=m.charCodeAt(0),x=pf(r.before.charCodeAt(r.before.length-1),p,a);x.inside&&(m=Su(p)+m.slice(1));const b=m.charCodeAt(m.length-1),w=pf(r.after.charCodeAt(0),b,a);w.inside&&(m=m.slice(0,-1)+Su(b));const v=u.move(a+a);return o(),n.attentionEncodeSurroundingInfo={after:w.outside,before:x.outside},h+m+v}function nL(t,e,n){return n.options.strong||"*"}function sL(t,e,n,r){return n.safe(t.value,r)}function rL(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function iL(t,e,n){const r=(qS(n)+(n.options.ruleSpaces?" ":"")).repeat(rL(n));return n.options.ruleSpaces?r.slice(0,-1):r}const GS={blockquote:C8,break:P_,code:O8,definition:P8,emphasis:MS,hardBreak:P_,heading:U8,html:PS,image:LS,imageReference:VS,inlineCode:zS,link:FS,linkReference:BS,list:K8,listItem:W8,paragraph:J8,root:eL,strong:HS,text:sL,thematicBreak:iL};function aL(){return{enter:{table:lL,tableData:L_,tableHeader:L_,tableRow:cL},exit:{codeText:uL,table:oL,tableData:Sg,tableHeader:Sg,tableRow:Sg}}}function lL(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function oL(t){this.exit(t),this.data.inTable=void 0}function cL(t){this.enter({type:"tableRow",children:[]},t)}function Sg(t){this.exit(t)}function L_(t){this.enter({type:"tableCell",children:[]},t)}function uL(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,dL));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function dL(t,e){return e==="|"?e:t}function hL(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,a=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:w,table:u,tableCell:m,tableRow:h}};function u(v,S,k,R){return p(x(v,k,R),v.align)}function h(v,S,k,R){const M=b(v,k,R),P=p([M]);return P.slice(0,P.indexOf(`
`))}function m(v,S,k,R){const M=k.enter("tableCell"),P=k.enter("phrasing"),q=k.containerPhrasing(v,{...R,before:o,after:o});return P(),M(),q}function p(v,S){return T8(v,{align:S,alignDelimiters:r,padding:n,stringLength:a})}function x(v,S,k){const R=v.children;let M=-1;const P=[],q=S.enter("table");for(;++M<R.length;)P[M]=b(R[M],S,k);return q(),P}function b(v,S,k){const R=v.children;let M=-1;const P=[],q=S.enter("tableRow");for(;++M<R.length;)P[M]=m(R[M],v,S,k);return q(),P}function w(v,S,k){let R=GS.inlineCode(v,S,k);return k.stack.includes("tableCell")&&(R=R.replace(/\|/g,"\\$&")),R}}function fL(){return{exit:{taskListCheckValueChecked:V_,taskListCheckValueUnchecked:V_,paragraph:pL}}}function mL(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:gL}}}function V_(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function pL(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=e.children;let o=-1,u;for(;++o<a.length;){const h=a[o];if(h.type==="paragraph"){u=h;break}}u===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function gL(t,e,n,r){const a=t.children[0],o=typeof t.checked=="boolean"&&a&&a.type==="paragraph",u="["+(t.checked?"x":" ")+"] ",h=n.createTracker(r);o&&h.move(u);let m=GS.listItem(t,e,n,{...r,...h.current()});return o&&(m=m.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,p)),m;function p(x){return x+u}}function yL(){return[K9(),g8(),v8(),aL(),fL()]}function xL(t){return{extensions:[X9(),y8(t),w8(),hL(t),mL()]}}const bL={tokenize:SL,partial:!0},$S={tokenize:TL,partial:!0},YS={tokenize:AL,partial:!0},QS={tokenize:CL,partial:!0},vL={tokenize:jL,partial:!0},KS={name:"wwwAutolink",tokenize:EL,previous:WS},XS={name:"protocolAutolink",tokenize:NL,previous:JS},ri={name:"emailAutolink",tokenize:_L,previous:ZS},Er={};function wL(){return{text:Er}}let Qa=48;for(;Qa<123;)Er[Qa]=ri,Qa++,Qa===58?Qa=65:Qa===91&&(Qa=97);Er[43]=ri;Er[45]=ri;Er[46]=ri;Er[95]=ri;Er[72]=[ri,XS];Er[104]=[ri,XS];Er[87]=[ri,KS];Er[119]=[ri,KS];function _L(t,e,n){const r=this;let a,o;return u;function u(b){return!m0(b)||!ZS.call(r,r.previous)||Hy(r.events)?n(b):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),h(b))}function h(b){return m0(b)?(t.consume(b),h):b===64?(t.consume(b),m):n(b)}function m(b){return b===46?t.check(vL,x,p)(b):b===45||b===95||_n(b)?(o=!0,t.consume(b),m):x(b)}function p(b){return t.consume(b),a=!0,m}function x(b){return o&&a&&Cn(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(b)):n(b)}}function EL(t,e,n){const r=this;return a;function a(u){return u!==87&&u!==119||!WS.call(r,r.previous)||Hy(r.events)?n(u):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(bL,t.attempt($S,t.attempt(YS,o),n),n)(u))}function o(u){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(u)}}function NL(t,e,n){const r=this;let a="",o=!1;return u;function u(b){return(b===72||b===104)&&JS.call(r,r.previous)&&!Hy(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),a+=String.fromCodePoint(b),t.consume(b),h):n(b)}function h(b){if(Cn(b)&&a.length<5)return a+=String.fromCodePoint(b),t.consume(b),h;if(b===58){const w=a.toLowerCase();if(w==="http"||w==="https")return t.consume(b),m}return n(b)}function m(b){return b===47?(t.consume(b),o?p:(o=!0,m)):n(b)}function p(b){return b===null||hf(b)||pt(b)||al(b)||Gf(b)?n(b):t.attempt($S,t.attempt(YS,x),n)(b)}function x(b){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(b)}}function SL(t,e,n){let r=0;return a;function a(u){return(u===87||u===119)&&r<3?(r++,t.consume(u),a):u===46&&r===3?(t.consume(u),o):n(u)}function o(u){return u===null?n(u):e(u)}}function TL(t,e,n){let r,a,o;return u;function u(p){return p===46||p===95?t.check(QS,m,h)(p):p===null||pt(p)||al(p)||p!==45&&Gf(p)?m(p):(o=!0,t.consume(p),u)}function h(p){return p===95?r=!0:(a=r,r=void 0),t.consume(p),u}function m(p){return a||r||!o?n(p):e(p)}}function AL(t,e){let n=0,r=0;return a;function a(u){return u===40?(n++,t.consume(u),a):u===41&&r<n?o(u):u===33||u===34||u===38||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===60||u===63||u===93||u===95||u===126?t.check(QS,e,o)(u):u===null||pt(u)||al(u)?e(u):(t.consume(u),a)}function o(u){return u===41&&r++,t.consume(u),a}}function CL(t,e,n){return r;function r(h){return h===33||h===34||h===39||h===41||h===42||h===44||h===46||h===58||h===59||h===63||h===95||h===126?(t.consume(h),r):h===38?(t.consume(h),o):h===93?(t.consume(h),a):h===60||h===null||pt(h)||al(h)?e(h):n(h)}function a(h){return h===null||h===40||h===91||pt(h)||al(h)?e(h):r(h)}function o(h){return Cn(h)?u(h):n(h)}function u(h){return h===59?(t.consume(h),r):Cn(h)?(t.consume(h),u):n(h)}}function jL(t,e,n){return r;function r(o){return t.consume(o),a}function a(o){return _n(o)?n(o):e(o)}}function WS(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||pt(t)}function JS(t){return!Cn(t)}function ZS(t){return!(t===47||m0(t))}function m0(t){return t===43||t===45||t===46||t===95||_n(t)}function Hy(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const kL={tokenize:VL,partial:!0};function IL(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:ML,continuation:{tokenize:PL},exit:LL}},text:{91:{name:"gfmFootnoteCall",tokenize:OL},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:RL,resolveTo:DL}}}}function RL(t,e,n){const r=this;let a=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let u;for(;a--;){const m=r.events[a][1];if(m.type==="labelImage"){u=m;break}if(m.type==="gfmFootnoteCall"||m.type==="labelLink"||m.type==="label"||m.type==="image"||m.type==="link")break}return h;function h(m){if(!u||!u._balanced)return n(m);const p=Vs(r.sliceSerialize({start:u.end,end:r.now()}));return p.codePointAt(0)!==94||!o.includes(p.slice(1))?n(m):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),e(m))}}function DL(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},t[t.length-1][1].start)},u={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},h=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",a,e],["exit",a,e],["enter",o,e],["enter",u,e],["exit",u,e],["exit",o,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...h),t}function OL(t,e,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,u;return h;function h(b){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(b),t.exit("gfmFootnoteCallLabelMarker"),m}function m(b){return b!==94?n(b):(t.enter("gfmFootnoteCallMarker"),t.consume(b),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",p)}function p(b){if(o>999||b===93&&!u||b===null||b===91||pt(b))return n(b);if(b===93){t.exit("chunkString");const w=t.exit("gfmFootnoteCallString");return a.includes(Vs(r.sliceSerialize(w)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(b),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(b)}return pt(b)||(u=!0),o++,t.consume(b),b===92?x:p}function x(b){return b===91||b===92||b===93?(t.consume(b),o++,p):p(b)}}function ML(t,e,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,u=0,h;return m;function m(S){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(S),t.exit("gfmFootnoteDefinitionLabelMarker"),p}function p(S){return S===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(S),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",x):n(S)}function x(S){if(u>999||S===93&&!h||S===null||S===91||pt(S))return n(S);if(S===93){t.exit("chunkString");const k=t.exit("gfmFootnoteDefinitionLabelString");return o=Vs(r.sliceSerialize(k)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(S),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),w}return pt(S)||(h=!0),u++,t.consume(S),S===92?b:x}function b(S){return S===91||S===92||S===93?(t.consume(S),u++,x):x(S)}function w(S){return S===58?(t.enter("definitionMarker"),t.consume(S),t.exit("definitionMarker"),a.includes(o)||a.push(o),Xe(t,v,"gfmFootnoteDefinitionWhitespace")):n(S)}function v(S){return e(S)}}function PL(t,e,n){return t.check(Gu,e,t.attempt(kL,e,n))}function LL(t){t.exit("gfmFootnoteDefinition")}function VL(t,e,n){const r=this;return Xe(t,a,"gfmFootnoteDefinitionIndent",5);function a(o){const u=r.events[r.events.length-1];return u&&u[1].type==="gfmFootnoteDefinitionIndent"&&u[2].sliceSerialize(u[1],!0).length===4?e(o):n(o)}}function zL(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:a};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function a(u,h){let m=-1;for(;++m<u.length;)if(u[m][0]==="enter"&&u[m][1].type==="strikethroughSequenceTemporary"&&u[m][1]._close){let p=m;for(;p--;)if(u[p][0]==="exit"&&u[p][1].type==="strikethroughSequenceTemporary"&&u[p][1]._open&&u[m][1].end.offset-u[m][1].start.offset===u[p][1].end.offset-u[p][1].start.offset){u[m][1].type="strikethroughSequence",u[p][1].type="strikethroughSequence";const x={type:"strikethrough",start:Object.assign({},u[p][1].start),end:Object.assign({},u[m][1].end)},b={type:"strikethroughText",start:Object.assign({},u[p][1].end),end:Object.assign({},u[m][1].start)},w=[["enter",x,h],["enter",u[p][1],h],["exit",u[p][1],h],["enter",b,h]],v=h.parser.constructs.insideSpan.null;v&&ts(w,w.length,0,$f(v,u.slice(p+1,m),h)),ts(w,w.length,0,[["exit",b,h],["enter",u[m][1],h],["exit",u[m][1],h],["exit",x,h]]),ts(u,p-1,m-p+3,w),m=p+w.length-2;break}}for(m=-1;++m<u.length;)u[m][1].type==="strikethroughSequenceTemporary"&&(u[m][1].type="data");return u}function o(u,h,m){const p=this.previous,x=this.events;let b=0;return w;function w(S){return p===126&&x[x.length-1][1].type!=="characterEscape"?m(S):(u.enter("strikethroughSequenceTemporary"),v(S))}function v(S){const k=So(p);if(S===126)return b>1?m(S):(u.consume(S),b++,v);if(b<2&&!n)return m(S);const R=u.exit("strikethroughSequenceTemporary"),M=So(S);return R._open=!M||M===2&&!!k,R._close=!k||k===2&&!!M,h(S)}}}class UL{constructor(){this.map=[]}add(e,n,r){FL(this,e,n,r)}consume(e){if(this.map.sort(function(o,u){return o[0]-u[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let a=r.pop();for(;a;){for(const o of a)e.push(o);a=r.pop()}this.map.length=0}}function FL(t,e,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<t.map.length;){if(t.map[a][0]===e){t.map[a][1]+=n,t.map[a][2].push(...r);return}a+=1}t.map.push([e,n,r])}}function BL(t,e){let n=!1;const r=[];for(;e<t.length;){const a=t[e];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function qL(){return{flow:{null:{name:"table",tokenize:HL,resolveAll:GL}}}}function HL(t,e,n){const r=this;let a=0,o=0,u;return h;function h(A){let C=r.events.length-1;for(;C>-1;){const ue=r.events[C][1].type;if(ue==="lineEnding"||ue==="linePrefix")C--;else break}const O=C>-1?r.events[C][1].type:null,D=O==="tableHead"||O==="tableRow"?G:m;return D===G&&r.parser.lazy[r.now().line]?n(A):D(A)}function m(A){return t.enter("tableHead"),t.enter("tableRow"),p(A)}function p(A){return A===124||(u=!0,o+=1),x(A)}function x(A){return A===null?n(A):Ee(A)?o>1?(o=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),v):n(A):Fe(A)?Xe(t,x,"whitespace")(A):(o+=1,u&&(u=!1,a+=1),A===124?(t.enter("tableCellDivider"),t.consume(A),t.exit("tableCellDivider"),u=!0,x):(t.enter("data"),b(A)))}function b(A){return A===null||A===124||pt(A)?(t.exit("data"),x(A)):(t.consume(A),A===92?w:b)}function w(A){return A===92||A===124?(t.consume(A),b):b(A)}function v(A){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(A):(t.enter("tableDelimiterRow"),u=!1,Fe(A)?Xe(t,S,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):S(A))}function S(A){return A===45||A===58?R(A):A===124?(u=!0,t.enter("tableCellDivider"),t.consume(A),t.exit("tableCellDivider"),k):W(A)}function k(A){return Fe(A)?Xe(t,R,"whitespace")(A):R(A)}function R(A){return A===58?(o+=1,u=!0,t.enter("tableDelimiterMarker"),t.consume(A),t.exit("tableDelimiterMarker"),M):A===45?(o+=1,M(A)):A===null||Ee(A)?te(A):W(A)}function M(A){return A===45?(t.enter("tableDelimiterFiller"),P(A)):W(A)}function P(A){return A===45?(t.consume(A),P):A===58?(u=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(A),t.exit("tableDelimiterMarker"),q):(t.exit("tableDelimiterFiller"),q(A))}function q(A){return Fe(A)?Xe(t,te,"whitespace")(A):te(A)}function te(A){return A===124?S(A):A===null||Ee(A)?!u||a!==o?W(A):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(A)):W(A)}function W(A){return n(A)}function G(A){return t.enter("tableRow"),z(A)}function z(A){return A===124?(t.enter("tableCellDivider"),t.consume(A),t.exit("tableCellDivider"),z):A===null||Ee(A)?(t.exit("tableRow"),e(A)):Fe(A)?Xe(t,z,"whitespace")(A):(t.enter("data"),I(A))}function I(A){return A===null||A===124||pt(A)?(t.exit("data"),z(A)):(t.consume(A),A===92?L:I)}function L(A){return A===92||A===124?(t.consume(A),I):I(A)}}function GL(t,e){let n=-1,r=!0,a=0,o=[0,0,0,0],u=[0,0,0,0],h=!1,m=0,p,x,b;const w=new UL;for(;++n<t.length;){const v=t[n],S=v[1];v[0]==="enter"?S.type==="tableHead"?(h=!1,m!==0&&(z_(w,e,m,p,x),x=void 0,m=0),p={type:"table",start:Object.assign({},S.start),end:Object.assign({},S.end)},w.add(n,0,[["enter",p,e]])):S.type==="tableRow"||S.type==="tableDelimiterRow"?(r=!0,b=void 0,o=[0,0,0,0],u=[0,n+1,0,0],h&&(h=!1,x={type:"tableBody",start:Object.assign({},S.start),end:Object.assign({},S.end)},w.add(n,0,[["enter",x,e]])),a=S.type==="tableDelimiterRow"?2:x?3:1):a&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")?(r=!1,u[2]===0&&(o[1]!==0&&(u[0]=u[1],b=Ch(w,e,o,a,void 0,b),o=[0,0,0,0]),u[2]=n)):S.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(u[0]=u[1],b=Ch(w,e,o,a,void 0,b)),o=u,u=[o[1],n,0,0])):S.type==="tableHead"?(h=!0,m=n):S.type==="tableRow"||S.type==="tableDelimiterRow"?(m=n,o[1]!==0?(u[0]=u[1],b=Ch(w,e,o,a,n,b)):u[1]!==0&&(b=Ch(w,e,u,a,n,b)),a=0):a&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")&&(u[3]=n)}for(m!==0&&z_(w,e,m,p,x),w.consume(e.events),n=-1;++n<e.events.length;){const v=e.events[n];v[0]==="enter"&&v[1].type==="table"&&(v[1]._align=BL(e.events,n))}return t}function Ch(t,e,n,r,a,o){const u=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",h="tableContent";n[0]!==0&&(o.end=Object.assign({},oo(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const m=oo(e.events,n[1]);if(o={type:u,start:Object.assign({},m),end:Object.assign({},m)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const p=oo(e.events,n[2]),x=oo(e.events,n[3]),b={type:h,start:Object.assign({},p),end:Object.assign({},x)};if(t.add(n[2],0,[["enter",b,e]]),r!==2){const w=e.events[n[2]],v=e.events[n[3]];if(w[1].end=Object.assign({},v[1].end),w[1].type="chunkText",w[1].contentType="text",n[3]>n[2]+1){const S=n[2]+1,k=n[3]-n[2]-1;t.add(S,k,[])}}t.add(n[3]+1,0,[["exit",b,e]])}return a!==void 0&&(o.end=Object.assign({},oo(e.events,a)),t.add(a,0,[["exit",o,e]]),o=void 0),o}function z_(t,e,n,r,a){const o=[],u=oo(e.events,n);a&&(a.end=Object.assign({},u),o.push(["exit",a,e])),r.end=Object.assign({},u),o.push(["exit",r,e]),t.add(n+1,0,o)}function oo(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const $L={name:"tasklistCheck",tokenize:QL};function YL(){return{text:{91:$L}}}function QL(t,e,n){const r=this;return a;function a(m){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(m):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(m),t.exit("taskListCheckMarker"),o)}function o(m){return pt(m)?(t.enter("taskListCheckValueUnchecked"),t.consume(m),t.exit("taskListCheckValueUnchecked"),u):m===88||m===120?(t.enter("taskListCheckValueChecked"),t.consume(m),t.exit("taskListCheckValueChecked"),u):n(m)}function u(m){return m===93?(t.enter("taskListCheckMarker"),t.consume(m),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),h):n(m)}function h(m){return Ee(m)?e(m):Fe(m)?t.check({tokenize:KL},e,n)(m):n(m)}}function KL(t,e,n){return Xe(t,r,"whitespace");function r(a){return a===null?n(a):e(a)}}function XL(t){return uS([wL(),IL(),zL(t),qL(),YL()])}const WL={};function Uo(t){const e=this,n=t||WL,r=e.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),u=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(XL(n)),o.push(yL()),u.push(xL(n))}const Xf=["Public Forum (PF)","Lincoln-Douglas (LD)","Policy Debate (CX)","Big Questions Debate","World Schools Debate","Congressional Debate","Original Oratory (OO)","Informative Speaking (INFO)","United States Extemp (USX)","International Extemp (IX)","Dramatic Interpretation (DI)","Humorous Interpretation (HI)","Duo Interpretation","Program Oral Interpretation (POI)","Impromptu","Extemporaneous Commentary","Expository","Storytelling","Prose/Poetry","Parliamentary (British)","Parliamentary (Asian)","Model UN Speech","After Dinner Speaking","Toast/Ceremonial"],eT=["Proposition/Affirmative","Opposition/Negative","Government","Opposition","Pro","Con","Opening Member","Closing Member/Whip","Sponsor (Congress)","Individual/Solo","Neutral/Evaluator"],Ie={DEBATE:"debate",INDIVIDUAL_SPEAKING:"individual",INTERP:"interp",EXTEMP:"extemp",LIMITED_PREP:"limited_prep"},To={"Public Forum (PF)":Ie.DEBATE,"Lincoln-Douglas (LD)":Ie.DEBATE,"Policy Debate (CX)":Ie.DEBATE,"Big Questions Debate":Ie.DEBATE,"World Schools Debate":Ie.DEBATE,"Congressional Debate":Ie.DEBATE,"Parliamentary (British)":Ie.DEBATE,"Parliamentary (Asian)":Ie.DEBATE,"Original Oratory (OO)":Ie.INDIVIDUAL_SPEAKING,"Informative Speaking (INFO)":Ie.INDIVIDUAL_SPEAKING,Expository:Ie.INDIVIDUAL_SPEAKING,"After Dinner Speaking":Ie.INDIVIDUAL_SPEAKING,"Toast/Ceremonial":Ie.INDIVIDUAL_SPEAKING,"Model UN Speech":Ie.INDIVIDUAL_SPEAKING,"Dramatic Interpretation (DI)":Ie.INTERP,"Humorous Interpretation (HI)":Ie.INTERP,"Duo Interpretation":Ie.INTERP,"Program Oral Interpretation (POI)":Ie.INTERP,"Prose/Poetry":Ie.INTERP,Storytelling:Ie.INTERP,"United States Extemp (USX)":Ie.EXTEMP,"International Extemp (IX)":Ie.EXTEMP,"Extemporaneous Commentary":Ie.EXTEMP,Impromptu:Ie.LIMITED_PREP},JL={[Ie.DEBATE]:{name:"Debate",description:"Competitive debate formats with opposing sides",showOpposingArguments:!0,showClash:!0,showRebuttals:!0,showCrossEx:!0,rubric:`
## Debate Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Argumentation & Evidence** | 30% | Quality of arguments, evidence strength, logical warrants |
| **Clash & Engagement** | 25% | Direct responses to opponent, refutation quality |
| **Impact Analysis** | 20% | Magnitude, probability, timeframe of impacts |
| **Strategy & Organization** | 15% | Speech structure, time allocation, flow |
| **Delivery** | 10% | Clarity, persuasion, pace (speed okay if clear) |
    `,focusAreas:["Arguments for your position","Responses to opposing arguments","Evidence quality and sources","Impact calculus","Clash and refutation","Cross-examination presence"]},[Ie.INDIVIDUAL_SPEAKING]:{name:"Individual Speaking",description:"Platform speaking events focused on original content",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Individual Speaking Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Content & Research** | 30% | Depth of information, accuracy, relevance |
| **Organization** | 25% | Structure, transitions, logical flow |
| **Delivery** | 25% | Vocal variety, eye contact, gestures, presence |
| **Analysis & Insight** | 15% | Original thought, depth of understanding |
| **Impact & Memorability** | 5% | Audience engagement, lasting impression |
    `,focusAreas:["Content clarity and accuracy","Speech organization and structure","Vocal delivery and variety","Physical presence and gestures","Audience engagement","Use of evidence and examples"]},[Ie.INTERP]:{name:"Interpretation",description:"Performance events with scripted or literary material",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Interpretation Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Characterization** | 30% | Distinct, consistent, believable characters |
| **Emotional Range** | 25% | Depth of emotion, appropriate intensity |
| **Technical Skill** | 20% | Blocking, pops, timing, focus |
| **Material Selection** | 15% | Quality of cutting, thematic unity |
| **Overall Impact** | 10% | Audience connection, memorability |
    `,focusAreas:["Character development and distinction","Emotional authenticity","Physical performance (blocking, gestures)","Vocal variety and character voices","Timing and pacing","Thematic development"]},[Ie.EXTEMP]:{name:"Extemporaneous Speaking",description:"Current events analysis with limited prep time",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Extemporaneous Speaking Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Analysis Depth** | 30% | Quality of reasoning, insight into topic |
| **Evidence & Sources** | 25% | Citation quality, recency, variety |
| **Organization** | 20% | Clear structure, strong transitions |
| **Answering the Question** | 15% | Directly addresses the prompt |
| **Delivery** | 10% | Conversational, engaging, minimal notes |
    `,focusAreas:["Direct answer to the question","Analysis depth and insight","Evidence and source citations","Current events knowledge","Logical organization","Conversational delivery"]},[Ie.LIMITED_PREP]:{name:"Limited Preparation",description:"Impromptu speaking with minimal prep time",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Impromptu Speaking Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Quick Thinking** | 30% | Ability to form coherent thoughts rapidly |
| **Relevance** | 25% | Staying on topic, addressing the prompt |
| **Organization** | 20% | Clear structure despite limited prep |
| **Creativity** | 15% | Original examples, unique perspectives |
| **Delivery** | 10% | Confident, fluid despite improvisation |
    `,focusAreas:["Response relevance to prompt","Quick organization of thoughts","Creative examples and analogies","Confident delivery","Time management","Coherent structure"]}},tT=t=>{const e=To[t]||Ie.INDIVIDUAL_SPEAKING;return JL[e]},p0=t=>To[t]===Ie.DEBATE?["Proposition/Affirmative","Opposition/Negative","Government","Opposition","Pro","Con","Opening Member","Closing Member/Whip","Sponsor (Congress)"]:["Individual/Solo","Neutral/Evaluator"],U_=(t,e,n,r)=>{const a=tT(t),o=To[t];let u=`You are an expert ${t} coach and judge with years of experience evaluating this specific event type.`;return e&&(u+=`
Topic/Prompt: ${e}`),a.showOpposingArguments&&n&&(u+=`
Side/Position: ${n}`),u+=`

Evaluate the following speech based on this event-specific rubric:
${a.rubric}`,o===Ie.DEBATE?u+=`

### DEBATE-SPECIFIC ANALYSIS:
- Analyze the strength and clarity of each argument presented
- Identify potential opposing arguments and how well they were preempted or addressed
- Evaluate evidence quality and proper citation
- Assess impact calculus (magnitude, probability, timeframe)
- Note clash quality and direct engagement with opposing points
- Consider cross-examination strategy if applicable`:o===Ie.INDIVIDUAL_SPEAKING?u+=`

### INDIVIDUAL SPEAKING-SPECIFIC ANALYSIS:
- Focus on content clarity and information accuracy
- Do NOT analyze opposing arguments (this is not a debate event)
- Evaluate speech organization and flow
- Assess delivery techniques (vocal variety, gestures, eye contact)
- Consider audience engagement and persuasive techniques
- NOTE: Do not penalize for missing visual aids or props (text-only evaluation)`:o===Ie.INTERP?u+=`

### INTERPRETATION-SPECIFIC ANALYSIS:
- Evaluate character development and distinction between characters
- Assess emotional authenticity and range
- Analyze physical performance elements described
- Consider pacing and timing
- Note thematic development and material selection quality
- Do NOT analyze arguments or debate elements (this is a performance event)`:o===Ie.EXTEMP?u+=`

### EXTEMP-SPECIFIC ANALYSIS:
- Evaluate how directly the question/prompt is answered
- Assess depth of analysis on current events
- Check quality and recency of evidence cited
- Consider organization and structure
- Note delivery style (should be conversational, not memorized)
- Do NOT analyze debate clash (this is not a debate event)`:o===Ie.LIMITED_PREP&&(u+=`

### IMPROMPTU-SPECIFIC ANALYSIS:
- Evaluate quick thinking and coherent thought formation
- Assess relevance to the prompt given
- Consider organization despite limited preparation time
- Note creative examples and unique perspectives
- Evaluate confidence and delivery fluidity
- Be understanding of minor hesitations given the time constraints`),u+=`

Please provide the output in the following Markdown format:

## Executive Summary
(Brief 2-3 sentence overview of overall performance)

## Scorecard
| Category | Score (0-10) | Notes |
| --- | --- | --- |
(Fill based on the rubric above)
| **Total** | **(Average/Sum)** | |

## Key ${o===Ie.DEBATE?"Argument":"Content"} Analysis
(Detailed breakdown of main points made)
${a.showOpposingArguments?`
## Opposing Arguments & Clash
(Analysis of responses to opponent arguments and missed clash opportunities)`:""}

## Constructive Feedback
- **Strengths**: ...
- **Areas for Improvement**: ...

## Recommended Drills
(3-5 specific exercises to improve weak areas, tailored to this event type)

## Quick Tips for Next Round
(2-3 actionable items for immediate improvement)

SPEECH TEXT:
${r}`,u},F_={[Ie.DEBATE]:{label:"Debate Events",icon:"",color:"text-red-400"},[Ie.INDIVIDUAL_SPEAKING]:{label:"Individual Speaking",icon:"",color:"text-blue-400"},[Ie.INTERP]:{label:"Interpretation",icon:"",color:"text-purple-400"},[Ie.EXTEMP]:{label:"Extemporaneous",icon:"",color:"text-green-400"},[Ie.LIMITED_PREP]:{label:"Limited Prep",icon:"",color:"text-yellow-400"}};var B_;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(B_||(B_={}));var q_;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(q_||(q_={}));var H_;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(H_||(H_={}));const G_=["user","model","function","system"];var $_;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})($_||($_={}));var Y_;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Y_||(Y_={}));var Q_;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Q_||(Q_={}));var K_;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(K_||(K_={}));var uu;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(uu||(uu={}));var X_;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(X_||(X_={}));var W_;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(W_||(W_={}));var J_;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(J_||(J_={}));class wn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class so extends wn{constructor(e,n){super(e),this.response=n}}class nT extends wn{constructor(e,n,r,a){super(e),this.status=n,this.statusText=r,this.errorDetails=a}}class Zi extends wn{}class sT extends wn{}const ZL="https://generativelanguage.googleapis.com",eV="v1beta",tV="0.24.1",nV="genai-js";var ll;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ll||(ll={}));class sV{constructor(e,n,r,a,o){this.model=e,this.task=n,this.apiKey=r,this.stream=a,this.requestOptions=o}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||eV;let o=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||ZL}/${r}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}}function rV(t){const e=[];return t?.apiClient&&e.push(t.apiClient),e.push(`${nV}/${tV}`),e.join(" ")}async function iV(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",rV(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(a){throw new Zi(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${a.message}`)}for(const[a,o]of r.entries()){if(a==="x-goog-api-key")throw new Zi(`Cannot set reserved header name ${a}`);if(a==="x-goog-api-client")throw new Zi(`Header name ${a} can only be set using the apiClient field`);n.append(a,o)}}return n}async function aV(t,e,n,r,a,o){const u=new sV(t,e,n,r,o);return{url:u.toString(),fetchOptions:Object.assign(Object.assign({},uV(o)),{method:"POST",headers:await iV(u),body:a})}}async function Yu(t,e,n,r,a,o={},u=fetch){const{url:h,fetchOptions:m}=await aV(t,e,n,r,a,o);return lV(h,m,u)}async function lV(t,e,n=fetch){let r;try{r=await n(t,e)}catch(a){oV(a,t)}return r.ok||await cV(r,t),r}function oV(t,e){let n=t;throw n.name==="AbortError"?(n=new sT(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof nT||t instanceof Zi||(n=new wn(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function cV(t,e){let n="",r;try{const a=await t.json();n=a.error.message,a.error.details&&(n+=` ${JSON.stringify(a.error.details)}`,r=a.error.details)}catch{}throw new nT(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function uV(t){const e={};if(t?.signal!==void 0||t?.timeout>=0){const n=new AbortController;t?.timeout>=0&&setTimeout(()=>n.abort(),t.timeout),t?.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}function Gy(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),qh(t.candidates[0]))throw new so(`${Bi(t)}`,t);return dV(t)}else if(t.promptFeedback)throw new so(`Text not available. ${Bi(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),qh(t.candidates[0]))throw new so(`${Bi(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Z_(t)[0]}else if(t.promptFeedback)throw new so(`Function call not available. ${Bi(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),qh(t.candidates[0]))throw new so(`${Bi(t)}`,t);return Z_(t)}else if(t.promptFeedback)throw new so(`Function call not available. ${Bi(t)}`,t)},t}function dV(t){var e,n,r,a;const o=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const u of(a=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||a===void 0?void 0:a.parts)u.text&&o.push(u.text),u.executableCode&&o.push("\n```"+u.executableCode.language+`
`+u.executableCode.code+"\n```\n"),u.codeExecutionResult&&o.push("\n```\n"+u.codeExecutionResult.output+"\n```\n");return o.length>0?o.join(""):""}function Z_(t){var e,n,r,a;const o=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const u of(a=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||a===void 0?void 0:a.parts)u.functionCall&&o.push(u.functionCall);if(o.length>0)return o}const hV=[uu.RECITATION,uu.SAFETY,uu.LANGUAGE];function qh(t){return!!t.finishReason&&hV.includes(t.finishReason)}function Bi(t){var e,n,r;let a="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)a+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(a+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(a+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const o=t.candidates[0];qh(o)&&(a+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(a+=`: ${o.finishMessage}`))}return a}function Tu(t){return this instanceof Tu?(this.v=t,this):new Tu(t)}function fV(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),a,o=[];return a={},u("next"),u("throw"),u("return"),a[Symbol.asyncIterator]=function(){return this},a;function u(w){r[w]&&(a[w]=function(v){return new Promise(function(S,k){o.push([w,v,S,k])>1||h(w,v)})})}function h(w,v){try{m(r[w](v))}catch(S){b(o[0][3],S)}}function m(w){w.value instanceof Tu?Promise.resolve(w.value.v).then(p,x):b(o[0][2],w)}function p(w){h("next",w)}function x(w){h("throw",w)}function b(w,v){w(v),o.shift(),o.length&&h(o[0][0],o[0][1])}}const eE=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function mV(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=yV(e),[r,a]=n.tee();return{stream:gV(r),response:pV(a)}}async function pV(t){const e=[],n=t.getReader();for(;;){const{done:r,value:a}=await n.read();if(r)return Gy(xV(e));e.push(a)}}function gV(t){return fV(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:a}=yield Tu(n.read());if(a)break;yield yield Tu(Gy(r))}})}function yV(t){const e=t.getReader();return new ReadableStream({start(r){let a="";return o();function o(){return e.read().then(({value:u,done:h})=>{if(h){if(a.trim()){r.error(new wn("Failed to parse stream"));return}r.close();return}a+=u;let m=a.match(eE),p;for(;m;){try{p=JSON.parse(m[1])}catch{r.error(new wn(`Error parsing JSON response: "${m[1]}"`));return}r.enqueue(p),a=a.substring(m[0].length),m=a.match(eE)}return o()}).catch(u=>{let h=u;throw h.stack=u.stack,h.name==="AbortError"?h=new sT("Request aborted when reading from the stream"):h=new wn("Error reading from the stream"),h})}}})}function xV(t){const e=t[t.length-1],n={promptFeedback:e?.promptFeedback};for(const r of t){if(r.candidates){let a=0;for(const o of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[a]||(n.candidates[a]={index:a}),n.candidates[a].citationMetadata=o.citationMetadata,n.candidates[a].groundingMetadata=o.groundingMetadata,n.candidates[a].finishReason=o.finishReason,n.candidates[a].finishMessage=o.finishMessage,n.candidates[a].safetyRatings=o.safetyRatings,o.content&&o.content.parts){n.candidates[a].content||(n.candidates[a].content={role:o.content.role||"user",parts:[]});const u={};for(const h of o.content.parts)h.text&&(u.text=h.text),h.functionCall&&(u.functionCall=h.functionCall),h.executableCode&&(u.executableCode=h.executableCode),h.codeExecutionResult&&(u.codeExecutionResult=h.codeExecutionResult),Object.keys(u).length===0&&(u.text=""),n.candidates[a].content.parts.push(u)}a++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}async function rT(t,e,n,r){const a=await Yu(e,ll.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return mV(a)}async function iT(t,e,n,r){const o=await(await Yu(e,ll.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:Gy(o)}}function aT(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Au(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return bV(e)}function bV(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,a=!1;for(const o of t)"functionResponse"in o?(n.parts.push(o),a=!0):(e.parts.push(o),r=!0);if(r&&a)throw new wn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!a)throw new wn("No content is provided for sending chat message.");return r?e:n}function vV(t,e){var n;let r={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(n=e?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const a=t.generateContentRequest!=null;if(t.contents){if(a)throw new Zi("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(a)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const o=Au(t);r.contents=[o]}return{generateContentRequest:r}}function tE(t){let e;return t.contents?e=t:e={contents:[Au(t)]},t.systemInstruction&&(e.systemInstruction=aT(t.systemInstruction)),e}function wV(t){return typeof t=="string"||Array.isArray(t)?{content:Au(t)}:t}const nE=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],_V={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function EV(t){let e=!1;for(const n of t){const{role:r,parts:a}=n;if(!e&&r!=="user")throw new wn(`First content should be with role 'user', got ${r}`);if(!G_.includes(r))throw new wn(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(G_)}`);if(!Array.isArray(a))throw new wn("Content should have 'parts' property with an array of Parts");if(a.length===0)throw new wn("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const h of a)for(const m of nE)m in h&&(o[m]+=1);const u=_V[r];for(const h of nE)if(!u.includes(h)&&o[h]>0)throw new wn(`Content with role '${r}' can't contain '${h}' part`);e=!0}}function sE(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}const rE="SILENT_ERROR";class NV{constructor(e,n,r,a={}){this.model=n,this.params=r,this._requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r?.history&&(EV(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,a,o,u,h,m;await this._sendPromise;const p=Au(e),x={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(u=this.params)===null||u===void 0?void 0:u.toolConfig,systemInstruction:(h=this.params)===null||h===void 0?void 0:h.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,p]},b=Object.assign(Object.assign({},this._requestOptions),n);let w;return this._sendPromise=this._sendPromise.then(()=>iT(this._apiKey,this.model,x,b)).then(v=>{var S;if(sE(v.response)){this._history.push(p);const k=Object.assign({parts:[],role:"model"},(S=v.response.candidates)===null||S===void 0?void 0:S[0].content);this._history.push(k)}else{const k=Bi(v.response);k&&console.warn(`sendMessage() was unsuccessful. ${k}. Inspect response object for details.`)}w=v}).catch(v=>{throw this._sendPromise=Promise.resolve(),v}),await this._sendPromise,w}async sendMessageStream(e,n={}){var r,a,o,u,h,m;await this._sendPromise;const p=Au(e),x={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(u=this.params)===null||u===void 0?void 0:u.toolConfig,systemInstruction:(h=this.params)===null||h===void 0?void 0:h.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,p]},b=Object.assign(Object.assign({},this._requestOptions),n),w=rT(this._apiKey,this.model,x,b);return this._sendPromise=this._sendPromise.then(()=>w).catch(v=>{throw new Error(rE)}).then(v=>v.response).then(v=>{if(sE(v)){this._history.push(p);const S=Object.assign({},v.candidates[0].content);S.role||(S.role="model"),this._history.push(S)}else{const S=Bi(v);S&&console.warn(`sendMessageStream() was unsuccessful. ${S}. Inspect response object for details.`)}}).catch(v=>{v.message!==rE&&console.error(v)}),w}}async function SV(t,e,n,r){return(await Yu(e,ll.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}async function TV(t,e,n,r){return(await Yu(e,ll.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function AV(t,e,n,r){const a=n.requests.map(u=>Object.assign(Object.assign({},u),{model:e}));return(await Yu(e,ll.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:a}),r)).json()}class iE{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=aT(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const a=tE(e),o=Object.assign(Object.assign({},this._requestOptions),n);return iT(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},a),o)}async generateContentStream(e,n={}){var r;const a=tE(e),o=Object.assign(Object.assign({},this._requestOptions),n);return rT(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},a),o)}startChat(e){var n;return new NV(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=vV(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),a=Object.assign(Object.assign({},this._requestOptions),n);return SV(this.apiKey,this.model,r,a)}async embedContent(e,n={}){const r=wV(e),a=Object.assign(Object.assign({},this._requestOptions),n);return TV(this.apiKey,this.model,r,a)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return AV(this.apiKey,this.model,e,r)}}class ei{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new wn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new iE(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new Zi("Cached content must contain a `name` field.");if(!e.model)throw new Zi("Cached content must contain a `model` field.");const a=["model","systemInstruction"];for(const u of a)if(n?.[u]&&e[u]&&n?.[u]!==e[u]){if(u==="model"){const h=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,m=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(h===m)continue}throw new Zi(`Different value for "${u}" specified in modelParams (${n[u]}) and cachedContent (${e[u]})`)}const o=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new iE(this.apiKey,o,r)}}function lT(t){return new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function CV(t){const e=new Date(t),r=new Date-e,a=Math.floor(r/6e4),o=Math.floor(r/36e5),u=Math.floor(r/864e5);return a<1?"Just now":a<60?`${a}m ago`:o<24?`${o}h ago`:u<7?`${u}d ago`:lT(t)}function jV(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}const aE={get:(t,e=null)=>{try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch{return e}},set:(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(n){console.error("Storage error:",n)}},remove:t=>{try{localStorage.removeItem(t)}catch(e){console.error("Storage error:",e)}}},lE="adjudicator_history",oE=50;function fl(){const[t,e]=U.useState([]),[n,r]=U.useState(!0);U.useEffect(()=>{const v=aE.get(lE,[]);e(v),r(!1)},[]),U.useEffect(()=>{n||aE.set(lE,t)},[t,n]);const a=U.useCallback(v=>{const S={id:jV(),createdAt:new Date().toISOString(),...v};return e(k=>[S,...k].slice(0,oE)),S.id},[]),o=U.useCallback(v=>{e(S=>S.filter(k=>k.id!==v))},[]),u=U.useCallback(()=>{e([])},[]),h=U.useCallback(v=>t.find(S=>S.id===v),[t]),m=U.useCallback(v=>t.filter(S=>S.type===v),[t]),p=U.useCallback((v,S)=>{e(k=>k.map(R=>R.id===v?{...R,...S,updatedAt:new Date().toISOString()}:R))},[]),x=U.useCallback(()=>{const v=JSON.stringify(t,null,2),S=new Blob([v],{type:"application/json"}),k=URL.createObjectURL(S),R=document.createElement("a");R.href=k,R.download=`adjudicator-history-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(k)},[t]),b=U.useCallback(async v=>{try{const S=await v.text(),k=JSON.parse(S);return Array.isArray(k)?(e(R=>{const M=new Set(R.map(q=>q.id));return[...k.filter(q=>!M.has(q.id)),...R].slice(0,oE)}),{success:!0,count:k.length}):{success:!1,error:"Invalid format"}}catch(S){return{success:!1,error:S.message}}},[]),w={total:t.length,byType:{judge:t.filter(v=>v.type==="judge").length,board:t.filter(v=>v.type==="board").length,coach:t.filter(v=>v.type==="coach").length,strategy:t.filter(v=>v.type==="strategy").length,extemp:t.filter(v=>v.type==="extemp").length,tone:t.filter(v=>v.type==="tone").length},lastSession:t[0]||null};return{history:t,isLoading:n,stats:w,addSession:a,deleteSession:o,clearHistory:u,getSession:h,getSessionsByType:m,updateSession:p,exportHistory:x,importHistory:b}}const kV=({apiKey:t})=>{const[e,n]=U.useState("Public Forum (PF)"),[r,a]=U.useState("Proposition/Affirmative"),[o,u]=U.useState(""),[h,m]=U.useState(""),[p,x]=U.useState(!1),[b,w]=U.useState(null),[v,S]=U.useState(""),[k,R]=U.useState(!1),[M,P]=U.useState(!1),{addSession:q}=fl(),te=U.useMemo(()=>tT(e),[e]),W=U.useMemo(()=>p0(e),[e]),G=To[e],z=F_[G],I=O=>{n(O);const D=p0(O);D.includes(r)||a(D[0])},L=async()=>{if(!t){S("Please enter a valid Gemini API Key in Settings.");return}if(!h.trim()){S("Please enter the speech transcript.");return}x(!0),S(""),w(null);try{const D=new ei(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),ue=U_(e,o,r,h),ce=(await(await D.generateContent(ue)).response).text();w(ce),q({type:"judge",title:o||`${e} Analysis`,input:{transcript:h.substring(0,500)+(h.length>500?"...":"")},result:ce,metadata:{speechType:e,side:te.showOpposingArguments?r:null,topic:o,eventCategory:G}}),P(!0),setTimeout(()=>P(!1),2e3)}catch(O){console.error("Gemini Error:",O);try{const ue=new ei(t).getGenerativeModel({model:"gemini-1.5-flash"}),oe=U_(e,o,r,h),ge=(await(await ue.generateContent(oe)).response).text();w(ge)}catch{S(`Error: ${O.message}. Please try again.`)}}finally{x(!1)}},A=()=>{b&&(navigator.clipboard.writeText(b),R(!0),setTimeout(()=>R(!1),2e3))},C=U.useMemo(()=>{const O={};return Xf.forEach(D=>{const ue=To[D];O[ue]||(O[ue]=[]),O[ue].push(D)}),O},[]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Speech Analysis"}),c.jsx("p",{className:"text-slate-400 mt-1",children:"Get AI-powered feedback on your speeches"})]}),z&&c.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-slate-900/50 border border-slate-800/60",children:[c.jsx("span",{className:"text-lg",children:z.icon}),c.jsx("span",{className:`text-sm font-medium ${z.color}`,children:z.label})]})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[c.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[c.jsxs("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Event Format"}),c.jsx("select",{value:e,onChange:O=>I(O.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all",children:Object.entries(C).map(([O,D])=>{const ue=F_[O];return c.jsx("optgroup",{label:`${ue?.icon||""} ${ue?.label||O}`,children:D.map(oe=>c.jsx("option",{value:oe,children:oe},oe))},O)})})]}),te.showOpposingArguments?c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Side/Position"}),c.jsx("select",{value:r,onChange:O=>a(O.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all",children:W.map(O=>c.jsx("option",{value:O,children:O},O))})]}):c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Speaker Role"}),c.jsx("select",{value:r,onChange:O=>a(O.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all",children:W.map(O=>c.jsx("option",{value:O,children:O},O))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:te.showOpposingArguments?"Resolution/Topic":"Speech Topic/Prompt"}),c.jsx("input",{type:"text",value:o,onChange:O=>u(O.target.value),placeholder:te.showOpposingArguments?"Resolved: The United States should...":"Enter the topic or prompt...",className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all"})]}),c.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/30",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(w0,{className:"w-4 h-4 text-cyan-400"}),c.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Analysis Focus Areas"})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[te.focusAreas.slice(0,4).map((O,D)=>c.jsx("span",{className:"px-3 py-1.5 text-xs font-medium bg-slate-900/50 text-slate-400 rounded-lg border border-slate-700/50",children:O},D)),te.focusAreas.length>4&&c.jsxs("span",{className:"px-3 py-1.5 text-xs text-slate-500",children:["+",te.focusAreas.length-4," more"]})]})]})]}),c.jsxs("div",{className:"flex-1 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[c.jsx("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50",children:c.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Speech Transcript"})}),c.jsx("textarea",{value:h,onChange:O=>m(O.target.value),placeholder:"Paste your speech text here...",className:"flex-1 w-full bg-transparent p-4 resize-none focus:outline-none font-mono text-sm text-slate-200 placeholder-slate-600 min-h-[200px]"}),c.jsxs("div",{className:"p-4 border-t border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[c.jsxs("span",{className:"text-xs text-slate-500 font-medium",children:[h.length.toLocaleString()," characters"]}),c.jsxs("button",{onClick:L,disabled:p,className:"px-6 py-2.5 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-semibold shadow-lg shadow-cyan-500/25 hover:shadow-cyan-500/40 hover:scale-[1.02] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center gap-2",children:[p?c.jsx(da,{className:"w-4 h-4 animate-spin"}):c.jsx(T0,{className:"w-4 h-4"}),p?"Analyzing...":"Analyze Speech"]})]})]}),v&&c.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 text-red-400",children:[c.jsx(br,{className:"w-5 h-5 flex-shrink-0"}),c.jsx("span",{className:"text-sm",children:v})]})]}),c.jsxs("div",{className:"w-full lg:w-1/2 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[c.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[c.jsx(na,{className:"w-5 h-5 text-cyan-400"}),te.name," Evaluation"]}),b&&c.jsxs("div",{className:"flex items-center gap-3",children:[M&&c.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1 font-medium",children:[c.jsx(vr,{className:"w-3 h-3"})," Saved"]}),c.jsx("button",{onClick:A,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Copy to clipboard",children:k?c.jsx(ea,{className:"w-4 h-4 text-emerald-500"}):c.jsx(ta,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:b?c.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-cyan-400 prose-headings:font-semibold prose-a:text-cyan-400 prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-3 prose-td:p-3 prose-th:bg-slate-800/50 prose-th:text-left",children:c.jsx(zo,{remarkPlugins:[Uo],children:b})}):c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 py-16",children:[c.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:c.jsx("span",{className:"text-3xl",children:z?.icon||""})}),c.jsxs("p",{className:"text-center max-w-xs",children:["Ready to evaluate your ",te.name.toLowerCase()," speech.",c.jsx("br",{}),c.jsx("span",{className:"text-sm text-slate-600",children:"Enter your speech and click Analyze."})]})]})})]})]})]})},IV=({apiKey:t})=>{const[e,n]=U.useState("Public Forum (PF)"),[r,a]=U.useState("Proposition/Affirmative"),[o,u]=U.useState(""),[h,m]=U.useState(""),[p,x]=U.useState([]),[b,w]=U.useState(!1),[v,S]=U.useState(null),[k,R]=U.useState(""),[M,P]=U.useState(!1),[q,te]=U.useState(!1),W=U.useRef(null),{addSession:G}=fl(),z=C=>{const O=Array.from(C.target.files);O.length!==0&&(O.forEach(D=>{if(D.size>4*1024*1024){R(oe=>(oe?`${oe} `:"")+`Skipped ${D.name} (too large).`);return}const ue=new FileReader;ue.onloadend=()=>{const oe=ue.result.split(",")[1];x(K=>[...K,{id:Math.random().toString(36).substr(2,9),url:ue.result,raw:oe,mimeType:D.type,name:D.name}])},ue.readAsDataURL(D)}),W.current&&(W.current.value=""))},I=C=>{x(O=>O.filter(D=>D.id!==C))},L=async()=>{if(!t){R("Please enter a valid Gemini API Key in Settings.");return}if(p.length===0&&!h.trim()){R("Please upload images of the board or provide a description.");return}w(!0),R(""),S(null);try{const O=new ei(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),D=`
        Expert Debate Coach (Flowing). Evaluate board/flow. 
        Context: ${e}, ${r}, Topic: ${o}. 
        Assess Organization, Grouping, Legibility, Suggestions. 
        User Notes: ${h}. 
        
        Please provide the output in the following Markdown format:
        ## Executive Summary
        (Brief overview)

        ## Scorecard
        | Category | Score (0-10) | Notes |
        | --- | --- | --- |
        | Organization | | |
        | Grouping | | |
        | Legibility | | |
        | Strategy | | |
        | **Total** | **(Sum)** | |

        ## Detailed Feedback
        ...
      `,ue=p.map(ge=>({inlineData:{data:ge.raw,mimeType:ge.mimeType}})),ce=(await(await O.generateContent([D,...ue])).response).text();S(ce),G({type:"board",title:o||"Board Evaluation",input:{imageCount:p.length,description:h.substring(0,200)},result:ce,metadata:{speechType:e,side:r,topic:o}}),te(!0),setTimeout(()=>te(!1),2e3)}catch(C){console.error("Gemini Error:",C);try{const D=new ei(t).getGenerativeModel({model:"gemini-1.5-flash"}),ue="... (same prompt) ...";R(`Error: ${C.message}. Please try again.`)}catch{R(`Error: ${C.message}`)}}finally{w(!1)}},A=()=>{v&&(navigator.clipboard.writeText(v),P(!0),setTimeout(()=>P(!1),2e3))};return c.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-[calc(100vh-8rem)]",children:[c.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[c.jsxs("div",{className:"glass-card space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Format"}),c.jsx("select",{value:e,onChange:C=>n(C.target.value),className:"input-field",children:Xf.map(C=>c.jsx("option",{value:C,children:C},C))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Side"}),c.jsx("select",{value:r,onChange:C=>a(C.target.value),className:"input-field",children:eT.map(C=>c.jsx("option",{value:C,children:C},C))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Topic"}),c.jsx("input",{type:"text",value:o,onChange:C=>u(C.target.value),placeholder:"Resolved: The United States should...",className:"input-field"})]})]}),c.jsxs("div",{className:"flex-1 glass-card flex flex-col p-0 overflow-hidden",children:[c.jsx("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50",children:c.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Board Images & Notes"})}),c.jsxs("div",{className:"flex-1 p-4 overflow-y-auto custom-scrollbar space-y-4",children:[p.length>0&&c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:p.map(C=>c.jsxs("div",{className:"relative group aspect-video bg-slate-800 rounded-lg overflow-hidden border border-slate-700",children:[c.jsx("img",{src:C.url,alt:"Board",className:"w-full h-full object-cover"}),c.jsx("button",{onClick:()=>I(C.id),className:"absolute top-1 right-1 p-1 bg-red-500/80 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(eu,{className:"w-3 h-3"})})]},C.id))}),c.jsxs("div",{onClick:()=>W.current?.click(),className:"border-2 border-dashed border-slate-700 rounded-xl p-8 flex flex-col items-center justify-center text-slate-500 hover:border-primary hover:text-primary hover:bg-primary/5 transition-all cursor-pointer",children:[c.jsx(xE,{className:"w-8 h-8 mb-2"}),c.jsx("span",{className:"text-sm font-medium",children:"Click to upload images"}),c.jsx("span",{className:"text-xs opacity-70",children:"Max 4MB per file"}),c.jsx("input",{type:"file",ref:W,onChange:z,multiple:!0,accept:"image/*",className:"hidden"})]}),c.jsx("textarea",{value:h,onChange:C=>m(C.target.value),placeholder:"Add any specific notes or questions about the flow...",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg p-3 text-sm text-text-primary focus:outline-none focus:border-primary resize-none h-24"})]}),c.jsxs("div",{className:"p-4 border-t border-slate-700/50 bg-slate-900/50 flex justify-between items-center",children:[c.jsxs("span",{className:"text-xs text-text-muted",children:[p.length," images"]}),c.jsxs("button",{onClick:L,disabled:b,className:"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[b?c.jsx(da,{className:"w-4 h-4 animate-spin"}):c.jsx(T0,{className:"w-4 h-4"}),b?"Analyzing...":"Evaluate Board"]})]})]}),k&&c.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-2 text-red-400 text-sm",children:[c.jsx(br,{className:"w-4 h-4"}),k]})]}),c.jsxs("div",{className:"w-full lg:w-1/2 glass-card overflow-hidden flex flex-col p-0",children:[c.jsxs("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50 flex justify-between items-center",children:[c.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[c.jsx(kg,{className:"w-4 h-4 text-primary"}),"Evaluation"]}),v&&c.jsxs("div",{className:"flex items-center gap-2",children:[q&&c.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1",children:[c.jsx(vr,{className:"w-3 h-3"})," Saved"]}),c.jsx("button",{onClick:A,className:"text-text-secondary hover:text-white transition-colors",title:"Copy to clipboard",children:M?c.jsx(ea,{className:"w-4 h-4 text-green-500"}):c.jsx(ta,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:v?c.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-cyan-400 prose-a:text-accent prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-2 prose-td:p-2 prose-th:bg-slate-800/50",children:c.jsx(zo,{remarkPlugins:[Uo],children:v})}):c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-text-muted opacity-50",children:[c.jsx(kg,{className:"w-16 h-16 mb-4"}),c.jsx("p",{children:"Upload board images and click Evaluate."})]})})]})]})},RV=({analyser:t,isRecording:e})=>{const n=U.useRef(null);return U.useEffect(()=>{if(!t||!e||!n.current)return;const r=n.current,a=r.getContext("2d"),o=t.frequencyBinCount,u=new Uint8Array(o);let h;const m=()=>{h=requestAnimationFrame(m),t.getByteFrequencyData(u),a.clearRect(0,0,r.width,r.height);const p=r.width/o*2.5;let x,b=0;for(let w=0;w<o;w++){x=u[w]/2;const v=a.createLinearGradient(0,r.height,0,0);v.addColorStop(0,"#06b6d4"),v.addColorStop(1,"#8b5cf6"),a.fillStyle=v,a.fillRect(b,r.height-x,p,x),b+=p+1}};return m(),()=>cancelAnimationFrame(h)},[t,e]),e?c.jsx("canvas",{ref:n,width:300,height:100,className:"w-full h-24 rounded-lg bg-slate-900/50"}):c.jsx("div",{className:"w-full h-24 bg-slate-900/50 rounded-lg flex items-center justify-center text-slate-700 text-xs",children:"Visualizer Ready"})},DV=({analyser:t,isRecording:e})=>{const[n,r]=U.useState({volume:0,brightness:0}),[a,o]=U.useState({label:"Ready",color:"text-slate-500"}),u=U.useRef({volume:0,brightness:0});return U.useEffect(()=>{if(!t||!e)return;const h=t.frequencyBinCount,m=new Uint8Array(h),p=new Uint8Array(t.fftSize);let x;const b=()=>{t.getByteFrequencyData(m),t.getByteTimeDomainData(p);let w=0;for(let te=0;te<p.length;te++){const W=(p[te]-128)/128;w+=W*W}const v=Math.sqrt(w/p.length);let S=0,k=0;for(let te=0;te<h;te++)S+=te*m[te],k+=m[te];const R=k===0?0:S/k/h,M=.15;u.current.volume=u.current.volume*(1-M)+v*M,u.current.brightness=u.current.brightness*(1-M)+R*M;const{volume:P,brightness:q}=u.current;r({volume:P,brightness:q}),P<.01?o({label:"Listening...",color:"text-slate-500"}):P<.05?o({label:"Too Quiet",color:"text-amber-500"}):P>.6?o({label:"Too Loud",color:"text-red-500"}):q>.5?o({label:"Urgent / Intense",color:"text-orange-500"}):q<.2?o({label:"Serious",color:"text-indigo-500"}):o({label:"Balanced",color:"text-green-500"}),x=requestAnimationFrame(b)};return b(),()=>cancelAnimationFrame(x)},[t,e]),e?c.jsxs("div",{className:"flex flex-col items-center space-y-2 mt-4 animate-in fade-in",children:[c.jsx("div",{className:`text-lg font-bold ${a.color} transition-colors duration-300`,children:a.label}),c.jsxs("div",{className:"flex space-x-4 text-xs text-slate-400",children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:"h-16 w-4 bg-slate-800 rounded-full overflow-hidden relative",children:c.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-cyan-500 transition-all duration-100",style:{height:`${Math.min(n.volume*200,100)}%`}})}),c.jsx("span",{className:"mt-1",children:"Vol"})]}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:"h-16 w-4 bg-slate-800 rounded-full overflow-hidden relative",children:c.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-purple-500 transition-all duration-100",style:{height:`${Math.min(n.brightness*300,100)}%`}})}),c.jsx("span",{className:"mt-1",children:"Tone"})]})]})]}):null},OV=({apiKey:t})=>{const[e,n]=U.useState("Public Forum (PF)"),[r,a]=U.useState("Proposition/Affirmative"),[o,u]=U.useState(""),[h,m]=U.useState(!1),[p,x]=U.useState(0),[b,w]=U.useState(null),[v,S]=U.useState(null),[k,R]=U.useState(null),[M,P]=U.useState(!1),[q,te]=U.useState(null),[W,G]=U.useState(""),[z,I]=U.useState(!1),[L,A]=U.useState(!1),{addSession:C}=fl(),O=U.useRef(null),D=U.useRef(null),ue=U.useRef([]),oe=U.useRef(null),K=U.useRef(null),ce=V=>{const ke=Math.floor(V/60),st=V%60;return`${ke}:${st<10?"0":""}${st}`},ge=async()=>{G("");try{const V=await navigator.mediaDevices.getUserMedia({audio:!0});K.current=V;const ke=new(window.AudioContext||window.webkitAudioContext),st=ke.createAnalyser();ke.createMediaStreamSource(V).connect(st),st.fftSize=256,oe.current=ke,R(st),O.current=new MediaRecorder(V),ue.current=[],O.current.ondataavailable=wt=>{wt.data.size>0&&ue.current.push(wt.data)},O.current.onstop=()=>{const wt=new Blob(ue.current,{type:"audio/webm"});w(wt);const jt=new FileReader;jt.readAsDataURL(wt),jt.onloadend=()=>{const Nt=jt.result.split(",")[1];S({raw:Nt,mimeType:wt.type})},K.current&&K.current.getTracks().forEach(Nt=>Nt.stop()),oe.current&&(oe.current.close(),oe.current=null,R(null))},O.current.start(),m(!0),x(0),S(null),w(null),te(null),D.current=setInterval(()=>x(wt=>wt+1),1e3)}catch(V){G("Could not access microphone. Ensure permissions are granted."),console.error(V)}},Re=()=>{O.current&&h&&(O.current.stop(),m(!1),clearInterval(D.current))},F=()=>{S(null),w(null),x(0),te(null),G("")},Ze=async()=>{if(!t){G("Please enter a valid Gemini API Key in Settings.");return}if(!v){G("Please record audio first.");return}P(!0),G(""),te(null);try{const ke=new ei(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),st=`
        Expert Speech Coach. Listen to audio. 
        Context: ${e}, ${r}, Topic: ${o}. 
        Evaluate: 
        1. Vocal Delivery (Pace, Tone, Fluency, Emotion). 
        2. Content (Clarity, Persuasion). 
        3. Score (0-100).
        
        Please provide the output in the following Markdown format:
        ## Executive Summary
        (Brief overview)

        ## Scorecard
        | Category | Score (0-10) | Notes |
        | --- | --- | --- |
        | Vocal Delivery | | |
        | Content | | |
        | Persuasion | | |
        | **Total** | **(Sum)** | |

        ## Detailed Feedback
        ...
      `,Je={inlineData:{data:v.raw,mimeType:v.mimeType}},Nt=(await(await ke.generateContent([st,Je])).response).text();te(Nt),C({type:"coach",title:o||"Live Coaching Session",input:{duration:ce(p)},result:Nt,metadata:{speechType:e,side:r,topic:o,recordingDuration:p}}),A(!0),setTimeout(()=>A(!1),2e3)}catch(V){console.error("Gemini Error:",V),G(`Error: ${V.message}. Please try again.`)}finally{P(!1)}},Ve=()=>{q&&(navigator.clipboard.writeText(q),I(!0),setTimeout(()=>I(!1),2e3))};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Live Coaching"}),c.jsx("p",{className:"text-slate-400 mt-1",children:"Record and analyze your speech in real-time"})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[c.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[c.jsxs("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Format"}),c.jsx("select",{value:e,onChange:V=>n(V.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all",children:Xf.map(V=>c.jsx("option",{value:V,children:V},V))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Side"}),c.jsx("select",{value:r,onChange:V=>a(V.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all",children:eT.map(V=>c.jsx("option",{value:V,children:V},V))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Topic"}),c.jsx("input",{type:"text",value:o,onChange:V=>u(V.target.value),placeholder:"Topic or Resolution...",className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all"})]})]}),c.jsxs("div",{className:"flex-1 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[c.jsx("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50",children:c.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Live Recording"})}),c.jsxs("div",{className:"flex-1 p-8 flex flex-col items-center justify-center space-y-8",children:[c.jsx("div",{className:`text-6xl font-mono font-bold tracking-tighter ${h?"text-red-500 animate-pulse":"text-white"}`,children:ce(p)}),c.jsxs("div",{className:"w-full max-w-md",children:[c.jsx(RV,{analyser:k,isRecording:h}),c.jsx(DV,{analyser:k,isRecording:h})]}),c.jsx("div",{className:"flex items-center gap-4",children:h?c.jsx("button",{onClick:Re,className:"w-20 h-20 rounded-full bg-slate-700 hover:bg-slate-600 flex items-center justify-center shadow-lg transition-all hover:scale-110 active:scale-95",children:c.jsx(yE,{className:"w-6 h-6 text-white fill-current"})}):c.jsx("button",{onClick:ge,className:"w-20 h-20 rounded-full bg-gradient-to-br from-red-500 to-red-600 hover:from-red-400 hover:to-red-500 flex items-center justify-center shadow-lg shadow-red-500/30 transition-all hover:scale-110 active:scale-95",children:c.jsx(el,{className:"w-8 h-8 text-white"})})}),b&&!h&&c.jsxs("div",{className:"flex items-center gap-4 animate-in fade-in",children:[c.jsx("audio",{controls:!0,src:URL.createObjectURL(b),className:"h-12 rounded-xl"}),c.jsx("button",{onClick:F,className:"p-3 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:c.jsx(mE,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"p-4 border-t border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[c.jsx("span",{className:"text-xs text-slate-500 font-medium",children:b?"Audio recorded":"Ready to record"}),c.jsxs("button",{onClick:Ze,disabled:M||!v,className:"px-6 py-2.5 rounded-xl bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold shadow-lg shadow-purple-500/25 hover:shadow-purple-500/40 hover:scale-[1.02] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center gap-2",children:[M?c.jsx(da,{className:"w-4 h-4 animate-spin"}):c.jsx(Ag,{className:"w-4 h-4"}),M?"Analyzing...":"Analyze Audio"]})]})]}),W&&c.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 text-red-400",children:[c.jsx(br,{className:"w-5 h-5 flex-shrink-0"}),c.jsx("span",{className:"text-sm",children:W})]})]}),c.jsxs("div",{className:"w-full lg:w-1/2 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[c.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[c.jsx(Ag,{className:"w-5 h-5 text-purple-400"}),"Coaching Feedback"]}),q&&c.jsxs("div",{className:"flex items-center gap-3",children:[L&&c.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1 font-medium",children:[c.jsx(vr,{className:"w-3 h-3"})," Saved"]}),c.jsx("button",{onClick:Ve,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Copy to clipboard",children:z?c.jsx(ea,{className:"w-4 h-4 text-emerald-500"}):c.jsx(ta,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:q?c.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-purple-400 prose-headings:font-semibold prose-a:text-purple-400 prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-3 prose-td:p-3 prose-th:bg-slate-800/50 prose-th:text-left",children:c.jsx(zo,{remarkPlugins:[Uo],children:q})}):c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 py-16",children:[c.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:c.jsx(el,{className:"w-8 h-8"})}),c.jsx("p",{className:"text-center max-w-xs",children:"Record your speech and click Analyze to get AI coaching feedback."})]})})]})]})]})},MV=({apiKey:t})=>{const[e,n]=U.useState("DX"),[r,a]=U.useState("Medium"),[o,u]=U.useState(""),[h,m]=U.useState(!1),[p,x]=U.useState(""),[b,w]=U.useState(!1),[v,S]=U.useState(!1),{addSession:k}=fl(),R=async()=>{if(!t){x("Please enter a valid Gemini API Key in Settings.");return}m(!0),u(""),x("");try{const q=new ei(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),te=`Generate a single ${r} difficulty Extemporaneous Speaking question for the category ${e==="DX"?"United States Domestic Extemp (DX)":"International Extemp (NX)"}. The question should be current, relevant to 2024-2025 events, and formatted as a question. Do not include any other text.`,I=(await(await q.generateContent(te)).response).text().trim().replace(/^"|"$/g,"");u(I),k({type:"extemp",title:`${e} Question - ${r}`,input:{question:I},result:I,metadata:{category:e,difficulty:r}}),S(!0),setTimeout(()=>S(!1),2e3)}catch(P){console.error("Gemini Error:",P);try{const te=new ei(t).getGenerativeModel({model:"gemini-1.5-flash"});x(`Error: ${P.message}. Please try again.`)}catch{x(`Error: ${P.message}`)}}finally{m(!1)}},M=()=>{o&&(navigator.clipboard.writeText(o),w(!0),setTimeout(()=>w(!1),2e3))};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Extemp Generator"}),c.jsx("p",{className:"text-slate-400 mt-1",children:"Generate practice questions for extemporaneous speaking"})]}),c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsxs("div",{className:"p-8 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm space-y-8",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Category"}),c.jsxs("div",{className:"flex bg-slate-900/50 rounded-xl p-1 border border-slate-800",children:[c.jsx("button",{onClick:()=>n("DX"),className:`px-5 py-2.5 rounded-lg text-sm font-medium transition-all ${e==="DX"?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:"Domestic (DX)"}),c.jsx("button",{onClick:()=>n("NX"),className:`px-5 py-2.5 rounded-lg text-sm font-medium transition-all ${e==="NX"?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:"International (NX)"})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Difficulty Level"}),c.jsx("div",{className:"grid grid-cols-3 gap-4",children:["Easy","Medium","Hard"].map(P=>c.jsx("button",{onClick:()=>a(P),className:`py-4 rounded-xl border transition-all font-medium ${r===P?"bg-cyan-500/10 border-cyan-500/30 text-cyan-400 shadow-lg shadow-cyan-500/10":"bg-slate-900/30 border-slate-800 text-slate-400 hover:border-slate-700 hover:bg-slate-800/50"}`,children:P},P))})]}),c.jsxs("button",{onClick:R,disabled:h,className:"w-full py-4 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white text-lg font-semibold shadow-lg shadow-cyan-500/25 hover:shadow-cyan-500/40 hover:scale-[1.01] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center gap-3",children:[h?c.jsx(da,{className:"w-6 h-6 animate-spin"}):c.jsx(zs,{className:"w-6 h-6"}),h?"Generating Question...":"Generate New Question"]}),p&&c.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 text-red-400",children:[c.jsx(br,{className:"w-5 h-5 flex-shrink-0"}),c.jsx("span",{className:"text-sm",children:p})]}),o&&c.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4",children:c.jsxs("div",{className:"bg-slate-900/80 border border-slate-700 rounded-2xl p-8 relative group",children:[c.jsxs("p",{className:"text-xl md:text-2xl font-serif text-center text-white leading-relaxed",children:['"',o,'"']}),c.jsx("button",{onClick:M,className:"absolute top-4 right-4 p-2.5 text-slate-400 hover:text-white bg-slate-800/50 hover:bg-slate-700 rounded-xl transition-all opacity-0 group-hover:opacity-100",title:"Copy to clipboard",children:b?c.jsx(ea,{className:"w-5 h-5 text-emerald-500"}):c.jsx(ta,{className:"w-5 h-5"})}),v&&c.jsxs("span",{className:"absolute top-4 left-4 text-xs text-emerald-400 flex items-center gap-1 bg-emerald-500/10 px-3 py-1.5 rounded-lg font-medium",children:[c.jsx(vr,{className:"w-3 h-3"})," Saved to history"]})]})})]})})]})},PV=({apiKey:t})=>{const e=U.useMemo(()=>Xf.filter(C=>To[C]===Ie.DEBATE),[]),[n,r]=U.useState(e[0]||"Public Forum (PF)"),[a,o]=U.useState("Proposition/Affirmative"),[u,h]=U.useState(""),[m,p]=U.useState(""),[x,b]=U.useState("comprehensive"),[w,v]=U.useState(!1),[S,k]=U.useState(null),[R,M]=U.useState(""),[P,q]=U.useState(!1),[te,W]=U.useState(!1),{addSession:G}=fl(),z=U.useMemo(()=>p0(n),[n]),I=[{id:"comprehensive",label:"Full Strategy",icon:kn,description:"Complete debate strategy with arguments, rebuttals, and flow"},{id:"arguments",label:"Argument Builder",icon:Ao,description:"Focus on constructing strong arguments"},{id:"rebuttals",label:"Rebuttal Prep",icon:gE,description:"Anticipate and counter opponent arguments"},{id:"crossfire",label:"Cross-Ex Prep",icon:Oj,description:"Strategic questions and responses"}],L=async()=>{if(!t){M("Please enter a valid Gemini API Key in Settings.");return}if(!u.trim()){M("Please enter the debate topic or resolution.");return}v(!0),M(""),k(null);try{const O=new ei(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),D={comprehensive:`You are an expert Debate Coach preparing a student for a ${n} debate.

**Topic/Resolution:** ${u}
**Side:** ${a}
${m?`**Additional Context:** ${m}`:""}

Generate a COMPREHENSIVE DEBATE STRATEGY. Include:

##  Strategic Overview
A brief (2-3 sentence) overview of the best approach for this position.

##  Core Framework
The central theme/value/criterion that should anchor all arguments.

##  Main Arguments (3-4)
For each argument provide:
### Argument 1: [Compelling Title]
- **Claim**: The main assertion (1 sentence)
- **Warrant**: The logical reasoning (2-3 sentences)
- **Impact**: Why this matters - include magnitude, timeframe, probability
- **Evidence Needed**: Specific types of sources/data to find
- **Tag Line**: A memorable 5-7 word summary

##  Anticipated Opponent Arguments
For the top 3 likely opponent arguments:
### Counter to: [Their Argument]
- **Their likely claim**: What they'll say
- **Your response strategy**: How to refute it
- **Turn potential**: Can you flip this to your advantage?

##  Cross-Examination Strategy
### Questions to Ask
1. [Strategic question with goal]
2. [Strategic question with goal]
3. [Strategic question with goal]

### Likely Questions You'll Face
- [Question]  [Prepared response]
- [Question]  [Prepared response]

##  Flow Visualization
\`\`\`

                      ${a.toUpperCase()} FLOW                 

 CONSTRUCTIVE  REBUTTAL      SUMMARY       FINAL FOCUS       

 [Arg 1]      [Extend]     [Voters]     [Key takeaway]       

 [Arg 2]      [Respond]    [Weigh]      [Emotional close]    

\`\`\`

##  Time Allocation
| Speech | Time | Focus |
|--------|------|-------|
| Constructive | X min | ... |
| Rebuttal | X min | ... |
| Summary | X min | ... |
| Final Focus | X min | ... |

##  Win Conditions
The 2-3 things that MUST happen to win this round:
1. ...
2. ...
3. ...

##  Power Phrases
5 memorable phrases to use during the round:
1. "..."
2. "..."
3. "..."
4. "..."
5. "..."
`,arguments:`You are an expert Debate Coach specializing in argument construction for ${n}.

**Topic/Resolution:** ${u}
**Side:** ${a}
${m?`**Additional Context:** ${m}`:""}

Generate 4-5 STRONG ARGUMENTS for this position:

## Argument Analysis Framework

For EACH argument, provide:

###  Argument [N]: [Compelling Title]

#### The Claim
A clear, assertive 1-sentence statement.

#### Logical Structure
- **Premise 1**: ...
- **Premise 2**: ...
- **Conclusion**: ...

#### Warrant Deep-Dive
Explain the logical reasoning in 3-4 sentences. Why does the claim follow from the evidence?

#### Impact Calculus
| Factor | Assessment |
|--------|------------|
| **Magnitude** | How big is the impact? |
| **Probability** | How likely? |
| **Timeframe** | When does it occur? |
| **Reversibility** | Can it be undone? |

#### Evidence Guide
- **Statistics needed**: ...
- **Expert quotes**: Types of experts to cite
- **Case studies**: Historical/current examples to find
- **Logical backing**: Philosophical/theoretical support

#### Delivery Tips
- Opening hook: "..."
- Key transition phrases
- Powerful conclusion line

#### Vulnerability Analysis
- Weakest point of this argument
- How opponents might attack
- Pre-emptive defense strategy

---

## Argument Hierarchy
Rank arguments by strength and when to deploy them:
1. **Strongest** (Lead with this): Argument X
2. **Most Emotional** (Final Focus): Argument Y
3. **Technical** (For experienced judges): Argument Z
`,rebuttals:`You are an expert Debate Coach specializing in rebuttal strategy for ${n}.

**Topic/Resolution:** ${u}
**Your Side:** ${a}
**Opponent's Side:** ${a.includes("Affirmative")||a.includes("Pro")?"Opposition/Negative":"Proposition/Affirmative"}
${m?`**Additional Context:** ${m}`:""}

Generate a COMPREHENSIVE REBUTTAL PREPARATION guide:

##  Opponent Argument Predictions

### Predicted Argument 1: [Title]
**What they'll likely say:**
> [Their argument in their words]

**Why this is flawed:**
- Logical flaw: ...
- Evidence problem: ...
- Impact overreach: ...

**Your Rebuttal Response:**
"[Exact words to say - 30-45 seconds]"

**The Turn (flip it to your advantage):**
"Actually, this argument supports OUR side because..."

---

### Predicted Argument 2: [Title]
[Same structure]

---

### Predicted Argument 3: [Title]
[Same structure]

---

##  Defense Blocks

### If They Attack Your [Argument 1]:
**Their likely attack:** ...
**Your defense:** "[30-second response]"

### If They Attack Your [Argument 2]:
**Their likely attack:** ...
**Your defense:** "[30-second response]"

##  Quick-Fire Responses
One-liner responses to common attacks:

| If they say... | You respond... |
|----------------|----------------|
| "..." | "..." |
| "..." | "..." |
| "..." | "..." |

##  Weighing Mechanisms
How to compare impacts when both sides have valid points:

### Magnitude Weighing
"Even if they win X, our impact of Y is larger because..."

### Probability Weighing
"Their impact is speculative, while ours is empirically proven..."

### Timeframe Weighing
"Their impact is long-term and uncertain, our harm is happening now..."

##  Kill Shots
Arguments that completely devastate common opponent positions:

1. **Against [common position]:** ...
2. **Against [common position]:** ...
`,crossfire:`You are an expert Debate Coach specializing in Cross-Examination/Crossfire strategy for ${n}.

**Topic/Resolution:** ${u}
**Your Side:** ${a}
${m?`**Additional Context:** ${m}`:""}

Generate a COMPREHENSIVE CROSS-EXAMINATION STRATEGY:

##  Your Questioning Strategy

### Goal-Oriented Questions
Each question should serve a strategic purpose:

#### Setup Questions (Establish facts)
1. **Question:** "..."
   - **Goal:** Get them to admit X
   - **Follow-up if yes:** "..."
   - **Follow-up if no:** "..."

2. **Question:** "..."
   - **Goal:** ...

#### Trap Questions (Expose contradictions)
1. **Question:** "..."
   - **The trap:** If they say X, point out Y
   - **Delivery:** Stay calm, don't telegraph

2. **Question:** "..."
   - **The trap:** ...

#### Concession Questions (Get admissions)
1. **Question:** "..."
   - **Looking for:** Them to admit your framing
   - **Use in later speeches:** "They agreed that..."

### Question Sequences
**To undermine their Argument 1:**
1. First ask: "..."
2. Then: "..."
3. Finish with: "..."

**To support your Argument 1:**
1. First ask: "..."
2. Then: "..."
3. Finish with: "..."

##  Defending in Cross-Ex

### Likely Questions You'll Face
| Their Question | Your Response Strategy |
|----------------|----------------------|
| "..." | [Don't concede X, instead say...] |
| "..." | [Bridge to your argument...] |
| "..." | [Ask for clarification to buy time...] |

### Deflection Techniques
- **"That's not the right framing..."** then reframe
- **"The real question is..."** pivot to your ground
- **"We can discuss that, but first..."** delay and redirect

### Trap Avoidance
Common traps and how to spot/avoid them:
1. **The false dichotomy:** They present only two options. Response: "Those aren't the only options..."
2. **The hypothetical spiral:** They create unrealistic scenarios. Response: "In the real world..."
3. **The quote trap:** They try to get quotable admissions. Response: "What I'm saying is..." (reframe)

##  Power Moves

### Taking Control
- "Let me finish this point..."
- "That's a different question, I'm asking about..."
- "With respect, that doesn't answer the question..."

### Memorable Moments
Crossfire zingers (use sparingly):
- "So you're agreeing with us that..."
- "If that's true, then your entire case falls apart..."
- "You've just proven our point..."

##  Time Management
| Phase | Your Goals |
|-------|------------|
| First 30 sec | Establish one key admission |
| Middle | Build your trap sequence |
| Final 30 sec | Land your strongest point |
`},K=(await(await O.generateContent(D[x])).response).text();k(K),G({type:"strategy",title:`${I.find(ce=>ce.id===x)?.label}: ${u.substring(0,50)}`,input:{topic:u,context:m},result:K,metadata:{speechType:n,side:a,topic:u,strategyType:x}}),W(!0),setTimeout(()=>W(!1),2e3)}catch(C){console.error("Gemini Error:",C),M(`Error: ${C.message}. Please try again.`)}finally{v(!1)}},A=()=>{S&&(navigator.clipboard.writeText(S),q(!0),setTimeout(()=>q(!1),2e3))};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Strategy Generator"}),c.jsx("p",{className:"text-slate-400 mt-1",children:"Build winning debate strategies with AI"})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[c.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[c.jsxs("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Debate Format"}),c.jsx("select",{value:n,onChange:C=>r(C.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-all",children:e.map(C=>c.jsx("option",{value:C,children:C},C))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Side"}),c.jsx("select",{value:a,onChange:C=>o(C.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-all",children:z.map(C=>c.jsx("option",{value:C,children:C},C))})]})]}),c.jsx("div",{className:"p-4 rounded-xl bg-blue-500/10 border border-blue-500/20",children:c.jsxs("div",{className:"flex items-center gap-3 text-blue-400 text-sm",children:[c.jsx(w0,{className:"w-5 h-5 flex-shrink-0"}),c.jsx("span",{children:"Strategy Generator is optimized for competitive debate events."})]})}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Topic / Resolution"}),c.jsx("input",{type:"text",value:u,onChange:C=>h(C.target.value),placeholder:"Resolved: The United States should substantially increase...",className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-all"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:["Additional Context ",c.jsx("span",{className:"text-slate-600",children:"(optional)"})]}),c.jsx("textarea",{value:m,onChange:C=>p(C.target.value),placeholder:"E.g., specific arguments you want to focus on, your opponent's known style...",className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-all resize-none h-24"})]})]}),c.jsxs("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-4",children:"Strategy Type"}),c.jsx("div",{className:"grid grid-cols-2 gap-3",children:I.map(C=>{const O=C.icon;return c.jsxs("button",{onClick:()=>b(C.id),className:`p-4 rounded-xl border text-left transition-all ${x===C.id?"bg-orange-500/10 border-orange-500/30 shadow-lg shadow-orange-500/10":"bg-slate-900/30 border-slate-800 hover:border-slate-700 hover:bg-slate-800/50"}`,children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(O,{className:`w-5 h-5 ${x===C.id?"text-orange-400":"text-slate-500"}`}),c.jsx("span",{className:`font-medium ${x===C.id?"text-white":"text-slate-400"}`,children:C.label})]}),c.jsx("p",{className:"text-xs text-slate-500",children:C.description})]},C.id)})})]}),c.jsx("button",{onClick:L,disabled:w||!u.trim(),className:"w-full py-4 rounded-xl bg-gradient-to-r from-orange-500 to-red-500 text-white text-lg font-semibold shadow-lg shadow-orange-500/25 hover:shadow-orange-500/40 hover:scale-[1.01] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center gap-3",children:w?c.jsxs(c.Fragment,{children:[c.jsx(da,{className:"w-5 h-5 animate-spin"}),"Generating Strategy..."]}):c.jsxs(c.Fragment,{children:[c.jsx(xf,{className:"w-5 h-5"}),"Generate Strategy"]})}),R&&c.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 text-red-400",children:[c.jsx(br,{className:"w-5 h-5 flex-shrink-0"}),c.jsx("span",{className:"text-sm",children:R})]})]}),c.jsxs("div",{className:"w-full lg:w-1/2 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[c.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[c.jsx(Cu,{className:"w-5 h-5 text-orange-400"}),"Strategy Playbook"]}),S&&c.jsxs("div",{className:"flex items-center gap-3",children:[te&&c.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1 font-medium",children:[c.jsx(vr,{className:"w-3 h-3"})," Saved"]}),c.jsx("button",{onClick:A,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Copy to clipboard",children:P?c.jsx(ea,{className:"w-4 h-4 text-emerald-500"}):c.jsx(ta,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:S?c.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-orange-400 prose-headings:font-semibold prose-a:text-orange-400 prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-3 prose-td:p-3 prose-th:bg-slate-800/50 prose-th:text-left prose-code:bg-slate-800 prose-code:px-1.5 prose-code:rounded prose-pre:bg-slate-900 prose-pre:border prose-pre:border-slate-700 prose-blockquote:border-l-orange-500 prose-blockquote:bg-slate-900/50 prose-blockquote:py-1",children:c.jsx(zo,{remarkPlugins:[Uo],children:S})}):c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 py-16",children:[c.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:c.jsx(kn,{className:"w-8 h-8"})}),c.jsx("p",{className:"text-center max-w-xs",children:"Enter your debate topic and select a strategy type to generate your personalized playbook."})]})})]})]})]})},gf={judge:{icon:na,label:"Speech Analysis",color:"text-cyan-400",bg:"bg-cyan-500/10 border-cyan-500/20"},board:{icon:kg,label:"Board Evaluation",color:"text-purple-400",bg:"bg-purple-500/10 border-purple-500/20"},coach:{icon:el,label:"Live Coaching",color:"text-emerald-400",bg:"bg-emerald-500/10 border-emerald-500/20"},strategy:{icon:kn,label:"Strategy",color:"text-orange-400",bg:"bg-orange-500/10 border-orange-500/20"},extemp:{icon:dE,label:"Extemp Question",color:"text-amber-400",bg:"bg-amber-500/10 border-amber-500/20"},tone:{icon:b0,label:"Tone Analysis",color:"text-pink-400",bg:"bg-pink-500/10 border-pink-500/20"}},LV=({session:t,onView:e,onDelete:n})=>{const[r,a]=U.useState(!1),o=gf[t.type]||gf.judge,u=o.icon;return c.jsxs("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden group",children:[c.jsx("div",{className:"p-4 cursor-pointer hover:bg-slate-800/30 transition-colors",onClick:()=>a(!r),children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:`p-2.5 rounded-xl border ${o.bg}`,children:c.jsx(u,{className:`w-5 h-5 ${o.color}`})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-lg ${o.bg} ${o.color}`,children:o.label}),t.metadata?.speechType&&c.jsx("span",{className:"text-xs text-slate-500",children:t.metadata.speechType})]}),c.jsx("h3",{className:"font-medium text-white truncate",children:t.title||t.metadata?.topic||"Untitled Session"}),c.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-slate-500",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(v0,{className:"w-3 h-3"}),lT(t.createdAt)]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(yf,{className:"w-3 h-3"}),CV(t.createdAt)]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:h=>{h.stopPropagation(),n(t.id)},className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:"Delete session",children:c.jsx(ku,{className:"w-4 h-4"})}),r?c.jsx(du,{className:"w-5 h-5 text-slate-500"}):c.jsx(ju,{className:"w-5 h-5 text-slate-500"})]})]})}),r&&c.jsxs("div",{className:"border-t border-slate-800/60 p-4 animate-in slide-in-from-top-2",children:[t.metadata&&c.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[t.metadata.side&&c.jsx("span",{className:"text-xs px-2.5 py-1 bg-slate-800/50 rounded-lg text-slate-400 border border-slate-700/50",children:t.metadata.side}),t.metadata.difficulty&&c.jsxs("span",{className:"text-xs px-2.5 py-1 bg-slate-800/50 rounded-lg text-slate-400 border border-slate-700/50",children:[t.metadata.difficulty," difficulty"]})]}),c.jsx("div",{className:"bg-slate-900/50 rounded-xl p-4 max-h-[400px] overflow-y-auto border border-slate-800/50",children:c.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-cyan-400 prose-headings:font-semibold prose-a:text-cyan-400 prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-3 prose-td:p-3 prose-th:bg-slate-800/50",children:c.jsx(zo,{remarkPlugins:[Uo],children:t.result||"No analysis result available"})})}),t.type==="extemp"&&t.input?.question&&c.jsxs("div",{className:"mt-4 p-4 bg-slate-800/30 rounded-xl border border-slate-700/50",children:[c.jsx("h4",{className:"text-xs font-medium text-slate-500 mb-2",children:"Generated Question"}),c.jsxs("p",{className:"text-white font-serif text-lg",children:['"',t.input.question,'"']})]})]})]})},VV=()=>{const{history:t,isLoading:e,stats:n,deleteSession:r,clearHistory:a,exportHistory:o,importHistory:u}=fl(),[h,m]=U.useState(""),[p,x]=U.useState("all"),[b,w]=U.useState(!1),[v,S]=U.useState(null),k=y0.useRef(null),R=t.filter(P=>{const q=p==="all"||P.type===p,te=!h||P.title?.toLowerCase().includes(h.toLowerCase())||P.metadata?.topic?.toLowerCase().includes(h.toLowerCase())||P.result?.toLowerCase().includes(h.toLowerCase());return q&&te}),M=async P=>{const q=P.target.files?.[0];if(q){const te=await u(q);S(te),setTimeout(()=>S(null),3e3),k.current&&(k.current.value="")}};return e?c.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:c.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Session History"}),c.jsxs("p",{className:"text-slate-400 mt-1",children:[n.total," ",n.total===1?"session":"sessions"," recorded"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:o,disabled:t.length===0,className:"p-2.5 text-slate-400 hover:text-white hover:bg-slate-800 rounded-xl transition-colors disabled:opacity-50 border border-slate-800",title:"Export history",children:c.jsx(IC,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>k.current?.click(),className:"p-2.5 text-slate-400 hover:text-white hover:bg-slate-800 rounded-xl transition-colors border border-slate-800",title:"Import history",children:c.jsx(xE,{className:"w-5 h-5"})}),c.jsx("input",{ref:k,type:"file",accept:".json",onChange:M,className:"hidden"}),t.length>0&&c.jsx("button",{onClick:()=>w(!0),className:"p-2.5 text-slate-400 hover:text-red-400 hover:bg-red-500/10 rounded-xl transition-colors border border-slate-800",title:"Clear all history",children:c.jsx(ku,{className:"w-5 h-5"})})]})]}),v&&c.jsx("div",{className:`p-4 rounded-xl flex items-center gap-3 text-sm animate-in fade-in ${v.success?"bg-emerald-500/10 border border-emerald-500/20 text-emerald-400":"bg-red-500/10 border border-red-500/20 text-red-400"}`,children:v.success?c.jsxs(c.Fragment,{children:[c.jsx(ea,{className:"w-5 h-5"}),"Imported ",v.count," sessions successfully"]}):c.jsxs(c.Fragment,{children:[c.jsx(br,{className:"w-5 h-5"}),"Import failed: ",v.error]})}),c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:Object.entries(gf).map(([P,q])=>{const te=q.icon,W=n.byType[P]||0;return c.jsx("button",{onClick:()=>x(p===P?"all":P),className:`p-4 rounded-xl border text-left transition-all ${p===P?"border-cyan-500/30 bg-cyan-500/10 shadow-lg shadow-cyan-500/10":"border-slate-800/60 bg-slate-900/30 hover:bg-slate-800/30 hover:border-slate-700"}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(te,{className:`w-5 h-5 ${q.color}`}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xl font-bold text-white",children:W}),c.jsx("div",{className:"text-xs text-slate-500",children:q.label})]})]})},P)})}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(fu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),c.jsx("input",{type:"text",value:h,onChange:P=>m(P.target.value),placeholder:"Search sessions...",className:"w-full pl-11 pr-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all"})]}),c.jsxs("select",{value:p,onChange:P=>x(P.target.value),className:"px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all w-full sm:w-48",children:[c.jsx("option",{value:"all",children:"All Types"}),Object.entries(gf).map(([P,q])=>c.jsx("option",{value:P,children:q.label},P))]})]}),R.length>0?c.jsx("div",{className:"space-y-4",children:R.map(P=>c.jsx(LV,{session:P,onDelete:r},P.id))}):c.jsx("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm flex flex-col items-center justify-center min-h-[40vh] text-center p-8",children:t.length===0?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:c.jsx(vr,{className:"w-8 h-8 text-slate-600"})}),c.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Sessions Yet"}),c.jsx("p",{className:"text-slate-500 max-w-md",children:"Your analysis sessions will appear here. Try analyzing a speech, using the live coach, or generating a strategy to get started!"})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:c.jsx(fu,{className:"w-8 h-8 text-slate-600"})}),c.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Results Found"}),c.jsx("p",{className:"text-slate-500",children:"No sessions match your search criteria."}),c.jsx("button",{onClick:()=>{m(""),x("all")},className:"mt-4 text-cyan-400 hover:text-cyan-300 font-medium",children:"Clear filters"})]})}),b&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",children:c.jsxs("div",{className:"w-full max-w-md p-6 rounded-2xl border border-slate-800 bg-slate-900 shadow-2xl animate-in zoom-in-95",children:[c.jsxs("div",{className:"flex items-center gap-3 text-red-400 mb-4",children:[c.jsx(br,{className:"w-6 h-6"}),c.jsx("h2",{className:"text-xl font-bold",children:"Clear All History?"})]}),c.jsxs("p",{className:"text-slate-400 mb-6",children:["This will permanently delete all ",n.total," sessions. This action cannot be undone."]}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2.5 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-colors",children:"Cancel"}),c.jsx("button",{onClick:()=>{a(),w(!1)},className:"px-4 py-2.5 rounded-xl bg-red-500 hover:bg-red-600 text-white font-medium transition-colors",children:"Delete All"})]})]})})]})},zV={uncertain:{label:"Uncertain",color:"text-yellow-400",bgColor:"bg-yellow-500/20",icon:qj},moderate:{label:"Moderate",color:"text-blue-400",bgColor:"bg-blue-500/20",icon:E0},strong:{label:"Strong",color:"text-green-400",bgColor:"bg-green-500/20",icon:Ig}},g0={passionate:{label:"Passionate",color:"text-red-400",bgColor:"bg-red-500/20",emoji:""},neutral:{label:"Neutral",color:"text-gray-400",bgColor:"bg-gray-500/20",emoji:""},analytical:{label:"Analytical",color:"text-cyan-400",bgColor:"bg-cyan-500/20",emoji:""},inspiring:{label:"Inspiring",color:"text-purple-400",bgColor:"bg-purple-500/20",emoji:""},urgent:{label:"Urgent",color:"text-orange-400",bgColor:"bg-orange-500/20",emoji:""}},UV={ethos:{label:"Ethos",description:"Credibility & Authority",color:"from-blue-500 to-indigo-500",icon:pE},pathos:{label:"Pathos",description:"Emotional Appeal",color:"from-red-500 to-pink-500",icon:$C},logos:{label:"Logos",description:"Logic & Reasoning",color:"from-green-500 to-emerald-500",icon:Ao}},FV=({sections:t})=>!t||t.length===0?null:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-secondary mb-3",children:[c.jsx(Kr,{className:"w-4 h-4"}),c.jsx("span",{children:"Tone Progression"})]}),c.jsx("div",{className:"flex h-8 rounded-lg overflow-hidden",children:t.map((e,n)=>{const r=g0[e.tone]||g0.neutral;return c.jsxs("div",{className:`flex-1 ${r.bgColor} flex items-center justify-center text-xs font-medium ${r.color} border-r border-bg-primary last:border-r-0 transition-all hover:brightness-125`,title:`${e.label}: ${r.label}`,children:[c.jsx("span",{className:"hidden sm:inline",children:e.label}),c.jsx("span",{className:"sm:hidden",children:r.emoji})]},n)})}),c.jsxs("div",{className:"flex justify-between text-xs text-text-muted",children:[c.jsx("span",{children:"Opening"}),c.jsx("span",{children:"Closing"})]})]}),Tg=({type:t,score:e})=>{const n=UV[t];if(!n)return null;const r=n.icon;return c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`w-8 h-8 rounded-lg bg-gradient-to-br ${n.color} flex items-center justify-center`,children:c.jsx(r,{className:"w-4 h-4 text-white"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-white",children:n.label}),c.jsx("div",{className:"text-xs text-text-muted",children:n.description})]})]}),c.jsxs("span",{className:"text-lg font-bold text-white",children:[e,"%"]})]}),c.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:c.jsx("div",{className:`h-full bg-gradient-to-r ${n.color} transition-all duration-1000 ease-out`,style:{width:`${e}%`}})})]})},BV=({apiKey:t})=>{const[e,n]=U.useState(""),[r,a]=U.useState(!1),[o,u]=U.useState(null),[h,m]=U.useState(null),[p,x]=U.useState(""),[b,w]=U.useState(!1),[v,S]=U.useState(!1),{addSession:k}=fl(),R=async()=>{if(!t){x("Please enter a valid Gemini API Key in Settings.");return}if(!e.trim()){x("Please enter the speech transcript.");return}a(!0),x(""),u(null),m(null);try{const W=new ei(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),G=`You are an expert rhetorical analyst and speech coach. Analyze the following speech for tone, rhetorical techniques, and emotional impact.

SPEECH TEXT:
${e}

Provide your analysis in the following JSON format (ONLY output valid JSON, no markdown):
{
  "overallConfidence": "uncertain" | "moderate" | "strong",
  "dominantTone": "passionate" | "neutral" | "analytical" | "inspiring" | "urgent",
  "rhetoricalAppeals": {
    "ethos": <number 0-100>,
    "pathos": <number 0-100>,
    "logos": <number 0-100>
  },
  "toneProgression": [
    { "label": "Intro", "tone": "neutral" },
    { "label": "Build", "tone": "analytical" },
    { "label": "Peak", "tone": "passionate" },
    { "label": "Close", "tone": "inspiring" }
  ],
  "confidenceIndicators": {
    "hedgingPhrases": ["maybe", "perhaps", "I think"],
    "assertivePhrases": ["clearly", "undoubtedly", "must"],
    "hedgeCount": <number>,
    "assertiveCount": <number>
  },
  "techniques": [
    {
      "name": "Anaphora",
      "description": "Repetition at the beginning of sentences",
      "example": "We will fight... We will win...",
      "effectiveness": "high" | "medium" | "low"
    }
  ],
  "emotionalArc": {
    "opening": { "emotion": "hopeful", "intensity": 60 },
    "middle": { "emotion": "determined", "intensity": 80 },
    "closing": { "emotion": "triumphant", "intensity": 95 }
  },
  "recommendations": [
    "Add more concrete evidence to strengthen logos appeal",
    "Consider varying sentence length for better rhythm"
  ],
  "summary": "A two-sentence summary of the overall rhetorical effectiveness."
}`,L=(await(await W.generateContent(G)).response).text();let A;try{const C=L.match(/\{[\s\S]*\}/);if(C)A=JSON.parse(C[0]);else throw new Error("No JSON found in response")}catch(C){console.error("JSON parse error:",C),u(L);return}m(A),k({type:"tone",title:"Tone Analysis",input:{transcript:e.substring(0,500)+(e.length>500?"...":"")},result:JSON.stringify(A,null,2),metadata:{confidence:A.overallConfidence,dominantTone:A.dominantTone}}),S(!0),setTimeout(()=>S(!1),2e3)}catch(te){console.error("Gemini Error:",te),x(`Error: ${te.message}. Please try again.`)}finally{a(!1)}},M=()=>{h&&(navigator.clipboard.writeText(JSON.stringify(h,null,2)),w(!0),setTimeout(()=>w(!1),2e3))},P=h?.overallConfidence?zV[h.overallConfidence]:null,q=h?.dominantTone?g0[h.dominantTone]:null;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Tone Analysis"}),c.jsx("p",{className:"text-slate-400 mt-1",children:"Analyze rhetorical impact and emotional tone"})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[c.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[c.jsx("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm space-y-4",children:c.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/30",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(w0,{className:"w-4 h-4 text-purple-400"}),c.jsx("span",{className:"text-sm font-medium text-slate-300",children:"This analysis detects:"})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:["Confidence Level","Emotional Tone","Ethos/Pathos/Logos","Rhetorical Techniques"].map((te,W)=>c.jsx("span",{className:"px-3 py-1.5 text-xs font-medium bg-slate-900/50 text-slate-400 rounded-lg border border-slate-700/50",children:te},W))})]})}),c.jsxs("div",{className:"flex-1 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[c.jsx("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50",children:c.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Speech Transcript"})}),c.jsx("textarea",{value:e,onChange:te=>n(te.target.value),placeholder:"Paste your speech text here for detailed tone and rhetorical analysis...",className:"flex-1 w-full bg-transparent p-4 resize-none focus:outline-none font-mono text-sm text-slate-200 placeholder-slate-600 min-h-[300px]"}),c.jsxs("div",{className:"p-4 border-t border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[c.jsxs("span",{className:"text-xs text-slate-500 font-medium",children:[e.length.toLocaleString()," characters"]}),c.jsxs("button",{onClick:R,disabled:r,className:"px-6 py-2.5 rounded-xl bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold shadow-lg shadow-purple-500/25 hover:shadow-purple-500/40 hover:scale-[1.02] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center gap-2",children:[r?c.jsx(da,{className:"w-4 h-4 animate-spin"}):c.jsx(T0,{className:"w-4 h-4"}),r?"Analyzing...":"Analyze Tone"]})]})]}),p&&c.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 text-red-400",children:[c.jsx(br,{className:"w-5 h-5 flex-shrink-0"}),c.jsx("span",{className:"text-sm",children:p})]})]}),c.jsxs("div",{className:"w-full lg:w-1/2 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[c.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[c.jsx(xf,{className:"w-5 h-5 text-purple-400"}),"Rhetorical Analysis"]}),h&&c.jsxs("div",{className:"flex items-center gap-3",children:[v&&c.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1 font-medium",children:[c.jsx(vr,{className:"w-3 h-3"})," Saved"]}),c.jsx("button",{onClick:M,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Copy to clipboard",children:b?c.jsx(ea,{className:"w-4 h-4 text-emerald-500"}):c.jsx(ta,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:h?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[P&&c.jsxs("div",{className:`p-4 rounded-xl ${P.bgColor} border border-slate-700/50`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(P.icon,{className:`w-5 h-5 ${P.color}`}),c.jsx("span",{className:"text-sm text-slate-400",children:"Confidence"})]}),c.jsx("div",{className:`text-xl font-bold ${P.color}`,children:P.label})]}),q&&c.jsxs("div",{className:`p-4 rounded-xl ${q.bgColor} border border-slate-700/50`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-xl",children:q.emoji}),c.jsx("span",{className:"text-sm text-slate-400",children:"Dominant Tone"})]}),c.jsx("div",{className:`text-xl font-bold ${q.color}`,children:q.label})]})]}),c.jsxs("div",{className:"p-5 rounded-xl bg-slate-800/30 border border-slate-700/30 space-y-4",children:[c.jsxs("h4",{className:"font-semibold text-white flex items-center gap-2",children:[c.jsx(pE,{className:"w-4 h-4 text-purple-400"}),"Rhetorical Appeals"]}),h.rhetoricalAppeals&&c.jsxs("div",{className:"space-y-4",children:[c.jsx(Tg,{type:"ethos",score:h.rhetoricalAppeals.ethos}),c.jsx(Tg,{type:"pathos",score:h.rhetoricalAppeals.pathos}),c.jsx(Tg,{type:"logos",score:h.rhetoricalAppeals.logos})]})]}),h.toneProgression&&c.jsx("div",{className:"p-5 rounded-xl bg-slate-800/30 border border-slate-700/30",children:c.jsx(FV,{sections:h.toneProgression})}),h.techniques&&h.techniques.length>0&&c.jsxs("div",{className:"p-5 rounded-xl bg-slate-800/30 border border-slate-700/30 space-y-3",children:[c.jsx("h4",{className:"font-semibold text-white",children:"Rhetorical Techniques"}),c.jsx("div",{className:"space-y-3",children:h.techniques.map((te,W)=>c.jsxs("div",{className:"p-3 bg-slate-900/50 rounded-lg border border-slate-800",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"font-medium text-white",children:te.name}),c.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${te.effectiveness==="high"?"bg-emerald-500/20 text-emerald-400":te.effectiveness==="medium"?"bg-amber-500/20 text-amber-400":"bg-red-500/20 text-red-400"}`,children:te.effectiveness})]}),c.jsx("p",{className:"text-sm text-slate-500",children:te.description})]},W))})]}),h.recommendations&&c.jsxs("div",{className:"p-5 rounded-xl bg-slate-800/30 border border-slate-700/30 space-y-3",children:[c.jsxs("h4",{className:"font-semibold text-white flex items-center gap-2",children:[c.jsx(Ao,{className:"w-4 h-4 text-amber-400"}),"Recommendations"]}),c.jsx("ul",{className:"space-y-2",children:h.recommendations.map((te,W)=>c.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-400",children:[c.jsx(ea,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),te]},W))})]}),h.summary&&c.jsxs("div",{className:"p-5 rounded-xl bg-purple-500/10 border border-purple-500/20",children:[c.jsx("h4",{className:"font-semibold text-purple-400 mb-2",children:"Summary"}),c.jsx("p",{className:"text-slate-300",children:h.summary})]})]}):o?c.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:c.jsx(zo,{remarkPlugins:[Uo],children:o})}):c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 py-16",children:[c.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:c.jsx(b0,{className:"w-8 h-8"})}),c.jsx("p",{className:"text-center max-w-xs",children:"Paste your speech transcript to analyze rhetorical impact and emotional tone."})]})})]})]})]})},qV=({onSkip:t})=>{const[e,n]=U.useState(!0),[r,a]=U.useState(""),[o,u]=U.useState(""),[h,m]=U.useState(""),[p,x]=U.useState(!1),[b,w]=U.useState(!1),[v,S]=U.useState(""),{login:k,register:R,loginWithGoogle:M,error:P,clearError:q}=_s(),te=async I=>{if(I.preventDefault(),S(""),q(),!r||!o){S("Please fill in all required fields.");return}if(!e&&!h){S("Please enter your name.");return}if(o.length<6){S("Password must be at least 6 characters.");return}w(!0);try{e?await k(r,o):await R(r,o,h)}catch{}finally{w(!1)}},W=async()=>{S(""),q(),w(!0);try{await M()}catch{}finally{w(!1)}},G=()=>{n(!e),S(""),q()},z=v||P;return c.jsxs("div",{className:"min-h-screen bg-bg-primary flex items-center justify-center p-4",children:[c.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-full h-full bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-3xl"}),c.jsx("div",{className:"absolute -bottom-1/2 -right-1/2 w-full h-full bg-gradient-to-tl from-accent/10 to-transparent rounded-full blur-3xl"})]}),c.jsxs("div",{className:"w-full max-w-md relative z-10",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-accent shadow-lg shadow-primary/25 mb-4",children:c.jsx(na,{className:"w-8 h-8 text-white"})}),c.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Adjudicator AI"}),c.jsx("p",{className:"text-text-secondary",children:"Your AI-powered debate coaching platform"})]}),c.jsxs("div",{className:"glass-card space-y-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:e?"Welcome back":"Create your account"}),c.jsx("p",{className:"text-text-muted text-sm mt-1",children:e?"Sign in to continue to your dashboard":"Start your debate coaching journey"})]}),c.jsxs("button",{onClick:W,disabled:b,className:"w-full flex items-center justify-center gap-3 px-4 py-3 bg-white hover:bg-gray-100 text-gray-800 font-medium rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-slate-700"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-4 bg-bg-secondary text-text-muted",children:"or continue with email"})})]}),c.jsxs("form",{onSubmit:te,className:"space-y-4",children:[!e&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Full Name"}),c.jsxs("div",{className:"relative",children:[c.jsx(bE,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),c.jsx("input",{type:"text",value:h,onChange:I=>m(I.target.value),placeholder:"John Doe",className:"input-field pl-10",disabled:b})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Email Address"}),c.jsxs("div",{className:"relative",children:[c.jsx(ij,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),c.jsx("input",{type:"email",value:r,onChange:I=>a(I.target.value),placeholder:"you@example.com",className:"input-field pl-10",disabled:b})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(tj,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),c.jsx("input",{type:p?"text":"password",value:o,onChange:I=>u(I.target.value),placeholder:"",className:"input-field pl-10 pr-10",disabled:b}),c.jsx("button",{type:"button",onClick:()=>x(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-muted hover:text-text-secondary",children:p?c.jsx(VC,{className:"w-5 h-5"}):c.jsx(UC,{className:"w-5 h-5"})})]})]}),z&&c.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-start gap-2 text-red-400 text-sm",children:[c.jsx(br,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),c.jsx("span",{children:z})]}),c.jsx("button",{type:"submit",disabled:b,className:"btn-primary w-full flex items-center justify-center gap-2 py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:b?c.jsx(da,{className:"w-5 h-5 animate-spin"}):c.jsxs(c.Fragment,{children:[e?"Sign In":"Create Account",c.jsx(Cg,{className:"w-4 h-4"})]})})]}),c.jsxs("p",{className:"text-center text-text-secondary text-sm",children:[e?"Don't have an account? ":"Already have an account? ",c.jsx("button",{onClick:G,className:"text-primary hover:text-primary/80 font-medium transition-colors",disabled:b,children:e?"Sign up":"Sign in"})]})]}),c.jsx("div",{className:"text-center mt-6",children:c.jsx("button",{onClick:t,className:"text-text-muted hover:text-text-secondary text-sm transition-colors underline underline-offset-2",children:"Continue as guest (limited features)"})})]})]})},HV=({onGetStarted:t,onContinueAsGuest:e})=>{const[n,r]=U.useState(0),a=[{icon:Gh,title:"Real-time Analysis",description:"Get instant AI feedback on speeches with event-specific rubrics. Identify strengths, weaknesses, and actionable improvements in seconds.",color:"from-cyan-500 to-blue-500",delay:.1},{icon:sa,title:"Team Collaboration",description:"Manage your entire debate squad in one place. Share strategies, track individual progress, and coordinate team preparation.",color:"from-purple-500 to-pink-500",delay:.2},{icon:Kr,title:"Performance Insights",description:"Deep analytics on speaking patterns, argument effectiveness, and improvement trends. Data-driven coaching for measurable results.",color:"from-orange-500 to-red-500",delay:.3},{icon:Yi,title:"Tournament Tracking",description:"Log competition results, monitor rankings, and analyze performance across events. See what strategies win at the highest levels.",color:"from-green-500 to-emerald-500",delay:.4}],o=[{icon:Gh,text:"Instant AI feedback in seconds"},{icon:gE,text:"Event-specific evaluation rubrics"},{icon:Kr,text:"Track progress over time"},{icon:Cu,text:"Personalized improvement drills"}],u=[{quote:"This completely transformed how I prepare for tournaments. My speaker points jumped 2 points!",author:"Sarah M.",role:"Public Forum Debater",avatar:""},{quote:"The strategy generator helped me anticipate every argument my opponents made at State.",author:"Marcus T.",role:"Lincoln-Douglas Champion",avatar:""},{quote:"Finally, feedback that understands the difference between Informative and Extemp. Game changer.",author:"Emily R.",role:"Speech Coach",avatar:""}];U.useEffect(()=>{const p=setInterval(()=>{r(x=>(x+1)%u.length)},5e3);return()=>clearInterval(p)},[]);const h={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},m={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return c.jsxs("div",{className:"min-h-screen bg-bg-primary overflow-hidden",children:[c.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-full h-full bg-gradient-to-br from-primary/20 via-transparent to-transparent rounded-full blur-3xl animate-pulse"}),c.jsx("div",{className:"absolute -bottom-1/2 -right-1/2 w-full h-full bg-gradient-to-tl from-accent/20 via-transparent to-transparent rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),c.jsx("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-gradient-to-br from-cyan-500/10 to-purple-500/10 rounded-full blur-3xl animate-float"})]}),c.jsx("nav",{className:"relative z-10 px-6 py-4",children:c.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[c.jsxs(Ae.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary to-accent flex items-center justify-center shadow-lg shadow-primary/25",children:c.jsx(na,{className:"w-5 h-5 text-white"})}),c.jsx("span",{className:"text-xl font-bold text-white",children:"Adjudicator AI"})]}),c.jsxs(Ae.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex items-center gap-4",children:[c.jsx("button",{onClick:e,className:"text-text-secondary hover:text-white transition-colors px-4 py-2",children:"Try Free"}),c.jsxs("button",{onClick:t,className:"btn-primary flex items-center gap-2",children:["Sign In",c.jsx(Cg,{className:"w-4 h-4"})]})]})]})}),c.jsx("section",{className:"relative z-10 px-6 pt-16 pb-24",children:c.jsx("div",{className:"max-w-7xl mx-auto",children:c.jsxs(Ae.div,{initial:"hidden",animate:"visible",variants:h,className:"text-center max-w-4xl mx-auto",children:[c.jsxs(Ae.div,{variants:m,className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/20 mb-8",children:[c.jsx(xf,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"text-sm text-primary font-medium",children:"Trusted by 500+ Competitive Teams"})]}),c.jsxs(Ae.h1,{variants:m,className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",children:[c.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary via-cyan-400 to-accent",children:"AI-Powered"}),c.jsx("span",{className:"text-white",children:" Debate Coaching"}),c.jsx("br",{}),c.jsx("span",{className:"text-white",children:"for "}),c.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-accent",children:"Competitive Teams"})]}),c.jsx(Ae.p,{variants:m,className:"text-xl text-text-secondary mb-10 max-w-2xl mx-auto",children:"Elite debate programs use Adjudicator AI to analyze speeches in real-time, track team performance, and gain competitive insights that win tournaments."}),c.jsxs(Ae.div,{variants:m,className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-12",children:[c.jsx("button",{onClick:t,className:"group relative px-8 py-4 bg-gradient-to-r from-primary to-cyan-400 rounded-xl font-semibold text-white shadow-lg shadow-primary/25 hover:shadow-xl hover:shadow-primary/30 transition-all hover:scale-105",children:c.jsxs("span",{className:"flex items-center gap-2",children:["Start Free Trial",c.jsx(Cg,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})}),c.jsxs("button",{onClick:e,className:"group px-8 py-4 rounded-xl font-semibold text-text-secondary hover:text-white border border-slate-700 hover:border-slate-600 hover:bg-slate-800/50 transition-all flex items-center gap-2",children:[c.jsx(hu,{className:"w-5 h-5"}),"Watch Demo"]})]}),c.jsxs(Ae.div,{variants:m,className:"flex flex-col sm:flex-row items-center justify-center gap-6 sm:gap-12 text-text-muted",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center",children:c.jsx(sa,{className:"w-5 h-5 text-cyan-400"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-lg font-bold text-white",children:"10,000+"}),c.jsx("div",{className:"text-xs text-text-muted",children:"Active Debaters"})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center",children:c.jsx(Yi,{className:"w-5 h-5 text-yellow-500"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-lg font-bold text-white",children:"500+"}),c.jsx("div",{className:"text-xs text-text-muted",children:"Teams & Schools"})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center",children:c.jsx(_0,{className:"w-5 h-5 text-green-400"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-lg font-bold text-white",children:"1M+"}),c.jsx("div",{className:"text-xs text-text-muted",children:"Speeches Analyzed"})]})]})]})]})})}),c.jsx("section",{className:"relative z-10 px-6 py-24 bg-gradient-to-b from-transparent via-slate-900/50 to-transparent",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs(Ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Everything You Need to Excel"}),c.jsx("p",{className:"text-text-secondary max-w-2xl mx-auto",children:"From speech analysis to strategy building, we've got every aspect of your debate prep covered."})]}),c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((p,x)=>c.jsx(Ae.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:p.delay},whileHover:{y:-5,scale:1.02},className:"group relative",children:c.jsxs("div",{className:"glass-card h-full cursor-pointer",children:[c.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${p.color} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform shadow-lg`,children:c.jsx(p.icon,{className:"w-6 h-6 text-white"})}),c.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:p.title}),c.jsx("p",{className:"text-text-secondary text-sm",children:p.description})]})},p.title))})]})}),c.jsx("section",{className:"relative z-10 px-6 py-24",children:c.jsx("div",{className:"max-w-7xl mx-auto",children:c.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[c.jsxs(Ae.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Why Debaters Choose Us"}),c.jsx("p",{className:"text-text-secondary mb-8",children:"We built this for debaters, by debaters. Every feature is designed to give you a competitive edge."}),c.jsx("div",{className:"space-y-4",children:o.map((p,x)=>c.jsxs(Ae.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:x*.1},className:"flex items-center gap-4 p-4 rounded-xl bg-slate-900/50 border border-slate-800 hover:border-primary/30 transition-colors",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:c.jsx(p.icon,{className:"w-5 h-5 text-primary"})}),c.jsx("span",{className:"text-text-primary font-medium",children:p.text})]},x))})]}),c.jsx(Ae.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"relative",children:c.jsxs("div",{className:"glass-card relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/20 to-accent/20 rounded-full blur-3xl"}),c.jsx(ws,{mode:"wait",children:c.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"relative z-10",children:[c.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((p,x)=>c.jsx(wr,{className:"w-5 h-5 fill-yellow-500 text-yellow-500"},x))}),c.jsxs("blockquote",{className:"text-xl text-white font-medium mb-6 leading-relaxed",children:['"',u[n].quote,'"']}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center text-2xl",children:u[n].avatar}),c.jsxs("div",{children:[c.jsx("div",{className:"text-white font-semibold",children:u[n].author}),c.jsx("div",{className:"text-text-muted text-sm",children:u[n].role})]})]})]},n)}),c.jsx("div",{className:"flex items-center gap-2 mt-6",children:u.map((p,x)=>c.jsx("button",{onClick:()=>r(x),className:`w-2 h-2 rounded-full transition-all ${x===n?"w-6 bg-primary":"bg-slate-700 hover:bg-slate-600"}`},x))})]})})]})})}),c.jsx("section",{className:"relative z-10 px-6 py-24",children:c.jsx(Ae.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"relative rounded-3xl overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 via-accent/20 to-primary/20"}),c.jsx("div",{className:"absolute inset-0 bg-slate-900/80 backdrop-blur-xl"}),c.jsxs("div",{className:"relative z-10 p-12 text-center",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-accent mb-6 shadow-lg shadow-primary/25",children:c.jsx(Yi,{className:"w-8 h-8 text-white"})}),c.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Ready to Win Your Next Round?"}),c.jsx("p",{className:"text-text-secondary mb-8 max-w-lg mx-auto",children:"Join thousands of debaters already using AI to sharpen their skills and dominate competitions."}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[c.jsxs("button",{onClick:t,className:"group px-8 py-4 bg-white text-slate-900 rounded-xl font-semibold hover:bg-gray-100 transition-all hover:scale-105 flex items-center gap-2",children:["Start Free Today",c.jsx(ju,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),c.jsx("button",{onClick:e,className:"px-8 py-4 text-white font-semibold hover:underline underline-offset-4",children:"Continue as Guest"})]})]})]})})}),c.jsx("footer",{className:"relative z-10 px-6 py-16 border-t border-slate-800 bg-slate-900/50",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-12",children:[c.jsxs("div",{className:"col-span-2 md:col-span-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary to-accent flex items-center justify-center shadow-lg shadow-primary/25",children:c.jsx(na,{className:"w-5 h-5 text-white"})}),c.jsx("span",{className:"text-lg font-bold text-white",children:"Adjudicator AI"})]}),c.jsx("p",{className:"text-text-muted text-sm mb-4",children:"AI-powered debate coaching platform for competitive teams and speech programs."}),c.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[[...Array(5)].map((p,x)=>c.jsx(wr,{className:"w-4 h-4 fill-yellow-500 text-yellow-500"},x)),c.jsx("span",{className:"text-sm text-text-muted ml-2",children:"4.9/5"})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-white font-semibold mb-4",children:"Product"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Speech Analysis"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Strategy Generator"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Live Coaching"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Team Analytics"})})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-white font-semibold mb-4",children:"Resources"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Documentation"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Debate Guides"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Event Rubrics"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"API Access"})})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-white font-semibold mb-4",children:"Company"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"About Us"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Contact"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Privacy Policy"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Terms of Service"})})]})]})]}),c.jsxs("div",{className:"pt-8 border-t border-slate-800 flex flex-col md:flex-row items-center justify-between gap-4",children:[c.jsx("div",{className:"text-text-muted text-sm",children:" 2025 Adjudicator AI. All rights reserved."}),c.jsx("div",{className:"flex items-center gap-6",children:c.jsx("span",{className:"text-text-muted text-sm",children:"Built for debaters, by debaters."})})]})]})})]})},GV=async(t,e)=>{const n=Nn(We,"users",t,"debates");return(await ya(n,{...e,createdAt:Ct(),updatedAt:Ct()})).id},$V=async(t,e={})=>{const n=Nn(We,"users",t,"debates");let r=es(n,dl("createdAt","desc"));return e.format&&(r=es(r,wy("format","==",e.format))),e.limit&&(r=es(r,Sy(e.limit))),(await ga(r)).docs.map(o=>({id:o.id,...o.data()}))},YV=async t=>{const e=await $V(t),n={},r={},a={},o={};return e.forEach(u=>{n[u.format]||(n[u.format]={wins:0,losses:0,total:0}),n[u.format].total++,u.result==="win"?n[u.format].wins++:u.result==="loss"&&n[u.format].losses++,u.tournament&&(r[u.tournament]||(r[u.tournament]={wins:0,losses:0,total:0,speakerPoints:[]}),r[u.tournament].total++,u.result==="win"?r[u.tournament].wins++:r[u.tournament].losses++,u.speakerPoints&&r[u.tournament].speakerPoints.push(u.speakerPoints));const h=u.createdAt?.toDate?.()||new Date(u.createdAt),m=`${h.getFullYear()}-${String(h.getMonth()+1).padStart(2,"0")}`;a[m]||(a[m]={wins:0,losses:0,total:0,avgScore:[]}),a[m].total++,u.result==="win"?a[m].wins++:a[m].losses++,u.score&&a[m].avgScore.push(u.score),u.opponent&&(o[u.opponent]||(o[u.opponent]={wins:0,losses:0,total:0}),o[u.opponent].total++,u.result==="win"?o[u.opponent].wins++:o[u.opponent].losses++)}),{totalDebates:e.length,totalWins:e.filter(u=>u.result==="win").length,totalLosses:e.filter(u=>u.result==="loss").length,winRate:e.length>0?(e.filter(u=>u.result==="win").length/e.length*100).toFixed(1):0,formatStats:n,tournamentStats:r,monthlyStats:a,opponentStats:o,recentDebates:e.slice(0,10)}},QV=async(t,e)=>{const n=Nn(We,"users",t,"opponents");return(await ya(n,{...e,createdAt:Ct(),updatedAt:Ct()})).id},KV=async(t,e,n)=>{const r=en(We,"users",t,"opponents",e);await Bs(r,{...n,updatedAt:Ct()})},XV=async t=>{const e=Nn(We,"users",t,"opponents"),n=es(e,dl("updatedAt","desc"));return(await ga(n)).docs.map(a=>({id:a.id,...a.data()}))},WV=async(t,e)=>{const n=en(We,"users",t,"opponents",e);await Ty(n)},JV=async(t,e,n)=>{const r=en(We,"users",t,"opponents",e);await Bs(r,{notes:No({id:Date.now().toString(),content:n,createdAt:new Date().toISOString()}),updatedAt:Ct()})},ZV=async(t,e)=>{const n=Nn(We,"users",t,"evidence");return(await ya(n,{...e,usageCount:0,usedInDebates:[],createdAt:Ct(),updatedAt:Ct()})).id},ez=async(t,e,n)=>{const r=en(We,"users",t,"evidence",e);await Bs(r,{...n,updatedAt:Ct()})},tz=async(t,e={})=>{const n=Nn(We,"users",t,"evidence");let r=es(n,dl("createdAt","desc"));e.limit&&(r=es(r,Sy(e.limit)));let o=(await ga(r)).docs.map(u=>({id:u.id,...u.data()}));if(e.tag&&(o=o.filter(u=>u.tags?.includes(e.tag))),e.search){const u=e.search.toLowerCase();o=o.filter(h=>h.title?.toLowerCase().includes(u)||h.content?.toLowerCase().includes(u)||h.source?.toLowerCase().includes(u))}return o},nz=async(t,e)=>{const n=en(We,"users",t,"evidence",e);await Ty(n)},sz=async(t,e,n)=>{const r=en(We,"users",t,"evidence",e),a=await qf(r);a.exists()&&await Bs(r,{usageCount:(a.data().usageCount||0)+1,usedInDebates:No(n),lastUsed:Ct()})},rz=async(t,e)=>{const n=Nn(We,"users",t,"practice");return(await ya(n,{...e,createdAt:Ct()})).id},oT=async(t,e={})=>{const n=Nn(We,"users",t,"practice");let r=es(n,dl("createdAt","desc"));return e.type&&(r=es(r,wy("type","==",e.type))),e.limit&&(r=es(r,Sy(e.limit))),(await ga(r)).docs.map(o=>({id:o.id,...o.data()}))},iz=async t=>{const e=await oT(t),n={totalSessions:e.length,totalTime:e.reduce((u,h)=>u+(h.duration||0),0),byType:{},streak:0,avgScore:0};e.forEach(u=>{n.byType[u.type]||(n.byType[u.type]={count:0,totalScore:0}),n.byType[u.type].count++,u.score&&(n.byType[u.type].totalScore+=u.score)});const r=e.filter(u=>u.score);r.length>0&&(n.avgScore=(r.reduce((u,h)=>u+h.score,0)/r.length).toFixed(1));const a=new Date;let o=0;for(let u=0;u<365;u++){const h=new Date(a);h.setDate(h.getDate()-u);const m=h.toISOString().split("T")[0];if(e.some(x=>(x.createdAt?.toDate?.()||new Date(x.createdAt)).toISOString().split("T")[0]===m))o++;else if(u>0)break}return n.streak=o,n},az=async(t,e)=>{const n=Nn(We,"teams"),r=await ya(n,{...e,ownerId:t,members:[{id:t,role:"owner",joinedAt:new Date().toISOString()}],inviteCode:Math.random().toString(36).substring(2,8).toUpperCase(),createdAt:Ct(),updatedAt:Ct()}),a=en(We,"users",t);return await Bs(a,{teams:No(r.id)}),r.id},lz=async t=>{const e=en(We,"teams",t),n=await qf(e);return n.exists()?{id:n.id,...n.data()}:null},oz=async t=>{const e=en(We,"users",t),n=await qf(e);if(!n.exists())return[];const r=n.data().teams||[];return(await Promise.all(r.map(o=>lz(o)))).filter(Boolean)},cz=async(t,e)=>{const n=Nn(We,"teams"),r=es(n,wy("inviteCode","==",e.toUpperCase())),a=await ga(r);if(a.empty)throw new Error("Invalid invite code");const o=a.docs[0];if(o.data().members.some(h=>h.id===t))throw new Error("Already a member of this team");return await Bs(en(We,"teams",o.id),{members:No({id:t,role:"member",joinedAt:new Date().toISOString()}),updatedAt:Ct()}),await Bs(en(We,"users",t),{teams:No(o.id)}),o.id},uz=async(t,e)=>{const n=Nn(We,"teams",t,"documents");return(await ya(n,{...e,createdAt:Ct(),updatedAt:Ct()})).id},dz=async t=>{const e=Nn(We,"teams",t,"documents"),n=es(e,dl("updatedAt","desc"));return(await ga(n)).docs.map(a=>({id:a.id,...a.data()}))},hz=async(t,e)=>{const n=Nn(We,"users",t,"tournaments");return(await ya(n,{...e,rounds:[],createdAt:Ct(),updatedAt:Ct()})).id},fz=async(t,e,n)=>{const r=en(We,"users",t,"tournaments",e);await Bs(r,{...n,updatedAt:Ct()})},mz=async t=>{const e=Nn(We,"users",t,"tournaments"),n=es(e,dl("date","desc"));return(await ga(n)).docs.map(a=>({id:a.id,...a.data()}))},pz=async(t,e)=>{const n=en(We,"users",t,"tournaments",e);await Ty(n)},gz=async(t,e,n)=>{const r=en(We,"users",t,"tournaments",e);await Bs(r,{rounds:No({id:Date.now().toString(),...n,createdAt:new Date().toISOString()}),updatedAt:Ct()})},yz=async(t,e)=>{const n=Nn(We,"users",t,"judges");return(await ya(n,{...e,createdAt:Ct(),updatedAt:Ct()})).id},xz=async t=>{const e=Nn(We,"users",t,"judges"),n=es(e,dl("name"));return(await ga(n)).docs.map(a=>({id:a.id,...a.data()}))},bz=async(t,e,n)=>{const r=en(We,"users",t,"judges",e);await Bs(r,{...n,updatedAt:Ct()})},vz=()=>{const{user:t}=_s(),[e,n]=U.useState(null),[r,a]=U.useState(!0),[o,u]=U.useState(null),h=U.useCallback(async()=>{if(!t?.uid){a(!1);return}try{a(!0);const p=await YV(t.uid);n(p),u(null)}catch(p){console.error("Error fetching analytics:",p),u(p.message)}finally{a(!1)}},[t?.uid]);return U.useEffect(()=>{h()},[h]),{analytics:e,loading:r,error:o,refetch:h,saveDebate:async p=>{if(!t?.uid)throw new Error("Not authenticated");const x=await GV(t.uid,p);return await h(),x}}},wz=()=>{const{user:t}=_s(),[e,n]=U.useState([]),[r,a]=U.useState(!0),[o,u]=U.useState(null),h=U.useCallback(async()=>{if(!t?.uid){a(!1);return}try{a(!0);const w=await XV(t.uid);n(w),u(null)}catch(w){console.error("Error fetching opponents:",w),u(w.message)}finally{a(!1)}},[t?.uid]);return U.useEffect(()=>{h()},[h]),{opponents:e,loading:r,error:o,refetch:h,addOpponent:async w=>{if(!t?.uid)throw new Error("Not authenticated");const v=await QV(t.uid,w);return await h(),v},updateOpponent:async(w,v)=>{if(!t?.uid)throw new Error("Not authenticated");await KV(t.uid,w,v),await h()},deleteOpponent:async w=>{if(!t?.uid)throw new Error("Not authenticated");await WV(t.uid,w),await h()},addNote:async(w,v)=>{if(!t?.uid)throw new Error("Not authenticated");await JV(t.uid,w,v),await h()}}},_z=(t={})=>{const{user:e}=_s(),[n,r]=U.useState([]),[a,o]=U.useState(!0),[u,h]=U.useState(null),[m,p]=U.useState(t),x=U.useCallback(async()=>{if(!e?.uid){o(!1);return}try{o(!0);const R=await tz(e.uid,m);r(R),h(null)}catch(R){console.error("Error fetching evidence:",R),h(R.message)}finally{o(!1)}},[e?.uid,m]);U.useEffect(()=>{x()},[x]);const b=async R=>{if(!e?.uid)throw new Error("Not authenticated");const M=await ZV(e.uid,R);return await x(),M},w=async(R,M)=>{if(!e?.uid)throw new Error("Not authenticated");await ez(e.uid,R,M),await x()},v=async R=>{if(!e?.uid)throw new Error("Not authenticated");await nz(e.uid,R),await x()},S=async(R,M)=>{if(!e?.uid)throw new Error("Not authenticated");await sz(e.uid,R,M),await x()},k=[...new Set(n.flatMap(R=>R.tags||[]))];return{evidence:n,loading:a,error:u,filters:m,setFilters:p,allTags:k,refetch:x,addEvidence:b,updateEvidence:w,deleteEvidence:v,trackUsage:S}},Ez=()=>{const{user:t}=_s(),[e,n]=U.useState([]),[r,a]=U.useState(null),[o,u]=U.useState(!0),[h,m]=U.useState(null),p=U.useCallback(async()=>{if(!t?.uid){u(!1);return}try{u(!0);const[b,w]=await Promise.all([oT(t.uid,{limit:50}),iz(t.uid)]);n(b),a(w),m(null)}catch(b){console.error("Error fetching practice data:",b),m(b.message)}finally{u(!1)}},[t?.uid]);return U.useEffect(()=>{p()},[p]),{sessions:e,stats:r,loading:o,error:h,refetch:p,saveSession:async b=>{if(!t?.uid)throw new Error("Not authenticated");const w=await rz(t.uid,b);return await p(),w}}},Nz=()=>{const{user:t}=_s(),[e,n]=U.useState([]),[r,a]=U.useState(!0),[o,u]=U.useState(null),h=U.useCallback(async()=>{if(!t?.uid){a(!1);return}try{a(!0);const x=await oz(t.uid);n(x),u(null)}catch(x){console.error("Error fetching teams:",x),u(x.message)}finally{a(!1)}},[t?.uid]);return U.useEffect(()=>{h()},[h]),{teams:e,loading:r,error:o,refetch:h,createTeam:async x=>{if(!t?.uid)throw new Error("Not authenticated");const b=await az(t.uid,x);return await h(),b},joinTeam:async x=>{if(!t?.uid)throw new Error("Not authenticated");const b=await cz(t.uid,x);return await h(),b}}},Sz=()=>{const{user:t}=_s(),[e,n]=U.useState([]),[r,a]=U.useState(!0),[o,u]=U.useState(null),h=U.useCallback(async()=>{if(!t?.uid){a(!1);return}try{a(!0);const w=await mz(t.uid);n(w),u(null)}catch(w){console.error("Error fetching tournaments:",w),u(w.message)}finally{a(!1)}},[t?.uid]);return U.useEffect(()=>{h()},[h]),{tournaments:e,loading:r,error:o,refetch:h,addTournament:async w=>{if(!t?.uid)throw new Error("Not authenticated");const v=await hz(t.uid,w);return await h(),v},updateTournament:async(w,v)=>{if(!t?.uid)throw new Error("Not authenticated");await fz(t.uid,w,v),await h()},deleteTournament:async w=>{if(!t?.uid)throw new Error("Not authenticated");await pz(t.uid,w),await h()},addRound:async(w,v)=>{if(!t?.uid)throw new Error("Not authenticated");await gz(t.uid,w,v),await h()}}},Tz=()=>{const{user:t}=_s(),[e,n]=U.useState([]),[r,a]=U.useState(!0),[o,u]=U.useState(null),h=U.useCallback(async()=>{if(!t?.uid){a(!1);return}try{a(!0);const x=await xz(t.uid);n(x),u(null)}catch(x){console.error("Error fetching judges:",x),u(x.message)}finally{a(!1)}},[t?.uid]);return U.useEffect(()=>{h()},[h]),{judges:e,loading:r,error:o,refetch:h,addJudge:async x=>{if(!t?.uid)throw new Error("Not authenticated");const b=await yz(t.uid,x);return await h(),b},updateJudge:async(x,b)=>{if(!t?.uid)throw new Error("Not authenticated");await bz(t.uid,x,b),await h()}}},Az=["Public Forum","Lincoln-Douglas","Policy","Congress","World Schools","Extemp","Original Oratory","Impromptu"],Cz=({onAddDebate:t})=>c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"p-4 rounded-full bg-slate-800/50 border border-slate-700/50 mb-6 mx-auto w-fit",children:c.jsx(Kr,{className:"w-12 h-12 text-slate-500"})}),c.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Debate Records Yet"}),c.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-6",children:"Start tracking your debates to see comprehensive analytics, win rates, and performance trends."}),c.jsxs("button",{onClick:t,className:"px-6 py-3 rounded-xl bg-cyan-500/10 border border-cyan-500/30 text-cyan-400 font-medium hover:bg-cyan-500/20 transition-all inline-flex items-center gap-2",children:[c.jsx(jn,{className:"w-5 h-5"}),"Record Your First Debate"]})]}),jz=({isOpen:t,onClose:e,onSave:n})=>{const[r,a]=U.useState({date:new Date().toISOString().split("T")[0],format:"Public Forum",tournament:"",round:"Round 1",opponent:"",opponentSchool:"",side:"Pro",result:"win",speakerPoints:"",score:"",topic:"",notes:""});if(!t)return null;const o=u=>{u.preventDefault(),n({...r,speakerPoints:r.speakerPoints?parseFloat(r.speakerPoints):null,score:r.score?parseInt(r.score):null}),e()};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:c.jsxs(Ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-2xl bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"p-6 border-b border-slate-800",children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:"Record Debate"}),c.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Track your performance and build your analytics"})]}),c.jsxs("form",{onSubmit:o,className:"p-6 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Date"}),c.jsx("input",{type:"date",value:r.date,onChange:u=>a({...r,date:u.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Format"}),c.jsx("select",{value:r.format,onChange:u=>a({...r,format:u.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none",children:Az.map(u=>c.jsx("option",{value:u,children:u},u))})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Tournament"}),c.jsx("input",{type:"text",value:r.tournament,onChange:u=>a({...r,tournament:u.target.value}),placeholder:"e.g., Harvard Invitational",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Round"}),c.jsx("select",{value:r.round,onChange:u=>a({...r,round:u.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none",children:["Round 1","Round 2","Round 3","Round 4","Round 5","Round 6","Octofinals","Quarterfinals","Semifinals","Finals"].map(u=>c.jsx("option",{value:u,children:u},u))})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Opponent Name"}),c.jsx("input",{type:"text",value:r.opponent,onChange:u=>a({...r,opponent:u.target.value}),placeholder:"Opponent's name",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Opponent School"}),c.jsx("input",{type:"text",value:r.opponentSchool,onChange:u=>a({...r,opponentSchool:u.target.value}),placeholder:"School name",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none"})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Side"}),c.jsxs("select",{value:r.side,onChange:u=>a({...r,side:u.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none",children:[c.jsx("option",{value:"Pro",children:"Pro/Aff"}),c.jsx("option",{value:"Con",children:"Con/Neg"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Result"}),c.jsxs("select",{value:r.result,onChange:u=>a({...r,result:u.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none",children:[c.jsx("option",{value:"win",children:"Win"}),c.jsx("option",{value:"loss",children:"Loss"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Speaker Points"}),c.jsx("input",{type:"number",step:"0.1",min:"20",max:"30",value:r.speakerPoints,onChange:u=>a({...r,speakerPoints:u.target.value}),placeholder:"28.5",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Topic/Resolution"}),c.jsx("input",{type:"text",value:r.topic,onChange:u=>a({...r,topic:u.target.value}),placeholder:"The debate resolution...",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Notes"}),c.jsx("textarea",{value:r.notes,onChange:u=>a({...r,notes:u.target.value}),placeholder:"Key takeaways, what worked, areas to improve...",rows:3,className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none resize-none"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-800",children:[c.jsx("button",{type:"button",onClick:e,className:"px-5 py-2.5 rounded-xl text-slate-400 hover:text-white transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-6 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors",children:"Save Debate"})]})]})]})})},jh=({label:t,value:e,change:n,icon:r,color:a,subtitle:o})=>{const u=n>0,h=n===0;return c.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative group",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl"}),c.jsx("div",{className:"relative p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm hover:border-slate-700/60 transition-all",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-400 font-medium",children:t}),c.jsx("p",{className:"text-3xl font-bold text-white mt-2 tracking-tight",children:e}),n!==void 0&&c.jsxs("div",{className:`flex items-center gap-1 mt-1 text-sm font-medium ${h?"text-slate-500":u?"text-emerald-400":"text-red-400"}`,children:[h?c.jsx(E0,{className:"w-4 h-4"}):u?c.jsx(rC,{className:"w-4 h-4"}):c.jsx(tC,{className:"w-4 h-4"}),c.jsx("span",{children:h?"No change":`${Math.abs(n)}%`}),c.jsx("span",{className:"text-slate-500 ml-1",children:"vs last month"})]}),o&&c.jsx("p",{className:"text-sm text-slate-500 mt-1",children:o})]}),c.jsx("div",{className:`p-3 rounded-xl bg-${a}-500/10 border border-${a}-500/20`,children:c.jsx(r,{className:`w-6 h-6 text-${a}-400`})})]})})]})},kz=({data:t})=>{const e=t.wins+t.losses,n=e>0?t.wins/e*100:0;return c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("div",{className:"relative w-32 h-32",children:[c.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[c.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"12",fill:"none",className:"text-slate-800"}),c.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"12",fill:"none",strokeDasharray:`${n*2.51} 251`,className:"text-cyan-500",strokeLinecap:"round"})]}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("span",{className:"text-2xl font-bold text-white",children:[n.toFixed(0),"%"]})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-cyan-500"}),c.jsxs("span",{className:"text-slate-300",children:[t.wins," Wins"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-700"}),c.jsxs("span",{className:"text-slate-300",children:[t.losses," Losses"]})]}),c.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:[e," total debates"]})]})]})},Iz=({data:t})=>{const e=Object.keys(t).sort().slice(-12),n=e.map(a=>{const o=t[a];return o.total>0?o.wins/o.total*100:0}),r=Math.max(...n,100);return e.length===0?c.jsx("div",{className:"flex items-center justify-center h-48 text-slate-500",children:"No trend data available yet"}):c.jsx("div",{className:"relative h-48",children:c.jsx("div",{className:"absolute inset-0 flex items-end justify-between gap-1 px-2",children:n.map((a,o)=>c.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2",children:[c.jsx(Ae.div,{initial:{height:0},animate:{height:`${a/r*100}%`},transition:{delay:o*.05,duration:.5},className:"w-full bg-gradient-to-t from-cyan-500/80 to-cyan-400/40 rounded-t-lg relative group cursor-pointer hover:from-cyan-400 hover:to-cyan-300/60 transition-all min-h-[4px]",children:c.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 px-2 py-1 bg-slate-800 rounded text-xs text-white font-medium opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[a.toFixed(0),"%"]})}),c.jsx("span",{className:"text-xs text-slate-500",children:e[o].split("-")[1]})]},e[o]))})})},Rz=({data:t})=>{const e=Object.entries(t);return e.length===0?c.jsx("div",{className:"text-center py-8 text-slate-500",children:"No format data available"}):c.jsx("div",{className:"space-y-4",children:e.map(([n,r])=>{const a=r.total>0?r.wins/r.total*100:0;return c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-slate-300 font-medium",children:n}),c.jsxs("span",{className:"text-slate-400 text-sm",children:[r.wins,"W - ",r.losses,"L (",a.toFixed(0),"%)"]})]}),c.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:c.jsx(Ae.div,{initial:{width:0},animate:{width:`${a}%`},transition:{duration:.5},className:`h-full rounded-full ${a>=70?"bg-emerald-500":a>=50?"bg-cyan-500":a>=30?"bg-amber-500":"bg-red-500"}`})})]},n)})})},Dz=({data:t})=>{const e=Object.entries(t).map(([n,r])=>({name:n,...r,winRate:r.total>0?r.wins/r.total*100:0})).sort((n,r)=>r.total-n.total).slice(0,10);return e.length===0?c.jsx("div",{className:"text-center py-8 text-slate-500",children:"No opponent data available"}):c.jsx("div",{className:"space-y-3",children:e.map((n,r)=>c.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl bg-slate-800/30 border border-slate-800/50 hover:bg-slate-800/50 transition-all",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-700 flex items-center justify-center text-white font-medium text-sm",children:r+1}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-white font-medium truncate",children:n.name}),c.jsxs("p",{className:"text-slate-500 text-sm",children:[n.total," debates"]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:`font-semibold ${n.winRate>=50?"text-emerald-400":"text-red-400"}`,children:[n.winRate.toFixed(0),"%"]}),c.jsxs("p",{className:"text-slate-500 text-xs",children:[n.wins,"W-",n.losses,"L"]})]})]},n.name))})},Oz=({apiKey:t})=>{const{user:e,isAuthenticated:n}=_s(),{analytics:r,loading:a,refetch:o,saveDebate:u}=vz(),[h,m]=U.useState(!1),[p,x]=U.useState("overview"),b=async v=>{try{await u(v)}catch(S){console.error("Error saving debate:",S)}},w=r&&r.totalDebates>0;return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[c.jsx(Kr,{className:"w-8 h-8 text-cyan-400"}),"Analytics"]}),c.jsx("p",{className:"text-slate-400 mt-1",children:"Track your debate performance and progress"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:o,className:"p-2.5 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",title:"Refresh",children:c.jsx(zs,{className:"w-5 h-5"})}),c.jsxs("button",{onClick:()=>m(!0),className:"px-4 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors flex items-center gap-2",children:[c.jsx(jn,{className:"w-5 h-5"}),"Record Debate"]})]})]}),c.jsx("div",{className:"flex items-center gap-2 p-1 bg-slate-900/50 rounded-xl border border-slate-800/50 w-fit",children:[{id:"overview",label:"Overview"},{id:"trends",label:"Trends"},{id:"opponents",label:"Head-to-Head"},{id:"formats",label:"By Format"}].map(v=>c.jsx("button",{onClick:()=>x(v.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${p===v.id?"bg-slate-800 text-white":"text-slate-400 hover:text-white"}`,children:v.label},v.id))}),a?c.jsx("div",{className:"flex items-center justify-center py-20",children:c.jsx(zs,{className:"w-8 h-8 text-cyan-400 animate-spin"})}):w?c.jsxs(c.Fragment,{children:[p==="overview"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(jh,{label:"Total Debates",value:r.totalDebates,icon:el,color:"cyan"}),c.jsx(jh,{label:"Win Rate",value:`${r.winRate}%`,change:5,icon:Yi,color:"emerald"}),c.jsx(jh,{label:"Total Wins",value:r.totalWins,icon:aC,color:"purple"}),c.jsx(jh,{label:"Total Losses",value:r.totalLosses,icon:kn,color:"orange"})]}),c.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[c.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Win/Loss Ratio"}),c.jsx(kz,{data:{wins:r.totalWins,losses:r.totalLosses}})]}),c.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Performance by Format"}),c.jsx(Rz,{data:r.formatStats})]})]}),c.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Recent Debates"}),c.jsx("div",{className:"space-y-3",children:r.recentDebates.slice(0,5).map((v,S)=>c.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-slate-800/30 border border-slate-800/50",children:[c.jsx("div",{className:`w-2 h-12 rounded-full ${v.result==="win"?"bg-emerald-500":"bg-red-500"}`}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-white font-medium",children:v.tournament||"Practice"}),c.jsx("span",{className:"text-slate-500",children:""}),c.jsx("span",{className:"text-slate-400",children:v.format})]}),c.jsxs("p",{className:"text-slate-500 text-sm",children:["vs ",v.opponent||"Unknown","  ",v.round]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${v.result==="win"?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-400"}`,children:v.result==="win"?"Win":"Loss"}),v.speakerPoints&&c.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:[v.speakerPoints," speaks"]})]})]},v.id||S))})]})]}),p==="trends"&&c.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Win Rate Trend (Last 12 Months)"}),c.jsx(Iz,{data:r.monthlyStats})]}),p==="opponents"&&c.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Head-to-Head Records"}),c.jsx(Dz,{data:r.opponentStats})]}),p==="formats"&&c.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Detailed Format Analysis"}),c.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Object.entries(r.formatStats).map(([v,S])=>{const k=S.total>0?S.wins/S.total*100:0;return c.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-800/50",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h4",{className:"text-white font-semibold",children:v}),c.jsxs("span",{className:`text-2xl font-bold ${k>=50?"text-emerald-400":"text-red-400"}`,children:[k.toFixed(0),"%"]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-white",children:S.total}),c.jsx("p",{className:"text-slate-500 text-sm",children:"Total"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:S.wins}),c.jsx("p",{className:"text-slate-500 text-sm",children:"Wins"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-red-400",children:S.losses}),c.jsx("p",{className:"text-slate-500 text-sm",children:"Losses"})]})]})]},v)})})]})]}):c.jsx("div",{className:"p-8 rounded-2xl border border-slate-800/60 bg-slate-900/30",children:c.jsx(Cz,{onAddDebate:()=>m(!0)})}),c.jsx(ws,{children:h&&c.jsx(jz,{isOpen:h,onClose:()=>m(!1),onSave:b})})]})},Yc=["gemini-2.0-flash-exp","gemini-1.5-flash"];async function cT(t,e,n=[]){for(const r of Yc)try{const a=[{text:e}];n.length>0&&n.forEach(h=>{h.base64&&a.push({inline_data:{mime_type:h.mimeType||"image/jpeg",data:h.base64}})});const o=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${r}:generateContent?key=${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:a}]})});if(!o.ok){const h=await o.json().catch(()=>({}));if(r===Yc[Yc.length-1])throw new Error(`Gemini API Error: ${h.error?.message||o.statusText}`);continue}return(await o.json()).candidates?.[0]?.content?.parts?.[0]?.text||""}catch(a){if(r===Yc[Yc.length-1])throw a}}const Mz=({onAdd:t})=>c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"p-4 rounded-full bg-slate-800/50 border border-slate-700/50 mb-6 mx-auto w-fit",children:c.jsx(sa,{className:"w-12 h-12 text-slate-500"})}),c.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Opponents Tracked Yet"}),c.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-6",children:"Start building your opponent database to track patterns, weaknesses, and develop winning counter-strategies."}),c.jsxs("button",{onClick:t,className:"px-6 py-3 rounded-xl bg-cyan-500/10 border border-cyan-500/30 text-cyan-400 font-medium hover:bg-cyan-500/20 transition-all inline-flex items-center gap-2",children:[c.jsx(bf,{className:"w-5 h-5"}),"Add Your First Opponent"]})]}),Pz=({isOpen:t,onClose:e,onSave:n,opponent:r=null})=>{const[a,o]=U.useState(r||{name:"",school:"",format:"Public Forum",skillLevel:"intermediate",debateStyle:"",strengths:[],weaknesses:[],commonArguments:[],notes:[],threatLevel:3}),[u,h]=U.useState(""),[m,p]=U.useState(""),[x,b]=U.useState("");if(!t)return null;const w=(k,R,M)=>{R.trim()&&(o({...a,[k]:[...a[k]||[],R.trim()]}),M(""))},v=(k,R)=>{o({...a,[k]:a[k].filter((M,P)=>P!==R)})},S=k=>{k.preventDefault(),n(a),e()};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:c.jsxs(Ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-3xl bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"p-6 border-b border-slate-800 sticky top-0 bg-slate-900 z-10",children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:r?"Edit Opponent":"Add New Opponent"}),c.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Build your opponent intelligence profile"})]}),c.jsxs("form",{onSubmit:S,className:"p-6 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Name *"}),c.jsx("input",{type:"text",value:a.name,onChange:k=>o({...a,name:k.target.value}),placeholder:"Opponent's name",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"School"}),c.jsx("input",{type:"text",value:a.school,onChange:k=>o({...a,school:k.target.value}),placeholder:"School/Team name",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none"})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Primary Format"}),c.jsx("select",{value:a.format,onChange:k=>o({...a,format:k.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none",children:["Public Forum","Lincoln-Douglas","Policy","Congress","World Schools","Extemp"].map(k=>c.jsx("option",{value:k,children:k},k))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Skill Level"}),c.jsxs("select",{value:a.skillLevel,onChange:k=>o({...a,skillLevel:k.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none",children:[c.jsx("option",{value:"novice",children:"Novice"}),c.jsx("option",{value:"intermediate",children:"Intermediate"}),c.jsx("option",{value:"advanced",children:"Advanced"}),c.jsx("option",{value:"elite",children:"Elite/National"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Threat Level"}),c.jsx("div",{className:"flex items-center gap-1 pt-2",children:[1,2,3,4,5].map(k=>c.jsx("button",{type:"button",onClick:()=>o({...a,threatLevel:k}),className:`p-1 transition-all ${k<=a.threatLevel?"text-amber-400":"text-slate-600"}`,children:c.jsx(wr,{className:"w-6 h-6 fill-current"})},k))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Debate Style"}),c.jsx("textarea",{value:a.debateStyle,onChange:k=>o({...a,debateStyle:k.target.value}),placeholder:"Describe their general approach (aggressive, technical, narrative-focused...)",rows:2,className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none resize-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Strengths"}),c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:u,onChange:k=>h(k.target.value),placeholder:"Add a strength...",className:"flex-1 px-4 py-2 rounded-lg bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none",onKeyPress:k=>k.key==="Enter"&&(k.preventDefault(),w("strengths",u,h))}),c.jsx("button",{type:"button",onClick:()=>w("strengths",u,h),className:"px-4 py-2 rounded-lg bg-emerald-500/10 border border-emerald-500/30 text-emerald-400 hover:bg-emerald-500/20 transition-all",children:c.jsx(jn,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:a.strengths?.map((k,R)=>c.jsxs("span",{className:"px-3 py-1 rounded-full bg-emerald-500/10 border border-emerald-500/30 text-emerald-400 text-sm flex items-center gap-2",children:[k,c.jsx("button",{type:"button",onClick:()=>v("strengths",R),className:"hover:text-white",children:c.jsx(eu,{className:"w-3 h-3"})})]},R))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Weaknesses"}),c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:m,onChange:k=>p(k.target.value),placeholder:"Add a weakness...",className:"flex-1 px-4 py-2 rounded-lg bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none",onKeyPress:k=>k.key==="Enter"&&(k.preventDefault(),w("weaknesses",m,p))}),c.jsx("button",{type:"button",onClick:()=>w("weaknesses",m,p),className:"px-4 py-2 rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 hover:bg-red-500/20 transition-all",children:c.jsx(jn,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:a.weaknesses?.map((k,R)=>c.jsxs("span",{className:"px-3 py-1 rounded-full bg-red-500/10 border border-red-500/30 text-red-400 text-sm flex items-center gap-2",children:[k,c.jsx("button",{type:"button",onClick:()=>v("weaknesses",R),className:"hover:text-white",children:c.jsx(eu,{className:"w-3 h-3"})})]},R))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Common Arguments"}),c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:x,onChange:k=>b(k.target.value),placeholder:"Add an argument they frequently use...",className:"flex-1 px-4 py-2 rounded-lg bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none",onKeyPress:k=>k.key==="Enter"&&(k.preventDefault(),w("commonArguments",x,b))}),c.jsx("button",{type:"button",onClick:()=>w("commonArguments",x,b),className:"px-4 py-2 rounded-lg bg-cyan-500/10 border border-cyan-500/30 text-cyan-400 hover:bg-cyan-500/20 transition-all",children:c.jsx(jn,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:a.commonArguments?.map((k,R)=>c.jsxs("span",{className:"px-3 py-1 rounded-full bg-cyan-500/10 border border-cyan-500/30 text-cyan-400 text-sm flex items-center gap-2",children:[k,c.jsx("button",{type:"button",onClick:()=>v("commonArguments",R),className:"hover:text-white",children:c.jsx(eu,{className:"w-3 h-3"})})]},R))})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-800",children:[c.jsx("button",{type:"button",onClick:e,className:"px-5 py-2.5 rounded-xl text-slate-400 hover:text-white transition-colors",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"px-6 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors flex items-center gap-2",children:[c.jsx(S0,{className:"w-5 h-5"}),r?"Update":"Save"," Opponent"]})]})]})]})})},Lz=({opponent:t,onEdit:e,onDelete:n,onView:r,onGenerateStrategy:a})=>{const[o,u]=U.useState(!1),h={1:"text-green-400",2:"text-green-400",3:"text-amber-400",4:"text-orange-400",5:"text-red-400"},m={novice:"bg-green-500/10 text-green-400 border-green-500/30",intermediate:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30",advanced:"bg-purple-500/10 text-purple-400 border-purple-500/30",elite:"bg-amber-500/10 text-amber-400 border-amber-500/30"};return c.jsxs(Ae.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-5 rounded-2xl border border-slate-800/60 bg-slate-900/30 hover:border-slate-700/60 transition-all",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-slate-700 to-slate-800 flex items-center justify-center text-white font-bold text-lg",children:t.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:t.name}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.school&&c.jsxs("span",{className:"text-slate-400 text-sm flex items-center gap-1",children:[c.jsx(_j,{className:"w-3 h-3"}),t.school]}),c.jsx("span",{className:"text-slate-600",children:""}),c.jsx("span",{className:"text-slate-400 text-sm",children:t.format})]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(p=>c.jsx(wr,{className:`w-4 h-4 ${p<=t.threatLevel?h[t.threatLevel]:"text-slate-700"} ${p<=t.threatLevel?"fill-current":""}`},p))}),c.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium border ${m[t.skillLevel]}`,children:t.skillLevel})]})]}),t.debateStyle&&c.jsx("p",{className:"text-slate-400 text-sm mt-3 line-clamp-2",children:t.debateStyle}),c.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[t.strengths?.length>0&&c.jsxs("span",{className:"text-emerald-400 text-sm flex items-center gap-1",children:[c.jsx(Ig,{className:"w-4 h-4"}),t.strengths.length," strengths"]}),t.weaknesses?.length>0&&c.jsxs("span",{className:"text-red-400 text-sm flex items-center gap-1",children:[c.jsx(v1,{className:"w-4 h-4"}),t.weaknesses.length," weaknesses"]}),t.commonArguments?.length>0&&c.jsxs("span",{className:"text-cyan-400 text-sm flex items-center gap-1",children:[c.jsx(kn,{className:"w-4 h-4"}),t.commonArguments.length," known args"]})]}),c.jsx(ws,{children:o&&c.jsx(Ae.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:c.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-800 space-y-4",children:[t.strengths?.length>0&&c.jsxs("div",{children:[c.jsxs("h4",{className:"text-sm font-medium text-slate-400 mb-2 flex items-center gap-2",children:[c.jsx(Ig,{className:"w-4 h-4 text-emerald-400"}),"Strengths"]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:t.strengths.map((p,x)=>c.jsx("span",{className:"px-2 py-1 rounded-lg bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-xs",children:p},x))})]}),t.weaknesses?.length>0&&c.jsxs("div",{children:[c.jsxs("h4",{className:"text-sm font-medium text-slate-400 mb-2 flex items-center gap-2",children:[c.jsx(v1,{className:"w-4 h-4 text-red-400"}),"Weaknesses"]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:t.weaknesses.map((p,x)=>c.jsx("span",{className:"px-2 py-1 rounded-lg bg-red-500/10 border border-red-500/20 text-red-400 text-xs",children:p},x))})]}),t.commonArguments?.length>0&&c.jsxs("div",{children:[c.jsxs("h4",{className:"text-sm font-medium text-slate-400 mb-2 flex items-center gap-2",children:[c.jsx(kn,{className:"w-4 h-4 text-cyan-400"}),"Common Arguments"]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:t.commonArguments.map((p,x)=>c.jsx("span",{className:"px-2 py-1 rounded-lg bg-cyan-500/10 border border-cyan-500/20 text-cyan-400 text-xs",children:p},x))})]})]})})}),c.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-slate-800/50",children:[c.jsxs("button",{onClick:()=>u(!o),className:"text-slate-400 hover:text-white text-sm flex items-center gap-1 transition-colors",children:[o?"Show less":"Show more",c.jsx(du,{className:`w-4 h-4 transition-transform ${o?"rotate-180":""}`})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:()=>a(t),className:"px-3 py-1.5 rounded-lg bg-purple-500/10 border border-purple-500/30 text-purple-400 hover:bg-purple-500/20 transition-all text-sm flex items-center gap-1",children:[c.jsx(Gh,{className:"w-4 h-4"}),"Counter Strategy"]}),c.jsx("button",{onClick:()=>e(t),className:"p-1.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",children:c.jsx(N0,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>n(t.id),className:"p-1.5 rounded-lg text-slate-400 hover:text-red-400 hover:bg-red-500/10 transition-all",children:c.jsx(ku,{className:"w-4 h-4"})})]})]})]})},Vz=({isOpen:t,onClose:e,opponent:n,apiKey:r})=>{const[a,o]=U.useState(null),[u,h]=U.useState(!1),[m,p]=U.useState("");if(!t)return null;const x=async()=>{if(!r){alert("Please configure your Gemini API key in settings");return}h(!0);try{const b=`You are an expert debate coach. Generate a comprehensive counter-strategy for debating against this opponent:

**Opponent Profile:**
- Name: ${n.name}
- School: ${n.school||"Unknown"}
- Format: ${n.format}
- Skill Level: ${n.skillLevel}
- Debate Style: ${n.debateStyle||"Not specified"}
- Known Strengths: ${n.strengths?.join(", ")||"None recorded"}
- Known Weaknesses: ${n.weaknesses?.join(", ")||"None recorded"}
- Common Arguments: ${n.commonArguments?.join(", ")||"None recorded"}

${m?`**Debate Topic:** ${m}`:""}

Provide:
1. **Pre-Round Preparation** - What to research and prepare
2. **Opening Strategy** - How to start the debate
3. **Exploiting Weaknesses** - Specific tactics to use
4. **Defending Against Strengths** - How to neutralize their advantages
5. **Cross-Examination Tips** - Questions to ask
6. **Predicted Arguments & Responses** - What they'll likely argue and how to counter
7. **Key Phrases to Use** - Impactful language
8. **Closing Strategy** - How to finish strong

Format your response with clear headers and bullet points.`,w=await cT(b,r);o(w)}catch(b){console.error("Error generating strategy:",b),o("Error generating strategy. Please check your API key and try again.")}finally{h(!1)}};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:c.jsxs(Ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-4xl bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"p-6 border-b border-slate-800",children:[c.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[c.jsx(Gh,{className:"w-5 h-5 text-purple-400"}),"Counter Strategy Generator"]}),c.jsxs("p",{className:"text-slate-400 text-sm mt-1",children:["Generate AI-powered strategy to defeat ",n.name]})]}),c.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:a?c.jsxs("div",{className:"prose prose-invert max-w-none",children:[c.jsx("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-800/50 whitespace-pre-wrap text-slate-300 leading-relaxed",children:a}),c.jsx("button",{onClick:()=>o(null),className:"mt-4 px-4 py-2 rounded-lg bg-slate-800 text-slate-300 hover:text-white transition-colors",children:"Generate New Strategy"})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Debate Topic (Optional)"}),c.jsx("input",{type:"text",value:m,onChange:b=>p(b.target.value),placeholder:"Enter the debate resolution for topic-specific strategy...",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-purple-500 focus:ring-1 focus:ring-purple-500 outline-none"})]}),c.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-800/50",children:[c.jsx("h3",{className:"text-white font-medium mb-2",children:"Opponent Summary"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-500",children:"Format:"}),c.jsx("span",{className:"text-slate-300 ml-2",children:n.format})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-500",children:"Skill:"}),c.jsx("span",{className:"text-slate-300 ml-2",children:n.skillLevel})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("span",{className:"text-slate-500",children:"Style:"}),c.jsx("span",{className:"text-slate-300 ml-2",children:n.debateStyle||"Unknown"})]})]})]}),c.jsx("button",{onClick:x,disabled:u,className:"w-full py-4 rounded-xl bg-gradient-to-r from-purple-500 to-cyan-500 text-white font-semibold hover:from-purple-400 hover:to-cyan-400 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:u?c.jsxs(c.Fragment,{children:[c.jsx(zs,{className:"w-5 h-5 animate-spin"}),"Generating Strategy..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Ao,{className:"w-5 h-5"}),"Generate Counter Strategy"]})})]})}),c.jsx("div",{className:"p-4 border-t border-slate-800",children:c.jsx("button",{onClick:e,className:"w-full py-2.5 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",children:"Close"})})]})})},zz=({apiKey:t})=>{const{opponents:e,loading:n,addOpponent:r,updateOpponent:a,deleteOpponent:o}=wz(),[u,h]=U.useState(!1),[m,p]=U.useState(null),[x,b]=U.useState(null),[w,v]=U.useState(""),[S,k]=U.useState("all"),R=U.useMemo(()=>e.filter(P=>{const q=!w||P.name.toLowerCase().includes(w.toLowerCase())||P.school?.toLowerCase().includes(w.toLowerCase()),te=S==="all"||P.format===S;return q&&te}),[e,w,S]),M=async P=>{m?(await a(m.id,P),p(null)):await r(P),h(!1)};return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[c.jsx(sa,{className:"w-8 h-8 text-cyan-400"}),"Opponent Intelligence"]}),c.jsx("p",{className:"text-slate-400 mt-1",children:"Track opponents, patterns, and generate winning strategies"})]}),c.jsxs("button",{onClick:()=>h(!0),className:"px-4 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors flex items-center gap-2",children:[c.jsx(bf,{className:"w-5 h-5"}),"Add Opponent"]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(fu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),c.jsx("input",{type:"text",value:w,onChange:P=>v(P.target.value),placeholder:"Search opponents...",className:"w-full pl-12 pr-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none"})]}),c.jsxs("select",{value:S,onChange:P=>k(P.target.value),className:"px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 outline-none",children:[c.jsx("option",{value:"all",children:"All Formats"}),["Public Forum","Lincoln-Douglas","Policy","Congress","World Schools","Extemp"].map(P=>c.jsx("option",{value:P,children:P},P))]})]}),e.length>0&&c.jsx("div",{className:"grid grid-cols-4 gap-4",children:[{label:"Total Opponents",value:e.length,color:"cyan"},{label:"High Threat",value:e.filter(P=>P.threatLevel>=4).length,color:"red"},{label:"With Notes",value:e.filter(P=>P.notes?.length>0).length,color:"purple"},{label:"Elite Level",value:e.filter(P=>P.skillLevel==="elite").length,color:"amber"}].map((P,q)=>c.jsxs("div",{className:`p-4 rounded-xl bg-${P.color}-500/10 border border-${P.color}-500/20`,children:[c.jsx("p",{className:`text-2xl font-bold text-${P.color}-400`,children:P.value}),c.jsx("p",{className:"text-slate-400 text-sm",children:P.label})]},q))}),n?c.jsx("div",{className:"flex items-center justify-center py-20",children:c.jsx(zs,{className:"w-8 h-8 text-cyan-400 animate-spin"})}):e.length===0?c.jsx("div",{className:"p-8 rounded-2xl border border-slate-800/60 bg-slate-900/30",children:c.jsx(Mz,{onAdd:()=>h(!0)})}):R.length===0?c.jsx("div",{className:"text-center py-12 text-slate-400",children:"No opponents match your search"}):c.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:R.map(P=>c.jsx(Lz,{opponent:P,onEdit:q=>{p(q),h(!0)},onDelete:o,onView:()=>{},onGenerateStrategy:q=>b(q)},P.id))}),c.jsxs(ws,{children:[u&&c.jsx(Pz,{isOpen:u,onClose:()=>{h(!1),p(null)},onSave:M,opponent:m}),x&&c.jsx(Vz,{isOpen:!!x,onClose:()=>b(null),opponent:x,apiKey:t})]})]})},Hh={mla:t=>{const e=t.date?new Date(t.date):new Date;return`${t.author||"Unknown"}. "${t.title}." ${t.source||"Unknown Source"}, ${e.getFullYear()}.`},apa:t=>{const e=t.date?new Date(t.date):new Date;return`${t.author||"Unknown"} (${e.getFullYear()}). ${t.title}. ${t.source||"Unknown Source"}.`},chicago:t=>{const e=t.date?new Date(t.date):new Date;return`${t.author||"Unknown"}. "${t.title}." ${t.source||"Unknown Source"}, ${e.getFullYear()}.`}},Uz=({onAdd:t})=>c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"p-4 rounded-full bg-slate-800/50 border border-slate-700/50 mb-6 mx-auto w-fit",children:c.jsx(Cu,{className:"w-12 h-12 text-slate-500"})}),c.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Evidence Cards Yet"}),c.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-6",children:"Build your research library by adding evidence cards. Tag, rate, and track usage across debates."}),c.jsxs("button",{onClick:t,className:"px-6 py-3 rounded-xl bg-cyan-500/10 border border-cyan-500/30 text-cyan-400 font-medium hover:bg-cyan-500/20 transition-all inline-flex items-center gap-2",children:[c.jsx(jn,{className:"w-5 h-5"}),"Add Your First Card"]})]}),Fz=({isOpen:t,onClose:e,onSave:n,evidence:r=null})=>{const[a,o]=U.useState(r||{title:"",content:"",warrantedAnalysis:"",source:"",author:"",date:"",url:"",tags:[],quality:3,format:"Public Forum",side:"neutral"}),[u,h]=U.useState(""),[m,p]=U.useState("content");if(!t)return null;const x=()=>{u.trim()&&!a.tags.includes(u.trim())&&(o({...a,tags:[...a.tags,u.trim()]}),h(""))},b=v=>{o({...a,tags:a.tags.filter(S=>S!==v)})},w=v=>{v.preventDefault(),n(a),e()};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:c.jsxs(Ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-4xl bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"p-6 border-b border-slate-800",children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:r?"Edit Evidence Card":"Add New Evidence"}),c.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Store and organize your research"})]}),c.jsx("div",{className:"flex items-center gap-1 px-6 pt-4 border-b border-slate-800",children:[{id:"content",label:"Content"},{id:"source",label:"Source Info"},{id:"metadata",label:"Tags & Rating"}].map(v=>c.jsx("button",{onClick:()=>p(v.id),className:`px-4 py-2 rounded-t-lg text-sm font-medium transition-all ${m===v.id?"bg-slate-800 text-white":"text-slate-400 hover:text-white"}`,children:v.label},v.id))}),c.jsxs("form",{onSubmit:w,className:"flex-1 overflow-y-auto p-6 space-y-6",children:[m==="content"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Card Title *"}),c.jsx("input",{type:"text",value:a.title,onChange:v=>o({...a,title:v.target.value}),placeholder:"Brief description (e.g., 'Climate change causes extinction')",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Evidence Content *"}),c.jsx("textarea",{value:a.content,onChange:v=>o({...a,content:v.target.value}),placeholder:"Paste the full evidence text here...",rows:8,className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none resize-none font-mono text-sm",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Warranted Analysis"}),c.jsx("textarea",{value:a.warrantedAnalysis,onChange:v=>o({...a,warrantedAnalysis:v.target.value}),placeholder:"Your analysis: Why is this evidence important? How does it support your argument?",rows:4,className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none resize-none"})]})]}),m==="source"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Source Name"}),c.jsx("input",{type:"text",value:a.source,onChange:v=>o({...a,source:v.target.value}),placeholder:"e.g., New York Times, Nature Journal",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Author"}),c.jsx("input",{type:"text",value:a.author,onChange:v=>o({...a,author:v.target.value}),placeholder:"Author name(s)",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Publication Date"}),c.jsx("input",{type:"date",value:a.date,onChange:v=>o({...a,date:v.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"URL"}),c.jsx("input",{type:"url",value:a.url,onChange:v=>o({...a,url:v.target.value}),placeholder:"https://...",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none"})]})]}),c.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-800/50",children:[c.jsx("h4",{className:"text-sm font-medium text-slate-400 mb-3",children:"Citation Preview"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-slate-500 w-16",children:"MLA:"}),c.jsx("span",{className:"text-slate-300",children:Hh.mla(a)})]}),c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-slate-500 w-16",children:"APA:"}),c.jsx("span",{className:"text-slate-300",children:Hh.apa(a)})]}),c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-slate-500 w-16",children:"Chicago:"}),c.jsx("span",{className:"text-slate-300",children:Hh.chicago(a)})]})]})]})]}),m==="metadata"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Format"}),c.jsx("select",{value:a.format,onChange:v=>o({...a,format:v.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none",children:["Public Forum","Lincoln-Douglas","Policy","Congress","World Schools","General"].map(v=>c.jsx("option",{value:v,children:v},v))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Side"}),c.jsxs("select",{value:a.side,onChange:v=>o({...a,side:v.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none",children:[c.jsx("option",{value:"neutral",children:"Neutral"}),c.jsx("option",{value:"pro",children:"Pro/Aff"}),c.jsx("option",{value:"con",children:"Con/Neg"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Quality Rating"}),c.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(v=>c.jsx("button",{type:"button",onClick:()=>o({...a,quality:v}),className:`p-1 transition-all ${v<=a.quality?"text-amber-400":"text-slate-600"}`,children:c.jsx(wr,{className:"w-8 h-8 fill-current"})},v)),c.jsxs("span",{className:"text-slate-400 text-sm ml-2",children:[a.quality===1&&"Weak",a.quality===2&&"Fair",a.quality===3&&"Good",a.quality===4&&"Strong",a.quality===5&&"Excellent"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Tags"}),c.jsxs("div",{className:"flex gap-2 mb-3",children:[c.jsx("input",{type:"text",value:u,onChange:v=>h(v.target.value),placeholder:"Add a tag...",className:"flex-1 px-4 py-2 rounded-lg bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none",onKeyPress:v=>v.key==="Enter"&&(v.preventDefault(),x())}),c.jsx("button",{type:"button",onClick:x,className:"px-4 py-2 rounded-lg bg-cyan-500/10 border border-cyan-500/30 text-cyan-400 hover:bg-cyan-500/20 transition-all",children:c.jsx(jn,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:a.tags.map((v,S)=>c.jsxs("span",{className:"px-3 py-1 rounded-full bg-cyan-500/10 border border-cyan-500/30 text-cyan-400 text-sm flex items-center gap-2",children:[c.jsx(C0,{className:"w-3 h-3"}),v,c.jsx("button",{type:"button",onClick:()=>b(v),className:"hover:text-white",children:c.jsx(eu,{className:"w-3 h-3"})})]},S))}),c.jsxs("div",{className:"mt-3",children:[c.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Suggested tags:"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:["economy","climate","security","healthcare","education","foreign policy","technology","environment"].map(v=>!a.tags.includes(v)&&c.jsxs("button",{type:"button",onClick:()=>o({...a,tags:[...a.tags,v]}),className:"px-2 py-1 rounded-lg bg-slate-800/50 border border-slate-700 text-slate-400 text-xs hover:text-white hover:border-slate-600 transition-all",children:["+ ",v]},v))})]})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-800",children:[c.jsx("button",{type:"button",onClick:e,className:"px-5 py-2.5 rounded-xl text-slate-400 hover:text-white transition-colors",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"px-6 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors flex items-center gap-2",children:[c.jsx(S0,{className:"w-5 h-5"}),r?"Update":"Save"," Card"]})]})]})]})})},Bz=({card:t,onEdit:e,onDelete:n,onCopy:r})=>{const[a,o]=U.useState(!1),[u,h]=U.useState(null),m=["","text-red-400","text-orange-400","text-amber-400","text-emerald-400","text-cyan-400"],p={neutral:"bg-slate-500/10 text-slate-400 border-slate-500/30",pro:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30",con:"bg-red-500/10 text-red-400 border-red-500/30"},x=async w=>{const v=Hh[w](t);await navigator.clipboard.writeText(v),h(w),setTimeout(()=>h(null),2e3)},b=async()=>{await navigator.clipboard.writeText(t.content),r&&r()};return c.jsxs(Ae.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-5 rounded-2xl border border-slate-800/60 bg-slate-900/30 hover:border-slate-700/60 transition-all",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"text-lg font-semibold text-white truncate",children:t.title}),c.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[c.jsxs("span",{className:"text-slate-400 text-sm flex items-center gap-1",children:[c.jsx(Ja,{className:"w-3 h-3"}),t.source||"Unknown Source"]}),t.date&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-slate-600",children:""}),c.jsxs("span",{className:"text-slate-400 text-sm flex items-center gap-1",children:[c.jsx(v0,{className:"w-3 h-3"}),new Date(t.date).toLocaleDateString()]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(w=>c.jsx(wr,{className:`w-4 h-4 ${w<=t.quality?m[t.quality]:"text-slate-700"} ${w<=t.quality?"fill-current":""}`},w))}),c.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium border ${p[t.side||"neutral"]}`,children:t.side==="pro"?"Pro":t.side==="con"?"Con":"Neutral"})]})]}),t.tags?.length>0&&c.jsx("div",{className:"flex flex-wrap gap-1.5 mb-3",children:t.tags.map((w,v)=>c.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-slate-800/50 border border-slate-700/50 text-slate-400 text-xs flex items-center gap-1",children:[c.jsx(C0,{className:"w-2.5 h-2.5"}),w]},v))}),c.jsx("p",{className:`text-slate-300 text-sm ${a?"":"line-clamp-3"}`,children:t.content}),c.jsx(ws,{children:a&&c.jsxs(Ae.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:[t.warrantedAnalysis&&c.jsxs("div",{className:"mt-4 p-3 rounded-xl bg-purple-500/10 border border-purple-500/20",children:[c.jsx("h4",{className:"text-sm font-medium text-purple-400 mb-2",children:"Warranted Analysis"}),c.jsx("p",{className:"text-slate-300 text-sm",children:t.warrantedAnalysis})]}),c.jsxs("div",{className:"mt-4 p-3 rounded-xl bg-slate-800/30 border border-slate-800/50",children:[c.jsx("h4",{className:"text-sm font-medium text-slate-400 mb-3",children:"Copy Citation"}),c.jsx("div",{className:"flex gap-2",children:["mla","apa","chicago"].map(w=>c.jsxs("button",{onClick:()=>x(w),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all flex items-center gap-1 ${u===w?"bg-emerald-500/10 border border-emerald-500/30 text-emerald-400":"bg-slate-800/50 border border-slate-700 text-slate-400 hover:text-white"}`,children:[u===w?c.jsx(uE,{className:"w-3 h-3"}):c.jsx(ta,{className:"w-3 h-3"}),w.toUpperCase()]},w))})]}),t.usageCount>0&&c.jsxs("div",{className:"mt-3 flex items-center gap-4 text-sm",children:[c.jsxs("span",{className:"text-slate-400 flex items-center gap-1",children:[c.jsx(Kr,{className:"w-4 h-4"}),"Used ",t.usageCount," times"]}),t.lastUsed&&c.jsxs("span",{className:"text-slate-500 flex items-center gap-1",children:[c.jsx(yf,{className:"w-4 h-4"}),"Last: ",new Date(t.lastUsed).toLocaleDateString()]})]})]})}),c.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-slate-800/50",children:[c.jsxs("button",{onClick:()=>o(!a),className:"text-slate-400 hover:text-white text-sm flex items-center gap-1 transition-colors",children:[a?"Show less":"Show more",c.jsx(du,{className:`w-4 h-4 transition-transform ${a?"rotate-180":""}`})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:b,className:"p-1.5 rounded-lg text-slate-400 hover:text-cyan-400 hover:bg-cyan-500/10 transition-all",title:"Copy content",children:c.jsx(ta,{className:"w-4 h-4"})}),t.url&&c.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",title:"Open source",children:c.jsx(PC,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>e(t),className:"p-1.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",children:c.jsx(N0,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>n(t.id),className:"p-1.5 rounded-lg text-slate-400 hover:text-red-400 hover:bg-red-500/10 transition-all",children:c.jsx(ku,{className:"w-4 h-4"})})]})]})]})},qz=({apiKey:t})=>{const{evidence:e,loading:n,allTags:r,addEvidence:a,updateEvidence:o,deleteEvidence:u}=_z(),[h,m]=U.useState(!1),[p,x]=U.useState(null),[b,w]=U.useState(""),[v,S]=U.useState("all"),[k,R]=U.useState("newest"),[M,P]=U.useState("grid"),q=U.useMemo(()=>{let W=e.filter(G=>{const z=!b||G.title?.toLowerCase().includes(b.toLowerCase())||G.content?.toLowerCase().includes(b.toLowerCase())||G.source?.toLowerCase().includes(b.toLowerCase()),I=v==="all"||G.tags?.includes(v);return z&&I});switch(k){case"newest":W.sort((G,z)=>new Date(z.createdAt||0)-new Date(G.createdAt||0));break;case"oldest":W.sort((G,z)=>new Date(G.createdAt||0)-new Date(z.createdAt||0));break;case"quality":W.sort((G,z)=>(z.quality||0)-(G.quality||0));break;case"usage":W.sort((G,z)=>(z.usageCount||0)-(G.usageCount||0));break}return W},[e,b,v,k]),te=async W=>{p?(await o(p.id,W),x(null)):await a(W),m(!1)};return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[c.jsx(Cu,{className:"w-8 h-8 text-cyan-400"}),"Evidence Library"]}),c.jsx("p",{className:"text-slate-400 mt-1",children:"Store, organize, and track your debate research"})]}),c.jsxs("button",{onClick:()=>m(!0),className:"px-4 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors flex items-center gap-2",children:[c.jsx(jn,{className:"w-5 h-5"}),"Add Evidence"]})]}),c.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[c.jsxs("div",{className:"flex-1 min-w-[300px] relative",children:[c.jsx(fu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),c.jsx("input",{type:"text",value:b,onChange:W=>w(W.target.value),placeholder:"Search evidence...",className:"w-full pl-12 pr-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none"})]}),c.jsxs("select",{value:v,onChange:W=>S(W.target.value),className:"px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 outline-none",children:[c.jsx("option",{value:"all",children:"All Tags"}),r.map(W=>c.jsx("option",{value:W,children:W},W))]}),c.jsxs("select",{value:k,onChange:W=>R(W.target.value),className:"px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 outline-none",children:[c.jsx("option",{value:"newest",children:"Newest First"}),c.jsx("option",{value:"oldest",children:"Oldest First"}),c.jsx("option",{value:"quality",children:"Highest Quality"}),c.jsx("option",{value:"usage",children:"Most Used"})]})]}),e.length>0&&c.jsx("div",{className:"grid grid-cols-4 gap-4",children:[{label:"Total Cards",value:e.length,color:"cyan"},{label:"Pro Evidence",value:e.filter(W=>W.side==="pro").length,color:"emerald"},{label:"Con Evidence",value:e.filter(W=>W.side==="con").length,color:"red"},{label:"High Quality",value:e.filter(W=>W.quality>=4).length,color:"amber"}].map((W,G)=>c.jsxs("div",{className:`p-4 rounded-xl bg-${W.color}-500/10 border border-${W.color}-500/20`,children:[c.jsx("p",{className:`text-2xl font-bold text-${W.color}-400`,children:W.value}),c.jsx("p",{className:"text-slate-400 text-sm",children:W.label})]},G))}),r.length>0&&c.jsxs("div",{className:"p-4 rounded-xl bg-slate-900/30 border border-slate-800/50",children:[c.jsxs("h3",{className:"text-sm font-medium text-slate-400 mb-3 flex items-center gap-2",children:[c.jsx(C0,{className:"w-4 h-4"}),"Tags (",r.length,")"]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(W=>{const G=e.filter(z=>z.tags?.includes(W)).length;return c.jsxs("button",{onClick:()=>S(v===W?"all":W),className:`px-3 py-1.5 rounded-lg text-sm transition-all flex items-center gap-1 ${v===W?"bg-cyan-500/20 border border-cyan-500/40 text-cyan-400":"bg-slate-800/50 border border-slate-700 text-slate-400 hover:text-white"}`,children:[W,c.jsxs("span",{className:"text-xs opacity-60",children:["(",G,")"]})]},W)})})]}),n?c.jsx("div",{className:"flex items-center justify-center py-20",children:c.jsx(zs,{className:"w-8 h-8 text-cyan-400 animate-spin"})}):e.length===0?c.jsx("div",{className:"p-8 rounded-2xl border border-slate-800/60 bg-slate-900/30",children:c.jsx(Uz,{onAdd:()=>m(!0)})}):q.length===0?c.jsx("div",{className:"text-center py-12 text-slate-400",children:"No evidence matches your search"}):c.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:q.map(W=>c.jsx(Bz,{card:W,onEdit:G=>{x(G),m(!0)},onDelete:u,onCopy:()=>{}},W.id))}),c.jsx(ws,{children:h&&c.jsx(Fz,{isOpen:h,onClose:()=>{m(!1),x(null)},onSave:te,evidence:p})})]})},kh=[{id:"timed-response",name:"Timed Response",description:"Practice speaking for set durations",icon:yf,color:"cyan",durations:[30,60,120,180,240]},{id:"refutation",name:"Argument Refutation",description:"Counter arguments under pressure",icon:kn,color:"purple",durations:[30,60]},{id:"cross-ex",name:"Cross Examination",description:"Practice CX questions & answers",icon:_0,color:"orange",durations:[180]},{id:"impromptu",name:"Impromptu Topics",description:"Random topics, minimal prep",icon:Cj,color:"emerald",durations:[120,180,300]}],Hz={"timed-response":["Explain why education funding should be increased","Argue for or against social media regulation","Defend the importance of free speech on college campuses","Explain the benefits of renewable energy investment","Argue for or against universal basic income","Discuss the ethics of artificial intelligence","Defend the role of government in healthcare","Explain why immigration reform is necessary"],refutation:[{claim:"Minimum wage increases cause unemployment",side:"oppose"},{claim:"Climate change is the most pressing issue of our time",side:"oppose"},{claim:"Privacy should be sacrificed for national security",side:"oppose"},{claim:"Standardized testing improves education outcomes",side:"oppose"},{claim:"Social media companies should be liable for user content",side:"oppose"},{claim:"Universal healthcare would bankrupt the economy",side:"oppose"}],"cross-ex":[{topic:"Government surveillance",role:"questioner"},{topic:"Criminal justice reform",role:"questioner"},{topic:"Environmental regulations",role:"questioner"},{topic:"Free trade agreements",role:"answerer"},{topic:"Immigration policy",role:"answerer"}],impromptu:["Technology has made us more connected but less social","The pen is mightier than the sword","History repeats itself","Money can't buy happiness","Actions speak louder than words","The ends justify the means","Knowledge is power"]},Gz=({onStart:t})=>c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"p-4 rounded-full bg-slate-800/50 border border-slate-700/50 mb-6 mx-auto w-fit",children:c.jsx(kn,{className:"w-12 h-12 text-slate-500"})}),c.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Ready to Practice?"}),c.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-6",children:"Sharpen your skills with timed drills, refutation practice, and cross-examination simulations."}),c.jsxs("button",{onClick:t,className:"px-6 py-3 rounded-xl bg-cyan-500/10 border border-cyan-500/30 text-cyan-400 font-medium hover:bg-cyan-500/20 transition-all inline-flex items-center gap-2",children:[c.jsx(hu,{className:"w-5 h-5"}),"Start Your First Drill"]})]}),$z=({duration:t,isRunning:e,onComplete:n})=>{const[r,a]=U.useState(t),[o,u]=U.useState(100);U.useEffect(()=>{a(t),u(100)},[t]),U.useEffect(()=>{if(!e||r<=0){r<=0&&n?.();return}const p=setInterval(()=>{a(x=>{const b=x-1;return u(b/t*100),b})},1e3);return()=>clearInterval(p)},[e,r,t,n]);const h=p=>{const x=Math.floor(p/60),b=p%60;return`${x}:${b.toString().padStart(2,"0")}`},m=()=>o>50?"text-cyan-400":o>25?"text-amber-400":"text-red-400";return c.jsxs("div",{className:"relative",children:[c.jsxs("svg",{className:"w-48 h-48 transform -rotate-90",viewBox:"0 0 100 100",children:[c.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"6",fill:"none",className:"text-slate-800"}),c.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"6",fill:"none",strokeDasharray:`${o*2.83} 283`,className:m(),strokeLinecap:"round"})]}),c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[c.jsx("span",{className:`text-5xl font-bold tracking-tight ${m()}`,children:h(r)}),c.jsx("span",{className:"text-slate-500 text-sm mt-1",children:"remaining"})]})]})},Yz=({drill:t,onSelect:e})=>{const n=t.icon;return c.jsxs(Ae.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e(t),className:`w-full p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 hover:border-${t.color}-500/50 hover:bg-slate-800/30 transition-all text-left group`,children:[c.jsx("div",{className:`w-14 h-14 rounded-xl bg-${t.color}-500/10 border border-${t.color}-500/20 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:c.jsx(n,{className:`w-7 h-7 text-${t.color}-400`})}),c.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:t.name}),c.jsx("p",{className:"text-slate-400 text-sm mb-4",children:t.description}),c.jsxs("div",{className:"flex items-center gap-2",children:[t.durations.slice(0,3).map(r=>c.jsx("span",{className:"px-2 py-1 rounded-lg bg-slate-800/50 text-slate-400 text-xs",children:r<60?`${r}s`:`${r/60}m`},r)),t.durations.length>3&&c.jsxs("span",{className:"text-slate-500 text-xs",children:["+",t.durations.length-3," more"]})]})]})},Qz=({drill:t,duration:e,prompt:n,onComplete:r,onCancel:a,apiKey:o})=>{const[u,h]=U.useState("prep"),[m,p]=U.useState(!1),[x,b]=U.useState(!1),[w,v]=U.useState(15),[S,k]=U.useState(null),[R,M]=U.useState(!1),[P,q]=U.useState("");U.useRef(null),U.useRef([]);const te=U.useRef(null);U.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const A=window.SpeechRecognition||window.webkitSpeechRecognition;te.current=new A,te.current.continuous=!0,te.current.interimResults=!0,te.current.onresult=C=>{let O="";for(let D=C.resultIndex;D<C.results.length;D++)C.results[D].isFinal&&(O+=C.results[D][0].transcript+" ");O&&q(D=>D+O)}}},[]);const W=async()=>{try{b(!0),te.current&&te.current.start()}catch(A){console.error("Error starting recording:",A)}},G=()=>{b(!1),te.current&&te.current.stop()},z=async()=>{if(p(!1),G(),h("review"),P&&o){M(!0);try{const A=`Analyze this debate practice response. The drill was: "${n}"

The speaker said:
"${P}"

Duration: ${e} seconds

Provide a brief analysis covering:
1. **Content Quality** (1-10): Were the arguments clear and relevant?
2. **Structure** (1-10): Was there a clear organization?
3. **Delivery Estimate** (1-10): Based on word count and sentence structure
4. **Strengths**: What worked well
5. **Areas to Improve**: Specific suggestions
6. **Overall Score**: X/10

Keep the response concise but actionable.`,C=await cT(A,o);k(C)}catch(A){console.error("Analysis error:",A)}finally{M(!1)}}},I=()=>{r({type:t.id,duration:e,prompt:n,transcript:P,analysis:S,score:S?L(S):null})},L=A=>{const C=A.match(/Overall Score[:\s]*(\d+)/i);return C?parseInt(C[1])*10:null};return c.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-slate-950/95 backdrop-blur-xl flex items-center justify-center p-6",children:c.jsxs("div",{className:"w-full max-w-3xl",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[y0.createElement(t.icon,{className:`w-6 h-6 text-${t.color}-400`}),t.name]}),c.jsxs("p",{className:"text-slate-400 mt-1",children:[u==="prep"&&"Prepare your response",u==="active"&&"Speak now!",u==="review"&&"Review your performance"]})]}),c.jsx("button",{onClick:a,className:"px-4 py-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",children:"Exit"})]}),c.jsxs("div",{className:"p-6 rounded-2xl bg-slate-900/50 border border-slate-800 mb-8",children:[c.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-2",children:"Your Prompt"}),c.jsx("p",{className:"text-xl text-white font-medium",children:typeof n=="object"?n.claim||n.topic:n}),typeof n=="object"&&n.role&&c.jsxs("span",{className:`inline-block mt-2 px-3 py-1 rounded-full text-sm ${n.role==="questioner"?"bg-purple-500/10 text-purple-400":"bg-cyan-500/10 text-cyan-400"}`,children:["Role: ",n.role]})]}),c.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px]",children:[u==="prep"&&c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-6xl font-bold text-cyan-400 mb-4",children:w}),c.jsx("p",{className:"text-slate-400 mb-8",children:"seconds to prepare"}),c.jsxs("div",{className:"flex items-center gap-4 justify-center",children:[c.jsxs("button",{onClick:()=>{h("active"),p(!0),W()},className:"px-8 py-4 rounded-xl bg-cyan-500 text-white font-semibold hover:bg-cyan-400 transition-colors flex items-center gap-2",children:[c.jsx(hu,{className:"w-5 h-5"}),"Start Speaking"]}),c.jsx("button",{onClick:()=>v(Math.max(5,w-5)),className:"px-4 py-4 rounded-xl bg-slate-800 text-slate-300 hover:text-white transition-colors",children:"-5s"}),c.jsx("button",{onClick:()=>v(w+5),className:"px-4 py-4 rounded-xl bg-slate-800 text-slate-300 hover:text-white transition-colors",children:"+5s"})]})]}),u==="active"&&c.jsxs("div",{className:"text-center",children:[c.jsx($z,{duration:e,isRunning:m,onComplete:z}),c.jsx("div",{className:"flex items-center justify-center gap-3 mt-8",children:x?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),c.jsx("span",{className:"text-red-400",children:"Recording..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(x1,{className:"w-5 h-5 text-slate-500"}),c.jsx("span",{className:"text-slate-500",children:"Microphone off"})]})}),c.jsxs("div",{className:"flex items-center gap-4 justify-center mt-6",children:[c.jsxs("button",{onClick:()=>p(!m),className:`px-6 py-3 rounded-xl font-medium transition-colors flex items-center gap-2 ${m?"bg-amber-500/10 border border-amber-500/30 text-amber-400":"bg-emerald-500/10 border border-emerald-500/30 text-emerald-400"}`,children:[m?c.jsx(hj,{className:"w-5 h-5"}):c.jsx(hu,{className:"w-5 h-5"}),m?"Pause":"Resume"]}),c.jsxs("button",{onClick:z,className:"px-6 py-3 rounded-xl bg-slate-800 text-slate-300 hover:text-white transition-colors flex items-center gap-2",children:[c.jsx(jg,{className:"w-5 h-5"}),"Finish Early"]})]}),P&&c.jsx("div",{className:"mt-8 p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 max-h-32 overflow-y-auto",children:c.jsx("p",{className:"text-slate-300 text-sm text-left",children:P})})]}),u==="review"&&c.jsxs("div",{className:"w-full space-y-6",children:[P&&c.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50",children:[c.jsx("h4",{className:"text-sm font-medium text-slate-400 mb-2",children:"Your Response"}),c.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:P})]}),R?c.jsxs("div",{className:"flex items-center justify-center py-12",children:[c.jsx(zs,{className:"w-8 h-8 text-cyan-400 animate-spin"}),c.jsx("span",{className:"text-slate-400 ml-3",children:"Analyzing your response..."})]}):S?c.jsxs("div",{className:"p-4 rounded-xl bg-emerald-500/10 border border-emerald-500/20",children:[c.jsxs("h4",{className:"text-sm font-medium text-emerald-400 mb-2 flex items-center gap-2",children:[c.jsx(wr,{className:"w-4 h-4"}),"AI Analysis"]}),c.jsx("div",{className:"text-slate-300 text-sm whitespace-pre-wrap",children:S})]}):P?null:c.jsxs("div",{className:"text-center py-8 text-slate-400",children:[c.jsx(x1,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),"No speech detected. Make sure your microphone is enabled."]}),c.jsxs("div",{className:"flex items-center justify-center gap-4",children:[c.jsxs("button",{onClick:()=>{h("prep"),q(""),k(null)},className:"px-6 py-3 rounded-xl bg-slate-800 text-slate-300 hover:text-white transition-colors flex items-center gap-2",children:[c.jsx(mE,{className:"w-5 h-5"}),"Try Again"]}),c.jsxs("button",{onClick:I,className:"px-6 py-3 rounded-xl bg-cyan-500 text-white font-semibold hover:bg-cyan-400 transition-colors flex items-center gap-2",children:[c.jsx(jg,{className:"w-5 h-5"}),"Save & Exit"]})]})]})]})]})})},Kz=({drill:t,onSelect:e,onCancel:n})=>{const r=t.icon;return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:c.jsxs(Ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-md bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl p-6",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:`w-16 h-16 rounded-xl bg-${t.color}-500/10 border border-${t.color}-500/20 flex items-center justify-center mx-auto mb-4`,children:c.jsx(r,{className:`w-8 h-8 text-${t.color}-400`})}),c.jsx("h2",{className:"text-xl font-bold text-white",children:t.name}),c.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Select duration"})]}),c.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.durations.map(a=>c.jsxs("button",{onClick:()=>e(a),className:"p-4 rounded-xl bg-slate-800/50 border border-slate-700 hover:border-cyan-500/50 hover:bg-slate-800 transition-all text-center",children:[c.jsx("span",{className:"text-2xl font-bold text-white",children:a<60?a:a/60}),c.jsx("span",{className:"text-slate-400 text-sm ml-1",children:a<60?"seconds":"minutes"})]},a))}),c.jsx("button",{onClick:n,className:"w-full mt-4 py-3 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",children:"Cancel"})]})})},Ih=({icon:t,label:e,value:n,color:r})=>c.jsx("div",{className:`p-4 rounded-xl bg-${r}-500/10 border border-${r}-500/20`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(t,{className:`w-5 h-5 text-${r}-400`}),c.jsxs("div",{children:[c.jsx("p",{className:`text-xl font-bold text-${r}-400`,children:n}),c.jsx("p",{className:"text-slate-400 text-xs",children:e})]})]})}),Xz=({apiKey:t})=>{const{sessions:e,stats:n,loading:r,saveSession:a}=Ez(),[o,u]=U.useState(null),[h,m]=U.useState(!1),[p,x]=U.useState(null),b=S=>{u(S),m(!0)},w=S=>{m(!1);const k=Hz[o.id],R=k[Math.floor(Math.random()*k.length)];x({drill:o,duration:S,prompt:R})},v=async S=>{await a(S),x(null),u(null)};return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[c.jsx(kn,{className:"w-8 h-8 text-cyan-400"}),"Practice Mode"]}),c.jsx("p",{className:"text-slate-400 mt-1",children:"Sharpen your skills with targeted drills"})]}),n&&c.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[c.jsx(Ih,{icon:kn,label:"Total Sessions",value:n.totalSessions,color:"cyan"}),c.jsx(Ih,{icon:yf,label:"Practice Time",value:`${Math.round(n.totalTime/60)}m`,color:"purple"}),c.jsx(Ih,{icon:qC,label:"Day Streak",value:n.streak,color:"orange"}),c.jsx(Ih,{icon:wr,label:"Avg Score",value:n.avgScore||"-",color:"emerald"})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Choose a Drill"}),c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:kh.map(S=>c.jsx(Yz,{drill:S,onSelect:b},S.id))})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Recent Practice"}),r?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(zs,{className:"w-6 h-6 text-cyan-400 animate-spin"})}):e.length===0?c.jsx("div",{className:"p-8 rounded-2xl border border-slate-800/60 bg-slate-900/30",children:c.jsx(Gz,{onStart:()=>b(kh[0])})}):c.jsx("div",{className:"space-y-3",children:e.slice(0,5).map((S,k)=>{const R=kh.find(P=>P.id===S.type)||kh[0],M=R.icon;return c.jsxs("div",{className:"p-4 rounded-xl bg-slate-900/30 border border-slate-800/50 flex items-center gap-4",children:[c.jsx("div",{className:`w-10 h-10 rounded-lg bg-${R.color}-500/10 flex items-center justify-center`,children:c.jsx(M,{className:`w-5 h-5 text-${R.color}-400`})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-white font-medium",children:R.name}),c.jsxs("p",{className:"text-slate-500 text-sm",children:[S.duration,"s  ",new Date(S.createdAt?.toDate?.()||S.createdAt).toLocaleDateString()]})]}),S.score&&c.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${S.score>=80?"bg-emerald-500/10 text-emerald-400":S.score>=60?"bg-cyan-500/10 text-cyan-400":"bg-amber-500/10 text-amber-400"}`,children:[S.score,"/100"]})]},S.id||k)})})]}),c.jsxs(ws,{children:[h&&o&&c.jsx(Kz,{drill:o,onSelect:w,onCancel:()=>{m(!1),u(null)}}),p&&c.jsx(Qz,{drill:p.drill,duration:p.duration,prompt:p.prompt,apiKey:t,onComplete:v,onCancel:()=>{x(null),u(null)}})]})]})},Wz=({onCreateTeam:t,onJoinTeam:e})=>c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"p-4 rounded-full bg-slate-800/50 border border-slate-700/50 mb-6 mx-auto w-fit",children:c.jsx(sa,{className:"w-12 h-12 text-slate-500"})}),c.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Teams Yet"}),c.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-6",children:"Create or join a team to collaborate on strategy docs, share case files, and prepare for tournaments together."}),c.jsxs("div",{className:"flex items-center justify-center gap-4",children:[c.jsxs("button",{onClick:t,className:"px-6 py-3 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors flex items-center gap-2",children:[c.jsx(jn,{className:"w-5 h-5"}),"Create Team"]}),c.jsxs("button",{onClick:e,className:"px-6 py-3 rounded-xl bg-slate-800 text-white font-medium hover:bg-slate-700 transition-colors flex items-center gap-2",children:[c.jsx(bf,{className:"w-5 h-5"}),"Join Team"]})]})]}),Jz=({isOpen:t,onClose:e,onCreate:n})=>{const[r,a]=U.useState(""),[o,u]=U.useState(""),[h,m]=U.useState("Public Forum");if(!t)return null;const p=x=>{x.preventDefault(),n({name:r,description:o,format:h}),e(),a(""),u("")};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:c.jsxs(Ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-md bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl",children:[c.jsxs("div",{className:"p-6 border-b border-slate-800",children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:"Create Team"}),c.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Start collaborating with teammates"})]}),c.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Team Name *"}),c.jsx("input",{type:"text",value:r,onChange:x=>a(x.target.value),placeholder:"e.g., Harvard Debate Team",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Primary Format"}),c.jsx("select",{value:h,onChange:x=>m(x.target.value),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",children:["Public Forum","Lincoln-Douglas","Policy","Congress","World Schools"].map(x=>c.jsx("option",{value:x,children:x},x))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Description"}),c.jsx("textarea",{value:o,onChange:x=>u(x.target.value),placeholder:"Team description...",rows:3,className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none resize-none"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:e,className:"px-5 py-2.5 rounded-xl text-slate-400 hover:text-white transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-6 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors",children:"Create Team"})]})]})]})})},Zz=({isOpen:t,onClose:e,onJoin:n})=>{const[r,a]=U.useState(""),[o,u]=U.useState(""),[h,m]=U.useState(!1);if(!t)return null;const p=async x=>{x.preventDefault(),m(!0),u("");try{await n(r.toUpperCase()),e(),a("")}catch(b){u(b.message)}finally{m(!1)}};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:c.jsxs(Ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-md bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl",children:[c.jsxs("div",{className:"p-6 border-b border-slate-800",children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:"Join Team"}),c.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Enter the team invite code"})]}),c.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Invite Code"}),c.jsx("input",{type:"text",value:r,onChange:x=>a(x.target.value.toUpperCase()),placeholder:"e.g., ABC123",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none text-center text-2xl tracking-widest font-mono",maxLength:6,required:!0})]}),o&&c.jsx("p",{className:"text-red-400 text-sm",children:o}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:e,className:"px-5 py-2.5 rounded-xl text-slate-400 hover:text-white transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:h,className:"px-6 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors disabled:opacity-50",children:h?"Joining...":"Join Team"})]})]})]})})},e7=({team:t,onClick:e,isActive:n})=>c.jsx("button",{onClick:e,className:`w-full p-4 rounded-xl text-left transition-all ${n?"bg-cyan-500/10 border-2 border-cyan-500/50":"bg-slate-900/30 border border-slate-800/60 hover:border-slate-700/60"}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center text-white font-bold text-lg",children:t.name.charAt(0)}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"text-white font-semibold truncate",children:t.name}),c.jsxs("p",{className:"text-slate-400 text-sm",children:[t.members?.length||1," members  ",t.format]})]}),c.jsx(ju,{className:"w-5 h-5 text-slate-500"})]})}),t7=({team:t,onBack:e})=>{const{user:n}=_s(),[r,a]=U.useState("documents"),[o,u]=U.useState([]),[h,m]=U.useState(!1),[p,x]=U.useState(!1),[b,w]=U.useState(!1),v=t.ownerId===n?.uid;t.members?.find(M=>M.id===n?.uid),U.useEffect(()=>{S()},[t.id]);const S=async()=>{w(!0);try{const M=await dz(t.id);u(M)}catch(M){console.error("Error loading documents:",M)}finally{w(!1)}},k=async()=>{await navigator.clipboard.writeText(t.inviteCode),x(!0),setTimeout(()=>x(!1),2e3)},R=async M=>{try{await uz(t.id,{...M,authorId:n.uid,authorName:n.displayName||n.email}),S()}catch(P){console.error("Error creating document:",P)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:e,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",children:c.jsx(ju,{className:"w-5 h-5 rotate-180"})}),c.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center text-white font-bold text-xl",children:t.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-white",children:t.name}),c.jsxs("p",{className:"text-slate-400",children:[t.format,"  ",t.members?.length||1," members"]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:k,className:"px-4 py-2 rounded-xl bg-slate-800/50 border border-slate-700 text-slate-300 hover:text-white transition-all flex items-center gap-2",children:p?c.jsxs(c.Fragment,{children:[c.jsx(uE,{className:"w-4 h-4 text-emerald-400"}),"Copied!"]}):c.jsxs(c.Fragment,{children:[c.jsx(JC,{className:"w-4 h-4"}),t.inviteCode]})}),v&&c.jsx("button",{className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",children:c.jsx(A0,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"flex items-center gap-2 p-1 bg-slate-900/50 rounded-xl border border-slate-800/50 w-fit",children:[{id:"documents",label:"Documents",icon:Ja},{id:"members",label:"Members",icon:sa},{id:"prep",label:"Prep Checklist",icon:b1}].map(M=>c.jsxs("button",{onClick:()=>a(M.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${r===M.id?"bg-slate-800 text-white":"text-slate-400 hover:text-white"}`,children:[c.jsx(M.icon,{className:"w-4 h-4"}),M.label]},M.id))}),r==="documents"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:"Team Documents"}),c.jsxs("button",{onClick:()=>m(!0),className:"px-4 py-2 rounded-xl bg-cyan-500/10 border border-cyan-500/30 text-cyan-400 hover:bg-cyan-500/20 transition-all flex items-center gap-2",children:[c.jsx(jn,{className:"w-4 h-4"}),"New Document"]})]}),b?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(zs,{className:"w-6 h-6 text-cyan-400 animate-spin"})}):o.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Ja,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),c.jsx("p",{className:"text-slate-400",children:"No documents yet"}),c.jsx("p",{className:"text-slate-500 text-sm",children:"Create your first shared document"})]}):c.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:o.map(M=>c.jsxs("div",{className:"p-4 rounded-xl bg-slate-900/30 border border-slate-800/50 hover:border-slate-700/50 transition-all cursor-pointer",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Ja,{className:"w-5 h-5 text-cyan-400"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-white font-medium",children:M.title}),c.jsx("p",{className:"text-slate-500 text-xs",children:M.type})]})]}),c.jsx("span",{className:`px-2 py-1 rounded-lg text-xs ${M.side==="pro"?"bg-emerald-500/10 text-emerald-400":M.side==="con"?"bg-red-500/10 text-red-400":"bg-slate-500/10 text-slate-400"}`,children:M.side||"General"})]}),c.jsxs("p",{className:"text-slate-400 text-sm line-clamp-2",children:[M.content?.substring(0,150),"..."]}),c.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-slate-800/50",children:[c.jsxs("span",{className:"text-slate-500 text-xs",children:["By ",M.authorName]}),c.jsx("span",{className:"text-slate-500 text-xs",children:new Date(M.createdAt?.toDate?.()||M.createdAt).toLocaleDateString()})]})]},M.id))})]}),r==="members"&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:"Team Members"}),c.jsx("div",{className:"space-y-3",children:t.members?.map((M,P)=>c.jsxs("div",{className:"p-4 rounded-xl bg-slate-900/30 border border-slate-800/50 flex items-center gap-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-slate-600 to-slate-700 flex items-center justify-center text-white font-medium",children:M.name?.[0]||"U"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("p",{className:"text-white font-medium",children:M.name||"Team Member"}),M.role==="owner"&&c.jsx(jC,{className:"w-4 h-4 text-amber-400"})]}),c.jsxs("p",{className:"text-slate-500 text-sm",children:[M.speakerRole||"No role assigned","  Joined ",new Date(M.joinedAt).toLocaleDateString()]})]}),c.jsxs("select",{className:"px-3 py-1.5 rounded-lg bg-slate-800/50 border border-slate-700 text-slate-300 text-sm focus:border-cyan-500 outline-none",defaultValue:M.speakerRole||"",children:[c.jsx("option",{value:"",children:"No role"}),c.jsx("option",{value:"1st Speaker",children:"1st Speaker"}),c.jsx("option",{value:"2nd Speaker",children:"2nd Speaker"}),c.jsx("option",{value:"3rd Speaker",children:"3rd Speaker"}),c.jsx("option",{value:"Flex",children:"Flex"})]})]},M.id))})]}),r==="prep"&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:"Tournament Prep Checklist"}),c.jsx("div",{className:"space-y-2",children:[{label:"Case files organized",checked:!1},{label:"Evidence cards tagged",checked:!1},{label:"Blocks written for common args",checked:!1},{label:"Practice rounds completed",checked:!1},{label:"Judge preferences researched",checked:!1},{label:"Flow paper prepared",checked:!1},{label:"Timer app downloaded",checked:!0},{label:"Travel arrangements confirmed",checked:!1}].map((M,P)=>c.jsxs("div",{className:"p-3 rounded-xl bg-slate-900/30 border border-slate-800/50 flex items-center gap-3 cursor-pointer hover:bg-slate-800/30 transition-all",children:[c.jsx("button",{className:"text-slate-400 hover:text-cyan-400 transition-colors",children:M.checked?c.jsx(b1,{className:"w-5 h-5 text-cyan-400"}):c.jsx(yE,{className:"w-5 h-5"})}),c.jsx("span",{className:`${M.checked?"text-slate-500 line-through":"text-white"}`,children:M.label})]},P))})]}),c.jsx(ws,{children:h&&c.jsx(n7,{isOpen:h,onClose:()=>m(!1),onCreate:R})})]})},n7=({isOpen:t,onClose:e,onCreate:n})=>{const[r,a]=U.useState({title:"",type:"Case File",side:"neutral",content:""});if(!t)return null;const o=u=>{u.preventDefault(),n(r),e(),a({title:"",type:"Case File",side:"neutral",content:""})};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:c.jsxs(Ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-2xl bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"p-6 border-b border-slate-800",children:c.jsx("h2",{className:"text-xl font-bold text-white",children:"New Document"})}),c.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Title *"}),c.jsx("input",{type:"text",value:r.title,onChange:u=>a({...r,title:u.target.value}),placeholder:"Document title",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none",required:!0})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Type"}),c.jsx("select",{value:r.type,onChange:u=>a({...r,type:u.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",children:["Case File","Strategy Doc","Evidence Block","Flow Template","Notes"].map(u=>c.jsx("option",{value:u,children:u},u))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Side"}),c.jsxs("select",{value:r.side,onChange:u=>a({...r,side:u.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",children:[c.jsx("option",{value:"neutral",children:"General"}),c.jsx("option",{value:"pro",children:"Pro/Aff"}),c.jsx("option",{value:"con",children:"Con/Neg"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Content"}),c.jsx("textarea",{value:r.content,onChange:u=>a({...r,content:u.target.value}),placeholder:"Document content...",rows:10,className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none resize-none"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:e,className:"px-5 py-2.5 rounded-xl text-slate-400 hover:text-white transition-colors",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"px-6 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors flex items-center gap-2",children:[c.jsx(S0,{className:"w-5 h-5"}),"Save Document"]})]})]})]})})},s7=({apiKey:t})=>{const{teams:e,loading:n,createTeam:r,joinTeam:a}=Nz(),[o,u]=U.useState(!1),[h,m]=U.useState(!1),[p,x]=U.useState(null),b=async v=>{await r(v)},w=async v=>{await a(v)};return p?c.jsx(t7,{team:p,onBack:()=>x(null)}):c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[c.jsx(sa,{className:"w-8 h-8 text-cyan-400"}),"Team Collaboration"]}),c.jsx("p",{className:"text-slate-400 mt-1",children:"Work together on strategy, cases, and tournament prep"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("button",{onClick:()=>m(!0),className:"px-4 py-2.5 rounded-xl bg-slate-800 text-white font-medium hover:bg-slate-700 transition-colors flex items-center gap-2",children:[c.jsx(bf,{className:"w-5 h-5"}),"Join Team"]}),c.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors flex items-center gap-2",children:[c.jsx(jn,{className:"w-5 h-5"}),"Create Team"]})]})]}),n?c.jsx("div",{className:"flex items-center justify-center py-20",children:c.jsx(zs,{className:"w-8 h-8 text-cyan-400 animate-spin"})}):e.length===0?c.jsx("div",{className:"p-8 rounded-2xl border border-slate-800/60 bg-slate-900/30",children:c.jsx(Wz,{onCreateTeam:()=>u(!0),onJoinTeam:()=>m(!0)})}):c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(v=>c.jsx(e7,{team:v,onClick:()=>x(v)},v.id))}),c.jsxs(ws,{children:[o&&c.jsx(Jz,{isOpen:o,onClose:()=>u(!1),onCreate:b}),h&&c.jsx(Zz,{isOpen:h,onClose:()=>m(!1),onJoin:w})]})]})},r7=({onAdd:t})=>c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"p-4 rounded-full bg-slate-800/50 border border-slate-700/50 mb-6 mx-auto w-fit",children:c.jsx(Yi,{className:"w-12 h-12 text-slate-500"})}),c.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Tournaments Scheduled"}),c.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-6",children:"Add upcoming tournaments to track rounds, manage judge preferences, and stay organized."}),c.jsxs("button",{onClick:t,className:"px-6 py-3 rounded-xl bg-cyan-500/10 border border-cyan-500/30 text-cyan-400 font-medium hover:bg-cyan-500/20 transition-all inline-flex items-center gap-2",children:[c.jsx(jn,{className:"w-5 h-5"}),"Add Tournament"]})]}),i7=({isOpen:t,onClose:e,onSave:n,tournament:r=null})=>{const[a,o]=U.useState(r||{name:"",date:"",endDate:"",location:"",format:"Public Forum",level:"Local",registrationDeadline:"",notes:"",travelInfo:{flight:"",hotel:"",transportation:""}});if(!t)return null;const u=h=>{h.preventDefault(),n(a),e()};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:c.jsxs(Ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-2xl bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"p-6 border-b border-slate-800",children:c.jsx("h2",{className:"text-xl font-bold text-white",children:r?"Edit Tournament":"Add Tournament"})}),c.jsxs("form",{onSubmit:u,className:"p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Tournament Name *"}),c.jsx("input",{type:"text",value:a.name,onChange:h=>o({...a,name:h.target.value}),placeholder:"e.g., Harvard National Forensics Tournament",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none",required:!0})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Start Date *"}),c.jsx("input",{type:"date",value:a.date,onChange:h=>o({...a,date:h.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"End Date"}),c.jsx("input",{type:"date",value:a.endDate,onChange:h=>o({...a,endDate:h.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Location"}),c.jsx("input",{type:"text",value:a.location,onChange:h=>o({...a,location:h.target.value}),placeholder:"City, State",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Registration Deadline"}),c.jsx("input",{type:"date",value:a.registrationDeadline,onChange:h=>o({...a,registrationDeadline:h.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Format"}),c.jsx("select",{value:a.format,onChange:h=>o({...a,format:h.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",children:["Public Forum","Lincoln-Douglas","Policy","Congress","World Schools","Multiple"].map(h=>c.jsx("option",{value:h,children:h},h))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Level"}),c.jsx("select",{value:a.level,onChange:h=>o({...a,level:h.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",children:["Local","Regional","State","National","International"].map(h=>c.jsx("option",{value:h,children:h},h))})]})]}),c.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50",children:[c.jsxs("h3",{className:"text-sm font-medium text-slate-400 mb-4 flex items-center gap-2",children:[c.jsx(fE,{className:"w-4 h-4"}),"Travel Information (Optional)"]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("input",{type:"text",value:a.travelInfo.flight,onChange:h=>o({...a,travelInfo:{...a.travelInfo,flight:h.target.value}}),placeholder:"Flight details",className:"w-full px-3 py-2 rounded-lg bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 text-sm focus:border-cyan-500 outline-none"}),c.jsx("input",{type:"text",value:a.travelInfo.hotel,onChange:h=>o({...a,travelInfo:{...a.travelInfo,hotel:h.target.value}}),placeholder:"Hotel/accommodation",className:"w-full px-3 py-2 rounded-lg bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 text-sm focus:border-cyan-500 outline-none"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Notes"}),c.jsx("textarea",{value:a.notes,onChange:h=>o({...a,notes:h.target.value}),placeholder:"Additional notes...",rows:3,className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none resize-none"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-800",children:[c.jsx("button",{type:"button",onClick:e,className:"px-5 py-2.5 rounded-xl text-slate-400 hover:text-white transition-colors",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"px-6 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors",children:[r?"Update":"Add"," Tournament"]})]})]})]})})},a7=({tournament:t,onEdit:e,onDelete:n,onClick:r})=>{const a=new Date(t.date),o=a>new Date,u=Math.ceil((a-new Date)/(1e3*60*60*24)),h={Local:"bg-slate-500/10 text-slate-400 border-slate-500/30",Regional:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30",State:"bg-purple-500/10 text-purple-400 border-purple-500/30",National:"bg-amber-500/10 text-amber-400 border-amber-500/30",International:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30"};return c.jsxs(Ae.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:r,className:"p-5 rounded-2xl border border-slate-800/60 bg-slate-900/30 hover:border-slate-700/60 transition-all cursor-pointer group",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsxs("div",{className:"w-14 h-14 rounded-xl bg-cyan-500/10 border border-cyan-500/20 flex flex-col items-center justify-center",children:[c.jsx("span",{className:"text-xs text-cyan-400 font-medium",children:a.toLocaleString("default",{month:"short"}).toUpperCase()}),c.jsx("span",{className:"text-xl font-bold text-white",children:a.getDate()})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-white group-hover:text-cyan-400 transition-colors",children:t.name}),c.jsxs("div",{className:"flex items-center gap-2 mt-1 text-slate-400 text-sm",children:[c.jsx(hE,{className:"w-3 h-3"}),t.location||"TBD"]})]})]}),c.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium border ${h[t.level]}`,children:t.level})]}),c.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[c.jsxs("span",{className:"text-slate-400 flex items-center gap-1",children:[c.jsx(Yi,{className:"w-4 h-4"}),t.format]}),t.rounds?.length>0&&c.jsxs("span",{className:"text-slate-400 flex items-center gap-1",children:[c.jsx(kn,{className:"w-4 h-4"}),t.rounds.length," rounds"]})]}),o&&u<=14&&c.jsxs("div",{className:`mt-4 px-3 py-2 rounded-lg text-sm flex items-center gap-2 ${u<=3?"bg-red-500/10 border border-red-500/20 text-red-400":"bg-amber-500/10 border border-amber-500/20 text-amber-400"}`,children:[c.jsx(br,{className:"w-4 h-4"}),u===0?"Today!":u===1?"Tomorrow!":`${u} days away`]}),c.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-slate-800/50",children:[c.jsx("div",{className:"flex items-center gap-2",children:t.rounds?.length>0?c.jsxs("span",{className:"text-emerald-400 text-sm flex items-center gap-1",children:[c.jsx(jg,{className:"w-4 h-4"}),"Tracking"]}):c.jsxs("span",{className:"text-slate-500 text-sm flex items-center gap-1",children:[c.jsx(EC,{className:"w-4 h-4"}),"No rounds yet"]})}),c.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:m=>{m.stopPropagation(),e(t)},className:"p-1.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",children:c.jsx(N0,{className:"w-4 h-4"})}),c.jsx("button",{onClick:m=>{m.stopPropagation(),n(t.id)},className:"p-1.5 rounded-lg text-slate-400 hover:text-red-400 hover:bg-red-500/10 transition-all",children:c.jsx(ku,{className:"w-4 h-4"})})]})]})]})},l7=({tournament:t,onBack:e,onAddRound:n,onUpdateTournament:r})=>{const[a,o]=U.useState(!1),u=t.rounds||[],h=u.filter(p=>p.result==="win").length,m=u.filter(p=>p.result==="loss").length;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:e,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",children:c.jsx(yC,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-white",children:t.name}),c.jsxs("div",{className:"flex items-center gap-3 mt-1 text-slate-400",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(v0,{className:"w-4 h-4"}),new Date(t.date).toLocaleDateString()]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(hE,{className:"w-4 h-4"}),t.location||"TBD"]})]})]})]}),c.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors flex items-center gap-2",children:[c.jsx(jn,{className:"w-5 h-5"}),"Add Round"]})]}),c.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[c.jsxs("div",{className:"p-4 rounded-xl bg-slate-900/30 border border-slate-800/50 text-center",children:[c.jsx("p",{className:"text-2xl font-bold text-white",children:u.length}),c.jsx("p",{className:"text-slate-500 text-sm",children:"Rounds"})]}),c.jsxs("div",{className:"p-4 rounded-xl bg-emerald-500/10 border border-emerald-500/20 text-center",children:[c.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:h}),c.jsx("p",{className:"text-slate-500 text-sm",children:"Wins"})]}),c.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 text-center",children:[c.jsx("p",{className:"text-2xl font-bold text-red-400",children:m}),c.jsx("p",{className:"text-slate-500 text-sm",children:"Losses"})]}),c.jsxs("div",{className:"p-4 rounded-xl bg-cyan-500/10 border border-cyan-500/20 text-center",children:[c.jsxs("p",{className:"text-2xl font-bold text-cyan-400",children:[u.length>0?(h/u.length*100).toFixed(0):0,"%"]}),c.jsx("p",{className:"text-slate-500 text-sm",children:"Win Rate"})]})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Round History"}),u.length===0?c.jsxs("div",{className:"text-center py-12 rounded-xl bg-slate-900/30 border border-slate-800/50",children:[c.jsx(kn,{className:"w-10 h-10 text-slate-600 mx-auto mb-3"}),c.jsx("p",{className:"text-slate-400",children:"No rounds recorded yet"}),c.jsx("p",{className:"text-slate-500 text-sm",children:"Add your first round to start tracking"})]}):c.jsx("div",{className:"space-y-3",children:u.map((p,x)=>c.jsxs("div",{className:"p-4 rounded-xl bg-slate-900/30 border border-slate-800/50 flex items-center gap-4",children:[c.jsx("div",{className:`w-2 h-12 rounded-full ${p.result==="win"?"bg-emerald-500":"bg-red-500"}`}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-white font-medium",children:p.roundName}),c.jsx("span",{className:"text-slate-500",children:""}),c.jsx("span",{className:"text-slate-400",children:p.side})]}),c.jsxs("p",{className:"text-slate-500 text-sm",children:["vs ",p.opponent||"Unknown"," ",p.opponentSchool&&`(${p.opponentSchool})`]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${p.result==="win"?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-400"}`,children:p.result==="win"?"Win":"Loss"}),p.speakerPoints&&c.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:[p.speakerPoints," speaks"]})]})]},p.id||x))})]}),(t.travelInfo?.flight||t.travelInfo?.hotel)&&c.jsxs("div",{className:"p-4 rounded-xl bg-slate-900/30 border border-slate-800/50",children:[c.jsxs("h3",{className:"text-sm font-medium text-slate-400 mb-3 flex items-center gap-2",children:[c.jsx(fE,{className:"w-4 h-4"}),"Travel Information"]}),c.jsxs("div",{className:"space-y-2 text-sm",children:[t.travelInfo.flight&&c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-slate-500",children:"Flight:"}),c.jsx("span",{className:"text-slate-300",children:t.travelInfo.flight})]}),t.travelInfo.hotel&&c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-slate-500",children:"Hotel:"}),c.jsx("span",{className:"text-slate-300",children:t.travelInfo.hotel})]})]})]}),c.jsx(ws,{children:a&&c.jsx(o7,{isOpen:a,onClose:()=>o(!1),onSave:p=>n(t.id,p)})})]})},o7=({isOpen:t,onClose:e,onSave:n})=>{const[r,a]=U.useState({roundName:"Round 1",opponent:"",opponentSchool:"",side:"Pro",result:"win",speakerPoints:"",judge:"",notes:""});if(!t)return null;const o=u=>{u.preventDefault(),n({...r,speakerPoints:r.speakerPoints?parseFloat(r.speakerPoints):null}),e()};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:c.jsxs(Ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-md bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl",children:[c.jsx("div",{className:"p-6 border-b border-slate-800",children:c.jsx("h2",{className:"text-xl font-bold text-white",children:"Add Round"})}),c.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Round"}),c.jsx("select",{value:r.roundName,onChange:u=>a({...r,roundName:u.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",children:["Round 1","Round 2","Round 3","Round 4","Round 5","Round 6","Octofinals","Quarterfinals","Semifinals","Finals"].map(u=>c.jsx("option",{value:u,children:u},u))})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Opponent"}),c.jsx("input",{type:"text",value:r.opponent,onChange:u=>a({...r,opponent:u.target.value}),placeholder:"Name",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"School"}),c.jsx("input",{type:"text",value:r.opponentSchool,onChange:u=>a({...r,opponentSchool:u.target.value}),placeholder:"School",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none"})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Side"}),c.jsxs("select",{value:r.side,onChange:u=>a({...r,side:u.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",children:[c.jsx("option",{value:"Pro",children:"Pro"}),c.jsx("option",{value:"Con",children:"Con"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Result"}),c.jsxs("select",{value:r.result,onChange:u=>a({...r,result:u.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",children:[c.jsx("option",{value:"win",children:"Win"}),c.jsx("option",{value:"loss",children:"Loss"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Speaks"}),c.jsx("input",{type:"number",step:"0.1",value:r.speakerPoints,onChange:u=>a({...r,speakerPoints:u.target.value}),placeholder:"28.5",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Judge"}),c.jsx("input",{type:"text",value:r.judge,onChange:u=>a({...r,judge:u.target.value}),placeholder:"Judge name",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:e,className:"px-5 py-2.5 rounded-xl text-slate-400 hover:text-white transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-6 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors",children:"Add Round"})]})]})]})})},c7=({judges:t,onAddJudge:e,onUpdateJudge:n})=>{const[r,a]=U.useState(!1);return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[c.jsx(na,{className:"w-5 h-5 text-cyan-400"}),"Judge Preferences"]}),c.jsxs("button",{onClick:()=>a(!0),className:"px-4 py-2 rounded-xl bg-cyan-500/10 border border-cyan-500/30 text-cyan-400 hover:bg-cyan-500/20 transition-all flex items-center gap-2 text-sm",children:[c.jsx(jn,{className:"w-4 h-4"}),"Add Judge"]})]}),t.length===0?c.jsxs("div",{className:"text-center py-8 rounded-xl bg-slate-900/30 border border-slate-800/50",children:[c.jsx(na,{className:"w-10 h-10 text-slate-600 mx-auto mb-3"}),c.jsx("p",{className:"text-slate-400",children:"No judges recorded yet"}),c.jsx("p",{className:"text-slate-500 text-sm",children:"Track judge preferences to adapt your strategy"})]}):c.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:t.map(o=>c.jsxs("div",{className:"p-4 rounded-xl bg-slate-900/30 border border-slate-800/50",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-white font-medium",children:o.name}),c.jsx("p",{className:"text-slate-500 text-sm",children:o.affiliation})]}),c.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(u=>c.jsx(wr,{className:`w-4 h-4 ${u<=o.rating?"text-amber-400 fill-current":"text-slate-700"}`},u))})]}),c.jsxs("div",{className:"space-y-2 text-sm",children:[o.paradigm&&c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-slate-500",children:"Paradigm:"}),c.jsx("span",{className:"text-slate-300",children:o.paradigm})]}),c.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[c.jsxs("span",{className:`flex items-center gap-1 text-xs ${o.leansPro?"text-emerald-400":"text-slate-500"}`,children:[c.jsx(Uj,{className:"w-3 h-3"}),"Pro"]}),c.jsxs("span",{className:`flex items-center gap-1 text-xs ${o.leansCon?"text-red-400":"text-slate-500"}`,children:[c.jsx(Vj,{className:"w-3 h-3"}),"Con"]}),c.jsxs("span",{className:`flex items-center gap-1 text-xs ${!o.leansPro&&!o.leansCon?"text-cyan-400":"text-slate-500"}`,children:[c.jsx(E0,{className:"w-3 h-3"}),"Neutral"]})]})]})]},o.id))}),c.jsx(ws,{children:r&&c.jsx(u7,{isOpen:r,onClose:()=>a(!1),onSave:e})})]})},u7=({isOpen:t,onClose:e,onSave:n})=>{const[r,a]=U.useState({name:"",affiliation:"",paradigm:"",rating:3,leansPro:!1,leansCon:!1,notes:""});if(!t)return null;const o=u=>{u.preventDefault(),n(r),e(),a({name:"",affiliation:"",paradigm:"",rating:3,leansPro:!1,leansCon:!1,notes:""})};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:c.jsxs(Ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-md bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl",children:[c.jsx("div",{className:"p-6 border-b border-slate-800",children:c.jsx("h2",{className:"text-xl font-bold text-white",children:"Add Judge"})}),c.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Name *"}),c.jsx("input",{type:"text",value:r.name,onChange:u=>a({...r,name:u.target.value}),placeholder:"Judge name",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Affiliation"}),c.jsx("input",{type:"text",value:r.affiliation,onChange:u=>a({...r,affiliation:u.target.value}),placeholder:"School/Organization",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Rating"}),c.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(u=>c.jsx("button",{type:"button",onClick:()=>a({...r,rating:u}),className:"p-1",children:c.jsx(wr,{className:`w-6 h-6 ${u<=r.rating?"text-amber-400 fill-current":"text-slate-700"}`})},u))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Paradigm"}),c.jsx("textarea",{value:r.paradigm,onChange:u=>a({...r,paradigm:u.target.value}),placeholder:"Judge's preferred arguments, style preferences...",rows:3,className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none resize-none"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:e,className:"px-5 py-2.5 rounded-xl text-slate-400 hover:text-white transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-6 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors",children:"Add Judge"})]})]})]})})},d7=({apiKey:t})=>{const{tournaments:e,loading:n,addTournament:r,updateTournament:a,deleteTournament:o,addRound:u}=Sz(),{judges:h,addJudge:m,updateJudge:p}=Tz(),[x,b]=U.useState(!1),[w,v]=U.useState(null),[S,k]=U.useState(null),[R,M]=U.useState("upcoming"),P=U.useMemo(()=>e.filter(W=>new Date(W.date)>=new Date).sort((W,G)=>new Date(W.date)-new Date(G.date)),[e]),q=U.useMemo(()=>e.filter(W=>new Date(W.date)<new Date).sort((W,G)=>new Date(G.date)-new Date(W.date)),[e]),te=async W=>{w?(await a(w.id,W),v(null)):await r(W),b(!1)};return S?c.jsx(l7,{tournament:S,onBack:()=>k(null),onAddRound:u,onUpdateTournament:a}):c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[c.jsx(Yi,{className:"w-8 h-8 text-cyan-400"}),"Tournaments"]}),c.jsx("p",{className:"text-slate-400 mt-1",children:"Manage your tournament schedule and track rounds"})]}),c.jsxs("button",{onClick:()=>b(!0),className:"px-4 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors flex items-center gap-2",children:[c.jsx(jn,{className:"w-5 h-5"}),"Add Tournament"]})]}),c.jsx("div",{className:"flex items-center gap-2 p-1 bg-slate-900/50 rounded-xl border border-slate-800/50 w-fit",children:[{id:"upcoming",label:`Upcoming (${P.length})`},{id:"past",label:`Past (${q.length})`},{id:"judges",label:`Judges (${h.length})`}].map(W=>c.jsx("button",{onClick:()=>M(W.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${R===W.id?"bg-slate-800 text-white":"text-slate-400 hover:text-white"}`,children:W.label},W.id))}),n?c.jsx("div",{className:"flex items-center justify-center py-20",children:c.jsx(zs,{className:"w-8 h-8 text-cyan-400 animate-spin"})}):R==="judges"?c.jsx(c7,{judges:h,onAddJudge:m,onUpdateJudge:p}):c.jsx(c.Fragment,{children:(R==="upcoming"?P:q).length===0?c.jsx("div",{className:"p-8 rounded-2xl border border-slate-800/60 bg-slate-900/30",children:c.jsx(r7,{onAdd:()=>b(!0)})}):c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:(R==="upcoming"?P:q).map(W=>c.jsx(a7,{tournament:W,onClick:()=>k(W),onEdit:G=>{v(G),b(!0)},onDelete:o},W.id))})}),c.jsx(ws,{children:x&&c.jsx(i7,{isOpen:x,onClose:()=>{b(!1),v(null)},onSave:te,tournament:w})})]})},h7=()=>c.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--bg-primary)"},children:c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx(da,{className:"w-12 h-12 animate-spin mx-auto",style:{color:"var(--primary)"}}),c.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading Adjudicator AI..."})]})}),f7=({isOpen:t,onClose:e,apiKey:n,setApiKey:r,openaiKey:a,setOpenaiKey:o})=>t?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",children:c.jsxs("div",{className:"glass-card w-full max-w-md space-y-6 animate-in zoom-in-95",children:[c.jsxs("h2",{className:"text-xl font-bold flex items-center",style:{color:"var(--text-primary)"},children:[c.jsx(A0,{className:"w-5 h-5 mr-2",style:{color:"var(--primary)"}}),"Configuration"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Google Gemini API Key"}),c.jsx("input",{type:"password",value:n,onChange:u=>r(u.target.value),placeholder:"AIzaSy...",className:"input-field"}),c.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"Required for most features."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:"OpenAI API Key (Optional)"}),c.jsx("input",{type:"password",value:a,onChange:u=>o(u.target.value),placeholder:"sk-...",className:"input-field"})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg transition-colors",style:{color:"var(--text-secondary)"},children:"Close"}),c.jsx("button",{onClick:e,className:"btn-primary",children:"Save Changes"})]})]})}):null;function m7(){const[t,e]=U.useState("dashboard"),[n,r]=U.useState(!1),[a,o]=U.useState(!0),[u,h]=U.useState(localStorage.getItem("gemini_key")||""),[m,p]=U.useState(localStorage.getItem("openai_key")||""),[x,b]=U.useState(localStorage.getItem("guest_mode")==="true"),{user:w,loading:v,isAuthenticated:S}=_s();return U.useEffect(()=>{localStorage.setItem("gemini_key",u)},[u]),U.useEffect(()=>{localStorage.setItem("openai_key",m)},[m]),U.useEffect(()=>{(S||x)&&o(!1)},[S,x]),v?c.jsx(h7,{}):a&&!S&&!x?c.jsx(HV,{onGetStarted:()=>o(!1),onContinueAsGuest:()=>{b(!0),localStorage.setItem("guest_mode","true"),o(!1)}}):!S&&!x?c.jsx(qV,{onSkip:()=>{b(!0),localStorage.setItem("guest_mode","true")}}):c.jsxs(C6,{activeTab:t,setActiveTab:e,onSettingsClick:()=>r(!0),children:[t==="dashboard"&&c.jsx(j6,{setActiveTab:e}),t==="analytics"&&c.jsx(Oz,{}),t==="judge"&&c.jsx(kV,{apiKey:u}),t==="board"&&c.jsx(IV,{apiKey:u}),t==="coach"&&c.jsx(OV,{apiKey:u}),t==="practice"&&c.jsx(Xz,{apiKey:u}),t==="tournaments"&&c.jsx(d7,{}),t==="opponents"&&c.jsx(zz,{apiKey:u}),t==="evidence"&&c.jsx(qz,{}),t==="team"&&c.jsx(s7,{}),t==="strategy"&&c.jsx(PV,{apiKey:u}),t==="extemp"&&c.jsx(MV,{apiKey:u}),t==="tone"&&c.jsx(BV,{apiKey:u}),t==="history"&&c.jsx(VV,{}),c.jsx(f7,{isOpen:n,onClose:()=>r(!1),apiKey:u,setApiKey:h,openaiKey:m,setOpenaiKey:p})]})}function p7(){return c.jsx(T6,{children:c.jsx(N6,{children:c.jsx(m7,{})})})}YA.createRoot(document.getElementById("root")).render(c.jsx(y0.StrictMode,{children:c.jsx(p7,{})}));
