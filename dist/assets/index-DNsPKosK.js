import{j as s,m as V,A as at,R as Ax,a as kx}from"./animations-CBhJVp1A.js";import{r as T,c as IC,R as Ix}from"./charts-Bq0Hi_Da.js";import{r as RC,a as DC,g as Rx}from"./react-vendor-OvXVS5lI.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var Jp={exports:{}},Cu={},Zp={exports:{}},eg={};var Dw;function PC(){return Dw||(Dw=1,(function(t){function e(H,Z){var le=H.length;H.push(Z);e:for(;0<le;){var ye=le-1>>>1,B=H[ye];if(0<r(B,Z))H[ye]=Z,H[le]=B,le=ye;else break e}}function n(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var Z=H[0],le=H.pop();if(le!==Z){H[0]=le;e:for(var ye=0,B=H.length,ce=B>>>1;ye<ce;){var be=2*(ye+1)-1,F=H[be],ke=be+1,Ce=H[ke];if(0>r(F,le))ke<B&&0>r(Ce,F)?(H[ye]=Ce,H[ke]=le,ye=ke):(H[ye]=F,H[be]=le,ye=be);else if(ke<B&&0>r(Ce,le))H[ye]=Ce,H[ke]=le,ye=ke;else break e}}return Z}function r(H,Z){var le=H.sortIndex-Z.sortIndex;return le!==0?le:H.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],f=[],g=1,b=null,v=3,w=!1,j=!1,I=!1,D=!1,L=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function q(H){for(var Z=n(f);Z!==null;){if(Z.callback===null)a(f);else if(Z.startTime<=H)a(f),Z.sortIndex=Z.expirationTime,e(m,Z);else break;Z=n(f)}}function X(H){if(I=!1,q(H),!j)if(n(m)!==null)j=!0,G||(G=!0,z());else{var Z=n(f);Z!==null&&K(X,Z.startTime-H)}}var G=!1,k=-1,A=5,O=-1;function C(){return D?!0:!(t.unstable_now()-O<A)}function M(){if(D=!1,G){var H=t.unstable_now();O=H;var Z=!0;try{e:{j=!1,I&&(I=!1,R(k),k=-1),w=!0;var le=v;try{t:{for(q(H),b=n(m);b!==null&&!(b.expirationTime>H&&C());){var ye=b.callback;if(typeof ye=="function"){b.callback=null,v=b.priorityLevel;var B=ye(b.expirationTime<=H);if(H=t.unstable_now(),typeof B=="function"){b.callback=B,q(H),Z=!0;break t}b===n(m)&&a(m),q(H)}else a(m);b=n(m)}if(b!==null)Z=!0;else{var ce=n(f);ce!==null&&K(X,ce.startTime-H),Z=!1}}break e}finally{b=null,v=le,w=!1}Z=void 0}}finally{Z?z():G=!1}}}var z;if(typeof $=="function")z=function(){$(M)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,J=E.port2;E.port1.onmessage=M,z=function(){J.postMessage(null)}}else z=function(){L(M,0)};function K(H,Z){k=L(function(){H(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(H){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var le=v;v=Z;try{return H()}finally{v=le}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var le=v;v=H;try{return Z()}finally{v=le}},t.unstable_scheduleCallback=function(H,Z,le){var ye=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ye+le:ye):le=ye,H){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=le+B,H={id:g++,callback:Z,priorityLevel:H,startTime:le,expirationTime:B,sortIndex:-1},le>ye?(H.sortIndex=le,e(f,H),n(m)===null&&H===n(f)&&(I?(R(k),k=-1):I=!0,K(X,le-ye))):(H.sortIndex=B,e(m,H),j||w||(j=!0,G||(G=!0,z()))),H},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(H){var Z=v;return function(){var le=v;v=Z;try{return H.apply(this,arguments)}finally{v=le}}}})(eg)),eg}var Pw;function MC(){return Pw||(Pw=1,Zp.exports=PC()),Zp.exports}var Mw;function OC(){if(Mw)return Cu;Mw=1;var t=MC(),e=RC(),n=DC();function a(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var l=i,u=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(u=l.return),i=l.return;while(i)}return l.tag===3?u:null}function c(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function d(i){if(i.tag===31){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function m(i){if(o(i)!==i)throw Error(a(188))}function f(i){var l=i.alternate;if(!l){if(l=o(i),l===null)throw Error(a(188));return l!==i?null:i}for(var u=i,h=l;;){var x=u.return;if(x===null)break;var y=x.alternate;if(y===null){if(h=x.return,h!==null){u=h;continue}break}if(x.child===y.child){for(y=x.child;y;){if(y===u)return m(x),i;if(y===h)return m(x),l;y=y.sibling}throw Error(a(188))}if(u.return!==h.return)u=x,h=y;else{for(var S=!1,P=x.child;P;){if(P===u){S=!0,u=x,h=y;break}if(P===h){S=!0,h=x,u=y;break}P=P.sibling}if(!S){for(P=y.child;P;){if(P===u){S=!0,u=y,h=x;break}if(P===h){S=!0,h=y,u=x;break}P=P.sibling}if(!S)throw Error(a(189))}}if(u.alternate!==h)throw Error(a(190))}if(u.tag!==3)throw Error(a(188));return u.stateNode.current===u?i:l}function g(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=g(i),l!==null)return l;i=i.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),$=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var E=Symbol.for("react.client.reference");function J(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===E?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case I:return"Fragment";case L:return"Profiler";case D:return"StrictMode";case X:return"Suspense";case G:return"SuspenseList";case O:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case j:return"Portal";case $:return i.displayName||"Context";case R:return(i._context.displayName||"Context")+".Consumer";case q:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return l=i.displayName||null,l!==null?l:J(i.type)||"Memo";case A:l=i._payload,i=i._init;try{return J(i(l))}catch{}}return null}var K=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ye=[],B=-1;function ce(i){return{current:i}}function be(i){0>B||(i.current=ye[B],ye[B]=null,B--)}function F(i,l){B++,ye[B]=i.current,i.current=l}var ke=ce(null),Ce=ce(null),Me=ce(null),et=ce(null);function Et(i,l){switch(F(Me,l),F(Ce,i),F(ke,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?nw(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=nw(l),i=sw(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}be(ke),F(ke,i)}function ht(){be(ke),be(Ce),be(Me)}function Vt(i){i.memoizedState!==null&&F(et,i);var l=ke.current,u=sw(l,i.type);l!==u&&(F(Ce,i),F(ke,u))}function Nt(i){Ce.current===i&&(be(ke),be(Ce)),et.current===i&&(be(et),ju._currentValue=le)}var ge,ne;function de(i){if(ge===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);ge=l&&l[1]||"",ne=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+i+ne}var _e=!1;function Pe(i,l){if(!i||_e)return"";_e=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(l){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(re){var ae=re}Reflect.construct(i,[],pe)}else{try{pe.call()}catch(re){ae=re}i.call(pe.prototype)}}else{try{throw Error()}catch(re){ae=re}(pe=i())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(re){if(re&&ae&&typeof re.stack=="string")return[re.stack,ae.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),S=y[0],P=y[1];if(S&&P){var Q=S.split(`
`),se=P.split(`
`);for(x=h=0;h<Q.length&&!Q[h].includes("DetermineComponentFrameRoot");)h++;for(;x<se.length&&!se[x].includes("DetermineComponentFrameRoot");)x++;if(h===Q.length||x===se.length)for(h=Q.length-1,x=se.length-1;1<=h&&0<=x&&Q[h]!==se[x];)x--;for(;1<=h&&0<=x;h--,x--)if(Q[h]!==se[x]){if(h!==1||x!==1)do if(h--,x--,0>x||Q[h]!==se[x]){var ue=`
`+Q[h].replace(" at new "," at ");return i.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",i.displayName)),ue}while(1<=h&&0<=x);break}}}finally{_e=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?de(u):""}function jt(i,l){switch(i.tag){case 26:case 27:case 5:return de(i.type);case 16:return de("Lazy");case 13:return i.child!==l&&l!==null?de("Suspense Fallback"):de("Suspense");case 19:return de("SuspenseList");case 0:case 15:return Pe(i.type,!1);case 11:return Pe(i.type.render,!1);case 1:return Pe(i.type,!0);case 31:return de("Activity");default:return""}}function Ne(i){try{var l="",u=null;do l+=jt(i,u),u=i,i=i.return;while(i);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Se=Object.prototype.hasOwnProperty,De=t.unstable_scheduleCallback,Je=t.unstable_cancelCallback,Mn=t.unstable_shouldYield,jn=t.unstable_requestPaint,Qt=t.unstable_now,Ja=t.unstable_getCurrentPriorityLevel,he=t.unstable_ImmediatePriority,we=t.unstable_UserBlockingPriority,Ue=t.unstable_NormalPriority,Ze=t.unstable_LowPriority,pt=t.unstable_IdlePriority,Qn=t.log,Ps=t.unstable_setDisableYieldValue,en=null,Yt=null;function Cn(i){if(typeof Qn=="function"&&Ps(i),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(en,i)}catch{}}var ut=Math.clz32?Math.clz32:Od,ea=Math.log,Yn=Math.LN2;function Od(i){return i>>>=0,i===0?32:31-(ea(i)/Yn|0)|0}var xa=256,Xr=262144,cn=4194304;function ba(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ya(i,l,u){var h=i.pendingLanes;if(h===0)return 0;var x=0,y=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var P=h&134217727;return P!==0?(h=P&~y,h!==0?x=ba(h):(S&=P,S!==0?x=ba(S):u||(u=P&~i,u!==0&&(x=ba(u))))):(P=h&~y,P!==0?x=ba(P):S!==0?x=ba(S):u||(u=h&~i,u!==0&&(x=ba(u)))),x===0?0:l!==0&&l!==x&&(l&y)===0&&(y=x&-x,u=l&-l,y>=u||y===32&&(u&4194048)!==0)?l:x}function ta(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function n0(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ld(){var i=cn;return cn<<=1,(cn&62914560)===0&&(cn=4194304),i}function va(i){for(var l=[],u=0;31>u;u++)l.push(i);return l}function Jr(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function s0(i,l,u,h,x,y){var S=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var P=i.entanglements,Q=i.expirationTimes,se=i.hiddenUpdates;for(u=S&~u;0<u;){var ue=31-ut(u),pe=1<<ue;P[ue]=0,Q[ue]=-1;var ae=se[ue];if(ae!==null)for(se[ue]=null,ue=0;ue<ae.length;ue++){var re=ae[ue];re!==null&&(re.lane&=-536870913)}u&=~pe}h!==0&&Zr(i,h,0),y!==0&&x===0&&i.tag!==0&&(i.suspendedLanes|=y&~(S&~l))}function Zr(i,l,u){i.pendingLanes|=l,i.suspendedLanes&=~l;var h=31-ut(l);i.entangledLanes|=l,i.entanglements[h]=i.entanglements[h]|1073741824|u&261930}function Ec(i,l){var u=i.entangledLanes|=l;for(i=i.entanglements;u;){var h=31-ut(u),x=1<<h;x&l|i[h]&l&&(i[h]|=l),u&=~x}}function Ac(i,l){var u=l&-l;return u=(u&42)!==0?1:el(u),(u&(i.suspendedLanes|l))!==0?0:u}function el(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Za(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Vd(){var i=Z.p;return i!==0?i:(i=window.event,i===void 0?32:Tw(i.type))}function na(i,l){var u=Z.p;try{return Z.p=i,l()}finally{Z.p=u}}var sa=Math.random().toString(36).slice(2),un="__reactFiber$"+sa,En="__reactProps$"+sa,wa="__reactContainer$"+sa,Kl="__reactEvents$"+sa,a0="__reactListeners$"+sa,Ud="__reactHandles$"+sa,zd="__reactResources$"+sa,Na="__reactMarker$"+sa;function Wl(i){delete i[un],delete i[En],delete i[Kl],delete i[a0],delete i[Ud]}function ja(i){var l=i[un];if(l)return l;for(var u=i.parentNode;u;){if(l=u[wa]||u[un]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(i=uw(i);i!==null;){if(u=i[un])return u;i=uw(i)}return l}i=u,u=i.parentNode}return null}function Ms(i){if(i=i[un]||i[wa]){var l=i.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return i}return null}function ws(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(a(33))}function Sa(i){var l=i[zd];return l||(l=i[zd]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function dn(i){i[Na]=!0}var kc=new Set,Ic={};function _a(i,l){Ta(i,l),Ta(i+"Capture",l)}function Ta(i,l){for(Ic[i]=l,i=0;i<l.length;i++)kc.add(l[i])}var Rc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dc={},Pc={};function Fd(i){return Se.call(Pc,i)?!0:Se.call(Dc,i)?!1:Rc.test(i)?Pc[i]=!0:(Dc[i]=!0,!1)}function Xl(i,l,u){if(Fd(l))if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var h=l.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+u)}}function Ns(i,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+u)}}function hn(i,l,u,h){if(h===null)i.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(l,u,""+h)}}function An(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function qi(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Mc(i,l,u){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,l);if(!i.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var x=h.get,y=h.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return x.call(this)},set:function(S){u=""+S,y.call(this,S)}}),Object.defineProperty(i,l,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function St(i){if(!i._valueTracker){var l=qi(i)?"checked":"value";i._valueTracker=Mc(i,l,""+i[l])}}function tl(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var u=l.getValue(),h="";return i&&(h=qi(i)?i.checked?"true":"false":i.value),i=h,i!==u?(l.setValue(i),!0):!1}function Ca(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var nl=/[\n"\\]/g;function ls(i){return i.replace(nl,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Jl(i,l,u,h,x,y,S,P){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),l!=null?S==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+An(l)):i.value!==""+An(l)&&(i.value=""+An(l)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),l!=null?Oc(i,S,An(l)):u!=null?Oc(i,S,An(u)):h!=null&&i.removeAttribute("value"),x==null&&y!=null&&(i.defaultChecked=!!y),x!=null&&(i.checked=x&&typeof x!="function"&&typeof x!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.name=""+An(P):i.removeAttribute("name")}function Bd(i,l,u,h,x,y,S,P){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),l!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||l!=null)){St(i);return}u=u!=null?""+An(u):"",l=l!=null?""+An(l):u,P||l===i.value||(i.value=l),i.defaultValue=l}h=h??x,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=P?i.checked:!!h,i.defaultChecked=!!h,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S),St(i)}function Oc(i,l,u){l==="number"&&Ca(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Hi(i,l,u,h){if(i=i.options,l){l={};for(var x=0;x<u.length;x++)l["$"+u[x]]=!0;for(u=0;u<i.length;u++)x=l.hasOwnProperty("$"+i[u].value),i[u].selected!==x&&(i[u].selected=x),x&&h&&(i[u].defaultSelected=!0)}else{for(u=""+An(u),l=null,x=0;x<i.length;x++){if(i[x].value===u){i[x].selected=!0,h&&(i[x].defaultSelected=!0);return}l!==null||i[x].disabled||(l=i[x])}l!==null&&(l.selected=!0)}}function $d(i,l,u){if(l!=null&&(l=""+An(l),l!==i.value&&(i.value=l),u==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=u!=null?""+An(u):""}function Gi(i,l,u,h){if(l==null){if(h!=null){if(u!=null)throw Error(a(92));if(K(h)){if(1<h.length)throw Error(a(93));h=h[0]}u=h}u==null&&(u=""),l=u}u=An(l),i.defaultValue=u,h=i.textContent,h===u&&h!==""&&h!==null&&(i.value=h),St(i)}function os(i,l){if(l){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=l;return}}i.textContent=l}var qd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lc(i,l,u){var h=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":h?i.setProperty(l,u):typeof u!="number"||u===0||qd.has(l)?l==="float"?i.cssFloat=u:i[l]=(""+u).trim():i[l]=u+"px"}function Vc(i,l,u){if(l!=null&&typeof l!="object")throw Error(a(62));if(i=i.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||l!=null&&l.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var x in l)h=l[x],l.hasOwnProperty(x)&&u[x]!==h&&Lc(i,x,h)}else for(var y in l)l.hasOwnProperty(y)&&Lc(i,y,l[y])}function Zl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function eo(i){return Qi.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function aa(){}var Uc=null;function Os(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Yi=null,Ea=null;function sl(i){var l=Ms(i);if(l&&(i=l.stateNode)){var u=i[En]||null;e:switch(i=l.stateNode,l.type){case"input":if(Jl(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ls(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var h=u[l];if(h!==i&&h.form===i.form){var x=h[En]||null;if(!x)throw Error(a(90));Jl(h,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(l=0;l<u.length;l++)h=u[l],h.form===i.form&&tl(h)}break e;case"textarea":$d(i,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&Hi(i,!!u.multiple,l,!1)}}}var to=!1;function Ki(i,l,u){if(to)return i(l,u);to=!0;try{var h=i(l);return h}finally{if(to=!1,(Yi!==null||Ea!==null)&&(Vh(),Yi&&(l=Yi,i=Ea,Ea=Yi=null,sl(l),i)))for(l=0;l<i.length;l++)sl(i[l])}}function ia(i,l){var u=i.stateNode;if(u===null)return null;var h=u[En]||null;if(h===null)return null;u=h[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(a(231,l,typeof u));return u}var Ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),al=!1;if(Ls)try{var At={};Object.defineProperty(At,"passive",{get:function(){al=!0}}),window.addEventListener("test",At,At),window.removeEventListener("test",At,At)}catch{al=!1}var Aa=null,zc=null,il=null;function Fc(){if(il)return il;var i,l=zc,u=l.length,h,x="value"in Aa?Aa.value:Aa.textContent,y=x.length;for(i=0;i<u&&l[i]===x[i];i++);var S=u-i;for(h=1;h<=S&&l[u-h]===x[y-h];h++);return il=x.slice(i,1<h?1-h:void 0)}function rl(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function ei(){return!0}function ra(){return!1}function On(i){function l(u,h,x,y,S){this._reactName=u,this._targetInst=x,this.type=h,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(u=i[P],this[P]=u?u(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ei:ra,this.isPropagationStopped=ra,this}return b(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ei)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ei)},persist:function(){},isPersistent:ei}),l}var ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ka=On(ti),Wi=b({},ti,{view:0,detail:0}),Bc=On(Wi),Xi,no,Ia,so=b({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ji,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ia&&(Ia&&i.type==="mousemove"?(Xi=i.screenX-Ia.screenX,no=i.screenY-Ia.screenY):no=Xi=0,Ia=i),Xi)},movementY:function(i){return"movementY"in i?i.movementY:no}}),$c=On(so),ll=b({},so,{dataTransfer:0}),Gd=On(ll),Qd=b({},Wi,{relatedTarget:0}),ol=On(Qd),qc=b({},ti,{animationName:0,elapsedTime:0,pseudoElement:0}),Yd=On(qc),ao=b({},ti,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Kd=On(ao),Wd=b({},ti,{data:0}),Ra=On(Wd),Xd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eh(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=Zd[i])?!!l[i]:!1}function Ji(){return eh}var as=b({},Wi,{key:function(i){if(i.key){var l=Xd[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=rl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Jd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ji,charCode:function(i){return i.type==="keypress"?rl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?rl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),th=On(as),nh=b({},so,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ni=On(nh),p=b({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ji}),N=On(p),_=b({},ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),U=On(_),ee=b({},so,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ie=On(ee),je=b({},ti,{newState:0,oldState:0}),Ye=On(je),tn=[9,13,27,32],bt=Ls&&"CompositionEvent"in window,$t=null;Ls&&"documentMode"in document&&($t=document.documentMode);var Vs=Ls&&"TextEvent"in window&&!$t,Da=Ls&&(!bt||$t&&8<$t&&11>=$t),la=" ",oa=!1;function cl(i,l){switch(i){case"keyup":return tn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function io(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ro=!1;function tT(i,l){switch(i){case"compositionend":return io(l);case"keypress":return l.which!==32?null:(oa=!0,la);case"textInput":return i=l.data,i===la&&oa?null:i;default:return null}}function nT(i,l){if(ro)return i==="compositionend"||!bt&&cl(i,l)?(i=Fc(),il=zc=Aa=null,ro=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Da&&l.locale!=="ko"?null:l.data;default:return null}}var sT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function my(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!sT[i.type]:l==="textarea"}function fy(i,l,u,h){Yi?Ea?Ea.push(h):Ea=[h]:Yi=h,l=Hh(l,"onChange"),0<l.length&&(u=new ka("onChange","change",null,u,h),i.push({event:u,listeners:l}))}var Hc=null,Gc=null;function aT(i){W1(i,0)}function sh(i){var l=ws(i);if(tl(l))return i}function py(i,l){if(i==="change")return l}var gy=!1;if(Ls){var i0;if(Ls){var r0="oninput"in document;if(!r0){var xy=document.createElement("div");xy.setAttribute("oninput","return;"),r0=typeof xy.oninput=="function"}i0=r0}else i0=!1;gy=i0&&(!document.documentMode||9<document.documentMode)}function by(){Hc&&(Hc.detachEvent("onpropertychange",yy),Gc=Hc=null)}function yy(i){if(i.propertyName==="value"&&sh(Gc)){var l=[];fy(l,Gc,i,Os(i)),Ki(aT,l)}}function iT(i,l,u){i==="focusin"?(by(),Hc=l,Gc=u,Hc.attachEvent("onpropertychange",yy)):i==="focusout"&&by()}function rT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return sh(Gc)}function lT(i,l){if(i==="click")return sh(l)}function oT(i,l){if(i==="input"||i==="change")return sh(l)}function cT(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var js=typeof Object.is=="function"?Object.is:cT;function Qc(i,l){if(js(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var u=Object.keys(i),h=Object.keys(l);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var x=u[h];if(!Se.call(l,x)||!js(i[x],l[x]))return!1}return!0}function vy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function wy(i,l){var u=vy(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=l&&h>=l)return{node:u,offset:l-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=vy(u)}}function Ny(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Ny(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function jy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=Ca(i.document);l instanceof i.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)i=l.contentWindow;else break;l=Ca(i.document)}return l}function l0(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var uT=Ls&&"documentMode"in document&&11>=document.documentMode,lo=null,o0=null,Yc=null,c0=!1;function Sy(i,l,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;c0||lo==null||lo!==Ca(h)||(h=lo,"selectionStart"in h&&l0(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Yc&&Qc(Yc,h)||(Yc=h,h=Hh(o0,"onSelect"),0<h.length&&(l=new ka("onSelect","select",null,l,u),i.push({event:l,listeners:h}),l.target=lo)))}function ul(i,l){var u={};return u[i.toLowerCase()]=l.toLowerCase(),u["Webkit"+i]="webkit"+l,u["Moz"+i]="moz"+l,u}var oo={animationend:ul("Animation","AnimationEnd"),animationiteration:ul("Animation","AnimationIteration"),animationstart:ul("Animation","AnimationStart"),transitionrun:ul("Transition","TransitionRun"),transitionstart:ul("Transition","TransitionStart"),transitioncancel:ul("Transition","TransitionCancel"),transitionend:ul("Transition","TransitionEnd")},u0={},_y={};Ls&&(_y=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function dl(i){if(u0[i])return u0[i];if(!oo[i])return i;var l=oo[i],u;for(u in l)if(l.hasOwnProperty(u)&&u in _y)return u0[i]=l[u];return i}var Ty=dl("animationend"),Cy=dl("animationiteration"),Ey=dl("animationstart"),dT=dl("transitionrun"),hT=dl("transitionstart"),mT=dl("transitioncancel"),Ay=dl("transitionend"),ky=new Map,d0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");d0.push("scrollEnd");function ca(i,l){ky.set(i,l),_a(l,[i])}var ah=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Us=[],co=0,h0=0;function ih(){for(var i=co,l=h0=co=0;l<i;){var u=Us[l];Us[l++]=null;var h=Us[l];Us[l++]=null;var x=Us[l];Us[l++]=null;var y=Us[l];if(Us[l++]=null,h!==null&&x!==null){var S=h.pending;S===null?x.next=x:(x.next=S.next,S.next=x),h.pending=x}y!==0&&Iy(u,x,y)}}function rh(i,l,u,h){Us[co++]=i,Us[co++]=l,Us[co++]=u,Us[co++]=h,h0|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function m0(i,l,u,h){return rh(i,l,u,h),lh(i)}function hl(i,l){return rh(i,null,null,l),lh(i)}function Iy(i,l,u){i.lanes|=u;var h=i.alternate;h!==null&&(h.lanes|=u);for(var x=!1,y=i.return;y!==null;)y.childLanes|=u,h=y.alternate,h!==null&&(h.childLanes|=u),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(x=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,x&&l!==null&&(x=31-ut(u),i=y.hiddenUpdates,h=i[x],h===null?i[x]=[l]:h.push(l),l.lane=u|536870912),y):null}function lh(i){if(50<gu)throw gu=0,Np=null,Error(a(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var uo={};function fT(i,l,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ss(i,l,u,h){return new fT(i,l,u,h)}function f0(i){return i=i.prototype,!(!i||!i.isReactComponent)}function si(i,l){var u=i.alternate;return u===null?(u=Ss(i.tag,l,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=l,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,l=i.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function Ry(i,l){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,l=u.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function oh(i,l,u,h,x,y){var S=0;if(h=i,typeof i=="function")f0(i)&&(S=1);else if(typeof i=="string")S=yC(i,u,ke.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case O:return i=Ss(31,u,l,x),i.elementType=O,i.lanes=y,i;case I:return ml(u.children,x,y,l);case D:S=8,x|=24;break;case L:return i=Ss(12,u,l,x|2),i.elementType=L,i.lanes=y,i;case X:return i=Ss(13,u,l,x),i.elementType=X,i.lanes=y,i;case G:return i=Ss(19,u,l,x),i.elementType=G,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case $:S=10;break e;case R:S=9;break e;case q:S=11;break e;case k:S=14;break e;case A:S=16,h=null;break e}S=29,u=Error(a(130,i===null?"null":typeof i,"")),h=null}return l=Ss(S,u,l,x),l.elementType=i,l.type=h,l.lanes=y,l}function ml(i,l,u,h){return i=Ss(7,i,h,l),i.lanes=u,i}function p0(i,l,u){return i=Ss(6,i,null,l),i.lanes=u,i}function Dy(i){var l=Ss(18,null,null,0);return l.stateNode=i,l}function g0(i,l,u){return l=Ss(4,i.children!==null?i.children:[],i.key,l),l.lanes=u,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var Py=new WeakMap;function zs(i,l){if(typeof i=="object"&&i!==null){var u=Py.get(i);return u!==void 0?u:(l={value:i,source:l,stack:Ne(l)},Py.set(i,l),l)}return{value:i,source:l,stack:Ne(l)}}var ho=[],mo=0,ch=null,Kc=0,Fs=[],Bs=0,Zi=null,Pa=1,Ma="";function ai(i,l){ho[mo++]=Kc,ho[mo++]=ch,ch=i,Kc=l}function My(i,l,u){Fs[Bs++]=Pa,Fs[Bs++]=Ma,Fs[Bs++]=Zi,Zi=i;var h=Pa;i=Ma;var x=32-ut(h)-1;h&=~(1<<x),u+=1;var y=32-ut(l)+x;if(30<y){var S=x-x%5;y=(h&(1<<S)-1).toString(32),h>>=S,x-=S,Pa=1<<32-ut(l)+x|u<<x|h,Ma=y+i}else Pa=1<<y|u<<x|h,Ma=i}function x0(i){i.return!==null&&(ai(i,1),My(i,1,0))}function b0(i){for(;i===ch;)ch=ho[--mo],ho[mo]=null,Kc=ho[--mo],ho[mo]=null;for(;i===Zi;)Zi=Fs[--Bs],Fs[Bs]=null,Ma=Fs[--Bs],Fs[Bs]=null,Pa=Fs[--Bs],Fs[Bs]=null}function Oy(i,l){Fs[Bs++]=Pa,Fs[Bs++]=Ma,Fs[Bs++]=Zi,Pa=l.id,Ma=l.overflow,Zi=i}var Ln=null,Ut=null,dt=!1,er=null,$s=!1,y0=Error(a(519));function tr(i){var l=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wc(zs(l,i)),y0}function Ly(i){var l=i.stateNode,u=i.type,h=i.memoizedProps;switch(l[un]=i,l[En]=h,u){case"dialog":nt("cancel",l),nt("close",l);break;case"iframe":case"object":case"embed":nt("load",l);break;case"video":case"audio":for(u=0;u<bu.length;u++)nt(bu[u],l);break;case"source":nt("error",l);break;case"img":case"image":case"link":nt("error",l),nt("load",l);break;case"details":nt("toggle",l);break;case"input":nt("invalid",l),Bd(l,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":nt("invalid",l);break;case"textarea":nt("invalid",l),Gi(l,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||h.suppressHydrationWarning===!0||ew(l.textContent,u)?(h.popover!=null&&(nt("beforetoggle",l),nt("toggle",l)),h.onScroll!=null&&nt("scroll",l),h.onScrollEnd!=null&&nt("scrollend",l),h.onClick!=null&&(l.onclick=aa),l=!0):l=!1,l||tr(i,!0)}function Vy(i){for(Ln=i.return;Ln;)switch(Ln.tag){case 5:case 31:case 13:$s=!1;return;case 27:case 3:$s=!0;return;default:Ln=Ln.return}}function fo(i){if(i!==Ln)return!1;if(!dt)return Vy(i),dt=!0,!1;var l=i.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Lp(i.type,i.memoizedProps)),u=!u),u&&Ut&&tr(i),Vy(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));Ut=cw(i)}else if(l===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));Ut=cw(i)}else l===27?(l=Ut,pr(i.type)?(i=Bp,Bp=null,Ut=i):Ut=l):Ut=Ln?Hs(i.stateNode.nextSibling):null;return!0}function fl(){Ut=Ln=null,dt=!1}function v0(){var i=er;return i!==null&&(hs===null?hs=i:hs.push.apply(hs,i),er=null),i}function Wc(i){er===null?er=[i]:er.push(i)}var w0=ce(null),pl=null,ii=null;function nr(i,l,u){F(w0,l._currentValue),l._currentValue=u}function ri(i){i._currentValue=w0.current,be(w0)}function N0(i,l,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,h!==null&&(h.childLanes|=l)):h!==null&&(h.childLanes&l)!==l&&(h.childLanes|=l),i===u)break;i=i.return}}function j0(i,l,u,h){var x=i.child;for(x!==null&&(x.return=i);x!==null;){var y=x.dependencies;if(y!==null){var S=x.child;y=y.firstContext;e:for(;y!==null;){var P=y;y=x;for(var Q=0;Q<l.length;Q++)if(P.context===l[Q]){y.lanes|=u,P=y.alternate,P!==null&&(P.lanes|=u),N0(y.return,u,i),h||(S=null);break e}y=P.next}}else if(x.tag===18){if(S=x.return,S===null)throw Error(a(341));S.lanes|=u,y=S.alternate,y!==null&&(y.lanes|=u),N0(S,u,i),S=null}else S=x.child;if(S!==null)S.return=x;else for(S=x;S!==null;){if(S===i){S=null;break}if(x=S.sibling,x!==null){x.return=S.return,S=x;break}S=S.return}x=S}}function po(i,l,u,h){i=null;for(var x=l,y=!1;x!==null;){if(!y){if((x.flags&524288)!==0)y=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var S=x.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var P=x.type;js(x.pendingProps.value,S.value)||(i!==null?i.push(P):i=[P])}}else if(x===et.current){if(S=x.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(i!==null?i.push(ju):i=[ju])}x=x.return}i!==null&&j0(l,i,u,h),l.flags|=262144}function uh(i){for(i=i.firstContext;i!==null;){if(!js(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function gl(i){pl=i,ii=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Vn(i){return Uy(pl,i)}function dh(i,l){return pl===null&&gl(i),Uy(i,l)}function Uy(i,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},ii===null){if(i===null)throw Error(a(308));ii=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else ii=ii.next=l;return u}var pT=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(u,h){i.push(h)}};this.abort=function(){l.aborted=!0,i.forEach(function(u){return u()})}},gT=t.unstable_scheduleCallback,xT=t.unstable_NormalPriority,mn={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function S0(){return{controller:new pT,data:new Map,refCount:0}}function Xc(i){i.refCount--,i.refCount===0&&gT(xT,function(){i.controller.abort()})}var Jc=null,_0=0,go=0,xo=null;function bT(i,l){if(Jc===null){var u=Jc=[];_0=0,go=Ep(),xo={status:"pending",value:void 0,then:function(h){u.push(h)}}}return _0++,l.then(zy,zy),l}function zy(){if(--_0===0&&Jc!==null){xo!==null&&(xo.status="fulfilled");var i=Jc;Jc=null,go=0,xo=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function yT(i,l){var u=[],h={status:"pending",value:null,reason:null,then:function(x){u.push(x)}};return i.then(function(){h.status="fulfilled",h.value=l;for(var x=0;x<u.length;x++)(0,u[x])(l)},function(x){for(h.status="rejected",h.reason=x,x=0;x<u.length;x++)(0,u[x])(void 0)}),h}var Fy=H.S;H.S=function(i,l){S1=Qt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&bT(i,l),Fy!==null&&Fy(i,l)};var xl=ce(null);function T0(){var i=xl.current;return i!==null?i:Dt.pooledCache}function hh(i,l){l===null?F(xl,xl.current):F(xl,l.pool)}function By(){var i=T0();return i===null?null:{parent:mn._currentValue,pool:i}}var bo=Error(a(460)),C0=Error(a(474)),mh=Error(a(542)),fh={then:function(){}};function $y(i){return i=i.status,i==="fulfilled"||i==="rejected"}function qy(i,l,u){switch(u=i[u],u===void 0?i.push(l):u!==l&&(l.then(aa,aa),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,Gy(i),i;default:if(typeof l.status=="string")l.then(aa,aa);else{if(i=Dt,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=l,i.status="pending",i.then(function(h){if(l.status==="pending"){var x=l;x.status="fulfilled",x.value=h}},function(h){if(l.status==="pending"){var x=l;x.status="rejected",x.reason=h}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,Gy(i),i}throw yl=l,bo}}function bl(i){try{var l=i._init;return l(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(yl=u,bo):u}}var yl=null;function Hy(){if(yl===null)throw Error(a(459));var i=yl;return yl=null,i}function Gy(i){if(i===bo||i===mh)throw Error(a(483))}var yo=null,Zc=0;function ph(i){var l=Zc;return Zc+=1,yo===null&&(yo=[]),qy(yo,i,l)}function eu(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function gh(i,l){throw l.$$typeof===v?Error(a(525)):(i=Object.prototype.toString.call(l),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function Qy(i){function l(W,Y){if(i){var te=W.deletions;te===null?(W.deletions=[Y],W.flags|=16):te.push(Y)}}function u(W,Y){if(!i)return null;for(;Y!==null;)l(W,Y),Y=Y.sibling;return null}function h(W){for(var Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function x(W,Y){return W=si(W,Y),W.index=0,W.sibling=null,W}function y(W,Y,te){return W.index=te,i?(te=W.alternate,te!==null?(te=te.index,te<Y?(W.flags|=67108866,Y):te):(W.flags|=67108866,Y)):(W.flags|=1048576,Y)}function S(W){return i&&W.alternate===null&&(W.flags|=67108866),W}function P(W,Y,te,me){return Y===null||Y.tag!==6?(Y=p0(te,W.mode,me),Y.return=W,Y):(Y=x(Y,te),Y.return=W,Y)}function Q(W,Y,te,me){var Oe=te.type;return Oe===I?ue(W,Y,te.props.children,me,te.key):Y!==null&&(Y.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===A&&bl(Oe)===Y.type)?(Y=x(Y,te.props),eu(Y,te),Y.return=W,Y):(Y=oh(te.type,te.key,te.props,null,W.mode,me),eu(Y,te),Y.return=W,Y)}function se(W,Y,te,me){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==te.containerInfo||Y.stateNode.implementation!==te.implementation?(Y=g0(te,W.mode,me),Y.return=W,Y):(Y=x(Y,te.children||[]),Y.return=W,Y)}function ue(W,Y,te,me,Oe){return Y===null||Y.tag!==7?(Y=ml(te,W.mode,me,Oe),Y.return=W,Y):(Y=x(Y,te),Y.return=W,Y)}function pe(W,Y,te){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=p0(""+Y,W.mode,te),Y.return=W,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return te=oh(Y.type,Y.key,Y.props,null,W.mode,te),eu(te,Y),te.return=W,te;case j:return Y=g0(Y,W.mode,te),Y.return=W,Y;case A:return Y=bl(Y),pe(W,Y,te)}if(K(Y)||z(Y))return Y=ml(Y,W.mode,te,null),Y.return=W,Y;if(typeof Y.then=="function")return pe(W,ph(Y),te);if(Y.$$typeof===$)return pe(W,dh(W,Y),te);gh(W,Y)}return null}function ae(W,Y,te,me){var Oe=Y!==null?Y.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Oe!==null?null:P(W,Y,""+te,me);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case w:return te.key===Oe?Q(W,Y,te,me):null;case j:return te.key===Oe?se(W,Y,te,me):null;case A:return te=bl(te),ae(W,Y,te,me)}if(K(te)||z(te))return Oe!==null?null:ue(W,Y,te,me,null);if(typeof te.then=="function")return ae(W,Y,ph(te),me);if(te.$$typeof===$)return ae(W,Y,dh(W,te),me);gh(W,te)}return null}function re(W,Y,te,me,Oe){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return W=W.get(te)||null,P(Y,W,""+me,Oe);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case w:return W=W.get(me.key===null?te:me.key)||null,Q(Y,W,me,Oe);case j:return W=W.get(me.key===null?te:me.key)||null,se(Y,W,me,Oe);case A:return me=bl(me),re(W,Y,te,me,Oe)}if(K(me)||z(me))return W=W.get(te)||null,ue(Y,W,me,Oe,null);if(typeof me.then=="function")return re(W,Y,te,ph(me),Oe);if(me.$$typeof===$)return re(W,Y,te,dh(Y,me),Oe);gh(Y,me)}return null}function Ae(W,Y,te,me){for(var Oe=null,gt=null,Re=Y,We=Y=0,rt=null;Re!==null&&We<te.length;We++){Re.index>We?(rt=Re,Re=null):rt=Re.sibling;var xt=ae(W,Re,te[We],me);if(xt===null){Re===null&&(Re=rt);break}i&&Re&&xt.alternate===null&&l(W,Re),Y=y(xt,Y,We),gt===null?Oe=xt:gt.sibling=xt,gt=xt,Re=rt}if(We===te.length)return u(W,Re),dt&&ai(W,We),Oe;if(Re===null){for(;We<te.length;We++)Re=pe(W,te[We],me),Re!==null&&(Y=y(Re,Y,We),gt===null?Oe=Re:gt.sibling=Re,gt=Re);return dt&&ai(W,We),Oe}for(Re=h(Re);We<te.length;We++)rt=re(Re,W,We,te[We],me),rt!==null&&(i&&rt.alternate!==null&&Re.delete(rt.key===null?We:rt.key),Y=y(rt,Y,We),gt===null?Oe=rt:gt.sibling=rt,gt=rt);return i&&Re.forEach(function(vr){return l(W,vr)}),dt&&ai(W,We),Oe}function Fe(W,Y,te,me){if(te==null)throw Error(a(151));for(var Oe=null,gt=null,Re=Y,We=Y=0,rt=null,xt=te.next();Re!==null&&!xt.done;We++,xt=te.next()){Re.index>We?(rt=Re,Re=null):rt=Re.sibling;var vr=ae(W,Re,xt.value,me);if(vr===null){Re===null&&(Re=rt);break}i&&Re&&vr.alternate===null&&l(W,Re),Y=y(vr,Y,We),gt===null?Oe=vr:gt.sibling=vr,gt=vr,Re=rt}if(xt.done)return u(W,Re),dt&&ai(W,We),Oe;if(Re===null){for(;!xt.done;We++,xt=te.next())xt=pe(W,xt.value,me),xt!==null&&(Y=y(xt,Y,We),gt===null?Oe=xt:gt.sibling=xt,gt=xt);return dt&&ai(W,We),Oe}for(Re=h(Re);!xt.done;We++,xt=te.next())xt=re(Re,W,We,xt.value,me),xt!==null&&(i&&xt.alternate!==null&&Re.delete(xt.key===null?We:xt.key),Y=y(xt,Y,We),gt===null?Oe=xt:gt.sibling=xt,gt=xt);return i&&Re.forEach(function(kC){return l(W,kC)}),dt&&ai(W,We),Oe}function Rt(W,Y,te,me){if(typeof te=="object"&&te!==null&&te.type===I&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case w:e:{for(var Oe=te.key;Y!==null;){if(Y.key===Oe){if(Oe=te.type,Oe===I){if(Y.tag===7){u(W,Y.sibling),me=x(Y,te.props.children),me.return=W,W=me;break e}}else if(Y.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===A&&bl(Oe)===Y.type){u(W,Y.sibling),me=x(Y,te.props),eu(me,te),me.return=W,W=me;break e}u(W,Y);break}else l(W,Y);Y=Y.sibling}te.type===I?(me=ml(te.props.children,W.mode,me,te.key),me.return=W,W=me):(me=oh(te.type,te.key,te.props,null,W.mode,me),eu(me,te),me.return=W,W=me)}return S(W);case j:e:{for(Oe=te.key;Y!==null;){if(Y.key===Oe)if(Y.tag===4&&Y.stateNode.containerInfo===te.containerInfo&&Y.stateNode.implementation===te.implementation){u(W,Y.sibling),me=x(Y,te.children||[]),me.return=W,W=me;break e}else{u(W,Y);break}else l(W,Y);Y=Y.sibling}me=g0(te,W.mode,me),me.return=W,W=me}return S(W);case A:return te=bl(te),Rt(W,Y,te,me)}if(K(te))return Ae(W,Y,te,me);if(z(te)){if(Oe=z(te),typeof Oe!="function")throw Error(a(150));return te=Oe.call(te),Fe(W,Y,te,me)}if(typeof te.then=="function")return Rt(W,Y,ph(te),me);if(te.$$typeof===$)return Rt(W,Y,dh(W,te),me);gh(W,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,Y!==null&&Y.tag===6?(u(W,Y.sibling),me=x(Y,te),me.return=W,W=me):(u(W,Y),me=p0(te,W.mode,me),me.return=W,W=me),S(W)):u(W,Y)}return function(W,Y,te,me){try{Zc=0;var Oe=Rt(W,Y,te,me);return yo=null,Oe}catch(Re){if(Re===bo||Re===mh)throw Re;var gt=Ss(29,Re,null,W.mode);return gt.lanes=me,gt.return=W,gt}finally{}}}var vl=Qy(!0),Yy=Qy(!1),sr=!1;function E0(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function A0(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ar(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ir(i,l,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(yt&2)!==0){var x=h.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),h.pending=l,l=lh(i),Iy(i,null,u),l}return rh(i,h,l,u),lh(i)}function tu(i,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var h=l.lanes;h&=i.pendingLanes,u|=h,l.lanes=u,Ec(i,u)}}function k0(i,l){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var x=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var S={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?x=y=S:y=y.next=S,u=u.next}while(u!==null);y===null?x=y=l:y=y.next=l}else x=y=l;u={baseState:h.baseState,firstBaseUpdate:x,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=l:i.next=l,u.lastBaseUpdate=l}var I0=!1;function nu(){if(I0){var i=xo;if(i!==null)throw i}}function su(i,l,u,h){I0=!1;var x=i.updateQueue;sr=!1;var y=x.firstBaseUpdate,S=x.lastBaseUpdate,P=x.shared.pending;if(P!==null){x.shared.pending=null;var Q=P,se=Q.next;Q.next=null,S===null?y=se:S.next=se,S=Q;var ue=i.alternate;ue!==null&&(ue=ue.updateQueue,P=ue.lastBaseUpdate,P!==S&&(P===null?ue.firstBaseUpdate=se:P.next=se,ue.lastBaseUpdate=Q))}if(y!==null){var pe=x.baseState;S=0,ue=se=Q=null,P=y;do{var ae=P.lane&-536870913,re=ae!==P.lane;if(re?(it&ae)===ae:(h&ae)===ae){ae!==0&&ae===go&&(I0=!0),ue!==null&&(ue=ue.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Ae=i,Fe=P;ae=l;var Rt=u;switch(Fe.tag){case 1:if(Ae=Fe.payload,typeof Ae=="function"){pe=Ae.call(Rt,pe,ae);break e}pe=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Fe.payload,ae=typeof Ae=="function"?Ae.call(Rt,pe,ae):Ae,ae==null)break e;pe=b({},pe,ae);break e;case 2:sr=!0}}ae=P.callback,ae!==null&&(i.flags|=64,re&&(i.flags|=8192),re=x.callbacks,re===null?x.callbacks=[ae]:re.push(ae))}else re={lane:ae,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ue===null?(se=ue=re,Q=pe):ue=ue.next=re,S|=ae;if(P=P.next,P===null){if(P=x.shared.pending,P===null)break;re=P,P=re.next,re.next=null,x.lastBaseUpdate=re,x.shared.pending=null}}while(!0);ue===null&&(Q=pe),x.baseState=Q,x.firstBaseUpdate=se,x.lastBaseUpdate=ue,y===null&&(x.shared.lanes=0),ur|=S,i.lanes=S,i.memoizedState=pe}}function Ky(i,l){if(typeof i!="function")throw Error(a(191,i));i.call(l)}function Wy(i,l){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)Ky(u[i],l)}var vo=ce(null),xh=ce(0);function Xy(i,l){i=pi,F(xh,i),F(vo,l),pi=i|l.baseLanes}function R0(){F(xh,pi),F(vo,vo.current)}function D0(){pi=xh.current,be(vo),be(xh)}var _s=ce(null),qs=null;function rr(i){var l=i.alternate;F(nn,nn.current&1),F(_s,i),qs===null&&(l===null||vo.current!==null||l.memoizedState!==null)&&(qs=i)}function P0(i){F(nn,nn.current),F(_s,i),qs===null&&(qs=i)}function Jy(i){i.tag===22?(F(nn,nn.current),F(_s,i),qs===null&&(qs=i)):lr()}function lr(){F(nn,nn.current),F(_s,_s.current)}function Ts(i){be(_s),qs===i&&(qs=null),be(nn)}var nn=ce(0);function bh(i){for(var l=i;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||zp(u)||Fp(u)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var li=0,Ke=null,kt=null,fn=null,yh=!1,wo=!1,wl=!1,vh=0,au=0,No=null,vT=0;function Wt(){throw Error(a(321))}function M0(i,l){if(l===null)return!1;for(var u=0;u<l.length&&u<i.length;u++)if(!js(i[u],l[u]))return!1;return!0}function O0(i,l,u,h,x,y){return li=y,Ke=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,H.H=i===null||i.memoizedState===null?Mv:X0,wl=!1,y=u(h,x),wl=!1,wo&&(y=ev(l,u,h,x)),Zy(i),y}function Zy(i){H.H=lu;var l=kt!==null&&kt.next!==null;if(li=0,fn=kt=Ke=null,yh=!1,au=0,No=null,l)throw Error(a(300));i===null||pn||(i=i.dependencies,i!==null&&uh(i)&&(pn=!0))}function ev(i,l,u,h){Ke=i;var x=0;do{if(wo&&(No=null),au=0,wo=!1,25<=x)throw Error(a(301));if(x+=1,fn=kt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=Ov,y=l(u,h)}while(wo);return y}function wT(){var i=H.H,l=i.useState()[0];return l=typeof l.then=="function"?iu(l):l,i=i.useState()[0],(kt!==null?kt.memoizedState:null)!==i&&(Ke.flags|=1024),l}function L0(){var i=vh!==0;return vh=0,i}function V0(i,l,u){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~u}function U0(i){if(yh){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}yh=!1}li=0,fn=kt=Ke=null,wo=!1,au=vh=0,No=null}function is(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Ke.memoizedState=fn=i:fn=fn.next=i,fn}function sn(){if(kt===null){var i=Ke.alternate;i=i!==null?i.memoizedState:null}else i=kt.next;var l=fn===null?Ke.memoizedState:fn.next;if(l!==null)fn=l,kt=i;else{if(i===null)throw Ke.alternate===null?Error(a(467)):Error(a(310));kt=i,i={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},fn===null?Ke.memoizedState=fn=i:fn=fn.next=i}return fn}function wh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function iu(i){var l=au;return au+=1,No===null&&(No=[]),i=qy(No,i,l),l=Ke,(fn===null?l.memoizedState:fn.next)===null&&(l=l.alternate,H.H=l===null||l.memoizedState===null?Mv:X0),i}function Nh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return iu(i);if(i.$$typeof===$)return Vn(i)}throw Error(a(438,String(i)))}function z0(i){var l=null,u=Ke.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var h=Ke.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(l={data:h.data.map(function(x){return x.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=wh(),Ke.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(i),h=0;h<i;h++)u[h]=C;return l.index++,u}function oi(i,l){return typeof l=="function"?l(i):l}function jh(i){var l=sn();return F0(l,kt,i)}function F0(i,l,u){var h=i.queue;if(h===null)throw Error(a(311));h.lastRenderedReducer=u;var x=i.baseQueue,y=h.pending;if(y!==null){if(x!==null){var S=x.next;x.next=y.next,y.next=S}l.baseQueue=x=y,h.pending=null}if(y=i.baseState,x===null)i.memoizedState=y;else{l=x.next;var P=S=null,Q=null,se=l,ue=!1;do{var pe=se.lane&-536870913;if(pe!==se.lane?(it&pe)===pe:(li&pe)===pe){var ae=se.revertLane;if(ae===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),pe===go&&(ue=!0);else if((li&ae)===ae){se=se.next,ae===go&&(ue=!0);continue}else pe={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},Q===null?(P=Q=pe,S=y):Q=Q.next=pe,Ke.lanes|=ae,ur|=ae;pe=se.action,wl&&u(y,pe),y=se.hasEagerState?se.eagerState:u(y,pe)}else ae={lane:pe,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},Q===null?(P=Q=ae,S=y):Q=Q.next=ae,Ke.lanes|=pe,ur|=pe;se=se.next}while(se!==null&&se!==l);if(Q===null?S=y:Q.next=P,!js(y,i.memoizedState)&&(pn=!0,ue&&(u=xo,u!==null)))throw u;i.memoizedState=y,i.baseState=S,i.baseQueue=Q,h.lastRenderedState=y}return x===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function B0(i){var l=sn(),u=l.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=i;var h=u.dispatch,x=u.pending,y=l.memoizedState;if(x!==null){u.pending=null;var S=x=x.next;do y=i(y,S.action),S=S.next;while(S!==x);js(y,l.memoizedState)||(pn=!0),l.memoizedState=y,l.baseQueue===null&&(l.baseState=y),u.lastRenderedState=y}return[y,h]}function tv(i,l,u){var h=Ke,x=sn(),y=dt;if(y){if(u===void 0)throw Error(a(407));u=u()}else u=l();var S=!js((kt||x).memoizedState,u);if(S&&(x.memoizedState=u,pn=!0),x=x.queue,H0(av.bind(null,h,x,i),[i]),x.getSnapshot!==l||S||fn!==null&&fn.memoizedState.tag&1){if(h.flags|=2048,jo(9,{destroy:void 0},sv.bind(null,h,x,u,l),null),Dt===null)throw Error(a(349));y||(li&127)!==0||nv(h,l,u)}return u}function nv(i,l,u){i.flags|=16384,i={getSnapshot:l,value:u},l=Ke.updateQueue,l===null?(l=wh(),Ke.updateQueue=l,l.stores=[i]):(u=l.stores,u===null?l.stores=[i]:u.push(i))}function sv(i,l,u,h){l.value=u,l.getSnapshot=h,iv(l)&&rv(i)}function av(i,l,u){return u(function(){iv(l)&&rv(i)})}function iv(i){var l=i.getSnapshot;i=i.value;try{var u=l();return!js(i,u)}catch{return!0}}function rv(i){var l=hl(i,2);l!==null&&ms(l,i,2)}function $0(i){var l=is();if(typeof i=="function"){var u=i;if(i=u(),wl){Cn(!0);try{u()}finally{Cn(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:i},l}function lv(i,l,u,h){return i.baseState=u,F0(i,kt,typeof h=="function"?h:oi)}function NT(i,l,u,h,x){if(Th(i))throw Error(a(485));if(i=l.action,i!==null){var y={payload:x,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};H.T!==null?u(!0):y.isTransition=!1,h(y),u=l.pending,u===null?(y.next=l.pending=y,ov(l,y)):(y.next=u.next,l.pending=u.next=y)}}function ov(i,l){var u=l.action,h=l.payload,x=i.state;if(l.isTransition){var y=H.T,S={};H.T=S;try{var P=u(x,h),Q=H.S;Q!==null&&Q(S,P),cv(i,l,P)}catch(se){q0(i,l,se)}finally{y!==null&&S.types!==null&&(y.types=S.types),H.T=y}}else try{y=u(x,h),cv(i,l,y)}catch(se){q0(i,l,se)}}function cv(i,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){uv(i,l,h)},function(h){return q0(i,l,h)}):uv(i,l,u)}function uv(i,l,u){l.status="fulfilled",l.value=u,dv(l),i.state=u,l=i.pending,l!==null&&(u=l.next,u===l?i.pending=null:(u=u.next,l.next=u,ov(i,u)))}function q0(i,l,u){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do l.status="rejected",l.reason=u,dv(l),l=l.next;while(l!==h)}i.action=null}function dv(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function hv(i,l){return l}function mv(i,l){if(dt){var u=Dt.formState;if(u!==null){e:{var h=Ke;if(dt){if(Ut){t:{for(var x=Ut,y=$s;x.nodeType!==8;){if(!y){x=null;break t}if(x=Hs(x.nextSibling),x===null){x=null;break t}}y=x.data,x=y==="F!"||y==="F"?x:null}if(x){Ut=Hs(x.nextSibling),h=x.data==="F!";break e}}tr(h)}h=!1}h&&(l=u[0])}}return u=is(),u.memoizedState=u.baseState=l,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hv,lastRenderedState:l},u.queue=h,u=Rv.bind(null,Ke,h),h.dispatch=u,h=$0(!1),y=W0.bind(null,Ke,!1,h.queue),h=is(),x={state:l,dispatch:null,action:i,pending:null},h.queue=x,u=NT.bind(null,Ke,x,y,u),x.dispatch=u,h.memoizedState=i,[l,u,!1]}function fv(i){var l=sn();return pv(l,kt,i)}function pv(i,l,u){if(l=F0(i,l,hv)[0],i=jh(oi)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var h=iu(l)}catch(S){throw S===bo?mh:S}else h=l;l=sn();var x=l.queue,y=x.dispatch;return u!==l.memoizedState&&(Ke.flags|=2048,jo(9,{destroy:void 0},jT.bind(null,x,u),null)),[h,y,i]}function jT(i,l){i.action=l}function gv(i){var l=sn(),u=kt;if(u!==null)return pv(l,u,i);sn(),l=l.memoizedState,u=sn();var h=u.queue.dispatch;return u.memoizedState=i,[l,h,!1]}function jo(i,l,u,h){return i={tag:i,create:u,deps:h,inst:l,next:null},l=Ke.updateQueue,l===null&&(l=wh(),Ke.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,l.lastEffect=i),i}function xv(){return sn().memoizedState}function Sh(i,l,u,h){var x=is();Ke.flags|=i,x.memoizedState=jo(1|l,{destroy:void 0},u,h===void 0?null:h)}function _h(i,l,u,h){var x=sn();h=h===void 0?null:h;var y=x.memoizedState.inst;kt!==null&&h!==null&&M0(h,kt.memoizedState.deps)?x.memoizedState=jo(l,y,u,h):(Ke.flags|=i,x.memoizedState=jo(1|l,y,u,h))}function bv(i,l){Sh(8390656,8,i,l)}function H0(i,l){_h(2048,8,i,l)}function ST(i){Ke.flags|=4;var l=Ke.updateQueue;if(l===null)l=wh(),Ke.updateQueue=l,l.events=[i];else{var u=l.events;u===null?l.events=[i]:u.push(i)}}function yv(i){var l=sn().memoizedState;return ST({ref:l,nextImpl:i}),function(){if((yt&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}function vv(i,l){return _h(4,2,i,l)}function wv(i,l){return _h(4,4,i,l)}function Nv(i,l){if(typeof l=="function"){i=i();var u=l(i);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function jv(i,l,u){u=u!=null?u.concat([i]):null,_h(4,4,Nv.bind(null,l,i),u)}function G0(){}function Sv(i,l){var u=sn();l=l===void 0?null:l;var h=u.memoizedState;return l!==null&&M0(l,h[1])?h[0]:(u.memoizedState=[i,l],i)}function _v(i,l){var u=sn();l=l===void 0?null:l;var h=u.memoizedState;if(l!==null&&M0(l,h[1]))return h[0];if(h=i(),wl){Cn(!0);try{i()}finally{Cn(!1)}}return u.memoizedState=[h,l],h}function Q0(i,l,u){return u===void 0||(li&1073741824)!==0&&(it&261930)===0?i.memoizedState=l:(i.memoizedState=u,i=T1(),Ke.lanes|=i,ur|=i,u)}function Tv(i,l,u,h){return js(u,l)?u:vo.current!==null?(i=Q0(i,u,h),js(i,l)||(pn=!0),i):(li&42)===0||(li&1073741824)!==0&&(it&261930)===0?(pn=!0,i.memoizedState=u):(i=T1(),Ke.lanes|=i,ur|=i,l)}function Cv(i,l,u,h,x){var y=Z.p;Z.p=y!==0&&8>y?y:8;var S=H.T,P={};H.T=P,W0(i,!1,l,u);try{var Q=x(),se=H.S;if(se!==null&&se(P,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var ue=yT(Q,h);ru(i,l,ue,As(i))}else ru(i,l,h,As(i))}catch(pe){ru(i,l,{then:function(){},status:"rejected",reason:pe},As())}finally{Z.p=y,S!==null&&P.types!==null&&(S.types=P.types),H.T=S}}function _T(){}function Y0(i,l,u,h){if(i.tag!==5)throw Error(a(476));var x=Ev(i).queue;Cv(i,x,l,le,u===null?_T:function(){return Av(i),u(h)})}function Ev(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:le},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:u},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function Av(i){var l=Ev(i);l.next===null&&(l=i.alternate.memoizedState),ru(i,l.next.queue,{},As())}function K0(){return Vn(ju)}function kv(){return sn().memoizedState}function Iv(){return sn().memoizedState}function TT(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var u=As();i=ar(u);var h=ir(l,i,u);h!==null&&(ms(h,l,u),tu(h,l,u)),l={cache:S0()},i.payload=l;return}l=l.return}}function CT(i,l,u){var h=As();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Th(i)?Dv(l,u):(u=m0(i,l,u,h),u!==null&&(ms(u,i,h),Pv(u,l,h)))}function Rv(i,l,u){var h=As();ru(i,l,u,h)}function ru(i,l,u,h){var x={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Th(i))Dv(l,x);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=l.lastRenderedReducer,y!==null))try{var S=l.lastRenderedState,P=y(S,u);if(x.hasEagerState=!0,x.eagerState=P,js(P,S))return rh(i,l,x,0),Dt===null&&ih(),!1}catch{}finally{}if(u=m0(i,l,x,h),u!==null)return ms(u,i,h),Pv(u,l,h),!0}return!1}function W0(i,l,u,h){if(h={lane:2,revertLane:Ep(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Th(i)){if(l)throw Error(a(479))}else l=m0(i,u,h,2),l!==null&&ms(l,i,2)}function Th(i){var l=i.alternate;return i===Ke||l!==null&&l===Ke}function Dv(i,l){wo=yh=!0;var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}function Pv(i,l,u){if((u&4194048)!==0){var h=l.lanes;h&=i.pendingLanes,u|=h,l.lanes=u,Ec(i,u)}}var lu={readContext:Vn,use:Nh,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt};lu.useEffectEvent=Wt;var Mv={readContext:Vn,use:Nh,useCallback:function(i,l){return is().memoizedState=[i,l===void 0?null:l],i},useContext:Vn,useEffect:bv,useImperativeHandle:function(i,l,u){u=u!=null?u.concat([i]):null,Sh(4194308,4,Nv.bind(null,l,i),u)},useLayoutEffect:function(i,l){return Sh(4194308,4,i,l)},useInsertionEffect:function(i,l){Sh(4,2,i,l)},useMemo:function(i,l){var u=is();l=l===void 0?null:l;var h=i();if(wl){Cn(!0);try{i()}finally{Cn(!1)}}return u.memoizedState=[h,l],h},useReducer:function(i,l,u){var h=is();if(u!==void 0){var x=u(l);if(wl){Cn(!0);try{u(l)}finally{Cn(!1)}}}else x=l;return h.memoizedState=h.baseState=x,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:x},h.queue=i,i=i.dispatch=CT.bind(null,Ke,i),[h.memoizedState,i]},useRef:function(i){var l=is();return i={current:i},l.memoizedState=i},useState:function(i){i=$0(i);var l=i.queue,u=Rv.bind(null,Ke,l);return l.dispatch=u,[i.memoizedState,u]},useDebugValue:G0,useDeferredValue:function(i,l){var u=is();return Q0(u,i,l)},useTransition:function(){var i=$0(!1);return i=Cv.bind(null,Ke,i.queue,!0,!1),is().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,u){var h=Ke,x=is();if(dt){if(u===void 0)throw Error(a(407));u=u()}else{if(u=l(),Dt===null)throw Error(a(349));(it&127)!==0||nv(h,l,u)}x.memoizedState=u;var y={value:u,getSnapshot:l};return x.queue=y,bv(av.bind(null,h,y,i),[i]),h.flags|=2048,jo(9,{destroy:void 0},sv.bind(null,h,y,u,l),null),u},useId:function(){var i=is(),l=Dt.identifierPrefix;if(dt){var u=Ma,h=Pa;u=(h&~(1<<32-ut(h)-1)).toString(32)+u,l="_"+l+"R_"+u,u=vh++,0<u&&(l+="H"+u.toString(32)),l+="_"}else u=vT++,l="_"+l+"r_"+u.toString(32)+"_";return i.memoizedState=l},useHostTransitionStatus:K0,useFormState:mv,useActionState:mv,useOptimistic:function(i){var l=is();l.memoizedState=l.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=W0.bind(null,Ke,!0,u),u.dispatch=l,[i,l]},useMemoCache:z0,useCacheRefresh:function(){return is().memoizedState=TT.bind(null,Ke)},useEffectEvent:function(i){var l=is(),u={impl:i};return l.memoizedState=u,function(){if((yt&2)!==0)throw Error(a(440));return u.impl.apply(void 0,arguments)}}},X0={readContext:Vn,use:Nh,useCallback:Sv,useContext:Vn,useEffect:H0,useImperativeHandle:jv,useInsertionEffect:vv,useLayoutEffect:wv,useMemo:_v,useReducer:jh,useRef:xv,useState:function(){return jh(oi)},useDebugValue:G0,useDeferredValue:function(i,l){var u=sn();return Tv(u,kt.memoizedState,i,l)},useTransition:function(){var i=jh(oi)[0],l=sn().memoizedState;return[typeof i=="boolean"?i:iu(i),l]},useSyncExternalStore:tv,useId:kv,useHostTransitionStatus:K0,useFormState:fv,useActionState:fv,useOptimistic:function(i,l){var u=sn();return lv(u,kt,i,l)},useMemoCache:z0,useCacheRefresh:Iv};X0.useEffectEvent=yv;var Ov={readContext:Vn,use:Nh,useCallback:Sv,useContext:Vn,useEffect:H0,useImperativeHandle:jv,useInsertionEffect:vv,useLayoutEffect:wv,useMemo:_v,useReducer:B0,useRef:xv,useState:function(){return B0(oi)},useDebugValue:G0,useDeferredValue:function(i,l){var u=sn();return kt===null?Q0(u,i,l):Tv(u,kt.memoizedState,i,l)},useTransition:function(){var i=B0(oi)[0],l=sn().memoizedState;return[typeof i=="boolean"?i:iu(i),l]},useSyncExternalStore:tv,useId:kv,useHostTransitionStatus:K0,useFormState:gv,useActionState:gv,useOptimistic:function(i,l){var u=sn();return kt!==null?lv(u,kt,i,l):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:z0,useCacheRefresh:Iv};Ov.useEffectEvent=yv;function J0(i,l,u,h){l=i.memoizedState,u=u(h,l),u=u==null?l:b({},l,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Z0={enqueueSetState:function(i,l,u){i=i._reactInternals;var h=As(),x=ar(h);x.payload=l,u!=null&&(x.callback=u),l=ir(i,x,h),l!==null&&(ms(l,i,h),tu(l,i,h))},enqueueReplaceState:function(i,l,u){i=i._reactInternals;var h=As(),x=ar(h);x.tag=1,x.payload=l,u!=null&&(x.callback=u),l=ir(i,x,h),l!==null&&(ms(l,i,h),tu(l,i,h))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var u=As(),h=ar(u);h.tag=2,l!=null&&(h.callback=l),l=ir(i,h,u),l!==null&&(ms(l,i,u),tu(l,i,u))}};function Lv(i,l,u,h,x,y,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,S):l.prototype&&l.prototype.isPureReactComponent?!Qc(u,h)||!Qc(x,y):!0}function Vv(i,l,u,h){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,h),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,h),l.state!==i&&Z0.enqueueReplaceState(l,l.state,null)}function Nl(i,l){var u=l;if("ref"in l){u={};for(var h in l)h!=="ref"&&(u[h]=l[h])}if(i=i.defaultProps){u===l&&(u=b({},u));for(var x in i)u[x]===void 0&&(u[x]=i[x])}return u}function Uv(i){ah(i)}function zv(i){console.error(i)}function Fv(i){ah(i)}function Ch(i,l){try{var u=i.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(h){setTimeout(function(){throw h})}}function Bv(i,l,u){try{var h=i.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function ep(i,l,u){return u=ar(u),u.tag=3,u.payload={element:null},u.callback=function(){Ch(i,l)},u}function $v(i){return i=ar(i),i.tag=3,i}function qv(i,l,u,h){var x=u.type.getDerivedStateFromError;if(typeof x=="function"){var y=h.value;i.payload=function(){return x(y)},i.callback=function(){Bv(l,u,h)}}var S=u.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){Bv(l,u,h),typeof x!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var P=h.stack;this.componentDidCatch(h.value,{componentStack:P!==null?P:""})})}function ET(i,l,u,h,x){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(l=u.alternate,l!==null&&po(l,u,x,!0),u=_s.current,u!==null){switch(u.tag){case 31:case 13:return qs===null?Uh():u.alternate===null&&Xt===0&&(Xt=3),u.flags&=-257,u.flags|=65536,u.lanes=x,h===fh?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([h]):l.add(h),_p(i,h,x)),!1;case 22:return u.flags|=65536,h===fh?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([h]):u.add(h)),_p(i,h,x)),!1}throw Error(a(435,u.tag))}return _p(i,h,x),Uh(),!1}if(dt)return l=_s.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=x,h!==y0&&(i=Error(a(422),{cause:h}),Wc(zs(i,u)))):(h!==y0&&(l=Error(a(423),{cause:h}),Wc(zs(l,u))),i=i.current.alternate,i.flags|=65536,x&=-x,i.lanes|=x,h=zs(h,u),x=ep(i.stateNode,h,x),k0(i,x),Xt!==4&&(Xt=2)),!1;var y=Error(a(520),{cause:h});if(y=zs(y,u),pu===null?pu=[y]:pu.push(y),Xt!==4&&(Xt=2),l===null)return!0;h=zs(h,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,i=x&-x,u.lanes|=i,i=ep(u.stateNode,h,i),k0(u,i),!1;case 1:if(l=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(dr===null||!dr.has(y))))return u.flags|=65536,x&=-x,u.lanes|=x,x=$v(x),qv(x,i,u,h),k0(u,x),!1}u=u.return}while(u!==null);return!1}var tp=Error(a(461)),pn=!1;function Un(i,l,u,h){l.child=i===null?Yy(l,null,u,h):vl(l,i.child,u,h)}function Hv(i,l,u,h,x){u=u.render;var y=l.ref;if("ref"in h){var S={};for(var P in h)P!=="ref"&&(S[P]=h[P])}else S=h;return gl(l),h=O0(i,l,u,S,y,x),P=L0(),i!==null&&!pn?(V0(i,l,x),ci(i,l,x)):(dt&&P&&x0(l),l.flags|=1,Un(i,l,h,x),l.child)}function Gv(i,l,u,h,x){if(i===null){var y=u.type;return typeof y=="function"&&!f0(y)&&y.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=y,Qv(i,l,y,h,x)):(i=oh(u.type,null,h,l,l.mode,x),i.ref=l.ref,i.return=l,l.child=i)}if(y=i.child,!cp(i,x)){var S=y.memoizedProps;if(u=u.compare,u=u!==null?u:Qc,u(S,h)&&i.ref===l.ref)return ci(i,l,x)}return l.flags|=1,i=si(y,h),i.ref=l.ref,i.return=l,l.child=i}function Qv(i,l,u,h,x){if(i!==null){var y=i.memoizedProps;if(Qc(y,h)&&i.ref===l.ref)if(pn=!1,l.pendingProps=h=y,cp(i,x))(i.flags&131072)!==0&&(pn=!0);else return l.lanes=i.lanes,ci(i,l,x)}return np(i,l,u,h,x)}function Yv(i,l,u,h){var x=h.children,y=i!==null?i.memoizedState:null;if(i===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((l.flags&128)!==0){if(y=y!==null?y.baseLanes|u:u,i!==null){for(h=l.child=i.child,x=0;h!==null;)x=x|h.lanes|h.childLanes,h=h.sibling;h=x&~y}else h=0,l.child=null;return Kv(i,l,y,u,h)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&hh(l,y!==null?y.cachePool:null),y!==null?Xy(l,y):R0(),Jy(l);else return h=l.lanes=536870912,Kv(i,l,y!==null?y.baseLanes|u:u,u,h)}else y!==null?(hh(l,y.cachePool),Xy(l,y),lr(),l.memoizedState=null):(i!==null&&hh(l,null),R0(),lr());return Un(i,l,x,u),l.child}function ou(i,l){return i!==null&&i.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function Kv(i,l,u,h,x){var y=T0();return y=y===null?null:{parent:mn._currentValue,pool:y},l.memoizedState={baseLanes:u,cachePool:y},i!==null&&hh(l,null),R0(),Jy(l),i!==null&&po(i,l,h,!0),l.childLanes=x,null}function Eh(i,l){return l=kh({mode:l.mode,children:l.children},i.mode),l.ref=i.ref,i.child=l,l.return=i,l}function Wv(i,l,u){return vl(l,i.child,null,u),i=Eh(l,l.pendingProps),i.flags|=2,Ts(l),l.memoizedState=null,i}function AT(i,l,u){var h=l.pendingProps,x=(l.flags&128)!==0;if(l.flags&=-129,i===null){if(dt){if(h.mode==="hidden")return i=Eh(l,h),l.lanes=536870912,ou(null,i);if(P0(l),(i=Ut)?(i=ow(i,$s),i=i!==null&&i.data==="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:Zi!==null?{id:Pa,overflow:Ma}:null,retryLane:536870912,hydrationErrors:null},u=Dy(i),u.return=l,l.child=u,Ln=l,Ut=null)):i=null,i===null)throw tr(l);return l.lanes=536870912,null}return Eh(l,h)}var y=i.memoizedState;if(y!==null){var S=y.dehydrated;if(P0(l),x)if(l.flags&256)l.flags&=-257,l=Wv(i,l,u);else if(l.memoizedState!==null)l.child=i.child,l.flags|=128,l=null;else throw Error(a(558));else if(pn||po(i,l,u,!1),x=(u&i.childLanes)!==0,pn||x){if(h=Dt,h!==null&&(S=Ac(h,u),S!==0&&S!==y.retryLane))throw y.retryLane=S,hl(i,S),ms(h,i,S),tp;Uh(),l=Wv(i,l,u)}else i=y.treeContext,Ut=Hs(S.nextSibling),Ln=l,dt=!0,er=null,$s=!1,i!==null&&Oy(l,i),l=Eh(l,h),l.flags|=4096;return l}return i=si(i.child,{mode:h.mode,children:h.children}),i.ref=l.ref,l.child=i,i.return=l,i}function Ah(i,l){var u=l.ref;if(u===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(a(284));(i===null||i.ref!==u)&&(l.flags|=4194816)}}function np(i,l,u,h,x){return gl(l),u=O0(i,l,u,h,void 0,x),h=L0(),i!==null&&!pn?(V0(i,l,x),ci(i,l,x)):(dt&&h&&x0(l),l.flags|=1,Un(i,l,u,x),l.child)}function Xv(i,l,u,h,x,y){return gl(l),l.updateQueue=null,u=ev(l,h,u,x),Zy(i),h=L0(),i!==null&&!pn?(V0(i,l,y),ci(i,l,y)):(dt&&h&&x0(l),l.flags|=1,Un(i,l,u,y),l.child)}function Jv(i,l,u,h,x){if(gl(l),l.stateNode===null){var y=uo,S=u.contextType;typeof S=="object"&&S!==null&&(y=Vn(S)),y=new u(h,y),l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Z0,l.stateNode=y,y._reactInternals=l,y=l.stateNode,y.props=h,y.state=l.memoizedState,y.refs={},E0(l),S=u.contextType,y.context=typeof S=="object"&&S!==null?Vn(S):uo,y.state=l.memoizedState,S=u.getDerivedStateFromProps,typeof S=="function"&&(J0(l,u,S,h),y.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Z0.enqueueReplaceState(y,y.state,null),su(l,h,y,x),nu(),y.state=l.memoizedState),typeof y.componentDidMount=="function"&&(l.flags|=4194308),h=!0}else if(i===null){y=l.stateNode;var P=l.memoizedProps,Q=Nl(u,P);y.props=Q;var se=y.context,ue=u.contextType;S=uo,typeof ue=="object"&&ue!==null&&(S=Vn(ue));var pe=u.getDerivedStateFromProps;ue=typeof pe=="function"||typeof y.getSnapshotBeforeUpdate=="function",P=l.pendingProps!==P,ue||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(P||se!==S)&&Vv(l,y,h,S),sr=!1;var ae=l.memoizedState;y.state=ae,su(l,h,y,x),nu(),se=l.memoizedState,P||ae!==se||sr?(typeof pe=="function"&&(J0(l,u,pe,h),se=l.memoizedState),(Q=sr||Lv(l,u,Q,h,ae,se,S))?(ue||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(l.flags|=4194308)):(typeof y.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=h,l.memoizedState=se),y.props=h,y.state=se,y.context=S,h=Q):(typeof y.componentDidMount=="function"&&(l.flags|=4194308),h=!1)}else{y=l.stateNode,A0(i,l),S=l.memoizedProps,ue=Nl(u,S),y.props=ue,pe=l.pendingProps,ae=y.context,se=u.contextType,Q=uo,typeof se=="object"&&se!==null&&(Q=Vn(se)),P=u.getDerivedStateFromProps,(se=typeof P=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==pe||ae!==Q)&&Vv(l,y,h,Q),sr=!1,ae=l.memoizedState,y.state=ae,su(l,h,y,x),nu();var re=l.memoizedState;S!==pe||ae!==re||sr||i!==null&&i.dependencies!==null&&uh(i.dependencies)?(typeof P=="function"&&(J0(l,u,P,h),re=l.memoizedState),(ue=sr||Lv(l,u,ue,h,ae,re,Q)||i!==null&&i.dependencies!==null&&uh(i.dependencies))?(se||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,re,Q),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,re,Q)),typeof y.componentDidUpdate=="function"&&(l.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===i.memoizedProps&&ae===i.memoizedState||(l.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&ae===i.memoizedState||(l.flags|=1024),l.memoizedProps=h,l.memoizedState=re),y.props=h,y.state=re,y.context=Q,h=ue):(typeof y.componentDidUpdate!="function"||S===i.memoizedProps&&ae===i.memoizedState||(l.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&ae===i.memoizedState||(l.flags|=1024),h=!1)}return y=h,Ah(i,l),h=(l.flags&128)!==0,y||h?(y=l.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:y.render(),l.flags|=1,i!==null&&h?(l.child=vl(l,i.child,null,x),l.child=vl(l,null,u,x)):Un(i,l,u,x),l.memoizedState=y.state,i=l.child):i=ci(i,l,x),i}function Zv(i,l,u,h){return fl(),l.flags|=256,Un(i,l,u,h),l.child}var sp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ap(i){return{baseLanes:i,cachePool:By()}}function ip(i,l,u){return i=i!==null?i.childLanes&~u:0,l&&(i|=Es),i}function e1(i,l,u){var h=l.pendingProps,x=!1,y=(l.flags&128)!==0,S;if((S=y)||(S=i!==null&&i.memoizedState===null?!1:(nn.current&2)!==0),S&&(x=!0,l.flags&=-129),S=(l.flags&32)!==0,l.flags&=-33,i===null){if(dt){if(x?rr(l):lr(),(i=Ut)?(i=ow(i,$s),i=i!==null&&i.data!=="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:Zi!==null?{id:Pa,overflow:Ma}:null,retryLane:536870912,hydrationErrors:null},u=Dy(i),u.return=l,l.child=u,Ln=l,Ut=null)):i=null,i===null)throw tr(l);return Fp(i)?l.lanes=32:l.lanes=536870912,null}var P=h.children;return h=h.fallback,x?(lr(),x=l.mode,P=kh({mode:"hidden",children:P},x),h=ml(h,x,u,null),P.return=l,h.return=l,P.sibling=h,l.child=P,h=l.child,h.memoizedState=ap(u),h.childLanes=ip(i,S,u),l.memoizedState=sp,ou(null,h)):(rr(l),rp(l,P))}var Q=i.memoizedState;if(Q!==null&&(P=Q.dehydrated,P!==null)){if(y)l.flags&256?(rr(l),l.flags&=-257,l=lp(i,l,u)):l.memoizedState!==null?(lr(),l.child=i.child,l.flags|=128,l=null):(lr(),P=h.fallback,x=l.mode,h=kh({mode:"visible",children:h.children},x),P=ml(P,x,u,null),P.flags|=2,h.return=l,P.return=l,h.sibling=P,l.child=h,vl(l,i.child,null,u),h=l.child,h.memoizedState=ap(u),h.childLanes=ip(i,S,u),l.memoizedState=sp,l=ou(null,h));else if(rr(l),Fp(P)){if(S=P.nextSibling&&P.nextSibling.dataset,S)var se=S.dgst;S=se,h=Error(a(419)),h.stack="",h.digest=S,Wc({value:h,source:null,stack:null}),l=lp(i,l,u)}else if(pn||po(i,l,u,!1),S=(u&i.childLanes)!==0,pn||S){if(S=Dt,S!==null&&(h=Ac(S,u),h!==0&&h!==Q.retryLane))throw Q.retryLane=h,hl(i,h),ms(S,i,h),tp;zp(P)||Uh(),l=lp(i,l,u)}else zp(P)?(l.flags|=192,l.child=i.child,l=null):(i=Q.treeContext,Ut=Hs(P.nextSibling),Ln=l,dt=!0,er=null,$s=!1,i!==null&&Oy(l,i),l=rp(l,h.children),l.flags|=4096);return l}return x?(lr(),P=h.fallback,x=l.mode,Q=i.child,se=Q.sibling,h=si(Q,{mode:"hidden",children:h.children}),h.subtreeFlags=Q.subtreeFlags&65011712,se!==null?P=si(se,P):(P=ml(P,x,u,null),P.flags|=2),P.return=l,h.return=l,h.sibling=P,l.child=h,ou(null,h),h=l.child,P=i.child.memoizedState,P===null?P=ap(u):(x=P.cachePool,x!==null?(Q=mn._currentValue,x=x.parent!==Q?{parent:Q,pool:Q}:x):x=By(),P={baseLanes:P.baseLanes|u,cachePool:x}),h.memoizedState=P,h.childLanes=ip(i,S,u),l.memoizedState=sp,ou(i.child,h)):(rr(l),u=i.child,i=u.sibling,u=si(u,{mode:"visible",children:h.children}),u.return=l,u.sibling=null,i!==null&&(S=l.deletions,S===null?(l.deletions=[i],l.flags|=16):S.push(i)),l.child=u,l.memoizedState=null,u)}function rp(i,l){return l=kh({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function kh(i,l){return i=Ss(22,i,null,l),i.lanes=0,i}function lp(i,l,u){return vl(l,i.child,null,u),i=rp(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function t1(i,l,u){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l),N0(i.return,l,u)}function op(i,l,u,h,x,y){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:x,treeForkCount:y}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=h,S.tail=u,S.tailMode=x,S.treeForkCount=y)}function n1(i,l,u){var h=l.pendingProps,x=h.revealOrder,y=h.tail;h=h.children;var S=nn.current,P=(S&2)!==0;if(P?(S=S&1|2,l.flags|=128):S&=1,F(nn,S),Un(i,l,h,u),h=dt?Kc:0,!P&&i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&t1(i,u,l);else if(i.tag===19)t1(i,u,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(x){case"forwards":for(u=l.child,x=null;u!==null;)i=u.alternate,i!==null&&bh(i)===null&&(x=u),u=u.sibling;u=x,u===null?(x=l.child,l.child=null):(x=u.sibling,u.sibling=null),op(l,!1,x,u,y,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,x=l.child,l.child=null;x!==null;){if(i=x.alternate,i!==null&&bh(i)===null){l.child=x;break}i=x.sibling,x.sibling=u,u=x,x=i}op(l,!0,u,null,y,h);break;case"together":op(l,!1,null,null,void 0,h);break;default:l.memoizedState=null}return l.child}function ci(i,l,u){if(i!==null&&(l.dependencies=i.dependencies),ur|=l.lanes,(u&l.childLanes)===0)if(i!==null){if(po(i,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(a(153));if(l.child!==null){for(i=l.child,u=si(i,i.pendingProps),l.child=u,u.return=l;i.sibling!==null;)i=i.sibling,u=u.sibling=si(i,i.pendingProps),u.return=l;u.sibling=null}return l.child}function cp(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&uh(i)))}function kT(i,l,u){switch(l.tag){case 3:Et(l,l.stateNode.containerInfo),nr(l,mn,i.memoizedState.cache),fl();break;case 27:case 5:Vt(l);break;case 4:Et(l,l.stateNode.containerInfo);break;case 10:nr(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,P0(l),null;break;case 13:var h=l.memoizedState;if(h!==null)return h.dehydrated!==null?(rr(l),l.flags|=128,null):(u&l.child.childLanes)!==0?e1(i,l,u):(rr(l),i=ci(i,l,u),i!==null?i.sibling:null);rr(l);break;case 19:var x=(i.flags&128)!==0;if(h=(u&l.childLanes)!==0,h||(po(i,l,u,!1),h=(u&l.childLanes)!==0),x){if(h)return n1(i,l,u);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),F(nn,nn.current),h)break;return null;case 22:return l.lanes=0,Yv(i,l,u,l.pendingProps);case 24:nr(l,mn,i.memoizedState.cache)}return ci(i,l,u)}function s1(i,l,u){if(i!==null)if(i.memoizedProps!==l.pendingProps)pn=!0;else{if(!cp(i,u)&&(l.flags&128)===0)return pn=!1,kT(i,l,u);pn=(i.flags&131072)!==0}else pn=!1,dt&&(l.flags&1048576)!==0&&My(l,Kc,l.index);switch(l.lanes=0,l.tag){case 16:e:{var h=l.pendingProps;if(i=bl(l.elementType),l.type=i,typeof i=="function")f0(i)?(h=Nl(i,h),l.tag=1,l=Jv(null,l,i,h,u)):(l.tag=0,l=np(null,l,i,h,u));else{if(i!=null){var x=i.$$typeof;if(x===q){l.tag=11,l=Hv(null,l,i,h,u);break e}else if(x===k){l.tag=14,l=Gv(null,l,i,h,u);break e}}throw l=J(i)||i,Error(a(306,l,""))}}return l;case 0:return np(i,l,l.type,l.pendingProps,u);case 1:return h=l.type,x=Nl(h,l.pendingProps),Jv(i,l,h,x,u);case 3:e:{if(Et(l,l.stateNode.containerInfo),i===null)throw Error(a(387));h=l.pendingProps;var y=l.memoizedState;x=y.element,A0(i,l),su(l,h,null,u);var S=l.memoizedState;if(h=S.cache,nr(l,mn,h),h!==y.cache&&j0(l,[mn],u,!0),nu(),h=S.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:S.cache},l.updateQueue.baseState=y,l.memoizedState=y,l.flags&256){l=Zv(i,l,h,u);break e}else if(h!==x){x=zs(Error(a(424)),l),Wc(x),l=Zv(i,l,h,u);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ut=Hs(i.firstChild),Ln=l,dt=!0,er=null,$s=!0,u=Yy(l,null,h,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(fl(),h===x){l=ci(i,l,u);break e}Un(i,l,h,u)}l=l.child}return l;case 26:return Ah(i,l),i===null?(u=fw(l.type,null,l.pendingProps,null))?l.memoizedState=u:dt||(u=l.type,i=l.pendingProps,h=Gh(Me.current).createElement(u),h[un]=l,h[En]=i,zn(h,u,i),dn(h),l.stateNode=h):l.memoizedState=fw(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return Vt(l),i===null&&dt&&(h=l.stateNode=dw(l.type,l.pendingProps,Me.current),Ln=l,$s=!0,x=Ut,pr(l.type)?(Bp=x,Ut=Hs(h.firstChild)):Ut=x),Un(i,l,l.pendingProps.children,u),Ah(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&dt&&((x=h=Ut)&&(h=rC(h,l.type,l.pendingProps,$s),h!==null?(l.stateNode=h,Ln=l,Ut=Hs(h.firstChild),$s=!1,x=!0):x=!1),x||tr(l)),Vt(l),x=l.type,y=l.pendingProps,S=i!==null?i.memoizedProps:null,h=y.children,Lp(x,y)?h=null:S!==null&&Lp(x,S)&&(l.flags|=32),l.memoizedState!==null&&(x=O0(i,l,wT,null,null,u),ju._currentValue=x),Ah(i,l),Un(i,l,h,u),l.child;case 6:return i===null&&dt&&((i=u=Ut)&&(u=lC(u,l.pendingProps,$s),u!==null?(l.stateNode=u,Ln=l,Ut=null,i=!0):i=!1),i||tr(l)),null;case 13:return e1(i,l,u);case 4:return Et(l,l.stateNode.containerInfo),h=l.pendingProps,i===null?l.child=vl(l,null,h,u):Un(i,l,h,u),l.child;case 11:return Hv(i,l,l.type,l.pendingProps,u);case 7:return Un(i,l,l.pendingProps,u),l.child;case 8:return Un(i,l,l.pendingProps.children,u),l.child;case 12:return Un(i,l,l.pendingProps.children,u),l.child;case 10:return h=l.pendingProps,nr(l,l.type,h.value),Un(i,l,h.children,u),l.child;case 9:return x=l.type._context,h=l.pendingProps.children,gl(l),x=Vn(x),h=h(x),l.flags|=1,Un(i,l,h,u),l.child;case 14:return Gv(i,l,l.type,l.pendingProps,u);case 15:return Qv(i,l,l.type,l.pendingProps,u);case 19:return n1(i,l,u);case 31:return AT(i,l,u);case 22:return Yv(i,l,u,l.pendingProps);case 24:return gl(l),h=Vn(mn),i===null?(x=T0(),x===null&&(x=Dt,y=S0(),x.pooledCache=y,y.refCount++,y!==null&&(x.pooledCacheLanes|=u),x=y),l.memoizedState={parent:h,cache:x},E0(l),nr(l,mn,x)):((i.lanes&u)!==0&&(A0(i,l),su(l,null,null,u),nu()),x=i.memoizedState,y=l.memoizedState,x.parent!==h?(x={parent:h,cache:h},l.memoizedState=x,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=x),nr(l,mn,h)):(h=y.cache,nr(l,mn,h),h!==x.cache&&j0(l,[mn],u,!0))),Un(i,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(a(156,l.tag))}function ui(i){i.flags|=4}function up(i,l,u,h,x){if((l=(i.mode&32)!==0)&&(l=!1),l){if(i.flags|=16777216,(x&335544128)===x)if(i.stateNode.complete)i.flags|=8192;else if(k1())i.flags|=8192;else throw yl=fh,C0}else i.flags&=-16777217}function a1(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!yw(l))if(k1())i.flags|=8192;else throw yl=fh,C0}function Ih(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?Ld():536870912,i.lanes|=l,Co|=l)}function cu(i,l){if(!dt)switch(i.tailMode){case"hidden":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function zt(i){var l=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(l)for(var x=i.child;x!==null;)u|=x.lanes|x.childLanes,h|=x.subtreeFlags&65011712,h|=x.flags&65011712,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)u|=x.lanes|x.childLanes,h|=x.subtreeFlags,h|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=h,i.childLanes=u,l}function IT(i,l,u){var h=l.pendingProps;switch(b0(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(l),null;case 1:return zt(l),null;case 3:return u=l.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),ri(mn),ht(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(fo(l)?ui(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,v0())),zt(l),null;case 26:var x=l.type,y=l.memoizedState;return i===null?(ui(l),y!==null?(zt(l),a1(l,y)):(zt(l),up(l,x,null,h,u))):y?y!==i.memoizedState?(ui(l),zt(l),a1(l,y)):(zt(l),l.flags&=-16777217):(i=i.memoizedProps,i!==h&&ui(l),zt(l),up(l,x,i,h,u)),null;case 27:if(Nt(l),u=Me.current,x=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==h&&ui(l);else{if(!h){if(l.stateNode===null)throw Error(a(166));return zt(l),null}i=ke.current,fo(l)?Ly(l):(i=dw(x,h,u),l.stateNode=i,ui(l))}return zt(l),null;case 5:if(Nt(l),x=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==h&&ui(l);else{if(!h){if(l.stateNode===null)throw Error(a(166));return zt(l),null}if(y=ke.current,fo(l))Ly(l);else{var S=Gh(Me.current);switch(y){case 1:y=S.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:y=S.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":y=S.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":y=S.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":y=S.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?S.createElement("select",{is:h.is}):S.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?S.createElement(x,{is:h.is}):S.createElement(x)}}y[un]=l,y[En]=h;e:for(S=l.child;S!==null;){if(S.tag===5||S.tag===6)y.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===l)break e;for(;S.sibling===null;){if(S.return===null||S.return===l)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}l.stateNode=y;e:switch(zn(y,x,h),x){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&ui(l)}}return zt(l),up(l,l.type,i===null?null:i.memoizedProps,l.pendingProps,u),null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==h&&ui(l);else{if(typeof h!="string"&&l.stateNode===null)throw Error(a(166));if(i=Me.current,fo(l)){if(i=l.stateNode,u=l.memoizedProps,h=null,x=Ln,x!==null)switch(x.tag){case 27:case 5:h=x.memoizedProps}i[un]=l,i=!!(i.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||ew(i.nodeValue,u)),i||tr(l,!0)}else i=Gh(i).createTextNode(h),i[un]=l,l.stateNode=i}return zt(l),null;case 31:if(u=l.memoizedState,i===null||i.memoizedState!==null){if(h=fo(l),u!==null){if(i===null){if(!h)throw Error(a(318));if(i=l.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(557));i[un]=l}else fl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;zt(l),i=!1}else u=v0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return l.flags&256?(Ts(l),l):(Ts(l),null);if((l.flags&128)!==0)throw Error(a(558))}return zt(l),null;case 13:if(h=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(x=fo(l),h!==null&&h.dehydrated!==null){if(i===null){if(!x)throw Error(a(318));if(x=l.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(a(317));x[un]=l}else fl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;zt(l),x=!1}else x=v0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=x),x=!0;if(!x)return l.flags&256?(Ts(l),l):(Ts(l),null)}return Ts(l),(l.flags&128)!==0?(l.lanes=u,l):(u=h!==null,i=i!==null&&i.memoizedState!==null,u&&(h=l.child,x=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(x=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==x&&(h.flags|=2048)),u!==i&&u&&(l.child.flags|=8192),Ih(l,l.updateQueue),zt(l),null);case 4:return ht(),i===null&&Rp(l.stateNode.containerInfo),zt(l),null;case 10:return ri(l.type),zt(l),null;case 19:if(be(nn),h=l.memoizedState,h===null)return zt(l),null;if(x=(l.flags&128)!==0,y=h.rendering,y===null)if(x)cu(h,!1);else{if(Xt!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(y=bh(i),y!==null){for(l.flags|=128,cu(h,!1),i=y.updateQueue,l.updateQueue=i,Ih(l,i),l.subtreeFlags=0,i=u,u=l.child;u!==null;)Ry(u,i),u=u.sibling;return F(nn,nn.current&1|2),dt&&ai(l,h.treeForkCount),l.child}i=i.sibling}h.tail!==null&&Qt()>Oh&&(l.flags|=128,x=!0,cu(h,!1),l.lanes=4194304)}else{if(!x)if(i=bh(y),i!==null){if(l.flags|=128,x=!0,i=i.updateQueue,l.updateQueue=i,Ih(l,i),cu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!dt)return zt(l),null}else 2*Qt()-h.renderingStartTime>Oh&&u!==536870912&&(l.flags|=128,x=!0,cu(h,!1),l.lanes=4194304);h.isBackwards?(y.sibling=l.child,l.child=y):(i=h.last,i!==null?i.sibling=y:l.child=y,h.last=y)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Qt(),i.sibling=null,u=nn.current,F(nn,x?u&1|2:u&1),dt&&ai(l,h.treeForkCount),i):(zt(l),null);case 22:case 23:return Ts(l),D0(),h=l.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(l.flags|=8192):h&&(l.flags|=8192),h?(u&536870912)!==0&&(l.flags&128)===0&&(zt(l),l.subtreeFlags&6&&(l.flags|=8192)):zt(l),u=l.updateQueue,u!==null&&Ih(l,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==u&&(l.flags|=2048),i!==null&&be(xl),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),ri(mn),zt(l),null;case 25:return null;case 30:return null}throw Error(a(156,l.tag))}function RT(i,l){switch(b0(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return ri(mn),ht(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return Nt(l),null;case 31:if(l.memoizedState!==null){if(Ts(l),l.alternate===null)throw Error(a(340));fl()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 13:if(Ts(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(a(340));fl()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return be(nn),null;case 4:return ht(),null;case 10:return ri(l.type),null;case 22:case 23:return Ts(l),D0(),i!==null&&be(xl),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return ri(mn),null;case 25:return null;default:return null}}function i1(i,l){switch(b0(l),l.tag){case 3:ri(mn),ht();break;case 26:case 27:case 5:Nt(l);break;case 4:ht();break;case 31:l.memoizedState!==null&&Ts(l);break;case 13:Ts(l);break;case 19:be(nn);break;case 10:ri(l.type);break;case 22:case 23:Ts(l),D0(),i!==null&&be(xl);break;case 24:ri(mn)}}function uu(i,l){try{var u=l.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var x=h.next;u=x;do{if((u.tag&i)===i){h=void 0;var y=u.create,S=u.inst;h=y(),S.destroy=h}u=u.next}while(u!==x)}}catch(P){Tt(l,l.return,P)}}function or(i,l,u){try{var h=l.updateQueue,x=h!==null?h.lastEffect:null;if(x!==null){var y=x.next;h=y;do{if((h.tag&i)===i){var S=h.inst,P=S.destroy;if(P!==void 0){S.destroy=void 0,x=l;var Q=u,se=P;try{se()}catch(ue){Tt(x,Q,ue)}}}h=h.next}while(h!==y)}}catch(ue){Tt(l,l.return,ue)}}function r1(i){var l=i.updateQueue;if(l!==null){var u=i.stateNode;try{Wy(l,u)}catch(h){Tt(i,i.return,h)}}}function l1(i,l,u){u.props=Nl(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(h){Tt(i,l,h)}}function du(i,l){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof u=="function"?i.refCleanup=u(h):u.current=h}}catch(x){Tt(i,l,x)}}function Oa(i,l){var u=i.ref,h=i.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(x){Tt(i,l,x)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(x){Tt(i,l,x)}else u.current=null}function o1(i){var l=i.type,u=i.memoizedProps,h=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(x){Tt(i,i.return,x)}}function dp(i,l,u){try{var h=i.stateNode;eC(h,i.type,u,l),h[En]=l}catch(x){Tt(i,i.return,x)}}function c1(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&pr(i.type)||i.tag===4}function hp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||c1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&pr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function mp(i,l,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(i),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=aa));else if(h!==4&&(h===27&&pr(i.type)&&(u=i.stateNode,l=null),i=i.child,i!==null))for(mp(i,l,u),i=i.sibling;i!==null;)mp(i,l,u),i=i.sibling}function Rh(i,l,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,l?u.insertBefore(i,l):u.appendChild(i);else if(h!==4&&(h===27&&pr(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Rh(i,l,u),i=i.sibling;i!==null;)Rh(i,l,u),i=i.sibling}function u1(i){var l=i.stateNode,u=i.memoizedProps;try{for(var h=i.type,x=l.attributes;x.length;)l.removeAttributeNode(x[0]);zn(l,h,u),l[un]=i,l[En]=u}catch(y){Tt(i,i.return,y)}}var di=!1,gn=!1,fp=!1,d1=typeof WeakSet=="function"?WeakSet:Set,kn=null;function DT(i,l){if(i=i.containerInfo,Mp=Zh,i=jy(i),l0(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var x=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var S=0,P=-1,Q=-1,se=0,ue=0,pe=i,ae=null;t:for(;;){for(var re;pe!==u||x!==0&&pe.nodeType!==3||(P=S+x),pe!==y||h!==0&&pe.nodeType!==3||(Q=S+h),pe.nodeType===3&&(S+=pe.nodeValue.length),(re=pe.firstChild)!==null;)ae=pe,pe=re;for(;;){if(pe===i)break t;if(ae===u&&++se===x&&(P=S),ae===y&&++ue===h&&(Q=S),(re=pe.nextSibling)!==null)break;pe=ae,ae=pe.parentNode}pe=re}u=P===-1||Q===-1?null:{start:P,end:Q}}else u=null}u=u||{start:0,end:0}}else u=null;for(Op={focusedElem:i,selectionRange:u},Zh=!1,kn=l;kn!==null;)if(l=kn,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,kn=i;else for(;kn!==null;){switch(l=kn,y=l.alternate,i=l.flags,l.tag){case 0:if((i&4)!==0&&(i=l.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)x=i[u],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,u=l,x=y.memoizedProps,y=y.memoizedState,h=u.stateNode;try{var Ae=Nl(u.type,x);i=h.getSnapshotBeforeUpdate(Ae,y),h.__reactInternalSnapshotBeforeUpdate=i}catch(Fe){Tt(u,u.return,Fe)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,u=i.nodeType,u===9)Up(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Up(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=l.sibling,i!==null){i.return=l.return,kn=i;break}kn=l.return}}function h1(i,l,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:mi(i,u),h&4&&uu(5,u);break;case 1:if(mi(i,u),h&4)if(i=u.stateNode,l===null)try{i.componentDidMount()}catch(S){Tt(u,u.return,S)}else{var x=Nl(u.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(x,l,i.__reactInternalSnapshotBeforeUpdate)}catch(S){Tt(u,u.return,S)}}h&64&&r1(u),h&512&&du(u,u.return);break;case 3:if(mi(i,u),h&64&&(i=u.updateQueue,i!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{Wy(i,l)}catch(S){Tt(u,u.return,S)}}break;case 27:l===null&&h&4&&u1(u);case 26:case 5:mi(i,u),l===null&&h&4&&o1(u),h&512&&du(u,u.return);break;case 12:mi(i,u);break;case 31:mi(i,u),h&4&&p1(i,u);break;case 13:mi(i,u),h&4&&g1(i,u),h&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=BT.bind(null,u),oC(i,u))));break;case 22:if(h=u.memoizedState!==null||di,!h){l=l!==null&&l.memoizedState!==null||gn,x=di;var y=gn;di=h,(gn=l)&&!y?fi(i,u,(u.subtreeFlags&8772)!==0):mi(i,u),di=x,gn=y}break;case 30:break;default:mi(i,u)}}function m1(i){var l=i.alternate;l!==null&&(i.alternate=null,m1(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&Wl(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var qt=null,cs=!1;function hi(i,l,u){for(u=u.child;u!==null;)f1(i,l,u),u=u.sibling}function f1(i,l,u){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(en,u)}catch{}switch(u.tag){case 26:gn||Oa(u,l),hi(i,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:gn||Oa(u,l);var h=qt,x=cs;pr(u.type)&&(qt=u.stateNode,cs=!1),hi(i,l,u),vu(u.stateNode),qt=h,cs=x;break;case 5:gn||Oa(u,l);case 6:if(h=qt,x=cs,qt=null,hi(i,l,u),qt=h,cs=x,qt!==null)if(cs)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(u.stateNode)}catch(y){Tt(u,l,y)}else try{qt.removeChild(u.stateNode)}catch(y){Tt(u,l,y)}break;case 18:qt!==null&&(cs?(i=qt,rw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Mo(i)):rw(qt,u.stateNode));break;case 4:h=qt,x=cs,qt=u.stateNode.containerInfo,cs=!0,hi(i,l,u),qt=h,cs=x;break;case 0:case 11:case 14:case 15:or(2,u,l),gn||or(4,u,l),hi(i,l,u);break;case 1:gn||(Oa(u,l),h=u.stateNode,typeof h.componentWillUnmount=="function"&&l1(u,l,h)),hi(i,l,u);break;case 21:hi(i,l,u);break;case 22:gn=(h=gn)||u.memoizedState!==null,hi(i,l,u),gn=h;break;default:hi(i,l,u)}}function p1(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Mo(i)}catch(u){Tt(l,l.return,u)}}}function g1(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Mo(i)}catch(u){Tt(l,l.return,u)}}function PT(i){switch(i.tag){case 31:case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new d1),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new d1),l;default:throw Error(a(435,i.tag))}}function Dh(i,l){var u=PT(i);l.forEach(function(h){if(!u.has(h)){u.add(h);var x=$T.bind(null,i,h);h.then(x,x)}})}function us(i,l){var u=l.deletions;if(u!==null)for(var h=0;h<u.length;h++){var x=u[h],y=i,S=l,P=S;e:for(;P!==null;){switch(P.tag){case 27:if(pr(P.type)){qt=P.stateNode,cs=!1;break e}break;case 5:qt=P.stateNode,cs=!1;break e;case 3:case 4:qt=P.stateNode.containerInfo,cs=!0;break e}P=P.return}if(qt===null)throw Error(a(160));f1(y,S,x),qt=null,cs=!1,y=x.alternate,y!==null&&(y.return=null),x.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)x1(l,i),l=l.sibling}var ua=null;function x1(i,l){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:us(l,i),ds(i),h&4&&(or(3,i,i.return),uu(3,i),or(5,i,i.return));break;case 1:us(l,i),ds(i),h&512&&(gn||u===null||Oa(u,u.return)),h&64&&di&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var x=ua;if(us(l,i),ds(i),h&512&&(gn||u===null||Oa(u,u.return)),h&4){var y=u!==null?u.memoizedState:null;if(h=i.memoizedState,u===null)if(h===null)if(i.stateNode===null){e:{h=i.type,u=i.memoizedProps,x=x.ownerDocument||x;t:switch(h){case"title":y=x.getElementsByTagName("title")[0],(!y||y[Na]||y[un]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=x.createElement(h),x.head.insertBefore(y,x.querySelector("head > title"))),zn(y,h,u),y[un]=i,dn(y),h=y;break e;case"link":var S=xw("link","href",x).get(h+(u.href||""));if(S){for(var P=0;P<S.length;P++)if(y=S[P],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){S.splice(P,1);break t}}y=x.createElement(h),zn(y,h,u),x.head.appendChild(y);break;case"meta":if(S=xw("meta","content",x).get(h+(u.content||""))){for(P=0;P<S.length;P++)if(y=S[P],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){S.splice(P,1);break t}}y=x.createElement(h),zn(y,h,u),x.head.appendChild(y);break;default:throw Error(a(468,h))}y[un]=i,dn(y),h=y}i.stateNode=h}else bw(x,i.type,i.stateNode);else i.stateNode=gw(x,h,i.memoizedProps);else y!==h?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,h===null?bw(x,i.type,i.stateNode):gw(x,h,i.memoizedProps)):h===null&&i.stateNode!==null&&dp(i,i.memoizedProps,u.memoizedProps)}break;case 27:us(l,i),ds(i),h&512&&(gn||u===null||Oa(u,u.return)),u!==null&&h&4&&dp(i,i.memoizedProps,u.memoizedProps);break;case 5:if(us(l,i),ds(i),h&512&&(gn||u===null||Oa(u,u.return)),i.flags&32){x=i.stateNode;try{os(x,"")}catch(Ae){Tt(i,i.return,Ae)}}h&4&&i.stateNode!=null&&(x=i.memoizedProps,dp(i,x,u!==null?u.memoizedProps:x)),h&1024&&(fp=!0);break;case 6:if(us(l,i),ds(i),h&4){if(i.stateNode===null)throw Error(a(162));h=i.memoizedProps,u=i.stateNode;try{u.nodeValue=h}catch(Ae){Tt(i,i.return,Ae)}}break;case 3:if(Kh=null,x=ua,ua=Qh(l.containerInfo),us(l,i),ua=x,ds(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Mo(l.containerInfo)}catch(Ae){Tt(i,i.return,Ae)}fp&&(fp=!1,b1(i));break;case 4:h=ua,ua=Qh(i.stateNode.containerInfo),us(l,i),ds(i),ua=h;break;case 12:us(l,i),ds(i);break;case 31:us(l,i),ds(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Dh(i,h)));break;case 13:us(l,i),ds(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Mh=Qt()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Dh(i,h)));break;case 22:x=i.memoizedState!==null;var Q=u!==null&&u.memoizedState!==null,se=di,ue=gn;if(di=se||x,gn=ue||Q,us(l,i),gn=ue,di=se,ds(i),h&8192)e:for(l=i.stateNode,l._visibility=x?l._visibility&-2:l._visibility|1,x&&(u===null||Q||di||gn||jl(i)),u=null,l=i;;){if(l.tag===5||l.tag===26){if(u===null){Q=u=l;try{if(y=Q.stateNode,x)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{P=Q.stateNode;var pe=Q.memoizedProps.style,ae=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;P.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Ae){Tt(Q,Q.return,Ae)}}}else if(l.tag===6){if(u===null){Q=l;try{Q.stateNode.nodeValue=x?"":Q.memoizedProps}catch(Ae){Tt(Q,Q.return,Ae)}}}else if(l.tag===18){if(u===null){Q=l;try{var re=Q.stateNode;x?lw(re,!0):lw(Q.stateNode,!1)}catch(Ae){Tt(Q,Q.return,Ae)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}h&4&&(h=i.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,Dh(i,u))));break;case 19:us(l,i),ds(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Dh(i,h)));break;case 30:break;case 21:break;default:us(l,i),ds(i)}}function ds(i){var l=i.flags;if(l&2){try{for(var u,h=i.return;h!==null;){if(c1(h)){u=h;break}h=h.return}if(u==null)throw Error(a(160));switch(u.tag){case 27:var x=u.stateNode,y=hp(i);Rh(i,y,x);break;case 5:var S=u.stateNode;u.flags&32&&(os(S,""),u.flags&=-33);var P=hp(i);Rh(i,P,S);break;case 3:case 4:var Q=u.stateNode.containerInfo,se=hp(i);mp(i,se,Q);break;default:throw Error(a(161))}}catch(ue){Tt(i,i.return,ue)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function b1(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;b1(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function mi(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)h1(i,l.alternate,l),l=l.sibling}function jl(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:or(4,l,l.return),jl(l);break;case 1:Oa(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&l1(l,l.return,u),jl(l);break;case 27:vu(l.stateNode);case 26:case 5:Oa(l,l.return),jl(l);break;case 22:l.memoizedState===null&&jl(l);break;case 30:jl(l);break;default:jl(l)}i=i.sibling}}function fi(i,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var h=l.alternate,x=i,y=l,S=y.flags;switch(y.tag){case 0:case 11:case 15:fi(x,y,u),uu(4,y);break;case 1:if(fi(x,y,u),h=y,x=h.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(se){Tt(h,h.return,se)}if(h=y,x=h.updateQueue,x!==null){var P=h.stateNode;try{var Q=x.shared.hiddenCallbacks;if(Q!==null)for(x.shared.hiddenCallbacks=null,x=0;x<Q.length;x++)Ky(Q[x],P)}catch(se){Tt(h,h.return,se)}}u&&S&64&&r1(y),du(y,y.return);break;case 27:u1(y);case 26:case 5:fi(x,y,u),u&&h===null&&S&4&&o1(y),du(y,y.return);break;case 12:fi(x,y,u);break;case 31:fi(x,y,u),u&&S&4&&p1(x,y);break;case 13:fi(x,y,u),u&&S&4&&g1(x,y);break;case 22:y.memoizedState===null&&fi(x,y,u),du(y,y.return);break;case 30:break;default:fi(x,y,u)}l=l.sibling}}function pp(i,l){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Xc(u))}function gp(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Xc(i))}function da(i,l,u,h){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)y1(i,l,u,h),l=l.sibling}function y1(i,l,u,h){var x=l.flags;switch(l.tag){case 0:case 11:case 15:da(i,l,u,h),x&2048&&uu(9,l);break;case 1:da(i,l,u,h);break;case 3:da(i,l,u,h),x&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Xc(i)));break;case 12:if(x&2048){da(i,l,u,h),i=l.stateNode;try{var y=l.memoizedProps,S=y.id,P=y.onPostCommit;typeof P=="function"&&P(S,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Q){Tt(l,l.return,Q)}}else da(i,l,u,h);break;case 31:da(i,l,u,h);break;case 13:da(i,l,u,h);break;case 23:break;case 22:y=l.stateNode,S=l.alternate,l.memoizedState!==null?y._visibility&2?da(i,l,u,h):hu(i,l):y._visibility&2?da(i,l,u,h):(y._visibility|=2,So(i,l,u,h,(l.subtreeFlags&10256)!==0||!1)),x&2048&&pp(S,l);break;case 24:da(i,l,u,h),x&2048&&gp(l.alternate,l);break;default:da(i,l,u,h)}}function So(i,l,u,h,x){for(x=x&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var y=i,S=l,P=u,Q=h,se=S.flags;switch(S.tag){case 0:case 11:case 15:So(y,S,P,Q,x),uu(8,S);break;case 23:break;case 22:var ue=S.stateNode;S.memoizedState!==null?ue._visibility&2?So(y,S,P,Q,x):hu(y,S):(ue._visibility|=2,So(y,S,P,Q,x)),x&&se&2048&&pp(S.alternate,S);break;case 24:So(y,S,P,Q,x),x&&se&2048&&gp(S.alternate,S);break;default:So(y,S,P,Q,x)}l=l.sibling}}function hu(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=i,h=l,x=h.flags;switch(h.tag){case 22:hu(u,h),x&2048&&pp(h.alternate,h);break;case 24:hu(u,h),x&2048&&gp(h.alternate,h);break;default:hu(u,h)}l=l.sibling}}var mu=8192;function _o(i,l,u){if(i.subtreeFlags&mu)for(i=i.child;i!==null;)v1(i,l,u),i=i.sibling}function v1(i,l,u){switch(i.tag){case 26:_o(i,l,u),i.flags&mu&&i.memoizedState!==null&&vC(u,ua,i.memoizedState,i.memoizedProps);break;case 5:_o(i,l,u);break;case 3:case 4:var h=ua;ua=Qh(i.stateNode.containerInfo),_o(i,l,u),ua=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=mu,mu=16777216,_o(i,l,u),mu=h):_o(i,l,u));break;default:_o(i,l,u)}}function w1(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function fu(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var h=l[u];kn=h,j1(h,i)}w1(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)N1(i),i=i.sibling}function N1(i){switch(i.tag){case 0:case 11:case 15:fu(i),i.flags&2048&&or(9,i,i.return);break;case 3:fu(i);break;case 12:fu(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,Ph(i)):fu(i);break;default:fu(i)}}function Ph(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var h=l[u];kn=h,j1(h,i)}w1(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:or(8,l,l.return),Ph(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,Ph(l));break;default:Ph(l)}i=i.sibling}}function j1(i,l){for(;kn!==null;){var u=kn;switch(u.tag){case 0:case 11:case 15:or(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Xc(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,kn=h;else e:for(u=i;kn!==null;){h=kn;var x=h.sibling,y=h.return;if(m1(h),h===u){kn=null;break e}if(x!==null){x.return=y,kn=x;break e}kn=y}}}var MT={getCacheForType:function(i){var l=Vn(mn),u=l.data.get(i);return u===void 0&&(u=i(),l.data.set(i,u)),u},cacheSignal:function(){return Vn(mn).controller.signal}},OT=typeof WeakMap=="function"?WeakMap:Map,yt=0,Dt=null,tt=null,it=0,_t=0,Cs=null,cr=!1,To=!1,xp=!1,pi=0,Xt=0,ur=0,Sl=0,bp=0,Es=0,Co=0,pu=null,hs=null,yp=!1,Mh=0,S1=0,Oh=1/0,Lh=null,dr=null,Sn=0,hr=null,Eo=null,gi=0,vp=0,wp=null,_1=null,gu=0,Np=null;function As(){return(yt&2)!==0&&it!==0?it&-it:H.T!==null?Ep():Vd()}function T1(){if(Es===0)if((it&536870912)===0||dt){var i=Xr;Xr<<=1,(Xr&3932160)===0&&(Xr=262144),Es=i}else Es=536870912;return i=_s.current,i!==null&&(i.flags|=32),Es}function ms(i,l,u){(i===Dt&&(_t===2||_t===9)||i.cancelPendingCommit!==null)&&(Ao(i,0),mr(i,it,Es,!1)),Jr(i,u),((yt&2)===0||i!==Dt)&&(i===Dt&&((yt&2)===0&&(Sl|=u),Xt===4&&mr(i,it,Es,!1)),La(i))}function C1(i,l,u){if((yt&6)!==0)throw Error(a(327));var h=!u&&(l&127)===0&&(l&i.expiredLanes)===0||ta(i,l),x=h?UT(i,l):Sp(i,l,!0),y=h;do{if(x===0){To&&!h&&mr(i,l,0,!1);break}else{if(u=i.current.alternate,y&&!LT(u)){x=Sp(i,l,!1),y=!1;continue}if(x===2){if(y=l,i.errorRecoveryDisabledLanes&y)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){l=S;e:{var P=i;x=pu;var Q=P.current.memoizedState.isDehydrated;if(Q&&(Ao(P,S).flags|=256),S=Sp(P,S,!1),S!==2){if(xp&&!Q){P.errorRecoveryDisabledLanes|=y,Sl|=y,x=4;break e}y=hs,hs=x,y!==null&&(hs===null?hs=y:hs.push.apply(hs,y))}x=S}if(y=!1,x!==2)continue}}if(x===1){Ao(i,0),mr(i,l,0,!0);break}e:{switch(h=i,y=x,y){case 0:case 1:throw Error(a(345));case 4:if((l&4194048)!==l)break;case 6:mr(h,l,Es,!cr);break e;case 2:hs=null;break;case 3:case 5:break;default:throw Error(a(329))}if((l&62914560)===l&&(x=Mh+300-Qt(),10<x)){if(mr(h,l,Es,!cr),ya(h,0,!0)!==0)break e;gi=l,h.timeoutHandle=aw(E1.bind(null,h,u,hs,Lh,yp,l,Es,Sl,Co,cr,y,"Throttled",-0,0),x);break e}E1(h,u,hs,Lh,yp,l,Es,Sl,Co,cr,y,null,-0,0)}}break}while(!0);La(i)}function E1(i,l,u,h,x,y,S,P,Q,se,ue,pe,ae,re){if(i.timeoutHandle=-1,pe=l.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:aa},v1(l,y,pe);var Ae=(y&62914560)===y?Mh-Qt():(y&4194048)===y?S1-Qt():0;if(Ae=wC(pe,Ae),Ae!==null){gi=y,i.cancelPendingCommit=Ae(O1.bind(null,i,l,y,u,h,x,S,P,Q,ue,pe,null,ae,re)),mr(i,y,S,!se);return}}O1(i,l,y,u,h,x,S,P,Q)}function LT(i){for(var l=i;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var x=u[h],y=x.getSnapshot;x=x.value;try{if(!js(y(),x))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function mr(i,l,u,h){l&=~bp,l&=~Sl,i.suspendedLanes|=l,i.pingedLanes&=~l,h&&(i.warmLanes|=l),h=i.expirationTimes;for(var x=l;0<x;){var y=31-ut(x),S=1<<y;h[y]=-1,x&=~S}u!==0&&Zr(i,u,l)}function Vh(){return(yt&6)===0?(xu(0),!1):!0}function jp(){if(tt!==null){if(_t===0)var i=tt.return;else i=tt,ii=pl=null,U0(i),yo=null,Zc=0,i=tt;for(;i!==null;)i1(i.alternate,i),i=i.return;tt=null}}function Ao(i,l){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,sC(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),gi=0,jp(),Dt=i,tt=u=si(i.current,null),it=l,_t=0,Cs=null,cr=!1,To=ta(i,l),xp=!1,Co=Es=bp=Sl=ur=Xt=0,hs=pu=null,yp=!1,(l&8)!==0&&(l|=l&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=l;0<h;){var x=31-ut(h),y=1<<x;l|=i[x],h&=~y}return pi=l,ih(),u}function A1(i,l){Ke=null,H.H=lu,l===bo||l===mh?(l=Hy(),_t=3):l===C0?(l=Hy(),_t=4):_t=l===tp?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Cs=l,tt===null&&(Xt=1,Ch(i,zs(l,i.current)))}function k1(){var i=_s.current;return i===null?!0:(it&4194048)===it?qs===null:(it&62914560)===it||(it&536870912)!==0?i===qs:!1}function I1(){var i=H.H;return H.H=lu,i===null?lu:i}function R1(){var i=H.A;return H.A=MT,i}function Uh(){Xt=4,cr||(it&4194048)!==it&&_s.current!==null||(To=!0),(ur&134217727)===0&&(Sl&134217727)===0||Dt===null||mr(Dt,it,Es,!1)}function Sp(i,l,u){var h=yt;yt|=2;var x=I1(),y=R1();(Dt!==i||it!==l)&&(Lh=null,Ao(i,l)),l=!1;var S=Xt;e:do try{if(_t!==0&&tt!==null){var P=tt,Q=Cs;switch(_t){case 8:jp(),S=6;break e;case 3:case 2:case 9:case 6:_s.current===null&&(l=!0);var se=_t;if(_t=0,Cs=null,ko(i,P,Q,se),u&&To){S=0;break e}break;default:se=_t,_t=0,Cs=null,ko(i,P,Q,se)}}VT(),S=Xt;break}catch(ue){A1(i,ue)}while(!0);return l&&i.shellSuspendCounter++,ii=pl=null,yt=h,H.H=x,H.A=y,tt===null&&(Dt=null,it=0,ih()),S}function VT(){for(;tt!==null;)D1(tt)}function UT(i,l){var u=yt;yt|=2;var h=I1(),x=R1();Dt!==i||it!==l?(Lh=null,Oh=Qt()+500,Ao(i,l)):To=ta(i,l);e:do try{if(_t!==0&&tt!==null){l=tt;var y=Cs;t:switch(_t){case 1:_t=0,Cs=null,ko(i,l,y,1);break;case 2:case 9:if($y(y)){_t=0,Cs=null,P1(l);break}l=function(){_t!==2&&_t!==9||Dt!==i||(_t=7),La(i)},y.then(l,l);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:$y(y)?(_t=0,Cs=null,P1(l)):(_t=0,Cs=null,ko(i,l,y,7));break;case 5:var S=null;switch(tt.tag){case 26:S=tt.memoizedState;case 5:case 27:var P=tt;if(S?yw(S):P.stateNode.complete){_t=0,Cs=null;var Q=P.sibling;if(Q!==null)tt=Q;else{var se=P.return;se!==null?(tt=se,zh(se)):tt=null}break t}}_t=0,Cs=null,ko(i,l,y,5);break;case 6:_t=0,Cs=null,ko(i,l,y,6);break;case 8:jp(),Xt=6;break e;default:throw Error(a(462))}}zT();break}catch(ue){A1(i,ue)}while(!0);return ii=pl=null,H.H=h,H.A=x,yt=u,tt!==null?0:(Dt=null,it=0,ih(),Xt)}function zT(){for(;tt!==null&&!Mn();)D1(tt)}function D1(i){var l=s1(i.alternate,i,pi);i.memoizedProps=i.pendingProps,l===null?zh(i):tt=l}function P1(i){var l=i,u=l.alternate;switch(l.tag){case 15:case 0:l=Xv(u,l,l.pendingProps,l.type,void 0,it);break;case 11:l=Xv(u,l,l.pendingProps,l.type.render,l.ref,it);break;case 5:U0(l);default:i1(u,l),l=tt=Ry(l,pi),l=s1(u,l,pi)}i.memoizedProps=i.pendingProps,l===null?zh(i):tt=l}function ko(i,l,u,h){ii=pl=null,U0(l),yo=null,Zc=0;var x=l.return;try{if(ET(i,x,l,u,it)){Xt=1,Ch(i,zs(u,i.current)),tt=null;return}}catch(y){if(x!==null)throw tt=x,y;Xt=1,Ch(i,zs(u,i.current)),tt=null;return}l.flags&32768?(dt||h===1?i=!0:To||(it&536870912)!==0?i=!1:(cr=i=!0,(h===2||h===9||h===3||h===6)&&(h=_s.current,h!==null&&h.tag===13&&(h.flags|=16384))),M1(l,i)):zh(l)}function zh(i){var l=i;do{if((l.flags&32768)!==0){M1(l,cr);return}i=l.return;var u=IT(l.alternate,l,pi);if(u!==null){tt=u;return}if(l=l.sibling,l!==null){tt=l;return}tt=l=i}while(l!==null);Xt===0&&(Xt=5)}function M1(i,l){do{var u=RT(i.alternate,i);if(u!==null){u.flags&=32767,tt=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(i=i.sibling,i!==null)){tt=i;return}tt=i=u}while(i!==null);Xt=6,tt=null}function O1(i,l,u,h,x,y,S,P,Q){i.cancelPendingCommit=null;do Fh();while(Sn!==0);if((yt&6)!==0)throw Error(a(327));if(l!==null){if(l===i.current)throw Error(a(177));if(y=l.lanes|l.childLanes,y|=h0,s0(i,u,y,S,P,Q),i===Dt&&(tt=Dt=null,it=0),Eo=l,hr=i,gi=u,vp=y,wp=x,_1=h,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,qT(Ue,function(){return F1(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||h){h=H.T,H.T=null,x=Z.p,Z.p=2,S=yt,yt|=4;try{DT(i,l,u)}finally{yt=S,Z.p=x,H.T=h}}Sn=1,L1(),V1(),U1()}}function L1(){if(Sn===1){Sn=0;var i=hr,l=Eo,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=H.T,H.T=null;var h=Z.p;Z.p=2;var x=yt;yt|=4;try{x1(l,i);var y=Op,S=jy(i.containerInfo),P=y.focusedElem,Q=y.selectionRange;if(S!==P&&P&&P.ownerDocument&&Ny(P.ownerDocument.documentElement,P)){if(Q!==null&&l0(P)){var se=Q.start,ue=Q.end;if(ue===void 0&&(ue=se),"selectionStart"in P)P.selectionStart=se,P.selectionEnd=Math.min(ue,P.value.length);else{var pe=P.ownerDocument||document,ae=pe&&pe.defaultView||window;if(ae.getSelection){var re=ae.getSelection(),Ae=P.textContent.length,Fe=Math.min(Q.start,Ae),Rt=Q.end===void 0?Fe:Math.min(Q.end,Ae);!re.extend&&Fe>Rt&&(S=Rt,Rt=Fe,Fe=S);var W=wy(P,Fe),Y=wy(P,Rt);if(W&&Y&&(re.rangeCount!==1||re.anchorNode!==W.node||re.anchorOffset!==W.offset||re.focusNode!==Y.node||re.focusOffset!==Y.offset)){var te=pe.createRange();te.setStart(W.node,W.offset),re.removeAllRanges(),Fe>Rt?(re.addRange(te),re.extend(Y.node,Y.offset)):(te.setEnd(Y.node,Y.offset),re.addRange(te))}}}}for(pe=[],re=P;re=re.parentNode;)re.nodeType===1&&pe.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<pe.length;P++){var me=pe[P];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}Zh=!!Mp,Op=Mp=null}finally{yt=x,Z.p=h,H.T=u}}i.current=l,Sn=2}}function V1(){if(Sn===2){Sn=0;var i=hr,l=Eo,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=H.T,H.T=null;var h=Z.p;Z.p=2;var x=yt;yt|=4;try{h1(i,l.alternate,l)}finally{yt=x,Z.p=h,H.T=u}}Sn=3}}function U1(){if(Sn===4||Sn===3){Sn=0,jn();var i=hr,l=Eo,u=gi,h=_1;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Sn=5:(Sn=0,Eo=hr=null,z1(i,i.pendingLanes));var x=i.pendingLanes;if(x===0&&(dr=null),Za(u),l=l.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(en,l,void 0,(l.current.flags&128)===128)}catch{}if(h!==null){l=H.T,x=Z.p,Z.p=2,H.T=null;try{for(var y=i.onRecoverableError,S=0;S<h.length;S++){var P=h[S];y(P.value,{componentStack:P.stack})}}finally{H.T=l,Z.p=x}}(gi&3)!==0&&Fh(),La(i),x=i.pendingLanes,(u&261930)!==0&&(x&42)!==0?i===Np?gu++:(gu=0,Np=i):gu=0,xu(0)}}function z1(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,Xc(l)))}function Fh(){return L1(),V1(),U1(),F1()}function F1(){if(Sn!==5)return!1;var i=hr,l=vp;vp=0;var u=Za(gi),h=H.T,x=Z.p;try{Z.p=32>u?32:u,H.T=null,u=wp,wp=null;var y=hr,S=gi;if(Sn=0,Eo=hr=null,gi=0,(yt&6)!==0)throw Error(a(331));var P=yt;if(yt|=4,N1(y.current),y1(y,y.current,S,u),yt=P,xu(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(en,y)}catch{}return!0}finally{Z.p=x,H.T=h,z1(i,l)}}function B1(i,l,u){l=zs(u,l),l=ep(i.stateNode,l,2),i=ir(i,l,2),i!==null&&(Jr(i,2),La(i))}function Tt(i,l,u){if(i.tag===3)B1(i,i,u);else for(;l!==null;){if(l.tag===3){B1(l,i,u);break}else if(l.tag===1){var h=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(dr===null||!dr.has(h))){i=zs(u,i),u=$v(2),h=ir(l,u,2),h!==null&&(qv(u,h,l,i),Jr(h,2),La(h));break}}l=l.return}}function _p(i,l,u){var h=i.pingCache;if(h===null){h=i.pingCache=new OT;var x=new Set;h.set(l,x)}else x=h.get(l),x===void 0&&(x=new Set,h.set(l,x));x.has(u)||(xp=!0,x.add(u),i=FT.bind(null,i,l,u),l.then(i,i))}function FT(i,l,u){var h=i.pingCache;h!==null&&h.delete(l),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Dt===i&&(it&u)===u&&(Xt===4||Xt===3&&(it&62914560)===it&&300>Qt()-Mh?(yt&2)===0&&Ao(i,0):bp|=u,Co===it&&(Co=0)),La(i)}function $1(i,l){l===0&&(l=Ld()),i=hl(i,l),i!==null&&(Jr(i,l),La(i))}function BT(i){var l=i.memoizedState,u=0;l!==null&&(u=l.retryLane),$1(i,u)}function $T(i,l){var u=0;switch(i.tag){case 31:case 13:var h=i.stateNode,x=i.memoizedState;x!==null&&(u=x.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(a(314))}h!==null&&h.delete(l),$1(i,u)}function qT(i,l){return De(i,l)}var Bh=null,Io=null,Tp=!1,$h=!1,Cp=!1,fr=0;function La(i){i!==Io&&i.next===null&&(Io===null?Bh=Io=i:Io=Io.next=i),$h=!0,Tp||(Tp=!0,GT())}function xu(i,l){if(!Cp&&$h){Cp=!0;do for(var u=!1,h=Bh;h!==null;){if(i!==0){var x=h.pendingLanes;if(x===0)var y=0;else{var S=h.suspendedLanes,P=h.pingedLanes;y=(1<<31-ut(42|i)+1)-1,y&=x&~(S&~P),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,Q1(h,y))}else y=it,y=ya(h,h===Dt?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||ta(h,y)||(u=!0,Q1(h,y));h=h.next}while(u);Cp=!1}}function HT(){q1()}function q1(){$h=Tp=!1;var i=0;fr!==0&&nC()&&(i=fr);for(var l=Qt(),u=null,h=Bh;h!==null;){var x=h.next,y=H1(h,l);y===0?(h.next=null,u===null?Bh=x:u.next=x,x===null&&(Io=u)):(u=h,(i!==0||(y&3)!==0)&&($h=!0)),h=x}Sn!==0&&Sn!==5||xu(i),fr!==0&&(fr=0)}function H1(i,l){for(var u=i.suspendedLanes,h=i.pingedLanes,x=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var S=31-ut(y),P=1<<S,Q=x[S];Q===-1?((P&u)===0||(P&h)!==0)&&(x[S]=n0(P,l)):Q<=l&&(i.expiredLanes|=P),y&=~P}if(l=Dt,u=it,u=ya(i,i===l?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,u===0||i===l&&(_t===2||_t===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Je(h),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||ta(i,u)){if(l=u&-u,l===i.callbackPriority)return l;switch(h!==null&&Je(h),Za(u)){case 2:case 8:u=we;break;case 32:u=Ue;break;case 268435456:u=pt;break;default:u=Ue}return h=G1.bind(null,i),u=De(u,h),i.callbackPriority=l,i.callbackNode=u,l}return h!==null&&h!==null&&Je(h),i.callbackPriority=2,i.callbackNode=null,2}function G1(i,l){if(Sn!==0&&Sn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Fh()&&i.callbackNode!==u)return null;var h=it;return h=ya(i,i===Dt?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(C1(i,h,l),H1(i,Qt()),i.callbackNode!=null&&i.callbackNode===u?G1.bind(null,i):null)}function Q1(i,l){if(Fh())return null;C1(i,l,!0)}function GT(){aC(function(){(yt&6)!==0?De(he,HT):q1()})}function Ep(){if(fr===0){var i=go;i===0&&(i=xa,xa<<=1,(xa&261888)===0&&(xa=256)),fr=i}return fr}function Y1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:eo(""+i)}function K1(i,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,i.id&&u.setAttribute("form",i.id),l.parentNode.insertBefore(u,l),i=new FormData(i),u.parentNode.removeChild(u),i}function QT(i,l,u,h,x){if(l==="submit"&&u&&u.stateNode===x){var y=Y1((x[En]||null).action),S=h.submitter;S&&(l=(l=S[En]||null)?Y1(l.formAction):S.getAttribute("formAction"),l!==null&&(y=l,S=null));var P=new ka("action","action",null,h,x);i.push({event:P,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(fr!==0){var Q=S?K1(x,S):new FormData(x);Y0(u,{pending:!0,data:Q,method:x.method,action:y},null,Q)}}else typeof y=="function"&&(P.preventDefault(),Q=S?K1(x,S):new FormData(x),Y0(u,{pending:!0,data:Q,method:x.method,action:y},y,Q))},currentTarget:x}]})}}for(var Ap=0;Ap<d0.length;Ap++){var kp=d0[Ap],YT=kp.toLowerCase(),KT=kp[0].toUpperCase()+kp.slice(1);ca(YT,"on"+KT)}ca(Ty,"onAnimationEnd"),ca(Cy,"onAnimationIteration"),ca(Ey,"onAnimationStart"),ca("dblclick","onDoubleClick"),ca("focusin","onFocus"),ca("focusout","onBlur"),ca(dT,"onTransitionRun"),ca(hT,"onTransitionStart"),ca(mT,"onTransitionCancel"),ca(Ay,"onTransitionEnd"),Ta("onMouseEnter",["mouseout","mouseover"]),Ta("onMouseLeave",["mouseout","mouseover"]),Ta("onPointerEnter",["pointerout","pointerover"]),Ta("onPointerLeave",["pointerout","pointerover"]),_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_a("onBeforeInput",["compositionend","keypress","textInput","paste"]),_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bu));function W1(i,l){l=(l&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],x=h.event;h=h.listeners;e:{var y=void 0;if(l)for(var S=h.length-1;0<=S;S--){var P=h[S],Q=P.instance,se=P.currentTarget;if(P=P.listener,Q!==y&&x.isPropagationStopped())break e;y=P,x.currentTarget=se;try{y(x)}catch(ue){ah(ue)}x.currentTarget=null,y=Q}else for(S=0;S<h.length;S++){if(P=h[S],Q=P.instance,se=P.currentTarget,P=P.listener,Q!==y&&x.isPropagationStopped())break e;y=P,x.currentTarget=se;try{y(x)}catch(ue){ah(ue)}x.currentTarget=null,y=Q}}}}function nt(i,l){var u=l[Kl];u===void 0&&(u=l[Kl]=new Set);var h=i+"__bubble";u.has(h)||(X1(l,i,2,!1),u.add(h))}function Ip(i,l,u){var h=0;l&&(h|=4),X1(u,i,h,l)}var qh="_reactListening"+Math.random().toString(36).slice(2);function Rp(i){if(!i[qh]){i[qh]=!0,kc.forEach(function(u){u!=="selectionchange"&&(WT.has(u)||Ip(u,!1,i),Ip(u,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[qh]||(l[qh]=!0,Ip("selectionchange",!1,l))}}function X1(i,l,u,h){switch(Tw(l)){case 2:var x=SC;break;case 8:x=_C;break;default:x=Qp}u=x.bind(null,l,u,i),x=void 0,!al||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),h?x!==void 0?i.addEventListener(l,u,{capture:!0,passive:x}):i.addEventListener(l,u,!0):x!==void 0?i.addEventListener(l,u,{passive:x}):i.addEventListener(l,u,!1)}function Dp(i,l,u,h,x){var y=h;if((l&1)===0&&(l&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var P=h.stateNode.containerInfo;if(P===x)break;if(S===4)for(S=h.return;S!==null;){var Q=S.tag;if((Q===3||Q===4)&&S.stateNode.containerInfo===x)return;S=S.return}for(;P!==null;){if(S=ja(P),S===null)return;if(Q=S.tag,Q===5||Q===6||Q===26||Q===27){h=y=S;continue e}P=P.parentNode}}h=h.return}Ki(function(){var se=y,ue=Os(u),pe=[];e:{var ae=ky.get(i);if(ae!==void 0){var re=ka,Ae=i;switch(i){case"keypress":if(rl(u)===0)break e;case"keydown":case"keyup":re=th;break;case"focusin":Ae="focus",re=ol;break;case"focusout":Ae="blur",re=ol;break;case"beforeblur":case"afterblur":re=ol;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=$c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Gd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=N;break;case Ty:case Cy:case Ey:re=Yd;break;case Ay:re=U;break;case"scroll":case"scrollend":re=Bc;break;case"wheel":re=ie;break;case"copy":case"cut":case"paste":re=Kd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=ni;break;case"toggle":case"beforetoggle":re=Ye}var Fe=(l&4)!==0,Rt=!Fe&&(i==="scroll"||i==="scrollend"),W=Fe?ae!==null?ae+"Capture":null:ae;Fe=[];for(var Y=se,te;Y!==null;){var me=Y;if(te=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||te===null||W===null||(me=ia(Y,W),me!=null&&Fe.push(yu(Y,me,te))),Rt)break;Y=Y.return}0<Fe.length&&(ae=new re(ae,Ae,null,u,ue),pe.push({event:ae,listeners:Fe}))}}if((l&7)===0){e:{if(ae=i==="mouseover"||i==="pointerover",re=i==="mouseout"||i==="pointerout",ae&&u!==Uc&&(Ae=u.relatedTarget||u.fromElement)&&(ja(Ae)||Ae[wa]))break e;if((re||ae)&&(ae=ue.window===ue?ue:(ae=ue.ownerDocument)?ae.defaultView||ae.parentWindow:window,re?(Ae=u.relatedTarget||u.toElement,re=se,Ae=Ae?ja(Ae):null,Ae!==null&&(Rt=o(Ae),Fe=Ae.tag,Ae!==Rt||Fe!==5&&Fe!==27&&Fe!==6)&&(Ae=null)):(re=null,Ae=se),re!==Ae)){if(Fe=$c,me="onMouseLeave",W="onMouseEnter",Y="mouse",(i==="pointerout"||i==="pointerover")&&(Fe=ni,me="onPointerLeave",W="onPointerEnter",Y="pointer"),Rt=re==null?ae:ws(re),te=Ae==null?ae:ws(Ae),ae=new Fe(me,Y+"leave",re,u,ue),ae.target=Rt,ae.relatedTarget=te,me=null,ja(ue)===se&&(Fe=new Fe(W,Y+"enter",Ae,u,ue),Fe.target=te,Fe.relatedTarget=Rt,me=Fe),Rt=me,re&&Ae)t:{for(Fe=XT,W=re,Y=Ae,te=0,me=W;me;me=Fe(me))te++;me=0;for(var Oe=Y;Oe;Oe=Fe(Oe))me++;for(;0<te-me;)W=Fe(W),te--;for(;0<me-te;)Y=Fe(Y),me--;for(;te--;){if(W===Y||Y!==null&&W===Y.alternate){Fe=W;break t}W=Fe(W),Y=Fe(Y)}Fe=null}else Fe=null;re!==null&&J1(pe,ae,re,Fe,!1),Ae!==null&&Rt!==null&&J1(pe,Rt,Ae,Fe,!0)}}e:{if(ae=se?ws(se):window,re=ae.nodeName&&ae.nodeName.toLowerCase(),re==="select"||re==="input"&&ae.type==="file")var gt=py;else if(my(ae))if(gy)gt=oT;else{gt=rT;var Re=iT}else re=ae.nodeName,!re||re.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?se&&Zl(se.elementType)&&(gt=py):gt=lT;if(gt&&(gt=gt(i,se))){fy(pe,gt,u,ue);break e}Re&&Re(i,ae,se),i==="focusout"&&se&&ae.type==="number"&&se.memoizedProps.value!=null&&Oc(ae,"number",ae.value)}switch(Re=se?ws(se):window,i){case"focusin":(my(Re)||Re.contentEditable==="true")&&(lo=Re,o0=se,Yc=null);break;case"focusout":Yc=o0=lo=null;break;case"mousedown":c0=!0;break;case"contextmenu":case"mouseup":case"dragend":c0=!1,Sy(pe,u,ue);break;case"selectionchange":if(uT)break;case"keydown":case"keyup":Sy(pe,u,ue)}var We;if(bt)e:{switch(i){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else ro?cl(i,u)&&(rt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(rt="onCompositionStart");rt&&(Da&&u.locale!=="ko"&&(ro||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&ro&&(We=Fc()):(Aa=ue,zc="value"in Aa?Aa.value:Aa.textContent,ro=!0)),Re=Hh(se,rt),0<Re.length&&(rt=new Ra(rt,i,null,u,ue),pe.push({event:rt,listeners:Re}),We?rt.data=We:(We=io(u),We!==null&&(rt.data=We)))),(We=Vs?tT(i,u):nT(i,u))&&(rt=Hh(se,"onBeforeInput"),0<rt.length&&(Re=new Ra("onBeforeInput","beforeinput",null,u,ue),pe.push({event:Re,listeners:rt}),Re.data=We)),QT(pe,i,se,u,ue)}W1(pe,l)})}function yu(i,l,u){return{instance:i,listener:l,currentTarget:u}}function Hh(i,l){for(var u=l+"Capture",h=[];i!==null;){var x=i,y=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||y===null||(x=ia(i,u),x!=null&&h.unshift(yu(i,x,y)),x=ia(i,l),x!=null&&h.push(yu(i,x,y))),i.tag===3)return h;i=i.return}return[]}function XT(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function J1(i,l,u,h,x){for(var y=l._reactName,S=[];u!==null&&u!==h;){var P=u,Q=P.alternate,se=P.stateNode;if(P=P.tag,Q!==null&&Q===h)break;P!==5&&P!==26&&P!==27||se===null||(Q=se,x?(se=ia(u,y),se!=null&&S.unshift(yu(u,se,Q))):x||(se=ia(u,y),se!=null&&S.push(yu(u,se,Q)))),u=u.return}S.length!==0&&i.push({event:l,listeners:S})}var JT=/\r\n?/g,ZT=/\u0000|\uFFFD/g;function Z1(i){return(typeof i=="string"?i:""+i).replace(JT,`
`).replace(ZT,"")}function ew(i,l){return l=Z1(l),Z1(i)===l}function It(i,l,u,h,x,y){switch(u){case"children":typeof h=="string"?l==="body"||l==="textarea"&&h===""||os(i,h):(typeof h=="number"||typeof h=="bigint")&&l!=="body"&&os(i,""+h);break;case"className":Ns(i,"class",h);break;case"tabIndex":Ns(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Ns(i,u,h);break;case"style":Vc(i,h,y);break;case"data":if(l!=="object"){Ns(i,"data",h);break}case"src":case"href":if(h===""&&(l!=="a"||u!=="href")){i.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=eo(""+h),i.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(l!=="input"&&It(i,l,"name",x.name,x,null),It(i,l,"formEncType",x.formEncType,x,null),It(i,l,"formMethod",x.formMethod,x,null),It(i,l,"formTarget",x.formTarget,x,null)):(It(i,l,"encType",x.encType,x,null),It(i,l,"method",x.method,x,null),It(i,l,"target",x.target,x,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=eo(""+h),i.setAttribute(u,h);break;case"onClick":h!=null&&(i.onclick=aa);break;case"onScroll":h!=null&&nt("scroll",i);break;case"onScrollEnd":h!=null&&nt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(u=h.__html,u!=null){if(x.children!=null)throw Error(a(60));i.innerHTML=u}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}u=eo(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""+h):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":h===!0?i.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,h):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(u,h):i.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(u):i.setAttribute(u,h);break;case"popover":nt("beforetoggle",i),nt("toggle",i),Xl(i,"popover",h);break;case"xlinkActuate":hn(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":hn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":hn(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":hn(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":hn(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":hn(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":hn(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":hn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":hn(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Xl(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Hd.get(u)||u,Xl(i,u,h))}}function Pp(i,l,u,h,x,y){switch(u){case"style":Vc(i,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(u=h.__html,u!=null){if(x.children!=null)throw Error(a(60));i.innerHTML=u}}break;case"children":typeof h=="string"?os(i,h):(typeof h=="number"||typeof h=="bigint")&&os(i,""+h);break;case"onScroll":h!=null&&nt("scroll",i);break;case"onScrollEnd":h!=null&&nt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=aa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ic.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(x=u.endsWith("Capture"),l=u.slice(2,x?u.length-7:void 0),y=i[En]||null,y=y!=null?y[u]:null,typeof y=="function"&&i.removeEventListener(l,y,x),typeof h=="function")){typeof y!="function"&&y!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(l,h,x);break e}u in i?i[u]=h:h===!0?i.setAttribute(u,""):Xl(i,u,h)}}}function zn(i,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",i),nt("load",i);var h=!1,x=!1,y;for(y in u)if(u.hasOwnProperty(y)){var S=u[y];if(S!=null)switch(y){case"src":h=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:It(i,l,y,S,u,null)}}x&&It(i,l,"srcSet",u.srcSet,u,null),h&&It(i,l,"src",u.src,u,null);return;case"input":nt("invalid",i);var P=y=S=x=null,Q=null,se=null;for(h in u)if(u.hasOwnProperty(h)){var ue=u[h];if(ue!=null)switch(h){case"name":x=ue;break;case"type":S=ue;break;case"checked":Q=ue;break;case"defaultChecked":se=ue;break;case"value":y=ue;break;case"defaultValue":P=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(a(137,l));break;default:It(i,l,h,ue,u,null)}}Bd(i,y,P,Q,se,S,x,!1);return;case"select":nt("invalid",i),h=S=y=null;for(x in u)if(u.hasOwnProperty(x)&&(P=u[x],P!=null))switch(x){case"value":y=P;break;case"defaultValue":S=P;break;case"multiple":h=P;default:It(i,l,x,P,u,null)}l=y,u=S,i.multiple=!!h,l!=null?Hi(i,!!h,l,!1):u!=null&&Hi(i,!!h,u,!0);return;case"textarea":nt("invalid",i),y=x=h=null;for(S in u)if(u.hasOwnProperty(S)&&(P=u[S],P!=null))switch(S){case"value":h=P;break;case"defaultValue":x=P;break;case"children":y=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(91));break;default:It(i,l,S,P,u,null)}Gi(i,h,x,y);return;case"option":for(Q in u)if(u.hasOwnProperty(Q)&&(h=u[Q],h!=null))switch(Q){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:It(i,l,Q,h,u,null)}return;case"dialog":nt("beforetoggle",i),nt("toggle",i),nt("cancel",i),nt("close",i);break;case"iframe":case"object":nt("load",i);break;case"video":case"audio":for(h=0;h<bu.length;h++)nt(bu[h],i);break;case"image":nt("error",i),nt("load",i);break;case"details":nt("toggle",i);break;case"embed":case"source":case"link":nt("error",i),nt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in u)if(u.hasOwnProperty(se)&&(h=u[se],h!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:It(i,l,se,h,u,null)}return;default:if(Zl(l)){for(ue in u)u.hasOwnProperty(ue)&&(h=u[ue],h!==void 0&&Pp(i,l,ue,h,u,void 0));return}}for(P in u)u.hasOwnProperty(P)&&(h=u[P],h!=null&&It(i,l,P,h,u,null))}function eC(i,l,u,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,y=null,S=null,P=null,Q=null,se=null,ue=null;for(re in u){var pe=u[re];if(u.hasOwnProperty(re)&&pe!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":Q=pe;default:h.hasOwnProperty(re)||It(i,l,re,null,h,pe)}}for(var ae in h){var re=h[ae];if(pe=u[ae],h.hasOwnProperty(ae)&&(re!=null||pe!=null))switch(ae){case"type":y=re;break;case"name":x=re;break;case"checked":se=re;break;case"defaultChecked":ue=re;break;case"value":S=re;break;case"defaultValue":P=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(a(137,l));break;default:re!==pe&&It(i,l,ae,re,h,pe)}}Jl(i,S,P,Q,se,ue,y,x);return;case"select":re=S=P=ae=null;for(y in u)if(Q=u[y],u.hasOwnProperty(y)&&Q!=null)switch(y){case"value":break;case"multiple":re=Q;default:h.hasOwnProperty(y)||It(i,l,y,null,h,Q)}for(x in h)if(y=h[x],Q=u[x],h.hasOwnProperty(x)&&(y!=null||Q!=null))switch(x){case"value":ae=y;break;case"defaultValue":P=y;break;case"multiple":S=y;default:y!==Q&&It(i,l,x,y,h,Q)}l=P,u=S,h=re,ae!=null?Hi(i,!!u,ae,!1):!!h!=!!u&&(l!=null?Hi(i,!!u,l,!0):Hi(i,!!u,u?[]:"",!1));return;case"textarea":re=ae=null;for(P in u)if(x=u[P],u.hasOwnProperty(P)&&x!=null&&!h.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:It(i,l,P,null,h,x)}for(S in h)if(x=h[S],y=u[S],h.hasOwnProperty(S)&&(x!=null||y!=null))switch(S){case"value":ae=x;break;case"defaultValue":re=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(91));break;default:x!==y&&It(i,l,S,x,h,y)}$d(i,ae,re);return;case"option":for(var Ae in u)if(ae=u[Ae],u.hasOwnProperty(Ae)&&ae!=null&&!h.hasOwnProperty(Ae))switch(Ae){case"selected":i.selected=!1;break;default:It(i,l,Ae,null,h,ae)}for(Q in h)if(ae=h[Q],re=u[Q],h.hasOwnProperty(Q)&&ae!==re&&(ae!=null||re!=null))switch(Q){case"selected":i.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:It(i,l,Q,ae,h,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in u)ae=u[Fe],u.hasOwnProperty(Fe)&&ae!=null&&!h.hasOwnProperty(Fe)&&It(i,l,Fe,null,h,ae);for(se in h)if(ae=h[se],re=u[se],h.hasOwnProperty(se)&&ae!==re&&(ae!=null||re!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,l));break;default:It(i,l,se,ae,h,re)}return;default:if(Zl(l)){for(var Rt in u)ae=u[Rt],u.hasOwnProperty(Rt)&&ae!==void 0&&!h.hasOwnProperty(Rt)&&Pp(i,l,Rt,void 0,h,ae);for(ue in h)ae=h[ue],re=u[ue],!h.hasOwnProperty(ue)||ae===re||ae===void 0&&re===void 0||Pp(i,l,ue,ae,h,re);return}}for(var W in u)ae=u[W],u.hasOwnProperty(W)&&ae!=null&&!h.hasOwnProperty(W)&&It(i,l,W,null,h,ae);for(pe in h)ae=h[pe],re=u[pe],!h.hasOwnProperty(pe)||ae===re||ae==null&&re==null||It(i,l,pe,ae,h,re)}function tw(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,l=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var x=u[h],y=x.transferSize,S=x.initiatorType,P=x.duration;if(y&&P&&tw(S)){for(S=0,P=x.responseEnd,h+=1;h<u.length;h++){var Q=u[h],se=Q.startTime;if(se>P)break;var ue=Q.transferSize,pe=Q.initiatorType;ue&&tw(pe)&&(Q=Q.responseEnd,S+=ue*(Q<P?1:(P-se)/(Q-se)))}if(--h,l+=8*(y+S)/(x.duration/1e3),i++,10<i)break}}if(0<i)return l/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Mp=null,Op=null;function Gh(i){return i.nodeType===9?i:i.ownerDocument}function nw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sw(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function Lp(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Vp=null;function nC(){var i=window.event;return i&&i.type==="popstate"?i===Vp?!1:(Vp=i,!0):(Vp=null,!1)}var aw=typeof setTimeout=="function"?setTimeout:void 0,sC=typeof clearTimeout=="function"?clearTimeout:void 0,iw=typeof Promise=="function"?Promise:void 0,aC=typeof queueMicrotask=="function"?queueMicrotask:typeof iw<"u"?function(i){return iw.resolve(null).then(i).catch(iC)}:aw;function iC(i){setTimeout(function(){throw i})}function pr(i){return i==="head"}function rw(i,l){var u=l,h=0;do{var x=u.nextSibling;if(i.removeChild(u),x&&x.nodeType===8)if(u=x.data,u==="/$"||u==="/&"){if(h===0){i.removeChild(x),Mo(l);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")vu(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,vu(u);for(var y=u.firstChild;y;){var S=y.nextSibling,P=y.nodeName;y[Na]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&y.rel.toLowerCase()==="stylesheet"||u.removeChild(y),y=S}}else u==="body"&&vu(i.ownerDocument.body);u=x}while(u);Mo(l)}function lw(i,l){var u=i;i=0;do{var h=u.nextSibling;if(u.nodeType===1?l?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(l?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=h}while(u)}function Up(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Up(u),Wl(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function rC(i,l,u,h){for(;i.nodeType===1;){var x=u;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Na])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==x.rel||i.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||i.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||i.getAttribute("title")!==(x.title==null?null:x.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(x.src==null?null:x.src)||i.getAttribute("type")!==(x.type==null?null:x.type)||i.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var y=x.name==null?null:""+x.name;if(x.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Hs(i.nextSibling),i===null)break}return null}function lC(i,l,u){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Hs(i.nextSibling),i===null))return null;return i}function ow(i,l){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Hs(i.nextSibling),i===null))return null;return i}function zp(i){return i.data==="$?"||i.data==="$~"}function Fp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function oC(i,l){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=l;else if(i.data!=="$?"||u.readyState!=="loading")l();else{var h=function(){l(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Hs(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return i}var Bp=null;function cw(i){i=i.nextSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(l===0)return Hs(i.nextSibling);l--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||l++}i=i.nextSibling}return null}function uw(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(l===0)return i;l--}else u!=="/$"&&u!=="/&"||l++}i=i.previousSibling}return null}function dw(i,l,u){switch(l=Gh(u),i){case"html":if(i=l.documentElement,!i)throw Error(a(452));return i;case"head":if(i=l.head,!i)throw Error(a(453));return i;case"body":if(i=l.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function vu(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);Wl(i)}var Gs=new Map,hw=new Set;function Qh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var xi=Z.d;Z.d={f:cC,r:uC,D:dC,C:hC,L:mC,m:fC,X:gC,S:pC,M:xC};function cC(){var i=xi.f(),l=Vh();return i||l}function uC(i){var l=Ms(i);l!==null&&l.tag===5&&l.type==="form"?Av(l):xi.r(i)}var Ro=typeof document>"u"?null:document;function mw(i,l,u){var h=Ro;if(h&&typeof l=="string"&&l){var x=ls(l);x='link[rel="'+i+'"][href="'+x+'"]',typeof u=="string"&&(x+='[crossorigin="'+u+'"]'),hw.has(x)||(hw.add(x),i={rel:i,crossOrigin:u,href:l},h.querySelector(x)===null&&(l=h.createElement("link"),zn(l,"link",i),dn(l),h.head.appendChild(l)))}}function dC(i){xi.D(i),mw("dns-prefetch",i,null)}function hC(i,l){xi.C(i,l),mw("preconnect",i,l)}function mC(i,l,u){xi.L(i,l,u);var h=Ro;if(h&&i&&l){var x='link[rel="preload"][as="'+ls(l)+'"]';l==="image"&&u&&u.imageSrcSet?(x+='[imagesrcset="'+ls(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(x+='[imagesizes="'+ls(u.imageSizes)+'"]')):x+='[href="'+ls(i)+'"]';var y=x;switch(l){case"style":y=Do(i);break;case"script":y=Po(i)}Gs.has(y)||(i=b({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:i,as:l},u),Gs.set(y,i),h.querySelector(x)!==null||l==="style"&&h.querySelector(wu(y))||l==="script"&&h.querySelector(Nu(y))||(l=h.createElement("link"),zn(l,"link",i),dn(l),h.head.appendChild(l)))}}function fC(i,l){xi.m(i,l);var u=Ro;if(u&&i){var h=l&&typeof l.as=="string"?l.as:"script",x='link[rel="modulepreload"][as="'+ls(h)+'"][href="'+ls(i)+'"]',y=x;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Po(i)}if(!Gs.has(y)&&(i=b({rel:"modulepreload",href:i},l),Gs.set(y,i),u.querySelector(x)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Nu(y)))return}h=u.createElement("link"),zn(h,"link",i),dn(h),u.head.appendChild(h)}}}function pC(i,l,u){xi.S(i,l,u);var h=Ro;if(h&&i){var x=Sa(h).hoistableStyles,y=Do(i);l=l||"default";var S=x.get(y);if(!S){var P={loading:0,preload:null};if(S=h.querySelector(wu(y)))P.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":l},u),(u=Gs.get(y))&&$p(i,u);var Q=S=h.createElement("link");dn(Q),zn(Q,"link",i),Q._p=new Promise(function(se,ue){Q.onload=se,Q.onerror=ue}),Q.addEventListener("load",function(){P.loading|=1}),Q.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Yh(S,l,h)}S={type:"stylesheet",instance:S,count:1,state:P},x.set(y,S)}}}function gC(i,l){xi.X(i,l);var u=Ro;if(u&&i){var h=Sa(u).hoistableScripts,x=Po(i),y=h.get(x);y||(y=u.querySelector(Nu(x)),y||(i=b({src:i,async:!0},l),(l=Gs.get(x))&&qp(i,l),y=u.createElement("script"),dn(y),zn(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(x,y))}}function xC(i,l){xi.M(i,l);var u=Ro;if(u&&i){var h=Sa(u).hoistableScripts,x=Po(i),y=h.get(x);y||(y=u.querySelector(Nu(x)),y||(i=b({src:i,async:!0,type:"module"},l),(l=Gs.get(x))&&qp(i,l),y=u.createElement("script"),dn(y),zn(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(x,y))}}function fw(i,l,u,h){var x=(x=Me.current)?Qh(x):null;if(!x)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=Do(u.href),u=Sa(x).hoistableStyles,h=u.get(l),h||(h={type:"style",instance:null,count:0,state:null},u.set(l,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Do(u.href);var y=Sa(x).hoistableStyles,S=y.get(i);if(S||(x=x.ownerDocument||x,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,S),(y=x.querySelector(wu(i)))&&!y._p&&(S.instance=y,S.state.loading=5),Gs.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Gs.set(i,u),y||bC(x,i,u,S.state))),l&&h===null)throw Error(a(528,""));return S}if(l&&h!==null)throw Error(a(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Po(u),u=Sa(x).hoistableScripts,h=u.get(l),h||(h={type:"script",instance:null,count:0,state:null},u.set(l,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function Do(i){return'href="'+ls(i)+'"'}function wu(i){return'link[rel="stylesheet"]['+i+"]"}function pw(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function bC(i,l,u,h){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?h.loading=1:(l=i.createElement("link"),h.preload=l,l.addEventListener("load",function(){return h.loading|=1}),l.addEventListener("error",function(){return h.loading|=2}),zn(l,"link",u),dn(l),i.head.appendChild(l))}function Po(i){return'[src="'+ls(i)+'"]'}function Nu(i){return"script[async]"+i}function gw(i,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var h=i.querySelector('style[data-href~="'+ls(u.href)+'"]');if(h)return l.instance=h,dn(h),h;var x=b({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),dn(h),zn(h,"style",x),Yh(h,u.precedence,i),l.instance=h;case"stylesheet":x=Do(u.href);var y=i.querySelector(wu(x));if(y)return l.state.loading|=4,l.instance=y,dn(y),y;h=pw(u),(x=Gs.get(x))&&$p(h,x),y=(i.ownerDocument||i).createElement("link"),dn(y);var S=y;return S._p=new Promise(function(P,Q){S.onload=P,S.onerror=Q}),zn(y,"link",h),l.state.loading|=4,Yh(y,u.precedence,i),l.instance=y;case"script":return y=Po(u.src),(x=i.querySelector(Nu(y)))?(l.instance=x,dn(x),x):(h=u,(x=Gs.get(y))&&(h=b({},u),qp(h,x)),i=i.ownerDocument||i,x=i.createElement("script"),dn(x),zn(x,"link",h),i.head.appendChild(x),l.instance=x);case"void":return null;default:throw Error(a(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(h=l.instance,l.state.loading|=4,Yh(h,u.precedence,i));return l.instance}function Yh(i,l,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=h.length?h[h.length-1]:null,y=x,S=0;S<h.length;S++){var P=h[S];if(P.dataset.precedence===l)y=P;else if(y!==x)break}y?y.parentNode.insertBefore(i,y.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(i,l.firstChild))}function $p(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function qp(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var Kh=null;function xw(i,l,u){if(Kh===null){var h=new Map,x=Kh=new Map;x.set(u,h)}else x=Kh,h=x.get(u),h||(h=new Map,x.set(u,h));if(h.has(i))return h;for(h.set(i,null),u=u.getElementsByTagName(i),x=0;x<u.length;x++){var y=u[x];if(!(y[Na]||y[un]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(l)||"";S=i+S;var P=h.get(S);P?P.push(y):h.set(S,[y])}}return h}function bw(i,l,u){i=i.ownerDocument||i,i.head.insertBefore(u,l==="title"?i.querySelector("head > title"):null)}function yC(i,l,u){if(u===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function yw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function vC(i,l,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var x=Do(h.href),y=l.querySelector(wu(x));if(y){l=y._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(i.count++,i=Wh.bind(i),l.then(i,i)),u.state.loading|=4,u.instance=y,dn(y);return}y=l.ownerDocument||l,h=pw(h),(x=Gs.get(x))&&$p(h,x),y=y.createElement("link"),dn(y);var S=y;S._p=new Promise(function(P,Q){S.onload=P,S.onerror=Q}),zn(y,"link",h),u.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=Wh.bind(i),l.addEventListener("load",u),l.addEventListener("error",u))}}var Hp=0;function wC(i,l){return i.stylesheets&&i.count===0&&Jh(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var h=setTimeout(function(){if(i.stylesheets&&Jh(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+l);0<i.imgBytes&&Hp===0&&(Hp=62500*tC());var x=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Jh(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>Hp?50:800)+l);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(x)}}:null}function Wh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Xh=null;function Jh(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Xh=new Map,l.forEach(NC,i),Xh=null,Wh.call(i))}function NC(i,l){if(!(l.state.loading&4)){var u=Xh.get(i);if(u)var h=u.get(null);else{u=new Map,Xh.set(i,u);for(var x=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<x.length;y++){var S=x[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(u.set(S.dataset.precedence,S),h=S)}h&&u.set(null,h)}x=l.instance,S=x.getAttribute("data-precedence"),y=u.get(S)||h,y===h&&u.set(null,x),u.set(S,x),this.count++,h=Wh.bind(this),x.addEventListener("load",h),x.addEventListener("error",h),y?y.parentNode.insertBefore(x,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(x,i.firstChild)),l.state.loading|=4}}var ju={$$typeof:$,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function jC(i,l,u,h,x,y,S,P,Q){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=va(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.hiddenUpdates=va(null),this.identifierPrefix=h,this.onUncaughtError=x,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function vw(i,l,u,h,x,y,S,P,Q,se,ue,pe){return i=new jC(i,l,u,S,Q,se,ue,pe,P),l=1,y===!0&&(l|=24),y=Ss(3,null,null,l),i.current=y,y.stateNode=i,l=S0(),l.refCount++,i.pooledCache=l,l.refCount++,y.memoizedState={element:h,isDehydrated:u,cache:l},E0(y),i}function ww(i){return i?(i=uo,i):uo}function Nw(i,l,u,h,x,y){x=ww(x),h.context===null?h.context=x:h.pendingContext=x,h=ar(l),h.payload={element:u},y=y===void 0?null:y,y!==null&&(h.callback=y),u=ir(i,h,l),u!==null&&(ms(u,i,l),tu(u,i,l))}function jw(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<l?u:l}}function Gp(i,l){jw(i,l),(i=i.alternate)&&jw(i,l)}function Sw(i){if(i.tag===13||i.tag===31){var l=hl(i,67108864);l!==null&&ms(l,i,67108864),Gp(i,67108864)}}function _w(i){if(i.tag===13||i.tag===31){var l=As();l=el(l);var u=hl(i,l);u!==null&&ms(u,i,l),Gp(i,l)}}var Zh=!0;function SC(i,l,u,h){var x=H.T;H.T=null;var y=Z.p;try{Z.p=2,Qp(i,l,u,h)}finally{Z.p=y,H.T=x}}function _C(i,l,u,h){var x=H.T;H.T=null;var y=Z.p;try{Z.p=8,Qp(i,l,u,h)}finally{Z.p=y,H.T=x}}function Qp(i,l,u,h){if(Zh){var x=Yp(h);if(x===null)Dp(i,l,h,em,u),Cw(i,h);else if(CC(x,i,l,u,h))h.stopPropagation();else if(Cw(i,h),l&4&&-1<TC.indexOf(i)){for(;x!==null;){var y=Ms(x);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=ba(y.pendingLanes);if(S!==0){var P=y;for(P.pendingLanes|=2,P.entangledLanes|=2;S;){var Q=1<<31-ut(S);P.entanglements[1]|=Q,S&=~Q}La(y),(yt&6)===0&&(Oh=Qt()+500,xu(0))}}break;case 31:case 13:P=hl(y,2),P!==null&&ms(P,y,2),Vh(),Gp(y,2)}if(y=Yp(h),y===null&&Dp(i,l,h,em,u),y===x)break;x=y}x!==null&&h.stopPropagation()}else Dp(i,l,h,null,u)}}function Yp(i){return i=Os(i),Kp(i)}var em=null;function Kp(i){if(em=null,i=ja(i),i!==null){var l=o(i);if(l===null)i=null;else{var u=l.tag;if(u===13){if(i=c(l),i!==null)return i;i=null}else if(u===31){if(i=d(l),i!==null)return i;i=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return em=i,null}function Tw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ja()){case he:return 2;case we:return 8;case Ue:case Ze:return 32;case pt:return 268435456;default:return 32}default:return 32}}var Wp=!1,gr=null,xr=null,br=null,Su=new Map,_u=new Map,yr=[],TC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cw(i,l){switch(i){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":Su.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":_u.delete(l.pointerId)}}function Tu(i,l,u,h,x,y){return i===null||i.nativeEvent!==y?(i={blockedOn:l,domEventName:u,eventSystemFlags:h,nativeEvent:y,targetContainers:[x]},l!==null&&(l=Ms(l),l!==null&&Sw(l)),i):(i.eventSystemFlags|=h,l=i.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),i)}function CC(i,l,u,h,x){switch(l){case"focusin":return gr=Tu(gr,i,l,u,h,x),!0;case"dragenter":return xr=Tu(xr,i,l,u,h,x),!0;case"mouseover":return br=Tu(br,i,l,u,h,x),!0;case"pointerover":var y=x.pointerId;return Su.set(y,Tu(Su.get(y)||null,i,l,u,h,x)),!0;case"gotpointercapture":return y=x.pointerId,_u.set(y,Tu(_u.get(y)||null,i,l,u,h,x)),!0}return!1}function Ew(i){var l=ja(i.target);if(l!==null){var u=o(l);if(u!==null){if(l=u.tag,l===13){if(l=c(u),l!==null){i.blockedOn=l,na(i.priority,function(){_w(u)});return}}else if(l===31){if(l=d(u),l!==null){i.blockedOn=l,na(i.priority,function(){_w(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function tm(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var u=Yp(i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);Uc=h,u.target.dispatchEvent(h),Uc=null}else return l=Ms(u),l!==null&&Sw(l),i.blockedOn=u,!1;l.shift()}return!0}function Aw(i,l,u){tm(i)&&u.delete(l)}function EC(){Wp=!1,gr!==null&&tm(gr)&&(gr=null),xr!==null&&tm(xr)&&(xr=null),br!==null&&tm(br)&&(br=null),Su.forEach(Aw),_u.forEach(Aw)}function nm(i,l){i.blockedOn===l&&(i.blockedOn=null,Wp||(Wp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,EC)))}var sm=null;function kw(i){sm!==i&&(sm=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){sm===i&&(sm=null);for(var l=0;l<i.length;l+=3){var u=i[l],h=i[l+1],x=i[l+2];if(typeof h!="function"){if(Kp(h||u)===null)continue;break}var y=Ms(u);y!==null&&(i.splice(l,3),l-=3,Y0(y,{pending:!0,data:x,method:u.method,action:h},h,x))}}))}function Mo(i){function l(Q){return nm(Q,i)}gr!==null&&nm(gr,i),xr!==null&&nm(xr,i),br!==null&&nm(br,i),Su.forEach(l),_u.forEach(l);for(var u=0;u<yr.length;u++){var h=yr[u];h.blockedOn===i&&(h.blockedOn=null)}for(;0<yr.length&&(u=yr[0],u.blockedOn===null);)Ew(u),u.blockedOn===null&&yr.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var x=u[h],y=u[h+1],S=x[En]||null;if(typeof y=="function")S||kw(u);else if(S){var P=null;if(y&&y.hasAttribute("formAction")){if(x=y,S=y[En]||null)P=S.formAction;else if(Kp(x)!==null)continue}else P=S.action;typeof P=="function"?u[h+1]=P:(u.splice(h,3),h-=3),kw(u)}}}function Iw(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(S){return x=S})},focusReset:"manual",scroll:"manual"})}function l(){x!==null&&(x(),x=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,x=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),x!==null&&(x(),x=null)}}}function Xp(i){this._internalRoot=i}am.prototype.render=Xp.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(a(409));var u=l.current,h=As();Nw(u,h,i,l,null,null)},am.prototype.unmount=Xp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;Nw(i.current,2,null,i,null,null),Vh(),l[wa]=null}};function am(i){this._internalRoot=i}am.prototype.unstable_scheduleHydration=function(i){if(i){var l=Vd();i={blockedOn:null,target:i,priority:l};for(var u=0;u<yr.length&&l!==0&&l<yr[u].priority;u++);yr.splice(u,0,i),u===0&&Ew(i)}};var Rw=e.version;if(Rw!=="19.2.0")throw Error(a(527,Rw,"19.2.0"));Z.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=f(l),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var AC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var im=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!im.isDisabled&&im.supportsFiber)try{en=im.inject(AC),Yt=im}catch{}}return Cu.createRoot=function(i,l){if(!r(i))throw Error(a(299));var u=!1,h="",x=Uv,y=zv,S=Fv;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(y=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),l=vw(i,1,!1,null,null,u,h,null,x,y,S,Iw),i[wa]=l.current,Rp(i),new Xp(l)},Cu.hydrateRoot=function(i,l,u){if(!r(i))throw Error(a(299));var h=!1,x="",y=Uv,S=zv,P=Fv,Q=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(S=u.onCaughtError),u.onRecoverableError!==void 0&&(P=u.onRecoverableError),u.formState!==void 0&&(Q=u.formState)),l=vw(i,1,!0,l,u??null,h,x,Q,y,S,P,Iw),l.context=ww(null),u=l.current,h=As(),h=el(h),x=ar(h),x.callback=null,ir(u,x,h),u=h,l.current.lanes=u,Jr(l,u),La(l),i[wa]=l.current,Rp(i),new am(l)},Cu.version="19.2.0",Cu}var Ow;function LC(){if(Ow)return Jp.exports;Ow=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jp.exports=OC(),Jp.exports}var VC=LC();const UC=Rx(VC);const zC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,a)=>a?a.toUpperCase():n.toLowerCase()),Lw=t=>{const e=FC(t);return e.charAt(0).toUpperCase()+e.slice(1)},$j=(...t)=>t.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim(),BC=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var $C={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qC=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:r="",children:o,iconNode:c,...d},m)=>T.createElement("svg",{ref:m,...$C,width:e,height:e,stroke:t,strokeWidth:a?Number(n)*24/Number(e):n,className:$j("lucide",r),...!o&&!BC(d)&&{"aria-hidden":"true"},...d},[...c.map(([f,g])=>T.createElement(f,g)),...Array.isArray(o)?o:[o]]));const oe=(t,e)=>{const n=T.forwardRef(({className:a,...r},o)=>T.createElement(qC,{ref:o,iconNode:e,className:$j(`lucide-${zC(Lw(t))}`,`lucide-${t}`,a),...r}));return n.displayName=Lw(t),n};const HC=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],_i=oe("activity",HC);const GC=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],QC=oe("arrow-down",GC);const YC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Wo=oe("arrow-right",YC);const KC=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],WC=oe("arrow-up",KC);const XC=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Xo=oe("award",XC);const JC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Dx=oe("bell",JC);const ZC=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],qj=oe("book-marked",ZC);const eE=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ti=oe("book-open",eE);const tE=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],nE=oe("book",tE);const sE=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Dl=oe("brain",sE);const aE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ks=oe("calendar",aE);const iE=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Dn=oe("chart-column",iE);const rE=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Bg=oe("chart-pie",rE);const lE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Rn=oe("check",lE);const oE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ga=oe("chevron-down",oE);const cE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],on=oe("chevron-right",cE);const uE=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Px=oe("chevron-left",uE);const dE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],qn=oe("circle-alert",dE);const hE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Jo=oe("circle-check-big",hE);const mE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ci=oe("circle-check",mE);const fE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Mx=oe("circle-question-mark",fE);const pE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],gE=oe("circle-x",pE);const xE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bE=oe("circle",xE);const yE=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],vE=oe("clipboard-check",yE);const wE=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Zt=oe("clock",wE);const NE=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Js=oe("copy",NE);const jE=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],SE=oe("credit-card",jE);const _E=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Qa=oe("crown",_E);const TE=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],dc=oe("download",TE);const CE=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],EE=oe("dumbbell",CE);const AE=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],kE=oe("ellipsis-vertical",AE);const IE=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Vw=oe("ellipsis",IE);const RE=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Hj=oe("external-link",RE);const DE=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],PE=oe("eye-off",DE);const ME=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ox=oe("eye",ME);const OE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],LE=oe("file-down",OE);const VE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],_n=oe("file-text",VE);const UE=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],pf=oe("flame",UE);const zE=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],gf=oe("folder-open",zE);const FE=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Gj=oe("funnel",FE);const BE=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],bs=oe("gavel",BE);const $E=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],xf=oe("git-branch",$E);const qE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],HE=oe("globe",qE);const GE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Lx=oe("grid-3x3",GE);const QE=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Vx=oe("grip-vertical",QE);const YE=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],KE=oe("hand",YE);const WE=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Qj=oe("hash",WE);const XE=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],JE=oe("heart",XE);const ZE=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Ya=oe("history",ZE);const eA=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],tA=oe("hourglass",eA);const nA=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],sA=oe("house",nA);const aA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Lm=oe("image",aA);const iA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],hc=oe("info",iA);const rA=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],Yj=oe("keyboard",rA);const lA=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Kj=oe("layers",lA);const oA=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],cA=oe("layout-grid",oA);const uA=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],$r=oe("lightbulb",uA);const dA=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],bf=oe("link-2",dA);const hA=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Ux=oe("list",hA);const mA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],qr=oe("loader-circle",mA);const fA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Uw=oe("lock-open",fA);const pA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],zu=oe("lock",pA);const gA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xA=oe("log-out",gA);const bA=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Wj=oe("mail",bA);const yA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mc=oe("map-pin",yA);const vA=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Xj=oe("maximize-2",vA);const wA=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Xu=oe("medal",wA);const NA=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],$n=oe("message-square",NA);const jA=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],SA=oe("mic-off",jA);const _A=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Ws=oe("mic",_A);const TA=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],CA=oe("minimize-2",TA);const EA=[["path",{d:"M5 12h14",key:"1ays0h"}]],fc=oe("minus",EA);const AA=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],kA=oe("mouse-pointer",AA);const IA=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],RA=oe("notebook-pen",IA);const DA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],PA=oe("panels-top-left",DA);const MA=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],OA=oe("paperclip",MA);const LA=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],xd=oe("pause",LA);const VA=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],$l=oe("pen-line",VA);const UA=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],zA=oe("pen-tool",UA);const FA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],BA=oe("pen",FA);const $A=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Jj=oe("phone",$A);const qA=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],Zj=oe("plane",qA);const HA=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Ei=oe("play",HA);const GA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ct=oe("plus",GA);const QA=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],e5=oe("printer",QA);const YA=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],KA=oe("quote",YA);const WA=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],t5=oe("radio",WA);const XA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ju=oe("refresh-cw",XA);const JA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ai=oe("rotate-ccw",JA);const ZA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],yf=oe("save",ZA);const ek=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],vf=oe("scale",ek);const tk=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],nk=oe("scroll-text",tk);const sk=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ki=oe("search",sk);const ak=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],bd=oe("send",ak);const ik=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],rk=oe("settings-2",ik);const lk=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hr=oe("settings",lk);const ok=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ck=oe("shield-check",ok);const uk=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ii=oe("shield",uk);const dk=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],n5=oe("shuffle",dk);const hk=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ys=oe("sparkles",hk);const mk=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],s5=oe("square-check-big",mk);const fk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],a5=oe("square",fk);const pk=[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],$g=oe("star-off",pk);const gk=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ln=oe("star",gk);const xk=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],i5=oe("sticky-note",xk);const bk=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],yk=oe("sword",bk);const vk=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],wk=oe("swords",vk);const Nk=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],wf=oe("tag",Nk);const jk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Bt=oe("target",jk);const Sk=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],_k=oe("thumbs-down",Sk);const Tk=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Ck=oe("thumbs-up",Tk);const Ek=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Nf=oe("timer",Ek);const Ak=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Gn=oe("trash-2",Ak);const kk=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Zo=oe("trending-down",kk);const Ik=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ka=oe("trending-up",Ik);const Rk=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Er=oe("triangle-alert",Rk);const Dk=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Gt=oe("trophy",Dk);const Pk=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],yd=oe("upload",Pk);const Mk=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ok=oe("user-check",Mk);const Lk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Vk=oe("user-minus",Lk);const Uk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Vm=oe("user-plus",Uk);const zk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Fk=oe("user-x",zk);const Bk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Pl=oe("user",Bk);const $k=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],qk=oe("users-round",$k);const Hk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Lt=oe("users",Hk);const Gk=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Qk=oe("video",Gk);const Yk=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],zx=oe("volume-2",Yk);const Kk=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],r5=oe("volume-x",Kk);const Wk=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Xk=oe("wand-sparkles",Wk);const Jk=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],Zk=oe("waves",Jk);const e3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],rn=oe("x",e3);const t3=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],n3=oe("zoom-in",t3);const s3=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Zu=oe("zap",s3);const a3=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],i3=oe("zoom-out",a3),r3=()=>{};var zw={};const l5=function(t){const e=[];let n=0;for(let a=0;a<t.length;a++){let r=t.charCodeAt(a);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&a+1<t.length&&(t.charCodeAt(a+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++a)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},l3=function(t){const e=[];let n=0,a=0;for(;n<t.length;){const r=t[n++];if(r<128)e[a++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[a++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],c=t[n++],d=t[n++],m=((r&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const o=t[n++],c=t[n++];e[a++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return e.join("")},o5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let r=0;r<t.length;r+=3){const o=t[r],c=r+1<t.length,d=c?t[r+1]:0,m=r+2<t.length,f=m?t[r+2]:0,g=o>>2,b=(o&3)<<4|d>>4;let v=(d&15)<<2|f>>6,w=f&63;m||(w=64,c||(v=64)),a.push(n[g],n[b],n[v],n[w])}return a.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(l5(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):l3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],d=r<t.length?n[t.charAt(r)]:0;++r;const f=r<t.length?n[t.charAt(r)]:64;++r;const b=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||d==null||f==null||b==null)throw new o3;const v=o<<2|d>>4;if(a.push(v),f!==64){const w=d<<4&240|f>>2;if(a.push(w),b!==64){const j=f<<6&192|b;a.push(j)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class o3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c3=function(t){const e=l5(t);return o5.encodeByteArray(e,!0)},Um=function(t){return c3(t).replace(/\./g,"")},c5=function(t){try{return o5.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function u3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const d3=()=>u3().__FIREBASE_DEFAULTS__,h3=()=>{if(typeof process>"u"||typeof zw>"u")return;const t=zw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},m3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&c5(t[1]);return e&&JSON.parse(e)},jf=()=>{try{return r3()||d3()||h3()||m3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},u5=t=>jf()?.emulatorHosts?.[t],f3=t=>{const e=u5(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},d5=()=>jf()?.config,h5=t=>jf()?.[`_${t}`];class p3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function pc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function m5(t){return(await fetch(t,{credentials:"include"})).ok}function g3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${a}`,aud:a,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Um(JSON.stringify(n)),Um(JSON.stringify(c)),""].join(".")}const Fu={};function x3(){const t={prod:[],emulator:[]};for(const e of Object.keys(Fu))Fu[e]?t.emulator.push(e):t.prod.push(e);return t}function b3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Fw=!1;function f5(t,e){if(typeof window>"u"||typeof document>"u"||!pc(window.location.host)||Fu[t]===e||Fu[t]||Fw)return;Fu[t]=e;function n(v){return`__firebase__banner__${v}`}const a="__firebase__banner",o=x3().prod.length>0;function c(){const v=document.getElementById(a);v&&v.remove()}function d(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function m(v,w){v.setAttribute("width","24"),v.setAttribute("id",w),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Fw=!0,c()},v}function g(v,w){v.setAttribute("id",w),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function b(){const v=b3(a),w=n("text"),j=document.getElementById(w)||document.createElement("span"),I=n("learnmore"),D=document.getElementById(I)||document.createElement("a"),L=n("preprendIcon"),R=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const $=v.element;d($),g(D,I);const q=f();m(R,L),$.append(R,j,D,q),document.body.appendChild($)}o?(j.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function ns(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ns())}function v3(){const t=jf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function w3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function N3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function j3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function S3(){const t=ns();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _3(){return!v3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T3(){try{return typeof indexedDB=="object"}catch{return!1}}function C3(){return new Promise((t,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(a);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(a),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(n){e(n)}})}const E3="FirebaseError";class Ui extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=E3,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vd.prototype.create)}}class vd{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],c=o?A3(o,a):"Error",d=`${this.serviceName}: ${c} (${r}).`;return new Ui(r,d,a)}}function A3(t,e){return t.replace(k3,(n,a)=>{const r=e[a];return r!=null?String(r):`<${a}?>`})}const k3=/\{\$([^}]+)}/g;function I3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ri(t,e){if(t===e)return!0;const n=Object.keys(t),a=Object.keys(e);for(const r of n){if(!a.includes(r))return!1;const o=t[r],c=e[r];if(Bw(o)&&Bw(c)){if(!Ri(o,c))return!1}else if(o!==c)return!1}for(const r of a)if(!n.includes(r))return!1;return!0}function Bw(t){return t!==null&&typeof t=="object"}function wd(t){const e=[];for(const[n,a]of Object.entries(t))Array.isArray(a)?a.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Pu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[r,o]=a.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Mu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function R3(t,e){const n=new D3(t,e);return n.subscribe.bind(n)}class D3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let r;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");P3(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:a},r.next===void 0&&(r.next=tg),r.error===void 0&&(r.error=tg),r.complete===void 0&&(r.complete=tg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function tg(){}function Nn(t){return t&&t._delegate?t._delegate:t}class Ml{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const El="[DEFAULT]";class M3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new p3;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&a.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(a)return null;throw r}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(L3(e))try{this.getOrInitializeService({instanceIdentifier:El})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});a.resolve(o)}catch{}}}}clearInstance(e=El){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=El){return this.instances.has(e)}getOptions(e=El){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);a===d&&c.resolve(r)}return r}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(a)??new Set;r.add(e),this.onInitCallbacks.set(a,r);const o=this.instances.get(a);return o&&e(o,a),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const r of a)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:O3(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=El){return this.component?this.component.multipleInstances?e:El:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O3(t){return t===El?void 0:t}function L3(t){return t.instantiationMode==="EAGER"}class V3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new M3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const U3={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},z3=lt.INFO,F3={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},B3=(t,e,...n)=>{if(e<t.logLevel)return;const a=new Date().toISOString(),r=F3[e];if(r)console[r](`[${a}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fx{constructor(e){this.name=e,this._logLevel=z3,this._logHandler=B3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const $3=(t,e)=>e.some(n=>t instanceof n);let $w,qw;function q3(){return $w||($w=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H3(){return qw||(qw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p5=new WeakMap,qg=new WeakMap,g5=new WeakMap,ng=new WeakMap,Bx=new WeakMap;function G3(t){const e=new Promise((n,a)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Ar(t.result)),r()},c=()=>{a(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&p5.set(n,t)}).catch(()=>{}),Bx.set(e,t),e}function Q3(t){if(qg.has(t))return;const e=new Promise((n,a)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),r()},c=()=>{a(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});qg.set(t,e)}let Hg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||g5.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ar(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Y3(t){Hg=t(Hg)}function K3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=t.call(sg(this),e,...n);return g5.set(a,e.sort?e.sort():[e]),Ar(a)}:H3().includes(t)?function(...e){return t.apply(sg(this),e),Ar(p5.get(this))}:function(...e){return Ar(t.apply(sg(this),e))}}function W3(t){return typeof t=="function"?K3(t):(t instanceof IDBTransaction&&Q3(t),$3(t,q3())?new Proxy(t,Hg):t)}function Ar(t){if(t instanceof IDBRequest)return G3(t);if(ng.has(t))return ng.get(t);const e=W3(t);return e!==t&&(ng.set(t,e),Bx.set(e,t)),e}const sg=t=>Bx.get(t);function X3(t,e,{blocked:n,upgrade:a,blocking:r,terminated:o}={}){const c=indexedDB.open(t,e),d=Ar(c);return a&&c.addEventListener("upgradeneeded",m=>{a(Ar(c.result),m.oldVersion,m.newVersion,Ar(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{o&&m.addEventListener("close",()=>o()),r&&m.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),d}const J3=["get","getKey","getAll","getAllKeys","count"],Z3=["put","add","delete","clear"],ag=new Map;function Hw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ag.get(e))return ag.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,r=Z3.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(r||J3.includes(n)))return;const o=async function(c,...d){const m=this.transaction(c,r?"readwrite":"readonly");let f=m.store;return a&&(f=f.index(d.shift())),(await Promise.all([f[n](...d),r&&m.done]))[0]};return ag.set(e,o),o}Y3(t=>({...t,get:(e,n,a)=>Hw(e,n)||t.get(e,n,a),has:(e,n)=>!!Hw(e,n)||t.has(e,n)}));class eI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tI(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function tI(t){return t.getComponent()?.type==="VERSION"}const Gg="@firebase/app",Gw="0.14.6";const Di=new Fx("@firebase/app"),nI="@firebase/app-compat",sI="@firebase/analytics-compat",aI="@firebase/analytics",iI="@firebase/app-check-compat",rI="@firebase/app-check",lI="@firebase/auth",oI="@firebase/auth-compat",cI="@firebase/database",uI="@firebase/data-connect",dI="@firebase/database-compat",hI="@firebase/functions",mI="@firebase/functions-compat",fI="@firebase/installations",pI="@firebase/installations-compat",gI="@firebase/messaging",xI="@firebase/messaging-compat",bI="@firebase/performance",yI="@firebase/performance-compat",vI="@firebase/remote-config",wI="@firebase/remote-config-compat",NI="@firebase/storage",jI="@firebase/storage-compat",SI="@firebase/firestore",_I="@firebase/ai",TI="@firebase/firestore-compat",CI="firebase",EI="12.6.0";const Qg="[DEFAULT]",AI={[Gg]:"fire-core",[nI]:"fire-core-compat",[aI]:"fire-analytics",[sI]:"fire-analytics-compat",[rI]:"fire-app-check",[iI]:"fire-app-check-compat",[lI]:"fire-auth",[oI]:"fire-auth-compat",[cI]:"fire-rtdb",[uI]:"fire-data-connect",[dI]:"fire-rtdb-compat",[hI]:"fire-fn",[mI]:"fire-fn-compat",[fI]:"fire-iid",[pI]:"fire-iid-compat",[gI]:"fire-fcm",[xI]:"fire-fcm-compat",[bI]:"fire-perf",[yI]:"fire-perf-compat",[vI]:"fire-rc",[wI]:"fire-rc-compat",[NI]:"fire-gcs",[jI]:"fire-gcs-compat",[SI]:"fire-fst",[TI]:"fire-fst-compat",[_I]:"fire-vertex","fire-js":"fire-js",[CI]:"fire-js-all"};const zm=new Map,kI=new Map,Yg=new Map;function Qw(t,e){try{t.container.addComponent(e)}catch(n){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ec(t){const e=t.name;if(Yg.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;Yg.set(e,t);for(const n of zm.values())Qw(n,t);for(const n of kI.values())Qw(n,t);return!0}function $x(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Is(t){return t==null?!1:t.settings!==void 0}const II={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kr=new vd("app","Firebase",II);class RI{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ml("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}const gc=EI;function x5(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const a={name:Qg,automaticDataCollectionEnabled:!0,...e},r=a.name;if(typeof r!="string"||!r)throw kr.create("bad-app-name",{appName:String(r)});if(n||(n=d5()),!n)throw kr.create("no-options");const o=zm.get(r);if(o){if(Ri(n,o.options)&&Ri(a,o.config))return o;throw kr.create("duplicate-app",{appName:r})}const c=new V3(r);for(const m of Yg.values())c.addComponent(m);const d=new RI(n,a,c);return zm.set(r,d),d}function b5(t=Qg){const e=zm.get(t);if(!e&&t===Qg&&d5())return x5();if(!e)throw kr.create("no-app",{appName:t});return e}function Ir(t,e,n){let a=AI[t]??t;n&&(a+=`-${n}`);const r=a.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const c=[`Unable to register library "${a}" with version "${e}":`];r&&c.push(`library name "${a}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(c.join(" "));return}ec(new Ml(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const DI="firebase-heartbeat-database",PI=1,ed="firebase-heartbeat-store";let ig=null;function y5(){return ig||(ig=X3(DI,PI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ed)}catch(n){console.warn(n)}}}}).catch(t=>{throw kr.create("idb-open",{originalErrorMessage:t.message})})),ig}async function MI(t){try{const n=(await y5()).transaction(ed),a=await n.objectStore(ed).get(v5(t));return await n.done,a}catch(e){if(e instanceof Ui)Di.warn(e.message);else{const n=kr.create("idb-get",{originalErrorMessage:e?.message});Di.warn(n.message)}}}async function Yw(t,e){try{const a=(await y5()).transaction(ed,"readwrite");await a.objectStore(ed).put(e,v5(t)),await a.done}catch(n){if(n instanceof Ui)Di.warn(n.message);else{const a=kr.create("idb-set",{originalErrorMessage:n?.message});Di.warn(a.message)}}}function v5(t){return`${t.name}!${t.options.appId}`}const OI=1024,LI=30;class VI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zI(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Kw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(r=>r.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>LI){const r=FI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Di.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Kw(),{heartbeatsToSend:n,unsentEntries:a}=UI(this._heartbeatsCache.heartbeats),r=Um(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Di.warn(e),""}}}function Kw(){return new Date().toISOString().substring(0,10)}function UI(t,e=OI){const n=[];let a=t.slice();for(const r of t){const o=n.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),Ww(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Ww(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class zI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T3()?C3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await MI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Yw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Yw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Ww(t){return Um(JSON.stringify({version:2,heartbeats:t})).length}function FI(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let a=1;a<t.length;a++)t[a].date<n&&(n=t[a].date,e=a);return e}function BI(t){ec(new Ml("platform-logger",e=>new eI(e),"PRIVATE")),ec(new Ml("heartbeat",e=>new VI(e),"PRIVATE")),Ir(Gg,Gw,t),Ir(Gg,Gw,"esm2020"),Ir("fire-js","")}BI("");var $I="firebase",qI="12.6.0";Ir($I,qI,"app");function w5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HI=w5,N5=new vd("auth","Firebase",w5());const Fm=new Fx("@firebase/auth");function GI(t,...e){Fm.logLevel<=lt.WARN&&Fm.warn(`Auth (${gc}): ${t}`,...e)}function jm(t,...e){Fm.logLevel<=lt.ERROR&&Fm.error(`Auth (${gc}): ${t}`,...e)}function Zs(t,...e){throw Hx(t,...e)}function fa(t,...e){return Hx(t,...e)}function qx(t,e,n){const a={...HI(),[e]:n};return new vd("auth","Firebase",a).create(e,{appName:t.name})}function Ni(t){return qx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QI(t,e,n){const a=n;if(!(e instanceof a))throw a.name!==e.constructor.name&&Zs(t,"argument-error"),qx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hx(t,...e){if(typeof t!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=t.name),t._errorFactory.create(n,...a)}return N5.create(t,...e)}function $e(t,e,...n){if(!t)throw Hx(e,...n)}function vi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jm(e),new Error(e)}function Pi(t,e){t||vi(e)}function Kg(){return typeof self<"u"&&self.location?.href||""}function YI(){return Xw()==="http:"||Xw()==="https:"}function Xw(){return typeof self<"u"&&self.location?.protocol||null}function KI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YI()||N3()||"connection"in navigator)?navigator.onLine:!0}function WI(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Nd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pi(n>e,"Short delay should be less than long delay!"),this.isMobile=y3()||j3()}get(){return KI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gx(t,e){Pi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class j5{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const XI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const JI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZI=new Nd(3e4,6e4);function zi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fi(t,e,n,a,r={}){return S5(t,r,async()=>{let o={},c={};a&&(e==="GET"?c=a:o={body:JSON.stringify(a)});const d=wd({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:m,...o};return w3()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&pc(t.emulatorConfig.host)&&(f.credentials="include"),j5.fetch()(await _5(t,t.config.apiHost,n,d),f)})}async function S5(t,e,n){t._canInitEmulator=!1;const a={...XI,...e};try{const r=new tR(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw rm(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[m,f]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw rm(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw rm(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw rm(t,"user-disabled",c);const g=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw qx(t,g,f);Zs(t,g)}}catch(r){if(r instanceof Ui)throw r;Zs(t,"network-request-failed",{message:String(r)})}}async function jd(t,e,n,a,r={}){const o=await Fi(t,e,n,a,r);return"mfaPendingCredential"in o&&Zs(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function _5(t,e,n,a){const r=`${e}${n}?${a}`,o=t,c=o.config.emulator?Gx(t.config,r):`${t.config.apiScheme}://${r}`;return JI.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function eR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(fa(this.auth,"network-request-failed")),ZI.get())})}}function rm(t,e,n){const a={appName:t.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const r=fa(t,e,a);return r.customData._tokenResponse=n,r}function Jw(t){return t!==void 0&&t.enterprise!==void 0}class nR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return eR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sR(t,e){return Fi(t,"GET","/v2/recaptchaConfig",zi(t,e))}async function aR(t,e){return Fi(t,"POST","/v1/accounts:delete",e)}async function Bm(t,e){return Fi(t,"POST","/v1/accounts:lookup",e)}function Bu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iR(t,e=!1){const n=Nn(t),a=await n.getIdToken(e),r=Qx(a);$e(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:a,authTime:Bu(rg(r.auth_time)),issuedAtTime:Bu(rg(r.iat)),expirationTime:Bu(rg(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function rg(t){return Number(t)*1e3}function Qx(t){const[e,n,a]=t.split(".");if(e===void 0||n===void 0||a===void 0)return jm("JWT malformed, contained fewer than 3 sections"),null;try{const r=c5(n);return r?JSON.parse(r):(jm("Failed to decode base64 JWT payload"),null)}catch(r){return jm("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Zw(t){const e=Qx(t);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function td(t,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Ui&&rR(a)&&t.auth.currentUser===t&&await t.auth.signOut(),a}}function rR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class lR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Wg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bu(this.lastLoginAt),this.creationTime=Bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $m(t){const e=t.auth,n=await t.getIdToken(),a=await td(t,Bm(e,{idToken:n}));$e(a?.users.length,e,"internal-error");const r=a.users[0];t._notifyReloadListener(r);const o=r.providerUserInfo?.length?T5(r.providerUserInfo):[],c=cR(t.providerData,o),d=t.isAnonymous,m=!(t.email&&r.passwordHash)&&!c?.length,f=d?m:!1,g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new Wg(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(t,g)}async function oR(t){const e=Nn(t);await $m(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cR(t,e){return[...t.filter(a=>!e.some(r=>r.providerId===a.providerId)),...e]}function T5(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function uR(t,e){const n=await S5(t,{},async()=>{const a=wd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,c=await _5(t,r,"/v1/token",`key=${o}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:a};return t.emulatorConfig&&pc(t.emulatorConfig.host)&&(m.credentials="include"),j5.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dR(t,e){return Fi(t,"POST","/v2/accounts:revokeToken",zi(t,e))}class Ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const n=Zw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:r,expiresIn:o}=await uR(e,n);this.updateTokensAndExpiration(a,r,Number(o))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:r,expirationTime:o}=n,c=new Ho;return a&&($e(typeof a=="string","internal-error",{appName:e}),c.refreshToken=a),r&&($e(typeof r=="string","internal-error",{appName:e}),c.accessToken=r),o&&($e(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ho,this.toJSON())}_performRefresh(){return vi("not implemented")}}function wr(t,e){$e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ma{constructor({uid:e,auth:n,stsTokenManager:a,...r}){this.providerId="firebase",this.proactiveRefresh=new lR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Wg(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await td(this,this.stsTokenManager.getToken(this.auth,e));return $e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return iR(this,e)}reload(){return oR(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ma({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await $m(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Is(this.auth.app))return Promise.reject(Ni(this.auth));const e=await this.getIdToken();return await td(this,aR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,r=n.email??void 0,o=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,f=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:b,emailVerified:v,isAnonymous:w,providerData:j,stsTokenManager:I}=n;$e(b&&I,e,"internal-error");const D=Ho.fromJSON(this.name,I);$e(typeof b=="string",e,"internal-error"),wr(a,e.name),wr(r,e.name),$e(typeof v=="boolean",e,"internal-error"),$e(typeof w=="boolean",e,"internal-error"),wr(o,e.name),wr(c,e.name),wr(d,e.name),wr(m,e.name),wr(f,e.name),wr(g,e.name);const L=new ma({uid:b,auth:e,email:r,emailVerified:v,displayName:a,isAnonymous:w,photoURL:c,phoneNumber:o,tenantId:d,stsTokenManager:D,createdAt:f,lastLoginAt:g});return j&&Array.isArray(j)&&(L.providerData=j.map(R=>({...R}))),m&&(L._redirectEventId=m),L}static async _fromIdTokenResponse(e,n,a=!1){const r=new Ho;r.updateFromServerResponse(n);const o=new ma({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:a});return await $m(o),o}static async _fromGetAccountInfoResponse(e,n,a){const r=n.users[0];$e(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?T5(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,d=new Ho;d.updateFromIdToken(a);const m=new ma({uid:r.localId,auth:e,stsTokenManager:d,isAnonymous:c}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Wg(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(m,f),m}}const e2=new Map;function wi(t){Pi(t instanceof Function,"Expected a class definition");let e=e2.get(t);return e?(Pi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,e2.set(t,e),e)}class C5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}C5.type="NONE";const t2=C5;function Sm(t,e,n){return`firebase:${t}:${e}:${n}`}class Go{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:r,name:o}=this.auth;this.fullUserKey=Sm(this.userKey,r.apiKey,o),this.fullPersistenceKey=Sm("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bm(this.auth,{idToken:e}).catch(()=>{});return n?ma._fromGetAccountInfoResponse(this.auth,n,e):null}return ma._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Go(wi(t2),e,a);const r=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||wi(t2);const c=Sm(a,e.config.apiKey,e.name);let d=null;for(const f of n)try{const g=await f._get(c);if(g){let b;if(typeof g=="string"){const v=await Bm(e,{idToken:g}).catch(()=>{});if(!v)break;b=await ma._fromGetAccountInfoResponse(e,v,g)}else b=ma._fromJSON(e,g);f!==o&&(d=b),o=f;break}}catch{}const m=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!m.length?new Go(o,e,a):(o=m[0],d&&await o._set(c,d.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(c)}catch{}})),new Go(o,e,a))}}function n2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(E5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(D5(e))return"Blackberry";if(P5(e))return"Webos";if(A5(e))return"Safari";if((e.includes("chrome/")||k5(e))&&!e.includes("edge/"))return"Chrome";if(R5(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=t.match(n);if(a?.length===2)return a[1]}return"Other"}function E5(t=ns()){return/firefox\//i.test(t)}function A5(t=ns()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function k5(t=ns()){return/crios\//i.test(t)}function I5(t=ns()){return/iemobile/i.test(t)}function R5(t=ns()){return/android/i.test(t)}function D5(t=ns()){return/blackberry/i.test(t)}function P5(t=ns()){return/webos/i.test(t)}function Yx(t=ns()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hR(t=ns()){return Yx(t)&&!!window.navigator?.standalone}function mR(){return S3()&&document.documentMode===10}function M5(t=ns()){return Yx(t)||R5(t)||P5(t)||D5(t)||/windows phone/i.test(t)||I5(t)}function O5(t,e=[]){let n;switch(t){case"Browser":n=n2(ns());break;case"Worker":n=`${n2(ns())}-${t}`;break;default:n=t}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gc}/${a}`}class fR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=o=>new Promise((c,d)=>{try{const m=e(o);c(m)}catch(m){d(m)}});a.onAbort=n,this.queue.push(a);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function pR(t,e={}){return Fi(t,"GET","/v2/passwordPolicy",zi(t,e))}const gR=6;class xR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??gR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let r=0;r<e.length;r++)a=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class bR{constructor(e,n,a,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new s2(this),this.idTokenSubscription=new s2(this),this.beforeStateQueue=new fR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Go.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bm(this,{idToken:e}),a=await ma._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Is(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=a?._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&d?.user&&(a=d.user,r=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(a)}catch(o){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $m(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Is(this.app))return Promise.reject(Ni(this));const n=e?Nn(e):null;return n&&$e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Is(this.app)?Promise.reject(Ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Is(this.app)?Promise.reject(Ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pR(this),n=new xR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vd("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await dR(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wi(e)||this._popupRedirectResolver;$e(n,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,a,r);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=O5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Is(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&GI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Gr(t){return Nn(t)}class s2{constructor(e){this.auth=e,this.observer=null,this.addObserver=R3(n=>this.observer=n)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yR(t){Sf=t}function L5(t){return Sf.loadJS(t)}function vR(){return Sf.recaptchaEnterpriseScript}function wR(){return Sf.gapiScript}function NR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class jR{constructor(){this.enterprise=new SR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class SR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const _R="recaptcha-enterprise",V5="NO_RECAPTCHA";class TR{constructor(e){this.type=_R,this.auth=Gr(e)}async verify(e="verify",n=!1){async function a(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,d)=>{sR(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const f=new nR(m);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,c(f.siteKey)}}).catch(m=>{d(m)})})}function r(o,c,d){const m=window.grecaptcha;Jw(m)?m.enterprise.ready(()=>{m.enterprise.execute(o,{action:e}).then(f=>{c(f)}).catch(()=>{c(V5)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jR().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{a(this.auth).then(d=>{if(!n&&Jw(window.grecaptcha))r(d,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=vR();m.length!==0&&(m+=d),L5(m).then(()=>{r(d,o,c)}).catch(f=>{c(f)})}}).catch(d=>{c(d)})})}}async function a2(t,e,n,a=!1,r=!1){const o=new TR(t);let c;if(r)c=V5;else try{c=await o.verify(n)}catch{c=await o.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,f=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return a?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Xg(t,e,n,a,r){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await a2(t,e,n,n==="getOobCode");return a(t,o)}else return a(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await a2(t,e,n,n==="getOobCode");return a(t,c)}else return Promise.reject(o)})}function CR(t,e){const n=$x(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(Ri(o,e??{}))return r;Zs(r,"already-initialized")}return n.initialize({options:e})}function ER(t,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(wi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(a,e?.popupRedirectResolver)}function AR(t,e,n){const a=Gr(t);$e(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const r=!1,o=U5(e),{host:c,port:d}=kR(e),m=d===null?"":`:${d}`,f={url:`${o}//${c}${m}/`},g=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!a._canInitEmulator){$e(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),$e(Ri(f,a.config.emulator)&&Ri(g,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=f,a.emulatorConfig=g,a.settings.appVerificationDisabledForTesting=!0,pc(c)?(m5(`${o}//${c}${m}`),f5("Auth",!0)):IR()}function U5(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kR(t){const e=U5(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(a);if(r){const o=r[1];return{host:o,port:i2(a.substr(o.length+1))}}else{const[o,c]=a.split(":");return{host:o,port:i2(c)}}}function i2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function IR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Kx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vi("not implemented")}_getIdTokenResponse(e){return vi("not implemented")}_linkToIdToken(e,n){return vi("not implemented")}_getReauthenticationResolver(e){return vi("not implemented")}}async function RR(t,e){return Fi(t,"POST","/v1/accounts:signUp",e)}async function DR(t,e){return jd(t,"POST","/v1/accounts:signInWithPassword",zi(t,e))}async function PR(t,e){return Fi(t,"POST","/v1/accounts:sendOobCode",zi(t,e))}async function MR(t,e){return PR(t,e)}async function OR(t,e){return jd(t,"POST","/v1/accounts:signInWithEmailLink",zi(t,e))}async function LR(t,e){return jd(t,"POST","/v1/accounts:signInWithEmailLink",zi(t,e))}class nd extends Kx{constructor(e,n,a,r=null){super("password",a),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new nd(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new nd(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xg(e,n,"signInWithPassword",DR);case"emailLink":return OR(e,{email:this._email,oobCode:this._password});default:Zs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xg(e,a,"signUpPassword",RR);case"emailLink":return LR(e,{idToken:n,email:this._email,oobCode:this._password});default:Zs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Qo(t,e){return jd(t,"POST","/v1/accounts:signInWithIdp",zi(t,e))}const VR="http://localhost";class Ol extends Kx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ol(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:r,...o}=n;if(!a||!r)return null;const c=new Ol(a,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Qo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Qo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qo(e,n)}buildRequest(){const e={requestUri:VR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wd(n)}return e}}function UR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zR(t){const e=Pu(Mu(t)).link,n=e?Pu(Mu(e)).deep_link_id:null,a=Pu(Mu(t)).deep_link_id;return(a?Pu(Mu(a)).link:null)||a||n||e||t}class Wx{constructor(e){const n=Pu(Mu(e)),a=n.apiKey??null,r=n.oobCode??null,o=UR(n.mode??null);$e(a&&r&&o,"argument-error"),this.apiKey=a,this.operation=o,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=zR(e);try{return new Wx(n)}catch{return null}}}class xc{constructor(){this.providerId=xc.PROVIDER_ID}static credential(e,n){return nd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=Wx.parseLink(n);return $e(a,"argument-error"),nd._fromEmailAndCode(e,a.code,a.tenantId)}}xc.PROVIDER_ID="password";xc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Xx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Sd extends Xx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Sr extends Sd{constructor(){super("facebook.com")}static credential(e){return Ol._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";class yi extends Sd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ol._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return yi.credential(n,a)}catch{return null}}}yi.GOOGLE_SIGN_IN_METHOD="google.com";yi.PROVIDER_ID="google.com";class _r extends Sd{constructor(){super("github.com")}static credential(e){return Ol._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.GITHUB_SIGN_IN_METHOD="github.com";_r.PROVIDER_ID="github.com";class Tr extends Sd{constructor(){super("twitter.com")}static credential(e,n){return Ol._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Tr.credential(n,a)}catch{return null}}}Tr.TWITTER_SIGN_IN_METHOD="twitter.com";Tr.PROVIDER_ID="twitter.com";async function FR(t,e){return jd(t,"POST","/v1/accounts:signUp",zi(t,e))}class Ll{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,r=!1){const o=await ma._fromIdTokenResponse(e,a,r),c=r2(a);return new Ll({user:o,providerId:c,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const r=r2(a);return new Ll({user:e,providerId:r,_tokenResponse:a,operationType:n})}}function r2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class qm extends Ui{constructor(e,n,a,r){super(n.code,n.message),this.operationType=a,this.user=r,Object.setPrototypeOf(this,qm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,r){return new qm(e,n,a,r)}}function z5(t,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?qm._fromErrorAndOperation(t,o,e,a):o})}async function BR(t,e,n=!1){const a=await td(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ll._forOperation(t,"link",a)}async function $R(t,e,n=!1){const{auth:a}=t;if(Is(a.app))return Promise.reject(Ni(a));const r="reauthenticate";try{const o=await td(t,z5(a,r,e,t),n);$e(o.idToken,a,"internal-error");const c=Qx(o.idToken);$e(c,a,"internal-error");const{sub:d}=c;return $e(t.uid===d,a,"user-mismatch"),Ll._forOperation(t,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Zs(a,"user-mismatch"),o}}async function F5(t,e,n=!1){if(Is(t.app))return Promise.reject(Ni(t));const a="signIn",r=await z5(t,a,e),o=await Ll._fromIdTokenResponse(t,a,r);return n||await t._updateCurrentUser(o.user),o}async function qR(t,e){return F5(Gr(t),e)}async function B5(t){const e=Gr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HR(t,e,n){if(Is(t.app))return Promise.reject(Ni(t));const a=Gr(t),c=await Xg(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FR).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&B5(t),m}),d=await Ll._fromIdTokenResponse(a,"signIn",c);return await a._updateCurrentUser(d.user),d}function GR(t,e,n){return Is(t.app)?Promise.reject(Ni(t)):qR(Nn(t),xc.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&B5(t),a})}async function QR(t,e){const n=Nn(t),r={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:o}=await MR(n.auth,r);o!==t.email&&await t.reload()}function YR(t,e,n,a){return Nn(t).onIdTokenChanged(e,n,a)}function KR(t,e,n){return Nn(t).beforeAuthStateChanged(e,n)}function WR(t,e,n,a){return Nn(t).onAuthStateChanged(e,n,a)}function XR(t){return Nn(t).signOut()}const Hm="__sak";class $5{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hm,"1"),this.storage.removeItem(Hm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const JR=1e3,ZR=10;class q5 extends $5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=M5(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),r=this.localCache[n];a!==r&&e(n,r,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const a=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(a);!n&&this.localCache[a]===c||this.notifyListeners(a,c)},o=this.storage.getItem(a);mR()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,ZR):r()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const r of Array.from(a))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},JR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}q5.type="LOCAL";const e6=q5;class H5 extends $5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}H5.type="SESSION";const G5=H5;function t6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class _f{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const a=new _f(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:r,data:o}=n.data,c=this.handlersMap[r];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:r});const d=Array.from(c).map(async f=>f(n.origin,o)),m=await t6(d);n.ports[0].postMessage({status:"done",eventId:a,eventType:r,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_f.receivers=[];function Jx(t="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return t+n}class n6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((d,m)=>{const f=Jx("",20);r.port1.start();const g=setTimeout(()=>{m(new Error("unsupported_event"))},a);c={messageChannel:r,onMessage(b){const v=b;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(v.data.response);break;default:clearTimeout(g),clearTimeout(o),m(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function za(){return window}function s6(t){za().location.href=t}function Q5(){return typeof za().WorkerGlobalScope<"u"&&typeof za().importScripts=="function"}async function a6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function i6(){return navigator?.serviceWorker?.controller||null}function r6(){return Q5()?self:null}const Y5="firebaseLocalStorageDb",l6=1,Gm="firebaseLocalStorage",K5="fbase_key";class _d{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tf(t,e){return t.transaction([Gm],e?"readwrite":"readonly").objectStore(Gm)}function o6(){const t=indexedDB.deleteDatabase(Y5);return new _d(t).toPromise()}function Jg(){const t=indexedDB.open(Y5,l6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const a=t.result;try{a.createObjectStore(Gm,{keyPath:K5})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const a=t.result;a.objectStoreNames.contains(Gm)?e(a):(a.close(),await o6(),e(await Jg()))})})}async function l2(t,e,n){const a=Tf(t,!0).put({[K5]:e,value:n});return new _d(a).toPromise()}async function c6(t,e){const n=Tf(t,!1).get(e),a=await new _d(n).toPromise();return a===void 0?null:a.value}function o2(t,e){const n=Tf(t,!0).delete(e);return new _d(n).toPromise()}const u6=800,d6=3;class W5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>d6)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Q5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_f._getInstance(r6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await a6(),!this.activeServiceWorker)return;this.sender=new n6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||i6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jg();return await l2(e,Hm,"1"),await o2(e,Hm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>l2(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>c6(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>o2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=Tf(r,!1).getAll();return new _d(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)a.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!a.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const r of Array.from(a))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),u6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}W5.type="LOCAL";const h6=W5;new Nd(3e4,6e4);function X5(t,e){return e?wi(e):($e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Zx extends Kx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function m6(t){return F5(t.auth,new Zx(t),t.bypassAuthState)}function f6(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),$R(n,new Zx(t),t.bypassAuthState)}async function p6(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),BR(n,new Zx(t),t.bypassAuthState)}class J5{constructor(e,n,a,r,o=!1){this.auth=e,this.resolver=a,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:r,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:a,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return m6;case"linkViaPopup":case"linkViaRedirect":return p6;case"reauthViaPopup":case"reauthViaRedirect":return f6;default:Zs(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const g6=new Nd(2e3,1e4);async function x6(t,e,n){if(Is(t.app))return Promise.reject(fa(t,"operation-not-supported-in-this-environment"));const a=Gr(t);QI(t,e,Xx);const r=X5(a,n);return new Al(a,"signInViaPopup",e,r).executeNotNull()}class Al extends J5{constructor(e,n,a,r,o){super(e,n,r,o),this.provider=a,this.authWindow=null,this.pollId=null,Al.currentPopupAction&&Al.currentPopupAction.cancel(),Al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){Pi(this.filter.length===1,"Popup operations only handle one event");const e=Jx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(fa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Al.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,g6.get())};e()}}Al.currentPopupAction=null;const b6="pendingRedirect",_m=new Map;class y6 extends J5{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=_m.get(this.auth._key());if(!e){try{const a=await v6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}_m.set(this.auth._key(),e)}return this.bypassAuthState||_m.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v6(t,e){const n=j6(e),a=N6(t);if(!await a._isAvailable())return!1;const r=await a._get(n)==="true";return await a._remove(n),r}function w6(t,e){_m.set(t._key(),e)}function N6(t){return wi(t._redirectPersistence)}function j6(t){return Sm(b6,t.config.apiKey,t.name)}async function S6(t,e,n=!1){if(Is(t.app))return Promise.reject(Ni(t));const a=Gr(t),r=X5(a,e),c=await new y6(a,r,n).execute();return c&&!n&&(delete c.user._redirectEventId,await a._persistUserIfCurrent(c.user),await a._setRedirectUser(null,e)),c}const _6=600*1e3;class T6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!C6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Z5(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(fa(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_6&&this.cachedEventUids.clear(),this.cachedEventUids.has(c2(e))}saveEventToCache(e){this.cachedEventUids.add(c2(e)),this.lastProcessedEventTime=Date.now()}}function c2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Z5({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function C6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z5(t);default:return!1}}async function E6(t,e={}){return Fi(t,"GET","/v1/projects",e)}const A6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,k6=/^https?/;async function I6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await E6(t);for(const n of e)try{if(R6(n))return}catch{}Zs(t,"unauthorized-domain")}function R6(t){const e=Kg(),{protocol:n,hostname:a}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&a===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===a}if(!k6.test(n))return!1;if(A6.test(t))return a===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(a)}const D6=new Nd(3e4,6e4);function u2(){const t=za().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function P6(t){return new Promise((e,n)=>{function a(){u2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{u2(),n(fa(t,"network-request-failed"))},timeout:D6.get()})}if(za().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(za().gapi?.load)a();else{const r=NR("iframefcb");return za()[r]=()=>{gapi.load?a():n(fa(t,"network-request-failed"))},L5(`${wR()}?onload=${r}`).catch(o=>n(o))}}).catch(e=>{throw Tm=null,e})}let Tm=null;function M6(t){return Tm=Tm||P6(t),Tm}const O6=new Nd(5e3,15e3),L6="__/auth/iframe",V6="emulator/auth/iframe",U6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F6(t){const e=t.config;$e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gx(e,V6):`https://${t.config.authDomain}/${L6}`,a={apiKey:e.apiKey,appName:t.name,v:gc},r=z6.get(t.config.apiHost);r&&(a.eid=r);const o=t._getFrameworks();return o.length&&(a.fw=o.join(",")),`${n}?${wd(a).slice(1)}`}async function B6(t){const e=await M6(t),n=za().gapi;return $e(n,t,"internal-error"),e.open({where:document.body,url:F6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:U6,dontclear:!0},a=>new Promise(async(r,o)=>{await a.restyle({setHideOnLeave:!1});const c=fa(t,"network-request-failed"),d=za().setTimeout(()=>{o(c)},O6.get());function m(){za().clearTimeout(d),r(a)}a.ping(m).then(m,()=>{o(c)})}))}const $6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},q6=500,H6=600,G6="_blank",Q6="http://localhost";class d2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Y6(t,e,n,a=q6,r=H6){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const m={...$6,width:a.toString(),height:r.toString(),top:o,left:c},f=ns().toLowerCase();n&&(d=k5(f)?G6:n),E5(f)&&(e=e||Q6,m.scrollbars="yes");const g=Object.entries(m).reduce((v,[w,j])=>`${v}${w}=${j},`,"");if(hR(f)&&d!=="_self")return K6(e||"",d),new d2(null);const b=window.open(e||"",d,g);$e(b,t,"popup-blocked");try{b.focus()}catch{}return new d2(b)}function K6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const W6="__/auth/handler",X6="emulator/auth/handler",J6=encodeURIComponent("fac");async function h2(t,e,n,a,r,o){$e(t.config.authDomain,t,"auth-domain-config-required"),$e(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:a,v:gc,eventId:r};if(e instanceof Xx){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",I3(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,b]of Object.entries({}))c[g]=b}if(e instanceof Sd){const g=e.getScopes().filter(b=>b!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const m=await t._getAppCheckToken(),f=m?`#${J6}=${encodeURIComponent(m)}`:"";return`${Z6(t)}?${wd(d).slice(1)}${f}`}function Z6({config:t}){return t.emulator?Gx(t,X6):`https://${t.authDomain}/${W6}`}const lg="webStorageSupport";class eD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G5,this._completeRedirectFn=S6,this._overrideRedirectResult=w6}async _openPopup(e,n,a,r){Pi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await h2(e,n,a,Kg(),r);return Y6(e,o,Jx())}async _openRedirect(e,n,a,r){await this._originValidation(e);const o=await h2(e,n,a,Kg(),r);return s6(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(Pi(o,"If manager is not set, promise should be"),o)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await B6(e),a=new T6(e);return n.register("authEvent",r=>($e(r?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lg,{type:lg},r=>{const o=r?.[0]?.[lg];o!==void 0&&n(!!o),Zs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=I6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return M5()||A5()||Yx()}}const tD=eD;var m2="@firebase/auth",f2="1.11.1";class nD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function sD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aD(t){ec(new Ml("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=a.options;$e(c&&!c.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O5(t)},f=new bR(a,r,o,m);return ER(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),ec(new Ml("auth-internal",e=>{const n=Gr(e.getProvider("auth").getImmediate());return(a=>new nD(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(m2,f2,sD(t)),Ir(m2,f2,"esm2020")}const iD=300,rD=h5("authIdTokenMaxAge")||iD;let p2=null;const lD=t=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>rD)return;const r=n?.token;p2!==r&&(p2=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function oD(t=b5()){const e=$x(t,"auth");if(e.isInitialized())return e.getImmediate();const n=CR(t,{popupRedirectResolver:tD,persistence:[h6,e6,G5]}),a=h5("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(a,location.origin);if(location.origin===o.origin){const c=lD(o.toString());KR(n,c,()=>c(n.currentUser)),YR(n,d=>c(d))}}const r=u5("auth");return r&&AR(n,`http://${r}`),n}function cD(){return document.getElementsByTagName("head")?.[0]??document}yR({loadJS(t){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",t),a.onload=e,a.onerror=r=>{const o=fa("internal-error");o.customData=r,n(o)},a.type="text/javascript",a.charset="UTF-8",cD().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aD("Browser");var g2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Rr,e4;(function(){var t;function e(k,A){function O(){}O.prototype=A.prototype,k.F=A.prototype,k.prototype=new O,k.prototype.constructor=k,k.D=function(C,M,z){for(var E=Array(arguments.length-2),J=2;J<arguments.length;J++)E[J-2]=arguments[J];return A.prototype[M].apply(C,E)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(k,A,O){O||(O=0);const C=Array(16);if(typeof A=="string")for(var M=0;M<16;++M)C[M]=A.charCodeAt(O++)|A.charCodeAt(O++)<<8|A.charCodeAt(O++)<<16|A.charCodeAt(O++)<<24;else for(M=0;M<16;++M)C[M]=A[O++]|A[O++]<<8|A[O++]<<16|A[O++]<<24;A=k.g[0],O=k.g[1],M=k.g[2];let z=k.g[3],E;E=A+(z^O&(M^z))+C[0]+3614090360&4294967295,A=O+(E<<7&4294967295|E>>>25),E=z+(M^A&(O^M))+C[1]+3905402710&4294967295,z=A+(E<<12&4294967295|E>>>20),E=M+(O^z&(A^O))+C[2]+606105819&4294967295,M=z+(E<<17&4294967295|E>>>15),E=O+(A^M&(z^A))+C[3]+3250441966&4294967295,O=M+(E<<22&4294967295|E>>>10),E=A+(z^O&(M^z))+C[4]+4118548399&4294967295,A=O+(E<<7&4294967295|E>>>25),E=z+(M^A&(O^M))+C[5]+1200080426&4294967295,z=A+(E<<12&4294967295|E>>>20),E=M+(O^z&(A^O))+C[6]+2821735955&4294967295,M=z+(E<<17&4294967295|E>>>15),E=O+(A^M&(z^A))+C[7]+4249261313&4294967295,O=M+(E<<22&4294967295|E>>>10),E=A+(z^O&(M^z))+C[8]+1770035416&4294967295,A=O+(E<<7&4294967295|E>>>25),E=z+(M^A&(O^M))+C[9]+2336552879&4294967295,z=A+(E<<12&4294967295|E>>>20),E=M+(O^z&(A^O))+C[10]+4294925233&4294967295,M=z+(E<<17&4294967295|E>>>15),E=O+(A^M&(z^A))+C[11]+2304563134&4294967295,O=M+(E<<22&4294967295|E>>>10),E=A+(z^O&(M^z))+C[12]+1804603682&4294967295,A=O+(E<<7&4294967295|E>>>25),E=z+(M^A&(O^M))+C[13]+4254626195&4294967295,z=A+(E<<12&4294967295|E>>>20),E=M+(O^z&(A^O))+C[14]+2792965006&4294967295,M=z+(E<<17&4294967295|E>>>15),E=O+(A^M&(z^A))+C[15]+1236535329&4294967295,O=M+(E<<22&4294967295|E>>>10),E=A+(M^z&(O^M))+C[1]+4129170786&4294967295,A=O+(E<<5&4294967295|E>>>27),E=z+(O^M&(A^O))+C[6]+3225465664&4294967295,z=A+(E<<9&4294967295|E>>>23),E=M+(A^O&(z^A))+C[11]+643717713&4294967295,M=z+(E<<14&4294967295|E>>>18),E=O+(z^A&(M^z))+C[0]+3921069994&4294967295,O=M+(E<<20&4294967295|E>>>12),E=A+(M^z&(O^M))+C[5]+3593408605&4294967295,A=O+(E<<5&4294967295|E>>>27),E=z+(O^M&(A^O))+C[10]+38016083&4294967295,z=A+(E<<9&4294967295|E>>>23),E=M+(A^O&(z^A))+C[15]+3634488961&4294967295,M=z+(E<<14&4294967295|E>>>18),E=O+(z^A&(M^z))+C[4]+3889429448&4294967295,O=M+(E<<20&4294967295|E>>>12),E=A+(M^z&(O^M))+C[9]+568446438&4294967295,A=O+(E<<5&4294967295|E>>>27),E=z+(O^M&(A^O))+C[14]+3275163606&4294967295,z=A+(E<<9&4294967295|E>>>23),E=M+(A^O&(z^A))+C[3]+4107603335&4294967295,M=z+(E<<14&4294967295|E>>>18),E=O+(z^A&(M^z))+C[8]+1163531501&4294967295,O=M+(E<<20&4294967295|E>>>12),E=A+(M^z&(O^M))+C[13]+2850285829&4294967295,A=O+(E<<5&4294967295|E>>>27),E=z+(O^M&(A^O))+C[2]+4243563512&4294967295,z=A+(E<<9&4294967295|E>>>23),E=M+(A^O&(z^A))+C[7]+1735328473&4294967295,M=z+(E<<14&4294967295|E>>>18),E=O+(z^A&(M^z))+C[12]+2368359562&4294967295,O=M+(E<<20&4294967295|E>>>12),E=A+(O^M^z)+C[5]+4294588738&4294967295,A=O+(E<<4&4294967295|E>>>28),E=z+(A^O^M)+C[8]+2272392833&4294967295,z=A+(E<<11&4294967295|E>>>21),E=M+(z^A^O)+C[11]+1839030562&4294967295,M=z+(E<<16&4294967295|E>>>16),E=O+(M^z^A)+C[14]+4259657740&4294967295,O=M+(E<<23&4294967295|E>>>9),E=A+(O^M^z)+C[1]+2763975236&4294967295,A=O+(E<<4&4294967295|E>>>28),E=z+(A^O^M)+C[4]+1272893353&4294967295,z=A+(E<<11&4294967295|E>>>21),E=M+(z^A^O)+C[7]+4139469664&4294967295,M=z+(E<<16&4294967295|E>>>16),E=O+(M^z^A)+C[10]+3200236656&4294967295,O=M+(E<<23&4294967295|E>>>9),E=A+(O^M^z)+C[13]+681279174&4294967295,A=O+(E<<4&4294967295|E>>>28),E=z+(A^O^M)+C[0]+3936430074&4294967295,z=A+(E<<11&4294967295|E>>>21),E=M+(z^A^O)+C[3]+3572445317&4294967295,M=z+(E<<16&4294967295|E>>>16),E=O+(M^z^A)+C[6]+76029189&4294967295,O=M+(E<<23&4294967295|E>>>9),E=A+(O^M^z)+C[9]+3654602809&4294967295,A=O+(E<<4&4294967295|E>>>28),E=z+(A^O^M)+C[12]+3873151461&4294967295,z=A+(E<<11&4294967295|E>>>21),E=M+(z^A^O)+C[15]+530742520&4294967295,M=z+(E<<16&4294967295|E>>>16),E=O+(M^z^A)+C[2]+3299628645&4294967295,O=M+(E<<23&4294967295|E>>>9),E=A+(M^(O|~z))+C[0]+4096336452&4294967295,A=O+(E<<6&4294967295|E>>>26),E=z+(O^(A|~M))+C[7]+1126891415&4294967295,z=A+(E<<10&4294967295|E>>>22),E=M+(A^(z|~O))+C[14]+2878612391&4294967295,M=z+(E<<15&4294967295|E>>>17),E=O+(z^(M|~A))+C[5]+4237533241&4294967295,O=M+(E<<21&4294967295|E>>>11),E=A+(M^(O|~z))+C[12]+1700485571&4294967295,A=O+(E<<6&4294967295|E>>>26),E=z+(O^(A|~M))+C[3]+2399980690&4294967295,z=A+(E<<10&4294967295|E>>>22),E=M+(A^(z|~O))+C[10]+4293915773&4294967295,M=z+(E<<15&4294967295|E>>>17),E=O+(z^(M|~A))+C[1]+2240044497&4294967295,O=M+(E<<21&4294967295|E>>>11),E=A+(M^(O|~z))+C[8]+1873313359&4294967295,A=O+(E<<6&4294967295|E>>>26),E=z+(O^(A|~M))+C[15]+4264355552&4294967295,z=A+(E<<10&4294967295|E>>>22),E=M+(A^(z|~O))+C[6]+2734768916&4294967295,M=z+(E<<15&4294967295|E>>>17),E=O+(z^(M|~A))+C[13]+1309151649&4294967295,O=M+(E<<21&4294967295|E>>>11),E=A+(M^(O|~z))+C[4]+4149444226&4294967295,A=O+(E<<6&4294967295|E>>>26),E=z+(O^(A|~M))+C[11]+3174756917&4294967295,z=A+(E<<10&4294967295|E>>>22),E=M+(A^(z|~O))+C[2]+718787259&4294967295,M=z+(E<<15&4294967295|E>>>17),E=O+(z^(M|~A))+C[9]+3951481745&4294967295,k.g[0]=k.g[0]+A&4294967295,k.g[1]=k.g[1]+(M+(E<<21&4294967295|E>>>11))&4294967295,k.g[2]=k.g[2]+M&4294967295,k.g[3]=k.g[3]+z&4294967295}a.prototype.v=function(k,A){A===void 0&&(A=k.length);const O=A-this.blockSize,C=this.C;let M=this.h,z=0;for(;z<A;){if(M==0)for(;z<=O;)r(this,k,z),z+=this.blockSize;if(typeof k=="string"){for(;z<A;)if(C[M++]=k.charCodeAt(z++),M==this.blockSize){r(this,C),M=0;break}}else for(;z<A;)if(C[M++]=k[z++],M==this.blockSize){r(this,C),M=0;break}}this.h=M,this.o+=A},a.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var A=1;A<k.length-8;++A)k[A]=0;A=this.o*8;for(var O=k.length-8;O<k.length;++O)k[O]=A&255,A/=256;for(this.v(k),k=Array(16),A=0,O=0;O<4;++O)for(let C=0;C<32;C+=8)k[A++]=this.g[O]>>>C&255;return k};function o(k,A){var O=d;return Object.prototype.hasOwnProperty.call(O,k)?O[k]:O[k]=A(k)}function c(k,A){this.h=A;const O=[];let C=!0;for(let M=k.length-1;M>=0;M--){const z=k[M]|0;C&&z==A||(O[M]=z,C=!1)}this.g=O}var d={};function m(k){return-128<=k&&k<128?o(k,function(A){return new c([A|0],A<0?-1:0)}):new c([k|0],k<0?-1:0)}function f(k){if(isNaN(k)||!isFinite(k))return b;if(k<0)return D(f(-k));const A=[];let O=1;for(let C=0;k>=O;C++)A[C]=k/O|0,O*=4294967296;return new c(A,0)}function g(k,A){if(k.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(k.charAt(0)=="-")return D(g(k.substring(1),A));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=f(Math.pow(A,8));let C=b;for(let z=0;z<k.length;z+=8){var M=Math.min(8,k.length-z);const E=parseInt(k.substring(z,z+M),A);M<8?(M=f(Math.pow(A,M)),C=C.j(M).add(f(E))):(C=C.j(O),C=C.add(f(E)))}return C}var b=m(0),v=m(1),w=m(16777216);t=c.prototype,t.m=function(){if(I(this))return-D(this).m();let k=0,A=1;for(let O=0;O<this.g.length;O++){const C=this.i(O);k+=(C>=0?C:4294967296+C)*A,A*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(j(this))return"0";if(I(this))return"-"+D(this).toString(k);const A=f(Math.pow(k,6));var O=this;let C="";for(;;){const M=q(O,A).g;O=L(O,M.j(A));let z=((O.g.length>0?O.g[0]:O.h)>>>0).toString(k);if(O=M,j(O))return z+C;for(;z.length<6;)z="0"+z;C=z+C}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function j(k){if(k.h!=0)return!1;for(let A=0;A<k.g.length;A++)if(k.g[A]!=0)return!1;return!0}function I(k){return k.h==-1}t.l=function(k){return k=L(this,k),I(k)?-1:j(k)?0:1};function D(k){const A=k.g.length,O=[];for(let C=0;C<A;C++)O[C]=~k.g[C];return new c(O,~k.h).add(v)}t.abs=function(){return I(this)?D(this):this},t.add=function(k){const A=Math.max(this.g.length,k.g.length),O=[];let C=0;for(let M=0;M<=A;M++){let z=C+(this.i(M)&65535)+(k.i(M)&65535),E=(z>>>16)+(this.i(M)>>>16)+(k.i(M)>>>16);C=E>>>16,z&=65535,E&=65535,O[M]=E<<16|z}return new c(O,O[O.length-1]&-2147483648?-1:0)};function L(k,A){return k.add(D(A))}t.j=function(k){if(j(this)||j(k))return b;if(I(this))return I(k)?D(this).j(D(k)):D(D(this).j(k));if(I(k))return D(this.j(D(k)));if(this.l(w)<0&&k.l(w)<0)return f(this.m()*k.m());const A=this.g.length+k.g.length,O=[];for(var C=0;C<2*A;C++)O[C]=0;for(C=0;C<this.g.length;C++)for(let M=0;M<k.g.length;M++){const z=this.i(C)>>>16,E=this.i(C)&65535,J=k.i(M)>>>16,K=k.i(M)&65535;O[2*C+2*M]+=E*K,R(O,2*C+2*M),O[2*C+2*M+1]+=z*K,R(O,2*C+2*M+1),O[2*C+2*M+1]+=E*J,R(O,2*C+2*M+1),O[2*C+2*M+2]+=z*J,R(O,2*C+2*M+2)}for(k=0;k<A;k++)O[k]=O[2*k+1]<<16|O[2*k];for(k=A;k<2*A;k++)O[k]=0;return new c(O,0)};function R(k,A){for(;(k[A]&65535)!=k[A];)k[A+1]+=k[A]>>>16,k[A]&=65535,A++}function $(k,A){this.g=k,this.h=A}function q(k,A){if(j(A))throw Error("division by zero");if(j(k))return new $(b,b);if(I(k))return A=q(D(k),A),new $(D(A.g),D(A.h));if(I(A))return A=q(k,D(A)),new $(D(A.g),A.h);if(k.g.length>30){if(I(k)||I(A))throw Error("slowDivide_ only works with positive integers.");for(var O=v,C=A;C.l(k)<=0;)O=X(O),C=X(C);var M=G(O,1),z=G(C,1);for(C=G(C,2),O=G(O,2);!j(C);){var E=z.add(C);E.l(k)<=0&&(M=M.add(O),z=E),C=G(C,1),O=G(O,1)}return A=L(k,M.j(A)),new $(M,A)}for(M=b;k.l(A)>=0;){for(O=Math.max(1,Math.floor(k.m()/A.m())),C=Math.ceil(Math.log(O)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),z=f(O),E=z.j(A);I(E)||E.l(k)>0;)O-=C,z=f(O),E=z.j(A);j(z)&&(z=v),M=M.add(z),k=L(k,E)}return new $(M,k)}t.B=function(k){return q(this,k).h},t.and=function(k){const A=Math.max(this.g.length,k.g.length),O=[];for(let C=0;C<A;C++)O[C]=this.i(C)&k.i(C);return new c(O,this.h&k.h)},t.or=function(k){const A=Math.max(this.g.length,k.g.length),O=[];for(let C=0;C<A;C++)O[C]=this.i(C)|k.i(C);return new c(O,this.h|k.h)},t.xor=function(k){const A=Math.max(this.g.length,k.g.length),O=[];for(let C=0;C<A;C++)O[C]=this.i(C)^k.i(C);return new c(O,this.h^k.h)};function X(k){const A=k.g.length+1,O=[];for(let C=0;C<A;C++)O[C]=k.i(C)<<1|k.i(C-1)>>>31;return new c(O,k.h)}function G(k,A){const O=A>>5;A%=32;const C=k.g.length-O,M=[];for(let z=0;z<C;z++)M[z]=A>0?k.i(z+O)>>>A|k.i(z+O+1)<<32-A:k.i(z+O);return new c(M,k.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,e4=a,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=g,Rr=c}).apply(typeof g2<"u"?g2:typeof self<"u"?self:typeof window<"u"?window:{});var lm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var t4,Ou,n4,Cm,Zg,s4,a4,i4;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof lm=="object"&&lm];for(var N=0;N<p.length;++N){var _=p[N];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function r(p,N){if(N)e:{var _=a;p=p.split(".");for(var U=0;U<p.length-1;U++){var ee=p[U];if(!(ee in _))break e;_=_[ee]}p=p[p.length-1],U=_[p],N=N(U),N!=U&&N!=null&&e(_,p,{configurable:!0,writable:!0,value:N})}}r("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(p){return p||function(N){var _=[],U;for(U in N)Object.prototype.hasOwnProperty.call(N,U)&&_.push([U,N[U]]);return _}});var o=o||{},c=this||self;function d(p){var N=typeof p;return N=="object"&&p!=null||N=="function"}function m(p,N,_){return p.call.apply(p.bind,arguments)}function f(p,N,_){return f=m,f.apply(null,arguments)}function g(p,N){var _=Array.prototype.slice.call(arguments,1);return function(){var U=_.slice();return U.push.apply(U,arguments),p.apply(this,U)}}function b(p,N){function _(){}_.prototype=N.prototype,p.Z=N.prototype,p.prototype=new _,p.prototype.constructor=p,p.Ob=function(U,ee,ie){for(var je=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)je[Ye-2]=arguments[Ye];return N.prototype[ee].apply(U,je)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function w(p){const N=p.length;if(N>0){const _=Array(N);for(let U=0;U<N;U++)_[U]=p[U];return _}return[]}function j(p,N){for(let U=1;U<arguments.length;U++){const ee=arguments[U];var _=typeof ee;if(_=_!="object"?_:ee?Array.isArray(ee)?"array":_:"null",_=="array"||_=="object"&&typeof ee.length=="number"){_=p.length||0;const ie=ee.length||0;p.length=_+ie;for(let je=0;je<ie;je++)p[_+je]=ee[je]}else p.push(ee)}}class I{constructor(N,_){this.i=N,this.j=_,this.h=0,this.g=null}get(){let N;return this.h>0?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function D(p){c.setTimeout(()=>{throw p},0)}function L(){var p=k;let N=null;return p.g&&(N=p.g,p.g=p.g.next,p.g||(p.h=null),N.next=null),N}class R{constructor(){this.h=this.g=null}add(N,_){const U=$.get();U.set(N,_),this.h?this.h.next=U:this.g=U,this.h=U}}var $=new I(()=>new q,p=>p.reset());class q{constructor(){this.next=this.g=this.h=null}set(N,_){this.h=N,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let X,G=!1,k=new R,A=()=>{const p=Promise.resolve(void 0);X=()=>{p.then(O)}};function O(){for(var p;p=L();){try{p.h.call(p.g)}catch(_){D(_)}var N=$;N.j(p),N.h<100&&(N.h++,p.next=N.g,N.g=p)}G=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(p,N){this.type=p,this.g=this.target=N,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,N=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const _=()=>{};c.addEventListener("test",_,N),c.removeEventListener("test",_,N)}catch{}return p})();function E(p){return/^[\s\xa0]*$/.test(p)}function J(p,N){M.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,N)}b(J,M),J.prototype.init=function(p,N){const _=this.type=p.type,U=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=N,N=p.relatedTarget,N||(_=="mouseover"?N=p.fromElement:_=="mouseout"&&(N=p.toElement)),this.relatedTarget=N,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&J.Z.h.call(this)},J.prototype.h=function(){J.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var K="closure_listenable_"+(Math.random()*1e6|0),H=0;function Z(p,N,_,U,ee){this.listener=p,this.proxy=null,this.src=N,this.type=_,this.capture=!!U,this.ha=ee,this.key=++H,this.da=this.fa=!1}function le(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ye(p,N,_){for(const U in p)N.call(_,p[U],U,p)}function B(p,N){for(const _ in p)N.call(void 0,p[_],_,p)}function ce(p){const N={};for(const _ in p)N[_]=p[_];return N}const be="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(p,N){let _,U;for(let ee=1;ee<arguments.length;ee++){U=arguments[ee];for(_ in U)p[_]=U[_];for(let ie=0;ie<be.length;ie++)_=be[ie],Object.prototype.hasOwnProperty.call(U,_)&&(p[_]=U[_])}}function ke(p){this.src=p,this.g={},this.h=0}ke.prototype.add=function(p,N,_,U,ee){const ie=p.toString();p=this.g[ie],p||(p=this.g[ie]=[],this.h++);const je=Me(p,N,U,ee);return je>-1?(N=p[je],_||(N.fa=!1)):(N=new Z(N,this.src,ie,!!U,ee),N.fa=_,p.push(N)),N};function Ce(p,N){const _=N.type;if(_ in p.g){var U=p.g[_],ee=Array.prototype.indexOf.call(U,N,void 0),ie;(ie=ee>=0)&&Array.prototype.splice.call(U,ee,1),ie&&(le(N),p.g[_].length==0&&(delete p.g[_],p.h--))}}function Me(p,N,_,U){for(let ee=0;ee<p.length;++ee){const ie=p[ee];if(!ie.da&&ie.listener==N&&ie.capture==!!_&&ie.ha==U)return ee}return-1}var et="closure_lm_"+(Math.random()*1e6|0),Et={};function ht(p,N,_,U,ee){if(Array.isArray(N)){for(let ie=0;ie<N.length;ie++)ht(p,N[ie],_,U,ee);return null}return _=Ne(_),p&&p[K]?p.J(N,_,d(U)?!!U.capture:!1,ee):Vt(p,N,_,!1,U,ee)}function Vt(p,N,_,U,ee,ie){if(!N)throw Error("Invalid event type");const je=d(ee)?!!ee.capture:!!ee;let Ye=Pe(p);if(Ye||(p[et]=Ye=new ke(p)),_=Ye.add(N,_,U,je,ie),_.proxy)return _;if(U=Nt(),_.proxy=U,U.src=p,U.listener=_,p.addEventListener)z||(ee=je),ee===void 0&&(ee=!1),p.addEventListener(N.toString(),U,ee);else if(p.attachEvent)p.attachEvent(de(N.toString()),U);else if(p.addListener&&p.removeListener)p.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Nt(){function p(_){return N.call(p.src,p.listener,_)}const N=_e;return p}function ge(p,N,_,U,ee){if(Array.isArray(N))for(var ie=0;ie<N.length;ie++)ge(p,N[ie],_,U,ee);else U=d(U)?!!U.capture:!!U,_=Ne(_),p&&p[K]?(p=p.i,ie=String(N).toString(),ie in p.g&&(N=p.g[ie],_=Me(N,_,U,ee),_>-1&&(le(N[_]),Array.prototype.splice.call(N,_,1),N.length==0&&(delete p.g[ie],p.h--)))):p&&(p=Pe(p))&&(N=p.g[N.toString()],p=-1,N&&(p=Me(N,_,U,ee)),(_=p>-1?N[p]:null)&&ne(_))}function ne(p){if(typeof p!="number"&&p&&!p.da){var N=p.src;if(N&&N[K])Ce(N.i,p);else{var _=p.type,U=p.proxy;N.removeEventListener?N.removeEventListener(_,U,p.capture):N.detachEvent?N.detachEvent(de(_),U):N.addListener&&N.removeListener&&N.removeListener(U),(_=Pe(N))?(Ce(_,p),_.h==0&&(_.src=null,N[et]=null)):le(p)}}}function de(p){return p in Et?Et[p]:Et[p]="on"+p}function _e(p,N){if(p.da)p=!0;else{N=new J(N,this);const _=p.listener,U=p.ha||p.src;p.fa&&ne(p),p=_.call(U,N)}return p}function Pe(p){return p=p[et],p instanceof ke?p:null}var jt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ne(p){return typeof p=="function"?p:(p[jt]||(p[jt]=function(N){return p.handleEvent(N)}),p[jt])}function Se(){C.call(this),this.i=new ke(this),this.M=this,this.G=null}b(Se,C),Se.prototype[K]=!0,Se.prototype.removeEventListener=function(p,N,_,U){ge(this,p,N,_,U)};function De(p,N){var _,U=p.G;if(U)for(_=[];U;U=U.G)_.push(U);if(p=p.M,U=N.type||N,typeof N=="string")N=new M(N,p);else if(N instanceof M)N.target=N.target||p;else{var ee=N;N=new M(U,p),F(N,ee)}ee=!0;let ie,je;if(_)for(je=_.length-1;je>=0;je--)ie=N.g=_[je],ee=Je(ie,U,!0,N)&&ee;if(ie=N.g=p,ee=Je(ie,U,!0,N)&&ee,ee=Je(ie,U,!1,N)&&ee,_)for(je=0;je<_.length;je++)ie=N.g=_[je],ee=Je(ie,U,!1,N)&&ee}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var p=this.i;for(const N in p.g){const _=p.g[N];for(let U=0;U<_.length;U++)le(_[U]);delete p.g[N],p.h--}}this.G=null},Se.prototype.J=function(p,N,_,U){return this.i.add(String(p),N,!1,_,U)},Se.prototype.K=function(p,N,_,U){return this.i.add(String(p),N,!0,_,U)};function Je(p,N,_,U){if(N=p.i.g[String(N)],!N)return!0;N=N.concat();let ee=!0;for(let ie=0;ie<N.length;++ie){const je=N[ie];if(je&&!je.da&&je.capture==_){const Ye=je.listener,tn=je.ha||je.src;je.fa&&Ce(p.i,je),ee=Ye.call(tn,U)!==!1&&ee}}return ee&&!U.defaultPrevented}function Mn(p,N){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(N)>2147483647?-1:c.setTimeout(p,N||0)}function jn(p){p.g=Mn(()=>{p.g=null,p.i&&(p.i=!1,jn(p))},p.l);const N=p.h;p.h=null,p.m.apply(null,N)}class Qt extends C{constructor(N,_){super(),this.m=N,this.l=_,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:jn(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ja(p){C.call(this),this.h=p,this.g={}}b(Ja,C);var he=[];function we(p){ye(p.g,function(N,_){this.g.hasOwnProperty(_)&&ne(N)},p),p.g={}}Ja.prototype.N=function(){Ja.Z.N.call(this),we(this)},Ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ue=c.JSON.stringify,Ze=c.JSON.parse,pt=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function Qn(){}function Ps(){}var en={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){M.call(this,"d")}b(Yt,M);function Cn(){M.call(this,"c")}b(Cn,M);var ut={},ea=null;function Yn(){return ea=ea||new Se}ut.Ia="serverreachability";function Od(p){M.call(this,ut.Ia,p)}b(Od,M);function xa(p){const N=Yn();De(N,new Od(N))}ut.STAT_EVENT="statevent";function Xr(p,N){M.call(this,ut.STAT_EVENT,p),this.stat=N}b(Xr,M);function cn(p){const N=Yn();De(N,new Xr(N,p))}ut.Ja="timingevent";function ba(p,N){M.call(this,ut.Ja,p),this.size=N}b(ba,M);function ya(p,N){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},N)}function ta(){this.g=!0}ta.prototype.ua=function(){this.g=!1};function n0(p,N,_,U,ee,ie){p.info(function(){if(p.g)if(ie){var je="",Ye=ie.split("&");for(let bt=0;bt<Ye.length;bt++){var tn=Ye[bt].split("=");if(tn.length>1){const $t=tn[0];tn=tn[1];const Vs=$t.split("_");je=Vs.length>=2&&Vs[1]=="type"?je+($t+"="+tn+"&"):je+($t+"=redacted&")}}}else je=null;else je=ie;return"XMLHTTP REQ ("+U+") [attempt "+ee+"]: "+N+`
`+_+`
`+je})}function Ld(p,N,_,U,ee,ie,je){p.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+ee+"]: "+N+`
`+_+`
`+ie+" "+je})}function va(p,N,_,U){p.info(function(){return"XMLHTTP TEXT ("+N+"): "+s0(p,_)+(U?" "+U:"")})}function Jr(p,N){p.info(function(){return"TIMEOUT: "+N})}ta.prototype.info=function(){};function s0(p,N){if(!p.g)return N;if(!N)return null;try{const ie=JSON.parse(N);if(ie){for(p=0;p<ie.length;p++)if(Array.isArray(ie[p])){var _=ie[p];if(!(_.length<2)){var U=_[1];if(Array.isArray(U)&&!(U.length<1)){var ee=U[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(let je=1;je<U.length;je++)U[je]=""}}}}return Ue(ie)}catch{return N}}var Zr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ec={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ac;function el(){}b(el,Qn),el.prototype.g=function(){return new XMLHttpRequest},Ac=new el;function Za(p){return encodeURIComponent(String(p))}function Vd(p){var N=1;p=p.split(":");const _=[];for(;N>0&&p.length;)_.push(p.shift()),N--;return p.length&&_.push(p.join(":")),_}function na(p,N,_,U){this.j=p,this.i=N,this.l=_,this.S=U||1,this.V=new Ja(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new sa}function sa(){this.i=null,this.g="",this.h=!1}var un={},En={};function wa(p,N,_){p.M=1,p.A=tl(hn(N)),p.u=_,p.R=!0,Kl(p,null)}function Kl(p,N){p.F=Date.now(),Na(p),p.B=hn(p.A);var _=p.B,U=p.S;Array.isArray(U)||(U=[String(U)]),Zl(_.i,"t",U),p.C=0,_=p.j.L,p.h=new sa,p.g=Zd(p.j,_?N:null,!p.u),p.P>0&&(p.O=new Qt(f(p.Y,p,p.g),p.P)),N=p.V,_=p.g,U=p.ba;var ee="readystatechange";Array.isArray(ee)||(ee&&(he[0]=ee.toString()),ee=he);for(let ie=0;ie<ee.length;ie++){const je=ht(_,ee[ie],U||N.handleEvent,!1,N.h||N);if(!je)break;N.g[je.key]=je}N=p.J?ce(p.J):{},p.u?(p.v||(p.v="POST"),N["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,N)):(p.v="GET",p.g.ea(p.B,p.v,null,N)),xa(),n0(p.i,p.v,p.B,p.l,p.S,p.u)}na.prototype.ba=function(p){p=p.target;const N=this.O;N&&ra(p)==3?N.j():this.Y(p)},na.prototype.Y=function(p){try{if(p==this.g)e:{const Ye=ra(this.g),tn=this.g.ya(),bt=this.g.ca();if(!(Ye<3)&&(Ye!=3||this.g&&(this.h.h||this.g.la()||On(this.g)))){this.K||Ye!=4||tn==7||(tn==8||bt<=0?xa(3):xa(2)),ja(this);var N=this.g.ca();this.X=N;var _=a0(this);if(this.o=N==200,Ld(this.i,this.v,this.B,this.l,this.S,Ye,N),this.o){if(this.U&&!this.L){t:{if(this.g){var U,ee=this.g;if((U=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(U)){var ie=U;break t}}ie=null}if(p=ie)va(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Sa(this,p);else{this.o=!1,this.m=3,cn(12),ws(this),Ms(this);break e}}if(this.R){p=!0;let $t;for(;!this.K&&this.C<_.length;)if($t=zd(this,_),$t==En){Ye==4&&(this.m=4,cn(14),p=!1),va(this.i,this.l,null,"[Incomplete Response]");break}else if($t==un){this.m=4,cn(15),va(this.i,this.l,_,"[Invalid Chunk]"),p=!1;break}else va(this.i,this.l,$t,null),Sa(this,$t);if(Ud(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||_.length!=0||this.h.h||(this.m=1,cn(16),p=!1),this.o=this.o&&p,!p)va(this.i,this.l,_,"[Invalid Chunked Response]"),ws(this),Ms(this);else if(_.length>0&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.aa&&!je.P&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),qc(je),je.P=!0,cn(11))}}else va(this.i,this.l,_,null),Sa(this,_);Ye==4&&ws(this),this.o&&!this.K&&(Ye==4?Kd(this.j,this):(this.o=!1,Na(this)))}else ti(this.g),N==400&&_.indexOf("Unknown SID")>0?(this.m=3,cn(12)):(this.m=0,cn(13)),ws(this),Ms(this)}}}catch{}finally{}};function a0(p){if(!Ud(p))return p.g.la();const N=On(p.g);if(N==="")return"";let _="";const U=N.length,ee=ra(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return ws(p),Ms(p),"";p.h.i=new c.TextDecoder}for(let ie=0;ie<U;ie++)p.h.h=!0,_+=p.h.i.decode(N[ie],{stream:!(ee&&ie==U-1)});return N.length=0,p.h.g+=_,p.C=0,p.h.g}function Ud(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function zd(p,N){var _=p.C,U=N.indexOf(`
`,_);return U==-1?En:(_=Number(N.substring(_,U)),isNaN(_)?un:(U+=1,U+_>N.length?En:(N=N.slice(U,U+_),p.C=U+_,N)))}na.prototype.cancel=function(){this.K=!0,ws(this)};function Na(p){p.T=Date.now()+p.H,Wl(p,p.H)}function Wl(p,N){if(p.D!=null)throw Error("WatchDog timer not null");p.D=ya(f(p.aa,p),N)}function ja(p){p.D&&(c.clearTimeout(p.D),p.D=null)}na.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(Jr(this.i,this.B),this.M!=2&&(xa(),cn(17)),ws(this),this.m=2,Ms(this)):Wl(this,this.T-p)};function Ms(p){p.j.I==0||p.K||Kd(p.j,p)}function ws(p){ja(p);var N=p.O;N&&typeof N.dispose=="function"&&N.dispose(),p.O=null,we(p.V),p.g&&(N=p.g,p.g=null,N.abort(),N.dispose())}function Sa(p,N){try{var _=p.j;if(_.I!=0&&(_.g==p||Ta(_.h,p))){if(!p.L&&Ta(_.h,p)&&_.I==3){try{var U=_.Ba.g.parse(N)}catch{U=null}if(Array.isArray(U)&&U.length==3){var ee=U;if(ee[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<p.F)ao(_),Xi(_);else break e;ol(_),cn(18)}}else _.xa=ee[1],0<_.xa-_.K&&ee[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ya(f(_.Va,_),6e3));_a(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ra(_,11)}else if((p.L||_.g==p)&&ao(_),!E(N))for(ee=_.Ba.g.parse(N),N=0;N<ee.length;N++){let bt=ee[N];const $t=bt[0];if(!($t<=_.K))if(_.K=$t,bt=bt[1],_.I==2)if(bt[0]=="c"){_.M=bt[1],_.ba=bt[2];const Vs=bt[3];Vs!=null&&(_.ka=Vs,_.j.info("VER="+_.ka));const Da=bt[4];Da!=null&&(_.za=Da,_.j.info("SVER="+_.za));const la=bt[5];la!=null&&typeof la=="number"&&la>0&&(U=1.5*la,_.O=U,_.j.info("backChannelRequestTimeoutMs_="+U)),U=_;const oa=p.g;if(oa){const cl=oa.g?oa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cl){var ie=U.h;ie.g||cl.indexOf("spdy")==-1&&cl.indexOf("quic")==-1&&cl.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Rc(ie,ie.h),ie.h=null))}if(U.G){const io=oa.g?oa.g.getResponseHeader("X-HTTP-Session-Id"):null;io&&(U.wa=io,St(U.J,U.G,io))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-p.F,_.j.info("Handshake RTT: "+_.T+"ms")),U=_;var je=p;if(U.na=Jd(U,U.L?U.ba:null,U.W),je.L){Dc(U.h,je);var Ye=je,tn=U.O;tn&&(Ye.H=tn),Ye.D&&(ja(Ye),Na(Ye)),U.g=je}else Qd(U);_.i.length>0&&Ia(_)}else bt[0]!="stop"&&bt[0]!="close"||Ra(_,7);else _.I==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?Ra(_,7):Bc(_):bt[0]!="noop"&&_.l&&_.l.qa(bt),_.A=0)}}xa(4)}catch{}}var dn=class{constructor(p,N){this.g=p,this.map=N}};function kc(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ic(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function _a(p){return p.h?1:p.g?p.g.size:0}function Ta(p,N){return p.h?p.h==N:p.g?p.g.has(N):!1}function Rc(p,N){p.g?p.g.add(N):p.h=N}function Dc(p,N){p.h&&p.h==N?p.h=null:p.g&&p.g.has(N)&&p.g.delete(N)}kc.prototype.cancel=function(){if(this.i=Pc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Pc(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let N=p.i;for(const _ of p.g.values())N=N.concat(_.G);return N}return w(p.i)}var Fd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xl(p,N){if(p){p=p.split("&");for(let _=0;_<p.length;_++){const U=p[_].indexOf("=");let ee,ie=null;U>=0?(ee=p[_].substring(0,U),ie=p[_].substring(U+1)):ee=p[_],N(ee,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function Ns(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let N;p instanceof Ns?(this.l=p.l,An(this,p.j),this.o=p.o,this.g=p.g,qi(this,p.u),this.h=p.h,Mc(this,Hd(p.i)),this.m=p.m):p&&(N=String(p).match(Fd))?(this.l=!1,An(this,N[1]||"",!0),this.o=Ca(N[2]||""),this.g=Ca(N[3]||"",!0),qi(this,N[4]),this.h=Ca(N[5]||"",!0),Mc(this,N[6]||"",!0),this.m=Ca(N[7]||"")):(this.l=!1,this.i=new Gi(null,this.l))}Ns.prototype.toString=function(){const p=[];var N=this.j;N&&p.push(nl(N,Jl,!0),":");var _=this.g;return(_||N=="file")&&(p.push("//"),(N=this.o)&&p.push(nl(N,Jl,!0),"@"),p.push(Za(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&p.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&p.push("/"),p.push(nl(_,_.charAt(0)=="/"?Oc:Bd,!0))),(_=this.i.toString())&&p.push("?",_),(_=this.m)&&p.push("#",nl(_,$d)),p.join("")},Ns.prototype.resolve=function(p){const N=hn(this);let _=!!p.j;_?An(N,p.j):_=!!p.o,_?N.o=p.o:_=!!p.g,_?N.g=p.g:_=p.u!=null;var U=p.h;if(_)qi(N,p.u);else if(_=!!p.h){if(U.charAt(0)!="/")if(this.g&&!this.h)U="/"+U;else{var ee=N.h.lastIndexOf("/");ee!=-1&&(U=N.h.slice(0,ee+1)+U)}if(ee=U,ee==".."||ee==".")U="";else if(ee.indexOf("./")!=-1||ee.indexOf("/.")!=-1){U=ee.lastIndexOf("/",0)==0,ee=ee.split("/");const ie=[];for(let je=0;je<ee.length;){const Ye=ee[je++];Ye=="."?U&&je==ee.length&&ie.push(""):Ye==".."?((ie.length>1||ie.length==1&&ie[0]!="")&&ie.pop(),U&&je==ee.length&&ie.push("")):(ie.push(Ye),U=!0)}U=ie.join("/")}else U=ee}return _?N.h=U:_=p.i.toString()!=="",_?Mc(N,Hd(p.i)):_=!!p.m,_&&(N.m=p.m),N};function hn(p){return new Ns(p)}function An(p,N,_){p.j=_?Ca(N,!0):N,p.j&&(p.j=p.j.replace(/:$/,""))}function qi(p,N){if(N){if(N=Number(N),isNaN(N)||N<0)throw Error("Bad port number "+N);p.u=N}else p.u=null}function Mc(p,N,_){N instanceof Gi?(p.i=N,eo(p.i,p.l)):(_||(N=nl(N,Hi)),p.i=new Gi(N,p.l))}function St(p,N,_){p.i.set(N,_)}function tl(p){return St(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Ca(p,N){return p?N?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function nl(p,N,_){return typeof p=="string"?(p=encodeURI(p).replace(N,ls),_&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function ls(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Jl=/[#\/\?@]/g,Bd=/[#\?:]/g,Oc=/[#\?]/g,Hi=/[#\?@]/g,$d=/#/g;function Gi(p,N){this.h=this.g=null,this.i=p||null,this.j=!!N}function os(p){p.g||(p.g=new Map,p.h=0,p.i&&Xl(p.i,function(N,_){p.add(decodeURIComponent(N.replace(/\+/g," ")),_)}))}t=Gi.prototype,t.add=function(p,N){os(this),this.i=null,p=Qi(this,p);let _=this.g.get(p);return _||this.g.set(p,_=[]),_.push(N),this.h+=1,this};function qd(p,N){os(p),N=Qi(p,N),p.g.has(N)&&(p.i=null,p.h-=p.g.get(N).length,p.g.delete(N))}function Lc(p,N){return os(p),N=Qi(p,N),p.g.has(N)}t.forEach=function(p,N){os(this),this.g.forEach(function(_,U){_.forEach(function(ee){p.call(N,ee,U,this)},this)},this)};function Vc(p,N){os(p);let _=[];if(typeof N=="string")Lc(p,N)&&(_=_.concat(p.g.get(Qi(p,N))));else for(p=Array.from(p.g.values()),N=0;N<p.length;N++)_=_.concat(p[N]);return _}t.set=function(p,N){return os(this),this.i=null,p=Qi(this,p),Lc(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[N]),this.h+=1,this},t.get=function(p,N){return p?(p=Vc(this,p),p.length>0?String(p[0]):N):N};function Zl(p,N,_){qd(p,N),_.length>0&&(p.i=null,p.g.set(Qi(p,N),w(_)),p.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],N=Array.from(this.g.keys());for(let U=0;U<N.length;U++){var _=N[U];const ee=Za(_);_=Vc(this,_);for(let ie=0;ie<_.length;ie++){let je=ee;_[ie]!==""&&(je+="="+Za(_[ie])),p.push(je)}}return this.i=p.join("&")};function Hd(p){const N=new Gi;return N.i=p.i,p.g&&(N.g=new Map(p.g),N.h=p.h),N}function Qi(p,N){return N=String(N),p.j&&(N=N.toLowerCase()),N}function eo(p,N){N&&!p.j&&(os(p),p.i=null,p.g.forEach(function(_,U){const ee=U.toLowerCase();U!=ee&&(qd(this,U),Zl(this,ee,_))},p)),p.j=N}function aa(p,N){const _=new ta;if(c.Image){const U=new Image;U.onload=g(Os,_,"TestLoadImage: loaded",!0,N,U),U.onerror=g(Os,_,"TestLoadImage: error",!1,N,U),U.onabort=g(Os,_,"TestLoadImage: abort",!1,N,U),U.ontimeout=g(Os,_,"TestLoadImage: timeout",!1,N,U),c.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=p}else N(!1)}function Uc(p,N){const _=new ta,U=new AbortController,ee=setTimeout(()=>{U.abort(),Os(_,"TestPingServer: timeout",!1,N)},1e4);fetch(p,{signal:U.signal}).then(ie=>{clearTimeout(ee),ie.ok?Os(_,"TestPingServer: ok",!0,N):Os(_,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(ee),Os(_,"TestPingServer: error",!1,N)})}function Os(p,N,_,U,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),U(_)}catch{}}function Yi(){this.g=new pt}function Ea(p){this.i=p.Sb||null,this.h=p.ab||!1}b(Ea,Qn),Ea.prototype.g=function(){return new sl(this.i,this.h)};function sl(p,N){Se.call(this),this.H=p,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(sl,Se),t=sl.prototype,t.open=function(p,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=N,this.readyState=1,ia(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const N={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(N.body=p),(this.H||c).fetch(new Request(this.D,N)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ki(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,ia(this)),this.g&&(this.readyState=3,ia(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;to(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function to(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var N=p.value?p.value:new Uint8Array(0);(N=this.B.decode(N,{stream:!p.done}))&&(this.response=this.responseText+=N)}p.done?Ki(this):ia(this),this.readyState==3&&to(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,Ki(this))},t.Na=function(p){this.g&&(this.response=p,Ki(this))},t.ga=function(){this.g&&Ki(this)};function Ki(p){p.readyState=4,p.l=null,p.j=null,p.B=null,ia(p)}t.setRequestHeader=function(p,N){this.A.append(p,N)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],N=this.h.entries();for(var _=N.next();!_.done;)_=_.value,p.push(_[0]+": "+_[1]),_=N.next();return p.join(`\r
`)};function ia(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(sl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Ls(p){let N="";return ye(p,function(_,U){N+=U,N+=":",N+=_,N+=`\r
`}),N}function al(p,N,_){e:{for(U in _){var U=!1;break e}U=!0}U||(_=Ls(_),typeof p=="string"?_!=null&&Za(_):St(p,N,_))}function At(p){Se.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(At,Se);var Aa=/^https?$/i,zc=["POST","PUT"];t=At.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,N,_,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);N=N?N.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ac.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(N,String(p),!0),this.B=!1}catch(ie){il(this,ie);return}if(p=_||"",_=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var ee in U)_.set(ee,U[ee]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ie of U.keys())_.set(ie,U.get(ie));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(_.keys()).find(ie=>ie.toLowerCase()=="content-type"),ee=c.FormData&&p instanceof c.FormData,!(Array.prototype.indexOf.call(zc,N,void 0)>=0)||U||ee||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,je]of _)this.g.setRequestHeader(ie,je);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(ie){il(this,ie)}};function il(p,N){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=N,p.o=5,Fc(p),ei(p)}function Fc(p){p.A||(p.A=!0,De(p,"complete"),De(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,De(this,"complete"),De(this,"abort"),ei(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ei(this,!0)),At.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?rl(this):this.Xa())},t.Xa=function(){rl(this)};function rl(p){if(p.h&&typeof o<"u"){if(p.v&&ra(p)==4)setTimeout(p.Ca.bind(p),0);else if(De(p,"readystatechange"),ra(p)==4){p.h=!1;try{const ie=p.ca();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var _;if(!(_=N)){var U;if(U=ie===0){let je=String(p.D).match(Fd)[1]||null;!je&&c.self&&c.self.location&&(je=c.self.location.protocol.slice(0,-1)),U=!Aa.test(je?je.toLowerCase():"")}_=U}if(_)De(p,"complete"),De(p,"success");else{p.o=6;try{var ee=ra(p)>2?p.g.statusText:""}catch{ee=""}p.l=ee+" ["+p.ca()+"]",Fc(p)}}finally{ei(p)}}}}function ei(p,N){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const _=p.g;p.g=null,N||De(p,"ready");try{_.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ra(p){return p.g?p.g.readyState:0}t.ca=function(){try{return ra(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var N=this.g.responseText;return p&&N.indexOf(p)==0&&(N=N.substring(p.length)),Ze(N)}};function On(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function ti(p){const N={};p=(p.g&&ra(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<p.length;U++){if(E(p[U]))continue;var _=Vd(p[U]);const ee=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const ie=N[ee]||[];N[ee]=ie,ie.push(_)}B(N,function(U){return U.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ka(p,N,_){return _&&_.internalChannelParams&&_.internalChannelParams[p]||N}function Wi(p){this.za=0,this.i=[],this.j=new ta,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ka("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ka("baseRetryDelayMs",5e3,p),this.Za=ka("retryDelaySeedMs",1e4,p),this.Ta=ka("forwardChannelMaxRetries",2,p),this.va=ka("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new kc(p&&p.concurrentRequestLimit),this.Ba=new Yi,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Wi.prototype,t.ka=8,t.I=1,t.connect=function(p,N,_,U){cn(0),this.W=p,this.H=N||{},_&&U!==void 0&&(this.H.OSID=_,this.H.OAID=U),this.F=this.X,this.J=Jd(this,null,this.W),Ia(this)};function Bc(p){if(no(p),p.I==3){var N=p.V++,_=hn(p.J);if(St(_,"SID",p.M),St(_,"RID",N),St(_,"TYPE","terminate"),ll(p,_),N=new na(p,p.j,N),N.M=2,N.A=tl(hn(_)),_=!1,c.navigator&&c.navigator.sendBeacon)try{_=c.navigator.sendBeacon(N.A.toString(),"")}catch{}!_&&c.Image&&(new Image().src=N.A,_=!0),_||(N.g=Zd(N.j,null),N.g.ea(N.A)),N.F=Date.now(),Na(N)}Xd(p)}function Xi(p){p.g&&(qc(p),p.g.cancel(),p.g=null)}function no(p){Xi(p),p.v&&(c.clearTimeout(p.v),p.v=null),ao(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&c.clearTimeout(p.m),p.m=null)}function Ia(p){if(!Ic(p.h)&&!p.m){p.m=!0;var N=p.Ea;X||A(),G||(X(),G=!0),k.add(N,p),p.D=0}}function so(p,N){return _a(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=N.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=ya(f(p.Ea,p,N),Wd(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const ee=new na(this,this.j,p);let ie=this.o;if(this.U&&(ie?(ie=ce(ie),F(ie,this.U)):ie=this.U),this.u!==null||this.R||(ee.J=ie,ie=null),this.S)e:{for(var N=0,_=0;_<this.i.length;_++){t:{var U=this.i[_];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(N+=U,N>4096){N=_;break e}if(N===4096||_===this.i.length-1){N=_+1;break e}}N=1e3}else N=1e3;N=Gd(this,ee,N),_=hn(this.J),St(_,"RID",p),St(_,"CVER",22),this.G&&St(_,"X-HTTP-Session-Id",this.G),ll(this,_),ie&&(this.R?N="headers="+Za(Ls(ie))+"&"+N:this.u&&al(_,this.u,ie)),Rc(this.h,ee),this.Ra&&St(_,"TYPE","init"),this.S?(St(_,"$req",N),St(_,"SID","null"),ee.U=!0,wa(ee,_,null)):wa(ee,_,N),this.I=2}}else this.I==3&&(p?$c(this,p):this.i.length==0||Ic(this.h)||$c(this))};function $c(p,N){var _;N?_=N.l:_=p.V++;const U=hn(p.J);St(U,"SID",p.M),St(U,"RID",_),St(U,"AID",p.K),ll(p,U),p.u&&p.o&&al(U,p.u,p.o),_=new na(p,p.j,_,p.D+1),p.u===null&&(_.J=p.o),N&&(p.i=N.G.concat(p.i)),N=Gd(p,_,1e3),_.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Rc(p.h,_),wa(_,U,N)}function ll(p,N){p.H&&ye(p.H,function(_,U){St(N,U,_)}),p.l&&ye({},function(_,U){St(N,U,_)})}function Gd(p,N,_){_=Math.min(p.i.length,_);const U=p.l?f(p.l.Ka,p.l,p):null;e:{var ee=p.i;let Ye=-1;for(;;){const tn=["count="+_];Ye==-1?_>0?(Ye=ee[0].g,tn.push("ofs="+Ye)):Ye=0:tn.push("ofs="+Ye);let bt=!0;for(let $t=0;$t<_;$t++){var ie=ee[$t].g;const Vs=ee[$t].map;if(ie-=Ye,ie<0)Ye=Math.max(0,ee[$t].g-100),bt=!1;else try{ie="req"+ie+"_"||"";try{var je=Vs instanceof Map?Vs:Object.entries(Vs);for(const[Da,la]of je){let oa=la;d(la)&&(oa=Ue(la)),tn.push(ie+Da+"="+encodeURIComponent(oa))}}catch(Da){throw tn.push(ie+"type="+encodeURIComponent("_badmap")),Da}}catch{U&&U(Vs)}}if(bt){je=tn.join("&");break e}}je=void 0}return p=p.i.splice(0,_),N.G=p,je}function Qd(p){if(!p.g&&!p.v){p.Y=1;var N=p.Da;X||A(),G||(X(),G=!0),k.add(N,p),p.A=0}}function ol(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=ya(f(p.Da,p),Wd(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,Yd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=ya(f(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,cn(10),Xi(this),Yd(this))};function qc(p){p.B!=null&&(c.clearTimeout(p.B),p.B=null)}function Yd(p){p.g=new na(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var N=hn(p.na);St(N,"RID","rpc"),St(N,"SID",p.M),St(N,"AID",p.K),St(N,"CI",p.F?"0":"1"),!p.F&&p.ia&&St(N,"TO",p.ia),St(N,"TYPE","xmlhttp"),ll(p,N),p.u&&p.o&&al(N,p.u,p.o),p.O&&(p.g.H=p.O);var _=p.g;p=p.ba,_.M=1,_.A=tl(hn(N)),_.u=null,_.R=!0,Kl(_,p)}t.Va=function(){this.C!=null&&(this.C=null,Xi(this),ol(this),cn(19))};function ao(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function Kd(p,N){var _=null;if(p.g==N){ao(p),qc(p),p.g=null;var U=2}else if(Ta(p.h,N))_=N.G,Dc(p.h,N),U=1;else return;if(p.I!=0){if(N.o)if(U==1){_=N.u?N.u.length:0,N=Date.now()-N.F;var ee=p.D;U=Yn(),De(U,new ba(U,_)),Ia(p)}else Qd(p);else if(ee=N.m,ee==3||ee==0&&N.X>0||!(U==1&&so(p,N)||U==2&&ol(p)))switch(_&&_.length>0&&(N=p.h,N.i=N.i.concat(_)),ee){case 1:Ra(p,5);break;case 4:Ra(p,10);break;case 3:Ra(p,6);break;default:Ra(p,2)}}}function Wd(p,N){let _=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(_*=2),_*N}function Ra(p,N){if(p.j.info("Error code "+N),N==2){var _=f(p.bb,p),U=p.Ua;const ee=!U;U=new Ns(U||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||An(U,"https"),tl(U),ee?aa(U.toString(),_):Uc(U.toString(),_)}else cn(2);p.I=0,p.l&&p.l.pa(N),Xd(p),no(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),cn(2)):(this.j.info("Failed to ping google.com"),cn(1))};function Xd(p){if(p.I=0,p.ja=[],p.l){const N=Pc(p.h);(N.length!=0||p.i.length!=0)&&(j(p.ja,N),j(p.ja,p.i),p.h.i.length=0,w(p.i),p.i.length=0),p.l.oa()}}function Jd(p,N,_){var U=_ instanceof Ns?hn(_):new Ns(_);if(U.g!="")N&&(U.g=N+"."+U.g),qi(U,U.u);else{var ee=c.location;U=ee.protocol,N=N?N+"."+ee.hostname:ee.hostname,ee=+ee.port;const ie=new Ns(null);U&&An(ie,U),N&&(ie.g=N),ee&&qi(ie,ee),_&&(ie.h=_),U=ie}return _=p.G,N=p.wa,_&&N&&St(U,_,N),St(U,"VER",p.ka),ll(p,U),U}function Zd(p,N,_){if(N&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return N=p.Aa&&!p.ma?new At(new Ea({ab:_})):new At(p.ma),N.Fa(p.L),N}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function eh(){}t=eh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ji(){}Ji.prototype.g=function(p,N){return new as(p,N)};function as(p,N){Se.call(this),this.g=new Wi(N),this.l=p,this.h=N&&N.messageUrlParams||null,p=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(p?p["X-WebChannel-Content-Type"]=N.messageContentType:p={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.sa&&(p?p["X-WebChannel-Client-Profile"]=N.sa:p={"X-WebChannel-Client-Profile":N.sa}),this.g.U=p,(p=N&&N.Qb)&&!E(p)&&(this.g.u=p),this.A=N&&N.supportsCrossDomainXhr||!1,this.v=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!E(N)&&(this.g.G=N,p=this.h,p!==null&&N in p&&(p=this.h,N in p&&delete p[N])),this.j=new ni(this)}b(as,Se),as.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},as.prototype.close=function(){Bc(this.g)},as.prototype.o=function(p){var N=this.g;if(typeof p=="string"){var _={};_.__data__=p,p=_}else this.v&&(_={},_.__data__=Ue(p),p=_);N.i.push(new dn(N.Ya++,p)),N.I==3&&Ia(N)},as.prototype.N=function(){this.g.l=null,delete this.j,Bc(this.g),delete this.g,as.Z.N.call(this)};function th(p){Yt.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var N=p.__sm__;if(N){e:{for(const _ in N){p=_;break e}p=void 0}(this.i=p)&&(p=this.i,N=N!==null&&p in N?N[p]:void 0),this.data=N}else this.data=p}b(th,Yt);function nh(){Cn.call(this),this.status=1}b(nh,Cn);function ni(p){this.g=p}b(ni,eh),ni.prototype.ra=function(){De(this.g,"a")},ni.prototype.qa=function(p){De(this.g,new th(p))},ni.prototype.pa=function(p){De(this.g,new nh)},ni.prototype.oa=function(){De(this.g,"b")},Ji.prototype.createWebChannel=Ji.prototype.g,as.prototype.send=as.prototype.o,as.prototype.open=as.prototype.m,as.prototype.close=as.prototype.close,i4=function(){return new Ji},a4=function(){return Yn()},s4=ut,Zg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zr.NO_ERROR=0,Zr.TIMEOUT=8,Zr.HTTP_ERROR=6,Cm=Zr,Ec.COMPLETE="complete",n4=Ec,Ps.EventType=en,en.OPEN="a",en.CLOSE="b",en.ERROR="c",en.MESSAGE="d",Se.prototype.listen=Se.prototype.J,Ou=Ps,At.prototype.listenOnce=At.prototype.K,At.prototype.getLastError=At.prototype.Ha,At.prototype.getLastErrorCode=At.prototype.ya,At.prototype.getStatus=At.prototype.ca,At.prototype.getResponseJson=At.prototype.La,At.prototype.getResponseText=At.prototype.la,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Fa,t4=At}).apply(typeof lm<"u"?lm:typeof self<"u"?self:typeof window<"u"?window:{});const x2="@firebase/firestore",b2="4.9.2";class Wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wn.UNAUTHENTICATED=new Wn(null),Wn.GOOGLE_CREDENTIALS=new Wn("google-credentials-uid"),Wn.FIRST_PARTY=new Wn("first-party-uid"),Wn.MOCK_USER=new Wn("mock-user");let bc="12.3.0";const Vl=new Fx("@firebase/firestore");function zo(){return Vl.logLevel}function Ee(t,...e){if(Vl.logLevel<=lt.DEBUG){const n=e.map(eb);Vl.debug(`Firestore (${bc}): ${t}`,...n)}}function Mi(t,...e){if(Vl.logLevel<=lt.ERROR){const n=e.map(eb);Vl.error(`Firestore (${bc}): ${t}`,...n)}}function tc(t,...e){if(Vl.logLevel<=lt.WARN){const n=e.map(eb);Vl.warn(`Firestore (${bc}): ${t}`,...n)}}function eb(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function qe(t,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,r4(t,a,n)}function r4(t,e,n){let a=`FIRESTORE (${bc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Mi(a),new Error(a)}function wt(t,e,n,a){let r="Unexpected state";typeof n=="string"?r=n:a=n,t||r4(e,r,a)}function Ge(t,e){return t}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ji{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class l4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wn.UNAUTHENTICATED)))}shutdown(){}}class dD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class hD{constructor(e){this.t=e,this.currentUser=Wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){wt(this.o===void 0,42304);let a=this.i;const r=m=>this.i!==a?(a=this.i,n(m)):Promise.resolve();let o=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ji,e.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const m=o;e.enqueueRetryable((async()=>{await m.promise,await r(this.currentUser)}))},d=m=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ji)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(wt(typeof a.accessToken=="string",31837,{l:a}),new l4(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new Wn(e)}}class mD{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=Wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fD{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new mD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class y2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Is(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){wt(this.o===void 0,3512);const a=o=>{o.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,Ee("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>a(o)))};const r=o=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new y2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new y2(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<t;a++)n[a]=Math.floor(256*Math.random());return n}class tb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const r=gD(40);for(let o=0;o<r.length;++o)a.length<20&&r[o]<n&&(a+=e.charAt(r[o]%62))}return a}}function ot(t,e){return t<e?-1:t>e?1:0}function ex(t,e){const n=Math.min(t.length,e.length);for(let a=0;a<n;a++){const r=t.charAt(a),o=e.charAt(a);if(r!==o)return og(r)===og(o)?ot(r,o):og(r)?1:-1}return ot(t.length,e.length)}const xD=55296,bD=57343;function og(t){const e=t.charCodeAt(0);return e>=xD&&e<=bD}function nc(t,e,n){return t.length===e.length&&t.every(((a,r)=>n(a,e[r])))}const v2="__name__";class Ua{constructor(e,n,a){n===void 0?n=0:n>e.length&&qe(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&qe(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Ua.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ua?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let r=0;r<a;r++){const o=Ua.compareSegments(e.get(r),n.get(r));if(o!==0)return o}return ot(e.length,n.length)}static compareSegments(e,n){const a=Ua.isNumericId(e),r=Ua.isNumericId(n);return a&&!r?-1:!a&&r?1:a&&r?Ua.extractNumericId(e).compare(Ua.extractNumericId(n)):ex(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rr.fromString(e.substring(4,e.length-2))}}class Ot extends Ua{construct(e,n,a){return new Ot(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new Te(fe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((r=>r.length>0)))}return new Ot(n)}static emptyPath(){return new Ot([])}}const yD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends Ua{construct(e,n,a){return new Bn(e,n,a)}static isValidIdentifier(e){return yD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===v2}static keyField(){return new Bn([v2])}static fromServerFormat(e){const n=[];let a="",r=0;const o=()=>{if(a.length===0)throw new Te(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let c=!1;for(;r<e.length;){const d=e[r];if(d==="\\"){if(r+1===e.length)throw new Te(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[r+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Te(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=m,r+=2}else d==="`"?(c=!c,r++):d!=="."||c?(a+=d,r++):(o(),r++)}if(o(),c)throw new Te(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(n)}static emptyPath(){return new Bn([])}}class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Ot.fromString(e))}static fromName(e){return new Le(Ot.fromString(e).popFirst(5))}static empty(){return new Le(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Ot(e.slice()))}}function o4(t,e,n){if(!n)throw new Te(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vD(t,e,n,a){if(e===!0&&a===!0)throw new Te(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function w2(t){if(!Le.isDocumentKey(t))throw new Te(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function N2(t){if(Le.isDocumentKey(t))throw new Te(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function c4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Cf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe(12329,{type:typeof t})}function xs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cf(t);throw new Te(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function wD(t,e){if(e<=0)throw new Te(fe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function wn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Td(t,e){if(!c4(t))throw new Te(fe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const r=e[a].typeString,o="value"in e[a]?{value:e[a].value}:void 0;if(!(a in t)){n=`JSON missing required field: '${a}'`;break}const c=t[a];if(r&&typeof c!==r){n=`JSON field '${a}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){n=`Expected '${a}' field to equal '${o.value}'`;break}}if(n)throw new Te(fe.INVALID_ARGUMENT,n);return!0}const j2=-62135596800,S2=1e6;class Ft{static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*S2);return new Ft(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<j2)throw new Te(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/S2}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Td(e,Ft._jsonSchema))return new Ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-j2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ft._jsonSchemaVersion="firestore/timestamp/1.0",Ft._jsonSchema={type:wn("string",Ft._jsonSchemaVersion),seconds:wn("number"),nanoseconds:wn("number")};class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new Ft(0,0))}static max(){return new He(new Ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const sd=-1;function ND(t,e){const n=t.toTimestamp().seconds,a=t.toTimestamp().nanoseconds+1,r=He.fromTimestamp(a===1e9?new Ft(n+1,0):new Ft(n,a));return new Mr(r,Le.empty(),e)}function jD(t){return new Mr(t.readTime,t.key,sd)}class Mr{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Mr(He.min(),Le.empty(),sd)}static max(){return new Mr(He.max(),Le.empty(),sd)}}function SD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Le.comparator(t.documentKey,e.documentKey),n!==0?n:ot(t.largestBatchId,e.largestBatchId))}const _D="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function yc(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==_D)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new xe(((a,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(a,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(a,r)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof xe?n:xe.resolve(n)}catch(n){return xe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):xe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):xe.reject(n)}static resolve(e){return new xe(((n,a)=>{n(e)}))}static reject(e){return new xe(((n,a)=>{a(e)}))}static waitFor(e){return new xe(((n,a)=>{let r=0,o=0,c=!1;e.forEach((d=>{++r,d.next((()=>{++o,c&&o===r&&n()}),(m=>a(m)))})),c=!0,o===r&&n()}))}static or(e){let n=xe.resolve(!1);for(const a of e)n=n.next((r=>r?xe.resolve(r):a()));return n}static forEach(e,n){const a=[];return e.forEach(((r,o)=>{a.push(n.call(this,r,o))})),this.waitFor(a)}static mapArray(e,n){return new xe(((a,r)=>{const o=e.length,c=new Array(o);let d=0;for(let m=0;m<o;m++){const f=m;n(e[f]).next((g=>{c[f]=g,++d,d===o&&a(c)}),(g=>r(g)))}}))}static doWhile(e,n){return new xe(((a,r)=>{const o=()=>{e()===!0?n().next((()=>{o()}),r):a()};o()}))}}function CD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vc(t){return t.name==="IndexedDbTransactionError"}class Ef{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ef.ce=-1;const nb=-1;function Af(t){return t==null}function Qm(t){return t===0&&1/t==-1/0}function ED(t){return typeof t=="number"&&Number.isInteger(t)&&!Qm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const u4="";function AD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_2(e)),e=kD(t.get(n),e);return _2(e)}function kD(t,e){let n=e;const a=t.length;for(let r=0;r<a;r++){const o=t.charAt(r);switch(o){case"\0":n+="";break;case u4:n+="";break;default:n+=o}}return n}function _2(t){return t+u4+""}function T2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function d4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Kt{constructor(e,n){this.comparator=e,this.root=n||Fn.EMPTY}insert(e,n){return new Kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(e){return new Kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const r=this.comparator(e,a.key);if(r===0)return n+a.left.size;r<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new om(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new om(this.root,e,this.comparator,!1)}getReverseIterator(){return new om(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new om(this.root,e,this.comparator,!0)}}class om{constructor(e,n,a,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?a(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fn{constructor(e,n,a,r,o){this.key=e,this.value=n,this.color=a??Fn.RED,this.left=r??Fn.EMPTY,this.right=o??Fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,r,o){return new Fn(e??this.key,n??this.value,a??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let r=this;const o=a(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,a),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,a)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Fn.EMPTY;a=r.right.min(),r=r.copy(a.key,a.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,n,a,r,o){return this}insert(e,n,a){return new Fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tn{constructor(e){this.comparator=e,this.data=new Kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const r=a.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new C2(this.data.getIterator())}getIteratorFrom(e){return new C2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof Tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=a.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Tn(this.comparator);return n.data=e,n}}class C2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rs{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new Rs([])}unionWith(e){let n=new Tn(Bn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Rs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nc(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class h4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new h4("Invalid base64 string: "+o):o}})(e);return new Hn(n)}static fromUint8Array(e){const n=(function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o})(e);return new Hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let r=0;r<n.length;r++)a[r]=n.charCodeAt(r);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hn.EMPTY_BYTE_STRING=new Hn("");const ID=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(t){if(wt(!!t,39018),typeof t=="string"){let e=0;const n=ID.exec(t);if(wt(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const a=new Date(t);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:an(t.seconds),nanos:an(t.nanos)}}function an(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Lr(t){return typeof t=="string"?Hn.fromBase64String(t):Hn.fromUint8Array(t)}const m4="server_timestamp",f4="__type__",p4="__previous_value__",g4="__local_write_time__";function sb(t){return(t?.mapValue?.fields||{})[f4]?.stringValue===m4}function kf(t){const e=t.mapValue.fields[p4];return sb(e)?kf(e):e}function ad(t){const e=Or(t.mapValue.fields[g4].timestampValue);return new Ft(e.seconds,e.nanos)}class RD{constructor(e,n,a,r,o,c,d,m,f,g){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=f,this.isUsingEmulator=g}}const Ym="(default)";class id{constructor(e,n){this.projectId=e,this.database=n||Ym}static empty(){return new id("","")}get isDefaultDatabase(){return this.database===Ym}isEqual(e){return e instanceof id&&e.projectId===this.projectId&&e.database===this.database}}const x4="__type__",DD="__max__",cm={mapValue:{}},b4="__vector__",Km="value";function Vr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sb(t)?4:MD(t)?9007199254740991:PD(t)?10:11:qe(28295,{value:t})}function Wa(t,e){if(t===e)return!0;const n=Vr(t);if(n!==Vr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ad(t).isEqual(ad(e));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Or(r.timestampValue),d=Or(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(r,o){return Lr(r.bytesValue).isEqual(Lr(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(r,o){return an(r.geoPointValue.latitude)===an(o.geoPointValue.latitude)&&an(r.geoPointValue.longitude)===an(o.geoPointValue.longitude)})(t,e);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return an(r.integerValue)===an(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=an(r.doubleValue),d=an(o.doubleValue);return c===d?Qm(c)===Qm(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return nc(t.arrayValue.values||[],e.arrayValue.values||[],Wa);case 10:case 11:return(function(r,o){const c=r.mapValue.fields||{},d=o.mapValue.fields||{};if(T2(c)!==T2(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Wa(c[m],d[m])))return!1;return!0})(t,e);default:return qe(52216,{left:t})}}function rd(t,e){return(t.values||[]).find((n=>Wa(n,e)))!==void 0}function sc(t,e){if(t===e)return 0;const n=Vr(t),a=Vr(e);if(n!==a)return ot(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return ot(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const d=an(o.integerValue||o.doubleValue),m=an(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return E2(t.timestampValue,e.timestampValue);case 4:return E2(ad(t),ad(e));case 5:return ex(t.stringValue,e.stringValue);case 6:return(function(o,c){const d=Lr(o),m=Lr(c);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const d=o.split("/"),m=c.split("/");for(let f=0;f<d.length&&f<m.length;f++){const g=ot(d[f],m[f]);if(g!==0)return g}return ot(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const d=ot(an(o.latitude),an(c.latitude));return d!==0?d:ot(an(o.longitude),an(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return A2(t.arrayValue,e.arrayValue);case 10:return(function(o,c){const d=o.fields||{},m=c.fields||{},f=d[Km]?.arrayValue,g=m[Km]?.arrayValue,b=ot(f?.values?.length||0,g?.values?.length||0);return b!==0?b:A2(f,g)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===cm.mapValue&&c===cm.mapValue)return 0;if(o===cm.mapValue)return 1;if(c===cm.mapValue)return-1;const d=o.fields||{},m=Object.keys(d),f=c.fields||{},g=Object.keys(f);m.sort(),g.sort();for(let b=0;b<m.length&&b<g.length;++b){const v=ex(m[b],g[b]);if(v!==0)return v;const w=sc(d[m[b]],f[g[b]]);if(w!==0)return w}return ot(m.length,g.length)})(t.mapValue,e.mapValue);default:throw qe(23264,{he:n})}}function E2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ot(t,e);const n=Or(t),a=Or(e),r=ot(n.seconds,a.seconds);return r!==0?r:ot(n.nanos,a.nanos)}function A2(t,e){const n=t.values||[],a=e.values||[];for(let r=0;r<n.length&&r<a.length;++r){const o=sc(n[r],a[r]);if(o)return o}return ot(n.length,a.length)}function ac(t){return tx(t)}function tx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const a=Or(n);return`time(${a.seconds},${a.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Lr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Le.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let a="[",r=!0;for(const o of n.values||[])r?r=!1:a+=",",a+=tx(o);return a+"]"})(t.arrayValue):"mapValue"in t?(function(n){const a=Object.keys(n.fields||{}).sort();let r="{",o=!0;for(const c of a)o?o=!1:r+=",",r+=`${c}:${tx(n.fields[c])}`;return r+"}"})(t.mapValue):qe(61005,{value:t})}function Em(t){switch(Vr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kf(t);return e?16+Em(e):16;case 5:return 2*t.stringValue.length;case 6:return Lr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((r,o)=>r+Em(o)),0)})(t.arrayValue);case 10:case 11:return(function(a){let r=0;return Qr(a.fields,((o,c)=>{r+=o.length+Em(c)})),r})(t.mapValue);default:throw qe(13486,{value:t})}}function k2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function nx(t){return!!t&&"integerValue"in t}function ab(t){return!!t&&"arrayValue"in t}function I2(t){return!!t&&"nullValue"in t}function R2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Am(t){return!!t&&"mapValue"in t}function PD(t){return(t?.mapValue?.fields||{})[x4]?.stringValue===b4}function $u(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Qr(t.mapValue.fields,((n,a)=>e.mapValue.fields[n]=$u(a))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$u(t.arrayValue.values[n]);return e}return{...t}}function MD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===DD}class gs{constructor(e){this.value=e}static empty(){return new gs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Am(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$u(n)}setAll(e){let n=Bn.emptyPath(),a={},r=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,a,r),a={},r=[],n=d.popLast()}c?a[d.lastSegment()]=$u(c):r.push(d.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,a,r)}delete(e){const n=this.field(e.popLast());Am(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let r=n.mapValue.fields[e.get(a)];Am(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,a){Qr(n,((r,o)=>e[r]=o));for(const r of a)delete e[r]}clone(){return new gs($u(this.value))}}function y4(t){const e=[];return Qr(t.fields,((n,a)=>{const r=new Bn([n]);if(Am(a)){const o=y4(a.mapValue).fields;if(o.length===0)e.push(r);else for(const c of o)e.push(r.child(c))}else e.push(r)})),new Rs(e)}class Xn{constructor(e,n,a,r,o,c,d){this.key=e,this.documentType=n,this.version=a,this.readTime=r,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Xn(e,0,He.min(),He.min(),He.min(),gs.empty(),0)}static newFoundDocument(e,n,a,r){return new Xn(e,1,n,He.min(),a,r,0)}static newNoDocument(e,n){return new Xn(e,2,n,He.min(),He.min(),gs.empty(),0)}static newUnknownDocument(e,n){return new Xn(e,3,n,He.min(),He.min(),gs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wm{constructor(e,n){this.position=e,this.inclusive=n}}function D2(t,e,n){let a=0;for(let r=0;r<t.position.length;r++){const o=e[r],c=t.position[r];if(o.field.isKeyField()?a=Le.comparator(Le.fromName(c.referenceValue),n.key):a=sc(c,n.data.field(o.field)),o.dir==="desc"&&(a*=-1),a!==0)break}return a}function P2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wa(t.position[n],e.position[n]))return!1;return!0}class ld{constructor(e,n="asc"){this.field=e,this.dir=n}}function OD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class v4{}class vn extends v4{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new VD(e,n,a):n==="array-contains"?new FD(e,a):n==="in"?new BD(e,a):n==="not-in"?new $D(e,a):n==="array-contains-any"?new qD(e,a):new vn(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new UD(e,a):new zD(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(sc(n,this.value)):n!==null&&Vr(this.value)===Vr(n)&&this.matchesComparison(sc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ga extends v4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ga(e,n)}matches(e){return w4(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function w4(t){return t.op==="and"}function N4(t){return LD(t)&&w4(t)}function LD(t){for(const e of t.filters)if(e instanceof ga)return!1;return!0}function sx(t){if(t instanceof vn)return t.field.canonicalString()+t.op.toString()+ac(t.value);if(N4(t))return t.filters.map((e=>sx(e))).join(",");{const e=t.filters.map((n=>sx(n))).join(",");return`${t.op}(${e})`}}function j4(t,e){return t instanceof vn?(function(a,r){return r instanceof vn&&a.op===r.op&&a.field.isEqual(r.field)&&Wa(a.value,r.value)})(t,e):t instanceof ga?(function(a,r){return r instanceof ga&&a.op===r.op&&a.filters.length===r.filters.length?a.filters.reduce(((o,c,d)=>o&&j4(c,r.filters[d])),!0):!1})(t,e):void qe(19439)}function S4(t){return t instanceof vn?(function(n){return`${n.field.canonicalString()} ${n.op} ${ac(n.value)}`})(t):t instanceof ga?(function(n){return n.op.toString()+" {"+n.getFilters().map(S4).join(" ,")+"}"})(t):"Filter"}class VD extends vn{constructor(e,n,a){super(e,n,a),this.key=Le.fromName(a.referenceValue)}matches(e){const n=Le.comparator(e.key,this.key);return this.matchesComparison(n)}}class UD extends vn{constructor(e,n){super(e,"in",n),this.keys=_4("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class zD extends vn{constructor(e,n){super(e,"not-in",n),this.keys=_4("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function _4(t,e){return(e.arrayValue?.values||[]).map((n=>Le.fromName(n.referenceValue)))}class FD extends vn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ab(n)&&rd(n.arrayValue,this.value)}}class BD extends vn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rd(this.value.arrayValue,n)}}class $D extends vn{constructor(e,n){super(e,"not-in",n)}matches(e){if(rd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!rd(this.value.arrayValue,n)}}class qD extends vn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ab(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>rd(this.value.arrayValue,a)))}}class HD{constructor(e,n=null,a=[],r=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=r,this.limit=o,this.startAt=c,this.endAt=d,this.Te=null}}function M2(t,e=null,n=[],a=[],r=null,o=null,c=null){return new HD(t,e,n,a,r,o,c)}function ib(t){const e=Ge(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>sx(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(o){return o.field.canonicalString()+o.dir})(a))).join(","),Af(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>ac(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>ac(a))).join(",")),e.Te=n}return e.Te}function rb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!OD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!j4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!P2(t.startAt,e.startAt)&&P2(t.endAt,e.endAt)}function ax(t){return Le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class wc{constructor(e,n=null,a=[],r=[],o=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=r,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GD(t,e,n,a,r,o,c,d){return new wc(t,e,n,a,r,o,c,d)}function If(t){return new wc(t)}function O2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function T4(t){return t.collectionGroup!==null}function qu(t){const e=Ge(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Tn(Bn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((f=>{f.isInequality()&&(d=d.add(f.field))}))})),d})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new ld(o,a))})),n.has(Bn.keyField().canonicalString())||e.Ie.push(new ld(Bn.keyField(),a))}return e.Ie}function Fa(t){const e=Ge(t);return e.Ee||(e.Ee=QD(e,qu(t))),e.Ee}function QD(t,e){if(t.limitType==="F")return M2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new ld(r.field,o)}));const n=t.endAt?new Wm(t.endAt.position,t.endAt.inclusive):null,a=t.startAt?new Wm(t.startAt.position,t.startAt.inclusive):null;return M2(t.path,t.collectionGroup,e,t.filters,t.limit,n,a)}}function ix(t,e){const n=t.filters.concat([e]);return new wc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Xm(t,e,n){return new wc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rf(t,e){return rb(Fa(t),Fa(e))&&t.limitType===e.limitType}function C4(t){return`${ib(Fa(t))}|lt:${t.limitType}`}function Fo(t){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((r=>S4(r))).join(", ")}]`),Af(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((r=>ac(r))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((r=>ac(r))).join(",")),`Target(${a})`})(Fa(t))}; limitType=${t.limitType})`}function Df(t,e){return e.isFoundDocument()&&(function(a,r){const o=r.key.path;return a.collectionGroup!==null?r.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(o):Le.isDocumentKey(a.path)?a.path.isEqual(o):a.path.isImmediateParentOf(o)})(t,e)&&(function(a,r){for(const o of qu(a))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(a,r){for(const o of a.filters)if(!o.matches(r))return!1;return!0})(t,e)&&(function(a,r){return!(a.startAt&&!(function(c,d,m){const f=D2(c,d,m);return c.inclusive?f<=0:f<0})(a.startAt,qu(a),r)||a.endAt&&!(function(c,d,m){const f=D2(c,d,m);return c.inclusive?f>=0:f>0})(a.endAt,qu(a),r))})(t,e)}function YD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function E4(t){return(e,n)=>{let a=!1;for(const r of qu(t)){const o=KD(r,e,n);if(o!==0)return o;a=a||r.field.isKeyField()}return 0}}function KD(t,e,n){const a=t.field.isKeyField()?Le.comparator(e.key,n.key):(function(o,c,d){const m=c.data.field(o),f=d.data.field(o);return m!==null&&f!==null?sc(m,f):qe(42886)})(t.field,e,n);switch(t.dir){case"asc":return a;case"desc":return-1*a;default:return qe(19790,{direction:t.dir})}}class ql{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[r,o]of a)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),r=this.inner[a];if(r===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let r=0;r<a.length;r++)if(this.equalsFn(a[r][0],e))return a.length===1?delete this.inner[n]:a.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Qr(this.inner,((n,a)=>{for(const[r,o]of a)e(r,o)}))}isEmpty(){return d4(this.inner)}size(){return this.innerSize}}const WD=new Kt(Le.comparator);function Oi(){return WD}const A4=new Kt(Le.comparator);function Lu(...t){let e=A4;for(const n of t)e=e.insert(n.key,n);return e}function k4(t){let e=A4;return t.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function kl(){return Hu()}function I4(){return Hu()}function Hu(){return new ql((t=>t.toString()),((t,e)=>t.isEqual(e)))}const XD=new Kt(Le.comparator),JD=new Tn(Le.comparator);function ct(...t){let e=JD;for(const n of t)e=e.add(n);return e}const ZD=new Tn(ot);function eP(){return ZD}function lb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qm(e)?"-0":e}}function R4(t){return{integerValue:""+t}}function tP(t,e){return ED(e)?R4(e):lb(t,e)}class Pf{constructor(){this._=void 0}}function nP(t,e,n){return t instanceof od?(function(r,o){const c={fields:{[f4]:{stringValue:m4},[g4]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&sb(o)&&(o=kf(o)),o&&(c.fields[p4]=o),{mapValue:c}})(n,e):t instanceof ic?P4(t,e):t instanceof rc?M4(t,e):(function(r,o){const c=D4(r,o),d=L2(c)+L2(r.Ae);return nx(c)&&nx(r.Ae)?R4(d):lb(r.serializer,d)})(t,e)}function sP(t,e,n){return t instanceof ic?P4(t,e):t instanceof rc?M4(t,e):n}function D4(t,e){return t instanceof Jm?(function(a){return nx(a)||(function(o){return!!o&&"doubleValue"in o})(a)})(e)?e:{integerValue:0}:null}class od extends Pf{}class ic extends Pf{constructor(e){super(),this.elements=e}}function P4(t,e){const n=O4(e);for(const a of t.elements)n.some((r=>Wa(r,a)))||n.push(a);return{arrayValue:{values:n}}}class rc extends Pf{constructor(e){super(),this.elements=e}}function M4(t,e){let n=O4(e);for(const a of t.elements)n=n.filter((r=>!Wa(r,a)));return{arrayValue:{values:n}}}class Jm extends Pf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function L2(t){return an(t.integerValue||t.doubleValue)}function O4(t){return ab(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class ob{constructor(e,n){this.field=e,this.transform=n}}function aP(t,e){return t.field.isEqual(e.field)&&(function(a,r){return a instanceof ic&&r instanceof ic||a instanceof rc&&r instanceof rc?nc(a.elements,r.elements,Wa):a instanceof Jm&&r instanceof Jm?Wa(a.Ae,r.Ae):a instanceof od&&r instanceof od})(t.transform,e.transform)}class iP{constructor(e,n){this.version=e,this.transformResults=n}}class Xs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xs}static exists(e){return new Xs(void 0,e)}static updateTime(e){return new Xs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function km(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Mf{}function L4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cb(t.key,Xs.none()):new Cd(t.key,t.data,Xs.none());{const n=t.data,a=gs.empty();let r=new Tn(Bn.comparator);for(let o of e.fields)if(!r.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?a.delete(o):a.set(o,c),r=r.add(o)}return new Yr(t.key,a,new Rs(r.toArray()),Xs.none())}}function rP(t,e,n){t instanceof Cd?(function(r,o,c){const d=r.value.clone(),m=U2(r.fieldTransforms,o,c.transformResults);d.setAll(m),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Yr?(function(r,o,c){if(!km(r.precondition,o))return void o.convertToUnknownDocument(c.version);const d=U2(r.fieldTransforms,o,c.transformResults),m=o.data;m.setAll(V4(r)),m.setAll(d),o.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Gu(t,e,n,a){return t instanceof Cd?(function(o,c,d,m){if(!km(o.precondition,c))return d;const f=o.value.clone(),g=z2(o.fieldTransforms,m,c);return f.setAll(g),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null})(t,e,n,a):t instanceof Yr?(function(o,c,d,m){if(!km(o.precondition,c))return d;const f=z2(o.fieldTransforms,m,c),g=c.data;return g.setAll(V4(o)),g.setAll(f),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(t,e,n,a):(function(o,c,d){return km(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function lP(t,e){let n=null;for(const a of t.fieldTransforms){const r=e.data.field(a.field),o=D4(a.transform,r||null);o!=null&&(n===null&&(n=gs.empty()),n.set(a.field,o))}return n||null}function V2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(a,r){return a===void 0&&r===void 0||!(!a||!r)&&nc(a,r,((o,c)=>aP(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cd extends Mf{constructor(e,n,a,r=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Yr extends Mf{constructor(e,n,a,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function V4(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=t.data.field(n);e.set(n,a)}})),e}function U2(t,e,n){const a=new Map;wt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const o=t[r],c=o.transform,d=e.data.field(o.field);a.set(o.field,sP(c,d,n[r]))}return a}function z2(t,e,n){const a=new Map;for(const r of t){const o=r.transform,c=n.data.field(r.field);a.set(r.field,nP(o,c,e))}return a}class cb extends Mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oP extends Mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cP{constructor(e,n,a,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=r}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&rP(o,e,a[r])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Gu(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Gu(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=I4();return this.mutations.forEach((r=>{const o=e.get(r.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=n.has(r.key)?null:d;const m=L4(c,d);m!==null&&a.set(r.key,m),c.isValidDocument()||c.convertToNoDocument(He.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ct())}isEqual(e){return this.batchId===e.batchId&&nc(this.mutations,e.mutations,((n,a)=>V2(n,a)))&&nc(this.baseMutations,e.baseMutations,((n,a)=>V2(n,a)))}}class ub{constructor(e,n,a,r){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=r}static from(e,n,a){wt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let r=(function(){return XD})();const o=e.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,a[c].version);return new ub(e,n,a,r)}}class uP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class dP{constructor(e,n){this.count=e,this.unchangedNames=n}}var xn,mt;function hP(t){switch(t){case fe.OK:return qe(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return qe(15467,{code:t})}}function U4(t){if(t===void 0)return Mi("GRPC error has no .code"),fe.UNKNOWN;switch(t){case xn.OK:return fe.OK;case xn.CANCELLED:return fe.CANCELLED;case xn.UNKNOWN:return fe.UNKNOWN;case xn.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case xn.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case xn.INTERNAL:return fe.INTERNAL;case xn.UNAVAILABLE:return fe.UNAVAILABLE;case xn.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case xn.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case xn.NOT_FOUND:return fe.NOT_FOUND;case xn.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case xn.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case xn.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case xn.ABORTED:return fe.ABORTED;case xn.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case xn.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case xn.DATA_LOSS:return fe.DATA_LOSS;default:return qe(39323,{code:t})}}(mt=xn||(xn={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";function mP(){return new TextEncoder}const fP=new Rr([4294967295,4294967295],0);function F2(t){const e=mP().encode(t),n=new e4;return n.update(e),new Uint8Array(n.digest())}function B2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Rr([n,a],0),new Rr([r,o],0)]}class db{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Vu(`Invalid padding: ${n}`);if(a<0)throw new Vu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Vu(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Vu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Rr.fromNumber(this.ge)}ye(e,n,a){let r=e.add(n.multiply(Rr.fromNumber(a)));return r.compare(fP)===1&&(r=new Rr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=F2(e),[a,r]=B2(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(a,r,o);if(!this.we(c))return!1}return!0}static create(e,n,a){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new db(o,r,n);return a.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=F2(e),[a,r]=B2(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(a,r,o);this.Se(c)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Of{constructor(e,n,a,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const r=new Map;return r.set(e,Ed.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Of(He.min(),r,new Kt(ot),Oi(),ct())}}class Ed{constructor(e,n,a,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Ed(a,n,ct(),ct(),ct())}}class Im{constructor(e,n,a,r){this.be=e,this.removedTargetIds=n,this.key=a,this.De=r}}class z4{constructor(e,n){this.targetId=e,this.Ce=n}}class F4{constructor(e,n,a=Hn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=r}}class $2{constructor(){this.ve=0,this.Fe=q2(),this.Me=Hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ct(),n=ct(),a=ct();return this.Fe.forEach(((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:a=a.add(r);break;default:qe(38017,{changeType:o})}})),new Ed(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=q2()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pP{constructor(e){this.Ge=e,this.ze=new Map,this.je=Oi(),this.Je=um(),this.He=um(),this.Ye=new Kt(ot)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:qe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,r)=>{this.rt(r)&&n(r)}))}st(e){const n=e.targetId,a=e.Ce.count,r=this.ot(n);if(r){const o=r.target;if(ax(o))if(a===0){const c=new Le(o.path);this.et(n,c,Xn.newNoDocument(c,He.min()))}else wt(a===1,20013,{expectedCount:a});else{const c=this._t(n);if(c!==a){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(n);const f=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:r=0},hashCount:o=0}=n;let c,d;try{c=Lr(a).toUint8Array()}catch(m){if(m instanceof h4)return tc("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new db(c,r,o)}catch(m){return tc(m instanceof Vu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let r=0;return a.forEach((o=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.et(n,o,null),r++)})),r}Tt(e){const n=new Map;this.ze.forEach(((o,c)=>{const d=this.ot(c);if(d){if(o.current&&ax(d.target)){const m=new Le(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,Xn.newNoDocument(m,e))}o.Be&&(n.set(c,o.ke()),o.qe())}}));let a=ct();this.He.forEach(((o,c)=>{let d=!0;c.forEachWhile((m=>{const f=this.ot(m);return!f||f.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(a=a.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const r=new Of(e,n,this.Ye,this.je,a);return this.je=Oi(),this.Je=um(),this.He=um(),this.Ye=new Kt(ot),r}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new $2,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Tn(ot),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Tn(ot),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $2),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function um(){return new Kt(Le.comparator)}function q2(){return new Kt(Le.comparator)}const gP={asc:"ASCENDING",desc:"DESCENDING"},xP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bP={and:"AND",or:"OR"};class yP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rx(t,e){return t.useProto3Json||Af(e)?e:{value:e}}function Zm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function B4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vP(t,e){return Zm(t,e.toTimestamp())}function Ba(t){return wt(!!t,49232),He.fromTimestamp((function(n){const a=Or(n);return new Ft(a.seconds,a.nanos)})(t))}function hb(t,e){return lx(t,e).canonicalString()}function lx(t,e){const n=(function(r){return new Ot(["projects",r.projectId,"databases",r.database])})(t).child("documents");return e===void 0?n:n.child(e)}function $4(t){const e=Ot.fromString(t);return wt(Y4(e),10190,{key:e.toString()}),e}function ox(t,e){return hb(t.databaseId,e.path)}function cg(t,e){const n=$4(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Le(H4(n))}function q4(t,e){return hb(t.databaseId,e)}function wP(t){const e=$4(t);return e.length===4?Ot.emptyPath():H4(e)}function cx(t){return new Ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function H4(t){return wt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function H2(t,e,n){return{name:ox(t,e),fields:n.value.mapValue.fields}}function NP(t,e){let n;if("targetChange"in e){e.targetChange;const a=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:qe(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=(function(f,g){return f.useProto3Json?(wt(g===void 0||typeof g=="string",58123),Hn.fromBase64String(g||"")):(wt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Hn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(f){const g=f.code===void 0?fe.UNKNOWN:U4(f.code);return new Te(g,f.message||"")})(c);n=new F4(a,r,o,d||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const r=cg(t,a.document.name),o=Ba(a.document.updateTime),c=a.document.createTime?Ba(a.document.createTime):He.min(),d=new gs({mapValue:{fields:a.document.fields}}),m=Xn.newFoundDocument(r,o,c,d),f=a.targetIds||[],g=a.removedTargetIds||[];n=new Im(f,g,m.key,m)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const r=cg(t,a.document),o=a.readTime?Ba(a.readTime):He.min(),c=Xn.newNoDocument(r,o),d=a.removedTargetIds||[];n=new Im([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const r=cg(t,a.document),o=a.removedTargetIds||[];n=new Im([],o,r,null)}else{if(!("filter"in e))return qe(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:r=0,unchangedNames:o}=a,c=new dP(r,o),d=a.targetId;n=new z4(d,c)}}return n}function jP(t,e){let n;if(e instanceof Cd)n={update:H2(t,e.key,e.value)};else if(e instanceof cb)n={delete:ox(t,e.key)};else if(e instanceof Yr)n={update:H2(t,e.key,e.data),updateMask:RP(e.fieldMask)};else{if(!(e instanceof oP))return qe(16599,{Vt:e.type});n={verify:ox(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(o,c){const d=c.transform;if(d instanceof od)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ic)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof rc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Jm)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw qe(20930,{transform:c.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:vP(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:qe(27497)})(t,e.precondition)),n}function SP(t,e){return t&&t.length>0?(wt(e!==void 0,14353),t.map((n=>(function(r,o){let c=r.updateTime?Ba(r.updateTime):Ba(o);return c.isEqual(He.min())&&(c=Ba(o)),new iP(c,r.transformResults||[])})(n,e)))):[]}function _P(t,e){return{documents:[q4(t,e.path)]}}function TP(t,e){const n={structuredQuery:{}},a=e.path;let r;e.collectionGroup!==null?(r=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=q4(t,r);const o=(function(f){if(f.length!==0)return Q4(ga.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(f){if(f.length!==0)return f.map((g=>(function(v){return{field:Bo(v.field),direction:AP(v.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=rx(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:r}}function CP(t){let e=wP(t.parent);const n=t.structuredQuery,a=n.from?n.from.length:0;let r=null;if(a>0){wt(a===1,65062);const g=n.from[0];g.allDescendants?r=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=(function(b){const v=G4(b);return v instanceof ga&&N4(v)?v.getFilters():[v]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((v=>(function(j){return new ld($o(j.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(v)))})(n.orderBy));let d=null;n.limit&&(d=(function(b){let v;return v=typeof b=="object"?b.value:b,Af(v)?null:v})(n.limit));let m=null;n.startAt&&(m=(function(b){const v=!!b.before,w=b.values||[];return new Wm(w,v)})(n.startAt));let f=null;return n.endAt&&(f=(function(b){const v=!b.before,w=b.values||[];return new Wm(w,v)})(n.endAt)),GD(e,r,c,o,d,"F",m,f)}function EP(t,e){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:r})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function G4(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=$o(n.unaryFilter.field);return vn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const r=$o(n.unaryFilter.field);return vn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=$o(n.unaryFilter.field);return vn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=$o(n.unaryFilter.field);return vn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return vn.create($o(n.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ga.create(n.compositeFilter.filters.map((a=>G4(a))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return qe(1026)}})(n.compositeFilter.op))})(t):qe(30097,{filter:t})}function AP(t){return gP[t]}function kP(t){return xP[t]}function IP(t){return bP[t]}function Bo(t){return{fieldPath:t.canonicalString()}}function $o(t){return Bn.fromServerFormat(t.fieldPath)}function Q4(t){return t instanceof vn?(function(n){if(n.op==="=="){if(R2(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NAN"}};if(I2(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(R2(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NAN"}};if(I2(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(n.field),op:kP(n.op),value:n.value}}})(t):t instanceof ga?(function(n){const a=n.getFilters().map((r=>Q4(r)));return a.length===1?a[0]:{compositeFilter:{op:IP(n.op),filters:a}}})(t):qe(54877,{filter:t})}function RP(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Y4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Cr{constructor(e,n,a,r,o=He.min(),c=He.min(),d=Hn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class DP{constructor(e){this.yt=e}}function PP(t){const e=CP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xm(e,e.limit,"L"):e}class MP{constructor(){this.Cn=new OP}addToCollectionParentIndex(e,n){return this.Cn.add(n),xe.resolve()}getCollectionParents(e,n){return xe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return xe.resolve()}deleteFieldIndex(e,n){return xe.resolve()}deleteAllFieldIndexes(e){return xe.resolve()}createTargetIndexes(e,n){return xe.resolve()}getDocumentsMatchingTarget(e,n){return xe.resolve(null)}getIndexType(e,n){return xe.resolve(0)}getFieldIndexes(e,n){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,n){return xe.resolve(Mr.min())}getMinOffsetFromCollectionGroup(e,n){return xe.resolve(Mr.min())}updateCollectionGroup(e,n,a){return xe.resolve()}updateIndexEntries(e,n){return xe.resolve()}}class OP{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),r=this.index[n]||new Tn(Ot.comparator),o=!r.has(a);return this.index[n]=r.add(a),o}has(e){const n=e.lastSegment(),a=e.popLast(),r=this.index[n];return r&&r.has(a)}getEntries(e){return(this.index[e]||new Tn(Ot.comparator)).toArray()}}const G2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},K4=41943040;class ps{static withCacheSize(e){return new ps(e,ps.DEFAULT_COLLECTION_PERCENTILE,ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}ps.DEFAULT_COLLECTION_PERCENTILE=10,ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ps.DEFAULT=new ps(K4,ps.DEFAULT_COLLECTION_PERCENTILE,ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ps.DISABLED=new ps(-1,0,0);class lc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new lc(0)}static cr(){return new lc(-1)}}const Q2="LruGarbageCollector",LP=1048576;function Y2([t,e],[n,a]){const r=ot(t,n);return r===0?ot(e,a):r}class VP{constructor(e){this.Ir=e,this.buffer=new Tn(Y2),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();Y2(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class UP{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(Q2,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vc(n)?Ee(Q2,"Ignoring IndexedDB error during garbage collection: ",n):await yc(n)}await this.Vr(3e5)}))}}class zP{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return xe.resolve(Ef.ce);const a=new VP(n);return this.mr.forEachTarget(e,(r=>a.Ar(r.sequenceNumber))).next((()=>this.mr.pr(e,(r=>a.Ar(r))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),xe.resolve(G2)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),G2):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,r,o,c,d,m,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),r=this.params.maximumSequenceNumbersToCollect):r=b,c=Date.now(),this.nthSequenceNumber(e,r)))).next((b=>(a=b,d=Date.now(),this.removeTargets(e,a,n)))).next((b=>(o=b,m=Date.now(),this.removeOrphanedDocuments(e,a)))).next((b=>(f=Date.now(),zo()<=lt.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${r} in `+(d-c)+`ms
	Removed ${o} targets in `+(m-d)+`ms
	Removed ${b} documents in `+(f-m)+`ms
Total Duration: ${f-g}ms`),xe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:b}))))}}function FP(t,e){return new zP(t,e)}class BP{constructor(){this.changes=new ql((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?xe.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $P{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class qP{constructor(e,n,a,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=r}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((r=>(a=r,this.remoteDocumentCache.getEntry(e,n)))).next((r=>(a!==null&&Gu(a.mutation,r,Rs.empty(),Ft.now()),r)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,ct()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=ct()){const r=kl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,a).next((o=>{let c=Lu();return o.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const a=kl();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,ct())))}populateOverlays(e,n,a){const r=[];return a.forEach((o=>{n.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(e,r).next((o=>{o.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,a,r){let o=Oi();const c=Hu(),d=(function(){return Hu()})();return n.forEach(((m,f)=>{const g=a.get(f.key);r.has(f.key)&&(g===void 0||g.mutation instanceof Yr)?o=o.insert(f.key,f):g!==void 0?(c.set(f.key,g.mutation.getFieldMask()),Gu(g.mutation,f,g.mutation.getFieldMask(),Ft.now())):c.set(f.key,Rs.empty())})),this.recalculateAndSaveOverlays(e,o).next((m=>(m.forEach(((f,g)=>c.set(f,g))),n.forEach(((f,g)=>d.set(f,new $P(g,c.get(f)??null)))),d)))}recalculateAndSaveOverlays(e,n){const a=Hu();let r=new Kt(((c,d)=>c-d)),o=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const f=n.get(m);if(f===null)return;let g=a.get(m)||Rs.empty();g=d.applyToLocalView(f,g),a.set(m,g);const b=(r.get(d.batchId)||ct()).add(m);r=r.insert(d.batchId,b)}))})).next((()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),f=m.key,g=m.value,b=I4();g.forEach((v=>{if(!o.has(v)){const w=L4(n.get(v),a.get(v));w!==null&&b.set(v,w),o=o.add(v)}})),c.push(this.documentOverlayCache.saveOverlays(e,f,b))}return xe.waitFor(c)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,r){return(function(c){return Le.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):T4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,r):this.getDocumentsMatchingCollectionQuery(e,n,a,r)}getNextDocuments(e,n,a,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,r).next((o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,r-o.size):xe.resolve(kl());let d=sd,m=o;return c.next((f=>xe.forEach(f,((g,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),o.get(g)?xe.resolve():this.remoteDocumentCache.getEntry(e,g).next((v=>{m=m.insert(g,v)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,m,f,ct()))).next((g=>({batchId:d,changes:k4(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Le(n)).next((a=>{let r=Lu();return a.isFoundDocument()&&(r=r.insert(a.key,a)),r}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,r){const o=n.collectionGroup;let c=Lu();return this.indexManager.getCollectionParents(e,o).next((d=>xe.forEach(d,(m=>{const f=(function(b,v){return new wc(v,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,a,r).next((g=>{g.forEach(((b,v)=>{c=c.insert(b,v)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,a,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,o,r)))).next((c=>{o.forEach(((m,f)=>{const g=f.getKey();c.get(g)===null&&(c=c.insert(g,Xn.newInvalidDocument(g)))}));let d=Lu();return c.forEach(((m,f)=>{const g=o.get(m);g!==void 0&&Gu(g.mutation,f,Rs.empty(),Ft.now()),Df(n,f)&&(d=d.insert(m,f))})),d}))}}class HP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return xe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:Ba(r.createTime)}})(n)),xe.resolve()}getNamedQuery(e,n){return xe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(r){return{name:r.name,query:PP(r.bundledQuery),readTime:Ba(r.readTime)}})(n)),xe.resolve()}}class GP{constructor(){this.overlays=new Kt(Le.comparator),this.qr=new Map}getOverlay(e,n){return xe.resolve(this.overlays.get(n))}getOverlays(e,n){const a=kl();return xe.forEach(n,(r=>this.getOverlay(e,r).next((o=>{o!==null&&a.set(r,o)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((r,o)=>{this.St(e,n,o)})),xe.resolve()}removeOverlaysForBatchId(e,n,a){const r=this.qr.get(a);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(a)),xe.resolve()}getOverlaysForCollection(e,n,a){const r=kl(),o=n.length+1,c=new Le(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,f=m.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&m.largestBatchId>a&&r.set(m.getKey(),m)}return xe.resolve(r)}getOverlaysForCollectionGroup(e,n,a,r){let o=new Kt(((f,g)=>f-g));const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>a){let g=o.get(f.largestBatchId);g===null&&(g=kl(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const d=kl(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((f,g)=>d.set(f,g))),!(d.size()>=r)););return xe.resolve(d)}St(e,n,a){const r=this.overlays.get(a.key);if(r!==null){const c=this.qr.get(r.largestBatchId).delete(a.key);this.qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(a.key,new uP(n,a));let o=this.qr.get(n);o===void 0&&(o=ct(),this.qr.set(n,o)),this.qr.set(n,o.add(a.key))}}class QP{constructor(){this.sessionToken=Hn.EMPTY_BYTE_STRING}getSessionToken(e){return xe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,xe.resolve()}}class mb{constructor(){this.Qr=new Tn(In.$r),this.Ur=new Tn(In.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new In(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new In(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new Le(new Ot([])),a=new In(n,e),r=new In(n,e+1),o=[];return this.Ur.forEachInRange([a,r],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Le(new Ot([])),a=new In(n,e),r=new In(n,e+1);let o=ct();return this.Ur.forEachInRange([a,r],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new In(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class In{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Le.comparator(e.key,n.key)||ot(e.Yr,n.Yr)}static Kr(e,n){return ot(e.Yr,n.Yr)||Le.comparator(e.key,n.key)}}class YP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Tn(In.$r)}checkEmpty(e){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new cP(o,n,a,r);this.mutationQueue.push(c);for(const d of r)this.Zr=this.Zr.add(new In(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return xe.resolve(c)}lookupMutationBatch(e,n){return xe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,r=this.ei(a),o=r<0?0:r;return xe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?nb:this.tr-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new In(n,0),r=new In(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([a,r],(c=>{const d=this.Xr(c.Yr);o.push(d)})),xe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Tn(ot);return n.forEach((r=>{const o=new In(r,0),c=new In(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(d=>{a=a.add(d.Yr)}))})),xe.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,r=a.length+1;let o=a;Le.isDocumentKey(o)||(o=o.child(""));const c=new In(new Le(o),0);let d=new Tn(ot);return this.Zr.forEachWhile((m=>{const f=m.key.path;return!!a.isPrefixOf(f)&&(f.length===r&&(d=d.add(m.Yr)),!0)}),c),xe.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((a=>{const r=this.Xr(a);r!==null&&n.push(r)})),n}removeMutationBatch(e,n){wt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return xe.forEach(n.mutations,(r=>{const o=new In(r.key,n.batchId);return a=a.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new In(n,0),r=this.Zr.firstAfterOrEqual(a);return xe.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,xe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class KP{constructor(e){this.ri=e,this.docs=(function(){return new Kt(Le.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,r=this.docs.get(a),o=r?r.size:0,c=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return xe.resolve(a?a.document.mutableCopy():Xn.newInvalidDocument(n))}getEntries(e,n){let a=Oi();return n.forEach((r=>{const o=this.docs.get(r);a=a.insert(r,o?o.document.mutableCopy():Xn.newInvalidDocument(r))})),xe.resolve(a)}getDocumentsMatchingQuery(e,n,a,r){let o=Oi();const c=n.path,d=new Le(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:f,value:{document:g}}=m.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||SD(jD(g),a)<=0||(r.has(g.key)||Df(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return xe.resolve(o)}getAllFromCollectionGroup(e,n,a,r){qe(9500)}ii(e,n){return xe.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new WP(this)}getSize(e){return xe.resolve(this.size)}}class WP extends BP{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(a)})),xe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class XP{constructor(e){this.persistence=e,this.si=new ql((n=>ib(n)),rb),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.oi=0,this._i=new mb,this.targetCount=0,this.ai=lc.ur()}forEachTarget(e,n){return this.si.forEach(((a,r)=>n(r))),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),xe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new lc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,xe.resolve()}updateTargetData(e,n){return this.Pr(n),xe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,n,a){let r=0;const o=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&a.get(d.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),r++)})),xe.waitFor(o).next((()=>r))}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return xe.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),xe.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach((c=>{o.push(r.markPotentiallyOrphaned(e,c))})),xe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),xe.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return xe.resolve(a)}containsKey(e,n){return xe.resolve(this._i.containsKey(n))}}class W4{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ef(0),this.li=!1,this.li=!0,this.hi=new QP,this.referenceDelegate=e(this),this.Pi=new XP(this),this.indexManager=new MP,this.remoteDocumentCache=(function(r){return new KP(r)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new DP(n),this.Ii=new HP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new YP(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){Ee("MemoryPersistence","Starting transaction:",e);const r=new JP(this.ci.next());return this.referenceDelegate.Ei(),a(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(e,n){return xe.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class JP extends TD{constructor(e){super(),this.currentSequenceNumber=e}}class fb{constructor(e){this.persistence=e,this.Ri=new mb,this.Vi=null}static mi(e){return new fb(e)}get fi(){if(this.Vi)return this.Vi;throw qe(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),xe.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),xe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),xe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((r=>this.fi.add(r.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.fi,(a=>{const r=Le.fromPath(a);return this.gi(e,r).next((o=>{o||n.removeEntry(r,He.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return xe.or([()=>xe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ef{constructor(e,n){this.persistence=e,this.pi=new ql((a=>AD(a.path)),((a,r)=>a.isEqual(r))),this.garbageCollector=FP(this,n)}static mi(e,n){return new ef(e,n)}Ei(){}di(e){return xe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((r=>a+r))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return xe.forEach(this.pi,((a,r)=>this.br(e,a,r).next((o=>o?xe.resolve():n(r)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(e,(c=>this.br(e,c,n).next((d=>{d||(a++,o.removeEntry(c,He.min()))})))).next((()=>o.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),xe.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),xe.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),xe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),xe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Em(e.data.value)),n}br(e,n,a){return xe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return xe.resolve(r!==void 0&&r>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class pb{constructor(e,n,a,r){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=r}static As(e,n){let a=ct(),r=ct();for(const o of n.docChanges)switch(o.type){case 0:a=a.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new pb(e,n.fromCache,a,r)}}class ZP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class eM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _3()?8:CD(ns())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,r){const o={result:null};return this.ys(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,n,r,a).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new ZP;return this.Ss(e,n,c).next((d=>{if(o.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>o.result))}bs(e,n,a,r){return a.documentReadCount<this.fs?(zo()<=lt.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),xe.resolve()):(zo()<=lt.DEBUG&&Ee("QueryEngine","Query:",Fo(n),"scans",a.documentReadCount,"local documents and returns",r,"documents as results."),a.documentReadCount>this.gs*r?(zo()<=lt.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fa(n))):xe.resolve())}ys(e,n){if(O2(n))return xe.resolve(null);let a=Fa(n);return this.indexManager.getIndexType(e,a).next((r=>r===0?null:(n.limit!==null&&r===1&&(n=Xm(n,null,"F"),a=Fa(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((o=>{const c=ct(...o);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,a).next((m=>{const f=this.Ds(n,d);return this.Cs(n,f,c,m.readTime)?this.ys(e,Xm(n,null,"F")):this.vs(e,f,n,m)}))))})))))}ws(e,n,a,r){return O2(n)||r.isEqual(He.min())?xe.resolve(null):this.ps.getDocuments(e,a).next((o=>{const c=this.Ds(n,o);return this.Cs(n,c,a,r)?xe.resolve(null):(zo()<=lt.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Fo(n)),this.vs(e,c,n,ND(r,sd)).next((d=>d)))}))}Ds(e,n){let a=new Tn(E4(e));return n.forEach(((r,o)=>{Df(e,o)&&(a=a.add(o))})),a}Cs(e,n,a,r){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(e,n,a){return zo()<=lt.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Fo(n)),this.ps.getDocumentsMatchingQuery(e,n,Mr.min(),a)}vs(e,n,a,r){return this.ps.getDocumentsMatchingQuery(e,a,r).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const gb="LocalStore",tM=3e8;class nM{constructor(e,n,a,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new Kt(ot),this.xs=new ql((o=>ib(o)),rb),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function sM(t,e,n,a){return new nM(t,e,n,a)}async function X4(t,e){const n=Ge(t);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let r;return n.mutationQueue.getAllMutationBatches(a).next((o=>(r=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((o=>{const c=[],d=[];let m=ct();for(const f of r){c.push(f.batchId);for(const g of f.mutations)m=m.add(g.key)}for(const f of o){d.push(f.batchId);for(const g of f.mutations)m=m.add(g.key)}return n.localDocuments.getDocuments(a,m).next((f=>({Ls:f,removedBatchIds:c,addedBatchIds:d})))}))}))}function aM(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const r=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,f,g){const b=f.batch,v=b.keys();let w=xe.resolve();return v.forEach((j=>{w=w.next((()=>g.getEntry(m,j))).next((I=>{const D=f.docVersions.get(j);wt(D!==null,48541),I.version.compareTo(D)<0&&(b.applyToRemoteDocument(I,f),I.isValidDocument()&&(I.setReadTime(f.commitVersion),g.addEntry(I)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(m,b)))})(n,a,e,o).next((()=>o.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(d){let m=ct();for(let f=0;f<d.mutationResults.length;++f)d.mutationResults[f].transformResults.length>0&&(m=m.add(d.batch.mutations[f].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(a,r)))}))}function J4(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function iM(t,e){const n=Ge(t),a=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const d=[];e.targetChanges.forEach(((g,b)=>{const v=r.get(b);if(!v)return;d.push(n.Pi.removeMatchingKeys(o,g.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(o,g.addedDocuments,b))));let w=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?w=w.withResumeToken(Hn.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,a)),r=r.insert(b,w),(function(I,D,L){return I.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=tM?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(v,w,g)&&d.push(n.Pi.updateTargetData(o,w))}));let m=Oi(),f=ct();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))})),d.push(rM(o,c,e.documentUpdates).next((g=>{m=g.ks,f=g.qs}))),!a.isEqual(He.min())){const g=n.Pi.getLastRemoteSnapshotVersion(o).next((b=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,a)));d.push(g)}return xe.waitFor(d).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,m,f))).next((()=>m))})).then((o=>(n.Ms=r,o)))}function rM(t,e,n){let a=ct(),r=ct();return n.forEach((o=>a=a.add(o))),e.getEntries(t,a).next((o=>{let c=Oi();return n.forEach(((d,m)=>{const f=o.get(d);m.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(d)),m.isNoDocument()&&m.version.isEqual(He.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!f.isValidDocument()||m.version.compareTo(f.version)>0||m.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):Ee(gb,"Ignoring outdated watch update for ",d,". Current version:",f.version," Watch version:",m.version)})),{ks:c,qs:r}}))}function lM(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=nb),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function oM(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let r;return n.Pi.getTargetData(a,e).next((o=>o?(r=o,xe.resolve(r)):n.Pi.allocateTargetId(a).next((c=>(r=new Cr(e,c,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,r).next((()=>r)))))))})).then((a=>{const r=n.Ms.get(a.targetId);return(r===null||a.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function ux(t,e,n){const a=Ge(t),r=a.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",o,(c=>a.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!vc(c))throw c;Ee(gb,`Failed to update sequence numbers for target ${e}: ${c}`)}a.Ms=a.Ms.remove(e),a.xs.delete(r.target)}function K2(t,e,n){const a=Ge(t);let r=He.min(),o=ct();return a.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,f,g){const b=Ge(m),v=b.xs.get(g);return v!==void 0?xe.resolve(b.Ms.get(v)):b.Pi.getTargetData(f,g)})(a,c,Fa(e)).next((d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{o=m}))})).next((()=>a.Fs.getDocumentsMatchingQuery(c,e,n?r:He.min(),n?o:ct()))).next((d=>(cM(a,YD(e),d),{documents:d,Qs:o})))))}function cM(t,e,n){let a=t.Os.get(e)||He.min();n.forEach(((r,o)=>{o.readTime.compareTo(a)>0&&(a=o.readTime)})),t.Os.set(e,a)}class W2{constructor(){this.activeTargetIds=eP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uM{constructor(){this.Mo=new W2,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new W2,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dM{Oo(e){}shutdown(){}}const X2="ConnectivityMonitor";class J2{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(X2,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(X2,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let dm=null;function dx(){return dm===null?dm=(function(){return 268435456+Math.round(2147483648*Math.random())})():dm++,"0x"+dm.toString(16)}const ug="RestConnection",hM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${r}`,this.Wo=this.databaseId.database===Ym?`project_id=${a}`:`project_id=${a}&database_id=${r}`}Go(e,n,a,r,o){const c=dx(),d=this.zo(e,n.toUriEncodedString());Ee(ug,`Sending RPC '${e}' ${c}:`,d,a);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,r,o);const{host:f}=new URL(d),g=pc(f);return this.Jo(e,d,m,a,g).then((b=>(Ee(ug,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw tc(ug,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",a),b}))}Ho(e,n,a,r,o,c){return this.Go(e,n,a,r,o)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((r,o)=>e[o]=r)),a&&a.headers.forEach(((r,o)=>e[o]=r))}zo(e,n){const a=hM[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}class fM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Kn="WebChannelConnection";class pM extends mM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,r,o){const c=dx();return new Promise(((d,m)=>{const f=new t4;f.setWithCredentials(!0),f.listenOnce(n4.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Cm.NO_ERROR:const b=f.getResponseJson();Ee(Kn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case Cm.TIMEOUT:Ee(Kn,`RPC '${e}' ${c} timed out`),m(new Te(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Cm.HTTP_ERROR:const v=f.getStatus();if(Ee(Kn,`RPC '${e}' ${c} failed with status:`,v,"response text:",f.getResponseText()),v>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const j=w?.error;if(j&&j.status&&j.message){const I=(function(L){const R=L.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(R)>=0?R:fe.UNKNOWN})(j.status);m(new Te(I,j.message))}else m(new Te(fe.UNKNOWN,"Server responded with status "+f.getStatus()))}else m(new Te(fe.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{l_:e,streamId:c,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Ee(Kn,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(r);Ee(Kn,`RPC '${e}' ${c} sending request:`,r),f.send(n,"POST",g,a,15)}))}T_(e,n,a){const r=dx(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=i4(),d=a4(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(m.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,a),m.encodeInitMessageHeaders=!0;const g=o.join("");Ee(Kn,`Creating RPC '${e}' stream ${r}: ${g}`,m);const b=c.createWebChannel(g,m);this.I_(b);let v=!1,w=!1;const j=new fM({Yo:D=>{w?Ee(Kn,`Not sending because RPC '${e}' stream ${r} is closed:`,D):(v||(Ee(Kn,`Opening RPC '${e}' stream ${r} transport.`),b.open(),v=!0),Ee(Kn,`RPC '${e}' stream ${r} sending:`,D),b.send(D))},Zo:()=>b.close()}),I=(D,L,R)=>{D.listen(L,($=>{try{R($)}catch(q){setTimeout((()=>{throw q}),0)}}))};return I(b,Ou.EventType.OPEN,(()=>{w||(Ee(Kn,`RPC '${e}' stream ${r} transport opened.`),j.o_())})),I(b,Ou.EventType.CLOSE,(()=>{w||(w=!0,Ee(Kn,`RPC '${e}' stream ${r} transport closed`),j.a_(),this.E_(b))})),I(b,Ou.EventType.ERROR,(D=>{w||(w=!0,tc(Kn,`RPC '${e}' stream ${r} transport errored. Name:`,D.name,"Message:",D.message),j.a_(new Te(fe.UNAVAILABLE,"The operation could not be completed")))})),I(b,Ou.EventType.MESSAGE,(D=>{if(!w){const L=D.data[0];wt(!!L,16349);const R=L,$=R?.error||R[0]?.error;if($){Ee(Kn,`RPC '${e}' stream ${r} received error:`,$);const q=$.status;let X=(function(A){const O=xn[A];if(O!==void 0)return U4(O)})(q),G=$.message;X===void 0&&(X=fe.INTERNAL,G="Unknown error status: "+q+" with message "+$.message),w=!0,j.a_(new Te(X,G)),b.close()}else Ee(Kn,`RPC '${e}' stream ${r} received:`,L),j.u_(L)}})),I(d,s4.STAT_EVENT,(D=>{D.stat===Zg.PROXY?Ee(Kn,`RPC '${e}' stream ${r} detected buffering proxy`):D.stat===Zg.NOPROXY&&Ee(Kn,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function dg(){return typeof document<"u"?document:null}function Lf(t){return new yP(t,!0)}class Z4{constructor(e,n,a=1e3,r=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-a);r>0&&Ee("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Z2="PersistentStream";class eS{constructor(e,n,a,r,o,c,d,m){this.Mi=e,this.S_=a,this.b_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Z4(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(Mi(n.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,r])=>{this.D_===n&&this.G_(a,r)}),(a=>{e((()=>{const r=new Te(fe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(r)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{a((()=>this.z_(r)))})),this.stream.onMessage((r=>{a((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ee(Z2,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ee(Z2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gM extends eS{constructor(e,n,a,r,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,r,c),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=NP(this.serializer,e),a=(function(o){if(!("targetChange"in o))return He.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?He.min():c.readTime?Ba(c.readTime):He.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=cx(this.serializer),n.addTarget=(function(o,c){let d;const m=c.target;if(d=ax(m)?{documents:_P(o,m)}:{query:TP(o,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=B4(o,c.resumeToken);const f=rx(o,c.expectedCount);f!==null&&(d.expectedCount=f)}else if(c.snapshotVersion.compareTo(He.min())>0){d.readTime=Zm(o,c.snapshotVersion.toTimestamp());const f=rx(o,c.expectedCount);f!==null&&(d.expectedCount=f)}return d})(this.serializer,e);const a=EP(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=cx(this.serializer),n.removeTarget=e,this.q_(n)}}class xM extends eS{constructor(e,n,a,r,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,r,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=SP(e.writeResults,e.commitTime),a=Ba(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=cx(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>jP(this.serializer,a)))};this.q_(n)}}class bM{}class yM extends bM{constructor(e,n,a,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Te(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,lx(n,a),r,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(fe.UNKNOWN,o.toString())}))}Ho(e,n,a,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,lx(n,a),r,c,d,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Te(fe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class vM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Mi(n),this.aa=!1):Ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ul="RemoteStore";class wM{constructor(e,n,a,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{a.enqueueAndForget((async()=>{Hl(this)&&(Ee(Ul,"Restarting streams for network reachability change."),await(async function(m){const f=Ge(m);f.Ea.add(4),await Ad(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Vf(f)})(this))}))})),this.Ra=new vM(a,r)}}async function Vf(t){if(Hl(t))for(const e of t.da)await e(!0)}async function Ad(t){for(const e of t.da)await e(!1)}function tS(t,e){const n=Ge(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),vb(n)?yb(n):Nc(n).O_()&&bb(n,e))}function xb(t,e){const n=Ge(t),a=Nc(n);n.Ia.delete(e),a.O_()&&nS(n,e),n.Ia.size===0&&(a.O_()?a.L_():Hl(n)&&n.Ra.set("Unknown"))}function bb(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nc(t).Y_(e)}function nS(t,e){t.Va.Ue(e),Nc(t).Z_(e)}function yb(t){t.Va=new pP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Nc(t).start(),t.Ra.ua()}function vb(t){return Hl(t)&&!Nc(t).x_()&&t.Ia.size>0}function Hl(t){return Ge(t).Ea.size===0}function sS(t){t.Va=void 0}async function NM(t){t.Ra.set("Online")}async function jM(t){t.Ia.forEach(((e,n)=>{bb(t,e)}))}async function SM(t,e){sS(t),vb(t)?(t.Ra.ha(e),yb(t)):t.Ra.set("Unknown")}async function _M(t,e,n){if(t.Ra.set("Online"),e instanceof F4&&e.state===2&&e.cause)try{await(async function(r,o){const c=o.cause;for(const d of o.targetIds)r.Ia.has(d)&&(await r.remoteSyncer.rejectListen(d,c),r.Ia.delete(d),r.Va.removeTarget(d))})(t,e)}catch(a){Ee(Ul,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await tf(t,a)}else if(e instanceof Im?t.Va.Ze(e):e instanceof z4?t.Va.st(e):t.Va.tt(e),!n.isEqual(He.min()))try{const a=await J4(t.localStore);n.compareTo(a)>=0&&await(function(o,c){const d=o.Va.Tt(c);return d.targetChanges.forEach(((m,f)=>{if(m.resumeToken.approximateByteSize()>0){const g=o.Ia.get(f);g&&o.Ia.set(f,g.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,f)=>{const g=o.Ia.get(m);if(!g)return;o.Ia.set(m,g.withResumeToken(Hn.EMPTY_BYTE_STRING,g.snapshotVersion)),nS(o,m);const b=new Cr(g.target,m,f,g.sequenceNumber);bb(o,b)})),o.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(a){Ee(Ul,"Failed to raise snapshot:",a),await tf(t,a)}}async function tf(t,e,n){if(!vc(e))throw e;t.Ea.add(1),await Ad(t),t.Ra.set("Offline"),n||(n=()=>J4(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ee(Ul,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Vf(t)}))}function aS(t,e){return e().catch((n=>tf(t,n,e)))}async function Uf(t){const e=Ge(t),n=Ur(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:nb;for(;TM(e);)try{const r=await lM(e.localStore,a);if(r===null){e.Ta.length===0&&n.L_();break}a=r.batchId,CM(e,r)}catch(r){await tf(e,r)}iS(e)&&rS(e)}function TM(t){return Hl(t)&&t.Ta.length<10}function CM(t,e){t.Ta.push(e);const n=Ur(t);n.O_()&&n.X_&&n.ea(e.mutations)}function iS(t){return Hl(t)&&!Ur(t).x_()&&t.Ta.length>0}function rS(t){Ur(t).start()}async function EM(t){Ur(t).ra()}async function AM(t){const e=Ur(t);for(const n of t.Ta)e.ea(n.mutations)}async function kM(t,e,n){const a=t.Ta.shift(),r=ub.from(a,e,n);await aS(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await Uf(t)}async function IM(t,e){e&&Ur(t).X_&&await(async function(a,r){if((function(c){return hP(c)&&c!==fe.ABORTED})(r.code)){const o=a.Ta.shift();Ur(a).B_(),await aS(a,(()=>a.remoteSyncer.rejectFailedWrite(o.batchId,r))),await Uf(a)}})(t,e),iS(t)&&rS(t)}async function eN(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),Ee(Ul,"RemoteStore received new credentials");const a=Hl(n);n.Ea.add(3),await Ad(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Vf(n)}async function RM(t,e){const n=Ge(t);e?(n.Ea.delete(2),await Vf(n)):e||(n.Ea.add(2),await Ad(n),n.Ra.set("Unknown"))}function Nc(t){return t.ma||(t.ma=(function(n,a,r){const o=Ge(n);return o.sa(),new gM(a,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(t.datastore,t.asyncQueue,{Xo:NM.bind(null,t),t_:jM.bind(null,t),r_:SM.bind(null,t),H_:_M.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),vb(t)?yb(t):t.Ra.set("Unknown")):(await t.ma.stop(),sS(t))}))),t.ma}function Ur(t){return t.fa||(t.fa=(function(n,a,r){const o=Ge(n);return o.sa(),new xM(a,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:EM.bind(null,t),r_:IM.bind(null,t),ta:AM.bind(null,t),na:kM.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Uf(t)):(await t.fa.stop(),t.Ta.length>0&&(Ee(Ul,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class wb{constructor(e,n,a,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=r,this.removalCallback=o,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,r,o){const c=Date.now()+a,d=new wb(e,n,c,r,o);return d.start(a),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nb(t,e){if(Mi("AsyncQueue",`${e}: ${t}`),vc(t))return new Te(fe.UNAVAILABLE,`${e}: ${t}`);throw t}class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Le.comparator(n.key,a.key):(n,a)=>Le.comparator(n.key,a.key),this.keyedMap=Lu(),this.sortedSet=new Kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=a.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Yo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class tN{constructor(){this.ga=new Kt(Le.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):qe(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class oc{constructor(e,n,a,r,o,c,d,m,f){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=f}static fromInitialDocuments(e,n,a,r,o){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new oc(e,n,Yo.emptySet(n),c,a,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==a[r].type||!n[r].doc.isEqual(a[r].doc))return!1;return!0}}class DM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class PM{constructor(){this.queries=nN(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const r=Ge(n),o=r.queries;r.queries=nN(),o.forEach(((c,d)=>{for(const m of d.Sa)m.onError(a)}))})(this,new Te(fe.ABORTED,"Firestore shutting down"))}}function nN(){return new ql((t=>C4(t)),Rf)}async function jb(t,e){const n=Ge(t);let a=3;const r=e.query;let o=n.queries.get(r);o?!o.ba()&&e.Da()&&(a=2):(o=new DM,a=e.Da()?0:1);try{switch(a){case 0:o.wa=await n.onListen(r,!0);break;case 1:o.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(c){const d=Nb(c,`Initialization of query '${Fo(e.query)}' failed`);return void e.onError(d)}n.queries.set(r,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&_b(n)}async function Sb(t,e){const n=Ge(t),a=e.query;let r=3;const o=n.queries.get(a);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?r=e.Da()?0:1:!o.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function MM(t,e){const n=Ge(t);let a=!1;for(const r of e){const o=r.query,c=n.queries.get(o);if(c){for(const d of c.Sa)d.Fa(r)&&(a=!0);c.wa=r}}a&&_b(n)}function OM(t,e,n){const a=Ge(t),r=a.queries.get(e);if(r)for(const o of r.Sa)o.onError(n);a.queries.delete(e)}function _b(t){t.Ca.forEach((e=>{e.next()}))}var hx,sN;(sN=hx||(hx={})).Ma="default",sN.Cache="cache";class Tb{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const r of e.docChanges)r.type!==3&&a.push(r);e=new oc(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=oc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hx.Cache}}class lS{constructor(e){this.key=e}}class oS{constructor(e){this.key=e}}class LM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ct(),this.mutatedKeys=ct(),this.eu=E4(e),this.tu=new Yo(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new tN,r=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,c=r,d=!1;const m=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((g,b)=>{const v=r.get(g),w=Df(this.query,b)?b:null,j=!!v&&this.mutatedKeys.has(v.key),I=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let D=!1;v&&w?v.data.isEqual(w.data)?j!==I&&(a.track({type:3,doc:w}),D=!0):this.su(v,w)||(a.track({type:2,doc:w}),D=!0,(m&&this.eu(w,m)>0||f&&this.eu(w,f)<0)&&(d=!0)):!v&&w?(a.track({type:0,doc:w}),D=!0):v&&!w&&(a.track({type:1,doc:v}),D=!0,(m||f)&&(d=!0)),D&&(w?(c=c.add(w),o=I?o.add(g):o.delete(g)):(c=c.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),o=o.delete(g.key),a.track({type:1,doc:g})}return{tu:c,iu:a,Cs:d,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,r){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,b)=>(function(w,j){const I=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{Rt:D})}};return I(w)-I(j)})(g.type,b.type)||this.eu(g.doc,b.doc))),this.ou(a),r=r??!1;const d=n&&!r?this._u():[],m=this.Xa.size===0&&this.current&&!r?1:0,f=m!==this.Za;return this.Za=m,c.length!==0||f?{snapshot:new oc(this.query,e.tu,o,c,e.mutatedKeys,m===0,f,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tN,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ct(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new oS(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new lS(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=ct();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return oc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cb="SyncEngine";class VM{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class UM{constructor(e){this.key=e,this.hu=!1}}class zM{constructor(e,n,a,r,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ql((d=>C4(d)),Rf),this.Iu=new Map,this.Eu=new Set,this.du=new Kt(Le.comparator),this.Au=new Map,this.Ru=new mb,this.Vu={},this.mu=new Map,this.fu=lc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FM(t,e,n=!0){const a=fS(t);let r;const o=a.Tu.get(e);return o?(a.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await cS(a,e,n,!0),r}async function BM(t,e){const n=fS(t);await cS(n,e,!0,!1)}async function cS(t,e,n,a){const r=await oM(t.localStore,Fa(e)),o=r.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let d;return a&&(d=await $M(t,e,o,c==="current",r.resumeToken)),t.isPrimaryClient&&n&&tS(t.remoteStore,r),d}async function $M(t,e,n,a,r){t.pu=(b,v,w)=>(async function(I,D,L,R){let $=D.view.ru(L);$.Cs&&($=await K2(I.localStore,D.query,!1).then((({documents:k})=>D.view.ru(k,$))));const q=R&&R.targetChanges.get(D.targetId),X=R&&R.targetMismatches.get(D.targetId)!=null,G=D.view.applyChanges($,I.isPrimaryClient,q,X);return iN(I,D.targetId,G.au),G.snapshot})(t,b,v,w);const o=await K2(t.localStore,e,!0),c=new LM(e,o.Qs),d=c.ru(o.documents),m=Ed.createSynthesizedTargetChangeForCurrentChange(n,a&&t.onlineState!=="Offline",r),f=c.applyChanges(d,t.isPrimaryClient,m);iN(t,n,f.au);const g=new VM(e,n,c);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function qM(t,e,n){const a=Ge(t),r=a.Tu.get(e),o=a.Iu.get(r.targetId);if(o.length>1)return a.Iu.set(r.targetId,o.filter((c=>!Rf(c,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(r.targetId),a.sharedClientState.isActiveQueryTarget(r.targetId)||await ux(a.localStore,r.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(r.targetId),n&&xb(a.remoteStore,r.targetId),mx(a,r.targetId)})).catch(yc)):(mx(a,r.targetId),await ux(a.localStore,r.targetId,!0))}async function HM(t,e){const n=Ge(t),a=n.Tu.get(e),r=n.Iu.get(a.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),xb(n.remoteStore,a.targetId))}async function GM(t,e,n){const a=ZM(t);try{const r=await(function(c,d){const m=Ge(c),f=Ft.now(),g=d.reduce(((w,j)=>w.add(j.key)),ct());let b,v;return m.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let j=Oi(),I=ct();return m.Ns.getEntries(w,g).next((D=>{j=D,j.forEach(((L,R)=>{R.isValidDocument()||(I=I.add(L))}))})).next((()=>m.localDocuments.getOverlayedDocuments(w,j))).next((D=>{b=D;const L=[];for(const R of d){const $=lP(R,b.get(R.key).overlayedDocument);$!=null&&L.push(new Yr(R.key,$,y4($.value.mapValue),Xs.exists(!0)))}return m.mutationQueue.addMutationBatch(w,f,L,d)})).next((D=>{v=D;const L=D.applyToLocalDocumentSet(b,I);return m.documentOverlayCache.saveOverlays(w,D.batchId,L)}))})).then((()=>({batchId:v.batchId,changes:k4(b)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(r.batchId),(function(c,d,m){let f=c.Vu[c.currentUser.toKey()];f||(f=new Kt(ot)),f=f.insert(d,m),c.Vu[c.currentUser.toKey()]=f})(a,r.batchId,n),await kd(a,r.changes),await Uf(a.remoteStore)}catch(r){const o=Nb(r,"Failed to persist write");n.reject(o)}}async function uS(t,e){const n=Ge(t);try{const a=await iM(n.localStore,e);e.targetChanges.forEach(((r,o)=>{const c=n.Au.get(o);c&&(wt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.hu=!0:r.modifiedDocuments.size>0?wt(c.hu,14607):r.removedDocuments.size>0&&(wt(c.hu,42227),c.hu=!1))})),await kd(n,a,e)}catch(a){await yc(a)}}function aN(t,e,n){const a=Ge(t);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const r=[];a.Tu.forEach(((o,c)=>{const d=c.view.va(e);d.snapshot&&r.push(d.snapshot)})),(function(c,d){const m=Ge(c);m.onlineState=d;let f=!1;m.queries.forEach(((g,b)=>{for(const v of b.Sa)v.va(d)&&(f=!0)})),f&&_b(m)})(a.eventManager,e),r.length&&a.Pu.H_(r),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function QM(t,e,n){const a=Ge(t);a.sharedClientState.updateQueryState(e,"rejected",n);const r=a.Au.get(e),o=r&&r.key;if(o){let c=new Kt(Le.comparator);c=c.insert(o,Xn.newNoDocument(o,He.min()));const d=ct().add(o),m=new Of(He.min(),new Map,new Kt(ot),c,d);await uS(a,m),a.du=a.du.remove(o),a.Au.delete(e),Eb(a)}else await ux(a.localStore,e,!1).then((()=>mx(a,e,n))).catch(yc)}async function YM(t,e){const n=Ge(t),a=e.batch.batchId;try{const r=await aM(n.localStore,e);hS(n,a,null),dS(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await kd(n,r)}catch(r){await yc(r)}}async function KM(t,e,n){const a=Ge(t);try{const r=await(function(c,d){const m=Ge(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return m.mutationQueue.lookupMutationBatch(f,d).next((b=>(wt(b!==null,37113),g=b.keys(),m.mutationQueue.removeMutationBatch(f,b)))).next((()=>m.mutationQueue.performConsistencyCheck(f))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(f,g,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>m.localDocuments.getDocuments(f,g)))}))})(a.localStore,e);hS(a,e,n),dS(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await kd(a,r)}catch(r){await yc(r)}}function dS(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function hS(t,e,n){const a=Ge(t);let r=a.Vu[a.currentUser.toKey()];if(r){const o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),a.Vu[a.currentUser.toKey()]=r}}function mx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const a of t.Iu.get(e))t.Tu.delete(a),n&&t.Pu.yu(a,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((a=>{t.Ru.containsKey(a)||mS(t,a)}))}function mS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(xb(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Eb(t))}function iN(t,e,n){for(const a of n)a instanceof lS?(t.Ru.addReference(a.key,e),WM(t,a)):a instanceof oS?(Ee(Cb,"Document no longer in limbo: "+a.key),t.Ru.removeReference(a.key,e),t.Ru.containsKey(a.key)||mS(t,a.key)):qe(19791,{wu:a})}function WM(t,e){const n=e.key,a=n.path.canonicalString();t.du.get(n)||t.Eu.has(a)||(Ee(Cb,"New document in limbo: "+n),t.Eu.add(a),Eb(t))}function Eb(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Le(Ot.fromString(e)),a=t.fu.next();t.Au.set(a,new UM(n)),t.du=t.du.insert(n,a),tS(t.remoteStore,new Cr(Fa(If(n.path)),a,"TargetPurposeLimboResolution",Ef.ce))}}async function kd(t,e,n){const a=Ge(t),r=[],o=[],c=[];a.Tu.isEmpty()||(a.Tu.forEach(((d,m)=>{c.push(a.pu(m,e,n).then((f=>{if((f||n)&&a.isPrimaryClient){const g=f?!f.fromCache:n?.targetChanges.get(m.targetId)?.current;a.sharedClientState.updateQueryState(m.targetId,g?"current":"not-current")}if(f){r.push(f);const g=pb.As(m.targetId,f);o.push(g)}})))})),await Promise.all(c),a.Pu.H_(r),await(async function(m,f){const g=Ge(m);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>xe.forEach(f,(v=>xe.forEach(v.Es,(w=>g.persistence.referenceDelegate.addReference(b,v.targetId,w))).next((()=>xe.forEach(v.ds,(w=>g.persistence.referenceDelegate.removeReference(b,v.targetId,w)))))))))}catch(b){if(!vc(b))throw b;Ee(gb,"Failed to update sequence numbers: "+b)}for(const b of f){const v=b.targetId;if(!b.fromCache){const w=g.Ms.get(v),j=w.snapshotVersion,I=w.withLastLimboFreeSnapshotVersion(j);g.Ms=g.Ms.insert(v,I)}}})(a.localStore,o))}async function XM(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){Ee(Cb,"User change. New user:",e.toKey());const a=await X4(n.localStore,e);n.currentUser=e,(function(o,c){o.mu.forEach((d=>{d.forEach((m=>{m.reject(new Te(fe.CANCELLED,c))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await kd(n,a.Ls)}}function JM(t,e){const n=Ge(t),a=n.Au.get(e);if(a&&a.hu)return ct().add(a.key);{let r=ct();const o=n.Iu.get(e);if(!o)return r;for(const c of o){const d=n.Tu.get(c);r=r.unionWith(d.view.nu)}return r}}function fS(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QM.bind(null,e),e.Pu.H_=MM.bind(null,e.eventManager),e.Pu.yu=OM.bind(null,e.eventManager),e}function ZM(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KM.bind(null,e),e}class nf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return sM(this.persistence,new eM,e.initialUser,this.serializer)}Cu(e){return new W4(fb.mi,this.serializer)}Du(e){return new uM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nf.provider={build:()=>new nf};class e8 extends nf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){wt(this.persistence.referenceDelegate instanceof ef,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new UP(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ps.withCacheSize(this.cacheSizeBytes):ps.DEFAULT;return new W4((a=>ef.mi(a,n)),this.serializer)}}class fx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>aN(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=XM.bind(null,this.syncEngine),await RM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new PM})()}createDatastore(e){const n=Lf(e.databaseInfo.databaseId),a=(function(o){return new pM(o)})(e.databaseInfo);return(function(o,c,d,m){return new yM(o,c,d,m)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,r,o,c,d){return new wM(a,r,o,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>aN(this.syncEngine,n,0)),(function(){return J2.v()?new J2:new dM})())}createSyncEngine(e,n){return(function(r,o,c,d,m,f,g){const b=new zM(r,o,c,d,m,f);return g&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=Ge(n);Ee(Ul,"RemoteStore shutting down."),a.Ea.add(5),await Ad(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fx.provider={build:()=>new fx};class Ab{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const zr="FirestoreClient";class t8{constructor(e,n,a,r,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=r,this.user=Wn.UNAUTHENTICATED,this.clientId=tb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(a,(async c=>{Ee(zr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(a,(c=>(Ee(zr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Nb(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function hg(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(zr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let a=n.initialUser;t.setCredentialChangeListener((async r=>{a.isEqual(r)||(await X4(e.localStore,r),a=r)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function rN(t,e){t.asyncQueue.verifyOperationInProgress();const n=await n8(t);Ee(zr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((a=>eN(e.remoteStore,a))),t.setAppCheckTokenChangeListener(((a,r)=>eN(e.remoteStore,r))),t._onlineComponents=e}async function n8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(zr,"Using user provided OfflineComponentProvider");try{await hg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(r){return r.name==="FirebaseError"?r.code===fe.FAILED_PRECONDITION||r.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;tc("Error using user provided cache. Falling back to memory cache: "+n),await hg(t,new nf)}}else Ee(zr,"Using default OfflineComponentProvider"),await hg(t,new e8(void 0));return t._offlineComponents}async function pS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(zr,"Using user provided OnlineComponentProvider"),await rN(t,t._uninitializedComponentsProvider._online)):(Ee(zr,"Using default OnlineComponentProvider"),await rN(t,new fx))),t._onlineComponents}function s8(t){return pS(t).then((e=>e.syncEngine))}async function sf(t){const e=await pS(t),n=e.eventManager;return n.onListen=FM.bind(null,e.syncEngine),n.onUnlisten=qM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=BM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=HM.bind(null,e.syncEngine),n}function a8(t,e,n={}){const a=new ji;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,m,f){const g=new Ab({next:v=>{g.Nu(),c.enqueueAndForget((()=>Sb(o,b)));const w=v.docs.has(d);!w&&v.fromCache?f.reject(new Te(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&v.fromCache&&m&&m.source==="server"?f.reject(new Te(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),b=new Tb(If(d.path),g,{includeMetadataChanges:!0,qa:!0});return jb(o,b)})(await sf(t),t.asyncQueue,e,n,a))),a.promise}function i8(t,e,n={}){const a=new ji;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,m,f){const g=new Ab({next:v=>{g.Nu(),c.enqueueAndForget((()=>Sb(o,b))),v.fromCache&&m.source==="server"?f.reject(new Te(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),b=new Tb(d,g,{includeMetadataChanges:!0,qa:!0});return jb(o,b)})(await sf(t),t.asyncQueue,e,n,a))),a.promise}function gS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const lN=new Map;const xS="firestore.googleapis.com",oN=!0;class cN{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Te(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xS,this.ssl=oN}else this.host=e.host,this.ssl=e.ssl??oN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=K4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LP)throw new Te(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gS(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Te(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Te(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Te(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,r){return a.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zf{constructor(e,n,a,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cN({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cN(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new uD;switch(a.type){case"firstParty":return new fD(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Te(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=lN.get(n);a&&(Ee("ComponentProvider","Removing Datastore"),lN.delete(n),a.terminate())})(this),Promise.resolve()}}function r8(t,e,n,a={}){t=xs(t,zf);const r=pc(e),o=t._getSettings(),c={...o,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;r&&(m5(`https://${d}`),f5("Firestore",!0)),o.host!==xS&&o.host!==d&&tc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...o,host:d,ssl:r,emulatorOptions:a};if(!Ri(m,c)&&(t._setSettings(m),a.mockUserToken)){let f,g;if(typeof a.mockUserToken=="string")f=a.mockUserToken,g=Wn.MOCK_USER;else{f=g3(a.mockUserToken,t._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new Te(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Wn(b)}t._authCredentials=new dD(new l4(f,g))}}class Bi{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Bi(this.firestore,e,this._query)}}class Jt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}toJSON(){return{type:Jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Td(n,Jt._jsonSchema))return new Jt(e,a||null,new Le(Ot.fromString(n.referencePath)))}}Jt._jsonSchemaVersion="firestore/documentReference/1.0",Jt._jsonSchema={type:wn("string",Jt._jsonSchemaVersion),referencePath:wn("string")};class Dr extends Bi{constructor(e,n,a){super(e,n,If(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new Le(e))}withConverter(e){return new Dr(this.firestore,e,this._path)}}function yn(t,e,...n){if(t=Nn(t),o4("collection","path",e),t instanceof zf){const a=Ot.fromString(e,...n);return N2(a),new Dr(t,null,a)}{if(!(t instanceof Jt||t instanceof Dr))throw new Te(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=t._path.child(Ot.fromString(e,...n));return N2(a),new Dr(t.firestore,null,a)}}function Ht(t,e,...n){if(t=Nn(t),arguments.length===1&&(e=tb.newId()),o4("doc","path",e),t instanceof zf){const a=Ot.fromString(e,...n);return w2(a),new Jt(t,null,new Le(a))}{if(!(t instanceof Jt||t instanceof Dr))throw new Te(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=t._path.child(Ot.fromString(e,...n));return w2(a),new Jt(t.firestore,t instanceof Dr?t.converter:null,new Le(a))}}const uN="AsyncQueue";class dN{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Z4(this,"async_queue_retry"),this._c=()=>{const a=dg();a&&Ee(uN,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=dg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=dg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ji;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!vc(e))throw e;Ee(uN,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Mi("INTERNAL UNHANDLED ERROR: ",hN(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=wb.createAndSchedule(this,e,n,a,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&qe(47125,{Pc:hN(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function hN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function mN(t){return(function(n,a){if(typeof n!="object"||n===null)return!1;const r=n;for(const o of a)if(o in r&&typeof r[o]=="function")return!0;return!1})(t,["next","error","complete"])}class Li extends zf{constructor(e,n,a,r){super(e,n,a,r),this.type="firestore",this._queue=new dN,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dN(e),this._firestoreClient=void 0,await e}}}function l8(t,e){const n=typeof t=="object"?t:b5(),a=typeof t=="string"?t:Ym,r=$x(n,"firestore").getImmediate({identifier:a});if(!r._initialized){const o=f3("firestore");o&&r8(r,...o)}return r}function Ff(t){if(t._terminated)throw new Te(fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||o8(t),t._firestoreClient}function o8(t){const e=t._freezeSettings(),n=(function(r,o,c,d){return new RD(r,o,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,gS(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new t8(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(t._componentsProvider))}class Ys{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ys(Hn.fromBase64String(e))}catch(n){throw new Te(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ys(Hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ys._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Td(e,Ys._jsonSchema))return Ys.fromBase64String(e.bytes)}}Ys._jsonSchemaVersion="firestore/bytes/1.0",Ys._jsonSchema={type:wn("string",Ys._jsonSchemaVersion),bytes:wn("string")};class Bf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jc{constructor(e){this._methodName=e}}class $a{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$a._jsonSchemaVersion}}static fromJSON(e){if(Td(e,$a._jsonSchema))return new $a(e.latitude,e.longitude)}}$a._jsonSchemaVersion="firestore/geoPoint/1.0",$a._jsonSchema={type:wn("string",$a._jsonSchemaVersion),latitude:wn("number"),longitude:wn("number")};class qa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,r){if(a.length!==r.length)return!1;for(let o=0;o<a.length;++o)if(a[o]!==r[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Td(e,qa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qa(e.vectorValues);throw new Te(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qa._jsonSchemaVersion="firestore/vectorValue/1.0",qa._jsonSchema={type:wn("string",qa._jsonSchemaVersion),vectorValues:wn("object")};const c8=/^__.*__$/;class u8{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Yr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cd(e,this.data,n,this.fieldTransforms)}}class bS{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Yr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{Ac:t})}}class $f{constructor(e,n,a,r,o,c){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $f({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return af(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(yS(this.Ac)&&c8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class d8{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Lf(e)}Cc(e,n,a,r=!1){return new $f({Ac:e,methodName:n,Dc:a,path:Bn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qf(t){const e=t._freezeSettings(),n=Lf(t._databaseId);return new d8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vS(t,e,n,a,r,o={}){const c=t.Cc(o.merge||o.mergeFields?2:0,e,n,r);Db("Data must be an object, but it was:",c,a);const d=NS(a,c);let m,f;if(o.merge)m=new Rs(c.fieldMask),f=c.fieldTransforms;else if(o.mergeFields){const g=[];for(const b of o.mergeFields){const v=px(e,b,n);if(!c.contains(v))throw new Te(fe.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);SS(g,v)||g.push(v)}m=new Rs(g),f=c.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,f=c.fieldTransforms;return new u8(new gs(d),m,f)}class Hf extends jc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hf}}function wS(t,e,n){return new $f({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class kb extends jc{_toFieldTransform(e){return new ob(e.path,new od)}isEqual(e){return e instanceof kb}}class Ib extends jc{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=wS(this,e,!0),a=this.vc.map((o=>Gl(o,n))),r=new ic(a);return new ob(e.path,r)}isEqual(e){return e instanceof Ib&&Ri(this.vc,e.vc)}}class Rb extends jc{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=wS(this,e,!0),a=this.vc.map((o=>Gl(o,n))),r=new rc(a);return new ob(e.path,r)}isEqual(e){return e instanceof Rb&&Ri(this.vc,e.vc)}}function h8(t,e,n,a){const r=t.Cc(1,e,n);Db("Data must be an object, but it was:",r,a);const o=[],c=gs.empty();Qr(a,((m,f)=>{const g=Pb(e,m,n);f=Nn(f);const b=r.yc(g);if(f instanceof Hf)o.push(g);else{const v=Gl(f,b);v!=null&&(o.push(g),c.set(g,v))}}));const d=new Rs(o);return new bS(c,d,r.fieldTransforms)}function m8(t,e,n,a,r,o){const c=t.Cc(1,e,n),d=[px(e,a,n)],m=[r];if(o.length%2!=0)throw new Te(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)d.push(px(e,o[v])),m.push(o[v+1]);const f=[],g=gs.empty();for(let v=d.length-1;v>=0;--v)if(!SS(f,d[v])){const w=d[v];let j=m[v];j=Nn(j);const I=c.yc(w);if(j instanceof Hf)f.push(w);else{const D=Gl(j,I);D!=null&&(f.push(w),g.set(w,D))}}const b=new Rs(f);return new bS(g,b,c.fieldTransforms)}function f8(t,e,n,a=!1){return Gl(n,t.Cc(a?4:3,e))}function Gl(t,e){if(jS(t=Nn(t)))return Db("Unsupported field value:",e,t),NS(t,e);if(t instanceof jc)return(function(a,r){if(!yS(r.Ac))throw r.Sc(`${a._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${a._methodName}() is not currently supported inside arrays`);const o=a._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,r){const o=[];let c=0;for(const d of a){let m=Gl(d,r.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),o.push(m),c++}return{arrayValue:{values:o}}})(t,e)}return(function(a,r){if((a=Nn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return tP(r.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const o=Ft.fromDate(a);return{timestampValue:Zm(r.serializer,o)}}if(a instanceof Ft){const o=new Ft(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Zm(r.serializer,o)}}if(a instanceof $a)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ys)return{bytesValue:B4(r.serializer,a._byteString)};if(a instanceof Jt){const o=r.databaseId,c=a.firestore._databaseId;if(!c.isEqual(o))throw r.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:hb(a.firestore._databaseId||r.databaseId,a._key.path)}}if(a instanceof qa)return(function(c,d){return{mapValue:{fields:{[x4]:{stringValue:b4},[Km]:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw d.Sc("VectorValues must only contain numeric values.");return lb(d.serializer,f)}))}}}}}})(a,r);throw r.Sc(`Unsupported field value: ${Cf(a)}`)})(t,e)}function NS(t,e){const n={};return d4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qr(t,((a,r)=>{const o=Gl(r,e.mc(a));o!=null&&(n[a]=o)})),{mapValue:{fields:n}}}function jS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ft||t instanceof $a||t instanceof Ys||t instanceof Jt||t instanceof jc||t instanceof qa)}function Db(t,e,n){if(!jS(n)||!c4(n)){const a=Cf(n);throw a==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+a)}}function px(t,e,n){if((e=Nn(e))instanceof Bf)return e._internalPath;if(typeof e=="string")return Pb(t,e);throw af("Field path arguments must be of type string or ",t,!1,void 0,n)}const p8=new RegExp("[~\\*/\\[\\]]");function Pb(t,e,n){if(e.search(p8)>=0)throw af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bf(...e.split("."))._internalPath}catch{throw af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function af(t,e,n,a,r){const o=a&&!a.isEmpty(),c=r!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(o||c)&&(m+=" (found",o&&(m+=` in field ${a}`),c&&(m+=` in document ${r}`),m+=")"),new Te(fe.INVALID_ARGUMENT,d+t+m)}function SS(t,e){return t.some((n=>n.isEqual(e)))}class _S{constructor(e,n,a,r,o){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class g8 extends _S{data(){return super.data()}}function Gf(t,e){return typeof e=="string"?Pb(t,e):e instanceof Bf?e._internalPath:e._delegate._internalPath}function TS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mb{}class Ob extends Mb{}function es(t,e,...n){let a=[];e instanceof Mb&&a.push(e),a=a.concat(n),(function(o){const c=o.filter((m=>m instanceof Lb)).length,d=o.filter((m=>m instanceof Qf)).length;if(c>1||c>0&&d>0)throw new Te(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const r of a)t=r._apply(t);return t}class Qf extends Ob{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Qf(e,n,a)}_apply(e){const n=this._parse(e);return CS(e._query,n),new Bi(e.firestore,e.converter,ix(e._query,n))}_parse(e){const n=qf(e.firestore);return(function(o,c,d,m,f,g,b){let v;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Te(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){pN(b,g);const j=[];for(const I of b)j.push(fN(m,o,I));v={arrayValue:{values:j}}}else v=fN(m,o,b)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||pN(b,g),v=f8(d,c,b,g==="in"||g==="not-in");return vn.create(f,g,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function cd(t,e,n){const a=e,r=Gf("where",t);return Qf._create(r,a,n)}class Lb extends Mb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lb(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:ga.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(r,o){let c=r;const d=o.getFlattenedFilters();for(const m of d)CS(c,m),c=ix(c,m)})(e._query,n),new Bi(e.firestore,e.converter,ix(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vb extends Ob{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Vb(e,n)}_apply(e){const n=(function(r,o,c){if(r.startAt!==null)throw new Te(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Te(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ld(o,c)})(e._query,this._field,this._direction);return new Bi(e.firestore,e.converter,(function(r,o){const c=r.explicitOrderBy.concat([o]);return new wc(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,n))}}function Si(t,e="asc"){const n=e,a=Gf("orderBy",t);return Vb._create(a,n)}class Ub extends Ob{constructor(e,n,a){super(),this.type=e,this._limit=n,this._limitType=a}static _create(e,n,a){return new Ub(e,n,a)}_apply(e){return new Bi(e.firestore,e.converter,Xm(e._query,this._limit,this._limitType))}}function zb(t){return wD("limit",t),Ub._create("limit",t,"F")}function fN(t,e,n){if(typeof(n=Nn(n))=="string"){if(n==="")throw new Te(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!T4(e)&&n.indexOf("/")!==-1)throw new Te(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(Ot.fromString(n));if(!Le.isDocumentKey(a))throw new Te(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return k2(t,new Le(a))}if(n instanceof Jt)return k2(t,n._key);throw new Te(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cf(n)}.`)}function pN(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CS(t,e){const n=(function(r,o){for(const c of r)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Te(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class x8{convertValue(e,n="none"){switch(Vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return an(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Qr(e,((r,o)=>{a[r]=this.convertValue(o,n)})),a}convertVectorValue(e){const n=e.fields?.[Km].arrayValue?.values?.map((a=>an(a.doubleValue)));return new qa(n)}convertGeoPoint(e){return new $a(an(e.latitude),an(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=kf(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(ad(e));default:return null}}convertTimestamp(e){const n=Or(e);return new Ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=Ot.fromString(e);wt(Y4(a),9688,{name:e});const r=new id(a.get(1),a.get(3)),o=new Le(a.popFirst(5));return r.isEqual(n)||Mi(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function ES(t,e,n){let a;return a=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,a}class Uu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Il extends _S{constructor(e,n,a,r,o,c){super(e,n,a,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Gf("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Il._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Il._jsonSchemaVersion="firestore/documentSnapshot/1.0",Il._jsonSchema={type:wn("string",Il._jsonSchemaVersion),bundleSource:wn("string","DocumentSnapshot"),bundleName:wn("string"),bundle:wn("string")};class Rm extends Il{data(e={}){return super.data(e)}}class Rl{constructor(e,n,a,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Uu(r.hasPendingWrites,r.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new Rm(this._firestore,this._userDataWriter,a.key,a,new Uu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((d=>{const m=new Rm(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Uu(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const m=new Rm(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Uu(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,g=-1;return d.type!==0&&(f=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),g=c.indexOf(d.doc.key)),{type:b8(d.type),doc:m,oldIndex:f,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Rl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=tb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),a.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function b8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:t})}}function Yf(t){t=xs(t,Jt);const e=xs(t.firestore,Li);return a8(Ff(e),t._key).then((n=>AS(e,t,n)))}Rl._jsonSchemaVersion="firestore/querySnapshot/1.0",Rl._jsonSchema={type:wn("string",Rl._jsonSchemaVersion),bundleSource:wn("string","QuerySnapshot"),bundleName:wn("string"),bundle:wn("string")};class Fb extends x8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ys(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}function Kr(t){t=xs(t,Bi);const e=xs(t.firestore,Li),n=Ff(e),a=new Fb(e);return TS(t._query),i8(n,t._query).then((r=>new Rl(e,a,t,r)))}function y8(t,e,n){t=xs(t,Jt);const a=xs(t.firestore,Li),r=ES(t.converter,e,n);return Kf(a,[vS(qf(a),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Xs.none())])}function Jn(t,e,n,...a){t=xs(t,Jt);const r=xs(t.firestore,Li),o=qf(r);let c;return c=typeof(e=Nn(e))=="string"||e instanceof Bf?m8(o,"updateDoc",t._key,e,n,a):h8(o,"updateDoc",t._key,e),Kf(r,[c.toMutation(t._key,Xs.exists(!0))])}function Bb(t){return Kf(xs(t.firestore,Li),[new cb(t._key,Xs.none())])}function Ha(t,e){const n=xs(t.firestore,Li),a=Ht(t),r=ES(t.converter,e);return Kf(n,[vS(qf(t.firestore),"addDoc",a._key,r,t.converter!==null,{}).toMutation(a._key,Xs.exists(!1))]).then((()=>a))}function mg(t,...e){t=Nn(t);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||mN(e[a])||(n=e[a++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(mN(e[a])){const m=e[a];e[a]=m.next?.bind(m),e[a+1]=m.error?.bind(m),e[a+2]=m.complete?.bind(m)}let o,c,d;if(t instanceof Jt)c=xs(t.firestore,Li),d=If(t._key.path),o={next:m=>{e[a]&&e[a](AS(c,t,m))},error:e[a+1],complete:e[a+2]};else{const m=xs(t,Bi);c=xs(m.firestore,Li),d=m._query;const f=new Fb(c);o={next:g=>{e[a]&&e[a](new Rl(c,f,m,g))},error:e[a+1],complete:e[a+2]},TS(t._query)}return(function(f,g,b,v){const w=new Ab(v),j=new Tb(g,w,b);return f.asyncQueue.enqueueAndForget((async()=>jb(await sf(f),j))),()=>{w.Nu(),f.asyncQueue.enqueueAndForget((async()=>Sb(await sf(f),j)))}})(Ff(c),d,r,o)}function Kf(t,e){return(function(a,r){const o=new ji;return a.asyncQueue.enqueueAndForget((async()=>GM(await s8(a),r,o))),o.promise})(Ff(t),e)}function AS(t,e,n){const a=n.docs.get(e._key),r=new Fb(t);return new Il(t,r,e._key,a,new Uu(n.hasPendingWrites,n.fromCache),e.converter)}function vt(){return new kb("serverTimestamp")}function Fr(...t){return new Ib("arrayUnion",t)}function gN(...t){return new Rb("arrayRemove",t)}(function(e,n=!0){(function(r){bc=r})(gc),ec(new Ml("firestore",((a,{instanceIdentifier:r,options:o})=>{const c=a.getProvider("app").getImmediate(),d=new Li(new hD(a.getProvider("auth-internal")),new pD(c,a.getProvider("app-check-internal")),(function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Te(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new id(f.options.projectId,g)})(c,r),c);return o={useFetchStreams:n,...o},d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),Ir(x2,b2,e),Ir(x2,b2,"esm2020")})();const v8={apiKey:"AIzaSyAgGkHhRcdGatNvRsm5BQv_RerjG8qt70M",authDomain:"adjucator-ai.firebaseapp.com",projectId:"adjucator-ai",storageBucket:"adjucator-ai.firebasestorage.app",messagingSenderId:"82725691768",appId:"1:82725691768:web:6186a5b41b8a0aa1e7688d",measurementId:"G-N92VEHSKDE"},kS=x5(v8),Id=oD(kS),Qe=l8(kS),w8=new yi,N8=async(t,e)=>{const n=await HR(Id,t,e);return await QR(n.user),n},j8=async(t,e)=>await GR(Id,t,e),S8=async()=>await x6(Id,w8),_8=async()=>await XR(Id),T8=t=>WR(Id,t),fg=async(t,e)=>{const n=Ht(Qe,"users",t);await y8(n,{...e,createdAt:new Date().toISOString(),history:[]},{merge:!0})},xN=async t=>{const e=Ht(Qe,"users",t),n=await Yf(e);return n.exists()?n.data():null},bN=async(t,e)=>{const n=Ht(Qe,"users",t);await Jn(n,e)},IS=T.createContext(null),Pn=()=>{const t=T.useContext(IS);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},C8=({children:t})=>{const[e,n]=T.useState(null),[a,r]=T.useState(null),[o,c]=T.useState(!0),[d,m]=T.useState(null),[f,g]=T.useState(!1);T.useEffect(()=>{const q=T8(async X=>{if(n(X),X)try{let G=await xN(X.uid);G?G.avatarId&&G.avatarId!==null&&G.avatarId!==""||g(!0):(G={email:X.email,displayName:X.displayName||"",username:X.displayName?.toLowerCase().replace(/\s+/g,"_")||X.email.split("@")[0],photoURL:X.photoURL||"",avatarId:null,preferredEvents:[],settings:{theme:"dark",autoSaveHistory:!0},createdAt:new Date().toISOString()},await fg(X.uid,G),g(!0)),r(G)}catch(G){console.error("Error fetching user profile:",G)}else r(null),g(!1);c(!1)});return()=>q()},[]);const $={user:e,userProfile:a,loading:o,error:d,login:async(q,X)=>{m(null);try{return await j8(q,X)}catch(G){throw m(hm(G.code)),G}},register:async(q,X,G)=>{m(null);try{const k=await N8(q,X);return await fg(k.user.uid,{email:q,displayName:G,username:G?.toLowerCase().replace(/\s+/g,"_")||q.split("@")[0],photoURL:"",avatarId:null,preferredEvents:[],settings:{theme:"dark",autoSaveHistory:!0},createdAt:new Date().toISOString()}),g(!0),k}catch(k){throw m(hm(k.code)),k}},loginWithGoogle:async()=>{m(null);try{const q=await S8();let X=await xN(q.user.uid);return X?!X.avatarId&&!X.photoURL&&g(!0):(await fg(q.user.uid,{email:q.user.email,displayName:q.user.displayName||"",username:q.user.displayName?.toLowerCase().replace(/\s+/g,"_")||q.user.email.split("@")[0],photoURL:q.user.photoURL||"",avatarId:null,preferredEvents:[],settings:{theme:"dark",autoSaveHistory:!0},createdAt:new Date().toISOString()}),g(!0)),q}catch(q){throw m(hm(q.code)),q}},logout:async()=>{m(null);try{await _8()}catch(q){throw m(hm(q.code)),q}},updateProfile:async q=>{if(e)try{await bN(e.uid,q),r(X=>({...X,...q}))}catch(X){throw m("Failed to update profile"),X}},setAvatar:async q=>{if(e)try{const X={avatarId:q?.id||null};await bN(e.uid,X),r(G=>({...G,...X})),g(!1)}catch(X){throw m("Failed to update avatar"),X}},clearError:()=>m(null),isAuthenticated:!!e,needsAvatarSelection:f,skipAvatarSelection:()=>{g(!1)}};return s.jsx(IS.Provider,{value:$,children:t})};function hm(t){return{"auth/email-already-in-use":"This email is already registered. Try logging in instead.","auth/invalid-email":"Please enter a valid email address.","auth/operation-not-allowed":"This sign-in method is not enabled.","auth/weak-password":"Password should be at least 6 characters.","auth/user-disabled":"This account has been disabled.","auth/user-not-found":"No account found with this email.","auth/wrong-password":"Incorrect password. Please try again.","auth/invalid-credential":"Invalid credentials. Please check your email and password.","auth/too-many-requests":"Too many failed attempts. Please try again later.","auth/popup-closed-by-user":"Sign-in popup was closed. Please try again.","auth/popup-blocked":"Sign-in popup was blocked. Please enable popups.","auth/network-request-failed":"Network error. Please check your connection."}[t]||"An error occurred. Please try again."}const Eu={teal:{id:"teal",name:"Royal Teal",icon:"",colors:{bgPrimary:"#faf9f6",bgSecondary:"#ffffff",textPrimary:"#08313d",textSecondary:"#666666",primary:"#0f4c5c",accent:"#d4af37",border:"rgba(212, 175, 55, 0.3)"}},emerald:{id:"emerald",name:"Noble Emerald",icon:"",colors:{bgPrimary:"#fcfdfc",bgSecondary:"#ffffff",textPrimary:"#052910",textSecondary:"#666666",primary:"#10451d",accent:"#d4af37",border:"rgba(212, 175, 55, 0.3)"}},red:{id:"red",name:"Imperial Red",icon:"",colors:{bgPrimary:"#fdfcfc",bgSecondary:"#ffffff",textPrimary:"#5c0f0f",textSecondary:"#666666",primary:"#8a1c1c",accent:"#d4af37",border:"rgba(212, 175, 55, 0.3)"}}},RS=T.createContext(null),E8=()=>{const t=T.useContext(RS);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},A8=({children:t})=>{const[e,n]=T.useState(()=>localStorage.getItem("theme")||"dark"),a=Eu[e]||Eu.dark;T.useEffect(()=>{const d=document.documentElement,m=a.colors;d.style.setProperty("--bg-primary",m.bgPrimary),d.style.setProperty("--bg-secondary",m.bgSecondary),d.style.setProperty("--bg-tertiary",m.bgTertiary),d.style.setProperty("--text-primary",m.textPrimary),d.style.setProperty("--text-secondary",m.textSecondary),d.style.setProperty("--text-muted",m.textMuted),d.style.setProperty("--primary",m.primary),d.style.setProperty("--primary-hover",m.primaryHover),d.style.setProperty("--accent",m.accent),d.style.setProperty("--border",m.border),d.style.setProperty("--glass",m.glass),d.style.setProperty("--card-bg",m.cardBg),d.style.setProperty("--input-bg",m.inputBg),d.style.setProperty("--success",m.success),d.style.setProperty("--warning",m.warning),d.style.setProperty("--error",m.error),d.className=`theme-${e}`,localStorage.setItem("theme",e)},[e,a]);const c={theme:a,themeId:e,setTheme:d=>{Eu[d]&&n(d)},cycleTheme:()=>{const d=Object.keys(Eu),f=(d.indexOf(e)+1)%d.length;n(d[f])},themes:Eu};return s.jsx(RS.Provider,{value:c,children:t})},k8=({activeTab:t,setActiveTab:e,onSettingsClick:n})=>{const[a,r]=T.useState(!1),[o,c]=T.useState(!1),[d,m]=T.useState(!1),{user:f,logout:g,isAuthenticated:b}=Pn(),{theme:v,setTheme:w}=E8(),j=[{id:"dashboard",label:"Dashboard",icon:Dn},{id:"analytics",label:"Analytics",icon:Dn},{id:"judge",label:"Analyze",icon:Ws},{id:"coach",label:"Live Coach",icon:Dl},{id:"practice",label:"Practice",icon:EE},{id:"tournaments",label:"Tournaments",icon:Gt}],I=[{id:"quickstats",label:"Quick Stats",icon:_i},{id:"motions",label:"Motion Library",icon:nk},{id:"ballot",label:"Ballot Generator",icon:vE},{id:"flowchart",label:"Flowchart",icon:xf},{id:"voice",label:"Voice Analysis",icon:Ws},{id:"timer",label:"Debate Timer",icon:Nf},{id:"presets",label:"Timer Presets",icon:rk},{id:"notes",label:"Notes",icon:i5},{id:"cards",label:"Card Organizer",icon:cA},{id:"formatguide",label:"Format Guide",icon:qj},{id:"speakerpoints",label:"Speaker Points",icon:Xu},{id:"clock",label:"Debate Clock",icon:tA},{id:"validator",label:"Arg Validator",icon:ck},{id:"judgenotes",label:"Judge Notes",icon:RA},{id:"roster",label:"Team Roster",icon:qk},{id:"outline",label:"Outline Builder",icon:Ux},{id:"scheduler",label:"Round Scheduler",icon:Ks},{id:"opponents",label:"Opponents",icon:Bt},{id:"evidence",label:"Evidence Library",icon:Ti},{id:"team",label:"Team",icon:Lt},{id:"teams",label:"Teams",icon:Lt},{id:"strategy",label:"Strategy",icon:$r},{id:"extemp",label:"Extemp",icon:_n},{id:"tone",label:"Tone Analysis",icon:Ws},{id:"history",label:"History",icon:Ya}],D=[{id:1,title:"Analysis Complete",message:"Your PF speech analysis is ready",time:"2m ago",unread:!0},{id:2,title:"New Feature",message:"Team collaboration now available",time:"1h ago",unread:!0},{id:3,title:"Weekly Report",message:"Your performance summary is ready",time:"1d ago",unread:!1}],L=D.filter(R=>R.unread).length;return s.jsxs("nav",{className:"fixed top-4 left-4 right-4 z-50 h-16 rounded-2xl border border-white/10 bg-slate-900/60 backdrop-blur-xl shadow-lg",children:[s.jsxs("div",{className:"h-full px-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("button",{onClick:()=>e("dashboard"),className:"flex items-center gap-3 group",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-xl blur opacity-40 group-hover:opacity-60 transition-opacity"}),s.jsx("div",{className:"relative w-9 h-9 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(bs,{className:"w-5 h-5 text-white"})})]}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsx("span",{className:"text-lg font-bold text-white tracking-tight",children:"Adjudicator"}),s.jsx("span",{className:"text-lg font-light text-slate-400 ml-1",children:"AI"})]})]}),s.jsxs("div",{className:"hidden lg:flex items-center gap-1",children:[j.map(R=>s.jsxs("button",{onClick:()=>e(R.id),className:`flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-medium transition-all duration-300 ${t===R.id?"bg-white/10 text-white shadow-inner border border-white/5":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:[s.jsx(R.icon,{className:"w-4 h-4"}),R.label]},R.id)),s.jsxs("div",{className:"relative ml-1",children:[s.jsxs("button",{onClick:()=>m(!d),className:`flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-medium transition-all duration-300 ${I.some(R=>R.id===t)?"bg-white/10 text-white shadow-inner border border-white/5":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:[s.jsx(Vw,{className:"w-4 h-4"}),"More",s.jsx(Ga,{className:"w-3 h-3"})]}),d&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>m(!1)}),s.jsx("div",{className:"absolute left-0 top-full mt-2 w-64 glass-panel p-2 z-50 animate-in fade-in zoom-in-95",children:s.jsx("div",{className:"max-h-[60vh] overflow-y-auto custom-scrollbar",children:I.map(R=>s.jsxs("button",{onClick:()=>{e(R.id),m(!1)},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all text-left ${t===R.id?"bg-cyan-500/10 text-cyan-400":"text-slate-300 hover:text-white hover:bg-white/5"}`,children:[s.jsx(R.icon,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:R.label})]},R.id))})})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"hidden md:flex relative group",children:[s.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-cyan-500/20 to-purple-500/20 rounded-xl blur opacity-0 group-hover:opacity-100 transition duration-500"}),s.jsxs("button",{className:"relative flex items-center gap-2 px-3 py-2 rounded-xl bg-slate-900/50 border border-white/10 text-slate-400 hover:text-white transition-all",children:[s.jsx(ki,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Search..."}),s.jsx("kbd",{className:"ml-2 px-1.5 py-0.5 text-xs bg-white/5 rounded border border-white/10 font-mono",children:"K"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>c(!o),className:"relative p-2.5 rounded-xl text-slate-400 hover:text-white hover:bg-white/5 transition-all",children:[s.jsx(Dx,{className:"w-5 h-5"}),L>0&&s.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-cyan-500 rounded-full ring-2 ring-slate-950"})]}),o&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>c(!1)}),s.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-slate-900 border border-slate-800 rounded-xl shadow-2xl shadow-black/50 overflow-hidden z-50",children:[s.jsx("div",{className:"p-4 border-b border-slate-800",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-white",children:"Notifications"}),L>0&&s.jsxs("span",{className:"px-2 py-0.5 text-xs font-medium bg-cyan-500/10 text-cyan-400 rounded-full",children:[L," new"]})]})}),s.jsx("div",{className:"max-h-80 overflow-y-auto",children:D.map(R=>s.jsx("div",{className:`p-4 border-b border-slate-800/50 hover:bg-slate-800/30 transition-colors cursor-pointer ${R.unread?"bg-slate-800/20":""}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[R.unread&&s.jsx("span",{className:"w-2 h-2 mt-2 bg-cyan-500 rounded-full flex-shrink-0"}),s.jsxs("div",{className:R.unread?"":"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-white",children:R.title}),s.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:R.message}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:R.time})]})]})},R.id))}),s.jsx("div",{className:"p-3 border-t border-slate-800",children:s.jsx("button",{className:"w-full py-2 text-sm text-cyan-400 hover:text-cyan-300 transition-colors",children:"View all notifications"})})]})]})]}),s.jsx("button",{onClick:n,className:"p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",children:s.jsx(Hr,{className:"w-5 h-5"})}),s.jsxs("div",{className:"relative ml-2",children:[s.jsxs("button",{onClick:()=>r(!a),className:"flex items-center gap-3 p-1.5 pr-3 rounded-xl hover:bg-slate-800/50 transition-all",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center text-white font-semibold text-sm shadow-lg",children:f?.displayName?.[0]||f?.email?.[0]?.toUpperCase()||"G"}),s.jsx(Ga,{className:"w-4 h-4 text-slate-400"})]}),a&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>r(!1)}),s.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-slate-900 border border-slate-800 rounded-xl shadow-2xl shadow-black/50 overflow-hidden z-50",children:[s.jsx("div",{className:"p-4 border-b border-slate-800",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center text-white font-semibold shadow-lg",children:f?.displayName?.[0]||f?.email?.[0]?.toUpperCase()||"G"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-white truncate",children:f?.displayName||"Guest User"}),s.jsx("p",{className:"text-xs text-slate-500 truncate",children:f?.email||"guest@adjudicator.ai"})]})]})}),s.jsxs("div",{className:"p-2",children:[s.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-300 hover:text-white hover:bg-slate-800/50 transition-all text-left",children:[s.jsx(Pl,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Profile Settings"})]}),s.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-300 hover:text-white hover:bg-slate-800/50 transition-all text-left",children:[s.jsx(SE,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Subscription"})]}),s.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-300 hover:text-white hover:bg-slate-800/50 transition-all text-left",children:[s.jsx(Mx,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Help & Support"})]}),s.jsx("div",{className:"px-3 py-2.5",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-slate-300",children:"Dark Mode"}),s.jsx("button",{onClick:()=>w(v==="dark"?"light":"dark"),className:`relative w-11 h-6 rounded-full transition-colors ${v==="dark"?"bg-cyan-500":"bg-slate-700"}`,children:s.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${v==="dark"?"left-6":"left-1"}`})})]})})]}),b&&s.jsx("div",{className:"p-2 border-t border-slate-800",children:s.jsxs("button",{onClick:g,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-all text-left",children:[s.jsx(xA,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Sign Out"})]})})]})]})]})]})]}),s.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-slate-950/95 backdrop-blur-xl border-t border-slate-800/60 px-2 py-2 z-50",children:s.jsxs("div",{className:"flex items-center justify-around",children:[j.slice(0,5).map(R=>s.jsxs("button",{onClick:()=>e(R.id),className:`flex flex-col items-center gap-1 px-2 py-2 rounded-lg transition-all ${t===R.id?"text-cyan-400":"text-slate-500 hover:text-slate-300"}`,children:[s.jsx(R.icon,{className:"w-5 h-5"}),s.jsx("span",{className:"text-[10px] font-medium",children:R.label})]},R.id)),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>m(!d),className:`flex flex-col items-center gap-1 px-2 py-2 rounded-lg transition-all ${I.some(R=>R.id===t)?"text-cyan-400":"text-slate-500 hover:text-slate-300"}`,children:[s.jsx(Vw,{className:"w-5 h-5"}),s.jsx("span",{className:"text-[10px] font-medium",children:"More"})]}),d&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>m(!1)}),s.jsx("div",{className:"absolute bottom-full right-0 mb-2 w-56 bg-slate-900 border border-slate-800 rounded-xl shadow-2xl shadow-black/50 overflow-hidden z-50",children:s.jsx("div",{className:"p-2 max-h-[50vh] overflow-y-auto",children:I.map(R=>s.jsxs("button",{onClick:()=>{e(R.id),m(!1)},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all text-left ${t===R.id?"bg-cyan-500/10 text-cyan-400":"text-slate-300 hover:text-white hover:bg-slate-800/50"}`,children:[s.jsx(R.icon,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:R.label})]},R.id))})})]})]})]})})]})},I8=({children:t,activeTab:e,setActiveTab:n,onSettingsClick:a})=>s.jsxs("div",{className:"min-h-screen bg-[#020617] text-slate-200 selection:bg-cyan-500/30",children:[s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[s.jsx("div",{className:"absolute inset-0 bg-[#020617]"}),s.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[50%] h-[50%] bg-cyan-500/10 rounded-full blur-[120px] animate-pulse-glow",style:{animationDuration:"8s"}}),s.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[50%] h-[50%] bg-purple-500/10 rounded-full blur-[120px] animate-pulse-glow",style:{animationDuration:"10s",animationDelay:"1s"}}),s.jsx("div",{className:"absolute top-[40%] left-[60%] w-[30%] h-[30%] bg-emerald-500/5 rounded-full blur-[100px] animate-pulse-glow",style:{animationDuration:"12s",animationDelay:"2s"}}),s.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:`
              linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
              linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)
            `,backgroundSize:"40px 40px",maskImage:"radial-gradient(circle at center, black, transparent 80%)"}})]}),s.jsx(k8,{activeTab:e,setActiveTab:n,onSettingsClick:a}),s.jsx("main",{className:"relative pt-16 pb-20 lg:pb-8 min-h-screen",children:s.jsx("div",{className:"max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t})})]}),R8=({setActiveTab:t})=>{const e=[{label:"Speech Analysis",icon:Ws,colorClasses:{bg:"bg-cyan-500/10",border:"border-cyan-500/20",text:"text-cyan-400",buttonBg:"bg-cyan-500/10",buttonBorder:"border-cyan-500/30",buttonHover:"hover:bg-cyan-500/20"},title:"No speeches analyzed yet",description:"Upload or record a speech to get AI-powered feedback on delivery, structure, and argumentation.",action:"Analyze First Speech",tab:"judge"},{label:"Live Coaching",icon:_i,colorClasses:{bg:"bg-purple-500/10",border:"border-purple-500/20",text:"text-purple-400",buttonBg:"bg-purple-500/10",buttonBorder:"border-purple-500/30",buttonHover:"hover:bg-purple-500/20"},title:"No coaching sessions yet",description:"Start a live session to get real-time feedback as you practice your speech or debate.",action:"Start Coaching",tab:"coach"},{label:"Strategy Builder",icon:Bt,colorClasses:{bg:"bg-orange-500/10",border:"border-orange-500/20",text:"text-orange-400",buttonBg:"bg-orange-500/10",buttonBorder:"border-orange-500/30",buttonHover:"hover:bg-orange-500/20"},title:"No strategies created yet",description:"Build winning debate strategies with AI-powered case analysis and argument mapping.",action:"Build Strategy",tab:"strategy"},{label:"Tone Analysis",icon:$n,colorClasses:{bg:"bg-emerald-500/10",border:"border-emerald-500/20",text:"text-emerald-400",buttonBg:"bg-emerald-500/10",buttonBorder:"border-emerald-500/30",buttonHover:"hover:bg-emerald-500/20"},title:"No tone analyses yet",description:"Analyze the rhetorical tone and persuasive elements of your speeches.",action:"Analyze Tone",tab:"tone"}],n=[{label:"New Analysis",icon:_n,tab:"judge",color:"from-cyan-500 to-blue-500"},{label:"Start Coaching",icon:Ei,tab:"coach",color:"from-purple-500 to-pink-500"},{label:"Build Strategy",icon:Bt,tab:"strategy",color:"from-orange-500 to-red-500"},{label:"View History",icon:Ya,tab:"history",color:"from-emerald-500 to-teal-500"}];return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"Dashboard"}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Welcome! Let's get started on improving your debate skills."})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.map((a,r)=>{const o=a.icon,c=a.colorClasses;return s.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},className:"relative group",children:s.jsxs("div",{className:"glass-panel h-full flex flex-col p-6 hover:scale-[1.02] transition-all duration-300",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${c.bg} border ${c.border}`,children:s.jsx(o,{className:`w-6 h-6 ${c.text}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-slate-500 font-medium",children:a.label}),s.jsx("p",{className:"text-lg font-semibold text-white mt-0.5",children:a.title})]})]}),s.jsx("p",{className:"text-slate-400 text-sm flex-1 mb-4",children:a.description}),s.jsxs("button",{onClick:()=>t(a.tab),className:`w-full py-2.5 px-4 rounded-lg ${c.buttonBg} border ${c.buttonBorder} ${c.text} font-medium ${c.buttonHover} transition-all flex items-center justify-center gap-2`,children:[s.jsx(ys,{className:"w-4 h-4"}),a.action]})]})},a.label)})}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"glass-panel p-6 h-full",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Performance Trend"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Track your improvement over time"})]})}),s.jsxs("div",{className:"relative h-48 mt-4 flex flex-col items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 flex items-end justify-between gap-2 px-2 opacity-20",children:[40,55,45,60,50,65,58,70,63,75,68,80].map((a,r)=>s.jsx("div",{className:"flex-1 flex flex-col items-center gap-2",children:s.jsx("div",{style:{height:`${a}%`},className:"w-full bg-gradient-to-t from-slate-700/50 to-slate-600/30 rounded-t-lg"})},r))}),s.jsxs("div",{className:"relative z-10 text-center",children:[s.jsx("div",{className:"p-4 rounded-full bg-slate-800/50 border border-slate-700/50 mb-4 mx-auto w-fit",children:s.jsx(Dn,{className:"w-8 h-8 text-slate-500"})}),s.jsx("p",{className:"text-slate-400 font-medium",children:"No performance data yet"}),s.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Complete your first analysis to start tracking progress"})]})]})]})}),s.jsx("div",{children:s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"glass-panel p-6 h-full",children:[s.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Quick Actions"}),s.jsx("div",{className:"space-y-3",children:n.map((a,r)=>{const o=a.icon;return s.jsxs("button",{onClick:()=>t(a.tab),className:"w-full flex items-center gap-4 p-4 rounded-xl border border-white/5 bg-slate-900/30 hover:bg-slate-800/50 hover:border-white/10 transition-all group",children:[s.jsx("div",{className:`p-2.5 rounded-lg bg-gradient-to-br ${a.color} shadow-lg`,children:s.jsx(o,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"flex-1 text-left text-white font-medium",children:a.label}),s.jsx(on,{className:"w-5 h-5 text-slate-500 group-hover:text-slate-300 group-hover:translate-x-1 transition-all"})]},a.label)})})]})})]}),s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"glass-panel p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Recent Activity"})}),s.jsxs("div",{className:"py-12 flex flex-col items-center justify-center",children:[s.jsx("div",{className:"p-4 rounded-full bg-slate-800/50 border border-slate-700/50 mb-4",children:s.jsx(Ya,{className:"w-8 h-8 text-slate-500"})}),s.jsx("p",{className:"text-slate-400 font-medium",children:"No recent activity"}),s.jsx("p",{className:"text-slate-500 text-sm mt-1 text-center max-w-md",children:"Your recent analyses, coaching sessions, and strategies will appear here as you use the platform."}),s.jsxs("button",{onClick:()=>t("judge"),className:"mt-6 px-5 py-2.5 rounded-lg bg-cyan-500/10 border border-cyan-500/30 text-cyan-400 font-medium hover:bg-cyan-500/20 transition-all flex items-center gap-2",children:[s.jsx(_n,{className:"w-4 h-4"}),"Start Your First Analysis"]})]})]}),s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"glass-panel relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 via-purple-500/10 to-cyan-500/10"}),s.jsxs("div",{className:"relative p-6 flex items-center gap-6",children:[s.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-cyan-500 to-purple-600 shadow-lg",children:s.jsx($r,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-white font-semibold",children:"Getting Started"}),s.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Start by analyzing your first speech. Upload a recording or paste your speech text to get detailed AI-powered feedback."})]}),s.jsx("button",{onClick:()=>t("judge"),className:"px-5 py-2.5 rounded-lg bg-white text-slate-900 font-semibold hover:bg-slate-100 transition-colors",children:"Get Started"})]})]})]})};function D8(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const P8=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,M8=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,O8={};function yN(t,e){return(O8.jsx?M8:P8).test(t)}const L8=/[ \t\n\f\r]/g;function V8(t){return typeof t=="object"?t.type==="text"?vN(t.value):!1:vN(t)}function vN(t){return t.replace(L8,"")===""}class Rd{constructor(e,n,a){this.normal=n,this.property=e,a&&(this.space=a)}}Rd.prototype.normal={};Rd.prototype.property={};Rd.prototype.space=void 0;function DS(t,e){const n={},a={};for(const r of t)Object.assign(n,r.property),Object.assign(a,r.normal);return new Rd(n,a,e)}function gx(t){return t.toLowerCase()}class vs{constructor(e,n){this.attribute=n,this.property=e}}vs.prototype.attribute="";vs.prototype.booleanish=!1;vs.prototype.boolean=!1;vs.prototype.commaOrSpaceSeparated=!1;vs.prototype.commaSeparated=!1;vs.prototype.defined=!1;vs.prototype.mustUseProperty=!1;vs.prototype.number=!1;vs.prototype.overloadedBoolean=!1;vs.prototype.property="";vs.prototype.spaceSeparated=!1;vs.prototype.space=void 0;let U8=0;const Xe=Ql(),bn=Ql(),xx=Ql(),ve=Ql(),Mt=Ql(),Ko=Ql(),ks=Ql();function Ql(){return 2**++U8}const bx=Object.freeze(Object.defineProperty({__proto__:null,boolean:Xe,booleanish:bn,commaOrSpaceSeparated:ks,commaSeparated:Ko,number:ve,overloadedBoolean:xx,spaceSeparated:Mt},Symbol.toStringTag,{value:"Module"})),pg=Object.keys(bx);class $b extends vs{constructor(e,n,a,r){let o=-1;if(super(e,n),wN(this,"space",r),typeof a=="number")for(;++o<pg.length;){const c=pg[o];wN(this,pg[o],(a&bx[c])===bx[c])}}}$b.prototype.defined=!0;function wN(t,e,n){n&&(t[e]=n)}function Sc(t){const e={},n={};for(const[a,r]of Object.entries(t.properties)){const o=new $b(a,t.transform(t.attributes||{},a),r,t.space);t.mustUseProperty&&t.mustUseProperty.includes(a)&&(o.mustUseProperty=!0),e[a]=o,n[gx(a)]=a,n[gx(o.attribute)]=a}return new Rd(e,n,t.space)}const PS=Sc({properties:{ariaActiveDescendant:null,ariaAtomic:bn,ariaAutoComplete:null,ariaBusy:bn,ariaChecked:bn,ariaColCount:ve,ariaColIndex:ve,ariaColSpan:ve,ariaControls:Mt,ariaCurrent:null,ariaDescribedBy:Mt,ariaDetails:null,ariaDisabled:bn,ariaDropEffect:Mt,ariaErrorMessage:null,ariaExpanded:bn,ariaFlowTo:Mt,ariaGrabbed:bn,ariaHasPopup:null,ariaHidden:bn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Mt,ariaLevel:ve,ariaLive:null,ariaModal:bn,ariaMultiLine:bn,ariaMultiSelectable:bn,ariaOrientation:null,ariaOwns:Mt,ariaPlaceholder:null,ariaPosInSet:ve,ariaPressed:bn,ariaReadOnly:bn,ariaRelevant:null,ariaRequired:bn,ariaRoleDescription:Mt,ariaRowCount:ve,ariaRowIndex:ve,ariaRowSpan:ve,ariaSelected:bn,ariaSetSize:ve,ariaSort:null,ariaValueMax:ve,ariaValueMin:ve,ariaValueNow:ve,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function MS(t,e){return e in t?t[e]:e}function OS(t,e){return MS(t,e.toLowerCase())}const z8=Sc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ko,acceptCharset:Mt,accessKey:Mt,action:null,allow:null,allowFullScreen:Xe,allowPaymentRequest:Xe,allowUserMedia:Xe,alt:null,as:null,async:Xe,autoCapitalize:null,autoComplete:Mt,autoFocus:Xe,autoPlay:Xe,blocking:Mt,capture:null,charSet:null,checked:Xe,cite:null,className:Mt,cols:ve,colSpan:null,content:null,contentEditable:bn,controls:Xe,controlsList:Mt,coords:ve|Ko,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Xe,defer:Xe,dir:null,dirName:null,disabled:Xe,download:xx,draggable:bn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Xe,formTarget:null,headers:Mt,height:ve,hidden:xx,high:ve,href:null,hrefLang:null,htmlFor:Mt,httpEquiv:Mt,id:null,imageSizes:null,imageSrcSet:null,inert:Xe,inputMode:null,integrity:null,is:null,isMap:Xe,itemId:null,itemProp:Mt,itemRef:Mt,itemScope:Xe,itemType:Mt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Xe,low:ve,manifest:null,max:null,maxLength:ve,media:null,method:null,min:null,minLength:ve,multiple:Xe,muted:Xe,name:null,nonce:null,noModule:Xe,noValidate:Xe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Xe,optimum:ve,pattern:null,ping:Mt,placeholder:null,playsInline:Xe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Xe,referrerPolicy:null,rel:Mt,required:Xe,reversed:Xe,rows:ve,rowSpan:ve,sandbox:Mt,scope:null,scoped:Xe,seamless:Xe,selected:Xe,shadowRootClonable:Xe,shadowRootDelegatesFocus:Xe,shadowRootMode:null,shape:null,size:ve,sizes:null,slot:null,span:ve,spellCheck:bn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ve,step:null,style:null,tabIndex:ve,target:null,title:null,translate:null,type:null,typeMustMatch:Xe,useMap:null,value:bn,width:ve,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Mt,axis:null,background:null,bgColor:null,border:ve,borderColor:null,bottomMargin:ve,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Xe,declare:Xe,event:null,face:null,frame:null,frameBorder:null,hSpace:ve,leftMargin:ve,link:null,longDesc:null,lowSrc:null,marginHeight:ve,marginWidth:ve,noResize:Xe,noHref:Xe,noShade:Xe,noWrap:Xe,object:null,profile:null,prompt:null,rev:null,rightMargin:ve,rules:null,scheme:null,scrolling:bn,standby:null,summary:null,text:null,topMargin:ve,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ve,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Xe,disableRemotePlayback:Xe,prefix:null,property:null,results:ve,security:null,unselectable:null},space:"html",transform:OS}),F8=Sc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ks,accentHeight:ve,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ve,amplitude:ve,arabicForm:null,ascent:ve,attributeName:null,attributeType:null,azimuth:ve,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ve,by:null,calcMode:null,capHeight:ve,className:Mt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ve,diffuseConstant:ve,direction:null,display:null,dur:null,divisor:ve,dominantBaseline:null,download:Xe,dx:null,dy:null,edgeMode:null,editable:null,elevation:ve,enableBackground:null,end:null,event:null,exponent:ve,externalResourcesRequired:null,fill:null,fillOpacity:ve,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ko,g2:Ko,glyphName:Ko,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ve,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ve,horizOriginX:ve,horizOriginY:ve,id:null,ideographic:ve,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ve,k:ve,k1:ve,k2:ve,k3:ve,k4:ve,kernelMatrix:ks,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ve,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ve,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ve,overlineThickness:ve,paintOrder:null,panose1:null,path:null,pathLength:ve,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Mt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ve,pointsAtY:ve,pointsAtZ:ve,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ks,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ks,rev:ks,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ks,requiredFeatures:ks,requiredFonts:ks,requiredFormats:ks,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ve,specularExponent:ve,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ve,strikethroughThickness:ve,string:null,stroke:null,strokeDashArray:ks,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ve,strokeOpacity:ve,strokeWidth:null,style:null,surfaceScale:ve,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ks,tabIndex:ve,tableValues:null,target:null,targetX:ve,targetY:ve,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ks,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ve,underlineThickness:ve,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ve,values:null,vAlphabetic:ve,vMathematical:ve,vectorEffect:null,vHanging:ve,vIdeographic:ve,version:null,vertAdvY:ve,vertOriginX:ve,vertOriginY:ve,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ve,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:MS}),LS=Sc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),VS=Sc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:OS}),US=Sc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),B8={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},$8=/[A-Z]/g,NN=/-[a-z]/g,q8=/^data[-\w.:]+$/i;function H8(t,e){const n=gx(e);let a=e,r=vs;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&q8.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(NN,Q8);a="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!NN.test(o)){let c=o.replace($8,G8);c.charAt(0)!=="-"&&(c="-"+c),e="data"+c}}r=$b}return new r(a,e)}function G8(t){return"-"+t.toLowerCase()}function Q8(t){return t.charAt(1).toUpperCase()}const Y8=DS([PS,z8,LS,VS,US],"html"),qb=DS([PS,F8,LS,VS,US],"svg");function K8(t){return t.join(" ").trim()}var Oo={},gg,jN;function W8(){if(jN)return gg;jN=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,d=/^\s+|\s+$/g,m=`
`,f="/",g="*",b="",v="comment",w="declaration";function j(D,L){if(typeof D!="string")throw new TypeError("First argument must be a string");if(!D)return[];L=L||{};var R=1,$=1;function q(J){var K=J.match(e);K&&(R+=K.length);var H=J.lastIndexOf(m);$=~H?J.length-H:$+J.length}function X(){var J={line:R,column:$};return function(K){return K.position=new G(J),O(),K}}function G(J){this.start=J,this.end={line:R,column:$},this.source=L.source}G.prototype.content=D;function k(J){var K=new Error(L.source+":"+R+":"+$+": "+J);if(K.reason=J,K.filename=L.source,K.line=R,K.column=$,K.source=D,!L.silent)throw K}function A(J){var K=J.exec(D);if(K){var H=K[0];return q(H),D=D.slice(H.length),K}}function O(){A(n)}function C(J){var K;for(J=J||[];K=M();)K!==!1&&J.push(K);return J}function M(){var J=X();if(!(f!=D.charAt(0)||g!=D.charAt(1))){for(var K=2;b!=D.charAt(K)&&(g!=D.charAt(K)||f!=D.charAt(K+1));)++K;if(K+=2,b===D.charAt(K-1))return k("End of comment missing");var H=D.slice(2,K-2);return $+=2,q(H),D=D.slice(K),$+=2,J({type:v,comment:H})}}function z(){var J=X(),K=A(a);if(K){if(M(),!A(r))return k("property missing ':'");var H=A(o),Z=J({type:w,property:I(K[0].replace(t,b)),value:H?I(H[0].replace(t,b)):b});return A(c),Z}}function E(){var J=[];C(J);for(var K;K=z();)K!==!1&&(J.push(K),C(J));return J}return O(),E()}function I(D){return D?D.replace(d,b):b}return gg=j,gg}var SN;function X8(){if(SN)return Oo;SN=1;var t=Oo&&Oo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.default=n;const e=t(W8());function n(a,r){let o=null;if(!a||typeof a!="string")return o;const c=(0,e.default)(a),d=typeof r=="function";return c.forEach(m=>{if(m.type!=="declaration")return;const{property:f,value:g}=m;d?r(f,g,m):g&&(o=o||{},o[f]=g)}),o}return Oo}var Au={},_N;function J8(){if(_N)return Au;_N=1,Object.defineProperty(Au,"__esModule",{value:!0}),Au.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,o=function(f){return!f||n.test(f)||t.test(f)},c=function(f,g){return g.toUpperCase()},d=function(f,g){return"".concat(g,"-")},m=function(f,g){return g===void 0&&(g={}),o(f)?f:(f=f.toLowerCase(),g.reactCompat?f=f.replace(r,d):f=f.replace(a,d),f.replace(e,c))};return Au.camelCase=m,Au}var ku,TN;function Z8(){if(TN)return ku;TN=1;var t=ku&&ku.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},e=t(X8()),n=J8();function a(r,o){var c={};return!r||typeof r!="string"||(0,e.default)(r,function(d,m){d&&m&&(c[(0,n.camelCase)(d,o)]=m)}),c}return a.default=a,ku=a,ku}var eO=Z8();const tO=Rx(eO),zS=FS("end"),Hb=FS("start");function FS(t){return e;function e(n){const a=n&&n.position&&n.position[t]||{};if(typeof a.line=="number"&&a.line>0&&typeof a.column=="number"&&a.column>0)return{line:a.line,column:a.column,offset:typeof a.offset=="number"&&a.offset>-1?a.offset:void 0}}}function nO(t){const e=Hb(t),n=zS(t);if(e&&n)return{start:e,end:n}}function Qu(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?CN(t.position):"start"in t||"end"in t?CN(t):"line"in t||"column"in t?yx(t):""}function yx(t){return EN(t&&t.line)+":"+EN(t&&t.column)}function CN(t){return yx(t&&t.start)+"-"+yx(t&&t.end)}function EN(t){return t&&typeof t=="number"?t:1}class ss extends Error{constructor(e,n,a){super(),typeof n=="string"&&(a=n,n=void 0);let r="",o={},c=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?r=e:!o.cause&&e&&(c=!0,r=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof a=="string"){const m=a.indexOf(":");m===-1?o.ruleId=a:(o.source=a.slice(0,m),o.ruleId=a.slice(m+1))}if(!o.place&&o.ancestors&&o.ancestors){const m=o.ancestors[o.ancestors.length-1];m&&(o.place=m.position)}const d=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=d?d.line:void 0,this.name=Qu(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=c&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ss.prototype.file="";ss.prototype.name="";ss.prototype.reason="";ss.prototype.message="";ss.prototype.stack="";ss.prototype.column=void 0;ss.prototype.line=void 0;ss.prototype.ancestors=void 0;ss.prototype.cause=void 0;ss.prototype.fatal=void 0;ss.prototype.place=void 0;ss.prototype.ruleId=void 0;ss.prototype.source=void 0;const Gb={}.hasOwnProperty,sO=new Map,aO=/[A-Z]/g,iO=new Set(["table","tbody","thead","tfoot","tr"]),rO=new Set(["td","th"]),BS="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function lO(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let a;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");a=pO(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");a=fO(n,e.jsx,e.jsxs)}const r={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:a,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?qb:Y8,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=$S(r,t,void 0);return o&&typeof o!="string"?o:r.create(t,r.Fragment,{children:o||void 0},void 0)}function $S(t,e,n){if(e.type==="element")return oO(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return cO(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return dO(t,e,n);if(e.type==="mdxjsEsm")return uO(t,e);if(e.type==="root")return hO(t,e,n);if(e.type==="text")return mO(t,e)}function oO(t,e,n){const a=t.schema;let r=a;e.tagName.toLowerCase()==="svg"&&a.space==="html"&&(r=qb,t.schema=r),t.ancestors.push(e);const o=HS(t,e.tagName,!1),c=gO(t,e);let d=Yb(t,e);return iO.has(e.tagName)&&(d=d.filter(function(m){return typeof m=="string"?!V8(m):!0})),qS(t,c,o,e),Qb(c,d),t.ancestors.pop(),t.schema=a,t.create(e,o,c,n)}function cO(t,e){if(e.data&&e.data.estree&&t.evaluater){const a=e.data.estree.body[0];return a.type,t.evaluater.evaluateExpression(a.expression)}ud(t,e.position)}function uO(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);ud(t,e.position)}function dO(t,e,n){const a=t.schema;let r=a;e.name==="svg"&&a.space==="html"&&(r=qb,t.schema=r),t.ancestors.push(e);const o=e.name===null?t.Fragment:HS(t,e.name,!0),c=xO(t,e),d=Yb(t,e);return qS(t,c,o,e),Qb(c,d),t.ancestors.pop(),t.schema=a,t.create(e,o,c,n)}function hO(t,e,n){const a={};return Qb(a,Yb(t,e)),t.create(e,t.Fragment,a,n)}function mO(t,e){return e.value}function qS(t,e,n,a){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=a)}function Qb(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function fO(t,e,n){return a;function a(r,o,c,d){const f=Array.isArray(c.children)?n:e;return d?f(o,c,d):f(o,c)}}function pO(t,e){return n;function n(a,r,o,c){const d=Array.isArray(o.children),m=Hb(a);return e(r,o,c,d,{columnNumber:m?m.column-1:void 0,fileName:t,lineNumber:m?m.line:void 0},void 0)}}function gO(t,e){const n={};let a,r;for(r in e.properties)if(r!=="children"&&Gb.call(e.properties,r)){const o=bO(t,r,e.properties[r]);if(o){const[c,d]=o;t.tableCellAlignToStyle&&c==="align"&&typeof d=="string"&&rO.has(e.tagName)?a=d:n[c]=d}}if(a){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}return n}function xO(t,e){const n={};for(const a of e.attributes)if(a.type==="mdxJsxExpressionAttribute")if(a.data&&a.data.estree&&t.evaluater){const o=a.data.estree.body[0];o.type;const c=o.expression;c.type;const d=c.properties[0];d.type,Object.assign(n,t.evaluater.evaluateExpression(d.argument))}else ud(t,e.position);else{const r=a.name;let o;if(a.value&&typeof a.value=="object")if(a.value.data&&a.value.data.estree&&t.evaluater){const d=a.value.data.estree.body[0];d.type,o=t.evaluater.evaluateExpression(d.expression)}else ud(t,e.position);else o=a.value===null?!0:a.value;n[r]=o}return n}function Yb(t,e){const n=[];let a=-1;const r=t.passKeys?new Map:sO;for(;++a<e.children.length;){const o=e.children[a];let c;if(t.passKeys){const m=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(m){const f=r.get(m)||0;c=m+"-"+f,r.set(m,f+1)}}const d=$S(t,o,c);d!==void 0&&n.push(d)}return n}function bO(t,e,n){const a=H8(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=a.commaSeparated?D8(n):K8(n)),a.property==="style"){let r=typeof n=="object"?n:yO(t,String(n));return t.stylePropertyNameCase==="css"&&(r=vO(r)),["style",r]}return[t.elementAttributeNameCase==="react"&&a.space?B8[a.property]||a.property:a.attribute,n]}}function yO(t,e){try{return tO(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const a=n,r=new ss("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=t.filePath||void 0,r.url=BS+"#cannot-parse-style-attribute",r}}function HS(t,e,n){let a;if(!n)a={type:"Literal",value:e};else if(e.includes(".")){const r=e.split(".");let o=-1,c;for(;++o<r.length;){const d=yN(r[o])?{type:"Identifier",name:r[o]}:{type:"Literal",value:r[o]};c=c?{type:"MemberExpression",object:c,property:d,computed:!!(o&&d.type==="Literal"),optional:!1}:d}a=c}else a=yN(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(a.type==="Literal"){const r=a.value;return Gb.call(t.components,r)?t.components[r]:r}if(t.evaluater)return t.evaluater.evaluateExpression(a);ud(t)}function ud(t,e){const n=new ss("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=BS+"#cannot-handle-mdx-estrees-without-createevaluater",n}function vO(t){const e={};let n;for(n in t)Gb.call(t,n)&&(e[wO(n)]=t[n]);return e}function wO(t){let e=t.replace(aO,NO);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function NO(t){return"-"+t.toLowerCase()}const xg={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},jO={};function Kb(t,e){const n=jO,a=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,r=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return GS(t,a,r)}function GS(t,e,n){if(SO(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return AN(t.children,e,n)}return Array.isArray(t)?AN(t,e,n):""}function AN(t,e,n){const a=[];let r=-1;for(;++r<t.length;)a[r]=GS(t[r],e,n);return a.join("")}function SO(t){return!!(t&&typeof t=="object")}const kN=document.createElement("i");function Wb(t){const e="&"+t+";";kN.innerHTML=e;const n=kN.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Ds(t,e,n,a){const r=t.length;let o=0,c;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,n=n>0?n:0,a.length<1e4)c=Array.from(a),c.unshift(e,n),t.splice(...c);else for(n&&t.splice(e,n);o<a.length;)c=a.slice(o,o+1e4),c.unshift(e,0),t.splice(...c),o+=1e4,e+=1e4}function Qs(t,e){return t.length>0?(Ds(t,t.length,0,e),t):e}const IN={}.hasOwnProperty;function QS(t){const e={};let n=-1;for(;++n<t.length;)_O(e,t[n]);return e}function _O(t,e){let n;for(n in e){const r=(IN.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let c;if(o)for(c in o){IN.call(r,c)||(r[c]=[]);const d=o[c];TO(r[c],Array.isArray(d)?d:d?[d]:[])}}}function TO(t,e){let n=-1;const a=[];for(;++n<e.length;)(e[n].add==="after"?t:a).push(e[n]);Ds(t,0,0,a)}function YS(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function pa(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const rs=Wr(/[A-Za-z]/),ts=Wr(/[\dA-Za-z]/),CO=Wr(/[#-'*+\--9=?A-Z^-~]/);function rf(t){return t!==null&&(t<32||t===127)}const vx=Wr(/\d/),EO=Wr(/[\dA-Fa-f]/),AO=Wr(/[!-/:-@[-`{-~]/);function ze(t){return t!==null&&t<-2}function Pt(t){return t!==null&&(t<0||t===32)}function st(t){return t===-2||t===-1||t===32}const Wf=Wr(new RegExp("\\p{P}|\\p{S}","u")),zl=Wr(/\s/);function Wr(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function _c(t){const e=[];let n=-1,a=0,r=0;for(;++n<t.length;){const o=t.charCodeAt(n);let c="";if(o===37&&ts(t.charCodeAt(n+1))&&ts(t.charCodeAt(n+2)))r=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(c=String.fromCharCode(o));else if(o>55295&&o<57344){const d=t.charCodeAt(n+1);o<56320&&d>56319&&d<57344?(c=String.fromCharCode(o,d),r=1):c=""}else c=String.fromCharCode(o);c&&(e.push(t.slice(a,n),encodeURIComponent(c)),a=n+r+1,c=""),r&&(n+=r,r=0)}return e.join("")+t.slice(a)}function ft(t,e,n,a){const r=a?a-1:Number.POSITIVE_INFINITY;let o=0;return c;function c(m){return st(m)?(t.enter(n),d(m)):e(m)}function d(m){return st(m)&&o++<r?(t.consume(m),d):(t.exit(n),e(m))}}const kO={tokenize:IO};function IO(t){const e=t.attempt(this.parser.constructs.contentInitial,a,r);let n;return e;function a(d){if(d===null){t.consume(d);return}return t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),ft(t,e,"linePrefix")}function r(d){return t.enter("paragraph"),o(d)}function o(d){const m=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=m),n=m,c(d)}function c(d){if(d===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(d);return}return ze(d)?(t.consume(d),t.exit("chunkText"),o):(t.consume(d),c)}}const RO={tokenize:DO},RN={tokenize:PO};function DO(t){const e=this,n=[];let a=0,r,o,c;return d;function d($){if(a<n.length){const q=n[a];return e.containerState=q[1],t.attempt(q[0].continuation,m,f)($)}return f($)}function m($){if(a++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&R();const q=e.events.length;let X=q,G;for(;X--;)if(e.events[X][0]==="exit"&&e.events[X][1].type==="chunkFlow"){G=e.events[X][1].end;break}L(a);let k=q;for(;k<e.events.length;)e.events[k][1].end={...G},k++;return Ds(e.events,X+1,0,e.events.slice(q)),e.events.length=k,f($)}return d($)}function f($){if(a===n.length){if(!r)return v($);if(r.currentConstruct&&r.currentConstruct.concrete)return j($);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(RN,g,b)($)}function g($){return r&&R(),L(a),v($)}function b($){return e.parser.lazy[e.now().line]=a!==n.length,c=e.now().offset,j($)}function v($){return e.containerState={},t.attempt(RN,w,j)($)}function w($){return a++,n.push([e.currentConstruct,e.containerState]),v($)}function j($){if($===null){r&&R(),L(0),t.consume($);return}return r=r||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:o}),I($)}function I($){if($===null){D(t.exit("chunkFlow"),!0),L(0),t.consume($);return}return ze($)?(t.consume($),D(t.exit("chunkFlow")),a=0,e.interrupt=void 0,d):(t.consume($),I)}function D($,q){const X=e.sliceStream($);if(q&&X.push(null),$.previous=o,o&&(o.next=$),o=$,r.defineSkip($.start),r.write(X),e.parser.lazy[$.start.line]){let G=r.events.length;for(;G--;)if(r.events[G][1].start.offset<c&&(!r.events[G][1].end||r.events[G][1].end.offset>c))return;const k=e.events.length;let A=k,O,C;for(;A--;)if(e.events[A][0]==="exit"&&e.events[A][1].type==="chunkFlow"){if(O){C=e.events[A][1].end;break}O=!0}for(L(a),G=k;G<e.events.length;)e.events[G][1].end={...C},G++;Ds(e.events,A+1,0,e.events.slice(k)),e.events.length=G}}function L($){let q=n.length;for(;q-- >$;){const X=n[q];e.containerState=X[1],X[0].exit.call(e,t)}n.length=$}function R(){r.write([null]),o=void 0,r=void 0,e.containerState._closeFlow=void 0}}function PO(t,e,n){return ft(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function cc(t){if(t===null||Pt(t)||zl(t))return 1;if(Wf(t))return 2}function Xf(t,e,n){const a=[];let r=-1;for(;++r<t.length;){const o=t[r].resolveAll;o&&!a.includes(o)&&(e=o(e,n),a.push(o))}return e}const wx={name:"attention",resolveAll:MO,tokenize:OO};function MO(t,e){let n=-1,a,r,o,c,d,m,f,g;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(a=n;a--;)if(t[a][0]==="exit"&&t[a][1].type==="attentionSequence"&&t[a][1]._open&&e.sliceSerialize(t[a][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[a][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[a][1].end.offset-t[a][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;m=t[a][1].end.offset-t[a][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const b={...t[a][1].end},v={...t[n][1].start};DN(b,-m),DN(v,m),c={type:m>1?"strongSequence":"emphasisSequence",start:b,end:{...t[a][1].end}},d={type:m>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:v},o={type:m>1?"strongText":"emphasisText",start:{...t[a][1].end},end:{...t[n][1].start}},r={type:m>1?"strong":"emphasis",start:{...c.start},end:{...d.end}},t[a][1].end={...c.start},t[n][1].start={...d.end},f=[],t[a][1].end.offset-t[a][1].start.offset&&(f=Qs(f,[["enter",t[a][1],e],["exit",t[a][1],e]])),f=Qs(f,[["enter",r,e],["enter",c,e],["exit",c,e],["enter",o,e]]),f=Qs(f,Xf(e.parser.constructs.insideSpan.null,t.slice(a+1,n),e)),f=Qs(f,[["exit",o,e],["enter",d,e],["exit",d,e],["exit",r,e]]),t[n][1].end.offset-t[n][1].start.offset?(g=2,f=Qs(f,[["enter",t[n][1],e],["exit",t[n][1],e]])):g=0,Ds(t,a-1,n-a+3,f),n=a+f.length-g-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function OO(t,e){const n=this.parser.constructs.attentionMarkers.null,a=this.previous,r=cc(a);let o;return c;function c(m){return o=m,t.enter("attentionSequence"),d(m)}function d(m){if(m===o)return t.consume(m),d;const f=t.exit("attentionSequence"),g=cc(m),b=!g||g===2&&r||n.includes(m),v=!r||r===2&&g||n.includes(a);return f._open=!!(o===42?b:b&&(r||!v)),f._close=!!(o===42?v:v&&(g||!b)),e(m)}}function DN(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const LO={name:"autolink",tokenize:VO};function VO(t,e,n){let a=0;return r;function r(w){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(w){return rs(w)?(t.consume(w),c):w===64?n(w):f(w)}function c(w){return w===43||w===45||w===46||ts(w)?(a=1,d(w)):f(w)}function d(w){return w===58?(t.consume(w),a=0,m):(w===43||w===45||w===46||ts(w))&&a++<32?(t.consume(w),d):(a=0,f(w))}function m(w){return w===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):w===null||w===32||w===60||rf(w)?n(w):(t.consume(w),m)}function f(w){return w===64?(t.consume(w),g):CO(w)?(t.consume(w),f):n(w)}function g(w){return ts(w)?b(w):n(w)}function b(w){return w===46?(t.consume(w),a=0,g):w===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):v(w)}function v(w){if((w===45||ts(w))&&a++<63){const j=w===45?v:b;return t.consume(w),j}return n(w)}}const Dd={partial:!0,tokenize:UO};function UO(t,e,n){return a;function a(o){return st(o)?ft(t,r,"linePrefix")(o):r(o)}function r(o){return o===null||ze(o)?e(o):n(o)}}const KS={continuation:{tokenize:FO},exit:BO,name:"blockQuote",tokenize:zO};function zO(t,e,n){const a=this;return r;function r(c){if(c===62){const d=a.containerState;return d.open||(t.enter("blockQuote",{_container:!0}),d.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(c),t.exit("blockQuoteMarker"),o}return n(c)}function o(c){return st(c)?(t.enter("blockQuotePrefixWhitespace"),t.consume(c),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(c))}}function FO(t,e,n){const a=this;return r;function r(c){return st(c)?ft(t,o,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):o(c)}function o(c){return t.attempt(KS,e,n)(c)}}function BO(t){t.exit("blockQuote")}const WS={name:"characterEscape",tokenize:$O};function $O(t,e,n){return a;function a(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),r}function r(o){return AO(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const XS={name:"characterReference",tokenize:qO};function qO(t,e,n){const a=this;let r=0,o,c;return d;function d(b){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),m}function m(b){return b===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(b),t.exit("characterReferenceMarkerNumeric"),f):(t.enter("characterReferenceValue"),o=31,c=ts,g(b))}function f(b){return b===88||b===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(b),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,c=EO,g):(t.enter("characterReferenceValue"),o=7,c=vx,g(b))}function g(b){if(b===59&&r){const v=t.exit("characterReferenceValue");return c===ts&&!Wb(a.sliceSerialize(v))?n(b):(t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return c(b)&&r++<o?(t.consume(b),g):n(b)}}const PN={partial:!0,tokenize:GO},MN={concrete:!0,name:"codeFenced",tokenize:HO};function HO(t,e,n){const a=this,r={partial:!0,tokenize:X};let o=0,c=0,d;return m;function m(G){return f(G)}function f(G){const k=a.events[a.events.length-1];return o=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,d=G,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),g(G)}function g(G){return G===d?(c++,t.consume(G),g):c<3?n(G):(t.exit("codeFencedFenceSequence"),st(G)?ft(t,b,"whitespace")(G):b(G))}function b(G){return G===null||ze(G)?(t.exit("codeFencedFence"),a.interrupt?e(G):t.check(PN,I,q)(G)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),v(G))}function v(G){return G===null||ze(G)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),b(G)):st(G)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),ft(t,w,"whitespace")(G)):G===96&&G===d?n(G):(t.consume(G),v)}function w(G){return G===null||ze(G)?b(G):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),j(G))}function j(G){return G===null||ze(G)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),b(G)):G===96&&G===d?n(G):(t.consume(G),j)}function I(G){return t.attempt(r,q,D)(G)}function D(G){return t.enter("lineEnding"),t.consume(G),t.exit("lineEnding"),L}function L(G){return o>0&&st(G)?ft(t,R,"linePrefix",o+1)(G):R(G)}function R(G){return G===null||ze(G)?t.check(PN,I,q)(G):(t.enter("codeFlowValue"),$(G))}function $(G){return G===null||ze(G)?(t.exit("codeFlowValue"),R(G)):(t.consume(G),$)}function q(G){return t.exit("codeFenced"),e(G)}function X(G,k,A){let O=0;return C;function C(K){return G.enter("lineEnding"),G.consume(K),G.exit("lineEnding"),M}function M(K){return G.enter("codeFencedFence"),st(K)?ft(G,z,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):z(K)}function z(K){return K===d?(G.enter("codeFencedFenceSequence"),E(K)):A(K)}function E(K){return K===d?(O++,G.consume(K),E):O>=c?(G.exit("codeFencedFenceSequence"),st(K)?ft(G,J,"whitespace")(K):J(K)):A(K)}function J(K){return K===null||ze(K)?(G.exit("codeFencedFence"),k(K)):A(K)}}}function GO(t,e,n){const a=this;return r;function r(c){return c===null?n(c):(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),o)}function o(c){return a.parser.lazy[a.now().line]?n(c):e(c)}}const bg={name:"codeIndented",tokenize:YO},QO={partial:!0,tokenize:KO};function YO(t,e,n){const a=this;return r;function r(f){return t.enter("codeIndented"),ft(t,o,"linePrefix",5)(f)}function o(f){const g=a.events[a.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?c(f):n(f)}function c(f){return f===null?m(f):ze(f)?t.attempt(QO,c,m)(f):(t.enter("codeFlowValue"),d(f))}function d(f){return f===null||ze(f)?(t.exit("codeFlowValue"),c(f)):(t.consume(f),d)}function m(f){return t.exit("codeIndented"),e(f)}}function KO(t,e,n){const a=this;return r;function r(c){return a.parser.lazy[a.now().line]?n(c):ze(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),r):ft(t,o,"linePrefix",5)(c)}function o(c){const d=a.events[a.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?e(c):ze(c)?r(c):n(c)}}const WO={name:"codeText",previous:JO,resolve:XO,tokenize:ZO};function XO(t){let e=t.length-4,n=3,a,r;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(a=n;++a<e;)if(t[a][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(a=n-1,e++;++a<=e;)r===void 0?a!==e&&t[a][1].type!=="lineEnding"&&(r=a):(a===e||t[a][1].type==="lineEnding")&&(t[r][1].type="codeTextData",a!==r+2&&(t[r][1].end=t[a-1][1].end,t.splice(r+2,a-r-2),e-=a-r-2,a=r+2),r=void 0);return t}function JO(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function ZO(t,e,n){let a=0,r,o;return c;function c(b){return t.enter("codeText"),t.enter("codeTextSequence"),d(b)}function d(b){return b===96?(t.consume(b),a++,d):(t.exit("codeTextSequence"),m(b))}function m(b){return b===null?n(b):b===32?(t.enter("space"),t.consume(b),t.exit("space"),m):b===96?(o=t.enter("codeTextSequence"),r=0,g(b)):ze(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),m):(t.enter("codeTextData"),f(b))}function f(b){return b===null||b===32||b===96||ze(b)?(t.exit("codeTextData"),m(b)):(t.consume(b),f)}function g(b){return b===96?(t.consume(b),r++,g):r===a?(t.exit("codeTextSequence"),t.exit("codeText"),e(b)):(o.type="codeTextData",f(b))}}class e9{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const a=n??Number.POSITIVE_INFINITY;return a<this.left.length?this.left.slice(e,a):e>this.left.length?this.right.slice(this.right.length-a+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-a+this.left.length).reverse())}splice(e,n,a){const r=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return a&&Iu(this.left,a),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Iu(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Iu(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Iu(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Iu(this.left,n.reverse())}}}function Iu(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function JS(t){const e={};let n=-1,a,r,o,c,d,m,f;const g=new e9(t);for(;++n<g.length;){for(;n in e;)n=e[n];if(a=g.get(n),n&&a[1].type==="chunkFlow"&&g.get(n-1)[1].type==="listItemPrefix"&&(m=a[1]._tokenizer.events,o=0,o<m.length&&m[o][1].type==="lineEndingBlank"&&(o+=2),o<m.length&&m[o][1].type==="content"))for(;++o<m.length&&m[o][1].type!=="content";)m[o][1].type==="chunkText"&&(m[o][1]._isInFirstContentOfListItem=!0,o++);if(a[0]==="enter")a[1].contentType&&(Object.assign(e,t9(g,n)),n=e[n],f=!0);else if(a[1]._container){for(o=n,r=void 0;o--;)if(c=g.get(o),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(r&&(g.get(r)[1].type="lineEndingBlank"),c[1].type="lineEnding",r=o);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;r&&(a[1].end={...g.get(r)[1].start},d=g.slice(r,n),d.unshift(a),g.splice(r,n-r+1,d))}}return Ds(t,0,Number.POSITIVE_INFINITY,g.slice(0)),!f}function t9(t,e){const n=t.get(e)[1],a=t.get(e)[2];let r=e-1;const o=[];let c=n._tokenizer;c||(c=a.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const d=c.events,m=[],f={};let g,b,v=-1,w=n,j=0,I=0;const D=[I];for(;w;){for(;t.get(++r)[1]!==w;);o.push(r),w._tokenizer||(g=a.sliceStream(w),w.next||g.push(null),b&&c.defineSkip(w.start),w._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(g),w._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),b=w,w=w.next}for(w=n;++v<d.length;)d[v][0]==="exit"&&d[v-1][0]==="enter"&&d[v][1].type===d[v-1][1].type&&d[v][1].start.line!==d[v][1].end.line&&(I=v+1,D.push(I),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(c.events=[],w?(w._tokenizer=void 0,w.previous=void 0):D.pop(),v=D.length;v--;){const L=d.slice(D[v],D[v+1]),R=o.pop();m.push([R,R+L.length-1]),t.splice(R,2,L)}for(m.reverse(),v=-1;++v<m.length;)f[j+m[v][0]]=j+m[v][1],j+=m[v][1]-m[v][0]-1;return f}const n9={resolve:a9,tokenize:i9},s9={partial:!0,tokenize:r9};function a9(t){return JS(t),t}function i9(t,e){let n;return a;function a(d){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),r(d)}function r(d){return d===null?o(d):ze(d)?t.check(s9,c,o)(d):(t.consume(d),r)}function o(d){return t.exit("chunkContent"),t.exit("content"),e(d)}function c(d){return t.consume(d),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}function r9(t,e,n){const a=this;return r;function r(c){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),ft(t,o,"linePrefix")}function o(c){if(c===null||ze(c))return n(c);const d=a.events[a.events.length-1];return!a.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?e(c):t.interrupt(a.parser.constructs.flow,n,e)(c)}}function ZS(t,e,n,a,r,o,c,d,m){const f=m||Number.POSITIVE_INFINITY;let g=0;return b;function b(L){return L===60?(t.enter(a),t.enter(r),t.enter(o),t.consume(L),t.exit(o),v):L===null||L===32||L===41||rf(L)?n(L):(t.enter(a),t.enter(c),t.enter(d),t.enter("chunkString",{contentType:"string"}),I(L))}function v(L){return L===62?(t.enter(o),t.consume(L),t.exit(o),t.exit(r),t.exit(a),e):(t.enter(d),t.enter("chunkString",{contentType:"string"}),w(L))}function w(L){return L===62?(t.exit("chunkString"),t.exit(d),v(L)):L===null||L===60||ze(L)?n(L):(t.consume(L),L===92?j:w)}function j(L){return L===60||L===62||L===92?(t.consume(L),w):w(L)}function I(L){return!g&&(L===null||L===41||Pt(L))?(t.exit("chunkString"),t.exit(d),t.exit(c),t.exit(a),e(L)):g<f&&L===40?(t.consume(L),g++,I):L===41?(t.consume(L),g--,I):L===null||L===32||L===40||rf(L)?n(L):(t.consume(L),L===92?D:I)}function D(L){return L===40||L===41||L===92?(t.consume(L),I):I(L)}}function e_(t,e,n,a,r,o){const c=this;let d=0,m;return f;function f(w){return t.enter(a),t.enter(r),t.consume(w),t.exit(r),t.enter(o),g}function g(w){return d>999||w===null||w===91||w===93&&!m||w===94&&!d&&"_hiddenFootnoteSupport"in c.parser.constructs?n(w):w===93?(t.exit(o),t.enter(r),t.consume(w),t.exit(r),t.exit(a),e):ze(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),g):(t.enter("chunkString",{contentType:"string"}),b(w))}function b(w){return w===null||w===91||w===93||ze(w)||d++>999?(t.exit("chunkString"),g(w)):(t.consume(w),m||(m=!st(w)),w===92?v:b)}function v(w){return w===91||w===92||w===93?(t.consume(w),d++,b):b(w)}}function t_(t,e,n,a,r,o){let c;return d;function d(v){return v===34||v===39||v===40?(t.enter(a),t.enter(r),t.consume(v),t.exit(r),c=v===40?41:v,m):n(v)}function m(v){return v===c?(t.enter(r),t.consume(v),t.exit(r),t.exit(a),e):(t.enter(o),f(v))}function f(v){return v===c?(t.exit(o),m(c)):v===null?n(v):ze(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),ft(t,f,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),g(v))}function g(v){return v===c||v===null||ze(v)?(t.exit("chunkString"),f(v)):(t.consume(v),v===92?b:g)}function b(v){return v===c||v===92?(t.consume(v),g):g(v)}}function Yu(t,e){let n;return a;function a(r){return ze(r)?(t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),n=!0,a):st(r)?ft(t,a,n?"linePrefix":"lineSuffix")(r):e(r)}}const l9={name:"definition",tokenize:c9},o9={partial:!0,tokenize:u9};function c9(t,e,n){const a=this;let r;return o;function o(w){return t.enter("definition"),c(w)}function c(w){return e_.call(a,t,d,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function d(w){return r=pa(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),m):n(w)}function m(w){return Pt(w)?Yu(t,f)(w):f(w)}function f(w){return ZS(t,g,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function g(w){return t.attempt(o9,b,b)(w)}function b(w){return st(w)?ft(t,v,"whitespace")(w):v(w)}function v(w){return w===null||ze(w)?(t.exit("definition"),a.parser.defined.push(r),e(w)):n(w)}}function u9(t,e,n){return a;function a(d){return Pt(d)?Yu(t,r)(d):n(d)}function r(d){return t_(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function o(d){return st(d)?ft(t,c,"whitespace")(d):c(d)}function c(d){return d===null||ze(d)?e(d):n(d)}}const d9={name:"hardBreakEscape",tokenize:h9};function h9(t,e,n){return a;function a(o){return t.enter("hardBreakEscape"),t.consume(o),r}function r(o){return ze(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const m9={name:"headingAtx",resolve:f9,tokenize:p9};function f9(t,e){let n=t.length-2,a=3,r,o;return t[a][1].type==="whitespace"&&(a+=2),n-2>a&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(a===n-1||n-4>a&&t[n-2][1].type==="whitespace")&&(n-=a+1===n?2:4),n>a&&(r={type:"atxHeadingText",start:t[a][1].start,end:t[n][1].end},o={type:"chunkText",start:t[a][1].start,end:t[n][1].end,contentType:"text"},Ds(t,a,n-a+1,[["enter",r,e],["enter",o,e],["exit",o,e],["exit",r,e]])),t}function p9(t,e,n){let a=0;return r;function r(g){return t.enter("atxHeading"),o(g)}function o(g){return t.enter("atxHeadingSequence"),c(g)}function c(g){return g===35&&a++<6?(t.consume(g),c):g===null||Pt(g)?(t.exit("atxHeadingSequence"),d(g)):n(g)}function d(g){return g===35?(t.enter("atxHeadingSequence"),m(g)):g===null||ze(g)?(t.exit("atxHeading"),e(g)):st(g)?ft(t,d,"whitespace")(g):(t.enter("atxHeadingText"),f(g))}function m(g){return g===35?(t.consume(g),m):(t.exit("atxHeadingSequence"),d(g))}function f(g){return g===null||g===35||Pt(g)?(t.exit("atxHeadingText"),d(g)):(t.consume(g),f)}}const g9=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ON=["pre","script","style","textarea"],x9={concrete:!0,name:"htmlFlow",resolveTo:v9,tokenize:w9},b9={partial:!0,tokenize:j9},y9={partial:!0,tokenize:N9};function v9(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function w9(t,e,n){const a=this;let r,o,c,d,m;return f;function f(F){return g(F)}function g(F){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(F),b}function b(F){return F===33?(t.consume(F),v):F===47?(t.consume(F),o=!0,I):F===63?(t.consume(F),r=3,a.interrupt?e:B):rs(F)?(t.consume(F),c=String.fromCharCode(F),D):n(F)}function v(F){return F===45?(t.consume(F),r=2,w):F===91?(t.consume(F),r=5,d=0,j):rs(F)?(t.consume(F),r=4,a.interrupt?e:B):n(F)}function w(F){return F===45?(t.consume(F),a.interrupt?e:B):n(F)}function j(F){const ke="CDATA[";return F===ke.charCodeAt(d++)?(t.consume(F),d===ke.length?a.interrupt?e:z:j):n(F)}function I(F){return rs(F)?(t.consume(F),c=String.fromCharCode(F),D):n(F)}function D(F){if(F===null||F===47||F===62||Pt(F)){const ke=F===47,Ce=c.toLowerCase();return!ke&&!o&&ON.includes(Ce)?(r=1,a.interrupt?e(F):z(F)):g9.includes(c.toLowerCase())?(r=6,ke?(t.consume(F),L):a.interrupt?e(F):z(F)):(r=7,a.interrupt&&!a.parser.lazy[a.now().line]?n(F):o?R(F):$(F))}return F===45||ts(F)?(t.consume(F),c+=String.fromCharCode(F),D):n(F)}function L(F){return F===62?(t.consume(F),a.interrupt?e:z):n(F)}function R(F){return st(F)?(t.consume(F),R):C(F)}function $(F){return F===47?(t.consume(F),C):F===58||F===95||rs(F)?(t.consume(F),q):st(F)?(t.consume(F),$):C(F)}function q(F){return F===45||F===46||F===58||F===95||ts(F)?(t.consume(F),q):X(F)}function X(F){return F===61?(t.consume(F),G):st(F)?(t.consume(F),X):$(F)}function G(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(t.consume(F),m=F,k):st(F)?(t.consume(F),G):A(F)}function k(F){return F===m?(t.consume(F),m=null,O):F===null||ze(F)?n(F):(t.consume(F),k)}function A(F){return F===null||F===34||F===39||F===47||F===60||F===61||F===62||F===96||Pt(F)?X(F):(t.consume(F),A)}function O(F){return F===47||F===62||st(F)?$(F):n(F)}function C(F){return F===62?(t.consume(F),M):n(F)}function M(F){return F===null||ze(F)?z(F):st(F)?(t.consume(F),M):n(F)}function z(F){return F===45&&r===2?(t.consume(F),H):F===60&&r===1?(t.consume(F),Z):F===62&&r===4?(t.consume(F),ce):F===63&&r===3?(t.consume(F),B):F===93&&r===5?(t.consume(F),ye):ze(F)&&(r===6||r===7)?(t.exit("htmlFlowData"),t.check(b9,be,E)(F)):F===null||ze(F)?(t.exit("htmlFlowData"),E(F)):(t.consume(F),z)}function E(F){return t.check(y9,J,be)(F)}function J(F){return t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),K}function K(F){return F===null||ze(F)?E(F):(t.enter("htmlFlowData"),z(F))}function H(F){return F===45?(t.consume(F),B):z(F)}function Z(F){return F===47?(t.consume(F),c="",le):z(F)}function le(F){if(F===62){const ke=c.toLowerCase();return ON.includes(ke)?(t.consume(F),ce):z(F)}return rs(F)&&c.length<8?(t.consume(F),c+=String.fromCharCode(F),le):z(F)}function ye(F){return F===93?(t.consume(F),B):z(F)}function B(F){return F===62?(t.consume(F),ce):F===45&&r===2?(t.consume(F),B):z(F)}function ce(F){return F===null||ze(F)?(t.exit("htmlFlowData"),be(F)):(t.consume(F),ce)}function be(F){return t.exit("htmlFlow"),e(F)}}function N9(t,e,n){const a=this;return r;function r(c){return ze(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),o):n(c)}function o(c){return a.parser.lazy[a.now().line]?n(c):e(c)}}function j9(t,e,n){return a;function a(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),t.attempt(Dd,e,n)}}const S9={name:"htmlText",tokenize:_9};function _9(t,e,n){const a=this;let r,o,c;return d;function d(B){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(B),m}function m(B){return B===33?(t.consume(B),f):B===47?(t.consume(B),X):B===63?(t.consume(B),$):rs(B)?(t.consume(B),A):n(B)}function f(B){return B===45?(t.consume(B),g):B===91?(t.consume(B),o=0,j):rs(B)?(t.consume(B),R):n(B)}function g(B){return B===45?(t.consume(B),w):n(B)}function b(B){return B===null?n(B):B===45?(t.consume(B),v):ze(B)?(c=b,Z(B)):(t.consume(B),b)}function v(B){return B===45?(t.consume(B),w):b(B)}function w(B){return B===62?H(B):B===45?v(B):b(B)}function j(B){const ce="CDATA[";return B===ce.charCodeAt(o++)?(t.consume(B),o===ce.length?I:j):n(B)}function I(B){return B===null?n(B):B===93?(t.consume(B),D):ze(B)?(c=I,Z(B)):(t.consume(B),I)}function D(B){return B===93?(t.consume(B),L):I(B)}function L(B){return B===62?H(B):B===93?(t.consume(B),L):I(B)}function R(B){return B===null||B===62?H(B):ze(B)?(c=R,Z(B)):(t.consume(B),R)}function $(B){return B===null?n(B):B===63?(t.consume(B),q):ze(B)?(c=$,Z(B)):(t.consume(B),$)}function q(B){return B===62?H(B):$(B)}function X(B){return rs(B)?(t.consume(B),G):n(B)}function G(B){return B===45||ts(B)?(t.consume(B),G):k(B)}function k(B){return ze(B)?(c=k,Z(B)):st(B)?(t.consume(B),k):H(B)}function A(B){return B===45||ts(B)?(t.consume(B),A):B===47||B===62||Pt(B)?O(B):n(B)}function O(B){return B===47?(t.consume(B),H):B===58||B===95||rs(B)?(t.consume(B),C):ze(B)?(c=O,Z(B)):st(B)?(t.consume(B),O):H(B)}function C(B){return B===45||B===46||B===58||B===95||ts(B)?(t.consume(B),C):M(B)}function M(B){return B===61?(t.consume(B),z):ze(B)?(c=M,Z(B)):st(B)?(t.consume(B),M):O(B)}function z(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(t.consume(B),r=B,E):ze(B)?(c=z,Z(B)):st(B)?(t.consume(B),z):(t.consume(B),J)}function E(B){return B===r?(t.consume(B),r=void 0,K):B===null?n(B):ze(B)?(c=E,Z(B)):(t.consume(B),E)}function J(B){return B===null||B===34||B===39||B===60||B===61||B===96?n(B):B===47||B===62||Pt(B)?O(B):(t.consume(B),J)}function K(B){return B===47||B===62||Pt(B)?O(B):n(B)}function H(B){return B===62?(t.consume(B),t.exit("htmlTextData"),t.exit("htmlText"),e):n(B)}function Z(B){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(B),t.exit("lineEnding"),le}function le(B){return st(B)?ft(t,ye,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):ye(B)}function ye(B){return t.enter("htmlTextData"),c(B)}}const Xb={name:"labelEnd",resolveAll:A9,resolveTo:k9,tokenize:I9},T9={tokenize:R9},C9={tokenize:D9},E9={tokenize:P9};function A9(t){let e=-1;const n=[];for(;++e<t.length;){const a=t[e][1];if(n.push(t[e]),a.type==="labelImage"||a.type==="labelLink"||a.type==="labelEnd"){const r=a.type==="labelImage"?4:2;a.type="data",e+=r}}return t.length!==n.length&&Ds(t,0,t.length,n),t}function k9(t,e){let n=t.length,a=0,r,o,c,d;for(;n--;)if(r=t[n][1],o){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;t[n][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(c){if(t[n][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(o=n,r.type!=="labelLink")){a=2;break}}else r.type==="labelEnd"&&(c=n);const m={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},f={type:"label",start:{...t[o][1].start},end:{...t[c][1].end}},g={type:"labelText",start:{...t[o+a+2][1].end},end:{...t[c-2][1].start}};return d=[["enter",m,e],["enter",f,e]],d=Qs(d,t.slice(o+1,o+a+3)),d=Qs(d,[["enter",g,e]]),d=Qs(d,Xf(e.parser.constructs.insideSpan.null,t.slice(o+a+4,c-3),e)),d=Qs(d,[["exit",g,e],t[c-2],t[c-1],["exit",f,e]]),d=Qs(d,t.slice(c+1)),d=Qs(d,[["exit",m,e]]),Ds(t,o,t.length,d),t}function I9(t,e,n){const a=this;let r=a.events.length,o,c;for(;r--;)if((a.events[r][1].type==="labelImage"||a.events[r][1].type==="labelLink")&&!a.events[r][1]._balanced){o=a.events[r][1];break}return d;function d(v){return o?o._inactive?b(v):(c=a.parser.defined.includes(pa(a.sliceSerialize({start:o.end,end:a.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(v),t.exit("labelMarker"),t.exit("labelEnd"),m):n(v)}function m(v){return v===40?t.attempt(T9,g,c?g:b)(v):v===91?t.attempt(C9,g,c?f:b)(v):c?g(v):b(v)}function f(v){return t.attempt(E9,g,b)(v)}function g(v){return e(v)}function b(v){return o._balanced=!0,n(v)}}function R9(t,e,n){return a;function a(b){return t.enter("resource"),t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),r}function r(b){return Pt(b)?Yu(t,o)(b):o(b)}function o(b){return b===41?g(b):ZS(t,c,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(b)}function c(b){return Pt(b)?Yu(t,m)(b):g(b)}function d(b){return n(b)}function m(b){return b===34||b===39||b===40?t_(t,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(b):g(b)}function f(b){return Pt(b)?Yu(t,g)(b):g(b)}function g(b){return b===41?(t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),t.exit("resource"),e):n(b)}}function D9(t,e,n){const a=this;return r;function r(d){return e_.call(a,t,o,c,"reference","referenceMarker","referenceString")(d)}function o(d){return a.parser.defined.includes(pa(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)))?e(d):n(d)}function c(d){return n(d)}}function P9(t,e,n){return a;function a(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),r}function r(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const M9={name:"labelStartImage",resolveAll:Xb.resolveAll,tokenize:O9};function O9(t,e,n){const a=this;return r;function r(d){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(d),t.exit("labelImageMarker"),o}function o(d){return d===91?(t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelImage"),c):n(d)}function c(d){return d===94&&"_hiddenFootnoteSupport"in a.parser.constructs?n(d):e(d)}}const L9={name:"labelStartLink",resolveAll:Xb.resolveAll,tokenize:V9};function V9(t,e,n){const a=this;return r;function r(c){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelLink"),o}function o(c){return c===94&&"_hiddenFootnoteSupport"in a.parser.constructs?n(c):e(c)}}const yg={name:"lineEnding",tokenize:U9};function U9(t,e){return n;function n(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),ft(t,e,"linePrefix")}}const Dm={name:"thematicBreak",tokenize:z9};function z9(t,e,n){let a=0,r;return o;function o(f){return t.enter("thematicBreak"),c(f)}function c(f){return r=f,d(f)}function d(f){return f===r?(t.enter("thematicBreakSequence"),m(f)):a>=3&&(f===null||ze(f))?(t.exit("thematicBreak"),e(f)):n(f)}function m(f){return f===r?(t.consume(f),a++,m):(t.exit("thematicBreakSequence"),st(f)?ft(t,d,"whitespace")(f):d(f))}}const fs={continuation:{tokenize:q9},exit:G9,name:"list",tokenize:$9},F9={partial:!0,tokenize:Q9},B9={partial:!0,tokenize:H9};function $9(t,e,n){const a=this,r=a.events[a.events.length-1];let o=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,c=0;return d;function d(w){const j=a.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(j==="listUnordered"?!a.containerState.marker||w===a.containerState.marker:vx(w)){if(a.containerState.type||(a.containerState.type=j,t.enter(j,{_container:!0})),j==="listUnordered")return t.enter("listItemPrefix"),w===42||w===45?t.check(Dm,n,f)(w):f(w);if(!a.interrupt||w===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),m(w)}return n(w)}function m(w){return vx(w)&&++c<10?(t.consume(w),m):(!a.interrupt||c<2)&&(a.containerState.marker?w===a.containerState.marker:w===41||w===46)?(t.exit("listItemValue"),f(w)):n(w)}function f(w){return t.enter("listItemMarker"),t.consume(w),t.exit("listItemMarker"),a.containerState.marker=a.containerState.marker||w,t.check(Dd,a.interrupt?n:g,t.attempt(F9,v,b))}function g(w){return a.containerState.initialBlankLine=!0,o++,v(w)}function b(w){return st(w)?(t.enter("listItemPrefixWhitespace"),t.consume(w),t.exit("listItemPrefixWhitespace"),v):n(w)}function v(w){return a.containerState.size=o+a.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(w)}}function q9(t,e,n){const a=this;return a.containerState._closeFlow=void 0,t.check(Dd,r,o);function r(d){return a.containerState.furtherBlankLines=a.containerState.furtherBlankLines||a.containerState.initialBlankLine,ft(t,e,"listItemIndent",a.containerState.size+1)(d)}function o(d){return a.containerState.furtherBlankLines||!st(d)?(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,c(d)):(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,t.attempt(B9,e,c)(d))}function c(d){return a.containerState._closeFlow=!0,a.interrupt=void 0,ft(t,t.attempt(fs,e,n),"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function H9(t,e,n){const a=this;return ft(t,r,"listItemIndent",a.containerState.size+1);function r(o){const c=a.events[a.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===a.containerState.size?e(o):n(o)}}function G9(t){t.exit(this.containerState.type)}function Q9(t,e,n){const a=this;return ft(t,r,"listItemPrefixWhitespace",a.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(o){const c=a.events[a.events.length-1];return!st(o)&&c&&c[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const LN={name:"setextUnderline",resolveTo:Y9,tokenize:K9};function Y9(t,e){let n=t.length,a,r,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){a=n;break}t[n][1].type==="paragraph"&&(r=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const c={type:"setextHeading",start:{...t[a][1].start},end:{...t[t.length-1][1].end}};return t[r][1].type="setextHeadingText",o?(t.splice(r,0,["enter",c,e]),t.splice(o+1,0,["exit",t[a][1],e]),t[a][1].end={...t[o][1].end}):t[a][1]=c,t.push(["exit",c,e]),t}function K9(t,e,n){const a=this;let r;return o;function o(f){let g=a.events.length,b;for(;g--;)if(a.events[g][1].type!=="lineEnding"&&a.events[g][1].type!=="linePrefix"&&a.events[g][1].type!=="content"){b=a.events[g][1].type==="paragraph";break}return!a.parser.lazy[a.now().line]&&(a.interrupt||b)?(t.enter("setextHeadingLine"),r=f,c(f)):n(f)}function c(f){return t.enter("setextHeadingLineSequence"),d(f)}function d(f){return f===r?(t.consume(f),d):(t.exit("setextHeadingLineSequence"),st(f)?ft(t,m,"lineSuffix")(f):m(f))}function m(f){return f===null||ze(f)?(t.exit("setextHeadingLine"),e(f)):n(f)}}const W9={tokenize:X9};function X9(t){const e=this,n=t.attempt(Dd,a,t.attempt(this.parser.constructs.flowInitial,r,ft(t,t.attempt(this.parser.constructs.flow,r,t.attempt(n9,r)),"linePrefix")));return n;function a(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const J9={resolveAll:s_()},Z9=n_("string"),eL=n_("text");function n_(t){return{resolveAll:s_(t==="text"?tL:void 0),tokenize:e};function e(n){const a=this,r=this.parser.constructs[t],o=n.attempt(r,c,d);return c;function c(g){return f(g)?o(g):d(g)}function d(g){if(g===null){n.consume(g);return}return n.enter("data"),n.consume(g),m}function m(g){return f(g)?(n.exit("data"),o(g)):(n.consume(g),m)}function f(g){if(g===null)return!0;const b=r[g];let v=-1;if(b)for(;++v<b.length;){const w=b[v];if(!w.previous||w.previous.call(a,a.previous))return!0}return!1}}}function s_(t){return e;function e(n,a){let r=-1,o;for(;++r<=n.length;)o===void 0?n[r]&&n[r][1].type==="data"&&(o=r,r++):(!n[r]||n[r][1].type!=="data")&&(r!==o+2&&(n[o][1].end=n[r-1][1].end,n.splice(o+2,r-o-2),r=o+2),o=void 0);return t?t(n,a):n}}function tL(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const a=t[n-1][1],r=e.sliceStream(a);let o=r.length,c=-1,d=0,m;for(;o--;){const f=r[o];if(typeof f=="string"){for(c=f.length;f.charCodeAt(c-1)===32;)d++,c--;if(c)break;c=-1}else if(f===-2)m=!0,d++;else if(f!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(d=0),d){const f={type:n===t.length||m||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?c:a.start._bufferIndex+c,_index:a.start._index+o,line:a.end.line,column:a.end.column-d,offset:a.end.offset-d},end:{...a.end}};a.end={...f.start},a.start.offset===a.end.offset?Object.assign(a,f):(t.splice(n,0,["enter",f,e],["exit",f,e]),n+=2)}n++}return t}const nL={42:fs,43:fs,45:fs,48:fs,49:fs,50:fs,51:fs,52:fs,53:fs,54:fs,55:fs,56:fs,57:fs,62:KS},sL={91:l9},aL={[-2]:bg,[-1]:bg,32:bg},iL={35:m9,42:Dm,45:[LN,Dm],60:x9,61:LN,95:Dm,96:MN,126:MN},rL={38:XS,92:WS},lL={[-5]:yg,[-4]:yg,[-3]:yg,33:M9,38:XS,42:wx,60:[LO,S9],91:L9,92:[d9,WS],93:Xb,95:wx,96:WO},oL={null:[wx,J9]},cL={null:[42,95]},uL={null:[]},dL=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:cL,contentInitial:sL,disable:uL,document:nL,flow:iL,flowInitial:aL,insideSpan:oL,string:rL,text:lL},Symbol.toStringTag,{value:"Module"}));function hL(t,e,n){let a={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const r={},o=[];let c=[],d=[];const m={attempt:k(X),check:k(G),consume:R,enter:$,exit:q,interrupt:k(G,{interrupt:!0})},f={code:null,containerState:{},defineSkip:I,events:[],now:j,parser:t,previous:null,sliceSerialize:v,sliceStream:w,write:b};let g=e.tokenize.call(f,m);return e.resolveAll&&o.push(e),f;function b(M){return c=Qs(c,M),D(),c[c.length-1]!==null?[]:(A(e,0),f.events=Xf(o,f.events,f),f.events)}function v(M,z){return fL(w(M),z)}function w(M){return mL(c,M)}function j(){const{_bufferIndex:M,_index:z,line:E,column:J,offset:K}=a;return{_bufferIndex:M,_index:z,line:E,column:J,offset:K}}function I(M){r[M.line]=M.column,C()}function D(){let M;for(;a._index<c.length;){const z=c[a._index];if(typeof z=="string")for(M=a._index,a._bufferIndex<0&&(a._bufferIndex=0);a._index===M&&a._bufferIndex<z.length;)L(z.charCodeAt(a._bufferIndex));else L(z)}}function L(M){g=g(M)}function R(M){ze(M)?(a.line++,a.column=1,a.offset+=M===-3?2:1,C()):M!==-1&&(a.column++,a.offset++),a._bufferIndex<0?a._index++:(a._bufferIndex++,a._bufferIndex===c[a._index].length&&(a._bufferIndex=-1,a._index++)),f.previous=M}function $(M,z){const E=z||{};return E.type=M,E.start=j(),f.events.push(["enter",E,f]),d.push(E),E}function q(M){const z=d.pop();return z.end=j(),f.events.push(["exit",z,f]),z}function X(M,z){A(M,z.from)}function G(M,z){z.restore()}function k(M,z){return E;function E(J,K,H){let Z,le,ye,B;return Array.isArray(J)?be(J):"tokenize"in J?be([J]):ce(J);function ce(Me){return et;function et(Et){const ht=Et!==null&&Me[Et],Vt=Et!==null&&Me.null,Nt=[...Array.isArray(ht)?ht:ht?[ht]:[],...Array.isArray(Vt)?Vt:Vt?[Vt]:[]];return be(Nt)(Et)}}function be(Me){return Z=Me,le=0,Me.length===0?H:F(Me[le])}function F(Me){return et;function et(Et){return B=O(),ye=Me,Me.partial||(f.currentConstruct=Me),Me.name&&f.parser.constructs.disable.null.includes(Me.name)?Ce():Me.tokenize.call(z?Object.assign(Object.create(f),z):f,m,ke,Ce)(Et)}}function ke(Me){return M(ye,B),K}function Ce(Me){return B.restore(),++le<Z.length?F(Z[le]):H}}}function A(M,z){M.resolveAll&&!o.includes(M)&&o.push(M),M.resolve&&Ds(f.events,z,f.events.length-z,M.resolve(f.events.slice(z),f)),M.resolveTo&&(f.events=M.resolveTo(f.events,f))}function O(){const M=j(),z=f.previous,E=f.currentConstruct,J=f.events.length,K=Array.from(d);return{from:J,restore:H};function H(){a=M,f.previous=z,f.currentConstruct=E,f.events.length=J,d=K,C()}}function C(){a.line in r&&a.column<2&&(a.column=r[a.line],a.offset+=r[a.line]-1)}}function mL(t,e){const n=e.start._index,a=e.start._bufferIndex,r=e.end._index,o=e.end._bufferIndex;let c;if(n===r)c=[t[n].slice(a,o)];else{if(c=t.slice(n,r),a>-1){const d=c[0];typeof d=="string"?c[0]=d.slice(a):c.shift()}o>0&&c.push(t[r].slice(0,o))}return c}function fL(t,e){let n=-1;const a=[];let r;for(;++n<t.length;){const o=t[n];let c;if(typeof o=="string")c=o;else switch(o){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=e?" ":"	";break}case-1:{if(!e&&r)continue;c=" ";break}default:c=String.fromCharCode(o)}r=o===-2,a.push(c)}return a.join("")}function pL(t){const a={constructs:QS([dL,...(t||{}).extensions||[]]),content:r(kO),defined:[],document:r(RO),flow:r(W9),lazy:{},string:r(Z9),text:r(eL)};return a;function r(o){return c;function c(d){return hL(a,o,d)}}}function gL(t){for(;!JS(t););return t}const VN=/[\0\t\n\r]/g;function xL(){let t=1,e="",n=!0,a;return r;function r(o,c,d){const m=[];let f,g,b,v,w;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(c||void 0).decode(o)),b=0,e="",n&&(o.charCodeAt(0)===65279&&b++,n=void 0);b<o.length;){if(VN.lastIndex=b,f=VN.exec(o),v=f&&f.index!==void 0?f.index:o.length,w=o.charCodeAt(v),!f){e=o.slice(b);break}if(w===10&&b===v&&a)m.push(-3),a=void 0;else switch(a&&(m.push(-5),a=void 0),b<v&&(m.push(o.slice(b,v)),t+=v-b),w){case 0:{m.push(65533),t++;break}case 9:{for(g=Math.ceil(t/4)*4,m.push(-2);t++<g;)m.push(-1);break}case 10:{m.push(-4),t=1;break}default:a=!0,t=1}b=v+1}return d&&(a&&m.push(-5),e&&m.push(e),m.push(null)),m}}const bL=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function yL(t){return t.replace(bL,vL)}function vL(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),o=r===120||r===88;return YS(n.slice(o?2:1),o?16:10)}return Wb(n)||t}const a_={}.hasOwnProperty;function wL(t,e,n){return typeof e!="string"&&(n=e,e=void 0),NL(n)(gL(pL(n).document().write(xL()(t,e,!0))))}function NL(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Se),autolinkProtocol:O,autolinkEmail:O,atxHeading:o(_e),blockQuote:o(Vt),characterEscape:O,characterReference:O,codeFenced:o(Nt),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:o(Nt,c),codeText:o(ge,c),codeTextData:O,data:O,codeFlowValue:O,definition:o(ne),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:o(de),hardBreakEscape:o(Pe),hardBreakTrailing:o(Pe),htmlFlow:o(jt,c),htmlFlowData:O,htmlText:o(jt,c),htmlTextData:O,image:o(Ne),label:c,link:o(Se),listItem:o(Je),listItemValue:v,listOrdered:o(De,b),listUnordered:o(De),paragraph:o(Mn),reference:F,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:o(_e),strong:o(jn),thematicBreak:o(Ja)},exit:{atxHeading:m(),atxHeadingSequence:X,autolink:m(),autolinkEmail:ht,autolinkProtocol:Et,blockQuote:m(),characterEscapeValue:C,characterReferenceMarkerHexadecimal:Ce,characterReferenceMarkerNumeric:Ce,characterReferenceValue:Me,characterReference:et,codeFenced:m(D),codeFencedFence:I,codeFencedFenceInfo:w,codeFencedFenceMeta:j,codeFlowValue:C,codeIndented:m(L),codeText:m(K),codeTextData:C,data:C,definition:m(),definitionDestinationString:q,definitionLabelString:R,definitionTitleString:$,emphasis:m(),hardBreakEscape:m(z),hardBreakTrailing:m(z),htmlFlow:m(E),htmlFlowData:C,htmlText:m(J),htmlTextData:C,image:m(Z),label:ye,labelText:le,lineEnding:M,link:m(H),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:ke,resourceDestinationString:B,resourceTitleString:ce,resource:be,setextHeading:m(A),setextHeadingLineSequence:k,setextHeadingText:G,strong:m(),thematicBreak:m()}};i_(e,(t||{}).mdastExtensions||[]);const n={};return a;function a(he){let we={type:"root",children:[]};const Ue={stack:[we],tokenStack:[],config:e,enter:d,exit:f,buffer:c,resume:g,data:n},Ze=[];let pt=-1;for(;++pt<he.length;)if(he[pt][1].type==="listOrdered"||he[pt][1].type==="listUnordered")if(he[pt][0]==="enter")Ze.push(pt);else{const Qn=Ze.pop();pt=r(he,Qn,pt)}for(pt=-1;++pt<he.length;){const Qn=e[he[pt][0]];a_.call(Qn,he[pt][1].type)&&Qn[he[pt][1].type].call(Object.assign({sliceSerialize:he[pt][2].sliceSerialize},Ue),he[pt][1])}if(Ue.tokenStack.length>0){const Qn=Ue.tokenStack[Ue.tokenStack.length-1];(Qn[1]||UN).call(Ue,void 0,Qn[0])}for(we.position={start:Nr(he.length>0?he[0][1].start:{line:1,column:1,offset:0}),end:Nr(he.length>0?he[he.length-2][1].end:{line:1,column:1,offset:0})},pt=-1;++pt<e.transforms.length;)we=e.transforms[pt](we)||we;return we}function r(he,we,Ue){let Ze=we-1,pt=-1,Qn=!1,Ps,en,Yt,Cn;for(;++Ze<=Ue;){const ut=he[Ze];switch(ut[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ut[0]==="enter"?pt++:pt--,Cn=void 0;break}case"lineEndingBlank":{ut[0]==="enter"&&(Ps&&!Cn&&!pt&&!Yt&&(Yt=Ze),Cn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Cn=void 0}if(!pt&&ut[0]==="enter"&&ut[1].type==="listItemPrefix"||pt===-1&&ut[0]==="exit"&&(ut[1].type==="listUnordered"||ut[1].type==="listOrdered")){if(Ps){let ea=Ze;for(en=void 0;ea--;){const Yn=he[ea];if(Yn[1].type==="lineEnding"||Yn[1].type==="lineEndingBlank"){if(Yn[0]==="exit")continue;en&&(he[en][1].type="lineEndingBlank",Qn=!0),Yn[1].type="lineEnding",en=ea}else if(!(Yn[1].type==="linePrefix"||Yn[1].type==="blockQuotePrefix"||Yn[1].type==="blockQuotePrefixWhitespace"||Yn[1].type==="blockQuoteMarker"||Yn[1].type==="listItemIndent"))break}Yt&&(!en||Yt<en)&&(Ps._spread=!0),Ps.end=Object.assign({},en?he[en][1].start:ut[1].end),he.splice(en||Ze,0,["exit",Ps,ut[2]]),Ze++,Ue++}if(ut[1].type==="listItemPrefix"){const ea={type:"listItem",_spread:!1,start:Object.assign({},ut[1].start),end:void 0};Ps=ea,he.splice(Ze,0,["enter",ea,ut[2]]),Ze++,Ue++,Yt=void 0,Cn=!0}}}return he[we][1]._spread=Qn,Ue}function o(he,we){return Ue;function Ue(Ze){d.call(this,he(Ze),Ze),we&&we.call(this,Ze)}}function c(){this.stack.push({type:"fragment",children:[]})}function d(he,we,Ue){this.stack[this.stack.length-1].children.push(he),this.stack.push(he),this.tokenStack.push([we,Ue||void 0]),he.position={start:Nr(we.start),end:void 0}}function m(he){return we;function we(Ue){he&&he.call(this,Ue),f.call(this,Ue)}}function f(he,we){const Ue=this.stack.pop(),Ze=this.tokenStack.pop();if(Ze)Ze[0].type!==he.type&&(we?we.call(this,he,Ze[0]):(Ze[1]||UN).call(this,he,Ze[0]));else throw new Error("Cannot close `"+he.type+"` ("+Qu({start:he.start,end:he.end})+"): its not open");Ue.position.end=Nr(he.end)}function g(){return Kb(this.stack.pop())}function b(){this.data.expectingFirstListItemValue=!0}function v(he){if(this.data.expectingFirstListItemValue){const we=this.stack[this.stack.length-2];we.start=Number.parseInt(this.sliceSerialize(he),10),this.data.expectingFirstListItemValue=void 0}}function w(){const he=this.resume(),we=this.stack[this.stack.length-1];we.lang=he}function j(){const he=this.resume(),we=this.stack[this.stack.length-1];we.meta=he}function I(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function D(){const he=this.resume(),we=this.stack[this.stack.length-1];we.value=he.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function L(){const he=this.resume(),we=this.stack[this.stack.length-1];we.value=he.replace(/(\r?\n|\r)$/g,"")}function R(he){const we=this.resume(),Ue=this.stack[this.stack.length-1];Ue.label=we,Ue.identifier=pa(this.sliceSerialize(he)).toLowerCase()}function $(){const he=this.resume(),we=this.stack[this.stack.length-1];we.title=he}function q(){const he=this.resume(),we=this.stack[this.stack.length-1];we.url=he}function X(he){const we=this.stack[this.stack.length-1];if(!we.depth){const Ue=this.sliceSerialize(he).length;we.depth=Ue}}function G(){this.data.setextHeadingSlurpLineEnding=!0}function k(he){const we=this.stack[this.stack.length-1];we.depth=this.sliceSerialize(he).codePointAt(0)===61?1:2}function A(){this.data.setextHeadingSlurpLineEnding=void 0}function O(he){const Ue=this.stack[this.stack.length-1].children;let Ze=Ue[Ue.length-1];(!Ze||Ze.type!=="text")&&(Ze=Qt(),Ze.position={start:Nr(he.start),end:void 0},Ue.push(Ze)),this.stack.push(Ze)}function C(he){const we=this.stack.pop();we.value+=this.sliceSerialize(he),we.position.end=Nr(he.end)}function M(he){const we=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ue=we.children[we.children.length-1];Ue.position.end=Nr(he.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(we.type)&&(O.call(this,he),C.call(this,he))}function z(){this.data.atHardBreak=!0}function E(){const he=this.resume(),we=this.stack[this.stack.length-1];we.value=he}function J(){const he=this.resume(),we=this.stack[this.stack.length-1];we.value=he}function K(){const he=this.resume(),we=this.stack[this.stack.length-1];we.value=he}function H(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const we=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=we,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function Z(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const we=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=we,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function le(he){const we=this.sliceSerialize(he),Ue=this.stack[this.stack.length-2];Ue.label=yL(we),Ue.identifier=pa(we).toLowerCase()}function ye(){const he=this.stack[this.stack.length-1],we=this.resume(),Ue=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ue.type==="link"){const Ze=he.children;Ue.children=Ze}else Ue.alt=we}function B(){const he=this.resume(),we=this.stack[this.stack.length-1];we.url=he}function ce(){const he=this.resume(),we=this.stack[this.stack.length-1];we.title=he}function be(){this.data.inReference=void 0}function F(){this.data.referenceType="collapsed"}function ke(he){const we=this.resume(),Ue=this.stack[this.stack.length-1];Ue.label=we,Ue.identifier=pa(this.sliceSerialize(he)).toLowerCase(),this.data.referenceType="full"}function Ce(he){this.data.characterReferenceType=he.type}function Me(he){const we=this.sliceSerialize(he),Ue=this.data.characterReferenceType;let Ze;Ue?(Ze=YS(we,Ue==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ze=Wb(we);const pt=this.stack[this.stack.length-1];pt.value+=Ze}function et(he){const we=this.stack.pop();we.position.end=Nr(he.end)}function Et(he){C.call(this,he);const we=this.stack[this.stack.length-1];we.url=this.sliceSerialize(he)}function ht(he){C.call(this,he);const we=this.stack[this.stack.length-1];we.url="mailto:"+this.sliceSerialize(he)}function Vt(){return{type:"blockquote",children:[]}}function Nt(){return{type:"code",lang:null,meta:null,value:""}}function ge(){return{type:"inlineCode",value:""}}function ne(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function de(){return{type:"emphasis",children:[]}}function _e(){return{type:"heading",depth:0,children:[]}}function Pe(){return{type:"break"}}function jt(){return{type:"html",value:""}}function Ne(){return{type:"image",title:null,url:"",alt:null}}function Se(){return{type:"link",title:null,url:"",children:[]}}function De(he){return{type:"list",ordered:he.type==="listOrdered",start:null,spread:he._spread,children:[]}}function Je(he){return{type:"listItem",spread:he._spread,checked:null,children:[]}}function Mn(){return{type:"paragraph",children:[]}}function jn(){return{type:"strong",children:[]}}function Qt(){return{type:"text",value:""}}function Ja(){return{type:"thematicBreak"}}}function Nr(t){return{line:t.line,column:t.column,offset:t.offset}}function i_(t,e){let n=-1;for(;++n<e.length;){const a=e[n];Array.isArray(a)?i_(t,a):jL(t,a)}}function jL(t,e){let n;for(n in e)if(a_.call(e,n))switch(n){case"canContainEols":{const a=e[n];a&&t[n].push(...a);break}case"transforms":{const a=e[n];a&&t[n].push(...a);break}case"enter":case"exit":{const a=e[n];a&&Object.assign(t[n],a);break}}}function UN(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Qu({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Qu({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Qu({start:e.start,end:e.end})+") is still open")}function SL(t){const e=this;e.parser=n;function n(a){return wL(a,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function _L(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function TL(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function CL(t,e){const n=e.value?e.value+`
`:"",a={},r=e.lang?e.lang.split(/\s+/):[];r.length>0&&(a.className=["language-"+r[0]]);let o={type:"element",tagName:"code",properties:a,children:[{type:"text",value:n}]};return e.meta&&(o.data={meta:e.meta}),t.patch(e,o),o=t.applyData(e,o),o={type:"element",tagName:"pre",properties:{},children:[o]},t.patch(e,o),o}function EL(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function AL(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function kL(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",a=String(e.identifier).toUpperCase(),r=_c(a.toLowerCase()),o=t.footnoteOrder.indexOf(a);let c,d=t.footnoteCounts.get(a);d===void 0?(d=0,t.footnoteOrder.push(a),c=t.footnoteOrder.length):c=o+1,d+=1,t.footnoteCounts.set(a,d);const m={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+r,id:n+"fnref-"+r+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};t.patch(e,m);const f={type:"element",tagName:"sup",properties:{},children:[m]};return t.patch(e,f),t.applyData(e,f)}function IL(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function RL(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function r_(t,e){const n=e.referenceType;let a="]";if(n==="collapsed"?a+="[]":n==="full"&&(a+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+a}];const r=t.all(e),o=r[0];o&&o.type==="text"?o.value="["+o.value:r.unshift({type:"text",value:"["});const c=r[r.length-1];return c&&c.type==="text"?c.value+=a:r.push({type:"text",value:a}),r}function DL(t,e){const n=String(e.identifier).toUpperCase(),a=t.definitionById.get(n);if(!a)return r_(t,e);const r={src:_c(a.url||""),alt:e.alt};a.title!==null&&a.title!==void 0&&(r.title=a.title);const o={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,o),t.applyData(e,o)}function PL(t,e){const n={src:_c(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const a={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,a),t.applyData(e,a)}function ML(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const a={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,a),t.applyData(e,a)}function OL(t,e){const n=String(e.identifier).toUpperCase(),a=t.definitionById.get(n);if(!a)return r_(t,e);const r={href:_c(a.url||"")};a.title!==null&&a.title!==void 0&&(r.title=a.title);const o={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function LL(t,e){const n={href:_c(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const a={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function VL(t,e,n){const a=t.all(e),r=n?UL(n):l_(e),o={},c=[];if(typeof e.checked=="boolean"){const g=a[0];let b;g&&g.type==="element"&&g.tagName==="p"?b=g:(b={type:"element",tagName:"p",properties:{},children:[]},a.unshift(b)),b.children.length>0&&b.children.unshift({type:"text",value:" "}),b.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let d=-1;for(;++d<a.length;){const g=a[d];(r||d!==0||g.type!=="element"||g.tagName!=="p")&&c.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!r?c.push(...g.children):c.push(g)}const m=a[a.length-1];m&&(r||m.type!=="element"||m.tagName!=="p")&&c.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:c};return t.patch(e,f),t.applyData(e,f)}function UL(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let a=-1;for(;!e&&++a<n.length;)e=l_(n[a])}return e}function l_(t){const e=t.spread;return e??t.children.length>1}function zL(t,e){const n={},a=t.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++r<a.length;){const c=a[r];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(a,!0)};return t.patch(e,o),t.applyData(e,o)}function FL(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function BL(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function $L(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function qL(t,e){const n=t.all(e),a=n.shift(),r=[];if(a){const c={type:"element",tagName:"thead",properties:{},children:t.wrap([a],!0)};t.patch(e.children[0],c),r.push(c)}if(n.length>0){const c={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},d=Hb(e.children[1]),m=zS(e.children[e.children.length-1]);d&&m&&(c.position={start:d,end:m}),r.push(c)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function HL(t,e,n){const a=n?n.children:void 0,o=(a?a.indexOf(e):1)===0?"th":"td",c=n&&n.type==="table"?n.align:void 0,d=c?c.length:e.children.length;let m=-1;const f=[];for(;++m<d;){const b=e.children[m],v={},w=c?c[m]:void 0;w&&(v.align=w);let j={type:"element",tagName:o,properties:v,children:[]};b&&(j.children=t.all(b),t.patch(b,j),j=t.applyData(b,j)),f.push(j)}const g={type:"element",tagName:"tr",properties:{},children:t.wrap(f,!0)};return t.patch(e,g),t.applyData(e,g)}function GL(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const zN=9,FN=32;function QL(t){const e=String(t),n=/\r?\n|\r/g;let a=n.exec(e),r=0;const o=[];for(;a;)o.push(BN(e.slice(r,a.index),r>0,!0),a[0]),r=a.index+a[0].length,a=n.exec(e);return o.push(BN(e.slice(r),r>0,!1)),o.join("")}function BN(t,e,n){let a=0,r=t.length;if(e){let o=t.codePointAt(a);for(;o===zN||o===FN;)a++,o=t.codePointAt(a)}if(n){let o=t.codePointAt(r-1);for(;o===zN||o===FN;)r--,o=t.codePointAt(r-1)}return r>a?t.slice(a,r):""}function YL(t,e){const n={type:"text",value:QL(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function KL(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const WL={blockquote:_L,break:TL,code:CL,delete:EL,emphasis:AL,footnoteReference:kL,heading:IL,html:RL,imageReference:DL,image:PL,inlineCode:ML,linkReference:OL,link:LL,listItem:VL,list:zL,paragraph:FL,root:BL,strong:$L,table:qL,tableCell:GL,tableRow:HL,text:YL,thematicBreak:KL,toml:mm,yaml:mm,definition:mm,footnoteDefinition:mm};function mm(){}const o_=-1,Jf=0,Ku=1,lf=2,Jb=3,Zb=4,ey=5,ty=6,c_=7,u_=8,$N=typeof self=="object"?self:globalThis,XL=(t,e)=>{const n=(r,o)=>(t.set(o,r),r),a=r=>{if(t.has(r))return t.get(r);const[o,c]=e[r];switch(o){case Jf:case o_:return n(c,r);case Ku:{const d=n([],r);for(const m of c)d.push(a(m));return d}case lf:{const d=n({},r);for(const[m,f]of c)d[a(m)]=a(f);return d}case Jb:return n(new Date(c),r);case Zb:{const{source:d,flags:m}=c;return n(new RegExp(d,m),r)}case ey:{const d=n(new Map,r);for(const[m,f]of c)d.set(a(m),a(f));return d}case ty:{const d=n(new Set,r);for(const m of c)d.add(a(m));return d}case c_:{const{name:d,message:m}=c;return n(new $N[d](m),r)}case u_:return n(BigInt(c),r);case"BigInt":return n(Object(BigInt(c)),r);case"ArrayBuffer":return n(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:d}=new Uint8Array(c);return n(new DataView(d),c)}}return n(new $N[o](c),r)};return a},qN=t=>XL(new Map,t)(0),Lo="",{toString:JL}={},{keys:ZL}=Object,Ru=t=>{const e=typeof t;if(e!=="object"||!t)return[Jf,e];const n=JL.call(t).slice(8,-1);switch(n){case"Array":return[Ku,Lo];case"Object":return[lf,Lo];case"Date":return[Jb,Lo];case"RegExp":return[Zb,Lo];case"Map":return[ey,Lo];case"Set":return[ty,Lo];case"DataView":return[Ku,n]}return n.includes("Array")?[Ku,n]:n.includes("Error")?[c_,n]:[lf,n]},fm=([t,e])=>t===Jf&&(e==="function"||e==="symbol"),e7=(t,e,n,a)=>{const r=(c,d)=>{const m=a.push(c)-1;return n.set(d,m),m},o=c=>{if(n.has(c))return n.get(c);let[d,m]=Ru(c);switch(d){case Jf:{let g=c;switch(m){case"bigint":d=u_,g=c.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+m);g=null;break;case"undefined":return r([o_],c)}return r([d,g],c)}case Ku:{if(m){let v=c;return m==="DataView"?v=new Uint8Array(c.buffer):m==="ArrayBuffer"&&(v=new Uint8Array(c)),r([m,[...v]],c)}const g=[],b=r([d,g],c);for(const v of c)g.push(o(v));return b}case lf:{if(m)switch(m){case"BigInt":return r([m,c.toString()],c);case"Boolean":case"Number":case"String":return r([m,c.valueOf()],c)}if(e&&"toJSON"in c)return o(c.toJSON());const g=[],b=r([d,g],c);for(const v of ZL(c))(t||!fm(Ru(c[v])))&&g.push([o(v),o(c[v])]);return b}case Jb:return r([d,c.toISOString()],c);case Zb:{const{source:g,flags:b}=c;return r([d,{source:g,flags:b}],c)}case ey:{const g=[],b=r([d,g],c);for(const[v,w]of c)(t||!(fm(Ru(v))||fm(Ru(w))))&&g.push([o(v),o(w)]);return b}case ty:{const g=[],b=r([d,g],c);for(const v of c)(t||!fm(Ru(v)))&&g.push(o(v));return b}}const{message:f}=c;return r([d,{name:m,message:f}],c)};return o},HN=(t,{json:e,lossy:n}={})=>{const a=[];return e7(!(e||n),!!e,new Map,a)(t),a},of=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?qN(HN(t,e)):structuredClone(t):(t,e)=>qN(HN(t,e));function t7(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function n7(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function s7(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||t7,a=t.options.footnoteBackLabel||n7,r=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",c=t.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let m=-1;for(;++m<t.footnoteOrder.length;){const f=t.footnoteById.get(t.footnoteOrder[m]);if(!f)continue;const g=t.all(f),b=String(f.identifier).toUpperCase(),v=_c(b.toLowerCase());let w=0;const j=[],I=t.footnoteCounts.get(b);for(;I!==void 0&&++w<=I;){j.length>0&&j.push({type:"text",value:" "});let R=typeof n=="string"?n:n(m,w);typeof R=="string"&&(R={type:"text",value:R}),j.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+v+(w>1?"-"+w:""),dataFootnoteBackref:"",ariaLabel:typeof a=="string"?a:a(m,w),className:["data-footnote-backref"]},children:Array.isArray(R)?R:[R]})}const D=g[g.length-1];if(D&&D.type==="element"&&D.tagName==="p"){const R=D.children[D.children.length-1];R&&R.type==="text"?R.value+=" ":D.children.push({type:"text",value:" "}),D.children.push(...j)}else g.push(...j);const L={type:"element",tagName:"li",properties:{id:e+"fn-"+v},children:t.wrap(g,!0)};t.patch(f,L),d.push(L)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...of(c),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(d,!0)},{type:"text",value:`
`}]}}const Zf=(function(t){if(t==null)return l7;if(typeof t=="function")return e0(t);if(typeof t=="object")return Array.isArray(t)?a7(t):i7(t);if(typeof t=="string")return r7(t);throw new Error("Expected function, string, or object as test")});function a7(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Zf(t[n]);return e0(a);function a(...r){let o=-1;for(;++o<e.length;)if(e[o].apply(this,r))return!0;return!1}}function i7(t){const e=t;return e0(n);function n(a){const r=a;let o;for(o in t)if(r[o]!==e[o])return!1;return!0}}function r7(t){return e0(e);function e(n){return n&&n.type===t}}function e0(t){return e;function e(n,a,r){return!!(o7(n)&&t.call(this,n,typeof a=="number"?a:void 0,r||void 0))}}function l7(){return!0}function o7(t){return t!==null&&typeof t=="object"&&"type"in t}const d_=[],c7=!0,Nx=!1,u7="skip";function h_(t,e,n,a){let r;typeof e=="function"&&typeof n!="function"?(a=n,n=e):r=e;const o=Zf(r),c=a?-1:1;d(t,void 0,[])();function d(m,f,g){const b=m&&typeof m=="object"?m:{};if(typeof b.type=="string"){const w=typeof b.tagName=="string"?b.tagName:typeof b.name=="string"?b.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(m.type+(w?"<"+w+">":""))+")"})}return v;function v(){let w=d_,j,I,D;if((!e||o(m,f,g[g.length-1]||void 0))&&(w=d7(n(m,g)),w[0]===Nx))return w;if("children"in m&&m.children){const L=m;if(L.children&&w[0]!==u7)for(I=(a?L.children.length:-1)+c,D=g.concat(L);I>-1&&I<L.children.length;){const R=L.children[I];if(j=d(R,I,D)(),j[0]===Nx)return j;I=typeof j[1]=="number"?j[1]:I+c}}return w}}}function d7(t){return Array.isArray(t)?t:typeof t=="number"?[c7,t]:t==null?d_:[t]}function ny(t,e,n,a){let r,o,c;typeof e=="function"&&typeof n!="function"?(o=void 0,c=e,r=n):(o=e,c=n,r=a),h_(t,o,d,r);function d(m,f){const g=f[f.length-1],b=g?g.children.indexOf(m):void 0;return c(m,b,g)}}const jx={}.hasOwnProperty,h7={};function m7(t,e){const n=e||h7,a=new Map,r=new Map,o=new Map,c={...WL,...n.handlers},d={all:f,applyData:p7,definitionById:a,footnoteById:r,footnoteCounts:o,footnoteOrder:[],handlers:c,one:m,options:n,patch:f7,wrap:x7};return ny(t,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const b=g.type==="definition"?a:r,v=String(g.identifier).toUpperCase();b.has(v)||b.set(v,g)}}),d;function m(g,b){const v=g.type,w=d.handlers[v];if(jx.call(d.handlers,v)&&w)return w(d,g,b);if(d.options.passThrough&&d.options.passThrough.includes(v)){if("children"in g){const{children:I,...D}=g,L=of(D);return L.children=d.all(g),L}return of(g)}return(d.options.unknownHandler||g7)(d,g,b)}function f(g){const b=[];if("children"in g){const v=g.children;let w=-1;for(;++w<v.length;){const j=d.one(v[w],g);if(j){if(w&&v[w-1].type==="break"&&(!Array.isArray(j)&&j.type==="text"&&(j.value=GN(j.value)),!Array.isArray(j)&&j.type==="element")){const I=j.children[0];I&&I.type==="text"&&(I.value=GN(I.value))}Array.isArray(j)?b.push(...j):b.push(j)}}}return b}}function f7(t,e){t.position&&(e.position=nO(t))}function p7(t,e){let n=e;if(t&&t.data){const a=t.data.hName,r=t.data.hChildren,o=t.data.hProperties;if(typeof a=="string")if(n.type==="element")n.tagName=a;else{const c="children"in n?n.children:[n];n={type:"element",tagName:a,properties:{},children:c}}n.type==="element"&&o&&Object.assign(n.properties,of(o)),"children"in n&&n.children&&r!==null&&r!==void 0&&(n.children=r)}return n}function g7(t,e){const n=e.data||{},a="value"in e&&!(jx.call(n,"hProperties")||jx.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function x7(t,e){const n=[];let a=-1;for(e&&n.push({type:"text",value:`
`});++a<t.length;)a&&n.push({type:"text",value:`
`}),n.push(t[a]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function GN(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function QN(t,e){const n=m7(t,e),a=n.one(t,void 0),r=s7(n),o=Array.isArray(a)?{type:"root",children:a}:a||{type:"root",children:[]};return r&&o.children.push({type:"text",value:`
`},r),o}function b7(t,e){return t&&"run"in t?async function(n,a){const r=QN(n,{file:a,...e});await t.run(r,a)}:function(n,a){return QN(n,{file:a,...t||e})}}function YN(t){if(t)throw t}var vg,KN;function y7(){if(KN)return vg;KN=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,a=Object.getOwnPropertyDescriptor,r=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},o=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var g=t.call(f,"constructor"),b=f.constructor&&f.constructor.prototype&&t.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!g&&!b)return!1;var v;for(v in f);return typeof v>"u"||t.call(f,v)},c=function(f,g){n&&g.name==="__proto__"?n(f,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):f[g.name]=g.newValue},d=function(f,g){if(g==="__proto__")if(t.call(f,g)){if(a)return a(f,g).value}else return;return f[g]};return vg=function m(){var f,g,b,v,w,j,I=arguments[0],D=1,L=arguments.length,R=!1;for(typeof I=="boolean"&&(R=I,I=arguments[1]||{},D=2),(I==null||typeof I!="object"&&typeof I!="function")&&(I={});D<L;++D)if(f=arguments[D],f!=null)for(g in f)b=d(I,g),v=d(f,g),I!==v&&(R&&v&&(o(v)||(w=r(v)))?(w?(w=!1,j=b&&r(b)?b:[]):j=b&&o(b)?b:{},c(I,{name:g,newValue:m(R,j,v)})):typeof v<"u"&&c(I,{name:g,newValue:v}));return I},vg}var v7=y7();const wg=Rx(v7);function Sx(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function w7(){const t=[],e={run:n,use:a};return e;function n(...r){let o=-1;const c=r.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);d(null,...r);function d(m,...f){const g=t[++o];let b=-1;if(m){c(m);return}for(;++b<r.length;)(f[b]===null||f[b]===void 0)&&(f[b]=r[b]);r=f,g?N7(g,d)(...f):c(null,...f)}}function a(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return t.push(r),e}}function N7(t,e){let n;return a;function a(...c){const d=t.length>c.length;let m;d&&c.push(r);try{m=t.apply(this,c)}catch(f){const g=f;if(d&&n)throw g;return r(g)}d||(m&&m.then&&typeof m.then=="function"?m.then(o,r):m instanceof Error?r(m):o(m))}function r(c,...d){n||(n=!0,e(c,...d))}function o(c){r(null,c)}}const Va={basename:j7,dirname:S7,extname:_7,join:T7,sep:"/"};function j7(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Pd(t);let n=0,a=-1,r=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;r--;)if(t.codePointAt(r)===47){if(o){n=r+1;break}}else a<0&&(o=!0,a=r+1);return a<0?"":t.slice(n,a)}if(e===t)return"";let c=-1,d=e.length-1;for(;r--;)if(t.codePointAt(r)===47){if(o){n=r+1;break}}else c<0&&(o=!0,c=r+1),d>-1&&(t.codePointAt(r)===e.codePointAt(d--)?d<0&&(a=r):(d=-1,a=c));return n===a?a=c:a<0&&(a=t.length),t.slice(n,a)}function S7(t){if(Pd(t),t.length===0)return".";let e=-1,n=t.length,a;for(;--n;)if(t.codePointAt(n)===47){if(a){e=n;break}}else a||(a=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function _7(t){Pd(t);let e=t.length,n=-1,a=0,r=-1,o=0,c;for(;e--;){const d=t.codePointAt(e);if(d===47){if(c){a=e+1;break}continue}n<0&&(c=!0,n=e+1),d===46?r<0?r=e:o!==1&&(o=1):r>-1&&(o=-1)}return r<0||n<0||o===0||o===1&&r===n-1&&r===a+1?"":t.slice(r,n)}function T7(...t){let e=-1,n;for(;++e<t.length;)Pd(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":C7(n)}function C7(t){Pd(t);const e=t.codePointAt(0)===47;let n=E7(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function E7(t,e){let n="",a=0,r=-1,o=0,c=-1,d,m;for(;++c<=t.length;){if(c<t.length)d=t.codePointAt(c);else{if(d===47)break;d=47}if(d===47){if(!(r===c-1||o===1))if(r!==c-1&&o===2){if(n.length<2||a!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(m=n.lastIndexOf("/"),m!==n.length-1){m<0?(n="",a=0):(n=n.slice(0,m),a=n.length-1-n.lastIndexOf("/")),r=c,o=0;continue}}else if(n.length>0){n="",a=0,r=c,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",a=2)}else n.length>0?n+="/"+t.slice(r+1,c):n=t.slice(r+1,c),a=c-r-1;r=c,o=0}else d===46&&o>-1?o++:o=-1}return n}function Pd(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const A7={cwd:k7};function k7(){return"/"}function _x(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function I7(t){if(typeof t=="string")t=new URL(t);else if(!_x(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return R7(t)}function R7(t){if(t.hostname!==""){const a=new TypeError('File URL host must be "localhost" or empty on darwin');throw a.code="ERR_INVALID_FILE_URL_HOST",a}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const a=e.codePointAt(n+2);if(a===70||a===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const Ng=["history","path","basename","stem","extname","dirname"];class m_{constructor(e){let n;e?_x(e)?n={path:e}:typeof e=="string"||D7(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":A7.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let a=-1;for(;++a<Ng.length;){const o=Ng[a];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let r;for(r in n)Ng.includes(r)||(this[r]=n[r])}get basename(){return typeof this.path=="string"?Va.basename(this.path):void 0}set basename(e){Sg(e,"basename"),jg(e,"basename"),this.path=Va.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Va.dirname(this.path):void 0}set dirname(e){WN(this.basename,"dirname"),this.path=Va.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Va.extname(this.path):void 0}set extname(e){if(jg(e,"extname"),WN(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Va.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){_x(e)&&(e=I7(e)),Sg(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Va.basename(this.path,this.extname):void 0}set stem(e){Sg(e,"stem"),jg(e,"stem"),this.path=Va.join(this.dirname||"",e+(this.extname||""))}fail(e,n,a){const r=this.message(e,n,a);throw r.fatal=!0,r}info(e,n,a){const r=this.message(e,n,a);return r.fatal=void 0,r}message(e,n,a){const r=new ss(e,n,a);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function jg(t,e){if(t&&t.includes(Va.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Va.sep+"`")}function Sg(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function WN(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function D7(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const P7=(function(t){const a=this.constructor.prototype,r=a[t],o=function(){return r.apply(o,arguments)};return Object.setPrototypeOf(o,a),o}),M7={}.hasOwnProperty;class sy extends P7{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=w7()}copy(){const e=new sy;let n=-1;for(;++n<this.attachers.length;){const a=this.attachers[n];e.use(...a)}return e.data(wg(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Cg("data",this.frozen),this.namespace[e]=n,this):M7.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Cg("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...a]=this.attachers[this.freezeIndex];if(a[0]===!1)continue;a[0]===!0&&(a[0]=void 0);const r=n.call(e,...a);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=pm(e),a=this.parser||this.Parser;return _g("parse",a),a(String(n),n)}process(e,n){const a=this;return this.freeze(),_g("process",this.parser||this.Parser),Tg("process",this.compiler||this.Compiler),n?r(void 0,n):new Promise(r);function r(o,c){const d=pm(e),m=a.parse(d);a.run(m,d,function(g,b,v){if(g||!b||!v)return f(g);const w=b,j=a.stringify(w,v);V7(j)?v.value=j:v.result=j,f(g,v)});function f(g,b){g||!b?c(g):o?o(b):n(void 0,b)}}}processSync(e){let n=!1,a;return this.freeze(),_g("processSync",this.parser||this.Parser),Tg("processSync",this.compiler||this.Compiler),this.process(e,r),JN("processSync","process",n),a;function r(o,c){n=!0,YN(o),a=c}}run(e,n,a){XN(e),this.freeze();const r=this.transformers;return!a&&typeof n=="function"&&(a=n,n=void 0),a?o(void 0,a):new Promise(o);function o(c,d){const m=pm(n);r.run(e,m,f);function f(g,b,v){const w=b||e;g?d(g):c?c(w):a(void 0,w,v)}}}runSync(e,n){let a=!1,r;return this.run(e,n,o),JN("runSync","run",a),r;function o(c,d){YN(c),r=d,a=!0}}stringify(e,n){this.freeze();const a=pm(n),r=this.compiler||this.Compiler;return Tg("stringify",r),XN(e),r(e,a)}use(e,...n){const a=this.attachers,r=this.namespace;if(Cg("use",this.frozen),e!=null)if(typeof e=="function")m(e,n);else if(typeof e=="object")Array.isArray(e)?d(e):c(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(f){if(typeof f=="function")m(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[g,...b]=f;m(g,b)}else c(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function c(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(f.plugins),f.settings&&(r.settings=wg(!0,r.settings,f.settings))}function d(f){let g=-1;if(f!=null)if(Array.isArray(f))for(;++g<f.length;){const b=f[g];o(b)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function m(f,g){let b=-1,v=-1;for(;++b<a.length;)if(a[b][0]===f){v=b;break}if(v===-1)a.push([f,...g]);else if(g.length>0){let[w,...j]=g;const I=a[v][1];Sx(I)&&Sx(w)&&(w=wg(!0,I,w)),a[v]=[f,w,...j]}}}}const O7=new sy().freeze();function _g(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Tg(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Cg(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function XN(t){if(!Sx(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function JN(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function pm(t){return L7(t)?t:new m_(t)}function L7(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function V7(t){return typeof t=="string"||U7(t)}function U7(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const z7="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ZN=[],ej={allowDangerousHtml:!0},F7=/^(https?|ircs?|mailto|xmpp)$/i,B7=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Tc(t){const e=$7(t),n=q7(t);return H7(e.runSync(e.parse(n),n),t)}function $7(t){const e=t.rehypePlugins||ZN,n=t.remarkPlugins||ZN,a=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...ej}:ej;return O7().use(SL).use(n).use(b7,a).use(e)}function q7(t){const e=t.children||"",n=new m_;return typeof e=="string"&&(n.value=e),n}function H7(t,e){const n=e.allowedElements,a=e.allowElement,r=e.components,o=e.disallowedElements,c=e.skipHtml,d=e.unwrapDisallowed,m=e.urlTransform||G7;for(const g of B7)Object.hasOwn(e,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+z7+g.id,void 0);return ny(t,f),lO(t,{Fragment:s.Fragment,components:r,ignoreInvalidStyle:!0,jsx:s.jsx,jsxs:s.jsxs,passKeys:!0,passNode:!0});function f(g,b,v){if(g.type==="raw"&&v&&typeof b=="number")return c?v.children.splice(b,1):v.children[b]={type:"text",value:g.value},b;if(g.type==="element"){let w;for(w in xg)if(Object.hasOwn(xg,w)&&Object.hasOwn(g.properties,w)){const j=g.properties[w],I=xg[w];(I===null||I.includes(g.tagName))&&(g.properties[w]=m(String(j||""),w,g))}}if(g.type==="element"){let w=n?!n.includes(g.tagName):o?o.includes(g.tagName):!1;if(!w&&a&&typeof b=="number"&&(w=!a(g,b,v)),w&&v&&typeof b=="number")return d&&g.children?v.children.splice(b,1,...g.children):v.children.splice(b,1),b}}}function G7(t){const e=t.indexOf(":"),n=t.indexOf("?"),a=t.indexOf("#"),r=t.indexOf("/");return e===-1||r!==-1&&e>r||n!==-1&&e>n||a!==-1&&e>a||F7.test(t.slice(0,e))?t:""}function tj(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let a=0,r=n.indexOf(e);for(;r!==-1;)a++,r=n.indexOf(e,r+e.length);return a}function Q7(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Y7(t,e,n){const r=Zf((n||{}).ignore||[]),o=K7(e);let c=-1;for(;++c<o.length;)h_(t,"text",d);function d(f,g){let b=-1,v;for(;++b<g.length;){const w=g[b],j=v?v.children:void 0;if(r(w,j?j.indexOf(w):void 0,v))return;v=w}if(v)return m(f,g)}function m(f,g){const b=g[g.length-1],v=o[c][0],w=o[c][1];let j=0;const D=b.children.indexOf(f);let L=!1,R=[];v.lastIndex=0;let $=v.exec(f.value);for(;$;){const q=$.index,X={index:$.index,input:$.input,stack:[...g,f]};let G=w(...$,X);if(typeof G=="string"&&(G=G.length>0?{type:"text",value:G}:void 0),G===!1?v.lastIndex=q+1:(j!==q&&R.push({type:"text",value:f.value.slice(j,q)}),Array.isArray(G)?R.push(...G):G&&R.push(G),j=q+$[0].length,L=!0),!v.global)break;$=v.exec(f.value)}return L?(j<f.value.length&&R.push({type:"text",value:f.value.slice(j)}),b.children.splice(D,1,...R)):R=[f],D+R.length}}function K7(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let a=-1;for(;++a<n.length;){const r=n[a];e.push([W7(r[0]),X7(r[1])])}return e}function W7(t){return typeof t=="string"?new RegExp(Q7(t),"g"):t}function X7(t){return typeof t=="function"?t:function(){return t}}const Eg="phrasing",Ag=["autolink","link","image","label"];function J7(){return{transforms:[iV],enter:{literalAutolink:eV,literalAutolinkEmail:kg,literalAutolinkHttp:kg,literalAutolinkWww:kg},exit:{literalAutolink:aV,literalAutolinkEmail:sV,literalAutolinkHttp:tV,literalAutolinkWww:nV}}}function Z7(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Eg,notInConstruct:Ag},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Eg,notInConstruct:Ag},{character:":",before:"[ps]",after:"\\/",inConstruct:Eg,notInConstruct:Ag}]}}function eV(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function kg(t){this.config.enter.autolinkProtocol.call(this,t)}function tV(t){this.config.exit.autolinkProtocol.call(this,t)}function nV(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function sV(t){this.config.exit.autolinkEmail.call(this,t)}function aV(t){this.exit(t)}function iV(t){Y7(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,rV],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),lV]],{ignore:["link","linkReference"]})}function rV(t,e,n,a,r){let o="";if(!f_(r)||(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!oV(n)))return!1;const c=cV(n+a);if(!c[0])return!1;const d={type:"link",title:null,url:o+e+c[0],children:[{type:"text",value:e+c[0]}]};return c[1]?[d,{type:"text",value:c[1]}]:d}function lV(t,e,n,a){return!f_(a,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function oV(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function cV(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],a=n.indexOf(")");const r=tj(t,"(");let o=tj(t,")");for(;a!==-1&&r>o;)t+=n.slice(0,a+1),n=n.slice(a+1),a=n.indexOf(")"),o++;return[t,n]}function f_(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||zl(n)||Wf(n))&&(!e||n!==47)}p_.peek=bV;function uV(){this.buffer()}function dV(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function hV(){this.buffer()}function mV(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function fV(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=pa(this.sliceSerialize(t)).toLowerCase(),n.label=e}function pV(t){this.exit(t)}function gV(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=pa(this.sliceSerialize(t)).toLowerCase(),n.label=e}function xV(t){this.exit(t)}function bV(){return"["}function p_(t,e,n,a){const r=n.createTracker(a);let o=r.move("[^");const c=n.enter("footnoteReference"),d=n.enter("reference");return o+=r.move(n.safe(n.associationId(t),{after:"]",before:o})),d(),c(),o+=r.move("]"),o}function yV(){return{enter:{gfmFootnoteCallString:uV,gfmFootnoteCall:dV,gfmFootnoteDefinitionLabelString:hV,gfmFootnoteDefinition:mV},exit:{gfmFootnoteCallString:fV,gfmFootnoteCall:pV,gfmFootnoteDefinitionLabelString:gV,gfmFootnoteDefinition:xV}}}function vV(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:p_},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(a,r,o,c){const d=o.createTracker(c);let m=d.move("[^");const f=o.enter("footnoteDefinition"),g=o.enter("label");return m+=d.move(o.safe(o.associationId(a),{before:m,after:"]"})),g(),m+=d.move("]:"),a.children&&a.children.length>0&&(d.shift(4),m+=d.move((e?`
`:" ")+o.indentLines(o.containerFlow(a,d.current()),e?g_:wV))),f(),m}}function wV(t,e,n){return e===0?t:g_(t,e,n)}function g_(t,e,n){return(n?"":"    ")+t}const NV=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];x_.peek=CV;function jV(){return{canContainEols:["delete"],enter:{strikethrough:_V},exit:{strikethrough:TV}}}function SV(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:NV}],handlers:{delete:x_}}}function _V(t){this.enter({type:"delete",children:[]},t)}function TV(t){this.exit(t)}function x_(t,e,n,a){const r=n.createTracker(a),o=n.enter("strikethrough");let c=r.move("~~");return c+=n.containerPhrasing(t,{...r.current(),before:c,after:"~"}),c+=r.move("~~"),o(),c}function CV(){return"~"}function EV(t){return t.length}function AV(t,e){const n=e||{},a=(n.align||[]).concat(),r=n.stringLength||EV,o=[],c=[],d=[],m=[];let f=0,g=-1;for(;++g<t.length;){const I=[],D=[];let L=-1;for(t[g].length>f&&(f=t[g].length);++L<t[g].length;){const R=kV(t[g][L]);if(n.alignDelimiters!==!1){const $=r(R);D[L]=$,(m[L]===void 0||$>m[L])&&(m[L]=$)}I.push(R)}c[g]=I,d[g]=D}let b=-1;if(typeof a=="object"&&"length"in a)for(;++b<f;)o[b]=nj(a[b]);else{const I=nj(a);for(;++b<f;)o[b]=I}b=-1;const v=[],w=[];for(;++b<f;){const I=o[b];let D="",L="";I===99?(D=":",L=":"):I===108?D=":":I===114&&(L=":");let R=n.alignDelimiters===!1?1:Math.max(1,m[b]-D.length-L.length);const $=D+"-".repeat(R)+L;n.alignDelimiters!==!1&&(R=D.length+R+L.length,R>m[b]&&(m[b]=R),w[b]=R),v[b]=$}c.splice(1,0,v),d.splice(1,0,w),g=-1;const j=[];for(;++g<c.length;){const I=c[g],D=d[g];b=-1;const L=[];for(;++b<f;){const R=I[b]||"";let $="",q="";if(n.alignDelimiters!==!1){const X=m[b]-(D[b]||0),G=o[b];G===114?$=" ".repeat(X):G===99?X%2?($=" ".repeat(X/2+.5),q=" ".repeat(X/2-.5)):($=" ".repeat(X/2),q=$):q=" ".repeat(X)}n.delimiterStart!==!1&&!b&&L.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&R==="")&&(n.delimiterStart!==!1||b)&&L.push(" "),n.alignDelimiters!==!1&&L.push($),L.push(R),n.alignDelimiters!==!1&&L.push(q),n.padding!==!1&&L.push(" "),(n.delimiterEnd!==!1||b!==f-1)&&L.push("|")}j.push(n.delimiterEnd===!1?L.join("").replace(/ +$/,""):L.join(""))}return j.join(`
`)}function kV(t){return t==null?"":String(t)}function nj(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function IV(t,e,n,a){const r=n.enter("blockquote"),o=n.createTracker(a);o.move("> "),o.shift(2);const c=n.indentLines(n.containerFlow(t,o.current()),RV);return r(),c}function RV(t,e,n){return">"+(n?"":" ")+t}function DV(t,e){return sj(t,e.inConstruct,!0)&&!sj(t,e.notInConstruct,!1)}function sj(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let a=-1;for(;++a<e.length;)if(t.includes(e[a]))return!0;return!1}function aj(t,e,n,a){let r=-1;for(;++r<n.unsafe.length;)if(n.unsafe[r].character===`
`&&DV(n.stack,n.unsafe[r]))return/[ \t]/.test(a.before)?"":" ";return`\\
`}function PV(t,e){const n=String(t);let a=n.indexOf(e),r=a,o=0,c=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;a!==-1;)a===r?++o>c&&(c=o):o=1,r=a+e.length,a=n.indexOf(e,r);return c}function MV(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function OV(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function LV(t,e,n,a){const r=OV(n),o=t.value||"",c=r==="`"?"GraveAccent":"Tilde";if(MV(t,n)){const b=n.enter("codeIndented"),v=n.indentLines(o,VV);return b(),v}const d=n.createTracker(a),m=r.repeat(Math.max(PV(o,r)+1,3)),f=n.enter("codeFenced");let g=d.move(m);if(t.lang){const b=n.enter(`codeFencedLang${c}`);g+=d.move(n.safe(t.lang,{before:g,after:" ",encode:["`"],...d.current()})),b()}if(t.lang&&t.meta){const b=n.enter(`codeFencedMeta${c}`);g+=d.move(" "),g+=d.move(n.safe(t.meta,{before:g,after:`
`,encode:["`"],...d.current()})),b()}return g+=d.move(`
`),o&&(g+=d.move(o+`
`)),g+=d.move(m),f(),g}function VV(t,e,n){return(n?"":"    ")+t}function ay(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function UV(t,e,n,a){const r=ay(n),o=r==='"'?"Quote":"Apostrophe",c=n.enter("definition");let d=n.enter("label");const m=n.createTracker(a);let f=m.move("[");return f+=m.move(n.safe(n.associationId(t),{before:f,after:"]",...m.current()})),f+=m.move("]: "),d(),!t.url||/[\0- \u007F]/.test(t.url)?(d=n.enter("destinationLiteral"),f+=m.move("<"),f+=m.move(n.safe(t.url,{before:f,after:">",...m.current()})),f+=m.move(">")):(d=n.enter("destinationRaw"),f+=m.move(n.safe(t.url,{before:f,after:t.title?" ":`
`,...m.current()}))),d(),t.title&&(d=n.enter(`title${o}`),f+=m.move(" "+r),f+=m.move(n.safe(t.title,{before:f,after:r,...m.current()})),f+=m.move(r),d()),c(),f}function zV(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function dd(t){return"&#x"+t.toString(16).toUpperCase()+";"}function cf(t,e,n){const a=cc(t),r=cc(e);return a===void 0?r===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:a===1?r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}b_.peek=FV;function b_(t,e,n,a){const r=zV(n),o=n.enter("emphasis"),c=n.createTracker(a),d=c.move(r);let m=c.move(n.containerPhrasing(t,{after:r,before:d,...c.current()}));const f=m.charCodeAt(0),g=cf(a.before.charCodeAt(a.before.length-1),f,r);g.inside&&(m=dd(f)+m.slice(1));const b=m.charCodeAt(m.length-1),v=cf(a.after.charCodeAt(0),b,r);v.inside&&(m=m.slice(0,-1)+dd(b));const w=c.move(r);return o(),n.attentionEncodeSurroundingInfo={after:v.outside,before:g.outside},d+m+w}function FV(t,e,n){return n.options.emphasis||"*"}function BV(t,e){let n=!1;return ny(t,function(a){if("value"in a&&/\r?\n|\r/.test(a.value)||a.type==="break")return n=!0,Nx}),!!((!t.depth||t.depth<3)&&Kb(t)&&(e.options.setext||n))}function $V(t,e,n,a){const r=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(a);if(BV(t,n)){const g=n.enter("headingSetext"),b=n.enter("phrasing"),v=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return b(),g(),v+`
`+(r===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const c="#".repeat(r),d=n.enter("headingAtx"),m=n.enter("phrasing");o.move(c+" ");let f=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(f)&&(f=dd(f.charCodeAt(0))+f.slice(1)),f=f?c+" "+f:c,n.options.closeAtx&&(f+=" "+c),m(),d(),f}y_.peek=qV;function y_(t){return t.value||""}function qV(){return"<"}v_.peek=HV;function v_(t,e,n,a){const r=ay(n),o=r==='"'?"Quote":"Apostrophe",c=n.enter("image");let d=n.enter("label");const m=n.createTracker(a);let f=m.move("![");return f+=m.move(n.safe(t.alt,{before:f,after:"]",...m.current()})),f+=m.move("]("),d(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(d=n.enter("destinationLiteral"),f+=m.move("<"),f+=m.move(n.safe(t.url,{before:f,after:">",...m.current()})),f+=m.move(">")):(d=n.enter("destinationRaw"),f+=m.move(n.safe(t.url,{before:f,after:t.title?" ":")",...m.current()}))),d(),t.title&&(d=n.enter(`title${o}`),f+=m.move(" "+r),f+=m.move(n.safe(t.title,{before:f,after:r,...m.current()})),f+=m.move(r),d()),f+=m.move(")"),c(),f}function HV(){return"!"}w_.peek=GV;function w_(t,e,n,a){const r=t.referenceType,o=n.enter("imageReference");let c=n.enter("label");const d=n.createTracker(a);let m=d.move("![");const f=n.safe(t.alt,{before:m,after:"]",...d.current()});m+=d.move(f+"]["),c();const g=n.stack;n.stack=[],c=n.enter("reference");const b=n.safe(n.associationId(t),{before:m,after:"]",...d.current()});return c(),n.stack=g,o(),r==="full"||!f||f!==b?m+=d.move(b+"]"):r==="shortcut"?m=m.slice(0,-1):m+=d.move("]"),m}function GV(){return"!"}N_.peek=QV;function N_(t,e,n){let a=t.value||"",r="`",o=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(a);)r+="`";for(/[^ \r\n]/.test(a)&&(/^[ \r\n]/.test(a)&&/[ \r\n]$/.test(a)||/^`|`$/.test(a))&&(a=" "+a+" ");++o<n.unsafe.length;){const c=n.unsafe[o],d=n.compilePattern(c);let m;if(c.atBreak)for(;m=d.exec(a);){let f=m.index;a.charCodeAt(f)===10&&a.charCodeAt(f-1)===13&&f--,a=a.slice(0,f)+" "+a.slice(m.index+1)}}return r+a+r}function QV(){return"`"}function j_(t,e){const n=Kb(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}S_.peek=YV;function S_(t,e,n,a){const r=ay(n),o=r==='"'?"Quote":"Apostrophe",c=n.createTracker(a);let d,m;if(j_(t,n)){const g=n.stack;n.stack=[],d=n.enter("autolink");let b=c.move("<");return b+=c.move(n.containerPhrasing(t,{before:b,after:">",...c.current()})),b+=c.move(">"),d(),n.stack=g,b}d=n.enter("link"),m=n.enter("label");let f=c.move("[");return f+=c.move(n.containerPhrasing(t,{before:f,after:"](",...c.current()})),f+=c.move("]("),m(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(m=n.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(n.safe(t.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(m=n.enter("destinationRaw"),f+=c.move(n.safe(t.url,{before:f,after:t.title?" ":")",...c.current()}))),m(),t.title&&(m=n.enter(`title${o}`),f+=c.move(" "+r),f+=c.move(n.safe(t.title,{before:f,after:r,...c.current()})),f+=c.move(r),m()),f+=c.move(")"),d(),f}function YV(t,e,n){return j_(t,n)?"<":"["}__.peek=KV;function __(t,e,n,a){const r=t.referenceType,o=n.enter("linkReference");let c=n.enter("label");const d=n.createTracker(a);let m=d.move("[");const f=n.containerPhrasing(t,{before:m,after:"]",...d.current()});m+=d.move(f+"]["),c();const g=n.stack;n.stack=[],c=n.enter("reference");const b=n.safe(n.associationId(t),{before:m,after:"]",...d.current()});return c(),n.stack=g,o(),r==="full"||!f||f!==b?m+=d.move(b+"]"):r==="shortcut"?m=m.slice(0,-1):m+=d.move("]"),m}function KV(){return"["}function iy(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function WV(t){const e=iy(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function XV(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function T_(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function JV(t,e,n,a){const r=n.enter("list"),o=n.bulletCurrent;let c=t.ordered?XV(n):iy(n);const d=t.ordered?c==="."?")":".":WV(n);let m=e&&n.bulletLastUsed?c===n.bulletLastUsed:!1;if(!t.ordered){const g=t.children?t.children[0]:void 0;if((c==="*"||c==="-")&&g&&(!g.children||!g.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(m=!0),T_(n)===c&&g){let b=-1;for(;++b<t.children.length;){const v=t.children[b];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){m=!0;break}}}}m&&(c=d),n.bulletCurrent=c;const f=n.containerFlow(t,a);return n.bulletLastUsed=c,n.bulletCurrent=o,r(),f}function ZV(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function eU(t,e,n,a){const r=ZV(n);let o=n.bulletCurrent||iy(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let c=o.length+1;(r==="tab"||r==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(c=Math.ceil(c/4)*4);const d=n.createTracker(a);d.move(o+" ".repeat(c-o.length)),d.shift(c);const m=n.enter("listItem"),f=n.indentLines(n.containerFlow(t,d.current()),g);return m(),f;function g(b,v,w){return v?(w?"":" ".repeat(c))+b:(w?o:o+" ".repeat(c-o.length))+b}}function tU(t,e,n,a){const r=n.enter("paragraph"),o=n.enter("phrasing"),c=n.containerPhrasing(t,a);return o(),r(),c}const nU=Zf(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function sU(t,e,n,a){return(t.children.some(function(c){return nU(c)})?n.containerPhrasing:n.containerFlow).call(n,t,a)}function aU(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}C_.peek=iU;function C_(t,e,n,a){const r=aU(n),o=n.enter("strong"),c=n.createTracker(a),d=c.move(r+r);let m=c.move(n.containerPhrasing(t,{after:r,before:d,...c.current()}));const f=m.charCodeAt(0),g=cf(a.before.charCodeAt(a.before.length-1),f,r);g.inside&&(m=dd(f)+m.slice(1));const b=m.charCodeAt(m.length-1),v=cf(a.after.charCodeAt(0),b,r);v.inside&&(m=m.slice(0,-1)+dd(b));const w=c.move(r+r);return o(),n.attentionEncodeSurroundingInfo={after:v.outside,before:g.outside},d+m+w}function iU(t,e,n){return n.options.strong||"*"}function rU(t,e,n,a){return n.safe(t.value,a)}function lU(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function oU(t,e,n){const a=(T_(n)+(n.options.ruleSpaces?" ":"")).repeat(lU(n));return n.options.ruleSpaces?a.slice(0,-1):a}const E_={blockquote:IV,break:aj,code:LV,definition:UV,emphasis:b_,hardBreak:aj,heading:$V,html:y_,image:v_,imageReference:w_,inlineCode:N_,link:S_,linkReference:__,list:JV,listItem:eU,paragraph:tU,root:sU,strong:C_,text:rU,thematicBreak:oU};function cU(){return{enter:{table:uU,tableData:ij,tableHeader:ij,tableRow:hU},exit:{codeText:mU,table:dU,tableData:Ig,tableHeader:Ig,tableRow:Ig}}}function uU(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function dU(t){this.exit(t),this.data.inTable=void 0}function hU(t){this.enter({type:"tableRow",children:[]},t)}function Ig(t){this.exit(t)}function ij(t){this.enter({type:"tableCell",children:[]},t)}function mU(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,fU));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function fU(t,e){return e==="|"?e:t}function pU(t){const e=t||{},n=e.tableCellPadding,a=e.tablePipeAlign,r=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:c,tableCell:m,tableRow:d}};function c(w,j,I,D){return f(g(w,I,D),w.align)}function d(w,j,I,D){const L=b(w,I,D),R=f([L]);return R.slice(0,R.indexOf(`
`))}function m(w,j,I,D){const L=I.enter("tableCell"),R=I.enter("phrasing"),$=I.containerPhrasing(w,{...D,before:o,after:o});return R(),L(),$}function f(w,j){return AV(w,{align:j,alignDelimiters:a,padding:n,stringLength:r})}function g(w,j,I){const D=w.children;let L=-1;const R=[],$=j.enter("table");for(;++L<D.length;)R[L]=b(D[L],j,I);return $(),R}function b(w,j,I){const D=w.children;let L=-1;const R=[],$=j.enter("tableRow");for(;++L<D.length;)R[L]=m(D[L],w,j,I);return $(),R}function v(w,j,I){let D=E_.inlineCode(w,j,I);return I.stack.includes("tableCell")&&(D=D.replace(/\|/g,"\\$&")),D}}function gU(){return{exit:{taskListCheckValueChecked:rj,taskListCheckValueUnchecked:rj,paragraph:bU}}}function xU(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:yU}}}function rj(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function bU(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const a=n.children[0];if(a&&a.type==="text"){const r=e.children;let o=-1,c;for(;++o<r.length;){const d=r[o];if(d.type==="paragraph"){c=d;break}}c===n&&(a.value=a.value.slice(1),a.value.length===0?n.children.shift():n.position&&a.position&&typeof a.position.start.offset=="number"&&(a.position.start.column++,a.position.start.offset++,n.position.start=Object.assign({},a.position.start)))}}this.exit(t)}function yU(t,e,n,a){const r=t.children[0],o=typeof t.checked=="boolean"&&r&&r.type==="paragraph",c="["+(t.checked?"x":" ")+"] ",d=n.createTracker(a);o&&d.move(c);let m=E_.listItem(t,e,n,{...a,...d.current()});return o&&(m=m.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),m;function f(g){return g+c}}function vU(){return[J7(),yV(),jV(),cU(),gU()]}function wU(t){return{extensions:[Z7(),vV(t),SV(),pU(t),xU()]}}const NU={tokenize:EU,partial:!0},A_={tokenize:AU,partial:!0},k_={tokenize:kU,partial:!0},I_={tokenize:IU,partial:!0},jU={tokenize:RU,partial:!0},R_={name:"wwwAutolink",tokenize:TU,previous:P_},D_={name:"protocolAutolink",tokenize:CU,previous:M_},$i={name:"emailAutolink",tokenize:_U,previous:O_},Xa={};function SU(){return{text:Xa}}let _l=48;for(;_l<123;)Xa[_l]=$i,_l++,_l===58?_l=65:_l===91&&(_l=97);Xa[43]=$i;Xa[45]=$i;Xa[46]=$i;Xa[95]=$i;Xa[72]=[$i,D_];Xa[104]=[$i,D_];Xa[87]=[$i,R_];Xa[119]=[$i,R_];function _U(t,e,n){const a=this;let r,o;return c;function c(b){return!Tx(b)||!O_.call(a,a.previous)||ry(a.events)?n(b):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),d(b))}function d(b){return Tx(b)?(t.consume(b),d):b===64?(t.consume(b),m):n(b)}function m(b){return b===46?t.check(jU,g,f)(b):b===45||b===95||ts(b)?(o=!0,t.consume(b),m):g(b)}function f(b){return t.consume(b),r=!0,m}function g(b){return o&&r&&rs(a.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(b)):n(b)}}function TU(t,e,n){const a=this;return r;function r(c){return c!==87&&c!==119||!P_.call(a,a.previous)||ry(a.events)?n(c):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(NU,t.attempt(A_,t.attempt(k_,o),n),n)(c))}function o(c){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(c)}}function CU(t,e,n){const a=this;let r="",o=!1;return c;function c(b){return(b===72||b===104)&&M_.call(a,a.previous)&&!ry(a.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),r+=String.fromCodePoint(b),t.consume(b),d):n(b)}function d(b){if(rs(b)&&r.length<5)return r+=String.fromCodePoint(b),t.consume(b),d;if(b===58){const v=r.toLowerCase();if(v==="http"||v==="https")return t.consume(b),m}return n(b)}function m(b){return b===47?(t.consume(b),o?f:(o=!0,m)):n(b)}function f(b){return b===null||rf(b)||Pt(b)||zl(b)||Wf(b)?n(b):t.attempt(A_,t.attempt(k_,g),n)(b)}function g(b){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(b)}}function EU(t,e,n){let a=0;return r;function r(c){return(c===87||c===119)&&a<3?(a++,t.consume(c),r):c===46&&a===3?(t.consume(c),o):n(c)}function o(c){return c===null?n(c):e(c)}}function AU(t,e,n){let a,r,o;return c;function c(f){return f===46||f===95?t.check(I_,m,d)(f):f===null||Pt(f)||zl(f)||f!==45&&Wf(f)?m(f):(o=!0,t.consume(f),c)}function d(f){return f===95?a=!0:(r=a,a=void 0),t.consume(f),c}function m(f){return r||a||!o?n(f):e(f)}}function kU(t,e){let n=0,a=0;return r;function r(c){return c===40?(n++,t.consume(c),r):c===41&&a<n?o(c):c===33||c===34||c===38||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===60||c===63||c===93||c===95||c===126?t.check(I_,e,o)(c):c===null||Pt(c)||zl(c)?e(c):(t.consume(c),r)}function o(c){return c===41&&a++,t.consume(c),r}}function IU(t,e,n){return a;function a(d){return d===33||d===34||d===39||d===41||d===42||d===44||d===46||d===58||d===59||d===63||d===95||d===126?(t.consume(d),a):d===38?(t.consume(d),o):d===93?(t.consume(d),r):d===60||d===null||Pt(d)||zl(d)?e(d):n(d)}function r(d){return d===null||d===40||d===91||Pt(d)||zl(d)?e(d):a(d)}function o(d){return rs(d)?c(d):n(d)}function c(d){return d===59?(t.consume(d),a):rs(d)?(t.consume(d),c):n(d)}}function RU(t,e,n){return a;function a(o){return t.consume(o),r}function r(o){return ts(o)?n(o):e(o)}}function P_(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Pt(t)}function M_(t){return!rs(t)}function O_(t){return!(t===47||Tx(t))}function Tx(t){return t===43||t===45||t===46||t===95||ts(t)}function ry(t){let e=t.length,n=!1;for(;e--;){const a=t[e][1];if((a.type==="labelLink"||a.type==="labelImage")&&!a._balanced){n=!0;break}if(a._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const DU={tokenize:FU,partial:!0};function PU(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:VU,continuation:{tokenize:UU},exit:zU}},text:{91:{name:"gfmFootnoteCall",tokenize:LU},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:MU,resolveTo:OU}}}}function MU(t,e,n){const a=this;let r=a.events.length;const o=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let c;for(;r--;){const m=a.events[r][1];if(m.type==="labelImage"){c=m;break}if(m.type==="gfmFootnoteCall"||m.type==="labelLink"||m.type==="label"||m.type==="image"||m.type==="link")break}return d;function d(m){if(!c||!c._balanced)return n(m);const f=pa(a.sliceSerialize({start:c.end,end:a.now()}));return f.codePointAt(0)!==94||!o.includes(f.slice(1))?n(m):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),e(m))}}function OU(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const a={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},t[t.length-1][1].start)},c={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},d=[t[n+1],t[n+2],["enter",a,e],t[n+3],t[n+4],["enter",r,e],["exit",r,e],["enter",o,e],["enter",c,e],["exit",c,e],["exit",o,e],t[t.length-2],t[t.length-1],["exit",a,e]];return t.splice(n,t.length-n+1,...d),t}function LU(t,e,n){const a=this,r=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let o=0,c;return d;function d(b){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(b),t.exit("gfmFootnoteCallLabelMarker"),m}function m(b){return b!==94?n(b):(t.enter("gfmFootnoteCallMarker"),t.consume(b),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",f)}function f(b){if(o>999||b===93&&!c||b===null||b===91||Pt(b))return n(b);if(b===93){t.exit("chunkString");const v=t.exit("gfmFootnoteCallString");return r.includes(pa(a.sliceSerialize(v)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(b),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(b)}return Pt(b)||(c=!0),o++,t.consume(b),b===92?g:f}function g(b){return b===91||b===92||b===93?(t.consume(b),o++,f):f(b)}}function VU(t,e,n){const a=this,r=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let o,c=0,d;return m;function m(j){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(j),t.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(j){return j===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(j),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",g):n(j)}function g(j){if(c>999||j===93&&!d||j===null||j===91||Pt(j))return n(j);if(j===93){t.exit("chunkString");const I=t.exit("gfmFootnoteDefinitionLabelString");return o=pa(a.sliceSerialize(I)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(j),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),v}return Pt(j)||(d=!0),c++,t.consume(j),j===92?b:g}function b(j){return j===91||j===92||j===93?(t.consume(j),c++,g):g(j)}function v(j){return j===58?(t.enter("definitionMarker"),t.consume(j),t.exit("definitionMarker"),r.includes(o)||r.push(o),ft(t,w,"gfmFootnoteDefinitionWhitespace")):n(j)}function w(j){return e(j)}}function UU(t,e,n){return t.check(Dd,e,t.attempt(DU,e,n))}function zU(t){t.exit("gfmFootnoteDefinition")}function FU(t,e,n){const a=this;return ft(t,r,"gfmFootnoteDefinitionIndent",5);function r(o){const c=a.events[a.events.length-1];return c&&c[1].type==="gfmFootnoteDefinitionIndent"&&c[2].sliceSerialize(c[1],!0).length===4?e(o):n(o)}}function BU(t){let n=(t||{}).singleTilde;const a={name:"strikethrough",tokenize:o,resolveAll:r};return n==null&&(n=!0),{text:{126:a},insideSpan:{null:[a]},attentionMarkers:{null:[126]}};function r(c,d){let m=-1;for(;++m<c.length;)if(c[m][0]==="enter"&&c[m][1].type==="strikethroughSequenceTemporary"&&c[m][1]._close){let f=m;for(;f--;)if(c[f][0]==="exit"&&c[f][1].type==="strikethroughSequenceTemporary"&&c[f][1]._open&&c[m][1].end.offset-c[m][1].start.offset===c[f][1].end.offset-c[f][1].start.offset){c[m][1].type="strikethroughSequence",c[f][1].type="strikethroughSequence";const g={type:"strikethrough",start:Object.assign({},c[f][1].start),end:Object.assign({},c[m][1].end)},b={type:"strikethroughText",start:Object.assign({},c[f][1].end),end:Object.assign({},c[m][1].start)},v=[["enter",g,d],["enter",c[f][1],d],["exit",c[f][1],d],["enter",b,d]],w=d.parser.constructs.insideSpan.null;w&&Ds(v,v.length,0,Xf(w,c.slice(f+1,m),d)),Ds(v,v.length,0,[["exit",b,d],["enter",c[m][1],d],["exit",c[m][1],d],["exit",g,d]]),Ds(c,f-1,m-f+3,v),m=f+v.length-2;break}}for(m=-1;++m<c.length;)c[m][1].type==="strikethroughSequenceTemporary"&&(c[m][1].type="data");return c}function o(c,d,m){const f=this.previous,g=this.events;let b=0;return v;function v(j){return f===126&&g[g.length-1][1].type!=="characterEscape"?m(j):(c.enter("strikethroughSequenceTemporary"),w(j))}function w(j){const I=cc(f);if(j===126)return b>1?m(j):(c.consume(j),b++,w);if(b<2&&!n)return m(j);const D=c.exit("strikethroughSequenceTemporary"),L=cc(j);return D._open=!L||L===2&&!!I,D._close=!I||I===2&&!!L,d(j)}}}class $U{constructor(){this.map=[]}add(e,n,a){qU(this,e,n,a)}consume(e){if(this.map.sort(function(o,c){return o[0]-c[0]}),this.map.length===0)return;let n=this.map.length;const a=[];for(;n>0;)n-=1,a.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];a.push(e.slice()),e.length=0;let r=a.pop();for(;r;){for(const o of r)e.push(o);r=a.pop()}this.map.length=0}}function qU(t,e,n,a){let r=0;if(!(n===0&&a.length===0)){for(;r<t.map.length;){if(t.map[r][0]===e){t.map[r][1]+=n,t.map[r][2].push(...a);return}r+=1}t.map.push([e,n,a])}}function HU(t,e){let n=!1;const a=[];for(;e<t.length;){const r=t[e];if(n){if(r[0]==="enter")r[1].type==="tableContent"&&a.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=a.length-1;a[o]=a[o]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return a}function GU(){return{flow:{null:{name:"table",tokenize:QU,resolveAll:YU}}}}function QU(t,e,n){const a=this;let r=0,o=0,c;return d;function d(C){let M=a.events.length-1;for(;M>-1;){const J=a.events[M][1].type;if(J==="lineEnding"||J==="linePrefix")M--;else break}const z=M>-1?a.events[M][1].type:null,E=z==="tableHead"||z==="tableRow"?G:m;return E===G&&a.parser.lazy[a.now().line]?n(C):E(C)}function m(C){return t.enter("tableHead"),t.enter("tableRow"),f(C)}function f(C){return C===124||(c=!0,o+=1),g(C)}function g(C){return C===null?n(C):ze(C)?o>1?(o=0,a.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),w):n(C):st(C)?ft(t,g,"whitespace")(C):(o+=1,c&&(c=!1,r+=1),C===124?(t.enter("tableCellDivider"),t.consume(C),t.exit("tableCellDivider"),c=!0,g):(t.enter("data"),b(C)))}function b(C){return C===null||C===124||Pt(C)?(t.exit("data"),g(C)):(t.consume(C),C===92?v:b)}function v(C){return C===92||C===124?(t.consume(C),b):b(C)}function w(C){return a.interrupt=!1,a.parser.lazy[a.now().line]?n(C):(t.enter("tableDelimiterRow"),c=!1,st(C)?ft(t,j,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):j(C))}function j(C){return C===45||C===58?D(C):C===124?(c=!0,t.enter("tableCellDivider"),t.consume(C),t.exit("tableCellDivider"),I):X(C)}function I(C){return st(C)?ft(t,D,"whitespace")(C):D(C)}function D(C){return C===58?(o+=1,c=!0,t.enter("tableDelimiterMarker"),t.consume(C),t.exit("tableDelimiterMarker"),L):C===45?(o+=1,L(C)):C===null||ze(C)?q(C):X(C)}function L(C){return C===45?(t.enter("tableDelimiterFiller"),R(C)):X(C)}function R(C){return C===45?(t.consume(C),R):C===58?(c=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(C),t.exit("tableDelimiterMarker"),$):(t.exit("tableDelimiterFiller"),$(C))}function $(C){return st(C)?ft(t,q,"whitespace")(C):q(C)}function q(C){return C===124?j(C):C===null||ze(C)?!c||r!==o?X(C):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(C)):X(C)}function X(C){return n(C)}function G(C){return t.enter("tableRow"),k(C)}function k(C){return C===124?(t.enter("tableCellDivider"),t.consume(C),t.exit("tableCellDivider"),k):C===null||ze(C)?(t.exit("tableRow"),e(C)):st(C)?ft(t,k,"whitespace")(C):(t.enter("data"),A(C))}function A(C){return C===null||C===124||Pt(C)?(t.exit("data"),k(C)):(t.consume(C),C===92?O:A)}function O(C){return C===92||C===124?(t.consume(C),A):A(C)}}function YU(t,e){let n=-1,a=!0,r=0,o=[0,0,0,0],c=[0,0,0,0],d=!1,m=0,f,g,b;const v=new $U;for(;++n<t.length;){const w=t[n],j=w[1];w[0]==="enter"?j.type==="tableHead"?(d=!1,m!==0&&(lj(v,e,m,f,g),g=void 0,m=0),f={type:"table",start:Object.assign({},j.start),end:Object.assign({},j.end)},v.add(n,0,[["enter",f,e]])):j.type==="tableRow"||j.type==="tableDelimiterRow"?(a=!0,b=void 0,o=[0,0,0,0],c=[0,n+1,0,0],d&&(d=!1,g={type:"tableBody",start:Object.assign({},j.start),end:Object.assign({},j.end)},v.add(n,0,[["enter",g,e]])),r=j.type==="tableDelimiterRow"?2:g?3:1):r&&(j.type==="data"||j.type==="tableDelimiterMarker"||j.type==="tableDelimiterFiller")?(a=!1,c[2]===0&&(o[1]!==0&&(c[0]=c[1],b=gm(v,e,o,r,void 0,b),o=[0,0,0,0]),c[2]=n)):j.type==="tableCellDivider"&&(a?a=!1:(o[1]!==0&&(c[0]=c[1],b=gm(v,e,o,r,void 0,b)),o=c,c=[o[1],n,0,0])):j.type==="tableHead"?(d=!0,m=n):j.type==="tableRow"||j.type==="tableDelimiterRow"?(m=n,o[1]!==0?(c[0]=c[1],b=gm(v,e,o,r,n,b)):c[1]!==0&&(b=gm(v,e,c,r,n,b)),r=0):r&&(j.type==="data"||j.type==="tableDelimiterMarker"||j.type==="tableDelimiterFiller")&&(c[3]=n)}for(m!==0&&lj(v,e,m,f,g),v.consume(e.events),n=-1;++n<e.events.length;){const w=e.events[n];w[0]==="enter"&&w[1].type==="table"&&(w[1]._align=HU(e.events,n))}return t}function gm(t,e,n,a,r,o){const c=a===1?"tableHeader":a===2?"tableDelimiter":"tableData",d="tableContent";n[0]!==0&&(o.end=Object.assign({},qo(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const m=qo(e.events,n[1]);if(o={type:c,start:Object.assign({},m),end:Object.assign({},m)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const f=qo(e.events,n[2]),g=qo(e.events,n[3]),b={type:d,start:Object.assign({},f),end:Object.assign({},g)};if(t.add(n[2],0,[["enter",b,e]]),a!==2){const v=e.events[n[2]],w=e.events[n[3]];if(v[1].end=Object.assign({},w[1].end),v[1].type="chunkText",v[1].contentType="text",n[3]>n[2]+1){const j=n[2]+1,I=n[3]-n[2]-1;t.add(j,I,[])}}t.add(n[3]+1,0,[["exit",b,e]])}return r!==void 0&&(o.end=Object.assign({},qo(e.events,r)),t.add(r,0,[["exit",o,e]]),o=void 0),o}function lj(t,e,n,a,r){const o=[],c=qo(e.events,n);r&&(r.end=Object.assign({},c),o.push(["exit",r,e])),a.end=Object.assign({},c),o.push(["exit",a,e]),t.add(n+1,0,o)}function qo(t,e){const n=t[e],a=n[0]==="enter"?"start":"end";return n[1][a]}const KU={name:"tasklistCheck",tokenize:XU};function WU(){return{text:{91:KU}}}function XU(t,e,n){const a=this;return r;function r(m){return a.previous!==null||!a._gfmTasklistFirstContentOfListItem?n(m):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(m),t.exit("taskListCheckMarker"),o)}function o(m){return Pt(m)?(t.enter("taskListCheckValueUnchecked"),t.consume(m),t.exit("taskListCheckValueUnchecked"),c):m===88||m===120?(t.enter("taskListCheckValueChecked"),t.consume(m),t.exit("taskListCheckValueChecked"),c):n(m)}function c(m){return m===93?(t.enter("taskListCheckMarker"),t.consume(m),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),d):n(m)}function d(m){return ze(m)?e(m):st(m)?t.check({tokenize:JU},e,n)(m):n(m)}}function JU(t,e,n){return ft(t,a,"whitespace");function a(r){return r===null?n(r):e(r)}}function ZU(t){return QS([SU(),PU(),BU(t),GU(),WU()])}const ez={};function Cc(t){const e=this,n=t||ez,a=e.data(),r=a.micromarkExtensions||(a.micromarkExtensions=[]),o=a.fromMarkdownExtensions||(a.fromMarkdownExtensions=[]),c=a.toMarkdownExtensions||(a.toMarkdownExtensions=[]);r.push(ZU(n)),o.push(vU()),c.push(wU(n))}const tz=["Public Forum (PF)","Lincoln-Douglas (LD)","Policy Debate (CX)","Congressional Debate","Big Questions Debate (BQ)","World Schools Debate (WSD)","Original Oratory (OO)","Informative Speaking (INF)","United States Extemp (USX)","International Extemp (IX)","Extemporaneous Debate (EXD)","Impromptu Speaking","Dramatic Interpretation (DI)","Humorous Interpretation (HI)","Duo Interpretation","Program Oral Interpretation (POI)","Poetry Interpretation","Prose Interpretation","Children's Literature","Contemporary Issues","Expository Speaking","Storytelling","Declamation","Oratorical Declamation","Rhetorical Criticism","Communication Analysis","After Dinner Speaking (ADS)","Broadcasting","Parliamentary Debate (Parli)","IPDA Debate","NFA-LD","Mock Trial","Spar Debate","Model UN Speech","Student Congress"],Ie={DEBATE:"debate",INDIVIDUAL_SPEAKING:"individual",INTERP:"interp",EXTEMP:"extemp",LIMITED_PREP:"limited_prep",CONGRESS:"congress",SUPPLEMENTAL:"supplemental"},t0={"NSDA Main Debate":["Public Forum (PF)","Lincoln-Douglas (LD)","Policy Debate (CX)","Congressional Debate"],"NSDA Supplemental Debate":["Big Questions Debate (BQ)","World Schools Debate (WSD)"],"NSDA Platform":["Original Oratory (OO)","Informative Speaking (INF)"],"NSDA Extemporaneous":["United States Extemp (USX)","International Extemp (IX)"],"NSDA Limited Prep":["Impromptu Speaking","Extemporaneous Debate (EXD)"],"NSDA Interp":["Dramatic Interpretation (DI)","Humorous Interpretation (HI)","Duo Interpretation","Program Oral Interpretation (POI)"],"Supplemental Interp":["Poetry Interpretation","Prose Interpretation","Children's Literature","Contemporary Issues"],"Supplemental Speech":["Expository Speaking","Storytelling","Declamation","Oratorical Declamation","Rhetorical Criticism","Communication Analysis","After Dinner Speaking (ADS)","Broadcasting"],"Supplemental Debate":["Parliamentary Debate (Parli)","IPDA Debate","NFA-LD","Mock Trial","Spar Debate"],"Other Events":["Model UN Speech","Student Congress"]},uc={"Public Forum (PF)":Ie.DEBATE,"Lincoln-Douglas (LD)":Ie.DEBATE,"Policy Debate (CX)":Ie.DEBATE,"Congressional Debate":Ie.CONGRESS,"Big Questions Debate (BQ)":Ie.DEBATE,"World Schools Debate (WSD)":Ie.DEBATE,"Original Oratory (OO)":Ie.INDIVIDUAL_SPEAKING,"Informative Speaking (INF)":Ie.INDIVIDUAL_SPEAKING,"United States Extemp (USX)":Ie.EXTEMP,"International Extemp (IX)":Ie.EXTEMP,"Extemporaneous Debate (EXD)":Ie.DEBATE,"Impromptu Speaking":Ie.LIMITED_PREP,"Dramatic Interpretation (DI)":Ie.INTERP,"Humorous Interpretation (HI)":Ie.INTERP,"Duo Interpretation":Ie.INTERP,"Program Oral Interpretation (POI)":Ie.INTERP,"Poetry Interpretation":Ie.INTERP,"Prose Interpretation":Ie.INTERP,"Children's Literature":Ie.INTERP,"Contemporary Issues":Ie.INTERP,"Expository Speaking":Ie.INDIVIDUAL_SPEAKING,Storytelling:Ie.INTERP,Declamation:Ie.INDIVIDUAL_SPEAKING,"Oratorical Declamation":Ie.INDIVIDUAL_SPEAKING,"Rhetorical Criticism":Ie.INDIVIDUAL_SPEAKING,"Communication Analysis":Ie.INDIVIDUAL_SPEAKING,"After Dinner Speaking (ADS)":Ie.INDIVIDUAL_SPEAKING,Broadcasting:Ie.INDIVIDUAL_SPEAKING,"Parliamentary Debate (Parli)":Ie.DEBATE,"IPDA Debate":Ie.DEBATE,"NFA-LD":Ie.DEBATE,"Mock Trial":Ie.DEBATE,"Spar Debate":Ie.DEBATE,"Model UN Speech":Ie.INDIVIDUAL_SPEAKING,"Student Congress":Ie.CONGRESS},nz={[Ie.DEBATE]:{name:"Debate",description:"Competitive debate formats with opposing sides",showOpposingArguments:!0,showClash:!0,showRebuttals:!0,showCrossEx:!0,rubric:`
## Debate Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Argumentation & Evidence** | 30% | Quality of arguments, evidence strength, logical warrants |
| **Clash & Engagement** | 25% | Direct responses to opponent, refutation quality |
| **Impact Analysis** | 20% | Magnitude, probability, timeframe of impacts |
| **Strategy & Organization** | 15% | Speech structure, time allocation, flow |
| **Delivery** | 10% | Clarity, persuasion, pace (speed okay if clear) |
    `,focusAreas:["Arguments for your position","Responses to opposing arguments","Evidence quality and sources","Impact calculus","Clash and refutation","Cross-examination presence"]},[Ie.CONGRESS]:{name:"Congressional Debate",description:"Legislative debate simulation with parliamentary procedure",showOpposingArguments:!0,showClash:!0,showRebuttals:!0,showCrossEx:!1,rubric:`
## Congressional Debate Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Argumentation** | 30% | New analysis, original evidence, strong reasoning |
| **Refutation** | 25% | Direct engagement with previous speakers, weighing |
| **Rhetoric & Delivery** | 20% | Persuasion, style, gravitas, presence |
| **Parliamentary Procedure** | 15% | Knowledge and proper use of procedure |
| **Questioning** | 10% | Quality of questions posed to other speakers |
    `,focusAreas:["New analysis and arguments","Refutation of previous speakers","Evidence quality and citations","Parliamentary procedure usage","Question quality","Chamber engagement"]},[Ie.INDIVIDUAL_SPEAKING]:{name:"Individual Speaking",description:"Platform speaking events focused on original content",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Individual Speaking Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Content & Research** | 30% | Depth of information, accuracy, relevance |
| **Organization** | 25% | Structure, transitions, logical flow |
| **Delivery** | 25% | Vocal variety, eye contact, gestures, presence |
| **Analysis & Insight** | 15% | Original thought, depth of understanding |
| **Impact & Memorability** | 5% | Audience engagement, lasting impression |
    `,focusAreas:["Content clarity and accuracy","Speech organization and structure","Vocal delivery and variety","Physical presence and gestures","Audience engagement","Use of evidence and examples"]},[Ie.INTERP]:{name:"Interpretation",description:"Performance events with scripted or literary material",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Interpretation Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Characterization** | 30% | Distinct, consistent, believable characters |
| **Emotional Range** | 25% | Depth of emotion, appropriate intensity |
| **Technical Skill** | 20% | Blocking, pops, timing, focus |
| **Material Selection** | 15% | Quality of cutting, thematic unity |
| **Overall Impact** | 10% | Audience connection, memorability |
    `,focusAreas:["Character development and distinction","Emotional authenticity","Physical performance (blocking, gestures)","Vocal variety and character voices","Timing and pacing","Thematic development"]},[Ie.EXTEMP]:{name:"Extemporaneous Speaking",description:"Current events analysis with limited prep time",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Extemporaneous Speaking Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Analysis Depth** | 30% | Quality of reasoning, insight into topic |
| **Evidence & Sources** | 25% | Citation quality, recency, variety |
| **Organization** | 20% | Clear structure, strong transitions |
| **Answering the Question** | 15% | Directly addresses the prompt |
| **Delivery** | 10% | Conversational, engaging, minimal notes |
    `,focusAreas:["Direct answer to the question","Analysis depth and insight","Evidence and source citations","Current events knowledge","Logical organization","Conversational delivery"]},[Ie.LIMITED_PREP]:{name:"Limited Preparation",description:"Impromptu speaking with minimal prep time",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Impromptu Speaking Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Quick Thinking** | 30% | Ability to form coherent thoughts rapidly |
| **Relevance** | 25% | Staying on topic, addressing the prompt |
| **Organization** | 20% | Clear structure despite limited prep |
| **Creativity** | 15% | Original examples, unique perspectives |
| **Delivery** | 10% | Confident, fluid despite improvisation |
    `,focusAreas:["Response relevance to prompt","Quick organization of thoughts","Creative examples and analogies","Confident delivery","Time management","Coherent structure"]},[Ie.SUPPLEMENTAL]:{name:"Supplemental Events",description:"Regional and supplemental competitive events",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Supplemental Event Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Event-Specific Skills** | 35% | Mastery of event-specific requirements |
| **Content Quality** | 25% | Accuracy, depth, and relevance |
| **Delivery** | 25% | Presentation skills appropriate to event |
| **Organization** | 15% | Structure and logical flow |
    `,focusAreas:["Event-specific requirements","Content quality and accuracy","Appropriate delivery style","Structural organization","Audience engagement"]}},L_=t=>{const e=uc[t]||Ie.INDIVIDUAL_SPEAKING;return nz[e]},Br=t=>{const e=uc[t];return e===Ie.DEBATE?t.includes("Parliament")||t.includes("Parli")?["Prime Minister","Leader of Opposition","Member of Government","Member of Opposition","Government Whip","Opposition Whip"]:t.includes("Policy")||t==="NFA-LD"?["Affirmative","Negative"]:t.includes("World Schools")?["1st Proposition","2nd Proposition","3rd Proposition","1st Opposition","2nd Opposition","3rd Opposition","Reply Speaker"]:t==="Mock Trial"?["Prosecution","Defense","Plaintiff","Witness"]:["Pro/Affirmative","Con/Negative"]:e===Ie.CONGRESS?["Author/Sponsor","First Pro","First Con","Subsequent Pro","Subsequent Con","Presiding Officer","Questioner"]:["Individual/Solo","Neutral/Evaluator"]},oj=(t,e,n,a)=>{const r=L_(t),o=uc[t];let c=`You are an expert ${t} coach and judge with years of experience evaluating this specific event type.`;return e&&(c+=`
Topic/Prompt: ${e}`),r.showOpposingArguments&&n&&(c+=`
Side/Position: ${n}`),c+=`

Evaluate the following speech based on this event-specific rubric:
${r.rubric}`,o===Ie.DEBATE?c+=`

### DEBATE-SPECIFIC ANALYSIS:
- Analyze the strength and clarity of each argument presented
- Identify potential opposing arguments and how well they were preempted or addressed
- Evaluate evidence quality and proper citation
- Assess impact calculus (magnitude, probability, timeframe)
- Note clash quality and direct engagement with opposing points
- Consider cross-examination strategy if applicable`:o===Ie.CONGRESS?c+=`

### CONGRESSIONAL DEBATE-SPECIFIC ANALYSIS:
- Evaluate whether the speech presents NEW analysis or merely rehashes previous points
- Assess direct refutation of previous speakers in the chamber
- Analyze quality of evidence and source citations
- Evaluate use of parliamentary procedure and decorum
- Consider rhetorical effectiveness and gravitas
- Note quality of questions asked during Q&A period
- Assess chamber engagement and awareness of debate flow`:o===Ie.INDIVIDUAL_SPEAKING?c+=`

### INDIVIDUAL SPEAKING-SPECIFIC ANALYSIS:
- Focus on content clarity and information accuracy
- Do NOT analyze opposing arguments (this is not a debate event)
- Evaluate speech organization and flow
- Assess delivery techniques (vocal variety, gestures, eye contact)
- Consider audience engagement and persuasive techniques
- NOTE: Do not penalize for missing visual aids or props (text-only evaluation)`:o===Ie.INTERP?c+=`

### INTERPRETATION-SPECIFIC ANALYSIS:
- Evaluate character development and distinction between characters
- Assess emotional authenticity and range
- Analyze physical performance elements described
- Consider pacing and timing
- Note thematic development and material selection quality
- Do NOT analyze arguments or debate elements (this is a performance event)`:o===Ie.EXTEMP?c+=`

### EXTEMP-SPECIFIC ANALYSIS:
- Evaluate how directly the question/prompt is answered
- Assess depth of analysis on current events
- Check quality and recency of evidence cited
- Consider organization and structure
- Note delivery style (should be conversational, not memorized)
- Do NOT analyze debate clash (this is not a debate event)`:o===Ie.LIMITED_PREP&&(c+=`

### IMPROMPTU-SPECIFIC ANALYSIS:
- Evaluate quick thinking and coherent thought formation
- Assess relevance to the prompt given
- Consider organization despite limited preparation time
- Note creative examples and unique perspectives
- Evaluate confidence and delivery fluidity
- Be understanding of minor hesitations given the time constraints`),c+=`

Please provide the output in the following Markdown format:

## Executive Summary
(Brief 2-3 sentence overview of overall performance)

## Scorecard
| Category | Score (0-10) | Notes |
| --- | --- | --- |
(Fill based on the rubric above)
| **Total** | **(Average/Sum)** | |

## Key ${o===Ie.DEBATE||o===Ie.CONGRESS?"Argument":"Content"} Analysis
(Detailed breakdown of main points made)
${r.showOpposingArguments?`
## Opposing Arguments & Clash
(Analysis of responses to opponent arguments and missed clash opportunities)`:""}

## Constructive Feedback
- **Strengths**: ...
- **Areas for Improvement**: ...

## Recommended Drills
(3-5 specific exercises to improve weak areas, tailored to this event type)

## Quick Tips for Next Round
(2-3 actionable items for immediate improvement)

SPEECH TEXT:
${a}`,c},sz={[Ie.DEBATE]:{label:"Debate Events",icon:"",color:"text-red-400"},[Ie.CONGRESS]:{label:"Congressional Debate",icon:"",color:"text-amber-400"},[Ie.INDIVIDUAL_SPEAKING]:{label:"Individual Speaking",icon:"",color:"text-blue-400"},[Ie.INTERP]:{label:"Interpretation",icon:"",color:"text-purple-400"},[Ie.EXTEMP]:{label:"Extemporaneous",icon:"",color:"text-green-400"},[Ie.LIMITED_PREP]:{label:"Limited Prep",icon:"",color:"text-yellow-400"},[Ie.SUPPLEMENTAL]:{label:"Supplemental Events",icon:"",color:"text-gray-400"}},az=t=>({"Public Forum (PF)":"Two-person team debate on current events topics. Accessible format with crossfire Q&A.","Lincoln-Douglas (LD)":"One-on-one values-based debate exploring philosophical frameworks.","Policy Debate (CX)":"Two-person team policy debate with extensive evidence and complex arguments.","Congressional Debate":"Legislative debate simulation with parliamentary procedure.","Big Questions Debate (BQ)":"Philosophical debate format exploring fundamental questions.","World Schools Debate (WSD)":"Three-person team debate following international style.","Original Oratory (OO)":"Original persuasive speech written and memorized by the student.","Informative Speaking (INF)":"Original educational speech with visual aids.","United States Extemp (USX)":"Limited-prep speech on US domestic political topics.","International Extemp (IX)":"Limited-prep speech on international affairs.","Impromptu Speaking":"Minimal-prep speech on abstract prompts (quotes, words, etc.).","Extemporaneous Debate (EXD)":"Limited-prep debate format with 30 min prep time.","Dramatic Interpretation (DI)":"Solo dramatic performance from published literature.","Humorous Interpretation (HI)":"Solo comedic performance from published literature.","Duo Interpretation":"Two-person performance without touching or looking at partner.","Program Oral Interpretation (POI)":"Thematic program combining poetry, prose, and drama.","Poetry Interpretation":"Performance of published poetry.","Prose Interpretation":"Performance of published prose literature.",Declamation:"Memorized delivery of a previously published speech.","After Dinner Speaking (ADS)":"Humorous speech with a serious underlying message.","Parliamentary Debate (Parli)":"Team debate format with minimal prep time.","Mock Trial":"Courtroom simulation with witness examinations and arguments.",Storytelling:"Narrative performance of a children's story."})[t]||"Competitive speech or debate event.";var cj;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(cj||(cj={}));var uj;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(uj||(uj={}));var dj;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(dj||(dj={}));const hj=["user","model","function","system"];var mj;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(mj||(mj={}));var fj;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(fj||(fj={}));var pj;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(pj||(pj={}));var gj;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(gj||(gj={}));var Wu;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(Wu||(Wu={}));var xj;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(xj||(xj={}));var bj;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(bj||(bj={}));var yj;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(yj||(yj={}));class Zn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Vo extends Zn{constructor(e,n){super(e),this.response=n}}class V_ extends Zn{constructor(e,n,a,r){super(e),this.status=n,this.statusText=a,this.errorDetails=r}}class Pr extends Zn{}class U_ extends Zn{}const iz="https://generativelanguage.googleapis.com",rz="v1beta",lz="0.24.1",oz="genai-js";var Fl;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Fl||(Fl={}));class cz{constructor(e,n,a,r,o){this.model=e,this.task=n,this.apiKey=a,this.stream=r,this.requestOptions=o}toString(){var e,n;const a=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||rz;let o=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||iz}/${a}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}}function uz(t){const e=[];return t?.apiClient&&e.push(t.apiClient),e.push(`${oz}/${lz}`),e.join(" ")}async function dz(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",uz(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let a=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(a){if(!(a instanceof Headers))try{a=new Headers(a)}catch(r){throw new Pr(`unable to convert customHeaders value ${JSON.stringify(a)} to Headers: ${r.message}`)}for(const[r,o]of a.entries()){if(r==="x-goog-api-key")throw new Pr(`Cannot set reserved header name ${r}`);if(r==="x-goog-api-client")throw new Pr(`Header name ${r} can only be set using the apiClient field`);n.append(r,o)}}return n}async function hz(t,e,n,a,r,o){const c=new cz(t,e,n,a,o);return{url:c.toString(),fetchOptions:Object.assign(Object.assign({},gz(o)),{method:"POST",headers:await dz(c),body:r})}}async function Md(t,e,n,a,r,o={},c=fetch){const{url:d,fetchOptions:m}=await hz(t,e,n,a,r,o);return mz(d,m,c)}async function mz(t,e,n=fetch){let a;try{a=await n(t,e)}catch(r){fz(r,t)}return a.ok||await pz(a,t),a}function fz(t,e){let n=t;throw n.name==="AbortError"?(n=new U_(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof V_||t instanceof Pr||(n=new Zn(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function pz(t,e){let n="",a;try{const r=await t.json();n=r.error.message,r.error.details&&(n+=` ${JSON.stringify(r.error.details)}`,a=r.error.details)}catch{}throw new V_(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,a)}function gz(t){const e={};if(t?.signal!==void 0||t?.timeout>=0){const n=new AbortController;t?.timeout>=0&&setTimeout(()=>n.abort(),t.timeout),t?.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}function ly(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Pm(t.candidates[0]))throw new Vo(`${jr(t)}`,t);return xz(t)}else if(t.promptFeedback)throw new Vo(`Text not available. ${jr(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Pm(t.candidates[0]))throw new Vo(`${jr(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),vj(t)[0]}else if(t.promptFeedback)throw new Vo(`Function call not available. ${jr(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Pm(t.candidates[0]))throw new Vo(`${jr(t)}`,t);return vj(t)}else if(t.promptFeedback)throw new Vo(`Function call not available. ${jr(t)}`,t)},t}function xz(t){var e,n,a,r;const o=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const c of(r=(a=t.candidates)===null||a===void 0?void 0:a[0].content)===null||r===void 0?void 0:r.parts)c.text&&o.push(c.text),c.executableCode&&o.push("\n```"+c.executableCode.language+`
`+c.executableCode.code+"\n```\n"),c.codeExecutionResult&&o.push("\n```\n"+c.codeExecutionResult.output+"\n```\n");return o.length>0?o.join(""):""}function vj(t){var e,n,a,r;const o=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const c of(r=(a=t.candidates)===null||a===void 0?void 0:a[0].content)===null||r===void 0?void 0:r.parts)c.functionCall&&o.push(c.functionCall);if(o.length>0)return o}const bz=[Wu.RECITATION,Wu.SAFETY,Wu.LANGUAGE];function Pm(t){return!!t.finishReason&&bz.includes(t.finishReason)}function jr(t){var e,n,a;let r="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)r+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(r+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(r+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((a=t.candidates)===null||a===void 0)&&a[0]){const o=t.candidates[0];Pm(o)&&(r+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(r+=`: ${o.finishMessage}`))}return r}function hd(t){return this instanceof hd?(this.v=t,this):new hd(t)}function yz(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(t,e||[]),r,o=[];return r={},c("next"),c("throw"),c("return"),r[Symbol.asyncIterator]=function(){return this},r;function c(v){a[v]&&(r[v]=function(w){return new Promise(function(j,I){o.push([v,w,j,I])>1||d(v,w)})})}function d(v,w){try{m(a[v](w))}catch(j){b(o[0][3],j)}}function m(v){v.value instanceof hd?Promise.resolve(v.value.v).then(f,g):b(o[0][2],v)}function f(v){d("next",v)}function g(v){d("throw",v)}function b(v,w){v(w),o.shift(),o.length&&d(o[0][0],o[0][1])}}const wj=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function vz(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=jz(e),[a,r]=n.tee();return{stream:Nz(a),response:wz(r)}}async function wz(t){const e=[],n=t.getReader();for(;;){const{done:a,value:r}=await n.read();if(a)return ly(Sz(e));e.push(r)}}function Nz(t){return yz(this,arguments,function*(){const n=t.getReader();for(;;){const{value:a,done:r}=yield hd(n.read());if(r)break;yield yield hd(ly(a))}})}function jz(t){const e=t.getReader();return new ReadableStream({start(a){let r="";return o();function o(){return e.read().then(({value:c,done:d})=>{if(d){if(r.trim()){a.error(new Zn("Failed to parse stream"));return}a.close();return}r+=c;let m=r.match(wj),f;for(;m;){try{f=JSON.parse(m[1])}catch{a.error(new Zn(`Error parsing JSON response: "${m[1]}"`));return}a.enqueue(f),r=r.substring(m[0].length),m=r.match(wj)}return o()}).catch(c=>{let d=c;throw d.stack=c.stack,d.name==="AbortError"?d=new U_("Request aborted when reading from the stream"):d=new Zn("Error reading from the stream"),d})}}})}function Sz(t){const e=t[t.length-1],n={promptFeedback:e?.promptFeedback};for(const a of t){if(a.candidates){let r=0;for(const o of a.candidates)if(n.candidates||(n.candidates=[]),n.candidates[r]||(n.candidates[r]={index:r}),n.candidates[r].citationMetadata=o.citationMetadata,n.candidates[r].groundingMetadata=o.groundingMetadata,n.candidates[r].finishReason=o.finishReason,n.candidates[r].finishMessage=o.finishMessage,n.candidates[r].safetyRatings=o.safetyRatings,o.content&&o.content.parts){n.candidates[r].content||(n.candidates[r].content={role:o.content.role||"user",parts:[]});const c={};for(const d of o.content.parts)d.text&&(c.text=d.text),d.functionCall&&(c.functionCall=d.functionCall),d.executableCode&&(c.executableCode=d.executableCode),d.codeExecutionResult&&(c.codeExecutionResult=d.codeExecutionResult),Object.keys(c).length===0&&(c.text=""),n.candidates[r].content.parts.push(c)}r++}a.usageMetadata&&(n.usageMetadata=a.usageMetadata)}return n}async function z_(t,e,n,a){const r=await Md(e,Fl.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),a);return vz(r)}async function F_(t,e,n,a){const o=await(await Md(e,Fl.GENERATE_CONTENT,t,!1,JSON.stringify(n),a)).json();return{response:ly(o)}}function B_(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function md(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return _z(e)}function _z(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let a=!1,r=!1;for(const o of t)"functionResponse"in o?(n.parts.push(o),r=!0):(e.parts.push(o),a=!0);if(a&&r)throw new Zn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!a&&!r)throw new Zn("No content is provided for sending chat message.");return a?e:n}function Tz(t,e){var n;let a={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(n=e?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const r=t.generateContentRequest!=null;if(t.contents){if(r)throw new Pr("CountTokensRequest must have one of contents or generateContentRequest, not both.");a.contents=t.contents}else if(r)a=Object.assign(Object.assign({},a),t.generateContentRequest);else{const o=md(t);a.contents=[o]}return{generateContentRequest:a}}function Nj(t){let e;return t.contents?e=t:e={contents:[md(t)]},t.systemInstruction&&(e.systemInstruction=B_(t.systemInstruction)),e}function Cz(t){return typeof t=="string"||Array.isArray(t)?{content:md(t)}:t}const jj=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Ez={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Az(t){let e=!1;for(const n of t){const{role:a,parts:r}=n;if(!e&&a!=="user")throw new Zn(`First content should be with role 'user', got ${a}`);if(!hj.includes(a))throw new Zn(`Each item should include role field. Got ${a} but valid roles are: ${JSON.stringify(hj)}`);if(!Array.isArray(r))throw new Zn("Content should have 'parts' property with an array of Parts");if(r.length===0)throw new Zn("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const d of r)for(const m of jj)m in d&&(o[m]+=1);const c=Ez[a];for(const d of jj)if(!c.includes(d)&&o[d]>0)throw new Zn(`Content with role '${a}' can't contain '${d}' part`);e=!0}}function Sj(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const a of n.parts)if(a===void 0||Object.keys(a).length===0||a.text!==void 0&&a.text==="")return!1;return!0}const _j="SILENT_ERROR";class kz{constructor(e,n,a,r={}){this.model=n,this.params=a,this._requestOptions=r,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,a?.history&&(Az(a.history),this._history=a.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var a,r,o,c,d,m;await this._sendPromise;const f=md(e),g={safetySettings:(a=this.params)===null||a===void 0?void 0:a.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,f]},b=Object.assign(Object.assign({},this._requestOptions),n);let v;return this._sendPromise=this._sendPromise.then(()=>F_(this._apiKey,this.model,g,b)).then(w=>{var j;if(Sj(w.response)){this._history.push(f);const I=Object.assign({parts:[],role:"model"},(j=w.response.candidates)===null||j===void 0?void 0:j[0].content);this._history.push(I)}else{const I=jr(w.response);I&&console.warn(`sendMessage() was unsuccessful. ${I}. Inspect response object for details.`)}v=w}).catch(w=>{throw this._sendPromise=Promise.resolve(),w}),await this._sendPromise,v}async sendMessageStream(e,n={}){var a,r,o,c,d,m;await this._sendPromise;const f=md(e),g={safetySettings:(a=this.params)===null||a===void 0?void 0:a.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,f]},b=Object.assign(Object.assign({},this._requestOptions),n),v=z_(this._apiKey,this.model,g,b);return this._sendPromise=this._sendPromise.then(()=>v).catch(w=>{throw new Error(_j)}).then(w=>w.response).then(w=>{if(Sj(w)){this._history.push(f);const j=Object.assign({},w.candidates[0].content);j.role||(j.role="model"),this._history.push(j)}else{const j=jr(w);j&&console.warn(`sendMessageStream() was unsuccessful. ${j}. Inspect response object for details.`)}}).catch(w=>{w.message!==_j&&console.error(w)}),v}}async function Iz(t,e,n,a){return(await Md(e,Fl.COUNT_TOKENS,t,!1,JSON.stringify(n),a)).json()}async function Rz(t,e,n,a){return(await Md(e,Fl.EMBED_CONTENT,t,!1,JSON.stringify(n),a)).json()}async function Dz(t,e,n,a){const r=n.requests.map(c=>Object.assign(Object.assign({},c),{model:e}));return(await Md(e,Fl.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:r}),a)).json()}class Tj{constructor(e,n,a={}){this.apiKey=e,this._requestOptions=a,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=B_(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var a;const r=Nj(e),o=Object.assign(Object.assign({},this._requestOptions),n);return F_(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(a=this.cachedContent)===null||a===void 0?void 0:a.name},r),o)}async generateContentStream(e,n={}){var a;const r=Nj(e),o=Object.assign(Object.assign({},this._requestOptions),n);return z_(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(a=this.cachedContent)===null||a===void 0?void 0:a.name},r),o)}startChat(e){var n;return new kz(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const a=Tz(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),r=Object.assign(Object.assign({},this._requestOptions),n);return Iz(this.apiKey,this.model,a,r)}async embedContent(e,n={}){const a=Cz(e),r=Object.assign(Object.assign({},this._requestOptions),n);return Rz(this.apiKey,this.model,a,r)}async batchEmbedContents(e,n={}){const a=Object.assign(Object.assign({},this._requestOptions),n);return Dz(this.apiKey,this.model,e,a)}}class Vi{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new Zn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Tj(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,a){if(!e.name)throw new Pr("Cached content must contain a `name` field.");if(!e.model)throw new Pr("Cached content must contain a `model` field.");const r=["model","systemInstruction"];for(const c of r)if(n?.[c]&&e[c]&&n?.[c]!==e[c]){if(c==="model"){const d=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,m=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(d===m)continue}throw new Pr(`Different value for "${c}" specified in modelParams (${n[c]}) and cachedContent (${e[c]})`)}const o=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new Tj(this.apiKey,o,a)}}function Mm(...t){return IC(t)}function $_(t){return new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function Pz(t){const e=new Date(t),a=new Date-e,r=Math.floor(a/6e4),o=Math.floor(a/36e5),c=Math.floor(a/864e5);return r<1?"Just now":r<60?`${r}m ago`:o<24?`${o}h ago`:c<7?`${c}d ago`:$_(t)}function Mz(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}const Cj={get:(t,e=null)=>{try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch{return e}},set:(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(n){console.error("Storage error:",n)}},remove:t=>{try{localStorage.removeItem(t)}catch(e){console.error("Storage error:",e)}}},Ej="adjudicator_history",Aj=50;function Yl(){const[t,e]=T.useState([]),[n,a]=T.useState(!0);T.useEffect(()=>{const w=Cj.get(Ej,[]);setTimeout(()=>{e(w),a(!1)},0)},[]),T.useEffect(()=>{n||Cj.set(Ej,t)},[t,n]);const r=T.useCallback(w=>{const j={id:Mz(),createdAt:new Date().toISOString(),...w};return e(I=>[j,...I].slice(0,Aj)),j.id},[]),o=T.useCallback(w=>{e(j=>j.filter(I=>I.id!==w))},[]),c=T.useCallback(()=>{e([])},[]),d=T.useCallback(w=>t.find(j=>j.id===w),[t]),m=T.useCallback(w=>t.filter(j=>j.type===w),[t]),f=T.useCallback((w,j)=>{e(I=>I.map(D=>D.id===w?{...D,...j,updatedAt:new Date().toISOString()}:D))},[]),g=T.useCallback(()=>{const w=JSON.stringify(t,null,2),j=new Blob([w],{type:"application/json"}),I=URL.createObjectURL(j),D=document.createElement("a");D.href=I,D.download=`adjudicator-history-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(I)},[t]),b=T.useCallback(async w=>{try{const j=await w.text(),I=JSON.parse(j);return Array.isArray(I)?(e(D=>{const L=new Set(D.map($=>$.id));return[...I.filter($=>!L.has($.id)),...D].slice(0,Aj)}),{success:!0,count:I.length}):{success:!1,error:"Invalid format"}}catch(j){return{success:!1,error:j.message}}},[]),v={total:t.length,byType:{judge:t.filter(w=>w.type==="judge").length,board:t.filter(w=>w.type==="board").length,coach:t.filter(w=>w.type==="coach").length,strategy:t.filter(w=>w.type==="strategy").length,extemp:t.filter(w=>w.type==="extemp").length,tone:t.filter(w=>w.type==="tone").length},lastSession:t[0]||null};return{history:t,isLoading:n,stats:v,addSession:r,deleteSession:o,clearHistory:c,getSession:d,getSessionsByType:m,updateSession:f,exportHistory:g,importHistory:b}}const Oz=({apiKey:t})=>{const[e,n]=T.useState("Public Forum (PF)"),[a,r]=T.useState("Proposition/Affirmative"),[o,c]=T.useState(""),[d,m]=T.useState(""),[f,g]=T.useState(!1),[b,v]=T.useState(null),[w,j]=T.useState(""),[I,D]=T.useState(!1),[L,R]=T.useState(!1),{addSession:$}=Yl(),q=T.useMemo(()=>L_(e),[e]),X=T.useMemo(()=>Br(e),[e]),G=uc[e],k=sz[G],A=E=>{n(E);const J=Br(E);J.includes(a)||r(J[0])},O=async()=>{if(!t){j("Please enter a valid Gemini API Key in Settings.");return}if(!d.trim()){j("Please enter the speech transcript.");return}g(!0),j(""),v(null);try{const J=new Vi(t).getGenerativeModel({model:"gemini-2.5-flash"}),K=oj(e,o,a,d),le=(await(await J.generateContent(K)).response).text();v(le),$({type:"judge",title:o||`${e} Analysis`,input:{transcript:d.substring(0,500)+(d.length>500?"...":"")},result:le,metadata:{speechType:e,side:q.showOpposingArguments?a:null,topic:o,eventCategory:G}}),R(!0),setTimeout(()=>R(!1),2e3)}catch(E){console.error("Gemini Error:",E);try{const K=new Vi(t).getGenerativeModel({model:"gemini-2.5-flash"}),H=oj(e,o,a,d),ye=(await(await K.generateContent(H)).response).text();v(ye)}catch{j(`Error: ${E.message}. Please try again.`)}}finally{g(!1)}},C=()=>{b&&(navigator.clipboard.writeText(b),D(!0),setTimeout(()=>D(!1),2e3))},M=T.useMemo(()=>t0,[]),z=T.useMemo(()=>az(e),[e]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Speech Analysis"}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Get AI-powered feedback on your speeches"})]}),k&&s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-slate-900/50 border border-slate-800/60",children:[s.jsx("span",{className:"text-lg",children:k.icon}),s.jsx("span",{className:`text-sm font-medium ${k.color}`,children:k.label})]})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[s.jsxs("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Event Format"}),s.jsx("select",{value:e,onChange:E=>A(E.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all",children:Object.entries(M).map(([E,J])=>s.jsx("optgroup",{label:E,children:J.map(K=>s.jsx("option",{value:K,children:K},K))},E))}),s.jsx("p",{className:"mt-2 text-xs text-slate-500",children:z})]}),q.showOpposingArguments?s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Side/Position"}),s.jsx("select",{value:a,onChange:E=>r(E.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all",children:X.map(E=>s.jsx("option",{value:E,children:E},E))})]}):s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Speaker Role"}),s.jsx("select",{value:a,onChange:E=>r(E.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all",children:X.map(E=>s.jsx("option",{value:E,children:E},E))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:q.showOpposingArguments?"Resolution/Topic":"Speech Topic/Prompt"}),s.jsx("input",{type:"text",value:o,onChange:E=>c(E.target.value),placeholder:q.showOpposingArguments?"Resolved: The United States should...":"Enter the topic or prompt...",className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all"})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(hc,{className:"w-4 h-4 text-cyan-400"}),s.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Analysis Focus Areas"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[q.focusAreas.slice(0,4).map((E,J)=>s.jsx("span",{className:"px-3 py-1.5 text-xs font-medium bg-slate-900/50 text-slate-400 rounded-lg border border-slate-700/50",children:E},J)),q.focusAreas.length>4&&s.jsxs("span",{className:"px-3 py-1.5 text-xs text-slate-500",children:["+",q.focusAreas.length-4," more"]})]})]})]}),s.jsxs("div",{className:"flex-1 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[s.jsx("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50",children:s.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Speech Transcript"})}),s.jsx("textarea",{value:d,onChange:E=>m(E.target.value),placeholder:"Paste your speech text here...",className:"flex-1 w-full bg-transparent p-4 resize-none focus:outline-none font-mono text-sm text-slate-200 placeholder-slate-600 min-h-[200px]"}),s.jsxs("div",{className:"p-4 border-t border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[s.jsxs("span",{className:"text-xs text-slate-500 font-medium",children:[d.length.toLocaleString()," characters"]}),s.jsxs("button",{onClick:O,disabled:f,className:"px-6 py-2.5 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-semibold shadow-lg shadow-cyan-500/25 hover:shadow-cyan-500/40 hover:scale-[1.02] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center gap-2",children:[f?s.jsx(qr,{className:"w-4 h-4 animate-spin"}):s.jsx(bd,{className:"w-4 h-4"}),f?"Analyzing...":"Analyze Speech"]})]})]}),w&&s.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 text-red-400",children:[s.jsx(qn,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:w})]})]}),s.jsxs("div",{className:"w-full lg:w-1/2 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx(bs,{className:"w-5 h-5 text-cyan-400"}),q.name," Evaluation"]}),b&&s.jsxs("div",{className:"flex items-center gap-3",children:[L&&s.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1 font-medium",children:[s.jsx(Ya,{className:"w-3 h-3"})," Saved"]}),s.jsx("button",{onClick:C,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Copy to clipboard",children:I?s.jsx(Ci,{className:"w-4 h-4 text-emerald-500"}):s.jsx(Js,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:b?s.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-cyan-400 prose-headings:font-semibold prose-a:text-cyan-400 prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-3 prose-td:p-3 prose-th:bg-slate-800/50 prose-th:text-left",children:s.jsx(Tc,{remarkPlugins:[Cc],children:b})}):s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 py-16",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:s.jsx("span",{className:"text-3xl",children:k?.icon||""})}),s.jsxs("p",{className:"text-center max-w-xs",children:["Ready to evaluate your ",q.name.toLowerCase()," speech.",s.jsx("br",{}),s.jsx("span",{className:"text-sm text-slate-600",children:"Enter your speech and click Analyze."})]})]})})]})]})]})},Lz=({apiKey:t})=>{const[e,n]=T.useState("Public Forum (PF)"),[a,r]=T.useState("Pro/Affirmative"),[o,c]=T.useState(""),[d,m]=T.useState(""),[f,g]=T.useState([]),[b,v]=T.useState(!1),[w,j]=T.useState(null),[I,D]=T.useState(""),[L,R]=T.useState(!1),[$,q]=T.useState(!1),X=T.useRef(null),{addSession:G}=Yl(),k=Br(e),A=E=>{n(E);const J=Br(E);J.includes(a)||r(J[0])},O=E=>{const J=Array.from(E.target.files);J.length!==0&&(J.forEach(K=>{if(K.size>4*1024*1024){D(Z=>(Z?`${Z} `:"")+`Skipped ${K.name} (too large).`);return}const H=new FileReader;H.onloadend=()=>{const Z=H.result.split(",")[1];g(le=>[...le,{id:Math.random().toString(36).substr(2,9),url:H.result,raw:Z,mimeType:K.type,name:K.name}])},H.readAsDataURL(K)}),X.current&&(X.current.value=""))},C=E=>{g(J=>J.filter(K=>K.id!==E))},M=async()=>{if(!t){D("Please enter a valid Gemini API Key in Settings.");return}if(f.length===0&&!d.trim()){D("Please upload images of the board or provide a description.");return}v(!0),D(""),j(null);try{const J=new Vi(t).getGenerativeModel({model:"gemini-2.5-flash"}),K=`
        Expert Debate Coach (Flowing). Evaluate board/flow. 
        Context: ${e}, ${a}, Topic: ${o}. 
        Assess Organization, Grouping, Legibility, Suggestions. 
        User Notes: ${d}. 
        
        Please provide the output in the following Markdown format:
        ## Executive Summary
        (Brief overview)

        ## Scorecard
        | Category | Score (0-10) | Notes |
        | --- | --- | --- |
        | Organization | | |
        | Grouping | | |
        | Legibility | | |
        | Strategy | | |
        | **Total** | **(Sum)** | |

        ## Detailed Feedback
        ...
      `,H=f.map(B=>({inlineData:{data:B.raw,mimeType:B.mimeType}})),ye=(await(await J.generateContent([K,...H])).response).text();j(ye),G({type:"board",title:o||"Board Evaluation",input:{imageCount:f.length,description:d.substring(0,200)},result:ye,metadata:{speechType:e,side:a,topic:o}}),q(!0),setTimeout(()=>q(!1),2e3)}catch(E){console.error("Gemini Error:",E);try{const K=new Vi(t).getGenerativeModel({model:"gemini-2.5-flash"}),H="... (same prompt) ...";D(`Error: ${E.message}. Please try again.`)}catch{D(`Error: ${E.message}`)}}finally{v(!1)}},z=()=>{w&&(navigator.clipboard.writeText(w),R(!0),setTimeout(()=>R(!1),2e3))};return s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-[calc(100vh-8rem)]",children:[s.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[s.jsxs("div",{className:"glass-card space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Format"}),s.jsx("select",{value:e,onChange:E=>A(E.target.value),className:"input-field",children:Object.entries(t0).map(([E,J])=>s.jsx("optgroup",{label:E,children:J.map(K=>s.jsx("option",{value:K,children:K},K))},E))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Side"}),s.jsx("select",{value:a,onChange:E=>r(E.target.value),className:"input-field",children:k.map(E=>s.jsx("option",{value:E,children:E},E))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Topic"}),s.jsx("input",{type:"text",value:o,onChange:E=>c(E.target.value),placeholder:"Resolved: The United States should...",className:"input-field"})]})]}),s.jsxs("div",{className:"flex-1 glass-card flex flex-col p-0 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50",children:s.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Board Images & Notes"})}),s.jsxs("div",{className:"flex-1 p-4 overflow-y-auto custom-scrollbar space-y-4",children:[f.length>0&&s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:f.map(E=>s.jsxs("div",{className:"relative group aspect-video bg-slate-800 rounded-lg overflow-hidden border border-slate-700",children:[s.jsx("img",{src:E.url,alt:"Board",className:"w-full h-full object-cover"}),s.jsx("button",{onClick:()=>C(E.id),className:"absolute top-1 right-1 p-1 bg-red-500/80 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(rn,{className:"w-3 h-3"})})]},E.id))}),s.jsxs("div",{onClick:()=>X.current?.click(),className:"border-2 border-dashed border-slate-700 rounded-xl p-8 flex flex-col items-center justify-center text-slate-500 hover:border-primary hover:text-primary hover:bg-primary/5 transition-all cursor-pointer",children:[s.jsx(yd,{className:"w-8 h-8 mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Click to upload images"}),s.jsx("span",{className:"text-xs opacity-70",children:"Max 4MB per file"}),s.jsx("input",{type:"file",ref:X,onChange:O,multiple:!0,accept:"image/*",className:"hidden"})]}),s.jsx("textarea",{value:d,onChange:E=>m(E.target.value),placeholder:"Add any specific notes or questions about the flow...",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg p-3 text-sm text-text-primary focus:outline-none focus:border-primary resize-none h-24"})]}),s.jsxs("div",{className:"p-4 border-t border-slate-700/50 bg-slate-900/50 flex justify-between items-center",children:[s.jsxs("span",{className:"text-xs text-text-muted",children:[f.length," images"]}),s.jsxs("button",{onClick:M,disabled:b,className:"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[b?s.jsx(qr,{className:"w-4 h-4 animate-spin"}):s.jsx(bd,{className:"w-4 h-4"}),b?"Analyzing...":"Evaluate Board"]})]})]}),I&&s.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-2 text-red-400 text-sm",children:[s.jsx(qn,{className:"w-4 h-4"}),I]})]}),s.jsxs("div",{className:"w-full lg:w-1/2 glass-card overflow-hidden flex flex-col p-0",children:[s.jsxs("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50 flex justify-between items-center",children:[s.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[s.jsx(Lm,{className:"w-4 h-4 text-primary"}),"Evaluation"]}),w&&s.jsxs("div",{className:"flex items-center gap-2",children:[$&&s.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1",children:[s.jsx(Ya,{className:"w-3 h-3"})," Saved"]}),s.jsx("button",{onClick:z,className:"text-text-secondary hover:text-white transition-colors",title:"Copy to clipboard",children:L?s.jsx(Ci,{className:"w-4 h-4 text-green-500"}):s.jsx(Js,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:w?s.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-cyan-400 prose-a:text-accent prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-2 prose-td:p-2 prose-th:bg-slate-800/50",children:s.jsx(Tc,{remarkPlugins:[Cc],children:w})}):s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-text-muted opacity-50",children:[s.jsx(Lm,{className:"w-16 h-16 mb-4"}),s.jsx("p",{children:"Upload board images and click Evaluate."})]})})]})]})},Vz=({analyser:t,isRecording:e})=>{const n=T.useRef(null);return T.useEffect(()=>{if(!t||!e||!n.current)return;const a=n.current,r=a.getContext("2d"),o=t.frequencyBinCount,c=new Uint8Array(o);let d;const m=()=>{d=requestAnimationFrame(m),t.getByteFrequencyData(c),r.clearRect(0,0,a.width,a.height);const f=a.width/o*2.5;let g,b=0;for(let v=0;v<o;v++){g=c[v]/2;const w=r.createLinearGradient(0,a.height,0,0);w.addColorStop(0,"#06b6d4"),w.addColorStop(1,"#8b5cf6"),r.fillStyle=w,r.fillRect(b,a.height-g,f,g),b+=f+1}};return m(),()=>cancelAnimationFrame(d)},[t,e]),e?s.jsx("canvas",{ref:n,width:300,height:100,className:"w-full h-24 rounded-lg bg-slate-900/50"}):s.jsx("div",{className:"w-full h-24 bg-slate-900/50 rounded-lg flex items-center justify-center text-slate-700 text-xs",children:"Visualizer Ready"})},Uz=({analyser:t,isRecording:e})=>{const[n,a]=T.useState({volume:0,brightness:0}),[r,o]=T.useState({label:"Ready",color:"text-slate-500"}),c=T.useRef({volume:0,brightness:0});return T.useEffect(()=>{if(!t||!e)return;const d=t.frequencyBinCount,m=new Uint8Array(d),f=new Uint8Array(t.fftSize);let g;const b=()=>{t.getByteFrequencyData(m),t.getByteTimeDomainData(f);let v=0;for(let q=0;q<f.length;q++){const X=(f[q]-128)/128;v+=X*X}const w=Math.sqrt(v/f.length);let j=0,I=0;for(let q=0;q<d;q++)j+=q*m[q],I+=m[q];const D=I===0?0:j/I/d,L=.15;c.current.volume=c.current.volume*(1-L)+w*L,c.current.brightness=c.current.brightness*(1-L)+D*L;const{volume:R,brightness:$}=c.current;a({volume:R,brightness:$}),R<.01?o({label:"Listening...",color:"text-slate-500"}):R<.05?o({label:"Too Quiet",color:"text-amber-500"}):R>.6?o({label:"Too Loud",color:"text-red-500"}):$>.5?o({label:"Urgent / Intense",color:"text-orange-500"}):$<.2?o({label:"Serious",color:"text-indigo-500"}):o({label:"Balanced",color:"text-green-500"}),g=requestAnimationFrame(b)};return b(),()=>cancelAnimationFrame(g)},[t,e]),e?s.jsxs("div",{className:"flex flex-col items-center space-y-2 mt-4 animate-in fade-in",children:[s.jsx("div",{className:`text-lg font-bold ${r.color} transition-colors duration-300`,children:r.label}),s.jsxs("div",{className:"flex space-x-4 text-xs text-slate-400",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"h-16 w-4 bg-slate-800 rounded-full overflow-hidden relative",children:s.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-cyan-500 transition-all duration-100",style:{height:`${Math.min(n.volume*200,100)}%`}})}),s.jsx("span",{className:"mt-1",children:"Vol"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"h-16 w-4 bg-slate-800 rounded-full overflow-hidden relative",children:s.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-purple-500 transition-all duration-100",style:{height:`${Math.min(n.brightness*300,100)}%`}})}),s.jsx("span",{className:"mt-1",children:"Tone"})]})]})]}):null},zz=({apiKey:t})=>{const[e,n]=T.useState("Public Forum (PF)"),[a,r]=T.useState("Pro/Affirmative"),[o,c]=T.useState(""),[d,m]=T.useState(!1),[f,g]=T.useState(0),[b,v]=T.useState(null),[w,j]=T.useState(null),[I,D]=T.useState(null),[L,R]=T.useState(!1),[$,q]=T.useState(null),[X,G]=T.useState(""),[k,A]=T.useState(!1),[O,C]=T.useState(!1),{addSession:M}=Yl(),z=T.useRef(null),E=T.useRef(null),J=T.useRef([]),K=T.useRef(null),H=T.useRef(null),Z=Br(e),le=Ce=>{n(Ce);const Me=Br(Ce);Me.includes(a)||r(Me[0])},ye=Ce=>{const Me=Math.floor(Ce/60),et=Ce%60;return`${Me}:${et<10?"0":""}${et}`},B=async()=>{G("");try{const Ce=await navigator.mediaDevices.getUserMedia({audio:!0});H.current=Ce;const Me=new(window.AudioContext||window.webkitAudioContext),et=Me.createAnalyser();Me.createMediaStreamSource(Ce).connect(et),et.fftSize=256,K.current=Me,D(et),z.current=new MediaRecorder(Ce),J.current=[],z.current.ondataavailable=ht=>{ht.data.size>0&&J.current.push(ht.data)},z.current.onstop=()=>{const ht=new Blob(J.current,{type:"audio/webm"});v(ht);const Vt=new FileReader;Vt.readAsDataURL(ht),Vt.onloadend=()=>{const Nt=Vt.result.split(",")[1];j({raw:Nt,mimeType:ht.type})},H.current&&H.current.getTracks().forEach(Nt=>Nt.stop()),K.current&&(K.current.close(),K.current=null,D(null))},z.current.start(),m(!0),g(0),j(null),v(null),q(null),E.current=setInterval(()=>g(ht=>ht+1),1e3)}catch(Ce){G("Could not access microphone. Ensure permissions are granted."),console.error(Ce)}},ce=()=>{z.current&&d&&(z.current.stop(),m(!1),clearInterval(E.current))},be=()=>{j(null),v(null),g(0),q(null),G("")},F=async()=>{if(!t){G("Please enter a valid Gemini API Key in Settings.");return}if(!w){G("Please record audio first.");return}R(!0),G(""),q(null);try{const Me=new Vi(t).getGenerativeModel({model:"gemini-2.5-flash"}),et=`
        Expert Speech Coach. Listen to audio. 
        Context: ${e}, ${a}, Topic: ${o}. 
        Evaluate: 
        1. Vocal Delivery (Pace, Tone, Fluency, Emotion). 
        2. Content (Clarity, Persuasion). 
        3. Score (0-100).
        
        Please provide the output in the following Markdown format:
        ## Executive Summary
        (Brief overview)

        ## Scorecard
        | Category | Score (0-10) | Notes |
        | --- | --- | --- |
        | Vocal Delivery | | |
        | Content | | |
        | Persuasion | | |
        | **Total** | **(Sum)** | |

        ## Detailed Feedback
        ...
      `,Et={inlineData:{data:w.raw,mimeType:w.mimeType}},Nt=(await(await Me.generateContent([et,Et])).response).text();q(Nt),M({type:"coach",title:o||"Live Coaching Session",input:{duration:ye(f)},result:Nt,metadata:{speechType:e,side:a,topic:o,recordingDuration:f}}),C(!0),setTimeout(()=>C(!1),2e3)}catch(Ce){console.error("Gemini Error:",Ce),G(`Error: ${Ce.message}. Please try again.`)}finally{R(!1)}},ke=()=>{$&&(navigator.clipboard.writeText($),A(!0),setTimeout(()=>A(!1),2e3))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Live Coaching"}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Record and analyze your speech in real-time"})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[s.jsxs("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Format"}),s.jsx("select",{value:e,onChange:Ce=>le(Ce.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all",children:Object.entries(t0).map(([Ce,Me])=>s.jsx("optgroup",{label:Ce,children:Me.map(et=>s.jsx("option",{value:et,children:et},et))},Ce))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Side"}),s.jsx("select",{value:a,onChange:Ce=>r(Ce.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all",children:Z.map(Ce=>s.jsx("option",{value:Ce,children:Ce},Ce))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Topic"}),s.jsx("input",{type:"text",value:o,onChange:Ce=>c(Ce.target.value),placeholder:"Topic or Resolution...",className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all"})]})]}),s.jsxs("div",{className:"flex-1 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[s.jsx("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50",children:s.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Live Recording"})}),s.jsxs("div",{className:"flex-1 p-8 flex flex-col items-center justify-center space-y-8",children:[s.jsx("div",{className:`text-6xl font-mono font-bold tracking-tighter ${d?"text-red-500 animate-pulse":"text-white"}`,children:ye(f)}),s.jsxs("div",{className:"w-full max-w-md",children:[s.jsx(Vz,{analyser:I,isRecording:d}),s.jsx(Uz,{analyser:I,isRecording:d})]}),s.jsx("div",{className:"flex items-center gap-4",children:d?s.jsx("button",{onClick:ce,className:"w-20 h-20 rounded-full bg-slate-700 hover:bg-slate-600 flex items-center justify-center shadow-lg transition-all hover:scale-110 active:scale-95",children:s.jsx(a5,{className:"w-6 h-6 text-white fill-current"})}):s.jsx("button",{onClick:B,className:"w-20 h-20 rounded-full bg-gradient-to-br from-red-500 to-red-600 hover:from-red-400 hover:to-red-500 flex items-center justify-center shadow-lg shadow-red-500/30 transition-all hover:scale-110 active:scale-95",children:s.jsx(Ws,{className:"w-8 h-8 text-white"})})}),b&&!d&&s.jsxs("div",{className:"flex items-center gap-4 animate-in fade-in",children:[s.jsx("audio",{controls:!0,src:URL.createObjectURL(b),className:"h-12 rounded-xl"}),s.jsx("button",{onClick:be,className:"p-3 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(Ai,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"p-4 border-t border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-500 font-medium",children:b?"Audio recorded":"Ready to record"}),s.jsxs("button",{onClick:F,disabled:L||!w,className:"px-6 py-2.5 rounded-xl bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold shadow-lg shadow-purple-500/25 hover:shadow-purple-500/40 hover:scale-[1.02] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center gap-2",children:[L?s.jsx(qr,{className:"w-4 h-4 animate-spin"}):s.jsx(_i,{className:"w-4 h-4"}),L?"Analyzing...":"Analyze Audio"]})]})]}),X&&s.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 text-red-400",children:[s.jsx(qn,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:X})]})]}),s.jsxs("div",{className:"w-full lg:w-1/2 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx(_i,{className:"w-5 h-5 text-purple-400"}),"Coaching Feedback"]}),$&&s.jsxs("div",{className:"flex items-center gap-3",children:[O&&s.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1 font-medium",children:[s.jsx(Ya,{className:"w-3 h-3"})," Saved"]}),s.jsx("button",{onClick:ke,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Copy to clipboard",children:k?s.jsx(Ci,{className:"w-4 h-4 text-emerald-500"}):s.jsx(Js,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:$?s.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-purple-400 prose-headings:font-semibold prose-a:text-purple-400 prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-3 prose-td:p-3 prose-th:bg-slate-800/50 prose-th:text-left",children:s.jsx(Tc,{remarkPlugins:[Cc],children:$})}):s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 py-16",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:s.jsx(Ws,{className:"w-8 h-8"})}),s.jsx("p",{className:"text-center max-w-xs",children:"Record your speech and click Analyze to get AI coaching feedback."})]})})]})]})]})},Fz=({apiKey:t})=>{const[e,n]=T.useState("DX"),[a,r]=T.useState("Medium"),[o,c]=T.useState(""),[d,m]=T.useState(!1),[f,g]=T.useState(""),[b,v]=T.useState(!1),[w,j]=T.useState(!1),{addSession:I}=Yl(),D=async()=>{if(!t){g("Please enter a valid Gemini API Key in Settings.");return}m(!0),c(""),g("");try{const $=new Vi(t).getGenerativeModel({model:"gemini-2.5-flash"}),q=`Generate a single ${a} difficulty Extemporaneous Speaking question for the category ${e==="DX"?"United States Domestic Extemp (DX)":"International Extemp (NX)"}. The question should be current, relevant to 2024-2025 events, and formatted as a question. Do not include any other text.`,A=(await(await $.generateContent(q)).response).text().trim().replace(/^"|"$/g,"");c(A),I({type:"extemp",title:`${e} Question - ${a}`,input:{question:A},result:A,metadata:{category:e,difficulty:a}}),j(!0),setTimeout(()=>j(!1),2e3)}catch(R){console.error("Gemini Error:",R);try{const q=new Vi(t).getGenerativeModel({model:"gemini-2.5-flash"});g(`Error: ${R.message}. Please try again.`)}catch{g(`Error: ${R.message}`)}}finally{m(!1)}},L=()=>{o&&(navigator.clipboard.writeText(o),v(!0),setTimeout(()=>v(!1),2e3))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Extemp Generator"}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Generate practice questions for extemporaneous speaking"})]}),s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs("div",{className:"p-8 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Category"}),s.jsxs("div",{className:"flex bg-slate-900/50 rounded-xl p-1 border border-slate-800",children:[s.jsx("button",{onClick:()=>n("DX"),className:`px-5 py-2.5 rounded-lg text-sm font-medium transition-all ${e==="DX"?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:"Domestic (DX)"}),s.jsx("button",{onClick:()=>n("NX"),className:`px-5 py-2.5 rounded-lg text-sm font-medium transition-all ${e==="NX"?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:"International (NX)"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Difficulty Level"}),s.jsx("div",{className:"grid grid-cols-3 gap-4",children:["Easy","Medium","Hard"].map(R=>s.jsx("button",{onClick:()=>r(R),className:`py-4 rounded-xl border transition-all font-medium ${a===R?"bg-cyan-500/10 border-cyan-500/30 text-cyan-400 shadow-lg shadow-cyan-500/10":"bg-slate-900/30 border-slate-800 text-slate-400 hover:border-slate-700 hover:bg-slate-800/50"}`,children:R},R))})]}),s.jsxs("button",{onClick:D,disabled:d,className:"w-full py-4 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white text-lg font-semibold shadow-lg shadow-cyan-500/25 hover:shadow-cyan-500/40 hover:scale-[1.01] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center gap-3",children:[d?s.jsx(qr,{className:"w-6 h-6 animate-spin"}):s.jsx(Ju,{className:"w-6 h-6"}),d?"Generating Question...":"Generate New Question"]}),f&&s.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 text-red-400",children:[s.jsx(qn,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:f})]}),o&&s.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4",children:s.jsxs("div",{className:"bg-slate-900/80 border border-slate-700 rounded-2xl p-8 relative group",children:[s.jsxs("p",{className:"text-xl md:text-2xl font-serif text-center text-white leading-relaxed",children:['"',o,'"']}),s.jsx("button",{onClick:L,className:"absolute top-4 right-4 p-2.5 text-slate-400 hover:text-white bg-slate-800/50 hover:bg-slate-700 rounded-xl transition-all opacity-0 group-hover:opacity-100",title:"Copy to clipboard",children:b?s.jsx(Ci,{className:"w-5 h-5 text-emerald-500"}):s.jsx(Js,{className:"w-5 h-5"})}),w&&s.jsxs("span",{className:"absolute top-4 left-4 text-xs text-emerald-400 flex items-center gap-1 bg-emerald-500/10 px-3 py-1.5 rounded-lg font-medium",children:[s.jsx(Ya,{className:"w-3 h-3"})," Saved to history"]})]})})]})})]})},Bz=({apiKey:t})=>{const e=T.useMemo(()=>tz.filter(E=>uc[E]===Ie.DEBATE||uc[E]===Ie.CONGRESS),[]),n=T.useMemo(()=>{const E={};return Object.entries(t0).forEach(([J,K])=>{const H=K.filter(Z=>e.includes(Z));H.length>0&&(E[J]=H)}),E},[e]),[a,r]=T.useState(e[0]||"Public Forum (PF)"),[o,c]=T.useState("Pro/Affirmative"),[d,m]=T.useState(""),[f,g]=T.useState(""),[b,v]=T.useState("comprehensive"),[w,j]=T.useState(!1),[I,D]=T.useState(null),[L,R]=T.useState(""),[$,q]=T.useState(!1),[X,G]=T.useState(!1),{addSession:k}=Yl(),A=T.useMemo(()=>Br(a),[a]),O=E=>{r(E);const J=Br(E);J.includes(o)||c(J[0])},C=[{id:"comprehensive",label:"Full Strategy",icon:Bt,description:"Complete debate strategy with arguments, rebuttals, and flow"},{id:"arguments",label:"Argument Builder",icon:$r,description:"Focus on constructing strong arguments"},{id:"rebuttals",label:"Rebuttal Prep",icon:Ii,description:"Anticipate and counter opponent arguments"},{id:"crossfire",label:"Cross-Ex Prep",icon:wk,description:"Strategic questions and responses"}],M=async()=>{if(!t){R("Please enter a valid Gemini API Key in Settings.");return}if(!d.trim()){R("Please enter the debate topic or resolution.");return}j(!0),R(""),D(null);try{const J=new Vi(t).getGenerativeModel({model:"gemini-2.5-flash"}),K={comprehensive:`You are an expert Debate Coach preparing a student for a ${a} debate.

**Topic/Resolution:** ${d}
**Side:** ${o}
${f?`**Additional Context:** ${f}`:""}

Generate a COMPREHENSIVE DEBATE STRATEGY. Include:

##  Strategic Overview
A brief (2-3 sentence) overview of the best approach for this position.

##  Core Framework
The central theme/value/criterion that should anchor all arguments.

##  Main Arguments (3-4)
For each argument provide:
### Argument 1: [Compelling Title]
- **Claim**: The main assertion (1 sentence)
- **Warrant**: The logical reasoning (2-3 sentences)
- **Impact**: Why this matters - include magnitude, timeframe, probability
- **Evidence Needed**: Specific types of sources/data to find
- **Tag Line**: A memorable 5-7 word summary

##  Anticipated Opponent Arguments
For the top 3 likely opponent arguments:
### Counter to: [Their Argument]
- **Their likely claim**: What they'll say
- **Your response strategy**: How to refute it
- **Turn potential**: Can you flip this to your advantage?

##  Cross-Examination Strategy
### Questions to Ask
1. [Strategic question with goal]
2. [Strategic question with goal]
3. [Strategic question with goal]

### Likely Questions You'll Face
- [Question]  [Prepared response]
- [Question]  [Prepared response]

##  Flow Visualization
\`\`\`

                      ${o.toUpperCase()} FLOW                 

 CONSTRUCTIVE  REBUTTAL      SUMMARY       FINAL FOCUS       

 [Arg 1]      [Extend]     [Voters]     [Key takeaway]       

 [Arg 2]      [Respond]    [Weigh]      [Emotional close]    

\`\`\`

##  Time Allocation
| Speech | Time | Focus |
|--------|------|-------|
| Constructive | X min | ... |
| Rebuttal | X min | ... |
| Summary | X min | ... |
| Final Focus | X min | ... |

##  Win Conditions
The 2-3 things that MUST happen to win this round:
1. ...
2. ...
3. ...

##  Power Phrases
5 memorable phrases to use during the round:
1. "..."
2. "..."
3. "..."
4. "..."
5. "..."
`,arguments:`You are an expert Debate Coach specializing in argument construction for ${a}.

**Topic/Resolution:** ${d}
**Side:** ${o}
${f?`**Additional Context:** ${f}`:""}

Generate 4-5 STRONG ARGUMENTS for this position:

## Argument Analysis Framework

For EACH argument, provide:

###  Argument [N]: [Compelling Title]

#### The Claim
A clear, assertive 1-sentence statement.

#### Logical Structure
- **Premise 1**: ...
- **Premise 2**: ...
- **Conclusion**: ...

#### Warrant Deep-Dive
Explain the logical reasoning in 3-4 sentences. Why does the claim follow from the evidence?

#### Impact Calculus
| Factor | Assessment |
|--------|------------|
| **Magnitude** | How big is the impact? |
| **Probability** | How likely? |
| **Timeframe** | When does it occur? |
| **Reversibility** | Can it be undone? |

#### Evidence Guide
- **Statistics needed**: ...
- **Expert quotes**: Types of experts to cite
- **Case studies**: Historical/current examples to find
- **Logical backing**: Philosophical/theoretical support

#### Delivery Tips
- Opening hook: "..."
- Key transition phrases
- Powerful conclusion line

#### Vulnerability Analysis
- Weakest point of this argument
- How opponents might attack
- Pre-emptive defense strategy

---

## Argument Hierarchy
Rank arguments by strength and when to deploy them:
1. **Strongest** (Lead with this): Argument X
2. **Most Emotional** (Final Focus): Argument Y
3. **Technical** (For experienced judges): Argument Z
`,rebuttals:`You are an expert Debate Coach specializing in rebuttal strategy for ${a}.

**Topic/Resolution:** ${d}
**Your Side:** ${o}
**Opponent's Side:** ${o.includes("Affirmative")||o.includes("Pro")?"Opposition/Negative":"Proposition/Affirmative"}
${f?`**Additional Context:** ${f}`:""}

Generate a COMPREHENSIVE REBUTTAL PREPARATION guide:

##  Opponent Argument Predictions

### Predicted Argument 1: [Title]
**What they'll likely say:**
> [Their argument in their words]

**Why this is flawed:**
- Logical flaw: ...
- Evidence problem: ...
- Impact overreach: ...

**Your Rebuttal Response:**
"[Exact words to say - 30-45 seconds]"

**The Turn (flip it to your advantage):**
"Actually, this argument supports OUR side because..."

---

### Predicted Argument 2: [Title]
[Same structure]

---

### Predicted Argument 3: [Title]
[Same structure]

---

##  Defense Blocks

### If They Attack Your [Argument 1]:
**Their likely attack:** ...
**Your defense:** "[30-second response]"

### If They Attack Your [Argument 2]:
**Their likely attack:** ...
**Your defense:** "[30-second response]"

##  Quick-Fire Responses
One-liner responses to common attacks:

| If they say... | You respond... |
|----------------|----------------|
| "..." | "..." |
| "..." | "..." |
| "..." | "..." |

##  Weighing Mechanisms
How to compare impacts when both sides have valid points:

### Magnitude Weighing
"Even if they win X, our impact of Y is larger because..."

### Probability Weighing
"Their impact is speculative, while ours is empirically proven..."

### Timeframe Weighing
"Their impact is long-term and uncertain, our harm is happening now..."

##  Kill Shots
Arguments that completely devastate common opponent positions:

1. **Against [common position]:** ...
2. **Against [common position]:** ...
`,crossfire:`You are an expert Debate Coach specializing in Cross-Examination/Crossfire strategy for ${a}.

**Topic/Resolution:** ${d}
**Your Side:** ${o}
${f?`**Additional Context:** ${f}`:""}

Generate a COMPREHENSIVE CROSS-EXAMINATION STRATEGY:

##  Your Questioning Strategy

### Goal-Oriented Questions
Each question should serve a strategic purpose:

#### Setup Questions (Establish facts)
1. **Question:** "..."
   - **Goal:** Get them to admit X
   - **Follow-up if yes:** "..."
   - **Follow-up if no:** "..."

2. **Question:** "..."
   - **Goal:** ...

#### Trap Questions (Expose contradictions)
1. **Question:** "..."
   - **The trap:** If they say X, point out Y
   - **Delivery:** Stay calm, don't telegraph

2. **Question:** "..."
   - **The trap:** ...

#### Concession Questions (Get admissions)
1. **Question:** "..."
   - **Looking for:** Them to admit your framing
   - **Use in later speeches:** "They agreed that..."

### Question Sequences
**To undermine their Argument 1:**
1. First ask: "..."
2. Then: "..."
3. Finish with: "..."

**To support your Argument 1:**
1. First ask: "..."
2. Then: "..."
3. Finish with: "..."

##  Defending in Cross-Ex

### Likely Questions You'll Face
| Their Question | Your Response Strategy |
|----------------|----------------------|
| "..." | [Don't concede X, instead say...] |
| "..." | [Bridge to your argument...] |
| "..." | [Ask for clarification to buy time...] |

### Deflection Techniques
- **"That's not the right framing..."** then reframe
- **"The real question is..."** pivot to your ground
- **"We can discuss that, but first..."** delay and redirect

### Trap Avoidance
Common traps and how to spot/avoid them:
1. **The false dichotomy:** They present only two options. Response: "Those aren't the only options..."
2. **The hypothetical spiral:** They create unrealistic scenarios. Response: "In the real world..."
3. **The quote trap:** They try to get quotable admissions. Response: "What I'm saying is..." (reframe)

##  Power Moves

### Taking Control
- "Let me finish this point..."
- "That's a different question, I'm asking about..."
- "With respect, that doesn't answer the question..."

### Memorable Moments
Crossfire zingers (use sparingly):
- "So you're agreeing with us that..."
- "If that's true, then your entire case falls apart..."
- "You've just proven our point..."

##  Time Management
| Phase | Your Goals |
|-------|------------|
| First 30 sec | Establish one key admission |
| Middle | Build your trap sequence |
| Final 30 sec | Land your strongest point |
`},le=(await(await J.generateContent(K[b])).response).text();D(le),k({type:"strategy",title:`${C.find(ye=>ye.id===b)?.label}: ${d.substring(0,50)}`,input:{topic:d,context:f},result:le,metadata:{speechType:a,side:o,topic:d,strategyType:b}}),G(!0),setTimeout(()=>G(!1),2e3)}catch(E){console.error("Gemini Error:",E),R(`Error: ${E.message}. Please try again.`)}finally{j(!1)}},z=()=>{I&&(navigator.clipboard.writeText(I),q(!0),setTimeout(()=>q(!1),2e3))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Strategy Generator"}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Build winning debate strategies with AI"})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[s.jsxs("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Debate Format"}),s.jsx("select",{value:a,onChange:E=>O(E.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-all",children:Object.entries(n).map(([E,J])=>s.jsx("optgroup",{label:E,children:J.map(K=>s.jsx("option",{value:K,children:K},K))},E))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Side"}),s.jsx("select",{value:o,onChange:E=>c(E.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-all",children:A.map(E=>s.jsx("option",{value:E,children:E},E))})]})]}),s.jsx("div",{className:"p-4 rounded-xl bg-blue-500/10 border border-blue-500/20",children:s.jsxs("div",{className:"flex items-center gap-3 text-blue-400 text-sm",children:[s.jsx(hc,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{children:"Strategy Generator is optimized for all NSDA debate formats including Congressional, Parli, and World Schools."})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Topic / Resolution"}),s.jsx("input",{type:"text",value:d,onChange:E=>m(E.target.value),placeholder:"Resolved: The United States should substantially increase...",className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-all"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:["Additional Context ",s.jsx("span",{className:"text-slate-600",children:"(optional)"})]}),s.jsx("textarea",{value:f,onChange:E=>g(E.target.value),placeholder:"E.g., specific arguments you want to focus on, your opponent's known style...",className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-all resize-none h-24"})]})]}),s.jsxs("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-4",children:"Strategy Type"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:C.map(E=>{const J=E.icon;return s.jsxs("button",{onClick:()=>v(E.id),className:`p-4 rounded-xl border text-left transition-all ${b===E.id?"bg-orange-500/10 border-orange-500/30 shadow-lg shadow-orange-500/10":"bg-slate-900/30 border-slate-800 hover:border-slate-700 hover:bg-slate-800/50"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(J,{className:`w-5 h-5 ${b===E.id?"text-orange-400":"text-slate-500"}`}),s.jsx("span",{className:`font-medium ${b===E.id?"text-white":"text-slate-400"}`,children:E.label})]}),s.jsx("p",{className:"text-xs text-slate-500",children:E.description})]},E.id)})})]}),s.jsx("button",{onClick:M,disabled:w||!d.trim(),className:"w-full py-4 rounded-xl bg-gradient-to-r from-orange-500 to-red-500 text-white text-lg font-semibold shadow-lg shadow-orange-500/25 hover:shadow-orange-500/40 hover:scale-[1.01] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center gap-3",children:w?s.jsxs(s.Fragment,{children:[s.jsx(qr,{className:"w-5 h-5 animate-spin"}),"Generating Strategy..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ys,{className:"w-5 h-5"}),"Generate Strategy"]})}),L&&s.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 text-red-400",children:[s.jsx(qn,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:L})]})]}),s.jsxs("div",{className:"w-full lg:w-1/2 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx(Ti,{className:"w-5 h-5 text-orange-400"}),"Strategy Playbook"]}),I&&s.jsxs("div",{className:"flex items-center gap-3",children:[X&&s.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1 font-medium",children:[s.jsx(Ya,{className:"w-3 h-3"})," Saved"]}),s.jsx("button",{onClick:z,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Copy to clipboard",children:$?s.jsx(Ci,{className:"w-4 h-4 text-emerald-500"}):s.jsx(Js,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:I?s.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-orange-400 prose-headings:font-semibold prose-a:text-orange-400 prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-3 prose-td:p-3 prose-th:bg-slate-800/50 prose-th:text-left prose-code:bg-slate-800 prose-code:px-1.5 prose-code:rounded prose-pre:bg-slate-900 prose-pre:border prose-pre:border-slate-700 prose-blockquote:border-l-orange-500 prose-blockquote:bg-slate-900/50 prose-blockquote:py-1",children:s.jsx(Tc,{remarkPlugins:[Cc],children:I})}):s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 py-16",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:s.jsx(Bt,{className:"w-8 h-8"})}),s.jsx("p",{className:"text-center max-w-xs",children:"Enter your debate topic and select a strategy type to generate your personalized playbook."})]})})]})]})]})},uf={judge:{icon:bs,label:"Speech Analysis",color:"text-cyan-400",bg:"bg-cyan-500/10 border-cyan-500/20"},board:{icon:Lm,label:"Board Evaluation",color:"text-purple-400",bg:"bg-purple-500/10 border-purple-500/20"},coach:{icon:Ws,label:"Live Coaching",color:"text-emerald-400",bg:"bg-emerald-500/10 border-emerald-500/20"},strategy:{icon:Bt,label:"Strategy",color:"text-orange-400",bg:"bg-orange-500/10 border-orange-500/20"},extemp:{icon:Mx,label:"Extemp Question",color:"text-amber-400",bg:"bg-amber-500/10 border-amber-500/20"},tone:{icon:Dl,label:"Tone Analysis",color:"text-pink-400",bg:"bg-pink-500/10 border-pink-500/20"}},$z=({session:t,onView:e,onDelete:n})=>{const[a,r]=T.useState(!1),o=uf[t.type]||uf.judge,c=o.icon;return s.jsxs("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden group",children:[s.jsx("div",{className:"p-4 cursor-pointer hover:bg-slate-800/30 transition-colors",onClick:()=>r(!a),children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-2.5 rounded-xl border ${o.bg}`,children:s.jsx(c,{className:`w-5 h-5 ${o.color}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-lg ${o.bg} ${o.color}`,children:o.label}),t.metadata?.speechType&&s.jsx("span",{className:"text-xs text-slate-500",children:t.metadata.speechType})]}),s.jsx("h3",{className:"font-medium text-white truncate",children:t.title||t.metadata?.topic||"Untitled Session"}),s.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-slate-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ks,{className:"w-3 h-3"}),$_(t.createdAt)]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Zt,{className:"w-3 h-3"}),Pz(t.createdAt)]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:d=>{d.stopPropagation(),n(t.id)},className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:"Delete session",children:s.jsx(Gn,{className:"w-4 h-4"})}),a?s.jsx(Ga,{className:"w-5 h-5 text-slate-500"}):s.jsx(on,{className:"w-5 h-5 text-slate-500"})]})]})}),a&&s.jsxs("div",{className:"border-t border-slate-800/60 p-4 animate-in slide-in-from-top-2",children:[t.metadata&&s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[t.metadata.side&&s.jsx("span",{className:"text-xs px-2.5 py-1 bg-slate-800/50 rounded-lg text-slate-400 border border-slate-700/50",children:t.metadata.side}),t.metadata.difficulty&&s.jsxs("span",{className:"text-xs px-2.5 py-1 bg-slate-800/50 rounded-lg text-slate-400 border border-slate-700/50",children:[t.metadata.difficulty," difficulty"]})]}),s.jsx("div",{className:"bg-slate-900/50 rounded-xl p-4 max-h-[400px] overflow-y-auto border border-slate-800/50",children:s.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-cyan-400 prose-headings:font-semibold prose-a:text-cyan-400 prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-3 prose-td:p-3 prose-th:bg-slate-800/50",children:s.jsx(Tc,{remarkPlugins:[Cc],children:t.result||"No analysis result available"})})}),t.type==="extemp"&&t.input?.question&&s.jsxs("div",{className:"mt-4 p-4 bg-slate-800/30 rounded-xl border border-slate-700/50",children:[s.jsx("h4",{className:"text-xs font-medium text-slate-500 mb-2",children:"Generated Question"}),s.jsxs("p",{className:"text-white font-serif text-lg",children:['"',t.input.question,'"']})]})]})]})},qz=()=>{const{history:t,isLoading:e,stats:n,deleteSession:a,clearHistory:r,exportHistory:o,importHistory:c}=Yl(),[d,m]=T.useState(""),[f,g]=T.useState("all"),[b,v]=T.useState(!1),[w,j]=T.useState(null),I=Ix.useRef(null),D=t.filter(R=>{const $=f==="all"||R.type===f,q=!d||R.title?.toLowerCase().includes(d.toLowerCase())||R.metadata?.topic?.toLowerCase().includes(d.toLowerCase())||R.result?.toLowerCase().includes(d.toLowerCase());return $&&q}),L=async R=>{const $=R.target.files?.[0];if($){const q=await c($);j(q),setTimeout(()=>j(null),3e3),I.current&&(I.current.value="")}};return e?s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Session History"}),s.jsxs("p",{className:"text-slate-400 mt-1",children:[n.total," ",n.total===1?"session":"sessions"," recorded"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:o,disabled:t.length===0,className:"p-2.5 text-slate-400 hover:text-white hover:bg-slate-800 rounded-xl transition-colors disabled:opacity-50 border border-slate-800",title:"Export history",children:s.jsx(dc,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>I.current?.click(),className:"p-2.5 text-slate-400 hover:text-white hover:bg-slate-800 rounded-xl transition-colors border border-slate-800",title:"Import history",children:s.jsx(yd,{className:"w-5 h-5"})}),s.jsx("input",{ref:I,type:"file",accept:".json",onChange:L,className:"hidden"}),t.length>0&&s.jsx("button",{onClick:()=>v(!0),className:"p-2.5 text-slate-400 hover:text-red-400 hover:bg-red-500/10 rounded-xl transition-colors border border-slate-800",title:"Clear all history",children:s.jsx(Gn,{className:"w-5 h-5"})})]})]}),w&&s.jsx("div",{className:`p-4 rounded-xl flex items-center gap-3 text-sm animate-in fade-in ${w.success?"bg-emerald-500/10 border border-emerald-500/20 text-emerald-400":"bg-red-500/10 border border-red-500/20 text-red-400"}`,children:w.success?s.jsxs(s.Fragment,{children:[s.jsx(Ci,{className:"w-5 h-5"}),"Imported ",w.count," sessions successfully"]}):s.jsxs(s.Fragment,{children:[s.jsx(qn,{className:"w-5 h-5"}),"Import failed: ",w.error]})}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:Object.entries(uf).map(([R,$])=>{const q=$.icon,X=n.byType[R]||0;return s.jsx("button",{onClick:()=>g(f===R?"all":R),className:`p-4 rounded-xl border text-left transition-all ${f===R?"border-cyan-500/30 bg-cyan-500/10 shadow-lg shadow-cyan-500/10":"border-slate-800/60 bg-slate-900/30 hover:bg-slate-800/30 hover:border-slate-700"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(q,{className:`w-5 h-5 ${$.color}`}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xl font-bold text-white",children:X}),s.jsx("div",{className:"text-xs text-slate-500",children:$.label})]})]})},R)})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(ki,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),s.jsx("input",{type:"text",value:d,onChange:R=>m(R.target.value),placeholder:"Search sessions...",className:"w-full pl-11 pr-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all"})]}),s.jsxs("select",{value:f,onChange:R=>g(R.target.value),className:"px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all w-full sm:w-48",children:[s.jsx("option",{value:"all",children:"All Types"}),Object.entries(uf).map(([R,$])=>s.jsx("option",{value:R,children:$.label},R))]})]}),D.length>0?s.jsx("div",{className:"space-y-4",children:D.map(R=>s.jsx($z,{session:R,onDelete:a},R.id))}):s.jsx("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm flex flex-col items-center justify-center min-h-[40vh] text-center p-8",children:t.length===0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:s.jsx(Ya,{className:"w-8 h-8 text-slate-600"})}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Sessions Yet"}),s.jsx("p",{className:"text-slate-500 max-w-md",children:"Your analysis sessions will appear here. Try analyzing a speech, using the live coach, or generating a strategy to get started!"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:s.jsx(ki,{className:"w-8 h-8 text-slate-600"})}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Results Found"}),s.jsx("p",{className:"text-slate-500",children:"No sessions match your search criteria."}),s.jsx("button",{onClick:()=>{m(""),g("all")},className:"mt-4 text-cyan-400 hover:text-cyan-300 font-medium",children:"Clear filters"})]})}),b&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",children:s.jsxs("div",{className:"w-full max-w-md p-6 rounded-2xl border border-slate-800 bg-slate-900 shadow-2xl animate-in zoom-in-95",children:[s.jsxs("div",{className:"flex items-center gap-3 text-red-400 mb-4",children:[s.jsx(qn,{className:"w-6 h-6"}),s.jsx("h2",{className:"text-xl font-bold",children:"Clear All History?"})]}),s.jsxs("p",{className:"text-slate-400 mb-6",children:["This will permanently delete all ",n.total," sessions. This action cannot be undone."]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2.5 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>{r(),v(!1)},className:"px-4 py-2.5 rounded-xl bg-red-500 hover:bg-red-600 text-white font-medium transition-colors",children:"Delete All"})]})]})})]})},Hz={uncertain:{label:"Uncertain",color:"text-yellow-400",bgColor:"bg-yellow-500/20",icon:Zo},moderate:{label:"Moderate",color:"text-blue-400",bgColor:"bg-blue-500/20",icon:fc},strong:{label:"Strong",color:"text-green-400",bgColor:"bg-green-500/20",icon:Ka}},Cx={passionate:{label:"Passionate",color:"text-red-400",bgColor:"bg-red-500/20",emoji:""},neutral:{label:"Neutral",color:"text-gray-400",bgColor:"bg-gray-500/20",emoji:""},analytical:{label:"Analytical",color:"text-cyan-400",bgColor:"bg-cyan-500/20",emoji:""},inspiring:{label:"Inspiring",color:"text-purple-400",bgColor:"bg-purple-500/20",emoji:""},urgent:{label:"Urgent",color:"text-orange-400",bgColor:"bg-orange-500/20",emoji:""}},Gz={ethos:{label:"Ethos",description:"Credibility & Authority",color:"from-blue-500 to-indigo-500",icon:vf},pathos:{label:"Pathos",description:"Emotional Appeal",color:"from-red-500 to-pink-500",icon:JE},logos:{label:"Logos",description:"Logic & Reasoning",color:"from-green-500 to-emerald-500",icon:$r}},Qz=({sections:t})=>!t||t.length===0?null:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-secondary mb-3",children:[s.jsx(Dn,{className:"w-4 h-4"}),s.jsx("span",{children:"Tone Progression"})]}),s.jsx("div",{className:"flex h-8 rounded-lg overflow-hidden",children:t.map((e,n)=>{const a=Cx[e.tone]||Cx.neutral;return s.jsxs("div",{className:`flex-1 ${a.bgColor} flex items-center justify-center text-xs font-medium ${a.color} border-r border-bg-primary last:border-r-0 transition-all hover:brightness-125`,title:`${e.label}: ${a.label}`,children:[s.jsx("span",{className:"hidden sm:inline",children:e.label}),s.jsx("span",{className:"sm:hidden",children:a.emoji})]},n)})}),s.jsxs("div",{className:"flex justify-between text-xs text-text-muted",children:[s.jsx("span",{children:"Opening"}),s.jsx("span",{children:"Closing"})]})]}),Rg=({type:t,score:e})=>{const n=Gz[t];if(!n)return null;const a=n.icon;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-8 h-8 rounded-lg bg-gradient-to-br ${n.color} flex items-center justify-center`,children:s.jsx(a,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-white",children:n.label}),s.jsx("div",{className:"text-xs text-text-muted",children:n.description})]})]}),s.jsxs("span",{className:"text-lg font-bold text-white",children:[e,"%"]})]}),s.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full bg-gradient-to-r ${n.color} transition-all duration-1000 ease-out`,style:{width:`${e}%`}})})]})},Yz=({apiKey:t})=>{const[e,n]=T.useState(""),[a,r]=T.useState(!1),[o,c]=T.useState(null),[d,m]=T.useState(null),[f,g]=T.useState(""),[b,v]=T.useState(!1),[w,j]=T.useState(!1),{addSession:I}=Yl(),D=async()=>{if(!t){g("Please enter a valid Gemini API Key in Settings.");return}if(!e.trim()){g("Please enter the speech transcript.");return}r(!0),g(""),c(null),m(null);try{const X=new Vi(t).getGenerativeModel({model:"gemini-2.5-flash"}),G=`You are an expert rhetorical analyst and speech coach. Analyze the following speech for tone, rhetorical techniques, and emotional impact.

SPEECH TEXT:
${e}

Provide your analysis in the following JSON format (ONLY output valid JSON, no markdown):
{
  "overallConfidence": "uncertain" | "moderate" | "strong",
  "dominantTone": "passionate" | "neutral" | "analytical" | "inspiring" | "urgent",
  "rhetoricalAppeals": {
    "ethos": <number 0-100>,
    "pathos": <number 0-100>,
    "logos": <number 0-100>
  },
  "toneProgression": [
    { "label": "Intro", "tone": "neutral" },
    { "label": "Build", "tone": "analytical" },
    { "label": "Peak", "tone": "passionate" },
    { "label": "Close", "tone": "inspiring" }
  ],
  "confidenceIndicators": {
    "hedgingPhrases": ["maybe", "perhaps", "I think"],
    "assertivePhrases": ["clearly", "undoubtedly", "must"],
    "hedgeCount": <number>,
    "assertiveCount": <number>
  },
  "techniques": [
    {
      "name": "Anaphora",
      "description": "Repetition at the beginning of sentences",
      "example": "We will fight... We will win...",
      "effectiveness": "high" | "medium" | "low"
    }
  ],
  "emotionalArc": {
    "opening": { "emotion": "hopeful", "intensity": 60 },
    "middle": { "emotion": "determined", "intensity": 80 },
    "closing": { "emotion": "triumphant", "intensity": 95 }
  },
  "recommendations": [
    "Add more concrete evidence to strengthen logos appeal",
    "Consider varying sentence length for better rhythm"
  ],
  "summary": "A two-sentence summary of the overall rhetorical effectiveness."
}`,O=(await(await X.generateContent(G)).response).text();let C;try{const M=O.match(/\{[\s\S]*\}/);if(M)C=JSON.parse(M[0]);else throw new Error("No JSON found in response")}catch(M){console.error("JSON parse error:",M),c(O);return}m(C),I({type:"tone",title:"Tone Analysis",input:{transcript:e.substring(0,500)+(e.length>500?"...":"")},result:JSON.stringify(C,null,2),metadata:{confidence:C.overallConfidence,dominantTone:C.dominantTone}}),j(!0),setTimeout(()=>j(!1),2e3)}catch(q){console.error("Gemini Error:",q),g(`Error: ${q.message}. Please try again.`)}finally{r(!1)}},L=()=>{d&&(navigator.clipboard.writeText(JSON.stringify(d,null,2)),v(!0),setTimeout(()=>v(!1),2e3))},R=d?.overallConfidence?Hz[d.overallConfidence]:null,$=d?.dominantTone?Cx[d.dominantTone]:null;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Tone Analysis"}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Analyze rhetorical impact and emotional tone"})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[s.jsx("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm space-y-4",children:s.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(hc,{className:"w-4 h-4 text-purple-400"}),s.jsx("span",{className:"text-sm font-medium text-slate-300",children:"This analysis detects:"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["Confidence Level","Emotional Tone","Ethos/Pathos/Logos","Rhetorical Techniques"].map((q,X)=>s.jsx("span",{className:"px-3 py-1.5 text-xs font-medium bg-slate-900/50 text-slate-400 rounded-lg border border-slate-700/50",children:q},X))})]})}),s.jsxs("div",{className:"flex-1 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[s.jsx("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50",children:s.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Speech Transcript"})}),s.jsx("textarea",{value:e,onChange:q=>n(q.target.value),placeholder:"Paste your speech text here for detailed tone and rhetorical analysis...",className:"flex-1 w-full bg-transparent p-4 resize-none focus:outline-none font-mono text-sm text-slate-200 placeholder-slate-600 min-h-[300px]"}),s.jsxs("div",{className:"p-4 border-t border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[s.jsxs("span",{className:"text-xs text-slate-500 font-medium",children:[e.length.toLocaleString()," characters"]}),s.jsxs("button",{onClick:D,disabled:a,className:"px-6 py-2.5 rounded-xl bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold shadow-lg shadow-purple-500/25 hover:shadow-purple-500/40 hover:scale-[1.02] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center gap-2",children:[a?s.jsx(qr,{className:"w-4 h-4 animate-spin"}):s.jsx(bd,{className:"w-4 h-4"}),a?"Analyzing...":"Analyze Tone"]})]})]}),f&&s.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 text-red-400",children:[s.jsx(qn,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:f})]})]}),s.jsxs("div",{className:"w-full lg:w-1/2 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx(ys,{className:"w-5 h-5 text-purple-400"}),"Rhetorical Analysis"]}),d&&s.jsxs("div",{className:"flex items-center gap-3",children:[w&&s.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1 font-medium",children:[s.jsx(Ya,{className:"w-3 h-3"})," Saved"]}),s.jsx("button",{onClick:L,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Copy to clipboard",children:b?s.jsx(Ci,{className:"w-4 h-4 text-emerald-500"}):s.jsx(Js,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:d?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[R&&s.jsxs("div",{className:`p-4 rounded-xl ${R.bgColor} border border-slate-700/50`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(R.icon,{className:`w-5 h-5 ${R.color}`}),s.jsx("span",{className:"text-sm text-slate-400",children:"Confidence"})]}),s.jsx("div",{className:`text-xl font-bold ${R.color}`,children:R.label})]}),$&&s.jsxs("div",{className:`p-4 rounded-xl ${$.bgColor} border border-slate-700/50`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-xl",children:$.emoji}),s.jsx("span",{className:"text-sm text-slate-400",children:"Dominant Tone"})]}),s.jsx("div",{className:`text-xl font-bold ${$.color}`,children:$.label})]})]}),s.jsxs("div",{className:"p-5 rounded-xl bg-slate-800/30 border border-slate-700/30 space-y-4",children:[s.jsxs("h4",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx(vf,{className:"w-4 h-4 text-purple-400"}),"Rhetorical Appeals"]}),d.rhetoricalAppeals&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(Rg,{type:"ethos",score:d.rhetoricalAppeals.ethos}),s.jsx(Rg,{type:"pathos",score:d.rhetoricalAppeals.pathos}),s.jsx(Rg,{type:"logos",score:d.rhetoricalAppeals.logos})]})]}),d.toneProgression&&s.jsx("div",{className:"p-5 rounded-xl bg-slate-800/30 border border-slate-700/30",children:s.jsx(Qz,{sections:d.toneProgression})}),d.techniques&&d.techniques.length>0&&s.jsxs("div",{className:"p-5 rounded-xl bg-slate-800/30 border border-slate-700/30 space-y-3",children:[s.jsx("h4",{className:"font-semibold text-white",children:"Rhetorical Techniques"}),s.jsx("div",{className:"space-y-3",children:d.techniques.map((q,X)=>s.jsxs("div",{className:"p-3 bg-slate-900/50 rounded-lg border border-slate-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"font-medium text-white",children:q.name}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${q.effectiveness==="high"?"bg-emerald-500/20 text-emerald-400":q.effectiveness==="medium"?"bg-amber-500/20 text-amber-400":"bg-red-500/20 text-red-400"}`,children:q.effectiveness})]}),s.jsx("p",{className:"text-sm text-slate-500",children:q.description})]},X))})]}),d.recommendations&&s.jsxs("div",{className:"p-5 rounded-xl bg-slate-800/30 border border-slate-700/30 space-y-3",children:[s.jsxs("h4",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx($r,{className:"w-4 h-4 text-amber-400"}),"Recommendations"]}),s.jsx("ul",{className:"space-y-2",children:d.recommendations.map((q,X)=>s.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-400",children:[s.jsx(Ci,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),q]},X))})]}),d.summary&&s.jsxs("div",{className:"p-5 rounded-xl bg-purple-500/10 border border-purple-500/20",children:[s.jsx("h4",{className:"font-semibold text-purple-400 mb-2",children:"Summary"}),s.jsx("p",{className:"text-slate-300",children:d.summary})]})]}):o?s.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:s.jsx(Tc,{remarkPlugins:[Cc],children:o})}):s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 py-16",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:s.jsx(Dl,{className:"w-8 h-8"})}),s.jsx("p",{className:"text-center max-w-xs",children:"Paste your speech transcript to analyze rhetorical impact and emotional tone."})]})})]})]})]})},Kz=({onSkip:t})=>{const[e,n]=T.useState(!0),[a,r]=T.useState(""),[o,c]=T.useState(""),[d,m]=T.useState(""),[f,g]=T.useState(!1),[b,v]=T.useState(!1),[w,j]=T.useState(""),{login:I,register:D,loginWithGoogle:L,error:R,clearError:$}=Pn(),q=async A=>{if(A.preventDefault(),j(""),$(),!a||!o){j("Please fill in all required fields.");return}if(!e&&!d){j("Please enter your name.");return}if(o.length<6){j("Password must be at least 6 characters.");return}v(!0);try{e?await I(a,o):await D(a,o,d)}catch{}finally{v(!1)}},X=async()=>{j(""),$(),v(!0);try{await L()}catch{}finally{v(!1)}},G=()=>{n(!e),j(""),$()},k=w||R;return s.jsxs("div",{className:"min-h-screen bg-bg-primary flex items-center justify-center p-4",children:[s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-full h-full bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-3xl"}),s.jsx("div",{className:"absolute -bottom-1/2 -right-1/2 w-full h-full bg-gradient-to-tl from-accent/10 to-transparent rounded-full blur-3xl"})]}),s.jsxs("div",{className:"w-full max-w-md relative z-10",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-accent shadow-lg shadow-primary/25 mb-4",children:s.jsx(bs,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Adjudicator AI"}),s.jsx("p",{className:"text-text-secondary",children:"Your AI-powered debate coaching platform"})]}),s.jsxs("div",{className:"glass-card space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:e?"Welcome back":"Create your account"}),s.jsx("p",{className:"text-text-muted text-sm mt-1",children:e?"Sign in to continue to your dashboard":"Start your debate coaching journey"})]}),s.jsxs("button",{onClick:X,disabled:b,className:"w-full flex items-center justify-center gap-3 px-4 py-3 bg-white hover:bg-gray-100 text-gray-800 font-medium rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-slate-700"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-4 bg-bg-secondary text-text-muted",children:"or continue with email"})})]}),s.jsxs("form",{onSubmit:q,className:"space-y-4",children:[!e&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(Pl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),s.jsx("input",{type:"text",value:d,onChange:A=>m(A.target.value),placeholder:"John Doe",className:"input-field pl-10",disabled:b})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(Wj,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),s.jsx("input",{type:"email",value:a,onChange:A=>r(A.target.value),placeholder:"you@example.com",className:"input-field pl-10",disabled:b})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(zu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),s.jsx("input",{type:f?"text":"password",value:o,onChange:A=>c(A.target.value),placeholder:"",className:"input-field pl-10 pr-10",disabled:b}),s.jsx("button",{type:"button",onClick:()=>g(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-muted hover:text-text-secondary",children:f?s.jsx(PE,{className:"w-5 h-5"}):s.jsx(Ox,{className:"w-5 h-5"})})]})]}),k&&s.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-start gap-2 text-red-400 text-sm",children:[s.jsx(qn,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:k})]}),s.jsx("button",{type:"submit",disabled:b,className:"btn-primary w-full flex items-center justify-center gap-2 py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:b?s.jsx(qr,{className:"w-5 h-5 animate-spin"}):s.jsxs(s.Fragment,{children:[e?"Sign In":"Create Account",s.jsx(Wo,{className:"w-4 h-4"})]})})]}),s.jsxs("p",{className:"text-center text-text-secondary text-sm",children:[e?"Don't have an account? ":"Already have an account? ",s.jsx("button",{onClick:G,className:"text-primary hover:text-primary/80 font-medium transition-colors",disabled:b,children:e?"Sign up":"Sign in"})]})]}),s.jsx("div",{className:"text-center mt-6",children:s.jsx("button",{onClick:t,className:"text-text-muted hover:text-text-secondary text-sm transition-colors underline underline-offset-2",children:"Continue as guest (limited features)"})})]})]})},Wz=({onGetStarted:t,onContinueAsGuest:e})=>{const[n,a]=T.useState(0),r=[{icon:Zu,title:"Real-time Analysis",description:"Get instant AI feedback on speeches with event-specific rubrics. Identify strengths, weaknesses, and actionable improvements in seconds.",color:"from-cyan-500 to-blue-500",delay:.1},{icon:Lt,title:"Team Collaboration",description:"Manage your entire debate squad in one place. Share strategies, track individual progress, and coordinate team preparation.",color:"from-purple-500 to-pink-500",delay:.2},{icon:Dn,title:"Performance Insights",description:"Deep analytics on speaking patterns, argument effectiveness, and improvement trends. Data-driven coaching for measurable results.",color:"from-orange-500 to-red-500",delay:.3},{icon:Gt,title:"Tournament Tracking",description:"Log competition results, monitor rankings, and analyze performance across events. See what strategies win at the highest levels.",color:"from-green-500 to-emerald-500",delay:.4}],o=[{icon:Zu,text:"Instant AI feedback in seconds"},{icon:Ii,text:"Event-specific evaluation rubrics"},{icon:Dn,text:"Track progress over time"},{icon:Ti,text:"Personalized improvement drills"}],c=[{quote:"This completely transformed how I prepare for tournaments. My speaker points jumped 2 points!",author:"Sarah M.",role:"Public Forum Debater",avatar:""},{quote:"The strategy generator helped me anticipate every argument my opponents made at State.",author:"Marcus T.",role:"Lincoln-Douglas Champion",avatar:""},{quote:"Finally, feedback that understands the difference between Informative and Extemp. Game changer.",author:"Emily R.",role:"Speech Coach",avatar:""}];T.useEffect(()=>{const f=setInterval(()=>{a(g=>(g+1)%c.length)},5e3);return()=>clearInterval(f)},[]);const d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},m={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return s.jsxs("div",{className:"min-h-screen bg-bg-primary overflow-hidden",children:[s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-full h-full bg-gradient-to-br from-primary/20 via-transparent to-transparent rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute -bottom-1/2 -right-1/2 w-full h-full bg-gradient-to-tl from-accent/20 via-transparent to-transparent rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),s.jsx("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-gradient-to-br from-cyan-500/10 to-purple-500/10 rounded-full blur-3xl animate-float"})]}),s.jsx("nav",{className:"relative z-10 px-6 py-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[s.jsxs(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary to-accent flex items-center justify-center shadow-lg shadow-primary/25",children:s.jsx(bs,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"text-xl font-bold text-white",children:"Adjudicator AI"})]}),s.jsxs(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex items-center gap-4",children:[s.jsx("button",{onClick:e,className:"text-text-secondary hover:text-white transition-colors px-4 py-2",children:"Try Free"}),s.jsxs("button",{onClick:t,className:"btn-primary flex items-center gap-2",children:["Sign In",s.jsx(Wo,{className:"w-4 h-4"})]})]})]})}),s.jsx("section",{className:"relative z-10 px-6 pt-16 pb-24",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs(V.div,{initial:"hidden",animate:"visible",variants:d,className:"text-center max-w-4xl mx-auto",children:[s.jsxs(V.div,{variants:m,className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/20 mb-8",children:[s.jsx(ys,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"text-sm text-primary font-medium",children:"Trusted by 500+ Competitive Teams"})]}),s.jsxs(V.h1,{variants:m,className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",children:[s.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary via-cyan-400 to-accent",children:"AI-Powered"}),s.jsx("span",{className:"text-white",children:" Debate Coaching"}),s.jsx("br",{}),s.jsx("span",{className:"text-white",children:"for "}),s.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-accent",children:"Competitive Teams"})]}),s.jsx(V.p,{variants:m,className:"text-xl text-text-secondary mb-10 max-w-2xl mx-auto",children:"Elite debate programs use Adjudicator AI to analyze speeches in real-time, track team performance, and gain competitive insights that win tournaments."}),s.jsxs(V.div,{variants:m,className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-12",children:[s.jsx("button",{onClick:t,className:"group relative px-8 py-4 bg-gradient-to-r from-primary to-cyan-400 rounded-xl font-semibold text-white shadow-lg shadow-primary/25 hover:shadow-xl hover:shadow-primary/30 transition-all hover:scale-105",children:s.jsxs("span",{className:"flex items-center gap-2",children:["Start Free Trial",s.jsx(Wo,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})}),s.jsxs("button",{onClick:e,className:"group px-8 py-4 rounded-xl font-semibold text-text-secondary hover:text-white border border-slate-700 hover:border-slate-600 hover:bg-slate-800/50 transition-all flex items-center gap-2",children:[s.jsx(Ei,{className:"w-5 h-5"}),"Watch Demo"]})]}),s.jsxs(V.div,{variants:m,className:"flex flex-col sm:flex-row items-center justify-center gap-6 sm:gap-12 text-text-muted",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center",children:s.jsx(Lt,{className:"w-5 h-5 text-cyan-400"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-lg font-bold text-white",children:"10,000+"}),s.jsx("div",{className:"text-xs text-text-muted",children:"Active Debaters"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center",children:s.jsx(Gt,{className:"w-5 h-5 text-yellow-500"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-lg font-bold text-white",children:"500+"}),s.jsx("div",{className:"text-xs text-text-muted",children:"Teams & Schools"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center",children:s.jsx($n,{className:"w-5 h-5 text-green-400"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-lg font-bold text-white",children:"1M+"}),s.jsx("div",{className:"text-xs text-text-muted",children:"Speeches Analyzed"})]})]})]})]})})}),s.jsx("section",{className:"relative z-10 px-6 py-24 bg-gradient-to-b from-transparent via-slate-900/50 to-transparent",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(V.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Everything You Need to Excel"}),s.jsx("p",{className:"text-text-secondary max-w-2xl mx-auto",children:"From speech analysis to strategy building, we've got every aspect of your debate prep covered."})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((f,g)=>s.jsx(V.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:f.delay},whileHover:{y:-5,scale:1.02},className:"group relative",children:s.jsxs("div",{className:"glass-card h-full cursor-pointer",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${f.color} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform shadow-lg`,children:s.jsx(f.icon,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:f.title}),s.jsx("p",{className:"text-text-secondary text-sm",children:f.description})]})},f.title))})]})}),s.jsx("section",{className:"relative z-10 px-6 py-24",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[s.jsxs(V.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Why Debaters Choose Us"}),s.jsx("p",{className:"text-text-secondary mb-8",children:"We built this for debaters, by debaters. Every feature is designed to give you a competitive edge."}),s.jsx("div",{className:"space-y-4",children:o.map((f,g)=>s.jsxs(V.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:g*.1},className:"flex items-center gap-4 p-4 rounded-xl bg-slate-900/50 border border-slate-800 hover:border-primary/30 transition-colors",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(f.icon,{className:"w-5 h-5 text-primary"})}),s.jsx("span",{className:"text-text-primary font-medium",children:f.text})]},g))})]}),s.jsx(V.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"relative",children:s.jsxs("div",{className:"glass-card relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/20 to-accent/20 rounded-full blur-3xl"}),s.jsx(at,{mode:"wait",children:s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"relative z-10",children:[s.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((f,g)=>s.jsx(ln,{className:"w-5 h-5 fill-yellow-500 text-yellow-500"},g))}),s.jsxs("blockquote",{className:"text-xl text-white font-medium mb-6 leading-relaxed",children:['"',c[n].quote,'"']}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center text-2xl",children:c[n].avatar}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-semibold",children:c[n].author}),s.jsx("div",{className:"text-text-muted text-sm",children:c[n].role})]})]})]},n)}),s.jsx("div",{className:"flex items-center gap-2 mt-6",children:c.map((f,g)=>s.jsx("button",{onClick:()=>a(g),className:`w-2 h-2 rounded-full transition-all ${g===n?"w-6 bg-primary":"bg-slate-700 hover:bg-slate-600"}`},g))})]})})]})})}),s.jsx("section",{className:"relative z-10 px-6 py-24",children:s.jsx(V.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"relative rounded-3xl overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 via-accent/20 to-primary/20"}),s.jsx("div",{className:"absolute inset-0 bg-slate-900/80 backdrop-blur-xl"}),s.jsxs("div",{className:"relative z-10 p-12 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-accent mb-6 shadow-lg shadow-primary/25",children:s.jsx(Gt,{className:"w-8 h-8 text-white"})}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Ready to Win Your Next Round?"}),s.jsx("p",{className:"text-text-secondary mb-8 max-w-lg mx-auto",children:"Join thousands of debaters already using AI to sharpen their skills and dominate competitions."}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[s.jsxs("button",{onClick:t,className:"group px-8 py-4 bg-white text-slate-900 rounded-xl font-semibold hover:bg-gray-100 transition-all hover:scale-105 flex items-center gap-2",children:["Start Free Today",s.jsx(on,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),s.jsx("button",{onClick:e,className:"px-8 py-4 text-white font-semibold hover:underline underline-offset-4",children:"Continue as Guest"})]})]})]})})}),s.jsx("footer",{className:"relative z-10 px-6 py-16 border-t border-slate-800 bg-slate-900/50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-12",children:[s.jsxs("div",{className:"col-span-2 md:col-span-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary to-accent flex items-center justify-center shadow-lg shadow-primary/25",children:s.jsx(bs,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"text-lg font-bold text-white",children:"Adjudicator AI"})]}),s.jsx("p",{className:"text-text-muted text-sm mb-4",children:"AI-powered debate coaching platform for competitive teams and speech programs."}),s.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[[...Array(5)].map((f,g)=>s.jsx(ln,{className:"w-4 h-4 fill-yellow-500 text-yellow-500"},g)),s.jsx("span",{className:"text-sm text-text-muted ml-2",children:"4.9/5"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:"Product"}),s.jsxs("ul",{className:"space-y-3",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Speech Analysis"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Strategy Generator"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Live Coaching"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Team Analytics"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:"Resources"}),s.jsxs("ul",{className:"space-y-3",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Documentation"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Debate Guides"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Event Rubrics"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"API Access"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:"Company"}),s.jsxs("ul",{className:"space-y-3",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"About Us"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Contact"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Terms of Service"})})]})]})]}),s.jsxs("div",{className:"pt-8 border-t border-slate-800 flex flex-col md:flex-row items-center justify-between gap-4",children:[s.jsx("div",{className:"text-text-muted text-sm",children:" 2025 Adjudicator AI. All rights reserved."}),s.jsx("div",{className:"flex items-center gap-6",children:s.jsx("span",{className:"text-text-muted text-sm",children:"Built for debaters, by debaters."})})]})]})})]})},Be={DEBATE:"Debate & Speech",ANIMALS:"Animals",ABSTRACT:"Abstract & Patterns",NATURE:"Nature",SPACE:"Space & Cosmic",GAMING:"Gaming & Fun",PROFESSIONAL:"Professional",SEASONAL:"Seasonal"},oy=[{id:"debate-gavel",category:Be.DEBATE,name:"The Judge",gradient:"from-amber-500 to-orange-600",emoji:"",bgPattern:"radial"},{id:"debate-podium",category:Be.DEBATE,name:"Podium Pro",gradient:"from-blue-500 to-indigo-600",emoji:"",bgPattern:"linear"},{id:"debate-scroll",category:Be.DEBATE,name:"The Scholar",gradient:"from-emerald-500 to-teal-600",emoji:"",bgPattern:"radial"},{id:"debate-brain",category:Be.DEBATE,name:"Big Brain",gradient:"from-pink-500 to-rose-600",emoji:"",bgPattern:"mesh"},{id:"debate-trophy",category:Be.DEBATE,name:"Champion",gradient:"from-yellow-400 to-amber-500",emoji:"",bgPattern:"radial"},{id:"debate-fire",category:Be.DEBATE,name:"Hot Take",gradient:"from-orange-500 to-red-600",emoji:"",bgPattern:"linear"},{id:"animal-owl",category:Be.ANIMALS,name:"Wise Owl",gradient:"from-amber-600 to-yellow-500",emoji:"",bgPattern:"radial"},{id:"animal-lion",category:Be.ANIMALS,name:"Bold Lion",gradient:"from-orange-500 to-amber-400",emoji:"",bgPattern:"linear"},{id:"animal-fox",category:Be.ANIMALS,name:"Clever Fox",gradient:"from-orange-600 to-red-500",emoji:"",bgPattern:"mesh"},{id:"animal-wolf",category:Be.ANIMALS,name:"Lone Wolf",gradient:"from-slate-500 to-gray-600",emoji:"",bgPattern:"radial"},{id:"animal-eagle",category:Be.ANIMALS,name:"Sharp Eagle",gradient:"from-amber-700 to-yellow-600",emoji:"",bgPattern:"linear"},{id:"animal-dragon",category:Be.ANIMALS,name:"Fire Dragon",gradient:"from-red-600 to-orange-500",emoji:"",bgPattern:"mesh"},{id:"animal-unicorn",category:Be.ANIMALS,name:"Magic Unicorn",gradient:"from-pink-400 to-purple-500",emoji:"",bgPattern:"radial"},{id:"animal-penguin",category:Be.ANIMALS,name:"Cool Penguin",gradient:"from-slate-600 to-blue-500",emoji:"",bgPattern:"linear"},{id:"abstract-prism",category:Be.ABSTRACT,name:"Prism",gradient:"from-cyan-400 via-purple-500 to-pink-500",emoji:"",bgPattern:"mesh"},{id:"abstract-wave",category:Be.ABSTRACT,name:"Wave",gradient:"from-blue-400 to-cyan-500",emoji:"",bgPattern:"linear"},{id:"abstract-flame",category:Be.ABSTRACT,name:"Flame",gradient:"from-yellow-400 via-orange-500 to-red-500",emoji:"",bgPattern:"radial"},{id:"abstract-aurora",category:Be.ABSTRACT,name:"Aurora",gradient:"from-green-400 via-cyan-500 to-blue-500",emoji:"",bgPattern:"mesh"},{id:"abstract-neon",category:Be.ABSTRACT,name:"Neon",gradient:"from-pink-500 via-purple-500 to-indigo-500",emoji:"",bgPattern:"radial"},{id:"abstract-sunset",category:Be.ABSTRACT,name:"Sunset",gradient:"from-orange-400 via-pink-500 to-purple-600",emoji:"",bgPattern:"linear"},{id:"nature-mountain",category:Be.NATURE,name:"Mountain",gradient:"from-slate-600 to-emerald-600",emoji:"",bgPattern:"linear"},{id:"nature-forest",category:Be.NATURE,name:"Forest",gradient:"from-green-600 to-emerald-500",emoji:"",bgPattern:"radial"},{id:"nature-ocean",category:Be.NATURE,name:"Ocean",gradient:"from-blue-500 to-teal-500",emoji:"",bgPattern:"mesh"},{id:"nature-flower",category:Be.NATURE,name:"Flower",gradient:"from-pink-400 to-rose-500",emoji:"",bgPattern:"radial"},{id:"nature-leaf",category:Be.NATURE,name:"Leaf",gradient:"from-lime-500 to-green-600",emoji:"",bgPattern:"linear"},{id:"nature-storm",category:Be.NATURE,name:"Storm",gradient:"from-slate-700 to-indigo-600",emoji:"",bgPattern:"mesh"},{id:"space-galaxy",category:Be.SPACE,name:"Galaxy",gradient:"from-purple-600 via-pink-500 to-blue-600",emoji:"",bgPattern:"mesh"},{id:"space-moon",category:Be.SPACE,name:"Moon",gradient:"from-slate-400 to-gray-500",emoji:"",bgPattern:"radial"},{id:"space-star",category:Be.SPACE,name:"Star",gradient:"from-yellow-300 to-amber-400",emoji:"",bgPattern:"radial"},{id:"space-rocket",category:Be.SPACE,name:"Rocket",gradient:"from-red-500 to-orange-500",emoji:"",bgPattern:"linear"},{id:"space-planet",category:Be.SPACE,name:"Planet",gradient:"from-teal-500 to-cyan-400",emoji:"",bgPattern:"mesh"},{id:"space-ufo",category:Be.SPACE,name:"UFO",gradient:"from-green-400 to-emerald-500",emoji:"",bgPattern:"radial"},{id:"gaming-controller",category:Be.GAMING,name:"Gamer",gradient:"from-purple-500 to-pink-500",emoji:"",bgPattern:"linear"},{id:"gaming-sword",category:Be.GAMING,name:"Knight",gradient:"from-slate-500 to-blue-600",emoji:"",bgPattern:"radial"},{id:"gaming-wizard",category:Be.GAMING,name:"Wizard",gradient:"from-indigo-500 to-purple-600",emoji:"",bgPattern:"mesh"},{id:"gaming-ninja",category:Be.GAMING,name:"Ninja",gradient:"from-slate-700 to-gray-800",emoji:"",bgPattern:"linear"},{id:"gaming-robot",category:Be.GAMING,name:"Robot",gradient:"from-cyan-500 to-blue-500",emoji:"",bgPattern:"radial"},{id:"gaming-alien",category:Be.GAMING,name:"Alien",gradient:"from-green-500 to-lime-400",emoji:"",bgPattern:"mesh"},{id:"pro-briefcase",category:Be.PROFESSIONAL,name:"Business",gradient:"from-slate-600 to-gray-700",emoji:"",bgPattern:"linear"},{id:"pro-graduation",category:Be.PROFESSIONAL,name:"Graduate",gradient:"from-blue-600 to-indigo-600",emoji:"",bgPattern:"radial"},{id:"pro-lightbulb",category:Be.PROFESSIONAL,name:"Innovator",gradient:"from-yellow-400 to-orange-400",emoji:"",bgPattern:"radial"},{id:"pro-chart",category:Be.PROFESSIONAL,name:"Analyst",gradient:"from-emerald-500 to-teal-500",emoji:"",bgPattern:"linear"},{id:"pro-book",category:Be.PROFESSIONAL,name:"Reader",gradient:"from-amber-600 to-orange-500",emoji:"",bgPattern:"mesh"},{id:"pro-target",category:Be.PROFESSIONAL,name:"Focused",gradient:"from-red-500 to-rose-500",emoji:"",bgPattern:"radial"},{id:"season-snowflake",category:Be.SEASONAL,name:"Winter",gradient:"from-blue-300 to-cyan-400",emoji:"",bgPattern:"radial"},{id:"season-sun",category:Be.SEASONAL,name:"Summer",gradient:"from-yellow-400 to-orange-400",emoji:"",bgPattern:"radial"},{id:"season-fall",category:Be.SEASONAL,name:"Autumn",gradient:"from-orange-500 to-red-500",emoji:"",bgPattern:"linear"},{id:"season-spring",category:Be.SEASONAL,name:"Spring",gradient:"from-pink-400 to-green-400",emoji:"",bgPattern:"mesh"},{id:"season-rainbow",category:Be.SEASONAL,name:"Rainbow",gradient:"from-red-400 via-yellow-400 via-green-400 to-blue-400",emoji:"",bgPattern:"linear"},{id:"season-party",category:Be.SEASONAL,name:"Party",gradient:"from-purple-500 via-pink-500 to-red-500",emoji:"",bgPattern:"mesh"}],Xz=t=>oy.filter(e=>e.category===t),Jz=()=>Object.values(Be),Zz=oy[0],kj=()=>Zz,Ij=({avatar:t,size:e="md",className:n,showName:a=!1,onClick:r,selected:o=!1})=>{const c={xs:"w-8 h-8 text-sm",sm:"w-10 h-10 text-base",md:"w-16 h-16 text-2xl",lg:"w-24 h-24 text-4xl",xl:"w-32 h-32 text-5xl"};return t?s.jsxs("div",{className:Mm("flex flex-col items-center gap-1",r&&"cursor-pointer"),onClick:r,children:[s.jsx("div",{className:Mm("rounded-full flex items-center justify-center transition-all duration-200",`bg-gradient-to-br ${t.gradient}`,c[e],o&&"ring-4 ring-cyan-500 ring-offset-2 ring-offset-slate-900",r&&"hover:scale-110 hover:shadow-lg",n),children:s.jsx("span",{className:"drop-shadow-md",children:t.emoji})}),a&&s.jsx("span",{className:"text-xs text-slate-400 text-center",children:t.name})]}):s.jsx("div",{className:Mm("rounded-full bg-slate-700 flex items-center justify-center",c[e],n),children:s.jsx("span",{className:"text-slate-500",children:"?"})})},eF=({isOpen:t,onClose:e,onSelect:n,currentAvatarId:a})=>{const r=Jz(),[o,c]=T.useState(r[0]),[d,m]=T.useState(a?oy.find(j=>j.id===a):null),f=Xz(o),g=r.indexOf(o),b=()=>{const j=g>0?g-1:r.length-1;c(r[j])},v=()=>{const j=g<r.length-1?g+1:0;c(r[j])},w=()=>{d&&(n(d),e())};return t?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:e}),s.jsxs("div",{className:"relative w-full max-w-2xl bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"p-6 border-b border-slate-800 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Choose Your Avatar"}),s.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Select a profile picture that represents you"})]}),s.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-slate-800 text-slate-400 hover:text-white transition-colors",children:s.jsx(rn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"px-6 py-4 border-b border-slate-800 flex items-center justify-between",children:[s.jsx("button",{onClick:b,className:"p-2 rounded-lg hover:bg-slate-800 text-slate-400 hover:text-white transition-colors",children:s.jsx(Px,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("span",{className:"text-lg font-semibold text-white",children:o}),s.jsx("div",{className:"flex justify-center gap-1 mt-2",children:r.map((j,I)=>s.jsx("button",{onClick:()=>c(j),className:Mm("w-2 h-2 rounded-full transition-all",j===o?"bg-cyan-500 w-4":"bg-slate-600 hover:bg-slate-500")},j))})]}),s.jsx("button",{onClick:v,className:"p-2 rounded-lg hover:bg-slate-800 text-slate-400 hover:text-white transition-colors",children:s.jsx(on,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"p-6 max-h-[400px] overflow-y-auto",children:s.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 gap-4",children:f.map(j=>s.jsx(Ij,{avatar:j,size:"md",showName:!0,selected:d?.id===j.id,onClick:()=>m(j)},j.id))})}),s.jsxs("div",{className:"p-6 border-t border-slate-800 bg-slate-900/50 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-4",children:d?s.jsxs(s.Fragment,{children:[s.jsx(Ij,{avatar:d,size:"lg"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:d.name}),s.jsx("p",{className:"text-sm text-slate-400",children:d.category})]})]}):s.jsx("p",{className:"text-slate-400",children:"Select an avatar to preview"})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:e,className:"px-4 py-2 rounded-xl bg-slate-800 text-slate-300 hover:bg-slate-700 transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:w,disabled:!d,className:"px-6 py-2 rounded-xl bg-gradient-to-r from-cyan-500 to-purple-600 text-white font-medium hover:shadow-lg hover:shadow-cyan-500/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[s.jsx(Rn,{className:"w-4 h-4"}),"Select Avatar"]})]})]})]})]}):null},tF=()=>{const{needsAvatarSelection:t,skipAvatarSelection:e,setAvatar:n,userProfile:a}=Pn(),[r,o]=T.useState(!1),[c,d]=T.useState(null);if(!t)return null;const m=async w=>{d(w),o(!1)},f=async()=>{if(c)await n(c);else{const w=kj();await n(w)}},g=()=>{e()},b=c||kj(),v=a?.displayName||"there";return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-50 bg-bg-primary/95 backdrop-blur-sm flex items-center justify-center p-4",children:s.jsx("div",{className:"w-full max-w-md",children:s.jsxs("div",{className:"glass-card space-y-6 text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 text-primary",children:[s.jsx(ys,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:"Profile Setup"})]}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-white mb-2",children:["Welcome, ",v,"!"]}),s.jsx("p",{className:"text-text-secondary",children:"Choose a profile avatar to personalize your debate journey"})]}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{onClick:()=>o(!0),className:"group relative",children:[s.jsx("div",{className:`w-24 h-24 rounded-2xl bg-gradient-to-br ${b.gradient||b.color} flex items-center justify-center text-4xl shadow-lg transition-transform group-hover:scale-105`,children:b.emoji}),s.jsx("div",{className:"absolute inset-0 rounded-2xl bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:"Change"})})]})}),s.jsx("p",{className:"text-sm text-text-muted",children:c?b.name:"Click the avatar to browse all options"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:()=>o(!0),className:"btn-secondary w-full py-3 flex items-center justify-center gap-2",children:"Choose Your Avatar"}),s.jsxs("button",{onClick:f,className:"btn-primary w-full py-3 flex items-center justify-center gap-2",children:[c?"Continue":"Use Default Avatar",s.jsx(Wo,{className:"w-4 h-4"})]})]}),s.jsx("button",{onClick:g,className:"text-text-muted hover:text-text-secondary text-sm transition-colors",children:"Skip for now"})]})})}),s.jsx(eF,{isOpen:r,onClose:()=>o(!1),onSelect:m,currentAvatarId:c?.id})]})},nF=async(t,e)=>{const n=yn(Qe,"users",t,"debates");return(await Ha(n,{...e,createdAt:vt(),updatedAt:vt()})).id},sF=async(t,e={})=>{const n=yn(Qe,"users",t,"debates");let a=es(n,Si("createdAt","desc"));return e.format&&(a=es(a,cd("format","==",e.format))),e.limit&&(a=es(a,zb(e.limit))),(await Kr(a)).docs.map(o=>({id:o.id,...o.data()}))},aF=async t=>{const e=await sF(t),n={},a={},r={},o={};return e.forEach(c=>{n[c.format]||(n[c.format]={wins:0,losses:0,total:0}),n[c.format].total++,c.result==="win"?n[c.format].wins++:c.result==="loss"&&n[c.format].losses++,c.tournament&&(a[c.tournament]||(a[c.tournament]={wins:0,losses:0,total:0,speakerPoints:[]}),a[c.tournament].total++,c.result==="win"?a[c.tournament].wins++:a[c.tournament].losses++,c.speakerPoints&&a[c.tournament].speakerPoints.push(c.speakerPoints));const d=c.createdAt?.toDate?.()||new Date(c.createdAt),m=`${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}`;r[m]||(r[m]={wins:0,losses:0,total:0,avgScore:[]}),r[m].total++,c.result==="win"?r[m].wins++:r[m].losses++,c.score&&r[m].avgScore.push(c.score),c.opponent&&(o[c.opponent]||(o[c.opponent]={wins:0,losses:0,total:0}),o[c.opponent].total++,c.result==="win"?o[c.opponent].wins++:o[c.opponent].losses++)}),{totalDebates:e.length,totalWins:e.filter(c=>c.result==="win").length,totalLosses:e.filter(c=>c.result==="loss").length,winRate:e.length>0?(e.filter(c=>c.result==="win").length/e.length*100).toFixed(1):0,formatStats:n,tournamentStats:a,monthlyStats:r,opponentStats:o,recentDebates:e.slice(0,10)}},iF=async(t,e)=>{const n=yn(Qe,"users",t,"opponents");return(await Ha(n,{...e,createdAt:vt(),updatedAt:vt()})).id},rF=async(t,e,n)=>{const a=Ht(Qe,"users",t,"opponents",e);await Jn(a,{...n,updatedAt:vt()})},lF=async t=>{const e=yn(Qe,"users",t,"opponents"),n=es(e,Si("updatedAt","desc"));return(await Kr(n)).docs.map(r=>({id:r.id,...r.data()}))},oF=async(t,e)=>{const n=Ht(Qe,"users",t,"opponents",e);await Bb(n)},cF=async(t,e,n)=>{const a=Ht(Qe,"users",t,"opponents",e);await Jn(a,{notes:Fr({id:Date.now().toString(),content:n,createdAt:new Date().toISOString()}),updatedAt:vt()})},uF=async(t,e)=>{const n=yn(Qe,"users",t,"evidence");return(await Ha(n,{...e,usageCount:0,usedInDebates:[],createdAt:vt(),updatedAt:vt()})).id},dF=async(t,e,n)=>{const a=Ht(Qe,"users",t,"evidence",e);await Jn(a,{...n,updatedAt:vt()})},hF=async(t,e={})=>{const n=yn(Qe,"users",t,"evidence");let a=es(n,Si("createdAt","desc"));e.limit&&(a=es(a,zb(e.limit)));let o=(await Kr(a)).docs.map(c=>({id:c.id,...c.data()}));if(e.tag&&(o=o.filter(c=>c.tags?.includes(e.tag))),e.search){const c=e.search.toLowerCase();o=o.filter(d=>d.title?.toLowerCase().includes(c)||d.content?.toLowerCase().includes(c)||d.source?.toLowerCase().includes(c))}return o},mF=async(t,e)=>{const n=Ht(Qe,"users",t,"evidence",e);await Bb(n)},fF=async(t,e,n)=>{const a=Ht(Qe,"users",t,"evidence",e),r=await Yf(a);r.exists()&&await Jn(a,{usageCount:(r.data().usageCount||0)+1,usedInDebates:Fr(n),lastUsed:vt()})},pF=async(t,e)=>{const n=yn(Qe,"users",t,"practice");return(await Ha(n,{...e,createdAt:vt()})).id},q_=async(t,e={})=>{const n=yn(Qe,"users",t,"practice");let a=es(n,Si("createdAt","desc"));return e.type&&(a=es(a,cd("type","==",e.type))),e.limit&&(a=es(a,zb(e.limit))),(await Kr(a)).docs.map(o=>({id:o.id,...o.data()}))},gF=async t=>{const e=await q_(t),n={totalSessions:e.length,totalTime:e.reduce((c,d)=>c+(d.duration||0),0),byType:{},streak:0,avgScore:0};e.forEach(c=>{n.byType[c.type]||(n.byType[c.type]={count:0,totalScore:0}),n.byType[c.type].count++,c.score&&(n.byType[c.type].totalScore+=c.score)});const a=e.filter(c=>c.score);a.length>0&&(n.avgScore=(a.reduce((c,d)=>c+d.score,0)/a.length).toFixed(1));const r=new Date;let o=0;for(let c=0;c<365;c++){const d=new Date(r);d.setDate(d.getDate()-c);const m=d.toISOString().split("T")[0];if(e.some(g=>(g.createdAt?.toDate?.()||new Date(g.createdAt)).toISOString().split("T")[0]===m))o++;else if(c>0)break}return n.streak=o,n},xF=async(t,e)=>{const n=yn(Qe,"teams"),a=await Ha(n,{...e,ownerId:t,members:[{id:t,role:"owner",joinedAt:new Date().toISOString()}],inviteCode:Math.random().toString(36).substring(2,8).toUpperCase(),createdAt:vt(),updatedAt:vt()}),r=Ht(Qe,"users",t);return await Jn(r,{teams:Fr(a.id)}),a.id},bF=async t=>{const e=Ht(Qe,"teams",t),n=await Yf(e);return n.exists()?{id:n.id,...n.data()}:null},yF=async t=>{const e=Ht(Qe,"users",t),n=await Yf(e);if(!n.exists())return[];const a=n.data().teams||[];return(await Promise.all(a.map(o=>bF(o)))).filter(Boolean)},vF=async(t,e)=>{const n=yn(Qe,"teams"),a=es(n,cd("inviteCode","==",e.toUpperCase())),r=await Kr(a);if(r.empty)throw new Error("Invalid invite code");const o=r.docs[0];if(o.data().members.some(d=>d.id===t))throw new Error("Already a member of this team");return await Jn(Ht(Qe,"teams",o.id),{members:Fr({id:t,role:"member",joinedAt:new Date().toISOString()}),updatedAt:vt()}),await Jn(Ht(Qe,"users",t),{teams:Fr(o.id)}),o.id},wF=async(t,e)=>{const n=yn(Qe,"users",t,"tournaments");return(await Ha(n,{...e,rounds:[],createdAt:vt(),updatedAt:vt()})).id},NF=async(t,e,n)=>{const a=Ht(Qe,"users",t,"tournaments",e);await Jn(a,{...n,updatedAt:vt()})},jF=async t=>{const e=yn(Qe,"users",t,"tournaments"),n=es(e,Si("date","desc"));return(await Kr(n)).docs.map(r=>({id:r.id,...r.data()}))},SF=async(t,e)=>{const n=Ht(Qe,"users",t,"tournaments",e);await Bb(n)},_F=async(t,e,n)=>{const a=Ht(Qe,"users",t,"tournaments",e);await Jn(a,{rounds:Fr({id:Date.now().toString(),...n,createdAt:new Date().toISOString()}),updatedAt:vt()})},TF=async(t,e)=>{const n=yn(Qe,"users",t,"judges");return(await Ha(n,{...e,createdAt:vt(),updatedAt:vt()})).id},CF=async t=>{const e=yn(Qe,"users",t,"judges"),n=es(e,Si("name"));return(await Kr(n)).docs.map(r=>({id:r.id,...r.data()}))},EF=async(t,e,n)=>{const a=Ht(Qe,"users",t,"judges",e);await Jn(a,{...n,updatedAt:vt()})},AF=()=>{const{user:t}=Pn(),[e,n]=T.useState(null),[a,r]=T.useState(!0),[o,c]=T.useState(null),d=T.useCallback(async()=>{if(!t?.uid){r(!1);return}try{r(!0);const f=await aF(t.uid);n(f),c(null)}catch(f){console.error("Error fetching analytics:",f),c(f.message)}finally{r(!1)}},[t?.uid]);return T.useEffect(()=>{d()},[d]),{analytics:e,loading:a,error:o,refetch:d,saveDebate:async f=>{if(!t?.uid)throw new Error("Not authenticated");const g=await nF(t.uid,f);return await d(),g}}},kF=()=>{const{user:t}=Pn(),[e,n]=T.useState([]),[a,r]=T.useState(!0),[o,c]=T.useState(null),d=T.useCallback(async()=>{if(!t?.uid){r(!1);return}try{r(!0);const v=await lF(t.uid);n(v),c(null)}catch(v){console.error("Error fetching opponents:",v),c(v.message)}finally{r(!1)}},[t?.uid]);return T.useEffect(()=>{d()},[d]),{opponents:e,loading:a,error:o,refetch:d,addOpponent:async v=>{if(!t?.uid)throw new Error("Not authenticated");const w=await iF(t.uid,v);return await d(),w},updateOpponent:async(v,w)=>{if(!t?.uid)throw new Error("Not authenticated");await rF(t.uid,v,w),await d()},deleteOpponent:async v=>{if(!t?.uid)throw new Error("Not authenticated");await oF(t.uid,v),await d()},addNote:async(v,w)=>{if(!t?.uid)throw new Error("Not authenticated");await cF(t.uid,v,w),await d()}}},IF=(t={})=>{const{user:e}=Pn(),[n,a]=T.useState([]),[r,o]=T.useState(!0),[c,d]=T.useState(null),[m,f]=T.useState(t),g=T.useCallback(async()=>{if(!e?.uid){o(!1);return}try{o(!0);const D=await hF(e.uid,m);a(D),d(null)}catch(D){console.error("Error fetching evidence:",D),d(D.message)}finally{o(!1)}},[e?.uid,m]);T.useEffect(()=>{g()},[g]);const b=async D=>{if(!e?.uid)throw new Error("Not authenticated");const L=await uF(e.uid,D);return await g(),L},v=async(D,L)=>{if(!e?.uid)throw new Error("Not authenticated");await dF(e.uid,D,L),await g()},w=async D=>{if(!e?.uid)throw new Error("Not authenticated");await mF(e.uid,D),await g()},j=async(D,L)=>{if(!e?.uid)throw new Error("Not authenticated");await fF(e.uid,D,L),await g()},I=[...new Set(n.flatMap(D=>D.tags||[]))];return{evidence:n,loading:r,error:c,filters:m,setFilters:f,allTags:I,refetch:g,addEvidence:b,updateEvidence:v,deleteEvidence:w,trackUsage:j}},RF=()=>{const{user:t}=Pn(),[e,n]=T.useState([]),[a,r]=T.useState(null),[o,c]=T.useState(!0),[d,m]=T.useState(null),f=T.useCallback(async()=>{if(!t?.uid){c(!1);return}try{c(!0);const[b,v]=await Promise.all([q_(t.uid,{limit:50}),gF(t.uid)]);n(b),r(v),m(null)}catch(b){console.error("Error fetching practice data:",b),m(b.message)}finally{c(!1)}},[t?.uid]);return T.useEffect(()=>{f()},[f]),{sessions:e,stats:a,loading:o,error:d,refetch:f,saveSession:async b=>{if(!t?.uid)throw new Error("Not authenticated");const v=await pF(t.uid,b);return await f(),v}}},DF=()=>{const{user:t}=Pn(),[e,n]=T.useState([]),[a,r]=T.useState(!0),[o,c]=T.useState(null),d=T.useCallback(async()=>{if(!t?.uid){r(!1);return}try{r(!0);const g=await yF(t.uid);n(g),c(null)}catch(g){console.error("Error fetching teams:",g),c(g.message)}finally{r(!1)}},[t?.uid]);return T.useEffect(()=>{d()},[d]),{teams:e,loading:a,error:o,refetch:d,createTeam:async g=>{if(!t?.uid)throw new Error("Not authenticated");const b=await xF(t.uid,g);return await d(),b},joinTeam:async g=>{if(!t?.uid)throw new Error("Not authenticated");const b=await vF(t.uid,g);return await d(),b}}},PF=()=>{const{user:t}=Pn(),[e,n]=T.useState([]),[a,r]=T.useState(!0),[o,c]=T.useState(null),d=T.useCallback(async()=>{if(!t?.uid){r(!1);return}try{r(!0);const v=await jF(t.uid);n(v),c(null)}catch(v){console.error("Error fetching tournaments:",v),c(v.message)}finally{r(!1)}},[t?.uid]);return T.useEffect(()=>{d()},[d]),{tournaments:e,loading:a,error:o,refetch:d,addTournament:async v=>{if(!t?.uid)throw new Error("Not authenticated");const w=await wF(t.uid,v);return await d(),w},updateTournament:async(v,w)=>{if(!t?.uid)throw new Error("Not authenticated");await NF(t.uid,v,w),await d()},deleteTournament:async v=>{if(!t?.uid)throw new Error("Not authenticated");await SF(t.uid,v),await d()},addRound:async(v,w)=>{if(!t?.uid)throw new Error("Not authenticated");await _F(t.uid,v,w),await d()}}},MF=()=>{const{user:t}=Pn(),[e,n]=T.useState([]),[a,r]=T.useState(!0),[o,c]=T.useState(null),d=T.useCallback(async()=>{if(!t?.uid){r(!1);return}try{r(!0);const g=await CF(t.uid);n(g),c(null)}catch(g){console.error("Error fetching judges:",g),c(g.message)}finally{r(!1)}},[t?.uid]);return T.useEffect(()=>{d()},[d]),{judges:e,loading:a,error:o,refetch:d,addJudge:async g=>{if(!t?.uid)throw new Error("Not authenticated");const b=await TF(t.uid,g);return await d(),b},updateJudge:async(g,b)=>{if(!t?.uid)throw new Error("Not authenticated");await EF(t.uid,g,b),await d()}}},OF=["Public Forum","Lincoln-Douglas","Policy","Congress","World Schools","Extemp","Original Oratory","Impromptu"],LF={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},Tl={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},H_=({value:t,duration:e=1e3,prefix:n="",suffix:a="",decimals:r=0})=>{const[o,c]=T.useState(0);return T.useEffect(()=>{const d=Date.now(),m=typeof t=="number"?t:parseFloat(t)||0,f=()=>{const g=Date.now(),b=Math.min((g-d)/e,1),v=1-Math.pow(1-b,4),w=m*v;c(w),b<1&&requestAnimationFrame(f)};requestAnimationFrame(f)},[t,e]),s.jsxs("span",{children:[n,o.toFixed(r),a]})},G_=({progress:t,size:e=120,strokeWidth:n=8,color:a="cyan",showValue:r=!0,label:o,animate:c=!0})=>{const d=(e-n)/2,m=d*2*Math.PI,f=m-t/100*m,g={cyan:{stroke:"#06b6d4",glow:"drop-shadow(0 0 8px rgba(6, 182, 212, 0.5))"},emerald:{stroke:"#10b981",glow:"drop-shadow(0 0 8px rgba(16, 185, 129, 0.5))"},purple:{stroke:"#a855f7",glow:"drop-shadow(0 0 8px rgba(168, 85, 247, 0.5))"},amber:{stroke:"#f59e0b",glow:"drop-shadow(0 0 8px rgba(245, 158, 11, 0.5))"},red:{stroke:"#ef4444",glow:"drop-shadow(0 0 8px rgba(239, 68, 68, 0.5))"}},b=g[a]||g.cyan;return s.jsxs("div",{className:"relative inline-flex flex-col items-center",children:[s.jsxs("svg",{width:e,height:e,className:"transform -rotate-90",children:[s.jsx("circle",{cx:e/2,cy:e/2,r:d,fill:"none",stroke:"currentColor",strokeWidth:n,className:"text-slate-800"}),s.jsx(V.circle,{cx:e/2,cy:e/2,r:d,fill:"none",stroke:b.stroke,strokeWidth:n,strokeLinecap:"round",strokeDasharray:m,initial:c?{strokeDashoffset:m}:{strokeDashoffset:f},animate:{strokeDashoffset:f},transition:{duration:1,ease:"easeOut"},style:{filter:b.glow}})]}),r&&s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[s.jsx("span",{className:"text-2xl font-bold text-white",children:s.jsx(H_,{value:t,suffix:"%"})}),o&&s.jsx("span",{className:"text-xs text-slate-400",children:o})]})]})},xm=({label:t,value:e,change:n,icon:a,color:r="cyan",subtitle:o})=>{const c=n>0,d=n===0||n===void 0,m={cyan:{bg:"from-cyan-500/20 to-cyan-600/5",border:"border-cyan-500/20",icon:"text-cyan-400",iconBg:"bg-cyan-500/10"},emerald:{bg:"from-emerald-500/20 to-emerald-600/5",border:"border-emerald-500/20",icon:"text-emerald-400",iconBg:"bg-emerald-500/10"},purple:{bg:"from-purple-500/20 to-purple-600/5",border:"border-purple-500/20",icon:"text-purple-400",iconBg:"bg-purple-500/10"},amber:{bg:"from-amber-500/20 to-amber-600/5",border:"border-amber-500/20",icon:"text-amber-400",iconBg:"bg-amber-500/10"},red:{bg:"from-red-500/20 to-red-600/5",border:"border-red-500/20",icon:"text-red-400",iconBg:"bg-red-500/10"}},f=m[r]||m.cyan;return s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02,y:-4},className:"relative group cursor-default",children:[s.jsx("div",{className:`absolute -inset-1 bg-gradient-to-r ${f.bg} rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-all duration-500`}),s.jsxs("div",{className:`relative p-6 rounded-2xl border ${f.border} bg-gradient-to-br ${f.bg} backdrop-blur-sm overflow-hidden`,children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-white/5 to-transparent rounded-full -translate-y-1/2 translate-x-1/2"}),s.jsxs("div",{className:"relative flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-slate-400 font-medium mb-1",children:t}),s.jsxs("p",{className:"text-3xl font-bold text-white tracking-tight",children:[s.jsx(H_,{value:parseFloat(e)||0,decimals:e.toString().includes(".")?1:0}),e.toString().includes("%")&&"%"]}),n!==void 0&&s.jsxs("div",{className:`flex items-center gap-1.5 mt-2 text-sm font-medium ${d?"text-slate-500":c?"text-emerald-400":"text-red-400"}`,children:[!d&&s.jsx(V.div,{initial:{rotate:c?-45:45,opacity:0},animate:{rotate:0,opacity:1},transition:{delay:.3},children:c?"":""}),s.jsx("span",{children:d?"No change":`${Math.abs(n)}%`}),s.jsx("span",{className:"text-slate-500",children:"vs last month"})]}),o&&s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:o})]}),s.jsx(V.div,{whileHover:{rotate:5,scale:1.1},className:`p-3 rounded-xl ${f.iconBg} border ${f.border}`,children:s.jsx(a,{className:`w-6 h-6 ${f.icon}`})})]})]})]})},cy=({children:t,variant:e="default",size:n="md"})=>{const a={default:"bg-slate-800 text-slate-300 border-slate-700",success:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30",warning:"bg-amber-500/10 text-amber-400 border-amber-500/30",danger:"bg-red-500/10 text-red-400 border-red-500/30",info:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30",purple:"bg-purple-500/10 text-purple-400 border-purple-500/30"},r={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-1",lg:"text-base px-3 py-1.5"};return s.jsx(V.span,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:`inline-flex items-center gap-1.5 font-medium rounded-full border ${a[e]} ${r[n]}`,children:t})},VF=()=>s.jsx("div",{className:"relative p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 animate-pulse",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-4 w-24 bg-slate-800 rounded"}),s.jsx("div",{className:"h-8 w-20 bg-slate-800 rounded"}),s.jsx("div",{className:"h-3 w-32 bg-slate-800 rounded"})]}),s.jsx("div",{className:"w-12 h-12 bg-slate-800 rounded-xl"})]})}),Dg=({className:t=""})=>s.jsx("div",{className:`bg-slate-800/50 rounded-xl animate-pulse ${t}`}),UF=({onAddDebate:t})=>s.jsxs(V.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-20",children:[s.jsxs("div",{className:"relative inline-block mb-8",children:[s.jsx(V.div,{animate:{scale:[1,1.2,1],opacity:[.3,.1,.3]},transition:{duration:3,repeat:1/0},className:"absolute inset-0 w-32 h-32 rounded-full bg-cyan-500/20 blur-xl"}),s.jsx(V.div,{animate:{scale:[1,1.3,1],opacity:[.2,.05,.2]},transition:{duration:3,repeat:1/0,delay:.5},className:"absolute inset-0 w-32 h-32 rounded-full bg-purple-500/20 blur-xl"}),s.jsxs(V.div,{initial:{rotate:-10},animate:{rotate:[0,5,0]},transition:{duration:4,repeat:1/0},className:"relative p-6 rounded-3xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-slate-700/50 backdrop-blur-xl shadow-2xl",children:[s.jsx(Dn,{className:"w-16 h-16 text-cyan-400"}),s.jsx(V.div,{animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0},className:"absolute -top-2 -right-2",children:s.jsx(ys,{className:"w-6 h-6 text-amber-400"})})]})]}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Start Your Debate Journey"}),s.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-8 leading-relaxed",children:"Track your debates to unlock powerful analytics, visualize your progress, and gain insights that will help you win more rounds."}),s.jsxs(V.button,{whileHover:{scale:1.05,boxShadow:"0 20px 40px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},onClick:t,className:"px-8 py-4 rounded-2xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold text-lg shadow-lg shadow-cyan-500/25 inline-flex items-center gap-3",children:[s.jsx(Ct,{className:"w-5 h-5"}),"Record Your First Debate",s.jsx(on,{className:"w-5 h-5"})]})]}),zF=({isOpen:t,onClose:e,onSave:n})=>{const[a,r]=T.useState({date:new Date().toISOString().split("T")[0],format:"Public Forum",tournament:"",round:"Round 1",opponent:"",opponentSchool:"",side:"Pro",result:"win",speakerPoints:"",score:"",topic:"",notes:""});if(!t)return null;const o=c=>{c.preventDefault(),n({...a,speakerPoints:a.speakerPoints?parseFloat(a.speakerPoints):null,score:a.score?parseInt(a.score):null}),e()};return s.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:c=>c.target===c.currentTarget&&e(),children:s.jsxs(V.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"w-full max-w-2xl bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-800 rounded-3xl shadow-2xl shadow-black/50 max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"relative p-6 border-b border-slate-800 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 via-transparent to-purple-500/10"}),s.jsxs("div",{className:"relative flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-xl bg-cyan-500/10 border border-cyan-500/30",children:s.jsx(Gt,{className:"w-5 h-5 text-cyan-400"})}),"Record Debate"]}),s.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Track your performance and build your analytics"})]}),s.jsx(V.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:e,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(rn,{className:"w-5 h-5"})})]})]}),s.jsxs("form",{onSubmit:o,className:"p-6 space-y-6 overflow-y-auto max-h-[calc(90vh-180px)]",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Date"}),s.jsx("input",{type:"date",value:a.date,onChange:c=>r({...a,date:c.target.value}),className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Format"}),s.jsx("select",{value:a.format,onChange:c=>r({...a,format:c.target.value}),className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all",children:OF.map(c=>s.jsx("option",{value:c,children:c},c))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Tournament"}),s.jsx("input",{type:"text",value:a.tournament,onChange:c=>r({...a,tournament:c.target.value}),placeholder:"e.g., Harvard Invitational",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Round"}),s.jsx("select",{value:a.round,onChange:c=>r({...a,round:c.target.value}),className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all",children:["Round 1","Round 2","Round 3","Round 4","Round 5","Round 6","Octofinals","Quarterfinals","Semifinals","Finals"].map(c=>s.jsx("option",{value:c,children:c},c))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Opponent Name"}),s.jsx("input",{type:"text",value:a.opponent,onChange:c=>r({...a,opponent:c.target.value}),placeholder:"Opponent's name",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Opponent School"}),s.jsx("input",{type:"text",value:a.opponentSchool,onChange:c=>r({...a,opponentSchool:c.target.value}),placeholder:"School name",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Result"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs(V.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r({...a,result:"win"}),className:`p-4 rounded-xl border-2 transition-all ${a.result==="win"?"bg-emerald-500/20 border-emerald-500 shadow-lg shadow-emerald-500/20":"bg-slate-800/30 border-slate-700 hover:border-slate-600"}`,children:[s.jsx(Gt,{className:`w-8 h-8 mx-auto mb-2 ${a.result==="win"?"text-emerald-400":"text-slate-500"}`}),s.jsx("span",{className:`font-semibold ${a.result==="win"?"text-emerald-400":"text-slate-400"}`,children:"Win"})]}),s.jsxs(V.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r({...a,result:"loss"}),className:`p-4 rounded-xl border-2 transition-all ${a.result==="loss"?"bg-red-500/20 border-red-500 shadow-lg shadow-red-500/20":"bg-slate-800/30 border-slate-700 hover:border-slate-600"}`,children:[s.jsx(Bt,{className:`w-8 h-8 mx-auto mb-2 ${a.result==="loss"?"text-red-400":"text-slate-500"}`}),s.jsx("span",{className:`font-semibold ${a.result==="loss"?"text-red-400":"text-slate-400"}`,children:"Loss"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Side"}),s.jsxs("select",{value:a.side,onChange:c=>r({...a,side:c.target.value}),className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all",children:[s.jsx("option",{value:"Pro",children:"Pro/Aff"}),s.jsx("option",{value:"Con",children:"Con/Neg"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Speaker Points"}),s.jsx("input",{type:"number",step:"0.1",min:"20",max:"30",value:a.speakerPoints,onChange:c=>r({...a,speakerPoints:c.target.value}),placeholder:"28.5",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Notes"}),s.jsx("textarea",{value:a.notes,onChange:c=>r({...a,notes:c.target.value}),placeholder:"Key takeaways, what worked, areas to improve...",rows:3,className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all resize-none"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-800",children:[s.jsx(V.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"px-6 py-3 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:"Cancel"}),s.jsx(V.button,{type:"submit",whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},className:"px-8 py-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold shadow-lg shadow-cyan-500/25",children:"Save Debate"})]})]})]})})},FF=({wins:t,losses:e})=>{const n=t+e,a=n>0?t/n*100:0;return s.jsxs("div",{className:"flex items-center gap-8",children:[s.jsxs("div",{className:"relative",children:[s.jsx(G_,{progress:a,size:140,strokeWidth:12,color:a>=50?"emerald":"amber",label:"Win Rate"}),s.jsx(V.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute -inset-4 rounded-full border border-dashed border-slate-700/50"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-4 h-4 rounded-full bg-emerald-500 shadow-lg shadow-emerald-500/50"}),s.jsx(V.div,{animate:{scale:[1,1.5,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 rounded-full bg-emerald-500"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-2xl font-bold text-white",children:t}),s.jsx("span",{className:"text-slate-400 ml-2",children:"Wins"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 rounded-full bg-slate-600"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-2xl font-bold text-white",children:e}),s.jsx("span",{className:"text-slate-400 ml-2",children:"Losses"})]})]}),s.jsx("div",{className:"pt-2 border-t border-slate-800",children:s.jsxs("p",{className:"text-slate-500",children:[n," total debates"]})})]})]})},BF=({data:t})=>{const e=Object.keys(t).sort().slice(-12),n=e.map(r=>{const o=t[r];return o.total>0?o.wins/o.total*100:0}),a=Math.max(...n,100);return e.length===0?s.jsx("div",{className:"flex items-center justify-center h-48 text-slate-500",children:s.jsx("p",{children:"Record more debates to see trends"})}):s.jsxs("div",{className:"relative h-56",children:[s.jsx("div",{className:"absolute inset-0 flex flex-col justify-between pointer-events-none",children:[100,75,50,25,0].map(r=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-slate-600 w-8",children:[r,"%"]}),s.jsx("div",{className:"flex-1 border-t border-slate-800/50 border-dashed"})]},r))}),s.jsx("div",{className:"absolute inset-0 pt-4 pb-6 pl-10 flex items-end justify-between gap-2",children:n.map((r,o)=>s.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2",children:[s.jsxs(V.div,{initial:{height:0,opacity:0},animate:{height:`${r/a*100}%`,opacity:1},transition:{delay:o*.05,duration:.6,ease:"easeOut"},className:"relative w-full rounded-t-lg cursor-pointer group",style:{background:r>=50?"linear-gradient(to top, rgba(16, 185, 129, 0.8), rgba(6, 182, 212, 0.6))":"linear-gradient(to top, rgba(245, 158, 11, 0.8), rgba(251, 191, 36, 0.6))",minHeight:"4px"},children:[s.jsx("div",{className:"absolute inset-0 rounded-t-lg blur-md opacity-50",style:{background:r>=50?"linear-gradient(to top, rgb(16, 185, 129), rgb(6, 182, 212))":"linear-gradient(to top, rgb(245, 158, 11), rgb(251, 191, 36))"}}),s.jsxs("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 px-3 py-1.5 bg-slate-800 border border-slate-700 rounded-lg text-xs text-white font-medium opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10 shadow-xl",children:[r.toFixed(0),"% win rate",s.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-slate-800 border-r border-b border-slate-700 rotate-45"})]})]}),s.jsx("span",{className:"text-[10px] text-slate-500 font-medium",children:e[o].split("-")[1]})]},e[o]))})]})},$F=({data:t})=>{const e=Object.entries(t);return e.length===0?s.jsx("div",{className:"text-center py-8 text-slate-500",children:"No format data available"}):s.jsx("div",{className:"space-y-5",children:e.map(([n,a],r)=>{const o=a.total>0?a.wins/a.total*100:0,c=o>=70?"emerald":o>=50?"cyan":o>=30?"amber":"red";return s.jsxs(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:r*.1},className:"group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-white font-medium flex items-center gap-2",children:[n,o>=70&&s.jsx(Qa,{className:"w-4 h-4 text-amber-400"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-slate-500 text-sm",children:[a.wins,"W - ",a.losses,"L"]}),s.jsxs(cy,{variant:c==="emerald"?"success":c==="cyan"?"info":c==="amber"?"warning":"danger",children:[o.toFixed(0),"%"]})]})]}),s.jsx("div",{className:"h-3 bg-slate-800 rounded-full overflow-hidden",children:s.jsx(V.div,{initial:{width:0},animate:{width:`${o}%`},transition:{duration:.8,delay:r*.1},className:"h-full rounded-full relative overflow-hidden",style:{background:`linear-gradient(90deg, ${c==="emerald"?"rgb(16, 185, 129), rgb(6, 182, 212)":c==="cyan"?"rgb(6, 182, 212), rgb(99, 102, 241)":c==="amber"?"rgb(245, 158, 11), rgb(251, 191, 36)":"rgb(239, 68, 68), rgb(248, 113, 113)"})`},children:s.jsx(V.div,{animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,repeatDelay:3},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent"})})})]},n)})})},qF=({data:t})=>{const e=Object.entries(t).map(([n,a])=>({name:n,...a,winRate:a.total>0?a.wins/a.total*100:0})).sort((n,a)=>a.total-n.total).slice(0,10);return e.length===0?s.jsx("div",{className:"text-center py-8 text-slate-500",children:"No opponent data available"}):s.jsx("div",{className:"space-y-3",children:e.map((n,a)=>s.jsxs(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:a*.05},whileHover:{scale:1.01,x:4},className:"flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-slate-800/50 to-slate-900/30 border border-slate-800/50 hover:border-slate-700/50 transition-all cursor-pointer group",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-bold text-lg ${a===0?"bg-amber-500/20 text-amber-400 border border-amber-500/30":a===1?"bg-slate-400/20 text-slate-300 border border-slate-400/30":a===2?"bg-amber-700/20 text-amber-600 border border-amber-700/30":"bg-slate-800 text-slate-400"}`,children:a+1}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-white font-medium truncate group-hover:text-cyan-400 transition-colors",children:n.name}),s.jsxs("p",{className:"text-slate-500 text-sm",children:[n.total," debates"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:`text-lg font-bold ${n.winRate>=50?"text-emerald-400":"text-red-400"}`,children:[n.winRate.toFixed(0),"%"]}),s.jsxs("p",{className:"text-slate-500 text-xs",children:[n.wins,"W-",n.losses,"L"]})]}),s.jsx(on,{className:"w-5 h-5 text-slate-600 group-hover:text-slate-400 transition-colors"})]},n.name))})},HF=({debates:t})=>s.jsx("div",{className:"space-y-3",children:t.slice(0,5).map((e,n)=>s.jsxs(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.05},whileHover:{scale:1.01},className:"flex items-center gap-4 p-4 rounded-xl bg-slate-800/30 border border-slate-800/50 hover:bg-slate-800/50 transition-all cursor-pointer group",children:[s.jsx("div",{className:`relative w-2 h-14 rounded-full ${e.result==="win"?"bg-emerald-500":"bg-red-500"}`,children:s.jsx(V.div,{animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},className:`absolute inset-0 rounded-full ${e.result==="win"?"bg-emerald-500":"bg-red-500"} blur-sm`})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-white font-medium",children:e.tournament||"Practice"}),s.jsx("span",{className:"text-slate-600",children:""}),s.jsx(cy,{variant:"info",size:"sm",children:e.format})]}),s.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:["vs ",e.opponent||"Unknown","  ",e.round]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:`px-3 py-1.5 rounded-lg text-sm font-semibold ${e.result==="win"?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/30":"bg-red-500/10 text-red-400 border border-red-500/30"}`,children:e.result==="win"?" Win":"Loss"}),e.speakerPoints&&s.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:[s.jsx(ln,{className:"w-3 h-3 inline-block text-amber-400 mr-1"}),e.speakerPoints," speaks"]})]})]},e.id||n))}),GF=()=>s.jsxs("div",{className:"space-y-8 animate-pulse",children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((t,e)=>s.jsx(VF,{},e))}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsx(Dg,{className:"h-64 rounded-2xl"}),s.jsx(Dg,{className:"h-64 rounded-2xl"})]}),s.jsx(Dg,{className:"h-80 rounded-2xl"})]}),QF=({apiKey:t})=>{const{user:e,isAuthenticated:n}=Pn(),{analytics:a,loading:r,refetch:o,saveDebate:c}=AF(),[d,m]=T.useState(!1),[f,g]=T.useState("overview"),b=async w=>{try{await c(w)}catch(j){console.error("Error saving debate:",j)}},v=a&&a.totalDebates>0;return s.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-600/20 border border-cyan-500/30",children:s.jsx(Dn,{className:"w-7 h-7 text-cyan-400"})}),"Analytics",s.jsx(cy,{variant:"info",children:"Premium"})]}),s.jsx("p",{className:"text-slate-400 mt-2",children:"Track your debate performance and progress"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(V.button,{whileHover:{scale:1.05,rotate:180},whileTap:{scale:.95},onClick:o,className:"p-3 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",title:"Refresh",children:s.jsx(Ju,{className:"w-5 h-5"})}),s.jsxs(V.button,{whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},onClick:()=>m(!0),className:"px-5 py-2.5 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-medium shadow-lg shadow-cyan-500/25 flex items-center gap-2",children:[s.jsx(Ct,{className:"w-5 h-5"}),"Record Debate"]})]})]}),s.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex items-center gap-2 p-1.5 bg-slate-900/50 rounded-2xl border border-slate-800/50 w-fit",children:[{id:"overview",label:"Overview",icon:Bg},{id:"trends",label:"Trends",icon:Ka},{id:"opponents",label:"Head-to-Head",icon:Lt},{id:"formats",label:"By Format",icon:Dn}].map(w=>s.jsxs(V.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>g(w.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium transition-all ${f===w.id?"bg-slate-800 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:[s.jsx(w.icon,{className:"w-4 h-4"}),w.label]},w.id))}),r?s.jsx(GF,{}):v?s.jsxs(V.div,{variants:LF,initial:"hidden",animate:"visible",children:[f==="overview"&&s.jsxs(s.Fragment,{children:[s.jsxs(V.div,{variants:Tl,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(xm,{label:"Total Debates",value:a.totalDebates.toString(),icon:Ws,color:"cyan"}),s.jsx(xm,{label:"Win Rate",value:`${a.winRate}`,change:5,icon:Gt,color:"emerald"}),s.jsx(xm,{label:"Total Wins",value:a.totalWins.toString(),icon:Xo,color:"purple"}),s.jsx(xm,{label:"Win Streak",value:a.currentStreak?.toString()||"0",subtitle:"Current streak",icon:pf,color:"amber"})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs(V.div,{variants:Tl,className:"glass-panel p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(Bg,{className:"w-5 h-5 text-cyan-400"}),"Win/Loss Ratio"]}),s.jsx(FF,{wins:a.totalWins,losses:a.totalLosses})]}),s.jsxs(V.div,{variants:Tl,className:"glass-panel p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(Dn,{className:"w-5 h-5 text-purple-400"}),"Performance by Format"]}),s.jsx($F,{data:a.formatStats})]})]}),s.jsxs(V.div,{variants:Tl,className:"glass-panel p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(Zt,{className:"w-5 h-5 text-amber-400"}),"Recent Debates"]}),s.jsx(HF,{debates:a.recentDebates})]})]}),f==="trends"&&s.jsxs(V.div,{variants:Tl,className:"glass-panel p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(Ka,{className:"w-5 h-5 text-emerald-400"}),"Win Rate Trend (Last 12 Months)"]}),s.jsx(BF,{data:a.monthlyStats})]}),f==="opponents"&&s.jsxs(V.div,{variants:Tl,className:"glass-panel p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(Lt,{className:"w-5 h-5 text-cyan-400"}),"Head-to-Head Records"]}),s.jsx(qF,{data:a.opponentStats})]}),f==="formats"&&s.jsx(V.div,{variants:Tl,className:"grid md:grid-cols-2 gap-6",children:Object.entries(a.formatStats).map(([w,j],I)=>{const D=j.total>0?j.wins/j.total*100:0;return s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:I*.1},whileHover:{scale:1.02,y:-4},className:"glass-panel p-6 hover:border-white/20 transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h4",{className:"text-white font-semibold text-lg",children:w}),s.jsx(G_,{progress:D,size:60,strokeWidth:6,color:D>=50?"emerald":"amber"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{className:"p-3 rounded-xl bg-slate-800/30",children:[s.jsx("p",{className:"text-2xl font-bold text-white",children:j.total}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Total"})]}),s.jsxs("div",{className:"p-3 rounded-xl bg-emerald-500/10",children:[s.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:j.wins}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Wins"})]}),s.jsxs("div",{className:"p-3 rounded-xl bg-red-500/10",children:[s.jsx("p",{className:"text-2xl font-bold text-red-400",children:j.losses}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Losses"})]})]})]},w)})})]}):s.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},className:"p-8 rounded-3xl border border-slate-800/60 bg-gradient-to-b from-slate-900/50 to-slate-950/50",children:s.jsx(UF,{onAddDebate:()=>m(!0)})}),s.jsx(at,{children:d&&s.jsx(zF,{isOpen:d,onClose:()=>m(!1),onSave:b})})]})})},YF={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08}}},KF={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.4,ease:"easeOut"}}},Bl={high:{label:"High Threat",color:"red",bgClass:"bg-red-500/10 border-red-500/30",textClass:"text-red-400",icon:Er,glow:"shadow-red-500/20"},medium:{label:"Medium Threat",color:"amber",bgClass:"bg-amber-500/10 border-amber-500/30",textClass:"text-amber-400",icon:qn,glow:"shadow-amber-500/20"},low:{label:"Low Threat",color:"emerald",bgClass:"bg-emerald-500/10 border-emerald-500/30",textClass:"text-emerald-400",icon:Ci,glow:"shadow-emerald-500/20"}},WF=({onAdd:t})=>s.jsxs(V.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-20",children:[s.jsxs("div",{className:"relative inline-block mb-8",children:[s.jsx(V.div,{animate:{scale:[1,1.2,1],opacity:[.3,.1,.3]},transition:{duration:3,repeat:1/0},className:"absolute inset-0 w-32 h-32 rounded-full bg-red-500/20 blur-xl"}),s.jsx(V.div,{animate:{scale:[1,1.3,1],opacity:[.2,.05,.2]},transition:{duration:3,repeat:1/0,delay:.5},className:"absolute inset-0 w-32 h-32 rounded-full bg-amber-500/20 blur-xl"}),s.jsxs(V.div,{animate:{rotate:[0,5,0,-5,0]},transition:{duration:5,repeat:1/0},className:"relative p-6 rounded-3xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-slate-700/50 backdrop-blur-xl shadow-2xl",children:[s.jsx(Bt,{className:"w-16 h-16 text-red-400"}),s.jsx(V.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -top-2 -right-2",children:s.jsx(Ox,{className:"w-6 h-6 text-amber-400"})})]})]}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Know Your Competition"}),s.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-8 leading-relaxed",children:"Track opponents, analyze their strategies, and prepare winning counter-arguments. Intelligence wins debates."}),s.jsxs(V.button,{whileHover:{scale:1.05,boxShadow:"0 20px 40px rgba(239, 68, 68, 0.3)"},whileTap:{scale:.98},onClick:t,className:"px-8 py-4 rounded-2xl bg-gradient-to-r from-red-500 to-orange-600 text-white font-semibold text-lg shadow-lg shadow-red-500/25 inline-flex items-center gap-3",children:[s.jsx(Ct,{className:"w-5 h-5"}),"Add First Opponent",s.jsx(on,{className:"w-5 h-5"})]})]}),Q_=({level:t,size:e="md",pulse:n=!1})=>{const a=Bl[t]||Bl.medium,r=a.icon,o={sm:"px-2 py-0.5 text-xs gap-1",md:"px-3 py-1 text-sm gap-1.5",lg:"px-4 py-2 text-base gap-2"};return s.jsxs(V.span,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:`inline-flex items-center font-semibold rounded-full border ${a.bgClass} ${a.textClass} ${o[e]} ${n?"animate-pulse":""}`,children:[s.jsx(r,{className:e==="sm"?"w-3 h-3":e==="lg"?"w-5 h-5":"w-4 h-4"}),a.label]})},XF=({winRate:t,size:e=60})=>{const n=(e-6)/2,a=n*2*Math.PI,r=a-t/100*a,o=t>=50?"#ef4444":"#10b981";return s.jsxs("div",{className:"relative",style:{width:e,height:e},children:[s.jsxs("svg",{className:"transform -rotate-90",width:e,height:e,children:[s.jsx("circle",{cx:e/2,cy:e/2,r:n,fill:"none",stroke:"currentColor",strokeWidth:"6",className:"text-slate-800"}),s.jsx(V.circle,{cx:e/2,cy:e/2,r:n,fill:"none",stroke:o,strokeWidth:"6",strokeLinecap:"round",strokeDasharray:a,initial:{strokeDashoffset:a},animate:{strokeDashoffset:r},transition:{duration:1,ease:"easeOut"}})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("span",{className:`text-sm font-bold ${t>=50?"text-red-400":"text-emerald-400"}`,children:[t,"%"]})})]})},JF=({opponent:t,onClick:e,isSelected:n})=>{const a=Bl[t.threatLevel]||Bl.medium,r=t.debates?.total>0?Math.round(t.debates.wins/t.debates.total*100):0;return s.jsxs(V.div,{variants:KF,whileHover:{scale:1.02,y:-4},whileTap:{scale:.98},onClick:e,className:`relative group cursor-pointer ${n?"ring-2 ring-cyan-500":""}`,children:[s.jsx("div",{className:`absolute -inset-1 bg-gradient-to-r ${t.threatLevel==="high"?"from-red-500/20 to-orange-500/20":t.threatLevel==="medium"?"from-amber-500/20 to-yellow-500/20":"from-emerald-500/20 to-teal-500/20"} rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-all duration-500`}),s.jsxs("div",{className:"relative p-5 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/80 to-slate-950/80 backdrop-blur-sm hover:border-slate-700/60 transition-all overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-white/5 to-transparent rounded-full -translate-y-1/2 translate-x-1/2"}),s.jsxs("div",{className:"relative flex items-start gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`w-14 h-14 rounded-xl bg-gradient-to-br ${t.threatLevel==="high"?"from-red-500/30 to-orange-600/30":t.threatLevel==="medium"?"from-amber-500/30 to-yellow-600/30":"from-emerald-500/30 to-teal-600/30"} flex items-center justify-center text-2xl font-bold text-white border ${a.bgClass}`,children:t.name?.[0]?.toUpperCase()||"?"}),s.jsx(V.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full ${t.threatLevel==="high"?"bg-red-500":t.threatLevel==="medium"?"bg-amber-500":"bg-emerald-500"} border-2 border-slate-900`})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold text-lg truncate group-hover:text-cyan-400 transition-colors",children:t.name}),s.jsx("p",{className:"text-slate-500 text-sm",children:t.school||"Unknown School"})]}),s.jsx(Q_,{level:t.threatLevel,size:"sm"})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[s.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400 text-sm",children:[s.jsx(yk,{className:"w-4 h-4"}),s.jsxs("span",{children:[t.debates?.total||0," debates"]})]}),s.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[s.jsx(Gt,{className:r>=50?"w-4 h-4 text-red-400":"w-4 h-4 text-emerald-400"}),s.jsxs("span",{className:r>=50?"text-red-400":"text-emerald-400",children:[t.debates?.wins||0,"W - ",t.debates?.losses||0,"L"]})]})]}),(t.strengths?.length>0||t.weaknesses?.length>0)&&s.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[t.strengths?.slice(0,2).map((o,c)=>s.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs bg-red-500/10 text-red-400 border border-red-500/20",children:[" ",o]},c)),t.weaknesses?.slice(0,2).map((o,c)=>s.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",children:[" ",o]},c))]})]}),s.jsx("div",{className:"hidden sm:block",children:s.jsx(XF,{winRate:r})})]}),s.jsx(on,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-600 group-hover:text-slate-400 group-hover:translate-x-1 transition-all"})]})]})},ZF=({opponent:t,onClose:e,onGenerateStrategy:n})=>{const[a,r]=T.useState("overview"),[o,c]=T.useState(!1);if(!t)return null;const d=Bl[t.threatLevel]||Bl.medium;t.debates?.total>0&&Math.round(t.debates.wins/t.debates.total*100);const m=async()=>{c(!0),await n?.(t),c(!1)};return s.jsxs(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"h-full overflow-hidden rounded-2xl border border-slate-800/60 bg-gradient-to-b from-slate-900/95 to-slate-950/95 backdrop-blur-xl",children:[s.jsxs("div",{className:"relative p-6 border-b border-slate-800 overflow-hidden",children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${t.threatLevel==="high"?"from-red-500/10 via-transparent to-orange-500/5":t.threatLevel==="medium"?"from-amber-500/10 via-transparent to-yellow-500/5":"from-emerald-500/10 via-transparent to-teal-500/5"}`}),s.jsxs("div",{className:"relative flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${t.threatLevel==="high"?"from-red-500/30 to-orange-600/30":t.threatLevel==="medium"?"from-amber-500/30 to-yellow-600/30":"from-emerald-500/30 to-teal-600/30"} flex items-center justify-center text-3xl font-bold text-white border ${d.bgClass}`,children:t.name?.[0]?.toUpperCase()||"?"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:t.name}),s.jsx("p",{className:"text-slate-400",children:t.school||"Unknown School"}),s.jsx(Q_,{level:t.threatLevel,size:"md"})]})]}),s.jsx(V.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:e,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(rn,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"flex items-center gap-2 p-4 border-b border-slate-800/50",children:[{id:"overview",label:"Overview",icon:Dn},{id:"history",label:"History",icon:Zt},{id:"strategy",label:"Strategy",icon:Dl}].map(f=>s.jsxs(V.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r(f.id),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium transition-all ${a===f.id?"bg-slate-800 text-white":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,children:[s.jsx(f.icon,{className:"w-4 h-4"}),f.label]},f.id))}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(100%-200px)] space-y-6",children:[a==="overview"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-800/50 text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-white",children:t.debates?.total||0}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Total Debates"})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-red-400",children:t.debates?.wins||0}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Your Losses"})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-emerald-500/10 border border-emerald-500/20 text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-emerald-400",children:t.debates?.losses||0}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Your Wins"})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Er,{className:"w-5 h-5 text-red-400"}),"Opponent Strengths"]}),s.jsx("div",{className:"space-y-2",children:t.strengths?.length>0?t.strengths.map((f,g)=>s.jsxs(V.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:g*.1},className:"flex items-center gap-3 p-3 rounded-xl bg-red-500/5 border border-red-500/20",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),s.jsx("span",{className:"text-slate-300",children:f})]},g)):s.jsx("p",{className:"text-slate-500 italic",children:"No strengths recorded yet"})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Bt,{className:"w-5 h-5 text-emerald-400"}),"Opponent Weaknesses"]}),s.jsx("div",{className:"space-y-2",children:t.weaknesses?.length>0?t.weaknesses.map((f,g)=>s.jsxs(V.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:g*.1},className:"flex items-center gap-3 p-3 rounded-xl bg-emerald-500/5 border border-emerald-500/20",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),s.jsx("span",{className:"text-slate-300",children:f})]},g)):s.jsx("p",{className:"text-slate-500 italic",children:"No weaknesses recorded yet"})})]}),t.commonArguments?.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[s.jsx(_n,{className:"w-5 h-5 text-cyan-400"}),"Common Arguments"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.commonArguments.map((f,g)=>s.jsx("span",{className:"px-3 py-1.5 rounded-full text-sm bg-cyan-500/10 text-cyan-400 border border-cyan-500/20",children:f},g))})]})]}),a==="history"&&s.jsx("div",{className:"space-y-4",children:t.debateHistory?.length>0?t.debateHistory.map((f,g)=>s.jsxs(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:g*.05},className:"flex items-center gap-4 p-4 rounded-xl bg-slate-800/30 border border-slate-800/50",children:[s.jsx("div",{className:`w-2 h-12 rounded-full ${f.result==="win"?"bg-emerald-500":"bg-red-500"}`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-medium",children:f.tournament}),s.jsxs("p",{className:"text-slate-500 text-sm",children:[f.round,"  ",f.date]})]}),s.jsx("span",{className:`px-3 py-1 rounded-lg text-sm font-medium ${f.result==="win"?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-400"}`,children:f.result==="win"?"Won":"Lost"})]},g)):s.jsx("p",{className:"text-slate-500 text-center py-8",children:"No debate history recorded"})}),a==="strategy"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx(V.button,{whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(168, 85, 247, 0.3)"},whileTap:{scale:.98},onClick:m,disabled:o,className:"w-full py-4 rounded-xl bg-gradient-to-r from-purple-500 to-pink-600 text-white font-semibold shadow-lg shadow-purple-500/25 flex items-center justify-center gap-3 disabled:opacity-50",children:o?s.jsxs(s.Fragment,{children:[s.jsx(V.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:s.jsx(ys,{className:"w-5 h-5"})}),"Generating AI Strategy..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Dl,{className:"w-5 h-5"}),"Generate AI Counter-Strategy",s.jsx(ys,{className:"w-5 h-5"})]})}),t.counterStrategies?.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-white font-semibold flex items-center gap-2",children:[s.jsx(Ii,{className:"w-5 h-5 text-purple-400"}),"Counter-Strategies"]}),t.counterStrategies.map((f,g)=>s.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-purple-500/5 border border-purple-500/20",children:s.jsx("p",{className:"text-slate-300",children:f})},g))]})]})]})]})},eB=({isOpen:t,onClose:e,onSave:n})=>{const[a,r]=T.useState({name:"",school:"",threatLevel:"medium",strengths:"",weaknesses:"",commonArguments:"",notes:""});if(!t)return null;const o=c=>{c.preventDefault(),n({...a,strengths:a.strengths.split(",").map(d=>d.trim()).filter(Boolean),weaknesses:a.weaknesses.split(",").map(d=>d.trim()).filter(Boolean),commonArguments:a.commonArguments.split(",").map(d=>d.trim()).filter(Boolean),debates:{total:0,wins:0,losses:0}}),e()};return s.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:c=>c.target===c.currentTarget&&e(),children:s.jsxs(V.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},className:"w-full max-w-lg bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-800 rounded-3xl shadow-2xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"relative p-6 border-b border-slate-800 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/10 via-transparent to-amber-500/10"}),s.jsxs("div",{className:"relative flex items-center justify-between",children:[s.jsx("div",{children:s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-xl bg-red-500/10 border border-red-500/30",children:s.jsx(Bt,{className:"w-5 h-5 text-red-400"})}),"Add Opponent"]})}),s.jsx(V.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:e,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(rn,{className:"w-5 h-5"})})]})]}),s.jsxs("form",{onSubmit:o,className:"p-6 space-y-5 overflow-y-auto max-h-[calc(90vh-140px)]",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Name *"}),s.jsx("input",{type:"text",value:a.name,onChange:c=>r({...a,name:c.target.value}),className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"School"}),s.jsx("input",{type:"text",value:a.school,onChange:c=>r({...a,school:c.target.value}),className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Threat Level"}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:Object.entries(Bl).map(([c,d])=>s.jsxs(V.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r({...a,threatLevel:c}),className:`p-3 rounded-xl border-2 transition-all text-center ${a.threatLevel===c?`${d.bgClass} border-current ${d.textClass}`:"bg-slate-800/30 border-slate-700 text-slate-400 hover:border-slate-600"}`,children:[s.jsx(d.icon,{className:`w-6 h-6 mx-auto mb-1 ${a.threatLevel===c?d.textClass:""}`}),s.jsx("span",{className:"text-sm font-medium",children:d.label.split(" ")[0]})]},c))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Strengths (comma-separated)"}),s.jsx("input",{type:"text",value:a.strengths,onChange:c=>r({...a,strengths:c.target.value}),placeholder:"e.g., Strong rebuttals, Fast speaking, Good evidence",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Weaknesses (comma-separated)"}),s.jsx("input",{type:"text",value:a.weaknesses,onChange:c=>r({...a,weaknesses:c.target.value}),placeholder:"e.g., Weak on CX, Poor time management",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Notes"}),s.jsx("textarea",{value:a.notes,onChange:c=>r({...a,notes:c.target.value}),placeholder:"Any additional observations...",rows:3,className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all resize-none"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-800",children:[s.jsx(V.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"px-6 py-3 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:"Cancel"}),s.jsx(V.button,{type:"submit",whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(239, 68, 68, 0.3)"},whileTap:{scale:.98},className:"px-8 py-3 rounded-xl bg-gradient-to-r from-red-500 to-orange-600 text-white font-semibold shadow-lg shadow-red-500/25",children:"Add Opponent"})]})]})]})})},tB=({apiKey:t})=>{const{user:e}=Pn(),{opponents:n,loading:a,saveOpponent:r,generateCounterStrategy:o}=kF(),[c,d]=T.useState(!1),[m,f]=T.useState(null),[g,b]=T.useState(""),[v,w]=T.useState("all"),j=T.useMemo(()=>(n||[]).filter(D=>{const L=D.name?.toLowerCase().includes(g.toLowerCase())||D.school?.toLowerCase().includes(g.toLowerCase()),R=v==="all"||D.threatLevel===v;return L&&R}),[n,g,v]),I=async D=>{await r(D)};return s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"h-full",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-red-500/20 to-orange-600/20 border border-red-500/30",children:s.jsx(Bt,{className:"w-7 h-7 text-red-400"})}),"Opponent Intelligence"]}),s.jsx("p",{className:"text-slate-400 mt-2",children:"Track, analyze, and prepare for your competition"})]}),s.jsxs(V.button,{whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(239, 68, 68, 0.3)"},whileTap:{scale:.98},onClick:()=>d(!0),className:"px-5 py-2.5 rounded-xl bg-gradient-to-r from-red-500 to-orange-600 text-white font-medium shadow-lg shadow-red-500/25 flex items-center gap-2",children:[s.jsx(Ct,{className:"w-5 h-5"}),"Add Opponent"]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(ki,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),s.jsx("input",{type:"text",value:g,onChange:D=>b(D.target.value),placeholder:"Search opponents...",className:"w-full pl-12 pr-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),s.jsx("div",{className:"flex items-center gap-2 p-1 bg-slate-900/50 rounded-xl border border-slate-800/50",children:[{id:"all",label:"All"},{id:"high",label:"High",color:"text-red-400"},{id:"medium",label:"Medium",color:"text-amber-400"},{id:"low",label:"Low",color:"text-emerald-400"}].map(D=>s.jsx("button",{onClick:()=>w(D.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${v===D.id?"bg-slate-800 text-white":`text-slate-400 hover:text-white ${D.color||""}`}`,children:D.label},D.id))})]}),a?s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[...Array(4)].map((D,L)=>s.jsx("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 animate-pulse",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-slate-800"}),s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsx("div",{className:"h-5 w-32 bg-slate-800 rounded"}),s.jsx("div",{className:"h-4 w-24 bg-slate-800 rounded"}),s.jsx("div",{className:"h-3 w-full bg-slate-800 rounded"})]})]})},L))}):j.length===0?s.jsx("div",{className:"p-8 rounded-3xl border border-slate-800/60 bg-gradient-to-b from-slate-900/50 to-slate-950/50",children:s.jsx(WF,{onAdd:()=>d(!0)})}):s.jsxs("div",{className:"grid lg:grid-cols-5 gap-6",children:[s.jsx(V.div,{variants:YF,initial:"hidden",animate:"visible",className:`${m?"lg:col-span-3":"lg:col-span-5"} space-y-4`,children:s.jsx("div",{className:`grid ${m?"grid-cols-1":"md:grid-cols-2"} gap-4`,children:j.map(D=>s.jsx(JF,{opponent:D,onClick:()=>f(D),isSelected:m?.id===D.id},D.id))})}),s.jsx(at,{children:m&&s.jsx("div",{className:"lg:col-span-2",children:s.jsx(ZF,{opponent:m,onClose:()=>f(null),onGenerateStrategy:o})})})]})]}),s.jsx(at,{children:c&&s.jsx(eB,{isOpen:c,onClose:()=>d(!1),onSave:I})})]})},nB={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.06}}},sB={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.3}}},uy=({rating:t,onChange:e,readonly:n=!0,size:a="md"})=>{const[r,o]=T.useState(0),c={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return s.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(d=>{const m=(r||t)>=d;return s.jsx(V.button,{type:"button",disabled:n,onClick:()=>!n&&e?.(d),onMouseEnter:()=>!n&&o(d),onMouseLeave:()=>o(0),whileHover:n?{}:{scale:1.2},whileTap:n?{}:{scale:.9},className:n?"cursor-default":"cursor-pointer",children:s.jsx(ln,{className:`${c[a]} transition-colors ${m?"text-amber-400 fill-amber-400":"text-slate-700"}`})},d)})})},Y_=({label:t,color:e="slate",onRemove:n,onClick:a})=>{const r={slate:"bg-slate-800 text-slate-300 hover:bg-slate-700 border-slate-700",cyan:"bg-cyan-500/10 text-cyan-400 hover:bg-cyan-500/20 border-cyan-500/30",emerald:"bg-emerald-500/10 text-emerald-400 hover:bg-emerald-500/20 border-emerald-500/30",purple:"bg-purple-500/10 text-purple-400 hover:bg-purple-500/20 border-purple-500/30",amber:"bg-amber-500/10 text-amber-400 hover:bg-amber-500/20 border-amber-500/30",red:"bg-red-500/10 text-red-400 hover:bg-red-500/20 border-red-500/30",blue:"bg-blue-500/10 text-blue-400 hover:bg-blue-500/20 border-blue-500/30"};return s.jsxs(V.span,{layout:!0,initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},whileHover:{scale:1.05},onClick:a,className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium border ${r[e]} transition-colors cursor-pointer`,children:[s.jsx(wf,{className:"w-3 h-3"}),t,n&&s.jsx("button",{onClick:o=>{o.stopPropagation(),n()},className:"ml-0.5 hover:text-white transition-colors",children:""})]})},aB=({onAdd:t})=>s.jsxs(V.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-20",children:[s.jsxs("div",{className:"relative inline-block mb-8",children:[s.jsx(V.div,{animate:{scale:[1,1.2,1],opacity:[.3,.1,.3]},transition:{duration:3,repeat:1/0},className:"absolute inset-0 w-32 h-32 rounded-full bg-cyan-500/20 blur-xl"}),s.jsx(V.div,{animate:{scale:[1,1.3,1],opacity:[.2,.05,.2]},transition:{duration:3,repeat:1/0,delay:.5},className:"absolute inset-0 w-32 h-32 rounded-full bg-blue-500/20 blur-xl"}),s.jsxs(V.div,{animate:{y:[0,-5,0]},transition:{duration:3,repeat:1/0},className:"relative p-6 rounded-3xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-slate-700/50 backdrop-blur-xl shadow-2xl",children:[s.jsx(Ti,{className:"w-16 h-16 text-cyan-400"}),s.jsx(V.div,{animate:{rotate:[0,10,0,-10,0]},transition:{duration:4,repeat:1/0},className:"absolute -top-2 -right-2",children:s.jsx(ys,{className:"w-6 h-6 text-amber-400"})})]})]}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Build Your Evidence Arsenal"}),s.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-8 leading-relaxed",children:"Store your best cards, organize by topic, and access them instantly during rounds. Quality evidence wins debates."}),s.jsxs(V.button,{whileHover:{scale:1.05,boxShadow:"0 20px 40px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},onClick:t,className:"px-8 py-4 rounded-2xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold text-lg shadow-lg shadow-cyan-500/25 inline-flex items-center gap-3",children:[s.jsx(Ct,{className:"w-5 h-5"}),"Add Your First Card",s.jsx(on,{className:"w-5 h-5"})]})]}),iB=({evidence:t,onClick:e,onCopy:n,isExpanded:a})=>{const[r,o]=T.useState(!1),[c,d]=T.useState(!1),m=g=>{g.stopPropagation(),navigator.clipboard.writeText(t.content),o(!0),setTimeout(()=>o(!1),2e3),n?.()},f=["cyan","purple","emerald","amber","blue","red"];return s.jsxs(V.div,{variants:sB,whileHover:{scale:1.01,y:-4},onClick:e,className:"relative group cursor-pointer",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/10 via-blue-500/10 to-purple-500/10 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-all duration-500"}),s.jsxs("div",{className:"glass-panel relative p-5 overflow-hidden group-hover:border-white/20 transition-all",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-cyan-500/5 to-transparent rounded-full -translate-y-1/2 translate-x-1/2"}),s.jsxs("div",{className:"relative flex items-start justify-between gap-3 mb-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-white font-semibold text-lg truncate group-hover:text-cyan-400 transition-colors",children:t.title}),s.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-slate-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Pl,{className:"w-3.5 h-3.5"}),t.author||"Unknown"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ks,{className:"w-3.5 h-3.5"}),t.year||"N/A"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(uy,{rating:t.quality||3,size:"sm"}),s.jsx("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(V.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:m,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:r?s.jsx(Rn,{className:"w-4 h-4 text-emerald-400"}):s.jsx(Js,{className:"w-4 h-4"})})})]})]}),s.jsxs("div",{className:"relative mb-4",children:[s.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 rounded-full bg-gradient-to-b from-cyan-500 to-blue-600"}),s.jsxs("p",{className:"pl-4 text-slate-400 text-sm line-clamp-3 leading-relaxed italic",children:['"',t.content,'"']})]}),t.source&&s.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm",children:[s.jsx(bf,{className:"w-4 h-4 text-slate-500"}),s.jsx("span",{className:"text-slate-500 truncate",children:t.source})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.tags?.slice(0,4).map((g,b)=>s.jsx(Y_,{label:g,color:f[b%f.length]},g)),t.tags?.length>4&&s.jsxs("span",{className:"text-xs text-slate-500 self-center",children:["+",t.tags.length-4," more"]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-slate-800/50",children:[s.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(_n,{className:"w-3.5 h-3.5"}),"Used ",t.usageCount||0," times"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Zt,{className:"w-3.5 h-3.5"}),t.lastUsed?new Date(t.lastUsed).toLocaleDateString():"Never"]})]}),t.bookmarked&&s.jsx(qj,{className:"w-4 h-4 text-amber-400"})]}),s.jsx(on,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-600 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]})]})},rB=({evidence:t,format:e="mla"})=>{const[n,a]=T.useState(!1),r=()=>{const{author:c,title:d,source:m,year:f,url:g}=t;switch(e){case"mla":return`${c||"Unknown"}. "${d}." ${m||"N/A"}, ${f||"n.d."}.`;case"apa":return`${c||"Unknown"}. (${f||"n.d."}) ${d}. ${m||"N/A"}.`;case"chicago":return`${c||"Unknown"}. "${d}." ${m||"N/A"} (${f||"n.d."}).`;default:return`${c||"Unknown"} - ${d} (${f||"n.d."})`}},o=()=>{navigator.clipboard.writeText(r()),a(!0),setTimeout(()=>a(!1),2e3)};return s.jsxs("div",{className:"p-4 rounded-xl bg-slate-950/30 border border-white/10",children:[s.jsx("p",{className:"text-slate-300 text-sm font-mono",children:r()}),s.jsxs(V.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:o,className:"mt-3 px-4 py-2 rounded-lg bg-slate-700 text-white text-sm font-medium hover:bg-slate-600 transition-colors flex items-center gap-2",children:[n?s.jsx(Rn,{className:"w-4 h-4 text-emerald-400"}):s.jsx(Js,{className:"w-4 h-4"}),n?"Copied!":"Copy Citation"]})]})},lB=({evidence:t,isOpen:e,onClose:n,onEdit:a,onDelete:r})=>{const[o,c]=T.useState("mla"),[d,m]=T.useState(!1);if(!e||!t)return null;const f=()=>{navigator.clipboard.writeText(t.content),m(!0),setTimeout(()=>m(!1),2e3)};return s.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:g=>g.target===g.currentTarget&&n(),children:s.jsxs(V.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},className:"glass-panel w-full max-w-3xl max-h-[90vh] overflow-hidden p-0",children:[s.jsxs("div",{className:"relative p-6 border-b border-white/10 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 via-transparent to-blue-500/10"}),s.jsxs("div",{className:"relative flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:t.title}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[s.jsxs("span",{className:"text-slate-400 flex items-center gap-1.5",children:[s.jsx(Pl,{className:"w-4 h-4"}),t.author||"Unknown"]}),s.jsxs("span",{className:"text-slate-400 flex items-center gap-1.5",children:[s.jsx(Ks,{className:"w-4 h-4"}),t.year||"N/A"]}),s.jsx(uy,{rating:t.quality||3})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(V.button,{whileHover:{scale:1.1},onClick:a,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx($l,{className:"w-5 h-5"})}),s.jsx(V.button,{whileHover:{scale:1.1,rotate:90},onClick:n,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(rn,{className:"w-5 h-5"})})]})]})]}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)] space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-white font-semibold flex items-center gap-2",children:[s.jsx(KA,{className:"w-5 h-5 text-cyan-400"}),"Evidence Content"]}),s.jsxs(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,className:"px-3 py-1.5 rounded-lg bg-slate-800 text-slate-300 text-sm font-medium hover:bg-slate-700 transition-colors flex items-center gap-2",children:[d?s.jsx(Rn,{className:"w-4 h-4 text-emerald-400"}):s.jsx(Js,{className:"w-4 h-4"}),d?"Copied!":"Copy"]})]}),s.jsxs("div",{className:"relative p-5 rounded-xl bg-slate-950/30 border border-white/5",children:[s.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 rounded-full bg-gradient-to-b from-cyan-500 to-blue-600"}),s.jsx("p",{className:"pl-4 text-slate-300 leading-relaxed whitespace-pre-wrap",children:t.content})]})]}),t.source&&s.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-slate-950/30 border border-white/5",children:[s.jsx(bf,{className:"w-5 h-5 text-slate-500"}),s.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-colors flex items-center gap-2",children:[t.source,s.jsx(Hj,{className:"w-4 h-4"})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[s.jsx(wf,{className:"w-5 h-5 text-purple-400"}),"Tags"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags?.map((g,b)=>s.jsx(Y_,{label:g,color:["cyan","purple","emerald","amber","blue"][b%5]},g))})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[s.jsx(_n,{className:"w-5 h-5 text-amber-400"}),"Citation"]}),s.jsx("div",{className:"flex items-center gap-2 mb-3",children:["mla","apa","chicago"].map(g=>s.jsx("button",{onClick:()=>c(g),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${o===g?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-slate-800 text-slate-400 hover:text-white"}`,children:g.toUpperCase()},g))}),s.jsx(rB,{evidence:t,format:o})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-xl bg-slate-950/30 text-center border border-white/5",children:[s.jsx("p",{className:"text-2xl font-bold text-white",children:t.usageCount||0}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Times Used"})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-slate-950/30 text-center border border-white/5",children:[s.jsx("p",{className:"text-2xl font-bold text-white",children:t.quality||0}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Quality Rating"})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-slate-950/30 text-center border border-white/5",children:[s.jsx("p",{className:"text-2xl font-bold text-white",children:t.lastUsed?new Date(t.lastUsed).toLocaleDateString():"Never"}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Last Used"})]})]})]})]})})},oB=({isOpen:t,onClose:e,onSave:n})=>{const[a,r]=T.useState({title:"",author:"",year:"",source:"",url:"",content:"",tags:"",quality:3});if(!t)return null;const o=c=>{c.preventDefault(),n({...a,tags:a.tags.split(",").map(d=>d.trim()).filter(Boolean),usageCount:0,createdAt:new Date().toISOString()}),e(),r({title:"",author:"",year:"",source:"",url:"",content:"",tags:"",quality:3})};return s.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:c=>c.target===c.currentTarget&&e(),children:s.jsxs(V.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},className:"glass-panel w-full max-w-2xl max-h-[90vh] overflow-hidden p-0",children:[s.jsxs("div",{className:"relative p-6 border-b border-white/10 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 via-transparent to-blue-500/10"}),s.jsxs("div",{className:"relative flex items-center justify-between",children:[s.jsx("div",{children:s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-xl bg-cyan-500/10 border border-cyan-500/30",children:s.jsx(Ti,{className:"w-5 h-5 text-cyan-400"})}),"Add Evidence Card"]})}),s.jsx(V.button,{whileHover:{scale:1.1,rotate:90},onClick:e,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(rn,{className:"w-5 h-5"})})]})]}),s.jsxs("form",{onSubmit:o,className:"p-6 space-y-5 overflow-y-auto max-h-[calc(90vh-140px)]",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Card Title *"}),s.jsx("input",{type:"text",value:a.title,onChange:c=>r({...a,title:c.target.value}),placeholder:"e.g., Climate Change Impact on Economy",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Author"}),s.jsx("input",{type:"text",value:a.author,onChange:c=>r({...a,author:c.target.value}),placeholder:"Author name",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Year"}),s.jsx("input",{type:"text",value:a.year,onChange:c=>r({...a,year:c.target.value}),placeholder:"2024",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Quality"}),s.jsx("div",{className:"pt-2",children:s.jsx(uy,{rating:a.quality,onChange:c=>r({...a,quality:c}),readonly:!1})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Source / Publication"}),s.jsx("input",{type:"text",value:a.source,onChange:c=>r({...a,source:c.target.value}),placeholder:"e.g., The New York Times, Nature Journal",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"URL (optional)"}),s.jsx("input",{type:"url",value:a.url,onChange:c=>r({...a,url:c.target.value}),placeholder:"https://...",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Evidence Content *"}),s.jsx("textarea",{value:a.content,onChange:c=>r({...a,content:c.target.value}),placeholder:"Paste your evidence card content here...",rows:5,className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all resize-none",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Tags (comma-separated)"}),s.jsx("input",{type:"text",value:a.tags,onChange:c=>r({...a,tags:c.target.value}),placeholder:"e.g., climate, economy, impact, 2024",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-800",children:[s.jsx(V.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"px-6 py-3 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:"Cancel"}),s.jsx(V.button,{type:"submit",whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},className:"px-8 py-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold shadow-lg shadow-cyan-500/25",children:"Add Evidence"})]})]})]})})},cB=({apiKey:t})=>{const{user:e}=Pn(),{evidence:n,loading:a,saveEvidence:r,deleteEvidence:o}=IF(),[c,d]=T.useState(!1),[m,f]=T.useState(null),[g,b]=T.useState(""),[v,w]=T.useState("all"),[j,I]=T.useState("recent"),D=T.useMemo(()=>{const R=new Set;return n?.forEach($=>$.tags?.forEach(q=>R.add(q))),Array.from(R)},[n]),L=T.useMemo(()=>{let R=[...n||[]];if(g){const $=g.toLowerCase();R=R.filter(q=>q.title?.toLowerCase().includes($)||q.content?.toLowerCase().includes($)||q.author?.toLowerCase().includes($)||q.tags?.some(X=>X.toLowerCase().includes($)))}switch(v!=="all"&&(R=R.filter($=>$.tags?.includes(v))),j){case"recent":R.sort(($,q)=>new Date(q.createdAt)-new Date($.createdAt));break;case"quality":R.sort(($,q)=>(q.quality||0)-($.quality||0));break;case"usage":R.sort(($,q)=>(q.usageCount||0)-($.usageCount||0));break;case"alpha":R.sort(($,q)=>$.title?.localeCompare(q.title));break}return R},[n,g,v,j]);return s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-600/20 border border-cyan-500/30",children:s.jsx(Ti,{className:"w-7 h-7 text-cyan-400"})}),"Evidence Library"]}),s.jsxs("p",{className:"text-slate-400 mt-2",children:[n?.length||0," cards  Organize and access your research instantly"]})]}),s.jsxs(V.button,{whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},onClick:()=>d(!0),className:"px-5 py-2.5 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-medium shadow-lg shadow-cyan-500/25 flex items-center gap-2",children:[s.jsx(Ct,{className:"w-5 h-5"}),"Add Card"]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(ki,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),s.jsx("input",{type:"text",value:g,onChange:R=>b(R.target.value),placeholder:"Search evidence...",className:"w-full pl-12 pr-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsxs("select",{value:v,onChange:R=>w(R.target.value),className:"px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none transition-all",children:[s.jsx("option",{value:"all",children:"All Tags"}),D.map(R=>s.jsx("option",{value:R,children:R},R))]}),s.jsxs("select",{value:j,onChange:R=>I(R.target.value),className:"px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none transition-all",children:[s.jsx("option",{value:"recent",children:"Most Recent"}),s.jsx("option",{value:"quality",children:"Highest Quality"}),s.jsx("option",{value:"usage",children:"Most Used"}),s.jsx("option",{value:"alpha",children:"Alphabetical"})]})]})]}),a?s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[...Array(4)].map((R,$)=>s.jsx("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 animate-pulse",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-5 w-3/4 bg-slate-800 rounded"}),s.jsx("div",{className:"h-4 w-1/2 bg-slate-800 rounded"}),s.jsx("div",{className:"h-20 bg-slate-800 rounded"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"h-6 w-16 bg-slate-800 rounded-full"}),s.jsx("div",{className:"h-6 w-16 bg-slate-800 rounded-full"})]})]})},$))}):L.length===0?s.jsx("div",{className:"p-8 rounded-3xl border border-slate-800/60 bg-gradient-to-b from-slate-900/50 to-slate-950/50",children:n?.length===0?s.jsx(aB,{onAdd:()=>d(!0)}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ki,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Results Found"}),s.jsx("p",{className:"text-slate-400",children:"Try adjusting your search or filters"})]})}):s.jsx(V.div,{variants:nB,initial:"hidden",animate:"visible",className:"grid md:grid-cols-2 gap-4",children:L.map(R=>s.jsx(iB,{evidence:R,onClick:()=>f(R)},R.id))})]}),s.jsx(at,{children:c&&s.jsx(oB,{isOpen:c,onClose:()=>d(!1),onSave:r})}),s.jsx(at,{children:m&&s.jsx(lB,{evidence:m,isOpen:!!m,onClose:()=>f(null),onEdit:()=>{},onDelete:()=>o(m.id)})})]})},Du=["gemini-2.5-flash","gemini-1.5-pro"];async function uB(t,e,n=[]){for(const a of Du)try{const r=[{text:e}];n.length>0&&n.forEach(d=>{d.base64&&r.push({inline_data:{mime_type:d.mimeType||"image/jpeg",data:d.base64}})});const o=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${a}:generateContent?key=${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:r}]})});if(!o.ok){const d=await o.json().catch(()=>({}));if(a===Du[Du.length-1])throw new Error(`Gemini API Error: ${d.error?.message||o.statusText}`);continue}return(await o.json()).candidates?.[0]?.content?.parts?.[0]?.text||""}catch(r){if(a===Du[Du.length-1])throw r}}const dB=({show:t})=>t?s.jsx("div",{className:"fixed inset-0 pointer-events-none z-[60]",children:[...Array(50)].map((e,n)=>s.jsx(V.div,{initial:{opacity:1,y:-20,x:Math.random()*window.innerWidth,rotate:0,scale:1},animate:{opacity:0,y:window.innerHeight+100,rotate:720,scale:.5},transition:{duration:3+Math.random()*2,delay:Math.random()*.5,ease:"easeOut"},className:"absolute",style:{width:10+Math.random()*10,height:10+Math.random()*10,background:["#22d3ee","#a855f7","#f97316","#22c55e","#eab308"][Math.floor(Math.random()*5)],borderRadius:Math.random()>.5?"50%":"2px"}},n))}):null,K_=({progress:t,size:e=200,strokeWidth:n=8,color:a="cyan",children:r})=>{const o=(e-n)/2,c=o*2*Math.PI,d=c-t/100*c,m={cyan:{stroke:"stroke-cyan-400",glow:"drop-shadow-[0_0_15px_rgba(34,211,238,0.6)]"},purple:{stroke:"stroke-purple-400",glow:"drop-shadow-[0_0_15px_rgba(168,85,247,0.6)]"},orange:{stroke:"stroke-orange-400",glow:"drop-shadow-[0_0_15px_rgba(251,146,60,0.6)]"},emerald:{stroke:"stroke-emerald-400",glow:"drop-shadow-[0_0_15px_rgba(52,211,153,0.6)]"},amber:{stroke:"stroke-amber-400",glow:"drop-shadow-[0_0_15px_rgba(251,191,36,0.6)]"},red:{stroke:"stroke-red-400",glow:"drop-shadow-[0_0_15px_rgba(248,113,113,0.6)]"}},f=m[a]||m.cyan;return s.jsxs("div",{className:"relative",style:{width:e,height:e},children:[s.jsxs("svg",{className:`transform -rotate-90 ${f.glow}`,width:e,height:e,children:[s.jsx("circle",{cx:e/2,cy:e/2,r:o,stroke:"currentColor",strokeWidth:n,fill:"none",className:"text-slate-800/60"}),s.jsx(V.circle,{cx:e/2,cy:e/2,r:o,stroke:"currentColor",strokeWidth:n,fill:"none",strokeLinecap:"round",className:f.stroke,initial:{strokeDashoffset:c},animate:{strokeDashoffset:d},transition:{duration:.5,ease:"easeOut"},style:{strokeDasharray:c}})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r})]})},hB=({isActive:t,color:e="red"})=>s.jsxs("div",{className:"relative flex items-center justify-center",children:[t&&s.jsxs(s.Fragment,{children:[s.jsx(V.div,{animate:{scale:[1,1.5,1],opacity:[.5,0,.5]},transition:{duration:1.5,repeat:1/0},className:`absolute w-4 h-4 rounded-full bg-${e}-500`}),s.jsx(V.div,{animate:{scale:[1,2,1],opacity:[.3,0,.3]},transition:{duration:1.5,repeat:1/0,delay:.2},className:`absolute w-4 h-4 rounded-full bg-${e}-500`})]}),s.jsx(V.div,{animate:t?{scale:[1,1.1,1]}:{},transition:{duration:.5,repeat:1/0},className:`w-4 h-4 rounded-full ${t?`bg-${e}-500`:"bg-slate-600"}`})]}),mB=({className:t=""})=>s.jsx("div",{className:`animate-pulse bg-gradient-to-r from-slate-800/50 via-slate-700/50 to-slate-800/50 rounded-xl ${t}`}),fB=({value:t,duration:e=1e3})=>{const[n,a]=T.useState(0);return T.useEffect(()=>{if(typeof t!="number")return;let r;const o=c=>{r||(r=c);const d=Math.min((c-r)/e,1);a(Math.floor(d*t)),d<1&&requestAnimationFrame(o)};requestAnimationFrame(o)},[t,e]),s.jsx("span",{children:n})},bm=[{id:"timed-response",name:"Timed Response",description:"Practice speaking for set durations",icon:Zt,color:"cyan",gradient:"from-cyan-500/20 to-blue-500/20",borderGlow:"hover:shadow-[0_0_30px_rgba(34,211,238,0.15)]",durations:[30,60,120,180,240]},{id:"refutation",name:"Argument Refutation",description:"Counter arguments under pressure",icon:Bt,color:"purple",gradient:"from-purple-500/20 to-pink-500/20",borderGlow:"hover:shadow-[0_0_30px_rgba(168,85,247,0.15)]",durations:[30,60]},{id:"cross-ex",name:"Cross Examination",description:"Practice CX questions & answers",icon:$n,color:"orange",gradient:"from-orange-500/20 to-amber-500/20",borderGlow:"hover:shadow-[0_0_30px_rgba(251,146,60,0.15)]",durations:[180]},{id:"impromptu",name:"Impromptu Topics",description:"Random topics, minimal prep",icon:n5,color:"emerald",gradient:"from-emerald-500/20 to-teal-500/20",borderGlow:"hover:shadow-[0_0_30px_rgba(52,211,153,0.15)]",durations:[120,180,300]}],pB={"timed-response":["Explain why education funding should be increased","Argue for or against social media regulation","Defend the importance of free speech on college campuses","Explain the benefits of renewable energy investment","Argue for or against universal basic income","Discuss the ethics of artificial intelligence","Defend the role of government in healthcare","Explain why immigration reform is necessary"],refutation:[{claim:"Minimum wage increases cause unemployment",side:"oppose"},{claim:"Climate change is the most pressing issue of our time",side:"oppose"},{claim:"Privacy should be sacrificed for national security",side:"oppose"},{claim:"Standardized testing improves education outcomes",side:"oppose"},{claim:"Social media companies should be liable for user content",side:"oppose"},{claim:"Universal healthcare would bankrupt the economy",side:"oppose"}],"cross-ex":[{topic:"Government surveillance",role:"questioner"},{topic:"Criminal justice reform",role:"questioner"},{topic:"Environmental regulations",role:"questioner"},{topic:"Free trade agreements",role:"answerer"},{topic:"Immigration policy",role:"answerer"}],impromptu:["Technology has made us more connected but less social","The pen is mightier than the sword","History repeats itself","Money can't buy happiness","Actions speak louder than words","The ends justify the means","Knowledge is power"]},gB=({onStart:t})=>s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:[s.jsxs("div",{className:"relative w-32 h-32 mx-auto mb-8",children:[s.jsx(V.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute inset-0 rounded-full border-2 border-dashed border-slate-700"}),s.jsx(V.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"absolute inset-4 rounded-full bg-gradient-to-br from-cyan-500/20 to-purple-500/20 border border-cyan-500/30 flex items-center justify-center",children:s.jsx(Bt,{className:"w-12 h-12 text-cyan-400"})}),[0,1,2].map(e=>s.jsx(V.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear",delay:e*1},className:"absolute inset-0",style:{transformOrigin:"center center"},children:s.jsx("div",{className:"absolute w-3 h-3 rounded-full bg-cyan-400",style:{top:0,left:"50%",transform:"translateX(-50%)"}})},e))]}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Ready to Level Up?"}),s.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-8 text-lg",children:"Sharpen your skills with timed drills, refutation practice, and cross-examination simulations."}),s.jsxs(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"group relative px-8 py-4 rounded-2xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-semibold shadow-lg shadow-cyan-500/25 hover:shadow-cyan-500/40 transition-all inline-flex items-center gap-3",children:[s.jsx(Ei,{className:"w-5 h-5"}),"Start Your First Drill",s.jsx(V.span,{animate:{x:[0,4,0]},transition:{duration:1,repeat:1/0},children:s.jsx(Wo,{className:"w-5 h-5"})})]})]}),ym=({icon:t,label:e,value:n,color:a,suffix:r=""})=>{const o={cyan:"from-cyan-500/10 via-cyan-500/5 to-transparent border-cyan-500/20",purple:"from-purple-500/10 via-purple-500/5 to-transparent border-purple-500/20",orange:"from-orange-500/10 via-orange-500/5 to-transparent border-orange-500/20",emerald:"from-emerald-500/10 via-emerald-500/5 to-transparent border-emerald-500/20"},c={cyan:"text-cyan-400 bg-cyan-500/10",purple:"text-purple-400 bg-purple-500/10",orange:"text-orange-400 bg-orange-500/10",emerald:"text-emerald-400 bg-emerald-500/10"};return s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-4,scale:1.02},className:`relative overflow-hidden p-5 rounded-2xl bg-gradient-to-br ${o[a]} border backdrop-blur-sm transition-all duration-300`,children:[s.jsx("div",{className:`absolute -top-10 -right-10 w-32 h-32 rounded-full bg-${a}-500/10 blur-3xl`}),s.jsxs("div",{className:"relative flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${c[a]}`,children:s.jsx(t,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsxs("p",{className:`text-2xl font-bold text-${a}-400`,children:[typeof n=="number"?s.jsx(fB,{value:n}):n,r]}),s.jsx("p",{className:"text-slate-400 text-sm mt-0.5",children:e})]})]})]})},xB=({drill:t,onSelect:e,index:n})=>{const a=t.icon;return s.jsxs(V.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},whileHover:{y:-8,scale:1.02},whileTap:{scale:.98},onClick:()=>e(t),className:`group relative w-full p-6 rounded-2xl border border-slate-800/60 bg-gradient-to-br ${t.gradient} backdrop-blur-sm hover:border-${t.color}-500/50 ${t.borderGlow} transition-all duration-500 text-left overflow-hidden`,children:[s.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:s.jsx(V.div,{animate:{rotate:360},transition:{duration:30,repeat:1/0,ease:"linear"},className:`absolute -top-20 -right-20 w-40 h-40 rounded-full bg-${t.color}-500/10 blur-2xl`})}),s.jsxs("div",{className:"relative",children:[s.jsx(V.div,{whileHover:{rotate:[0,-10,10,0],scale:1.1},transition:{duration:.5},className:`w-16 h-16 rounded-2xl bg-${t.color}-500/10 border border-${t.color}-500/30 flex items-center justify-center mb-5 group-hover:shadow-lg group-hover:shadow-${t.color}-500/20 transition-all`,children:s.jsx(a,{className:`w-8 h-8 text-${t.color}-400`})}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-${drill.color}-300 transition-colors",children:t.name}),s.jsx("p",{className:"text-slate-400 text-sm mb-5 line-clamp-2",children:t.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.durations.slice(0,3).map(r=>s.jsx("span",{className:`px-3 py-1.5 rounded-lg bg-slate-800/60 text-slate-300 text-xs font-medium border border-slate-700/50 group-hover:border-${t.color}-500/30 transition-colors`,children:r<60?`${r}s`:`${r/60}m`},r)),t.durations.length>3&&s.jsxs("span",{className:"text-slate-500 text-xs font-medium",children:["+",t.durations.length-3," more"]})]}),s.jsxs(V.div,{initial:{opacity:0,x:-10},whileHover:{opacity:1,x:0},className:`absolute top-6 right-6 flex items-center gap-2 text-${t.color}-400 text-sm font-medium`,children:["Start",s.jsx(on,{className:"w-4 h-4"})]})]})]})},bB=({drill:t,onSelect:e,onCancel:n})=>{const a=t.icon;return s.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",children:s.jsxs(V.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:`w-full max-w-md bg-gradient-to-br from-slate-900 via-slate-900 to-${t.color}-950/20 border border-slate-800 rounded-3xl shadow-2xl shadow-${t.color}-500/10 p-8`,children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(V.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},className:`w-20 h-20 rounded-2xl bg-${t.color}-500/10 border border-${t.color}-500/30 flex items-center justify-center mx-auto mb-5`,children:s.jsx(a,{className:`w-10 h-10 text-${t.color}-400`})}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:t.name}),s.jsx("p",{className:"text-slate-400 text-sm mt-2",children:"How long do you want to practice?"})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.durations.map((r,o)=>s.jsxs(V.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+o*.1},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(r),className:`group p-5 rounded-2xl bg-slate-800/50 border border-slate-700/50 hover:border-${t.color}-500/50 hover:bg-${t.color}-500/10 transition-all text-center`,children:[s.jsx("span",{className:`text-3xl font-bold text-white group-hover:text-${t.color}-400 transition-colors`,children:r<60?r:r/60}),s.jsx("span",{className:"text-slate-400 text-sm ml-1 block mt-1",children:r<60?"seconds":"minutes"})]},r))}),s.jsx(V.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},onClick:n,className:"w-full mt-6 py-4 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all font-medium",children:"Cancel"})]})})},yB=({duration:t,isRunning:e,onComplete:n})=>{const[a,r]=T.useState(t),[o,c]=T.useState(100);T.useEffect(()=>{r(t),c(100)},[t]),T.useEffect(()=>{if(!e||a<=0){a<=0&&n?.();return}const f=setInterval(()=>{r(g=>{const b=g-1;return c(b/t*100),b})},1e3);return()=>clearInterval(f)},[e,a,t,n]);const d=f=>{const g=Math.floor(f/60),b=f%60;return`${g}:${b.toString().padStart(2,"0")}`},m=()=>o>50?"cyan":o>25?"amber":"red";return s.jsx(K_,{progress:o,size:220,strokeWidth:10,color:m(),children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(V.span,{initial:{scale:1.1,opacity:0},animate:{scale:1,opacity:1},className:`text-5xl font-bold tracking-tight text-${m()}-400`,children:d(a)},a),s.jsx("span",{className:"text-slate-500 text-sm mt-1",children:"remaining"})]})})},vB=({score:t,onContinue:e})=>{const a=t>=90?{icon:Qa,color:"amber",message:"Outstanding!",subtitle:"You're a debate champion!"}:t>=80?{icon:Gt,color:"cyan",message:"Excellent!",subtitle:"Top-tier performance!"}:t>=70?{icon:Xu,color:"purple",message:"Great Job!",subtitle:"Keep up the momentum!"}:t>=60?{icon:ln,color:"emerald",message:"Good Work!",subtitle:"Room to grow, but solid!"}:{icon:Bt,color:"orange",message:"Keep Practicing!",subtitle:"Every session makes you better!"},r=a.icon;return s.jsxs(V.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center py-12",children:[s.jsx(V.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",damping:10},className:`w-28 h-28 rounded-full bg-gradient-to-br from-${a.color}-500/20 to-${a.color}-600/10 border-2 border-${a.color}-500/40 mx-auto mb-6 flex items-center justify-center shadow-xl shadow-${a.color}-500/20`,children:s.jsx(r,{className:`w-14 h-14 text-${a.color}-400`})}),s.jsx(V.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-bold text-white mb-2",children:a.message}),s.jsx(V.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-slate-400 mb-6",children:a.subtitle}),t&&s.jsxs(V.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.5,type:"spring"},className:`inline-flex items-center gap-3 px-6 py-3 rounded-2xl bg-${a.color}-500/10 border border-${a.color}-500/30`,children:[s.jsx(ys,{className:`w-5 h-5 text-${a.color}-400`}),s.jsx("span",{className:"text-3xl font-bold text-white",children:t}),s.jsx("span",{className:"text-slate-400",children:"/100"})]}),s.jsx(V.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"block mx-auto mt-8 px-8 py-4 rounded-2xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-semibold shadow-lg shadow-cyan-500/25",children:"Continue"})]})},wB=({drill:t,duration:e,prompt:n,onComplete:a,onCancel:r,apiKey:o})=>{const[c,d]=T.useState("prep"),[m,f]=T.useState(!1),[g,b]=T.useState(!1),[v,w]=T.useState(15),[j,I]=T.useState(null),[D,L]=T.useState(!1),[R,$]=T.useState(""),[q,X]=T.useState(!1),G=T.useRef(null);T.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const J=window.SpeechRecognition||window.webkitSpeechRecognition;G.current=new J,G.current.continuous=!0,G.current.interimResults=!0,G.current.onresult=K=>{let H="";for(let Z=K.resultIndex;Z<K.results.length;Z++)K.results[Z].isFinal&&(H+=K.results[Z][0].transcript+" ");H&&$(Z=>Z+H)}}},[]);const k=async()=>{try{b(!0),G.current&&G.current.start()}catch(J){console.error("Error starting recording:",J)}},A=()=>{b(!1),G.current&&G.current.stop()},O=()=>{d("active"),f(!0),k()},C=async()=>{if(f(!1),A(),d("review"),R&&o){L(!0);try{const J=`Analyze this debate practice response. The drill was: "${n}"

The speaker said:
"${R}"

Duration: ${e} seconds

Provide a brief analysis covering:
1. **Content Quality** (1-10): Were the arguments clear and relevant?
2. **Structure** (1-10): Was there a clear organization?
3. **Delivery Estimate** (1-10): Based on word count and sentence structure
4. **Strengths**: What worked well
5. **Areas to Improve**: Specific suggestions
6. **Overall Score**: X/10

Keep the response concise but actionable.`,K=await uB(J,o);I(K);const H=z(K);H&&H>=70&&(X(!0),setTimeout(()=>X(!1),4e3))}catch(J){console.error("Analysis error:",J)}finally{L(!1)}}},M=()=>{const J=j?z(j):null;J&&J>=80?d("celebration"):a({type:t.id,duration:e,prompt:n,transcript:R,analysis:j,score:J})},z=J=>{const K=J.match(/Overall Score[:\s]*(\d+)/i);return K?parseInt(K[1])*10:null},E=t.icon;return s.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 backdrop-blur-xl flex items-center justify-center p-6 overflow-y-auto",children:[s.jsx(dB,{show:q}),s.jsxs("div",{className:"w-full max-w-3xl",children:[s.jsxs(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl bg-${t.color}-500/10 border border-${t.color}-500/30 flex items-center justify-center`,children:s.jsx(E,{className:`w-5 h-5 text-${t.color}-400`})}),t.name]}),s.jsxs("p",{className:"text-slate-400 mt-1",children:[c==="prep"&&"Prepare your response",c==="active"&&"Speak now!",c==="review"&&"Review your performance",c==="celebration"&&"Congratulations!"]})]}),s.jsx(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:r,className:"px-4 py-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all border border-transparent hover:border-slate-700",children:"Exit"})]}),s.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`p-6 rounded-2xl bg-gradient-to-br from-${t.color}-500/10 to-transparent border border-${t.color}-500/20 mb-8`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-2 rounded-lg bg-${t.color}-500/10`,children:s.jsx($r,{className:`w-5 h-5 text-${t.color}-400`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-2",children:"Your Prompt"}),s.jsx("p",{className:"text-xl text-white font-medium",children:typeof n=="object"?n.claim||n.topic:n}),typeof n=="object"&&n.role&&s.jsxs("span",{className:`inline-block mt-3 px-4 py-2 rounded-xl text-sm font-medium ${n.role==="questioner"?"bg-purple-500/10 text-purple-400 border border-purple-500/30":"bg-cyan-500/10 text-cyan-400 border border-cyan-500/30"}`,children:["Role: ",n.role.charAt(0).toUpperCase()+n.role.slice(1)]})]})]})}),s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[350px]",children:[c==="prep"&&s.jsxs(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[s.jsx(K_,{progress:100,size:180,color:"cyan",children:s.jsx(V.span,{initial:{scale:1.3,opacity:0},animate:{scale:1,opacity:1},className:"text-6xl font-bold text-cyan-400",children:v},v)}),s.jsx("p",{className:"text-slate-400 mt-4 mb-8 text-lg",children:"seconds to prepare"}),s.jsx("div",{className:"flex items-center gap-4 justify-center",children:s.jsxs(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:O,className:"px-10 py-5 rounded-2xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-bold text-lg shadow-lg shadow-cyan-500/30 hover:shadow-cyan-500/50 transition-all flex items-center gap-3",children:[s.jsx(Ei,{className:"w-6 h-6"}),"Start Speaking"]})}),s.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[s.jsx("button",{onClick:()=>w(Math.max(5,v-5)),className:"px-4 py-2 rounded-xl bg-slate-800/50 text-slate-400 hover:text-white transition-colors border border-slate-700/50 hover:border-slate-600",children:"-5s"}),s.jsx("button",{onClick:()=>w(v+5),className:"px-4 py-2 rounded-xl bg-slate-800/50 text-slate-400 hover:text-white transition-colors border border-slate-700/50 hover:border-slate-600",children:"+5s"})]})]}),c==="active"&&s.jsxs(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center w-full",children:[s.jsx(yB,{duration:e,isRunning:m,onComplete:C}),s.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"flex items-center justify-center gap-4 mt-8",children:[s.jsx(hB,{isActive:g}),s.jsx("span",{className:g?"text-red-400 font-medium":"text-slate-500",children:g?"Recording...":"Microphone off"})]}),s.jsxs("div",{className:"flex items-center gap-4 justify-center mt-8",children:[s.jsxs(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>f(!m),className:`px-6 py-3 rounded-xl font-medium transition-all flex items-center gap-2 ${m?"bg-amber-500/10 border border-amber-500/30 text-amber-400 hover:bg-amber-500/20":"bg-emerald-500/10 border border-emerald-500/30 text-emerald-400 hover:bg-emerald-500/20"}`,children:[m?s.jsx(xd,{className:"w-5 h-5"}):s.jsx(Ei,{className:"w-5 h-5"}),m?"Pause":"Resume"]}),s.jsxs(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:C,className:"px-6 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-slate-300 hover:text-white hover:bg-slate-800 transition-all flex items-center gap-2",children:[s.jsx(Jo,{className:"w-5 h-5"}),"Finish Early"]})]}),R&&s.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-8 p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 max-h-32 overflow-y-auto",children:s.jsx("p",{className:"text-slate-300 text-sm text-left",children:R})})]}),c==="review"&&s.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full space-y-6",children:[R&&s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-5 rounded-2xl bg-slate-800/30 border border-slate-700/50",children:[s.jsxs("h4",{className:"text-sm font-medium text-slate-400 mb-3 flex items-center gap-2",children:[s.jsx(Ws,{className:"w-4 h-4"}),"Your Response"]}),s.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:R})]}),D?s.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-12",children:[s.jsx(V.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 rounded-full border-3 border-cyan-500/30 border-t-cyan-500 mb-4"}),s.jsx("span",{className:"text-slate-400",children:"Analyzing your response with AI..."})]}):j?s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-5 rounded-2xl bg-gradient-to-br from-emerald-500/10 to-transparent border border-emerald-500/20",children:[s.jsxs("h4",{className:"text-sm font-medium text-emerald-400 mb-3 flex items-center gap-2",children:[s.jsx(Dl,{className:"w-4 h-4"}),"AI Analysis"]}),s.jsx("div",{className:"text-slate-300 text-sm whitespace-pre-wrap leading-relaxed",children:j})]}):R?null:s.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-800/50 mx-auto mb-4 flex items-center justify-center",children:s.jsx(SA,{className:"w-8 h-8 text-slate-600"})}),s.jsx("p",{className:"text-slate-400",children:"No speech detected. Make sure your microphone is enabled."})]}),s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex items-center justify-center gap-4",children:[s.jsxs(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{d("prep"),$(""),I(null)},className:"px-6 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-slate-300 hover:text-white hover:bg-slate-800 transition-all flex items-center gap-2",children:[s.jsx(Ai,{className:"w-5 h-5"}),"Try Again"]}),s.jsxs(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:M,className:"px-6 py-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-semibold shadow-lg shadow-cyan-500/25 hover:shadow-cyan-500/40 transition-all flex items-center gap-2",children:[s.jsx(Jo,{className:"w-5 h-5"}),"Save & Exit"]})]})]}),c==="celebration"&&s.jsx(vB,{score:j?z(j):null,onContinue:()=>a({type:t.id,duration:e,prompt:n,transcript:R,analysis:j,score:j?z(j):null})})]})]})]})},NB=({session:t,drillType:e,index:n})=>{const a=e.icon,r=o=>o>=80?"emerald":o>=60?"cyan":"amber";return s.jsxs(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.1},whileHover:{x:4},className:`p-4 rounded-xl bg-gradient-to-r from-${e.color}-500/5 to-transparent border border-slate-800/50 hover:border-${e.color}-500/30 flex items-center gap-4 transition-all`,children:[s.jsx("div",{className:`w-12 h-12 rounded-xl bg-${e.color}-500/10 border border-${e.color}-500/20 flex items-center justify-center`,children:s.jsx(a,{className:`w-6 h-6 text-${e.color}-400`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-medium",children:e.name}),s.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[s.jsxs("span",{className:"text-slate-500 text-sm flex items-center gap-1",children:[s.jsx(Zt,{className:"w-3 h-3"}),t.duration,"s"]}),s.jsx("span",{className:"text-slate-600",children:""}),s.jsx("span",{className:"text-slate-500 text-sm",children:new Date(t.createdAt?.toDate?.()||t.createdAt).toLocaleDateString()})]})]}),t.score&&s.jsxs("div",{className:`px-4 py-2 rounded-xl bg-${r(t.score)}-500/10 border border-${r(t.score)}-500/20`,children:[s.jsx("span",{className:`text-lg font-bold text-${r(t.score)}-400`,children:t.score}),s.jsx("span",{className:"text-slate-500 text-sm",children:"/100"})]})]})},jB=({apiKey:t})=>{const{sessions:e,stats:n,loading:a,saveSession:r}=RF(),[o,c]=T.useState(null),[d,m]=T.useState(!1),[f,g]=T.useState(null),b=j=>{c(j),m(!0)},v=j=>{m(!1);const I=pB[o.id],D=I[Math.floor(Math.random()*I.length)];g({drill:o,duration:j,prompt:D})},w=async j=>{await r(j),g(null),c(null)};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative",children:[s.jsx("div",{className:"absolute -top-20 -left-20 w-64 h-64 bg-cyan-500/10 rounded-full blur-3xl"}),s.jsxs("div",{className:"relative",children:[s.jsxs("h1",{className:"text-4xl font-bold text-white tracking-tight flex items-center gap-4",children:[s.jsx(V.div,{whileHover:{rotate:180},transition:{duration:.5},className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-cyan-500/20 to-blue-500/20 border border-cyan-500/30 flex items-center justify-center",children:s.jsx(Bt,{className:"w-7 h-7 text-cyan-400"})}),"Practice Mode"]}),s.jsx("p",{className:"text-slate-400 mt-2 text-lg",children:"Sharpen your skills with targeted drills and real-time AI feedback"})]})]}),n&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(ym,{icon:Bt,label:"Total Sessions",value:n.totalSessions,color:"cyan"}),s.jsx(ym,{icon:Zt,label:"Practice Time",value:Math.round(n.totalTime/60),suffix:"m",color:"purple"}),s.jsx(ym,{icon:pf,label:"Day Streak",value:n.streak,color:"orange"}),s.jsx(ym,{icon:ln,label:"Avg Score",value:n.avgScore||"-",color:"emerald"})]}),s.jsxs("div",{children:[s.jsxs(V.h2,{initial:{opacity:0},animate:{opacity:1},className:"text-xl font-bold text-white mb-6 flex items-center gap-3",children:[s.jsx(Zu,{className:"w-5 h-5 text-amber-400"}),"Choose Your Drill"]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-5",children:bm.map((j,I)=>s.jsx(xB,{drill:j,onSelect:b,index:I},j.id))})]}),s.jsxs("div",{children:[s.jsxs(V.h2,{initial:{opacity:0},animate:{opacity:1},className:"text-xl font-bold text-white mb-6 flex items-center gap-3",children:[s.jsx(Dn,{className:"w-5 h-5 text-purple-400"}),"Recent Practice"]}),a?s.jsx("div",{className:"space-y-3",children:[1,2,3].map(j=>s.jsx(mB,{className:"h-20"},j))}):e.length===0?s.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-8 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/50 to-slate-900/30",children:s.jsx(gB,{onStart:()=>b(bm[0])})}):s.jsx("div",{className:"space-y-3",children:e.slice(0,5).map((j,I)=>{const D=bm.find(L=>L.id===j.type)||bm[0];return s.jsx(NB,{session:j,drillType:D,index:I},j.id||I)})})]}),s.jsxs(at,{children:[d&&o&&s.jsx(bB,{drill:o,onSelect:v,onCancel:()=>{m(!1),c(null)}}),f&&s.jsx(wB,{drill:f.drill,duration:f.duration,prompt:f.prompt,apiKey:t,onComplete:w,onCancel:()=>{g(null),c(null)}})]})]})},SB={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},_B={hidden:{opacity:0,y:10},visible:{opacity:1,y:0}},TB=({role:t})=>{const e={captain:{label:"Captain",icon:Qa,color:"from-amber-500 to-orange-600",bg:"bg-amber-500/10",border:"border-amber-500/30",text:"text-amber-400"},coach:{label:"Coach",icon:Ii,color:"from-purple-500 to-indigo-600",bg:"bg-purple-500/10",border:"border-purple-500/30",text:"text-purple-400"},varsity:{label:"Varsity",icon:ln,color:"from-cyan-500 to-blue-600",bg:"bg-cyan-500/10",border:"border-cyan-500/30",text:"text-cyan-400"},jv:{label:"JV",icon:Bt,color:"from-emerald-500 to-green-600",bg:"bg-emerald-500/10",border:"border-emerald-500/30",text:"text-emerald-400"},novice:{label:"Novice",icon:ys,color:"from-slate-400 to-slate-600",bg:"bg-slate-500/10",border:"border-slate-500/30",text:"text-slate-400"}},n=e[t]||e.novice,a=n.icon;return s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${n.bg} ${n.border} ${n.text} border`,children:[s.jsx(a,{className:"w-3 h-3"}),n.label]})},CB=({isOnline:t,size:e="sm"})=>{const n={sm:"w-2.5 h-2.5",md:"w-3 h-3",lg:"w-4 h-4"};return s.jsxs("span",{className:`relative flex ${n[e]}`,children:[t&&s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),s.jsx("span",{className:`relative inline-flex rounded-full ${n[e]} ${t?"bg-emerald-500":"bg-slate-500"}`})]})},W_=({name:t,image:e,size:n="md",showOnline:a,isOnline:r})=>{const o={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-12 h-12 text-base",xl:"w-16 h-16 text-xl"},c=["from-cyan-500 to-blue-600","from-purple-500 to-indigo-600","from-emerald-500 to-green-600","from-amber-500 to-orange-600","from-pink-500 to-rose-600"],d=t?t.charCodeAt(0)%c.length:0,m=t?.split(" ").map(f=>f[0]).join("").toUpperCase().slice(0,2)||"?";return s.jsxs("div",{className:"relative",children:[e?s.jsx("img",{src:e,alt:t,className:`${o[n]} rounded-xl object-cover ring-2 ring-slate-800`}):s.jsx("div",{className:`${o[n]} rounded-xl bg-gradient-to-br ${c[d]} flex items-center justify-center text-white font-bold shadow-lg`,children:m}),a&&s.jsx("div",{className:"absolute -bottom-0.5 -right-0.5",children:s.jsx(CB,{isOnline:r,size:"sm"})})]})},EB=({onCreateTeam:t})=>s.jsxs(V.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-20",children:[s.jsxs("div",{className:"relative inline-block mb-8",children:[s.jsx(V.div,{animate:{scale:[1,1.2,1],opacity:[.3,.1,.3]},transition:{duration:3,repeat:1/0},className:"absolute inset-0 w-32 h-32 rounded-full bg-cyan-500/20 blur-xl"}),s.jsx(V.div,{animate:{scale:[1,1.3,1],opacity:[.2,.05,.2]},transition:{duration:3,repeat:1/0,delay:.5},className:"absolute inset-0 w-32 h-32 rounded-full bg-purple-500/20 blur-xl"}),s.jsxs(V.div,{animate:{y:[0,-5,0]},transition:{duration:3,repeat:1/0},className:"relative p-6 rounded-3xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-slate-700/50 backdrop-blur-xl shadow-2xl",children:[s.jsx(Lt,{className:"w-16 h-16 text-cyan-400"}),s.jsx(V.div,{animate:{rotate:[0,10,0,-10,0]},transition:{duration:4,repeat:1/0},className:"absolute -top-2 -right-2",children:s.jsx(ys,{className:"w-6 h-6 text-amber-400"})})]})]}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Build Your Dream Team"}),s.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-8 leading-relaxed",children:"Collaborate with teammates, share strategies, and prepare for tournaments together. Winning teams communicate."}),s.jsxs(V.button,{whileHover:{scale:1.05,boxShadow:"0 20px 40px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},onClick:t,className:"px-8 py-4 rounded-2xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold text-lg shadow-lg shadow-cyan-500/25 inline-flex items-center gap-3",children:[s.jsx(Ct,{className:"w-5 h-5"}),"Create or Join Team",s.jsx(on,{className:"w-5 h-5"})]})]}),AB=({member:t,isCurrentUser:e,onMessage:n,onRemove:a})=>{const[r,o]=T.useState(!1);return s.jsxs(V.div,{variants:_B,whileHover:{scale:1.02,y:-2},className:"relative group",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/5 to-purple-500/5 rounded-2xl blur-lg opacity-0 group-hover:opacity-100 transition-all"}),s.jsx("div",{className:"glass-panel p-4 hover:border-white/20 transition-all",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(W_,{name:t.name,image:t.avatar,size:"lg",showOnline:!0,isOnline:t.isOnline}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("h4",{className:"text-white font-semibold truncate",children:[t.name,e&&s.jsx("span",{className:"text-slate-500 ml-1",children:"(You)"})]}),t.isOnline&&s.jsx("span",{className:"text-xs text-emerald-400",children:"Online"})]}),s.jsx("p",{className:"text-slate-500 text-sm truncate",children:t.email}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(TB,{role:t.role}),t.events?.map(c=>s.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-800 text-slate-400",children:c},c))]})]}),s.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx(V.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>n?.(t),className:"p-2 rounded-lg text-slate-400 hover:text-cyan-400 hover:bg-cyan-500/10 transition-all",children:s.jsx($n,{className:"w-5 h-5"})}),s.jsxs("div",{className:"relative",children:[s.jsx(V.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>o(!r),className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(kE,{className:"w-5 h-5"})}),r&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)}),s.jsxs("div",{className:"absolute right-0 top-full mt-1 w-40 bg-slate-900 border border-slate-800 rounded-xl shadow-xl z-50 py-1",children:[s.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm text-slate-300 hover:bg-slate-800 flex items-center gap-2",children:[s.jsx(Ox,{className:"w-4 h-4"})," View Profile"]}),s.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm text-slate-300 hover:bg-slate-800 flex items-center gap-2",children:[s.jsx($l,{className:"w-4 h-4"})," Edit Role"]}),!e&&s.jsxs("button",{onClick:()=>a?.(t),className:"w-full px-4 py-2 text-left text-sm text-red-400 hover:bg-red-500/10 flex items-center gap-2",children:[s.jsx(Vk,{className:"w-4 h-4"})," Remove"]})]})]})]})]})]})})]})},kB=({message:t,isOwn:e,senderName:n,senderAvatar:a,timestamp:r})=>s.jsxs(V.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},className:`flex gap-3 ${e?"flex-row-reverse":""}`,children:[s.jsx(W_,{name:n,image:a,size:"sm"}),s.jsxs("div",{className:`max-w-[70%] ${e?"items-end":"items-start"}`,children:[s.jsxs("div",{className:`flex items-center gap-2 mb-1 ${e?"flex-row-reverse":""}`,children:[s.jsx("span",{className:"text-sm font-medium text-slate-300",children:n}),s.jsx("span",{className:"text-xs text-slate-500",children:r})]}),s.jsx("div",{className:`p-3 rounded-2xl ${e?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white rounded-br-md":"bg-slate-800 text-slate-200 rounded-bl-md"}`,children:s.jsx("p",{className:"text-sm leading-relaxed",children:t})})]})]}),IB=({teamId:t,members:e})=>{const n=`team_chat_${t||"default"}`,[a,r]=T.useState(()=>{try{const g=localStorage.getItem(n);return g?JSON.parse(g):[]}catch{return[]}}),[o,c]=T.useState(""),d=T.useRef(null);T.useEffect(()=>{try{localStorage.setItem(n,JSON.stringify(a))}catch(g){console.error("Failed to save chat messages:",g)}},[a,n]);const m=()=>{d.current?.scrollIntoView({behavior:"smooth"})};T.useEffect(()=>{m()},[a]);const f=()=>{if(!o.trim())return;const g={id:Date.now(),sender:"You",message:o,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),date:new Date().toISOString(),isOwn:!0};r(b=>[...b,g]),c("")};return s.jsxs("div",{className:"glass-panel flex flex-col h-[500px] overflow-hidden p-0",children:[s.jsx("div",{className:"p-4 border-b border-white/10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($n,{className:"w-5 h-5 text-cyan-400"}),s.jsx("h3",{className:"text-white font-semibold",children:"Team Chat"}),s.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-emerald-500/10 text-emerald-400 text-xs",children:[e?.filter(g=>g.isOnline).length||0," online"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(V.button,{whileHover:{scale:1.1},className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(Jj,{className:"w-4 h-4"})}),s.jsx(V.button,{whileHover:{scale:1.1},className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(Qk,{className:"w-4 h-4"})})]})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[a.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-8",children:[s.jsx("div",{className:"p-3 bg-slate-800/50 rounded-full mb-3",children:s.jsx($n,{className:"w-6 h-6 text-slate-500"})}),s.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"No messages yet"}),s.jsx("p",{className:"text-slate-500 text-xs",children:"Start the conversation with your team!"})]}):a.map(g=>s.jsx(kB,{message:g.message,isOwn:g.isOwn,senderName:g.sender,timestamp:g.timestamp},g.id)),s.jsx("div",{ref:d})]}),s.jsx("div",{className:"p-4 border-t border-white/10",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(V.button,{whileHover:{scale:1.1},className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(OA,{className:"w-5 h-5"})}),s.jsx("input",{type:"text",value:o,onChange:g=>c(g.target.value),onKeyPress:g=>g.key==="Enter"&&f(),placeholder:"Type a message...",className:"flex-1 px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"}),s.jsx(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,disabled:!o.trim(),className:"p-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white shadow-lg shadow-cyan-500/25 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(bd,{className:"w-5 h-5"})})]})})]})},RB=({doc:t,onClick:e})=>{const n={case:{icon:_n,color:"text-cyan-400",bg:"bg-cyan-500/10"},evidence:{icon:_n,color:"text-purple-400",bg:"bg-purple-500/10"},strategy:{icon:Bt,color:"text-amber-400",bg:"bg-amber-500/10"},notes:{icon:_n,color:"text-emerald-400",bg:"bg-emerald-500/10"}},a=n[t.type]||n.notes,r=a.icon;return s.jsx(V.div,{whileHover:{scale:1.02,y:-2},onClick:e,className:"glass-panel p-4 hover:border-white/20 transition-all cursor-pointer group",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${a.bg}`,children:s.jsx(r,{className:`w-5 h-5 ${a.color}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-white font-medium truncate group-hover:text-cyan-400 transition-colors",children:t.title}),s.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:["Updated ",t.updatedAt," by ",t.updatedBy]})]}),s.jsx(on,{className:"w-5 h-5 text-slate-600 group-hover:text-slate-400 transition-colors"})]})})},Pg=({tournament:t})=>{const[e,n]=T.useState([{id:1,text:"Complete Aff case",done:!1},{id:2,text:"Complete Neg blocks",done:!1},{id:3,text:"Update evidence files",done:!1},{id:4,text:"Practice round with team",done:!1},{id:5,text:"Review judge paradigms",done:!1},{id:6,text:"Prepare extension files",done:!1}]),[a,r]=T.useState(""),o=f=>{n(e.map(g=>g.id===f?{...g,done:!g.done}:g))},c=()=>{a.trim()&&(n([...e,{id:Date.now(),text:a,done:!1}]),r(""))},d=e.filter(f=>f.done).length,m=d/e.length*100;return s.jsxs("div",{className:"glass-panel p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-amber-500/10",children:s.jsx(s5,{className:"w-5 h-5 text-amber-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold",children:"Tournament Prep"}),s.jsx("p",{className:"text-slate-500 text-sm",children:t||"Next Tournament"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"text-2xl font-bold text-white",children:[d,"/",e.length]}),s.jsx("p",{className:"text-slate-500 text-xs",children:"tasks complete"})]})]}),s.jsx("div",{className:"h-2 rounded-full bg-slate-800 mb-4 overflow-hidden",children:s.jsx(V.div,{initial:{width:0},animate:{width:`${m}%`},className:"h-full rounded-full bg-gradient-to-r from-cyan-500 to-emerald-500"})}),s.jsx("div",{className:"space-y-2 mb-4 max-h-48 overflow-y-auto",children:e.map(f=>s.jsxs(V.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},className:`flex items-center gap-3 p-3 rounded-lg transition-colors ${f.done?"bg-emerald-500/5":"bg-slate-800/30 hover:bg-slate-800/50"}`,children:[s.jsx(V.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>o(f.id),className:`w-5 h-5 rounded-md border-2 flex items-center justify-center transition-colors ${f.done?"bg-emerald-500 border-emerald-500":"border-slate-600 hover:border-slate-500"}`,children:f.done&&s.jsx(Rn,{className:"w-3 h-3 text-white"})}),s.jsx("span",{className:`flex-1 text-sm ${f.done?"text-slate-500 line-through":"text-slate-300"}`,children:f.text})]},f.id))}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:a,onChange:f=>r(f.target.value),onKeyPress:f=>f.key==="Enter"&&c(),placeholder:"Add task...",className:"flex-1 px-3 py-2 rounded-lg bg-slate-800/50 border border-slate-700 text-white text-sm placeholder-slate-500 focus:border-cyan-500 outline-none transition-all"}),s.jsx(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:c,className:"p-2 rounded-lg bg-slate-800 text-slate-400 hover:text-white transition-colors",children:s.jsx(Ct,{className:"w-4 h-4"})})]})]})},DB=()=>{const{teams:t,createTeam:e}=DF(),[n,a]=T.useState("overview"),[r,o]=T.useState(!1),c=t?.[0],d=c?.members||[],m=c,f=d,g=[{id:"overview",label:"Overview",icon:Lt},{id:"chat",label:"Chat",icon:$n},{id:"documents",label:"Documents",icon:_n},{id:"prep",label:"Prep",icon:s5}];return!c?s.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-600/20 border border-cyan-500/30",children:s.jsx(Lt,{className:"w-7 h-7 text-cyan-400"})}),"Team Collaboration"]}),s.jsx("p",{className:"text-slate-400 mt-2",children:"Work together to dominate every tournament"})]}),s.jsx("div",{className:"glass-panel p-8",children:s.jsx(EB,{onCreateTeam:()=>e?.({name:"My Team"})})})]})}):s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-600/20 border border-cyan-500/30",children:s.jsx(Lt,{className:"w-7 h-7 text-cyan-400"})}),m.name]}),s.jsxs("p",{className:"text-slate-400 mt-2",children:[f.length," members  ",f.filter(v=>v.isOnline).length," online"]})]}),s.jsxs(V.button,{whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},onClick:()=>o(!0),className:"px-5 py-2.5 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-medium shadow-lg shadow-cyan-500/25 flex items-center gap-2",children:[s.jsx(Vm,{className:"w-5 h-5"}),"Invite Member"]})]}),s.jsx("div",{className:"flex items-center gap-2 p-1 rounded-xl bg-slate-900/50 border border-slate-800/50 w-fit",children:g.map(v=>s.jsxs("button",{onClick:()=>a(v.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${n===v.id?"bg-slate-800 text-white":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,children:[s.jsx(v.icon,{className:"w-4 h-4"}),v.label]},v.id))}),s.jsxs(at,{mode:"wait",children:[n==="overview"&&s.jsxs(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"grid lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[s.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(Lt,{className:"w-5 h-5 text-cyan-400"}),"Team Members"]}),s.jsx(V.div,{variants:SB,initial:"hidden",animate:"visible",className:"space-y-3",children:f.map(v=>s.jsx(AB,{member:v,isCurrentUser:v.name==="You",onMessage:()=>a("chat"),onRemove:()=>console.log("Remove member:",v.id)},v.id))})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"glass-panel p-5",children:[s.jsx("h3",{className:"text-white font-semibold mb-4",children:"Team Stats"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-slate-400",children:"Win Rate"}),s.jsxs("span",{className:"text-white font-bold",children:[m?.stats?.winRate||"","%"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-slate-400",children:"Tournaments"}),s.jsx("span",{className:"text-white font-bold",children:m?.stats?.tournaments||0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-slate-400",children:"Trophies"}),s.jsxs("span",{className:"text-white font-bold flex items-center gap-1",children:[s.jsx(Gt,{className:"w-4 h-4 text-amber-400"})," ",m?.stats?.trophies||0]})]})]})]}),s.jsx(Pg,{tournament:m?.nextTournament||"No upcoming tournament"})]})]},"overview"),n==="chat"&&s.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:s.jsx(IB,{teamId:m.id,members:f})},"chat"),n==="documents"&&s.jsxs(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(gf,{className:"w-5 h-5 text-cyan-400"}),"Shared Documents"]}),s.jsxs(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg bg-slate-800 text-white text-sm font-medium hover:bg-slate-700 transition-colors flex items-center gap-2",children:[s.jsx(yd,{className:"w-4 h-4"}),"Upload"]})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:m.documents.map(v=>s.jsx(RB,{doc:v,onClick:()=>{}},v.id))})]},"documents"),n==="prep"&&s.jsxs(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"grid md:grid-cols-2 gap-6",children:[s.jsx(Pg,{tournament:m?.tournaments?.[0]||"Upcoming Tournament"}),s.jsx(Pg,{tournament:m?.tournaments?.[1]||"Next Tournament"})]},"prep")]})]}),s.jsx(at,{children:r&&s.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:v=>v.target===v.currentTarget&&o(!1),children:s.jsxs(V.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"glass-panel w-full max-w-md p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(Vm,{className:"w-5 h-5 text-cyan-400"}),"Invite Team Member"]}),s.jsx(V.button,{whileHover:{scale:1.1,rotate:90},onClick:()=>o(!1),className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(rn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",placeholder:"teammate@school.edu",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Role"}),s.jsxs("select",{className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none transition-all",children:[s.jsx("option",{value:"novice",children:"Novice"}),s.jsx("option",{value:"jv",children:"JV"}),s.jsx("option",{value:"varsity",children:"Varsity"})]})]}),s.jsx(V.button,{whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},className:"w-full py-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold shadow-lg shadow-cyan-500/25",children:"Send Invitation"})]})]})})})]})},PB=({onAdd:t})=>s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"p-4 rounded-full bg-slate-800/50 border border-slate-700/50 mb-6 mx-auto w-fit",children:s.jsx(Gt,{className:"w-12 h-12 text-slate-500"})}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Tournaments Scheduled"}),s.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-6",children:"Add upcoming tournaments to track rounds, manage judge preferences, and stay organized."}),s.jsxs("button",{onClick:t,className:"px-6 py-3 rounded-xl bg-cyan-500/10 border border-cyan-500/30 text-cyan-400 font-medium hover:bg-cyan-500/20 transition-all inline-flex items-center gap-2",children:[s.jsx(Ct,{className:"w-5 h-5"}),"Add Tournament"]})]}),MB=({isOpen:t,onClose:e,onSave:n,tournament:a=null})=>{const[r,o]=T.useState(a||{name:"",date:"",endDate:"",location:"",format:"Public Forum",level:"Local",registrationDeadline:"",notes:"",travelInfo:{flight:"",hotel:"",transportation:""}});if(!t)return null;const c=d=>{d.preventDefault(),n(r),e()};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:s.jsxs(V.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-2xl bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-slate-800",children:s.jsx("h2",{className:"text-xl font-bold text-white",children:a?"Edit Tournament":"Add Tournament"})}),s.jsxs("form",{onSubmit:c,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Tournament Name *"}),s.jsx("input",{type:"text",value:r.name,onChange:d=>o({...r,name:d.target.value}),placeholder:"e.g., Harvard National Forensics Tournament",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Start Date *"}),s.jsx("input",{type:"date",value:r.date,onChange:d=>o({...r,date:d.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"End Date"}),s.jsx("input",{type:"date",value:r.endDate,onChange:d=>o({...r,endDate:d.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Location"}),s.jsx("input",{type:"text",value:r.location,onChange:d=>o({...r,location:d.target.value}),placeholder:"City, State",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Registration Deadline"}),s.jsx("input",{type:"date",value:r.registrationDeadline,onChange:d=>o({...r,registrationDeadline:d.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Format"}),s.jsx("select",{value:r.format,onChange:d=>o({...r,format:d.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",children:["Public Forum","Lincoln-Douglas","Policy","Congress","World Schools","Multiple"].map(d=>s.jsx("option",{value:d,children:d},d))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Level"}),s.jsx("select",{value:r.level,onChange:d=>o({...r,level:d.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",children:["Local","Regional","State","National","International"].map(d=>s.jsx("option",{value:d,children:d},d))})]})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50",children:[s.jsxs("h3",{className:"text-sm font-medium text-slate-400 mb-4 flex items-center gap-2",children:[s.jsx(Zj,{className:"w-4 h-4"}),"Travel Information (Optional)"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"text",value:r.travelInfo.flight,onChange:d=>o({...r,travelInfo:{...r.travelInfo,flight:d.target.value}}),placeholder:"Flight details",className:"w-full px-3 py-2 rounded-lg bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 text-sm focus:border-cyan-500 outline-none"}),s.jsx("input",{type:"text",value:r.travelInfo.hotel,onChange:d=>o({...r,travelInfo:{...r.travelInfo,hotel:d.target.value}}),placeholder:"Hotel/accommodation",className:"w-full px-3 py-2 rounded-lg bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 text-sm focus:border-cyan-500 outline-none"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Notes"}),s.jsx("textarea",{value:r.notes,onChange:d=>o({...r,notes:d.target.value}),placeholder:"Additional notes...",rows:3,className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none resize-none"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-800",children:[s.jsx("button",{type:"button",onClick:e,className:"px-5 py-2.5 rounded-xl text-slate-400 hover:text-white transition-colors",children:"Cancel"}),s.jsxs("button",{type:"submit",className:"px-6 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors",children:[a?"Update":"Add"," Tournament"]})]})]})]})})},OB=({tournament:t,onEdit:e,onDelete:n,onClick:a})=>{const r=new Date(t.date),o=r>new Date,c=Math.ceil((r-new Date)/(1e3*60*60*24)),d={Local:"bg-slate-500/10 text-slate-400 border-slate-500/30",Regional:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30",State:"bg-purple-500/10 text-purple-400 border-purple-500/30",National:"bg-amber-500/10 text-amber-400 border-amber-500/30",International:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30"};return s.jsxs(V.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:a,className:"p-5 rounded-2xl border border-slate-800/60 bg-slate-900/30 hover:border-slate-700/60 transition-all cursor-pointer group",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"w-14 h-14 rounded-xl bg-cyan-500/10 border border-cyan-500/20 flex flex-col items-center justify-center",children:[s.jsx("span",{className:"text-xs text-cyan-400 font-medium",children:r.toLocaleString("default",{month:"short"}).toUpperCase()}),s.jsx("span",{className:"text-xl font-bold text-white",children:r.getDate()})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white group-hover:text-cyan-400 transition-colors",children:t.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 text-slate-400 text-sm",children:[s.jsx(mc,{className:"w-3 h-3"}),t.location||"TBD"]})]})]}),s.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium border ${d[t.level]}`,children:t.level})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("span",{className:"text-slate-400 flex items-center gap-1",children:[s.jsx(Gt,{className:"w-4 h-4"}),t.format]}),t.rounds?.length>0&&s.jsxs("span",{className:"text-slate-400 flex items-center gap-1",children:[s.jsx(Bt,{className:"w-4 h-4"}),t.rounds.length," rounds"]})]}),o&&c<=14&&s.jsxs("div",{className:`mt-4 px-3 py-2 rounded-lg text-sm flex items-center gap-2 ${c<=3?"bg-red-500/10 border border-red-500/20 text-red-400":"bg-amber-500/10 border border-amber-500/20 text-amber-400"}`,children:[s.jsx(qn,{className:"w-4 h-4"}),c===0?"Today!":c===1?"Tomorrow!":`${c} days away`]}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-slate-800/50",children:[s.jsx("div",{className:"flex items-center gap-2",children:t.rounds?.length>0?s.jsxs("span",{className:"text-emerald-400 text-sm flex items-center gap-1",children:[s.jsx(Jo,{className:"w-4 h-4"}),"Tracking"]}):s.jsxs("span",{className:"text-slate-500 text-sm flex items-center gap-1",children:[s.jsx(bE,{className:"w-4 h-4"}),"No rounds yet"]})}),s.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:m=>{m.stopPropagation(),e(t)},className:"p-1.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",children:s.jsx($l,{className:"w-4 h-4"})}),s.jsx("button",{onClick:m=>{m.stopPropagation(),n(t.id)},className:"p-1.5 rounded-lg text-slate-400 hover:text-red-400 hover:bg-red-500/10 transition-all",children:s.jsx(Gn,{className:"w-4 h-4"})})]})]})]})},LB=({tournament:t,onBack:e,onAddRound:n})=>{const[a,r]=T.useState(!1),o=t.rounds||[],c=o.filter(m=>m.result==="win").length,d=o.filter(m=>m.result==="loss").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:e,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",children:s.jsx(Px,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:t.name}),s.jsxs("div",{className:"flex items-center gap-3 mt-1 text-slate-400",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ks,{className:"w-4 h-4"}),new Date(t.date).toLocaleDateString()]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(mc,{className:"w-4 h-4"}),t.location||"TBD"]})]})]})]}),s.jsxs("button",{onClick:()=>r(!0),className:"px-4 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors flex items-center gap-2",children:[s.jsx(Ct,{className:"w-5 h-5"}),"Add Round"]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-xl bg-slate-900/30 border border-slate-800/50 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-white",children:o.length}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Rounds"})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-emerald-500/10 border border-emerald-500/20 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:c}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Wins"})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-red-400",children:d}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Losses"})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-cyan-500/10 border border-cyan-500/20 text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-cyan-400",children:[o.length>0?(c/o.length*100).toFixed(0):0,"%"]}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Win Rate"})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Round History"}),o.length===0?s.jsxs("div",{className:"text-center py-12 rounded-xl bg-slate-900/30 border border-slate-800/50",children:[s.jsx(Bt,{className:"w-10 h-10 text-slate-600 mx-auto mb-3"}),s.jsx("p",{className:"text-slate-400",children:"No rounds recorded yet"}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Add your first round to start tracking"})]}):s.jsx("div",{className:"space-y-3",children:o.map((m,f)=>s.jsxs("div",{className:"p-4 rounded-xl bg-slate-900/30 border border-slate-800/50 flex items-center gap-4",children:[s.jsx("div",{className:`w-2 h-12 rounded-full ${m.result==="win"?"bg-emerald-500":"bg-red-500"}`}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white font-medium",children:m.roundName}),s.jsx("span",{className:"text-slate-500",children:""}),s.jsx("span",{className:"text-slate-400",children:m.side})]}),s.jsxs("p",{className:"text-slate-500 text-sm",children:["vs ",m.opponent||"Unknown"," ",m.opponentSchool&&`(${m.opponentSchool})`]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${m.result==="win"?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-400"}`,children:m.result==="win"?"Win":"Loss"}),m.speakerPoints&&s.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:[m.speakerPoints," speaks"]})]})]},m.id||f))})]}),(t.travelInfo?.flight||t.travelInfo?.hotel)&&s.jsxs("div",{className:"p-4 rounded-xl bg-slate-900/30 border border-slate-800/50",children:[s.jsxs("h3",{className:"text-sm font-medium text-slate-400 mb-3 flex items-center gap-2",children:[s.jsx(Zj,{className:"w-4 h-4"}),"Travel Information"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[t.travelInfo.flight&&s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-slate-500",children:"Flight:"}),s.jsx("span",{className:"text-slate-300",children:t.travelInfo.flight})]}),t.travelInfo.hotel&&s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-slate-500",children:"Hotel:"}),s.jsx("span",{className:"text-slate-300",children:t.travelInfo.hotel})]})]})]}),s.jsx(at,{children:a&&s.jsx("div",{className:"fixed inset-0 z-50",children:s.jsx(VB,{isOpen:a,onClose:()=>r(!1),onSave:m=>n(t.id,m)})})})]})},VB=({isOpen:t,onClose:e,onSave:n})=>{const[a,r]=T.useState({roundName:"Round 1",opponent:"",opponentSchool:"",side:"Pro",result:"win",speakerPoints:"",judge:"",notes:""});if(!t)return null;const o=c=>{c.preventDefault(),n({...a,speakerPoints:a.speakerPoints?parseFloat(a.speakerPoints):null}),e()};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:s.jsxs(V.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-md bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl",children:[s.jsx("div",{className:"p-6 border-b border-slate-800",children:s.jsx("h2",{className:"text-xl font-bold text-white",children:"Add Round"})}),s.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Round"}),s.jsx("select",{value:a.roundName,onChange:c=>r({...a,roundName:c.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",children:["Round 1","Round 2","Round 3","Round 4","Round 5","Round 6","Octofinals","Quarterfinals","Semifinals","Finals"].map(c=>s.jsx("option",{value:c,children:c},c))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Opponent"}),s.jsx("input",{type:"text",value:a.opponent,onChange:c=>r({...a,opponent:c.target.value}),placeholder:"Name",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"School"}),s.jsx("input",{type:"text",value:a.opponentSchool,onChange:c=>r({...a,opponentSchool:c.target.value}),placeholder:"School",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Side"}),s.jsxs("select",{value:a.side,onChange:c=>r({...a,side:c.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",children:[s.jsx("option",{value:"Pro",children:"Pro"}),s.jsx("option",{value:"Con",children:"Con"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Result"}),s.jsxs("select",{value:a.result,onChange:c=>r({...a,result:c.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",children:[s.jsx("option",{value:"win",children:"Win"}),s.jsx("option",{value:"loss",children:"Loss"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Speaks"}),s.jsx("input",{type:"number",step:"0.1",value:a.speakerPoints,onChange:c=>r({...a,speakerPoints:c.target.value}),placeholder:"28.5",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Judge"}),s.jsx("input",{type:"text",value:a.judge,onChange:c=>r({...a,judge:c.target.value}),placeholder:"Judge name",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:e,className:"px-5 py-2.5 rounded-xl text-slate-400 hover:text-white transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors",children:"Add Round"})]})]})]})})},UB=({judges:t,onAddJudge:e})=>{const[n,a]=T.useState(!1);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(bs,{className:"w-5 h-5 text-cyan-400"}),"Judge Preferences"]}),s.jsxs("button",{onClick:()=>a(!0),className:"px-4 py-2 rounded-xl bg-cyan-500/10 border border-cyan-500/30 text-cyan-400 hover:bg-cyan-500/20 transition-all flex items-center gap-2 text-sm",children:[s.jsx(Ct,{className:"w-4 h-4"}),"Add Judge"]})]}),t.length===0?s.jsxs("div",{className:"text-center py-8 rounded-xl bg-slate-900/30 border border-slate-800/50",children:[s.jsx(bs,{className:"w-10 h-10 text-slate-600 mx-auto mb-3"}),s.jsx("p",{className:"text-slate-400",children:"No judges recorded yet"}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Track judge preferences to adapt your strategy"})]}):s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:t.map(r=>s.jsxs("div",{className:"p-4 rounded-xl bg-slate-900/30 border border-slate-800/50",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-medium",children:r.name}),s.jsx("p",{className:"text-slate-500 text-sm",children:r.affiliation})]}),s.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(o=>s.jsx(ln,{className:`w-4 h-4 ${o<=r.rating?"text-amber-400 fill-current":"text-slate-700"}`},o))})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[r.paradigm&&s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-slate-500",children:"Paradigm:"}),s.jsx("span",{className:"text-slate-300",children:r.paradigm})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.jsxs("span",{className:`flex items-center gap-1 text-xs ${r.leansPro?"text-emerald-400":"text-slate-500"}`,children:[s.jsx(Ck,{className:"w-3 h-3"}),"Pro"]}),s.jsxs("span",{className:`flex items-center gap-1 text-xs ${r.leansCon?"text-red-400":"text-slate-500"}`,children:[s.jsx(_k,{className:"w-3 h-3"}),"Con"]}),s.jsxs("span",{className:`flex items-center gap-1 text-xs ${!r.leansPro&&!r.leansCon?"text-cyan-400":"text-slate-500"}`,children:[s.jsx(fc,{className:"w-3 h-3"}),"Neutral"]})]})]})]},r.id))}),s.jsx(at,{children:n&&s.jsx("div",{className:"fixed inset-0 z-50",children:s.jsx(zB,{isOpen:n,onClose:()=>a(!1),onSave:e})})})]})},zB=({isOpen:t,onClose:e,onSave:n})=>{const[a,r]=T.useState({name:"",affiliation:"",paradigm:"",rating:3,leansPro:!1,leansCon:!1,notes:""});if(!t)return null;const o=c=>{c.preventDefault(),n(a),e(),r({name:"",affiliation:"",paradigm:"",rating:3,leansPro:!1,leansCon:!1,notes:""})};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:s.jsxs(V.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-md bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl",children:[s.jsx("div",{className:"p-6 border-b border-slate-800",children:s.jsx("h2",{className:"text-xl font-bold text-white",children:"Add Judge"})}),s.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Name *"}),s.jsx("input",{type:"text",value:a.name,onChange:c=>r({...a,name:c.target.value}),placeholder:"Judge name",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Affiliation"}),s.jsx("input",{type:"text",value:a.affiliation,onChange:c=>r({...a,affiliation:c.target.value}),placeholder:"School/Organization",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Rating"}),s.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(c=>s.jsx("button",{type:"button",onClick:()=>r({...a,rating:c}),className:"p-1",children:s.jsx(ln,{className:`w-6 h-6 ${c<=a.rating?"text-amber-400 fill-current":"text-slate-700"}`})},c))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Paradigm"}),s.jsx("textarea",{value:a.paradigm,onChange:c=>r({...a,paradigm:c.target.value}),placeholder:"Judge's preferred arguments, style preferences...",rows:3,className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none resize-none"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:e,className:"px-5 py-2.5 rounded-xl text-slate-400 hover:text-white transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors",children:"Add Judge"})]})]})]})})},FB=()=>{const{tournaments:t,loading:e,addTournament:n,updateTournament:a,deleteTournament:r,addRound:o}=PF(),{judges:c,addJudge:d,updateJudge:m}=MF(),[f,g]=T.useState(!1),[b,v]=T.useState(null),[w,j]=T.useState(null),[I,D]=T.useState("upcoming"),L=T.useMemo(()=>t.filter(q=>new Date(q.date)>=new Date).sort((q,X)=>new Date(q.date)-new Date(X.date)),[t]),R=T.useMemo(()=>t.filter(q=>new Date(q.date)<new Date).sort((q,X)=>new Date(X.date)-new Date(q.date)),[t]),$=async q=>{b?(await a(b.id,q),v(null)):await n(q),g(!1)};return w?s.jsx(LB,{tournament:w,onBack:()=>j(null),onAddRound:o,onUpdateTournament:a}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[s.jsx(Gt,{className:"w-8 h-8 text-cyan-400"}),"Tournaments"]}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Manage your tournament schedule and track rounds"})]}),s.jsxs("button",{onClick:()=>g(!0),className:"px-4 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors flex items-center gap-2",children:[s.jsx(Ct,{className:"w-5 h-5"}),"Add Tournament"]})]}),s.jsx("div",{className:"flex items-center gap-2 p-1 bg-slate-900/50 rounded-xl border border-slate-800/50 w-fit",children:[{id:"upcoming",label:`Upcoming (${L.length})`},{id:"past",label:`Past (${R.length})`},{id:"judges",label:`Judges (${c.length})`}].map(q=>s.jsx("button",{onClick:()=>D(q.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${I===q.id?"bg-slate-800 text-white":"text-slate-400 hover:text-white"}`,children:q.label},q.id))}),e?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(Ju,{className:"w-8 h-8 text-cyan-400 animate-spin"})}):I==="judges"?s.jsx(UB,{judges:c,onAddJudge:d,onUpdateJudge:m}):s.jsx(s.Fragment,{children:(I==="upcoming"?L:R).length===0?s.jsx("div",{className:"p-8 rounded-2xl border border-slate-800/60 bg-slate-900/30",children:s.jsx(PB,{onAdd:()=>g(!0)})}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:(I==="upcoming"?L:R).map(q=>s.jsx(OB,{tournament:q,onClick:()=>j(q),onEdit:X=>{v(X),g(!0)},onDelete:r},q.id))})}),s.jsx(at,{children:f&&s.jsx("div",{className:"fixed inset-0 z-50",children:s.jsx(MB,{isOpen:f,onClose:()=>{g(!1),v(null)},onSave:$,tournament:b})})})]})},fd={claim:{label:"Claim",color:"from-cyan-500 to-blue-600",bgColor:"bg-cyan-500/10",borderColor:"border-cyan-500/50",textColor:"text-cyan-400",icon:Bt,description:"Main argument assertion"},evidence:{label:"Evidence",color:"from-emerald-500 to-green-600",bgColor:"bg-emerald-500/10",borderColor:"border-emerald-500/50",textColor:"text-emerald-400",icon:_n,description:"Supporting data or facts"},warrant:{label:"Warrant",color:"from-purple-500 to-indigo-600",bgColor:"bg-purple-500/10",borderColor:"border-purple-500/50",textColor:"text-purple-400",icon:$r,description:"Reasoning connecting evidence to claim"},impact:{label:"Impact",color:"from-amber-500 to-orange-600",bgColor:"bg-amber-500/10",borderColor:"border-amber-500/50",textColor:"text-amber-400",icon:Er,description:"Significance or consequence"},response:{label:"Response",color:"from-red-500 to-rose-600",bgColor:"bg-red-500/10",borderColor:"border-red-500/50",textColor:"text-red-400",icon:Ii,description:"Counter-argument or rebuttal"},question:{label:"Question",color:"from-slate-400 to-slate-600",bgColor:"bg-slate-500/10",borderColor:"border-slate-500/50",textColor:"text-slate-400",icon:Mx,description:"Cross-examination point"}},df={supports:{label:"Supports",color:"#22c55e",dash:!1},attacks:{label:"Attacks",color:"#ef4444",dash:!1},responds:{label:"Responds",color:"#f59e0b",dash:!0},leads_to:{label:"Leads To",color:"#8b5cf6",dash:!1},questions:{label:"Questions",color:"#64748b",dash:!0}},Rj=()=>`node_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,BB=(t,e,n,a)=>{const r=Math.abs(n-t)*.3;return`M ${t} ${e} C ${t+r} ${e}, ${n-r} ${a}, ${n} ${a}`},$B=({node:t,isSelected:e,isDragging:n,onSelect:a,onDragStart:r,onDrag:o,onDragEnd:c,onEdit:d,onDelete:m,onStartConnection:f,onEndConnection:g,isConnecting:b,scale:v})=>{const w=T.useRef(null),[j,I]=T.useState(!1),[D,L]=T.useState({x:0,y:0}),R=fd[t.type]||fd.claim,$=R.icon,q=A=>{if(A.button!==0)return;A.stopPropagation();const O=w.current.getBoundingClientRect();L({x:A.clientX-O.left,y:A.clientY-O.top}),I(!0),r?.(t.id),a?.(t.id)},X=T.useCallback(A=>{if(!j)return;const O=(A.clientX-D.x)/v,C=(A.clientY-D.y)/v;o?.(t.id,O,C)},[j,D,v,t.id,o]),G=T.useCallback(()=>{j&&(I(!1),c?.(t.id))},[j,t.id,c]);T.useEffect(()=>{if(j)return window.addEventListener("mousemove",X),window.addEventListener("mouseup",G),()=>{window.removeEventListener("mousemove",X),window.removeEventListener("mouseup",G)}},[j,X,G]);const k=(A,O)=>{A.stopPropagation(),b?g?.(t.id):O&&f?.(t.id)};return s.jsxs(V.div,{ref:w,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1,boxShadow:e?"0 0 0 2px rgba(6, 182, 212, 0.5), 0 20px 40px rgba(0, 0, 0, 0.3)":"0 10px 30px rgba(0, 0, 0, 0.2)"},style:{position:"absolute",left:t.x,top:t.y,cursor:j?"grabbing":"grab",zIndex:e?100:j?99:10},className:`
        w-64 rounded-xl border backdrop-blur-sm
        ${R.bgColor} ${R.borderColor}
        ${e?"ring-2 ring-cyan-500/50":""}
        transition-shadow duration-200
      `,onMouseDown:q,children:[s.jsx("div",{className:`
          absolute -left-2 top-1/2 -translate-y-1/2 w-4 h-4 rounded-full 
          bg-slate-700 border-2 border-slate-500 cursor-crosshair
          hover:bg-cyan-500 hover:border-cyan-400 hover:scale-125
          transition-all duration-200
          ${b?"animate-pulse bg-cyan-500 border-cyan-400":""}
        `,onClick:A=>k(A,!1)}),s.jsx("div",{className:`
          absolute -right-2 top-1/2 -translate-y-1/2 w-4 h-4 rounded-full 
          bg-slate-700 border-2 border-slate-500 cursor-crosshair
          hover:bg-emerald-500 hover:border-emerald-400 hover:scale-125
          transition-all duration-200
        `,onClick:A=>k(A,!0)}),s.jsxs("div",{className:`flex items-center gap-2 p-3 border-b ${R.borderColor}`,children:[s.jsx("div",{className:`p-1.5 rounded-lg bg-gradient-to-br ${R.color}`,children:s.jsx($,{className:"w-4 h-4 text-white"})}),s.jsx("span",{className:`text-xs font-semibold ${R.textColor} uppercase tracking-wider`,children:R.label}),s.jsxs("div",{className:"ml-auto flex items-center gap-1",children:[s.jsx("button",{onClick:A=>{A.stopPropagation(),d?.(t)},className:"p-1 rounded hover:bg-slate-700/50 text-slate-400 hover:text-white transition-colors",children:s.jsx($l,{className:"w-3.5 h-3.5"})}),s.jsx("button",{onClick:A=>{A.stopPropagation(),m?.(t.id)},className:"p-1 rounded hover:bg-red-500/20 text-slate-400 hover:text-red-400 transition-colors",children:s.jsx(Gn,{className:"w-3.5 h-3.5"})})]})]}),s.jsxs("div",{className:"p-3",children:[s.jsx("h4",{className:"text-white font-medium text-sm mb-1 line-clamp-2",children:t.title||"Untitled"}),t.content&&s.jsx("p",{className:"text-slate-400 text-xs line-clamp-3",children:t.content})]}),t.source&&s.jsx("div",{className:"px-3 pb-3",children:s.jsxs("p",{className:"text-slate-500 text-[10px] truncate",children:["Source: ",t.source]})})]})},qB=({connection:t,nodes:e,isSelected:n,onSelect:a,onDelete:r})=>{const o=e.find(I=>I.id===t.from),c=e.find(I=>I.id===t.to);if(!o||!c)return null;const d=o.x+256+8,m=o.y+50,f=c.x-8,g=c.y+50,b=df[t.type]||df.supports,v=BB(d,m,f,g),w=(d+f)/2,j=(m+g)/2;return s.jsxs("g",{className:"cursor-pointer",onClick:()=>a?.(t.id),children:[s.jsx("path",{d:v,fill:"none",stroke:b.color,strokeWidth:n?3:2,strokeDasharray:b.dash?"8 4":"none",className:"transition-all duration-200",style:{filter:n?"drop-shadow(0 0 8px currentColor)":"none"}}),s.jsx("circle",{cx:f,cy:g,r:4,fill:b.color}),s.jsxs("g",{transform:`translate(${w}, ${j})`,children:[s.jsx("rect",{x:-30,y:-10,width:60,height:20,rx:4,fill:"#1e293b",stroke:b.color,strokeWidth:1,opacity:.9}),s.jsx("text",{textAnchor:"middle",dominantBaseline:"middle",fill:b.color,fontSize:10,fontWeight:500,children:b.label})]}),n&&s.jsxs("g",{transform:`translate(${w+40}, ${j})`,onClick:I=>{I.stopPropagation(),r?.(t.id)},className:"cursor-pointer",children:[s.jsx("circle",{r:10,fill:"#ef4444"}),s.jsx("text",{textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:12,children:""})]})]})},HB=({isOpen:t,onClose:e,onAdd:n,editNode:a})=>{const[r,o]=T.useState({type:"claim",title:"",content:"",source:""});if(T.useEffect(()=>{o(a?{type:a.type||"claim",title:a.title||"",content:a.content||"",source:a.source||""}:{type:"claim",title:"",content:"",source:""})},[a,t]),!t)return null;const c=d=>{d.preventDefault(),n(r,a?.id),e()};return s.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:d=>d.target===d.currentTarget&&e(),children:s.jsxs(V.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},className:"w-full max-w-lg bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-800 rounded-3xl shadow-2xl overflow-hidden",children:[s.jsxs("div",{className:"relative p-6 border-b border-slate-800",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 via-transparent to-purple-500/10"}),s.jsxs("div",{className:"relative flex items-center justify-between",children:[s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-600/20 border border-cyan-500/30",children:s.jsx(xf,{className:"w-5 h-5 text-cyan-400"})}),a?"Edit Node":"Add Node"]}),s.jsx(V.button,{whileHover:{scale:1.1,rotate:90},onClick:e,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(rn,{className:"w-5 h-5"})})]})]}),s.jsxs("form",{onSubmit:c,className:"p-6 space-y-5",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Node Type"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:Object.entries(fd).map(([d,m])=>{const f=m.icon;return s.jsxs("button",{type:"button",onClick:()=>o({...r,type:d}),className:`
                      p-3 rounded-xl border transition-all text-left
                      ${r.type===d?`${m.bgColor} ${m.borderColor} ${m.textColor}`:"bg-slate-800/30 border-slate-700 text-slate-400 hover:bg-slate-800/50"}
                    `,children:[s.jsx(f,{className:"w-5 h-5 mb-1"}),s.jsx("p",{className:"text-xs font-medium",children:m.label})]},d)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Title *"}),s.jsx("input",{type:"text",value:r.title,onChange:d=>o({...r,title:d.target.value}),placeholder:"Enter node title...",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Content"}),s.jsx("textarea",{value:r.content,onChange:d=>o({...r,content:d.target.value}),placeholder:"Add details or explanation...",rows:3,className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all resize-none"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Source (optional)"}),s.jsx("input",{type:"text",value:r.source,onChange:d=>o({...r,source:d.target.value}),placeholder:"Citation or reference...",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-800",children:[s.jsx(V.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"px-6 py-3 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:"Cancel"}),s.jsx(V.button,{type:"submit",whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},className:"px-8 py-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold shadow-lg shadow-cyan-500/25",children:a?"Save Changes":"Add Node"})]})]})]})})},GB=({isOpen:t,onClose:e,onAdd:n,fromNode:a,toNode:r})=>{const[o,c]=T.useState("supports");return t?s.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:d=>d.target===d.currentTarget&&e(),children:s.jsxs(V.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},className:"w-full max-w-md bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-800 rounded-3xl shadow-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(bf,{className:"w-5 h-5 text-cyan-400"}),"Create Connection"]}),s.jsx(V.button,{whileHover:{scale:1.1,rotate:90},onClick:e,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(rn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("p",{className:"text-slate-400 text-sm mb-4",children:["Connecting ",s.jsx("span",{className:"text-cyan-400 font-medium",children:a?.title})," to"," ",s.jsx("span",{className:"text-emerald-400 font-medium",children:r?.title})]}),s.jsx("div",{className:"space-y-2",children:Object.entries(df).map(([d,m])=>s.jsxs("button",{onClick:()=>c(d),className:`
                  w-full p-3 rounded-xl border transition-all flex items-center gap-3
                  ${o===d?"bg-slate-800 border-slate-600":"bg-slate-900/50 border-slate-800 hover:bg-slate-800/50"}
                `,children:[s.jsx("div",{className:"w-8 h-1 rounded-full",style:{backgroundColor:m.color,backgroundImage:m.dash?`repeating-linear-gradient(90deg, ${m.color}, ${m.color} 4px, transparent 4px, transparent 8px)`:"none"}}),s.jsx("span",{className:"text-white font-medium",children:m.label}),o===d&&s.jsx(Rn,{className:"w-4 h-4 text-cyan-400 ml-auto"})]},d))})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(V.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"px-6 py-3 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:"Cancel"}),s.jsx(V.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{n(o),e()},className:"px-8 py-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold shadow-lg shadow-cyan-500/25",children:"Connect"})]})]})}):null},QB=({scale:t,onZoomIn:e,onZoomOut:n,onResetView:a,onAddNode:r,onExportPNG:o,onExportPDF:c,onSave:d,onLoad:m,tool:f,setTool:g,showGrid:b,setShowGrid:v})=>s.jsxs("div",{className:"absolute top-4 left-4 z-30 flex flex-col gap-2",children:[s.jsxs("div",{className:"p-2 rounded-xl bg-slate-900/90 border border-slate-800 backdrop-blur-sm flex flex-col gap-1",children:[s.jsx("button",{onClick:()=>g("select"),className:`p-2.5 rounded-lg transition-all ${f==="select"?"bg-cyan-500/20 text-cyan-400":"text-slate-400 hover:text-white hover:bg-slate-800"}`,title:"Select Tool (V)",children:s.jsx(kA,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>g("pan"),className:`p-2.5 rounded-lg transition-all ${f==="pan"?"bg-cyan-500/20 text-cyan-400":"text-slate-400 hover:text-white hover:bg-slate-800"}`,title:"Pan Tool (H)",children:s.jsx(KE,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-2 rounded-xl bg-slate-900/90 border border-slate-800 backdrop-blur-sm flex flex-col gap-1",children:[s.jsx("button",{onClick:e,className:"p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Zoom In (+)",children:s.jsx(n3,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-center text-xs text-slate-500 py-1",children:[Math.round(t*100),"%"]}),s.jsx("button",{onClick:n,className:"p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Zoom Out (-)",children:s.jsx(i3,{className:"w-5 h-5"})}),s.jsx("button",{onClick:a,className:"p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Reset View (R)",children:s.jsx(Xj,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"p-2 rounded-xl bg-slate-900/90 border border-slate-800 backdrop-blur-sm",children:s.jsx("button",{onClick:()=>v(!b),className:`p-2.5 rounded-lg transition-all ${b?"bg-cyan-500/20 text-cyan-400":"text-slate-400 hover:text-white hover:bg-slate-800"}`,title:"Toggle Grid (G)",children:s.jsx(Lx,{className:"w-5 h-5"})})})]}),YB=({onAddNode:t,onExportPNG:e,onExportPDF:n,onSave:a,onLoad:r,onClear:o})=>s.jsxs("div",{className:"absolute top-4 right-4 z-30 flex flex-col gap-2",children:[s.jsx(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"p-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white shadow-lg shadow-cyan-500/25",title:"Add Node (N)",children:s.jsx(Ct,{className:"w-5 h-5"})}),s.jsxs("div",{className:"p-2 rounded-xl bg-slate-900/90 border border-slate-800 backdrop-blur-sm flex flex-col gap-1",children:[s.jsx("button",{onClick:a,className:"p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Save Flowchart",children:s.jsx(yf,{className:"w-5 h-5"})}),s.jsx("button",{onClick:r,className:"p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Load Flowchart",children:s.jsx(gf,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-2 rounded-xl bg-slate-900/90 border border-slate-800 backdrop-blur-sm flex flex-col gap-1",children:[s.jsx("button",{onClick:e,className:"p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Export as PNG",children:s.jsx(Lm,{className:"w-5 h-5"})}),s.jsx("button",{onClick:n,className:"p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Export as PDF",children:s.jsx(_n,{className:"w-5 h-5"})})]}),s.jsx("button",{onClick:o,className:"p-2.5 rounded-xl bg-slate-900/90 border border-slate-800 backdrop-blur-sm text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-all",title:"Clear Canvas",children:s.jsx(Gn,{className:"w-5 h-5"})})]}),KB=()=>s.jsxs("div",{className:"absolute bottom-4 left-4 z-30 p-4 rounded-xl bg-slate-900/90 border border-slate-800 backdrop-blur-sm",children:[s.jsx("h4",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Node Types"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(fd).map(([t,e])=>{const n=e.icon;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`p-1 rounded ${e.bgColor}`,children:s.jsx(n,{className:`w-3 h-3 ${e.textColor}`})}),s.jsx("span",{className:"text-xs text-slate-400",children:e.label})]},t)})})]}),WB=({onAddNode:t})=>s.jsx(V.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:s.jsxs("div",{className:"text-center pointer-events-auto",children:[s.jsxs("div",{className:"relative inline-block mb-8",children:[s.jsx(V.div,{animate:{scale:[1,1.2,1],opacity:[.3,.1,.3]},transition:{duration:3,repeat:1/0},className:"absolute inset-0 w-32 h-32 rounded-full bg-cyan-500/20 blur-xl"}),s.jsx(V.div,{animate:{y:[0,-5,0]},transition:{duration:3,repeat:1/0},className:"relative p-6 rounded-3xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-slate-700/50 backdrop-blur-xl shadow-2xl",children:s.jsx(xf,{className:"w-16 h-16 text-cyan-400"})})]}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Start Building Your Flow"}),s.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-8 leading-relaxed",children:"Create argument structures visually. Add claims, evidence, warrants, and connect them to see your case flow."}),s.jsxs(V.button,{whileHover:{scale:1.05,boxShadow:"0 20px 40px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},onClick:t,className:"px-8 py-4 rounded-2xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold text-lg shadow-lg shadow-cyan-500/25 inline-flex items-center gap-3",children:[s.jsx(Ct,{className:"w-5 h-5"}),"Add First Node",s.jsx(on,{className:"w-5 h-5"})]})]})}),XB=()=>{const{user:t}=Pn(),e=T.useRef(null),n=T.useRef(null),[a,r]=T.useState([]),[o,c]=T.useState([]),[d,m]=T.useState(1),[f,g]=T.useState({x:0,y:0}),[b,v]=T.useState("select"),[w,j]=T.useState(!0),[I,D]=T.useState(null),[L,R]=T.useState(null),[$,q]=T.useState(!1),[X,G]=T.useState(null),[k,A]=T.useState(!1),[O,C]=T.useState(null),[M,z]=T.useState(!1),[E,J]=T.useState(null),[K,H]=T.useState(!1),[Z,le]=T.useState({x:0,y:0});T.useEffect(()=>{const Ne=Se=>{if(!(Se.target.tagName==="INPUT"||Se.target.tagName==="TEXTAREA"))switch(Se.key.toLowerCase()){case"n":A(!0);break;case"v":v("select");break;case"h":v("pan");break;case"g":j(De=>!De);break;case"r":ce();break;case"+":case"=":ye();break;case"-":B();break;case"delete":case"backspace":I?et(I):L&&ge(L);break;case"escape":q(!1),G(null),D(null),R(null);break}};return window.addEventListener("keydown",Ne),()=>window.removeEventListener("keydown",Ne)},[I,L]);const ye=()=>m(Ne=>Math.min(Ne*1.2,3)),B=()=>m(Ne=>Math.max(Ne/1.2,.25)),ce=()=>{m(1),g({x:0,y:0})},be=Ne=>{if(Ne.ctrlKey||Ne.metaKey){Ne.preventDefault();const Se=Ne.deltaY>0?.9:1.1;m(De=>Math.min(Math.max(De*Se,.25),3))}},F=Ne=>{b==="pan"||Ne.button===1?(H(!0),le({x:Ne.clientX-f.x,y:Ne.clientY-f.y})):b==="select"&&(Ne.target===e.current||Ne.target.tagName==="svg")&&(D(null),R(null),$&&(q(!1),G(null)))},ke=Ne=>{K&&g({x:Ne.clientX-Z.x,y:Ne.clientY-Z.y})},Ce=()=>{H(!1)},Me=(Ne,Se)=>{if(Se)r(a.map(De=>De.id===Se?{...De,...Ne}:De));else{const De=n.current?.getBoundingClientRect(),Je={id:Rj(),...Ne,x:(De?.width/2-128-f.x)/d+Math.random()*100-50,y:(De?.height/2-50-f.y)/d+Math.random()*100-50};r([...a,Je])}C(null)},et=Ne=>{r(a.filter(Se=>Se.id!==Ne)),c(o.filter(Se=>Se.from!==Ne&&Se.to!==Ne)),D(null)},Et=(Ne,Se,De)=>{r(a.map(Je=>Je.id===Ne?{...Je,x:Se,y:De}:Je))},ht=Ne=>{q(!0),G(Ne)},Vt=Ne=>{X&&X!==Ne&&(o.some(De=>De.from===X&&De.to===Ne||De.from===Ne&&De.to===X)||(J({from:X,to:Ne}),z(!0))),q(!1),G(null)},Nt=Ne=>{if(E){const Se={id:Rj(),from:E.from,to:E.to,type:Ne};c([...o,Se]),J(null)}},ge=Ne=>{c(o.filter(Se=>Se.id!==Ne)),R(null)},ne=async()=>{if(e.current)try{const Ne=document.createElement("canvas"),Se=Ne.getContext("2d");Ne.width=1920,Ne.height=1080,Se.fillStyle="#0f172a",Se.fillRect(0,0,Ne.width,Ne.height),a.forEach(Je=>{const Mn=fd[Je.type];Se.fillStyle="#1e293b",Se.strokeStyle="#334155",Se.lineWidth=2,Se.beginPath(),Se.roundRect(Je.x,Je.y,256,100,12),Se.fill(),Se.stroke(),Se.fillStyle="#fff",Se.font="14px sans-serif",Se.fillText(Je.title||"Untitled",Je.x+12,Je.y+50)}),o.forEach(Je=>{const Mn=a.find(Qt=>Qt.id===Je.from),jn=a.find(Qt=>Qt.id===Je.to);if(Mn&&jn){const Qt=df[Je.type];Se.strokeStyle=Qt.color,Se.lineWidth=2,Se.beginPath(),Se.moveTo(Mn.x+256,Mn.y+50),Se.lineTo(jn.x,jn.y+50),Se.stroke()}});const De=document.createElement("a");De.download=`argument-flow-${Date.now()}.png`,De.href=Ne.toDataURL("image/png"),De.click()}catch(Ne){console.error("Export failed:",Ne),alert("Export failed. Please try again.")}},de=()=>{window.print()},_e=()=>{const Se=JSON.stringify({nodes:a,connections:o,scale:d,offset:f},null,2),De=new Blob([Se],{type:"application/json"}),Je=document.createElement("a");Je.download=`argument-flow-${Date.now()}.json`,Je.href=URL.createObjectURL(De),Je.click()},Pe=()=>{const Ne=document.createElement("input");Ne.type="file",Ne.accept=".json",Ne.onchange=Se=>{const De=Se.target.files[0];if(De){const Je=new FileReader;Je.onload=Mn=>{try{const jn=JSON.parse(Mn.target.result);r(jn.nodes||[]),c(jn.connections||[]),jn.scale&&m(jn.scale),jn.offset&&g(jn.offset)}catch(jn){console.error("Load failed:",jn),alert("Failed to load file. Please check the format.")}},Je.readAsText(De)}},Ne.click()},jt=()=>{a.length===0&&o.length===0||confirm("Clear all nodes and connections?")&&(r([]),c([]),D(null),R(null))};return s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"h-[calc(100vh-8rem)]",children:[s.jsxs("div",{className:"space-y-4 h-full flex flex-col",children:[s.jsx("div",{className:"flex items-start justify-between flex-shrink-0",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-600/20 border border-cyan-500/30",children:s.jsx(xf,{className:"w-7 h-7 text-cyan-400"})}),"Argument Flowchart"]}),s.jsxs("p",{className:"text-slate-400 mt-2",children:[a.length," nodes  ",o.length," connections"]})]})}),s.jsxs("div",{ref:n,className:"flex-1 relative rounded-2xl border border-slate-800/60 bg-slate-950 overflow-hidden",style:{cursor:b==="pan"?"grab":K?"grabbing":"default"},onMouseDown:F,onMouseMove:ke,onMouseUp:Ce,onMouseLeave:Ce,onWheel:be,children:[w&&s.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none",style:{backgroundImage:`
                  linear-gradient(rgba(100, 116, 139, 0.3) 1px, transparent 1px),
                  linear-gradient(90deg, rgba(100, 116, 139, 0.3) 1px, transparent 1px)
                `,backgroundSize:`${32*d}px ${32*d}px`,backgroundPosition:`${f.x}px ${f.y}px`}}),s.jsxs("div",{ref:e,className:"absolute inset-0",style:{transform:`translate(${f.x}px, ${f.y}px) scale(${d})`,transformOrigin:"0 0"},children:[s.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{overflow:"visible"},children:[o.map(Ne=>s.jsx(qB,{connection:Ne,nodes:a,isSelected:L===Ne.id,onSelect:Se=>{R(Se),D(null)},onDelete:ge},Ne.id)),$&&X&&s.jsx("line",{x1:a.find(Ne=>Ne.id===X)?.x+256+8,y1:a.find(Ne=>Ne.id===X)?.y+50,x2:(f.x*-1+(n.current?.clientWidth/2||0))/d,y2:(f.y*-1+(n.current?.clientHeight/2||0))/d,stroke:"#06b6d4",strokeWidth:2,strokeDasharray:"8 4",className:"pointer-events-none"})]}),a.map(Ne=>s.jsx($B,{node:Ne,isSelected:I===Ne.id,onSelect:Se=>{D(Se),R(null)},onDragStart:()=>{},onDrag:Et,onDragEnd:()=>{},onEdit:Se=>{C(Se),A(!0)},onDelete:et,onStartConnection:ht,onEndConnection:Vt,isConnecting:$,scale:d},Ne.id))]}),a.length===0&&s.jsx(WB,{onAddNode:()=>A(!0)}),s.jsx(QB,{scale:d,onZoomIn:ye,onZoomOut:B,onResetView:ce,tool:b,setTool:v,showGrid:w,setShowGrid:j}),s.jsx(YB,{onAddNode:()=>A(!0),onExportPNG:ne,onExportPDF:de,onSave:_e,onLoad:Pe,onClear:jt}),s.jsx(KB,{}),$&&s.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 px-4 py-2 rounded-full bg-cyan-500/20 border border-cyan-500/50 text-cyan-400 text-sm font-medium flex items-center gap-2",children:[s.jsx(bf,{className:"w-4 h-4"}),"Click a node to connect",s.jsx("button",{onClick:()=>{q(!1),G(null)},className:"ml-2 p-1 rounded hover:bg-cyan-500/20",children:s.jsx(rn,{className:"w-4 h-4"})})]})]})]}),s.jsx(at,{children:k&&s.jsx(HB,{isOpen:k,onClose:()=>{A(!1),C(null)},onAdd:Me,editNode:O})}),s.jsx(at,{children:M&&E&&s.jsx(GB,{isOpen:M,onClose:()=>{z(!1),J(null)},onAdd:Nt,fromNode:a.find(Ne=>Ne.id===E.from),toNode:a.find(Ne=>Ne.id===E.to)})})]})},JB={interpretation:[{id:"OO",label:"Original Oratory",icon:Ws},{id:"INF",label:"Informative Speaking",icon:$n},{id:"DI",label:"Dramatic Interpretation",icon:Ii},{id:"HI",label:"Humorous Interpretation",icon:Qa},{id:"DUO",label:"Duo Interpretation",icon:Lt},{id:"POI",label:"Program Oral Interpretation",icon:Gt}],limited_prep:[{id:"EXT",label:"Extemporaneous Speaking",icon:Ks},{id:"IMP",label:"Impromptu Speaking",icon:$n}],debate:[{id:"PF",label:"Public Forum",icon:Lt},{id:"LD",label:"Lincoln-Douglas",icon:Ii},{id:"POLICY",label:"Policy Debate",icon:Gt},{id:"CONGRESS",label:"Congressional Debate",icon:Qa},{id:"BP",label:"British Parliamentary",icon:$n},{id:"WORLDS",label:"World Schools",icon:Ks}]},ZB=({setActiveTab:t})=>{const{user:e,userProfile:n,isAuthenticated:a}=Pn(),[r,o]=T.useState([]),[c,d]=T.useState([]),[m,f]=T.useState(!0),[g,b]=T.useState(!1),[v,w]=T.useState(""),[j,I]=T.useState("all"),[D,L]=T.useState(!1),[R,$]=T.useState(null),[q,X]=T.useState(null),[G,k]=T.useState(!1),[A,O]=T.useState([]),[C,M]=T.useState(""),[z,E]=T.useState(!1),[J,K]=T.useState(!1),[H,Z]=T.useState([]),[le,ye]=T.useState({name:"",description:"",category:"debate",events:[],isPrivate:!1,maxMembers:20});T.useEffect(()=>{if(!a||!e)return;const ge=es(yn(Qe,"teams"),Si("createdAt","desc")),ne=mg(ge,de=>{const _e=de.docs.map(jt=>({id:jt.id,...jt.data()}));o(_e);const Pe=_e.filter(jt=>jt.members?.includes(e.uid));d(Pe),f(!1)},de=>{console.error("Error fetching teams:",de),f(!1)});return()=>ne()},[a,e]);const B=(ge,ne="success")=>{$({message:ge,type:ne}),setTimeout(()=>$(null),3e3)},ce=async ge=>{if(ge.preventDefault(),!a){B("Please sign in to create a team","error");return}try{const ne=n?.username||n?.displayName||e.email,de={...le,owner:e.uid,ownerName:ne,members:[e.uid],memberDetails:[{uid:e.uid,username:ne,name:n?.displayName||e.email,email:e.email,role:"owner",joinedAt:new Date().toISOString()}],createdAt:vt(),updatedAt:vt()};await Ha(yn(Qe,"teams"),de),b(!1),ye({name:"",description:"",category:"debate",events:[],isPrivate:!1,maxMembers:20}),B("Team created successfully!")}catch(ne){console.error("Error creating team:",ne),B("Failed to create team","error")}},be=async(ge,ne)=>{if(!a){B("Please sign in to join a team","error");return}if(ne.members?.includes(e.uid)){B("You are already a member of this team!","error");return}if(ne.memberDetails?.some(_e=>_e.uid===e.uid)){B("You are already a member of this team!","error");return}if(ne.members?.length>=ne.maxMembers){B("Team is full","error");return}try{const _e=n?.username||n?.displayName||e.email,Pe=yn(Qe,"teams",ge,"joinRequests");if(!(await Kr(es(Pe,cd("userId","==",e.uid)))).empty){B("Join request already pending!","info");return}await Ha(Pe,{userId:e.uid,username:_e,displayName:n?.displayName||e.email,email:e.email,photoURL:n?.photoURL||"",status:"pending",createdAt:vt(),timestamp:new Date().toISOString()}),B("Join request sent! Waiting for owner approval.")}catch(_e){console.error("Error sending join request:",_e),B("Failed to send join request","error")}},F=async(ge,ne)=>{if(ne.owner===e.uid){B("Team owner cannot leave. Transfer ownership or delete the team.","error");return}try{const de=Ht(Qe,"teams",ge),_e=ne.memberDetails?.find(Pe=>Pe.uid===e.uid);await Jn(de,{members:gN(e.uid),memberDetails:gN(_e),updatedAt:vt()}),B("Left team successfully")}catch(de){console.error("Error leaving team:",de),B("Failed to leave team","error")}},ke=ge=>{ye(ne=>({...ne,events:ne.events.includes(ge)?ne.events.filter(de=>de!==ge):[...ne.events,ge]}))};T.useEffect(()=>{if(!q||!G)return;const ge=es(yn(Qe,"teams",q.id,"messages"),Si("timestamp","asc")),ne=mg(ge,de=>{const _e=de.docs.map(Pe=>({id:Pe.id,...Pe.data()}));O(_e)});return()=>ne()},[q,G]);const Ce=async ge=>{if(ge.preventDefault(),!(!C.trim()||!q))try{const ne=n?.username||n?.displayName||e.email;await Ha(yn(Qe,"teams",q.id,"messages"),{text:C,userId:e.uid,username:ne,displayName:n?.displayName||e.email,timestamp:vt(),createdAt:new Date().toISOString()}),M(""),setTimeout(()=>{const de=document.querySelector(".chat-messages-container");de&&(de.scrollTop=de.scrollHeight)},100)}catch(ne){console.error("Error sending message:",ne),B("Failed to send message","error")}},Me=ge=>{X(ge),k(!0)},et=async(ge,ne)=>{try{const de=Ht(Qe,"teams",ge);await Jn(de,{...ne,updatedAt:vt()}),B("Team settings updated!"),E(!1)}catch(de){console.error("Error updating team:",de),B("Failed to update team settings","error")}};T.useEffect(()=>{if(!q||!J||q.owner!==e?.uid)return;const ge=yn(Qe,"teams",q.id,"joinRequests"),ne=es(ge,cd("status","==","pending"),Si("createdAt","desc")),de=mg(ne,_e=>{const Pe=_e.docs.map(jt=>({id:jt.id,...jt.data()}));Z(Pe)});return()=>de()},[q,J,e]);const Et=async(ge,ne)=>{try{const de=ne.username||ne.displayName||ne.email,_e=Ht(Qe,"teams",q.id);await Jn(_e,{members:Fr(ne.userId),memberDetails:Fr({uid:ne.userId,username:de,name:ne.displayName,email:ne.email,role:"member",joinedAt:new Date().toISOString()}),updatedAt:vt()});const Pe=Ht(Qe,"teams",q.id,"joinRequests",ge);await Jn(Pe,{status:"approved",approvedAt:vt()}),B("Join request approved!")}catch(de){console.error("Error approving request:",de),B("Failed to approve request","error")}},ht=async ge=>{try{const ne=Ht(Qe,"teams",q.id,"joinRequests",ge);await Jn(ne,{status:"denied",deniedAt:vt()}),B("Join request denied")}catch(ne){console.error("Error denying request:",ne),B("Failed to deny request","error")}},Vt=ge=>{X(ge),K(!0)},Nt=r.filter(ge=>{const ne=ge.name.toLowerCase().includes(v.toLowerCase())||ge.description?.toLowerCase().includes(v.toLowerCase()),de=j==="all"||ge.category===j,_e=!ge.isPrivate||ge.members?.includes(e?.uid);return ne&&de&&_e});return a?m?s.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto"}),s.jsx("p",{className:"text-slate-400",children:"Loading teams..."})]})}):s.jsxs("div",{className:"space-y-6 pb-8",children:[R&&s.jsxs("div",{className:`fixed top-20 right-6 z-50 glass-card px-6 py-4 flex items-center gap-3 animate-in slide-in-from-top ${R.type==="error"?"border-red-500/50":R.type==="info"?"border-blue-500/50":"border-green-500/50"}`,children:[R.type==="success"&&s.jsx(Rn,{className:"w-5 h-5 text-green-400"}),R.type==="error"&&s.jsx(qn,{className:"w-5 h-5 text-red-400"}),R.type==="info"&&s.jsx(qn,{className:"w-5 h-5 text-blue-400"}),s.jsx("span",{className:"text-white",children:R.message})]}),s.jsxs("div",{className:"glass-card space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[s.jsx(Lt,{className:"w-8 h-8 text-cyan-400"}),"Team Browser"]}),s.jsx("p",{className:"text-slate-400 mt-2",children:"Find, join, or create teams to collaborate with other debaters"})]}),s.jsxs("button",{onClick:()=>b(!0),className:"btn-primary flex items-center gap-2",children:[s.jsx(Ct,{className:"w-5 h-5"}),"Create Team"]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),s.jsx("input",{type:"text",placeholder:"Search teams...",value:v,onChange:ge=>w(ge.target.value),className:"input-field pl-10"})]}),s.jsxs("button",{onClick:()=>L(!D),className:`px-4 py-2 rounded-lg transition-all flex items-center gap-2 ${D?"bg-cyan-500/10 text-cyan-400 border-cyan-500/50":"bg-slate-800 text-slate-300 border-slate-700"} border`,children:[s.jsx(Gj,{className:"w-4 h-4"}),"Filters"]})]}),D&&s.jsx("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-slate-800",children:["all","debate","interpretation","limited_prep"].map(ge=>s.jsx("button",{onClick:()=>I(ge),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${j===ge?"bg-cyan-500/20 text-cyan-400 border-cyan-500/50":"bg-slate-800 text-slate-400 border-slate-700 hover:border-slate-600"} border`,children:ge.charAt(0).toUpperCase()+ge.slice(1).replace("_"," ")},ge))})]}),c.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(Qa,{className:"w-5 h-5 text-yellow-400"}),"My Teams (",c.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:c.map(ge=>s.jsx(Dj,{team:ge,user:e,onJoin:be,onLeave:F,onOpenChat:Me,onOpenSettings:ne=>{X(ne),E(!0)},onOpenJoinRequests:Vt,isMember:!0},ge.id))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(Lt,{className:"w-5 h-5 text-cyan-400"}),"Browse Teams (",Nt.length,")"]}),Nt.length===0?s.jsxs("div",{className:"glass-card text-center py-12",children:[s.jsx(Lt,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No teams found"}),s.jsx("p",{className:"text-slate-400 mb-6",children:v||j!=="all"?"Try adjusting your search or filters":"Be the first to create a team!"}),!v&&j==="all"&&s.jsx("button",{onClick:()=>b(!0),className:"btn-primary",children:"Create First Team"})]}):s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:Nt.map(ge=>s.jsx(Dj,{team:ge,user:e,onJoin:be,onLeave:F,onOpenChat:Me,onOpenSettings:ne=>{X(ne),E(!0)},isMember:ge.members?.includes(e.uid)},ge.id))})]}),g&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",children:s.jsxs("div",{className:"glass-card w-full max-w-2xl max-h-[90vh] overflow-y-auto animate-in zoom-in-95",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx(Ct,{className:"w-6 h-6 text-cyan-400"}),"Create New Team"]}),s.jsx("button",{onClick:()=>b(!1),className:"p-2 rounded-lg hover:bg-slate-800 transition-colors",children:s.jsx(rn,{className:"w-5 h-5 text-slate-400"})})]}),s.jsxs("form",{onSubmit:ce,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Team Name *"}),s.jsx("input",{type:"text",required:!0,value:le.name,onChange:ge=>ye({...le,name:ge.target.value}),placeholder:"e.g., Debate Warriors",className:"input-field"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),s.jsx("textarea",{value:le.description,onChange:ge=>ye({...le,description:ge.target.value}),placeholder:"Tell others about your team...",rows:3,className:"input-field resize-none"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Category"}),s.jsxs("select",{value:le.category,onChange:ge=>ye({...le,category:ge.target.value}),className:"input-field",children:[s.jsx("option",{value:"debate",children:"Debate"}),s.jsx("option",{value:"interpretation",children:"Interpretation"}),s.jsx("option",{value:"limited_prep",children:"Limited Prep"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Max Members"}),s.jsx("input",{type:"number",min:"2",max:"100",value:le.maxMembers,onChange:ge=>ye({...le,maxMembers:parseInt(ge.target.value)}),className:"input-field"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",id:"isPrivate",checked:le.isPrivate,onChange:ge=>ye({...le,isPrivate:ge.target.checked}),className:"w-4 h-4 rounded border-slate-700 bg-slate-800 text-cyan-500"}),s.jsxs("label",{htmlFor:"isPrivate",className:"text-sm text-slate-300 flex items-center gap-2",children:[le.isPrivate?s.jsx(zu,{className:"w-4 h-4"}):s.jsx(Uw,{className:"w-4 h-4"}),"Private Team (invite-only)"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Select Events"}),s.jsx("div",{className:"space-y-4",children:Object.entries(JB).map(([ge,ne])=>s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:ge.replace("_"," ")}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:ne.map(de=>s.jsxs("button",{type:"button",onClick:()=>ke(de.id),className:`p-3 rounded-lg border transition-all text-left ${le.events.includes(de.id)?"bg-cyan-500/20 border-cyan-500/50 text-cyan-400":"bg-slate-800 border-slate-700 text-slate-400 hover:border-slate-600"}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(de.icon,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:de.id})]}),s.jsx("span",{className:"text-xs opacity-70 mt-1 block",children:de.label})]},de.id))})]},ge))})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-800",children:[s.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-6 py-2 rounded-lg text-slate-400 hover:text-white transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn-primary",children:"Create Team"})]})]})]})}),G&&q&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",children:s.jsxs("div",{className:"glass-card w-full max-w-2xl h-[600px] flex flex-col animate-in zoom-in-95",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-slate-800",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx($n,{className:"w-5 h-5 text-cyan-400"}),q.name," Chat"]}),s.jsxs("p",{className:"text-sm text-slate-400",children:[q.members?.length||0," members"]})]}),s.jsx("button",{onClick:()=>{k(!1),X(null),O([])},className:"p-2 rounded-lg hover:bg-slate-800 transition-colors",children:s.jsx(rn,{className:"w-5 h-5 text-slate-400"})})]}),s.jsx("div",{className:"chat-messages-container flex-1 overflow-y-auto space-y-3 mb-4 scroll-smooth",children:A.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx($n,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),s.jsx("p",{className:"text-slate-400",children:"No messages yet. Start the conversation!"})]}):A.map(ge=>s.jsx("div",{className:`flex ${ge.userId===e.uid?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${ge.userId===e.uid?"bg-cyan-500 text-white":"bg-slate-800 text-slate-200"}`,children:[ge.userId!==e.uid&&s.jsxs("p",{className:"text-xs font-semibold opacity-80 mb-1",children:["@",ge.username||ge.displayName||ge.userName]}),s.jsx("p",{className:"text-sm",children:ge.text}),s.jsx("p",{className:"text-xs opacity-60 mt-1",children:ge.createdAt?new Date(ge.createdAt).toLocaleTimeString():"Just now"})]})},ge.id))}),s.jsxs("form",{onSubmit:Ce,className:"flex gap-2 pt-4 border-t border-slate-800",children:[s.jsx("input",{type:"text",value:C,onChange:ge=>M(ge.target.value),placeholder:"Type a message...",className:"input-field flex-1"}),s.jsx("button",{type:"submit",disabled:!C.trim(),className:"btn-primary px-4 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(bd,{className:"w-5 h-5"})})]})]})}),z&&q&&q.owner===e.uid&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",children:s.jsxs("div",{className:"glass-card w-full max-w-lg animate-in zoom-in-95",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(Hr,{className:"w-5 h-5 text-cyan-400"}),"Team Settings"]}),s.jsx("button",{onClick:()=>{E(!1),X(null)},className:"p-2 rounded-lg hover:bg-slate-800 transition-colors",children:s.jsx(rn,{className:"w-5 h-5 text-slate-400"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Team Name"}),s.jsx("input",{type:"text",defaultValue:q.name,onChange:ge=>X({...q,name:ge.target.value}),className:"input-field"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),s.jsx("textarea",{defaultValue:q.description,onChange:ge=>X({...q,description:ge.target.value}),rows:3,className:"input-field resize-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Max Members"}),s.jsx("input",{type:"number",min:"2",max:"100",defaultValue:q.maxMembers,onChange:ge=>X({...q,maxMembers:parseInt(ge.target.value)}),className:"input-field"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",id:"editPrivate",defaultChecked:q.isPrivate,onChange:ge=>X({...q,isPrivate:ge.target.checked}),className:"w-4 h-4 rounded border-slate-700 bg-slate-800 text-cyan-500"}),s.jsxs("label",{htmlFor:"editPrivate",className:"text-sm text-slate-300 flex items-center gap-2",children:[q.isPrivate?s.jsx(zu,{className:"w-4 h-4"}):s.jsx(Uw,{className:"w-4 h-4"}),"Private Team (invite-only)"]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-800",children:[s.jsx("button",{onClick:()=>{E(!1),X(null)},className:"px-4 py-2 rounded-lg text-slate-400 hover:text-white transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>et(q.id,{name:q.name,description:q.description,maxMembers:q.maxMembers,isPrivate:q.isPrivate}),className:"btn-primary",children:"Save Changes"})]})]})]})}),J&&q&&q.owner===e.uid&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",children:s.jsxs("div",{className:"glass-card w-full max-w-lg max-h-[600px] flex flex-col animate-in zoom-in-95",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-slate-800",children:[s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(Dx,{className:"w-5 h-5 text-cyan-400"}),"Join Requests"]}),s.jsx("button",{onClick:()=>{K(!1),X(null),Z([])},className:"p-2 rounded-lg hover:bg-slate-800 transition-colors",children:s.jsx(rn,{className:"w-5 h-5 text-slate-400"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto space-y-3",children:H.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Vm,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),s.jsx("p",{className:"text-slate-400",children:"No pending join requests"})]}):H.map(ge=>s.jsxs("div",{className:"glass-card p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"font-semibold text-white",children:["@",ge.username||ge.displayName]}),s.jsx("p",{className:"text-sm text-slate-400",children:ge.email}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:ge.timestamp?new Date(ge.timestamp).toLocaleDateString():"Recently"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>Et(ge.id,ge),className:"p-2 rounded-lg bg-green-500/10 text-green-400 hover:bg-green-500/20 border border-green-500/30 transition-all",title:"Approve",children:s.jsx(Ok,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>ht(ge.id),className:"p-2 rounded-lg bg-red-500/10 text-red-400 hover:bg-red-500/20 border border-red-500/30 transition-all",title:"Deny",children:s.jsx(Fk,{className:"w-5 h-5"})})]})]},ge.id))})]})})]}):s.jsxs("div",{className:"min-h-[80vh] flex flex-col items-center justify-center text-center space-y-6 px-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full blur opacity-30"}),s.jsx("div",{className:"relative w-24 h-24 bg-slate-900 rounded-full flex items-center justify-center border-2 border-slate-800",children:s.jsx(zu,{className:"w-12 h-12 text-cyan-400"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-3xl font-bold text-white",children:"Authentication Required"}),s.jsx("p",{className:"text-slate-400 max-w-md",children:"Please sign in to browse teams, create your own team, and collaborate with other debaters."})]}),s.jsx("button",{onClick:()=>t&&t("dashboard"),className:"btn-primary",children:"Sign In to Continue"})]})},Dj=({team:t,user:e,onJoin:n,onLeave:a,onOpenChat:r,onOpenSettings:o,onOpenJoinRequests:c,isMember:d})=>{const m=t.owner===e.uid,f=t.members?.length>=t.maxMembers;return s.jsxs("div",{className:"glass-card hover:border-cyan-500/30 transition-all space-y-4",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"text-lg font-bold text-white",children:t.name}),t.isPrivate&&s.jsx(zu,{className:"w-4 h-4 text-slate-500"}),m&&s.jsx(Qa,{className:"w-4 h-4 text-yellow-400"})]}),s.jsx("p",{className:"text-sm text-slate-400 line-clamp-2",children:t.description||"No description"})]})}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1 text-slate-400",children:[s.jsx(Lt,{className:"w-4 h-4"}),s.jsxs("span",{children:[t.members?.length||0,"/",t.maxMembers]})]}),s.jsx("div",{className:"px-2 py-1 bg-slate-800 rounded text-xs text-cyan-400 capitalize",children:t.category})]}),t.events?.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1",children:t.events.map(g=>s.jsx("span",{className:"px-2 py-1 bg-slate-800 rounded text-xs text-slate-300",children:g},g))}),s.jsx("div",{className:"pt-3 border-t border-slate-800 space-y-2",children:d?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm text-green-400 flex items-center gap-2",children:[s.jsx(Rn,{className:"w-4 h-4"}),"Member"]}),m&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>c&&c(t),className:"p-1.5 rounded-lg hover:bg-slate-800 transition-colors",title:"Join Requests",children:s.jsx(Dx,{className:"w-4 h-4 text-cyan-400"})}),s.jsx("button",{onClick:()=>o(t),className:"p-1.5 rounded-lg hover:bg-slate-800 transition-colors",title:"Team Settings",children:s.jsx(Hr,{className:"w-4 h-4 text-slate-400"})})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>r(t),className:"flex-1 py-2 rounded-lg bg-cyan-500/10 text-cyan-400 border border-cyan-500/30 hover:bg-cyan-500/20 transition-all flex items-center justify-center gap-2 text-sm font-medium",children:[s.jsx($n,{className:"w-4 h-4"}),"Open Chat"]}),!m&&s.jsx("button",{onClick:()=>a(t.id,t),className:"px-4 py-2 rounded-lg text-red-400 hover:bg-red-500/10 border border-red-500/30 transition-all text-sm font-medium",children:"Leave"})]})]}):s.jsxs("button",{onClick:()=>n(t.id,t),disabled:f,className:`w-full py-2 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ${f?"bg-slate-800 text-slate-500 cursor-not-allowed":"bg-cyan-500 hover:bg-cyan-600 text-white"}`,children:[s.jsx(Vm,{className:"w-4 h-4"}),f?"Team Full":"Join Team"]})})]})},e$=["um","uh","like","you know","so","actually","basically","literally","right","okay"],Mg={excellent:85,good:70,fair:55},Cl={slow:100,normal:150,fast:180,veryFast:200},t$=({analyser:t,isRecording:e,audioData:n})=>{const a=T.useRef(null),r=T.useRef(null);return T.useEffect(()=>{if(!a.current)return;const o=a.current,c=o.getContext("2d"),d=o.width,m=o.height,f=()=>{if(!t||!t.current){c.fillStyle="#0f172a",c.fillRect(0,0,d,m),c.beginPath(),c.strokeStyle="#334155",c.lineWidth=2,c.moveTo(0,m/2),c.lineTo(d,m/2),c.stroke();return}const g=t.current.frequencyBinCount,b=new Uint8Array(g);t.current.getByteTimeDomainData(b),c.fillStyle="#0f172a",c.fillRect(0,0,d,m);const v=c.createLinearGradient(0,0,d,0);v.addColorStop(0,"#06b6d4"),v.addColorStop(.5,"#8b5cf6"),v.addColorStop(1,"#06b6d4"),c.lineWidth=2,c.strokeStyle=e?v:"#475569",c.beginPath();const w=d/g;let j=0;for(let I=0;I<g;I++){const L=b[I]/128*m/2;I===0?c.moveTo(j,L):c.lineTo(j,L),j+=w}c.lineTo(d,m/2),c.stroke(),e&&(c.shadowBlur=10,c.shadowColor="#06b6d4"),r.current=requestAnimationFrame(f)};return f(),()=>{r.current&&cancelAnimationFrame(r.current)}},[t,e]),s.jsx("canvas",{ref:a,width:800,height:150,className:"w-full h-32 rounded-xl border border-slate-800"})},n$=({analyser:t,isRecording:e})=>{const n=T.useRef(null),a=T.useRef(null);return T.useEffect(()=>{if(!n.current)return;const r=n.current,o=r.getContext("2d"),c=r.width,d=r.height,m=()=>{if(!t||!t.current){o.fillStyle="#0f172a",o.fillRect(0,0,c,d);const j=32,I=c/j-2;for(let D=0;D<j;D++)o.fillStyle="#1e293b",o.fillRect(D*(I+2),d-20,I,20);return}const f=t.current.frequencyBinCount,g=new Uint8Array(f);t.current.getByteFrequencyData(g),o.fillStyle="#0f172a",o.fillRect(0,0,c,d);const b=64,v=c/b-2,w=Math.floor(f/b);for(let j=0;j<b;j++){const D=g[j*w]/255*d*.9,L=j/b*60+180;o.fillStyle=e?`hsla(${L}, 80%, 60%, 0.8)`:"#334155";const R=j*(v+2),$=d-D;o.beginPath(),o.roundRect(R,$,v,D,2),o.fill()}a.current=requestAnimationFrame(m)};return m(),()=>{a.current&&cancelAnimationFrame(a.current)}},[t,e]),s.jsx("canvas",{ref:n,width:400,height:120,className:"w-full h-28 rounded-xl border border-slate-800"})},s$=({pitchHistory:t,currentPitch:e})=>{const n=T.useRef(null);return T.useEffect(()=>{if(!n.current)return;const a=n.current,r=a.getContext("2d"),o=a.width,c=a.height;r.fillStyle="#0f172a",r.fillRect(0,0,o,c),r.strokeStyle="#1e293b",r.lineWidth=1;for(let b=0;b<5;b++){const v=c/5*b;r.beginPath(),r.moveTo(0,v),r.lineTo(o,v),r.stroke()}if(r.fillStyle="#64748b",r.font="10px sans-serif",r.fillText("High",5,15),r.fillText("Low",5,c-5),t.length<2)return;const d=r.createLinearGradient(0,0,o,0);d.addColorStop(0,"#06b6d4"),d.addColorStop(1,"#8b5cf6"),r.strokeStyle=d,r.lineWidth=2,r.beginPath();const m=Math.max(...t,300),f=Math.min(...t.filter(b=>b>0),80),g=m-f||1;if(t.forEach((b,v)=>{const w=v/(t.length-1)*o,j=b>0?(b-f)/g:.5,I=c-j*c*.8-c*.1;v===0?r.moveTo(w,I):r.lineTo(w,I)}),r.stroke(),e>0){const b=(e-f)/g,v=c-b*c*.8-c*.1;r.beginPath(),r.arc(o-5,v,4,0,Math.PI*2),r.fillStyle="#06b6d4",r.fill(),r.shadowBlur=10,r.shadowColor="#06b6d4",r.fill()}},[t,e]),s.jsx("canvas",{ref:n,width:300,height:100,className:"w-full h-24 rounded-xl border border-slate-800"})},vm=({icon:t,label:e,value:n,subValue:a,trend:r,color:o="cyan"})=>{const c={cyan:"from-cyan-500/20 to-cyan-600/20 border-cyan-500/30 text-cyan-400",emerald:"from-emerald-500/20 to-emerald-600/20 border-emerald-500/30 text-emerald-400",purple:"from-purple-500/20 to-purple-600/20 border-purple-500/30 text-purple-400",amber:"from-amber-500/20 to-amber-600/20 border-amber-500/30 text-amber-400",red:"from-red-500/20 to-red-600/20 border-red-500/30 text-red-400"},d=r==="up"?Ka:r==="down"?Zo:fc;return s.jsx("div",{className:`p-4 rounded-xl bg-gradient-to-br ${c[o]} border backdrop-blur-sm`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-400 text-xs font-medium uppercase tracking-wider",children:e}),s.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:n}),a&&s.jsx("p",{className:"text-slate-500 text-xs mt-1",children:a})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[r&&s.jsx(d,{className:`w-4 h-4 ${r==="up"?"text-emerald-400":r==="down"?"text-red-400":"text-slate-400"}`}),s.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-br ${c[o]}`,children:s.jsx(t,{className:"w-5 h-5"})})]})]})})},a$=({word:t,count:e})=>s.jsxs(V.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-amber-500/10 border border-amber-500/30",children:[s.jsxs("span",{className:"text-amber-400 text-sm font-medium",children:['"',t,'"']}),s.jsx("span",{className:"px-1.5 py-0.5 rounded-full bg-amber-500/20 text-amber-300 text-xs font-bold",children:e})]}),i$=({score:t})=>{const e=()=>t>=Mg.excellent?{bg:"bg-emerald-500",text:"text-emerald-400",label:"Excellent"}:t>=Mg.good?{bg:"bg-cyan-500",text:"text-cyan-400",label:"Good"}:t>=Mg.fair?{bg:"bg-amber-500",text:"text-amber-400",label:"Fair"}:{bg:"bg-red-500",text:"text-red-400",label:"Needs Work"},{bg:n,text:a,label:r}=e();return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-slate-400 text-sm",children:"Confidence Score"}),s.jsxs("span",{className:`${a} font-bold`,children:[t,"%"]})]}),s.jsx("div",{className:"h-3 rounded-full bg-slate-800 overflow-hidden",children:s.jsx(V.div,{initial:{width:0},animate:{width:`${t}%`},transition:{duration:1,ease:"easeOut"},className:`h-full rounded-full ${n}`})}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:a,children:r}),s.jsx("span",{className:"text-slate-500",children:"Target: 85%+"})]})]})},r$=({recording:t,onPlay:e,onDelete:n,isPlaying:a})=>{const r=o=>{const c=Math.floor(o/60),d=Math.floor(o%60);return`${c}:${d.toString().padStart(2,"0")}`};return s.jsxs(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center gap-4 p-4 rounded-xl bg-slate-800/30 border border-slate-800/60 hover:border-slate-700/60 transition-all group",children:[s.jsx(V.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>e(t),className:`p-3 rounded-xl transition-all ${a?"bg-cyan-500 text-white":"bg-slate-700 text-slate-300 hover:bg-cyan-500 hover:text-white"}`,children:a?s.jsx(xd,{className:"w-5 h-5"}):s.jsx(Ei,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-white font-medium truncate",children:t.name}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Zt,{className:"w-3.5 h-3.5"}),r(t.duration)]}),s.jsx("span",{children:new Date(t.timestamp).toLocaleDateString()})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.confidence>=80?"bg-emerald-500/10 text-emerald-400":t.confidence>=60?"bg-amber-500/10 text-amber-400":"bg-red-500/10 text-red-400"}`,children:[t.confidence,"%"]})}),s.jsx(V.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>n(t.id),className:"p-2 rounded-lg text-slate-400 hover:text-red-400 hover:bg-red-500/10 opacity-0 group-hover:opacity-100 transition-all",children:s.jsx(Gn,{className:"w-4 h-4"})})]})},l$=()=>s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"inline-flex p-4 rounded-full bg-slate-800/50 mb-4",children:s.jsx(t5,{className:"w-8 h-8 text-slate-500"})}),s.jsx("p",{className:"text-slate-400",children:"No recordings yet"}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Start recording to analyze your speech"})]}),o$=()=>{const{user:t}=Pn(),[e,n]=T.useState(!1),[a,r]=T.useState(!1),[o,c]=T.useState(0),[d,m]=T.useState(null),[f,g]=T.useState(!1),[b,v]=T.useState(null),[w,j]=T.useState([]),[I,D]=T.useState(0),[L,R]=T.useState(0),[$,q]=T.useState({}),[X,G]=T.useState(0),[k,A]=T.useState(0),[O,C]=T.useState(0),[M,z]=T.useState([]),E=T.useRef(null),J=T.useRef(null),K=T.useRef(null),H=T.useRef(null),Z=T.useRef([]),le=T.useRef(null),ye=T.useRef(new Audio),B=T.useCallback(async()=>{try{const ne=await navigator.mediaDevices.getUserMedia({audio:!0});return H.current=ne,J.current=new(window.AudioContext||window.webkitAudioContext),K.current=J.current.createAnalyser(),K.current.fftSize=2048,K.current.smoothingTimeConstant=.8,J.current.createMediaStreamSource(ne).connect(K.current),E.current=new MediaRecorder(ne),E.current.ondataavailable=_e=>{_e.data.size>0&&Z.current.push(_e.data)},E.current.onstop=()=>{const _e=new Blob(Z.current,{type:"audio/webm"});m(_e),Z.current=[]},!0}catch(ne){return console.error("Failed to initialize audio:",ne),!1}},[]),ce=T.useCallback(()=>{if(!K.current)return 0;const ne=K.current.fftSize,de=new Float32Array(ne);K.current.getFloatTimeDomainData(de);let _e=0,Pe=-1;const jt=J.current?.sampleRate||44100,Ne=Math.floor(jt/400),Se=Math.floor(jt/80);for(let De=Ne;De<Se;De++){let Je=0;for(let Mn=0;Mn<ne-De;Mn++)Je+=de[Mn]*de[Mn+De];Je>_e&&(_e=Je,Pe=De)}return Pe>0&&_e>.01?jt/Pe:0},[]),be=T.useCallback(()=>{if(!K.current)return 0;const ne=K.current.frequencyBinCount,de=new Uint8Array(ne);K.current.getByteFrequencyData(de);const _e=de.reduce((Pe,jt)=>Pe+jt,0);return Math.round(_e/ne/255*100)},[]);T.useEffect(()=>{let ne;return e&&!a&&(ne=setInterval(()=>{const de=ce();de>0&&(D(Math.round(de)),j(Pe=>[...Pe.slice(-100),de]));const _e=be();if(A(_e),_e>20&&(R(Pe=>Math.min(200,Pe+Math.random()*5)),C(Pe=>Pe+(Math.random()>.7?1:0))),Math.random()<.02&&_e>30){const Pe=e$[Math.floor(Math.random()*3)];q(jt=>({...jt,[Pe]:(jt[Pe]||0)+1}))}},100)),()=>{ne&&clearInterval(ne)}},[e,a,ce,be]),T.useEffect(()=>{const ne=Object.values($).reduce((De,Je)=>De+Je,0),de=Math.min(30,ne*3),_e=w.length>10?Math.min(20,(Math.max(...w)-Math.min(...w.filter(De=>De>0)))/10):10,Pe=L>=Cl.slow&&L<=Cl.fast?20:10,Ne=Math.max(0,Math.min(100,70-de+_e+Pe)),Se=setTimeout(()=>{G(Math.round(Ne))},0);return()=>clearTimeout(Se)},[$,w,L]),T.useEffect(()=>(e&&!a?le.current=setInterval(()=>{c(ne=>ne+1)},1e3):le.current&&clearInterval(le.current),()=>{le.current&&clearInterval(le.current)}),[e,a]);const F=async()=>{if(!await B()){alert("Could not access microphone. Please check permissions.");return}c(0),j([]),q({}),R(0),C(0),G(0),m(null),E.current?.start(100),n(!0),r(!1)},ke=()=>{E.current?.stop(),H.current?.getTracks().forEach(ne=>ne.stop()),n(!1),r(!1)},Ce=()=>{a?E.current?.resume():E.current?.pause(),r(!a)},Me=()=>{if(!d)return;const ne={id:Date.now().toString(),name:`Recording ${M.length+1}`,blob:d,duration:o,timestamp:new Date().toISOString(),confidence:X,fillerWords:{...$},speakingRate:L,wordCount:O};z(de=>[ne,...de]),m(null),c(0)},et=ne=>{if(b===ne.id)ye.current.pause(),g(!1),v(null);else{const de=URL.createObjectURL(ne.blob);ye.current.src=de,ye.current.play(),g(!0),v(ne.id),ye.current.onended=()=>{g(!1),v(null)}}},Et=ne=>{z(de=>de.filter(_e=>_e.id!==ne)),b===ne&&(ye.current.pause(),g(!1),v(null))},ht=()=>{if(!d)return;const ne=URL.createObjectURL(d),de=document.createElement("a");de.href=ne,de.download=`voice-recording-${Date.now()}.webm`,de.click()},Vt=ne=>{const de=Math.floor(ne/60),_e=ne%60;return`${de.toString().padStart(2,"0")}:${_e.toString().padStart(2,"0")}`},Nt=()=>L<Cl.slow?{label:"Too Slow",color:"text-amber-400"}:L<Cl.normal?{label:"Slow",color:"text-cyan-400"}:L<Cl.fast?{label:"Normal",color:"text-emerald-400"}:L<Cl.veryFast?{label:"Fast",color:"text-amber-400"}:{label:"Too Fast",color:"text-red-400"},ge=Object.values($).reduce((ne,de)=>ne+de,0);return s.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-600/20 border border-cyan-500/30",children:s.jsx(Zk,{className:"w-7 h-7 text-cyan-400"})}),"Voice Analysis"]}),s.jsx("p",{className:"text-slate-400 mt-2",children:"Real-time speech pattern analysis and feedback"})]})}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"glass-panel p-6 bg-gradient-to-br from-slate-900/80 to-slate-950/80",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-white font-semibold flex items-center gap-2",children:[s.jsx(_i,{className:"w-5 h-5 text-cyan-400"}),"Waveform"]}),e&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"relative flex h-3 w-3",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),s.jsx("span",{className:"text-red-400 text-sm font-medium",children:"Recording"})]})]}),s.jsx(t$,{analyser:K,isRecording:e&&!a}),s.jsx("div",{className:"flex items-center justify-center gap-4 mt-6",children:e?s.jsxs(s.Fragment,{children:[s.jsx(V.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Ce,className:`p-4 rounded-xl ${a?"bg-emerald-500 text-white":"glass-button-secondary"}`,children:a?s.jsx(Ei,{className:"w-6 h-6"}):s.jsx(xd,{className:"w-6 h-6"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-white font-mono",children:Vt(o)}),s.jsx("p",{className:"text-slate-500 text-sm",children:a?"Paused":"Recording..."})]}),s.jsx(V.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:ke,className:"p-4 rounded-xl bg-red-500 text-white hover:bg-red-600",children:s.jsx(a5,{className:"w-6 h-6"})})]}):s.jsxs(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:F,className:"px-8 py-4 rounded-2xl bg-gradient-to-r from-red-500 to-rose-600 text-white font-semibold text-lg shadow-lg shadow-red-500/25 flex items-center gap-3",children:[s.jsx(Ws,{className:"w-6 h-6"}),"Start Recording"]})}),d&&!e&&s.jsxs("div",{className:"flex items-center justify-center gap-3 mt-4 pt-4 border-t border-white/10",children:[s.jsxs(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Me,className:"glass-button-primary",children:[s.jsx(yf,{className:"w-4 h-4"}),"Save Recording"]}),s.jsxs(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ht,className:"glass-button-secondary",children:[s.jsx(dc,{className:"w-4 h-4"}),"Download"]})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"glass-panel p-4",children:[s.jsxs("h4",{className:"text-white font-medium mb-3 flex items-center gap-2",children:[s.jsx(Dn,{className:"w-4 h-4 text-purple-400"}),"Frequency Spectrum"]}),s.jsx(n$,{analyser:K,isRecording:e&&!a})]}),s.jsxs("div",{className:"glass-panel p-4",children:[s.jsxs("h4",{className:"text-white font-medium mb-3 flex items-center gap-2",children:[s.jsx(Ka,{className:"w-4 h-4 text-cyan-400"}),"Pitch Variation"]}),s.jsx(s$,{pitchHistory:w,currentPitch:I})]})]}),s.jsxs("div",{className:"glass-panel p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"text-white font-medium flex items-center gap-2",children:[s.jsx(Er,{className:"w-4 h-4 text-amber-400"}),"Filler Words Detected"]}),s.jsx("span",{className:`text-2xl font-bold ${ge>10?"text-red-400":ge>5?"text-amber-400":"text-emerald-400"}`,children:ge})]}),Object.keys($).length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries($).map(([ne,de])=>s.jsx(a$,{word:ne,count:de},ne))}):s.jsx("p",{className:"text-slate-500 text-sm",children:e?"Listening for filler words...":"No filler words detected"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-white font-semibold flex items-center gap-2",children:[s.jsx(Zu,{className:"w-5 h-5 text-amber-400"}),"Live Metrics"]}),s.jsx(vm,{icon:zx,label:"Volume Level",value:`${k}%`,color:"cyan"}),s.jsx(vm,{icon:_i,label:"Current Pitch",value:I>0?`${I} Hz`:"",subValue:I>200?"High":I>120?"Normal":"Low",color:"purple"}),s.jsx(vm,{icon:Zt,label:"Speaking Rate",value:`${Math.round(L)} WPM`,subValue:Nt().label,color:L>Cl.fast?"amber":"emerald"}),s.jsx(vm,{icon:$n,label:"Word Count",value:O,color:"cyan"})]}),s.jsxs("div",{className:"glass-panel p-5",children:[s.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[s.jsx(ys,{className:"w-5 h-5 text-cyan-400"}),"Confidence Analysis"]}),s.jsx(i$,{score:X})]}),s.jsxs("div",{className:"glass-panel p-5",children:[s.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[s.jsx(t5,{className:"w-5 h-5 text-purple-400"}),"Saved Recordings",M.length>0&&s.jsx("span",{className:"ml-auto px-2 py-0.5 rounded-full bg-slate-800 text-slate-400 text-xs",children:M.length})]}),s.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:M.length>0?M.map(ne=>s.jsx(r$,{recording:ne,onPlay:et,onDelete:Et,isPlaying:b===ne.id},ne.id)):s.jsx(l$,{})})]}),s.jsxs("div",{className:"p-4 rounded-xl border border-cyan-500/20 bg-cyan-500/5",children:[s.jsxs("h4",{className:"text-cyan-400 font-medium mb-2 flex items-center gap-2",children:[s.jsx(hc,{className:"w-4 h-4"}),"Tips for Better Speech"]}),s.jsxs("ul",{className:"space-y-2 text-sm text-slate-400",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Rn,{className:"w-4 h-4 text-emerald-400 mt-0.5 flex-shrink-0"}),"Aim for 130-160 words per minute"]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Rn,{className:"w-4 h-4 text-emerald-400 mt-0.5 flex-shrink-0"}),"Vary your pitch to maintain engagement"]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Rn,{className:"w-4 h-4 text-emerald-400 mt-0.5 flex-shrink-0"}),"Pause instead of using filler words"]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Rn,{className:"w-4 h-4 text-emerald-400 mt-0.5 flex-shrink-0"}),"Practice breath control for steady volume"]})]})]})]})]})]})})},Uo={ld:{name:"Lincoln-Douglas",shortName:"LD",segments:[{name:"AC",fullName:"Affirmative Constructive",time:360,speaker:"aff"},{name:"CX",fullName:"Cross-Examination",time:180,speaker:"neg"},{name:"NC",fullName:"Negative Constructive",time:420,speaker:"neg"},{name:"CX",fullName:"Cross-Examination",time:180,speaker:"aff"},{name:"1AR",fullName:"First Affirmative Rebuttal",time:240,speaker:"aff"},{name:"NR",fullName:"Negative Rebuttal",time:360,speaker:"neg"},{name:"2AR",fullName:"Second Affirmative Rebuttal",time:180,speaker:"aff"}],prepTime:{aff:240,neg:240}},pf:{name:"Public Forum",shortName:"PF",segments:[{name:"Pro",fullName:"First Pro Speech",time:240,speaker:"pro"},{name:"Con",fullName:"First Con Speech",time:240,speaker:"con"},{name:"CX",fullName:"Crossfire",time:180,speaker:"both"},{name:"Pro",fullName:"Second Pro Speech",time:240,speaker:"pro"},{name:"Con",fullName:"Second Con Speech",time:240,speaker:"con"},{name:"CX",fullName:"Crossfire",time:180,speaker:"both"},{name:"Sum",fullName:"Pro Summary",time:180,speaker:"pro"},{name:"Sum",fullName:"Con Summary",time:180,speaker:"con"},{name:"GCX",fullName:"Grand Crossfire",time:180,speaker:"both"},{name:"FF",fullName:"Pro Final Focus",time:120,speaker:"pro"},{name:"FF",fullName:"Con Final Focus",time:120,speaker:"con"}],prepTime:{pro:120,con:120}},policy:{name:"Policy",shortName:"CX",segments:[{name:"1AC",fullName:"First Affirmative Constructive",time:480,speaker:"aff"},{name:"CX",fullName:"Cross-Examination",time:180,speaker:"neg"},{name:"1NC",fullName:"First Negative Constructive",time:480,speaker:"neg"},{name:"CX",fullName:"Cross-Examination",time:180,speaker:"aff"},{name:"2AC",fullName:"Second Affirmative Constructive",time:480,speaker:"aff"},{name:"CX",fullName:"Cross-Examination",time:180,speaker:"neg"},{name:"2NC",fullName:"Second Negative Constructive",time:480,speaker:"neg"},{name:"CX",fullName:"Cross-Examination",time:180,speaker:"aff"},{name:"1NR",fullName:"First Negative Rebuttal",time:300,speaker:"neg"},{name:"1AR",fullName:"First Affirmative Rebuttal",time:300,speaker:"aff"},{name:"2NR",fullName:"Second Negative Rebuttal",time:300,speaker:"neg"},{name:"2AR",fullName:"Second Affirmative Rebuttal",time:300,speaker:"aff"}],prepTime:{aff:480,neg:480}},parli:{name:"Parliamentary",shortName:"Parli",segments:[{name:"PM",fullName:"Prime Minister Constructive",time:420,speaker:"gov"},{name:"LO",fullName:"Leader of Opposition",time:480,speaker:"opp"},{name:"MG",fullName:"Member of Government",time:480,speaker:"gov"},{name:"MO",fullName:"Member of Opposition",time:480,speaker:"opp"},{name:"LOR",fullName:"Leader of Opposition Rebuttal",time:240,speaker:"opp"},{name:"PMR",fullName:"Prime Minister Rebuttal",time:300,speaker:"gov"}],prepTime:{gov:0,opp:0}},congress:{name:"Congressional Debate",shortName:"Congress",segments:[{name:"Auth",fullName:"Authorship Speech",time:180,speaker:"author"},{name:"Q1",fullName:"Question Period 1",time:120,speaker:"floor"},{name:"Neg1",fullName:"First Negative Speech",time:180,speaker:"neg"},{name:"Q2",fullName:"Question Period 2",time:120,speaker:"floor"},{name:"Aff",fullName:"Affirmative Speech",time:180,speaker:"aff"},{name:"Q3",fullName:"Question Period 3",time:120,speaker:"floor"},{name:"Neg2",fullName:"Second Negative Speech",time:180,speaker:"neg"},{name:"Q4",fullName:"Question Period 4",time:120,speaker:"floor"}],prepTime:{}},bp:{name:"British Parliamentary",shortName:"BP",segments:[{name:"PM",fullName:"Prime Minister",time:420,speaker:"og"},{name:"LO",fullName:"Leader of Opposition",time:420,speaker:"oo"},{name:"DPM",fullName:"Deputy Prime Minister",time:420,speaker:"og"},{name:"DLO",fullName:"Deputy Leader of Opposition",time:420,speaker:"oo"},{name:"MG",fullName:"Member of Government",time:420,speaker:"cg"},{name:"MO",fullName:"Member of Opposition",time:420,speaker:"co"},{name:"GW",fullName:"Government Whip",time:420,speaker:"cg"},{name:"OW",fullName:"Opposition Whip",time:420,speaker:"co"}],prepTime:{}},worldschools:{name:"World Schools",shortName:"WSDC",segments:[{name:"1P",fullName:"First Proposition",time:480,speaker:"prop"},{name:"1O",fullName:"First Opposition",time:480,speaker:"opp"},{name:"2P",fullName:"Second Proposition",time:480,speaker:"prop"},{name:"2O",fullName:"Second Opposition",time:480,speaker:"opp"},{name:"3P",fullName:"Third Proposition",time:480,speaker:"prop"},{name:"3O",fullName:"Third Opposition",time:480,speaker:"opp"},{name:"OR",fullName:"Opposition Reply",time:240,speaker:"opp"},{name:"PR",fullName:"Proposition Reply",time:240,speaker:"prop"}],prepTime:{}},ipda:{name:"IPDA",shortName:"IPDA",segments:[{name:"AC",fullName:"Affirmative Constructive",time:300,speaker:"aff"},{name:"CX",fullName:"Cross-Examination",time:120,speaker:"neg"},{name:"NC",fullName:"Negative Constructive",time:300,speaker:"neg"},{name:"CX",fullName:"Cross-Examination",time:120,speaker:"aff"},{name:"AR",fullName:"Affirmative Rebuttal",time:180,speaker:"aff"},{name:"NR",fullName:"Negative Rebuttal",time:180,speaker:"neg"},{name:"AFR",fullName:"Affirmative Final Response",time:60,speaker:"aff"}],prepTime:{aff:0,neg:0}},npda:{name:"NPDA",shortName:"NPDA",segments:[{name:"PMC",fullName:"Prime Minister Constructive",time:420,speaker:"gov"},{name:"LOC",fullName:"Leader of Opposition Constructive",time:420,speaker:"opp"},{name:"MGC",fullName:"Member of Government Constructive",time:420,speaker:"gov"},{name:"MOC",fullName:"Member of Opposition Constructive",time:420,speaker:"opp"},{name:"LOR",fullName:"Leader of Opposition Rebuttal",time:300,speaker:"opp"},{name:"PMR",fullName:"Prime Minister Rebuttal",time:300,speaker:"gov"}],prepTime:{gov:300,opp:300}},custom:{name:"Custom",shortName:"Custom",segments:[],prepTime:{side1:180,side2:180}}},X_=t=>{const e=Math.floor(Math.abs(t)/60),n=Math.abs(t)%60;return`${t<0?"-":""}${e}:${n.toString().padStart(2,"0")}`},J_=t=>{const e=Math.floor(t/60),n=t%60;return e===0?`${n}s`:n===0?`${e}m`:`${e}m ${n}s`},c$=({progress:t,size:e=300,strokeWidth:n=12,timeRemaining:a,totalTime:r,isRunning:o,isOvertime:c})=>{const d=(e-n)/2,m=d*2*Math.PI,f=m-t/100*m,g=()=>c||t<=10?"#ef4444":t<=25?"#f59e0b":"#06b6d4";return s.jsxs("div",{className:"relative",style:{width:e,height:e},children:[s.jsxs("svg",{className:"absolute transform -rotate-90",width:e,height:e,children:[s.jsx("circle",{cx:e/2,cy:e/2,r:d,fill:"none",stroke:"#1e293b",strokeWidth:n}),s.jsx("circle",{cx:e/2,cy:e/2,r:d,fill:"none",stroke:g(),strokeWidth:n,strokeLinecap:"round",strokeDasharray:m,strokeDashoffset:f,style:{transition:"stroke-dashoffset 0.5s ease, stroke 0.3s ease",filter:o?`drop-shadow(0 0 10px ${g()})`:"none"}})]}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[s.jsx(V.span,{initial:{scale:1.1},animate:{scale:1},className:`text-5xl font-bold font-mono ${c||t<=10?"text-red-400":t<=25?"text-amber-400":"text-white"}`,children:X_(a)},a),s.jsxs("span",{className:"text-slate-500 text-sm mt-2",children:["of ",J_(r)]}),c&&s.jsxs("span",{className:"text-red-400 text-xs mt-1 flex items-center gap-1",children:[s.jsx(Er,{className:"w-3 h-3"}),"OVERTIME"]})]}),o&&s.jsx(V.div,{animate:{scale:[1,1.05,1],opacity:[.5,.2,.5]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 rounded-full border-2",style:{borderColor:g()}})]})},u$=({segment:t,index:e,isActive:n,isCompleted:a,onClick:r})=>{const o=c=>{switch(c){case"aff":case"pro":case"gov":return"bg-cyan-500/10 border-cyan-500/30 text-cyan-400";case"neg":case"con":case"opp":return"bg-red-500/10 border-red-500/30 text-red-400";case"both":return"bg-purple-500/10 border-purple-500/30 text-purple-400";default:return"bg-slate-500/10 border-slate-500/30 text-slate-400"}};return s.jsxs(V.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:r,className:`
        relative p-3 rounded-xl border transition-all text-left w-full
        ${n?"bg-cyan-500/20 border-cyan-500/50 ring-2 ring-cyan-500/30":a?"bg-slate-800/30 border-slate-700/50 opacity-60":"bg-slate-800/30 border-slate-800/60 hover:border-slate-700/60"}
      `,children:[n&&s.jsx(V.div,{layoutId:"activeIndicator",className:"absolute left-0 top-0 bottom-0 w-1 bg-cyan-500 rounded-l-xl"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`
          w-8 h-8 rounded-lg flex items-center justify-center text-sm font-bold
          ${a?"bg-emerald-500/20 text-emerald-400":"bg-slate-700 text-slate-300"}
        `,children:a?s.jsx(Rn,{className:"w-4 h-4"}):e+1}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`font-semibold ${n?"text-white":"text-slate-300"}`,children:t.name}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs border ${o(t.speaker)}`,children:t.speaker})]}),s.jsx("p",{className:"text-xs text-slate-500 truncate",children:t.fullName})]}),s.jsx("span",{className:"text-slate-400 font-mono text-sm",children:J_(t.time)})]})]})},d$=({prepTime:t,usedPrepTime:e,onUsePrep:n,onStopPrep:a,activePrepSide:r})=>{const o=Object.keys(t);return s.jsxs("div",{children:[s.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Zt,{className:"w-4 h-4 text-amber-400"}),"Prep Time"]}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.map(c=>{const d=t[c]-(e[c]||0),m=r===c,f=d/t[c]*100;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`text-sm font-medium capitalize ${c.includes("aff")||c.includes("pro")||c.includes("gov")||c==="side1"?"text-cyan-400":"text-red-400"}`,children:c}),s.jsx("span",{className:"text-white font-mono text-sm",children:X_(d)})]}),s.jsx("div",{className:"h-2 rounded-full bg-slate-800 overflow-hidden",children:s.jsx(V.div,{initial:{width:"100%"},animate:{width:`${f}%`},className:`h-full rounded-full ${f>50?"bg-emerald-500":f>25?"bg-amber-500":"bg-red-500"}`})}),s.jsx(V.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>m?a():n(c),disabled:d<=0&&!m,className:`
                  w-full py-2 rounded-lg text-sm font-medium transition-all
                  ${m?"bg-amber-500 text-white":d<=0?"bg-slate-800 text-slate-600 cursor-not-allowed":"bg-slate-700 text-white hover:bg-slate-600"}
                `,children:m?"Stop Prep":"Use Prep"})]},c)})})]})},h$=({isOpen:t,onClose:e})=>{if(!t)return null;const n=[{key:"Space",action:"Play / Pause timer"},{key:"R",action:"Reset current segment"},{key:"",action:"Previous segment"},{key:"",action:"Next segment"},{key:"M",action:"Toggle sound"},{key:"F",action:"Toggle fullscreen"},{key:"1-9",action:"Jump to segment"},{key:"P",action:"Use prep time (cycles sides)"},{key:"Esc",action:"Close modals / Exit fullscreen"}];return s.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:a=>a.target===a.currentTarget&&e(),children:s.jsxs(V.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},className:"w-full max-w-md bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-800 rounded-3xl shadow-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(Yj,{className:"w-5 h-5 text-cyan-400"}),"Keyboard Shortcuts"]}),s.jsx(V.button,{whileHover:{scale:1.1,rotate:90},onClick:e,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(rn,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"space-y-2",children:n.map(({key:a,action:r})=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-slate-800/30",children:[s.jsx("span",{className:"text-slate-300",children:r}),s.jsx("kbd",{className:"px-3 py-1.5 rounded-lg bg-slate-700 text-white text-sm font-mono border border-slate-600",children:a})]},a))})]})})},m$=({isOpen:t,onClose:e,settings:n,onSettingsChange:a})=>t?s.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:r=>r.target===r.currentTarget&&e(),children:s.jsxs(V.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},className:"w-full max-w-md bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-800 rounded-3xl shadow-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(Hr,{className:"w-5 h-5 text-cyan-400"}),"Timer Settings"]}),s.jsx(V.button,{whileHover:{scale:1.1,rotate:90},onClick:e,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(rn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{children:s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-slate-300",children:"Sound Alerts"}),s.jsx("button",{onClick:()=>a({...n,soundEnabled:!n.soundEnabled}),className:`relative w-12 h-6 rounded-full transition-colors ${n.soundEnabled?"bg-cyan-500":"bg-slate-700"}`,children:s.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${n.soundEnabled?"left-7":"left-1"}`})})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Alert at (seconds remaining)"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:[120,60,30,10,0].map(r=>s.jsx("button",{onClick:()=>{const o=n.alertTimes.includes(r)?n.alertTimes.filter(c=>c!==r):[...n.alertTimes,r].sort((c,d)=>d-c);a({...n,alertTimes:o})},className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${n.alertTimes.includes(r)?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-slate-800 text-slate-400 hover:text-white"}`,children:r===0?"End":`${r}s`},r))})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-slate-300",children:"Allow Overtime"}),s.jsx("button",{onClick:()=>a({...n,allowOvertime:!n.allowOvertime}),className:`relative w-12 h-6 rounded-full transition-colors ${n.allowOvertime?"bg-cyan-500":"bg-slate-700"}`,children:s.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${n.allowOvertime?"left-7":"left-1"}`})})]})}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-slate-300",children:"Auto-advance to next segment"}),s.jsx("button",{onClick:()=>a({...n,autoAdvance:!n.autoAdvance}),className:`relative w-12 h-6 rounded-full transition-colors ${n.autoAdvance?"bg-cyan-500":"bg-slate-700"}`,children:s.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${n.autoAdvance?"left-7":"left-1"}`})})]})})]}),s.jsx("div",{className:"mt-6 pt-4 border-t border-slate-800",children:s.jsx(V.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"w-full py-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold",children:"Done"})})]})}):null,f$=()=>{const{user:t}=Pn(),[e,n]=T.useState("pf"),[a,r]=T.useState(Uo.pf.segments),[o,c]=T.useState(Uo.pf.prepTime),[d,m]=T.useState(0),[f,g]=T.useState(Uo.pf.segments[0]?.time||0),[b,v]=T.useState(!1),[w,j]=T.useState([]),[I,D]=T.useState({}),[L,R]=T.useState(null),[$,q]=T.useState({soundEnabled:!0,alertTimes:[60,30,10,0],allowOvertime:!0,autoAdvance:!1}),[X,G]=T.useState(!1),[k,A]=T.useState(!1),[O,C]=T.useState(!1),[M,z]=T.useState(null),E=T.useRef(null),J=T.useRef(null),K=T.useRef(null),H=a[d],Z=H?.time||0,le=Z>0?Math.max(0,f/Z*100):0,ye=f<0,B=T.useCallback(()=>(J.current||(J.current=new(window.AudioContext||window.webkitAudioContext)),J.current),[]),ce=T.useCallback((ne="beep")=>{if($.soundEnabled)try{const de=B(),_e=de.createOscillator(),Pe=de.createGain();switch(_e.connect(Pe),Pe.connect(de.destination),ne){case"warning":_e.frequency.value=880,_e.type="sine",Pe.gain.value=.3;break;case"final":_e.frequency.value=440,_e.type="square",Pe.gain.value=.4;break;case"end":_e.frequency.value=660,_e.type="sawtooth",Pe.gain.value=.5;break;default:_e.frequency.value=660,_e.type="sine",Pe.gain.value=.3}_e.start(),Pe.gain.exponentialRampToValueAtTime(.01,de.currentTime+.3),_e.stop(de.currentTime+.3)}catch(de){console.error("Audio error:",de)}},[$.soundEnabled,B]);T.useEffect(()=>(b&&(E.current=setInterval(()=>{g(ne=>{const de=ne-1;return $.alertTimes.includes(de)&&de!==M&&(z(de),de===0?ce("end"):de<=10?ce("final"):ce("warning")),de<=0&&!$.allowOvertime?(v(!1),$.autoAdvance&&d<a.length-1&&setTimeout(()=>Ce(),500),0):de})},1e3)),()=>{E.current&&clearInterval(E.current)}),[b,$,d,a.length,M,ce]),T.useEffect(()=>{let ne;return L&&(ne=setInterval(()=>{D(de=>{const _e=(de[L]||0)+1;return _e>=o[L]?(R(null),ce("end"),{...de,[L]:o[L]}):{...de,[L]:_e}})},1e3)),()=>{ne&&clearInterval(ne)}},[L,o,ce]),T.useEffect(()=>{const ne=de=>{if(!(de.target.tagName==="INPUT"||de.target.tagName==="TEXTAREA"))switch(de.key.toLowerCase()){case" ":de.preventDefault(),v(Pe=>!Pe);break;case"r":ke();break;case"arrowleft":Me();break;case"arrowright":Ce();break;case"m":q(Pe=>({...Pe,soundEnabled:!Pe.soundEnabled}));break;case"f":Nt();break;case"p":Vt();break;case"escape":O&&document.exitFullscreen?.(),G(!1),A(!1);break;default:const _e=parseInt(de.key);_e>=1&&_e<=a.length&&et(_e-1)}};return window.addEventListener("keydown",ne),()=>window.removeEventListener("keydown",ne)},[a.length,O]);const be=ne=>{const de=Uo[ne];n(ne),r(de.segments),c(de.prepTime),m(0),g(de.segments[0]?.time||0),v(!1),j([]),D({}),R(null)},F=()=>v(ne=>!ne),ke=()=>{g(H?.time||0),v(!1),z(null)},Ce=()=>{d<a.length-1&&(j(ne=>[...ne,d]),m(ne=>ne+1),g(a[d+1]?.time||0),v(!1),z(null))},Me=()=>{d>0&&(j(ne=>ne.filter(de=>de!==d-1)),m(ne=>ne-1),g(a[d-1]?.time||0),v(!1),z(null))},et=ne=>{ne>=0&&ne<a.length&&(m(ne),g(a[ne]?.time||0),v(!1),z(null),j(Array.from({length:ne},(de,_e)=>_e)))},Et=ne=>{v(!1),R(ne)},ht=()=>{R(null)},Vt=()=>{const ne=Object.keys(o);if(L)R(null);else{const de=ne.indexOf(L),_e=ne[(de+1)%ne.length];o[_e]-(I[_e]||0)>0&&(R(_e),v(!1))}},Nt=()=>{document.fullscreenElement?(document.exitFullscreen(),C(!1)):(K.current?.requestFullscreen(),C(!0))};T.useEffect(()=>{const ne=()=>{C(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",ne),()=>document.removeEventListener("fullscreenchange",ne)},[]);const ge=()=>{m(0),g(a[0]?.time||0),v(!1),j([]),D({}),R(null),z(null)};return s.jsxs(V.div,{ref:K,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`${O?"fixed inset-0 z-50 bg-slate-950 p-8":""}`,children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-600/20 border border-cyan-500/30",children:s.jsx(Nf,{className:"w-7 h-7 text-cyan-400"})}),"Debate Timer"]}),s.jsxs("p",{className:"text-slate-400 mt-2",children:[Uo[e].name," Format"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>A(!0),className:"p-2.5 rounded-xl bg-slate-800 text-slate-400 hover:text-white transition-all",title:"Keyboard Shortcuts",children:s.jsx(Yj,{className:"w-5 h-5"})}),s.jsx(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>q(ne=>({...ne,soundEnabled:!ne.soundEnabled})),className:"p-2.5 rounded-xl bg-slate-800 text-slate-400 hover:text-white transition-all",title:$.soundEnabled?"Mute":"Unmute",children:$.soundEnabled?s.jsx(zx,{className:"w-5 h-5"}):s.jsx(r5,{className:"w-5 h-5"})}),s.jsx(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Nt,className:"p-2.5 rounded-xl bg-slate-800 text-slate-400 hover:text-white transition-all",title:"Toggle Fullscreen",children:O?s.jsx(CA,{className:"w-5 h-5"}):s.jsx(Xj,{className:"w-5 h-5"})}),s.jsx(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>G(!0),className:"p-2.5 rounded-xl bg-slate-800 text-slate-400 hover:text-white transition-all",title:"Settings",children:s.jsx(Hr,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:Object.entries(Uo).filter(([ne])=>ne!=="custom").map(([ne,de])=>s.jsx(V.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>be(ne),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${e===ne?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-slate-800 text-slate-400 hover:text-white border border-slate-700"}`,children:de.shortName},ne))}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("div",{className:"glass-panel p-8",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:H?.fullName||"No Segment"}),s.jsxs("p",{className:"text-slate-400 mt-1",children:["Segment ",d+1," of ",a.length]})]}),s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx(c$,{progress:le,size:280,strokeWidth:14,timeRemaining:f,totalTime:Z,isRunning:b,isOvertime:ye})}),s.jsxs("div",{className:"flex items-center justify-center gap-4",children:[s.jsx(V.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Me,disabled:d===0,className:"p-3 rounded-xl bg-slate-700 text-white disabled:opacity-30 disabled:cursor-not-allowed hover:bg-slate-600 transition-all",children:s.jsx(Px,{className:"w-6 h-6"})}),s.jsx(V.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:ke,className:"p-3 rounded-xl bg-slate-700 text-white hover:bg-slate-600 transition-all",children:s.jsx(Ai,{className:"w-6 h-6"})}),s.jsx(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:F,className:`p-5 rounded-2xl shadow-lg transition-all ${b?"bg-amber-500 hover:bg-amber-600 shadow-amber-500/25":"bg-gradient-to-r from-cyan-500 to-blue-600 shadow-cyan-500/25"}`,children:b?s.jsx(xd,{className:"w-8 h-8 text-white"}):s.jsx(Ei,{className:"w-8 h-8 text-white"})}),s.jsx(V.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:ge,className:"p-3 rounded-xl bg-slate-700 text-white hover:bg-slate-600 transition-all",title:"Reset All",children:s.jsx(Ai,{className:"w-6 h-6"})}),s.jsx(V.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Ce,disabled:d===a.length-1,className:"p-3 rounded-xl bg-slate-700 text-white disabled:opacity-30 disabled:cursor-not-allowed hover:bg-slate-600 transition-all",children:s.jsx(on,{className:"w-6 h-6"})})]}),s.jsxs("p",{className:"text-center text-slate-500 text-sm mt-6",children:["Press ",s.jsx("kbd",{className:"px-2 py-1 rounded bg-slate-800 text-slate-300 font-mono",children:"Space"})," to start/stop"]})]}),Object.keys(o).length>0&&o[Object.keys(o)[0]]>0&&s.jsx("div",{className:"mt-6 glass-panel p-4",children:s.jsx(d$,{prepTime:o,usedPrepTime:I,onUsePrep:Et,onStopPrep:ht,activePrepSide:L})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-white font-semibold flex items-center gap-2",children:[s.jsx($n,{className:"w-5 h-5 text-cyan-400"}),"Speech Segments"]}),s.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto pr-2",children:a.map((ne,de)=>s.jsx(u$,{segment:ne,index:de,isActive:de===d,isCompleted:w.includes(de),onClick:()=>et(de)},de))}),s.jsxs("div",{className:"glass-panel p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-slate-400 text-sm",children:"Progress"}),s.jsxs("span",{className:"text-white font-medium",children:[w.length," / ",a.length]})]}),s.jsx("div",{className:"h-2 rounded-full bg-slate-800 overflow-hidden",children:s.jsx(V.div,{initial:{width:0},animate:{width:`${w.length/a.length*100}%`},className:"h-full rounded-full bg-gradient-to-r from-cyan-500 to-emerald-500"})})]})]})]})]}),s.jsx(at,{children:X&&s.jsx(m$,{isOpen:X,onClose:()=>G(!1),settings:$,onSettingsChange:q})}),s.jsx(at,{children:k&&s.jsx(h$,{isOpen:k,onClose:()=>A(!1)})})]})},Pj={policy_1ac:{name:"Policy 1AC",format:"Policy",totalTime:480,sections:[{id:"inherency",type:"contention",title:"Inherency",timeAllocation:60,collapsed:!1,notes:"",subPoints:[{id:"inh-a",type:"subpoint",title:"Current System Fails",timeAllocation:30,notes:"",evidence:[{id:"inh-ev1",tag:"Status quo inadequate",source:"",notes:""}]},{id:"inh-b",type:"subpoint",title:"No Change Coming",timeAllocation:30,notes:"",evidence:[{id:"inh-ev2",tag:"No political will",source:"",notes:""}]}]},{id:"plan",type:"contention",title:"Plan Text",timeAllocation:30,collapsed:!1,notes:"Read slowly and clearly",subPoints:[]},{id:"solvency",type:"contention",title:"Solvency",timeAllocation:120,collapsed:!1,notes:"",subPoints:[{id:"solv-a",type:"subpoint",title:"Plan Solves the Problem",timeAllocation:60,notes:"",evidence:[{id:"solv-ev1",tag:"Expert analysis",source:"",notes:""},{id:"solv-ev2",tag:"Historical precedent",source:"",notes:""}]},{id:"solv-b",type:"subpoint",title:"Implementation Feasible",timeAllocation:60,notes:"",evidence:[{id:"solv-ev3",tag:"Resources available",source:"",notes:""}]}]},{id:"adv1",type:"contention",title:"Advantage 1: [Title]",timeAllocation:135,collapsed:!1,notes:"",subPoints:[{id:"adv1-a",type:"subpoint",title:"Link",timeAllocation:45,notes:"",evidence:[{id:"adv1-ev1",tag:"Problem exists",source:"",notes:""}]},{id:"adv1-b",type:"subpoint",title:"Internal Link",timeAllocation:30,notes:"",evidence:[{id:"adv1-ev2",tag:"Escalation scenario",source:"",notes:""}]},{id:"adv1-c",type:"subpoint",title:"Impact",timeAllocation:60,notes:"",evidence:[{id:"adv1-ev3",tag:"Magnitude/scope",source:"",notes:""},{id:"adv1-ev4",tag:"Timeframe",source:"",notes:""}]}]},{id:"adv2",type:"contention",title:"Advantage 2: [Title]",timeAllocation:135,collapsed:!1,notes:"",subPoints:[{id:"adv2-a",type:"subpoint",title:"Link",timeAllocation:45,notes:"",evidence:[]},{id:"adv2-b",type:"subpoint",title:"Internal Link",timeAllocation:30,notes:"",evidence:[]},{id:"adv2-c",type:"subpoint",title:"Impact",timeAllocation:60,notes:"",evidence:[]}]}]},ld_aff:{name:"LD Affirmative Case",format:"Lincoln Douglas",totalTime:360,sections:[{id:"intro",type:"contention",title:"Introduction",timeAllocation:30,collapsed:!1,notes:"Hook the judge",subPoints:[]},{id:"resolution",type:"contention",title:"Resolution & Definitions",timeAllocation:30,collapsed:!1,notes:"",subPoints:[{id:"def-a",type:"subpoint",title:"Key Terms",timeAllocation:15,notes:"",evidence:[]},{id:"def-b",type:"subpoint",title:"Framework/Standard",timeAllocation:15,notes:"",evidence:[]}]},{id:"value",type:"contention",title:"Value Premise",timeAllocation:45,collapsed:!1,notes:"",subPoints:[{id:"val-a",type:"subpoint",title:"Value Statement",timeAllocation:20,notes:"",evidence:[]},{id:"val-b",type:"subpoint",title:"Value Justification",timeAllocation:25,notes:"",evidence:[]}]},{id:"criterion",type:"contention",title:"Value Criterion",timeAllocation:45,collapsed:!1,notes:"",subPoints:[{id:"crit-a",type:"subpoint",title:"Criterion Statement",timeAllocation:15,notes:"",evidence:[]},{id:"crit-b",type:"subpoint",title:"Link to Value",timeAllocation:30,notes:"",evidence:[]}]},{id:"cont1",type:"contention",title:"Contention 1",timeAllocation:90,collapsed:!1,notes:"",subPoints:[{id:"c1-a",type:"subpoint",title:"Claim",timeAllocation:30,notes:"",evidence:[]},{id:"c1-b",type:"subpoint",title:"Warrant",timeAllocation:30,notes:"",evidence:[]},{id:"c1-c",type:"subpoint",title:"Impact to Criterion",timeAllocation:30,notes:"",evidence:[]}]},{id:"cont2",type:"contention",title:"Contention 2",timeAllocation:90,collapsed:!1,notes:"",subPoints:[{id:"c2-a",type:"subpoint",title:"Claim",timeAllocation:30,notes:"",evidence:[]},{id:"c2-b",type:"subpoint",title:"Warrant",timeAllocation:30,notes:"",evidence:[]},{id:"c2-c",type:"subpoint",title:"Impact to Criterion",timeAllocation:30,notes:"",evidence:[]}]},{id:"conclusion",type:"contention",title:"Conclusion",timeAllocation:30,collapsed:!1,notes:"Restate value and criterion",subPoints:[]}]},pf_case:{name:"Public Forum Case",format:"Public Forum",totalTime:240,sections:[{id:"intro",type:"contention",title:"Introduction/Hook",timeAllocation:20,collapsed:!1,notes:"Grab attention, state resolution stance",subPoints:[]},{id:"framework",type:"contention",title:"Framework (Optional)",timeAllocation:20,collapsed:!1,notes:"",subPoints:[]},{id:"cont1",type:"contention",title:"Contention 1",timeAllocation:90,collapsed:!1,notes:"",subPoints:[{id:"pf-c1-claim",type:"subpoint",title:"Claim/Tagline",timeAllocation:10,notes:"",evidence:[]},{id:"pf-c1-warrant",type:"subpoint",title:"Warrant/Analysis",timeAllocation:40,notes:"",evidence:[{id:"pf-c1-ev1",tag:"Evidence 1",source:"",notes:""},{id:"pf-c1-ev2",tag:"Evidence 2",source:"",notes:""}]},{id:"pf-c1-impact",type:"subpoint",title:"Impact",timeAllocation:40,notes:"",evidence:[]}]},{id:"cont2",type:"contention",title:"Contention 2",timeAllocation:90,collapsed:!1,notes:"",subPoints:[{id:"pf-c2-claim",type:"subpoint",title:"Claim/Tagline",timeAllocation:10,notes:"",evidence:[]},{id:"pf-c2-warrant",type:"subpoint",title:"Warrant/Analysis",timeAllocation:40,notes:"",evidence:[]},{id:"pf-c2-impact",type:"subpoint",title:"Impact",timeAllocation:40,notes:"",evidence:[]}]},{id:"conclusion",type:"contention",title:"Conclusion/Weighing",timeAllocation:20,collapsed:!1,notes:"Summarize why your impacts outweigh",subPoints:[]}]},congress_speech:{name:"Congress Speech",format:"Congressional Debate",totalTime:180,sections:[{id:"intro",type:"contention",title:"Introduction",timeAllocation:20,collapsed:!1,notes:"Hook + thesis",subPoints:[]},{id:"point1",type:"contention",title:"Point 1",timeAllocation:50,collapsed:!1,notes:"",subPoints:[{id:"cong-p1-claim",type:"subpoint",title:"Claim",timeAllocation:10,notes:"",evidence:[]},{id:"cong-p1-evidence",type:"subpoint",title:"Evidence",timeAllocation:25,notes:"",evidence:[{id:"cong-ev1",tag:"Statistic/Quote",source:"",notes:""}]},{id:"cong-p1-analysis",type:"subpoint",title:"Analysis",timeAllocation:15,notes:"",evidence:[]}]},{id:"point2",type:"contention",title:"Point 2",timeAllocation:50,collapsed:!1,notes:"",subPoints:[{id:"cong-p2-claim",type:"subpoint",title:"Claim",timeAllocation:10,notes:"",evidence:[]},{id:"cong-p2-evidence",type:"subpoint",title:"Evidence",timeAllocation:25,notes:"",evidence:[]},{id:"cong-p2-analysis",type:"subpoint",title:"Analysis",timeAllocation:15,notes:"",evidence:[]}]},{id:"point3",type:"contention",title:"Point 3 (Optional)",timeAllocation:40,collapsed:!1,notes:"",subPoints:[]},{id:"conclusion",type:"contention",title:"Conclusion",timeAllocation:20,collapsed:!1,notes:"Call to action - urge passage/defeat",subPoints:[]}]},blank:{name:"Blank Outline",format:"Custom",totalTime:300,sections:[]}},bi=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,ha=t=>{const e=Math.floor(t/60),n=t%60;return`${e}:${n.toString().padStart(2,"0")}`},p$=({evidence:t,onChange:e,onDelete:n})=>{const[a,r]=T.useState(!1);return s.jsxs("div",{className:"bg-slate-700/50 border border-slate-600 rounded-lg p-3 space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(wf,{className:"w-4 h-4 text-cyan-400 mt-1 flex-shrink-0"}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("input",{type:"text",value:t.tag,onChange:o=>e({...t,tag:o.target.value}),placeholder:"Evidence tag...",className:"w-full bg-transparent text-white text-sm font-medium focus:outline-none"})}),s.jsx("button",{onClick:n,className:"p-1 text-slate-400 hover:text-red-400 transition-colors",children:s.jsx(Gn,{className:"w-3 h-3"})})]}),s.jsx("input",{type:"text",value:t.source,onChange:o=>e({...t,source:o.target.value}),placeholder:"Source (Author, Year)...",className:"w-full bg-slate-800/50 text-slate-300 text-xs px-2 py-1 rounded focus:outline-none focus:ring-1 focus:ring-cyan-500/50"}),a?s.jsx("textarea",{value:t.notes,onChange:o=>e({...t,notes:o.target.value}),onBlur:()=>r(!1),placeholder:"Notes about this evidence...",className:"w-full bg-slate-800/50 text-slate-400 text-xs px-2 py-1 rounded focus:outline-none focus:ring-1 focus:ring-cyan-500/50 min-h-[60px]",autoFocus:!0}):s.jsx("div",{onClick:()=>r(!0),className:"text-xs text-slate-500 cursor-pointer hover:text-slate-400",children:t.notes||"+ Add notes..."})]})},g$=({subPoint:t,onChange:e,onDelete:n,index:a})=>{const[r,o]=T.useState(!0),c=()=>{const f={id:bi(),tag:"",source:"",notes:""};e({...t,evidence:[...t.evidence,f]})},d=(f,g)=>{e({...t,evidence:t.evidence.map(b=>b.id===f?g:b)})},m=f=>{e({...t,evidence:t.evidence.filter(g=>g.id!==f)})};return s.jsx("div",{className:"ml-6 border-l-2 border-slate-600 pl-4",children:s.jsxs("div",{className:"bg-slate-800/30 rounded-lg p-3 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vx,{className:"w-4 h-4 text-slate-500 cursor-grab"}),s.jsx("button",{onClick:()=>o(!r),className:"p-1 text-slate-400 hover:text-white transition-colors",children:r?s.jsx(Ga,{className:"w-4 h-4"}):s.jsx(on,{className:"w-4 h-4"})}),s.jsxs("span",{className:"text-cyan-400 text-sm font-medium",children:[String.fromCharCode(65+a),"."]}),s.jsx("input",{type:"text",value:t.title,onChange:f=>e({...t,title:f.target.value}),placeholder:"Sub-point title...",className:"flex-1 bg-transparent text-white font-medium focus:outline-none"}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[s.jsx(Zt,{className:"w-3 h-3"}),s.jsx("input",{type:"number",value:t.timeAllocation,onChange:f=>e({...t,timeAllocation:parseInt(f.target.value)||0}),className:"w-12 bg-slate-700/50 text-center rounded px-1 py-0.5 focus:outline-none focus:ring-1 focus:ring-cyan-500/50"}),s.jsx("span",{children:"sec"})]}),s.jsx("button",{onClick:n,className:"p-1 text-slate-400 hover:text-red-400 transition-colors",children:s.jsx(Gn,{className:"w-4 h-4"})})]}),s.jsx(at,{children:r&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("textarea",{value:t.notes,onChange:f=>e({...t,notes:f.target.value}),placeholder:"Notes for this sub-point...",className:"w-full bg-slate-700/30 text-slate-300 text-sm px-3 py-2 rounded-lg focus:outline-none focus:ring-1 focus:ring-cyan-500/50 min-h-[60px]"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Evidence"}),s.jsxs("button",{onClick:c,className:"flex items-center gap-1 text-xs text-cyan-400 hover:text-cyan-300 transition-colors",children:[s.jsx(Ct,{className:"w-3 h-3"}),"Add Evidence"]})]}),s.jsx(at,{children:t.evidence.map(f=>s.jsx(p$,{evidence:f,onChange:g=>d(f.id,g),onDelete:()=>m(f.id)},f.id))})]})]})})]})})},x$=({contention:t,onChange:e,onDelete:n,index:a})=>{const[r,o]=T.useState(t.collapsed),c=t.subPoints.reduce((v,w)=>v+w.timeAllocation,0),d=c>t.timeAllocation?"over":c<t.timeAllocation*.8?"under":"good",m=()=>{const v={id:bi(),type:"subpoint",title:"",timeAllocation:30,notes:"",evidence:[]};e({...t,subPoints:[...t.subPoints,v]})},f=(v,w)=>{e({...t,subPoints:t.subPoints.map(j=>j.id===v?w:j)})},g=v=>{e({...t,subPoints:t.subPoints.filter(w=>w.id!==v)})},b=v=>{e({...t,subPoints:v})};return s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:[s.jsxs("div",{className:"p-4 bg-slate-800/80",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Vx,{className:"w-5 h-5 text-slate-500 cursor-grab"}),s.jsx("button",{onClick:()=>o(!r),className:"p-1 text-slate-400 hover:text-white transition-colors",children:r?s.jsx(on,{className:"w-5 h-5"}):s.jsx(Ga,{className:"w-5 h-5"})}),s.jsxs("span",{className:"text-purple-400 font-bold text-lg",children:[a+1,"."]}),s.jsx("input",{type:"text",value:t.title,onChange:v=>e({...t,title:v.target.value}),placeholder:"Contention title...",className:"flex-1 bg-transparent text-white text-lg font-semibold focus:outline-none"}),s.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-lg ${d==="over"?"bg-red-500/20 text-red-400":d==="under"?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"}`,children:[s.jsx(Zt,{className:"w-4 h-4"}),s.jsx("input",{type:"number",value:t.timeAllocation,onChange:v=>e({...t,timeAllocation:parseInt(v.target.value)||0}),className:"w-14 bg-transparent text-center font-medium focus:outline-none"}),s.jsx("span",{className:"text-sm",children:"sec"}),d==="over"&&s.jsx(qn,{className:"w-4 h-4"}),d==="good"&&s.jsx(Jo,{className:"w-4 h-4"})]}),s.jsx("button",{onClick:n,className:"p-2 text-slate-400 hover:text-red-400 transition-colors",children:s.jsx(Gn,{className:"w-5 h-5"})})]}),t.subPoints.length>0&&s.jsxs("div",{className:"mt-2 ml-12 text-xs text-slate-500",children:["Sub-points total: ",ha(c)," / ",ha(t.timeAllocation)," allocated"]})]}),s.jsx(at,{children:!r&&s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(i5,{className:"w-4 h-4 text-slate-400 mt-2"}),s.jsx("textarea",{value:t.notes,onChange:v=>e({...t,notes:v.target.value}),placeholder:"Notes for this contention...",className:"flex-1 bg-slate-700/30 text-slate-300 px-3 py-2 rounded-lg focus:outline-none focus:ring-1 focus:ring-purple-500/50 min-h-[60px]"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ax,{axis:"y",values:t.subPoints,onReorder:b,className:"space-y-3",children:t.subPoints.map((v,w)=>s.jsx(kx,{value:v,children:s.jsx(g$,{subPoint:v,onChange:j=>f(v.id,j),onDelete:()=>g(v.id),index:w})},v.id))}),s.jsxs("button",{onClick:m,className:"ml-6 flex items-center gap-2 text-sm text-slate-400 hover:text-cyan-400 transition-colors",children:[s.jsx(Ct,{className:"w-4 h-4"}),"Add Sub-Point"]})]})]})})]})},b$=()=>{const[t,e]=T.useState({id:bi(),name:"Untitled Outline",format:"Custom",totalTime:300,sections:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),[n,a]=T.useState([]),[r,o]=T.useState(!0),[c,d]=T.useState(!1),m=t.sections.reduce((k,A)=>k+A.timeAllocation,0),f=t.sections.reduce((k,A)=>k+A.subPoints.reduce((O,C)=>O+C.evidence.length,0),0),g=m>t.totalTime?"over":m<t.totalTime*.9?"under":"good",b=k=>{const A=Pj[k];e({...A,id:bi(),name:A.name,sections:A.sections.map(O=>({...O,id:bi(),subPoints:O.subPoints.map(C=>({...C,id:bi(),evidence:C.evidence.map(M=>({...M,id:bi()}))}))})),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),o(!1)},v=()=>{const k={id:bi(),type:"contention",title:"",timeAllocation:60,collapsed:!1,notes:"",subPoints:[]};e(A=>({...A,sections:[...A.sections,k],updatedAt:new Date().toISOString()}))},w=(k,A)=>{e(O=>({...O,sections:O.sections.map(C=>C.id===k?A:C),updatedAt:new Date().toISOString()}))},j=k=>{e(A=>({...A,sections:A.sections.filter(O=>O.id!==k),updatedAt:new Date().toISOString()}))},I=k=>{e(A=>({...A,sections:k,updatedAt:new Date().toISOString()}))},D=()=>{const k={...t,updatedAt:new Date().toISOString()};a(A=>{const O=A.findIndex(C=>C.id===t.id);if(O>=0){const C=[...A];return C[O]=k,C}return[...A,k]}),e(k)},L=k=>{e(k),d(!1)},R=()=>{const k=JSON.stringify(t,null,2),A=new Blob([k],{type:"application/json"}),O=URL.createObjectURL(A),C=document.createElement("a");C.href=O,C.download=`${t.name.replace(/\s+/g,"_")}.json`,C.click(),URL.revokeObjectURL(O)},$=()=>{let k=`# ${t.name}

`;k+=`**Format:** ${t.format}  
`,k+=`**Total Time:** ${ha(t.totalTime)}

`,k+=`---

`,t.sections.forEach((M,z)=>{k+=`## ${z+1}. ${M.title||"Untitled"} (${ha(M.timeAllocation)})

`,M.notes&&(k+=`*${M.notes}*

`),M.subPoints.forEach((E,J)=>{k+=`### ${String.fromCharCode(65+J)}. ${E.title||"Untitled"} (${ha(E.timeAllocation)})

`,E.notes&&(k+=`${E.notes}

`),E.evidence.forEach(K=>{k+=`- **[${K.tag||"Evidence"}]** ${K.source||""}
`,K.notes&&(k+=`  - ${K.notes}
`)}),E.evidence.length>0&&(k+=`
`)}),k+=`
`});const A=new Blob([k],{type:"text/markdown"}),O=URL.createObjectURL(A),C=document.createElement("a");C.href=O,C.download=`${t.name.replace(/\s+/g,"_")}.md`,C.click(),URL.revokeObjectURL(O)},q=()=>{let k=`<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>${t.name}</title>
  <style>
    body { font-family: 'Georgia', serif; max-width: 800px; margin: 40px auto; padding: 20px; line-height: 1.6; }
    h1 { color: #1a1a2e; border-bottom: 2px solid #4a4a8a; padding-bottom: 10px; }
    h2 { color: #4a4a8a; margin-top: 30px; }
    h3 { color: #6a6aaa; margin-left: 20px; }
    .meta { color: #666; font-style: italic; margin-bottom: 20px; }
    .time { color: #888; font-size: 0.9em; }
    .notes { background: #f5f5f5; padding: 10px; border-left: 3px solid #4a4a8a; margin: 10px 0; }
    .evidence { margin-left: 40px; padding: 10px; background: #fafafa; border-radius: 5px; margin-bottom: 10px; }
    .evidence-tag { font-weight: bold; color: #4a4a8a; }
    .evidence-source { color: #666; font-style: italic; }
    @media print { body { margin: 20px; } }
  </style>
</head>
<body>
  <h1>${t.name}</h1>
  <div class="meta">
    <strong>Format:</strong> ${t.format} | 
    <strong>Total Time:</strong> ${ha(t.totalTime)}
  </div>
`;t.sections.forEach((M,z)=>{k+=`  <h2>${z+1}. ${M.title||"Untitled"} <span class="time">(${ha(M.timeAllocation)})</span></h2>
`,M.notes&&(k+=`  <div class="notes">${M.notes}</div>
`),M.subPoints.forEach((E,J)=>{k+=`  <h3>${String.fromCharCode(65+J)}. ${E.title||"Untitled"} <span class="time">(${ha(E.timeAllocation)})</span></h3>
`,E.notes&&(k+=`  <p>${E.notes}</p>
`),E.evidence.forEach(K=>{k+=`  <div class="evidence">
    <span class="evidence-tag">[${K.tag||"Evidence"}]</span>
    <span class="evidence-source">${K.source||""}</span>
    ${K.notes?`<p>${K.notes}</p>`:""}
  </div>
`})})}),k+=`</body>
</html>`;const A=new Blob([k],{type:"text/html"}),O=URL.createObjectURL(A),C=document.createElement("a");C.href=O,C.download=`${t.name.replace(/\s+/g,"_")}.html`,C.click(),URL.revokeObjectURL(O)},X=k=>{const A=k.target.files?.[0];if(!A)return;const O=new FileReader;O.onload=C=>{try{const M=JSON.parse(C.target?.result);e({...M,id:bi(),updatedAt:new Date().toISOString()})}catch(M){console.error("Failed to import outline:",M)}},O.readAsText(A),k.target.value=""},G=()=>{if(t.sections.length===0)return;const k=Math.floor(t.totalTime/t.sections.length);e(A=>({...A,sections:A.sections.map(O=>{const C=O.subPoints.length||1,M=Math.floor(O.timeAllocation/C);return{...O,timeAllocation:k,subPoints:O.subPoints.map(z=>({...z,timeAllocation:M}))}}),updatedAt:new Date().toISOString()}))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl",children:s.jsx(_n,{className:"w-6 h-6 text-white"})}),"Speech Outline Builder"]}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Create structured speech outlines with drag-and-drop organization"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[s.jsx(PA,{className:"w-4 h-4"}),"Templates"]}),s.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[s.jsx(gf,{className:"w-4 h-4"}),"Saved"]})]})]}),s.jsx(at,{children:r&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>o(!1),children:s.jsxs("div",{onClick:k=>k.stopPropagation(),className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Choose a Template"}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(Pj).map(([k,A])=>s.jsxs("button",{onClick:()=>b(k),className:"p-4 bg-slate-700/50 hover:bg-slate-700 border border-slate-600 hover:border-purple-500 rounded-xl text-left transition-all",children:[s.jsx("div",{className:"font-semibold text-white",children:A.name}),s.jsx("div",{className:"text-sm text-slate-400 mt-1",children:A.format}),s.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:[ha(A.totalTime),"  ",A.sections.length," sections"]})]},k))})]})})}),s.jsx(at,{children:c&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>d(!1),children:s.jsxs("div",{onClick:k=>k.stopPropagation(),className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-lg w-full max-h-[80vh] overflow-y-auto",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Saved Outlines"}),n.length===0?s.jsx("p",{className:"text-slate-400 text-center py-8",children:"No saved outlines yet"}):s.jsx("div",{className:"space-y-2",children:n.map(k=>s.jsxs("button",{onClick:()=>L(k),className:"w-full p-3 bg-slate-700/50 hover:bg-slate-700 border border-slate-600 rounded-lg text-left transition-colors",children:[s.jsx("div",{className:"font-medium text-white",children:k.name}),s.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:[k.format,"  Updated ",new Date(k.updatedAt).toLocaleDateString()]})]},k.id))})]})})}),s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Outline Name"}),s.jsx("input",{type:"text",value:t.name,onChange:k=>e(A=>({...A,name:k.target.value})),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Format"}),s.jsxs("select",{value:t.format,onChange:k=>e(A=>({...A,format:k.target.value})),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/50",children:[s.jsx("option",{value:"Custom",children:"Custom"}),s.jsx("option",{value:"Policy",children:"Policy"}),s.jsx("option",{value:"Lincoln Douglas",children:"Lincoln Douglas"}),s.jsx("option",{value:"Public Forum",children:"Public Forum"}),s.jsx("option",{value:"Congressional Debate",children:"Congressional Debate"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Total Time (seconds)"}),s.jsx("input",{type:"number",value:t.totalTime,onChange:k=>e(A=>({...A,totalTime:parseInt(k.target.value)||0})),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/50"})]})]}),s.jsxs("div",{className:"flex items-center gap-6 mt-4 pt-4 border-t border-slate-700",children:[s.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-lg ${g==="over"?"bg-red-500/20 text-red-400":g==="under"?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"}`,children:[s.jsx(Zt,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:ha(m)}),s.jsxs("span",{className:"text-sm opacity-75",children:["/ ",ha(t.totalTime)]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[s.jsx(Kj,{className:"w-4 h-4"}),s.jsxs("span",{children:[t.sections.length," contentions"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[s.jsx(Ti,{className:"w-4 h-4"}),s.jsxs("span",{children:[f," evidence cards"]})]}),s.jsxs("button",{onClick:G,className:"flex items-center gap-2 text-sm text-purple-400 hover:text-purple-300 transition-colors ml-auto",children:[s.jsx(Xk,{className:"w-4 h-4"}),"Auto-allocate time"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-lg transition-colors",children:[s.jsx(Ct,{className:"w-4 h-4"}),"Add Contention"]}),s.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[s.jsx(yf,{className:"w-4 h-4"}),"Save"]}),s.jsx("div",{className:"h-6 w-px bg-slate-700"}),s.jsxs("button",{onClick:$,className:"flex items-center gap-2 px-3 py-2 bg-slate-700/50 hover:bg-slate-700 text-slate-300 rounded-lg transition-colors text-sm",children:[s.jsx(LE,{className:"w-4 h-4"}),"Markdown"]}),s.jsxs("button",{onClick:q,className:"flex items-center gap-2 px-3 py-2 bg-slate-700/50 hover:bg-slate-700 text-slate-300 rounded-lg transition-colors text-sm",children:[s.jsx(e5,{className:"w-4 h-4"}),"HTML"]}),s.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-3 py-2 bg-slate-700/50 hover:bg-slate-700 text-slate-300 rounded-lg transition-colors text-sm",children:[s.jsx(dc,{className:"w-4 h-4"}),"JSON"]}),s.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-slate-700/50 hover:bg-slate-700 text-slate-300 rounded-lg transition-colors text-sm cursor-pointer",children:[s.jsx(yd,{className:"w-4 h-4"}),"Import",s.jsx("input",{type:"file",accept:".json",onChange:X,className:"hidden"})]}),s.jsxs("button",{onClick:()=>b("blank"),className:"flex items-center gap-2 px-3 py-2 bg-slate-700/50 hover:bg-slate-700 text-slate-300 rounded-lg transition-colors text-sm ml-auto",children:[s.jsx(Ai,{className:"w-4 h-4"}),"Reset"]})]}),s.jsx("div",{className:"space-y-4",children:t.sections.length===0?s.jsxs("div",{className:"text-center py-16",children:[s.jsx(_n,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-slate-400",children:"No contentions yet"}),s.jsx("p",{className:"text-slate-500 mt-1",children:"Start by choosing a template or adding your first contention"}),s.jsxs("div",{className:"flex items-center justify-center gap-3 mt-4",children:[s.jsx("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-lg transition-colors",children:"Choose Template"}),s.jsx("button",{onClick:v,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Start from Scratch"})]})]}):s.jsx(Ax,{axis:"y",values:t.sections,onReorder:I,className:"space-y-4",children:t.sections.map((k,A)=>s.jsx(kx,{value:k,children:s.jsx(x$,{contention:k,onChange:O=>w(k.id,O),onDelete:()=>j(k.id),index:A})},k.id))})})]})},wm={policy:{name:"Policy",roundTime:90,prepTime:10,breakTime:15},ld:{name:"Lincoln Douglas",roundTime:45,prepTime:5,breakTime:10},pf:{name:"Public Forum",roundTime:40,prepTime:5,breakTime:10},congress:{name:"Congress",roundTime:60,prepTime:0,breakTime:15},parli:{name:"Parliamentary",roundTime:35,prepTime:15,breakTime:10}},hf=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Mj=(t,e=1)=>{if(t.length<2)return[];const n=[...t];n.length%2!==0&&n.push({id:"bye",name:"BYE",school:""});const a=n.length,r=(a-1)*e,o=a/2,c=[];for(let d=0;d<r;d++){const m=[],f=[...n],g=d%(a-1);for(let b=0;b<g;b++){const v=f.pop();f.splice(1,0,v)}for(let b=0;b<o;b++){const v=f[b],w=f[a-1-b];if(v.id==="bye"||w.id==="bye")continue;const j=d%2===0?v:w,I=d%2===0?w:v;m.push({id:hf(),roundNumber:d+1,matchNumber:b+1,affTeam:j.id,negTeam:I.id,venue:null,timeSlot:null,judge:null,status:"scheduled",winner:null,notes:""})}c.push({id:hf(),roundNumber:d+1,matches:m,startTime:null,status:"pending"})}return c},y$=(t,e,n)=>{const a=[];return t.forEach((r,o)=>{const c=r.matches,d=new Map;if(c.forEach(f=>{[f.affTeam,f.negTeam].forEach(g=>{d.has(g)&&a.push({type:"team-double-book",severity:"error",roundNumber:r.roundNumber,message:`Team "${e.find(b=>b.id===g)?.name}" has multiple matches in Round ${r.roundNumber}`}),d.set(g,!0)})}),r.startTime){const f=new Map;c.forEach(g=>{g.venue&&g.timeSlot===r.startTime&&(f.has(g.venue)&&a.push({type:"venue-double-book",severity:"error",roundNumber:r.roundNumber,message:`Venue "${n.find(b=>b.id===g.venue)?.name}" is double-booked in Round ${r.roundNumber}`}),f.set(g.venue,!0))})}const m=n.filter(f=>f.available).length;c.length>m&&m>0&&a.push({type:"insufficient-venues",severity:"warning",roundNumber:r.roundNumber,message:`Round ${r.roundNumber} has ${c.length} matches but only ${m} venues available`})}),a},v$=({team:t,onChange:e,onDelete:n})=>s.jsxs(V.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"flex items-center gap-2 bg-slate-700/50 rounded-lg p-2",children:[s.jsx(Lt,{className:"w-4 h-4 text-slate-400"}),s.jsx("input",{type:"text",value:t.name,onChange:a=>e({...t,name:a.target.value}),placeholder:"Team name...",className:"flex-1 bg-transparent text-white text-sm focus:outline-none"}),s.jsx("input",{type:"text",value:t.school||"",onChange:a=>e({...t,school:a.target.value}),placeholder:"School...",className:"w-32 bg-transparent text-slate-400 text-sm focus:outline-none"}),s.jsx("button",{onClick:n,className:"p-1 text-slate-400 hover:text-red-400 transition-colors",children:s.jsx(Gn,{className:"w-4 h-4"})})]}),w$=({venue:t,onChange:e,onDelete:n})=>s.jsxs(V.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"flex items-center gap-2 bg-slate-700/50 rounded-lg p-2",children:[s.jsx(mc,{className:"w-4 h-4 text-slate-400"}),s.jsx("input",{type:"text",value:t.name,onChange:a=>e({...t,name:a.target.value}),placeholder:"Room/Venue name...",className:"flex-1 bg-transparent text-white text-sm focus:outline-none"}),s.jsxs("label",{className:"flex items-center gap-1 text-xs text-slate-400",children:[s.jsx("input",{type:"checkbox",checked:t.available,onChange:a=>e({...t,available:a.target.checked}),className:"rounded border-slate-600"}),"Available"]}),s.jsx("button",{onClick:n,className:"p-1 text-slate-400 hover:text-red-400 transition-colors",children:s.jsx(Gn,{className:"w-4 h-4"})})]}),Z_=({match:t,teams:e,venues:n,onUpdate:a,onDelete:r,compact:o=!1})=>{const[c,d]=T.useState(!1),m=e.find(v=>v.id===t.affTeam),f=e.find(v=>v.id===t.negTeam),g=n.find(v=>v.id===t.venue),b={scheduled:"bg-slate-600 text-slate-300",in_progress:"bg-yellow-500/20 text-yellow-400",completed:"bg-green-500/20 text-green-400",cancelled:"bg-red-500/20 text-red-400"};return o?s.jsxs("div",{className:"flex items-center justify-between bg-slate-700/30 rounded-lg p-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-cyan-400 font-medium",children:m?.name||"?"}),s.jsx("span",{className:"text-slate-500",children:"vs"}),s.jsx("span",{className:"text-orange-400 font-medium",children:f?.name||"?"})]}),g&&s.jsx("span",{className:"text-slate-500 text-xs",children:g.name})]}):s.jsxs(V.div,{layout:!0,className:"bg-slate-800/50 border border-slate-700 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("span",{className:"text-xs text-slate-500",children:["Match #",t.matchNumber]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${b[t.status]}`,children:t.status.replace("_"," ")}),s.jsx("button",{onClick:()=>d(!c),className:"p-1 text-slate-400 hover:text-white transition-colors",children:s.jsx(BA,{className:"w-3 h-3"})})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("div",{className:"text-xs text-cyan-400 uppercase tracking-wide mb-1",children:"Aff"}),s.jsx("div",{className:"font-semibold text-white",children:m?.name||"TBD"}),m?.school&&s.jsx("div",{className:"text-xs text-slate-500",children:m.school})]}),s.jsx("div",{className:"text-slate-500 font-bold",children:"vs"}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("div",{className:"text-xs text-orange-400 uppercase tracking-wide mb-1",children:"Neg"}),s.jsx("div",{className:"font-semibold text-white",children:f?.name||"TBD"}),f?.school&&s.jsx("div",{className:"text-xs text-slate-500",children:f.school})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mt-3 text-xs text-slate-400",children:[g&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(mc,{className:"w-3 h-3"}),g.name]}),t.timeSlot&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Zt,{className:"w-3 h-3"}),t.timeSlot]})]}),t.winner&&s.jsx("div",{className:"mt-3 text-center",children:s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded",children:[s.jsx(Gt,{className:"w-3 h-3"}),"Winner: ",e.find(v=>v.id===t.winner)?.name]})})]}),s.jsx(at,{children:c&&s.jsx(V.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-slate-700",children:s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Venue"}),s.jsxs("select",{value:t.venue||"",onChange:v=>a({...t,venue:v.target.value||null}),className:"w-full bg-slate-700/50 border border-slate-600 text-white text-sm px-2 py-1 rounded focus:outline-none",children:[s.jsx("option",{value:"",children:"Select venue..."}),n.filter(v=>v.available).map(v=>s.jsx("option",{value:v.id,children:v.name},v.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Status"}),s.jsxs("select",{value:t.status,onChange:v=>a({...t,status:v.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 text-white text-sm px-2 py-1 rounded focus:outline-none",children:[s.jsx("option",{value:"scheduled",children:"Scheduled"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),t.status==="completed"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Winner"}),s.jsxs("select",{value:t.winner||"",onChange:v=>a({...t,winner:v.target.value||null}),className:"w-full bg-slate-700/50 border border-slate-600 text-white text-sm px-2 py-1 rounded focus:outline-none",children:[s.jsx("option",{value:"",children:"Select winner..."}),s.jsxs("option",{value:t.affTeam,children:[m?.name," (Aff)"]}),s.jsxs("option",{value:t.negTeam,children:[f?.name," (Neg)"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Notes"}),s.jsx("input",{type:"text",value:t.notes,onChange:v=>a({...t,notes:v.target.value}),placeholder:"Match notes...",className:"w-full bg-slate-700/50 border border-slate-600 text-white text-sm px-2 py-1 rounded focus:outline-none"})]})]})})})]})},N$=({round:t,teams:e,venues:n,onUpdateMatch:a,onUpdateRound:r,expanded:o=!1})=>{const[c,d]=T.useState(o),m=t.matches.filter(g=>g.status==="completed").length,f=t.matches.length>0?m/t.matches.length*100:0;return s.jsxs(V.div,{layout:!0,className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:[s.jsx("div",{className:"p-4 cursor-pointer hover:bg-slate-800/80 transition-colors",onClick:()=>d(!c),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{className:"p-1 text-slate-400",children:c?s.jsx(Ga,{className:"w-5 h-5"}):s.jsx(on,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-white",children:["Round ",t.roundNumber]}),s.jsxs("p",{className:"text-xs text-slate-400",children:[t.matches.length," matches  ",m," completed"]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[t.startTime&&s.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-400",children:[s.jsx(Zt,{className:"w-4 h-4"}),t.startTime]}),s.jsx("div",{className:"w-24 h-2 bg-slate-700 rounded-full overflow-hidden",children:s.jsx(V.div,{initial:{width:0},animate:{width:`${f}%`},className:`h-full ${f===100?"bg-green-500":f>0?"bg-yellow-500":"bg-slate-600"}`})})]})]})}),s.jsx(at,{children:c&&s.jsxs(V.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-slate-700",children:[s.jsxs("div",{className:"p-4 bg-slate-800/30 flex items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Start Time"}),s.jsx("input",{type:"time",value:t.startTime||"",onChange:g=>r({...t,startTime:g.target.value}),className:"bg-slate-700/50 border border-slate-600 text-white text-sm px-2 py-1 rounded focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Status"}),s.jsxs("select",{value:t.status,onChange:g=>r({...t,status:g.target.value}),className:"bg-slate-700/50 border border-slate-600 text-white text-sm px-2 py-1 rounded focus:outline-none",children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"completed",children:"Completed"})]})]})]}),s.jsx("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.matches.map(g=>s.jsx(Z_,{match:g,teams:e,venues:n,onUpdate:b=>a(t.id,g.id,b)},g.id))})]})})]})},j$=({rounds:t,teams:e,venues:n})=>s.jsx("div",{className:"overflow-x-auto",children:s.jsx("div",{className:"flex gap-6 min-w-max p-4",children:t.map(a=>s.jsxs("div",{className:"w-64 flex-shrink-0",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsxs("h3",{className:"font-semibold text-white",children:["Round ",a.roundNumber]}),a.startTime&&s.jsx("p",{className:"text-xs text-slate-400",children:a.startTime})]}),s.jsx("div",{className:"space-y-3",children:a.matches.map(r=>s.jsx(Z_,{match:r,teams:e,venues:n,onUpdate:()=>{},compact:!0},r.id))})]},a.id))})}),S$=({rounds:t,teams:e})=>{const n=T.useMemo(()=>{const a=new Map;return e.forEach(r=>{a.set(r.id,{team:r,wins:0,losses:0,affWins:0,negWins:0,totalMatches:0})}),t.forEach(r=>{r.matches.forEach(o=>{if(o.status==="completed"&&o.winner){const c=a.get(o.affTeam),d=a.get(o.negTeam);c&&(c.totalMatches++,o.winner===o.affTeam?(c.wins++,c.affWins++):c.losses++),d&&(d.totalMatches++,o.winner===o.negTeam?(d.wins++,d.negWins++):d.losses++)}})}),Array.from(a.values()).sort((r,o)=>o.wins!==r.wins?o.wins-r.wins:r.losses-o.losses)},[t,e]);return s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b border-slate-700",children:s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx(Dn,{className:"w-5 h-5 text-purple-400"}),"Current Standings"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-800/50",children:s.jsxs("tr",{className:"text-left text-xs text-slate-400 uppercase tracking-wide",children:[s.jsx("th",{className:"px-4 py-3",children:"Rank"}),s.jsx("th",{className:"px-4 py-3",children:"Team"}),s.jsx("th",{className:"px-4 py-3",children:"School"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"W"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"L"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Aff W"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Neg W"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Win %"})]})}),s.jsx("tbody",{children:n.map((a,r)=>{const o=a.totalMatches>0?(a.wins/a.totalMatches*100).toFixed(0):"-";return s.jsxs("tr",{className:"border-t border-slate-700/50 hover:bg-slate-700/30",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`font-bold ${r===0?"text-yellow-400":r===1?"text-slate-300":r===2?"text-orange-400":"text-slate-500"}`,children:r+1})}),s.jsx("td",{className:"px-4 py-3 font-medium text-white",children:a.team.name}),s.jsx("td",{className:"px-4 py-3 text-slate-400",children:a.team.school||"-"}),s.jsx("td",{className:"px-4 py-3 text-center text-green-400 font-medium",children:a.wins}),s.jsx("td",{className:"px-4 py-3 text-center text-red-400 font-medium",children:a.losses}),s.jsx("td",{className:"px-4 py-3 text-center text-cyan-400",children:a.affWins}),s.jsx("td",{className:"px-4 py-3 text-center text-orange-400",children:a.negWins}),s.jsx("td",{className:"px-4 py-3 text-center text-slate-300",children:o!=="-"?`${o}%`:"-"})]},a.team.id)})})]})})]})},_$=()=>{const[t,e]=T.useState([]),[n,a]=T.useState([]),[r,o]=T.useState([]),[c,d]=T.useState("pf"),[m,f]=T.useState("Tournament"),[g,b]=T.useState(""),[v,w]=T.useState("rounds"),[j,I]=T.useState(!0),D=T.useMemo(()=>y$(r,t,n),[r,t,n]),L=D.filter(H=>H.severity==="error").length,R=D.filter(H=>H.severity==="warning").length,$=()=>{e(H=>[...H,{id:hf(),name:"",school:""}])},q=(H,Z)=>{e(le=>le.map(ye=>ye.id===H?Z:ye))},X=H=>{e(Z=>Z.filter(le=>le.id!==H))},G=()=>{a(H=>[...H,{id:hf(),name:"",available:!0}])},k=(H,Z)=>{a(le=>le.map(ye=>ye.id===H?Z:ye))},A=H=>{a(Z=>Z.filter(le=>le.id!==H))},O=()=>{const H=t.filter(ye=>ye.name.trim());if(H.length<2)return;const Z=Mj(H),le=n.filter(ye=>ye.available);Z.forEach(ye=>{ye.matches.forEach((B,ce)=>{le[ce%le.length]&&(B.venue=le[ce%le.length].id)})}),o(Z),I(!1)},C=()=>{const H=[...t].sort(()=>Math.random()-.5),Z=Mj(H.filter(ye=>ye.name.trim())),le=n.filter(ye=>ye.available);Z.forEach(ye=>{ye.matches.forEach((B,ce)=>{le[ce%le.length]&&(B.venue=le[ce%le.length].id)})}),o(Z)},M=(H,Z,le)=>{o(ye=>ye.map(B=>B.id===H?{...B,matches:B.matches.map(ce=>ce.id===Z?le:ce)}:B))},z=H=>{o(Z=>Z.map(le=>le.id===H.id?H:le))},E=()=>{const H=wm[c];let le=540;o(ye=>ye.map((B,ce)=>{const be=Math.floor(le/60),F=le%60,ke=`${be.toString().padStart(2,"0")}:${F.toString().padStart(2,"0")}`;return le+=H.roundTime+H.breakTime,{...B,startTime:ke}}))},J=()=>{const H={tournament:{name:m,date:g,format:wm[c].name},teams:t,venues:n,rounds:r},Z=new Blob([JSON.stringify(H,null,2)],{type:"application/json"}),le=URL.createObjectURL(Z),ye=document.createElement("a");ye.href=le,ye.download=`${m.replace(/\s+/g,"_")}_schedule.json`,ye.click(),URL.revokeObjectURL(le)},K=()=>{let H=`<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>${m} - Schedule</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 1000px; margin: 0 auto; padding: 20px; }
    h1 { text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; }
    .meta { text-align: center; color: #666; margin-bottom: 20px; }
    .round { margin-bottom: 30px; page-break-inside: avoid; }
    .round h2 { background: #f0f0f0; padding: 10px; margin: 0; }
    .matches { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 10px; padding: 10px; }
    .match { border: 1px solid #ddd; padding: 10px; border-radius: 5px; }
    .teams { display: flex; justify-content: space-between; align-items: center; }
    .team { font-weight: bold; }
    .aff { color: #0088cc; }
    .neg { color: #cc8800; }
    .venue { font-size: 12px; color: #666; margin-top: 5px; }
    @media print { .round { page-break-inside: avoid; } }
  </style>
</head>
<body>
  <h1>${m}</h1>
  <div class="meta">
    ${g?`<p>Date: ${g}</p>`:""}
    <p>Format: ${wm[c].name} | Teams: ${t.length} | Rounds: ${r.length}</p>
  </div>
`;r.forEach(le=>{H+=`  <div class="round">
    <h2>Round ${le.roundNumber}${le.startTime?` - ${le.startTime}`:""}</h2>
    <div class="matches">
`,le.matches.forEach(ye=>{const B=t.find(F=>F.id===ye.affTeam),ce=t.find(F=>F.id===ye.negTeam),be=n.find(F=>F.id===ye.venue);H+=`      <div class="match">
        <div class="teams">
          <span class="team aff">${B?.name||"TBD"}</span>
          <span>vs</span>
          <span class="team neg">${ce?.name||"TBD"}</span>
        </div>
        ${be?`<div class="venue">${be.name}</div>`:""}
      </div>
`}),H+=`    </div>
  </div>
`}),H+="</body></html>";const Z=window.open("","_blank");Z.document.write(H),Z.document.close(),Z.print()};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl",children:s.jsx(Ks,{className:"w-6 h-6 text-white"})}),"Round Robin Scheduler"]}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Generate tournament schedules with conflict detection"})]}),s.jsx("div",{className:"flex items-center gap-2",children:r.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>I(!j),className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[s.jsx(Hr,{className:"w-4 h-4"}),"Setup"]}),s.jsxs("button",{onClick:K,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[s.jsx(e5,{className:"w-4 h-4"}),"Print"]}),s.jsxs("button",{onClick:J,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors",children:[s.jsx(dc,{className:"w-4 h-4"}),"Export"]})]})})]}),s.jsx(at,{children:j&&s.jsx(V.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Tournament Name"}),s.jsx("input",{type:"text",value:m,onChange:H=>f(H.target.value),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Date"}),s.jsx("input",{type:"date",value:g,onChange:H=>b(H.target.value),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Format"}),s.jsx("select",{value:c,onChange:H=>d(H.target.value),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/50",children:Object.entries(wm).map(([H,Z])=>s.jsx("option",{value:H,children:Z.name},H))})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx(Lt,{className:"w-5 h-5 text-cyan-400"}),"Teams (",t.length,")"]}),s.jsxs("button",{onClick:$,className:"flex items-center gap-1 text-sm text-cyan-400 hover:text-cyan-300 transition-colors",children:[s.jsx(Ct,{className:"w-4 h-4"}),"Add Team"]})]}),s.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[s.jsx(at,{children:t.map(H=>s.jsx(v$,{team:H,onChange:Z=>q(H.id,Z),onDelete:()=>X(H.id)},H.id))}),t.length===0&&s.jsx("p",{className:"text-slate-500 text-sm text-center py-4",children:"Add teams to generate schedule"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx(mc,{className:"w-5 h-5 text-orange-400"}),"Venues (",n.length,")"]}),s.jsxs("button",{onClick:G,className:"flex items-center gap-1 text-sm text-orange-400 hover:text-orange-300 transition-colors",children:[s.jsx(Ct,{className:"w-4 h-4"}),"Add Venue"]})]}),s.jsxs("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:[s.jsx(at,{children:n.map(H=>s.jsx(w$,{venue:H,onChange:Z=>k(H.id,Z),onDelete:()=>A(H.id)},H.id))}),n.length===0&&s.jsx("p",{className:"text-slate-500 text-sm text-center py-4",children:"Add venues for room assignments"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-slate-700",children:[s.jsxs("button",{onClick:O,disabled:t.filter(H=>H.name.trim()).length<2,className:"flex items-center gap-2 px-6 py-3 bg-green-600 hover:bg-green-500 disabled:bg-slate-700 disabled:text-slate-500 text-white rounded-lg transition-colors font-medium",children:[s.jsx(Ks,{className:"w-5 h-5"}),"Generate Schedule"]}),r.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-4 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[s.jsx(n5,{className:"w-4 h-4"}),"Shuffle"]}),s.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-4 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[s.jsx(Zt,{className:"w-4 h-4"}),"Auto Times"]})]}),s.jsxs("div",{className:"ml-auto text-sm text-slate-400",children:[t.filter(H=>H.name.trim()).length," teams  ",Math.max(0,t.filter(H=>H.name.trim()).length-1)," rounds"]})]})]})})}),D.length>0&&s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(Er,{className:"w-5 h-5 text-yellow-400"}),s.jsxs("span",{className:"font-medium text-white",children:[L," errors, ",R," warnings detected"]})]}),s.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:D.map((H,Z)=>s.jsxs("div",{className:`flex items-center gap-2 text-sm px-3 py-2 rounded ${H.severity==="error"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:[H.severity==="error"?s.jsx(Er,{className:"w-4 h-4"}):s.jsx(Er,{className:"w-4 h-4"}),H.message]},Z))})]}),r.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>w("rounds"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${v==="rounds"?"bg-green-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[s.jsx(Ux,{className:"w-4 h-4"}),"Rounds"]}),s.jsxs("button",{onClick:()=>w("bracket"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${v==="bracket"?"bg-green-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[s.jsx(Lx,{className:"w-4 h-4"}),"Bracket"]}),s.jsxs("button",{onClick:()=>w("standings"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${v==="standings"?"bg-green-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[s.jsx(Gt,{className:"w-4 h-4"}),"Standings"]})]}),s.jsxs(at,{mode:"wait",children:[v==="rounds"&&s.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:r.map(H=>s.jsx(N$,{round:H,teams:t,venues:n,onUpdateMatch:M,onUpdateRound:z},H.id))},"rounds"),v==="bracket"&&s.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-slate-800/50 border border-slate-700 rounded-xl",children:s.jsx(j$,{rounds:r,teams:t,venues:n})},"bracket"),v==="standings"&&s.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsx(S$,{rounds:r,teams:t})},"standings")]})]}),r.length===0&&!j&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx(Ks,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-slate-400",children:"No schedule generated"}),s.jsx("p",{className:"text-slate-500 mt-1",children:"Set up your tournament to generate a schedule"}),s.jsx("button",{onClick:()=>I(!0),className:"mt-4 px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors",children:"Open Setup"})]})]})},Oj=()=>({overall:{wins:0,losses:0,ties:0,totalRounds:0,winRate:0,winStreak:0,bestStreak:0,improvement:0},bySide:{aff:{wins:0,losses:0,winRate:0},neg:{wins:0,losses:0,winRate:0}},byFormat:{},speakerPoints:{average:0,highest:0,lowest:0,recent:[],percentile:0,trend:"stable"},recentTournaments:[],upcomingMatches:[],achievements:[],headToHead:[]}),Om=({value:t,duration:e=1e3,decimals:n=0,suffix:a=""})=>{const[r,o]=T.useState(0);return T.useEffect(()=>{let c;const d=r,m=t-d,f=g=>{c||(c=g);const b=g-c,v=Math.min(b/e,1),w=1-Math.pow(1-v,3),j=d+m*w;o(j),v<1&&requestAnimationFrame(f)};requestAnimationFrame(f)},[t,e]),s.jsxs("span",{children:[r.toFixed(n),a]})},pd=({value:t,max:e=100,color:n="cyan",size:a="md",showLabel:r=!0,animated:o=!0})=>{const c=Math.min(t/e*100,100),d={cyan:"from-cyan-500 to-blue-500",green:"from-emerald-500 to-green-500",purple:"from-purple-500 to-indigo-500",orange:"from-orange-500 to-amber-500",red:"from-red-500 to-rose-500",gold:"from-yellow-400 to-amber-500"},m={sm:"h-1.5",md:"h-2",lg:"h-3"};return s.jsxs("div",{className:"w-full",children:[s.jsx("div",{className:`w-full bg-slate-700/50 rounded-full overflow-hidden ${m[a]}`,children:s.jsx(V.div,{initial:o?{width:0}:{width:`${c}%`},animate:{width:`${c}%`},transition:{duration:1,ease:"easeOut"},className:`h-full bg-gradient-to-r ${d[n]} rounded-full`})}),r&&s.jsxs("div",{className:"flex justify-between mt-1 text-xs text-slate-400",children:[s.jsx("span",{children:t}),s.jsx("span",{children:e})]})]})},eT=({label:t,value:e,trend:n,color:a="slate"})=>{const r={green:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",red:"bg-red-500/20 text-red-400 border-red-500/30",cyan:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30",purple:"bg-purple-500/20 text-purple-400 border-purple-500/30",orange:"bg-orange-500/20 text-orange-400 border-orange-500/30",gold:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",slate:"bg-slate-500/20 text-slate-400 border-slate-500/30"};return s.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full border text-xs font-medium ${r[a]}`,children:[s.jsx("span",{children:t}),s.jsx("span",{className:"font-bold",children:e}),n&&s.jsx("span",{className:n==="up"?"text-emerald-400":n==="down"?"text-red-400":"text-slate-400",children:n==="up"?s.jsx(WC,{className:"w-3 h-3"}):n==="down"?s.jsx(QC,{className:"w-3 h-3"}):s.jsx(fc,{className:"w-3 h-3"})})]})},T$=({stats:t})=>{const{wins:e,losses:n,ties:a,winRate:r,winStreak:o,improvement:c}=t;return s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-lg",children:s.jsx(Dn,{className:"w-4 h-4 text-white"})}),"Win/Loss Record"]}),s.jsx(eT,{label:"Win Rate",value:`${r}%`,trend:c>0?"up":c<0?"down":"stable",color:r>=70?"green":r>=50?"orange":"red"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-emerald-400",children:s.jsx(Om,{value:e})}),s.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Wins"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-red-400",children:s.jsx(Om,{value:n})}),s.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Losses"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-slate-400",children:s.jsx(Om,{value:a})}),s.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Ties"})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-slate-400",children:"Overall Win Rate"}),s.jsxs("span",{className:"text-white font-medium",children:[r,"%"]})]}),s.jsx(pd,{value:r,max:100,color:"cyan",size:"md",showLabel:!1})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-700",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pf,{className:"w-4 h-4 text-orange-400"}),s.jsx("span",{className:"text-sm text-slate-400",children:"Current Streak:"}),s.jsxs("span",{className:"text-white font-semibold",children:[o,"W"]})]}),s.jsx("div",{className:"flex items-center gap-1 text-sm",children:c>0?s.jsxs(s.Fragment,{children:[s.jsx(Ka,{className:"w-4 h-4 text-emerald-400"}),s.jsxs("span",{className:"text-emerald-400",children:["+",c,"%"]})]}):c<0?s.jsxs(s.Fragment,{children:[s.jsx(Zo,{className:"w-4 h-4 text-red-400"}),s.jsxs("span",{className:"text-red-400",children:[c,"%"]})]}):s.jsx("span",{className:"text-slate-400",children:"No change"})})]})]})},C$=({bySide:t})=>s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-lg",children:s.jsx(Bg,{className:"w-4 h-4 text-white"})}),"Performance by Side"]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-cyan-500"}),s.jsx("span",{className:"text-white font-medium",children:"Affirmative"})]}),s.jsxs("span",{className:"text-cyan-400 font-semibold",children:[t.aff.winRate,"%"]})]}),s.jsx(pd,{value:t.aff.winRate,max:100,color:"cyan",size:"sm",showLabel:!1}),s.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-1",children:[s.jsxs("span",{children:[t.aff.wins,"W - ",t.aff.losses,"L"]}),s.jsxs("span",{children:[t.aff.wins+t.aff.losses," rounds"]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),s.jsx("span",{className:"text-white font-medium",children:"Negative"})]}),s.jsxs("span",{className:"text-orange-400 font-semibold",children:[t.neg.winRate,"%"]})]}),s.jsx(pd,{value:t.neg.winRate,max:100,color:"orange",size:"sm",showLabel:!1}),s.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-1",children:[s.jsxs("span",{children:[t.neg.wins,"W - ",t.neg.losses,"L"]}),s.jsxs("span",{children:[t.neg.wins+t.neg.losses," rounds"]})]})]})]}),E$=({speakerPoints:t})=>{const{average:e,highest:n,lowest:a,recent:r,percentile:o,trend:c}=t;return s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-amber-500 to-orange-600 rounded-lg",children:s.jsx(ln,{className:"w-4 h-4 text-white"})}),"Speaker Points"]}),s.jsx(eT,{label:"Top",value:`${o}%`,color:"gold"})]}),s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("div",{className:"text-5xl font-bold text-white mb-1",children:s.jsx(Om,{value:e,decimals:1})}),s.jsx("div",{className:"text-sm text-slate-400",children:"Average Speaker Points"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx(pd,{value:e,max:30,color:"gold",size:"lg",showLabel:!1}),s.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[s.jsx("span",{className:"text-slate-500",children:"26"}),s.jsx("span",{className:"text-slate-500",children:"27"}),s.jsx("span",{className:"text-slate-500",children:"28"}),s.jsx("span",{className:"text-slate-500",children:"29"}),s.jsx("span",{className:"text-amber-400 font-semibold",children:"30"})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-700",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-emerald-400",children:n}),s.jsx("div",{className:"text-xs text-slate-400",children:"Personal Best"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-slate-400",children:a}),s.jsx("div",{className:"text-xs text-slate-400",children:"Season Low"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[c==="up"?s.jsx(Ka,{className:"w-5 h-5 text-emerald-400"}):c==="down"?s.jsx(Zo,{className:"w-5 h-5 text-red-400"}):s.jsx(_i,{className:"w-5 h-5 text-slate-400"}),s.jsx("span",{className:`text-sm font-medium ${c==="up"?"text-emerald-400":c==="down"?"text-red-400":"text-slate-400"}`,children:c==="up"?"Improving":c==="down"?"Declining":"Stable"})]})]}),s.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-700",children:[s.jsx("div",{className:"text-xs text-slate-400 mb-2",children:"Recent Rounds"}),s.jsx("div",{className:"flex items-end justify-between h-12 gap-1",children:r.map((m,f)=>{const g=(m-26)/4*100;return s.jsx(V.div,{initial:{height:0},animate:{height:`${g}%`},transition:{delay:f*.1,duration:.5},className:`flex-1 rounded-t ${m>=29?"bg-emerald-500":m>=28?"bg-cyan-500":m>=27?"bg-amber-500":"bg-slate-500"}`,title:`${m} pts`},f)})})]})]})},A$=({tournaments:t})=>{const e=(a,r)=>{const o=a/r*100;return a===1?"text-yellow-400":a===2?"text-slate-300":a===3?"text-orange-400":o<=25?"text-emerald-400":o<=50?"text-cyan-400":"text-slate-400"},n=a=>a===1?s.jsx(Qa,{className:"w-4 h-4 text-yellow-400"}):a===2?s.jsx(Xu,{className:"w-4 h-4 text-slate-300"}):a===3?s.jsx(Xu,{className:"w-4 h-4 text-orange-400"}):s.jsx(Xo,{className:"w-4 h-4 text-slate-400"});return s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-emerald-500 to-green-600 rounded-lg",children:s.jsx(Gt,{className:"w-4 h-4 text-white"})}),"Recent Tournaments"]}),s.jsx("button",{className:"text-xs text-cyan-400 hover:text-cyan-300 transition-colors",children:"View All"})]}),s.jsx("div",{className:"space-y-3",children:t.map((a,r)=>s.jsxs(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*r},className:"flex items-center gap-3 p-3 bg-slate-700/30 rounded-lg hover:bg-slate-700/50 transition-colors",children:[s.jsx("div",{className:"flex-shrink-0",children:n(a.place)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white font-medium text-sm truncate",children:a.name}),a.speakerAward&&s.jsx(ln,{className:"w-3 h-3 text-amber-400 flex-shrink-0"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[s.jsx("span",{children:new Date(a.date).toLocaleDateString()}),s.jsx("span",{children:""}),s.jsx("span",{children:a.record})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`text-lg font-bold ${e(a.place,a.totalTeams)}`,children:["#",a.place]}),s.jsxs("div",{className:"text-xs text-slate-500",children:["of ",a.totalTeams]})]})]},a.id))})]})},k$=({matches:t})=>{const e=n=>{const a=new Date,o=new Date(n)-a;return Math.ceil(o/(1e3*60*60*24))};return s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg",children:s.jsx(Ks,{className:"w-4 h-4 text-white"})}),"Upcoming Matches"]})}),s.jsx("div",{className:"space-y-3",children:t.map((n,a)=>{const r=e(n.date);return s.jsxs(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*a},className:"p-3 bg-slate-700/30 rounded-lg",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium text-sm",children:n.tournament}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400 mt-1",children:[s.jsx(mc,{className:"w-3 h-3"}),n.location]})]}),s.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${n.registered?"bg-emerald-500/20 text-emerald-400":"bg-amber-500/20 text-amber-400"}`,children:n.registered?"Registered":"Not Registered"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"px-2 py-0.5 bg-slate-600/50 text-slate-300 text-xs rounded",children:n.format}),s.jsx("span",{className:"text-xs text-slate-400",children:new Date(n.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]}),s.jsxs("div",{className:`flex items-center gap-1 text-xs font-medium ${r<=3?"text-red-400":r<=7?"text-amber-400":"text-slate-400"}`,children:[s.jsx(Zt,{className:"w-3 h-3"}),r===0?"Today":r===1?"Tomorrow":`${r} days`]})]})]},n.id)})})]})},I$=({achievements:t})=>{const e={trophy:Gt,star:ln,flame:pf,zap:Zu,medal:Xu},n={gold:"from-yellow-400 to-amber-500 text-yellow-400",purple:"from-purple-500 to-indigo-500 text-purple-400",orange:"from-orange-500 to-red-500 text-orange-400",cyan:"from-cyan-500 to-blue-500 text-cyan-400"};return s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-pink-500 to-rose-600 rounded-lg",children:s.jsx(ys,{className:"w-4 h-4 text-white"})}),"Achievements"]})}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.map((a,r)=>{const o=e[a.icon]||Gt,c=n[a.color]||n.gold;return s.jsxs(V.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1*r},className:"flex items-center gap-3 p-3 bg-slate-700/30 rounded-lg",children:[s.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-br ${c.split(" ")[0]} ${c.split(" ")[1]}`,children:s.jsx(o,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white text-sm font-medium",children:a.name}),s.jsxs("div",{className:`text-lg font-bold ${c.split(" ")[2]}`,children:["",a.count]})]})]},a.id)})})]})},R$=({records:t})=>s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-red-500 to-rose-600 rounded-lg",children:s.jsx(Lt,{className:"w-4 h-4 text-white"})}),"Head-to-Head Records"]})}),s.jsx("div",{className:"space-y-3",children:t.map((e,n)=>{const a=e.wins+e.losses,r=a>0?e.wins/a*100:0;return s.jsxs(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*n},className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-white text-sm font-medium",children:e.opponent}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-emerald-400 font-semibold",children:[e.wins,"W"]}),s.jsx("span",{className:"text-slate-500",children:"-"}),s.jsxs("span",{className:"text-red-400 font-semibold",children:[e.losses,"L"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 h-2 bg-slate-700 rounded-full overflow-hidden",children:s.jsx(V.div,{initial:{width:0},animate:{width:`${r}%`},transition:{duration:.5,delay:.2*n},className:`h-full rounded-full ${r>=50?"bg-emerald-500":"bg-red-500"}`})}),s.jsxs("span",{className:`text-xs font-medium ${r>=50?"text-emerald-400":"text-red-400"}`,children:[r.toFixed(0),"%"]})]})]},e.opponent)})})]}),D$=({byFormat:t})=>{const e=Object.entries(t),n=["cyan","purple","orange","green"];return s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-lg",children:s.jsx(Bt,{className:"w-4 h-4 text-white"})}),"Performance by Format"]})}),s.jsx("div",{className:"space-y-4",children:e.map(([a,r],o)=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-white text-sm",children:a}),s.jsxs("span",{className:"text-xs text-slate-400",children:[r.wins,"W - ",r.losses,"L"]})]}),s.jsx(pd,{value:r.winRate,max:100,color:n[o%n.length],size:"sm",showLabel:!1})]},a))})]})},Og=({title:t,icon:e,message:n,actionText:a,onAction:r})=>s.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:s.jsxs("div",{className:"text-center py-6",children:[s.jsx("div",{className:"p-3 bg-slate-700/50 rounded-full w-fit mx-auto mb-3",children:s.jsx(e,{className:"w-6 h-6 text-slate-500"})}),s.jsx("h3",{className:"text-white font-medium mb-1",children:t}),s.jsx("p",{className:"text-slate-400 text-sm mb-4",children:n}),a&&r&&s.jsx("button",{onClick:r,className:"text-cyan-400 text-sm hover:text-cyan-300 transition-colors",children:a})]})}),P$=({compact:t=!1})=>{const[e,n]=T.useState(null),[a,r]=T.useState(!0),[o,c]=T.useState("season");T.useEffect(()=>{const f=setTimeout(()=>{n(Oj()),r(!1)},500);return()=>clearTimeout(f)},[]);const d=()=>{r(!0),setTimeout(()=>{n(Oj()),r(!1)},500)},m=e&&e.overall.totalRounds>0;return a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ju,{className:"w-8 h-8 text-cyan-400 animate-spin mx-auto mb-2"}),s.jsx("p",{className:"text-slate-400",children:"Loading stats..."})]})}):e?m?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-xl",children:s.jsx(_i,{className:"w-6 h-6 text-white"})}),"Quick Stats"]}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Your performance at a glance"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("select",{value:o,onChange:f=>c(f.target.value),className:"bg-slate-700/50 border border-slate-600 text-white text-sm px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50",children:[s.jsx("option",{value:"week",children:"This Week"}),s.jsx("option",{value:"month",children:"This Month"}),s.jsx("option",{value:"season",children:"This Season"}),s.jsx("option",{value:"all",children:"All Time"})]}),s.jsx("button",{onClick:d,className:"p-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:s.jsx(Ju,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(T$,{stats:e.overall}),s.jsx(C$,{bySide:e.bySide}),s.jsx(E$,{speakerPoints:e.speakerPoints}),s.jsx(A$,{tournaments:e.recentTournaments}),s.jsx(k$,{matches:e.upcomingMatches}),s.jsx(I$,{achievements:e.achievements}),s.jsx(R$,{records:e.headToHead}),s.jsx(D$,{byFormat:e.byFormat})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-xl",children:s.jsx(_i,{className:"w-6 h-6 text-white"})}),"Quick Stats"]}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Your performance at a glance"})]})}),s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-slate-700 rounded-2xl p-8 text-center",children:[s.jsx("div",{className:"p-4 bg-gradient-to-br from-cyan-500/20 to-blue-600/20 rounded-full w-fit mx-auto mb-4",children:s.jsx(Dn,{className:"w-10 h-10 text-cyan-400"})}),s.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Welcome to Your Stats Dashboard"}),s.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-6",children:"Start logging your debate rounds to see detailed statistics, win rates, speaker points, and track your improvement over time."}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[s.jsxs("div",{className:"px-4 py-2 bg-slate-700/50 rounded-lg",children:[s.jsx(Gt,{className:"w-5 h-5 text-amber-400 mx-auto mb-1"}),s.jsx("span",{className:"text-xs text-slate-400",children:"Tournament Results"})]}),s.jsxs("div",{className:"px-4 py-2 bg-slate-700/50 rounded-lg",children:[s.jsx(ln,{className:"w-5 h-5 text-purple-400 mx-auto mb-1"}),s.jsx("span",{className:"text-xs text-slate-400",children:"Speaker Points"})]}),s.jsxs("div",{className:"px-4 py-2 bg-slate-700/50 rounded-lg",children:[s.jsx(Ka,{className:"w-5 h-5 text-emerald-400 mx-auto mb-1"}),s.jsx("span",{className:"text-xs text-slate-400",children:"Win Rate Trends"})]}),s.jsxs("div",{className:"px-4 py-2 bg-slate-700/50 rounded-lg",children:[s.jsx(Lt,{className:"w-5 h-5 text-cyan-400 mx-auto mb-1"}),s.jsx("span",{className:"text-xs text-slate-400",children:"Head-to-Head"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 opacity-60",children:[s.jsx(Og,{title:"Win/Loss Record",icon:Dn,message:"No rounds logged yet"}),s.jsx(Og,{title:"Speaker Points",icon:ln,message:"Points will appear after your first round"}),s.jsx(Og,{title:"Recent Tournaments",icon:Gt,message:"Enter your tournament results"})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(qn,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),s.jsx("p",{className:"text-slate-400",children:"Unable to load statistics"})]})},gd={domestic:{label:"Domestic Policy",icon:sA,color:"cyan",bgColor:"bg-cyan-500/10",borderColor:"border-cyan-500/30",textColor:"text-cyan-400"},international:{label:"International Relations",icon:HE,color:"purple",bgColor:"bg-purple-500/10",borderColor:"border-purple-500/30",textColor:"text-purple-400"},philosophy:{label:"Philosophy/Ethics",icon:Dl,color:"amber",bgColor:"bg-amber-500/10",borderColor:"border-amber-500/30",textColor:"text-amber-400"},economics:{label:"Economics",icon:vf,color:"emerald",bgColor:"bg-emerald-500/10",borderColor:"border-emerald-500/30",textColor:"text-emerald-400"},social:{label:"Social Issues",icon:Lt,color:"rose",bgColor:"bg-rose-500/10",borderColor:"border-rose-500/30",textColor:"text-rose-400"},legal:{label:"Legal/Constitutional",icon:bs,color:"orange",bgColor:"bg-orange-500/10",borderColor:"border-orange-500/30",textColor:"text-orange-400"}},mf={pf:{label:"Public Forum",short:"PF"},ld:{label:"Lincoln Douglas",short:"LD"},policy:{label:"Policy/CX",short:"CX"},congress:{label:"Congressional",short:"Congress"},parli:{label:"Parliamentary",short:"Parli"},worlds:{label:"World Schools",short:"WSDC"},bp:{label:"British Parliamentary",short:"BP"}},ff=[{value:1,label:"Novice",color:"emerald",activeClass:"bg-emerald-500/20 text-emerald-400 border border-emerald-500/50"},{value:2,label:"JV",color:"cyan",activeClass:"bg-cyan-500/20 text-cyan-400 border border-cyan-500/50"},{value:3,label:"Varsity",color:"amber",activeClass:"bg-amber-500/20 text-amber-400 border border-amber-500/50"},{value:4,label:"Elite",color:"purple",activeClass:"bg-purple-500/20 text-purple-400 border border-purple-500/50"},{value:5,label:"Championship",color:"rose",activeClass:"bg-rose-500/20 text-rose-400 border border-rose-500/50"}],Ve=()=>`motion_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,M$=[{id:Ve(),text:"Resolved: The United States federal government should substantially increase its protection of water resources in the United States.",category:"domestic",format:"policy",difficulty:4,year:2024,month:"September",tournament:"NSDA National Topic 2024-2025",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["environment","water","federal policy","infrastructure"],notes:"Year-long topic. Key affs: Clean Water Act enforcement, tribal water rights, PFAS regulation, infrastructure investment. Neg ground: federalism, spending DAs, states CP.",favorited:!0,timesUsed:12,lastUsed:"2024-11-15",createdAt:"2024-08-01"},{id:Ve(),text:"Resolved: The United States federal government should substantially reduce its restrictions on legal immigration to the United States.",category:"domestic",format:"policy",difficulty:4,year:2023,month:"September",tournament:"NSDA National Topic 2023-2024",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["immigration","federal policy","labor","economy"],notes:"Previous year topic. Strong econ advantages, security disadvantages. Popular affs: H1B expansion, asylum reform, family reunification.",favorited:!1,timesUsed:25,lastUsed:"2024-05-15",createdAt:"2023-08-01"},{id:Ve(),text:"Resolved: The United States federal government should substantially increase fiscal redistribution in the United States by adopting a federal jobs guarantee, expanding Social Security, and/or providing a basic income.",category:"economics",format:"policy",difficulty:5,year:2022,month:"September",tournament:"NSDA National Topic 2022-2023",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["economics","welfare","UBI","social security","jobs"],notes:"Three-pronged topic. FJG most popular. Inflation DA and work incentive args key on neg.",favorited:!1,timesUsed:30,lastUsed:"2023-05-20",createdAt:"2022-08-01"},{id:Ve(),text:"Resolved: The United States ought to guarantee universal basic income.",category:"economics",format:"ld",difficulty:3,year:2024,month:"November",tournament:"November/December LD Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["UBI","welfare","economics","poverty","dignity"],notes:"Aff frameworks: dignity, autonomy, poverty reduction. Neg frameworks: work ethic, inflation, targeted programs better.",favorited:!0,timesUsed:8,lastUsed:"2024-11-20",createdAt:"2024-10-15"},{id:Ve(),text:"Resolved: The United States ought to provide a federal guarantee of housing.",category:"social",format:"ld",difficulty:3,year:2024,month:"September",tournament:"September/October LD Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["housing","homelessness","rights","welfare"],notes:"Strong philosophical ground on positive vs negative rights. Research Housing First models.",favorited:!0,timesUsed:15,lastUsed:"2024-10-31",createdAt:"2024-08-15"},{id:Ve(),text:"Resolved: Civil disobedience in a democracy is morally justified.",category:"philosophy",format:"ld",difficulty:3,year:2023,month:"January",tournament:"January/February LD Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["civil disobedience","democracy","protest","MLK","Thoreau"],notes:"Classic topic. Use Rawls, MLK Letter from Birmingham Jail, Thoreau. Neg can run rule of law, democratic process args.",favorited:!0,timesUsed:20,lastUsed:"2024-02-15",createdAt:"2023-12-15"},{id:Ve(),text:"Resolved: Privileged individuals ought to renounce their privilege.",category:"philosophy",format:"ld",difficulty:4,year:2023,month:"March",tournament:"March/April LD Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["privilege","ethics","social justice","obligation"],notes:"Define privilege carefully. Aff: moral obligation, solidarity. Neg: impossible, counterproductive, allyship better.",favorited:!1,timesUsed:12,lastUsed:"2024-04-20",createdAt:"2023-02-15"},{id:Ve(),text:"Resolved: Jury nullification is a legitimate tool for criminal defense.",category:"legal",format:"ld",difficulty:4,year:2024,month:"September",tournament:"Yale Invitational",source:"Yale Debate",sourceUrl:"",tags:["jury","law","justice","courts","democracy"],notes:"Democratic legitimacy vs rule of law. Research Fully Informed Jury Association. Historical examples: Fugitive Slave Act.",favorited:!1,timesUsed:6,lastUsed:"2024-09-20",createdAt:"2024-09-01"},{id:Ve(),text:"Resolved: A just society ought to prioritize environmental protection over economic growth.",category:"philosophy",format:"ld",difficulty:3,year:2023,month:"November",tournament:"November/December LD Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["environment","economics","sustainability","justice"],notes:"Strong util and deont frameworks both ways. Research degrowth movement, green growth theory.",favorited:!1,timesUsed:18,lastUsed:"2023-12-15",createdAt:"2023-10-15"},{id:Ve(),text:"Resolved: The European Union should substantially strengthen its defense capabilities independent of the North Atlantic Treaty Organization.",category:"international",format:"pf",difficulty:4,year:2024,month:"December",tournament:"December PF Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["EU","NATO","defense","foreign policy","military"],notes:'Topicality on "independent" key. Research PESCO, European Defence Fund, US commitment concerns.',favorited:!0,timesUsed:5,lastUsed:"2024-11-28",createdAt:"2024-11-01"},{id:Ve(),text:"Resolved: The United States should substantially increase its investment in high-speed rail.",category:"domestic",format:"pf",difficulty:2,year:2024,month:"October",tournament:"October PF Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["infrastructure","transportation","climate","economy"],notes:"Good novice topic. Pro: climate, jobs, connectivity. Con: cost, geography, car culture.",favorited:!0,timesUsed:10,lastUsed:"2024-10-31",createdAt:"2024-09-15"},{id:Ve(),text:"Resolved: The United States should accede to the United Nations Convention on the Law of the Sea.",category:"international",format:"pf",difficulty:3,year:2024,month:"September",tournament:"September PF Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["UNCLOS","international law","maritime","sovereignty"],notes:"Research Arctic claims, South China Sea, deep seabed mining. Sovereignty vs cooperation clash.",favorited:!1,timesUsed:8,lastUsed:"2024-09-30",createdAt:"2024-08-15"},{id:Ve(),text:"Resolved: The United States federal government should forgive all federal student loan debt.",category:"economics",format:"pf",difficulty:2,year:2023,month:"February",tournament:"February PF Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["education","debt","economy","higher education"],notes:"Pro: economic stimulus, equity, mental health. Con: moral hazard, regressive, inflation.",favorited:!1,timesUsed:22,lastUsed:"2024-02-28",createdAt:"2023-01-15"},{id:Ve(),text:"Resolved: The benefits of the International Monetary Fund outweigh the harms.",category:"economics",format:"pf",difficulty:4,year:2023,month:"April",tournament:"April PF Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["IMF","development","economics","global south"],notes:"Research structural adjustment programs, debt relief, COVID response. Strong kritik potential.",favorited:!1,timesUsed:14,lastUsed:"2023-04-30",createdAt:"2023-03-15"},{id:Ve(),text:"Resolved: On balance, social media is beneficial for American elections.",category:"social",format:"pf",difficulty:2,year:2024,month:"November",tournament:"November PF Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["social media","elections","democracy","misinformation"],notes:"Timely topic. Pro: civic engagement, grassroots organizing. Con: misinformation, polarization, foreign interference.",favorited:!0,timesUsed:6,lastUsed:"2024-11-15",createdAt:"2024-10-15"},{id:Ve(),text:"A Bill to Implement a Carbon Tax: Be it enacted that the United States shall impose a tax of $50 per metric ton of carbon dioxide equivalent emissions.",category:"economics",format:"congress",difficulty:2,year:2024,month:"October",tournament:"Fall Regional",source:"Regional Circuit",sourceUrl:"",tags:["climate","tax","environment","economics"],notes:"Popular topic. Pro: climate action, revenue. Con: economic harm, regressive, competitiveness.",favorited:!1,timesUsed:8,lastUsed:"2024-10-15",createdAt:"2024-10-01"},{id:Ve(),text:"A Resolution to Condemn the People's Republic of China for Human Rights Violations in Xinjiang.",category:"international",format:"congress",difficulty:3,year:2024,month:"September",tournament:"State Championship",source:"State Circuit",sourceUrl:"",tags:["China","human rights","Uyghurs","foreign policy"],notes:"Research Uyghur detention, forced labor, surveillance. Consider diplomatic implications.",favorited:!1,timesUsed:5,lastUsed:"2024-09-20",createdAt:"2024-09-01"},{id:Ve(),text:"A Bill to Establish Universal Pre-Kindergarten Education.",category:"domestic",format:"congress",difficulty:2,year:2024,month:"November",tournament:"Fall Invitational",source:"Local Circuit",sourceUrl:"",tags:["education","children","early childhood","funding"],notes:"Pro: achievement gaps, working parents, brain development. Con: cost, federal overreach, quality concerns.",favorited:!0,timesUsed:6,lastUsed:"2024-11-10",createdAt:"2024-11-01"},{id:Ve(),text:"A Bill to Ban Assault Weapons and High-Capacity Magazines.",category:"legal",format:"congress",difficulty:3,year:2024,month:"October",tournament:"Regional Championship",source:"Regional Circuit",sourceUrl:"",tags:["guns","Second Amendment","public safety","constitutional"],notes:"Highly contested. Pro: public safety, mass shootings. Con: 2A rights, enforcement, definition problems.",favorited:!1,timesUsed:10,lastUsed:"2024-10-25",createdAt:"2024-10-01"},{id:Ve(),text:"A Resolution to Support the Expansion of Nuclear Energy Production.",category:"economics",format:"congress",difficulty:2,year:2024,month:"December",tournament:"Winter Invitational",source:"National Circuit",sourceUrl:"",tags:["energy","nuclear","climate","environment"],notes:"Pro: clean energy, baseload power, jobs. Con: waste, cost, safety, proliferation.",favorited:!1,timesUsed:3,lastUsed:"2024-12-01",createdAt:"2024-11-15"},{id:Ve(),text:"A Bill to Reform the Electoral College System.",category:"legal",format:"congress",difficulty:3,year:2024,month:"November",tournament:"State Finals",source:"State Circuit",sourceUrl:"",tags:["elections","democracy","constitutional","reform"],notes:"Define specific reform (NPV, proportional, direct election). Historical and comparative analysis key.",favorited:!0,timesUsed:4,lastUsed:"2024-11-20",createdAt:"2024-11-01"},{id:Ve(),text:"This House would ban the use of facial recognition technology by law enforcement.",category:"social",format:"parli",difficulty:2,year:2024,month:"November",tournament:"NPDA Nationals Qualifier",source:"NPDA",sourceUrl:"",tags:["technology","privacy","police","civil liberties","surveillance"],notes:"Good novice motion. Clear clash on privacy vs security. Research San Francisco ban, China comparison.",favorited:!1,timesUsed:7,lastUsed:"2024-11-10",createdAt:"2024-11-05"},{id:Ve(),text:"This House would abolish the Senate filibuster.",category:"legal",format:"parli",difficulty:3,year:2024,month:"October",tournament:"Fall Championship",source:"Regional Circuit",sourceUrl:"",tags:["democracy","Senate","filibuster","governance"],notes:"Gov: majority rule, gridlock. Opp: minority rights, deliberation, tyranny of majority.",favorited:!0,timesUsed:5,lastUsed:"2024-10-20",createdAt:"2024-10-01"},{id:Ve(),text:"This House believes that capitalism is incompatible with environmental sustainability.",category:"philosophy",format:"parli",difficulty:4,year:2024,month:"September",tournament:"APDA Nationals",source:"APDA",sourceUrl:"",tags:["capitalism","environment","economics","sustainability"],notes:"Gov: growth imperative, externalities, short-termism. Opp: green capitalism, innovation, regulation.",favorited:!0,timesUsed:4,lastUsed:"2024-09-25",createdAt:"2024-09-01"},{id:Ve(),text:"This House would require social media companies to verify the identity of all users.",category:"social",format:"parli",difficulty:2,year:2024,month:"October",tournament:"Regional Qualifier",source:"Local Circuit",sourceUrl:"",tags:["social media","privacy","anonymity","harassment"],notes:"Gov: accountability, reduce harassment. Opp: privacy, dissent protection, enforcement.",favorited:!1,timesUsed:6,lastUsed:"2024-10-15",createdAt:"2024-10-01"},{id:Ve(),text:"This House prefers a world without organized religion.",category:"philosophy",format:"parli",difficulty:4,year:2024,month:"November",tournament:"NPDA Championships",source:"NPDA",sourceUrl:"",tags:["religion","philosophy","society","secularism"],notes:"Gov: conflict, oppression, irrationality. Opp: community, meaning, charity, art.",favorited:!1,timesUsed:3,lastUsed:"2024-11-15",createdAt:"2024-11-01"},{id:Ve(),text:"This House would ban unpaid internships.",category:"economics",format:"parli",difficulty:2,year:2024,month:"September",tournament:"Fall Invitational",source:"Local Circuit",sourceUrl:"",tags:["labor","education","inequality","employment"],notes:"Gov: exploitation, inequality, labor rights. Opp: opportunity, experience, non-profit impact.",favorited:!1,timesUsed:8,lastUsed:"2024-09-30",createdAt:"2024-09-01"},{id:Ve(),text:"This House believes that the pursuit of happiness is a more important life goal than the pursuit of meaning.",category:"philosophy",format:"bp",difficulty:3,year:2024,month:"October",tournament:"Cambridge IV",source:"Cambridge Union",sourceUrl:"https://cambridgeunion.org",tags:["philosophy","happiness","meaning","life purpose"],notes:"Classic philosophy motion. Define happiness (hedonic) vs meaning (eudaimonic) carefully.",favorited:!0,timesUsed:5,lastUsed:"2024-10-25",createdAt:"2024-10-01"},{id:Ve(),text:"This House would allow the buying and selling of human organs.",category:"philosophy",format:"bp",difficulty:3,year:2024,month:"November",tournament:"Oxford IV",source:"Oxford Union",sourceUrl:"https://oxford-union.org",tags:["healthcare","ethics","markets","bodily autonomy"],notes:"Prop: shortage, autonomy, regulated market. Opp: exploitation, commodification, coercion.",favorited:!0,timesUsed:7,lastUsed:"2024-11-20",createdAt:"2024-11-01"},{id:Ve(),text:"This House believes that developing countries should prioritize economic growth over environmental protection.",category:"economics",format:"bp",difficulty:3,year:2024,month:"September",tournament:"Euros",source:"European Universities Debating",sourceUrl:"",tags:["development","environment","economics","climate"],notes:"Prop: poverty reduction, historical emissions. Opp: climate vulnerability, leapfrogging, false dichotomy.",favorited:!1,timesUsed:6,lastUsed:"2024-09-30",createdAt:"2024-09-01"},{id:Ve(),text:"This House regrets the rise of the self-care movement.",category:"social",format:"bp",difficulty:4,year:2024,month:"October",tournament:"Durham IV",source:"Durham Debating",sourceUrl:"",tags:["mental health","individualism","society","wellness"],notes:"Prop: individualism, consumerism, ignores systemic issues. Opp: agency, mental health awareness.",favorited:!1,timesUsed:4,lastUsed:"2024-10-20",createdAt:"2024-10-01"},{id:Ve(),text:"This House believes that feminism should not engage with traditional religious institutions.",category:"social",format:"bp",difficulty:4,year:2024,month:"November",tournament:"Manchester IV",source:"Manchester Debating",sourceUrl:"",tags:["feminism","religion","reform","gender"],notes:"Prop: legitimization, reform impossible, patriarchy. Opp: insider reform, religious feminists, pragmatism.",favorited:!1,timesUsed:3,lastUsed:"2024-11-15",createdAt:"2024-11-01"},{id:Ve(),text:"This House would implement a maximum wage.",category:"economics",format:"bp",difficulty:3,year:2024,month:"October",tournament:"LSE Open",source:"LSE Debating",sourceUrl:"",tags:["economics","inequality","wages","redistribution"],notes:"Prop: inequality reduction, social cohesion. Opp: brain drain, enforcement, investment.",favorited:!0,timesUsed:5,lastUsed:"2024-10-25",createdAt:"2024-10-01"},{id:Ve(),text:"This House believes that Western liberal democracies should adopt deliberative democracy mechanisms.",category:"philosophy",format:"worlds",difficulty:5,year:2024,month:"August",tournament:"World Schools Debate Championship",source:"WSDC",sourceUrl:"https://wsdc.info",tags:["democracy","deliberation","politics","governance"],notes:"Championship-level. Research citizens assemblies, sortition, Irish Constitutional Convention.",favorited:!0,timesUsed:2,lastUsed:"2024-08-15",createdAt:"2024-08-01"},{id:Ve(),text:"This House believes that governments should provide a universal basic income to all citizens.",category:"economics",format:"worlds",difficulty:3,year:2024,month:"July",tournament:"World Schools Debate Championship",source:"WSDC",sourceUrl:"https://wsdc.info",tags:["UBI","welfare","economics","poverty"],notes:"Accessible WSDC topic. Research Finland, Kenya pilots. Consider automation angle.",favorited:!0,timesUsed:4,lastUsed:"2024-08-10",createdAt:"2024-07-15"},{id:Ve(),text:"This House believes that the United Nations Security Council should be reformed to remove the veto power of permanent members.",category:"international",format:"worlds",difficulty:4,year:2024,month:"July",tournament:"World Schools Debate Championship",source:"WSDC",sourceUrl:"https://wsdc.info",tags:["UN","international law","security","reform"],notes:"Prop: paralysis, representation. Opp: stability, great power buy-in, alternatives worse.",favorited:!1,timesUsed:3,lastUsed:"2024-08-05",createdAt:"2024-07-15"},{id:Ve(),text:"This House believes that social movements should use radical tactics to achieve their goals.",category:"philosophy",format:"worlds",difficulty:4,year:2023,month:"August",tournament:"World Schools Debate Championship",source:"WSDC",sourceUrl:"https://wsdc.info",tags:["activism","protest","social change","tactics"],notes:"Define radical (property destruction, civil disobedience, etc.). Historical examples key.",favorited:!1,timesUsed:5,lastUsed:"2023-08-15",createdAt:"2023-08-01"},{id:Ve(),text:"This House believes that artificial intelligence will do more harm than good to humanity.",category:"social",format:"worlds",difficulty:3,year:2024,month:"June",tournament:"Pan-American Schools Championship",source:"PASC",sourceUrl:"",tags:["AI","technology","future","automation"],notes:"Timely topic. Prop: jobs, control, existential risk. Opp: innovation, healthcare, efficiency.",favorited:!0,timesUsed:6,lastUsed:"2024-06-30",createdAt:"2024-06-01"},{id:Ve(),text:"The United States should adopt a four-day work week.",category:"economics",format:"parli",difficulty:2,year:2024,month:"November",tournament:"IPDA Nationals",source:"IPDA",sourceUrl:"",tags:["labor","work","productivity","well-being"],notes:"Accessible topic. Pro: productivity, mental health, environment. Con: implementation, wages, industries.",favorited:!1,timesUsed:5,lastUsed:"2024-11-15",createdAt:"2024-11-01"},{id:Ve(),text:"College athletes should be paid beyond scholarships.",category:"economics",format:"parli",difficulty:2,year:2024,month:"October",tournament:"Regional Championship",source:"IPDA",sourceUrl:"",tags:["sports","college","labor","NCAA"],notes:"Post-NIL debate context. Pro: fairness, exploitation. Con: amateurism, Title IX, competitive balance.",favorited:!1,timesUsed:7,lastUsed:"2024-10-25",createdAt:"2024-10-01"},{id:Ve(),text:"Standardized testing does more harm than good in education.",category:"domestic",format:"parli",difficulty:1,year:2024,month:"September",tournament:"Fall Invitational",source:"IPDA",sourceUrl:"",tags:["education","testing","equity","curriculum"],notes:"Good novice topic. Pro: teach to test, stress, equity. Con: accountability, standards, improvement.",favorited:!1,timesUsed:10,lastUsed:"2024-09-30",createdAt:"2024-09-01"},{id:Ve(),text:"The voting age should be lowered to 16.",category:"legal",format:"parli",difficulty:2,year:2024,month:"October",tournament:"State Championship",source:"IPDA",sourceUrl:"",tags:["voting","youth","democracy","civic engagement"],notes:"Pro: civic engagement, affected by policy. Con: maturity, manipulation, consistency.",favorited:!0,timesUsed:8,lastUsed:"2024-10-20",createdAt:"2024-10-01"},{id:Ve(),text:"Resolved: Countries should prioritize climate adaptation over climate mitigation.",category:"international",format:"pf",difficulty:3,year:2024,month:"January",tournament:"January PF Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["climate","environment","policy","global"],notes:"Define adaptation (resilience) vs mitigation (reduction). Consider developing country perspectives.",favorited:!1,timesUsed:12,lastUsed:"2024-01-31",createdAt:"2023-12-15"},{id:Ve(),text:"This House would ban political advertising on social media.",category:"social",format:"bp",difficulty:2,year:2024,month:"September",tournament:"Fall Open",source:"Local Circuit",sourceUrl:"",tags:["social media","elections","advertising","democracy"],notes:"Prop: misinformation, manipulation, fairness. Opp: speech, information access, alternatives worse.",favorited:!1,timesUsed:6,lastUsed:"2024-09-25",createdAt:"2024-09-01"},{id:Ve(),text:"A Bill to Establish Term Limits for Members of Congress.",category:"legal",format:"congress",difficulty:2,year:2024,month:"September",tournament:"State Invitational",source:"State Circuit",sourceUrl:"",tags:["Congress","reform","democracy","term limits"],notes:"Pro: fresh ideas, reduce corruption, citizen legislators. Con: experience, voter choice, institutional knowledge.",favorited:!0,timesUsed:9,lastUsed:"2024-09-20",createdAt:"2024-09-01"},{id:Ve(),text:"Resolved: Democracies should not engage in offensive cyber operations.",category:"international",format:"ld",difficulty:4,year:2024,month:"TOC",tournament:"Tournament of Champions",source:"UK",sourceUrl:"",tags:["cyber","security","democracy","warfare"],notes:"Define offensive (vs defensive). Research Stuxnet, Russian operations, international law.",favorited:!1,timesUsed:3,lastUsed:"2024-05-01",createdAt:"2024-04-15"},{id:Ve(),text:"This House believes that the criminal justice system should prioritize rehabilitation over punishment.",category:"legal",format:"worlds",difficulty:3,year:2024,month:"May",tournament:"Asian Schools Championship",source:"ASDC",sourceUrl:"",tags:["criminal justice","rehabilitation","punishment","prisons"],notes:"Research Nordic model, recidivism rates, victim perspectives. Consider serious crimes.",favorited:!0,timesUsed:8,lastUsed:"2024-05-20",createdAt:"2024-05-01"},{id:Ve(),text:"Resolved: The United States should substantially increase its use of nuclear energy.",category:"economics",format:"pf",difficulty:3,year:2023,month:"March",tournament:"March PF Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["energy","nuclear","climate","environment"],notes:"Pro: clean baseload, climate. Con: waste, cost, safety, proliferation. Small modular reactors popular.",favorited:!1,timesUsed:16,lastUsed:"2023-03-31",createdAt:"2023-02-15"},{id:Ve(),text:"This House would give indigenous communities veto power over resource extraction on their ancestral lands.",category:"social",format:"bp",difficulty:4,year:2024,month:"October",tournament:"Australs",source:"Australian Debating",sourceUrl:"",tags:["indigenous rights","environment","resources","sovereignty"],notes:"Prop: self-determination, environmental protection, historical injustice. Opp: development, national interest, consistency.",favorited:!0,timesUsed:3,lastUsed:"2024-10-15",createdAt:"2024-10-01"},{id:Ve(),text:"A Resolution to Expand the Supreme Court.",category:"legal",format:"congress",difficulty:4,year:2024,month:"October",tournament:"National Invitational",source:"National Circuit",sourceUrl:"",tags:["Supreme Court","judicial reform","democracy","courts"],notes:"Pro: balance, democratic legitimacy. Con: precedent, politicization, retaliation.",favorited:!1,timesUsed:5,lastUsed:"2024-10-30",createdAt:"2024-10-01"},{id:Ve(),text:"This House believes that states should not fund the arts.",category:"economics",format:"parli",difficulty:3,year:2024,month:"November",tournament:"Regional Finals",source:"NPDA",sourceUrl:"",tags:["arts","funding","culture","government"],notes:"Gov: private patronage, government taste, opportunity cost. Opp: public good, access, cultural heritage.",favorited:!1,timesUsed:4,lastUsed:"2024-11-20",createdAt:"2024-11-01"},{id:Ve(),text:"Resolved: The United States ought to eliminate subsidies for fossil fuels.",category:"economics",format:"ld",difficulty:3,year:2023,month:"September",tournament:"September/October LD Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["energy","climate","subsidies","fossil fuels"],notes:"Aff: climate, market distortion. Neg: energy security, jobs, transition costs.",favorited:!1,timesUsed:14,lastUsed:"2023-10-31",createdAt:"2023-08-15"}],Lj=({level:t})=>{const e=ff.find(a=>a.value===t)||ff[2],n={emerald:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",cyan:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30",amber:"bg-amber-500/20 text-amber-400 border-amber-500/30",purple:"bg-purple-500/20 text-purple-400 border-purple-500/30",rose:"bg-rose-500/20 text-rose-400 border-rose-500/30"};return s.jsx("span",{className:`px-2 py-0.5 rounded-full border text-xs font-medium ${n[e.color]}`,children:e.label})},O$=({motion:t,onEdit:e,onDelete:n,onToggleFavorite:a,onCopy:r,viewMode:o})=>{const[c,d]=T.useState(!1),m=gd[t.category]||gd.domestic,f=mf[t.format]||mf.pf,g=m.icon,b=()=>{navigator.clipboard.writeText(t.text),r?.(t)};return o==="compact"?s.jsx(t.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`p-4 rounded-lg border ${m.bgColor} ${m.borderColor} hover:border-opacity-60 transition-colors`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${m.bgColor}`,children:s.jsx(g,{className:`w-4 h-4 ${m.textColor}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-white text-sm line-clamp-2",children:t.text}),s.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[s.jsx("span",{className:"text-xs text-slate-400",children:f.short}),s.jsx("span",{className:"text-slate-600",children:""}),s.jsx(Lj,{level:t.difficulty}),s.jsx("span",{className:"text-slate-600",children:""}),s.jsx("span",{className:"text-xs text-slate-400",children:t.year})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>a(t.id),className:`p-1.5 rounded transition-colors ${t.favorited?"text-amber-400 hover:text-amber-300":"text-slate-500 hover:text-slate-300"}`,children:t.favorited?s.jsx(ln,{className:"w-4 h-4 fill-current"}):s.jsx($g,{className:"w-4 h-4"})}),s.jsx("button",{onClick:b,className:"p-1.5 text-slate-500 hover:text-white rounded transition-colors",children:s.jsx(Js,{className:"w-4 h-4"})})]})]})}):s.jsxs(t.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`rounded-xl border overflow-hidden ${m.bgColor} ${m.borderColor}`,children:[s.jsx("div",{className:"p-4 border-b border-slate-700/50",children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`p-2.5 rounded-xl ${m.bgColor}`,children:s.jsx(g,{className:`w-5 h-5 ${m.textColor}`})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:`text-xs font-medium ${m.textColor}`,children:m.label}),s.jsx("span",{className:"text-slate-600",children:""}),s.jsx("span",{className:"text-xs text-slate-400",children:f.label})]}),s.jsx(Lj,{level:t.difficulty})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>a(t.id),className:`p-2 rounded-lg transition-colors ${t.favorited?"text-amber-400 hover:bg-amber-500/20":"text-slate-500 hover:text-slate-300 hover:bg-slate-700/50"}`,children:t.favorited?s.jsx(ln,{className:"w-4 h-4 fill-current"}):s.jsx($g,{className:"w-4 h-4"})}),s.jsx("button",{onClick:b,className:"p-2 text-slate-500 hover:text-white hover:bg-slate-700/50 rounded-lg transition-colors",title:"Copy motion text",children:s.jsx(Js,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>e(t),className:"p-2 text-slate-500 hover:text-white hover:bg-slate-700/50 rounded-lg transition-colors",children:s.jsx($l,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>n(t.id),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",children:s.jsx(Gn,{className:"w-4 h-4"})})]})]})}),s.jsx("div",{className:"p-4",children:s.jsx("p",{className:"text-white font-medium leading-relaxed",children:t.text})}),t.tags&&t.tags.length>0&&s.jsx("div",{className:"px-4 pb-3 flex items-center gap-2 flex-wrap",children:t.tags.map((v,w)=>s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-slate-700/50 text-slate-300 text-xs rounded-full",children:[s.jsx(Qj,{className:"w-3 h-3"}),v]},w))}),s.jsxs("div",{className:"px-4 pb-4",children:[s.jsxs("button",{onClick:()=>d(!c),className:"flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[c?s.jsx(Ga,{className:"w-4 h-4"}):s.jsx(on,{className:"w-4 h-4"}),s.jsx("span",{children:"Details"})]}),s.jsx(at,{children:c&&s.jsx(t.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:s.jsxs("div",{className:"pt-3 space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500 text-xs uppercase tracking-wide",children:"Tournament"}),s.jsx("p",{className:"text-white",children:t.tournament||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500 text-xs uppercase tracking-wide",children:"Source"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("p",{className:"text-white",children:t.source||"Unknown"}),t.sourceUrl&&s.jsx("a",{href:t.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300",children:s.jsx(Hj,{className:"w-3 h-3"})})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500 text-xs uppercase tracking-wide",children:"Date"}),s.jsxs("p",{className:"text-white",children:[t.month," ",t.year]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500 text-xs uppercase tracking-wide",children:"Times Used"}),s.jsx("p",{className:"text-white",children:t.timesUsed||0})]})]}),t.notes&&s.jsxs("div",{className:"pt-2 border-t border-slate-700/50",children:[s.jsx("span",{className:"text-slate-500 text-xs uppercase tracking-wide",children:"Notes"}),s.jsx("p",{className:"text-slate-300 text-sm mt-1",children:t.notes})]})]})})})]})]})},L$=({isOpen:t,onClose:e,motion:n,onSave:a})=>{const[r,o]=T.useState({text:"",category:"domestic",format:"pf",difficulty:3,year:new Date().getFullYear(),month:"",tournament:"",source:"",sourceUrl:"",tags:[],notes:""}),[c,d]=T.useState("");Ix.useEffect(()=>{t&&o(n?{text:n.text||"",category:n.category||"domestic",format:n.format||"pf",difficulty:n.difficulty||3,year:n.year||new Date().getFullYear(),month:n.month||"",tournament:n.tournament||"",source:n.source||"",sourceUrl:n.sourceUrl||"",tags:n.tags||[],notes:n.notes||""}:{text:"",category:"domestic",format:"pf",difficulty:3,year:new Date().getFullYear(),month:"",tournament:"",source:"",sourceUrl:"",tags:[],notes:""})},[t,n]);const m=()=>{c.trim()&&!r.tags.includes(c.trim())&&(o(b=>({...b,tags:[...b.tags,c.trim().toLowerCase()]})),d(""))},f=b=>{o(v=>({...v,tags:v.tags.filter(w=>w!==b)}))},g=b=>{b.preventDefault(),r.text.trim()&&(a({id:n?.id||Ve(),...r,favorited:n?.favorited||!1,timesUsed:n?.timesUsed||0,lastUsed:n?.lastUsed||null,createdAt:n?.createdAt||new Date().toISOString()}),e())};return t?s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsx(n.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-slate-800 border border-slate-700 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:s.jsxs("form",{onSubmit:g,children:[s.jsx("div",{className:"p-6 border-b border-slate-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:n?"Edit Motion":"Add New Motion"}),s.jsx("button",{type:"button",onClick:e,className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",children:s.jsx(rn,{className:"w-5 h-5"})})]})}),s.jsxs("div",{className:"p-6 space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Motion/Resolution Text *"}),s.jsx("textarea",{value:r.text,onChange:b=>o(v=>({...v,text:b.target.value})),placeholder:"Resolved: ...",rows:3,className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50 resize-none",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Category"}),s.jsx("select",{value:r.category,onChange:b=>o(v=>({...v,category:b.target.value})),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50",children:Object.entries(gd).map(([b,v])=>s.jsx("option",{value:b,children:v.label},b))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Format"}),s.jsx("select",{value:r.format,onChange:b=>o(v=>({...v,format:b.target.value})),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50",children:Object.entries(mf).map(([b,v])=>s.jsx("option",{value:b,children:v.label},b))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Difficulty Level"}),s.jsx("div",{className:"flex items-center gap-2",children:ff.map(b=>s.jsx("button",{type:"button",onClick:()=>o(v=>({...v,difficulty:b.value})),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${r.difficulty===b.value?b.activeClass:"bg-slate-700/50 text-slate-400 border border-slate-600 hover:bg-slate-700"}`,children:b.label},b.value))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Tournament/Event"}),s.jsx("input",{type:"text",value:r.tournament,onChange:b=>o(v=>({...v,tournament:b.target.value})),placeholder:"e.g., NSDA Nationals",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Source"}),s.jsx("input",{type:"text",value:r.source,onChange:b=>o(v=>({...v,source:b.target.value})),placeholder:"e.g., NSDA",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Year"}),s.jsx("input",{type:"number",value:r.year,onChange:b=>o(v=>({...v,year:parseInt(b.target.value)})),min:2e3,max:2030,className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Month"}),s.jsxs("select",{value:r.month,onChange:b=>o(v=>({...v,month:b.target.value})),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50",children:[s.jsx("option",{value:"",children:"Select month..."}),["January","February","March","April","May","June","July","August","September","October","November","December"].map(b=>s.jsx("option",{value:b,children:b},b))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Source URL (optional)"}),s.jsx("input",{type:"url",value:r.sourceUrl,onChange:b=>o(v=>({...v,sourceUrl:b.target.value})),placeholder:"https://...",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Tags"}),s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("input",{type:"text",value:c,onChange:b=>d(b.target.value),onKeyPress:b=>b.key==="Enter"&&(b.preventDefault(),m()),placeholder:"Add a tag...",className:"flex-1 bg-slate-700/50 border border-slate-600 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50"}),s.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Add"})]}),r.tags.length>0&&s.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:r.tags.map((b,v)=>s.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 bg-slate-700 text-slate-300 text-sm rounded-full",children:[s.jsx(Qj,{className:"w-3 h-3"}),b,s.jsx("button",{type:"button",onClick:()=>f(b),className:"text-slate-500 hover:text-red-400 ml-1",children:s.jsx(rn,{className:"w-3 h-3"})})]},v))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Notes"}),s.jsx("textarea",{value:r.notes,onChange:b=>o(v=>({...v,notes:b.target.value})),placeholder:"Strategy notes, key arguments, etc.",rows:3,className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50 resize-none"})]})]}),s.jsxs("div",{className:"p-6 border-t border-slate-700 flex items-center justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-slate-400 hover:text-white transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2 bg-cyan-600 hover:bg-cyan-500 text-white rounded-lg transition-colors font-medium",children:n?"Save Changes":"Add Motion"})]})]})})}):null},V$=()=>{const[t,e]=T.useState(M$),[n,a]=T.useState(""),[r,o]=T.useState("all"),[c,d]=T.useState("all"),[m,f]=T.useState("all"),[g,b]=T.useState("all"),[v,w]=T.useState(!1),[j,I]=T.useState("newest"),[D,L]=T.useState("full"),[R,$]=T.useState(!1),[q,X]=T.useState(null),[G,k]=T.useState(!1),[A,O]=T.useState(null),C=T.useMemo(()=>{const ce=new Set(t.map(be=>be.year));return Array.from(ce).sort((be,F)=>F-be)},[t]),M=T.useMemo(()=>{let ce=[...t];if(n.trim()){const be=n.toLowerCase();ce=ce.filter(F=>F.text.toLowerCase().includes(be)||F.tags?.some(ke=>ke.toLowerCase().includes(be))||F.tournament?.toLowerCase().includes(be)||F.source?.toLowerCase().includes(be))}switch(r!=="all"&&(ce=ce.filter(be=>be.category===r)),c!=="all"&&(ce=ce.filter(be=>be.format===c)),m!=="all"&&(ce=ce.filter(be=>be.difficulty===parseInt(m))),g!=="all"&&(ce=ce.filter(be=>be.year===parseInt(g))),v&&(ce=ce.filter(be=>be.favorited)),j){case"newest":ce.sort((be,F)=>new Date(F.createdAt)-new Date(be.createdAt));break;case"oldest":ce.sort((be,F)=>new Date(be.createdAt)-new Date(F.createdAt));break;case"most-used":ce.sort((be,F)=>(F.timesUsed||0)-(be.timesUsed||0));break;case"difficulty-asc":ce.sort((be,F)=>be.difficulty-F.difficulty);break;case"difficulty-desc":ce.sort((be,F)=>F.difficulty-be.difficulty);break;case"alphabetical":ce.sort((be,F)=>be.text.localeCompare(F.text));break}return ce},[t,n,r,c,m,g,v,j]),z=ce=>{e(be=>{const F=be.findIndex(ke=>ke.id===ce.id);if(F>=0){const ke=[...be];return ke[F]=ce,ke}return[ce,...be]})},E=ce=>{confirm("Are you sure you want to delete this motion?")&&e(be=>be.filter(F=>F.id!==ce))},J=ce=>{e(be=>be.map(F=>F.id===ce?{...F,favorited:!F.favorited}:F))},K=ce=>{O(ce.id),setTimeout(()=>O(null),2e3)},H=ce=>{X(ce),$(!0)},Z=()=>{const ce=JSON.stringify(t,null,2),be=new Blob([ce],{type:"application/json"}),F=URL.createObjectURL(be),ke=document.createElement("a");ke.href=F,ke.download="motion-library.json",ke.click(),URL.revokeObjectURL(F)},le=ce=>{const be=ce.target.files?.[0];if(!be)return;const F=new FileReader;F.onload=ke=>{try{const Ce=JSON.parse(ke.target.result);Array.isArray(Ce)&&e(Me=>[...Ce,...Me])}catch(Ce){console.error("Failed to import motions:",Ce)}},F.readAsText(be),ce.target.value=""},ye=()=>{a(""),o("all"),d("all"),f("all"),b("all"),w(!1)},B=[r!=="all",c!=="all",m!=="all",g!=="all",v].filter(Boolean).length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl",children:s.jsx(Ti,{className:"w-6 h-6 text-white"})}),"Motion Library"]}),s.jsxs("p",{className:"text-slate-400 mt-1",children:[M.length," of ",t.length," motions"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors cursor-pointer",children:[s.jsx(yd,{className:"w-4 h-4"}),"Import",s.jsx("input",{type:"file",accept:".json",onChange:le,className:"hidden"})]}),s.jsxs("button",{onClick:Z,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[s.jsx(dc,{className:"w-4 h-4"}),"Export"]}),s.jsxs("button",{onClick:()=>{X(null),$(!0)},className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-500 text-white rounded-lg transition-colors",children:[s.jsx(Ct,{className:"w-4 h-4"}),"Add Motion"]})]})]}),s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),s.jsx("input",{type:"text",value:n,onChange:ce=>a(ce.target.value),placeholder:"Search motions, tags, tournaments...",className:"w-full bg-slate-700/50 border border-slate-600 text-white pl-10 pr-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50"})]}),s.jsxs("button",{onClick:()=>w(!v),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-colors ${v?"bg-amber-500/20 text-amber-400 border border-amber-500/50":"bg-slate-700/50 text-slate-400 border border-slate-600 hover:text-white"}`,children:[s.jsx(ln,{className:`w-4 h-4 ${v?"fill-current":""}`}),"Favorites"]}),s.jsxs("button",{onClick:()=>k(!G),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-colors ${G||B>0?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/50":"bg-slate-700/50 text-slate-400 border border-slate-600 hover:text-white"}`,children:[s.jsx(Gj,{className:"w-4 h-4"}),"Filters",B>0&&s.jsx("span",{className:"w-5 h-5 bg-cyan-500 text-white text-xs rounded-full flex items-center justify-center",children:B})]}),s.jsxs("div",{className:"flex items-center gap-1 bg-slate-700/50 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>L("full"),className:`p-2 rounded ${D==="full"?"bg-slate-600 text-white":"text-slate-400 hover:text-white"}`,children:s.jsx(Lx,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>L("compact"),className:`p-2 rounded ${D==="compact"?"bg-slate-600 text-white":"text-slate-400 hover:text-white"}`,children:s.jsx(Ux,{className:"w-4 h-4"})})]}),s.jsxs("select",{value:j,onChange:ce=>I(ce.target.value),className:"bg-slate-700/50 border border-slate-600 text-white px-3 py-2.5 rounded-lg focus:outline-none",children:[s.jsx("option",{value:"newest",children:"Newest First"}),s.jsx("option",{value:"oldest",children:"Oldest First"}),s.jsx("option",{value:"most-used",children:"Most Used"}),s.jsx("option",{value:"difficulty-asc",children:"Difficulty "}),s.jsx("option",{value:"difficulty-desc",children:"Difficulty "}),s.jsx("option",{value:"alphabetical",children:"A-Z"})]})]}),s.jsx(at,{children:G&&s.jsxs(V.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:[s.jsxs("div",{className:"pt-4 mt-4 border-t border-slate-700 grid grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Category"}),s.jsxs("select",{value:r,onChange:ce=>o(ce.target.value),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-3 py-2 rounded-lg focus:outline-none text-sm",children:[s.jsx("option",{value:"all",children:"All Categories"}),Object.entries(gd).map(([ce,be])=>s.jsx("option",{value:ce,children:be.label},ce))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Format"}),s.jsxs("select",{value:c,onChange:ce=>d(ce.target.value),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-3 py-2 rounded-lg focus:outline-none text-sm",children:[s.jsx("option",{value:"all",children:"All Formats"}),Object.entries(mf).map(([ce,be])=>s.jsx("option",{value:ce,children:be.label},ce))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Difficulty"}),s.jsxs("select",{value:m,onChange:ce=>f(ce.target.value),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-3 py-2 rounded-lg focus:outline-none text-sm",children:[s.jsx("option",{value:"all",children:"All Levels"}),ff.map(ce=>s.jsx("option",{value:ce.value,children:ce.label},ce.value))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Year"}),s.jsxs("select",{value:g,onChange:ce=>b(ce.target.value),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-3 py-2 rounded-lg focus:outline-none text-sm",children:[s.jsx("option",{value:"all",children:"All Years"}),C.map(ce=>s.jsx("option",{value:ce,children:ce},ce))]})]})]}),B>0&&s.jsx("div",{className:"mt-3 flex items-center justify-end",children:s.jsx("button",{onClick:ye,className:"text-sm text-slate-400 hover:text-white transition-colors",children:"Clear all filters"})})]})})]}),s.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:[s.jsx("button",{onClick:()=>o("all"),className:`flex-shrink-0 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r==="all"?"bg-slate-700 text-white":"bg-slate-800/50 text-slate-400 hover:text-white"}`,children:"All"}),Object.entries(gd).map(([ce,be])=>{const F=be.icon,ke=t.filter(Ce=>Ce.category===ce).length;return s.jsxs("button",{onClick:()=>o(r===ce?"all":ce),className:`flex-shrink-0 flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r===ce?`${be.bgColor} ${be.textColor} border ${be.borderColor}`:"bg-slate-800/50 text-slate-400 hover:text-white border border-transparent"}`,children:[s.jsx(F,{className:"w-4 h-4"}),be.label,s.jsxs("span",{className:"text-xs opacity-60",children:["(",ke,")"]})]},ce)})]}),M.length===0?s.jsxs("div",{className:"text-center py-16",children:[s.jsx(Ti,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-slate-400",children:"No motions found"}),s.jsx("p",{className:"text-slate-500 mt-1",children:n||B>0?"Try adjusting your filters or search query":"Add your first motion to get started"}),(n||B>0)&&s.jsx("button",{onClick:ye,className:"mt-4 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Clear Filters"})]}):s.jsx("div",{className:D==="full"?"grid grid-cols-1 lg:grid-cols-2 gap-4":"space-y-2",children:s.jsx(at,{mode:"popLayout",children:M.map(ce=>s.jsx(O$,{motion:ce,viewMode:D,onEdit:H,onDelete:E,onToggleFavorite:J,onCopy:K},ce.id))})}),s.jsx(at,{children:A&&s.jsxs(V.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 right-6 bg-emerald-600 text-white px-4 py-3 rounded-lg shadow-lg flex items-center gap-2",children:[s.jsx(Rn,{className:"w-5 h-5"}),"Motion copied to clipboard!"]})}),s.jsx(at,{children:R&&s.jsx(L$,{isOpen:R,onClose:()=>{$(!1),X(null)},motion:q,onSave:z})})]})},Lg={pf:{name:"Public Forum",teams:2,speakersPerTeam:2,maxSpeakerPoints:30,minSpeakerPoints:20,rubricCategories:[{id:"argumentation",label:"Argumentation & Analysis",weight:30,description:"Quality of arguments, logical reasoning, clash"},{id:"evidence",label:"Use of Evidence",weight:20,description:"Quality, relevance, and explanation of sources"},{id:"refutation",label:"Refutation & Defense",weight:20,description:"Responses to opponent arguments, defense of own case"},{id:"delivery",label:"Delivery & Presentation",weight:15,description:"Speaking skills, clarity, eye contact, pace"},{id:"crossfire",label:"Crossfire Performance",weight:15,description:"Questions, answers, engagement in crossfire"}]},ld:{name:"Lincoln Douglas",teams:2,speakersPerTeam:1,maxSpeakerPoints:30,minSpeakerPoints:20,rubricCategories:[{id:"framework",label:"Value/Criterion Framework",weight:25,description:"Quality and defense of philosophical framework"},{id:"argumentation",label:"Argumentation",weight:25,description:"Quality of contentions and logical analysis"},{id:"clash",label:"Clash & Refutation",weight:20,description:"Engagement with opponent, responses, weighing"},{id:"crystallization",label:"Crystallization",weight:15,description:"Summary and focus on key issues"},{id:"delivery",label:"Delivery",weight:15,description:"Speaking skills, persuasion, presence"}]},policy:{name:"Policy/CX",teams:2,speakersPerTeam:2,maxSpeakerPoints:30,minSpeakerPoints:20,rubricCategories:[{id:"case",label:"Case Arguments",weight:25,description:"Quality of affirmative/negative case"},{id:"evidence",label:"Evidence Quality",weight:20,description:"Card quality, warrants, recency"},{id:"strategy",label:"Strategic Choices",weight:20,description:"Argument selection, time allocation, 2NR/2AR"},{id:"cx",label:"Cross-Examination",weight:15,description:"Question quality, answer quality, strategic use"},{id:"delivery",label:"Delivery & Clarity",weight:20,description:"Speed, clarity, organization, signposting"}]},congress:{name:"Congressional Debate",teams:1,speakersPerTeam:1,maxSpeakerPoints:6,minSpeakerPoints:1,rubricCategories:[{id:"argumentation",label:"Argumentation",weight:30,description:"Quality and originality of arguments"},{id:"evidence",label:"Evidence & Research",weight:20,description:"Use of statistics, examples, sources"},{id:"refutation",label:"Clash & Refutation",weight:20,description:"Engagement with previous speakers"},{id:"delivery",label:"Delivery",weight:20,description:"Speaking skills, presence, persuasion"},{id:"procedure",label:"Parliamentary Procedure",weight:10,description:"Knowledge and use of procedure"}]},parli:{name:"Parliamentary (NPDA)",teams:2,speakersPerTeam:2,maxSpeakerPoints:30,minSpeakerPoints:20,rubricCategories:[{id:"case",label:"Case Construction",weight:25,description:"Model/interpretation, argumentation"},{id:"refutation",label:"Refutation",weight:25,description:"Responses, turns, impact comparison"},{id:"poi",label:"Points of Information",weight:15,description:"POI quality and handling"},{id:"strategy",label:"Strategy & Weighing",weight:20,description:"Strategic choices, crystallization"},{id:"delivery",label:"Delivery",weight:15,description:"Speaking skills, wit, presence"}]},bp:{name:"British Parliamentary",teams:4,speakersPerTeam:2,maxSpeakerPoints:100,minSpeakerPoints:50,rubricCategories:[{id:"content",label:"Content & Analysis",weight:30,description:"Depth of argumentation, examples, logical reasoning"},{id:"strategy",label:"Strategy & Role Fulfilment",weight:25,description:"Meeting role requirements, extensions for closing teams"},{id:"engagement",label:"Engagement & Rebuttal",weight:20,description:"Responses to other teams, clash with opposition"},{id:"poi",label:"POI Handling",weight:10,description:"Quality of POIs offered and accepted"},{id:"delivery",label:"Style & Delivery",weight:15,description:"Persuasion, clarity, structure, presence"}]},wsdc:{name:"World Schools",teams:2,speakersPerTeam:3,maxSpeakerPoints:100,minSpeakerPoints:60,rubricCategories:[{id:"content",label:"Content",weight:40,description:"Logic, argumentation, use of examples, case construction"},{id:"style",label:"Style",weight:40,description:"Persuasion, language, vocal variety, presence, eye contact"},{id:"strategy",label:"Strategy",weight:20,description:"Structure, time management, responsiveness, prioritization"}]},ipda:{name:"IPDA",teams:2,speakersPerTeam:1,maxSpeakerPoints:30,minSpeakerPoints:20,rubricCategories:[{id:"argumentation",label:"Argumentation",weight:30,description:"Quality of arguments, logical reasoning"},{id:"clash",label:"Clash & Refutation",weight:25,description:"Engagement with opponent arguments"},{id:"communication",label:"Communication",weight:25,description:"Clarity, accessibility, persuasion for lay judges"},{id:"organization",label:"Organization & Structure",weight:20,description:"Clear structure, signposting, time management"}]},apda:{name:"APDA",teams:2,speakersPerTeam:2,maxSpeakerPoints:30,minSpeakerPoints:20,rubricCategories:[{id:"case",label:"Case Quality",weight:25,description:"Case statement quality, interpretation, modeling"},{id:"argumentation",label:"Argumentation",weight:25,description:"Quality of arguments, logic, analysis"},{id:"refutation",label:"Refutation & Clash",weight:20,description:"Responses to opposition, engagement"},{id:"poi",label:"POI Performance",weight:15,description:"Quality of POIs given and received"},{id:"delivery",label:"Delivery & Style",weight:15,description:"Speaking skills, wit, rhetorical flourish"}]}},U$=[{range:"29.5-30",label:"Exceptional",description:"Tournament-winning performance"},{range:"29-29.4",label:"Excellent",description:"Should be in late elimination rounds"},{range:"28.5-28.9",label:"Very Good",description:"Should break to elimination rounds"},{range:"28-28.4",label:"Good",description:"Solid varsity performance"},{range:"27.5-27.9",label:"Above Average",description:"Competent but room for improvement"},{range:"27-27.4",label:"Average",description:"Meets basic expectations"},{range:"26-26.9",label:"Below Average",description:"Significant areas for improvement"},{range:"25-25.9",label:"Needs Work",description:"Major issues in multiple areas"},{range:"20-24.9",label:"Developmental",description:"Novice or serious concerns"}],z$=()=>`ballot_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,F$=({category:t,score:e,onChange:n,maxScore:a=10})=>{const r=e/a*100,o=c=>c>=90?"text-emerald-400":c>=80?"text-cyan-400":c>=70?"text-amber-400":c>=60?"text-orange-400":"text-red-400";return s.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-medium",children:t.label}),s.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:t.description})]}),s.jsxs("span",{className:"text-xs text-slate-500 bg-slate-700 px-2 py-0.5 rounded",children:["Weight: ",t.weight,"%"]})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[s.jsx("input",{type:"range",min:0,max:a,step:.5,value:e,onChange:c=>n(parseFloat(c.target.value)),className:"flex-1 h-2 bg-slate-600 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),s.jsx("div",{className:`text-2xl font-bold w-16 text-right ${o(r)}`,children:e.toFixed(1)})]}),s.jsxs("div",{className:"flex justify-between mt-1 text-xs text-slate-500",children:[s.jsx("span",{children:"0"}),s.jsx("span",{children:"Poor"}),s.jsx("span",{children:"Average"}),s.jsx("span",{children:"Good"}),s.jsx("span",{children:"Excellent"}),s.jsx("span",{children:a})]})]})},B$=({speaker:t,points:e,onChange:n,format:a,showGuide:r=!1})=>{const[o,c]=T.useState(r),{minSpeakerPoints:d,maxSpeakerPoints:m}=a,f=g=>g>=29.5?"text-emerald-400":g>=29?"text-cyan-400":g>=28.5?"text-blue-400":g>=28?"text-purple-400":g>=27.5?"text-amber-400":g>=27?"text-orange-400":"text-red-400";return s.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pl,{className:"w-4 h-4 text-slate-400"}),s.jsx("span",{className:"text-white font-medium",children:t.name||`Speaker ${t.position}`}),s.jsxs("span",{className:"text-xs text-slate-500",children:["(",t.side,")"]})]}),s.jsxs("button",{onClick:()=>c(!o),className:"text-xs text-cyan-400 hover:text-cyan-300 flex items-center gap-1",children:[s.jsx(hc,{className:"w-3 h-3"}),"Guide"]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("input",{type:"number",min:d,max:m,step:.1,value:e,onChange:g=>n(parseFloat(g.target.value)||d),className:`w-24 bg-slate-800 border border-slate-600 text-center text-2xl font-bold px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50 ${f(e)}`}),s.jsx("input",{type:"range",min:d,max:m,step:.1,value:e,onChange:g=>n(parseFloat(g.target.value)),className:"flex-1 h-2 bg-slate-600 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]}),s.jsx(at,{children:o&&s.jsx(V.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:s.jsx("div",{className:"mt-3 pt-3 border-t border-slate-700 grid grid-cols-3 gap-2 text-xs",children:U$.map(g=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium text-slate-300",children:g.range}),s.jsx("div",{className:"text-slate-500",children:g.label})]},g.range))})})})]})},$$=({team:t,isWinner:e,onToggleWinner:n,onUpdateSpeaker:a,onUpdateRubric:r,format:o})=>{const[c,d]=T.useState(!0),m=Object.values(t.rubricScores||{}).reduce((g,b)=>g+b,0),f=o.rubricCategories.length>0?m/o.rubricCategories.length:0;return s.jsxs("div",{className:`bg-slate-800/50 border rounded-xl overflow-hidden transition-all ${e?"border-emerald-500/50 ring-2 ring-emerald-500/20":"border-slate-700"}`,children:[s.jsxs("div",{className:`p-4 border-b ${e?"bg-emerald-500/10 border-emerald-500/30":"bg-slate-800/50 border-slate-700"}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${t.side==="Aff"||t.side==="Pro"||t.side==="Gov"?"bg-cyan-500/20 text-cyan-400":"bg-orange-500/20 text-orange-400"}`,children:s.jsx(vf,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("input",{type:"text",value:t.name,onChange:g=>a(t.id,"name",g.target.value),placeholder:"Team Name",className:"bg-transparent text-white font-semibold text-lg focus:outline-none"}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:`${t.side==="Aff"||t.side==="Pro"||t.side==="Gov"?"text-cyan-400":"text-orange-400"}`,children:t.side}),s.jsx("span",{className:"text-slate-500",children:""}),s.jsx("input",{type:"text",value:t.school||"",onChange:g=>a(t.id,"school",g.target.value),placeholder:"School",className:"bg-transparent text-slate-400 focus:outline-none"})]})]})]}),s.jsxs("button",{onClick:()=>n(t.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${e?"bg-emerald-500 text-white":"bg-slate-700 text-slate-400 hover:bg-slate-600 hover:text-white"}`,children:[s.jsx(Gt,{className:`w-4 h-4 ${e?"fill-current":""}`}),e?"Winner":"Mark Winner"]})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1 text-slate-400",children:[s.jsx(ln,{className:"w-4 h-4 text-amber-400"}),s.jsx("span",{children:"Avg Points:"}),s.jsx("span",{className:"text-white font-medium",children:(t.speakers.reduce((g,b)=>g+b.points,0)/t.speakers.length).toFixed(1)})]}),s.jsxs("div",{className:"flex items-center gap-1 text-slate-400",children:[s.jsx(Bt,{className:"w-4 h-4 text-cyan-400"}),s.jsx("span",{children:"Rubric:"}),s.jsxs("span",{className:"text-white font-medium",children:[f.toFixed(1),"/10"]})]})]})]}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("h4",{className:"text-sm text-slate-400 uppercase tracking-wide flex items-center gap-2",children:[s.jsx(Ws,{className:"w-4 h-4"}),"Speaker Points"]}),t.speakers.map((g,b)=>s.jsx(B$,{speaker:g,points:g.points,onChange:v=>a(t.id,`speaker_${b}_points`,v),format:o},g.id))]}),s.jsxs("div",{className:"p-4 border-t border-slate-700",children:[s.jsxs("button",{onClick:()=>d(!c),className:"flex items-center justify-between w-full text-sm text-slate-400 uppercase tracking-wide mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bt,{className:"w-4 h-4"}),"Rubric Scoring"]}),c?s.jsx(Ga,{className:"w-4 h-4"}):s.jsx(on,{className:"w-4 h-4"})]}),s.jsx(at,{children:c&&s.jsx(V.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"space-y-3",children:o.rubricCategories.map(g=>s.jsx(F$,{category:g,score:t.rubricScores?.[g.id]||5,onChange:b=>r(t.id,g.id,b)},g.id))})})]})]})},q$=({rfd:t,onChange:e})=>{const[n,a]=T.useState(t.length),r=o=>{const c=o.target.value;a(c.length),e(c)};return s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx($n,{className:"w-5 h-5 text-purple-400"}),"Reason for Decision (RFD)"]}),s.jsxs("span",{className:"text-xs text-slate-500",children:[n," characters"]})]}),s.jsx("textarea",{value:t,onChange:r,placeholder:`Explain your decision. What were the key voting issues? How did the teams compare on those issues? What feedback would help the debaters improve?

Consider addressing:
 The main arguments and how they were resolved
 Key moments that influenced your decision
 Specific feedback for each team
 What each side did well and areas for improvement`,rows:8,className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/50 resize-none"}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[s.jsx("span",{className:"text-xs text-slate-500",children:"Quick add:"}),["Better weighing on impacts","Clearer extensions in rebuttals","More responsive to opponent arguments","Stronger evidence comparison"].map(o=>s.jsxs("button",{onClick:()=>e(t+(t?`

`:"")+o),className:"text-xs px-2 py-1 bg-slate-700 text-slate-300 rounded hover:bg-slate-600 transition-colors",children:["+ ",o]},o))]})]})},H$=({signature:t,onChange:e})=>{const n=T.useRef(null),[a,r]=T.useState(!1),[o,c]=T.useState({x:0,y:0}),d=b=>{const w=n.current.getBoundingClientRect(),j=(b.clientX||b.touches?.[0]?.clientX)-w.left,I=(b.clientY||b.touches?.[0]?.clientY)-w.top;c({x:j,y:I}),r(!0)},m=b=>{if(!a)return;const v=n.current,w=v.getContext("2d"),j=v.getBoundingClientRect(),I=(b.clientX||b.touches?.[0]?.clientX)-j.left,D=(b.clientY||b.touches?.[0]?.clientY)-j.top;w.beginPath(),w.moveTo(o.x,o.y),w.lineTo(I,D),w.strokeStyle="#22d3ee",w.lineWidth=2,w.lineCap="round",w.stroke(),c({x:I,y:D})},f=()=>{if(a){r(!1);const b=n.current;e({...t,image:b.toDataURL()})}},g=()=>{const b=n.current;b.getContext("2d").clearRect(0,0,b.width,b.height),e({...t,image:null})};return s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2 mb-4",children:[s.jsx(zA,{className:"w-5 h-5 text-cyan-400"}),"Judge Information & Signature"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Judge Name"}),s.jsx("input",{type:"text",value:t.name||"",onChange:b=>e({...t,name:b.target.value}),placeholder:"Enter your name",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Affiliation"}),s.jsx("input",{type:"text",value:t.affiliation||"",onChange:b=>e({...t,affiliation:b.target.value}),placeholder:"School/Organization",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"text-sm text-slate-400",children:"Signature (draw below)"}),s.jsxs("button",{onClick:g,className:"text-xs text-slate-400 hover:text-white flex items-center gap-1",children:[s.jsx(Ai,{className:"w-3 h-3"}),"Clear"]})]}),s.jsxs("div",{className:"relative bg-slate-900 border border-slate-600 rounded-lg overflow-hidden",children:[s.jsx("canvas",{ref:n,width:400,height:100,onMouseDown:d,onMouseMove:m,onMouseUp:f,onMouseLeave:f,onTouchStart:d,onTouchMove:m,onTouchEnd:f,className:"w-full cursor-crosshair touch-none",style:{height:"100px"}}),!t.image&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:s.jsx("span",{className:"text-slate-600 text-sm",children:"Sign here"})})]})]})]})},G$=()=>{const[t,e]=T.useState("pf"),[n,a]=T.useState({tournament:"",round:"",room:"",date:new Date().toISOString().split("T")[0],motion:""}),[r,o]=T.useState([{id:"team1",name:"",school:"",side:"Pro",speakers:[{id:"sp1",name:"",position:1,side:"Pro",points:28},{id:"sp2",name:"",position:2,side:"Pro",points:28}],rubricScores:{}},{id:"team2",name:"",school:"",side:"Con",speakers:[{id:"sp3",name:"",position:1,side:"Con",points:28},{id:"sp4",name:"",position:2,side:"Con",points:28}],rubricScores:{}}]),[c,d]=T.useState(null),[m,f]=T.useState(""),[g,b]=T.useState({name:"",affiliation:"",image:null}),[v,w]=T.useState([]),[j,I]=T.useState(!1),D=Lg[t],L=C=>{e(C);const M=Lg[C],z={pf:["Pro","Con"],ld:["Aff","Neg"],policy:["Aff","Neg"],congress:["Speaker"],parli:["Gov","Opp"]},E=[];for(let J=0;J<M.teams;J++){const K=[];for(let H=0;H<M.speakersPerTeam;H++)K.push({id:`sp_${J}_${H}`,name:"",position:H+1,side:z[C][J],points:(M.maxSpeakerPoints+M.minSpeakerPoints)/2});E.push({id:`team${J+1}`,name:"",school:"",side:z[C][J],speakers:K,rubricScores:{}})}o(E),d(null)},R=(C,M,z)=>{o(E=>E.map(J=>{if(J.id!==C)return J;if(M==="name"||M==="school")return{...J,[M]:z};if(M.startsWith("speaker_")){const[,K,H]=M.split("_"),Z=[...J.speakers];return Z[parseInt(K)]={...Z[parseInt(K)],[H]:z},{...J,speakers:Z}}return J}))},$=(C,M,z)=>{o(E=>E.map(J=>J.id!==C?J:{...J,rubricScores:{...J.rubricScores,[M]:z}}))},q=C=>{d(c===C?null:C)},X=C=>{let M=0,z=0;return D.rubricCategories.forEach(E=>{const J=C.rubricScores?.[E.id]||5;M+=J*E.weight,z+=E.weight}),z>0?M/z:0},G=()=>{r.find(z=>z.id===c),r.find(z=>z.id!==c);const C=`
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Debate Ballot - ${n.tournament||"Tournament"}</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Georgia', serif; max-width: 800px; margin: 0 auto; padding: 20px; color: #1a1a2e; }
    .header { text-align: center; border-bottom: 3px double #333; padding-bottom: 15px; margin-bottom: 20px; }
    .header h1 { font-size: 24px; margin-bottom: 5px; }
    .header .format { color: #666; font-style: italic; }
    .meta { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 20px; padding: 10px; background: #f5f5f5; border-radius: 5px; }
    .meta-item { text-align: center; }
    .meta-item label { display: block; font-size: 10px; text-transform: uppercase; color: #666; }
    .meta-item span { font-weight: bold; }
    .motion { background: #e8e8e8; padding: 15px; border-radius: 5px; margin-bottom: 20px; font-style: italic; }
    .teams { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
    .team { border: 2px solid #ddd; border-radius: 8px; padding: 15px; }
    .team.winner { border-color: #22c55e; background: #f0fdf4; }
    .team-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; padding-bottom: 10px; border-bottom: 1px solid #ddd; }
    .team-name { font-size: 18px; font-weight: bold; }
    .team-side { color: #666; }
    .winner-badge { background: #22c55e; color: white; padding: 3px 10px; border-radius: 20px; font-size: 12px; }
    .speakers { margin-bottom: 15px; }
    .speaker { display: flex; justify-content: space-between; padding: 5px 0; border-bottom: 1px dotted #ddd; }
    .speaker-points { font-weight: bold; font-size: 18px; }
    .rubric { margin-top: 10px; }
    .rubric-item { display: flex; justify-content: space-between; padding: 3px 0; font-size: 12px; }
    .rubric-score { font-weight: bold; }
    .rfd { margin-bottom: 20px; padding: 15px; background: #fafafa; border-left: 4px solid #8b5cf6; }
    .rfd h3 { margin-bottom: 10px; color: #8b5cf6; }
    .rfd p { line-height: 1.6; white-space: pre-wrap; }
    .signature { display: flex; justify-content: space-between; align-items: flex-end; margin-top: 30px; padding-top: 20px; border-top: 2px solid #333; }
    .sig-box { text-align: center; }
    .sig-line { width: 200px; border-bottom: 1px solid #333; margin-bottom: 5px; min-height: 50px; }
    .sig-line img { max-height: 50px; }
    .sig-label { font-size: 12px; color: #666; }
    @media print { 
      body { padding: 10px; }
      .no-print { display: none; }
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>${n.tournament||"Debate Tournament"}</h1>
    <div class="format">${D.name} Ballot</div>
  </div>

  <div class="meta">
    <div class="meta-item">
      <label>Round</label>
      <span>${n.round||"-"}</span>
    </div>
    <div class="meta-item">
      <label>Room</label>
      <span>${n.room||"-"}</span>
    </div>
    <div class="meta-item">
      <label>Date</label>
      <span>${n.date||"-"}</span>
    </div>
    <div class="meta-item">
      <label>Format</label>
      <span>${D.name}</span>
    </div>
  </div>

  ${n.motion?`<div class="motion"><strong>Motion:</strong> ${n.motion}</div>`:""}

  <div class="teams">
    ${r.map(z=>`
      <div class="team ${z.id===c?"winner":""}">
        <div class="team-header">
          <div>
            <div class="team-name">${z.name||"Team"}</div>
            <div class="team-side">${z.side}  ${z.school||"School"}</div>
          </div>
          ${z.id===c?'<span class="winner-badge">WINNER</span>':""}
        </div>
        <div class="speakers">
          <strong>Speaker Points:</strong>
          ${z.speakers.map(E=>`
            <div class="speaker">
              <span>${E.name||`Speaker ${E.position}`}</span>
              <span class="speaker-points">${E.points.toFixed(1)}</span>
            </div>
          `).join("")}
        </div>
        <div class="rubric">
          <strong>Rubric Scores:</strong>
          ${D.rubricCategories.map(E=>`
            <div class="rubric-item">
              <span>${E.label}</span>
              <span class="rubric-score">${(z.rubricScores?.[E.id]||5).toFixed(1)}/10</span>
            </div>
          `).join("")}
        </div>
      </div>
    `).join("")}
  </div>

  <div class="rfd">
    <h3>Reason for Decision</h3>
    <p>${m||"No RFD provided."}</p>
  </div>

  <div class="signature">
    <div class="sig-box">
      <div class="sig-line">
        ${g.image?`<img src="${g.image}" alt="Signature" />`:""}
      </div>
      <div class="sig-label">Judge Signature</div>
    </div>
    <div class="sig-box">
      <div class="sig-line" style="display: flex; align-items: flex-end; justify-content: center; padding-bottom: 5px;">
        ${g.name||""}
      </div>
      <div class="sig-label">Print Name</div>
    </div>
    <div class="sig-box">
      <div class="sig-line" style="display: flex; align-items: flex-end; justify-content: center; padding-bottom: 5px;">
        ${g.affiliation||""}
      </div>
      <div class="sig-label">Affiliation</div>
    </div>
  </div>
</body>
</html>
    `,M=window.open("","_blank");M.document.write(C),M.document.close(),M.print()},k=()=>{const C={id:z$(),format:t,roundInfo:n,teams:r,winnerId:c,rfd:m,signature:g,createdAt:new Date().toISOString()};w(M=>[C,...M])},A=()=>{confirm("Are you sure you want to reset the ballot? All data will be lost.")&&(L(t),a({tournament:"",round:"",room:"",date:new Date().toISOString().split("T")[0],motion:""}),f(""),b({name:"",affiliation:"",image:null}))},O=c&&g.name&&m.length>0;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl",children:s.jsx(bs,{className:"w-6 h-6 text-white"})}),"Judge Ballot Generator"]}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Create standardized ballots with rubric scoring"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[s.jsx(Ai,{className:"w-4 h-4"}),"Reset"]}),s.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[s.jsx(yf,{className:"w-4 h-4"}),"Save"]}),s.jsxs("button",{onClick:G,disabled:!O,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${O?"bg-amber-600 hover:bg-amber-500 text-white":"bg-slate-700 text-slate-500 cursor-not-allowed"}`,children:[s.jsx(dc,{className:"w-4 h-4"}),"Export PDF"]})]})]}),s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Debate Format"}),s.jsx("select",{value:t,onChange:C=>L(C.target.value),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/50",children:Object.entries(Lg).map(([C,M])=>s.jsx("option",{value:C,children:M.name},C))})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Tournament"}),s.jsx("input",{type:"text",value:n.tournament,onChange:C=>a(M=>({...M,tournament:C.target.value})),placeholder:"Tournament name",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Round"}),s.jsx("input",{type:"text",value:n.round,onChange:C=>a(M=>({...M,round:C.target.value})),placeholder:"Round 1",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Room"}),s.jsx("input",{type:"text",value:n.room,onChange:C=>a(M=>({...M,room:C.target.value})),placeholder:"Room 101",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/50"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Date"}),s.jsx("input",{type:"date",value:n.date,onChange:C=>a(M=>({...M,date:C.target.value})),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/50"})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Motion/Resolution (Optional)"}),s.jsx("input",{type:"text",value:n.motion,onChange:C=>a(M=>({...M,motion:C.target.value})),placeholder:"Resolved: ...",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/50"})]})]})]}),!O&&s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-amber-500/10 border border-amber-500/30 rounded-xl",children:[s.jsx(qn,{className:"w-5 h-5 text-amber-400"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-amber-400 font-medium",children:"Ballot incomplete:"}),s.jsxs("span",{className:"text-slate-400 ml-2",children:[!c&&"Select a winner  ",!g.name&&"Enter judge name  ",m.length===0&&"Write an RFD"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:r.map(C=>s.jsx($$,{team:C,isWinner:c===C.id,onToggleWinner:q,onUpdateSpeaker:R,onUpdateRubric:$,format:D},C.id))}),s.jsx(q$,{rfd:m,onChange:f}),s.jsx(H$,{signature:g,onChange:b}),s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2 mb-4",children:[s.jsx(Xo,{className:"w-5 h-5 text-amber-400"}),"Score Summary"]}),s.jsx("div",{className:"grid grid-cols-2 gap-6",children:r.map(C=>{const M=C.speakers.reduce((J,K)=>J+K.points,0),z=M/C.speakers.length,E=X(C);return s.jsxs("div",{className:`p-4 rounded-lg border ${c===C.id?"bg-emerald-500/10 border-emerald-500/30":"bg-slate-700/30 border-slate-600"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-white",children:C.name||"Team"}),s.jsx("div",{className:"text-sm text-slate-400",children:C.side})]}),c===C.id&&s.jsx(Gt,{className:"w-6 h-6 text-emerald-400 fill-current"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-amber-400",children:M.toFixed(1)}),s.jsx("div",{className:"text-xs text-slate-500",children:"Total Points"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:z.toFixed(1)}),s.jsx("div",{className:"text-xs text-slate-500",children:"Avg Points"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-purple-400",children:E.toFixed(1)}),s.jsx("div",{className:"text-xs text-slate-500",children:"Rubric Score"})]})]})]},C.id)})})]})]})},Q$={ld:{id:"ld",name:"Lincoln-Douglas",shortName:"LD",color:"blue",description:"Traditional value debate format",totalTime:38,speeches:[{name:"Affirmative Constructive",abbrev:"AC",time:360,side:"aff"},{name:"Cross-Examination",abbrev:"CX",time:180,side:"neg"},{name:"Negative Constructive",abbrev:"NC",time:420,side:"neg"},{name:"Cross-Examination",abbrev:"CX",time:180,side:"aff"},{name:"1st Affirmative Rebuttal",abbrev:"1AR",time:240,side:"aff"},{name:"Negative Rebuttal",abbrev:"NR",time:360,side:"neg"},{name:"2nd Affirmative Rebuttal",abbrev:"2AR",time:180,side:"aff"}],prepTime:{aff:240,neg:240}},pf:{id:"pf",name:"Public Forum",shortName:"PF",color:"green",description:"Team-based persuasive debate",totalTime:33,speeches:[{name:"First Speaker (Team A)",abbrev:"A1",time:240,side:"a"},{name:"First Speaker (Team B)",abbrev:"B1",time:240,side:"b"},{name:"Crossfire",abbrev:"CF1",time:180,side:"both"},{name:"Second Speaker (Team A)",abbrev:"A2",time:240,side:"a"},{name:"Second Speaker (Team B)",abbrev:"B2",time:240,side:"b"},{name:"Crossfire",abbrev:"CF2",time:180,side:"both"},{name:"Summary (Team A)",abbrev:"A3",time:180,side:"a"},{name:"Summary (Team B)",abbrev:"B3",time:180,side:"b"},{name:"Grand Crossfire",abbrev:"GCF",time:180,side:"both"},{name:"Final Focus (Team A)",abbrev:"A4",time:120,side:"a"},{name:"Final Focus (Team B)",abbrev:"B4",time:120,side:"b"}],prepTime:{a:120,b:120}},policy:{id:"policy",name:"Policy Debate",shortName:"Policy",color:"purple",description:"Evidence-intensive team debate",totalTime:72,speeches:[{name:"1st Affirmative Constructive",abbrev:"1AC",time:480,side:"aff"},{name:"Cross-Examination",abbrev:"CX",time:180,side:"neg"},{name:"1st Negative Constructive",abbrev:"1NC",time:480,side:"neg"},{name:"Cross-Examination",abbrev:"CX",time:180,side:"aff"},{name:"2nd Affirmative Constructive",abbrev:"2AC",time:480,side:"aff"},{name:"Cross-Examination",abbrev:"CX",time:180,side:"neg"},{name:"2nd Negative Constructive",abbrev:"2NC",time:480,side:"neg"},{name:"Cross-Examination",abbrev:"CX",time:180,side:"aff"},{name:"1st Negative Rebuttal",abbrev:"1NR",time:300,side:"neg"},{name:"1st Affirmative Rebuttal",abbrev:"1AR",time:300,side:"aff"},{name:"2nd Negative Rebuttal",abbrev:"2NR",time:300,side:"neg"},{name:"2nd Affirmative Rebuttal",abbrev:"2AR",time:300,side:"aff"}],prepTime:{aff:480,neg:480}},congress:{id:"congress",name:"Congressional Debate",shortName:"Congress",color:"amber",description:"Legislative simulation format",totalTime:"Variable",speeches:[{name:"Authorship/Sponsorship",abbrev:"Auth",time:180,side:"pro"},{name:"First Negation",abbrev:"1st Neg",time:180,side:"con"},{name:"Pro Speech",abbrev:"Pro",time:180,side:"pro"},{name:"Con Speech",abbrev:"Con",time:180,side:"con"},{name:"Questioning Period",abbrev:"QP",time:120,side:"both"}],prepTime:null},parli:{id:"parli",name:"Parliamentary Debate",shortName:"Parli",color:"red",description:"NPDA/APDA style debate",totalTime:47,speeches:[{name:"Prime Minister Constructive",abbrev:"PMC",time:420,side:"gov"},{name:"Leader of Opposition Constructive",abbrev:"LOC",time:480,side:"opp"},{name:"Member of Government",abbrev:"MG",time:480,side:"gov"},{name:"Member of Opposition",abbrev:"MO",time:480,side:"opp"},{name:"Leader of Opposition Rebuttal",abbrev:"LOR",time:240,side:"opp"},{name:"Prime Minister Rebuttal",abbrev:"PMR",time:300,side:"gov"}],prepTime:{gov:0,opp:0},notes:"15 minutes prep before round begins"},worldschools:{id:"worldschools",name:"World Schools",shortName:"WSDC",color:"cyan",description:"International team format",totalTime:57,speeches:[{name:"1st Proposition",abbrev:"1st Prop",time:480,side:"prop"},{name:"1st Opposition",abbrev:"1st Opp",time:480,side:"opp"},{name:"2nd Proposition",abbrev:"2nd Prop",time:480,side:"prop"},{name:"2nd Opposition",abbrev:"2nd Opp",time:480,side:"opp"},{name:"3rd Proposition",abbrev:"3rd Prop",time:480,side:"prop"},{name:"3rd Opposition",abbrev:"3rd Opp",time:480,side:"opp"},{name:"Opposition Reply",abbrev:"Opp Reply",time:240,side:"opp"},{name:"Proposition Reply",abbrev:"Prop Reply",time:240,side:"prop"}],prepTime:null,notes:"POIs allowed during speeches (1-7 min mark)"},bp:{id:"bp",name:"British Parliamentary",shortName:"BP",color:"indigo",description:"Four-team competitive format",totalTime:56,speeches:[{name:"Prime Minister",abbrev:"PM",time:420,side:"og"},{name:"Leader of Opposition",abbrev:"LO",time:420,side:"oo"},{name:"Deputy Prime Minister",abbrev:"DPM",time:420,side:"og"},{name:"Deputy Leader of Opposition",abbrev:"DLO",time:420,side:"oo"},{name:"Member of Government",abbrev:"MG",time:420,side:"cg"},{name:"Member of Opposition",abbrev:"MO",time:420,side:"co"},{name:"Government Whip",abbrev:"GW",time:420,side:"cg"},{name:"Opposition Whip",abbrev:"OW",time:420,side:"co"}],prepTime:null,notes:"15 min prep. POIs allowed (1-6 min). Teams: OG, OO, CG, CO"},ipda:{id:"ipda",name:"IPDA",shortName:"IPDA",color:"teal",description:"International Public Debate Association",totalTime:26,speeches:[{name:"Affirmative Constructive",abbrev:"AC",time:300,side:"aff"},{name:"Negative Constructive",abbrev:"NC",time:300,side:"neg"},{name:"Affirmative Rebuttal",abbrev:"AR",time:300,side:"aff"},{name:"Negative Rebuttal",abbrev:"NR",time:300,side:"neg"},{name:"Affirmative Closing",abbrev:"ACL",time:120,side:"aff"},{name:"Negative Closing",abbrev:"NCL",time:120,side:"neg"}],prepTime:{aff:0,neg:0},notes:"30 min prep before round. Topics drawn 30 min prior."},npda:{id:"npda",name:"NPDA",shortName:"NPDA",color:"rose",description:"National Parliamentary Debate Association",totalTime:47,speeches:[{name:"Prime Minister Constructive",abbrev:"PMC",time:420,side:"gov"},{name:"Leader of Opposition Constructive",abbrev:"LOC",time:480,side:"opp"},{name:"Member of Government",abbrev:"MG",time:480,side:"gov"},{name:"Member of Opposition",abbrev:"MO",time:480,side:"opp"},{name:"Leader of Opposition Rebuttal",abbrev:"LOR",time:240,side:"opp"},{name:"Prime Minister Rebuttal",abbrev:"PMR",time:300,side:"gov"}],prepTime:{gov:0,opp:0},notes:"15 min prep. POIs allowed (first & last min protected)."},nfa_ld:{id:"nfa_ld",name:"NFA Lincoln-Douglas",shortName:"NFA-LD",color:"violet",description:"National Forensic Association LD",totalTime:36,speeches:[{name:"Affirmative Constructive",abbrev:"AC",time:360,side:"aff"},{name:"Cross-Examination",abbrev:"CX",time:180,side:"neg"},{name:"Negative Constructive",abbrev:"NC",time:420,side:"neg"},{name:"Cross-Examination",abbrev:"CX",time:180,side:"aff"},{name:"Affirmative Rebuttal",abbrev:"AR",time:360,side:"aff"},{name:"Negative Rebuttal",abbrev:"NR",time:300,side:"neg"},{name:"Affirmative Closing",abbrev:"ACL",time:180,side:"aff"}],prepTime:{aff:240,neg:240}},apda:{id:"apda",name:"APDA",shortName:"APDA",color:"emerald",description:"American Parliamentary Debate Association",totalTime:40,speeches:[{name:"Prime Minister Constructive",abbrev:"PMC",time:420,side:"gov"},{name:"Leader of Opposition Constructive",abbrev:"LOC",time:480,side:"opp"},{name:"Member of Government",abbrev:"MG",time:480,side:"gov"},{name:"Member of Opposition",abbrev:"MO",time:480,side:"opp"},{name:"Leader of Opposition Rebuttal",abbrev:"LOR",time:240,side:"opp"},{name:"Prime Minister Rebuttal",abbrev:"PMR",time:300,side:"gov"}],prepTime:{gov:0,opp:0},notes:"15 min prep. Case statements common. POIs allowed."},big_questions:{id:"big_questions",name:"Big Questions",shortName:"BQ",color:"sky",description:"NSDA philosophical debate format",totalTime:32,speeches:[{name:"First Pro Constructive",abbrev:"1PC",time:300,side:"pro"},{name:"First Con Constructive",abbrev:"1CC",time:300,side:"con"},{name:"Crossfire",abbrev:"CF",time:180,side:"both"},{name:"Second Pro Constructive",abbrev:"2PC",time:300,side:"pro"},{name:"Second Con Constructive",abbrev:"2CC",time:300,side:"con"},{name:"Crossfire",abbrev:"CF2",time:180,side:"both"},{name:"Pro Summary",abbrev:"PS",time:180,side:"pro"},{name:"Con Summary",abbrev:"CS",time:180,side:"con"},{name:"Grand Crossfire",abbrev:"GCF",time:180,side:"both"},{name:"Pro Final Focus",abbrev:"PFF",time:120,side:"pro"},{name:"Con Final Focus",abbrev:"CFF",time:120,side:"con"}],prepTime:{pro:120,con:120}}},Vj=t=>{const e=Math.floor(t/60),n=t%60;return`${e}:${n.toString().padStart(2,"0")}`},dy=t=>{const e=Math.floor(t/60);return e===1?"1 min":`${e} mins`},hy=t=>{const e={blue:{bg:"bg-blue-500/20",border:"border-blue-500/50",text:"text-blue-400",badge:"bg-blue-500"},green:{bg:"bg-green-500/20",border:"border-green-500/50",text:"text-green-400",badge:"bg-green-500"},purple:{bg:"bg-purple-500/20",border:"border-purple-500/50",text:"text-purple-400",badge:"bg-purple-500"},amber:{bg:"bg-amber-500/20",border:"border-amber-500/50",text:"text-amber-400",badge:"bg-amber-500"},red:{bg:"bg-red-500/20",border:"border-red-500/50",text:"text-red-400",badge:"bg-red-500"},cyan:{bg:"bg-cyan-500/20",border:"border-cyan-500/50",text:"text-cyan-400",badge:"bg-cyan-500"},indigo:{bg:"bg-indigo-500/20",border:"border-indigo-500/50",text:"text-indigo-400",badge:"bg-indigo-500"},teal:{bg:"bg-teal-500/20",border:"border-teal-500/50",text:"text-teal-400",badge:"bg-teal-500"},rose:{bg:"bg-rose-500/20",border:"border-rose-500/50",text:"text-rose-400",badge:"bg-rose-500"},violet:{bg:"bg-violet-500/20",border:"border-violet-500/50",text:"text-violet-400",badge:"bg-violet-500"},emerald:{bg:"bg-emerald-500/20",border:"border-emerald-500/50",text:"text-emerald-400",badge:"bg-emerald-500"},sky:{bg:"bg-sky-500/20",border:"border-sky-500/50",text:"text-sky-400",badge:"bg-sky-500"}};return e[t]||e.blue},Y$=()=>{const[t,e]=T.useState(null),[n,a]=T.useState(()=>{const b=localStorage.getItem("debate-timer-favorites");return b?JSON.parse(b):["ld","pf"]}),[r,o]=T.useState(null),c=b=>{const v=n.includes(b)?n.filter(w=>w!==b):[...n,b];a(v),localStorage.setItem("debate-timer-favorites",JSON.stringify(v))},d=b=>{const v=JSON.stringify(b,null,2);navigator.clipboard.writeText(v),o(b.id),setTimeout(()=>o(null),2e3)},m=Object.values(Q$),f=m.filter(b=>n.includes(b.id)),g=m.filter(b=>!n.includes(b.id));return s.jsx("div",{className:"min-h-screen bg-[#0a0a0f] p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-orange-500/20 to-red-500/20 rounded-lg",children:s.jsx(Nf,{className:"w-6 h-6 text-orange-400"})}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Timer Presets"})]}),s.jsx("p",{className:"text-slate-400",children:"Pre-configured timing structures for common debate formats"})]}),f.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(ln,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Favorites"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(b=>s.jsx(Uj,{preset:b,isSelected:t?.id===b.id,isFavorite:!0,onSelect:()=>e(t?.id===b.id?null:b),onToggleFavorite:()=>c(b.id),onCopy:()=>d(b),copied:r===b.id},b.id))})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:f.length>0?"All Formats":"Debate Formats"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(b=>s.jsx(Uj,{preset:b,isSelected:t?.id===b.id,isFavorite:!1,onSelect:()=>e(t?.id===b.id?null:b),onToggleFavorite:()=>c(b.id),onCopy:()=>d(b),copied:r===b.id},b.id))})]}),s.jsx(at,{children:t&&s.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-6",children:s.jsx(K$,{preset:t})})}),s.jsxs("div",{className:"mt-8 bg-slate-800/30 border border-slate-700/50 rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Quick Reference"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-slate-400 border-b border-slate-700",children:[s.jsx("th",{className:"text-left py-2 px-3",children:"Format"}),s.jsx("th",{className:"text-center py-2 px-3",children:"Total Time"}),s.jsx("th",{className:"text-center py-2 px-3",children:"Speeches"}),s.jsx("th",{className:"text-center py-2 px-3",children:"Prep Time"})]})}),s.jsx("tbody",{children:m.map(b=>{const v=hy(b.color),w=b.prepTime?Object.values(b.prepTime).reduce((j,I)=>j+I,0):0;return s.jsxs("tr",{className:"border-b border-slate-700/50 hover:bg-slate-800/30",children:[s.jsx("td",{className:"py-3 px-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${v.badge}`}),s.jsx("span",{className:"text-white font-medium",children:b.shortName})]})}),s.jsx("td",{className:"text-center py-3 px-3 text-slate-300",children:typeof b.totalTime=="number"?`${b.totalTime} min`:b.totalTime}),s.jsx("td",{className:"text-center py-3 px-3 text-slate-300",children:b.speeches.length}),s.jsx("td",{className:"text-center py-3 px-3 text-slate-300",children:w>0?dy(w)+" per side":"N/A"})]},b.id)})})]})})]})]})})},Uj=({preset:t,isSelected:e,isFavorite:n,onSelect:a,onToggleFavorite:r,onCopy:o,copied:c})=>{const d=hy(t.color),m=t.prepTime?Object.values(t.prepTime).reduce((f,g)=>f+g,0)/2:0;return s.jsxs(V.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`relative p-4 rounded-xl border cursor-pointer transition-all ${e?`${d.bg} ${d.border}`:"bg-slate-800/50 border-slate-700/50 hover:border-slate-600"}`,onClick:a,children:[s.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1",children:[s.jsx("button",{onClick:f=>{f.stopPropagation(),o()},className:"p-1.5 rounded-lg hover:bg-slate-700/50 text-slate-400 hover:text-white transition-colors",title:"Copy configuration",children:c?s.jsx(Rn,{className:"w-4 h-4 text-green-400"}):s.jsx(Js,{className:"w-4 h-4"})}),s.jsx("button",{onClick:f=>{f.stopPropagation(),r()},className:"p-1.5 rounded-lg hover:bg-slate-700/50 transition-colors",title:n?"Remove from favorites":"Add to favorites",children:n?s.jsx(ln,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}):s.jsx($g,{className:"w-4 h-4 text-slate-400 hover:text-yellow-400"})})]}),s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${d.bg}`,children:s.jsx(bs,{className:`w-5 h-5 ${d.text}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-white font-semibold",children:t.name}),s.jsx("p",{className:"text-slate-400 text-sm truncate",children:t.description})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1.5 text-slate-300",children:[s.jsx(Zt,{className:"w-4 h-4 text-slate-500"}),s.jsx("span",{children:typeof t.totalTime=="number"?`${t.totalTime} min`:t.totalTime})]}),s.jsxs("div",{className:"flex items-center gap-1.5 text-slate-300",children:[s.jsx(Lt,{className:"w-4 h-4 text-slate-500"}),s.jsxs("span",{children:[t.speeches.length," speeches"]})]}),m>0&&s.jsxs("div",{className:"flex items-center gap-1.5 text-slate-300",children:[s.jsx(Nf,{className:"w-4 h-4 text-slate-500"}),s.jsxs("span",{children:[dy(m)," prep"]})]})]}),s.jsx("div",{className:`absolute bottom-3 right-3 transition-transform ${e?"rotate-90":""}`,children:s.jsx(on,{className:"w-4 h-4 text-slate-500"})})]})},K$=({preset:t})=>{const e=hy(t.color),n=r=>({aff:"Affirmative",neg:"Negative",a:"Team A",b:"Team B",pro:"Pro",con:"Con",gov:"Government",opp:"Opposition",prop:"Proposition",both:"Both"})[r]||r,a=r=>({aff:"text-blue-400",neg:"text-red-400",a:"text-blue-400",b:"text-red-400",pro:"text-green-400",con:"text-red-400",gov:"text-blue-400",opp:"text-red-400",prop:"text-blue-400",both:"text-purple-400"})[r]||"text-slate-400";return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-3 rounded-xl ${e.bg}`,children:s.jsx(bs,{className:`w-6 h-6 ${e.text}`})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:t.name}),s.jsx("p",{className:"text-slate-400",children:t.description})]})]}),s.jsx("div",{className:`px-3 py-1.5 rounded-lg ${e.bg} ${e.text} font-medium`,children:typeof t.totalTime=="number"?`${t.totalTime} minutes total`:t.totalTime})]}),t.prepTime&&Object.values(t.prepTime).some(r=>r>0)&&s.jsxs("div",{className:"mb-6 p-4 bg-slate-900/50 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-3",children:"Prep Time"}),s.jsx("div",{className:"flex flex-wrap gap-4",children:Object.entries(t.prepTime).map(([r,o])=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:a(r),children:[n(r),":"]}),s.jsx("span",{className:"text-white font-mono",children:Vj(o)})]},r))})]}),t.notes&&s.jsx("div",{className:"mb-6 p-4 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:s.jsx("p",{className:"text-amber-300 text-sm",children:t.notes})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-3",children:"Speech Order"}),s.jsx("div",{className:"space-y-2",children:t.speeches.map((r,o)=>s.jsxs(V.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:o*.05},className:"flex items-center gap-4 p-3 bg-slate-900/50 rounded-lg",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 flex items-center justify-center text-slate-400 text-sm font-medium",children:o+1}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white font-medium",children:r.name}),s.jsx("span",{className:"px-2 py-0.5 bg-slate-800 rounded text-xs text-slate-400 font-mono",children:r.abbrev})]}),s.jsx("span",{className:`text-sm ${a(r.side)}`,children:n(r.side)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-white font-mono text-lg",children:Vj(r.time)}),s.jsx("div",{className:"text-slate-500 text-xs",children:dy(r.time)})]})]},o))})]})]})},W$=()=>{const[t,e]=T.useState([]),[n,a]=T.useState(null),[r,o]=T.useState(""),[c,d]=T.useState(null);T.useEffect(()=>{const j=localStorage.getItem("debate-notes");if(j){const I=JSON.parse(j);e(I),I.length>0&&!n&&a(I[0].id)}},[]),T.useEffect(()=>{t.length>0&&localStorage.setItem("debate-notes",JSON.stringify(t))},[t]);const m=t.find(j=>j.id===n),f=()=>{const j={id:Date.now().toString(),title:"Untitled Note",content:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};e([j,...t]),a(j.id)},g=(j,I)=>{e(t.map(D=>D.id===n?{...D,[j]:I,updatedAt:new Date().toISOString()}:D)),d("saving"),setTimeout(()=>d("saved"),500),setTimeout(()=>d(null),2e3)},b=j=>{const I=t.filter(D=>D.id!==j);e(I),localStorage.setItem("debate-notes",JSON.stringify(I)),n===j&&a(I.length>0?I[0].id:null)},v=t.filter(j=>j.title.toLowerCase().includes(r.toLowerCase())||j.content.toLowerCase().includes(r.toLowerCase())),w=j=>{const I=new Date(j),L=new Date-I,R=Math.floor(L/6e4),$=Math.floor(L/36e5),q=Math.floor(L/864e5);return R<1?"Just now":R<60?`${R}m ago`:$<24?`${$}h ago`:q<7?`${q}d ago`:I.toLocaleDateString()};return s.jsx("div",{className:"min-h-screen bg-[#0a0a0f] p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-emerald-500/20 to-teal-500/20 rounded-lg",children:s.jsx(_n,{className:"w-6 h-6 text-emerald-400"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Notes Panel"}),s.jsx("p",{className:"text-slate-400 text-sm",children:"Save debate notes and key points"})]})]}),s.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg transition-colors",children:[s.jsx(Ct,{className:"w-4 h-4"}),"New Note"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1 bg-slate-800/50 border border-slate-700/50 rounded-xl p-4",children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx(ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),s.jsx("input",{type:"text",placeholder:"Search notes...",value:r,onChange:j=>o(j.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50"})]}),s.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:v.length===0?s.jsx("div",{className:"text-center py-8 text-slate-500",children:t.length===0?s.jsxs(s.Fragment,{children:[s.jsx(_n,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No notes yet"}),s.jsx("p",{className:"text-sm",children:'Click "New Note" to get started'})]}):s.jsx("p",{children:"No matching notes"})}):v.map(j=>s.jsx(V.div,{whileHover:{scale:1.01},onClick:()=>a(j.id),className:`p-3 rounded-lg cursor-pointer transition-all ${n===j.id?"bg-emerald-500/20 border border-emerald-500/50":"bg-slate-900/50 border border-transparent hover:border-slate-700"}`,children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-white font-medium truncate",children:j.title||"Untitled"}),s.jsx("p",{className:"text-slate-400 text-sm truncate",children:j.content.slice(0,50)||"No content"}),s.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-slate-500",children:[s.jsx(Zt,{className:"w-3 h-3"}),w(j.updatedAt)]})]}),s.jsx("button",{onClick:I=>{I.stopPropagation(),b(j.id)},className:"p-1 text-slate-500 hover:text-red-400 transition-colors",children:s.jsx(Gn,{className:"w-4 h-4"})})]})},j.id))}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700 text-center text-slate-500 text-sm",children:[t.length," note",t.length!==1?"s":""," saved"]})]}),s.jsx("div",{className:"lg:col-span-2 bg-slate-800/50 border border-slate-700/50 rounded-xl p-4",children:m?s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("input",{type:"text",value:m.title,onChange:j=>g("title",j.target.value),placeholder:"Note title...",className:"flex-1 text-xl font-semibold bg-transparent text-white placeholder-slate-500 focus:outline-none"}),c&&s.jsx(V.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},className:"flex items-center gap-1 text-sm",children:c==="saving"?s.jsx("span",{className:"text-slate-400",children:"Saving..."}):s.jsxs(s.Fragment,{children:[s.jsx(Rn,{className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"text-emerald-400",children:"Saved"})]})})]}),s.jsx("textarea",{value:m.content,onChange:j=>g("content",j.target.value),placeholder:`Write your debate notes here...

 Key arguments
 Evidence points
 Rebuttals
 Cross-examination questions
 Strategy notes`,className:"flex-1 min-h-[500px] w-full bg-slate-900/50 border border-slate-700 rounded-lg p-4 text-white placeholder-slate-600 focus:outline-none focus:border-emerald-500/50 resize-none font-mono text-sm leading-relaxed"}),s.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm text-slate-500",children:[s.jsxs("span",{children:["Last updated: ",w(m.updatedAt)]}),s.jsxs("span",{children:[m.content.length," characters"]})]})]}):s.jsx("div",{className:"h-full min-h-[500px] flex items-center justify-center text-slate-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(_n,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-lg",children:"Select a note or create a new one"}),s.jsxs("button",{onClick:f,className:"mt-4 flex items-center gap-2 mx-auto px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[s.jsx(Ct,{className:"w-4 h-4"}),"Create Note"]})]})})})]})]})})},Vg=[{id:"pro",name:"Pro Arguments",color:"emerald"},{id:"con",name:"Con Arguments",color:"red"},{id:"evidence",name:"Evidence",color:"blue"},{id:"rebuttals",name:"Rebuttals",color:"purple"},{id:"notes",name:"General Notes",color:"slate"}],Ex=t=>{const e={emerald:{bg:"bg-emerald-500/20",border:"border-emerald-500/50",text:"text-emerald-400",badge:"bg-emerald-500"},red:{bg:"bg-red-500/20",border:"border-red-500/50",text:"text-red-400",badge:"bg-red-500"},blue:{bg:"bg-blue-500/20",border:"border-blue-500/50",text:"text-blue-400",badge:"bg-blue-500"},purple:{bg:"bg-purple-500/20",border:"border-purple-500/50",text:"text-purple-400",badge:"bg-purple-500"},slate:{bg:"bg-slate-500/20",border:"border-slate-500/50",text:"text-slate-400",badge:"bg-slate-500"}};return e[t]||e.slate},X$=()=>{const[t,e]=T.useState([]),[n,a]=T.useState("pro"),[r,o]=T.useState(null),[c,d]=T.useState(""),[m,f]=T.useState(!1);T.useEffect(()=>{const R=localStorage.getItem("debate-cards");R&&e(JSON.parse(R))},[]),T.useEffect(()=>{localStorage.setItem("debate-cards",JSON.stringify(t))},[t]);const g=()=>{if(!c.trim())return;const R={id:Date.now().toString(),text:c.trim(),category:n,createdAt:new Date().toISOString()};e([...t,R]),d(""),f(!1)},b=(R,$)=>{e(t.map(q=>q.id===R?{...q,text:$}:q)),o(null)},v=R=>{e(t.filter($=>$.id!==R))},w=(R,$)=>{e(t.map(q=>q.id===R?{...q,category:$}:q))},j=R=>t.filter($=>$.category===R),I=j(n),D=Vg.find(R=>R.id===n),L=Ex(D?.color||"slate");return s.jsx("div",{className:"min-h-screen bg-[#0a0a0f] p-6",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-violet-500/20 to-purple-500/20 rounded-lg",children:s.jsx(Kj,{className:"w-6 h-6 text-violet-400"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Card Organizer"}),s.jsx("p",{className:"text-slate-400 text-sm",children:"Organize debate arguments by category"})]})]}),s.jsxs("div",{className:"text-slate-400 text-sm",children:[t.length," card",t.length!==1?"s":""," total"]})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:Vg.map(R=>{const $=Ex(R.color),q=j(R.id).length;return s.jsxs("button",{onClick:()=>a(R.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${n===R.id?`${$.bg} ${$.border} border ${$.text}`:"bg-slate-800/50 border border-slate-700/50 text-slate-400 hover:text-white hover:border-slate-600"}`,children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${$.badge}`}),R.name,q>0&&s.jsx("span",{className:"px-1.5 py-0.5 bg-slate-900/50 rounded text-xs",children:q})]},R.id)})}),s.jsxs("div",{className:`bg-slate-800/50 border ${L.border} rounded-xl p-4 min-h-[500px]`,children:[m?s.jsxs("div",{className:`p-4 ${L.bg} border ${L.border} rounded-lg mb-4`,children:[s.jsx("textarea",{value:c,onChange:R=>d(R.target.value),placeholder:"Enter argument, evidence, or note...",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg p-3 text-white placeholder-slate-500 focus:outline-none focus:border-slate-600 resize-none",rows:3,autoFocus:!0}),s.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[s.jsx("button",{onClick:()=>{f(!1),d("")},className:"px-3 py-1.5 text-slate-400 hover:text-white transition-colors",children:"Cancel"}),s.jsx("button",{onClick:g,disabled:!c.trim(),className:`px-4 py-1.5 ${L.badge} text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed`,children:"Add Card"})]})]}):s.jsxs("button",{onClick:()=>f(!0),className:`w-full p-4 border-2 border-dashed ${L.border} rounded-lg ${L.text} hover:${L.bg} transition-colors flex items-center justify-center gap-2 mb-4`,children:[s.jsx(Ct,{className:"w-5 h-5"}),"Add Card to ",D?.name]}),I.length===0?s.jsxs("div",{className:"text-center py-16 text-slate-500",children:[s.jsx(gf,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsxs("p",{children:["No cards in ",D?.name]}),s.jsx("p",{className:"text-sm",children:"Add a card to get started"})]}):s.jsx(Ax,{axis:"y",values:I,onReorder:R=>{const $=t.filter(q=>q.category!==n);e([...$,...R])},className:"space-y-3",children:I.map(R=>s.jsx(kx,{value:R,className:"cursor-grab active:cursor-grabbing",children:s.jsx(J$,{card:R,colors:L,isEditing:r===R.id,onEdit:()=>o(R.id),onSave:$=>b(R.id,$),onCancel:()=>o(null),onDelete:()=>v(R.id),onMove:$=>w(R.id,$),categories:Vg,currentCategory:n})},R.id))})]})]})})},J$=({card:t,colors:e,isEditing:n,onEdit:a,onSave:r,onCancel:o,onDelete:c,onMove:d,categories:m,currentCategory:f})=>{const[g,b]=T.useState(t.text),[v,w]=T.useState(!1);return s.jsx(V.div,{layout:!0,className:"group p-4 bg-slate-900/50 border border-slate-700/50 rounded-lg hover:border-slate-600 transition-colors",children:n?s.jsxs("div",{children:[s.jsx("textarea",{value:g,onChange:j=>b(j.target.value),className:"w-full bg-slate-800 border border-slate-600 rounded-lg p-3 text-white focus:outline-none resize-none",rows:3,autoFocus:!0}),s.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[s.jsx("button",{onClick:o,className:"p-1.5 text-slate-400 hover:text-white",children:s.jsx(rn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>r(g),className:"p-1.5 text-emerald-400 hover:text-emerald-300",children:s.jsx(Rn,{className:"w-4 h-4"})})]})]}):s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"text-slate-600 mt-1",children:s.jsx(Vx,{className:"w-4 h-4"})}),s.jsx("p",{className:"flex-1 text-white whitespace-pre-wrap",children:t.text}),s.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>w(!v),className:"p-1.5 text-slate-500 hover:text-white transition-colors",title:"Move to category",children:s.jsx(wf,{className:"w-4 h-4"})}),v&&s.jsx("div",{className:"absolute right-0 top-8 bg-slate-800 border border-slate-700 rounded-lg shadow-xl z-10 py-1 min-w-[150px]",children:m.filter(j=>j.id!==f).map(j=>{const I=Ex(j.color);return s.jsxs("button",{onClick:()=>{d(j.id),w(!1)},className:"w-full px-3 py-2 text-left text-sm text-slate-300 hover:bg-slate-700 flex items-center gap-2",children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${I.badge}`}),j.name]},j.id)})})]}),s.jsx("button",{onClick:a,className:"p-1.5 text-slate-500 hover:text-white transition-colors",title:"Edit",children:s.jsx($l,{className:"w-4 h-4"})}),s.jsx("button",{onClick:c,className:"p-1.5 text-slate-500 hover:text-red-400 transition-colors",title:"Delete",children:s.jsx(Gn,{className:"w-4 h-4"})})]})]})})},zj={ld:{id:"ld",name:"Lincoln-Douglas",shortName:"LD",color:"blue",description:"One-on-one value debate focusing on philosophical arguments",participants:"1 vs 1",prepTime:"4 minutes per side",overview:"Lincoln-Douglas debate centers on a resolution that poses a question of values. Debaters argue which value or value criterion should be prioritized when making decisions about the resolution.",structure:[{speech:"Affirmative Constructive (AC)",time:"6 min",description:"Present the affirmative case with value, criterion, and contentions"},{speech:"Cross-Examination",time:"3 min",description:"Negative questions the affirmative"},{speech:"Negative Constructive (NC)",time:"7 min",description:"Present negative case and respond to affirmative"},{speech:"Cross-Examination",time:"3 min",description:"Affirmative questions the negative"},{speech:"1st Affirmative Rebuttal (1AR)",time:"4 min",description:"Respond to negative arguments, rebuild case"},{speech:"Negative Rebuttal (NR)",time:"6 min",description:"Extend arguments, crystallize the round"},{speech:"2nd Affirmative Rebuttal (2AR)",time:"3 min",description:"Final summary and voting issues"}],keyTerms:[{term:"Value",definition:"The core ideal being debated (e.g., Justice, Liberty, Security)"},{term:"Value Criterion",definition:"The standard used to measure the value"},{term:"Contention",definition:"Main arguments supporting your position"},{term:"Framework",definition:"The value and criterion together"}],tips:["Focus on the philosophical clash between values","Your criterion determines how to weigh arguments","Time management in 1AR is crucial","Crystallize voting issues in final speeches"]},pf:{id:"pf",name:"Public Forum",shortName:"PF",color:"green",description:"Team debate designed to be accessible and persuasive to lay audiences",participants:"2 vs 2",prepTime:"2 minutes per team",overview:"Public Forum debate focuses on current events and is designed to be understandable to the general public. Teams argue both sides of a resolution over the course of a tournament.",structure:[{speech:"First Speaker (Team A)",time:"4 min",description:"Present constructive case"},{speech:"First Speaker (Team B)",time:"4 min",description:"Present constructive case"},{speech:"Crossfire",time:"3 min",description:"Both first speakers question each other"},{speech:"Second Speaker (Team A)",time:"4 min",description:"Rebuttal speech"},{speech:"Second Speaker (Team B)",time:"4 min",description:"Rebuttal speech"},{speech:"Crossfire",time:"3 min",description:"Both second speakers question each other"},{speech:"Summary (Team A)",time:"3 min",description:"Narrow and weigh key arguments"},{speech:"Summary (Team B)",time:"3 min",description:"Narrow and weigh key arguments"},{speech:"Grand Crossfire",time:"3 min",description:"All four debaters participate"},{speech:"Final Focus (Team A)",time:"2 min",description:"Final persuasive appeal"},{speech:"Final Focus (Team B)",time:"2 min",description:"Final persuasive appeal"}],keyTerms:[{term:"Crossfire",definition:"Back-and-forth questioning between opponents"},{term:"Summary",definition:"Speech to narrow down and weigh arguments"},{term:"Final Focus",definition:"Last speech to crystallize why you win"},{term:"Weighing",definition:"Explaining why your arguments matter more"}],tips:["Be persuasive - judges may not be debate experts","Narrow to 1-2 key arguments in summary","Final Focus should mirror Summary arguments","Crossfire is for clarification, not new arguments"]},policy:{id:"policy",name:"Policy Debate",shortName:"Policy",color:"purple",description:"Evidence-intensive team debate on a year-long policy resolution",participants:"2 vs 2",prepTime:"8 minutes per team",overview:"Policy debate involves researching and debating a single resolution for an entire year. Teams propose and defend specific policy changes, with extensive use of evidence and argumentation.",structure:[{speech:"1st Affirmative Constructive (1AC)",time:"8 min",description:"Present the plan and advantages"},{speech:"Cross-Examination",time:"3 min",description:"2N questions 1A"},{speech:"1st Negative Constructive (1NC)",time:"8 min",description:"Present off-case and on-case arguments"},{speech:"Cross-Examination",time:"3 min",description:"1A questions 1N"},{speech:"2nd Affirmative Constructive (2AC)",time:"8 min",description:"Answer all negative arguments"},{speech:"Cross-Examination",time:"3 min",description:"1N questions 2A"},{speech:"2nd Negative Constructive (2NC)",time:"8 min",description:"Extend and develop arguments"},{speech:"Cross-Examination",time:"3 min",description:"2A questions 2N"},{speech:"1st Negative Rebuttal (1NR)",time:"5 min",description:"Cover arguments not in 2NC"},{speech:"1st Affirmative Rebuttal (1AR)",time:"5 min",description:"Answer 2NC and 1NR"},{speech:"2nd Negative Rebuttal (2NR)",time:"5 min",description:"Collapse to winning arguments"},{speech:"2nd Affirmative Rebuttal (2AR)",time:"5 min",description:"Final summary, why aff wins"}],keyTerms:[{term:"Plan",definition:"The specific policy action the affirmative proposes"},{term:"Disadvantage (DA)",definition:"Argument that the plan causes harm"},{term:"Counterplan (CP)",definition:"Alternative policy proposed by negative"},{term:"Kritik (K)",definition:"Argument challenging assumptions of the debate"},{term:"Topicality (T)",definition:"Argument that the plan doesn't fit the resolution"},{term:"Solvency",definition:"Whether the plan actually solves the problem"}],tips:["Evidence quality matters - cite your sources","Flow the debate carefully to track arguments","The negative block (2NC + 1NR) should coordinate","Collapse to your best arguments in rebuttals"]},congress:{id:"congress",name:"Congressional Debate",shortName:"Congress",color:"amber",description:"Legislative simulation with multiple participants debating bills",participants:"10-25 per chamber",prepTime:"None during session",overview:"Congressional Debate simulates the U.S. legislative process. Students draft legislation, then debate and vote on bills in a parliamentary procedure format.",structure:[{speech:"Authorship/Sponsorship",time:"3 min",description:"Introduce and advocate for the bill"},{speech:"First Negation",time:"3 min",description:"First speech against the bill"},{speech:"Following Speeches",time:"3 min",description:"Alternate pro and con speeches"},{speech:"Questioning",time:"2 min",description:"After each speech, others may question"}],keyTerms:[{term:"PO",definition:"Presiding Officer - runs the chamber"},{term:"Precedence",definition:"Speaking priority (new speakers go first)"},{term:"Motion",definition:"Formal request to take action"},{term:"Legislation",definition:"Bills and resolutions being debated"}],tips:["Speak early to establish precedence","Reference previous speakers to show engagement","Asking questions gives you speaking credit","Be respectful of parliamentary procedure"]},parli:{id:"parli",name:"Parliamentary Debate",shortName:"Parli/NPDA",color:"red",description:"Impromptu team debate with limited prep time",participants:"2 vs 2",prepTime:"15-20 minutes before round",overview:"Parliamentary debate features new topics each round with limited preparation time. No outside evidence is allowed - debaters rely on general knowledge and logical reasoning.",structure:[{speech:"Prime Minister Constructive (PMC)",time:"7 min",description:"Present the case for the government"},{speech:"Leader of Opposition Constructive (LOC)",time:"8 min",description:"Present opposition case and refute PMC"},{speech:"Member of Government (MG)",time:"8 min",description:"Rebuild and extend government case"},{speech:"Member of Opposition (MO)",time:"8 min",description:"Extend opposition and refute MG"},{speech:"Leader of Opposition Rebuttal (LOR)",time:"4 min",description:"Summarize opposition position"},{speech:"Prime Minister Rebuttal (PMR)",time:"5 min",description:"Final government summary"}],keyTerms:[{term:"POI",definition:"Point of Information - question during speech"},{term:"Government",definition:"Team supporting the resolution"},{term:"Opposition",definition:"Team opposing the resolution"},{term:"Protected Time",definition:"First/last minute when POIs aren't allowed"}],tips:["POIs allowed during speeches (not in protected time)","No outside evidence - use logic and examples","New arguments not allowed in rebuttals","Prepare multiple cases during prep time"]},bp:{id:"bp",name:"British Parliamentary",shortName:"BP",color:"indigo",description:"Four-team competitive format used in international circuit",participants:"4 teams of 2 (8 debaters)",prepTime:"15 minutes before round",overview:"British Parliamentary (BP) is the most widely used format internationally, featuring four teams: Opening Government (OG), Opening Opposition (OO), Closing Government (CG), and Closing Opposition (CO). Teams are ranked 1st to 4th based on their performance.",structure:[{speech:"Prime Minister (PM)",time:"7 min",description:"Define motion, present case for OG"},{speech:"Leader of Opposition (LO)",time:"7 min",description:"Refute PM, present OO case"},{speech:"Deputy Prime Minister (DPM)",time:"7 min",description:"Extend OG case, refute LO"},{speech:"Deputy Leader of Opposition (DLO)",time:"7 min",description:"Extend OO case, refute DPM"},{speech:"Member of Government (MG)",time:"7 min",description:"Provide extension for CG, engage top half"},{speech:"Member of Opposition (MO)",time:"7 min",description:"Provide extension for CO, engage top half"},{speech:"Government Whip (GW)",time:"7 min",description:"Summarize gov bench, defend CG extension"},{speech:"Opposition Whip (OW)",time:"7 min",description:"Summarize opp bench, defend CO extension"}],keyTerms:[{term:"Extension",definition:"New material that closing teams must provide to distinguish themselves"},{term:"Opening Half",definition:"OG and OO - first four speeches"},{term:"Closing Half",definition:"CG and CO - last four speeches"},{term:"Whip",definition:"Final speaker who summarizes and doesn't introduce new arguments"},{term:"POI",definition:"Point of Information - may be offered 1-6 minutes into speech"},{term:"Knifing",definition:"Attacking your own side (against rules)"}],tips:["Extensions must be distinct from opening half arguments","Accept 1-2 POIs per speech for engagement","Whip speeches should not introduce new arguments","CG/CO must engage with top half, not ignore them","Framing matters - define your half of the debate"]},worldschools:{id:"worldschools",name:"World Schools",shortName:"WSDC",color:"cyan",description:"International team format used at World Schools Debating Championships",participants:"3 vs 3",prepTime:"1 hour for prepared, 1 hour for impromptu motions",overview:"World Schools Debating Championship (WSDC) format combines prepared and impromptu motions. Teams of three alternate speeches, with reply speeches delivered by first or second speakers in reverse order.",structure:[{speech:"1st Proposition",time:"8 min",description:"Define motion, present proposition case"},{speech:"1st Opposition",time:"8 min",description:"Accept/challenge definition, present opposition case"},{speech:"2nd Proposition",time:"8 min",description:"Rebut 1st Opp, extend prop arguments"},{speech:"2nd Opposition",time:"8 min",description:"Rebut prop case, extend opp arguments"},{speech:"3rd Proposition",time:"8 min",description:"Rebut opposition, defend prop case"},{speech:"3rd Opposition",time:"8 min",description:"Rebut proposition, defend opp case"},{speech:"Opposition Reply",time:"4 min",description:"Biased summary from opp perspective (1st or 2nd speaker)"},{speech:"Proposition Reply",time:"4 min",description:"Biased summary from prop perspective (1st or 2nd speaker)"}],keyTerms:[{term:"POI",definition:"Point of Information - allowed between 1st and 7th minute"},{term:"Reply Speech",definition:"Biased summary delivered by 1st or 2nd speaker"},{term:"Prepared Motion",definition:"Topic announced weeks in advance"},{term:"Impromptu Motion",definition:"Topic announced 1 hour before round"},{term:"Model",definition:"Specific mechanism or example to illustrate your case"}],tips:["POIs should be strategic - accept 2-3 per speech","Reply speeches summarize, no new arguments","Third speakers must do significant rebuttal work","Use real-world examples to ground abstract arguments","Balance substantive and rebuttal material"]},ipda:{id:"ipda",name:"IPDA",shortName:"IPDA",color:"teal",description:"Accessible one-on-one debate with draw topics",participants:"1 vs 1",prepTime:"30 minutes before round (draw 5 topics)",overview:"International Public Debate Association (IPDA) format is designed to be accessible and communication-focused. Debaters draw five topics, strike down to one, and have 30 minutes to prepare without electronic resources.",structure:[{speech:"Affirmative Constructive",time:"5 min",description:"Present affirmative case with clear contentions"},{speech:"Negative Constructive",time:"5 min",description:"Present negative case and initial refutation"},{speech:"Affirmative Rebuttal",time:"5 min",description:"Defend case, attack negative arguments"},{speech:"Negative Rebuttal",time:"5 min",description:"Defend case, attack affirmative arguments"},{speech:"Affirmative Closing",time:"2 min",description:"Final summary and crystallization"},{speech:"Negative Closing",time:"2 min",description:"Final summary and crystallization"}],keyTerms:[{term:"Strike",definition:"Process of eliminating topics until one remains"},{term:"Topic Draw",definition:"Random selection of 5 potential topics"},{term:"Lay Judge",definition:"Non-technical judges common in IPDA"},{term:"Communication",definition:"Emphasis on clarity and persuasion over technical skill"}],tips:["Communicate clearly for lay judges","Pick topics you have general knowledge about","Structure is important - clear contentions win rounds","No evidence cards - logical reasoning is key","Closing speeches should crystallize, not introduce new args"]},apda:{id:"apda",name:"APDA",shortName:"APDA",color:"emerald",description:"American collegiate parliamentary format with case statements",participants:"2 vs 2",prepTime:"15 minutes, case statements allowed",overview:"American Parliamentary Debate Association (APDA) is unique in allowing government teams to prepare case statements in advance. Topics are broad, and government sets the specific interpretation with their case.",structure:[{speech:"Prime Minister Constructive (PMC)",time:"7 min",description:"Present case statement and government arguments"},{speech:"Leader of Opposition Constructive (LOC)",time:"8 min",description:"Refute government, present opposition case"},{speech:"Member of Government (MG)",time:"8 min",description:"Rebuild and extend government case"},{speech:"Member of Opposition (MO)",time:"8 min",description:"Extend opposition, attack government"},{speech:"Leader of Opposition Rebuttal (LOR)",time:"4 min",description:"Summarize opposition winning arguments"},{speech:"Prime Minister Rebuttal (PMR)",time:"5 min",description:"Final government summary and appeal"}],keyTerms:[{term:"Case Statement",definition:"Pre-prepared specific interpretation of the round topic"},{term:"Opp Choice",definition:"Option for opposition to choose case/side"},{term:"Tight Call",definition:"Case that unfairly advantages government"},{term:"Time-Space",definition:"When and where the case is set"},{term:"POI",definition:"Point of Information - questions during speeches"}],tips:["Government should have multiple case statements prepared","Opposition can call tight call if case is unfair","Case creativity is valued but fairness matters","POIs are expected - take and give them generously","No new arguments in rebuttals"]},bigquestions:{id:"bigquestions",name:"Big Questions",shortName:"BQ",color:"sky",description:"Philosophical team debate on enduring questions",participants:"2 vs 2",prepTime:"2 minutes per team",overview:"Big Questions debate addresses philosophical and ethical questions that have been debated throughout human history. The format is similar to Public Forum but focuses on deeper, more abstract questions rather than current events.",structure:[{speech:"First Pro Constructive",time:"5 min",description:"Present pro case with philosophical grounding"},{speech:"First Con Constructive",time:"5 min",description:"Present con case with philosophical grounding"},{speech:"Crossfire",time:"3 min",description:"First speakers question each other"},{speech:"Second Pro Constructive",time:"5 min",description:"Extend pro arguments, begin refutation"},{speech:"Second Con Constructive",time:"5 min",description:"Extend con arguments, begin refutation"},{speech:"Crossfire",time:"3 min",description:"Second speakers question each other"},{speech:"Pro Summary",time:"3 min",description:"Narrow to key arguments and weigh"},{speech:"Con Summary",time:"3 min",description:"Narrow to key arguments and weigh"},{speech:"Grand Crossfire",time:"3 min",description:"All four debaters participate"},{speech:"Pro Final Focus",time:"2 min",description:"Final crystallization for pro"},{speech:"Con Final Focus",time:"2 min",description:"Final crystallization for con"}],keyTerms:[{term:"Resolution",definition:"Year-long philosophical question being debated"},{term:"Framework",definition:"Philosophical lens through which to evaluate arguments"},{term:"Burden",definition:"What each side must prove to win"},{term:"Crystallization",definition:"Explaining the clearest reason to vote your way"}],tips:["Ground abstract concepts with real examples","Establish clear frameworks for evaluation","Both teams debate the resolution all year","Evidence is encouraged but not required","Focus on comparative analysis in later speeches"]}},Fj=t=>{const e={blue:{bg:"bg-blue-500/20",border:"border-blue-500/50",text:"text-blue-400",badge:"bg-blue-500"},green:{bg:"bg-green-500/20",border:"border-green-500/50",text:"text-green-400",badge:"bg-green-500"},purple:{bg:"bg-purple-500/20",border:"border-purple-500/50",text:"text-purple-400",badge:"bg-purple-500"},amber:{bg:"bg-amber-500/20",border:"border-amber-500/50",text:"text-amber-400",badge:"bg-amber-500"},red:{bg:"bg-red-500/20",border:"border-red-500/50",text:"text-red-400",badge:"bg-red-500"},indigo:{bg:"bg-indigo-500/20",border:"border-indigo-500/50",text:"text-indigo-400",badge:"bg-indigo-500"},cyan:{bg:"bg-cyan-500/20",border:"border-cyan-500/50",text:"text-cyan-400",badge:"bg-cyan-500"},teal:{bg:"bg-teal-500/20",border:"border-teal-500/50",text:"text-teal-400",badge:"bg-teal-500"},emerald:{bg:"bg-emerald-500/20",border:"border-emerald-500/50",text:"text-emerald-400",badge:"bg-emerald-500"},sky:{bg:"bg-sky-500/20",border:"border-sky-500/50",text:"text-sky-400",badge:"bg-sky-500"}};return e[t]||e.blue},Z$=()=>{const[t,e]=T.useState("ld"),[n,a]=T.useState("structure"),r=zj[t],o=Fj(r.color);return s.jsx("div",{className:"min-h-screen bg-[#0a0a0f] p-6",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-500/20 to-blue-500/20 rounded-lg",children:s.jsx(nE,{className:"w-6 h-6 text-cyan-400"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Format Guide"}),s.jsx("p",{className:"text-slate-400 text-sm",children:"Quick reference for debate format rules"})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:Object.values(zj).map(c=>{const d=Fj(c.color);return s.jsx("button",{onClick:()=>e(c.id),className:`px-4 py-2 rounded-lg font-medium transition-all ${t===c.id?`${d.bg} ${d.border} border ${d.text}`:"bg-slate-800/50 border border-slate-700/50 text-slate-400 hover:text-white"}`,children:c.shortName},c.id)})}),s.jsxs("div",{className:`bg-slate-800/50 border ${o.border} rounded-xl overflow-hidden`,children:[s.jsxs("div",{className:`p-6 ${o.bg}`,children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:r.name}),s.jsx("p",{className:"text-slate-300 mb-4",children:r.description}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Lt,{className:"w-4 h-4 text-slate-400"}),s.jsx("span",{className:"text-white",children:r.participants})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zt,{className:"w-4 h-4 text-slate-400"}),s.jsxs("span",{className:"text-white",children:["Prep: ",r.prepTime]})]})]})]}),s.jsx("div",{className:"p-6 border-b border-slate-700/50",children:s.jsx("p",{className:"text-slate-300 leading-relaxed",children:r.overview})}),s.jsx(Ug,{title:"Speech Structure",icon:s.jsx($n,{className:"w-4 h-4"}),isExpanded:n==="structure",onToggle:()=>a(n==="structure"?null:"structure"),colors:o,children:s.jsx("div",{className:"space-y-2",children:r.structure.map((c,d)=>s.jsxs("div",{className:"flex items-start gap-4 p-3 bg-slate-900/50 rounded-lg",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 flex items-center justify-center text-slate-400 text-sm font-medium shrink-0",children:d+1}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-white font-medium",children:c.speech}),s.jsx("span",{className:`px-2 py-0.5 ${o.bg} ${o.text} rounded text-xs font-mono`,children:c.time})]}),s.jsx("p",{className:"text-slate-400 text-sm mt-1",children:c.description})]})]},d))})}),s.jsx(Ug,{title:"Key Terms",icon:s.jsx(hc,{className:"w-4 h-4"}),isExpanded:n==="terms",onToggle:()=>a(n==="terms"?null:"terms"),colors:o,children:s.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:r.keyTerms.map((c,d)=>s.jsxs("div",{className:"p-3 bg-slate-900/50 rounded-lg",children:[s.jsx("span",{className:`font-semibold ${o.text}`,children:c.term}),s.jsx("p",{className:"text-slate-400 text-sm mt-1",children:c.definition})]},d))})}),s.jsx(Ug,{title:"Tips & Strategy",icon:s.jsx(Xo,{className:"w-4 h-4"}),isExpanded:n==="tips",onToggle:()=>a(n==="tips"?null:"tips"),colors:o,children:s.jsx("ul",{className:"space-y-2",children:r.tips.map((c,d)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Jo,{className:`w-4 h-4 ${o.text} shrink-0 mt-0.5`}),s.jsx("span",{className:"text-slate-300",children:c})]},d))})})]})]})})},Ug=({title:t,icon:e,isExpanded:n,onToggle:a,colors:r,children:o})=>s.jsxs("div",{className:"border-b border-slate-700/50 last:border-b-0",children:[s.jsxs("button",{onClick:a,className:"w-full p-4 flex items-center justify-between text-left hover:bg-slate-800/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:r.text,children:e}),s.jsx("span",{className:"text-white font-medium",children:t})]}),s.jsx(V.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:s.jsx(Ga,{className:"w-5 h-5 text-slate-400"})})]}),s.jsx(at,{children:n&&s.jsx(V.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:s.jsx("div",{className:"p-4 pt-0",children:o})})})]}),eq=()=>{const[t,e]=T.useState([]),[n,a]=T.useState(""),[r,o]=T.useState(""),[c,d]=T.useState("");T.useEffect(()=>{const w=localStorage.getItem("speaker-points");w&&setTimeout(()=>{e(JSON.parse(w))},0)},[]),T.useEffect(()=>{localStorage.setItem("speaker-points",JSON.stringify(t))},[t]);const m=()=>{const w=parseFloat(n);if(isNaN(w)||w<20||w>30)return;const j={id:Date.now().toString(),points:w,round:r||"Round",tournament:c||"Tournament",date:new Date().toISOString()};e([j,...t]),a(""),o(""),d("")},f=w=>{e(t.filter(j=>j.id!==w))},g={average:t.length>0?(t.reduce((w,j)=>w+j.points,0)/t.length).toFixed(2):0,highest:t.length>0?Math.max(...t.map(w=>w.points)):0,lowest:t.length>0?Math.min(...t.map(w=>w.points)):0,total:t.length,recent:t.slice(0,5)},v=(()=>{if(t.length<4)return"neutral";const w=t.slice(0,3).reduce((I,D)=>I+D.points,0)/3,j=t.slice(3,6).reduce((I,D)=>I+D.points,0)/Math.min(3,t.length-3);return w>j+.2?"up":w<j-.2?"down":"neutral"})();return s.jsx("div",{className:"min-h-screen bg-[#0a0a0f] p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-yellow-500/20 to-orange-500/20 rounded-lg",children:s.jsx(Xo,{className:"w-6 h-6 text-yellow-400"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Speaker Points Tracker"}),s.jsx("p",{className:"text-slate-400 text-sm",children:"Track and analyze your speaker points"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsx(Nm,{label:"Average",value:g.average,icon:s.jsx(Dn,{className:"w-5 h-5"}),color:"yellow"}),s.jsx(Nm,{label:"Highest",value:g.highest,icon:s.jsx(Ka,{className:"w-5 h-5"}),color:"green"}),s.jsx(Nm,{label:"Lowest",value:g.lowest,icon:s.jsx(Zo,{className:"w-5 h-5"}),color:"red"}),s.jsx(Nm,{label:"Rounds",value:g.total,icon:s.jsx(Ks,{className:"w-5 h-5"}),color:"blue"})]}),t.length>=4&&s.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center gap-3 ${v==="up"?"bg-green-500/10 border border-green-500/30":v==="down"?"bg-red-500/10 border border-red-500/30":"bg-slate-800/50 border border-slate-700/50"}`,children:[v==="up"&&s.jsx(Ka,{className:"w-5 h-5 text-green-400"}),v==="down"&&s.jsx(Zo,{className:"w-5 h-5 text-red-400"}),v==="neutral"&&s.jsx(fc,{className:"w-5 h-5 text-slate-400"}),s.jsxs("span",{className:v==="up"?"text-green-400":v==="down"?"text-red-400":"text-slate-400",children:[v==="up"&&"Your speaker points are trending upward!",v==="down"&&"Your speaker points have declined recently",v==="neutral"&&"Your speaker points are stable"]})]}),s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-4 mb-6",children:[s.jsx("h3",{className:"text-white font-medium mb-4",children:"Add Speaker Points"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-3",children:[s.jsx("input",{type:"number",step:"0.5",min:"20",max:"30",placeholder:"Points (20-30)",value:n,onChange:w=>a(w.target.value),className:"px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-yellow-500/50"}),s.jsx("input",{type:"text",placeholder:"Round (optional)",value:r,onChange:w=>o(w.target.value),className:"px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-yellow-500/50"}),s.jsx("input",{type:"text",placeholder:"Tournament (optional)",value:c,onChange:w=>d(w.target.value),className:"px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-yellow-500/50"}),s.jsxs("button",{onClick:m,disabled:!n||parseFloat(n)<20||parseFloat(n)>30,className:"flex items-center justify-center gap-2 px-4 py-2 bg-yellow-600 hover:bg-yellow-500 disabled:bg-slate-700 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:[s.jsx(Ct,{className:"w-4 h-4"}),"Add"]})]})]}),s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-4",children:[s.jsx("h3",{className:"text-white font-medium mb-4",children:"History"}),t.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(Xo,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"No speaker points recorded yet"}),s.jsx("p",{className:"text-sm",children:"Add your first entry above"})]}):s.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:t.map((w,j)=>s.jsxs(V.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg group",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`text-2xl font-bold ${w.points>=29?"text-green-400":w.points>=27?"text-yellow-400":w.points>=25?"text-slate-300":"text-red-400"}`,children:w.points}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white",children:w.round}),s.jsx("div",{className:"text-slate-500 text-sm",children:w.tournament})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-slate-500 text-sm",children:new Date(w.date).toLocaleDateString()}),s.jsx("button",{onClick:()=>f(w.id),className:"p-1.5 text-slate-500 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-all",children:s.jsx(Gn,{className:"w-4 h-4"})})]})]},w.id))})]})]})})},Nm=({label:t,value:e,icon:n,color:a})=>{const r={yellow:"from-yellow-500/20 to-orange-500/20 text-yellow-400",green:"from-green-500/20 to-emerald-500/20 text-green-400",red:"from-red-500/20 to-rose-500/20 text-red-400",blue:"from-blue-500/20 to-cyan-500/20 text-blue-400"};return s.jsxs("div",{className:`bg-gradient-to-br ${r[a]} p-4 rounded-xl`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-slate-400 text-sm",children:t}),n]}),s.jsx("div",{className:"text-2xl font-bold text-white",children:e})]})},tq=[{label:"1 min",seconds:60},{label:"2 min",seconds:120},{label:"3 min",seconds:180},{label:"4 min",seconds:240},{label:"5 min",seconds:300},{label:"6 min",seconds:360},{label:"7 min",seconds:420},{label:"8 min",seconds:480}],nq=()=>{const[t,e]=T.useState(300),[n,a]=T.useState(300),[r,o]=T.useState(!1),[c,d]=T.useState(!0),[m,f]=T.useState(!1),g=T.useRef(null),b=T.useRef(null);T.useEffect(()=>{b.current=new AudioContext},[]),T.useEffect(()=>(r&&n>0&&(g.current=setInterval(()=>{a(k=>k<=1?(o(!1),c&&v(),0):(k===31&&c&&v(800,.1),k===11&&c&&v(600,.1),k-1))},1e3)),()=>clearInterval(g.current)),[r,c]);const v=(k=440,A=.3)=>{if(b.current)try{const O=b.current.createOscillator(),C=b.current.createGain();O.connect(C),C.connect(b.current.destination),O.frequency.value=k,O.type="sine",C.gain.setValueAtTime(.3,b.current.currentTime),C.gain.exponentialRampToValueAtTime(.01,b.current.currentTime+A),O.start(b.current.currentTime),O.stop(b.current.currentTime+A)}catch{console.log("Audio not supported")}},w=()=>{b.current?.state==="suspended"&&b.current.resume(),o(!r)},j=()=>{o(!1),a(t)},I=k=>{o(!1),e(k),a(k)},D=k=>{const A=Math.max(10,Math.min(3600,t+k));e(A),r||a(A)},L=k=>{const A=Math.floor(k/60),O=k%60;return`${A}:${O.toString().padStart(2,"0")}`},R=n/t,$=n<=30&&n>10,q=n<=10,G=q?{ring:"stroke-red-500",text:"text-red-400",bg:"bg-red-500/20"}:$?{ring:"stroke-yellow-500",text:"text-yellow-400",bg:"bg-yellow-500/20"}:{ring:"stroke-blue-500",text:"text-blue-400",bg:"bg-blue-500/20"};return s.jsx("div",{className:"min-h-screen bg-[#0a0a0f] p-6 flex items-center justify-center",children:s.jsxs("div",{className:"max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-lg",children:s.jsx(Zt,{className:"w-6 h-6 text-blue-400"})}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Debate Clock"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>d(!c),className:"p-2 text-slate-400 hover:text-white transition-colors",children:c?s.jsx(zx,{className:"w-5 h-5"}):s.jsx(r5,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>f(!m),className:`p-2 transition-colors ${m?"text-blue-400":"text-slate-400 hover:text-white"}`,children:s.jsx(Hr,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"relative flex items-center justify-center mb-8",children:[s.jsxs("svg",{className:"w-64 h-64 -rotate-90",viewBox:"0 0 100 100",children:[s.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"currentColor",strokeWidth:"4",className:"text-slate-800"}),s.jsx(V.circle,{cx:"50",cy:"50",r:"45",fill:"none",strokeWidth:"4",strokeLinecap:"round",className:G.ring,strokeDasharray:`${R*283} 283`,initial:!1,animate:{strokeDasharray:`${R*283} 283`},transition:{duration:.5}})]}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[s.jsx(V.div,{className:`text-6xl font-mono font-bold ${G.text}`,animate:{scale:q&&r?[1,1.05,1]:1},transition:{repeat:q&&r?1/0:0,duration:1},children:L(n)}),s.jsx("div",{className:"text-slate-500 text-sm mt-2",children:r?"Running":n===0?"Time!":"Paused"})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[s.jsx("button",{onClick:j,className:"p-4 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-full transition-colors",children:s.jsx(Ai,{className:"w-6 h-6"})}),s.jsx("button",{onClick:w,className:`p-6 rounded-full transition-colors ${r?"bg-red-600 hover:bg-red-500 text-white":"bg-blue-600 hover:bg-blue-500 text-white"}`,children:r?s.jsx(xd,{className:"w-8 h-8"}):s.jsx(Ei,{className:"w-8 h-8 ml-1"})}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("button",{onClick:()=>D(30),disabled:r,className:"p-2 bg-slate-800 hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed text-slate-300 rounded-lg transition-colors",children:s.jsx(Ct,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>D(-30),disabled:r,className:"p-2 bg-slate-800 hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed text-slate-300 rounded-lg transition-colors",children:s.jsx(fc,{className:"w-4 h-4"})})]})]}),m&&s.jsxs(V.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-4",children:[s.jsx("h3",{className:"text-white font-medium mb-3",children:"Quick Presets"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:tq.map(k=>s.jsx("button",{onClick:()=>I(k.seconds),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${t===k.seconds?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:k.label},k.seconds))}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700",children:[s.jsx("label",{className:"text-slate-400 text-sm mb-2 block",children:"Custom Time (seconds)"}),s.jsx("input",{type:"number",min:"10",max:"3600",value:t,onChange:k=>{const A=parseInt(k.target.value)||60;e(A),r||a(A)},disabled:r,className:"w-full px-3 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white disabled:opacity-50"})]})]})]})})},zg=[{id:"claim",label:"Clear Claim",description:"Does your argument have a specific, debatable claim?",icon:Bt},{id:"warrant",label:"Warrant/Reasoning",description:"Is there logical reasoning explaining WHY the claim is true?",icon:$r},{id:"evidence",label:"Evidence/Support",description:"Do you have facts, statistics, or examples backing it up?",icon:_n},{id:"impact",label:"Impact/Significance",description:"Does your argument explain WHY this matters?",icon:Wo},{id:"link",label:"Link to Resolution",description:"Does this connect directly to the debate resolution?",icon:Ii}],sq=()=>{const[t,e]=T.useState(""),[n,a]=T.useState({}),[r,o]=T.useState(!1),c=w=>{a(j=>({...j,[w]:j[w]==="yes"?"partial":j[w]==="partial"?"no":"yes"}))},d=()=>{if(!t.trim())return;const w={};zg.forEach(j=>{w[j.id]=null}),a(w),o(!0)},m=()=>{e(""),a({}),o(!1)},g=(()=>{const w=Object.values(n).filter(D=>D!==null);if(w.length===0)return{score:0,label:"Not Evaluated",color:"slate"};const I=w.reduce((D,L)=>L==="yes"?D+1:L==="partial"?D+.5:D,0)/zg.length*100;return I>=80?{score:I,label:"Strong",color:"green"}:I>=60?{score:I,label:"Good",color:"blue"}:I>=40?{score:I,label:"Moderate",color:"yellow"}:{score:I,label:"Weak",color:"red"}})(),v=(w=>{const j={green:{bg:"bg-green-500/20",border:"border-green-500/50",text:"text-green-400",bar:"bg-green-500"},blue:{bg:"bg-blue-500/20",border:"border-blue-500/50",text:"text-blue-400",bar:"bg-blue-500"},yellow:{bg:"bg-yellow-500/20",border:"border-yellow-500/50",text:"text-yellow-400",bar:"bg-yellow-500"},red:{bg:"bg-red-500/20",border:"border-red-500/50",text:"text-red-400",bar:"bg-red-500"},slate:{bg:"bg-slate-500/20",border:"border-slate-500/50",text:"text-slate-400",bar:"bg-slate-500"}};return j[w]||j.slate})(g.color);return s.jsx("div",{className:"min-h-screen bg-[#0a0a0f] p-6",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-indigo-500/20 to-purple-500/20 rounded-lg",children:s.jsx(Ii,{className:"w-6 h-6 text-indigo-400"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Argument Validator"}),s.jsx("p",{className:"text-slate-400 text-sm",children:"Check your argument structure"})]})]}),r&&s.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-3 py-2 text-slate-400 hover:text-white transition-colors",children:[s.jsx(Ai,{className:"w-4 h-4"}),"Reset"]})]}),s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-4 mb-6",children:[s.jsx("label",{className:"text-white font-medium mb-2 block",children:"Your Argument"}),s.jsx("textarea",{value:t,onChange:w=>e(w.target.value),placeholder:`Enter your argument here...

Example: Climate change legislation is necessary because rising global temperatures threaten food security. According to NASA, average temperatures have risen 1.1C since 1880. Without action, we risk widespread famine affecting millions.`,className:"w-full h-40 bg-slate-900/50 border border-slate-700 rounded-lg p-4 text-white placeholder-slate-600 focus:outline-none focus:border-indigo-500/50 resize-none",disabled:r}),!r&&s.jsx("button",{onClick:d,disabled:!t.trim(),className:"mt-4 w-full py-3 bg-indigo-600 hover:bg-indigo-500 disabled:bg-slate-700 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-colors",children:"Analyze Argument"})]}),r&&s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[s.jsxs("div",{className:`p-4 rounded-xl ${v.bg} border ${v.border}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-white font-medium",children:"Argument Strength"}),s.jsx("span",{className:`font-bold ${v.text}`,children:g.label})]}),s.jsx("div",{className:"h-3 bg-slate-900/50 rounded-full overflow-hidden",children:s.jsx(V.div,{initial:{width:0},animate:{width:`${g.score}%`},transition:{duration:.5,delay:.2},className:`h-full ${v.bar} rounded-full`})}),s.jsxs("div",{className:"text-right text-sm text-slate-400 mt-1",children:[Math.round(g.score),"%"]})]}),s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-4",children:[s.jsx("h3",{className:"text-white font-medium mb-4",children:"Evaluate Each Element"}),s.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Click each item to cycle through:  Yes   Partial   No"}),s.jsx("div",{className:"space-y-3",children:zg.map(w=>{const j=n[w.id],I=w.icon;return s.jsx("button",{onClick:()=>c(w.id),className:`w-full p-4 rounded-lg text-left transition-all ${j==="yes"?"bg-green-500/20 border border-green-500/50":j==="partial"?"bg-yellow-500/20 border border-yellow-500/50":j==="no"?"bg-red-500/20 border border-red-500/50":"bg-slate-900/50 border border-slate-700 hover:border-slate-600"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${j==="yes"?"bg-green-500/20":j==="partial"?"bg-yellow-500/20":j==="no"?"bg-red-500/20":"bg-slate-800"}`,children:j==="yes"?s.jsx(Jo,{className:"w-5 h-5 text-green-400"}):j==="partial"?s.jsx(qn,{className:"w-5 h-5 text-yellow-400"}):j==="no"?s.jsx(gE,{className:"w-5 h-5 text-red-400"}):s.jsx(I,{className:"w-5 h-5 text-slate-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-white font-medium",children:w.label}),s.jsx("span",{className:`text-sm ${j==="yes"?"text-green-400":j==="partial"?"text-yellow-400":j==="no"?"text-red-400":"text-slate-500"}`,children:j==="yes"?"Yes":j==="partial"?"Partial":j==="no"?"No":"Click to evaluate"})]}),s.jsx("p",{className:"text-slate-400 text-sm mt-1",children:w.description})]})]})},w.id)})})]}),Object.values(n).some(w=>w==="no"||w==="partial")&&s.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-4",children:[s.jsx("h3",{className:"text-white font-medium mb-3",children:" Improvement Tips"}),s.jsxs("ul",{className:"space-y-2 text-slate-300 text-sm",children:[n.claim!=="yes"&&s.jsx("li",{children:" Make your claim more specific and debatable"}),n.warrant!=="yes"&&s.jsx("li",{children:" Add reasoning that explains WHY your claim is true"}),n.evidence!=="yes"&&s.jsx("li",{children:" Include statistics, studies, or expert opinions"}),n.impact!=="yes"&&s.jsx("li",{children:" Explain the significance - why should the judge care?"}),n.link!=="yes"&&s.jsx("li",{children:" Directly connect your argument to the resolution"})]})]})]})]})})},Bj=[{id:"aff-case",label:"Affirmative Case",placeholder:"Key arguments, values, contentions..."},{id:"neg-case",label:"Negative Case",placeholder:"Key arguments, values, contentions..."},{id:"clash",label:"Clash Points",placeholder:"Where do the cases interact? Key conflicts..."},{id:"cx",label:"Cross-Examination",placeholder:"Important admissions, key questions..."},{id:"voting",label:"Voting Issues",placeholder:"Why you're voting the way you are..."},{id:"feedback",label:"Feedback Notes",placeholder:"Constructive feedback for debaters..."}],aq=()=>{const[t,e]=T.useState([]),[n,a]=T.useState(null),[r,o]=T.useState(null);T.useEffect(()=>{const v=localStorage.getItem("judge-notes");if(v){const w=JSON.parse(v);e(w),w.length>0&&a(w[0].id)}},[]),T.useEffect(()=>{t.length>0&&localStorage.setItem("judge-notes",JSON.stringify(t))},[t]);const c=t.find(v=>v.id===n),d=()=>{const v={id:Date.now().toString(),name:`Round ${t.length+1}`,createdAt:new Date().toISOString(),sections:Bj.reduce((w,j)=>({...w,[j.id]:""}),{})};e([v,...t]),a(v.id)},m=v=>{e(t.map(w=>w.id===n?{...w,name:v}:w))},f=(v,w)=>{e(t.map(j=>j.id===n?{...j,sections:{...j.sections,[v]:w}}:j)),o("saving"),setTimeout(()=>o("saved"),300),setTimeout(()=>o(null),2e3)},g=v=>{const w=t.filter(j=>j.id!==v);e(w),localStorage.setItem("judge-notes",JSON.stringify(w)),n===v&&a(w.length>0?w[0].id:null)},b=v=>new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return s.jsx("div",{className:"min-h-screen bg-[#0a0a0f] p-6",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-amber-500/20 to-orange-500/20 rounded-lg",children:s.jsx(bs,{className:"w-6 h-6 text-amber-400"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Judge Notes"}),s.jsx("p",{className:"text-slate-400 text-sm",children:"Track notes during debates"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[r&&s.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-1 text-sm",children:r==="saving"?s.jsx("span",{className:"text-slate-400",children:"Saving..."}):s.jsxs(s.Fragment,{children:[s.jsx(Rn,{className:"w-4 h-4 text-green-400"}),s.jsx("span",{className:"text-green-400",children:"Saved"})]})}),s.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 bg-amber-600 hover:bg-amber-500 text-white rounded-lg transition-colors",children:[s.jsx(Ct,{className:"w-4 h-4"}),"New Round"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-4",children:[s.jsx("h3",{className:"text-white font-medium mb-3",children:"Rounds"}),t.length===0?s.jsxs("div",{className:"text-center py-8 text-slate-500",children:[s.jsx(_n,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No rounds yet"})]}):s.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:t.map(v=>s.jsxs("div",{onClick:()=>a(v.id),className:`p-3 rounded-lg cursor-pointer transition-all group ${n===v.id?"bg-amber-500/20 border border-amber-500/50":"bg-slate-900/50 hover:bg-slate-800/50 border border-transparent"}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-white font-medium truncate",children:v.name}),s.jsx("button",{onClick:w=>{w.stopPropagation(),g(v.id)},className:"p-1 text-slate-500 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-all",children:s.jsx(Gn,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500 mt-1",children:[s.jsx(Zt,{className:"w-3 h-3"}),b(v.createdAt)]})]},v.id))})]})}),s.jsx("div",{className:"lg:col-span-3",children:c?s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-4",children:[s.jsx("input",{type:"text",value:c.name,onChange:v=>m(v.target.value),className:"text-xl font-semibold bg-transparent text-white focus:outline-none w-full mb-4 border-b border-transparent focus:border-amber-500/50 pb-2"}),s.jsx("div",{className:"space-y-4",children:Bj.map(v=>s.jsx(iq,{label:v.label,placeholder:v.placeholder,value:c.sections[v.id]||"",onChange:w=>f(v.id,w)},v.id))})]}):s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-8 text-center",children:[s.jsx(bs,{className:"w-12 h-12 mx-auto mb-3 text-slate-600"}),s.jsx("p",{className:"text-slate-400",children:"Select a round or create a new one"}),s.jsx("button",{onClick:d,className:"mt-4 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Create Round"})]})})]})]})})},iq=({label:t,placeholder:e,value:n,onChange:a})=>{const[r,o]=T.useState(!0);return s.jsxs("div",{className:"border border-slate-700/50 rounded-lg overflow-hidden",children:[s.jsxs("button",{onClick:()=>o(!r),className:"w-full px-4 py-3 flex items-center justify-between bg-slate-900/50 hover:bg-slate-900/70 transition-colors",children:[s.jsx("span",{className:"text-white font-medium",children:t}),s.jsx(V.div,{animate:{rotate:r?180:0},children:s.jsx(Ga,{className:"w-4 h-4 text-slate-400"})})]}),r&&s.jsx("textarea",{value:n,onChange:c=>a(c.target.value),placeholder:e,className:"w-full p-4 bg-slate-900/30 text-white placeholder-slate-600 focus:outline-none resize-none min-h-[100px]"})]})},Fg=[{id:"captain",label:"Team Captain",color:"yellow",icon:Qa},{id:"varsity",label:"Varsity",color:"purple",icon:ln},{id:"jv",label:"Junior Varsity",color:"blue",icon:Pl},{id:"novice",label:"Novice",color:"green",icon:Pl},{id:"coach",label:"Coach",color:"red",icon:Qa}],rq=t=>{const e={yellow:{bg:"bg-yellow-500/20",border:"border-yellow-500/50",text:"text-yellow-400",badge:"bg-yellow-500"},purple:{bg:"bg-purple-500/20",border:"border-purple-500/50",text:"text-purple-400",badge:"bg-purple-500"},blue:{bg:"bg-blue-500/20",border:"border-blue-500/50",text:"text-blue-400",badge:"bg-blue-500"},green:{bg:"bg-green-500/20",border:"border-green-500/50",text:"text-green-400",badge:"bg-green-500"},red:{bg:"bg-red-500/20",border:"border-red-500/50",text:"text-red-400",badge:"bg-red-500"}};return e[t]||e.blue},lq=()=>{const[t,e]=T.useState([]),[n,a]=T.useState(!1),[r,o]=T.useState(null),[c,d]=T.useState({name:"",role:"varsity",email:"",phone:"",notes:""});T.useEffect(()=>{const w=localStorage.getItem("team-roster");w&&setTimeout(()=>{e(JSON.parse(w))},0)},[]),T.useEffect(()=>{localStorage.setItem("team-roster",JSON.stringify(t))},[t]);const m=()=>{d({name:"",role:"varsity",email:"",phone:"",notes:""}),a(!1),o(null)},f=()=>{c.name.trim()&&(e(r?t.map(w=>w.id===r?{...c,id:r}:w):[...t,{...c,id:Date.now().toString()}]),m())},g=w=>{d(w),o(w.id),a(!0)},b=w=>{e(t.filter(j=>j.id!==w))},v=Fg.reduce((w,j)=>(w[j.id]=t.filter(I=>I.role===j.id),w),{});return s.jsx("div",{className:"min-h-screen bg-[#0a0a0f] p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-500/20 to-blue-500/20 rounded-lg",children:s.jsx(Lt,{className:"w-6 h-6 text-cyan-400"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Team Roster"}),s.jsxs("p",{className:"text-slate-400 text-sm",children:[t.length," team member",t.length!==1?"s":""]})]})]}),s.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-500 text-white rounded-lg transition-colors",children:[s.jsx(Ct,{className:"w-4 h-4"}),"Add Member"]})]}),s.jsx(at,{children:n&&s.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:m,children:s.jsxs(V.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},onClick:w=>w.stopPropagation(),className:"bg-slate-800 border border-slate-700 rounded-xl p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:r?"Edit Member":"Add Team Member"}),s.jsx("button",{onClick:m,className:"text-slate-400 hover:text-white",children:s.jsx(rn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-slate-400 text-sm mb-1 block",children:"Name *"}),s.jsx("input",{type:"text",value:c.name,onChange:w=>d({...c,name:w.target.value}),placeholder:"Full name",className:"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-cyan-500/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-slate-400 text-sm mb-1 block",children:"Role"}),s.jsx("select",{value:c.role,onChange:w=>d({...c,role:w.target.value}),className:"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-cyan-500/50",children:Fg.map(w=>s.jsx("option",{value:w.id,children:w.label},w.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-slate-400 text-sm mb-1 block",children:"Email"}),s.jsx("input",{type:"email",value:c.email,onChange:w=>d({...c,email:w.target.value}),placeholder:"email@example.com",className:"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-cyan-500/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-slate-400 text-sm mb-1 block",children:"Phone"}),s.jsx("input",{type:"tel",value:c.phone,onChange:w=>d({...c,phone:w.target.value}),placeholder:"(555) 123-4567",className:"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-cyan-500/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-slate-400 text-sm mb-1 block",children:"Notes"}),s.jsx("input",{type:"text",value:c.notes,onChange:w=>d({...c,notes:w.target.value}),placeholder:"Partner, events, etc.",className:"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-cyan-500/50"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:m,className:"flex-1 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:f,disabled:!c.name.trim(),className:"flex-1 py-2 bg-cyan-600 hover:bg-cyan-500 disabled:bg-slate-700 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:r?"Save Changes":"Add Member"})]})]})})}),t.length===0?s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-12 text-center",children:[s.jsx(Lt,{className:"w-12 h-12 mx-auto mb-3 text-slate-600"}),s.jsx("p",{className:"text-slate-400 mb-4",children:"No team members yet"}),s.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Add First Member"})]}):s.jsx("div",{className:"space-y-6",children:Fg.map(w=>{const j=v[w.id];if(j.length===0)return null;const I=rq(w.color),D=w.icon;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(D,{className:`w-4 h-4 ${I.text}`}),s.jsx("h2",{className:"text-white font-medium",children:w.label}),s.jsxs("span",{className:"text-slate-500 text-sm",children:["(",j.length,")"]})]}),s.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:j.map(L=>s.jsxs(V.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-4 rounded-xl ${I.bg} border ${I.border} group`,children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold",children:L.name}),L.notes&&s.jsx("p",{className:"text-slate-400 text-sm mt-1",children:L.notes})]}),s.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>g(L),className:"p-1.5 text-slate-400 hover:text-white transition-colors",children:s.jsx($l,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>b(L.id),className:"p-1.5 text-slate-400 hover:text-red-400 transition-colors",children:s.jsx(Gn,{className:"w-4 h-4"})})]})]}),(L.email||L.phone)&&s.jsxs("div",{className:"flex flex-wrap gap-3 mt-3 text-sm",children:[L.email&&s.jsxs("a",{href:`mailto:${L.email}`,className:"flex items-center gap-1 text-slate-400 hover:text-white transition-colors",children:[s.jsx(Wj,{className:"w-3 h-3"}),L.email]}),L.phone&&s.jsxs("a",{href:`tel:${L.phone}`,className:"flex items-center gap-1 text-slate-400 hover:text-white transition-colors",children:[s.jsx(Jj,{className:"w-3 h-3"}),L.phone]})]})]},L.id))})]},w.id)})})]})})},oq=()=>s.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--bg-primary)"},children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(qr,{className:"w-12 h-12 animate-spin mx-auto",style:{color:"var(--primary)"}}),s.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading Adjudicator AI..."})]})}),cq=({isOpen:t,onClose:e,apiKey:n,setApiKey:a,openaiKey:r,setOpenaiKey:o})=>t?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",children:s.jsxs("div",{className:"glass-card w-full max-w-md space-y-6 animate-in zoom-in-95",children:[s.jsxs("h2",{className:"text-xl font-bold flex items-center",style:{color:"var(--text-primary)"},children:[s.jsx(Hr,{className:"w-5 h-5 mr-2",style:{color:"var(--primary)"}}),"Configuration"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Google Gemini API Key"}),s.jsx("input",{type:"password",value:n,onChange:c=>a(c.target.value),placeholder:"AIzaSy...",className:"input-field"}),s.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"Required for most features."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:"OpenAI API Key (Optional)"}),s.jsx("input",{type:"password",value:r,onChange:c=>o(c.target.value),placeholder:"sk-...",className:"input-field"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg transition-colors",style:{color:"var(--text-secondary)"},children:"Close"}),s.jsx("button",{onClick:e,className:"btn-primary",children:"Save Changes"})]})]})}):null;function uq(){const[t,e]=T.useState("dashboard"),[n,a]=T.useState(!1),[r,o]=T.useState(!0),[c,d]=T.useState(localStorage.getItem("gemini_key")||""),[m,f]=T.useState(localStorage.getItem("openai_key")||""),[g,b]=T.useState(localStorage.getItem("guest_mode")==="true"),{user:v,loading:w,isAuthenticated:j,needsAvatarSelection:I}=Pn();return T.useEffect(()=>{localStorage.setItem("gemini_key",c)},[c]),T.useEffect(()=>{localStorage.setItem("openai_key",m)},[m]),T.useEffect(()=>{(j||g)&&o(!1)},[j,g]),w?s.jsx(oq,{}):r&&!j&&!g?s.jsx(Wz,{onGetStarted:()=>o(!1),onContinueAsGuest:()=>{b(!0),localStorage.setItem("guest_mode","true"),o(!1)}}):!j&&!g?s.jsx(Kz,{onSkip:()=>{b(!0),localStorage.setItem("guest_mode","true")}}):s.jsxs(s.Fragment,{children:[j&&s.jsx(tF,{}),s.jsxs(I8,{activeTab:t,setActiveTab:e,onSettingsClick:()=>a(!0),children:[t==="dashboard"&&s.jsx(R8,{setActiveTab:e}),t==="analytics"&&s.jsx(QF,{}),t==="judge"&&s.jsx(Oz,{apiKey:c}),t==="board"&&s.jsx(Lz,{apiKey:c}),t==="coach"&&s.jsx(zz,{apiKey:c}),t==="practice"&&s.jsx(jB,{apiKey:c}),t==="tournaments"&&s.jsx(FB,{}),t==="opponents"&&s.jsx(tB,{apiKey:c}),t==="evidence"&&s.jsx(cB,{}),t==="team"&&s.jsx(DB,{}),t==="strategy"&&s.jsx(Bz,{apiKey:c}),t==="extemp"&&s.jsx(Fz,{apiKey:c}),t==="tone"&&s.jsx(Yz,{apiKey:c}),t==="history"&&s.jsx(qz,{}),t==="flowchart"&&s.jsx(XB,{}),t==="voice"&&s.jsx(o$,{}),t==="timer"&&s.jsx(f$,{}),t==="outline"&&s.jsx(b$,{}),t==="scheduler"&&s.jsx(_$,{}),t==="quickstats"&&s.jsx(P$,{}),t==="motions"&&s.jsx(V$,{}),t==="ballot"&&s.jsx(G$,{}),t==="presets"&&s.jsx(Y$,{}),t==="notes"&&s.jsx(W$,{}),t==="cards"&&s.jsx(X$,{}),t==="formatguide"&&s.jsx(Z$,{}),t==="speakerpoints"&&s.jsx(eq,{}),t==="clock"&&s.jsx(nq,{}),t==="validator"&&s.jsx(sq,{}),t==="judgenotes"&&s.jsx(aq,{}),t==="roster"&&s.jsx(lq,{}),t==="teams"&&s.jsx(ZB,{setActiveTab:e}),s.jsx(cq,{isOpen:n,onClose:()=>a(!1),apiKey:c,setApiKey:d,openaiKey:m,setOpenaiKey:f})]})]})}function dq(){return s.jsx(A8,{children:s.jsx(C8,{children:s.jsx(uq,{})})})}UC.createRoot(document.getElementById("root")).render(s.jsx(Ix.StrictMode,{children:s.jsx(dq,{})}));
