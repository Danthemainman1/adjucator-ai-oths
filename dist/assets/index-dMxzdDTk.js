import{j as y,m as ln,A as CC}from"./animations-Cs-j1bJ7.js";import{r as Z,R as iE}from"./charts-BqTqP0xP.js";import{r as IC,a as NC,g as Tg}from"./react-vendor-OvXVS5lI.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var ip={exports:{}},du={},rp={exports:{}},sp={};var lx;function kC(){return lx||(lx=1,(function(t){function e(Y,oe){var me=Y.length;Y.push(oe);e:for(;0<me;){var Re=me-1>>>1,L=Y[Re];if(0<a(L,oe))Y[Re]=oe,Y[me]=L,me=Re;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var oe=Y[0],me=Y.pop();if(me!==oe){Y[0]=me;e:for(var Re=0,L=Y.length,We=L>>>1;Re<We;){var Le=2*(Re+1)-1,M=Y[Le],Ne=Le+1,tt=Y[Ne];if(0>a(M,me))Ne<L&&0>a(tt,M)?(Y[Re]=tt,Y[Ne]=me,Re=Ne):(Y[Re]=M,Y[Le]=me,Re=Le);else if(Ne<L&&0>a(tt,me))Y[Re]=tt,Y[Ne]=me,Re=Ne;else break e}}return oe}function a(Y,oe){var me=Y.sortIndex-oe.sortIndex;return me!==0?me:Y.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var m=[],p=[],v=1,_=null,E=3,w=!1,I=!1,U=!1,P=!1,z=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function ee(Y){for(var oe=n(p);oe!==null;){if(oe.callback===null)r(p);else if(oe.startTime<=Y)r(p),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=n(p)}}function ce(Y){if(U=!1,ee(Y),!I)if(n(m)!==null)I=!0,G||(G=!0,D());else{var oe=n(p);oe!==null&&ae(ce,oe.startTime-Y)}}var G=!1,j=-1,k=5,O=-1;function A(){return P?!0:!(t.unstable_now()-O<k)}function C(){if(P=!1,G){var Y=t.unstable_now();O=Y;var oe=!0;try{e:{I=!1,U&&(U=!1,F(j),j=-1),w=!0;var me=E;try{t:{for(ee(Y),_=n(m);_!==null&&!(_.expirationTime>Y&&A());){var Re=_.callback;if(typeof Re=="function"){_.callback=null,E=_.priorityLevel;var L=Re(_.expirationTime<=Y);if(Y=t.unstable_now(),typeof L=="function"){_.callback=L,ee(Y),oe=!0;break t}_===n(m)&&r(m),ee(Y)}else r(m);_=n(m)}if(_!==null)oe=!0;else{var We=n(p);We!==null&&ae(ce,We.startTime-Y),oe=!1}}break e}finally{_=null,E=me,w=!1}oe=void 0}}finally{oe?D():G=!1}}}var D;if(typeof q=="function")D=function(){q(C)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ue=R.port2;R.port1.onmessage=C,D=function(){ue.postMessage(null)}}else D=function(){z(C,0)};function ae(Y,oe){j=z(function(){Y(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(Y){switch(E){case 1:case 2:case 3:var oe=3;break;default:oe=E}var me=E;E=oe;try{return Y()}finally{E=me}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(Y,oe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=E;E=Y;try{return oe()}finally{E=me}},t.unstable_scheduleCallback=function(Y,oe,me){var Re=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Re+me:Re):me=Re,Y){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=me+L,Y={id:v++,callback:oe,priorityLevel:Y,startTime:me,expirationTime:L,sortIndex:-1},me>Re?(Y.sortIndex=me,e(p,Y),n(m)===null&&Y===n(p)&&(U?(F(j),j=-1):U=!0,ae(ce,me-Re))):(Y.sortIndex=L,e(m,Y),I||w||(I=!0,G||(G=!0,D()))),Y},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(Y){var oe=E;return function(){var me=E;E=oe;try{return Y.apply(this,arguments)}finally{E=me}}}})(sp)),sp}var ux;function RC(){return ux||(ux=1,rp.exports=kC()),rp.exports}var cx;function DC(){if(cx)return du;cx=1;var t=RC(),e=IC(),n=NC();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,c=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),i;if(g===c)return m(d),s;g=g.sibling}throw Error(r(188))}if(o.return!==c.return)o=d,c=g;else{for(var b=!1,S=d.child;S;){if(S===o){b=!0,o=d,c=g;break}if(S===c){b=!0,c=d,o=g;break}S=S.sibling}if(!b){for(S=g.child;S;){if(S===o){b=!0,o=g,c=d;break}if(S===c){b=!0,c=g,o=d;break}S=S.sibling}if(!b)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),q=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function D(i){return i===null||typeof i!="object"?null:(i=C&&i[C]||i["@@iterator"],typeof i=="function"?i:null)}var R=Symbol.for("react.client.reference");function ue(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===R?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case U:return"Fragment";case z:return"Profiler";case P:return"StrictMode";case ce:return"Suspense";case G:return"SuspenseList";case O:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case I:return"Portal";case q:return i.displayName||"Context";case F:return(i._context.displayName||"Context")+".Consumer";case ee:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case j:return s=i.displayName||null,s!==null?s:ue(i.type)||"Memo";case k:s=i._payload,i=i._init;try{return ue(i(s))}catch{}}return null}var ae=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Re=[],L=-1;function We(i){return{current:i}}function Le(i){0>L||(i.current=Re[L],Re[L]=null,L--)}function M(i,s){L++,Re[L]=i.current,i.current=s}var Ne=We(null),tt=We(null),Xe=We(null),vt=We(null);function At(i,s){switch(M(Xe,s),M(tt,i),M(Ne,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?R_(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=R_(s),i=D_(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Le(Ne),M(Ne,i)}function bt(){Le(Ne),Le(tt),Le(Xe)}function Qn(i){i.memoizedState!==null&&M(vt,i);var s=Ne.current,o=D_(s,i.type);s!==o&&(M(tt,i),M(Ne,o))}function di(i){tt.current===i&&(Le(Ne),Le(tt)),vt.current===i&&(Le(vt),uu._currentValue=me)}var $r,Kr;function Xn(i){if($r===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);$r=s&&s[1]||"",Kr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$r+i+Kr}var Yr=!1;function Ni(i,s){if(!i||Yr)return"";Yr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(J){var X=J}Reflect.construct(i,[],re)}else{try{re.call()}catch(J){X=J}i.call(re.prototype)}}else{try{throw Error()}catch(J){X=J}(re=i())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(J){if(J&&X&&typeof J.stack=="string")return[J.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),b=g[0],S=g[1];if(b&&S){var V=b.split(`
`),Q=S.split(`
`);for(d=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;d<Q.length&&!Q[d].includes("DetermineComponentFrameRoot");)d++;if(c===V.length||d===Q.length)for(c=V.length-1,d=Q.length-1;1<=c&&0<=d&&V[c]!==Q[d];)d--;for(;1<=c&&0<=d;c--,d--)if(V[c]!==Q[d]){if(c!==1||d!==1)do if(c--,d--,0>d||V[c]!==Q[d]){var te=`
`+V[c].replace(" at new "," at ");return i.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",i.displayName)),te}while(1<=c&&0<=d);break}}}finally{Yr=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Xn(o):""}function Qr(i,s){switch(i.tag){case 26:case 27:case 5:return Xn(i.type);case 16:return Xn("Lazy");case 13:return i.child!==s&&s!==null?Xn("Suspense Fallback"):Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return Ni(i.type,!1);case 11:return Ni(i.type.render,!1);case 1:return Ni(i.type,!0);case 31:return Xn("Activity");default:return""}}function Ws(i){try{var s="",o=null;do s+=Qr(i,o),o=i,i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Et=Object.prototype.hasOwnProperty,Ct=t.unstable_scheduleCallback,ki=t.unstable_cancelCallback,dl=t.unstable_shouldYield,Ha=t.unstable_requestPaint,tn=t.unstable_now,ur=t.unstable_getCurrentPriorityLevel,ne=t.unstable_ImmediatePriority,fe=t.unstable_UserBlockingPriority,be=t.unstable_NormalPriority,Pe=t.unstable_LowPriority,Je=t.unstable_IdlePriority,dn=t.log,Wn=t.unstable_setDisableYieldValue,kt=null,wt=null;function Xt(i){if(typeof dn=="function"&&Wn(i),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(kt,i)}catch{}}var $e=Math.clz32?Math.clz32:mc,mi=Math.log,mn=Math.LN2;function mc(i){return i>>>=0,i===0?32:31-(mi(i)/mn|0)|0}var Ri=256,Js=262144,jt=4194304;function Di(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Oi(i,s,o){var c=i.pendingLanes;if(c===0)return 0;var d=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?d=Di(c):(b&=S,b!==0?d=Di(b):o||(o=S&~i,o!==0&&(d=Di(o))))):(S=c&~g,S!==0?d=Di(S):b!==0?d=Di(b):o||(o=c&~i,o!==0&&(d=Di(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function pi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function od(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pc(){var i=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),i}function Mi(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Zs(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ld(i,s,o,c,d,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,V=i.expirationTimes,Q=i.hiddenUpdates;for(o=b&~o;0<o;){var te=31-$e(o),re=1<<te;S[te]=0,V[te]=-1;var X=Q[te];if(X!==null)for(Q[te]=null,te=0;te<X.length;te++){var J=X[te];J!==null&&(J.lane&=-536870913)}o&=~re}c!==0&&ea(i,c,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~s))}function ea(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-$e(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function ml(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var c=31-$e(o),d=1<<c;d&s|i[c]&s&&(i[c]|=s),o&=~d}}function pl(i,s){var o=s&-s;return o=(o&42)!==0?1:ta(o),(o&(i.suspendedLanes|s))!==0?0:o}function ta(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function cr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function gc(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:tx(i.type))}function gi(i,s){var o=oe.p;try{return oe.p=i,s()}finally{oe.p=o}}var yi=Math.random().toString(36).slice(2),Pt="__reactFiber$"+yi,Wt="__reactProps$"+yi,ji="__reactContainer$"+yi,Ga="__reactEvents$"+yi,ud="__reactListeners$"+yi,yc="__reactHandles$"+yi,vc="__reactResources$"+yi,Pi="__reactMarker$"+yi;function $a(i){delete i[Pt],delete i[Wt],delete i[Ga],delete i[ud],delete i[yc]}function Li(i){var s=i[Pt];if(s)return s;for(var o=i.parentNode;o;){if(s=o[ji]||o[Pt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=z_(i);i!==null;){if(o=i[Pt])return o;i=z_(i)}return s}i=o,o=i.parentNode}return null}function Jn(i){if(i=i[Pt]||i[ji]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Pn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Vi(i){var s=i[vc];return s||(s=i[vc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Lt(i){i[Pi]=!0}var gl=new Set,yl={};function zi(i,s){Ui(i,s),Ui(i+"Capture",s)}function Ui(i,s){for(yl[i]=s,i=0;i<s.length;i++)gl.add(s[i])}var vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_l={},xl={};function _c(i){return Et.call(xl,i)?!0:Et.call(_l,i)?!1:vl.test(i)?xl[i]=!0:(_l[i]=!0,!1)}function Ka(i,s,o){if(_c(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Ln(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Vt(i,s,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+c)}}function Jt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Xr(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function bl(i,s,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,g=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(b){o=""+b,g.call(this,b)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function st(i){if(!i._valueTracker){var s=Xr(i)?"checked":"value";i._valueTracker=bl(i,s,""+i[s])}}function na(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return i&&(c=Xr(i)?i.checked?"true":"false":i.value),i=c,i!==o?(s.setValue(i),!0):!1}function Bi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ia=/[\n"\\]/g;function Sn(i){return i.replace(ia,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ya(i,s,o,c,d,g,b,S){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),s!=null?b==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Jt(s)):i.value!==""+Jt(s)&&(i.value=""+Jt(s)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),s!=null?El(i,b,Jt(s)):o!=null?El(i,b,Jt(o)):c!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Jt(S):i.removeAttribute("name")}function xc(i,s,o,c,d,g,b,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){st(i);return}o=o!=null?""+Jt(o):"",s=s!=null?""+Jt(s):o,S||s===i.value||(i.value=s),i.defaultValue=s}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=S?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),st(i)}function El(i,s,o){s==="number"&&Bi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Wr(i,s,o,c){if(i=i.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=s.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Jt(o),s=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,c&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function bc(i,s,o){if(s!=null&&(s=""+Jt(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+Jt(o):""}function Jr(i,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(r(92));if(ae(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Jt(s),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),st(i)}function An(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Ec=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wl(i,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,o):typeof o!="number"||o===0||Ec.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Tl(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var d in s)c=s[d],s.hasOwnProperty(d)&&o[d]!==c&&wl(i,d,c)}else for(var g in s)s.hasOwnProperty(g)&&wl(i,g,s[g])}function Qa(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xa(i){return Zr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function vi(){}var Sl=null;function Zn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var es=null,Fi=null;function ra(i){var s=Jn(i);if(s&&(i=s.stateNode)){var o=i[Wt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Ya(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Sn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==i&&c.form===i.form){var d=c[Wt]||null;if(!d)throw Error(r(90));Ya(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===i.form&&na(c)}break e;case"textarea":bc(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Wr(i,!!o.multiple,s,!1)}}}var Wa=!1;function ts(i,s,o){if(Wa)return i(s,o);Wa=!0;try{var c=i(s);return c}finally{if(Wa=!1,(es!==null||Fi!==null)&&(gh(),es&&(s=es,i=Fi,Fi=es=null,ra(s),i)))for(s=0;s<i.length;s++)ra(i[s])}}function _i(i,s){var o=i.stateNode;if(o===null)return null;var c=o[Wt]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sa=!1;if(ei)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){sa=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{sa=!1}var qi=null,Al=null,aa=null;function Cl(){if(aa)return aa;var i,s=Al,o=s.length,c,d="value"in qi?qi.value:qi.textContent,g=d.length;for(i=0;i<o&&s[i]===d[i];i++);var b=o-i;for(c=1;c<=b&&s[o-c]===d[g-c];c++);return aa=d.slice(i,1<c?1-c:void 0)}function oa(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function hr(){return!0}function xi(){return!1}function nn(i){function s(o,c,d,g,b){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?hr:xi,this.isPropagationStopped=xi,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),s}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=nn(fr),ns=_({},fr,{view:0,detail:0}),Il=nn(ns),is,Ja,Gi,Za=_({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Gi&&(Gi&&i.type==="mousemove"?(is=i.screenX-Gi.screenX,Ja=i.screenY-Gi.screenY):Ja=is=0,Gi=i),is)},movementY:function(i){return"movementY"in i?i.movementY:Ja}}),Nl=nn(Za),la=_({},Za,{dataTransfer:0}),Tc=nn(la),Sc=_({},ns,{relatedTarget:0}),ua=nn(Sc),kl=_({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ac=nn(kl),eo=_({},fr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Cc=nn(eo),Ic=_({},fr,{data:0}),$i=nn(Ic),Nc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Rc[i])?!!s[i]:!1}function rs(){return Dc}var En=_({},ns,{key:function(i){if(i.key){var s=Nc[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=oa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?kc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rs,charCode:function(i){return i.type==="keypress"?oa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?oa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Oc=nn(En),Mc=_({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dr=nn(Mc),f=_({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rs}),x=nn(f),T=_({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=nn(T),$=_({},Za,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),W=nn($),de=_({},fr,{newState:0,oldState:0}),De=nn(de),Rt=[9,13,27,32],nt=ei&&"CompositionEvent"in window,_t=null;ei&&"documentMode"in document&&(_t=document.documentMode);var ti=ei&&"TextEvent"in window&&!_t,Ki=ei&&(!nt||_t&&8<_t&&11>=_t),bi=" ",Ei=!1;function ca(i,s){switch(i){case"keyup":return Rt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function to(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var no=!1;function WS(i,s){switch(i){case"compositionend":return to(s);case"keypress":return s.which!==32?null:(Ei=!0,bi);case"textInput":return i=s.data,i===bi&&Ei?null:i;default:return null}}function JS(i,s){if(no)return i==="compositionend"||!nt&&ca(i,s)?(i=Cl(),aa=Al=qi=null,no=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ki&&s.locale!=="ko"?null:s.data;default:return null}}var ZS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fy(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!ZS[i.type]:s==="textarea"}function qy(i,s,o,c){es?Fi?Fi.push(c):Fi=[c]:es=c,s=wh(s,"onChange"),0<s.length&&(o=new Hi("onChange","change",null,o,c),i.push({event:o,listeners:s}))}var Rl=null,Dl=null;function eA(i){S_(i,0)}function jc(i){var s=Pn(i);if(na(s))return i}function Hy(i,s){if(i==="change")return s}var Gy=!1;if(ei){var cd;if(ei){var hd="oninput"in document;if(!hd){var $y=document.createElement("div");$y.setAttribute("oninput","return;"),hd=typeof $y.oninput=="function"}cd=hd}else cd=!1;Gy=cd&&(!document.documentMode||9<document.documentMode)}function Ky(){Rl&&(Rl.detachEvent("onpropertychange",Yy),Dl=Rl=null)}function Yy(i){if(i.propertyName==="value"&&jc(Dl)){var s=[];qy(s,Dl,i,Zn(i)),ts(eA,s)}}function tA(i,s,o){i==="focusin"?(Ky(),Rl=s,Dl=o,Rl.attachEvent("onpropertychange",Yy)):i==="focusout"&&Ky()}function nA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return jc(Dl)}function iA(i,s){if(i==="click")return jc(s)}function rA(i,s){if(i==="input"||i==="change")return jc(s)}function sA(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Vn=typeof Object.is=="function"?Object.is:sA;function Ol(i,s){if(Vn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!Et.call(s,d)||!Vn(i[d],s[d]))return!1}return!0}function Qy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Xy(i,s){var o=Qy(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=s&&c>=s)return{node:o,offset:s-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Qy(o)}}function Wy(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Wy(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Jy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Bi(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Bi(i.document)}return s}function fd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var aA=ei&&"documentMode"in document&&11>=document.documentMode,io=null,dd=null,Ml=null,md=!1;function Zy(i,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;md||io==null||io!==Bi(c)||(c=io,"selectionStart"in c&&fd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ml&&Ol(Ml,c)||(Ml=c,c=wh(dd,"onSelect"),0<c.length&&(s=new Hi("onSelect","select",null,s,o),i.push({event:s,listeners:c}),s.target=io)))}function ha(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var ro={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},pd={},e0={};ei&&(e0=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function fa(i){if(pd[i])return pd[i];if(!ro[i])return i;var s=ro[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in e0)return pd[i]=s[o];return i}var t0=fa("animationend"),n0=fa("animationiteration"),i0=fa("animationstart"),oA=fa("transitionrun"),lA=fa("transitionstart"),uA=fa("transitioncancel"),r0=fa("transitionend"),s0=new Map,gd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gd.push("scrollEnd");function wi(i,s){s0.set(i,s),zi(s,[i])}var Pc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ni=[],so=0,yd=0;function Lc(){for(var i=so,s=yd=so=0;s<i;){var o=ni[s];ni[s++]=null;var c=ni[s];ni[s++]=null;var d=ni[s];ni[s++]=null;var g=ni[s];if(ni[s++]=null,c!==null&&d!==null){var b=c.pending;b===null?d.next=d:(d.next=b.next,b.next=d),c.pending=d}g!==0&&a0(o,d,g)}}function Vc(i,s,o,c){ni[so++]=i,ni[so++]=s,ni[so++]=o,ni[so++]=c,yd|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function vd(i,s,o,c){return Vc(i,s,o,c),zc(i)}function da(i,s){return Vc(i,null,null,s),zc(i)}function a0(i,s,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&s!==null&&(d=31-$e(o),i=g.hiddenUpdates,c=i[d],c===null?i[d]=[s]:c.push(s),s.lane=o|536870912),g):null}function zc(i){if(50<nu)throw nu=0,Cm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var ao={};function cA(i,s,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(i,s,o,c){return new cA(i,s,o,c)}function _d(i){return i=i.prototype,!(!i||!i.isReactComponent)}function mr(i,s){var o=i.alternate;return o===null?(o=zn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function o0(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Uc(i,s,o,c,d,g){var b=0;if(c=i,typeof i=="function")_d(i)&&(b=1);else if(typeof i=="string")b=pC(i,o,Ne.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case O:return i=zn(31,o,s,d),i.elementType=O,i.lanes=g,i;case U:return ma(o.children,d,g,s);case P:b=8,d|=24;break;case z:return i=zn(12,o,s,d|2),i.elementType=z,i.lanes=g,i;case ce:return i=zn(13,o,s,d),i.elementType=ce,i.lanes=g,i;case G:return i=zn(19,o,s,d),i.elementType=G,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case q:b=10;break e;case F:b=9;break e;case ee:b=11;break e;case j:b=14;break e;case k:b=16,c=null;break e}b=29,o=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=zn(b,o,s,d),s.elementType=i,s.type=c,s.lanes=g,s}function ma(i,s,o,c){return i=zn(7,i,c,s),i.lanes=o,i}function xd(i,s,o){return i=zn(6,i,null,s),i.lanes=o,i}function l0(i){var s=zn(18,null,null,0);return s.stateNode=i,s}function bd(i,s,o){return s=zn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var u0=new WeakMap;function ii(i,s){if(typeof i=="object"&&i!==null){var o=u0.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Ws(s)},u0.set(i,s),s)}return{value:i,source:s,stack:Ws(s)}}var oo=[],lo=0,Bc=null,jl=0,ri=[],si=0,ss=null,Yi=1,Qi="";function pr(i,s){oo[lo++]=jl,oo[lo++]=Bc,Bc=i,jl=s}function c0(i,s,o){ri[si++]=Yi,ri[si++]=Qi,ri[si++]=ss,ss=i;var c=Yi;i=Qi;var d=32-$e(c)-1;c&=~(1<<d),o+=1;var g=32-$e(s)+d;if(30<g){var b=d-d%5;g=(c&(1<<b)-1).toString(32),c>>=b,d-=b,Yi=1<<32-$e(s)+d|o<<d|c,Qi=g+i}else Yi=1<<g|o<<d|c,Qi=i}function Ed(i){i.return!==null&&(pr(i,1),c0(i,1,0))}function wd(i){for(;i===Bc;)Bc=oo[--lo],oo[lo]=null,jl=oo[--lo],oo[lo]=null;for(;i===ss;)ss=ri[--si],ri[si]=null,Qi=ri[--si],ri[si]=null,Yi=ri[--si],ri[si]=null}function h0(i,s){ri[si++]=Yi,ri[si++]=Qi,ri[si++]=ss,Yi=s.id,Qi=s.overflow,ss=i}var rn=null,pt=null,Ke=!1,as=null,ai=!1,Td=Error(r(519));function os(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pl(ii(s,i)),Td}function f0(i){var s=i.stateNode,o=i.type,c=i.memoizedProps;switch(s[Pt]=i,s[Wt]=c,o){case"dialog":ze("cancel",s),ze("close",s);break;case"iframe":case"object":case"embed":ze("load",s);break;case"video":case"audio":for(o=0;o<ru.length;o++)ze(ru[o],s);break;case"source":ze("error",s);break;case"img":case"image":case"link":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"input":ze("invalid",s),xc(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ze("invalid",s);break;case"textarea":ze("invalid",s),Jr(s,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||N_(s.textContent,o)?(c.popover!=null&&(ze("beforetoggle",s),ze("toggle",s)),c.onScroll!=null&&ze("scroll",s),c.onScrollEnd!=null&&ze("scrollend",s),c.onClick!=null&&(s.onclick=vi),s=!0):s=!1,s||os(i,!0)}function d0(i){for(rn=i.return;rn;)switch(rn.tag){case 5:case 31:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:rn=rn.return}}function uo(i){if(i!==rn)return!1;if(!Ke)return d0(i),Ke=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Fm(i.type,i.memoizedProps)),o=!o),o&&pt&&os(i),d0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));pt=V_(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));pt=V_(i)}else s===27?(s=pt,bs(i.type)?(i=Km,Km=null,pt=i):pt=s):pt=rn?li(i.stateNode.nextSibling):null;return!0}function pa(){pt=rn=null,Ke=!1}function Sd(){var i=as;return i!==null&&(kn===null?kn=i:kn.push.apply(kn,i),as=null),i}function Pl(i){as===null?as=[i]:as.push(i)}var Ad=We(null),ga=null,gr=null;function ls(i,s,o){M(Ad,s._currentValue),s._currentValue=o}function yr(i){i._currentValue=Ad.current,Le(Ad)}function Cd(i,s,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===o)break;i=i.return}}function Id(i,s,o,c){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var b=d.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=d;for(var V=0;V<s.length;V++)if(S.context===s[V]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),Cd(g.return,o,i),c||(b=null);break e}g=S.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(r(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),Cd(b,o,i),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===i){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function co(i,s,o,c){i=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var S=d.type;Vn(d.pendingProps.value,b.value)||(i!==null?i.push(S):i=[S])}}else if(d===vt.current){if(b=d.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(uu):i=[uu])}d=d.return}i!==null&&Id(s,i,o,c),s.flags|=262144}function Fc(i){for(i=i.firstContext;i!==null;){if(!Vn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ya(i){ga=i,gr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function sn(i){return m0(ga,i)}function qc(i,s){return ga===null&&ya(i),m0(i,s)}function m0(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},gr===null){if(i===null)throw Error(r(308));gr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else gr=gr.next=s;return o}var hA=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},fA=t.unstable_scheduleCallback,dA=t.unstable_NormalPriority,zt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nd(){return{controller:new hA,data:new Map,refCount:0}}function Ll(i){i.refCount--,i.refCount===0&&fA(dA,function(){i.controller.abort()})}var Vl=null,kd=0,ho=0,fo=null;function mA(i,s){if(Vl===null){var o=Vl=[];kd=0,ho=Om(),fo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return kd++,s.then(p0,p0),s}function p0(){if(--kd===0&&Vl!==null){fo!==null&&(fo.status="fulfilled");var i=Vl;Vl=null,ho=0,fo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function pA(i,s){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var g0=Y.S;Y.S=function(i,s){Zv=tn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&mA(i,s),g0!==null&&g0(i,s)};var va=We(null);function Rd(){var i=va.current;return i!==null?i:ft.pooledCache}function Hc(i,s){s===null?M(va,va.current):M(va,s.pool)}function y0(){var i=Rd();return i===null?null:{parent:zt._currentValue,pool:i}}var mo=Error(r(460)),Dd=Error(r(474)),Gc=Error(r(542)),$c={then:function(){}};function v0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function _0(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(vi,vi),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,b0(i),i;default:if(typeof s.status=="string")s.then(vi,vi);else{if(i=ft,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=c}},function(c){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,b0(i),i}throw xa=s,mo}}function _a(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(xa=o,mo):o}}var xa=null;function x0(){if(xa===null)throw Error(r(459));var i=xa;return xa=null,i}function b0(i){if(i===mo||i===Gc)throw Error(r(483))}var po=null,zl=0;function Kc(i){var s=zl;return zl+=1,po===null&&(po=[]),_0(po,i,s)}function Ul(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Yc(i,s){throw s.$$typeof===E?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function E0(i){function s(H,B){if(i){var K=H.deletions;K===null?(H.deletions=[B],H.flags|=16):K.push(B)}}function o(H,B){if(!i)return null;for(;B!==null;)s(H,B),B=B.sibling;return null}function c(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function d(H,B){return H=mr(H,B),H.index=0,H.sibling=null,H}function g(H,B,K){return H.index=K,i?(K=H.alternate,K!==null?(K=K.index,K<B?(H.flags|=67108866,B):K):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function b(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function S(H,B,K,ie){return B===null||B.tag!==6?(B=xd(K,H.mode,ie),B.return=H,B):(B=d(B,K),B.return=H,B)}function V(H,B,K,ie){var _e=K.type;return _e===U?te(H,B,K.props.children,ie,K.key):B!==null&&(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===k&&_a(_e)===B.type)?(B=d(B,K.props),Ul(B,K),B.return=H,B):(B=Uc(K.type,K.key,K.props,null,H.mode,ie),Ul(B,K),B.return=H,B)}function Q(H,B,K,ie){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=bd(K,H.mode,ie),B.return=H,B):(B=d(B,K.children||[]),B.return=H,B)}function te(H,B,K,ie,_e){return B===null||B.tag!==7?(B=ma(K,H.mode,ie,_e),B.return=H,B):(B=d(B,K),B.return=H,B)}function re(H,B,K){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=xd(""+B,H.mode,K),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return K=Uc(B.type,B.key,B.props,null,H.mode,K),Ul(K,B),K.return=H,K;case I:return B=bd(B,H.mode,K),B.return=H,B;case k:return B=_a(B),re(H,B,K)}if(ae(B)||D(B))return B=ma(B,H.mode,K,null),B.return=H,B;if(typeof B.then=="function")return re(H,Kc(B),K);if(B.$$typeof===q)return re(H,qc(H,B),K);Yc(H,B)}return null}function X(H,B,K,ie){var _e=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return _e!==null?null:S(H,B,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return K.key===_e?V(H,B,K,ie):null;case I:return K.key===_e?Q(H,B,K,ie):null;case k:return K=_a(K),X(H,B,K,ie)}if(ae(K)||D(K))return _e!==null?null:te(H,B,K,ie,null);if(typeof K.then=="function")return X(H,B,Kc(K),ie);if(K.$$typeof===q)return X(H,B,qc(H,K),ie);Yc(H,K)}return null}function J(H,B,K,ie,_e){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return H=H.get(K)||null,S(B,H,""+ie,_e);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case w:return H=H.get(ie.key===null?K:ie.key)||null,V(B,H,ie,_e);case I:return H=H.get(ie.key===null?K:ie.key)||null,Q(B,H,ie,_e);case k:return ie=_a(ie),J(H,B,K,ie,_e)}if(ae(ie)||D(ie))return H=H.get(K)||null,te(B,H,ie,_e,null);if(typeof ie.then=="function")return J(H,B,K,Kc(ie),_e);if(ie.$$typeof===q)return J(H,B,K,qc(B,ie),_e);Yc(B,ie)}return null}function ge(H,B,K,ie){for(var _e=null,Ze=null,ye=B,Me=B=0,Fe=null;ye!==null&&Me<K.length;Me++){ye.index>Me?(Fe=ye,ye=null):Fe=ye.sibling;var et=X(H,ye,K[Me],ie);if(et===null){ye===null&&(ye=Fe);break}i&&ye&&et.alternate===null&&s(H,ye),B=g(et,B,Me),Ze===null?_e=et:Ze.sibling=et,Ze=et,ye=Fe}if(Me===K.length)return o(H,ye),Ke&&pr(H,Me),_e;if(ye===null){for(;Me<K.length;Me++)ye=re(H,K[Me],ie),ye!==null&&(B=g(ye,B,Me),Ze===null?_e=ye:Ze.sibling=ye,Ze=ye);return Ke&&pr(H,Me),_e}for(ye=c(ye);Me<K.length;Me++)Fe=J(ye,H,Me,K[Me],ie),Fe!==null&&(i&&Fe.alternate!==null&&ye.delete(Fe.key===null?Me:Fe.key),B=g(Fe,B,Me),Ze===null?_e=Fe:Ze.sibling=Fe,Ze=Fe);return i&&ye.forEach(function(As){return s(H,As)}),Ke&&pr(H,Me),_e}function Te(H,B,K,ie){if(K==null)throw Error(r(151));for(var _e=null,Ze=null,ye=B,Me=B=0,Fe=null,et=K.next();ye!==null&&!et.done;Me++,et=K.next()){ye.index>Me?(Fe=ye,ye=null):Fe=ye.sibling;var As=X(H,ye,et.value,ie);if(As===null){ye===null&&(ye=Fe);break}i&&ye&&As.alternate===null&&s(H,ye),B=g(As,B,Me),Ze===null?_e=As:Ze.sibling=As,Ze=As,ye=Fe}if(et.done)return o(H,ye),Ke&&pr(H,Me),_e;if(ye===null){for(;!et.done;Me++,et=K.next())et=re(H,et.value,ie),et!==null&&(B=g(et,B,Me),Ze===null?_e=et:Ze.sibling=et,Ze=et);return Ke&&pr(H,Me),_e}for(ye=c(ye);!et.done;Me++,et=K.next())et=J(ye,H,Me,et.value,ie),et!==null&&(i&&et.alternate!==null&&ye.delete(et.key===null?Me:et.key),B=g(et,B,Me),Ze===null?_e=et:Ze.sibling=et,Ze=et);return i&&ye.forEach(function(AC){return s(H,AC)}),Ke&&pr(H,Me),_e}function ht(H,B,K,ie){if(typeof K=="object"&&K!==null&&K.type===U&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case w:e:{for(var _e=K.key;B!==null;){if(B.key===_e){if(_e=K.type,_e===U){if(B.tag===7){o(H,B.sibling),ie=d(B,K.props.children),ie.return=H,H=ie;break e}}else if(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===k&&_a(_e)===B.type){o(H,B.sibling),ie=d(B,K.props),Ul(ie,K),ie.return=H,H=ie;break e}o(H,B);break}else s(H,B);B=B.sibling}K.type===U?(ie=ma(K.props.children,H.mode,ie,K.key),ie.return=H,H=ie):(ie=Uc(K.type,K.key,K.props,null,H.mode,ie),Ul(ie,K),ie.return=H,H=ie)}return b(H);case I:e:{for(_e=K.key;B!==null;){if(B.key===_e)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){o(H,B.sibling),ie=d(B,K.children||[]),ie.return=H,H=ie;break e}else{o(H,B);break}else s(H,B);B=B.sibling}ie=bd(K,H.mode,ie),ie.return=H,H=ie}return b(H);case k:return K=_a(K),ht(H,B,K,ie)}if(ae(K))return ge(H,B,K,ie);if(D(K)){if(_e=D(K),typeof _e!="function")throw Error(r(150));return K=_e.call(K),Te(H,B,K,ie)}if(typeof K.then=="function")return ht(H,B,Kc(K),ie);if(K.$$typeof===q)return ht(H,B,qc(H,K),ie);Yc(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,B!==null&&B.tag===6?(o(H,B.sibling),ie=d(B,K),ie.return=H,H=ie):(o(H,B),ie=xd(K,H.mode,ie),ie.return=H,H=ie),b(H)):o(H,B)}return function(H,B,K,ie){try{zl=0;var _e=ht(H,B,K,ie);return po=null,_e}catch(ye){if(ye===mo||ye===Gc)throw ye;var Ze=zn(29,ye,null,H.mode);return Ze.lanes=ie,Ze.return=H,Ze}finally{}}}var ba=E0(!0),w0=E0(!1),us=!1;function Od(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Md(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function cs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function hs(i,s,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(it&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,s=zc(i),a0(i,null,o),s}return Vc(i,c,s,o),zc(i)}function Bl(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,ml(i,o)}}function jd(i,s){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Pd=!1;function Fl(){if(Pd){var i=fo;if(i!==null)throw i}}function ql(i,s,o,c){Pd=!1;var d=i.updateQueue;us=!1;var g=d.firstBaseUpdate,b=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var V=S,Q=V.next;V.next=null,b===null?g=Q:b.next=Q,b=V;var te=i.alternate;te!==null&&(te=te.updateQueue,S=te.lastBaseUpdate,S!==b&&(S===null?te.firstBaseUpdate=Q:S.next=Q,te.lastBaseUpdate=V))}if(g!==null){var re=d.baseState;b=0,te=Q=V=null,S=g;do{var X=S.lane&-536870913,J=X!==S.lane;if(J?(Be&X)===X:(c&X)===X){X!==0&&X===ho&&(Pd=!0),te!==null&&(te=te.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ge=i,Te=S;X=s;var ht=o;switch(Te.tag){case 1:if(ge=Te.payload,typeof ge=="function"){re=ge.call(ht,re,X);break e}re=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Te.payload,X=typeof ge=="function"?ge.call(ht,re,X):ge,X==null)break e;re=_({},re,X);break e;case 2:us=!0}}X=S.callback,X!==null&&(i.flags|=64,J&&(i.flags|=8192),J=d.callbacks,J===null?d.callbacks=[X]:J.push(X))}else J={lane:X,tag:S.tag,payload:S.payload,callback:S.callback,next:null},te===null?(Q=te=J,V=re):te=te.next=J,b|=X;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;J=S,S=J.next,J.next=null,d.lastBaseUpdate=J,d.shared.pending=null}}while(!0);te===null&&(V=re),d.baseState=V,d.firstBaseUpdate=Q,d.lastBaseUpdate=te,g===null&&(d.shared.lanes=0),gs|=b,i.lanes=b,i.memoizedState=re}}function T0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function S0(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)T0(o[i],s)}var go=We(null),Qc=We(0);function A0(i,s){i=Ar,M(Qc,i),M(go,s),Ar=i|s.baseLanes}function Ld(){M(Qc,Ar),M(go,go.current)}function Vd(){Ar=Qc.current,Le(go),Le(Qc)}var Un=We(null),oi=null;function fs(i){var s=i.alternate;M(Dt,Dt.current&1),M(Un,i),oi===null&&(s===null||go.current!==null||s.memoizedState!==null)&&(oi=i)}function zd(i){M(Dt,Dt.current),M(Un,i),oi===null&&(oi=i)}function C0(i){i.tag===22?(M(Dt,Dt.current),M(Un,i),oi===null&&(oi=i)):ds()}function ds(){M(Dt,Dt.current),M(Un,Un.current)}function Bn(i){Le(Un),oi===i&&(oi=null),Le(Dt)}var Dt=We(0);function Xc(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Gm(o)||$m(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var vr=0,Oe=null,ut=null,Ut=null,Wc=!1,yo=!1,Ea=!1,Jc=0,Hl=0,vo=null,gA=0;function It(){throw Error(r(321))}function Ud(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Vn(i[o],s[o]))return!1;return!0}function Bd(i,s,o,c,d,g){return vr=g,Oe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=i===null||i.memoizedState===null?cv:nm,Ea=!1,g=o(c,d),Ea=!1,yo&&(g=N0(s,o,c,d)),I0(i),g}function I0(i){Y.H=Kl;var s=ut!==null&&ut.next!==null;if(vr=0,Ut=ut=Oe=null,Wc=!1,Hl=0,vo=null,s)throw Error(r(300));i===null||Bt||(i=i.dependencies,i!==null&&Fc(i)&&(Bt=!0))}function N0(i,s,o,c){Oe=i;var d=0;do{if(yo&&(vo=null),Hl=0,yo=!1,25<=d)throw Error(r(301));if(d+=1,Ut=ut=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Y.H=hv,g=s(o,c)}while(yo);return g}function yA(){var i=Y.H,s=i.useState()[0];return s=typeof s.then=="function"?Gl(s):s,i=i.useState()[0],(ut!==null?ut.memoizedState:null)!==i&&(Oe.flags|=1024),s}function Fd(){var i=Jc!==0;return Jc=0,i}function qd(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Hd(i){if(Wc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Wc=!1}vr=0,Ut=ut=Oe=null,yo=!1,Hl=Jc=0,vo=null}function wn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Oe.memoizedState=Ut=i:Ut=Ut.next=i,Ut}function Ot(){if(ut===null){var i=Oe.alternate;i=i!==null?i.memoizedState:null}else i=ut.next;var s=Ut===null?Oe.memoizedState:Ut.next;if(s!==null)Ut=s,ut=i;else{if(i===null)throw Oe.alternate===null?Error(r(467)):Error(r(310));ut=i,i={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Ut===null?Oe.memoizedState=Ut=i:Ut=Ut.next=i}return Ut}function Zc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(i){var s=Hl;return Hl+=1,vo===null&&(vo=[]),i=_0(vo,i,s),s=Oe,(Ut===null?s.memoizedState:Ut.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?cv:nm),i}function eh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Gl(i);if(i.$$typeof===q)return sn(i)}throw Error(r(438,String(i)))}function Gd(i){var s=null,o=Oe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Oe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Zc(),Oe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),c=0;c<i;c++)o[c]=A;return s.index++,o}function _r(i,s){return typeof s=="function"?s(i):s}function th(i){var s=Ot();return $d(s,ut,i)}function $d(i,s,o){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var d=i.baseQueue,g=c.pending;if(g!==null){if(d!==null){var b=d.next;d.next=g.next,g.next=b}s.baseQueue=d=g,c.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{s=d.next;var S=b=null,V=null,Q=s,te=!1;do{var re=Q.lane&-536870913;if(re!==Q.lane?(Be&re)===re:(vr&re)===re){var X=Q.revertLane;if(X===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),re===ho&&(te=!0);else if((vr&X)===X){Q=Q.next,X===ho&&(te=!0);continue}else re={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(S=V=re,b=g):V=V.next=re,Oe.lanes|=X,gs|=X;re=Q.action,Ea&&o(g,re),g=Q.hasEagerState?Q.eagerState:o(g,re)}else X={lane:re,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(S=V=X,b=g):V=V.next=X,Oe.lanes|=re,gs|=re;Q=Q.next}while(Q!==null&&Q!==s);if(V===null?b=g:V.next=S,!Vn(g,i.memoizedState)&&(Bt=!0,te&&(o=fo,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=V,c.lastRenderedState=g}return d===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Kd(i){var s=Ot(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var c=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var b=d=d.next;do g=i(g,b.action),b=b.next;while(b!==d);Vn(g,s.memoizedState)||(Bt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function k0(i,s,o){var c=Oe,d=Ot(),g=Ke;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var b=!Vn((ut||d).memoizedState,o);if(b&&(d.memoizedState=o,Bt=!0),d=d.queue,Xd(O0.bind(null,c,d,i),[i]),d.getSnapshot!==s||b||Ut!==null&&Ut.memoizedState.tag&1){if(c.flags|=2048,_o(9,{destroy:void 0},D0.bind(null,c,d,o,s),null),ft===null)throw Error(r(349));g||(vr&127)!==0||R0(c,s,o)}return o}function R0(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Oe.updateQueue,s===null?(s=Zc(),Oe.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function D0(i,s,o,c){s.value=o,s.getSnapshot=c,M0(s)&&j0(i)}function O0(i,s,o){return o(function(){M0(s)&&j0(i)})}function M0(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Vn(i,o)}catch{return!0}}function j0(i){var s=da(i,2);s!==null&&Rn(s,i,2)}function Yd(i){var s=wn();if(typeof i=="function"){var o=i;if(i=o(),Ea){Xt(!0);try{o()}finally{Xt(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:i},s}function P0(i,s,o,c){return i.baseState=o,$d(i,ut,typeof c=="function"?c:_r)}function vA(i,s,o,c,d){if(rh(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};Y.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,L0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function L0(i,s){var o=s.action,c=s.payload,d=i.state;if(s.isTransition){var g=Y.T,b={};Y.T=b;try{var S=o(d,c),V=Y.S;V!==null&&V(b,S),V0(i,s,S)}catch(Q){Qd(i,s,Q)}finally{g!==null&&b.types!==null&&(g.types=b.types),Y.T=g}}else try{g=o(d,c),V0(i,s,g)}catch(Q){Qd(i,s,Q)}}function V0(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){z0(i,s,c)},function(c){return Qd(i,s,c)}):z0(i,s,o)}function z0(i,s,o){s.status="fulfilled",s.value=o,U0(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,L0(i,o)))}function Qd(i,s,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,U0(s),s=s.next;while(s!==c)}i.action=null}function U0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function B0(i,s){return s}function F0(i,s){if(Ke){var o=ft.formState;if(o!==null){e:{var c=Oe;if(Ke){if(pt){t:{for(var d=pt,g=ai;d.nodeType!==8;){if(!g){d=null;break t}if(d=li(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){pt=li(d.nextSibling),c=d.data==="F!";break e}}os(c)}c=!1}c&&(s=o[0])}}return o=wn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:B0,lastRenderedState:s},o.queue=c,o=ov.bind(null,Oe,c),c.dispatch=o,c=Yd(!1),g=tm.bind(null,Oe,!1,c.queue),c=wn(),d={state:s,dispatch:null,action:i,pending:null},c.queue=d,o=vA.bind(null,Oe,d,g,o),d.dispatch=o,c.memoizedState=i,[s,o,!1]}function q0(i){var s=Ot();return H0(s,ut,i)}function H0(i,s,o){if(s=$d(i,s,B0)[0],i=th(_r)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Gl(s)}catch(b){throw b===mo?Gc:b}else c=s;s=Ot();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(Oe.flags|=2048,_o(9,{destroy:void 0},_A.bind(null,d,o),null)),[c,g,i]}function _A(i,s){i.action=s}function G0(i){var s=Ot(),o=ut;if(o!==null)return H0(s,o,i);Ot(),s=s.memoizedState,o=Ot();var c=o.queue.dispatch;return o.memoizedState=i,[s,c,!1]}function _o(i,s,o,c){return i={tag:i,create:o,deps:c,inst:s,next:null},s=Oe.updateQueue,s===null&&(s=Zc(),Oe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,s.lastEffect=i),i}function $0(){return Ot().memoizedState}function nh(i,s,o,c){var d=wn();Oe.flags|=i,d.memoizedState=_o(1|s,{destroy:void 0},o,c===void 0?null:c)}function ih(i,s,o,c){var d=Ot();c=c===void 0?null:c;var g=d.memoizedState.inst;ut!==null&&c!==null&&Ud(c,ut.memoizedState.deps)?d.memoizedState=_o(s,g,o,c):(Oe.flags|=i,d.memoizedState=_o(1|s,g,o,c))}function K0(i,s){nh(8390656,8,i,s)}function Xd(i,s){ih(2048,8,i,s)}function xA(i){Oe.flags|=4;var s=Oe.updateQueue;if(s===null)s=Zc(),Oe.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function Y0(i){var s=Ot().memoizedState;return xA({ref:s,nextImpl:i}),function(){if((it&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Q0(i,s){return ih(4,2,i,s)}function X0(i,s){return ih(4,4,i,s)}function W0(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function J0(i,s,o){o=o!=null?o.concat([i]):null,ih(4,4,W0.bind(null,s,i),o)}function Wd(){}function Z0(i,s){var o=Ot();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Ud(s,c[1])?c[0]:(o.memoizedState=[i,s],i)}function ev(i,s){var o=Ot();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Ud(s,c[1]))return c[0];if(c=i(),Ea){Xt(!0);try{i()}finally{Xt(!1)}}return o.memoizedState=[c,s],c}function Jd(i,s,o){return o===void 0||(vr&1073741824)!==0&&(Be&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=t_(),Oe.lanes|=i,gs|=i,o)}function tv(i,s,o,c){return Vn(o,s)?o:go.current!==null?(i=Jd(i,o,c),Vn(i,s)||(Bt=!0),i):(vr&42)===0||(vr&1073741824)!==0&&(Be&261930)===0?(Bt=!0,i.memoizedState=o):(i=t_(),Oe.lanes|=i,gs|=i,s)}function nv(i,s,o,c,d){var g=oe.p;oe.p=g!==0&&8>g?g:8;var b=Y.T,S={};Y.T=S,tm(i,!1,s,o);try{var V=d(),Q=Y.S;if(Q!==null&&Q(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var te=pA(V,c);$l(i,s,te,Hn(i))}else $l(i,s,c,Hn(i))}catch(re){$l(i,s,{then:function(){},status:"rejected",reason:re},Hn())}finally{oe.p=g,b!==null&&S.types!==null&&(b.types=S.types),Y.T=b}}function bA(){}function Zd(i,s,o,c){if(i.tag!==5)throw Error(r(476));var d=iv(i).queue;nv(i,d,s,me,o===null?bA:function(){return rv(i),o(c)})}function iv(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:me},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function rv(i){var s=iv(i);s.next===null&&(s=i.alternate.memoizedState),$l(i,s.next.queue,{},Hn())}function em(){return sn(uu)}function sv(){return Ot().memoizedState}function av(){return Ot().memoizedState}function EA(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Hn();i=cs(o);var c=hs(s,i,o);c!==null&&(Rn(c,s,o),Bl(c,s,o)),s={cache:Nd()},i.payload=s;return}s=s.return}}function wA(i,s,o){var c=Hn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},rh(i)?lv(s,o):(o=vd(i,s,o,c),o!==null&&(Rn(o,i,c),uv(o,s,c)))}function ov(i,s,o){var c=Hn();$l(i,s,o,c)}function $l(i,s,o,c){var d={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(rh(i))lv(s,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,S=g(b,o);if(d.hasEagerState=!0,d.eagerState=S,Vn(S,b))return Vc(i,s,d,0),ft===null&&Lc(),!1}catch{}finally{}if(o=vd(i,s,d,c),o!==null)return Rn(o,i,c),uv(o,s,c),!0}return!1}function tm(i,s,o,c){if(c={lane:2,revertLane:Om(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},rh(i)){if(s)throw Error(r(479))}else s=vd(i,o,c,2),s!==null&&Rn(s,i,2)}function rh(i){var s=i.alternate;return i===Oe||s!==null&&s===Oe}function lv(i,s){yo=Wc=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function uv(i,s,o){if((o&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,ml(i,o)}}var Kl={readContext:sn,use:eh,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};Kl.useEffectEvent=It;var cv={readContext:sn,use:eh,useCallback:function(i,s){return wn().memoizedState=[i,s===void 0?null:s],i},useContext:sn,useEffect:K0,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,nh(4194308,4,W0.bind(null,s,i),o)},useLayoutEffect:function(i,s){return nh(4194308,4,i,s)},useInsertionEffect:function(i,s){nh(4,2,i,s)},useMemo:function(i,s){var o=wn();s=s===void 0?null:s;var c=i();if(Ea){Xt(!0);try{i()}finally{Xt(!1)}}return o.memoizedState=[c,s],c},useReducer:function(i,s,o){var c=wn();if(o!==void 0){var d=o(s);if(Ea){Xt(!0);try{o(s)}finally{Xt(!1)}}}else d=s;return c.memoizedState=c.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},c.queue=i,i=i.dispatch=wA.bind(null,Oe,i),[c.memoizedState,i]},useRef:function(i){var s=wn();return i={current:i},s.memoizedState=i},useState:function(i){i=Yd(i);var s=i.queue,o=ov.bind(null,Oe,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Wd,useDeferredValue:function(i,s){var o=wn();return Jd(o,i,s)},useTransition:function(){var i=Yd(!1);return i=nv.bind(null,Oe,i.queue,!0,!1),wn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var c=Oe,d=wn();if(Ke){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),ft===null)throw Error(r(349));(Be&127)!==0||R0(c,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,K0(O0.bind(null,c,g,i),[i]),c.flags|=2048,_o(9,{destroy:void 0},D0.bind(null,c,g,o,s),null),o},useId:function(){var i=wn(),s=ft.identifierPrefix;if(Ke){var o=Qi,c=Yi;o=(c&~(1<<32-$e(c)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Jc++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=gA++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:em,useFormState:F0,useActionState:F0,useOptimistic:function(i){var s=wn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=tm.bind(null,Oe,!0,o),o.dispatch=s,[i,s]},useMemoCache:Gd,useCacheRefresh:function(){return wn().memoizedState=EA.bind(null,Oe)},useEffectEvent:function(i){var s=wn(),o={impl:i};return s.memoizedState=o,function(){if((it&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},nm={readContext:sn,use:eh,useCallback:Z0,useContext:sn,useEffect:Xd,useImperativeHandle:J0,useInsertionEffect:Q0,useLayoutEffect:X0,useMemo:ev,useReducer:th,useRef:$0,useState:function(){return th(_r)},useDebugValue:Wd,useDeferredValue:function(i,s){var o=Ot();return tv(o,ut.memoizedState,i,s)},useTransition:function(){var i=th(_r)[0],s=Ot().memoizedState;return[typeof i=="boolean"?i:Gl(i),s]},useSyncExternalStore:k0,useId:sv,useHostTransitionStatus:em,useFormState:q0,useActionState:q0,useOptimistic:function(i,s){var o=Ot();return P0(o,ut,i,s)},useMemoCache:Gd,useCacheRefresh:av};nm.useEffectEvent=Y0;var hv={readContext:sn,use:eh,useCallback:Z0,useContext:sn,useEffect:Xd,useImperativeHandle:J0,useInsertionEffect:Q0,useLayoutEffect:X0,useMemo:ev,useReducer:Kd,useRef:$0,useState:function(){return Kd(_r)},useDebugValue:Wd,useDeferredValue:function(i,s){var o=Ot();return ut===null?Jd(o,i,s):tv(o,ut.memoizedState,i,s)},useTransition:function(){var i=Kd(_r)[0],s=Ot().memoizedState;return[typeof i=="boolean"?i:Gl(i),s]},useSyncExternalStore:k0,useId:sv,useHostTransitionStatus:em,useFormState:G0,useActionState:G0,useOptimistic:function(i,s){var o=Ot();return ut!==null?P0(o,ut,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Gd,useCacheRefresh:av};hv.useEffectEvent=Y0;function im(i,s,o,c){s=i.memoizedState,o=o(c,s),o=o==null?s:_({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var rm={enqueueSetState:function(i,s,o){i=i._reactInternals;var c=Hn(),d=cs(c);d.payload=s,o!=null&&(d.callback=o),s=hs(i,d,c),s!==null&&(Rn(s,i,c),Bl(s,i,c))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var c=Hn(),d=cs(c);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=hs(i,d,c),s!==null&&(Rn(s,i,c),Bl(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Hn(),c=cs(o);c.tag=2,s!=null&&(c.callback=s),s=hs(i,c,o),s!==null&&(Rn(s,i,o),Bl(s,i,o))}};function fv(i,s,o,c,d,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,b):s.prototype&&s.prototype.isPureReactComponent?!Ol(o,c)||!Ol(d,g):!0}function dv(i,s,o,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==i&&rm.enqueueReplaceState(s,s.state,null)}function wa(i,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(i=i.defaultProps){o===s&&(o=_({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function mv(i){Pc(i)}function pv(i){console.error(i)}function gv(i){Pc(i)}function sh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function yv(i,s,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function sm(i,s,o){return o=cs(o),o.tag=3,o.payload={element:null},o.callback=function(){sh(i,s)},o}function vv(i){return i=cs(i),i.tag=3,i}function _v(i,s,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;i.payload=function(){return d(g)},i.callback=function(){yv(s,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){yv(s,o,c),typeof d!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function TA(i,s,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&co(s,o,d,!0),o=Un.current,o!==null){switch(o.tag){case 31:case 13:return oi===null?yh():o.alternate===null&&Nt===0&&(Nt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===$c?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),km(i,c,d)),!1;case 22:return o.flags|=65536,c===$c?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),km(i,c,d)),!1}throw Error(r(435,o.tag))}return km(i,c,d),yh(),!1}if(Ke)return s=Un.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,c!==Td&&(i=Error(r(422),{cause:c}),Pl(ii(i,o)))):(c!==Td&&(s=Error(r(423),{cause:c}),Pl(ii(s,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,c=ii(c,o),d=sm(i.stateNode,c,d),jd(i,d),Nt!==4&&(Nt=2)),!1;var g=Error(r(520),{cause:c});if(g=ii(g,o),tu===null?tu=[g]:tu.push(g),Nt!==4&&(Nt=2),s===null)return!0;c=ii(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=sm(o.stateNode,c,i),jd(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ys===null||!ys.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=vv(d),_v(d,i,o,c),jd(o,d),!1}o=o.return}while(o!==null);return!1}var am=Error(r(461)),Bt=!1;function an(i,s,o,c){s.child=i===null?w0(s,null,o,c):ba(s,i.child,o,c)}function xv(i,s,o,c,d){o=o.render;var g=s.ref;if("ref"in c){var b={};for(var S in c)S!=="ref"&&(b[S]=c[S])}else b=c;return ya(s),c=Bd(i,s,o,b,g,d),S=Fd(),i!==null&&!Bt?(qd(i,s,d),xr(i,s,d)):(Ke&&S&&Ed(s),s.flags|=1,an(i,s,c,d),s.child)}function bv(i,s,o,c,d){if(i===null){var g=o.type;return typeof g=="function"&&!_d(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,Ev(i,s,g,c,d)):(i=Uc(o.type,null,c,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!mm(i,d)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:Ol,o(b,c)&&i.ref===s.ref)return xr(i,s,d)}return s.flags|=1,i=mr(g,c),i.ref=s.ref,i.return=s,s.child=i}function Ev(i,s,o,c,d){if(i!==null){var g=i.memoizedProps;if(Ol(g,c)&&i.ref===s.ref)if(Bt=!1,s.pendingProps=c=g,mm(i,d))(i.flags&131072)!==0&&(Bt=!0);else return s.lanes=i.lanes,xr(i,s,d)}return om(i,s,o,c,d)}function wv(i,s,o,c){var d=c.children,g=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=s.child=i.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~g}else c=0,s.child=null;return Tv(i,s,g,o,c)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Hc(s,g!==null?g.cachePool:null),g!==null?A0(s,g):Ld(),C0(s);else return c=s.lanes=536870912,Tv(i,s,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Hc(s,g.cachePool),A0(s,g),ds(),s.memoizedState=null):(i!==null&&Hc(s,null),Ld(),ds());return an(i,s,d,o),s.child}function Yl(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Tv(i,s,o,c,d){var g=Rd();return g=g===null?null:{parent:zt._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},i!==null&&Hc(s,null),Ld(),C0(s),i!==null&&co(i,s,c,!0),s.childLanes=d,null}function ah(i,s){return s=lh({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Sv(i,s,o){return ba(s,i.child,null,o),i=ah(s,s.pendingProps),i.flags|=2,Bn(s),s.memoizedState=null,i}function SA(i,s,o){var c=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Ke){if(c.mode==="hidden")return i=ah(s,c),s.lanes=536870912,Yl(null,i);if(zd(s),(i=pt)?(i=L_(i,ai),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ss!==null?{id:Yi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},o=l0(i),o.return=s,s.child=o,rn=s,pt=null)):i=null,i===null)throw os(s);return s.lanes=536870912,null}return ah(s,c)}var g=i.memoizedState;if(g!==null){var b=g.dehydrated;if(zd(s),d)if(s.flags&256)s.flags&=-257,s=Sv(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Bt||co(i,s,o,!1),d=(o&i.childLanes)!==0,Bt||d){if(c=ft,c!==null&&(b=pl(c,o),b!==0&&b!==g.retryLane))throw g.retryLane=b,da(i,b),Rn(c,i,b),am;yh(),s=Sv(i,s,o)}else i=g.treeContext,pt=li(b.nextSibling),rn=s,Ke=!0,as=null,ai=!1,i!==null&&h0(s,i),s=ah(s,c),s.flags|=4096;return s}return i=mr(i.child,{mode:c.mode,children:c.children}),i.ref=s.ref,s.child=i,i.return=s,i}function oh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function om(i,s,o,c,d){return ya(s),o=Bd(i,s,o,c,void 0,d),c=Fd(),i!==null&&!Bt?(qd(i,s,d),xr(i,s,d)):(Ke&&c&&Ed(s),s.flags|=1,an(i,s,o,d),s.child)}function Av(i,s,o,c,d,g){return ya(s),s.updateQueue=null,o=N0(s,c,o,d),I0(i),c=Fd(),i!==null&&!Bt?(qd(i,s,g),xr(i,s,g)):(Ke&&c&&Ed(s),s.flags|=1,an(i,s,o,g),s.child)}function Cv(i,s,o,c,d){if(ya(s),s.stateNode===null){var g=ao,b=o.contextType;typeof b=="object"&&b!==null&&(g=sn(b)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=rm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Od(s),b=o.contextType,g.context=typeof b=="object"&&b!==null?sn(b):ao,g.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(im(s,o,b,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&rm.enqueueReplaceState(g,g.state,null),ql(s,c,g,d),Fl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){g=s.stateNode;var S=s.memoizedProps,V=wa(o,S);g.props=V;var Q=g.context,te=o.contextType;b=ao,typeof te=="object"&&te!==null&&(b=sn(te));var re=o.getDerivedStateFromProps;te=typeof re=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,te||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||Q!==b)&&dv(s,g,c,b),us=!1;var X=s.memoizedState;g.state=X,ql(s,c,g,d),Fl(),Q=s.memoizedState,S||X!==Q||us?(typeof re=="function"&&(im(s,o,re,c),Q=s.memoizedState),(V=us||fv(s,o,V,c,X,Q,b))?(te||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Q),g.props=c,g.state=Q,g.context=b,c=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Md(i,s),b=s.memoizedProps,te=wa(o,b),g.props=te,re=s.pendingProps,X=g.context,Q=o.contextType,V=ao,typeof Q=="object"&&Q!==null&&(V=sn(Q)),S=o.getDerivedStateFromProps,(Q=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==re||X!==V)&&dv(s,g,c,V),us=!1,X=s.memoizedState,g.state=X,ql(s,c,g,d),Fl();var J=s.memoizedState;b!==re||X!==J||us||i!==null&&i.dependencies!==null&&Fc(i.dependencies)?(typeof S=="function"&&(im(s,o,S,c),J=s.memoizedState),(te=us||fv(s,o,te,c,X,J,V)||i!==null&&i.dependencies!==null&&Fc(i.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,J,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,J,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=J),g.props=c,g.state=J,g.context=V,c=te):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),c=!1)}return g=c,oh(i,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&c?(s.child=ba(s,i.child,null,d),s.child=ba(s,null,o,d)):an(i,s,o,d),s.memoizedState=g.state,i=s.child):i=xr(i,s,d),i}function Iv(i,s,o,c){return pa(),s.flags|=256,an(i,s,o,c),s.child}var lm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function um(i){return{baseLanes:i,cachePool:y0()}}function cm(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=qn),i}function Nv(i,s,o){var c=s.pendingProps,d=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(Dt.current&2)!==0),b&&(d=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ke){if(d?fs(s):ds(),(i=pt)?(i=L_(i,ai),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ss!==null?{id:Yi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},o=l0(i),o.return=s,s.child=o,rn=s,pt=null)):i=null,i===null)throw os(s);return $m(i)?s.lanes=32:s.lanes=536870912,null}var S=c.children;return c=c.fallback,d?(ds(),d=s.mode,S=lh({mode:"hidden",children:S},d),c=ma(c,d,o,null),S.return=s,c.return=s,S.sibling=c,s.child=S,c=s.child,c.memoizedState=um(o),c.childLanes=cm(i,b,o),s.memoizedState=lm,Yl(null,c)):(fs(s),hm(s,S))}var V=i.memoizedState;if(V!==null&&(S=V.dehydrated,S!==null)){if(g)s.flags&256?(fs(s),s.flags&=-257,s=fm(i,s,o)):s.memoizedState!==null?(ds(),s.child=i.child,s.flags|=128,s=null):(ds(),S=c.fallback,d=s.mode,c=lh({mode:"visible",children:c.children},d),S=ma(S,d,o,null),S.flags|=2,c.return=s,S.return=s,c.sibling=S,s.child=c,ba(s,i.child,null,o),c=s.child,c.memoizedState=um(o),c.childLanes=cm(i,b,o),s.memoizedState=lm,s=Yl(null,c));else if(fs(s),$m(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var Q=b.dgst;b=Q,c=Error(r(419)),c.stack="",c.digest=b,Pl({value:c,source:null,stack:null}),s=fm(i,s,o)}else if(Bt||co(i,s,o,!1),b=(o&i.childLanes)!==0,Bt||b){if(b=ft,b!==null&&(c=pl(b,o),c!==0&&c!==V.retryLane))throw V.retryLane=c,da(i,c),Rn(b,i,c),am;Gm(S)||yh(),s=fm(i,s,o)}else Gm(S)?(s.flags|=192,s.child=i.child,s=null):(i=V.treeContext,pt=li(S.nextSibling),rn=s,Ke=!0,as=null,ai=!1,i!==null&&h0(s,i),s=hm(s,c.children),s.flags|=4096);return s}return d?(ds(),S=c.fallback,d=s.mode,V=i.child,Q=V.sibling,c=mr(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,Q!==null?S=mr(Q,S):(S=ma(S,d,o,null),S.flags|=2),S.return=s,c.return=s,c.sibling=S,s.child=c,Yl(null,c),c=s.child,S=i.child.memoizedState,S===null?S=um(o):(d=S.cachePool,d!==null?(V=zt._currentValue,d=d.parent!==V?{parent:V,pool:V}:d):d=y0(),S={baseLanes:S.baseLanes|o,cachePool:d}),c.memoizedState=S,c.childLanes=cm(i,b,o),s.memoizedState=lm,Yl(i.child,c)):(fs(s),o=i.child,i=o.sibling,o=mr(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,i!==null&&(b=s.deletions,b===null?(s.deletions=[i],s.flags|=16):b.push(i)),s.child=o,s.memoizedState=null,o)}function hm(i,s){return s=lh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function lh(i,s){return i=zn(22,i,null,s),i.lanes=0,i}function fm(i,s,o){return ba(s,i.child,null,o),i=hm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function kv(i,s,o){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),Cd(i.return,s,o)}function dm(i,s,o,c,d,g){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d,treeForkCount:g}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=d,b.treeForkCount=g)}function Rv(i,s,o){var c=s.pendingProps,d=c.revealOrder,g=c.tail;c=c.children;var b=Dt.current,S=(b&2)!==0;if(S?(b=b&1|2,s.flags|=128):b&=1,M(Dt,b),an(i,s,c,o),c=Ke?jl:0,!S&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&kv(i,o,s);else if(i.tag===19)kv(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=s.child,d=null;o!==null;)i=o.alternate,i!==null&&Xc(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),dm(s,!1,d,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&Xc(i)===null){s.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}dm(s,!0,o,null,g,c);break;case"together":dm(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function xr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),gs|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(co(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=mr(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=mr(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function mm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Fc(i)))}function AA(i,s,o){switch(s.tag){case 3:At(s,s.stateNode.containerInfo),ls(s,zt,i.memoizedState.cache),pa();break;case 27:case 5:Qn(s);break;case 4:At(s,s.stateNode.containerInfo);break;case 10:ls(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,zd(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(fs(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Nv(i,s,o):(fs(s),i=xr(i,s,o),i!==null?i.sibling:null);fs(s);break;case 19:var d=(i.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(co(i,s,o,!1),c=(o&s.childLanes)!==0),d){if(c)return Rv(i,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),M(Dt,Dt.current),c)break;return null;case 22:return s.lanes=0,wv(i,s,o,s.pendingProps);case 24:ls(s,zt,i.memoizedState.cache)}return xr(i,s,o)}function Dv(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Bt=!0;else{if(!mm(i,o)&&(s.flags&128)===0)return Bt=!1,AA(i,s,o);Bt=(i.flags&131072)!==0}else Bt=!1,Ke&&(s.flags&1048576)!==0&&c0(s,jl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(i=_a(s.elementType),s.type=i,typeof i=="function")_d(i)?(c=wa(i,c),s.tag=1,s=Cv(null,s,i,c,o)):(s.tag=0,s=om(null,s,i,c,o));else{if(i!=null){var d=i.$$typeof;if(d===ee){s.tag=11,s=xv(null,s,i,c,o);break e}else if(d===j){s.tag=14,s=bv(null,s,i,c,o);break e}}throw s=ue(i)||i,Error(r(306,s,""))}}return s;case 0:return om(i,s,s.type,s.pendingProps,o);case 1:return c=s.type,d=wa(c,s.pendingProps),Cv(i,s,c,d,o);case 3:e:{if(At(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var g=s.memoizedState;d=g.element,Md(i,s),ql(s,c,null,o);var b=s.memoizedState;if(c=b.cache,ls(s,zt,c),c!==g.cache&&Id(s,[zt],o,!0),Fl(),c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=Iv(i,s,c,o);break e}else if(c!==d){d=ii(Error(r(424)),s),Pl(d),s=Iv(i,s,c,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(pt=li(i.firstChild),rn=s,Ke=!0,as=null,ai=!0,o=w0(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(pa(),c===d){s=xr(i,s,o);break e}an(i,s,c,o)}s=s.child}return s;case 26:return oh(i,s),i===null?(o=q_(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ke||(o=s.type,i=s.pendingProps,c=Th(Xe.current).createElement(o),c[Pt]=s,c[Wt]=i,on(c,o,i),Lt(c),s.stateNode=c):s.memoizedState=q_(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Qn(s),i===null&&Ke&&(c=s.stateNode=U_(s.type,s.pendingProps,Xe.current),rn=s,ai=!0,d=pt,bs(s.type)?(Km=d,pt=li(c.firstChild)):pt=d),an(i,s,s.pendingProps.children,o),oh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ke&&((d=c=pt)&&(c=nC(c,s.type,s.pendingProps,ai),c!==null?(s.stateNode=c,rn=s,pt=li(c.firstChild),ai=!1,d=!0):d=!1),d||os(s)),Qn(s),d=s.type,g=s.pendingProps,b=i!==null?i.memoizedProps:null,c=g.children,Fm(d,g)?c=null:b!==null&&Fm(d,b)&&(s.flags|=32),s.memoizedState!==null&&(d=Bd(i,s,yA,null,null,o),uu._currentValue=d),oh(i,s),an(i,s,c,o),s.child;case 6:return i===null&&Ke&&((i=o=pt)&&(o=iC(o,s.pendingProps,ai),o!==null?(s.stateNode=o,rn=s,pt=null,i=!0):i=!1),i||os(s)),null;case 13:return Nv(i,s,o);case 4:return At(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=ba(s,null,c,o):an(i,s,c,o),s.child;case 11:return xv(i,s,s.type,s.pendingProps,o);case 7:return an(i,s,s.pendingProps,o),s.child;case 8:return an(i,s,s.pendingProps.children,o),s.child;case 12:return an(i,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,ls(s,s.type,c.value),an(i,s,c.children,o),s.child;case 9:return d=s.type._context,c=s.pendingProps.children,ya(s),d=sn(d),c=c(d),s.flags|=1,an(i,s,c,o),s.child;case 14:return bv(i,s,s.type,s.pendingProps,o);case 15:return Ev(i,s,s.type,s.pendingProps,o);case 19:return Rv(i,s,o);case 31:return SA(i,s,o);case 22:return wv(i,s,o,s.pendingProps);case 24:return ya(s),c=sn(zt),i===null?(d=Rd(),d===null&&(d=ft,g=Nd(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:c,cache:d},Od(s),ls(s,zt,d)):((i.lanes&o)!==0&&(Md(i,s),ql(s,null,null,o),Fl()),d=i.memoizedState,g=s.memoizedState,d.parent!==c?(d={parent:c,cache:c},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),ls(s,zt,c)):(c=g.cache,ls(s,zt,c),c!==d.cache&&Id(s,[zt],o,!0))),an(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function br(i){i.flags|=4}function pm(i,s,o,c,d){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(s_())i.flags|=8192;else throw xa=$c,Dd}else i.flags&=-16777217}function Ov(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Y_(s))if(s_())i.flags|=8192;else throw xa=$c,Dd}function uh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?pc():536870912,i.lanes|=s,wo|=s)}function Ql(i,s){if(!Ke)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function gt(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(s)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=c,i.childLanes=o,s}function CA(i,s,o){var c=s.pendingProps;switch(wd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return o=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),yr(zt),bt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(uo(s)?br(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Sd())),gt(s),null;case 26:var d=s.type,g=s.memoizedState;return i===null?(br(s),g!==null?(gt(s),Ov(s,g)):(gt(s),pm(s,d,null,c,o))):g?g!==i.memoizedState?(br(s),gt(s),Ov(s,g)):(gt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==c&&br(s),gt(s),pm(s,d,i,c,o)),null;case 27:if(di(s),o=Xe.current,d=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&br(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return gt(s),null}i=Ne.current,uo(s)?f0(s):(i=U_(d,c,o),s.stateNode=i,br(s))}return gt(s),null;case 5:if(di(s),d=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&br(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return gt(s),null}if(g=Ne.current,uo(s))f0(s);else{var b=Th(Xe.current);switch(g){case 1:g=b.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=b.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=b.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?b.createElement(d,{is:c.is}):b.createElement(d)}}g[Pt]=s,g[Wt]=c;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)g.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=g;e:switch(on(g,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&br(s)}}return gt(s),pm(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&br(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=Xe.current,uo(s)){if(i=s.stateNode,o=s.memoizedProps,c=null,d=rn,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}i[Pt]=s,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||N_(i.nodeValue,o)),i||os(s,!0)}else i=Th(i).createTextNode(c),i[Pt]=s,s.stateNode=i}return gt(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(c=uo(s),o!==null){if(i===null){if(!c)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Pt]=s}else pa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),i=!1}else o=Sd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(Bn(s),s):(Bn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return gt(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=uo(s),c!==null&&c.dehydrated!==null){if(i===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Pt]=s}else pa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),d=!1}else d=Sd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Bn(s),s):(Bn(s),null)}return Bn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=s.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),uh(s,s.updateQueue),gt(s),null);case 4:return bt(),i===null&&Lm(s.stateNode.containerInfo),gt(s),null;case 10:return yr(s.type),gt(s),null;case 19:if(Le(Dt),c=s.memoizedState,c===null)return gt(s),null;if(d=(s.flags&128)!==0,g=c.rendering,g===null)if(d)Ql(c,!1);else{if(Nt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=Xc(i),g!==null){for(s.flags|=128,Ql(c,!1),i=g.updateQueue,s.updateQueue=i,uh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)o0(o,i),o=o.sibling;return M(Dt,Dt.current&1|2),Ke&&pr(s,c.treeForkCount),s.child}i=i.sibling}c.tail!==null&&tn()>mh&&(s.flags|=128,d=!0,Ql(c,!1),s.lanes=4194304)}else{if(!d)if(i=Xc(g),i!==null){if(s.flags|=128,d=!0,i=i.updateQueue,s.updateQueue=i,uh(s,i),Ql(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Ke)return gt(s),null}else 2*tn()-c.renderingStartTime>mh&&o!==536870912&&(s.flags|=128,d=!0,Ql(c,!1),s.lanes=4194304);c.isBackwards?(g.sibling=s.child,s.child=g):(i=c.last,i!==null?i.sibling=g:s.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=tn(),i.sibling=null,o=Dt.current,M(Dt,d?o&1|2:o&1),Ke&&pr(s,c.treeForkCount),i):(gt(s),null);case 22:case 23:return Bn(s),Vd(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),o=s.updateQueue,o!==null&&uh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),i!==null&&Le(va),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),yr(zt),gt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function IA(i,s){switch(wd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return yr(zt),bt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return di(s),null;case 31:if(s.memoizedState!==null){if(Bn(s),s.alternate===null)throw Error(r(340));pa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Bn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));pa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Le(Dt),null;case 4:return bt(),null;case 10:return yr(s.type),null;case 22:case 23:return Bn(s),Vd(),i!==null&&Le(va),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return yr(zt),null;case 25:return null;default:return null}}function Mv(i,s){switch(wd(s),s.tag){case 3:yr(zt),bt();break;case 26:case 27:case 5:di(s);break;case 4:bt();break;case 31:s.memoizedState!==null&&Bn(s);break;case 13:Bn(s);break;case 19:Le(Dt);break;case 10:yr(s.type);break;case 22:case 23:Bn(s),Vd(),i!==null&&Le(va);break;case 24:yr(zt)}}function Xl(i,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&i)===i){c=void 0;var g=o.create,b=o.inst;c=g(),b.destroy=c}o=o.next}while(o!==d)}}catch(S){ot(s,s.return,S)}}function ms(i,s,o){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&i)===i){var b=c.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,d=s;var V=o,Q=S;try{Q()}catch(te){ot(d,V,te)}}}c=c.next}while(c!==g)}}catch(te){ot(s,s.return,te)}}function jv(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{S0(s,o)}catch(c){ot(i,i.return,c)}}}function Pv(i,s,o){o.props=wa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){ot(i,s,c)}}function Wl(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(d){ot(i,s,d)}}function Xi(i,s){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){ot(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){ot(i,s,d)}else o.current=null}function Lv(i){var s=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){ot(i,i.return,d)}}function gm(i,s,o){try{var c=i.stateNode;XA(c,i.type,o,s),c[Wt]=s}catch(d){ot(i,i.return,d)}}function Vv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&bs(i.type)||i.tag===4}function ym(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Vv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&bs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function vm(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=vi));else if(c!==4&&(c===27&&bs(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(vm(i,s,o),i=i.sibling;i!==null;)vm(i,s,o),i=i.sibling}function ch(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(c!==4&&(c===27&&bs(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(ch(i,s,o),i=i.sibling;i!==null;)ch(i,s,o),i=i.sibling}function zv(i){var s=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);on(s,c,o),s[Pt]=i,s[Wt]=o}catch(g){ot(i,i.return,g)}}var Er=!1,Ft=!1,_m=!1,Uv=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function NA(i,s){if(i=i.containerInfo,Um=Rh,i=Jy(i),fd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,S=-1,V=-1,Q=0,te=0,re=i,X=null;t:for(;;){for(var J;re!==o||d!==0&&re.nodeType!==3||(S=b+d),re!==g||c!==0&&re.nodeType!==3||(V=b+c),re.nodeType===3&&(b+=re.nodeValue.length),(J=re.firstChild)!==null;)X=re,re=J;for(;;){if(re===i)break t;if(X===o&&++Q===d&&(S=b),X===g&&++te===c&&(V=b),(J=re.nextSibling)!==null)break;re=X,X=re.parentNode}re=J}o=S===-1||V===-1?null:{start:S,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(Bm={focusedElem:i,selectionRange:o},Rh=!1,Zt=s;Zt!==null;)if(s=Zt,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Zt=i;else for(;Zt!==null;){switch(s=Zt,g=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var ge=wa(o.type,d);i=c.getSnapshotBeforeUpdate(ge,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(Te){ot(o,o.return,Te)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Hm(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Hm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Zt=i;break}Zt=s.return}}function Bv(i,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Tr(i,o),c&4&&Xl(5,o);break;case 1:if(Tr(i,o),c&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(b){ot(o,o.return,b)}else{var d=wa(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(b){ot(o,o.return,b)}}c&64&&jv(o),c&512&&Wl(o,o.return);break;case 3:if(Tr(i,o),c&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{S0(i,s)}catch(b){ot(o,o.return,b)}}break;case 27:s===null&&c&4&&zv(o);case 26:case 5:Tr(i,o),s===null&&c&4&&Lv(o),c&512&&Wl(o,o.return);break;case 12:Tr(i,o);break;case 31:Tr(i,o),c&4&&Hv(i,o);break;case 13:Tr(i,o),c&4&&Gv(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=VA.bind(null,o),rC(i,o))));break;case 22:if(c=o.memoizedState!==null||Er,!c){s=s!==null&&s.memoizedState!==null||Ft,d=Er;var g=Ft;Er=c,(Ft=s)&&!g?Sr(i,o,(o.subtreeFlags&8772)!==0):Tr(i,o),Er=d,Ft=g}break;case 30:break;default:Tr(i,o)}}function Fv(i){var s=i.alternate;s!==null&&(i.alternate=null,Fv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&$a(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var xt=null,Cn=!1;function wr(i,s,o){for(o=o.child;o!==null;)qv(i,s,o),o=o.sibling}function qv(i,s,o){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(kt,o)}catch{}switch(o.tag){case 26:Ft||Xi(o,s),wr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ft||Xi(o,s);var c=xt,d=Cn;bs(o.type)&&(xt=o.stateNode,Cn=!1),wr(i,s,o),au(o.stateNode),xt=c,Cn=d;break;case 5:Ft||Xi(o,s);case 6:if(c=xt,d=Cn,xt=null,wr(i,s,o),xt=c,Cn=d,xt!==null)if(Cn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(o.stateNode)}catch(g){ot(o,s,g)}else try{xt.removeChild(o.stateNode)}catch(g){ot(o,s,g)}break;case 18:xt!==null&&(Cn?(i=xt,j_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Ro(i)):j_(xt,o.stateNode));break;case 4:c=xt,d=Cn,xt=o.stateNode.containerInfo,Cn=!0,wr(i,s,o),xt=c,Cn=d;break;case 0:case 11:case 14:case 15:ms(2,o,s),Ft||ms(4,o,s),wr(i,s,o);break;case 1:Ft||(Xi(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Pv(o,s,c)),wr(i,s,o);break;case 21:wr(i,s,o);break;case 22:Ft=(c=Ft)||o.memoizedState!==null,wr(i,s,o),Ft=c;break;default:wr(i,s,o)}}function Hv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ro(i)}catch(o){ot(s,s.return,o)}}}function Gv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ro(i)}catch(o){ot(s,s.return,o)}}function kA(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Uv),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Uv),s;default:throw Error(r(435,i.tag))}}function hh(i,s){var o=kA(i);s.forEach(function(c){if(!o.has(c)){o.add(c);var d=zA.bind(null,i,c);c.then(d,d)}})}function In(i,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],g=i,b=s,S=b;e:for(;S!==null;){switch(S.tag){case 27:if(bs(S.type)){xt=S.stateNode,Cn=!1;break e}break;case 5:xt=S.stateNode,Cn=!1;break e;case 3:case 4:xt=S.stateNode.containerInfo,Cn=!0;break e}S=S.return}if(xt===null)throw Error(r(160));qv(g,b,d),xt=null,Cn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)$v(s,i),s=s.sibling}var Ti=null;function $v(i,s){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:In(s,i),Nn(i),c&4&&(ms(3,i,i.return),Xl(3,i),ms(5,i,i.return));break;case 1:In(s,i),Nn(i),c&512&&(Ft||o===null||Xi(o,o.return)),c&64&&Er&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=Ti;if(In(s,i),Nn(i),c&512&&(Ft||o===null||Xi(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Pi]||g[Pt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),on(g,c,o),g[Pt]=i,Lt(g),c=g;break e;case"link":var b=$_("link","href",d).get(c+(o.href||""));if(b){for(var S=0;S<b.length;S++)if(g=b[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(S,1);break t}}g=d.createElement(c),on(g,c,o),d.head.appendChild(g);break;case"meta":if(b=$_("meta","content",d).get(c+(o.content||""))){for(S=0;S<b.length;S++)if(g=b[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(S,1);break t}}g=d.createElement(c),on(g,c,o),d.head.appendChild(g);break;default:throw Error(r(468,c))}g[Pt]=i,Lt(g),c=g}i.stateNode=c}else K_(d,i.type,i.stateNode);else i.stateNode=G_(d,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?K_(d,i.type,i.stateNode):G_(d,c,i.memoizedProps)):c===null&&i.stateNode!==null&&gm(i,i.memoizedProps,o.memoizedProps)}break;case 27:In(s,i),Nn(i),c&512&&(Ft||o===null||Xi(o,o.return)),o!==null&&c&4&&gm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(In(s,i),Nn(i),c&512&&(Ft||o===null||Xi(o,o.return)),i.flags&32){d=i.stateNode;try{An(d,"")}catch(ge){ot(i,i.return,ge)}}c&4&&i.stateNode!=null&&(d=i.memoizedProps,gm(i,d,o!==null?o.memoizedProps:d)),c&1024&&(_m=!0);break;case 6:if(In(s,i),Nn(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(ge){ot(i,i.return,ge)}}break;case 3:if(Ch=null,d=Ti,Ti=Sh(s.containerInfo),In(s,i),Ti=d,Nn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Ro(s.containerInfo)}catch(ge){ot(i,i.return,ge)}_m&&(_m=!1,Kv(i));break;case 4:c=Ti,Ti=Sh(i.stateNode.containerInfo),In(s,i),Nn(i),Ti=c;break;case 12:In(s,i),Nn(i);break;case 31:In(s,i),Nn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,hh(i,c)));break;case 13:In(s,i),Nn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(dh=tn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,hh(i,c)));break;case 22:d=i.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,Q=Er,te=Ft;if(Er=Q||d,Ft=te||V,In(s,i),Ft=te,Er=Q,Nn(i),c&8192)e:for(s=i.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||V||Er||Ft||Ta(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){V=o=s;try{if(g=V.stateNode,d)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=V.stateNode;var re=V.memoizedProps.style,X=re!=null&&re.hasOwnProperty("display")?re.display:null;S.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(ge){ot(V,V.return,ge)}}}else if(s.tag===6){if(o===null){V=s;try{V.stateNode.nodeValue=d?"":V.memoizedProps}catch(ge){ot(V,V.return,ge)}}}else if(s.tag===18){if(o===null){V=s;try{var J=V.stateNode;d?P_(J,!0):P_(V.stateNode,!1)}catch(ge){ot(V,V.return,ge)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,hh(i,o))));break;case 19:In(s,i),Nn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,hh(i,c)));break;case 30:break;case 21:break;default:In(s,i),Nn(i)}}function Nn(i){var s=i.flags;if(s&2){try{for(var o,c=i.return;c!==null;){if(Vv(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var d=o.stateNode,g=ym(i);ch(i,g,d);break;case 5:var b=o.stateNode;o.flags&32&&(An(b,""),o.flags&=-33);var S=ym(i);ch(i,S,b);break;case 3:case 4:var V=o.stateNode.containerInfo,Q=ym(i);vm(i,Q,V);break;default:throw Error(r(161))}}catch(te){ot(i,i.return,te)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Kv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Kv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Tr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Bv(i,s.alternate,s),s=s.sibling}function Ta(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ms(4,s,s.return),Ta(s);break;case 1:Xi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Pv(s,s.return,o),Ta(s);break;case 27:au(s.stateNode);case 26:case 5:Xi(s,s.return),Ta(s);break;case 22:s.memoizedState===null&&Ta(s);break;case 30:Ta(s);break;default:Ta(s)}i=i.sibling}}function Sr(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,d=i,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:Sr(d,g,o),Xl(4,g);break;case 1:if(Sr(d,g,o),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Q){ot(c,c.return,Q)}if(c=g,d=c.updateQueue,d!==null){var S=c.stateNode;try{var V=d.shared.hiddenCallbacks;if(V!==null)for(d.shared.hiddenCallbacks=null,d=0;d<V.length;d++)T0(V[d],S)}catch(Q){ot(c,c.return,Q)}}o&&b&64&&jv(g),Wl(g,g.return);break;case 27:zv(g);case 26:case 5:Sr(d,g,o),o&&c===null&&b&4&&Lv(g),Wl(g,g.return);break;case 12:Sr(d,g,o);break;case 31:Sr(d,g,o),o&&b&4&&Hv(d,g);break;case 13:Sr(d,g,o),o&&b&4&&Gv(d,g);break;case 22:g.memoizedState===null&&Sr(d,g,o),Wl(g,g.return);break;case 30:break;default:Sr(d,g,o)}s=s.sibling}}function xm(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Ll(o))}function bm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ll(i))}function Si(i,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Yv(i,s,o,c),s=s.sibling}function Yv(i,s,o,c){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Si(i,s,o,c),d&2048&&Xl(9,s);break;case 1:Si(i,s,o,c);break;case 3:Si(i,s,o,c),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ll(i)));break;case 12:if(d&2048){Si(i,s,o,c),i=s.stateNode;try{var g=s.memoizedProps,b=g.id,S=g.onPostCommit;typeof S=="function"&&S(b,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){ot(s,s.return,V)}}else Si(i,s,o,c);break;case 31:Si(i,s,o,c);break;case 13:Si(i,s,o,c);break;case 23:break;case 22:g=s.stateNode,b=s.alternate,s.memoizedState!==null?g._visibility&2?Si(i,s,o,c):Jl(i,s):g._visibility&2?Si(i,s,o,c):(g._visibility|=2,xo(i,s,o,c,(s.subtreeFlags&10256)!==0||!1)),d&2048&&xm(b,s);break;case 24:Si(i,s,o,c),d&2048&&bm(s.alternate,s);break;default:Si(i,s,o,c)}}function xo(i,s,o,c,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=i,b=s,S=o,V=c,Q=b.flags;switch(b.tag){case 0:case 11:case 15:xo(g,b,S,V,d),Xl(8,b);break;case 23:break;case 22:var te=b.stateNode;b.memoizedState!==null?te._visibility&2?xo(g,b,S,V,d):Jl(g,b):(te._visibility|=2,xo(g,b,S,V,d)),d&&Q&2048&&xm(b.alternate,b);break;case 24:xo(g,b,S,V,d),d&&Q&2048&&bm(b.alternate,b);break;default:xo(g,b,S,V,d)}s=s.sibling}}function Jl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,c=s,d=c.flags;switch(c.tag){case 22:Jl(o,c),d&2048&&xm(c.alternate,c);break;case 24:Jl(o,c),d&2048&&bm(c.alternate,c);break;default:Jl(o,c)}s=s.sibling}}var Zl=8192;function bo(i,s,o){if(i.subtreeFlags&Zl)for(i=i.child;i!==null;)Qv(i,s,o),i=i.sibling}function Qv(i,s,o){switch(i.tag){case 26:bo(i,s,o),i.flags&Zl&&i.memoizedState!==null&&gC(o,Ti,i.memoizedState,i.memoizedProps);break;case 5:bo(i,s,o);break;case 3:case 4:var c=Ti;Ti=Sh(i.stateNode.containerInfo),bo(i,s,o),Ti=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Zl,Zl=16777216,bo(i,s,o),Zl=c):bo(i,s,o));break;default:bo(i,s,o)}}function Xv(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function eu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Zt=c,Jv(c,i)}Xv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Wv(i),i=i.sibling}function Wv(i){switch(i.tag){case 0:case 11:case 15:eu(i),i.flags&2048&&ms(9,i,i.return);break;case 3:eu(i);break;case 12:eu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,fh(i)):eu(i);break;default:eu(i)}}function fh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Zt=c,Jv(c,i)}Xv(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ms(8,s,s.return),fh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,fh(s));break;default:fh(s)}i=i.sibling}}function Jv(i,s){for(;Zt!==null;){var o=Zt;switch(o.tag){case 0:case 11:case 15:ms(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ll(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Zt=c;else e:for(o=i;Zt!==null;){c=Zt;var d=c.sibling,g=c.return;if(Fv(c),c===o){Zt=null;break e}if(d!==null){d.return=g,Zt=d;break e}Zt=g}}}var RA={getCacheForType:function(i){var s=sn(zt),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return sn(zt).controller.signal}},DA=typeof WeakMap=="function"?WeakMap:Map,it=0,ft=null,Ve=null,Be=0,at=0,Fn=null,ps=!1,Eo=!1,Em=!1,Ar=0,Nt=0,gs=0,Sa=0,wm=0,qn=0,wo=0,tu=null,kn=null,Tm=!1,dh=0,Zv=0,mh=1/0,ph=null,ys=null,$t=0,vs=null,To=null,Cr=0,Sm=0,Am=null,e_=null,nu=0,Cm=null;function Hn(){return(it&2)!==0&&Be!==0?Be&-Be:Y.T!==null?Om():gc()}function t_(){if(qn===0)if((Be&536870912)===0||Ke){var i=Js;Js<<=1,(Js&3932160)===0&&(Js=262144),qn=i}else qn=536870912;return i=Un.current,i!==null&&(i.flags|=32),qn}function Rn(i,s,o){(i===ft&&(at===2||at===9)||i.cancelPendingCommit!==null)&&(So(i,0),_s(i,Be,qn,!1)),Zs(i,o),((it&2)===0||i!==ft)&&(i===ft&&((it&2)===0&&(Sa|=o),Nt===4&&_s(i,Be,qn,!1)),Wi(i))}function n_(i,s,o){if((it&6)!==0)throw Error(r(327));var c=!o&&(s&127)===0&&(s&i.expiredLanes)===0||pi(i,s),d=c?jA(i,s):Nm(i,s,!0),g=c;do{if(d===0){Eo&&!c&&_s(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!OA(o)){d=Nm(i,s,!1),g=!1;continue}if(d===2){if(g=s,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var S=i;d=tu;var V=S.current.memoizedState.isDehydrated;if(V&&(So(S,b).flags|=256),b=Nm(S,b,!1),b!==2){if(Em&&!V){S.errorRecoveryDisabledLanes|=g,Sa|=g,d=4;break e}g=kn,kn=d,g!==null&&(kn===null?kn=g:kn.push.apply(kn,g))}d=b}if(g=!1,d!==2)continue}}if(d===1){So(i,0),_s(i,s,0,!0);break}e:{switch(c=i,g=d,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:_s(c,s,qn,!ps);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=dh+300-tn(),10<d)){if(_s(c,s,qn,!ps),Oi(c,0,!0)!==0)break e;Cr=s,c.timeoutHandle=O_(i_.bind(null,c,o,kn,ph,Tm,s,qn,Sa,wo,ps,g,"Throttled",-0,0),d);break e}i_(c,o,kn,ph,Tm,s,qn,Sa,wo,ps,g,null,-0,0)}}break}while(!0);Wi(i)}function i_(i,s,o,c,d,g,b,S,V,Q,te,re,X,J){if(i.timeoutHandle=-1,re=s.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vi},Qv(s,g,re);var ge=(g&62914560)===g?dh-tn():(g&4194048)===g?Zv-tn():0;if(ge=yC(re,ge),ge!==null){Cr=g,i.cancelPendingCommit=ge(h_.bind(null,i,s,g,o,c,d,b,S,V,te,re,null,X,J)),_s(i,g,b,!Q);return}}h_(i,s,g,o,c,d,b,S,V)}function OA(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],g=d.getSnapshot;d=d.value;try{if(!Vn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function _s(i,s,o,c){s&=~wm,s&=~Sa,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var d=s;0<d;){var g=31-$e(d),b=1<<g;c[g]=-1,d&=~b}o!==0&&ea(i,o,s)}function gh(){return(it&6)===0?(iu(0),!1):!0}function Im(){if(Ve!==null){if(at===0)var i=Ve.return;else i=Ve,gr=ga=null,Hd(i),po=null,zl=0,i=Ve;for(;i!==null;)Mv(i.alternate,i),i=i.return;Ve=null}}function So(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,ZA(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Cr=0,Im(),ft=i,Ve=o=mr(i.current,null),Be=s,at=0,Fn=null,ps=!1,Eo=pi(i,s),Em=!1,wo=qn=wm=Sa=gs=Nt=0,kn=tu=null,Tm=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var d=31-$e(c),g=1<<d;s|=i[d],c&=~g}return Ar=s,Lc(),o}function r_(i,s){Oe=null,Y.H=Kl,s===mo||s===Gc?(s=x0(),at=3):s===Dd?(s=x0(),at=4):at=s===am?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Fn=s,Ve===null&&(Nt=1,sh(i,ii(s,i.current)))}function s_(){var i=Un.current;return i===null?!0:(Be&4194048)===Be?oi===null:(Be&62914560)===Be||(Be&536870912)!==0?i===oi:!1}function a_(){var i=Y.H;return Y.H=Kl,i===null?Kl:i}function o_(){var i=Y.A;return Y.A=RA,i}function yh(){Nt=4,ps||(Be&4194048)!==Be&&Un.current!==null||(Eo=!0),(gs&134217727)===0&&(Sa&134217727)===0||ft===null||_s(ft,Be,qn,!1)}function Nm(i,s,o){var c=it;it|=2;var d=a_(),g=o_();(ft!==i||Be!==s)&&(ph=null,So(i,s)),s=!1;var b=Nt;e:do try{if(at!==0&&Ve!==null){var S=Ve,V=Fn;switch(at){case 8:Im(),b=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(s=!0);var Q=at;if(at=0,Fn=null,Ao(i,S,V,Q),o&&Eo){b=0;break e}break;default:Q=at,at=0,Fn=null,Ao(i,S,V,Q)}}MA(),b=Nt;break}catch(te){r_(i,te)}while(!0);return s&&i.shellSuspendCounter++,gr=ga=null,it=c,Y.H=d,Y.A=g,Ve===null&&(ft=null,Be=0,Lc()),b}function MA(){for(;Ve!==null;)l_(Ve)}function jA(i,s){var o=it;it|=2;var c=a_(),d=o_();ft!==i||Be!==s?(ph=null,mh=tn()+500,So(i,s)):Eo=pi(i,s);e:do try{if(at!==0&&Ve!==null){s=Ve;var g=Fn;t:switch(at){case 1:at=0,Fn=null,Ao(i,s,g,1);break;case 2:case 9:if(v0(g)){at=0,Fn=null,u_(s);break}s=function(){at!==2&&at!==9||ft!==i||(at=7),Wi(i)},g.then(s,s);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:v0(g)?(at=0,Fn=null,u_(s)):(at=0,Fn=null,Ao(i,s,g,7));break;case 5:var b=null;switch(Ve.tag){case 26:b=Ve.memoizedState;case 5:case 27:var S=Ve;if(b?Y_(b):S.stateNode.complete){at=0,Fn=null;var V=S.sibling;if(V!==null)Ve=V;else{var Q=S.return;Q!==null?(Ve=Q,vh(Q)):Ve=null}break t}}at=0,Fn=null,Ao(i,s,g,5);break;case 6:at=0,Fn=null,Ao(i,s,g,6);break;case 8:Im(),Nt=6;break e;default:throw Error(r(462))}}PA();break}catch(te){r_(i,te)}while(!0);return gr=ga=null,Y.H=c,Y.A=d,it=o,Ve!==null?0:(ft=null,Be=0,Lc(),Nt)}function PA(){for(;Ve!==null&&!dl();)l_(Ve)}function l_(i){var s=Dv(i.alternate,i,Ar);i.memoizedProps=i.pendingProps,s===null?vh(i):Ve=s}function u_(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=Av(o,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=Av(o,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:Hd(s);default:Mv(o,s),s=Ve=o0(s,Ar),s=Dv(o,s,Ar)}i.memoizedProps=i.pendingProps,s===null?vh(i):Ve=s}function Ao(i,s,o,c){gr=ga=null,Hd(s),po=null,zl=0;var d=s.return;try{if(TA(i,d,s,o,Be)){Nt=1,sh(i,ii(o,i.current)),Ve=null;return}}catch(g){if(d!==null)throw Ve=d,g;Nt=1,sh(i,ii(o,i.current)),Ve=null;return}s.flags&32768?(Ke||c===1?i=!0:Eo||(Be&536870912)!==0?i=!1:(ps=i=!0,(c===2||c===9||c===3||c===6)&&(c=Un.current,c!==null&&c.tag===13&&(c.flags|=16384))),c_(s,i)):vh(s)}function vh(i){var s=i;do{if((s.flags&32768)!==0){c_(s,ps);return}i=s.return;var o=CA(s.alternate,s,Ar);if(o!==null){Ve=o;return}if(s=s.sibling,s!==null){Ve=s;return}Ve=s=i}while(s!==null);Nt===0&&(Nt=5)}function c_(i,s){do{var o=IA(i.alternate,i);if(o!==null){o.flags&=32767,Ve=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Ve=i;return}Ve=i=o}while(i!==null);Nt=6,Ve=null}function h_(i,s,o,c,d,g,b,S,V){i.cancelPendingCommit=null;do _h();while($t!==0);if((it&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=yd,ld(i,o,g,b,S,V),i===ft&&(Ve=ft=null,Be=0),To=s,vs=i,Cr=o,Sm=g,Am=d,e_=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,UA(be,function(){return g_(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null,d=oe.p,oe.p=2,b=it,it|=4;try{NA(i,s,o)}finally{it=b,oe.p=d,Y.T=c}}$t=1,f_(),d_(),m_()}}function f_(){if($t===1){$t=0;var i=vs,s=To,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null;var c=oe.p;oe.p=2;var d=it;it|=4;try{$v(s,i);var g=Bm,b=Jy(i.containerInfo),S=g.focusedElem,V=g.selectionRange;if(b!==S&&S&&S.ownerDocument&&Wy(S.ownerDocument.documentElement,S)){if(V!==null&&fd(S)){var Q=V.start,te=V.end;if(te===void 0&&(te=Q),"selectionStart"in S)S.selectionStart=Q,S.selectionEnd=Math.min(te,S.value.length);else{var re=S.ownerDocument||document,X=re&&re.defaultView||window;if(X.getSelection){var J=X.getSelection(),ge=S.textContent.length,Te=Math.min(V.start,ge),ht=V.end===void 0?Te:Math.min(V.end,ge);!J.extend&&Te>ht&&(b=ht,ht=Te,Te=b);var H=Xy(S,Te),B=Xy(S,ht);if(H&&B&&(J.rangeCount!==1||J.anchorNode!==H.node||J.anchorOffset!==H.offset||J.focusNode!==B.node||J.focusOffset!==B.offset)){var K=re.createRange();K.setStart(H.node,H.offset),J.removeAllRanges(),Te>ht?(J.addRange(K),J.extend(B.node,B.offset)):(K.setEnd(B.node,B.offset),J.addRange(K))}}}}for(re=[],J=S;J=J.parentNode;)J.nodeType===1&&re.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<re.length;S++){var ie=re[S];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Rh=!!Um,Bm=Um=null}finally{it=d,oe.p=c,Y.T=o}}i.current=s,$t=2}}function d_(){if($t===2){$t=0;var i=vs,s=To,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Y.T,Y.T=null;var c=oe.p;oe.p=2;var d=it;it|=4;try{Bv(i,s.alternate,s)}finally{it=d,oe.p=c,Y.T=o}}$t=3}}function m_(){if($t===4||$t===3){$t=0,Ha();var i=vs,s=To,o=Cr,c=e_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?$t=5:($t=0,To=vs=null,p_(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(ys=null),cr(o),s=s.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(kt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=Y.T,d=oe.p,oe.p=2,Y.T=null;try{for(var g=i.onRecoverableError,b=0;b<c.length;b++){var S=c[b];g(S.value,{componentStack:S.stack})}}finally{Y.T=s,oe.p=d}}(Cr&3)!==0&&_h(),Wi(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===Cm?nu++:(nu=0,Cm=i):nu=0,iu(0)}}function p_(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Ll(s)))}function _h(){return f_(),d_(),m_(),g_()}function g_(){if($t!==5)return!1;var i=vs,s=Sm;Sm=0;var o=cr(Cr),c=Y.T,d=oe.p;try{oe.p=32>o?32:o,Y.T=null,o=Am,Am=null;var g=vs,b=Cr;if($t=0,To=vs=null,Cr=0,(it&6)!==0)throw Error(r(331));var S=it;if(it|=4,Wv(g.current),Yv(g,g.current,b,o),it=S,iu(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(kt,g)}catch{}return!0}finally{oe.p=d,Y.T=c,p_(i,s)}}function y_(i,s,o){s=ii(o,s),s=sm(i.stateNode,s,2),i=hs(i,s,2),i!==null&&(Zs(i,2),Wi(i))}function ot(i,s,o){if(i.tag===3)y_(i,i,o);else for(;s!==null;){if(s.tag===3){y_(s,i,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ys===null||!ys.has(c))){i=ii(o,i),o=vv(2),c=hs(s,o,2),c!==null&&(_v(o,c,s,i),Zs(c,2),Wi(c));break}}s=s.return}}function km(i,s,o){var c=i.pingCache;if(c===null){c=i.pingCache=new DA;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(o)||(Em=!0,d.add(o),i=LA.bind(null,i,s,o),s.then(i,i))}function LA(i,s,o){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ft===i&&(Be&o)===o&&(Nt===4||Nt===3&&(Be&62914560)===Be&&300>tn()-dh?(it&2)===0&&So(i,0):wm|=o,wo===Be&&(wo=0)),Wi(i)}function v_(i,s){s===0&&(s=pc()),i=da(i,s),i!==null&&(Zs(i,s),Wi(i))}function VA(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),v_(i,o)}function zA(i,s){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),v_(i,o)}function UA(i,s){return Ct(i,s)}var xh=null,Co=null,Rm=!1,bh=!1,Dm=!1,xs=0;function Wi(i){i!==Co&&i.next===null&&(Co===null?xh=Co=i:Co=Co.next=i),bh=!0,Rm||(Rm=!0,FA())}function iu(i,s){if(!Dm&&bh){Dm=!0;do for(var o=!1,c=xh;c!==null;){if(i!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var b=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-$e(42|i)+1)-1,g&=d&~(b&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,E_(c,g))}else g=Be,g=Oi(c,c===ft?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||pi(c,g)||(o=!0,E_(c,g));c=c.next}while(o);Dm=!1}}function BA(){__()}function __(){bh=Rm=!1;var i=0;xs!==0&&JA()&&(i=xs);for(var s=tn(),o=null,c=xh;c!==null;){var d=c.next,g=x_(c,s);g===0?(c.next=null,o===null?xh=d:o.next=d,d===null&&(Co=o)):(o=c,(i!==0||(g&3)!==0)&&(bh=!0)),c=d}$t!==0&&$t!==5||iu(i),xs!==0&&(xs=0)}function x_(i,s){for(var o=i.suspendedLanes,c=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-$e(g),S=1<<b,V=d[b];V===-1?((S&o)===0||(S&c)!==0)&&(d[b]=od(S,s)):V<=s&&(i.expiredLanes|=S),g&=~S}if(s=ft,o=Be,o=Oi(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===s&&(at===2||at===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&ki(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||pi(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(c!==null&&ki(c),cr(o)){case 2:case 8:o=fe;break;case 32:o=be;break;case 268435456:o=Je;break;default:o=be}return c=b_.bind(null,i),o=Ct(o,c),i.callbackPriority=s,i.callbackNode=o,s}return c!==null&&c!==null&&ki(c),i.callbackPriority=2,i.callbackNode=null,2}function b_(i,s){if($t!==0&&$t!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(_h()&&i.callbackNode!==o)return null;var c=Be;return c=Oi(i,i===ft?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(n_(i,c,s),x_(i,tn()),i.callbackNode!=null&&i.callbackNode===o?b_.bind(null,i):null)}function E_(i,s){if(_h())return null;n_(i,s,!0)}function FA(){eC(function(){(it&6)!==0?Ct(ne,BA):__()})}function Om(){if(xs===0){var i=ho;i===0&&(i=Ri,Ri<<=1,(Ri&261888)===0&&(Ri=256)),xs=i}return xs}function w_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Xa(""+i)}function T_(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function qA(i,s,o,c,d){if(s==="submit"&&o&&o.stateNode===d){var g=w_((d[Wt]||null).action),b=c.submitter;b&&(s=(s=b[Wt]||null)?w_(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var S=new Hi("action","action",null,c,d);i.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(xs!==0){var V=b?T_(d,b):new FormData(d);Zd(o,{pending:!0,data:V,method:d.method,action:g},null,V)}}else typeof g=="function"&&(S.preventDefault(),V=b?T_(d,b):new FormData(d),Zd(o,{pending:!0,data:V,method:d.method,action:g},g,V))},currentTarget:d}]})}}for(var Mm=0;Mm<gd.length;Mm++){var jm=gd[Mm],HA=jm.toLowerCase(),GA=jm[0].toUpperCase()+jm.slice(1);wi(HA,"on"+GA)}wi(t0,"onAnimationEnd"),wi(n0,"onAnimationIteration"),wi(i0,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(oA,"onTransitionRun"),wi(lA,"onTransitionStart"),wi(uA,"onTransitionCancel"),wi(r0,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$A=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ru));function S_(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],d=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var b=c.length-1;0<=b;b--){var S=c[b],V=S.instance,Q=S.currentTarget;if(S=S.listener,V!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=Q;try{g(d)}catch(te){Pc(te)}d.currentTarget=null,g=V}else for(b=0;b<c.length;b++){if(S=c[b],V=S.instance,Q=S.currentTarget,S=S.listener,V!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=Q;try{g(d)}catch(te){Pc(te)}d.currentTarget=null,g=V}}}}function ze(i,s){var o=s[Ga];o===void 0&&(o=s[Ga]=new Set);var c=i+"__bubble";o.has(c)||(A_(s,i,2,!1),o.add(c))}function Pm(i,s,o){var c=0;s&&(c|=4),A_(o,i,c,s)}var Eh="_reactListening"+Math.random().toString(36).slice(2);function Lm(i){if(!i[Eh]){i[Eh]=!0,gl.forEach(function(o){o!=="selectionchange"&&($A.has(o)||Pm(o,!1,i),Pm(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Eh]||(s[Eh]=!0,Pm("selectionchange",!1,s))}}function A_(i,s,o,c){switch(tx(s)){case 2:var d=xC;break;case 8:d=bC;break;default:d=Jm}o=d.bind(null,s,o,i),d=void 0,!sa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?i.addEventListener(s,o,{capture:!0,passive:d}):i.addEventListener(s,o,!0):d!==void 0?i.addEventListener(s,o,{passive:d}):i.addEventListener(s,o,!1)}function Vm(i,s,o,c,d){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var S=c.stateNode.containerInfo;if(S===d)break;if(b===4)for(b=c.return;b!==null;){var V=b.tag;if((V===3||V===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;S!==null;){if(b=Li(S),b===null)return;if(V=b.tag,V===5||V===6||V===26||V===27){c=g=b;continue e}S=S.parentNode}}c=c.return}ts(function(){var Q=g,te=Zn(o),re=[];e:{var X=s0.get(i);if(X!==void 0){var J=Hi,ge=i;switch(i){case"keypress":if(oa(o)===0)break e;case"keydown":case"keyup":J=Oc;break;case"focusin":ge="focus",J=ua;break;case"focusout":ge="blur",J=ua;break;case"beforeblur":case"afterblur":J=ua;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=x;break;case t0:case n0:case i0:J=Ac;break;case r0:J=N;break;case"scroll":case"scrollend":J=Il;break;case"wheel":J=W;break;case"copy":case"cut":case"paste":J=Cc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=dr;break;case"toggle":case"beforetoggle":J=De}var Te=(s&4)!==0,ht=!Te&&(i==="scroll"||i==="scrollend"),H=Te?X!==null?X+"Capture":null:X;Te=[];for(var B=Q,K;B!==null;){var ie=B;if(K=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||K===null||H===null||(ie=_i(B,H),ie!=null&&Te.push(su(B,ie,K))),ht)break;B=B.return}0<Te.length&&(X=new J(X,ge,null,o,te),re.push({event:X,listeners:Te}))}}if((s&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",X&&o!==Sl&&(ge=o.relatedTarget||o.fromElement)&&(Li(ge)||ge[ji]))break e;if((J||X)&&(X=te.window===te?te:(X=te.ownerDocument)?X.defaultView||X.parentWindow:window,J?(ge=o.relatedTarget||o.toElement,J=Q,ge=ge?Li(ge):null,ge!==null&&(ht=l(ge),Te=ge.tag,ge!==ht||Te!==5&&Te!==27&&Te!==6)&&(ge=null)):(J=null,ge=Q),J!==ge)){if(Te=Nl,ie="onMouseLeave",H="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(Te=dr,ie="onPointerLeave",H="onPointerEnter",B="pointer"),ht=J==null?X:Pn(J),K=ge==null?X:Pn(ge),X=new Te(ie,B+"leave",J,o,te),X.target=ht,X.relatedTarget=K,ie=null,Li(te)===Q&&(Te=new Te(H,B+"enter",ge,o,te),Te.target=K,Te.relatedTarget=ht,ie=Te),ht=ie,J&&ge)t:{for(Te=KA,H=J,B=ge,K=0,ie=H;ie;ie=Te(ie))K++;ie=0;for(var _e=B;_e;_e=Te(_e))ie++;for(;0<K-ie;)H=Te(H),K--;for(;0<ie-K;)B=Te(B),ie--;for(;K--;){if(H===B||B!==null&&H===B.alternate){Te=H;break t}H=Te(H),B=Te(B)}Te=null}else Te=null;J!==null&&C_(re,X,J,Te,!1),ge!==null&&ht!==null&&C_(re,ht,ge,Te,!0)}}e:{if(X=Q?Pn(Q):window,J=X.nodeName&&X.nodeName.toLowerCase(),J==="select"||J==="input"&&X.type==="file")var Ze=Hy;else if(Fy(X))if(Gy)Ze=rA;else{Ze=nA;var ye=tA}else J=X.nodeName,!J||J.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Q&&Qa(Q.elementType)&&(Ze=Hy):Ze=iA;if(Ze&&(Ze=Ze(i,Q))){qy(re,Ze,o,te);break e}ye&&ye(i,X,Q),i==="focusout"&&Q&&X.type==="number"&&Q.memoizedProps.value!=null&&El(X,"number",X.value)}switch(ye=Q?Pn(Q):window,i){case"focusin":(Fy(ye)||ye.contentEditable==="true")&&(io=ye,dd=Q,Ml=null);break;case"focusout":Ml=dd=io=null;break;case"mousedown":md=!0;break;case"contextmenu":case"mouseup":case"dragend":md=!1,Zy(re,o,te);break;case"selectionchange":if(aA)break;case"keydown":case"keyup":Zy(re,o,te)}var Me;if(nt)e:{switch(i){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else no?ca(i,o)&&(Fe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Fe="onCompositionStart");Fe&&(Ki&&o.locale!=="ko"&&(no||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&no&&(Me=Cl()):(qi=te,Al="value"in qi?qi.value:qi.textContent,no=!0)),ye=wh(Q,Fe),0<ye.length&&(Fe=new $i(Fe,i,null,o,te),re.push({event:Fe,listeners:ye}),Me?Fe.data=Me:(Me=to(o),Me!==null&&(Fe.data=Me)))),(Me=ti?WS(i,o):JS(i,o))&&(Fe=wh(Q,"onBeforeInput"),0<Fe.length&&(ye=new $i("onBeforeInput","beforeinput",null,o,te),re.push({event:ye,listeners:Fe}),ye.data=Me)),qA(re,i,Q,o,te)}S_(re,s)})}function su(i,s,o){return{instance:i,listener:s,currentTarget:o}}function wh(i,s){for(var o=s+"Capture",c=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=_i(i,o),d!=null&&c.unshift(su(i,d,g)),d=_i(i,s),d!=null&&c.push(su(i,d,g))),i.tag===3)return c;i=i.return}return[]}function KA(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function C_(i,s,o,c,d){for(var g=s._reactName,b=[];o!==null&&o!==c;){var S=o,V=S.alternate,Q=S.stateNode;if(S=S.tag,V!==null&&V===c)break;S!==5&&S!==26&&S!==27||Q===null||(V=Q,d?(Q=_i(o,g),Q!=null&&b.unshift(su(o,Q,V))):d||(Q=_i(o,g),Q!=null&&b.push(su(o,Q,V)))),o=o.return}b.length!==0&&i.push({event:s,listeners:b})}var YA=/\r\n?/g,QA=/\u0000|\uFFFD/g;function I_(i){return(typeof i=="string"?i:""+i).replace(YA,`
`).replace(QA,"")}function N_(i,s){return s=I_(s),I_(i)===s}function ct(i,s,o,c,d,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||An(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&An(i,""+c);break;case"className":Ln(i,"class",c);break;case"tabIndex":Ln(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(i,o,c);break;case"style":Tl(i,c,g);break;case"data":if(s!=="object"){Ln(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Xa(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&ct(i,s,"name",d.name,d,null),ct(i,s,"formEncType",d.formEncType,d,null),ct(i,s,"formMethod",d.formMethod,d,null),ct(i,s,"formTarget",d.formTarget,d,null)):(ct(i,s,"encType",d.encType,d,null),ct(i,s,"method",d.method,d,null),ct(i,s,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Xa(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=vi);break;case"onScroll":c!=null&&ze("scroll",i);break;case"onScrollEnd":c!=null&&ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Xa(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":ze("beforetoggle",i),ze("toggle",i),Ka(i,"popover",c);break;case"xlinkActuate":Vt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Vt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Vt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Vt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Vt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Vt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Vt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Vt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Vt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ka(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=wc.get(o)||o,Ka(i,o,c))}}function zm(i,s,o,c,d,g){switch(o){case"style":Tl(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof c=="string"?An(i,c):(typeof c=="number"||typeof c=="bigint")&&An(i,""+c);break;case"onScroll":c!=null&&ze("scroll",i);break;case"onScrollEnd":c!=null&&ze("scrollend",i);break;case"onClick":c!=null&&(i.onclick=vi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=i[Wt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,c,d);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Ka(i,o,c)}}}function on(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",i),ze("load",i);var c=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ct(i,s,g,b,o,null)}}d&&ct(i,s,"srcSet",o.srcSet,o,null),c&&ct(i,s,"src",o.src,o,null);return;case"input":ze("invalid",i);var S=g=b=d=null,V=null,Q=null;for(c in o)if(o.hasOwnProperty(c)){var te=o[c];if(te!=null)switch(c){case"name":d=te;break;case"type":b=te;break;case"checked":V=te;break;case"defaultChecked":Q=te;break;case"value":g=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,s));break;default:ct(i,s,c,te,o,null)}}xc(i,g,S,V,Q,b,d,!1);return;case"select":ze("invalid",i),c=b=g=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":g=S;break;case"defaultValue":b=S;break;case"multiple":c=S;default:ct(i,s,d,S,o,null)}s=g,o=b,i.multiple=!!c,s!=null?Wr(i,!!c,s,!1):o!=null&&Wr(i,!!c,o,!0);return;case"textarea":ze("invalid",i),g=d=c=null;for(b in o)if(o.hasOwnProperty(b)&&(S=o[b],S!=null))switch(b){case"value":c=S;break;case"defaultValue":d=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:ct(i,s,b,S,o,null)}Jr(i,c,d,g);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(c=o[V],c!=null))switch(V){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ct(i,s,V,c,o,null)}return;case"dialog":ze("beforetoggle",i),ze("toggle",i),ze("cancel",i),ze("close",i);break;case"iframe":case"object":ze("load",i);break;case"video":case"audio":for(c=0;c<ru.length;c++)ze(ru[c],i);break;case"image":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"embed":case"source":case"link":ze("error",i),ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(c=o[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ct(i,s,Q,c,o,null)}return;default:if(Qa(s)){for(te in o)o.hasOwnProperty(te)&&(c=o[te],c!==void 0&&zm(i,s,te,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&ct(i,s,S,c,o,null))}function XA(i,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,b=null,S=null,V=null,Q=null,te=null;for(J in o){var re=o[J];if(o.hasOwnProperty(J)&&re!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":V=re;default:c.hasOwnProperty(J)||ct(i,s,J,null,c,re)}}for(var X in c){var J=c[X];if(re=o[X],c.hasOwnProperty(X)&&(J!=null||re!=null))switch(X){case"type":g=J;break;case"name":d=J;break;case"checked":Q=J;break;case"defaultChecked":te=J;break;case"value":b=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:J!==re&&ct(i,s,X,J,c,re)}}Ya(i,b,S,V,Q,te,g,d);return;case"select":J=b=S=X=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":J=V;default:c.hasOwnProperty(g)||ct(i,s,g,null,c,V)}for(d in c)if(g=c[d],V=o[d],c.hasOwnProperty(d)&&(g!=null||V!=null))switch(d){case"value":X=g;break;case"defaultValue":S=g;break;case"multiple":b=g;default:g!==V&&ct(i,s,d,g,c,V)}s=S,o=b,c=J,X!=null?Wr(i,!!o,X,!1):!!c!=!!o&&(s!=null?Wr(i,!!o,s,!0):Wr(i,!!o,o?[]:"",!1));return;case"textarea":J=X=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ct(i,s,S,null,c,d)}for(b in c)if(d=c[b],g=o[b],c.hasOwnProperty(b)&&(d!=null||g!=null))switch(b){case"value":X=d;break;case"defaultValue":J=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==g&&ct(i,s,b,d,c,g)}bc(i,X,J);return;case"option":for(var ge in o)if(X=o[ge],o.hasOwnProperty(ge)&&X!=null&&!c.hasOwnProperty(ge))switch(ge){case"selected":i.selected=!1;break;default:ct(i,s,ge,null,c,X)}for(V in c)if(X=c[V],J=o[V],c.hasOwnProperty(V)&&X!==J&&(X!=null||J!=null))switch(V){case"selected":i.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ct(i,s,V,X,c,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)X=o[Te],o.hasOwnProperty(Te)&&X!=null&&!c.hasOwnProperty(Te)&&ct(i,s,Te,null,c,X);for(Q in c)if(X=c[Q],J=o[Q],c.hasOwnProperty(Q)&&X!==J&&(X!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:ct(i,s,Q,X,c,J)}return;default:if(Qa(s)){for(var ht in o)X=o[ht],o.hasOwnProperty(ht)&&X!==void 0&&!c.hasOwnProperty(ht)&&zm(i,s,ht,void 0,c,X);for(te in c)X=c[te],J=o[te],!c.hasOwnProperty(te)||X===J||X===void 0&&J===void 0||zm(i,s,te,X,c,J);return}}for(var H in o)X=o[H],o.hasOwnProperty(H)&&X!=null&&!c.hasOwnProperty(H)&&ct(i,s,H,null,c,X);for(re in c)X=c[re],J=o[re],!c.hasOwnProperty(re)||X===J||X==null&&J==null||ct(i,s,re,X,c,J)}function k_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WA(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var d=o[c],g=d.transferSize,b=d.initiatorType,S=d.duration;if(g&&S&&k_(b)){for(b=0,S=d.responseEnd,c+=1;c<o.length;c++){var V=o[c],Q=V.startTime;if(Q>S)break;var te=V.transferSize,re=V.initiatorType;te&&k_(re)&&(V=V.responseEnd,b+=te*(V<S?1:(S-Q)/(V-Q)))}if(--c,s+=8*(g+b)/(d.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Um=null,Bm=null;function Th(i){return i.nodeType===9?i:i.ownerDocument}function R_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function D_(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Fm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var qm=null;function JA(){var i=window.event;return i&&i.type==="popstate"?i===qm?!1:(qm=i,!0):(qm=null,!1)}var O_=typeof setTimeout=="function"?setTimeout:void 0,ZA=typeof clearTimeout=="function"?clearTimeout:void 0,M_=typeof Promise=="function"?Promise:void 0,eC=typeof queueMicrotask=="function"?queueMicrotask:typeof M_<"u"?function(i){return M_.resolve(null).then(i).catch(tC)}:O_;function tC(i){setTimeout(function(){throw i})}function bs(i){return i==="head"}function j_(i,s){var o=s,c=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(d),Ro(s);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")au(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,au(o);for(var g=o.firstChild;g;){var b=g.nextSibling,S=g.nodeName;g[Pi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=b}}else o==="body"&&au(i.ownerDocument.body);o=d}while(o);Ro(s)}function P_(i,s){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Hm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Hm(o),$a(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function nC(i,s,o,c){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Pi])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=li(i.nextSibling),i===null)break}return null}function iC(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=li(i.nextSibling),i===null))return null;return i}function L_(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=li(i.nextSibling),i===null))return null;return i}function Gm(i){return i.data==="$?"||i.data==="$~"}function $m(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function rC(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function li(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Km=null;function V_(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return li(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function z_(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function U_(i,s,o){switch(s=Th(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function au(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);$a(i)}var ui=new Map,B_=new Set;function Sh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ir=oe.d;oe.d={f:sC,r:aC,D:oC,C:lC,L:uC,m:cC,X:fC,S:hC,M:dC};function sC(){var i=Ir.f(),s=gh();return i||s}function aC(i){var s=Jn(i);s!==null&&s.tag===5&&s.type==="form"?rv(s):Ir.r(i)}var Io=typeof document>"u"?null:document;function F_(i,s,o){var c=Io;if(c&&typeof s=="string"&&s){var d=Sn(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),B_.has(d)||(B_.add(d),i={rel:i,crossOrigin:o,href:s},c.querySelector(d)===null&&(s=c.createElement("link"),on(s,"link",i),Lt(s),c.head.appendChild(s)))}}function oC(i){Ir.D(i),F_("dns-prefetch",i,null)}function lC(i,s){Ir.C(i,s),F_("preconnect",i,s)}function uC(i,s,o){Ir.L(i,s,o);var c=Io;if(c&&i&&s){var d='link[rel="preload"][as="'+Sn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Sn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Sn(o.imageSizes)+'"]')):d+='[href="'+Sn(i)+'"]';var g=d;switch(s){case"style":g=No(i);break;case"script":g=ko(i)}ui.has(g)||(i=_({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),ui.set(g,i),c.querySelector(d)!==null||s==="style"&&c.querySelector(ou(g))||s==="script"&&c.querySelector(lu(g))||(s=c.createElement("link"),on(s,"link",i),Lt(s),c.head.appendChild(s)))}}function cC(i,s){Ir.m(i,s);var o=Io;if(o&&i){var c=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Sn(c)+'"][href="'+Sn(i)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ko(i)}if(!ui.has(g)&&(i=_({rel:"modulepreload",href:i},s),ui.set(g,i),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(lu(g)))return}c=o.createElement("link"),on(c,"link",i),Lt(c),o.head.appendChild(c)}}}function hC(i,s,o){Ir.S(i,s,o);var c=Io;if(c&&i){var d=Vi(c).hoistableStyles,g=No(i);s=s||"default";var b=d.get(g);if(!b){var S={loading:0,preload:null};if(b=c.querySelector(ou(g)))S.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":s},o),(o=ui.get(g))&&Ym(i,o);var V=b=c.createElement("link");Lt(V),on(V,"link",i),V._p=new Promise(function(Q,te){V.onload=Q,V.onerror=te}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ah(b,s,c)}b={type:"stylesheet",instance:b,count:1,state:S},d.set(g,b)}}}function fC(i,s){Ir.X(i,s);var o=Io;if(o&&i){var c=Vi(o).hoistableScripts,d=ko(i),g=c.get(d);g||(g=o.querySelector(lu(d)),g||(i=_({src:i,async:!0},s),(s=ui.get(d))&&Qm(i,s),g=o.createElement("script"),Lt(g),on(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function dC(i,s){Ir.M(i,s);var o=Io;if(o&&i){var c=Vi(o).hoistableScripts,d=ko(i),g=c.get(d);g||(g=o.querySelector(lu(d)),g||(i=_({src:i,async:!0,type:"module"},s),(s=ui.get(d))&&Qm(i,s),g=o.createElement("script"),Lt(g),on(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function q_(i,s,o,c){var d=(d=Xe.current)?Sh(d):null;if(!d)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=No(o.href),o=Vi(d).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=No(o.href);var g=Vi(d).hoistableStyles,b=g.get(i);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=d.querySelector(ou(i)))&&!g._p&&(b.instance=g,b.state.loading=5),ui.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ui.set(i,o),g||mC(d,i,o,b.state))),s&&c===null)throw Error(r(528,""));return b}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ko(o),o=Vi(d).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function No(i){return'href="'+Sn(i)+'"'}function ou(i){return'link[rel="stylesheet"]['+i+"]"}function H_(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function mC(i,s,o,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),on(s,"link",o),Lt(s),i.head.appendChild(s))}function ko(i){return'[src="'+Sn(i)+'"]'}function lu(i){return"script[async]"+i}function G_(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Sn(o.href)+'"]');if(c)return s.instance=c,Lt(c),c;var d=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Lt(c),on(c,"style",d),Ah(c,o.precedence,i),s.instance=c;case"stylesheet":d=No(o.href);var g=i.querySelector(ou(d));if(g)return s.state.loading|=4,s.instance=g,Lt(g),g;c=H_(o),(d=ui.get(d))&&Ym(c,d),g=(i.ownerDocument||i).createElement("link"),Lt(g);var b=g;return b._p=new Promise(function(S,V){b.onload=S,b.onerror=V}),on(g,"link",c),s.state.loading|=4,Ah(g,o.precedence,i),s.instance=g;case"script":return g=ko(o.src),(d=i.querySelector(lu(g)))?(s.instance=d,Lt(d),d):(c=o,(d=ui.get(g))&&(c=_({},o),Qm(c,d)),i=i.ownerDocument||i,d=i.createElement("script"),Lt(d),on(d,"link",c),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Ah(c,o.precedence,i));return s.instance}function Ah(i,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,b=0;b<c.length;b++){var S=c[b];if(S.dataset.precedence===s)g=S;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Ym(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Qm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Ch=null;function $_(i,s,o){if(Ch===null){var c=new Map,d=Ch=new Map;d.set(o,c)}else d=Ch,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Pi]||g[Pt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=i+b;var S=c.get(b);S?S.push(g):c.set(b,[g])}}return c}function K_(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function pC(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Y_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function gC(i,s,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=No(c.href),g=s.querySelector(ou(d));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Ih.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=g,Lt(g);return}g=s.ownerDocument||s,c=H_(c),(d=ui.get(d))&&Ym(c,d),g=g.createElement("link"),Lt(g);var b=g;b._p=new Promise(function(S,V){b.onload=S,b.onerror=V}),on(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Ih.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var Xm=0;function yC(i,s){return i.stylesheets&&i.count===0&&kh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&kh(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+s);0<i.imgBytes&&Xm===0&&(Xm=62500*WA());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&kh(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Xm?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function Ih(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Nh=null;function kh(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Nh=new Map,s.forEach(vC,i),Nh=null,Ih.call(i))}function vC(i,s){if(!(s.state.loading&4)){var o=Nh.get(i);if(o)var c=o.get(null);else{o=new Map,Nh.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var b=d[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}d=s.instance,b=d.getAttribute("data-precedence"),g=o.get(b)||c,g===c&&o.set(null,d),o.set(b,d),this.count++,c=Ih.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var uu={$$typeof:q,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function _C(i,s,o,c,d,g,b,S,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function Q_(i,s,o,c,d,g,b,S,V,Q,te,re){return i=new _C(i,s,o,b,V,Q,te,re,S),s=1,g===!0&&(s|=24),g=zn(3,null,null,s),i.current=g,g.stateNode=i,s=Nd(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},Od(g),i}function X_(i){return i?(i=ao,i):ao}function W_(i,s,o,c,d,g){d=X_(d),c.context===null?c.context=d:c.pendingContext=d,c=cs(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=hs(i,c,s),o!==null&&(Rn(o,i,s),Bl(o,i,s))}function J_(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Wm(i,s){J_(i,s),(i=i.alternate)&&J_(i,s)}function Z_(i){if(i.tag===13||i.tag===31){var s=da(i,67108864);s!==null&&Rn(s,i,67108864),Wm(i,67108864)}}function ex(i){if(i.tag===13||i.tag===31){var s=Hn();s=ta(s);var o=da(i,s);o!==null&&Rn(o,i,s),Wm(i,s)}}var Rh=!0;function xC(i,s,o,c){var d=Y.T;Y.T=null;var g=oe.p;try{oe.p=2,Jm(i,s,o,c)}finally{oe.p=g,Y.T=d}}function bC(i,s,o,c){var d=Y.T;Y.T=null;var g=oe.p;try{oe.p=8,Jm(i,s,o,c)}finally{oe.p=g,Y.T=d}}function Jm(i,s,o,c){if(Rh){var d=Zm(c);if(d===null)Vm(i,s,c,Dh,o),nx(i,c);else if(wC(d,i,s,o,c))c.stopPropagation();else if(nx(i,c),s&4&&-1<EC.indexOf(i)){for(;d!==null;){var g=Jn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=Di(g.pendingLanes);if(b!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var V=1<<31-$e(b);S.entanglements[1]|=V,b&=~V}Wi(g),(it&6)===0&&(mh=tn()+500,iu(0))}}break;case 31:case 13:S=da(g,2),S!==null&&Rn(S,g,2),gh(),Wm(g,2)}if(g=Zm(c),g===null&&Vm(i,s,c,Dh,o),g===d)break;d=g}d!==null&&c.stopPropagation()}else Vm(i,s,c,null,o)}}function Zm(i){return i=Zn(i),ep(i)}var Dh=null;function ep(i){if(Dh=null,i=Li(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=u(s),i!==null)return i;i=null}else if(o===31){if(i=h(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Dh=i,null}function tx(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ur()){case ne:return 2;case fe:return 8;case be:case Pe:return 32;case Je:return 268435456;default:return 32}default:return 32}}var tp=!1,Es=null,ws=null,Ts=null,cu=new Map,hu=new Map,Ss=[],EC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nx(i,s){switch(i){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":cu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(s.pointerId)}}function fu(i,s,o,c,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},s!==null&&(s=Jn(s),s!==null&&Z_(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function wC(i,s,o,c,d){switch(s){case"focusin":return Es=fu(Es,i,s,o,c,d),!0;case"dragenter":return ws=fu(ws,i,s,o,c,d),!0;case"mouseover":return Ts=fu(Ts,i,s,o,c,d),!0;case"pointerover":var g=d.pointerId;return cu.set(g,fu(cu.get(g)||null,i,s,o,c,d)),!0;case"gotpointercapture":return g=d.pointerId,hu.set(g,fu(hu.get(g)||null,i,s,o,c,d)),!0}return!1}function ix(i){var s=Li(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){i.blockedOn=s,gi(i.priority,function(){ex(o)});return}}else if(s===31){if(s=h(o),s!==null){i.blockedOn=s,gi(i.priority,function(){ex(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Oh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Zm(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Sl=c,o.target.dispatchEvent(c),Sl=null}else return s=Jn(o),s!==null&&Z_(s),i.blockedOn=o,!1;s.shift()}return!0}function rx(i,s,o){Oh(i)&&o.delete(s)}function TC(){tp=!1,Es!==null&&Oh(Es)&&(Es=null),ws!==null&&Oh(ws)&&(ws=null),Ts!==null&&Oh(Ts)&&(Ts=null),cu.forEach(rx),hu.forEach(rx)}function Mh(i,s){i.blockedOn===s&&(i.blockedOn=null,tp||(tp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,TC)))}var jh=null;function sx(i){jh!==i&&(jh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){jh===i&&(jh=null);for(var s=0;s<i.length;s+=3){var o=i[s],c=i[s+1],d=i[s+2];if(typeof c!="function"){if(ep(c||o)===null)continue;break}var g=Jn(o);g!==null&&(i.splice(s,3),s-=3,Zd(g,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function Ro(i){function s(V){return Mh(V,i)}Es!==null&&Mh(Es,i),ws!==null&&Mh(ws,i),Ts!==null&&Mh(Ts,i),cu.forEach(s),hu.forEach(s);for(var o=0;o<Ss.length;o++){var c=Ss[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ss.length&&(o=Ss[0],o.blockedOn===null);)ix(o),o.blockedOn===null&&Ss.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],g=o[c+1],b=d[Wt]||null;if(typeof g=="function")b||sx(o);else if(b){var S=null;if(g&&g.hasAttribute("formAction")){if(d=g,b=g[Wt]||null)S=b.formAction;else if(ep(d)!==null)continue}else S=b.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),sx(o)}}}function ax(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(b){return d=b})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function np(i){this._internalRoot=i}Ph.prototype.render=np.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,c=Hn();W_(o,c,i,s,null,null)},Ph.prototype.unmount=np.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;W_(i.current,2,null,i,null,null),gh(),s[ji]=null}};function Ph(i){this._internalRoot=i}Ph.prototype.unstable_scheduleHydration=function(i){if(i){var s=gc();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Ss.length&&s!==0&&s<Ss[o].priority;o++);Ss.splice(o,0,i),o===0&&ix(i)}};var ox=e.version;if(ox!=="19.2.0")throw Error(r(527,ox,"19.2.0"));oe.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var SC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lh.isDisabled&&Lh.supportsFiber)try{kt=Lh.inject(SC),wt=Lh}catch{}}return du.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,c="",d=mv,g=pv,b=gv;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=Q_(i,1,!1,null,null,o,c,null,d,g,b,ax),i[ji]=s.current,Lm(i),new np(s)},du.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var c=!1,d="",g=mv,b=pv,S=gv,V=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),s=Q_(i,1,!0,s,o??null,c,d,V,g,b,S,ax),s.context=X_(null),o=s.current,c=Hn(),c=ta(c),d=cs(c),d.callback=null,hs(o,d,c),o=c,s.current.lanes=o,Zs(s,o),Wi(s),i[ji]=s.current,Lm(i),new Ph(s)},du.version="19.2.0",du}var hx;function OC(){if(hx)return ip.exports;hx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ip.exports=DC(),ip.exports}var MC=OC();const jC=Tg(MC);const PC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),fx=t=>{const e=LC(t);return e.charAt(0).toUpperCase()+e.slice(1)},rE=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),VC=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var zC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const UC=Z.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:u,...h},m)=>Z.createElement("svg",{ref:m,...zC,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:rE("lucide",a),...!l&&!VC(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,v])=>Z.createElement(p,v)),...Array.isArray(l)?l:[l]]));const xe=(t,e)=>{const n=Z.forwardRef(({className:r,...a},l)=>Z.createElement(UC,{ref:l,iconNode:e,className:rE(`lucide-${PC(fx(t))}`,`lucide-${t}`,r),...a}));return n.displayName=fx(t),n};const BC=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],dx=xe("activity",BC);const FC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Lp=xe("arrow-right",FC);const qC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],sE=xe("book-open",qC);const HC=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Pu=xe("brain",HC);const GC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$C=xe("calendar",GC);const KC=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],aE=xe("chart-column",KC);const YC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],oE=xe("chevron-down",YC);const QC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],lE=xe("chevron-right",QC);const XC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Mr=xe("circle-alert",XC);const WC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Us=xe("circle-check",WC);const JC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Sg=xe("circle-question-mark",JC);const ZC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],e2=xe("clock",ZC);const t2=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],tl=xe("copy",t2);const n2=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],i2=xe("download",n2);const r2=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],s2=xe("eye-off",r2);const a2=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],o2=xe("eye",a2);const l2=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],Dr=xe("gavel",l2);const u2=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],c2=xe("heart",u2);const h2=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],jr=xe("history",h2);const f2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Vp=xe("image",f2);const d2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ag=xe("info",d2);const m2=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Cg=xe("lightbulb",m2);const p2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Br=xe("loader-circle",p2);const g2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],y2=xe("lock",g2);const v2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_2=xe("log-out",v2);const x2=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],b2=xe("mail",x2);const E2=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],w2=xe("menu",E2);const T2=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Lu=xe("mic",T2);const S2=[["path",{d:"M5 12h14",key:"1ays0h"}]],A2=xe("minus",S2);const C2=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],mx=xe("moon",C2);const I2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],N2=xe("panels-top-left",I2);const k2=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],R2=xe("play",k2);const D2=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],O2=xe("refresh-cw",D2);const M2=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],j2=xe("rotate-ccw",M2);const P2=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],uE=xe("scale",P2);const L2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],px=xe("search",L2);const V2=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ig=xe("send",V2);const z2=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lf=xe("settings",z2);const U2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],cE=xe("shield",U2);const B2=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ng=xe("sparkles",B2);const F2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],q2=xe("square",F2);const H2=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],gx=xe("star",H2);const G2=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],yx=xe("sun",G2);const $2=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],K2=xe("swords",$2);const Y2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Uo=xe("target",Y2);const Q2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hE=xe("trash-2",Q2);const X2=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],W2=xe("trending-down",X2);const J2=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Z2=xe("trending-up",J2);const eI=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],tI=xe("trophy",eI);const nI=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],fE=xe("upload",nI);const iI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],dE=xe("user",iI);const rI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mE=xe("x",rI);const sI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],aI=xe("zap",sI),oI=()=>{};var vx={};const pE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},lI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},gE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,v=l>>2,_=(l&3)<<4|h>>4;let E=(h&15)<<2|p>>6,w=p&63;m||(w=64,u||(E=64)),r.push(n[v],n[_],n[E],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||_==null)throw new uI;const E=l<<2|h>>4;if(r.push(E),p!==64){const w=h<<4&240|p>>2;if(r.push(w),_!==64){const I=p<<6&192|_;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class uI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cI=function(t){const e=pE(t);return gE.encodeByteArray(e,!0)},uf=function(t){return cI(t).replace(/\./g,"")},yE=function(t){try{return gE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const fI=()=>hI().__FIREBASE_DEFAULTS__,dI=()=>{if(typeof process>"u"||typeof vx>"u")return;const t=vx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yE(t[1]);return e&&JSON.parse(e)},Mf=()=>{try{return oI()||fI()||dI()||mI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vE=t=>Mf()?.emulatorHosts?.[t],pI=t=>{const e=vE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_E=()=>Mf()?.config,xE=t=>Mf()?.[`_${t}`];class gI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function nl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bE(t){return(await fetch(t,{credentials:"include"})).ok}function yI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[uf(JSON.stringify(n)),uf(JSON.stringify(u)),""].join(".")}const Su={};function vI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Su))Su[e]?t.emulator.push(e):t.prod.push(e);return t}function _I(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _x=!1;function EE(t,e){if(typeof window>"u"||typeof document>"u"||!nl(window.location.host)||Su[t]===e||Su[t]||_x)return;Su[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",l=vI().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,w){E.setAttribute("width","24"),E.setAttribute("id",w),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{_x=!0,u()},E}function v(E,w){E.setAttribute("id",w),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=_I(r),w=n("text"),I=document.getElementById(w)||document.createElement("span"),U=n("learnmore"),P=document.getElementById(U)||document.createElement("a"),z=n("preprendIcon"),F=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const q=E.element;h(q),v(P,U);const ee=p();m(F,z),q.append(F,I,P,ee),document.body.appendChild(q)}l?(I.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function bI(){const t=Mf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SI(){const t=xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AI(){return!bI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CI(){try{return typeof indexedDB=="object"}catch{return!1}}function II(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const NI="FirebaseError";class Fr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NI,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ju.prototype.create)}}class Ju{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?kI(l,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Fr(a,h,r)}}function kI(t,e){return t.replace(RI,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const RI=/\{\$([^}]+)}/g;function DI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ra(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],u=e[a];if(xx(l)&&xx(u)){if(!Ra(l,u))return!1}else if(l!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function xx(t){return t!==null&&typeof t=="object"}function Zu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _u(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function xu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function OI(t,e){const n=new MI(t,e);return n.subscribe.bind(n)}class MI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jI(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=ap),a.error===void 0&&(a.error=ap),a.complete===void 0&&(a.complete=ap);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ap(){}function hn(t){return t&&t._delegate?t._delegate:t}class Da{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ca="[DEFAULT]";class PI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new gI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VI(e))try{this.getOrInitializeService({instanceIdentifier:Ca})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ca){return this.instances.has(e)}getOptions(e=Ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&u.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ca){return this.component?this.component.multipleInstances?e:Ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LI(t){return t===Ca?void 0:t}function VI(t){return t.instantiationMode==="EAGER"}class zI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const UI={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},BI=qe.INFO,FI={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},qI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=FI[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kg{constructor(e){this.name=e,this._logLevel=BI,this._logHandler=qI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const HI=(t,e)=>e.some(n=>t instanceof n);let bx,Ex;function GI(){return bx||(bx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $I(){return Ex||(Ex=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wE=new WeakMap,zp=new WeakMap,TE=new WeakMap,op=new WeakMap,Rg=new WeakMap;function KI(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Ms(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&wE.set(n,t)}).catch(()=>{}),Rg.set(e,t),e}function YI(t){if(zp.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});zp.set(t,e)}let Up={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ms(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QI(t){Up=t(Up)}function XI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lp(this),e,...n);return TE.set(r,e.sort?e.sort():[e]),Ms(r)}:$I().includes(t)?function(...e){return t.apply(lp(this),e),Ms(wE.get(this))}:function(...e){return Ms(t.apply(lp(this),e))}}function WI(t){return typeof t=="function"?XI(t):(t instanceof IDBTransaction&&YI(t),HI(t,GI())?new Proxy(t,Up):t)}function Ms(t){if(t instanceof IDBRequest)return KI(t);if(op.has(t))return op.get(t);const e=WI(t);return e!==t&&(op.set(t,e),Rg.set(e,t)),e}const lp=t=>Rg.get(t);function JI(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=Ms(u);return r&&u.addEventListener("upgradeneeded",m=>{r(Ms(u.result),m.oldVersion,m.newVersion,Ms(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),h.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const ZI=["get","getKey","getAll","getAllKeys","count"],eN=["put","add","delete","clear"],up=new Map;function wx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(up.get(e))return up.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=eN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||ZI.includes(n)))return;const l=async function(u,...h){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&m.done]))[0]};return up.set(e,l),l}QI(t=>({...t,get:(e,n,r)=>wx(e,n)||t.get(e,n,r),has:(e,n)=>!!wx(e,n)||t.has(e,n)}));class tN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nN(t){return t.getComponent()?.type==="VERSION"}const Bp="@firebase/app",Tx="0.14.6";const Pr=new kg("@firebase/app"),iN="@firebase/app-compat",rN="@firebase/analytics-compat",sN="@firebase/analytics",aN="@firebase/app-check-compat",oN="@firebase/app-check",lN="@firebase/auth",uN="@firebase/auth-compat",cN="@firebase/database",hN="@firebase/data-connect",fN="@firebase/database-compat",dN="@firebase/functions",mN="@firebase/functions-compat",pN="@firebase/installations",gN="@firebase/installations-compat",yN="@firebase/messaging",vN="@firebase/messaging-compat",_N="@firebase/performance",xN="@firebase/performance-compat",bN="@firebase/remote-config",EN="@firebase/remote-config-compat",wN="@firebase/storage",TN="@firebase/storage-compat",SN="@firebase/firestore",AN="@firebase/ai",CN="@firebase/firestore-compat",IN="firebase",NN="12.6.0";const Fp="[DEFAULT]",kN={[Bp]:"fire-core",[iN]:"fire-core-compat",[sN]:"fire-analytics",[rN]:"fire-analytics-compat",[oN]:"fire-app-check",[aN]:"fire-app-check-compat",[lN]:"fire-auth",[uN]:"fire-auth-compat",[cN]:"fire-rtdb",[hN]:"fire-data-connect",[fN]:"fire-rtdb-compat",[dN]:"fire-fn",[mN]:"fire-fn-compat",[pN]:"fire-iid",[gN]:"fire-iid-compat",[yN]:"fire-fcm",[vN]:"fire-fcm-compat",[_N]:"fire-perf",[xN]:"fire-perf-compat",[bN]:"fire-rc",[EN]:"fire-rc-compat",[wN]:"fire-gcs",[TN]:"fire-gcs-compat",[SN]:"fire-fst",[CN]:"fire-fst-compat",[AN]:"fire-vertex","fire-js":"fire-js",[IN]:"fire-js-all"};const cf=new Map,RN=new Map,qp=new Map;function Sx(t,e){try{t.container.addComponent(e)}catch(n){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $o(t){const e=t.name;if(qp.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;qp.set(e,t);for(const n of cf.values())Sx(n,t);for(const n of RN.values())Sx(n,t);return!0}function Dg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $n(t){return t==null?!1:t.settings!==void 0}const DN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},js=new Ju("app","Firebase",DN);class ON{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw js.create("app-deleted",{appName:this._name})}}const il=NN;function SE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Fp,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw js.create("bad-app-name",{appName:String(a)});if(n||(n=_E()),!n)throw js.create("no-options");const l=cf.get(a);if(l){if(Ra(n,l.options)&&Ra(r,l.config))return l;throw js.create("duplicate-app",{appName:a})}const u=new zI(a);for(const m of qp.values())u.addComponent(m);const h=new ON(n,r,u);return cf.set(a,h),h}function AE(t=Fp){const e=cf.get(t);if(!e&&t===Fp&&_E())return SE();if(!e)throw js.create("no-app",{appName:t});return e}function Ps(t,e,n){let r=kN[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(u.join(" "));return}$o(new Da(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const MN="firebase-heartbeat-database",jN=1,Vu="firebase-heartbeat-store";let cp=null;function CE(){return cp||(cp=JI(MN,jN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vu)}catch(n){console.warn(n)}}}}).catch(t=>{throw js.create("idb-open",{originalErrorMessage:t.message})})),cp}async function PN(t){try{const n=(await CE()).transaction(Vu),r=await n.objectStore(Vu).get(IE(t));return await n.done,r}catch(e){if(e instanceof Fr)Pr.warn(e.message);else{const n=js.create("idb-get",{originalErrorMessage:e?.message});Pr.warn(n.message)}}}async function Ax(t,e){try{const r=(await CE()).transaction(Vu,"readwrite");await r.objectStore(Vu).put(e,IE(t)),await r.done}catch(n){if(n instanceof Fr)Pr.warn(n.message);else{const r=js.create("idb-set",{originalErrorMessage:n?.message});Pr.warn(r.message)}}}function IE(t){return`${t.name}!${t.options.appId}`}const LN=1024,VN=30;class zN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Cx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>VN){const a=FN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Cx(),{heartbeatsToSend:n,unsentEntries:r}=UN(this._heartbeatsCache.heartbeats),a=uf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Pr.warn(e),""}}}function Cx(){return new Date().toISOString().substring(0,10)}function UN(t,e=LN){const n=[];let r=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Ix(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Ix(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class BN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CI()?II().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await PN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ax(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ax(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ix(t){return uf(JSON.stringify({version:2,heartbeats:t})).length}function FN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function qN(t){$o(new Da("platform-logger",e=>new tN(e),"PRIVATE")),$o(new Da("heartbeat",e=>new zN(e),"PRIVATE")),Ps(Bp,Tx,t),Ps(Bp,Tx,"esm2020"),Ps("fire-js","")}qN("");var HN="firebase",GN="12.6.0";Ps(HN,GN,"app");function NE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $N=NE,kE=new Ju("auth","Firebase",NE());const hf=new kg("@firebase/auth");function KN(t,...e){hf.logLevel<=qe.WARN&&hf.warn(`Auth (${il}): ${t}`,...e)}function Qh(t,...e){hf.logLevel<=qe.ERROR&&hf.error(`Auth (${il}): ${t}`,...e)}function fi(t,...e){throw Mg(t,...e)}function Ci(t,...e){return Mg(t,...e)}function Og(t,e,n){const r={...$N(),[e]:n};return new Ju("auth","Firebase",r).create(e,{appName:t.name})}function Or(t){return Og(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function YN(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&fi(t,"argument-error"),Og(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kE.create(t,...e)}function Se(t,e,...n){if(!t)throw Mg(e,...n)}function kr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qh(e),new Error(e)}function Lr(t,e){t||kr(e)}function Hp(){return typeof self<"u"&&self.location?.href||""}function QN(){return Nx()==="http:"||Nx()==="https:"}function Nx(){return typeof self<"u"&&self.location?.protocol||null}function XN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QN()||wI()||"connection"in navigator)?navigator.onLine:!0}function WN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class ec{constructor(e,n){this.shortDelay=e,this.longDelay=n,Lr(n>e,"Short delay should be less than long delay!"),this.isMobile=xI()||TI()}get(){return XN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jg(t,e){Lr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class RE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const JN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ZN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ek=new ec(3e4,6e4);function qr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Hr(t,e,n,r,a={}){return DE(t,a,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const h=Zu({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return EI()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&nl(t.emulatorConfig.host)&&(p.credentials="include"),RE.fetch()(await OE(t,t.config.apiHost,n,h),p)})}async function DE(t,e,n){t._canInitEmulator=!1;const r={...JN,...e};try{const a=new nk(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Vh(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[m,p]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vh(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Vh(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw Vh(t,"user-disabled",u);const v=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Og(t,v,p);fi(t,v)}}catch(a){if(a instanceof Fr)throw a;fi(t,"network-request-failed",{message:String(a)})}}async function tc(t,e,n,r,a={}){const l=await Hr(t,e,n,r,a);return"mfaPendingCredential"in l&&fi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function OE(t,e,n,r){const a=`${e}${n}?${r}`,l=t,u=l.config.emulator?jg(t.config,a):`${t.config.apiScheme}://${a}`;return ZN.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function tk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ci(this.auth,"network-request-failed")),ek.get())})}}function Vh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Ci(t,e,r);return a.customData._tokenResponse=n,a}function kx(t){return t!==void 0&&t.enterprise!==void 0}class ik{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return tk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rk(t,e){return Hr(t,"GET","/v2/recaptchaConfig",qr(t,e))}async function sk(t,e){return Hr(t,"POST","/v1/accounts:delete",e)}async function ff(t,e){return Hr(t,"POST","/v1/accounts:lookup",e)}function Au(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ak(t,e=!1){const n=hn(t),r=await n.getIdToken(e),a=Pg(r);Se(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:r,authTime:Au(hp(a.auth_time)),issuedAtTime:Au(hp(a.iat)),expirationTime:Au(hp(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function hp(t){return Number(t)*1e3}function Pg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qh("JWT malformed, contained fewer than 3 sections"),null;try{const a=yE(n);return a?JSON.parse(a):(Qh("Failed to decode base64 JWT payload"),null)}catch(a){return Qh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Rx(t){const e=Pg(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function zu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fr&&ok(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ok({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class lk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Au(this.lastLoginAt),this.creationTime=Au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function df(t){const e=t.auth,n=await t.getIdToken(),r=await zu(t,ff(e,{idToken:n}));Se(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?ME(a.providerUserInfo):[],u=ck(t.providerData,l),h=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,p=h?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Gp(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function uk(t){const e=hn(t);await df(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ck(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function ME(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function hk(t,e){const n=await DE(t,{},async()=>{const r=Zu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await OE(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:r};return t.emulatorConfig&&nl(t.emulatorConfig.host)&&(m.credentials="include"),RE.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fk(t,e){return Hr(t,"POST","/v2/accounts:revokeToken",qr(t,e))}class Bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=Rx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await hk(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,u=new Bo;return r&&(Se(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Se(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Se(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bo,this.toJSON())}_performRefresh(){return kr("not implemented")}}function Cs(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ai{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new lk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Gp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await zu(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ak(this,e)}reload(){return uk(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await df(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(Or(this.auth));const e=await this.getIdToken();return await zu(this,sk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:w,providerData:I,stsTokenManager:U}=n;Se(_&&U,e,"internal-error");const P=Bo.fromJSON(this.name,U);Se(typeof _=="string",e,"internal-error"),Cs(r,e.name),Cs(a,e.name),Se(typeof E=="boolean",e,"internal-error"),Se(typeof w=="boolean",e,"internal-error"),Cs(l,e.name),Cs(u,e.name),Cs(h,e.name),Cs(m,e.name),Cs(p,e.name),Cs(v,e.name);const z=new Ai({uid:_,auth:e,email:a,emailVerified:E,displayName:r,isAnonymous:w,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:P,createdAt:p,lastLoginAt:v});return I&&Array.isArray(I)&&(z.providerData=I.map(F=>({...F}))),m&&(z._redirectEventId=m),z}static async _fromIdTokenResponse(e,n,r=!1){const a=new Bo;a.updateFromServerResponse(n);const l=new Ai({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await df(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Se(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?ME(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new Bo;h.updateFromIdToken(r);const m=new Ai({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Gp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const Dx=new Map;function Rr(t){Lr(t instanceof Function,"Expected a class definition");let e=Dx.get(t);return e?(Lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Dx.set(t,e),e)}class jE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jE.type="NONE";const Ox=jE;function Xh(t,e,n){return`firebase:${t}:${e}:${n}`}class Fo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Xh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Xh("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ff(this.auth,{idToken:e}).catch(()=>{});return n?Ai._fromGetAccountInfoResponse(this.auth,n,e):null}return Ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fo(Rr(Ox),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Rr(Ox);const u=Xh(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const v=await p._get(u);if(v){let _;if(typeof v=="string"){const E=await ff(e,{idToken:v}).catch(()=>{});if(!E)break;_=await Ai._fromGetAccountInfoResponse(e,E,v)}else _=Ai._fromJSON(e,v);p!==l&&(h=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Fo(l,e,r):(l=m[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Fo(l,e,r))}}function Mx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BE(e))return"Blackberry";if(FE(e))return"Webos";if(LE(e))return"Safari";if((e.includes("chrome/")||VE(e))&&!e.includes("edge/"))return"Chrome";if(UE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function PE(t=xn()){return/firefox\//i.test(t)}function LE(t=xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VE(t=xn()){return/crios\//i.test(t)}function zE(t=xn()){return/iemobile/i.test(t)}function UE(t=xn()){return/android/i.test(t)}function BE(t=xn()){return/blackberry/i.test(t)}function FE(t=xn()){return/webos/i.test(t)}function Lg(t=xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dk(t=xn()){return Lg(t)&&!!window.navigator?.standalone}function mk(){return SI()&&document.documentMode===10}function qE(t=xn()){return Lg(t)||UE(t)||FE(t)||BE(t)||/windows phone/i.test(t)||zE(t)}function HE(t,e=[]){let n;switch(t){case"Browser":n=Mx(xn());break;case"Worker":n=`${Mx(xn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${il}/${r}`}class pk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((u,h)=>{try{const m=e(l);u(m)}catch(m){h(m)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function gk(t,e={}){return Hr(t,"GET","/v2/passwordPolicy",qr(t,e))}const yk=6;class vk{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??yk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class _k{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jx(this),this.idTokenSubscription=new jx(this),this.beforeStateQueue=new pk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ff(this,{idToken:e}),r=await Ai._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($n(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await df(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(Or(this));const n=e?hn(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(Or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(Or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gk(this),n=new vk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ju("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fk(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rr(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Fo.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,r,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&KN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ks(t){return hn(t)}class jx{constructor(e){this.auth=e,this.observer=null,this.addObserver=OI(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let jf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xk(t){jf=t}function GE(t){return jf.loadJS(t)}function bk(){return jf.recaptchaEnterpriseScript}function Ek(){return jf.gapiScript}function wk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Tk{constructor(){this.enterprise=new Sk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Sk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Ak="recaptcha-enterprise",$E="NO_RECAPTCHA";class Ck{constructor(e){this.type=Ak,this.auth=Ks(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{rk(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new ik(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(m=>{h(m)})})}function a(l,u,h){const m=window.grecaptcha;kx(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u($E)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Tk().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{r(this.auth).then(h=>{if(!n&&kx(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=bk();m.length!==0&&(m+=h),GE(m).then(()=>{a(h,l,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function Px(t,e,n,r=!1,a=!1){const l=new Ck(t);let u;if(a)u=$E;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const m=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const m=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function $p(t,e,n,r,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Px(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Px(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(l)})}function Ik(t,e){const n=Dg(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ra(l,e??{}))return a;fi(a,"already-initialized")}return n.initialize({options:e})}function Nk(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Rr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function kk(t,e,n){const r=Ks(t);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=KE(e),{host:u,port:h}=Rk(e),m=h===null?"":`:${h}`,p={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(Ra(p,r.config.emulator)&&Ra(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,nl(u)?(bE(`${l}//${u}${m}`),EE("Auth",!0)):Dk()}function KE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Rk(t){const e=KE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:Lx(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:Lx(u)}}}function Lx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Dk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Vg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return kr("not implemented")}_getIdTokenResponse(e){return kr("not implemented")}_linkToIdToken(e,n){return kr("not implemented")}_getReauthenticationResolver(e){return kr("not implemented")}}async function Ok(t,e){return Hr(t,"POST","/v1/accounts:signUp",e)}async function Mk(t,e){return tc(t,"POST","/v1/accounts:signInWithPassword",qr(t,e))}async function jk(t,e){return Hr(t,"POST","/v1/accounts:sendOobCode",qr(t,e))}async function Pk(t,e){return jk(t,e)}async function Lk(t,e){return tc(t,"POST","/v1/accounts:signInWithEmailLink",qr(t,e))}async function Vk(t,e){return tc(t,"POST","/v1/accounts:signInWithEmailLink",qr(t,e))}class Uu extends Vg{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Uu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Uu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $p(e,n,"signInWithPassword",Mk);case"emailLink":return Lk(e,{email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $p(e,r,"signUpPassword",Ok);case"emailLink":return Vk(e,{idToken:n,email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function qo(t,e){return tc(t,"POST","/v1/accounts:signInWithIdp",qr(t,e))}const zk="http://localhost";class Oa extends Vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=n;if(!r||!a)return null;const u=new Oa(r,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return qo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,qo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qo(e,n)}buildRequest(){const e={requestUri:zk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zu(n)}return e}}function Uk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Bk(t){const e=_u(xu(t)).link,n=e?_u(xu(e)).deep_link_id:null,r=_u(xu(t)).deep_link_id;return(r?_u(xu(r)).link:null)||r||n||e||t}class zg{constructor(e){const n=_u(xu(e)),r=n.apiKey??null,a=n.oobCode??null,l=Uk(n.mode??null);Se(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Bk(e);try{return new zg(n)}catch{return null}}}class rl{constructor(){this.providerId=rl.PROVIDER_ID}static credential(e,n){return Uu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=zg.parseLink(n);return Se(r,"argument-error"),Uu._fromEmailAndCode(e,r.code,r.tenantId)}}rl.PROVIDER_ID="password";rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ug{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class nc extends Ug{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ks extends nc{constructor(){super("facebook.com")}static credential(e){return Oa._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";ks.PROVIDER_ID="facebook.com";class Nr extends nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Oa._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Nr.credential(n,r)}catch{return null}}}Nr.GOOGLE_SIGN_IN_METHOD="google.com";Nr.PROVIDER_ID="google.com";class Rs extends nc{constructor(){super("github.com")}static credential(e){return Oa._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.GITHUB_SIGN_IN_METHOD="github.com";Rs.PROVIDER_ID="github.com";class Ds extends nc{constructor(){super("twitter.com")}static credential(e,n){return Oa._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ds.credential(n,r)}catch{return null}}}Ds.TWITTER_SIGN_IN_METHOD="twitter.com";Ds.PROVIDER_ID="twitter.com";async function Fk(t,e){return tc(t,"POST","/v1/accounts:signUp",qr(t,e))}class Ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await Ai._fromIdTokenResponse(e,r,a),u=Vx(r);return new Ma({user:l,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=Vx(r);return new Ma({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function Vx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class mf extends Fr{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,mf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new mf(e,n,r,a)}}function YE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?mf._fromErrorAndOperation(t,l,e,r):l})}async function qk(t,e,n=!1){const r=await zu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ma._forOperation(t,"link",r)}async function Hk(t,e,n=!1){const{auth:r}=t;if($n(r.app))return Promise.reject(Or(r));const a="reauthenticate";try{const l=await zu(t,YE(r,a,e,t),n);Se(l.idToken,r,"internal-error");const u=Pg(l.idToken);Se(u,r,"internal-error");const{sub:h}=u;return Se(t.uid===h,r,"user-mismatch"),Ma._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&fi(r,"user-mismatch"),l}}async function QE(t,e,n=!1){if($n(t.app))return Promise.reject(Or(t));const r="signIn",a=await YE(t,r,e),l=await Ma._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}async function Gk(t,e){return QE(Ks(t),e)}async function XE(t){const e=Ks(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $k(t,e,n){if($n(t.app))return Promise.reject(Or(t));const r=Ks(t),u=await $p(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fk).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&XE(t),m}),h=await Ma._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function Kk(t,e,n){return $n(t.app)?Promise.reject(Or(t)):Gk(hn(t),rl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&XE(t),r})}async function Yk(t,e){const n=hn(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:l}=await Pk(n.auth,a);l!==t.email&&await t.reload()}function Qk(t,e,n,r){return hn(t).onIdTokenChanged(e,n,r)}function Xk(t,e,n){return hn(t).beforeAuthStateChanged(e,n)}function Wk(t,e,n,r){return hn(t).onAuthStateChanged(e,n,r)}function Jk(t){return hn(t).signOut()}const pf="__sak";class WE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pf,"1"),this.storage.removeItem(pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Zk=1e3,eR=10;class JE extends WE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,m)=>{this.notifyListeners(u,m)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);mk()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,eR):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Zk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JE.type="LOCAL";const tR=JE;class ZE extends WE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZE.type="SESSION";const ew=ZE;function nR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Pf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,l)),m=await nR(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pf.receivers=[];function Bg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class iR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,m)=>{const p=Bg("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(E.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function er(){return window}function rR(t){er().location.href=t}function tw(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function sR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aR(){return navigator?.serviceWorker?.controller||null}function oR(){return tw()?self:null}const nw="firebaseLocalStorageDb",lR=1,gf="firebaseLocalStorage",iw="fbase_key";class ic{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lf(t,e){return t.transaction([gf],e?"readwrite":"readonly").objectStore(gf)}function uR(){const t=indexedDB.deleteDatabase(nw);return new ic(t).toPromise()}function Kp(){const t=indexedDB.open(nw,lR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(gf,{keyPath:iw})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(gf)?e(r):(r.close(),await uR(),e(await Kp()))})})}async function zx(t,e,n){const r=Lf(t,!0).put({[iw]:e,value:n});return new ic(r).toPromise()}async function cR(t,e){const n=Lf(t,!1).get(e),r=await new ic(n).toPromise();return r===void 0?null:r.value}function Ux(t,e){const n=Lf(t,!0).delete(e);return new ic(n).toPromise()}const hR=800,fR=3;class rw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>fR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pf._getInstance(oR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await sR(),!this.activeServiceWorker)return;this.sender=new iR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kp();return await zx(e,pf,"1"),await Ux(e,pf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>cR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ux(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Lf(a,!1).getAll();return new ic(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rw.type="LOCAL";const dR=rw;new ec(3e4,6e4);function sw(t,e){return e?Rr(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Fg extends Vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mR(t){return QE(t.auth,new Fg(t),t.bypassAuthState)}function pR(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),Hk(n,new Fg(t),t.bypassAuthState)}async function gR(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),qk(n,new Fg(t),t.bypassAuthState)}class aw{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mR;case"linkViaPopup":case"linkViaRedirect":return gR;case"reauthViaPopup":case"reauthViaRedirect":return pR;default:fi(this.auth,"internal-error")}}resolve(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const yR=new ec(2e3,1e4);async function vR(t,e,n){if($n(t.app))return Promise.reject(Ci(t,"operation-not-supported-in-this-environment"));const r=Ks(t);YN(t,e,Ug);const a=sw(r,n);return new Ia(r,"signInViaPopup",e,a).executeNotNull()}class Ia extends aw{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Ia.currentPopupAction&&Ia.currentPopupAction.cancel(),Ia.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Lr(this.filter.length===1,"Popup operations only handle one event");const e=Bg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ia.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yR.get())};e()}}Ia.currentPopupAction=null;const _R="pendingRedirect",Wh=new Map;class xR extends aw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wh.get(this.auth._key());if(!e){try{const r=await bR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wh.set(this.auth._key(),e)}return this.bypassAuthState||Wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bR(t,e){const n=TR(e),r=wR(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function ER(t,e){Wh.set(t._key(),e)}function wR(t){return Rr(t._redirectPersistence)}function TR(t){return Xh(_R,t.config.apiKey,t.name)}async function SR(t,e,n=!1){if($n(t.app))return Promise.reject(Or(t));const r=Ks(t),a=sw(r,e),u=await new xR(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const AR=600*1e3;class CR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ow(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ci(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bx(e))}saveEventToCache(e){this.cachedEventUids.add(Bx(e)),this.lastProcessedEventTime=Date.now()}}function Bx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ow({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function IR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ow(t);default:return!1}}async function NR(t,e={}){return Hr(t,"GET","/v1/projects",e)}const kR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RR=/^https?/;async function DR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await NR(t);for(const n of e)try{if(OR(n))return}catch{}fi(t,"unauthorized-domain")}function OR(t){const e=Hp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!RR.test(n))return!1;if(kR.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const MR=new ec(3e4,6e4);function Fx(){const t=er().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jR(t){return new Promise((e,n)=>{function r(){Fx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fx(),n(Ci(t,"network-request-failed"))},timeout:MR.get()})}if(er().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(er().gapi?.load)r();else{const a=wk("iframefcb");return er()[a]=()=>{gapi.load?r():n(Ci(t,"network-request-failed"))},GE(`${Ek()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Jh=null,e})}let Jh=null;function PR(t){return Jh=Jh||jR(t),Jh}const LR=new ec(5e3,15e3),VR="__/auth/iframe",zR="emulator/auth/iframe",UR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FR(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?jg(e,zR):`https://${t.config.authDomain}/${VR}`,r={apiKey:e.apiKey,appName:t.name,v:il},a=BR.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Zu(r).slice(1)}`}async function qR(t){const e=await PR(t),n=er().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:FR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UR,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const u=Ci(t,"network-request-failed"),h=er().setTimeout(()=>{l(u)},LR.get());function m(){er().clearTimeout(h),a(r)}r.ping(m).then(m,()=>{l(u)})}))}const HR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GR=500,$R=600,KR="_blank",YR="http://localhost";class qx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QR(t,e,n,r=GR,a=$R){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const m={...HR,width:r.toString(),height:a.toString(),top:l,left:u},p=xn().toLowerCase();n&&(h=VE(p)?KR:n),PE(p)&&(e=e||YR,m.scrollbars="yes");const v=Object.entries(m).reduce((E,[w,I])=>`${E}${w}=${I},`,"");if(dk(p)&&h!=="_self")return XR(e||"",h),new qx(null);const _=window.open(e||"",h,v);Se(_,t,"popup-blocked");try{_.focus()}catch{}return new qx(_)}function XR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const WR="__/auth/handler",JR="emulator/auth/handler",ZR=encodeURIComponent("fac");async function Hx(t,e,n,r,a,l){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:il,eventId:a};if(e instanceof Ug){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",DI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))u[v]=_}if(e instanceof nc){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const m=await t._getAppCheckToken(),p=m?`#${ZR}=${encodeURIComponent(m)}`:"";return`${e4(t)}?${Zu(h).slice(1)}${p}`}function e4({config:t}){return t.emulator?jg(t,JR):`https://${t.authDomain}/${WR}`}const fp="webStorageSupport";class t4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ew,this._completeRedirectFn=SR,this._overrideRedirectResult=ER}async _openPopup(e,n,r,a){Lr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Hx(e,n,r,Hp(),a);return QR(e,l,Bg())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await Hx(e,n,r,Hp(),a);return rR(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Lr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await qR(e),r=new CR(e);return n.register("authEvent",a=>(Se(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fp,{type:fp},a=>{const l=a?.[0]?.[fp];l!==void 0&&n(!!l),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qE()||LE()||Lg()}}const n4=t4;var Gx="@firebase/auth",$x="1.11.1";class i4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function r4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s4(t){$o(new Da("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HE(t)},p=new _k(r,a,l,m);return Nk(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$o(new Da("auth-internal",e=>{const n=Ks(e.getProvider("auth").getImmediate());return(r=>new i4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ps(Gx,$x,r4(t)),Ps(Gx,$x,"esm2020")}const a4=300,o4=xE("authIdTokenMaxAge")||a4;let Kx=null;const l4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>o4)return;const a=n?.token;Kx!==a&&(Kx=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function u4(t=AE()){const e=Dg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Ik(t,{popupRedirectResolver:n4,persistence:[dR,tR,ew]}),r=xE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=l4(l.toString());Xk(n,u,()=>u(n.currentUser)),Qk(n,h=>u(h))}}const a=vE("auth");return a&&kk(n,`http://${a}`),n}function c4(){return document.getElementsByTagName("head")?.[0]??document}xk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=Ci("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",c4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s4("Browser");var Yx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ls,lw;(function(){var t;function e(j,k){function O(){}O.prototype=k.prototype,j.F=k.prototype,j.prototype=new O,j.prototype.constructor=j,j.D=function(A,C,D){for(var R=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)R[ue-2]=arguments[ue];return k.prototype[C].apply(A,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(j,k,O){O||(O=0);const A=Array(16);if(typeof k=="string")for(var C=0;C<16;++C)A[C]=k.charCodeAt(O++)|k.charCodeAt(O++)<<8|k.charCodeAt(O++)<<16|k.charCodeAt(O++)<<24;else for(C=0;C<16;++C)A[C]=k[O++]|k[O++]<<8|k[O++]<<16|k[O++]<<24;k=j.g[0],O=j.g[1],C=j.g[2];let D=j.g[3],R;R=k+(D^O&(C^D))+A[0]+3614090360&4294967295,k=O+(R<<7&4294967295|R>>>25),R=D+(C^k&(O^C))+A[1]+3905402710&4294967295,D=k+(R<<12&4294967295|R>>>20),R=C+(O^D&(k^O))+A[2]+606105819&4294967295,C=D+(R<<17&4294967295|R>>>15),R=O+(k^C&(D^k))+A[3]+3250441966&4294967295,O=C+(R<<22&4294967295|R>>>10),R=k+(D^O&(C^D))+A[4]+4118548399&4294967295,k=O+(R<<7&4294967295|R>>>25),R=D+(C^k&(O^C))+A[5]+1200080426&4294967295,D=k+(R<<12&4294967295|R>>>20),R=C+(O^D&(k^O))+A[6]+2821735955&4294967295,C=D+(R<<17&4294967295|R>>>15),R=O+(k^C&(D^k))+A[7]+4249261313&4294967295,O=C+(R<<22&4294967295|R>>>10),R=k+(D^O&(C^D))+A[8]+1770035416&4294967295,k=O+(R<<7&4294967295|R>>>25),R=D+(C^k&(O^C))+A[9]+2336552879&4294967295,D=k+(R<<12&4294967295|R>>>20),R=C+(O^D&(k^O))+A[10]+4294925233&4294967295,C=D+(R<<17&4294967295|R>>>15),R=O+(k^C&(D^k))+A[11]+2304563134&4294967295,O=C+(R<<22&4294967295|R>>>10),R=k+(D^O&(C^D))+A[12]+1804603682&4294967295,k=O+(R<<7&4294967295|R>>>25),R=D+(C^k&(O^C))+A[13]+4254626195&4294967295,D=k+(R<<12&4294967295|R>>>20),R=C+(O^D&(k^O))+A[14]+2792965006&4294967295,C=D+(R<<17&4294967295|R>>>15),R=O+(k^C&(D^k))+A[15]+1236535329&4294967295,O=C+(R<<22&4294967295|R>>>10),R=k+(C^D&(O^C))+A[1]+4129170786&4294967295,k=O+(R<<5&4294967295|R>>>27),R=D+(O^C&(k^O))+A[6]+3225465664&4294967295,D=k+(R<<9&4294967295|R>>>23),R=C+(k^O&(D^k))+A[11]+643717713&4294967295,C=D+(R<<14&4294967295|R>>>18),R=O+(D^k&(C^D))+A[0]+3921069994&4294967295,O=C+(R<<20&4294967295|R>>>12),R=k+(C^D&(O^C))+A[5]+3593408605&4294967295,k=O+(R<<5&4294967295|R>>>27),R=D+(O^C&(k^O))+A[10]+38016083&4294967295,D=k+(R<<9&4294967295|R>>>23),R=C+(k^O&(D^k))+A[15]+3634488961&4294967295,C=D+(R<<14&4294967295|R>>>18),R=O+(D^k&(C^D))+A[4]+3889429448&4294967295,O=C+(R<<20&4294967295|R>>>12),R=k+(C^D&(O^C))+A[9]+568446438&4294967295,k=O+(R<<5&4294967295|R>>>27),R=D+(O^C&(k^O))+A[14]+3275163606&4294967295,D=k+(R<<9&4294967295|R>>>23),R=C+(k^O&(D^k))+A[3]+4107603335&4294967295,C=D+(R<<14&4294967295|R>>>18),R=O+(D^k&(C^D))+A[8]+1163531501&4294967295,O=C+(R<<20&4294967295|R>>>12),R=k+(C^D&(O^C))+A[13]+2850285829&4294967295,k=O+(R<<5&4294967295|R>>>27),R=D+(O^C&(k^O))+A[2]+4243563512&4294967295,D=k+(R<<9&4294967295|R>>>23),R=C+(k^O&(D^k))+A[7]+1735328473&4294967295,C=D+(R<<14&4294967295|R>>>18),R=O+(D^k&(C^D))+A[12]+2368359562&4294967295,O=C+(R<<20&4294967295|R>>>12),R=k+(O^C^D)+A[5]+4294588738&4294967295,k=O+(R<<4&4294967295|R>>>28),R=D+(k^O^C)+A[8]+2272392833&4294967295,D=k+(R<<11&4294967295|R>>>21),R=C+(D^k^O)+A[11]+1839030562&4294967295,C=D+(R<<16&4294967295|R>>>16),R=O+(C^D^k)+A[14]+4259657740&4294967295,O=C+(R<<23&4294967295|R>>>9),R=k+(O^C^D)+A[1]+2763975236&4294967295,k=O+(R<<4&4294967295|R>>>28),R=D+(k^O^C)+A[4]+1272893353&4294967295,D=k+(R<<11&4294967295|R>>>21),R=C+(D^k^O)+A[7]+4139469664&4294967295,C=D+(R<<16&4294967295|R>>>16),R=O+(C^D^k)+A[10]+3200236656&4294967295,O=C+(R<<23&4294967295|R>>>9),R=k+(O^C^D)+A[13]+681279174&4294967295,k=O+(R<<4&4294967295|R>>>28),R=D+(k^O^C)+A[0]+3936430074&4294967295,D=k+(R<<11&4294967295|R>>>21),R=C+(D^k^O)+A[3]+3572445317&4294967295,C=D+(R<<16&4294967295|R>>>16),R=O+(C^D^k)+A[6]+76029189&4294967295,O=C+(R<<23&4294967295|R>>>9),R=k+(O^C^D)+A[9]+3654602809&4294967295,k=O+(R<<4&4294967295|R>>>28),R=D+(k^O^C)+A[12]+3873151461&4294967295,D=k+(R<<11&4294967295|R>>>21),R=C+(D^k^O)+A[15]+530742520&4294967295,C=D+(R<<16&4294967295|R>>>16),R=O+(C^D^k)+A[2]+3299628645&4294967295,O=C+(R<<23&4294967295|R>>>9),R=k+(C^(O|~D))+A[0]+4096336452&4294967295,k=O+(R<<6&4294967295|R>>>26),R=D+(O^(k|~C))+A[7]+1126891415&4294967295,D=k+(R<<10&4294967295|R>>>22),R=C+(k^(D|~O))+A[14]+2878612391&4294967295,C=D+(R<<15&4294967295|R>>>17),R=O+(D^(C|~k))+A[5]+4237533241&4294967295,O=C+(R<<21&4294967295|R>>>11),R=k+(C^(O|~D))+A[12]+1700485571&4294967295,k=O+(R<<6&4294967295|R>>>26),R=D+(O^(k|~C))+A[3]+2399980690&4294967295,D=k+(R<<10&4294967295|R>>>22),R=C+(k^(D|~O))+A[10]+4293915773&4294967295,C=D+(R<<15&4294967295|R>>>17),R=O+(D^(C|~k))+A[1]+2240044497&4294967295,O=C+(R<<21&4294967295|R>>>11),R=k+(C^(O|~D))+A[8]+1873313359&4294967295,k=O+(R<<6&4294967295|R>>>26),R=D+(O^(k|~C))+A[15]+4264355552&4294967295,D=k+(R<<10&4294967295|R>>>22),R=C+(k^(D|~O))+A[6]+2734768916&4294967295,C=D+(R<<15&4294967295|R>>>17),R=O+(D^(C|~k))+A[13]+1309151649&4294967295,O=C+(R<<21&4294967295|R>>>11),R=k+(C^(O|~D))+A[4]+4149444226&4294967295,k=O+(R<<6&4294967295|R>>>26),R=D+(O^(k|~C))+A[11]+3174756917&4294967295,D=k+(R<<10&4294967295|R>>>22),R=C+(k^(D|~O))+A[2]+718787259&4294967295,C=D+(R<<15&4294967295|R>>>17),R=O+(D^(C|~k))+A[9]+3951481745&4294967295,j.g[0]=j.g[0]+k&4294967295,j.g[1]=j.g[1]+(C+(R<<21&4294967295|R>>>11))&4294967295,j.g[2]=j.g[2]+C&4294967295,j.g[3]=j.g[3]+D&4294967295}r.prototype.v=function(j,k){k===void 0&&(k=j.length);const O=k-this.blockSize,A=this.C;let C=this.h,D=0;for(;D<k;){if(C==0)for(;D<=O;)a(this,j,D),D+=this.blockSize;if(typeof j=="string"){for(;D<k;)if(A[C++]=j.charCodeAt(D++),C==this.blockSize){a(this,A),C=0;break}}else for(;D<k;)if(A[C++]=j[D++],C==this.blockSize){a(this,A),C=0;break}}this.h=C,this.o+=k},r.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var k=1;k<j.length-8;++k)j[k]=0;k=this.o*8;for(var O=j.length-8;O<j.length;++O)j[O]=k&255,k/=256;for(this.v(j),j=Array(16),k=0,O=0;O<4;++O)for(let A=0;A<32;A+=8)j[k++]=this.g[O]>>>A&255;return j};function l(j,k){var O=h;return Object.prototype.hasOwnProperty.call(O,j)?O[j]:O[j]=k(j)}function u(j,k){this.h=k;const O=[];let A=!0;for(let C=j.length-1;C>=0;C--){const D=j[C]|0;A&&D==k||(O[C]=D,A=!1)}this.g=O}var h={};function m(j){return-128<=j&&j<128?l(j,function(k){return new u([k|0],k<0?-1:0)}):new u([j|0],j<0?-1:0)}function p(j){if(isNaN(j)||!isFinite(j))return _;if(j<0)return P(p(-j));const k=[];let O=1;for(let A=0;j>=O;A++)k[A]=j/O|0,O*=4294967296;return new u(k,0)}function v(j,k){if(j.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(j.charAt(0)=="-")return P(v(j.substring(1),k));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=p(Math.pow(k,8));let A=_;for(let D=0;D<j.length;D+=8){var C=Math.min(8,j.length-D);const R=parseInt(j.substring(D,D+C),k);C<8?(C=p(Math.pow(k,C)),A=A.j(C).add(p(R))):(A=A.j(O),A=A.add(p(R)))}return A}var _=m(0),E=m(1),w=m(16777216);t=u.prototype,t.m=function(){if(U(this))return-P(this).m();let j=0,k=1;for(let O=0;O<this.g.length;O++){const A=this.i(O);j+=(A>=0?A:4294967296+A)*k,k*=4294967296}return j},t.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(I(this))return"0";if(U(this))return"-"+P(this).toString(j);const k=p(Math.pow(j,6));var O=this;let A="";for(;;){const C=ee(O,k).g;O=z(O,C.j(k));let D=((O.g.length>0?O.g[0]:O.h)>>>0).toString(j);if(O=C,I(O))return D+A;for(;D.length<6;)D="0"+D;A=D+A}},t.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function I(j){if(j.h!=0)return!1;for(let k=0;k<j.g.length;k++)if(j.g[k]!=0)return!1;return!0}function U(j){return j.h==-1}t.l=function(j){return j=z(this,j),U(j)?-1:I(j)?0:1};function P(j){const k=j.g.length,O=[];for(let A=0;A<k;A++)O[A]=~j.g[A];return new u(O,~j.h).add(E)}t.abs=function(){return U(this)?P(this):this},t.add=function(j){const k=Math.max(this.g.length,j.g.length),O=[];let A=0;for(let C=0;C<=k;C++){let D=A+(this.i(C)&65535)+(j.i(C)&65535),R=(D>>>16)+(this.i(C)>>>16)+(j.i(C)>>>16);A=R>>>16,D&=65535,R&=65535,O[C]=R<<16|D}return new u(O,O[O.length-1]&-2147483648?-1:0)};function z(j,k){return j.add(P(k))}t.j=function(j){if(I(this)||I(j))return _;if(U(this))return U(j)?P(this).j(P(j)):P(P(this).j(j));if(U(j))return P(this.j(P(j)));if(this.l(w)<0&&j.l(w)<0)return p(this.m()*j.m());const k=this.g.length+j.g.length,O=[];for(var A=0;A<2*k;A++)O[A]=0;for(A=0;A<this.g.length;A++)for(let C=0;C<j.g.length;C++){const D=this.i(A)>>>16,R=this.i(A)&65535,ue=j.i(C)>>>16,ae=j.i(C)&65535;O[2*A+2*C]+=R*ae,F(O,2*A+2*C),O[2*A+2*C+1]+=D*ae,F(O,2*A+2*C+1),O[2*A+2*C+1]+=R*ue,F(O,2*A+2*C+1),O[2*A+2*C+2]+=D*ue,F(O,2*A+2*C+2)}for(j=0;j<k;j++)O[j]=O[2*j+1]<<16|O[2*j];for(j=k;j<2*k;j++)O[j]=0;return new u(O,0)};function F(j,k){for(;(j[k]&65535)!=j[k];)j[k+1]+=j[k]>>>16,j[k]&=65535,k++}function q(j,k){this.g=j,this.h=k}function ee(j,k){if(I(k))throw Error("division by zero");if(I(j))return new q(_,_);if(U(j))return k=ee(P(j),k),new q(P(k.g),P(k.h));if(U(k))return k=ee(j,P(k)),new q(P(k.g),k.h);if(j.g.length>30){if(U(j)||U(k))throw Error("slowDivide_ only works with positive integers.");for(var O=E,A=k;A.l(j)<=0;)O=ce(O),A=ce(A);var C=G(O,1),D=G(A,1);for(A=G(A,2),O=G(O,2);!I(A);){var R=D.add(A);R.l(j)<=0&&(C=C.add(O),D=R),A=G(A,1),O=G(O,1)}return k=z(j,C.j(k)),new q(C,k)}for(C=_;j.l(k)>=0;){for(O=Math.max(1,Math.floor(j.m()/k.m())),A=Math.ceil(Math.log(O)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),D=p(O),R=D.j(k);U(R)||R.l(j)>0;)O-=A,D=p(O),R=D.j(k);I(D)&&(D=E),C=C.add(D),j=z(j,R)}return new q(C,j)}t.B=function(j){return ee(this,j).h},t.and=function(j){const k=Math.max(this.g.length,j.g.length),O=[];for(let A=0;A<k;A++)O[A]=this.i(A)&j.i(A);return new u(O,this.h&j.h)},t.or=function(j){const k=Math.max(this.g.length,j.g.length),O=[];for(let A=0;A<k;A++)O[A]=this.i(A)|j.i(A);return new u(O,this.h|j.h)},t.xor=function(j){const k=Math.max(this.g.length,j.g.length),O=[];for(let A=0;A<k;A++)O[A]=this.i(A)^j.i(A);return new u(O,this.h^j.h)};function ce(j){const k=j.g.length+1,O=[];for(let A=0;A<k;A++)O[A]=j.i(A)<<1|j.i(A-1)>>>31;return new u(O,j.h)}function G(j,k){const O=k>>5;k%=32;const A=j.g.length-O,C=[];for(let D=0;D<A;D++)C[D]=k>0?j.i(D+O)>>>k|j.i(D+O+1)<<32-k:j.i(D+O);return new u(C,j.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,lw=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,Ls=u}).apply(typeof Yx<"u"?Yx:typeof self<"u"?self:typeof window<"u"?window:{});var zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var uw,bu,cw,Zh,Yp,hw,fw,dw;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof zh=="object"&&zh];for(var x=0;x<f.length;++x){var T=f[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function a(f,x){if(x)e:{var T=r;f=f.split(".");for(var N=0;N<f.length-1;N++){var $=f[N];if(!($ in T))break e;T=T[$]}f=f[f.length-1],N=T[f],x=x(N),x!=N&&x!=null&&e(T,f,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(x){var T=[],N;for(N in x)Object.prototype.hasOwnProperty.call(x,N)&&T.push([N,x[N]]);return T}});var l=l||{},u=this||self;function h(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function m(f,x,T){return f.call.apply(f.bind,arguments)}function p(f,x,T){return p=m,p.apply(null,arguments)}function v(f,x){var T=Array.prototype.slice.call(arguments,1);return function(){var N=T.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function _(f,x){function T(){}T.prototype=x.prototype,f.Z=x.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(N,$,W){for(var de=Array(arguments.length-2),De=2;De<arguments.length;De++)de[De-2]=arguments[De];return x.prototype[$].apply(N,de)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function w(f){const x=f.length;if(x>0){const T=Array(x);for(let N=0;N<x;N++)T[N]=f[N];return T}return[]}function I(f,x){for(let N=1;N<arguments.length;N++){const $=arguments[N];var T=typeof $;if(T=T!="object"?T:$?Array.isArray($)?"array":T:"null",T=="array"||T=="object"&&typeof $.length=="number"){T=f.length||0;const W=$.length||0;f.length=T+W;for(let de=0;de<W;de++)f[T+de]=$[de]}else f.push($)}}class U{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function P(f){u.setTimeout(()=>{throw f},0)}function z(){var f=j;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class F{constructor(){this.h=this.g=null}add(x,T){const N=q.get();N.set(x,T),this.h?this.h.next=N:this.g=N,this.h=N}}var q=new U(()=>new ee,f=>f.reset());class ee{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,G=!1,j=new F,k=()=>{const f=Promise.resolve(void 0);ce=()=>{f.then(O)}};function O(){for(var f;f=z();){try{f.h.call(f.g)}catch(T){P(T)}var x=q;x.j(f),x.h<100&&(x.h++,f.next=x.g,x.g=f)}G=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};u.addEventListener("test",T,x),u.removeEventListener("test",T,x)}catch{}return f})();function R(f){return/^[\s\xa0]*$/.test(f)}function ue(f,x){C.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,x)}_(ue,C),ue.prototype.init=function(f,x){const T=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget,x||(T=="mouseover"?x=f.fromElement:T=="mouseout"&&(x=f.toElement)),this.relatedTarget=x,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),Y=0;function oe(f,x,T,N,$){this.listener=f,this.proxy=null,this.src=x,this.type=T,this.capture=!!N,this.ha=$,this.key=++Y,this.da=this.fa=!1}function me(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Re(f,x,T){for(const N in f)x.call(T,f[N],N,f)}function L(f,x){for(const T in f)x.call(void 0,f[T],T,f)}function We(f){const x={};for(const T in f)x[T]=f[T];return x}const Le="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(f,x){let T,N;for(let $=1;$<arguments.length;$++){N=arguments[$];for(T in N)f[T]=N[T];for(let W=0;W<Le.length;W++)T=Le[W],Object.prototype.hasOwnProperty.call(N,T)&&(f[T]=N[T])}}function Ne(f){this.src=f,this.g={},this.h=0}Ne.prototype.add=function(f,x,T,N,$){const W=f.toString();f=this.g[W],f||(f=this.g[W]=[],this.h++);const de=Xe(f,x,N,$);return de>-1?(x=f[de],T||(x.fa=!1)):(x=new oe(x,this.src,W,!!N,$),x.fa=T,f.push(x)),x};function tt(f,x){const T=x.type;if(T in f.g){var N=f.g[T],$=Array.prototype.indexOf.call(N,x,void 0),W;(W=$>=0)&&Array.prototype.splice.call(N,$,1),W&&(me(x),f.g[T].length==0&&(delete f.g[T],f.h--))}}function Xe(f,x,T,N){for(let $=0;$<f.length;++$){const W=f[$];if(!W.da&&W.listener==x&&W.capture==!!T&&W.ha==N)return $}return-1}var vt="closure_lm_"+(Math.random()*1e6|0),At={};function bt(f,x,T,N,$){if(Array.isArray(x)){for(let W=0;W<x.length;W++)bt(f,x[W],T,N,$);return null}return T=Ws(T),f&&f[ae]?f.J(x,T,h(N)?!!N.capture:!1,$):Qn(f,x,T,!1,N,$)}function Qn(f,x,T,N,$,W){if(!x)throw Error("Invalid event type");const de=h($)?!!$.capture:!!$;let De=Ni(f);if(De||(f[vt]=De=new Ne(f)),T=De.add(x,T,N,de,W),T.proxy)return T;if(N=di(),T.proxy=N,N.src=f,N.listener=T,f.addEventListener)D||($=de),$===void 0&&($=!1),f.addEventListener(x.toString(),N,$);else if(f.attachEvent)f.attachEvent(Xn(x.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return T}function di(){function f(T){return x.call(f.src,f.listener,T)}const x=Yr;return f}function $r(f,x,T,N,$){if(Array.isArray(x))for(var W=0;W<x.length;W++)$r(f,x[W],T,N,$);else N=h(N)?!!N.capture:!!N,T=Ws(T),f&&f[ae]?(f=f.i,W=String(x).toString(),W in f.g&&(x=f.g[W],T=Xe(x,T,N,$),T>-1&&(me(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete f.g[W],f.h--)))):f&&(f=Ni(f))&&(x=f.g[x.toString()],f=-1,x&&(f=Xe(x,T,N,$)),(T=f>-1?x[f]:null)&&Kr(T))}function Kr(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[ae])tt(x.i,f);else{var T=f.type,N=f.proxy;x.removeEventListener?x.removeEventListener(T,N,f.capture):x.detachEvent?x.detachEvent(Xn(T),N):x.addListener&&x.removeListener&&x.removeListener(N),(T=Ni(x))?(tt(T,f),T.h==0&&(T.src=null,x[vt]=null)):me(f)}}}function Xn(f){return f in At?At[f]:At[f]="on"+f}function Yr(f,x){if(f.da)f=!0;else{x=new ue(x,this);const T=f.listener,N=f.ha||f.src;f.fa&&Kr(f),f=T.call(N,x)}return f}function Ni(f){return f=f[vt],f instanceof Ne?f:null}var Qr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ws(f){return typeof f=="function"?f:(f[Qr]||(f[Qr]=function(x){return f.handleEvent(x)}),f[Qr])}function Et(){A.call(this),this.i=new Ne(this),this.M=this,this.G=null}_(Et,A),Et.prototype[ae]=!0,Et.prototype.removeEventListener=function(f,x,T,N){$r(this,f,x,T,N)};function Ct(f,x){var T,N=f.G;if(N)for(T=[];N;N=N.G)T.push(N);if(f=f.M,N=x.type||x,typeof x=="string")x=new C(x,f);else if(x instanceof C)x.target=x.target||f;else{var $=x;x=new C(N,f),M(x,$)}$=!0;let W,de;if(T)for(de=T.length-1;de>=0;de--)W=x.g=T[de],$=ki(W,N,!0,x)&&$;if(W=x.g=f,$=ki(W,N,!0,x)&&$,$=ki(W,N,!1,x)&&$,T)for(de=0;de<T.length;de++)W=x.g=T[de],$=ki(W,N,!1,x)&&$}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var f=this.i;for(const x in f.g){const T=f.g[x];for(let N=0;N<T.length;N++)me(T[N]);delete f.g[x],f.h--}}this.G=null},Et.prototype.J=function(f,x,T,N){return this.i.add(String(f),x,!1,T,N)},Et.prototype.K=function(f,x,T,N){return this.i.add(String(f),x,!0,T,N)};function ki(f,x,T,N){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();let $=!0;for(let W=0;W<x.length;++W){const de=x[W];if(de&&!de.da&&de.capture==T){const De=de.listener,Rt=de.ha||de.src;de.fa&&tt(f.i,de),$=De.call(Rt,N)!==!1&&$}}return $&&!N.defaultPrevented}function dl(f,x){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:u.setTimeout(f,x||0)}function Ha(f){f.g=dl(()=>{f.g=null,f.i&&(f.i=!1,Ha(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class tn extends A{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Ha(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(f){A.call(this),this.h=f,this.g={}}_(ur,A);var ne=[];function fe(f){Re(f.g,function(x,T){this.g.hasOwnProperty(T)&&Kr(x)},f),f.g={}}ur.prototype.N=function(){ur.Z.N.call(this),fe(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var be=u.JSON.stringify,Pe=u.JSON.parse,Je=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function dn(){}function Wn(){}var kt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function wt(){C.call(this,"d")}_(wt,C);function Xt(){C.call(this,"c")}_(Xt,C);var $e={},mi=null;function mn(){return mi=mi||new Et}$e.Ia="serverreachability";function mc(f){C.call(this,$e.Ia,f)}_(mc,C);function Ri(f){const x=mn();Ct(x,new mc(x))}$e.STAT_EVENT="statevent";function Js(f,x){C.call(this,$e.STAT_EVENT,f),this.stat=x}_(Js,C);function jt(f){const x=mn();Ct(x,new Js(x,f))}$e.Ja="timingevent";function Di(f,x){C.call(this,$e.Ja,f),this.size=x}_(Di,C);function Oi(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},x)}function pi(){this.g=!0}pi.prototype.ua=function(){this.g=!1};function od(f,x,T,N,$,W){f.info(function(){if(f.g)if(W){var de="",De=W.split("&");for(let nt=0;nt<De.length;nt++){var Rt=De[nt].split("=");if(Rt.length>1){const _t=Rt[0];Rt=Rt[1];const ti=_t.split("_");de=ti.length>=2&&ti[1]=="type"?de+(_t+"="+Rt+"&"):de+(_t+"=redacted&")}}}else de=null;else de=W;return"XMLHTTP REQ ("+N+") [attempt "+$+"]: "+x+`
`+T+`
`+de})}function pc(f,x,T,N,$,W,de){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+$+"]: "+x+`
`+T+`
`+W+" "+de})}function Mi(f,x,T,N){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+ld(f,T)+(N?" "+N:"")})}function Zs(f,x){f.info(function(){return"TIMEOUT: "+x})}pi.prototype.info=function(){};function ld(f,x){if(!f.g)return x;if(!x)return null;try{const W=JSON.parse(x);if(W){for(f=0;f<W.length;f++)if(Array.isArray(W[f])){var T=W[f];if(!(T.length<2)){var N=T[1];if(Array.isArray(N)&&!(N.length<1)){var $=N[0];if($!="noop"&&$!="stop"&&$!="close")for(let de=1;de<N.length;de++)N[de]=""}}}}return be(W)}catch{return x}}var ea={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ml={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pl;function ta(){}_(ta,dn),ta.prototype.g=function(){return new XMLHttpRequest},pl=new ta;function cr(f){return encodeURIComponent(String(f))}function gc(f){var x=1;f=f.split(":");const T=[];for(;x>0&&f.length;)T.push(f.shift()),x--;return f.length&&T.push(f.join(":")),T}function gi(f,x,T,N){this.j=f,this.i=x,this.l=T,this.S=N||1,this.V=new ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yi}function yi(){this.i=null,this.g="",this.h=!1}var Pt={},Wt={};function ji(f,x,T){f.M=1,f.A=na(Vt(x)),f.u=T,f.R=!0,Ga(f,null)}function Ga(f,x){f.F=Date.now(),Pi(f),f.B=Vt(f.A);var T=f.B,N=f.S;Array.isArray(N)||(N=[String(N)]),Qa(T.i,"t",N),f.C=0,T=f.j.L,f.h=new yi,f.g=Rc(f.j,T?x:null,!f.u),f.P>0&&(f.O=new tn(p(f.Y,f,f.g),f.P)),x=f.V,T=f.g,N=f.ba;var $="readystatechange";Array.isArray($)||($&&(ne[0]=$.toString()),$=ne);for(let W=0;W<$.length;W++){const de=bt(T,$[W],N||x.handleEvent,!1,x.h||x);if(!de)break;x.g[de.key]=de}x=f.J?We(f.J):{},f.u?(f.v||(f.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,x)):(f.v="GET",f.g.ea(f.B,f.v,null,x)),Ri(),od(f.i,f.v,f.B,f.l,f.S,f.u)}gi.prototype.ba=function(f){f=f.target;const x=this.O;x&&xi(f)==3?x.j():this.Y(f)},gi.prototype.Y=function(f){try{if(f==this.g)e:{const De=xi(this.g),Rt=this.g.ya(),nt=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||De!=4||Rt==7||(Rt==8||nt<=0?Ri(3):Ri(2)),Li(this);var x=this.g.ca();this.X=x;var T=ud(this);if(this.o=x==200,pc(this.i,this.v,this.B,this.l,this.S,De,x),this.o){if(this.U&&!this.L){t:{if(this.g){var N,$=this.g;if((N=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(N)){var W=N;break t}}W=null}if(f=W)Mi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vi(this,f);else{this.o=!1,this.m=3,jt(12),Pn(this),Jn(this);break e}}if(this.R){f=!0;let _t;for(;!this.K&&this.C<T.length;)if(_t=vc(this,T),_t==Wt){De==4&&(this.m=4,jt(14),f=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==Pt){this.m=4,jt(15),Mi(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else Mi(this.i,this.l,_t,null),Vi(this,_t);if(yc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||T.length!=0||this.h.h||(this.m=1,jt(16),f=!1),this.o=this.o&&f,!f)Mi(this.i,this.l,T,"[Invalid Chunked Response]"),Pn(this),Jn(this);else if(T.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),kl(de),de.P=!0,jt(11))}}else Mi(this.i,this.l,T,null),Vi(this,T);De==4&&Pn(this),this.o&&!this.K&&(De==4?Cc(this.j,this):(this.o=!1,Pi(this)))}else fr(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,jt(12)):(this.m=0,jt(13)),Pn(this),Jn(this)}}}catch{}finally{}};function ud(f){if(!yc(f))return f.g.la();const x=nn(f.g);if(x==="")return"";let T="";const N=x.length,$=xi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Pn(f),Jn(f),"";f.h.i=new u.TextDecoder}for(let W=0;W<N;W++)f.h.h=!0,T+=f.h.i.decode(x[W],{stream:!($&&W==N-1)});return x.length=0,f.h.g+=T,f.C=0,f.h.g}function yc(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function vc(f,x){var T=f.C,N=x.indexOf(`
`,T);return N==-1?Wt:(T=Number(x.substring(T,N)),isNaN(T)?Pt:(N+=1,N+T>x.length?Wt:(x=x.slice(N,N+T),f.C=N+T,x)))}gi.prototype.cancel=function(){this.K=!0,Pn(this)};function Pi(f){f.T=Date.now()+f.H,$a(f,f.H)}function $a(f,x){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Oi(p(f.aa,f),x)}function Li(f){f.D&&(u.clearTimeout(f.D),f.D=null)}gi.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Zs(this.i,this.B),this.M!=2&&(Ri(),jt(17)),Pn(this),this.m=2,Jn(this)):$a(this,this.T-f)};function Jn(f){f.j.I==0||f.K||Cc(f.j,f)}function Pn(f){Li(f);var x=f.O;x&&typeof x.dispose=="function"&&x.dispose(),f.O=null,fe(f.V),f.g&&(x=f.g,f.g=null,x.abort(),x.dispose())}function Vi(f,x){try{var T=f.j;if(T.I!=0&&(T.g==f||Ui(T.h,f))){if(!f.L&&Ui(T.h,f)&&T.I==3){try{var N=T.Ba.g.parse(x)}catch{N=null}if(Array.isArray(N)&&N.length==3){var $=N;if($[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)eo(T),is(T);else break e;ua(T),jt(18)}}else T.xa=$[1],0<T.xa-T.K&&$[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Oi(p(T.Va,T),6e3));zi(T.h)<=1&&T.ta&&(T.ta=void 0)}else $i(T,11)}else if((f.L||T.g==f)&&eo(T),!R(x))for($=T.Ba.g.parse(x),x=0;x<$.length;x++){let nt=$[x];const _t=nt[0];if(!(_t<=T.K))if(T.K=_t,nt=nt[1],T.I==2)if(nt[0]=="c"){T.M=nt[1],T.ba=nt[2];const ti=nt[3];ti!=null&&(T.ka=ti,T.j.info("VER="+T.ka));const Ki=nt[4];Ki!=null&&(T.za=Ki,T.j.info("SVER="+T.za));const bi=nt[5];bi!=null&&typeof bi=="number"&&bi>0&&(N=1.5*bi,T.O=N,T.j.info("backChannelRequestTimeoutMs_="+N)),N=T;const Ei=f.g;if(Ei){const ca=Ei.g?Ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ca){var W=N.h;W.g||ca.indexOf("spdy")==-1&&ca.indexOf("quic")==-1&&ca.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(vl(W,W.h),W.h=null))}if(N.G){const to=Ei.g?Ei.g.getResponseHeader("X-HTTP-Session-Id"):null;to&&(N.wa=to,st(N.J,N.G,to))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),N=T;var de=f;if(N.na=kc(N,N.L?N.ba:null,N.W),de.L){_l(N.h,de);var De=de,Rt=N.O;Rt&&(De.H=Rt),De.D&&(Li(De),Pi(De)),N.g=de}else Sc(N);T.i.length>0&&Gi(T)}else nt[0]!="stop"&&nt[0]!="close"||$i(T,7);else T.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?$i(T,7):Il(T):nt[0]!="noop"&&T.l&&T.l.qa(nt),T.A=0)}}Ri(4)}catch{}}var Lt=class{constructor(f,x){this.g=f,this.map=x}};function gl(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function zi(f){return f.h?1:f.g?f.g.size:0}function Ui(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function vl(f,x){f.g?f.g.add(x):f.h=x}function _l(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}gl.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function xl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const T of f.g.values())x=x.concat(T.G);return x}return w(f.i)}var _c=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ka(f,x){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const N=f[T].indexOf("=");let $,W=null;N>=0?($=f[T].substring(0,N),W=f[T].substring(N+1)):$=f[T],x($,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Ln(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;f instanceof Ln?(this.l=f.l,Jt(this,f.j),this.o=f.o,this.g=f.g,Xr(this,f.u),this.h=f.h,bl(this,wc(f.i)),this.m=f.m):f&&(x=String(f).match(_c))?(this.l=!1,Jt(this,x[1]||"",!0),this.o=Bi(x[2]||""),this.g=Bi(x[3]||"",!0),Xr(this,x[4]),this.h=Bi(x[5]||"",!0),bl(this,x[6]||"",!0),this.m=Bi(x[7]||"")):(this.l=!1,this.i=new Jr(null,this.l))}Ln.prototype.toString=function(){const f=[];var x=this.j;x&&f.push(ia(x,Ya,!0),":");var T=this.g;return(T||x=="file")&&(f.push("//"),(x=this.o)&&f.push(ia(x,Ya,!0),"@"),f.push(cr(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(ia(T,T.charAt(0)=="/"?El:xc,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",ia(T,bc)),f.join("")},Ln.prototype.resolve=function(f){const x=Vt(this);let T=!!f.j;T?Jt(x,f.j):T=!!f.o,T?x.o=f.o:T=!!f.g,T?x.g=f.g:T=f.u!=null;var N=f.h;if(T)Xr(x,f.u);else if(T=!!f.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var $=x.h.lastIndexOf("/");$!=-1&&(N=x.h.slice(0,$+1)+N)}if($=N,$==".."||$==".")N="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){N=$.lastIndexOf("/",0)==0,$=$.split("/");const W=[];for(let de=0;de<$.length;){const De=$[de++];De=="."?N&&de==$.length&&W.push(""):De==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),N&&de==$.length&&W.push("")):(W.push(De),N=!0)}N=W.join("/")}else N=$}return T?x.h=N:T=f.i.toString()!=="",T?bl(x,wc(f.i)):T=!!f.m,T&&(x.m=f.m),x};function Vt(f){return new Ln(f)}function Jt(f,x,T){f.j=T?Bi(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function Xr(f,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);f.u=x}else f.u=null}function bl(f,x,T){x instanceof Jr?(f.i=x,Xa(f.i,f.l)):(T||(x=ia(x,Wr)),f.i=new Jr(x,f.l))}function st(f,x,T){f.i.set(x,T)}function na(f){return st(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Bi(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ia(f,x,T){return typeof f=="string"?(f=encodeURI(f).replace(x,Sn),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Sn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ya=/[#\/\?@]/g,xc=/[#\?:]/g,El=/[#\?]/g,Wr=/[#\?@]/g,bc=/#/g;function Jr(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function An(f){f.g||(f.g=new Map,f.h=0,f.i&&Ka(f.i,function(x,T){f.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}t=Jr.prototype,t.add=function(f,x){An(this),this.i=null,f=Zr(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(x),this.h+=1,this};function Ec(f,x){An(f),x=Zr(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function wl(f,x){return An(f),x=Zr(f,x),f.g.has(x)}t.forEach=function(f,x){An(this),this.g.forEach(function(T,N){T.forEach(function($){f.call(x,$,N,this)},this)},this)};function Tl(f,x){An(f);let T=[];if(typeof x=="string")wl(f,x)&&(T=T.concat(f.g.get(Zr(f,x))));else for(f=Array.from(f.g.values()),x=0;x<f.length;x++)T=T.concat(f[x]);return T}t.set=function(f,x){return An(this),this.i=null,f=Zr(this,f),wl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},t.get=function(f,x){return f?(f=Tl(this,f),f.length>0?String(f[0]):x):x};function Qa(f,x,T){Ec(f,x),T.length>0&&(f.i=null,f.g.set(Zr(f,x),w(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(let N=0;N<x.length;N++){var T=x[N];const $=cr(T);T=Tl(this,T);for(let W=0;W<T.length;W++){let de=$;T[W]!==""&&(de+="="+cr(T[W])),f.push(de)}}return this.i=f.join("&")};function wc(f){const x=new Jr;return x.i=f.i,f.g&&(x.g=new Map(f.g),x.h=f.h),x}function Zr(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function Xa(f,x){x&&!f.j&&(An(f),f.i=null,f.g.forEach(function(T,N){const $=N.toLowerCase();N!=$&&(Ec(this,N),Qa(this,$,T))},f)),f.j=x}function vi(f,x){const T=new pi;if(u.Image){const N=new Image;N.onload=v(Zn,T,"TestLoadImage: loaded",!0,x,N),N.onerror=v(Zn,T,"TestLoadImage: error",!1,x,N),N.onabort=v(Zn,T,"TestLoadImage: abort",!1,x,N),N.ontimeout=v(Zn,T,"TestLoadImage: timeout",!1,x,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else x(!1)}function Sl(f,x){const T=new pi,N=new AbortController,$=setTimeout(()=>{N.abort(),Zn(T,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:N.signal}).then(W=>{clearTimeout($),W.ok?Zn(T,"TestPingServer: ok",!0,x):Zn(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout($),Zn(T,"TestPingServer: error",!1,x)})}function Zn(f,x,T,N,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),N(T)}catch{}}function es(){this.g=new Je}function Fi(f){this.i=f.Sb||null,this.h=f.ab||!1}_(Fi,dn),Fi.prototype.g=function(){return new ra(this.i,this.h)};function ra(f,x){Et.call(this),this.H=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(ra,Et),t=ra.prototype,t.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=x,this.readyState=1,_i(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(x.body=f),(this.H||u).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ts(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,_i(this)),this.g&&(this.readyState=3,_i(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wa(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wa(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?ts(this):_i(this),this.readyState==3&&Wa(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,ts(this))},t.Na=function(f){this.g&&(this.response=f,ts(this))},t.ga=function(){this.g&&ts(this)};function ts(f){f.readyState=4,f.l=null,f.j=null,f.B=null,_i(f)}t.setRequestHeader=function(f,x){this.A.append(f,x)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=x.next();return f.join(`\r
`)};function _i(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ei(f){let x="";return Re(f,function(T,N){x+=N,x+=":",x+=T,x+=`\r
`}),x}function sa(f,x,T){e:{for(N in T){var N=!1;break e}N=!0}N||(T=ei(T),typeof f=="string"?T!=null&&cr(T):st(f,x,T))}function lt(f){Et.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(lt,Et);var qi=/^https?$/i,Al=["POST","PUT"];t=lt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,x,T,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pl.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(W){aa(this,W);return}if(f=T||"",T=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var $ in N)T.set($,N[$]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const W of N.keys())T.set(W,N.get(W));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(T.keys()).find(W=>W.toLowerCase()=="content-type"),$=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(Al,x,void 0)>=0)||N||$||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,de]of T)this.g.setRequestHeader(W,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(W){aa(this,W)}};function aa(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.o=5,Cl(f),hr(f)}function Cl(f){f.A||(f.A=!0,Ct(f,"complete"),Ct(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ct(this,"complete"),Ct(this,"abort"),hr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hr(this,!0)),lt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?oa(this):this.Xa())},t.Xa=function(){oa(this)};function oa(f){if(f.h&&typeof l<"u"){if(f.v&&xi(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ct(f,"readystatechange"),xi(f)==4){f.h=!1;try{const W=f.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var T;if(!(T=x)){var N;if(N=W===0){let de=String(f.D).match(_c)[1]||null;!de&&u.self&&u.self.location&&(de=u.self.location.protocol.slice(0,-1)),N=!qi.test(de?de.toLowerCase():"")}T=N}if(T)Ct(f,"complete"),Ct(f,"success");else{f.o=6;try{var $=xi(f)>2?f.g.statusText:""}catch{$=""}f.l=$+" ["+f.ca()+"]",Cl(f)}}finally{hr(f)}}}}function hr(f,x){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,x||Ct(f,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function xi(f){return f.g?f.g.readyState:0}t.ca=function(){try{return xi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),Pe(x)}};function nn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function fr(f){const x={};f=(f.g&&xi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(R(f[N]))continue;var T=gc(f[N]);const $=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const W=x[$]||[];x[$]=W,W.push(T)}L(x,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(f,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||x}function ns(f){this.za=0,this.i=[],this.j=new pi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hi("baseRetryDelayMs",5e3,f),this.Za=Hi("retryDelaySeedMs",1e4,f),this.Ta=Hi("forwardChannelMaxRetries",2,f),this.va=Hi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new gl(f&&f.concurrentRequestLimit),this.Ba=new es,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ns.prototype,t.ka=8,t.I=1,t.connect=function(f,x,T,N){jt(0),this.W=f,this.H=x||{},T&&N!==void 0&&(this.H.OSID=T,this.H.OAID=N),this.F=this.X,this.J=kc(this,null,this.W),Gi(this)};function Il(f){if(Ja(f),f.I==3){var x=f.V++,T=Vt(f.J);if(st(T,"SID",f.M),st(T,"RID",x),st(T,"TYPE","terminate"),la(f,T),x=new gi(f,f.j,x),x.M=2,x.A=na(Vt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=x.A,T=!0),T||(x.g=Rc(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Pi(x)}Nc(f)}function is(f){f.g&&(kl(f),f.g.cancel(),f.g=null)}function Ja(f){is(f),f.v&&(u.clearTimeout(f.v),f.v=null),eo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function Gi(f){if(!yl(f.h)&&!f.m){f.m=!0;var x=f.Ea;ce||k(),G||(ce(),G=!0),j.add(x,f),f.D=0}}function Za(f,x){return zi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=x.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Oi(p(f.Ea,f,x),Ic(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const $=new gi(this,this.j,f);let W=this.o;if(this.U&&(W?(W=We(W),M(W,this.U)):W=this.U),this.u!==null||this.R||($.J=W,W=null),this.S)e:{for(var x=0,T=0;T<this.i.length;T++){t:{var N=this.i[T];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(x+=N,x>4096){x=T;break e}if(x===4096||T===this.i.length-1){x=T+1;break e}}x=1e3}else x=1e3;x=Tc(this,$,x),T=Vt(this.J),st(T,"RID",f),st(T,"CVER",22),this.G&&st(T,"X-HTTP-Session-Id",this.G),la(this,T),W&&(this.R?x="headers="+cr(ei(W))+"&"+x:this.u&&sa(T,this.u,W)),vl(this.h,$),this.Ra&&st(T,"TYPE","init"),this.S?(st(T,"$req",x),st(T,"SID","null"),$.U=!0,ji($,T,null)):ji($,T,x),this.I=2}}else this.I==3&&(f?Nl(this,f):this.i.length==0||yl(this.h)||Nl(this))};function Nl(f,x){var T;x?T=x.l:T=f.V++;const N=Vt(f.J);st(N,"SID",f.M),st(N,"RID",T),st(N,"AID",f.K),la(f,N),f.u&&f.o&&sa(N,f.u,f.o),T=new gi(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),x&&(f.i=x.G.concat(f.i)),x=Tc(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),vl(f.h,T),ji(T,N,x)}function la(f,x){f.H&&Re(f.H,function(T,N){st(x,N,T)}),f.l&&Re({},function(T,N){st(x,N,T)})}function Tc(f,x,T){T=Math.min(f.i.length,T);const N=f.l?p(f.l.Ka,f.l,f):null;e:{var $=f.i;let De=-1;for(;;){const Rt=["count="+T];De==-1?T>0?(De=$[0].g,Rt.push("ofs="+De)):De=0:Rt.push("ofs="+De);let nt=!0;for(let _t=0;_t<T;_t++){var W=$[_t].g;const ti=$[_t].map;if(W-=De,W<0)De=Math.max(0,$[_t].g-100),nt=!1;else try{W="req"+W+"_"||"";try{var de=ti instanceof Map?ti:Object.entries(ti);for(const[Ki,bi]of de){let Ei=bi;h(bi)&&(Ei=be(bi)),Rt.push(W+Ki+"="+encodeURIComponent(Ei))}}catch(Ki){throw Rt.push(W+"type="+encodeURIComponent("_badmap")),Ki}}catch{N&&N(ti)}}if(nt){de=Rt.join("&");break e}}de=void 0}return f=f.i.splice(0,T),x.G=f,de}function Sc(f){if(!f.g&&!f.v){f.Y=1;var x=f.Da;ce||k(),G||(ce(),G=!0),j.add(x,f),f.A=0}}function ua(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Oi(p(f.Da,f),Ic(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Ac(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Oi(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jt(10),is(this),Ac(this))};function kl(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function Ac(f){f.g=new gi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var x=Vt(f.na);st(x,"RID","rpc"),st(x,"SID",f.M),st(x,"AID",f.K),st(x,"CI",f.F?"0":"1"),!f.F&&f.ia&&st(x,"TO",f.ia),st(x,"TYPE","xmlhttp"),la(f,x),f.u&&f.o&&sa(x,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=na(Vt(x)),T.u=null,T.R=!0,Ga(T,f)}t.Va=function(){this.C!=null&&(this.C=null,is(this),ua(this),jt(19))};function eo(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Cc(f,x){var T=null;if(f.g==x){eo(f),kl(f),f.g=null;var N=2}else if(Ui(f.h,x))T=x.G,_l(f.h,x),N=1;else return;if(f.I!=0){if(x.o)if(N==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var $=f.D;N=mn(),Ct(N,new Di(N,T)),Gi(f)}else Sc(f);else if($=x.m,$==3||$==0&&x.X>0||!(N==1&&Za(f,x)||N==2&&ua(f)))switch(T&&T.length>0&&(x=f.h,x.i=x.i.concat(T)),$){case 1:$i(f,5);break;case 4:$i(f,10);break;case 3:$i(f,6);break;default:$i(f,2)}}}function Ic(f,x){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*x}function $i(f,x){if(f.j.info("Error code "+x),x==2){var T=p(f.bb,f),N=f.Ua;const $=!N;N=new Ln(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Jt(N,"https"),na(N),$?vi(N.toString(),T):Sl(N.toString(),T)}else jt(2);f.I=0,f.l&&f.l.pa(x),Nc(f),Ja(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function Nc(f){if(f.I=0,f.ja=[],f.l){const x=xl(f.h);(x.length!=0||f.i.length!=0)&&(I(f.ja,x),I(f.ja,f.i),f.h.i.length=0,w(f.i),f.i.length=0),f.l.oa()}}function kc(f,x,T){var N=T instanceof Ln?Vt(T):new Ln(T);if(N.g!="")x&&(N.g=x+"."+N.g),Xr(N,N.u);else{var $=u.location;N=$.protocol,x=x?x+"."+$.hostname:$.hostname,$=+$.port;const W=new Ln(null);N&&Jt(W,N),x&&(W.g=x),$&&Xr(W,$),T&&(W.h=T),N=W}return T=f.G,x=f.wa,T&&x&&st(N,T,x),st(N,"VER",f.ka),la(f,N),N}function Rc(f,x,T){if(x&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Aa&&!f.ma?new lt(new Fi({ab:T})):new lt(f.ma),x.Fa(f.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dc(){}t=Dc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function rs(){}rs.prototype.g=function(f,x){return new En(f,x)};function En(f,x){Et.call(this),this.g=new ns(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(f?f["X-WebChannel-Client-Profile"]=x.sa:f={"X-WebChannel-Client-Profile":x.sa}),this.g.U=f,(f=x&&x.Qb)&&!R(f)&&(this.g.u=f),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!R(x)&&(this.g.G=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new dr(this)}_(En,Et),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Il(this.g)},En.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=be(f),f=T);x.i.push(new Lt(x.Ya++,f)),x.I==3&&Gi(x)},En.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,En.Z.N.call(this)};function Oc(f){wt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){e:{for(const T in x){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}_(Oc,wt);function Mc(){Xt.call(this),this.status=1}_(Mc,Xt);function dr(f){this.g=f}_(dr,Dc),dr.prototype.ra=function(){Ct(this.g,"a")},dr.prototype.qa=function(f){Ct(this.g,new Oc(f))},dr.prototype.pa=function(f){Ct(this.g,new Mc)},dr.prototype.oa=function(){Ct(this.g,"b")},rs.prototype.createWebChannel=rs.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,dw=function(){return new rs},fw=function(){return mn()},hw=$e,Yp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ea.NO_ERROR=0,ea.TIMEOUT=8,ea.HTTP_ERROR=6,Zh=ea,ml.COMPLETE="complete",cw=ml,Wn.EventType=kt,kt.OPEN="a",kt.CLOSE="b",kt.ERROR="c",kt.MESSAGE="d",Et.prototype.listen=Et.prototype.J,bu=Wn,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,uw=lt}).apply(typeof zh<"u"?zh:typeof self<"u"?self:typeof window<"u"?window:{});const Qx="@firebase/firestore",Xx="4.9.2";class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");let sl="12.3.0";const ja=new kg("@firebase/firestore");function jo(){return ja.logLevel}function pe(t,...e){if(ja.logLevel<=qe.DEBUG){const n=e.map(qg);ja.debug(`Firestore (${sl}): ${t}`,...n)}}function Vr(t,...e){if(ja.logLevel<=qe.ERROR){const n=e.map(qg);ja.error(`Firestore (${sl}): ${t}`,...n)}}function Ko(t,...e){if(ja.logLevel<=qe.WARN){const n=e.map(qg);ja.warn(`Firestore (${sl}): ${t}`,...n)}}function qg(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,mw(t,r,n)}function mw(t,e,n){let r=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Vr(r),new Error(r)}function rt(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||mw(e,a,r)}function Ie(t,e){return t}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Fr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class pw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class h4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gn.UNAUTHENTICATED)))}shutdown(){}}class f4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class d4{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rt(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let l=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Vs,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},h=m=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Vs)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string",31837,{l:r}),new pw(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class m4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class p4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new m4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Wx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){rt(this.o===void 0,3512);const r=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Wx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Wx(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function y4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Hg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=y4(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function Qp(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),l=e.charAt(r);if(a!==l)return dp(a)===dp(l)?He(a,l):dp(a)?1:-1}return He(t.length,e.length)}const v4=55296,_4=57343;function dp(t){const e=t.charCodeAt(0);return e>=v4&&e<=_4}function Yo(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}const Jx="__name__";class Zi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=Zi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return He(e.length,n.length)}static compareSegments(e,n){const r=Zi.isNumericId(e),a=Zi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Zi.extractNumericId(e).compare(Zi.extractNumericId(n)):Qp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ls.fromString(e.substring(4,e.length-2))}}class Tt extends Zi{construct(e,n,r){return new Tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Tt(n)}static emptyPath(){return new Tt([])}}const x4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Zi{construct(e,n,r){return new cn(e,n,r)}static isValidIdentifier(e){return x4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jx}static keyField(){return new cn([Jx])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new ve(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new ve(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ve(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(l(),a++)}if(l(),u)throw new ve(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}class we{constructor(e){this.path=e}static fromPath(e){return new we(Tt.fromString(e))}static fromName(e){return new we(Tt.fromString(e).popFirst(5))}static empty(){return new we(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new Tt(e.slice()))}}function b4(t,e,n){if(!n)throw new ve(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function E4(t,e,n,r){if(e===!0&&r===!0)throw new ve(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Zx(t){if(!we.isDocumentKey(t))throw new ve(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gw(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Gg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae(12329,{type:typeof t})}function Pa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gg(t);throw new ve(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Gt(t,e){const n={typeString:t};return e&&(n.value=e),n}function rc(t,e){if(!gw(t))throw new ve(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(a&&typeof u!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new ve(le.INVALID_ARGUMENT,n);return!0}const e1=-62135596800,t1=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*t1);return new yt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<e1)throw new ve(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/t1}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(rc(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-e1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Gt("string",yt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new yt(0,0))}static max(){return new Ce(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Bu=-1;function w4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Ce.fromTimestamp(r===1e9?new yt(n+1,0):new yt(n,r));return new Bs(a,we.empty(),e)}function T4(t){return new Bs(t.readTime,t.key,Bu)}class Bs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Bs(Ce.min(),we.empty(),Bu)}static max(){return new Bs(Ce.max(),we.empty(),Bu)}}function S4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}const A4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function al(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==A4)throw t;pe("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,r)=>{n(e)}))}static reject(e){return new se(((n,r)=>{r(e)}))}static waitFor(e){return new se(((n,r)=>{let a=0,l=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&n()}),(m=>r(m)))})),u=!0,l===a&&n()}))}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next((a=>a?se.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,l)=>{r.push(n.call(this,a,l))})),this.waitFor(r)}static mapArray(e,n){return new se(((r,a)=>{const l=e.length,u=new Array(l);let h=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((v=>{u[p]=v,++h,h===l&&r(u)}),(v=>a(v)))}}))}static doWhile(e,n){return new se(((r,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):r()};l()}))}}function I4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ol(t){return t.name==="IndexedDbTransactionError"}class Vf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vf.ce=-1;const $g=-1;function zf(t){return t==null}function yf(t){return t===0&&1/t==-1/0}function N4(t){return typeof t=="number"&&Number.isInteger(t)&&!yf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const yw="";function k4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=n1(e)),e=R4(t.get(n),e);return n1(e)}function R4(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case yw:n+="";break;default:n+=l}}return n}function n1(t){return t+yw+""}function i1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ys(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class St{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uh(this.root,e,this.comparator,!0)}}class Uh{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??un.RED,this.left=a??un.EMPTY,this.right=l??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new un(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return un.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,r,a,l){return this}insert(e,n,r){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new r1(this.data.getIterator())}getIteratorFrom(e){return new r1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Qt(this.comparator);return n.data=e,n}}class r1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Kn{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new Kn([])}unionWith(e){let n=new Qt(cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class _w extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new _w("Invalid base64 string: "+l):l}})(e);return new fn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const D4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(t){if(rt(!!t,39018),typeof t=="string"){let e=0;const n=D4.exec(t);if(rt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qs(t){return typeof t=="string"?fn.fromBase64String(t):fn.fromUint8Array(t)}const xw="server_timestamp",bw="__type__",Ew="__previous_value__",ww="__local_write_time__";function Kg(t){return(t?.mapValue?.fields||{})[bw]?.stringValue===xw}function Uf(t){const e=t.mapValue.fields[Ew];return Kg(e)?Uf(e):e}function Fu(t){const e=Fs(t.mapValue.fields[ww].timestampValue);return new yt(e.seconds,e.nanos)}class O4{constructor(e,n,r,a,l,u,h,m,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v}}const vf="(default)";class qu{constructor(e,n){this.projectId=e,this.database=n||vf}static empty(){return new qu("","")}get isDefaultDatabase(){return this.database===vf}isEqual(e){return e instanceof qu&&e.projectId===this.projectId&&e.database===this.database}}const Tw="__type__",M4="__max__",Bh={mapValue:{}},Sw="__vector__",_f="value";function Hs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kg(t)?4:P4(t)?9007199254740991:j4(t)?10:11:Ae(28295,{value:t})}function ar(t,e){if(t===e)return!0;const n=Hs(t);if(n!==Hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fu(t).isEqual(Fu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Fs(a.timestampValue),h=Fs(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return qs(a.bytesValue).isEqual(qs(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Mt(a.geoPointValue.latitude)===Mt(l.geoPointValue.latitude)&&Mt(a.geoPointValue.longitude)===Mt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Mt(a.integerValue)===Mt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Mt(a.doubleValue),h=Mt(l.doubleValue);return u===h?yf(u)===yf(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return Yo(t.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(i1(u)!==i1(h))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(h[m]===void 0||!ar(u[m],h[m])))return!1;return!0})(t,e);default:return Ae(52216,{left:t})}}function Hu(t,e){return(t.values||[]).find((n=>ar(n,e)))!==void 0}function Qo(t,e){if(t===e)return 0;const n=Hs(t),r=Hs(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=Mt(l.integerValue||l.doubleValue),m=Mt(u.integerValue||u.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(t,e);case 3:return s1(t.timestampValue,e.timestampValue);case 4:return s1(Fu(t),Fu(e));case 5:return Qp(t.stringValue,e.stringValue);case 6:return(function(l,u){const h=qs(l),m=qs(u);return h.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),m=u.split("/");for(let p=0;p<h.length&&p<m.length;p++){const v=He(h[p],m[p]);if(v!==0)return v}return He(h.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=He(Mt(l.latitude),Mt(u.latitude));return h!==0?h:He(Mt(l.longitude),Mt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return a1(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},m=u.fields||{},p=h[_f]?.arrayValue,v=m[_f]?.arrayValue,_=He(p?.values?.length||0,v?.values?.length||0);return _!==0?_:a1(p,v)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Bh.mapValue&&u===Bh.mapValue)return 0;if(l===Bh.mapValue)return 1;if(u===Bh.mapValue)return-1;const h=l.fields||{},m=Object.keys(h),p=u.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let _=0;_<m.length&&_<v.length;++_){const E=Qp(m[_],v[_]);if(E!==0)return E;const w=Qo(h[m[_]],p[v[_]]);if(w!==0)return w}return He(m.length,v.length)})(t.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function s1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=Fs(t),r=Fs(e),a=He(n.seconds,r.seconds);return a!==0?a:He(n.nanos,r.nanos)}function a1(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=Qo(n[a],r[a]);if(l)return l}return He(n.length,r.length)}function Xo(t){return Xp(t)}function Xp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Fs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return qs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return we.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=Xp(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of r)l?l=!1:a+=",",a+=`${u}:${Xp(n.fields[u])}`;return a+"}"})(t.mapValue):Ae(61005,{value:t})}function ef(t){switch(Hs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uf(t);return e?16+ef(e):16;case 5:return 2*t.stringValue.length;case 6:return qs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+ef(l)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return Ys(r.fields,((l,u)=>{a+=l.length+ef(u)})),a})(t.mapValue);default:throw Ae(13486,{value:t})}}function Wp(t){return!!t&&"integerValue"in t}function Yg(t){return!!t&&"arrayValue"in t}function o1(t){return!!t&&"nullValue"in t}function l1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tf(t){return!!t&&"mapValue"in t}function j4(t){return(t?.mapValue?.fields||{})[Tw]?.stringValue===Sw}function Cu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ys(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Cu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cu(t.arrayValue.values[n]);return e}return{...t}}function P4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===M4}class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!tf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cu(n)}setAll(e){let n=cn.emptyPath(),r={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const m=this.getFieldsMap(n);this.applyChanges(m,r,a),r={},a=[],n=h.popLast()}u?r[h.lastSegment()]=Cu(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());tf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];tf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Ys(n,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new Mn(Cu(this.value))}}function Aw(t){const e=[];return Ys(t.fields,((n,r)=>{const a=new cn([n]);if(tf(r)){const l=Aw(r.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Kn(e)}class yn{constructor(e,n,r,a,l,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new yn(e,0,Ce.min(),Ce.min(),Ce.min(),Mn.empty(),0)}static newFoundDocument(e,n,r,a){return new yn(e,1,n,Ce.min(),r,a,0)}static newNoDocument(e,n){return new yn(e,2,n,Ce.min(),Ce.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new yn(e,3,n,Ce.min(),Ce.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xf{constructor(e,n){this.position=e,this.inclusive=n}}function u1(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?r=we.comparator(we.fromName(u.referenceValue),n.key):r=Qo(u,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function c1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ar(t.position[n],e.position[n]))return!1;return!0}class bf{constructor(e,n="asc"){this.field=e,this.dir=n}}function L4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Cw{}class Kt extends Cw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new z4(e,n,r):n==="array-contains"?new F4(e,r):n==="in"?new q4(e,r):n==="not-in"?new H4(e,r):n==="array-contains-any"?new G4(e,r):new Kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new U4(e,r):new B4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Qo(n,this.value)):n!==null&&Hs(this.value)===Hs(n)&&this.matchesComparison(Qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class or extends Cw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new or(e,n)}matches(e){return Iw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Iw(t){return t.op==="and"}function Nw(t){return V4(t)&&Iw(t)}function V4(t){for(const e of t.filters)if(e instanceof or)return!1;return!0}function Jp(t){if(t instanceof Kt)return t.field.canonicalString()+t.op.toString()+Xo(t.value);if(Nw(t))return t.filters.map((e=>Jp(e))).join(",");{const e=t.filters.map((n=>Jp(n))).join(",");return`${t.op}(${e})`}}function kw(t,e){return t instanceof Kt?(function(r,a){return a instanceof Kt&&r.op===a.op&&r.field.isEqual(a.field)&&ar(r.value,a.value)})(t,e):t instanceof or?(function(r,a){return a instanceof or&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,u,h)=>l&&kw(u,a.filters[h])),!0):!1})(t,e):void Ae(19439)}function Rw(t){return t instanceof Kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Xo(n.value)}`})(t):t instanceof or?(function(n){return n.op.toString()+" {"+n.getFilters().map(Rw).join(" ,")+"}"})(t):"Filter"}class z4 extends Kt{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class U4 extends Kt{constructor(e,n){super(e,"in",n),this.keys=Dw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class B4 extends Kt{constructor(e,n){super(e,"not-in",n),this.keys=Dw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Dw(t,e){return(e.arrayValue?.values||[]).map((n=>we.fromName(n.referenceValue)))}class F4 extends Kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yg(n)&&Hu(n.arrayValue,this.value)}}class q4 extends Kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hu(this.value.arrayValue,n)}}class H4 extends Kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hu(this.value.arrayValue,n)}}class G4 extends Kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Hu(this.value.arrayValue,r)))}}class $4{constructor(e,n=null,r=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function h1(t,e=null,n=[],r=[],a=null,l=null,u=null){return new $4(t,e,n,r,a,l,u)}function Qg(t){const e=Ie(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Jp(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),zf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Xo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Xo(r))).join(",")),e.Te=n}return e.Te}function Xg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!L4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!c1(t.startAt,e.startAt)&&c1(t.endAt,e.endAt)}function Zp(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Bf{constructor(e,n=null,r=[],a=[],l=null,u="F",h=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function K4(t,e,n,r,a,l,u,h){return new Bf(t,e,n,r,a,l,u,h)}function Wg(t){return new Bf(t)}function f1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Y4(t){return t.collectionGroup!==null}function Iu(t){const e=Ie(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Qt(cn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new bf(l,r))})),n.has(cn.keyField().canonicalString())||e.Ie.push(new bf(cn.keyField(),r))}return e.Ie}function tr(t){const e=Ie(t);return e.Ee||(e.Ee=Q4(e,Iu(t))),e.Ee}function Q4(t,e){if(t.limitType==="F")return h1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new bf(a.field,l)}));const n=t.endAt?new xf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xf(t.startAt.position,t.startAt.inclusive):null;return h1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function eg(t,e,n){return new Bf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ff(t,e){return Xg(tr(t),tr(e))&&t.limitType===e.limitType}function Ow(t){return`${Qg(tr(t))}|lt:${t.limitType}`}function Po(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>Rw(a))).join(", ")}]`),zf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Xo(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Xo(a))).join(",")),`Target(${r})`})(tr(t))}; limitType=${t.limitType})`}function qf(t,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):we.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,a){for(const l of Iu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(u,h,m){const p=u1(u,h,m);return u.inclusive?p<=0:p<0})(r.startAt,Iu(r),a)||r.endAt&&!(function(u,h,m){const p=u1(u,h,m);return u.inclusive?p>=0:p>0})(r.endAt,Iu(r),a))})(t,e)}function X4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Mw(t){return(e,n)=>{let r=!1;for(const a of Iu(t)){const l=W4(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function W4(t,e,n){const r=t.field.isKeyField()?we.comparator(e.key,n.key):(function(l,u,h){const m=u.data.field(l),p=h.data.field(l);return m!==null&&p!==null?Qo(m,p):Ae(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:t.dir})}}class Ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ys(this.inner,((n,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return vw(this.inner)}size(){return this.innerSize}}const J4=new St(we.comparator);function zr(){return J4}const jw=new St(we.comparator);function Eu(...t){let e=jw;for(const n of t)e=e.insert(n.key,n);return e}function Pw(t){let e=jw;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Na(){return Nu()}function Lw(){return Nu()}function Nu(){return new Ua((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Z4=new St(we.comparator),eD=new Qt(we.comparator);function Ge(...t){let e=eD;for(const n of t)e=e.add(n);return e}const tD=new Qt(He);function nD(){return tD}function Jg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yf(e)?"-0":e}}function Vw(t){return{integerValue:""+t}}function iD(t,e){return N4(e)?Vw(e):Jg(t,e)}class Hf{constructor(){this._=void 0}}function rD(t,e,n){return t instanceof Ef?(function(a,l){const u={fields:{[bw]:{stringValue:xw},[ww]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Kg(l)&&(l=Uf(l)),l&&(u.fields[Ew]=l),{mapValue:u}})(n,e):t instanceof Gu?Uw(t,e):t instanceof $u?Bw(t,e):(function(a,l){const u=zw(a,l),h=d1(u)+d1(a.Ae);return Wp(u)&&Wp(a.Ae)?Vw(h):Jg(a.serializer,h)})(t,e)}function sD(t,e,n){return t instanceof Gu?Uw(t,e):t instanceof $u?Bw(t,e):n}function zw(t,e){return t instanceof wf?(function(r){return Wp(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Ef extends Hf{}class Gu extends Hf{constructor(e){super(),this.elements=e}}function Uw(t,e){const n=Fw(e);for(const r of t.elements)n.some((a=>ar(a,r)))||n.push(r);return{arrayValue:{values:n}}}class $u extends Hf{constructor(e){super(),this.elements=e}}function Bw(t,e){let n=Fw(e);for(const r of t.elements)n=n.filter((a=>!ar(a,r)));return{arrayValue:{values:n}}}class wf extends Hf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function d1(t){return Mt(t.integerValue||t.doubleValue)}function Fw(t){return Yg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function aD(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof Gu&&a instanceof Gu||r instanceof $u&&a instanceof $u?Yo(r.elements,a.elements,ar):r instanceof wf&&a instanceof wf?ar(r.Ae,a.Ae):r instanceof Ef&&a instanceof Ef})(t.transform,e.transform)}class oD{constructor(e,n){this.version=e,this.transformResults=n}}class nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gf{}function qw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Gw(t.key,nr.none()):new sc(t.key,t.data,nr.none());{const n=t.data,r=Mn.empty();let a=new Qt(cn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?r.delete(l):r.set(l,u),a=a.add(l)}return new Qs(t.key,r,new Kn(a.toArray()),nr.none())}}function lD(t,e,n){t instanceof sc?(function(a,l,u){const h=a.value.clone(),m=p1(a.fieldTransforms,l,u.transformResults);h.setAll(m),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Qs?(function(a,l,u){if(!nf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=p1(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(Hw(a)),m.setAll(h),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function ku(t,e,n,r){return t instanceof sc?(function(l,u,h,m){if(!nf(l.precondition,u))return h;const p=l.value.clone(),v=g1(l.fieldTransforms,m,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof Qs?(function(l,u,h,m){if(!nf(l.precondition,u))return h;const p=g1(l.fieldTransforms,m,u),v=u.data;return v.setAll(Hw(l)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,r):(function(l,u,h){return nf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function uD(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=zw(r.transform,a||null);l!=null&&(n===null&&(n=Mn.empty()),n.set(r.field,l))}return n||null}function m1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Yo(r,a,((l,u)=>aD(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sc extends Gf{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Qs extends Gf{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Hw(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function p1(t,e,n){const r=new Map;rt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);r.set(l.field,sD(u,h,n[a]))}return r}function g1(t,e,n){const r=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);r.set(a.field,rD(l,u,e))}return r}class Gw extends Gf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cD extends Gf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hD{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&lD(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ku(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ku(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Lw();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const m=qw(u,h);m!==null&&r.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Ce.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,((n,r)=>m1(n,r)))&&Yo(this.baseMutations,e.baseMutations,((n,r)=>m1(n,r)))}}class Zg{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){rt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return Z4})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,r[u].version);return new Zg(e,n,r,a)}}class fD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class dD{constructor(e,n){this.count=e,this.unchangedNames=n}}var qt,Ye;function mD(t){switch(t){case le.OK:return Ae(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Ae(15467,{code:t})}}function $w(t){if(t===void 0)return Vr("GRPC error has no .code"),le.UNKNOWN;switch(t){case qt.OK:return le.OK;case qt.CANCELLED:return le.CANCELLED;case qt.UNKNOWN:return le.UNKNOWN;case qt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case qt.INTERNAL:return le.INTERNAL;case qt.UNAVAILABLE:return le.UNAVAILABLE;case qt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case qt.NOT_FOUND:return le.NOT_FOUND;case qt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case qt.ABORTED:return le.ABORTED;case qt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case qt.DATA_LOSS:return le.DATA_LOSS;default:return Ae(39323,{code:t})}}(Ye=qt||(qt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function pD(){return new TextEncoder}const gD=new Ls([4294967295,4294967295],0);function y1(t){const e=pD().encode(t),n=new lw;return n.update(e),new Uint8Array(n.digest())}function v1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ls([n,r],0),new Ls([a,l],0)]}class ey{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wu(`Invalid padding: ${n}`);if(r<0)throw new wu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ls.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Ls.fromNumber(r)));return a.compare(gD)===1&&(a=new Ls([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=y1(e),[r,a]=v1(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);if(!this.we(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new ey(l,a,n);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=y1(e),[r,a]=v1(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $f{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,ac.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $f(Ce.min(),a,new St(He),zr(),Ge())}}class ac{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ac(r,n,Ge(),Ge(),Ge())}}class rf{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class Kw{constructor(e,n){this.targetId=e,this.Ce=n}}class Yw{constructor(e,n,r=fn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class _1{constructor(){this.ve=0,this.Fe=x1(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),r=Ge();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Ae(38017,{changeType:l})}})),new ac(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=x1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yD{constructor(e){this.Ge=e,this.ze=new Map,this.je=zr(),this.Je=Fh(),this.He=Fh(),this.Ye=new St(He)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Zp(l))if(r===0){const u=new we(l.path);this.et(n,u,yn.newNoDocument(u,Ce.min()))}else rt(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const h=this.ut(e),m=h?this.ct(h,e,u):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=qs(r).toUint8Array()}catch(m){if(m instanceof _w)return Ko("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new ey(u,a,l)}catch(m){return Ko(m instanceof wu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Zp(h.target)){const m=new we(h.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,yn.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let r=Ge();this.He.forEach(((l,u)=>{let h=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new $f(e,n,this.Ye,this.je,r);return this.je=zr(),this.Je=Fh(),this.He=Fh(),this.Ye=new St(He),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new _1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Qt(He),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Qt(He),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Fh(){return new St(we.comparator)}function x1(){return new St(we.comparator)}const vD={asc:"ASCENDING",desc:"DESCENDING"},_D={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xD={and:"AND",or:"OR"};class bD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tg(t,e){return t.useProto3Json||zf(e)?e:{value:e}}function Tf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ED(t,e){return Tf(t,e.toTimestamp())}function ir(t){return rt(!!t,49232),Ce.fromTimestamp((function(n){const r=Fs(n);return new yt(r.seconds,r.nanos)})(t))}function ty(t,e){return ng(t,e).canonicalString()}function ng(t,e){const n=(function(a){return new Tt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Xw(t){const e=Tt.fromString(t);return rt(tT(e),10190,{key:e.toString()}),e}function ig(t,e){return ty(t.databaseId,e.path)}function mp(t,e){const n=Xw(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(Jw(n))}function Ww(t,e){return ty(t.databaseId,e)}function wD(t){const e=Xw(t);return e.length===4?Tt.emptyPath():Jw(e)}function rg(t){return new Tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Jw(t){return rt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function b1(t,e,n){return{name:ig(t,e),fields:n.value.mapValue.fields}}function TD(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(rt(v===void 0||typeof v=="string",58123),fn.fromBase64String(v||"")):(rt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),fn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const v=p.code===void 0?le.UNKNOWN:$w(p.code);return new ve(v,p.message||"")})(u);n=new Yw(r,a,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=mp(t,r.document.name),l=ir(r.document.updateTime),u=r.document.createTime?ir(r.document.createTime):Ce.min(),h=new Mn({mapValue:{fields:r.document.fields}}),m=yn.newFoundDocument(a,l,u,h),p=r.targetIds||[],v=r.removedTargetIds||[];n=new rf(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=mp(t,r.document),l=r.readTime?ir(r.readTime):Ce.min(),u=yn.newNoDocument(a,l),h=r.removedTargetIds||[];n=new rf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=mp(t,r.document),l=r.removedTargetIds||[];n=new rf([],l,a,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,u=new dD(a,l),h=r.targetId;n=new Kw(h,u)}}return n}function SD(t,e){let n;if(e instanceof sc)n={update:b1(t,e.key,e.value)};else if(e instanceof Gw)n={delete:ig(t,e.key)};else if(e instanceof Qs)n={update:b1(t,e.key,e.data),updateMask:MD(e.fieldMask)};else{if(!(e instanceof cD))return Ae(16599,{Vt:e.type});n={verify:ig(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,u){const h=u.transform;if(h instanceof Ef)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Gu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof $u)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof wf)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Ae(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:ED(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)})(t,e.precondition)),n}function AD(t,e){return t&&t.length>0?(rt(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?ir(a.updateTime):ir(l);return u.isEqual(Ce.min())&&(u=ir(l)),new oD(u,a.transformResults||[])})(n,e)))):[]}function CD(t,e){return{documents:[Ww(t,e.path)]}}function ID(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ww(t,a);const l=(function(p){if(p.length!==0)return eT(or.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((v=>(function(E){return{field:Lo(E.field),direction:RD(E.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=tg(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function ND(t){let e=wD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){rt(r===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(_){const E=Zw(_);return E instanceof or&&Nw(E)?E.getFilters():[E]})(n.where));let u=[];n.orderBy&&(u=(function(_){return _.map((E=>(function(I){return new bf(Vo(I.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(E)))})(n.orderBy));let h=null;n.limit&&(h=(function(_){let E;return E=typeof _=="object"?_.value:_,zf(E)?null:E})(n.limit));let m=null;n.startAt&&(m=(function(_){const E=!!_.before,w=_.values||[];return new xf(w,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const E=!_.before,w=_.values||[];return new xf(w,E)})(n.endAt)),K4(e,a,u,l,h,"F",m,p)}function kD(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Zw(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vo(n.unaryFilter.field);return Kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Vo(n.unaryFilter.field);return Kt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Vo(n.unaryFilter.field);return Kt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Vo(n.unaryFilter.field);return Kt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Kt.create(Vo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return or.create(n.compositeFilter.filters.map((r=>Zw(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(t):Ae(30097,{filter:t})}function RD(t){return vD[t]}function DD(t){return _D[t]}function OD(t){return xD[t]}function Lo(t){return{fieldPath:t.canonicalString()}}function Vo(t){return cn.fromServerFormat(t.fieldPath)}function eT(t){return t instanceof Kt?(function(n){if(n.op==="=="){if(l1(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NAN"}};if(o1(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(l1(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NAN"}};if(o1(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(n.field),op:DD(n.op),value:n.value}}})(t):t instanceof or?(function(n){const r=n.getFilters().map((a=>eT(a)));return r.length===1?r[0]:{compositeFilter:{op:OD(n.op),filters:r}}})(t):Ae(54877,{filter:t})}function MD(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function tT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Os{constructor(e,n,r,a,l=Ce.min(),u=Ce.min(),h=fn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class jD{constructor(e){this.yt=e}}function PD(t){const e=ND({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?eg(e,e.limit,"L"):e}class LD{constructor(){this.Cn=new VD}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Bs.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class VD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Qt(Tt.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Qt(Tt.comparator)).toArray()}}const E1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nT=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(nT,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);class Wo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wo(0)}static cr(){return new Wo(-1)}}const w1="LruGarbageCollector",zD=1048576;function T1([t,e],[n,r]){const a=He(t,n);return a===0?He(e,r):a}class UD{constructor(e){this.Ir=e,this.buffer=new Qt(T1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();T1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class BD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(w1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ol(n)?pe(w1,"Ignoring IndexedDB error during garbage collection: ",n):await al(n)}await this.Vr(3e5)}))}}class FD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Vf.ce);const r=new UD(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(E1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,l,u,h,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(r=_,h=Date.now(),this.removeTargets(e,r,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(p=Date.now(),jo()<=qe.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(m-h)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function qD(t,e){return new FD(t,e)}class HD{constructor(){this.changes=new Ua((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class GD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class $D{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&ku(r.mutation,a,Kn.empty(),yt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ge()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ge()){const a=Na();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((l=>{let u=Eu();return l.forEach(((h,m)=>{u=u.insert(h,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=Na();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ge())))}populateOverlays(e,n,r){const a=[];return r.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,r,a){let l=zr();const u=Nu(),h=(function(){return Nu()})();return n.forEach(((m,p)=>{const v=r.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Qs)?l=l.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),ku(v.mutation,p,v.mutation.getFieldMask(),yt.now())):u.set(p.key,Kn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,v)=>u.set(p,v))),n.forEach(((p,v)=>h.set(p,new GD(v,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Nu();let a=new St(((u,h)=>u-h)),l=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let v=r.get(m)||Kn.empty();v=h.applyToLocalView(p,v),r.set(m,v);const _=(a.get(h.batchId)||Ge()).add(m);a=a.insert(h.batchId,_)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),p=m.key,v=m.value,_=Lw();v.forEach((E=>{if(!l.has(E)){const w=qw(n.get(E),r.get(E));w!==null&&_.set(E,w),l=l.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return se.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(u){return we.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Y4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):se.resolve(Na());let h=Bu,m=l;return u.next((p=>se.forEach(p,((v,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),l.get(v)?se.resolve():this.remoteDocumentCache.getEntry(e,v).next((E=>{m=m.insert(v,E)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Ge()))).next((v=>({batchId:h,changes:Pw(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next((r=>{let a=Eu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let u=Eu();return this.indexManager.getCollectionParents(e,l).next((h=>se.forEach(h,(m=>{const p=(function(_,E){return new Bf(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((v=>{v.forEach(((_,E)=>{u=u.insert(_,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a)))).next((u=>{l.forEach(((m,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,yn.newInvalidDocument(v)))}));let h=Eu();return u.forEach(((m,p)=>{const v=l.get(m);v!==void 0&&ku(v.mutation,p,Kn.empty(),yt.now()),qf(n,p)&&(h=h.insert(m,p))})),h}))}}class KD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ir(a.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:PD(a.bundledQuery),readTime:ir(a.readTime)}})(n)),se.resolve()}}class YD{constructor(){this.overlays=new St(we.comparator),this.qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Na();return se.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,l)=>{this.St(e,n,l)})),se.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const a=Na(),l=n.length+1,u=new we(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const m=h.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return se.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new St(((p,v)=>p-v));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let v=l.get(p.largestBatchId);v===null&&(v=Na(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const h=Na(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,v)=>h.set(p,v))),!(h.size()>=a)););return se.resolve(h)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new fD(n,r));let l=this.qr.get(n);l===void 0&&(l=Ge(),this.qr.set(n,l)),this.qr.set(n,l.add(r.key))}}class QD{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}class ny{constructor(){this.Qr=new Qt(en.$r),this.Ur=new Qt(en.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new en(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new en(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new we(new Tt([])),r=new en(n,e),a=new en(n,e+1),l=[];return this.Ur.forEachInRange([r,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new we(new Tt([])),r=new en(n,e),a=new en(n,e+1);let l=Ge();return this.Ur.forEachInRange([r,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new en(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class en{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return we.comparator(e.key,n.key)||He(e.Yr,n.Yr)}static Kr(e,n){return He(e.Yr,n.Yr)||we.comparator(e.key,n.key)}}class XD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Qt(en.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new hD(l,n,r,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new en(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,n){return se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),l=a<0?0:a;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?$g:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new en(n,0),a=new en(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(u=>{const h=this.Xr(u.Yr);l.push(h)})),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qt(He);return n.forEach((a=>{const l=new en(a,0),u=new en(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(h=>{r=r.add(h.Yr)}))})),se.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;we.isDocumentKey(l)||(l=l.child(""));const u=new en(new we(l),0);let h=new Qt(He);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(h=h.add(m.Yr)),!0)}),u),se.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){rt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return se.forEach(n.mutations,(a=>{const l=new en(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new en(n,0),a=this.Zr.firstAfterOrEqual(r);return se.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class WD{constructor(e){this.ri=e,this.docs=(function(){return new St(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let r=zr();return n.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():yn.newInvalidDocument(a))})),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=zr();const u=n.path,h=new we(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||S4(T4(v),r)<=0||(a.has(v.key)||qf(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,n,r,a){Ae(9500)}ii(e,n){return se.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new JD(this)}getSize(e){return se.resolve(this.size)}}class JD extends HD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class ZD{constructor(e){this.persistence=e,this.si=new Ua((n=>Qg(n)),Xg),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new ny,this.targetCount=0,this.ai=Wo.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Wo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Pr(n),se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),se.waitFor(l).next((()=>a))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),se.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this._i.containsKey(n))}}class iT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Vf(0),this.li=!1,this.li=!0,this.hi=new QD,this.referenceDelegate=e(this),this.Pi=new ZD(this),this.indexManager=new LD,this.remoteDocumentCache=(function(a){return new WD(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new jD(n),this.Ii=new KD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new XD(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const a=new eO(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return se.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class eO extends C4{constructor(e){super(),this.currentSequenceNumber=e}}class iy{constructor(e){this.persistence=e,this.Ri=new ny,this.Vi=null}static mi(e){return new iy(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(r=>{const a=we.fromPath(r);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ce.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Sf{constructor(e,n){this.persistence=e,this.pi=new Ua((r=>k4(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=qD(this,n)}static mi(e,n){return new Sf(e,n)}Ei(){}di(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return se.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?se.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((h=>{h||(r++,l.removeEntry(u,Ce.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ef(e.data.value)),n}br(e,n,r){return se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return se.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ry{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=Ge(),a=Ge();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new ry(e,n.fromCache,r,a)}}class tO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class nO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return AI()?8:I4(xn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,r).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new tO;return this.Ss(e,n,u).next((h=>{if(l.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>l.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(jo()<=qe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(jo()<=qe.DEBUG&&pe("QueryEngine","Query:",Po(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(jo()<=qe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(n))):se.resolve())}ys(e,n){if(f1(n))return se.resolve(null);let r=tr(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=eg(n,null,"F"),r=tr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const u=Ge(...l);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((m=>{const p=this.Ds(n,h);return this.Cs(n,p,u,m.readTime)?this.ys(e,eg(n,null,"F")):this.vs(e,p,n,m)}))))})))))}ws(e,n,r,a){return f1(n)||a.isEqual(Ce.min())?se.resolve(null):this.ps.getDocuments(e,r).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,r,a)?se.resolve(null):(jo()<=qe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Po(n)),this.vs(e,u,n,w4(a,Bu)).next((h=>h)))}))}Ds(e,n){let r=new Qt(Mw(e));return n.forEach(((a,l)=>{qf(e,l)&&(r=r.add(l))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,r){return jo()<=qe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Po(n)),this.ps.getDocumentsMatchingQuery(e,n,Bs.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const sy="LocalStore",iO=3e8;class rO{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new St(He),this.xs=new Ua((l=>Qg(l)),Xg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $D(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function sO(t,e,n,r){return new rO(t,e,n,r)}async function rT(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const u=[],h=[];let m=Ge();for(const p of a){u.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){h.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(r,m).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function aO(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,m,p,v){const _=p.batch,E=_.keys();let w=se.resolve();return E.forEach((I=>{w=w.next((()=>v.getEntry(m,I))).next((U=>{const P=p.docVersions.get(I);rt(P!==null,48541),U.version.compareTo(P)<0&&(_.applyToRemoteDocument(U,p),U.isValidDocument()&&(U.setReadTime(p.commitVersion),v.addEntry(U)))}))})),w.next((()=>h.mutationQueue.removeMutationBatch(m,_)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let m=Ge();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(m=m.add(h.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function sT(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function oO(t,e){const n=Ie(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((v,_)=>{const E=a.get(_);if(!E)return;h.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,_))));let w=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?w=w.withResumeToken(fn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,r)),a=a.insert(_,w),(function(U,P,z){return U.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=iO?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(E,w,v)&&h.push(n.Pi.updateTargetData(l,w))}));let m=zr(),p=Ge();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),h.push(lO(l,u,e.documentUpdates).next((v=>{m=v.ks,p=v.qs}))),!r.isEqual(Ce.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));h.push(v)}return se.waitFor(h).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function lO(t,e,n){let r=Ge(),a=Ge();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let u=zr();return n.forEach(((h,m)=>{const p=l.get(h);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),m.isNoDocument()&&m.version.isEqual(Ce.min())?(e.removeEntry(h,m.readTime),u=u.insert(h,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(h,m)):pe(sy,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function uO(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=$g),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function cO(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((l=>l?(a=l,se.resolve(a)):n.Pi.allocateTargetId(r).next((u=>(a=new Os(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function sg(t,e,n){const r=Ie(t),a=r.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!ol(u))throw u;pe(sy,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function S1(t,e,n){const r=Ie(t);let a=Ce.min(),l=Ge();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,v){const _=Ie(m),E=_.xs.get(v);return E!==void 0?se.resolve(_.Ms.get(E)):_.Pi.getTargetData(p,v)})(r,u,tr(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((m=>{l=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,n?a:Ce.min(),n?l:Ge()))).next((h=>(hO(r,X4(e),h),{documents:h,Qs:l})))))}function hO(t,e,n){let r=t.Os.get(e)||Ce.min();n.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.Os.set(e,r)}class A1{constructor(){this.activeTargetIds=nD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fO{constructor(){this.Mo=new A1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new A1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dO{Oo(e){}shutdown(){}}const C1="ConnectivityMonitor";class I1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(C1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(C1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let qh=null;function ag(){return qh===null?qh=(function(){return 268435456+Math.round(2147483648*Math.random())})():qh++,"0x"+qh.toString(16)}const pp="RestConnection",mO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===vf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,l){const u=ag(),h=this.zo(e,n.toUriEncodedString());pe(pp,`Sending RPC '${e}' ${u}:`,h,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(h),v=nl(p);return this.Jo(e,h,m,r,v).then((_=>(pe(pp,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw Ko(pp,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",r),_}))}Ho(e,n,r,a,l,u){return this.Go(e,n,r,a,l)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const r=mO[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class gO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const pn="WebChannelConnection";class yO extends pO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,l){const u=ag();return new Promise(((h,m)=>{const p=new uw;p.setWithCredentials(!0),p.listenOnce(cw.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Zh.NO_ERROR:const _=p.getResponseJson();pe(pn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case Zh.TIMEOUT:pe(pn,`RPC '${e}' ${u} timed out`),m(new ve(le.DEADLINE_EXCEEDED,"Request time out"));break;case Zh.HTTP_ERROR:const E=p.getStatus();if(pe(pn,`RPC '${e}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const I=w?.error;if(I&&I.status&&I.message){const U=(function(z){const F=z.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(F)>=0?F:le.UNKNOWN})(I.status);m(new ve(U,I.message))}else m(new ve(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ve(le.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{pe(pn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);pe(pn,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",v,r,15)}))}T_(e,n,r){const a=ag(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=dw(),h=fw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const v=l.join("");pe(pn,`Creating RPC '${e}' stream ${a}: ${v}`,m);const _=u.createWebChannel(v,m);this.I_(_);let E=!1,w=!1;const I=new gO({Yo:P=>{w?pe(pn,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(E||(pe(pn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),pe(pn,`RPC '${e}' stream ${a} sending:`,P),_.send(P))},Zo:()=>_.close()}),U=(P,z,F)=>{P.listen(z,(q=>{try{F(q)}catch(ee){setTimeout((()=>{throw ee}),0)}}))};return U(_,bu.EventType.OPEN,(()=>{w||(pe(pn,`RPC '${e}' stream ${a} transport opened.`),I.o_())})),U(_,bu.EventType.CLOSE,(()=>{w||(w=!0,pe(pn,`RPC '${e}' stream ${a} transport closed`),I.a_(),this.E_(_))})),U(_,bu.EventType.ERROR,(P=>{w||(w=!0,Ko(pn,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),I.a_(new ve(le.UNAVAILABLE,"The operation could not be completed")))})),U(_,bu.EventType.MESSAGE,(P=>{if(!w){const z=P.data[0];rt(!!z,16349);const F=z,q=F?.error||F[0]?.error;if(q){pe(pn,`RPC '${e}' stream ${a} received error:`,q);const ee=q.status;let ce=(function(k){const O=qt[k];if(O!==void 0)return $w(O)})(ee),G=q.message;ce===void 0&&(ce=le.INTERNAL,G="Unknown error status: "+ee+" with message "+q.message),w=!0,I.a_(new ve(ce,G)),_.close()}else pe(pn,`RPC '${e}' stream ${a} received:`,z),I.u_(z)}})),U(h,hw.STAT_EVENT,(P=>{P.stat===Yp.PROXY?pe(pn,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===Yp.NOPROXY&&pe(pn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function gp(){return typeof document<"u"?document:null}function Kf(t){return new bD(t,!0)}class aT{constructor(e,n,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const N1="PersistentStream";class oT{constructor(e,n,r,a,l,u,h,m){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(Vr(n.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new ve(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(N1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(N1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vO extends oT{constructor(e,n,r,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=TD(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Ce.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?ir(u.readTime):Ce.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=rg(this.serializer),n.addTarget=(function(l,u){let h;const m=u.target;if(h=Zp(m)?{documents:CD(l,m)}:{query:ID(l,m).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Qw(l,u.resumeToken);const p=tg(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ce.min())>0){h.readTime=Tf(l,u.snapshotVersion.toTimestamp());const p=tg(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=kD(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=rg(this.serializer),n.removeTarget=e,this.q_(n)}}class _O extends oT{constructor(e,n,r,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=AD(e.writeResults,e.commitTime),r=ir(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=rg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>SD(this.serializer,r)))};this.q_(n)}}class xO{}class bO extends xO{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ve(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,ng(n,r),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(le.UNKNOWN,l.toString())}))}Ho(e,n,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,ng(n,r),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(le.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class EO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vr(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const La="RemoteStore";class wO{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Ba(this)&&(pe(La,"Restarting streams for network reachability change."),await(async function(m){const p=Ie(m);p.Ea.add(4),await oc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Yf(p)})(this))}))})),this.Ra=new EO(r,a)}}async function Yf(t){if(Ba(t))for(const e of t.da)await e(!0)}async function oc(t){for(const e of t.da)await e(!1)}function lT(t,e){const n=Ie(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),uy(n)?ly(n):ll(n).O_()&&oy(n,e))}function ay(t,e){const n=Ie(t),r=ll(n);n.Ia.delete(e),r.O_()&&uT(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ba(n)&&n.Ra.set("Unknown"))}function oy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ll(t).Y_(e)}function uT(t,e){t.Va.Ue(e),ll(t).Z_(e)}function ly(t){t.Va=new yD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ll(t).start(),t.Ra.ua()}function uy(t){return Ba(t)&&!ll(t).x_()&&t.Ia.size>0}function Ba(t){return Ie(t).Ea.size===0}function cT(t){t.Va=void 0}async function TO(t){t.Ra.set("Online")}async function SO(t){t.Ia.forEach(((e,n)=>{oy(t,e)}))}async function AO(t,e){cT(t),uy(t)?(t.Ra.ha(e),ly(t)):t.Ra.set("Unknown")}async function CO(t,e,n){if(t.Ra.set("Online"),e instanceof Yw&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(r){pe(La,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Af(t,r)}else if(e instanceof rf?t.Va.Ze(e):e instanceof Kw?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ce.min()))try{const r=await sT(t.localStore);n.compareTo(r)>=0&&await(function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(m.resumeToken,u))}})),h.targetMismatches.forEach(((m,p)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(fn.EMPTY_BYTE_STRING,v.snapshotVersion)),uT(l,m);const _=new Os(v.target,m,p,v.sequenceNumber);oy(l,_)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){pe(La,"Failed to raise snapshot:",r),await Af(t,r)}}async function Af(t,e,n){if(!ol(e))throw e;t.Ea.add(1),await oc(t),t.Ra.set("Offline"),n||(n=()=>sT(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pe(La,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Yf(t)}))}function hT(t,e){return e().catch((n=>Af(t,n,e)))}async function Qf(t){const e=Ie(t),n=Gs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$g;for(;IO(e);)try{const a=await uO(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,NO(e,a)}catch(a){await Af(e,a)}fT(e)&&dT(e)}function IO(t){return Ba(t)&&t.Ta.length<10}function NO(t,e){t.Ta.push(e);const n=Gs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function fT(t){return Ba(t)&&!Gs(t).x_()&&t.Ta.length>0}function dT(t){Gs(t).start()}async function kO(t){Gs(t).ra()}async function RO(t){const e=Gs(t);for(const n of t.Ta)e.ea(n.mutations)}async function DO(t,e,n){const r=t.Ta.shift(),a=Zg.from(r,e,n);await hT(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Qf(t)}async function OO(t,e){e&&Gs(t).X_&&await(async function(r,a){if((function(u){return mD(u)&&u!==le.ABORTED})(a.code)){const l=r.Ta.shift();Gs(r).B_(),await hT(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Qf(r)}})(t,e),fT(t)&&dT(t)}async function k1(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),pe(La,"RemoteStore received new credentials");const r=Ba(n);n.Ea.add(3),await oc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Yf(n)}async function MO(t,e){const n=Ie(t);e?(n.Ea.delete(2),await Yf(n)):e||(n.Ea.add(2),await oc(n),n.Ra.set("Unknown"))}function ll(t){return t.ma||(t.ma=(function(n,r,a){const l=Ie(n);return l.sa(),new vO(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:TO.bind(null,t),t_:SO.bind(null,t),r_:AO.bind(null,t),H_:CO.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),uy(t)?ly(t):t.Ra.set("Unknown")):(await t.ma.stop(),cT(t))}))),t.ma}function Gs(t){return t.fa||(t.fa=(function(n,r,a){const l=Ie(n);return l.sa(),new _O(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:kO.bind(null,t),r_:OO.bind(null,t),ta:RO.bind(null,t),na:DO.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Qf(t)):(await t.fa.stop(),t.Ta.length>0&&(pe(La,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class cy{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const u=Date.now()+r,h=new cy(e,n,u,a,l);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hy(t,e){if(Vr("AsyncQueue",`${e}: ${t}`),ol(t))return new ve(le.UNAVAILABLE,`${e}: ${t}`);throw t}class Ho{static emptySet(e){return new Ho(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=Eu(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ho;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class R1{constructor(){this.ga=new St(we.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Jo{constructor(e,n,r,a,l,u,h,m,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,l){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Jo(e,n,Ho.emptySet(n),u,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class jO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class PO{constructor(){this.queries=D1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Ie(n),l=a.queries;a.queries=D1(),l.forEach(((u,h)=>{for(const m of h.Sa)m.onError(r)}))})(this,new ve(le.ABORTED,"Firestore shutting down"))}}function D1(){return new Ua((t=>Ow(t)),Ff)}async function LO(t,e){const n=Ie(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new jO,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=hy(u,`Initialization of query '${Po(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&fy(n)}async function VO(t,e){const n=Ie(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zO(t,e){const n=Ie(t);let r=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.Sa)h.Fa(a)&&(r=!0);u.wa=a}}r&&fy(n)}function UO(t,e,n){const r=Ie(t),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);r.queries.delete(e)}function fy(t){t.Ca.forEach((e=>{e.next()}))}var og,O1;(O1=og||(og={})).Ma="default",O1.Cache="cache";class BO{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Jo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==og.Cache}}class mT{constructor(e){this.key=e}}class pT{constructor(e){this.key=e}}class FO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=Mw(e),this.tu=new Ho(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new R1,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,_)=>{const E=a.get(v),w=qf(this.query,_)?_:null,I=!!E&&this.mutatedKeys.has(E.key),U=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let P=!1;E&&w?E.data.isEqual(w.data)?I!==U&&(r.track({type:3,doc:w}),P=!0):this.su(E,w)||(r.track({type:2,doc:w}),P=!0,(m&&this.eu(w,m)>0||p&&this.eu(w,p)<0)&&(h=!0)):!E&&w?(r.track({type:0,doc:w}),P=!0):E&&!w&&(r.track({type:1,doc:E}),P=!0,(m||p)&&(h=!0)),P&&(w?(u=u.add(w),l=U?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,_)=>(function(w,I){const U=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:P})}};return U(w)-U(I)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(r),a=a??!1;const h=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,u.length!==0||p?{snapshot:new Jo(this.query,e.tu,l,u,e.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new R1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new pT(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new mT(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dy="SyncEngine";class qO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class HO{constructor(e){this.key=e,this.hu=!1}}class GO{constructor(e,n,r,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ua((h=>Ow(h)),Ff),this.Iu=new Map,this.Eu=new Set,this.du=new St(we.comparator),this.Au=new Map,this.Ru=new ny,this.Vu={},this.mu=new Map,this.fu=Wo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $O(t,e,n=!0){const r=bT(t);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await gT(r,e,n,!0),a}async function KO(t,e){const n=bT(t);await gT(n,e,!0,!1)}async function gT(t,e,n,r){const a=await cO(t.localStore,tr(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return r&&(h=await YO(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&lT(t.remoteStore,a),h}async function YO(t,e,n,r,a){t.pu=(_,E,w)=>(async function(U,P,z,F){let q=P.view.ru(z);q.Cs&&(q=await S1(U.localStore,P.query,!1).then((({documents:j})=>P.view.ru(j,q))));const ee=F&&F.targetChanges.get(P.targetId),ce=F&&F.targetMismatches.get(P.targetId)!=null,G=P.view.applyChanges(q,U.isPrimaryClient,ee,ce);return j1(U,P.targetId,G.au),G.snapshot})(t,_,E,w);const l=await S1(t.localStore,e,!0),u=new FO(e,l.Qs),h=u.ru(l.documents),m=ac.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,m);j1(t,n,p.au);const v=new qO(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function QO(t,e,n){const r=Ie(t),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((u=>!Ff(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await sg(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&ay(r.remoteStore,a.targetId),lg(r,a.targetId)})).catch(al)):(lg(r,a.targetId),await sg(r.localStore,a.targetId,!0))}async function XO(t,e){const n=Ie(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ay(n.remoteStore,r.targetId))}async function WO(t,e,n){const r=rM(t);try{const a=await(function(u,h){const m=Ie(u),p=yt.now(),v=h.reduce(((w,I)=>w.add(I.key)),Ge());let _,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let I=zr(),U=Ge();return m.Ns.getEntries(w,v).next((P=>{I=P,I.forEach(((z,F)=>{F.isValidDocument()||(U=U.add(z))}))})).next((()=>m.localDocuments.getOverlayedDocuments(w,I))).next((P=>{_=P;const z=[];for(const F of h){const q=uD(F,_.get(F.key).overlayedDocument);q!=null&&z.push(new Qs(F.key,q,Aw(q.value.mapValue),nr.exists(!0)))}return m.mutationQueue.addMutationBatch(w,p,z,h)})).next((P=>{E=P;const z=P.applyToLocalDocumentSet(_,U);return m.documentOverlayCache.saveOverlays(w,P.batchId,z)}))})).then((()=>({batchId:E.batchId,changes:Pw(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,h,m){let p=u.Vu[u.currentUser.toKey()];p||(p=new St(He)),p=p.insert(h,m),u.Vu[u.currentUser.toKey()]=p})(r,a.batchId,n),await lc(r,a.changes),await Qf(r.remoteStore)}catch(a){const l=hy(a,"Failed to persist write");n.reject(l)}}async function yT(t,e){const n=Ie(t);try{const r=await oO(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(rt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?rt(u.hu,14607):a.removedDocuments.size>0&&(rt(u.hu,42227),u.hu=!1))})),await lc(n,r,e)}catch(r){await al(r)}}function M1(t,e,n){const r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const m=Ie(u);m.onlineState=h;let p=!1;m.queries.forEach(((v,_)=>{for(const E of _.Sa)E.va(h)&&(p=!0)})),p&&fy(m)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JO(t,e,n){const r=Ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),l=a&&a.key;if(l){let u=new St(we.comparator);u=u.insert(l,yn.newNoDocument(l,Ce.min()));const h=Ge().add(l),m=new $f(Ce.min(),new Map,new St(He),u,h);await yT(r,m),r.du=r.du.remove(l),r.Au.delete(e),my(r)}else await sg(r.localStore,e,!1).then((()=>lg(r,e,n))).catch(al)}async function ZO(t,e){const n=Ie(t),r=e.batch.batchId;try{const a=await aO(n.localStore,e);_T(n,r,null),vT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lc(n,a)}catch(a){await al(a)}}async function eM(t,e,n){const r=Ie(t);try{const a=await(function(u,h){const m=Ie(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return m.mutationQueue.lookupMutationBatch(p,h).next((_=>(rt(_!==null,37113),v=_.keys(),m.mutationQueue.removeMutationBatch(p,_)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>m.localDocuments.getDocuments(p,v)))}))})(r.localStore,e);_T(r,e,n),vT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await lc(r,a)}catch(a){await al(a)}}function vT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function _T(t,e,n){const r=Ie(t);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function lg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||xT(t,r)}))}function xT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ay(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),my(t))}function j1(t,e,n){for(const r of n)r instanceof mT?(t.Ru.addReference(r.key,e),tM(t,r)):r instanceof pT?(pe(dy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||xT(t,r.key)):Ae(19791,{wu:r})}function tM(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(pe(dy,"New document in limbo: "+n),t.Eu.add(r),my(t))}function my(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new we(Tt.fromString(e)),r=t.fu.next();t.Au.set(r,new HO(n)),t.du=t.du.insert(n,r),lT(t.remoteStore,new Os(tr(Wg(n.path)),r,"TargetPurposeLimboResolution",Vf.ce))}}async function lc(t,e,n){const r=Ie(t),a=[],l=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,m)=>{u.push(r.pu(m,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(p){a.push(p);const v=ry.As(m.targetId,p);l.push(v)}})))})),await Promise.all(u),r.Pu.H_(a),await(async function(m,p){const v=Ie(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>se.forEach(p,(E=>se.forEach(E.Es,(w=>v.persistence.referenceDelegate.addReference(_,E.targetId,w))).next((()=>se.forEach(E.ds,(w=>v.persistence.referenceDelegate.removeReference(_,E.targetId,w)))))))))}catch(_){if(!ol(_))throw _;pe(sy,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const w=v.Ms.get(E),I=w.snapshotVersion,U=w.withLastLimboFreeSnapshotVersion(I);v.Ms=v.Ms.insert(E,U)}}})(r.localStore,l))}async function nM(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){pe(dy,"User change. New user:",e.toKey());const r=await rT(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((m=>{m.reject(new ve(le.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lc(n,r.Ls)}}function iM(t,e){const n=Ie(t),r=n.Au.get(e);if(r&&r.hu)return Ge().add(r.key);{let a=Ge();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function bT(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JO.bind(null,e),e.Pu.H_=zO.bind(null,e.eventManager),e.Pu.yu=UO.bind(null,e.eventManager),e}function rM(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eM.bind(null,e),e}class Cf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return sO(this.persistence,new nO,e.initialUser,this.serializer)}Cu(e){return new iT(iy.mi,this.serializer)}Du(e){return new fO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cf.provider={build:()=>new Cf};class sM extends Cf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){rt(this.persistence.referenceDelegate instanceof Sf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new BD(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new iT((r=>Sf.mi(r,n)),this.serializer)}}class ug{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>M1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nM.bind(null,this.syncEngine),await MO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new PO})()}createDatastore(e){const n=Kf(e.databaseInfo.databaseId),r=(function(l){return new yO(l)})(e.databaseInfo);return(function(l,u,h,m){return new bO(l,u,h,m)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,l,u,h){return new wO(r,a,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>M1(this.syncEngine,n,0)),(function(){return I1.v()?new I1:new dO})())}createSyncEngine(e,n){return(function(a,l,u,h,m,p,v){const _=new GO(a,l,u,h,m,p);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ie(n);pe(La,"RemoteStore shutting down."),r.Ea.add(5),await oc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ug.provider={build:()=>new ug};class aM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const $s="FirestoreClient";class oM{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=gn.UNAUTHENTICATED,this.clientId=Hg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async u=>{pe($s,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(pe($s,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function yp(t,e){t.asyncQueue.verifyOperationInProgress(),pe($s,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await rT(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function P1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lM(t);pe($s,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>k1(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>k1(e.remoteStore,a))),t._onlineComponents=e}async function lM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe($s,"Using user provided OfflineComponentProvider");try{await yp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Ko("Error using user provided cache. Falling back to memory cache: "+n),await yp(t,new Cf)}}else pe($s,"Using default OfflineComponentProvider"),await yp(t,new sM(void 0));return t._offlineComponents}async function ET(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe($s,"Using user provided OnlineComponentProvider"),await P1(t,t._uninitializedComponentsProvider._online)):(pe($s,"Using default OnlineComponentProvider"),await P1(t,new ug))),t._onlineComponents}function uM(t){return ET(t).then((e=>e.syncEngine))}async function cM(t){const e=await ET(t),n=e.eventManager;return n.onListen=$O.bind(null,e.syncEngine),n.onUnlisten=QO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XO.bind(null,e.syncEngine),n}function hM(t,e,n={}){const r=new Vs;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,m,p){const v=new aM({next:E=>{v.Nu(),u.enqueueAndForget((()=>VO(l,_)));const w=E.docs.has(h);!w&&E.fromCache?p.reject(new ve(le.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&E.fromCache&&m&&m.source==="server"?p.reject(new ve(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new BO(Wg(h.path),v,{includeMetadataChanges:!0,qa:!0});return LO(l,_)})(await cM(t),t.asyncQueue,e,n,r))),r.promise}function wT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const L1=new Map;const TT="firestore.googleapis.com",V1=!0;class z1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TT,this.ssl=V1}else this.host=e.host,this.ssl=e.ssl??V1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zD)throw new ve(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}E4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class py{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new h4;switch(r.type){case"firstParty":return new p4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=L1.get(n);r&&(pe("ComponentProvider","Removing Datastore"),L1.delete(n),r.terminate())})(this),Promise.resolve()}}function fM(t,e,n,r={}){t=Pa(t,py);const a=nl(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(bE(`https://${h}`),EE("Firestore",!0)),l.host!==TT&&l.host!==h&&Ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:h,ssl:a,emulatorOptions:r};if(!Ra(m,u)&&(t._setSettings(m),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=gn.MOCK_USER;else{p=yI(r.mockUserToken,t._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new ve(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new gn(_)}t._authCredentials=new f4(new pw(p,v))}}class gy{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gy(this.firestore,e,this._query)}}class Yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ku(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(rc(n,Yt._jsonSchema))return new Yt(e,r||null,new we(Tt.fromString(n.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:Gt("string",Yt._jsonSchemaVersion),referencePath:Gt("string")};class Ku extends gy{constructor(e,n,r){super(e,n,Wg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new we(e))}withConverter(e){return new Ku(this.firestore,e,this._path)}}function yy(t,e,...n){if(t=hn(t),arguments.length===1&&(e=Hg.newId()),b4("doc","path",e),t instanceof py){const r=Tt.fromString(e,...n);return Zx(r),new Yt(t,null,new we(r))}{if(!(t instanceof Yt||t instanceof Ku))throw new ve(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tt.fromString(e,...n));return Zx(r),new Yt(t.firestore,t instanceof Ku?t.converter:null,new we(r))}}const U1="AsyncQueue";class B1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aT(this,"async_queue_retry"),this._c=()=>{const r=gp();r&&pe(U1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=gp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=gp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ol(e))throw e;pe(U1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Vr("INTERNAL UNHANDLED ERROR: ",F1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=cy.createAndSchedule(this,e,n,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ae(47125,{Pc:F1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function F1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Xf extends py{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new B1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B1(e),this._firestoreClient=void 0,await e}}}function dM(t,e){const n=typeof t=="object"?t:AE(),r=typeof t=="string"?t:vf,a=Dg(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=pI("firestore");l&&fM(a,...l)}return a}function ST(t){if(t._terminated)throw new ve(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||mM(t),t._firestoreClient}function mM(t){const e=t._freezeSettings(),n=(function(a,l,u,h){return new O4(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,wT(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new oM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class hi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hi(fn.fromBase64String(e))}catch(n){throw new ve(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hi(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(rc(e,hi._jsonSchema))return hi.fromBase64String(e.bytes)}}hi._jsonSchemaVersion="firestore/bytes/1.0",hi._jsonSchema={type:Gt("string",hi._jsonSchemaVersion),bytes:Gt("string")};class Wf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vy{constructor(e){this._methodName=e}}class rr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rr._jsonSchemaVersion}}static fromJSON(e){if(rc(e,rr._jsonSchema))return new rr(e.latitude,e.longitude)}}rr._jsonSchemaVersion="firestore/geoPoint/1.0",rr._jsonSchema={type:Gt("string",rr._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class sr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:sr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(rc(e,sr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new sr(e.vectorValues);throw new ve(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}sr._jsonSchemaVersion="firestore/vectorValue/1.0",sr._jsonSchema={type:Gt("string",sr._jsonSchemaVersion),vectorValues:Gt("object")};const pM=/^__.*__$/;class gM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qs(e,this.data,this.fieldMask,n,this.fieldTransforms):new sc(e,this.data,n,this.fieldTransforms)}}class AT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function CT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:t})}}class _y{constructor(e,n,r,a,l,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _y({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return If(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(CT(this.Ac)&&pM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class yM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kf(e)}Cc(e,n,r,a=!1){return new _y({Ac:e,methodName:n,Dc:r,path:cn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IT(t){const e=t._freezeSettings(),n=Kf(t._databaseId);return new yM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vM(t,e,n,r,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);xy("Data must be an object, but it was:",u,r);const h=NT(r,u);let m,p;if(l.merge)m=new Kn(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const _ of l.mergeFields){const E=cg(e,_,n);if(!u.contains(E))throw new ve(le.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);RT(v,E)||v.push(E)}m=new Kn(v),p=u.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,p=u.fieldTransforms;return new gM(new Mn(h),m,p)}class Jf extends vy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jf}}function _M(t,e,n,r){const a=t.Cc(1,e,n);xy("Data must be an object, but it was:",a,r);const l=[],u=Mn.empty();Ys(r,((m,p)=>{const v=by(e,m,n);p=hn(p);const _=a.yc(v);if(p instanceof Jf)l.push(v);else{const E=Zf(p,_);E!=null&&(l.push(v),u.set(v,E))}}));const h=new Kn(l);return new AT(u,h,a.fieldTransforms)}function xM(t,e,n,r,a,l){const u=t.Cc(1,e,n),h=[cg(e,r,n)],m=[a];if(l.length%2!=0)throw new ve(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)h.push(cg(e,l[E])),m.push(l[E+1]);const p=[],v=Mn.empty();for(let E=h.length-1;E>=0;--E)if(!RT(p,h[E])){const w=h[E];let I=m[E];I=hn(I);const U=u.yc(w);if(I instanceof Jf)p.push(w);else{const P=Zf(I,U);P!=null&&(p.push(w),v.set(w,P))}}const _=new Kn(p);return new AT(v,_,u.fieldTransforms)}function Zf(t,e){if(kT(t=hn(t)))return xy("Unsupported field value:",e,t),NT(t,e);if(t instanceof vy)return(function(r,a){if(!CT(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let u=0;for(const h of r){let m=Zf(h,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(r,a){if((r=hn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iD(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=yt.fromDate(r);return{timestampValue:Tf(a.serializer,l)}}if(r instanceof yt){const l=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Tf(a.serializer,l)}}if(r instanceof rr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hi)return{bytesValue:Qw(a.serializer,r._byteString)};if(r instanceof Yt){const l=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ty(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof sr)return(function(u,h){return{mapValue:{fields:{[Tw]:{stringValue:Sw},[_f]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return Jg(h.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Gg(r)}`)})(t,e)}function NT(t,e){const n={};return vw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ys(t,((r,a)=>{const l=Zf(a,e.mc(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function kT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof rr||t instanceof hi||t instanceof Yt||t instanceof vy||t instanceof sr)}function xy(t,e,n){if(!kT(n)||!gw(n)){const r=Gg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function cg(t,e,n){if((e=hn(e))instanceof Wf)return e._internalPath;if(typeof e=="string")return by(t,e);throw If("Field path arguments must be of type string or ",t,!1,void 0,n)}const bM=new RegExp("[~\\*/\\[\\]]");function by(t,e,n){if(e.search(bM)>=0)throw If(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wf(...e.split("."))._internalPath}catch{throw If(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function If(t,e,n,r,a){const l=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${r}`),u&&(m+=` in document ${a}`),m+=")"),new ve(le.INVALID_ARGUMENT,h+t+m)}function RT(t,e){return t.some((n=>n.isEqual(e)))}class DT{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(OT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class EM extends DT{data(){return super.data()}}function OT(t,e){return typeof e=="string"?by(t,e):e instanceof Wf?e._internalPath:e._delegate._internalPath}class wM{convertValue(e,n="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ys(e,((a,l)=>{r[a]=this.convertValue(l,n)})),r}convertVectorValue(e){const n=e.fields?.[_f].arrayValue?.values?.map((r=>Mt(r.doubleValue)));return new sr(n)}convertGeoPoint(e){return new rr(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Uf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fu(e));default:return null}}convertTimestamp(e){const n=Fs(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Tt.fromString(e);rt(tT(r),9688,{name:e});const a=new qu(r.get(1),r.get(3)),l=new we(r.popFirst(5));return a.isEqual(n)||Vr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function TM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Tu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ka extends DT{constructor(e,n,r,a,l,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(OT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ka._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ka._jsonSchemaVersion="firestore/documentSnapshot/1.0",ka._jsonSchema={type:Gt("string",ka._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class sf extends ka{data(e={}){return super.data(e)}}class Ru{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Tu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new sf(this._firestore,this._userDataWriter,r.key,r,new Tu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const m=new sf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Tu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const m=new sf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Tu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:SM(h.type),doc:m,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ru._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function SM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:t})}}function AM(t){t=Pa(t,Yt);const e=Pa(t.firestore,Xf);return hM(ST(e),t._key).then((n=>kM(e,t,n)))}Ru._jsonSchemaVersion="firestore/querySnapshot/1.0",Ru._jsonSchema={type:Gt("string",Ru._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class CM extends wM{constructor(e){super(),this.firestore=e}convertBytes(e){return new hi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function IM(t,e,n){t=Pa(t,Yt);const r=Pa(t.firestore,Xf),a=TM(t.converter,e,n);return MT(r,[vM(IT(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,nr.none())])}function NM(t,e,n,...r){t=Pa(t,Yt);const a=Pa(t.firestore,Xf),l=IT(a);let u;return u=typeof(e=hn(e))=="string"||e instanceof Wf?xM(l,"updateDoc",t._key,e,n,r):_M(l,"updateDoc",t._key,e),MT(a,[u.toMutation(t._key,nr.exists(!0))])}function MT(t,e){return(function(r,a){const l=new Vs;return r.asyncQueue.enqueueAndForget((async()=>WO(await uM(r),a,l))),l.promise})(ST(t),e)}function kM(t,e,n){const r=n.docs.get(e._key),a=new CM(t);return new ka(t,a,e._key,r,new Tu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){sl=a})(il),$o(new Da("firestore",((r,{instanceIdentifier:a,options:l})=>{const u=r.getProvider("app").getImmediate(),h=new Xf(new d4(r.getProvider("auth-internal")),new g4(u,r.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ve(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qu(p.options.projectId,v)})(u,a),u);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Ps(Qx,Xx,e),Ps(Qx,Xx,"esm2020")})();const RM={apiKey:"AIzaSyAgGkHhRcdGatNvRsm5BQv_RerjG8qt70M",authDomain:"adjucator-ai.firebaseapp.com",projectId:"adjucator-ai",storageBucket:"adjucator-ai.firebasestorage.app",messagingSenderId:"82725691768",appId:"1:82725691768:web:6186a5b41b8a0aa1e7688d",measurementId:"G-N92VEHSKDE"},jT=SE(RM),uc=u4(jT),Ey=dM(jT),DM=new Nr,OM=async(t,e)=>{const n=await $k(uc,t,e);return await Yk(n.user),n},MM=async(t,e)=>await Kk(uc,t,e),jM=async()=>await vR(uc,DM),PM=async()=>await Jk(uc),LM=t=>Wk(uc,t),vp=async(t,e)=>{const n=yy(Ey,"users",t);await IM(n,{...e,createdAt:new Date().toISOString(),history:[]},{merge:!0})},q1=async t=>{const e=yy(Ey,"users",t),n=await AM(e);return n.exists()?n.data():null},VM=async(t,e)=>{const n=yy(Ey,"users",t);await NM(n,e)},PT=Z.createContext(null),ed=()=>{const t=Z.useContext(PT);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},zM=({children:t})=>{const[e,n]=Z.useState(null),[r,a]=Z.useState(null),[l,u]=Z.useState(!0),[h,m]=Z.useState(null);Z.useEffect(()=>{const P=LM(async z=>{if(n(z),z)try{let F=await q1(z.uid);F||(F={email:z.email,displayName:z.displayName||"",photoURL:z.photoURL||"",preferredEvents:[],settings:{theme:"dark",autoSaveHistory:!0}},await vp(z.uid,F)),a(F)}catch(F){console.error("Error fetching user profile:",F)}else a(null);u(!1)});return()=>P()},[]);const U={user:e,userProfile:r,loading:l,error:h,login:async(P,z)=>{m(null);try{return await MM(P,z)}catch(F){throw m(Hh(F.code)),F}},register:async(P,z,F)=>{m(null);try{const q=await OM(P,z);return await vp(q.user.uid,{email:P,displayName:F,photoURL:"",preferredEvents:[],settings:{theme:"dark",autoSaveHistory:!0}}),q}catch(q){throw m(Hh(q.code)),q}},loginWithGoogle:async()=>{m(null);try{const P=await jM();return await q1(P.user.uid)||await vp(P.user.uid,{email:P.user.email,displayName:P.user.displayName||"",photoURL:P.user.photoURL||"",preferredEvents:[],settings:{theme:"dark",autoSaveHistory:!0}}),P}catch(P){throw m(Hh(P.code)),P}},logout:async()=>{m(null);try{await PM()}catch(P){throw m(Hh(P.code)),P}},updateProfile:async P=>{if(e)try{await VM(e.uid,P),a(z=>({...z,...P}))}catch(z){throw m("Failed to update profile"),z}},clearError:()=>m(null),isAuthenticated:!!e};return y.jsx(PT.Provider,{value:U,children:t})};function Hh(t){return{"auth/email-already-in-use":"This email is already registered. Try logging in instead.","auth/invalid-email":"Please enter a valid email address.","auth/operation-not-allowed":"This sign-in method is not enabled.","auth/weak-password":"Password should be at least 6 characters.","auth/user-disabled":"This account has been disabled.","auth/user-not-found":"No account found with this email.","auth/wrong-password":"Incorrect password. Please try again.","auth/invalid-credential":"Invalid credentials. Please check your email and password.","auth/too-many-requests":"Too many failed attempts. Please try again later.","auth/popup-closed-by-user":"Sign-in popup was closed. Please try again.","auth/popup-blocked":"Sign-in popup was blocked. Please enable popups.","auth/network-request-failed":"Network error. Please check your connection."}[t]||"An error occurred. Please try again."}const UM=({onSettingsClick:t})=>{const[e,n]=Z.useState(!1),[r,a]=Z.useState(!1),l=Z.useRef(null),{user:u,userProfile:h,logout:m}=ed();Z.useEffect(()=>{const w=I=>{l.current&&!l.current.contains(I.target)&&n(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const p=async()=>{a(!0);try{await m()}catch(w){console.error("Logout error:",w)}a(!1)},v=h?.displayName||u?.displayName||u?.email?.split("@")[0]||"User",_=h?.photoURL||u?.photoURL,E=u?.email;return y.jsxs("div",{className:"relative",ref:l,children:[y.jsxs("button",{onClick:()=>n(!e),className:"flex items-center gap-2 px-3 py-2 rounded-xl hover:bg-slate-800/50 transition-all group",children:[_?y.jsx("img",{src:_,alt:v,className:"w-8 h-8 rounded-full object-cover border-2 border-primary/30"}):y.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center",children:y.jsx("span",{className:"text-white text-sm font-medium",children:v.charAt(0).toUpperCase()})}),y.jsx("span",{className:"hidden lg:block text-sm font-medium text-text-secondary group-hover:text-white transition-colors",children:v}),y.jsx(oE,{className:`w-4 h-4 text-text-muted transition-transform ${e?"rotate-180":""}`})]}),e&&y.jsxs("div",{className:"absolute right-0 mt-2 w-64 glass-card p-0 overflow-hidden animate-in fade-in slide-in-from-top-2 z-50",children:[y.jsx("div",{className:"p-4 bg-slate-900/50 border-b border-slate-700/50",children:y.jsxs("div",{className:"flex items-center gap-3",children:[_?y.jsx("img",{src:_,alt:v,className:"w-10 h-10 rounded-full object-cover"}):y.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center",children:y.jsx("span",{className:"text-white font-medium",children:v.charAt(0).toUpperCase()})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:"text-sm font-medium text-white truncate",children:v}),y.jsx("p",{className:"text-xs text-text-muted truncate",children:E})]})]})}),y.jsxs("div",{className:"p-2",children:[y.jsxs("button",{onClick:()=>{n(!1),t?.()},className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-text-secondary hover:bg-slate-800/50 hover:text-white transition-all",children:[y.jsx(lf,{className:"w-4 h-4"}),y.jsx("span",{className:"text-sm",children:"Settings"})]}),y.jsxs("button",{onClick:()=>{n(!1),t?.()},className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-text-secondary hover:bg-slate-800/50 hover:text-white transition-all",children:[y.jsx(dE,{className:"w-4 h-4"}),y.jsx("span",{className:"text-sm",children:"Edit Profile"})]}),y.jsx("div",{className:"my-2 border-t border-slate-700/50"}),y.jsxs("button",{onClick:p,disabled:r,className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-red-400 hover:bg-red-500/10 transition-all disabled:opacity-50",children:[r?y.jsx(Br,{className:"w-4 h-4 animate-spin"}):y.jsx(_2,{className:"w-4 h-4"}),y.jsx("span",{className:"text-sm",children:"Sign Out"})]})]})]})]})},mu={dark:{id:"dark",name:"Dark",icon:"",colors:{bgPrimary:"#020617",bgSecondary:"#0f172a",bgTertiary:"#1e293b",textPrimary:"#f8fafc",textSecondary:"#94a3b8",textMuted:"#64748b",primary:"#06b6d4",primaryHover:"#22d3ee",accent:"#a855f7",border:"rgba(51, 65, 85, 0.5)",glass:"rgba(15, 23, 42, 0.8)",cardBg:"rgba(15, 23, 42, 0.5)",inputBg:"#020617",success:"#22c55e",warning:"#f59e0b",error:"#ef4444"}},light:{id:"light",name:"Light",icon:"",colors:{bgPrimary:"#ffffff",bgSecondary:"#f8fafc",bgTertiary:"#e2e8f0",textPrimary:"#0f172a",textSecondary:"#334155",textMuted:"#64748b",primary:"#0891b2",primaryHover:"#0e7490",accent:"#7c3aed",border:"rgba(15, 23, 42, 0.15)",glass:"rgba(255, 255, 255, 0.95)",cardBg:"rgba(248, 250, 252, 0.9)",inputBg:"#ffffff",success:"#16a34a",warning:"#d97706",error:"#dc2626"}}},LT=Z.createContext(null),VT=()=>{const t=Z.useContext(LT);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},BM=({children:t})=>{const[e,n]=Z.useState(()=>localStorage.getItem("theme")||"dark"),r=mu[e]||mu.dark;Z.useEffect(()=>{const h=document.documentElement,m=r.colors;h.style.setProperty("--bg-primary",m.bgPrimary),h.style.setProperty("--bg-secondary",m.bgSecondary),h.style.setProperty("--bg-tertiary",m.bgTertiary),h.style.setProperty("--text-primary",m.textPrimary),h.style.setProperty("--text-secondary",m.textSecondary),h.style.setProperty("--text-muted",m.textMuted),h.style.setProperty("--primary",m.primary),h.style.setProperty("--primary-hover",m.primaryHover),h.style.setProperty("--accent",m.accent),h.style.setProperty("--border",m.border),h.style.setProperty("--glass",m.glass),h.style.setProperty("--card-bg",m.cardBg),h.style.setProperty("--input-bg",m.inputBg),h.style.setProperty("--success",m.success),h.style.setProperty("--warning",m.warning),h.style.setProperty("--error",m.error),h.className=`theme-${e}`,localStorage.setItem("theme",e)},[e,r]);const u={theme:r,themeId:e,setTheme:h=>{mu[h]&&n(h)},cycleTheme:()=>{const h=Object.keys(mu),p=(h.indexOf(e)+1)%h.length;n(h[p])},themes:mu};return y.jsx(LT.Provider,{value:u,children:t})},H1=({compact:t=!1})=>{const{themeId:e,setTheme:n}=VT(),r=e==="dark",a=()=>{n(r?"light":"dark")};return t?y.jsx("button",{onClick:a,className:"p-2 rounded-lg transition-colors",style:{color:"var(--text-secondary)"},title:r?"Switch to Light mode":"Switch to Dark mode",children:y.jsx(ln.div,{initial:!1,animate:{rotate:r?0:180},transition:{duration:.3},children:r?y.jsx(mx,{className:"w-5 h-5"}):y.jsx(yx,{className:"w-5 h-5"})})}):y.jsxs("button",{onClick:a,className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all",style:{color:"var(--text-secondary)"},children:[y.jsx(ln.div,{initial:!1,animate:{rotate:r?0:180},transition:{duration:.3},children:r?y.jsx(mx,{className:"w-5 h-5"}):y.jsx(yx,{className:"w-5 h-5"})}),y.jsx("span",{className:"font-medium flex-1 text-left",children:r?"Dark Mode":"Light Mode"})]})},FM=({children:t,activeTab:e,setActiveTab:n,showSettings:r,setShowSettings:a})=>{const[l,u]=Z.useState(!1),{isAuthenticated:h}=ed(),{theme:m}=VT(),p=[{id:"judge",label:"Judge Speech",icon:Dr},{id:"board",label:"Evaluate Board",icon:N2},{id:"coach",label:"Live Coach",icon:Lu},{id:"strategy",label:"Strategy",icon:Uo},{id:"tone",label:"Tone Analysis",icon:Pu},{id:"extemp",label:"Extemp Gen",icon:Sg},{id:"history",label:"History",icon:jr}];return y.jsxs("div",{className:"min-h-screen flex",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:[y.jsxs("aside",{className:"hidden md:flex flex-col w-64 border-r backdrop-blur-xl fixed h-full z-20",style:{backgroundColor:"var(--card-bg)",borderColor:"var(--border)"},children:[y.jsxs("div",{className:"p-6 flex items-center space-x-3 border-b",style:{borderColor:"var(--border)"},children:[y.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shadow-lg",style:{background:"linear-gradient(135deg, var(--primary), var(--accent))"},children:y.jsx(Dr,{className:"w-5 h-5 text-white"})}),y.jsx("span",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Adjudicator"})]}),y.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:p.map(v=>y.jsxs("button",{onClick:()=>n(v.id),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-200 group",style:{backgroundColor:e===v.id?"rgba(var(--primary-rgb, 6, 182, 212), 0.1)":"transparent",color:e===v.id?"var(--primary)":"var(--text-secondary)",border:e===v.id?"1px solid rgba(var(--primary-rgb, 6, 182, 212), 0.2)":"1px solid transparent"},children:[y.jsx(v.icon,{className:`w-5 h-5 ${e===v.id?"":"group-hover:scale-110 transition-transform"}`}),y.jsx("span",{className:"font-medium",children:v.label})]},v.id))}),y.jsxs("div",{className:"p-4 border-t space-y-2",style:{borderColor:"var(--border)"},children:[y.jsxs("button",{onClick:()=>a(!r),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all",style:{backgroundColor:r?"rgba(var(--accent-rgb, 168, 85, 247), 0.1)":"transparent",color:r?"var(--accent)":"var(--text-secondary)"},children:[y.jsx(lf,{className:"w-5 h-5"}),y.jsx("span",{className:"font-medium",children:"Settings"})]}),y.jsx(H1,{}),h&&y.jsx("div",{className:"pt-2 border-t mt-2",style:{borderColor:"var(--border)"},children:y.jsx(UM,{onSettingsClick:()=>a(!0)})})]})]}),y.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 z-30 backdrop-blur-lg border-b px-4 py-3 flex items-center justify-between",style:{backgroundColor:"var(--card-bg)",borderColor:"var(--border)"},children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:"linear-gradient(135deg, var(--primary), var(--accent))"},children:y.jsx(Dr,{className:"w-5 h-5 text-white"})}),y.jsx("span",{className:"font-bold text-lg",style:{color:"var(--text-primary)"},children:"Adjudicator"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(H1,{compact:!0}),y.jsx("button",{onClick:()=>u(!l),className:"p-2",style:{color:"var(--text-secondary)"},children:l?y.jsx(mE,{}):y.jsx(w2,{})})]})]}),l&&y.jsxs("div",{className:"fixed inset-0 z-20 backdrop-blur-xl pt-20 px-6 space-y-4 md:hidden animate-in slide-in-from-top-10",style:{backgroundColor:"var(--bg-primary)",opacity:.98},children:[p.map(v=>y.jsxs("button",{onClick:()=>{n(v.id),u(!1)},className:"w-full flex items-center space-x-4 p-4 rounded-xl border",style:{backgroundColor:e===v.id?"rgba(var(--primary-rgb, 6, 182, 212), 0.1)":"transparent",borderColor:e===v.id?"rgba(var(--primary-rgb, 6, 182, 212), 0.2)":"var(--border)",color:e===v.id?"var(--primary)":"var(--text-secondary)"},children:[y.jsx(v.icon,{className:"w-6 h-6"}),y.jsx("span",{className:"text-lg font-medium",children:v.label})]},v.id)),y.jsxs("button",{onClick:()=>{a(!0),u(!1)},className:"w-full flex items-center space-x-4 p-4 rounded-xl border",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:[y.jsx(lf,{className:"w-6 h-6"}),y.jsx("span",{className:"text-lg font-medium",children:"Settings"})]})]}),y.jsx("main",{className:"flex-1 md:ml-64 p-4 md:p-8 pt-20 md:pt-8 overflow-y-auto h-screen scroll-smooth",children:y.jsx("div",{className:"max-w-7xl mx-auto",children:t})})]})};function qM(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const HM=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,GM=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,$M={};function G1(t,e){return($M.jsx?GM:HM).test(t)}const KM=/[ \t\n\f\r]/g;function YM(t){return typeof t=="object"?t.type==="text"?$1(t.value):!1:$1(t)}function $1(t){return t.replace(KM,"")===""}class cc{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}cc.prototype.normal={};cc.prototype.property={};cc.prototype.space=void 0;function zT(t,e){const n={},r={};for(const a of t)Object.assign(n,a.property),Object.assign(r,a.normal);return new cc(n,r,e)}function hg(t){return t.toLowerCase()}class jn{constructor(e,n){this.attribute=n,this.property=e}}jn.prototype.attribute="";jn.prototype.booleanish=!1;jn.prototype.boolean=!1;jn.prototype.commaOrSpaceSeparated=!1;jn.prototype.commaSeparated=!1;jn.prototype.defined=!1;jn.prototype.mustUseProperty=!1;jn.prototype.number=!1;jn.prototype.overloadedBoolean=!1;jn.prototype.property="";jn.prototype.spaceSeparated=!1;jn.prototype.space=void 0;let QM=0;const je=Fa(),Ht=Fa(),fg=Fa(),he=Fa(),mt=Fa(),Go=Fa(),Gn=Fa();function Fa(){return 2**++QM}const dg=Object.freeze(Object.defineProperty({__proto__:null,boolean:je,booleanish:Ht,commaOrSpaceSeparated:Gn,commaSeparated:Go,number:he,overloadedBoolean:fg,spaceSeparated:mt},Symbol.toStringTag,{value:"Module"})),_p=Object.keys(dg);class wy extends jn{constructor(e,n,r,a){let l=-1;if(super(e,n),K1(this,"space",a),typeof r=="number")for(;++l<_p.length;){const u=_p[l];K1(this,_p[l],(r&dg[u])===dg[u])}}}wy.prototype.defined=!0;function K1(t,e,n){n&&(t[e]=n)}function ul(t){const e={},n={};for(const[r,a]of Object.entries(t.properties)){const l=new wy(r,t.transform(t.attributes||{},r),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),e[r]=l,n[hg(r)]=r,n[hg(l.attribute)]=r}return new cc(e,n,t.space)}const UT=ul({properties:{ariaActiveDescendant:null,ariaAtomic:Ht,ariaAutoComplete:null,ariaBusy:Ht,ariaChecked:Ht,ariaColCount:he,ariaColIndex:he,ariaColSpan:he,ariaControls:mt,ariaCurrent:null,ariaDescribedBy:mt,ariaDetails:null,ariaDisabled:Ht,ariaDropEffect:mt,ariaErrorMessage:null,ariaExpanded:Ht,ariaFlowTo:mt,ariaGrabbed:Ht,ariaHasPopup:null,ariaHidden:Ht,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:mt,ariaLevel:he,ariaLive:null,ariaModal:Ht,ariaMultiLine:Ht,ariaMultiSelectable:Ht,ariaOrientation:null,ariaOwns:mt,ariaPlaceholder:null,ariaPosInSet:he,ariaPressed:Ht,ariaReadOnly:Ht,ariaRelevant:null,ariaRequired:Ht,ariaRoleDescription:mt,ariaRowCount:he,ariaRowIndex:he,ariaRowSpan:he,ariaSelected:Ht,ariaSetSize:he,ariaSort:null,ariaValueMax:he,ariaValueMin:he,ariaValueNow:he,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function BT(t,e){return e in t?t[e]:e}function FT(t,e){return BT(t,e.toLowerCase())}const XM=ul({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Go,acceptCharset:mt,accessKey:mt,action:null,allow:null,allowFullScreen:je,allowPaymentRequest:je,allowUserMedia:je,alt:null,as:null,async:je,autoCapitalize:null,autoComplete:mt,autoFocus:je,autoPlay:je,blocking:mt,capture:null,charSet:null,checked:je,cite:null,className:mt,cols:he,colSpan:null,content:null,contentEditable:Ht,controls:je,controlsList:mt,coords:he|Go,crossOrigin:null,data:null,dateTime:null,decoding:null,default:je,defer:je,dir:null,dirName:null,disabled:je,download:fg,draggable:Ht,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:je,formTarget:null,headers:mt,height:he,hidden:fg,high:he,href:null,hrefLang:null,htmlFor:mt,httpEquiv:mt,id:null,imageSizes:null,imageSrcSet:null,inert:je,inputMode:null,integrity:null,is:null,isMap:je,itemId:null,itemProp:mt,itemRef:mt,itemScope:je,itemType:mt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:je,low:he,manifest:null,max:null,maxLength:he,media:null,method:null,min:null,minLength:he,multiple:je,muted:je,name:null,nonce:null,noModule:je,noValidate:je,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:je,optimum:he,pattern:null,ping:mt,placeholder:null,playsInline:je,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:je,referrerPolicy:null,rel:mt,required:je,reversed:je,rows:he,rowSpan:he,sandbox:mt,scope:null,scoped:je,seamless:je,selected:je,shadowRootClonable:je,shadowRootDelegatesFocus:je,shadowRootMode:null,shape:null,size:he,sizes:null,slot:null,span:he,spellCheck:Ht,src:null,srcDoc:null,srcLang:null,srcSet:null,start:he,step:null,style:null,tabIndex:he,target:null,title:null,translate:null,type:null,typeMustMatch:je,useMap:null,value:Ht,width:he,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:mt,axis:null,background:null,bgColor:null,border:he,borderColor:null,bottomMargin:he,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:je,declare:je,event:null,face:null,frame:null,frameBorder:null,hSpace:he,leftMargin:he,link:null,longDesc:null,lowSrc:null,marginHeight:he,marginWidth:he,noResize:je,noHref:je,noShade:je,noWrap:je,object:null,profile:null,prompt:null,rev:null,rightMargin:he,rules:null,scheme:null,scrolling:Ht,standby:null,summary:null,text:null,topMargin:he,valueType:null,version:null,vAlign:null,vLink:null,vSpace:he,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:je,disableRemotePlayback:je,prefix:null,property:null,results:he,security:null,unselectable:null},space:"html",transform:FT}),WM=ul({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Gn,accentHeight:he,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:he,amplitude:he,arabicForm:null,ascent:he,attributeName:null,attributeType:null,azimuth:he,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:he,by:null,calcMode:null,capHeight:he,className:mt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:he,diffuseConstant:he,direction:null,display:null,dur:null,divisor:he,dominantBaseline:null,download:je,dx:null,dy:null,edgeMode:null,editable:null,elevation:he,enableBackground:null,end:null,event:null,exponent:he,externalResourcesRequired:null,fill:null,fillOpacity:he,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Go,g2:Go,glyphName:Go,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:he,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:he,horizOriginX:he,horizOriginY:he,id:null,ideographic:he,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:he,k:he,k1:he,k2:he,k3:he,k4:he,kernelMatrix:Gn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:he,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:he,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:he,overlineThickness:he,paintOrder:null,panose1:null,path:null,pathLength:he,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:mt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:he,pointsAtY:he,pointsAtZ:he,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Gn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Gn,rev:Gn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Gn,requiredFeatures:Gn,requiredFonts:Gn,requiredFormats:Gn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:he,specularExponent:he,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:he,strikethroughThickness:he,string:null,stroke:null,strokeDashArray:Gn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:he,strokeOpacity:he,strokeWidth:null,style:null,surfaceScale:he,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Gn,tabIndex:he,tableValues:null,target:null,targetX:he,targetY:he,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Gn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:he,underlineThickness:he,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:he,values:null,vAlphabetic:he,vMathematical:he,vectorEffect:null,vHanging:he,vIdeographic:he,version:null,vertAdvY:he,vertOriginX:he,vertOriginY:he,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:he,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:BT}),qT=ul({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),HT=ul({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:FT}),GT=ul({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),JM={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},ZM=/[A-Z]/g,Y1=/-[a-z]/g,e3=/^data[-\w.:]+$/i;function t3(t,e){const n=hg(e);let r=e,a=jn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&e3.test(e)){if(e.charAt(4)==="-"){const l=e.slice(5).replace(Y1,i3);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=e.slice(4);if(!Y1.test(l)){let u=l.replace(ZM,n3);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}a=wy}return new a(r,e)}function n3(t){return"-"+t.toLowerCase()}function i3(t){return t.charAt(1).toUpperCase()}const r3=zT([UT,XM,qT,HT,GT],"html"),Ty=zT([UT,WM,qT,HT,GT],"svg");function s3(t){return t.join(" ").trim()}var Do={},xp,Q1;function a3(){if(Q1)return xp;Q1=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,h=/^\s+|\s+$/g,m=`
`,p="/",v="*",_="",E="comment",w="declaration";function I(P,z){if(typeof P!="string")throw new TypeError("First argument must be a string");if(!P)return[];z=z||{};var F=1,q=1;function ee(ue){var ae=ue.match(e);ae&&(F+=ae.length);var Y=ue.lastIndexOf(m);q=~Y?ue.length-Y:q+ue.length}function ce(){var ue={line:F,column:q};return function(ae){return ae.position=new G(ue),O(),ae}}function G(ue){this.start=ue,this.end={line:F,column:q},this.source=z.source}G.prototype.content=P;function j(ue){var ae=new Error(z.source+":"+F+":"+q+": "+ue);if(ae.reason=ue,ae.filename=z.source,ae.line=F,ae.column=q,ae.source=P,!z.silent)throw ae}function k(ue){var ae=ue.exec(P);if(ae){var Y=ae[0];return ee(Y),P=P.slice(Y.length),ae}}function O(){k(n)}function A(ue){var ae;for(ue=ue||[];ae=C();)ae!==!1&&ue.push(ae);return ue}function C(){var ue=ce();if(!(p!=P.charAt(0)||v!=P.charAt(1))){for(var ae=2;_!=P.charAt(ae)&&(v!=P.charAt(ae)||p!=P.charAt(ae+1));)++ae;if(ae+=2,_===P.charAt(ae-1))return j("End of comment missing");var Y=P.slice(2,ae-2);return q+=2,ee(Y),P=P.slice(ae),q+=2,ue({type:E,comment:Y})}}function D(){var ue=ce(),ae=k(r);if(ae){if(C(),!k(a))return j("property missing ':'");var Y=k(l),oe=ue({type:w,property:U(ae[0].replace(t,_)),value:Y?U(Y[0].replace(t,_)):_});return k(u),oe}}function R(){var ue=[];A(ue);for(var ae;ae=D();)ae!==!1&&(ue.push(ae),A(ue));return ue}return O(),R()}function U(P){return P?P.replace(h,_):_}return xp=I,xp}var X1;function o3(){if(X1)return Do;X1=1;var t=Do&&Do.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Do,"__esModule",{value:!0}),Do.default=n;const e=t(a3());function n(r,a){let l=null;if(!r||typeof r!="string")return l;const u=(0,e.default)(r),h=typeof a=="function";return u.forEach(m=>{if(m.type!=="declaration")return;const{property:p,value:v}=m;h?a(p,v,m):v&&(l=l||{},l[p]=v)}),l}return Do}var pu={},W1;function l3(){if(W1)return pu;W1=1,Object.defineProperty(pu,"__esModule",{value:!0}),pu.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,l=function(p){return!p||n.test(p)||t.test(p)},u=function(p,v){return v.toUpperCase()},h=function(p,v){return"".concat(v,"-")},m=function(p,v){return v===void 0&&(v={}),l(p)?p:(p=p.toLowerCase(),v.reactCompat?p=p.replace(a,h):p=p.replace(r,h),p.replace(e,u))};return pu.camelCase=m,pu}var gu,J1;function u3(){if(J1)return gu;J1=1;var t=gu&&gu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},e=t(o3()),n=l3();function r(a,l){var u={};return!a||typeof a!="string"||(0,e.default)(a,function(h,m){h&&m&&(u[(0,n.camelCase)(h,l)]=m)}),u}return r.default=r,gu=r,gu}var c3=u3();const h3=Tg(c3),$T=KT("end"),Sy=KT("start");function KT(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function f3(t){const e=Sy(t),n=$T(t);if(e&&n)return{start:e,end:n}}function Du(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Z1(t.position):"start"in t||"end"in t?Z1(t):"line"in t||"column"in t?mg(t):""}function mg(t){return eb(t&&t.line)+":"+eb(t&&t.column)}function Z1(t){return mg(t&&t.start)+"-"+mg(t&&t.end)}function eb(t){return t&&typeof t=="number"?t:1}class bn extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",l={},u=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof e=="string"?a=e:!l.cause&&e&&(u=!0,a=e.message,l.cause=e),!l.ruleId&&!l.source&&typeof r=="string"){const m=r.indexOf(":");m===-1?l.ruleId=r:(l.source=r.slice(0,m),l.ruleId=r.slice(m+1))}if(!l.place&&l.ancestors&&l.ancestors){const m=l.ancestors[l.ancestors.length-1];m&&(l.place=m.position)}const h=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=h?h.line:void 0,this.name=Du(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=u&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}bn.prototype.file="";bn.prototype.name="";bn.prototype.reason="";bn.prototype.message="";bn.prototype.stack="";bn.prototype.column=void 0;bn.prototype.line=void 0;bn.prototype.ancestors=void 0;bn.prototype.cause=void 0;bn.prototype.fatal=void 0;bn.prototype.place=void 0;bn.prototype.ruleId=void 0;bn.prototype.source=void 0;const Ay={}.hasOwnProperty,d3=new Map,m3=/[A-Z]/g,p3=new Set(["table","tbody","thead","tfoot","tr"]),g3=new Set(["td","th"]),YT="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function y3(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=S3(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=T3(n,e.jsx,e.jsxs)}const a={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Ty:r3,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},l=QT(a,t,void 0);return l&&typeof l!="string"?l:a.create(t,a.Fragment,{children:l||void 0},void 0)}function QT(t,e,n){if(e.type==="element")return v3(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return _3(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return b3(t,e,n);if(e.type==="mdxjsEsm")return x3(t,e);if(e.type==="root")return E3(t,e,n);if(e.type==="text")return w3(t,e)}function v3(t,e,n){const r=t.schema;let a=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=Ty,t.schema=a),t.ancestors.push(e);const l=WT(t,e.tagName,!1),u=A3(t,e);let h=Iy(t,e);return p3.has(e.tagName)&&(h=h.filter(function(m){return typeof m=="string"?!YM(m):!0})),XT(t,u,l,e),Cy(u,h),t.ancestors.pop(),t.schema=r,t.create(e,l,u,n)}function _3(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Yu(t,e.position)}function x3(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Yu(t,e.position)}function b3(t,e,n){const r=t.schema;let a=r;e.name==="svg"&&r.space==="html"&&(a=Ty,t.schema=a),t.ancestors.push(e);const l=e.name===null?t.Fragment:WT(t,e.name,!0),u=C3(t,e),h=Iy(t,e);return XT(t,u,l,e),Cy(u,h),t.ancestors.pop(),t.schema=r,t.create(e,l,u,n)}function E3(t,e,n){const r={};return Cy(r,Iy(t,e)),t.create(e,t.Fragment,r,n)}function w3(t,e){return e.value}function XT(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function Cy(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function T3(t,e,n){return r;function r(a,l,u,h){const p=Array.isArray(u.children)?n:e;return h?p(l,u,h):p(l,u)}}function S3(t,e){return n;function n(r,a,l,u){const h=Array.isArray(l.children),m=Sy(r);return e(a,l,u,h,{columnNumber:m?m.column-1:void 0,fileName:t,lineNumber:m?m.line:void 0},void 0)}}function A3(t,e){const n={};let r,a;for(a in e.properties)if(a!=="children"&&Ay.call(e.properties,a)){const l=I3(t,a,e.properties[a]);if(l){const[u,h]=l;t.tableCellAlignToStyle&&u==="align"&&typeof h=="string"&&g3.has(e.tagName)?r=h:n[u]=h}}if(r){const l=n.style||(n.style={});l[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function C3(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const l=r.data.estree.body[0];l.type;const u=l.expression;u.type;const h=u.properties[0];h.type,Object.assign(n,t.evaluater.evaluateExpression(h.argument))}else Yu(t,e.position);else{const a=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const h=r.value.data.estree.body[0];h.type,l=t.evaluater.evaluateExpression(h.expression)}else Yu(t,e.position);else l=r.value===null?!0:r.value;n[a]=l}return n}function Iy(t,e){const n=[];let r=-1;const a=t.passKeys?new Map:d3;for(;++r<e.children.length;){const l=e.children[r];let u;if(t.passKeys){const m=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(m){const p=a.get(m)||0;u=m+"-"+p,a.set(m,p+1)}}const h=QT(t,l,u);h!==void 0&&n.push(h)}return n}function I3(t,e,n){const r=t3(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?qM(n):s3(n)),r.property==="style"){let a=typeof n=="object"?n:N3(t,String(n));return t.stylePropertyNameCase==="css"&&(a=k3(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&r.space?JM[r.property]||r.property:r.attribute,n]}}function N3(t,e){try{return h3(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,a=new bn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=YT+"#cannot-parse-style-attribute",a}}function WT(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const a=e.split(".");let l=-1,u;for(;++l<a.length;){const h=G1(a[l])?{type:"Identifier",name:a[l]}:{type:"Literal",value:a[l]};u=u?{type:"MemberExpression",object:u,property:h,computed:!!(l&&h.type==="Literal"),optional:!1}:h}r=u}else r=G1(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const a=r.value;return Ay.call(t.components,a)?t.components[a]:a}if(t.evaluater)return t.evaluater.evaluateExpression(r);Yu(t)}function Yu(t,e){const n=new bn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=YT+"#cannot-handle-mdx-estrees-without-createevaluater",n}function k3(t){const e={};let n;for(n in t)Ay.call(t,n)&&(e[R3(n)]=t[n]);return e}function R3(t){let e=t.replace(m3,D3);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function D3(t){return"-"+t.toLowerCase()}const bp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},O3={};function Ny(t,e){const n=O3,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return JT(t,r,a)}function JT(t,e,n){if(M3(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return tb(t.children,e,n)}return Array.isArray(t)?tb(t,e,n):""}function tb(t,e,n){const r=[];let a=-1;for(;++a<t.length;)r[a]=JT(t[a],e,n);return r.join("")}function M3(t){return!!(t&&typeof t=="object")}const nb=document.createElement("i");function ky(t){const e="&"+t+";";nb.innerHTML=e;const n=nb.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Yn(t,e,n,r){const a=t.length;let l=0,u;if(e<0?e=-e>a?0:a+e:e=e>a?a:e,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);l<r.length;)u=r.slice(l,l+1e4),u.unshift(e,0),t.splice(...u),l+=1e4,e+=1e4}function ci(t,e){return t.length>0?(Yn(t,t.length,0,e),t):e}const ib={}.hasOwnProperty;function ZT(t){const e={};let n=-1;for(;++n<t.length;)j3(e,t[n]);return e}function j3(t,e){let n;for(n in e){const a=(ib.call(t,n)?t[n]:void 0)||(t[n]={}),l=e[n];let u;if(l)for(u in l){ib.call(a,u)||(a[u]=[]);const h=l[u];P3(a[u],Array.isArray(h)?h:h?[h]:[])}}}function P3(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Yn(t,0,0,r)}function eS(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Ii(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Tn=Xs(/[A-Za-z]/),_n=Xs(/[\dA-Za-z]/),L3=Xs(/[#-'*+\--9=?A-Z^-~]/);function Nf(t){return t!==null&&(t<32||t===127)}const pg=Xs(/\d/),V3=Xs(/[\dA-Fa-f]/),z3=Xs(/[!-/:-@[-`{-~]/);function Ee(t){return t!==null&&t<-2}function dt(t){return t!==null&&(t<0||t===32)}function Ue(t){return t===-2||t===-1||t===32}const td=Xs(new RegExp("\\p{P}|\\p{S}","u")),Va=Xs(/\s/);function Xs(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function cl(t){const e=[];let n=-1,r=0,a=0;for(;++n<t.length;){const l=t.charCodeAt(n);let u="";if(l===37&&_n(t.charCodeAt(n+1))&&_n(t.charCodeAt(n+2)))a=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(u=String.fromCharCode(l));else if(l>55295&&l<57344){const h=t.charCodeAt(n+1);l<56320&&h>56319&&h<57344?(u=String.fromCharCode(l,h),a=1):u=""}else u=String.fromCharCode(l);u&&(e.push(t.slice(r,n),encodeURIComponent(u)),r=n+a+1,u=""),a&&(n+=a,a=0)}return e.join("")+t.slice(r)}function Qe(t,e,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let l=0;return u;function u(m){return Ue(m)?(t.enter(n),h(m)):e(m)}function h(m){return Ue(m)&&l++<a?(t.consume(m),h):(t.exit(n),e(m))}}const U3={tokenize:B3};function B3(t){const e=t.attempt(this.parser.constructs.contentInitial,r,a);let n;return e;function r(h){if(h===null){t.consume(h);return}return t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),Qe(t,e,"linePrefix")}function a(h){return t.enter("paragraph"),l(h)}function l(h){const m=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=m),n=m,u(h)}function u(h){if(h===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(h);return}return Ee(h)?(t.consume(h),t.exit("chunkText"),l):(t.consume(h),u)}}const F3={tokenize:q3},rb={tokenize:H3};function q3(t){const e=this,n=[];let r=0,a,l,u;return h;function h(q){if(r<n.length){const ee=n[r];return e.containerState=ee[1],t.attempt(ee[0].continuation,m,p)(q)}return p(q)}function m(q){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,a&&F();const ee=e.events.length;let ce=ee,G;for(;ce--;)if(e.events[ce][0]==="exit"&&e.events[ce][1].type==="chunkFlow"){G=e.events[ce][1].end;break}z(r);let j=ee;for(;j<e.events.length;)e.events[j][1].end={...G},j++;return Yn(e.events,ce+1,0,e.events.slice(ee)),e.events.length=j,p(q)}return h(q)}function p(q){if(r===n.length){if(!a)return E(q);if(a.currentConstruct&&a.currentConstruct.concrete)return I(q);e.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(rb,v,_)(q)}function v(q){return a&&F(),z(r),E(q)}function _(q){return e.parser.lazy[e.now().line]=r!==n.length,u=e.now().offset,I(q)}function E(q){return e.containerState={},t.attempt(rb,w,I)(q)}function w(q){return r++,n.push([e.currentConstruct,e.containerState]),E(q)}function I(q){if(q===null){a&&F(),z(0),t.consume(q);return}return a=a||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:l}),U(q)}function U(q){if(q===null){P(t.exit("chunkFlow"),!0),z(0),t.consume(q);return}return Ee(q)?(t.consume(q),P(t.exit("chunkFlow")),r=0,e.interrupt=void 0,h):(t.consume(q),U)}function P(q,ee){const ce=e.sliceStream(q);if(ee&&ce.push(null),q.previous=l,l&&(l.next=q),l=q,a.defineSkip(q.start),a.write(ce),e.parser.lazy[q.start.line]){let G=a.events.length;for(;G--;)if(a.events[G][1].start.offset<u&&(!a.events[G][1].end||a.events[G][1].end.offset>u))return;const j=e.events.length;let k=j,O,A;for(;k--;)if(e.events[k][0]==="exit"&&e.events[k][1].type==="chunkFlow"){if(O){A=e.events[k][1].end;break}O=!0}for(z(r),G=j;G<e.events.length;)e.events[G][1].end={...A},G++;Yn(e.events,k+1,0,e.events.slice(j)),e.events.length=G}}function z(q){let ee=n.length;for(;ee-- >q;){const ce=n[ee];e.containerState=ce[1],ce[0].exit.call(e,t)}n.length=q}function F(){a.write([null]),l=void 0,a=void 0,e.containerState._closeFlow=void 0}}function H3(t,e,n){return Qe(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Zo(t){if(t===null||dt(t)||Va(t))return 1;if(td(t))return 2}function nd(t,e,n){const r=[];let a=-1;for(;++a<t.length;){const l=t[a].resolveAll;l&&!r.includes(l)&&(e=l(e,n),r.push(l))}return e}const gg={name:"attention",resolveAll:G3,tokenize:$3};function G3(t,e){let n=-1,r,a,l,u,h,m,p,v;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;m=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const _={...t[r][1].end},E={...t[n][1].start};sb(_,-m),sb(E,m),u={type:m>1?"strongSequence":"emphasisSequence",start:_,end:{...t[r][1].end}},h={type:m>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:E},l={type:m>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},a={type:m>1?"strong":"emphasis",start:{...u.start},end:{...h.end}},t[r][1].end={...u.start},t[n][1].start={...h.end},p=[],t[r][1].end.offset-t[r][1].start.offset&&(p=ci(p,[["enter",t[r][1],e],["exit",t[r][1],e]])),p=ci(p,[["enter",a,e],["enter",u,e],["exit",u,e],["enter",l,e]]),p=ci(p,nd(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),p=ci(p,[["exit",l,e],["enter",h,e],["exit",h,e],["exit",a,e]]),t[n][1].end.offset-t[n][1].start.offset?(v=2,p=ci(p,[["enter",t[n][1],e],["exit",t[n][1],e]])):v=0,Yn(t,r-1,n-r+3,p),n=r+p.length-v-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function $3(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Zo(r);let l;return u;function u(m){return l=m,t.enter("attentionSequence"),h(m)}function h(m){if(m===l)return t.consume(m),h;const p=t.exit("attentionSequence"),v=Zo(m),_=!v||v===2&&a||n.includes(m),E=!a||a===2&&v||n.includes(r);return p._open=!!(l===42?_:_&&(a||!E)),p._close=!!(l===42?E:E&&(v||!_)),e(m)}}function sb(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const K3={name:"autolink",tokenize:Y3};function Y3(t,e,n){let r=0;return a;function a(w){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),l}function l(w){return Tn(w)?(t.consume(w),u):w===64?n(w):p(w)}function u(w){return w===43||w===45||w===46||_n(w)?(r=1,h(w)):p(w)}function h(w){return w===58?(t.consume(w),r=0,m):(w===43||w===45||w===46||_n(w))&&r++<32?(t.consume(w),h):(r=0,p(w))}function m(w){return w===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):w===null||w===32||w===60||Nf(w)?n(w):(t.consume(w),m)}function p(w){return w===64?(t.consume(w),v):L3(w)?(t.consume(w),p):n(w)}function v(w){return _n(w)?_(w):n(w)}function _(w){return w===46?(t.consume(w),r=0,v):w===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):E(w)}function E(w){if((w===45||_n(w))&&r++<63){const I=w===45?E:_;return t.consume(w),I}return n(w)}}const hc={partial:!0,tokenize:Q3};function Q3(t,e,n){return r;function r(l){return Ue(l)?Qe(t,a,"linePrefix")(l):a(l)}function a(l){return l===null||Ee(l)?e(l):n(l)}}const tS={continuation:{tokenize:W3},exit:J3,name:"blockQuote",tokenize:X3};function X3(t,e,n){const r=this;return a;function a(u){if(u===62){const h=r.containerState;return h.open||(t.enter("blockQuote",{_container:!0}),h.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),l}return n(u)}function l(u){return Ue(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function W3(t,e,n){const r=this;return a;function a(u){return Ue(u)?Qe(t,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):l(u)}function l(u){return t.attempt(tS,e,n)(u)}}function J3(t){t.exit("blockQuote")}const nS={name:"characterEscape",tokenize:Z3};function Z3(t,e,n){return r;function r(l){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(l),t.exit("escapeMarker"),a}function a(l){return z3(l)?(t.enter("characterEscapeValue"),t.consume(l),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(l)}}const iS={name:"characterReference",tokenize:e5};function e5(t,e,n){const r=this;let a=0,l,u;return h;function h(_){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(_),t.exit("characterReferenceMarker"),m}function m(_){return _===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(_),t.exit("characterReferenceMarkerNumeric"),p):(t.enter("characterReferenceValue"),l=31,u=_n,v(_))}function p(_){return _===88||_===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(_),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),l=6,u=V3,v):(t.enter("characterReferenceValue"),l=7,u=pg,v(_))}function v(_){if(_===59&&a){const E=t.exit("characterReferenceValue");return u===_n&&!ky(r.sliceSerialize(E))?n(_):(t.enter("characterReferenceMarker"),t.consume(_),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(_)&&a++<l?(t.consume(_),v):n(_)}}const ab={partial:!0,tokenize:n5},ob={concrete:!0,name:"codeFenced",tokenize:t5};function t5(t,e,n){const r=this,a={partial:!0,tokenize:ce};let l=0,u=0,h;return m;function m(G){return p(G)}function p(G){const j=r.events[r.events.length-1];return l=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,h=G,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),v(G)}function v(G){return G===h?(u++,t.consume(G),v):u<3?n(G):(t.exit("codeFencedFenceSequence"),Ue(G)?Qe(t,_,"whitespace")(G):_(G))}function _(G){return G===null||Ee(G)?(t.exit("codeFencedFence"),r.interrupt?e(G):t.check(ab,U,ee)(G)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),E(G))}function E(G){return G===null||Ee(G)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),_(G)):Ue(G)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Qe(t,w,"whitespace")(G)):G===96&&G===h?n(G):(t.consume(G),E)}function w(G){return G===null||Ee(G)?_(G):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),I(G))}function I(G){return G===null||Ee(G)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),_(G)):G===96&&G===h?n(G):(t.consume(G),I)}function U(G){return t.attempt(a,ee,P)(G)}function P(G){return t.enter("lineEnding"),t.consume(G),t.exit("lineEnding"),z}function z(G){return l>0&&Ue(G)?Qe(t,F,"linePrefix",l+1)(G):F(G)}function F(G){return G===null||Ee(G)?t.check(ab,U,ee)(G):(t.enter("codeFlowValue"),q(G))}function q(G){return G===null||Ee(G)?(t.exit("codeFlowValue"),F(G)):(t.consume(G),q)}function ee(G){return t.exit("codeFenced"),e(G)}function ce(G,j,k){let O=0;return A;function A(ae){return G.enter("lineEnding"),G.consume(ae),G.exit("lineEnding"),C}function C(ae){return G.enter("codeFencedFence"),Ue(ae)?Qe(G,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ae):D(ae)}function D(ae){return ae===h?(G.enter("codeFencedFenceSequence"),R(ae)):k(ae)}function R(ae){return ae===h?(O++,G.consume(ae),R):O>=u?(G.exit("codeFencedFenceSequence"),Ue(ae)?Qe(G,ue,"whitespace")(ae):ue(ae)):k(ae)}function ue(ae){return ae===null||Ee(ae)?(G.exit("codeFencedFence"),j(ae)):k(ae)}}}function n5(t,e,n){const r=this;return a;function a(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),l)}function l(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}const Ep={name:"codeIndented",tokenize:r5},i5={partial:!0,tokenize:s5};function r5(t,e,n){const r=this;return a;function a(p){return t.enter("codeIndented"),Qe(t,l,"linePrefix",5)(p)}function l(p){const v=r.events[r.events.length-1];return v&&v[1].type==="linePrefix"&&v[2].sliceSerialize(v[1],!0).length>=4?u(p):n(p)}function u(p){return p===null?m(p):Ee(p)?t.attempt(i5,u,m)(p):(t.enter("codeFlowValue"),h(p))}function h(p){return p===null||Ee(p)?(t.exit("codeFlowValue"),u(p)):(t.consume(p),h)}function m(p){return t.exit("codeIndented"),e(p)}}function s5(t,e,n){const r=this;return a;function a(u){return r.parser.lazy[r.now().line]?n(u):Ee(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),a):Qe(t,l,"linePrefix",5)(u)}function l(u){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):Ee(u)?a(u):n(u)}}const a5={name:"codeText",previous:l5,resolve:o5,tokenize:u5};function o5(t){let e=t.length-4,n=3,r,a;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)a===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(a=r):(r===e||t[r][1].type==="lineEnding")&&(t[a][1].type="codeTextData",r!==a+2&&(t[a][1].end=t[r-1][1].end,t.splice(a+2,r-a-2),e-=r-a-2,r=a+2),a=void 0);return t}function l5(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function u5(t,e,n){let r=0,a,l;return u;function u(_){return t.enter("codeText"),t.enter("codeTextSequence"),h(_)}function h(_){return _===96?(t.consume(_),r++,h):(t.exit("codeTextSequence"),m(_))}function m(_){return _===null?n(_):_===32?(t.enter("space"),t.consume(_),t.exit("space"),m):_===96?(l=t.enter("codeTextSequence"),a=0,v(_)):Ee(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),m):(t.enter("codeTextData"),p(_))}function p(_){return _===null||_===32||_===96||Ee(_)?(t.exit("codeTextData"),m(_)):(t.consume(_),p)}function v(_){return _===96?(t.consume(_),a++,v):a===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(_)):(l.type="codeTextData",p(_))}}class c5{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const a=n||0;this.setCursor(Math.trunc(e));const l=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&yu(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),yu(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),yu(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);yu(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);yu(this.left,n.reverse())}}}function yu(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function rS(t){const e={};let n=-1,r,a,l,u,h,m,p;const v=new c5(t);for(;++n<v.length;){for(;n in e;)n=e[n];if(r=v.get(n),n&&r[1].type==="chunkFlow"&&v.get(n-1)[1].type==="listItemPrefix"&&(m=r[1]._tokenizer.events,l=0,l<m.length&&m[l][1].type==="lineEndingBlank"&&(l+=2),l<m.length&&m[l][1].type==="content"))for(;++l<m.length&&m[l][1].type!=="content";)m[l][1].type==="chunkText"&&(m[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,h5(v,n)),n=e[n],p=!0);else if(r[1]._container){for(l=n,a=void 0;l--;)if(u=v.get(l),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(a&&(v.get(a)[1].type="lineEndingBlank"),u[1].type="lineEnding",a=l);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;a&&(r[1].end={...v.get(a)[1].start},h=v.slice(a,n),h.unshift(r),v.splice(a,n-a+1,h))}}return Yn(t,0,Number.POSITIVE_INFINITY,v.slice(0)),!p}function h5(t,e){const n=t.get(e)[1],r=t.get(e)[2];let a=e-1;const l=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const h=u.events,m=[],p={};let v,_,E=-1,w=n,I=0,U=0;const P=[U];for(;w;){for(;t.get(++a)[1]!==w;);l.push(a),w._tokenizer||(v=r.sliceStream(w),w.next||v.push(null),_&&u.defineSkip(w.start),w._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(v),w._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),_=w,w=w.next}for(w=n;++E<h.length;)h[E][0]==="exit"&&h[E-1][0]==="enter"&&h[E][1].type===h[E-1][1].type&&h[E][1].start.line!==h[E][1].end.line&&(U=E+1,P.push(U),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(u.events=[],w?(w._tokenizer=void 0,w.previous=void 0):P.pop(),E=P.length;E--;){const z=h.slice(P[E],P[E+1]),F=l.pop();m.push([F,F+z.length-1]),t.splice(F,2,z)}for(m.reverse(),E=-1;++E<m.length;)p[I+m[E][0]]=I+m[E][1],I+=m[E][1]-m[E][0]-1;return p}const f5={resolve:m5,tokenize:p5},d5={partial:!0,tokenize:g5};function m5(t){return rS(t),t}function p5(t,e){let n;return r;function r(h){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),a(h)}function a(h){return h===null?l(h):Ee(h)?t.check(d5,u,l)(h):(t.consume(h),a)}function l(h){return t.exit("chunkContent"),t.exit("content"),e(h)}function u(h){return t.consume(h),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function g5(t,e,n){const r=this;return a;function a(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),Qe(t,l,"linePrefix")}function l(u){if(u===null||Ee(u))return n(u);const h=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):t.interrupt(r.parser.constructs.flow,n,e)(u)}}function sS(t,e,n,r,a,l,u,h,m){const p=m||Number.POSITIVE_INFINITY;let v=0;return _;function _(z){return z===60?(t.enter(r),t.enter(a),t.enter(l),t.consume(z),t.exit(l),E):z===null||z===32||z===41||Nf(z)?n(z):(t.enter(r),t.enter(u),t.enter(h),t.enter("chunkString",{contentType:"string"}),U(z))}function E(z){return z===62?(t.enter(l),t.consume(z),t.exit(l),t.exit(a),t.exit(r),e):(t.enter(h),t.enter("chunkString",{contentType:"string"}),w(z))}function w(z){return z===62?(t.exit("chunkString"),t.exit(h),E(z)):z===null||z===60||Ee(z)?n(z):(t.consume(z),z===92?I:w)}function I(z){return z===60||z===62||z===92?(t.consume(z),w):w(z)}function U(z){return!v&&(z===null||z===41||dt(z))?(t.exit("chunkString"),t.exit(h),t.exit(u),t.exit(r),e(z)):v<p&&z===40?(t.consume(z),v++,U):z===41?(t.consume(z),v--,U):z===null||z===32||z===40||Nf(z)?n(z):(t.consume(z),z===92?P:U)}function P(z){return z===40||z===41||z===92?(t.consume(z),U):U(z)}}function aS(t,e,n,r,a,l){const u=this;let h=0,m;return p;function p(w){return t.enter(r),t.enter(a),t.consume(w),t.exit(a),t.enter(l),v}function v(w){return h>999||w===null||w===91||w===93&&!m||w===94&&!h&&"_hiddenFootnoteSupport"in u.parser.constructs?n(w):w===93?(t.exit(l),t.enter(a),t.consume(w),t.exit(a),t.exit(r),e):Ee(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),v):(t.enter("chunkString",{contentType:"string"}),_(w))}function _(w){return w===null||w===91||w===93||Ee(w)||h++>999?(t.exit("chunkString"),v(w)):(t.consume(w),m||(m=!Ue(w)),w===92?E:_)}function E(w){return w===91||w===92||w===93?(t.consume(w),h++,_):_(w)}}function oS(t,e,n,r,a,l){let u;return h;function h(E){return E===34||E===39||E===40?(t.enter(r),t.enter(a),t.consume(E),t.exit(a),u=E===40?41:E,m):n(E)}function m(E){return E===u?(t.enter(a),t.consume(E),t.exit(a),t.exit(r),e):(t.enter(l),p(E))}function p(E){return E===u?(t.exit(l),m(u)):E===null?n(E):Ee(E)?(t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),Qe(t,p,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),v(E))}function v(E){return E===u||E===null||Ee(E)?(t.exit("chunkString"),p(E)):(t.consume(E),E===92?_:v)}function _(E){return E===u||E===92?(t.consume(E),v):v(E)}}function Ou(t,e){let n;return r;function r(a){return Ee(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),n=!0,r):Ue(a)?Qe(t,r,n?"linePrefix":"lineSuffix")(a):e(a)}}const y5={name:"definition",tokenize:_5},v5={partial:!0,tokenize:x5};function _5(t,e,n){const r=this;let a;return l;function l(w){return t.enter("definition"),u(w)}function u(w){return aS.call(r,t,h,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function h(w){return a=Ii(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),m):n(w)}function m(w){return dt(w)?Ou(t,p)(w):p(w)}function p(w){return sS(t,v,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function v(w){return t.attempt(v5,_,_)(w)}function _(w){return Ue(w)?Qe(t,E,"whitespace")(w):E(w)}function E(w){return w===null||Ee(w)?(t.exit("definition"),r.parser.defined.push(a),e(w)):n(w)}}function x5(t,e,n){return r;function r(h){return dt(h)?Ou(t,a)(h):n(h)}function a(h){return oS(t,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function l(h){return Ue(h)?Qe(t,u,"whitespace")(h):u(h)}function u(h){return h===null||Ee(h)?e(h):n(h)}}const b5={name:"hardBreakEscape",tokenize:E5};function E5(t,e,n){return r;function r(l){return t.enter("hardBreakEscape"),t.consume(l),a}function a(l){return Ee(l)?(t.exit("hardBreakEscape"),e(l)):n(l)}}const w5={name:"headingAtx",resolve:T5,tokenize:S5};function T5(t,e){let n=t.length-2,r=3,a,l;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},l={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Yn(t,r,n-r+1,[["enter",a,e],["enter",l,e],["exit",l,e],["exit",a,e]])),t}function S5(t,e,n){let r=0;return a;function a(v){return t.enter("atxHeading"),l(v)}function l(v){return t.enter("atxHeadingSequence"),u(v)}function u(v){return v===35&&r++<6?(t.consume(v),u):v===null||dt(v)?(t.exit("atxHeadingSequence"),h(v)):n(v)}function h(v){return v===35?(t.enter("atxHeadingSequence"),m(v)):v===null||Ee(v)?(t.exit("atxHeading"),e(v)):Ue(v)?Qe(t,h,"whitespace")(v):(t.enter("atxHeadingText"),p(v))}function m(v){return v===35?(t.consume(v),m):(t.exit("atxHeadingSequence"),h(v))}function p(v){return v===null||v===35||dt(v)?(t.exit("atxHeadingText"),h(v)):(t.consume(v),p)}}const A5=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],lb=["pre","script","style","textarea"],C5={concrete:!0,name:"htmlFlow",resolveTo:k5,tokenize:R5},I5={partial:!0,tokenize:O5},N5={partial:!0,tokenize:D5};function k5(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function R5(t,e,n){const r=this;let a,l,u,h,m;return p;function p(M){return v(M)}function v(M){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(M),_}function _(M){return M===33?(t.consume(M),E):M===47?(t.consume(M),l=!0,U):M===63?(t.consume(M),a=3,r.interrupt?e:L):Tn(M)?(t.consume(M),u=String.fromCharCode(M),P):n(M)}function E(M){return M===45?(t.consume(M),a=2,w):M===91?(t.consume(M),a=5,h=0,I):Tn(M)?(t.consume(M),a=4,r.interrupt?e:L):n(M)}function w(M){return M===45?(t.consume(M),r.interrupt?e:L):n(M)}function I(M){const Ne="CDATA[";return M===Ne.charCodeAt(h++)?(t.consume(M),h===Ne.length?r.interrupt?e:D:I):n(M)}function U(M){return Tn(M)?(t.consume(M),u=String.fromCharCode(M),P):n(M)}function P(M){if(M===null||M===47||M===62||dt(M)){const Ne=M===47,tt=u.toLowerCase();return!Ne&&!l&&lb.includes(tt)?(a=1,r.interrupt?e(M):D(M)):A5.includes(u.toLowerCase())?(a=6,Ne?(t.consume(M),z):r.interrupt?e(M):D(M)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(M):l?F(M):q(M))}return M===45||_n(M)?(t.consume(M),u+=String.fromCharCode(M),P):n(M)}function z(M){return M===62?(t.consume(M),r.interrupt?e:D):n(M)}function F(M){return Ue(M)?(t.consume(M),F):A(M)}function q(M){return M===47?(t.consume(M),A):M===58||M===95||Tn(M)?(t.consume(M),ee):Ue(M)?(t.consume(M),q):A(M)}function ee(M){return M===45||M===46||M===58||M===95||_n(M)?(t.consume(M),ee):ce(M)}function ce(M){return M===61?(t.consume(M),G):Ue(M)?(t.consume(M),ce):q(M)}function G(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(t.consume(M),m=M,j):Ue(M)?(t.consume(M),G):k(M)}function j(M){return M===m?(t.consume(M),m=null,O):M===null||Ee(M)?n(M):(t.consume(M),j)}function k(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||dt(M)?ce(M):(t.consume(M),k)}function O(M){return M===47||M===62||Ue(M)?q(M):n(M)}function A(M){return M===62?(t.consume(M),C):n(M)}function C(M){return M===null||Ee(M)?D(M):Ue(M)?(t.consume(M),C):n(M)}function D(M){return M===45&&a===2?(t.consume(M),Y):M===60&&a===1?(t.consume(M),oe):M===62&&a===4?(t.consume(M),We):M===63&&a===3?(t.consume(M),L):M===93&&a===5?(t.consume(M),Re):Ee(M)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(I5,Le,R)(M)):M===null||Ee(M)?(t.exit("htmlFlowData"),R(M)):(t.consume(M),D)}function R(M){return t.check(N5,ue,Le)(M)}function ue(M){return t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),ae}function ae(M){return M===null||Ee(M)?R(M):(t.enter("htmlFlowData"),D(M))}function Y(M){return M===45?(t.consume(M),L):D(M)}function oe(M){return M===47?(t.consume(M),u="",me):D(M)}function me(M){if(M===62){const Ne=u.toLowerCase();return lb.includes(Ne)?(t.consume(M),We):D(M)}return Tn(M)&&u.length<8?(t.consume(M),u+=String.fromCharCode(M),me):D(M)}function Re(M){return M===93?(t.consume(M),L):D(M)}function L(M){return M===62?(t.consume(M),We):M===45&&a===2?(t.consume(M),L):D(M)}function We(M){return M===null||Ee(M)?(t.exit("htmlFlowData"),Le(M)):(t.consume(M),We)}function Le(M){return t.exit("htmlFlow"),e(M)}}function D5(t,e,n){const r=this;return a;function a(u){return Ee(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),l):n(u)}function l(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}function O5(t,e,n){return r;function r(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(hc,e,n)}}const M5={name:"htmlText",tokenize:j5};function j5(t,e,n){const r=this;let a,l,u;return h;function h(L){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(L),m}function m(L){return L===33?(t.consume(L),p):L===47?(t.consume(L),ce):L===63?(t.consume(L),q):Tn(L)?(t.consume(L),k):n(L)}function p(L){return L===45?(t.consume(L),v):L===91?(t.consume(L),l=0,I):Tn(L)?(t.consume(L),F):n(L)}function v(L){return L===45?(t.consume(L),w):n(L)}function _(L){return L===null?n(L):L===45?(t.consume(L),E):Ee(L)?(u=_,oe(L)):(t.consume(L),_)}function E(L){return L===45?(t.consume(L),w):_(L)}function w(L){return L===62?Y(L):L===45?E(L):_(L)}function I(L){const We="CDATA[";return L===We.charCodeAt(l++)?(t.consume(L),l===We.length?U:I):n(L)}function U(L){return L===null?n(L):L===93?(t.consume(L),P):Ee(L)?(u=U,oe(L)):(t.consume(L),U)}function P(L){return L===93?(t.consume(L),z):U(L)}function z(L){return L===62?Y(L):L===93?(t.consume(L),z):U(L)}function F(L){return L===null||L===62?Y(L):Ee(L)?(u=F,oe(L)):(t.consume(L),F)}function q(L){return L===null?n(L):L===63?(t.consume(L),ee):Ee(L)?(u=q,oe(L)):(t.consume(L),q)}function ee(L){return L===62?Y(L):q(L)}function ce(L){return Tn(L)?(t.consume(L),G):n(L)}function G(L){return L===45||_n(L)?(t.consume(L),G):j(L)}function j(L){return Ee(L)?(u=j,oe(L)):Ue(L)?(t.consume(L),j):Y(L)}function k(L){return L===45||_n(L)?(t.consume(L),k):L===47||L===62||dt(L)?O(L):n(L)}function O(L){return L===47?(t.consume(L),Y):L===58||L===95||Tn(L)?(t.consume(L),A):Ee(L)?(u=O,oe(L)):Ue(L)?(t.consume(L),O):Y(L)}function A(L){return L===45||L===46||L===58||L===95||_n(L)?(t.consume(L),A):C(L)}function C(L){return L===61?(t.consume(L),D):Ee(L)?(u=C,oe(L)):Ue(L)?(t.consume(L),C):O(L)}function D(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(t.consume(L),a=L,R):Ee(L)?(u=D,oe(L)):Ue(L)?(t.consume(L),D):(t.consume(L),ue)}function R(L){return L===a?(t.consume(L),a=void 0,ae):L===null?n(L):Ee(L)?(u=R,oe(L)):(t.consume(L),R)}function ue(L){return L===null||L===34||L===39||L===60||L===61||L===96?n(L):L===47||L===62||dt(L)?O(L):(t.consume(L),ue)}function ae(L){return L===47||L===62||dt(L)?O(L):n(L)}function Y(L){return L===62?(t.consume(L),t.exit("htmlTextData"),t.exit("htmlText"),e):n(L)}function oe(L){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),me}function me(L){return Ue(L)?Qe(t,Re,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):Re(L)}function Re(L){return t.enter("htmlTextData"),u(L)}}const Ry={name:"labelEnd",resolveAll:z5,resolveTo:U5,tokenize:B5},P5={tokenize:F5},L5={tokenize:q5},V5={tokenize:H5};function z5(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",e+=a}}return t.length!==n.length&&Yn(t,0,t.length,n),t}function U5(t,e){let n=t.length,r=0,a,l,u,h;for(;n--;)if(a=t[n][1],l){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(l=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(u=n);const m={type:t[l][1].type==="labelLink"?"link":"image",start:{...t[l][1].start},end:{...t[t.length-1][1].end}},p={type:"label",start:{...t[l][1].start},end:{...t[u][1].end}},v={type:"labelText",start:{...t[l+r+2][1].end},end:{...t[u-2][1].start}};return h=[["enter",m,e],["enter",p,e]],h=ci(h,t.slice(l+1,l+r+3)),h=ci(h,[["enter",v,e]]),h=ci(h,nd(e.parser.constructs.insideSpan.null,t.slice(l+r+4,u-3),e)),h=ci(h,[["exit",v,e],t[u-2],t[u-1],["exit",p,e]]),h=ci(h,t.slice(u+1)),h=ci(h,[["exit",m,e]]),Yn(t,l,t.length,h),t}function B5(t,e,n){const r=this;let a=r.events.length,l,u;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){l=r.events[a][1];break}return h;function h(E){return l?l._inactive?_(E):(u=r.parser.defined.includes(Ii(r.sliceSerialize({start:l.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(E),t.exit("labelMarker"),t.exit("labelEnd"),m):n(E)}function m(E){return E===40?t.attempt(P5,v,u?v:_)(E):E===91?t.attempt(L5,v,u?p:_)(E):u?v(E):_(E)}function p(E){return t.attempt(V5,v,_)(E)}function v(E){return e(E)}function _(E){return l._balanced=!0,n(E)}}function F5(t,e,n){return r;function r(_){return t.enter("resource"),t.enter("resourceMarker"),t.consume(_),t.exit("resourceMarker"),a}function a(_){return dt(_)?Ou(t,l)(_):l(_)}function l(_){return _===41?v(_):sS(t,u,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(_)}function u(_){return dt(_)?Ou(t,m)(_):v(_)}function h(_){return n(_)}function m(_){return _===34||_===39||_===40?oS(t,p,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(_):v(_)}function p(_){return dt(_)?Ou(t,v)(_):v(_)}function v(_){return _===41?(t.enter("resourceMarker"),t.consume(_),t.exit("resourceMarker"),t.exit("resource"),e):n(_)}}function q5(t,e,n){const r=this;return a;function a(h){return aS.call(r,t,l,u,"reference","referenceMarker","referenceString")(h)}function l(h){return r.parser.defined.includes(Ii(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(h):n(h)}function u(h){return n(h)}}function H5(t,e,n){return r;function r(l){return t.enter("reference"),t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),a}function a(l){return l===93?(t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),t.exit("reference"),e):n(l)}}const G5={name:"labelStartImage",resolveAll:Ry.resolveAll,tokenize:$5};function $5(t,e,n){const r=this;return a;function a(h){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(h),t.exit("labelImageMarker"),l}function l(h){return h===91?(t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelImage"),u):n(h)}function u(h){return h===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(h):e(h)}}const K5={name:"labelStartLink",resolveAll:Ry.resolveAll,tokenize:Y5};function Y5(t,e,n){const r=this;return a;function a(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),l}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const wp={name:"lineEnding",tokenize:Q5};function Q5(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Qe(t,e,"linePrefix")}}const af={name:"thematicBreak",tokenize:X5};function X5(t,e,n){let r=0,a;return l;function l(p){return t.enter("thematicBreak"),u(p)}function u(p){return a=p,h(p)}function h(p){return p===a?(t.enter("thematicBreakSequence"),m(p)):r>=3&&(p===null||Ee(p))?(t.exit("thematicBreak"),e(p)):n(p)}function m(p){return p===a?(t.consume(p),r++,m):(t.exit("thematicBreakSequence"),Ue(p)?Qe(t,h,"whitespace")(p):h(p))}}const Dn={continuation:{tokenize:ej},exit:nj,name:"list",tokenize:Z5},W5={partial:!0,tokenize:ij},J5={partial:!0,tokenize:tj};function Z5(t,e,n){const r=this,a=r.events[r.events.length-1];let l=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,u=0;return h;function h(w){const I=r.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(I==="listUnordered"?!r.containerState.marker||w===r.containerState.marker:pg(w)){if(r.containerState.type||(r.containerState.type=I,t.enter(I,{_container:!0})),I==="listUnordered")return t.enter("listItemPrefix"),w===42||w===45?t.check(af,n,p)(w):p(w);if(!r.interrupt||w===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),m(w)}return n(w)}function m(w){return pg(w)&&++u<10?(t.consume(w),m):(!r.interrupt||u<2)&&(r.containerState.marker?w===r.containerState.marker:w===41||w===46)?(t.exit("listItemValue"),p(w)):n(w)}function p(w){return t.enter("listItemMarker"),t.consume(w),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||w,t.check(hc,r.interrupt?n:v,t.attempt(W5,E,_))}function v(w){return r.containerState.initialBlankLine=!0,l++,E(w)}function _(w){return Ue(w)?(t.enter("listItemPrefixWhitespace"),t.consume(w),t.exit("listItemPrefixWhitespace"),E):n(w)}function E(w){return r.containerState.size=l+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(w)}}function ej(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(hc,a,l);function a(h){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Qe(t,e,"listItemIndent",r.containerState.size+1)(h)}function l(h){return r.containerState.furtherBlankLines||!Ue(h)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(h)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(J5,e,u)(h))}function u(h){return r.containerState._closeFlow=!0,r.interrupt=void 0,Qe(t,t.attempt(Dn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function tj(t,e,n){const r=this;return Qe(t,a,"listItemIndent",r.containerState.size+1);function a(l){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?e(l):n(l)}}function nj(t){t.exit(this.containerState.type)}function ij(t,e,n){const r=this;return Qe(t,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(l){const u=r.events[r.events.length-1];return!Ue(l)&&u&&u[1].type==="listItemPrefixWhitespace"?e(l):n(l)}}const ub={name:"setextUnderline",resolveTo:rj,tokenize:sj};function rj(t,e){let n=t.length,r,a,l;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(a=n)}else t[n][1].type==="content"&&t.splice(n,1),!l&&t[n][1].type==="definition"&&(l=n);const u={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[a][1].type="setextHeadingText",l?(t.splice(a,0,["enter",u,e]),t.splice(l+1,0,["exit",t[r][1],e]),t[r][1].end={...t[l][1].end}):t[r][1]=u,t.push(["exit",u,e]),t}function sj(t,e,n){const r=this;let a;return l;function l(p){let v=r.events.length,_;for(;v--;)if(r.events[v][1].type!=="lineEnding"&&r.events[v][1].type!=="linePrefix"&&r.events[v][1].type!=="content"){_=r.events[v][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||_)?(t.enter("setextHeadingLine"),a=p,u(p)):n(p)}function u(p){return t.enter("setextHeadingLineSequence"),h(p)}function h(p){return p===a?(t.consume(p),h):(t.exit("setextHeadingLineSequence"),Ue(p)?Qe(t,m,"lineSuffix")(p):m(p))}function m(p){return p===null||Ee(p)?(t.exit("setextHeadingLine"),e(p)):n(p)}}const aj={tokenize:oj};function oj(t){const e=this,n=t.attempt(hc,r,t.attempt(this.parser.constructs.flowInitial,a,Qe(t,t.attempt(this.parser.constructs.flow,a,t.attempt(f5,a)),"linePrefix")));return n;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEndingBlank"),t.consume(l),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function a(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const lj={resolveAll:uS()},uj=lS("string"),cj=lS("text");function lS(t){return{resolveAll:uS(t==="text"?hj:void 0),tokenize:e};function e(n){const r=this,a=this.parser.constructs[t],l=n.attempt(a,u,h);return u;function u(v){return p(v)?l(v):h(v)}function h(v){if(v===null){n.consume(v);return}return n.enter("data"),n.consume(v),m}function m(v){return p(v)?(n.exit("data"),l(v)):(n.consume(v),m)}function p(v){if(v===null)return!0;const _=a[v];let E=-1;if(_)for(;++E<_.length;){const w=_[E];if(!w.previous||w.previous.call(r,r.previous))return!0}return!1}}}function uS(t){return e;function e(n,r){let a=-1,l;for(;++a<=n.length;)l===void 0?n[a]&&n[a][1].type==="data"&&(l=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==l+2&&(n[l][1].end=n[a-1][1].end,n.splice(l+2,a-l-2),a=l+2),l=void 0);return t?t(n,r):n}}function hj(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],a=e.sliceStream(r);let l=a.length,u=-1,h=0,m;for(;l--;){const p=a[l];if(typeof p=="string"){for(u=p.length;p.charCodeAt(u-1)===32;)h++,u--;if(u)break;u=-1}else if(p===-2)m=!0,h++;else if(p!==-1){l++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(h=0),h){const p={type:n===t.length||m||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?u:r.start._bufferIndex+u,_index:r.start._index+l,line:r.end.line,column:r.end.column-h,offset:r.end.offset-h},end:{...r.end}};r.end={...p.start},r.start.offset===r.end.offset?Object.assign(r,p):(t.splice(n,0,["enter",p,e],["exit",p,e]),n+=2)}n++}return t}const fj={42:Dn,43:Dn,45:Dn,48:Dn,49:Dn,50:Dn,51:Dn,52:Dn,53:Dn,54:Dn,55:Dn,56:Dn,57:Dn,62:tS},dj={91:y5},mj={[-2]:Ep,[-1]:Ep,32:Ep},pj={35:w5,42:af,45:[ub,af],60:C5,61:ub,95:af,96:ob,126:ob},gj={38:iS,92:nS},yj={[-5]:wp,[-4]:wp,[-3]:wp,33:G5,38:iS,42:gg,60:[K3,M5],91:K5,92:[b5,nS],93:Ry,95:gg,96:a5},vj={null:[gg,lj]},_j={null:[42,95]},xj={null:[]},bj=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:_j,contentInitial:dj,disable:xj,document:fj,flow:pj,flowInitial:mj,insideSpan:vj,string:gj,text:yj},Symbol.toStringTag,{value:"Module"}));function Ej(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},l=[];let u=[],h=[];const m={attempt:j(ce),check:j(G),consume:F,enter:q,exit:ee,interrupt:j(G,{interrupt:!0})},p={code:null,containerState:{},defineSkip:U,events:[],now:I,parser:t,previous:null,sliceSerialize:E,sliceStream:w,write:_};let v=e.tokenize.call(p,m);return e.resolveAll&&l.push(e),p;function _(C){return u=ci(u,C),P(),u[u.length-1]!==null?[]:(k(e,0),p.events=nd(l,p.events,p),p.events)}function E(C,D){return Tj(w(C),D)}function w(C){return wj(u,C)}function I(){const{_bufferIndex:C,_index:D,line:R,column:ue,offset:ae}=r;return{_bufferIndex:C,_index:D,line:R,column:ue,offset:ae}}function U(C){a[C.line]=C.column,A()}function P(){let C;for(;r._index<u.length;){const D=u[r._index];if(typeof D=="string")for(C=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===C&&r._bufferIndex<D.length;)z(D.charCodeAt(r._bufferIndex));else z(D)}}function z(C){v=v(C)}function F(C){Ee(C)?(r.line++,r.column=1,r.offset+=C===-3?2:1,A()):C!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),p.previous=C}function q(C,D){const R=D||{};return R.type=C,R.start=I(),p.events.push(["enter",R,p]),h.push(R),R}function ee(C){const D=h.pop();return D.end=I(),p.events.push(["exit",D,p]),D}function ce(C,D){k(C,D.from)}function G(C,D){D.restore()}function j(C,D){return R;function R(ue,ae,Y){let oe,me,Re,L;return Array.isArray(ue)?Le(ue):"tokenize"in ue?Le([ue]):We(ue);function We(Xe){return vt;function vt(At){const bt=At!==null&&Xe[At],Qn=At!==null&&Xe.null,di=[...Array.isArray(bt)?bt:bt?[bt]:[],...Array.isArray(Qn)?Qn:Qn?[Qn]:[]];return Le(di)(At)}}function Le(Xe){return oe=Xe,me=0,Xe.length===0?Y:M(Xe[me])}function M(Xe){return vt;function vt(At){return L=O(),Re=Xe,Xe.partial||(p.currentConstruct=Xe),Xe.name&&p.parser.constructs.disable.null.includes(Xe.name)?tt():Xe.tokenize.call(D?Object.assign(Object.create(p),D):p,m,Ne,tt)(At)}}function Ne(Xe){return C(Re,L),ae}function tt(Xe){return L.restore(),++me<oe.length?M(oe[me]):Y}}}function k(C,D){C.resolveAll&&!l.includes(C)&&l.push(C),C.resolve&&Yn(p.events,D,p.events.length-D,C.resolve(p.events.slice(D),p)),C.resolveTo&&(p.events=C.resolveTo(p.events,p))}function O(){const C=I(),D=p.previous,R=p.currentConstruct,ue=p.events.length,ae=Array.from(h);return{from:ue,restore:Y};function Y(){r=C,p.previous=D,p.currentConstruct=R,p.events.length=ue,h=ae,A()}}function A(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function wj(t,e){const n=e.start._index,r=e.start._bufferIndex,a=e.end._index,l=e.end._bufferIndex;let u;if(n===a)u=[t[n].slice(r,l)];else{if(u=t.slice(n,a),r>-1){const h=u[0];typeof h=="string"?u[0]=h.slice(r):u.shift()}l>0&&u.push(t[a].slice(0,l))}return u}function Tj(t,e){let n=-1;const r=[];let a;for(;++n<t.length;){const l=t[n];let u;if(typeof l=="string")u=l;else switch(l){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&a)continue;u=" ";break}default:u=String.fromCharCode(l)}a=l===-2,r.push(u)}return r.join("")}function Sj(t){const r={constructs:ZT([bj,...(t||{}).extensions||[]]),content:a(U3),defined:[],document:a(F3),flow:a(aj),lazy:{},string:a(uj),text:a(cj)};return r;function a(l){return u;function u(h){return Ej(r,l,h)}}}function Aj(t){for(;!rS(t););return t}const cb=/[\0\t\n\r]/g;function Cj(){let t=1,e="",n=!0,r;return a;function a(l,u,h){const m=[];let p,v,_,E,w;for(l=e+(typeof l=="string"?l.toString():new TextDecoder(u||void 0).decode(l)),_=0,e="",n&&(l.charCodeAt(0)===65279&&_++,n=void 0);_<l.length;){if(cb.lastIndex=_,p=cb.exec(l),E=p&&p.index!==void 0?p.index:l.length,w=l.charCodeAt(E),!p){e=l.slice(_);break}if(w===10&&_===E&&r)m.push(-3),r=void 0;else switch(r&&(m.push(-5),r=void 0),_<E&&(m.push(l.slice(_,E)),t+=E-_),w){case 0:{m.push(65533),t++;break}case 9:{for(v=Math.ceil(t/4)*4,m.push(-2);t++<v;)m.push(-1);break}case 10:{m.push(-4),t=1;break}default:r=!0,t=1}_=E+1}return h&&(r&&m.push(-5),e&&m.push(e),m.push(null)),m}}const Ij=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Nj(t){return t.replace(Ij,kj)}function kj(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),l=a===120||a===88;return eS(n.slice(l?2:1),l?16:10)}return ky(n)||t}const cS={}.hasOwnProperty;function Rj(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Dj(n)(Aj(Sj(n).document().write(Cj()(t,e,!0))))}function Dj(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Et),autolinkProtocol:O,autolinkEmail:O,atxHeading:l(Yr),blockQuote:l(Qn),characterEscape:O,characterReference:O,codeFenced:l(di),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(di,u),codeText:l($r,u),codeTextData:O,data:O,codeFlowValue:O,definition:l(Kr),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(Xn),hardBreakEscape:l(Ni),hardBreakTrailing:l(Ni),htmlFlow:l(Qr,u),htmlFlowData:O,htmlText:l(Qr,u),htmlTextData:O,image:l(Ws),label:u,link:l(Et),listItem:l(ki),listItemValue:E,listOrdered:l(Ct,_),listUnordered:l(Ct),paragraph:l(dl),reference:M,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(Yr),strong:l(Ha),thematicBreak:l(ur)},exit:{atxHeading:m(),atxHeadingSequence:ce,autolink:m(),autolinkEmail:bt,autolinkProtocol:At,blockQuote:m(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:tt,characterReferenceMarkerNumeric:tt,characterReferenceValue:Xe,characterReference:vt,codeFenced:m(P),codeFencedFence:U,codeFencedFenceInfo:w,codeFencedFenceMeta:I,codeFlowValue:A,codeIndented:m(z),codeText:m(ae),codeTextData:A,data:A,definition:m(),definitionDestinationString:ee,definitionLabelString:F,definitionTitleString:q,emphasis:m(),hardBreakEscape:m(D),hardBreakTrailing:m(D),htmlFlow:m(R),htmlFlowData:A,htmlText:m(ue),htmlTextData:A,image:m(oe),label:Re,labelText:me,lineEnding:C,link:m(Y),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:Ne,resourceDestinationString:L,resourceTitleString:We,resource:Le,setextHeading:m(k),setextHeadingLineSequence:j,setextHeadingText:G,strong:m(),thematicBreak:m()}};hS(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ne){let fe={type:"root",children:[]};const be={stack:[fe],tokenStack:[],config:e,enter:h,exit:p,buffer:u,resume:v,data:n},Pe=[];let Je=-1;for(;++Je<ne.length;)if(ne[Je][1].type==="listOrdered"||ne[Je][1].type==="listUnordered")if(ne[Je][0]==="enter")Pe.push(Je);else{const dn=Pe.pop();Je=a(ne,dn,Je)}for(Je=-1;++Je<ne.length;){const dn=e[ne[Je][0]];cS.call(dn,ne[Je][1].type)&&dn[ne[Je][1].type].call(Object.assign({sliceSerialize:ne[Je][2].sliceSerialize},be),ne[Je][1])}if(be.tokenStack.length>0){const dn=be.tokenStack[be.tokenStack.length-1];(dn[1]||hb).call(be,void 0,dn[0])}for(fe.position={start:Is(ne.length>0?ne[0][1].start:{line:1,column:1,offset:0}),end:Is(ne.length>0?ne[ne.length-2][1].end:{line:1,column:1,offset:0})},Je=-1;++Je<e.transforms.length;)fe=e.transforms[Je](fe)||fe;return fe}function a(ne,fe,be){let Pe=fe-1,Je=-1,dn=!1,Wn,kt,wt,Xt;for(;++Pe<=be;){const $e=ne[Pe];switch($e[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{$e[0]==="enter"?Je++:Je--,Xt=void 0;break}case"lineEndingBlank":{$e[0]==="enter"&&(Wn&&!Xt&&!Je&&!wt&&(wt=Pe),Xt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Xt=void 0}if(!Je&&$e[0]==="enter"&&$e[1].type==="listItemPrefix"||Je===-1&&$e[0]==="exit"&&($e[1].type==="listUnordered"||$e[1].type==="listOrdered")){if(Wn){let mi=Pe;for(kt=void 0;mi--;){const mn=ne[mi];if(mn[1].type==="lineEnding"||mn[1].type==="lineEndingBlank"){if(mn[0]==="exit")continue;kt&&(ne[kt][1].type="lineEndingBlank",dn=!0),mn[1].type="lineEnding",kt=mi}else if(!(mn[1].type==="linePrefix"||mn[1].type==="blockQuotePrefix"||mn[1].type==="blockQuotePrefixWhitespace"||mn[1].type==="blockQuoteMarker"||mn[1].type==="listItemIndent"))break}wt&&(!kt||wt<kt)&&(Wn._spread=!0),Wn.end=Object.assign({},kt?ne[kt][1].start:$e[1].end),ne.splice(kt||Pe,0,["exit",Wn,$e[2]]),Pe++,be++}if($e[1].type==="listItemPrefix"){const mi={type:"listItem",_spread:!1,start:Object.assign({},$e[1].start),end:void 0};Wn=mi,ne.splice(Pe,0,["enter",mi,$e[2]]),Pe++,be++,wt=void 0,Xt=!0}}}return ne[fe][1]._spread=dn,be}function l(ne,fe){return be;function be(Pe){h.call(this,ne(Pe),Pe),fe&&fe.call(this,Pe)}}function u(){this.stack.push({type:"fragment",children:[]})}function h(ne,fe,be){this.stack[this.stack.length-1].children.push(ne),this.stack.push(ne),this.tokenStack.push([fe,be||void 0]),ne.position={start:Is(fe.start),end:void 0}}function m(ne){return fe;function fe(be){ne&&ne.call(this,be),p.call(this,be)}}function p(ne,fe){const be=this.stack.pop(),Pe=this.tokenStack.pop();if(Pe)Pe[0].type!==ne.type&&(fe?fe.call(this,ne,Pe[0]):(Pe[1]||hb).call(this,ne,Pe[0]));else throw new Error("Cannot close `"+ne.type+"` ("+Du({start:ne.start,end:ne.end})+"): its not open");be.position.end=Is(ne.end)}function v(){return Ny(this.stack.pop())}function _(){this.data.expectingFirstListItemValue=!0}function E(ne){if(this.data.expectingFirstListItemValue){const fe=this.stack[this.stack.length-2];fe.start=Number.parseInt(this.sliceSerialize(ne),10),this.data.expectingFirstListItemValue=void 0}}function w(){const ne=this.resume(),fe=this.stack[this.stack.length-1];fe.lang=ne}function I(){const ne=this.resume(),fe=this.stack[this.stack.length-1];fe.meta=ne}function U(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function P(){const ne=this.resume(),fe=this.stack[this.stack.length-1];fe.value=ne.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function z(){const ne=this.resume(),fe=this.stack[this.stack.length-1];fe.value=ne.replace(/(\r?\n|\r)$/g,"")}function F(ne){const fe=this.resume(),be=this.stack[this.stack.length-1];be.label=fe,be.identifier=Ii(this.sliceSerialize(ne)).toLowerCase()}function q(){const ne=this.resume(),fe=this.stack[this.stack.length-1];fe.title=ne}function ee(){const ne=this.resume(),fe=this.stack[this.stack.length-1];fe.url=ne}function ce(ne){const fe=this.stack[this.stack.length-1];if(!fe.depth){const be=this.sliceSerialize(ne).length;fe.depth=be}}function G(){this.data.setextHeadingSlurpLineEnding=!0}function j(ne){const fe=this.stack[this.stack.length-1];fe.depth=this.sliceSerialize(ne).codePointAt(0)===61?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function O(ne){const be=this.stack[this.stack.length-1].children;let Pe=be[be.length-1];(!Pe||Pe.type!=="text")&&(Pe=tn(),Pe.position={start:Is(ne.start),end:void 0},be.push(Pe)),this.stack.push(Pe)}function A(ne){const fe=this.stack.pop();fe.value+=this.sliceSerialize(ne),fe.position.end=Is(ne.end)}function C(ne){const fe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const be=fe.children[fe.children.length-1];be.position.end=Is(ne.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(fe.type)&&(O.call(this,ne),A.call(this,ne))}function D(){this.data.atHardBreak=!0}function R(){const ne=this.resume(),fe=this.stack[this.stack.length-1];fe.value=ne}function ue(){const ne=this.resume(),fe=this.stack[this.stack.length-1];fe.value=ne}function ae(){const ne=this.resume(),fe=this.stack[this.stack.length-1];fe.value=ne}function Y(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const fe=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=fe,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function oe(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const fe=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=fe,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function me(ne){const fe=this.sliceSerialize(ne),be=this.stack[this.stack.length-2];be.label=Nj(fe),be.identifier=Ii(fe).toLowerCase()}function Re(){const ne=this.stack[this.stack.length-1],fe=this.resume(),be=this.stack[this.stack.length-1];if(this.data.inReference=!0,be.type==="link"){const Pe=ne.children;be.children=Pe}else be.alt=fe}function L(){const ne=this.resume(),fe=this.stack[this.stack.length-1];fe.url=ne}function We(){const ne=this.resume(),fe=this.stack[this.stack.length-1];fe.title=ne}function Le(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function Ne(ne){const fe=this.resume(),be=this.stack[this.stack.length-1];be.label=fe,be.identifier=Ii(this.sliceSerialize(ne)).toLowerCase(),this.data.referenceType="full"}function tt(ne){this.data.characterReferenceType=ne.type}function Xe(ne){const fe=this.sliceSerialize(ne),be=this.data.characterReferenceType;let Pe;be?(Pe=eS(fe,be==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Pe=ky(fe);const Je=this.stack[this.stack.length-1];Je.value+=Pe}function vt(ne){const fe=this.stack.pop();fe.position.end=Is(ne.end)}function At(ne){A.call(this,ne);const fe=this.stack[this.stack.length-1];fe.url=this.sliceSerialize(ne)}function bt(ne){A.call(this,ne);const fe=this.stack[this.stack.length-1];fe.url="mailto:"+this.sliceSerialize(ne)}function Qn(){return{type:"blockquote",children:[]}}function di(){return{type:"code",lang:null,meta:null,value:""}}function $r(){return{type:"inlineCode",value:""}}function Kr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Xn(){return{type:"emphasis",children:[]}}function Yr(){return{type:"heading",depth:0,children:[]}}function Ni(){return{type:"break"}}function Qr(){return{type:"html",value:""}}function Ws(){return{type:"image",title:null,url:"",alt:null}}function Et(){return{type:"link",title:null,url:"",children:[]}}function Ct(ne){return{type:"list",ordered:ne.type==="listOrdered",start:null,spread:ne._spread,children:[]}}function ki(ne){return{type:"listItem",spread:ne._spread,checked:null,children:[]}}function dl(){return{type:"paragraph",children:[]}}function Ha(){return{type:"strong",children:[]}}function tn(){return{type:"text",value:""}}function ur(){return{type:"thematicBreak"}}}function Is(t){return{line:t.line,column:t.column,offset:t.offset}}function hS(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?hS(t,r):Oj(t,r)}}function Oj(t,e){let n;for(n in e)if(cS.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function hb(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Du({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Du({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Du({start:e.start,end:e.end})+") is still open")}function Mj(t){const e=this;e.parser=n;function n(r){return Rj(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function jj(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Pj(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Lj(t,e){const n=e.value?e.value+`
`:"",r={},a=e.lang?e.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let l={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(l.data={meta:e.meta}),t.patch(e,l),l=t.applyData(e,l),l={type:"element",tagName:"pre",properties:{},children:[l]},t.patch(e,l),l}function Vj(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function zj(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Uj(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),a=cl(r.toLowerCase()),l=t.footnoteOrder.indexOf(r);let u,h=t.footnoteCounts.get(r);h===void 0?(h=0,t.footnoteOrder.push(r),u=t.footnoteOrder.length):u=l+1,h+=1,t.footnoteCounts.set(r,h);const m={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,m);const p={type:"element",tagName:"sup",properties:{},children:[m]};return t.patch(e,p),t.applyData(e,p)}function Bj(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Fj(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function fS(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const a=t.all(e),l=a[0];l&&l.type==="text"?l.value="["+l.value:a.unshift({type:"text",value:"["});const u=a[a.length-1];return u&&u.type==="text"?u.value+=r:a.push({type:"text",value:r}),a}function qj(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return fS(t,e);const a={src:cl(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const l={type:"element",tagName:"img",properties:a,children:[]};return t.patch(e,l),t.applyData(e,l)}function Hj(t,e){const n={src:cl(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function Gj(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function $j(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return fS(t,e);const a={href:cl(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const l={type:"element",tagName:"a",properties:a,children:t.all(e)};return t.patch(e,l),t.applyData(e,l)}function Kj(t,e){const n={href:cl(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Yj(t,e,n){const r=t.all(e),a=n?Qj(n):dS(e),l={},u=[];if(typeof e.checked=="boolean"){const v=r[0];let _;v&&v.type==="element"&&v.tagName==="p"?_=v:(_={type:"element",tagName:"p",properties:{},children:[]},r.unshift(_)),_.children.length>0&&_.children.unshift({type:"text",value:" "}),_.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let h=-1;for(;++h<r.length;){const v=r[h];(a||h!==0||v.type!=="element"||v.tagName!=="p")&&u.push({type:"text",value:`
`}),v.type==="element"&&v.tagName==="p"&&!a?u.push(...v.children):u.push(v)}const m=r[r.length-1];m&&(a||m.type!=="element"||m.tagName!=="p")&&u.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:l,children:u};return t.patch(e,p),t.applyData(e,p)}function Qj(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=dS(n[r])}return e}function dS(t){const e=t.spread;return e??t.children.length>1}function Xj(t,e){const n={},r=t.all(e);let a=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++a<r.length;){const u=r[a];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,l),t.applyData(e,l)}function Wj(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Jj(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Zj(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function e6(t,e){const n=t.all(e),r=n.shift(),a=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],u),a.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},h=Sy(e.children[1]),m=$T(e.children[e.children.length-1]);h&&m&&(u.position={start:h,end:m}),a.push(u)}const l={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(e,l),t.applyData(e,l)}function t6(t,e,n){const r=n?n.children:void 0,l=(r?r.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,h=u?u.length:e.children.length;let m=-1;const p=[];for(;++m<h;){const _=e.children[m],E={},w=u?u[m]:void 0;w&&(E.align=w);let I={type:"element",tagName:l,properties:E,children:[]};_&&(I.children=t.all(_),t.patch(_,I),I=t.applyData(_,I)),p.push(I)}const v={type:"element",tagName:"tr",properties:{},children:t.wrap(p,!0)};return t.patch(e,v),t.applyData(e,v)}function n6(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const fb=9,db=32;function i6(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),a=0;const l=[];for(;r;)l.push(mb(e.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(e);return l.push(mb(e.slice(a),a>0,!1)),l.join("")}function mb(t,e,n){let r=0,a=t.length;if(e){let l=t.codePointAt(r);for(;l===fb||l===db;)r++,l=t.codePointAt(r)}if(n){let l=t.codePointAt(a-1);for(;l===fb||l===db;)a--,l=t.codePointAt(a-1)}return a>r?t.slice(r,a):""}function r6(t,e){const n={type:"text",value:i6(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function s6(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const a6={blockquote:jj,break:Pj,code:Lj,delete:Vj,emphasis:zj,footnoteReference:Uj,heading:Bj,html:Fj,imageReference:qj,image:Hj,inlineCode:Gj,linkReference:$j,link:Kj,listItem:Yj,list:Xj,paragraph:Wj,root:Jj,strong:Zj,table:e6,tableCell:n6,tableRow:t6,text:r6,thematicBreak:s6,toml:Gh,yaml:Gh,definition:Gh,footnoteDefinition:Gh};function Gh(){}const mS=-1,id=0,Mu=1,kf=2,Dy=3,Oy=4,My=5,jy=6,pS=7,gS=8,pb=typeof self=="object"?self:globalThis,o6=(t,e)=>{const n=(a,l)=>(t.set(l,a),a),r=a=>{if(t.has(a))return t.get(a);const[l,u]=e[a];switch(l){case id:case mS:return n(u,a);case Mu:{const h=n([],a);for(const m of u)h.push(r(m));return h}case kf:{const h=n({},a);for(const[m,p]of u)h[r(m)]=r(p);return h}case Dy:return n(new Date(u),a);case Oy:{const{source:h,flags:m}=u;return n(new RegExp(h,m),a)}case My:{const h=n(new Map,a);for(const[m,p]of u)h.set(r(m),r(p));return h}case jy:{const h=n(new Set,a);for(const m of u)h.add(r(m));return h}case pS:{const{name:h,message:m}=u;return n(new pb[h](m),a)}case gS:return n(BigInt(u),a);case"BigInt":return n(Object(BigInt(u)),a);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:h}=new Uint8Array(u);return n(new DataView(h),u)}}return n(new pb[l](u),a)};return r},gb=t=>o6(new Map,t)(0),Oo="",{toString:l6}={},{keys:u6}=Object,vu=t=>{const e=typeof t;if(e!=="object"||!t)return[id,e];const n=l6.call(t).slice(8,-1);switch(n){case"Array":return[Mu,Oo];case"Object":return[kf,Oo];case"Date":return[Dy,Oo];case"RegExp":return[Oy,Oo];case"Map":return[My,Oo];case"Set":return[jy,Oo];case"DataView":return[Mu,n]}return n.includes("Array")?[Mu,n]:n.includes("Error")?[pS,n]:[kf,n]},$h=([t,e])=>t===id&&(e==="function"||e==="symbol"),c6=(t,e,n,r)=>{const a=(u,h)=>{const m=r.push(u)-1;return n.set(h,m),m},l=u=>{if(n.has(u))return n.get(u);let[h,m]=vu(u);switch(h){case id:{let v=u;switch(m){case"bigint":h=gS,v=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+m);v=null;break;case"undefined":return a([mS],u)}return a([h,v],u)}case Mu:{if(m){let E=u;return m==="DataView"?E=new Uint8Array(u.buffer):m==="ArrayBuffer"&&(E=new Uint8Array(u)),a([m,[...E]],u)}const v=[],_=a([h,v],u);for(const E of u)v.push(l(E));return _}case kf:{if(m)switch(m){case"BigInt":return a([m,u.toString()],u);case"Boolean":case"Number":case"String":return a([m,u.valueOf()],u)}if(e&&"toJSON"in u)return l(u.toJSON());const v=[],_=a([h,v],u);for(const E of u6(u))(t||!$h(vu(u[E])))&&v.push([l(E),l(u[E])]);return _}case Dy:return a([h,u.toISOString()],u);case Oy:{const{source:v,flags:_}=u;return a([h,{source:v,flags:_}],u)}case My:{const v=[],_=a([h,v],u);for(const[E,w]of u)(t||!($h(vu(E))||$h(vu(w))))&&v.push([l(E),l(w)]);return _}case jy:{const v=[],_=a([h,v],u);for(const E of u)(t||!$h(vu(E)))&&v.push(l(E));return _}}const{message:p}=u;return a([h,{name:m,message:p}],u)};return l},yb=(t,{json:e,lossy:n}={})=>{const r=[];return c6(!(e||n),!!e,new Map,r)(t),r},Rf=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?gb(yb(t,e)):structuredClone(t):(t,e)=>gb(yb(t,e));function h6(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function f6(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function d6(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||h6,r=t.options.footnoteBackLabel||f6,a=t.options.footnoteLabel||"Footnotes",l=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let m=-1;for(;++m<t.footnoteOrder.length;){const p=t.footnoteById.get(t.footnoteOrder[m]);if(!p)continue;const v=t.all(p),_=String(p.identifier).toUpperCase(),E=cl(_.toLowerCase());let w=0;const I=[],U=t.footnoteCounts.get(_);for(;U!==void 0&&++w<=U;){I.length>0&&I.push({type:"text",value:" "});let F=typeof n=="string"?n:n(m,w);typeof F=="string"&&(F={type:"text",value:F}),I.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+E+(w>1?"-"+w:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(m,w),className:["data-footnote-backref"]},children:Array.isArray(F)?F:[F]})}const P=v[v.length-1];if(P&&P.type==="element"&&P.tagName==="p"){const F=P.children[P.children.length-1];F&&F.type==="text"?F.value+=" ":P.children.push({type:"text",value:" "}),P.children.push(...I)}else v.push(...I);const z={type:"element",tagName:"li",properties:{id:e+"fn-"+E},children:t.wrap(v,!0)};t.patch(p,z),h.push(z)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Rf(u),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(h,!0)},{type:"text",value:`
`}]}}const rd=(function(t){if(t==null)return y6;if(typeof t=="function")return sd(t);if(typeof t=="object")return Array.isArray(t)?m6(t):p6(t);if(typeof t=="string")return g6(t);throw new Error("Expected function, string, or object as test")});function m6(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=rd(t[n]);return sd(r);function r(...a){let l=-1;for(;++l<e.length;)if(e[l].apply(this,a))return!0;return!1}}function p6(t){const e=t;return sd(n);function n(r){const a=r;let l;for(l in t)if(a[l]!==e[l])return!1;return!0}}function g6(t){return sd(e);function e(n){return n&&n.type===t}}function sd(t){return e;function e(n,r,a){return!!(v6(n)&&t.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function y6(){return!0}function v6(t){return t!==null&&typeof t=="object"&&"type"in t}const yS=[],_6=!0,yg=!1,x6="skip";function vS(t,e,n,r){let a;typeof e=="function"&&typeof n!="function"?(r=n,n=e):a=e;const l=rd(a),u=r?-1:1;h(t,void 0,[])();function h(m,p,v){const _=m&&typeof m=="object"?m:{};if(typeof _.type=="string"){const w=typeof _.tagName=="string"?_.tagName:typeof _.name=="string"?_.name:void 0;Object.defineProperty(E,"name",{value:"node ("+(m.type+(w?"<"+w+">":""))+")"})}return E;function E(){let w=yS,I,U,P;if((!e||l(m,p,v[v.length-1]||void 0))&&(w=b6(n(m,v)),w[0]===yg))return w;if("children"in m&&m.children){const z=m;if(z.children&&w[0]!==x6)for(U=(r?z.children.length:-1)+u,P=v.concat(z);U>-1&&U<z.children.length;){const F=z.children[U];if(I=h(F,U,P)(),I[0]===yg)return I;U=typeof I[1]=="number"?I[1]:U+u}}return w}}}function b6(t){return Array.isArray(t)?t:typeof t=="number"?[_6,t]:t==null?yS:[t]}function Py(t,e,n,r){let a,l,u;typeof e=="function"&&typeof n!="function"?(l=void 0,u=e,a=n):(l=e,u=n,a=r),vS(t,l,h,a);function h(m,p){const v=p[p.length-1],_=v?v.children.indexOf(m):void 0;return u(m,_,v)}}const vg={}.hasOwnProperty,E6={};function w6(t,e){const n=e||E6,r=new Map,a=new Map,l=new Map,u={...a6,...n.handlers},h={all:p,applyData:S6,definitionById:r,footnoteById:a,footnoteCounts:l,footnoteOrder:[],handlers:u,one:m,options:n,patch:T6,wrap:C6};return Py(t,function(v){if(v.type==="definition"||v.type==="footnoteDefinition"){const _=v.type==="definition"?r:a,E=String(v.identifier).toUpperCase();_.has(E)||_.set(E,v)}}),h;function m(v,_){const E=v.type,w=h.handlers[E];if(vg.call(h.handlers,E)&&w)return w(h,v,_);if(h.options.passThrough&&h.options.passThrough.includes(E)){if("children"in v){const{children:U,...P}=v,z=Rf(P);return z.children=h.all(v),z}return Rf(v)}return(h.options.unknownHandler||A6)(h,v,_)}function p(v){const _=[];if("children"in v){const E=v.children;let w=-1;for(;++w<E.length;){const I=h.one(E[w],v);if(I){if(w&&E[w-1].type==="break"&&(!Array.isArray(I)&&I.type==="text"&&(I.value=vb(I.value)),!Array.isArray(I)&&I.type==="element")){const U=I.children[0];U&&U.type==="text"&&(U.value=vb(U.value))}Array.isArray(I)?_.push(...I):_.push(I)}}}return _}}function T6(t,e){t.position&&(e.position=f3(t))}function S6(t,e){let n=e;if(t&&t.data){const r=t.data.hName,a=t.data.hChildren,l=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&l&&Object.assign(n.properties,Rf(l)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function A6(t,e){const n=e.data||{},r="value"in e&&!(vg.call(n,"hProperties")||vg.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function C6(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function vb(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function _b(t,e){const n=w6(t,e),r=n.one(t,void 0),a=d6(n),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&l.children.push({type:"text",value:`
`},a),l}function I6(t,e){return t&&"run"in t?async function(n,r){const a=_b(n,{file:r,...e});await t.run(a,r)}:function(n,r){return _b(n,{file:r,...t||e})}}function xb(t){if(t)throw t}var Tp,bb;function N6(){if(bb)return Tp;bb=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(p){return typeof Array.isArray=="function"?Array.isArray(p):e.call(p)==="[object Array]"},l=function(p){if(!p||e.call(p)!=="[object Object]")return!1;var v=t.call(p,"constructor"),_=p.constructor&&p.constructor.prototype&&t.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!v&&!_)return!1;var E;for(E in p);return typeof E>"u"||t.call(p,E)},u=function(p,v){n&&v.name==="__proto__"?n(p,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):p[v.name]=v.newValue},h=function(p,v){if(v==="__proto__")if(t.call(p,v)){if(r)return r(p,v).value}else return;return p[v]};return Tp=function m(){var p,v,_,E,w,I,U=arguments[0],P=1,z=arguments.length,F=!1;for(typeof U=="boolean"&&(F=U,U=arguments[1]||{},P=2),(U==null||typeof U!="object"&&typeof U!="function")&&(U={});P<z;++P)if(p=arguments[P],p!=null)for(v in p)_=h(U,v),E=h(p,v),U!==E&&(F&&E&&(l(E)||(w=a(E)))?(w?(w=!1,I=_&&a(_)?_:[]):I=_&&l(_)?_:{},u(U,{name:v,newValue:m(F,I,E)})):typeof E<"u"&&u(U,{name:v,newValue:E}));return U},Tp}var k6=N6();const Sp=Tg(k6);function _g(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function R6(){const t=[],e={run:n,use:r};return e;function n(...a){let l=-1;const u=a.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);h(null,...a);function h(m,...p){const v=t[++l];let _=-1;if(m){u(m);return}for(;++_<a.length;)(p[_]===null||p[_]===void 0)&&(p[_]=a[_]);a=p,v?D6(v,h)(...p):u(null,...p)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),e}}function D6(t,e){let n;return r;function r(...u){const h=t.length>u.length;let m;h&&u.push(a);try{m=t.apply(this,u)}catch(p){const v=p;if(h&&n)throw v;return a(v)}h||(m&&m.then&&typeof m.then=="function"?m.then(l,a):m instanceof Error?a(m):l(m))}function a(u,...h){n||(n=!0,e(u,...h))}function l(u){a(null,u)}}const Ji={basename:O6,dirname:M6,extname:j6,join:P6,sep:"/"};function O6(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');fc(t);let n=0,r=-1,a=t.length,l;if(e===void 0||e.length===0||e.length>t.length){for(;a--;)if(t.codePointAt(a)===47){if(l){n=a+1;break}}else r<0&&(l=!0,r=a+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let u=-1,h=e.length-1;for(;a--;)if(t.codePointAt(a)===47){if(l){n=a+1;break}}else u<0&&(l=!0,u=a+1),h>-1&&(t.codePointAt(a)===e.codePointAt(h--)?h<0&&(r=a):(h=-1,r=u));return n===r?r=u:r<0&&(r=t.length),t.slice(n,r)}function M6(t){if(fc(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function j6(t){fc(t);let e=t.length,n=-1,r=0,a=-1,l=0,u;for(;e--;){const h=t.codePointAt(e);if(h===47){if(u){r=e+1;break}continue}n<0&&(u=!0,n=e+1),h===46?a<0?a=e:l!==1&&(l=1):a>-1&&(l=-1)}return a<0||n<0||l===0||l===1&&a===n-1&&a===r+1?"":t.slice(a,n)}function P6(...t){let e=-1,n;for(;++e<t.length;)fc(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":L6(n)}function L6(t){fc(t);const e=t.codePointAt(0)===47;let n=V6(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function V6(t,e){let n="",r=0,a=-1,l=0,u=-1,h,m;for(;++u<=t.length;){if(u<t.length)h=t.codePointAt(u);else{if(h===47)break;h=47}if(h===47){if(!(a===u-1||l===1))if(a!==u-1&&l===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(m=n.lastIndexOf("/"),m!==n.length-1){m<0?(n="",r=0):(n=n.slice(0,m),r=n.length-1-n.lastIndexOf("/")),a=u,l=0;continue}}else if(n.length>0){n="",r=0,a=u,l=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(a+1,u):n=t.slice(a+1,u),r=u-a-1;a=u,l=0}else h===46&&l>-1?l++:l=-1}return n}function fc(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const z6={cwd:U6};function U6(){return"/"}function xg(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function B6(t){if(typeof t=="string")t=new URL(t);else if(!xg(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return F6(t)}function F6(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(e)}const Ap=["history","path","basename","stem","extname","dirname"];class _S{constructor(e){let n;e?xg(e)?n={path:e}:typeof e=="string"||q6(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":z6.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ap.length;){const l=Ap[r];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let a;for(a in n)Ap.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Ji.basename(this.path):void 0}set basename(e){Ip(e,"basename"),Cp(e,"basename"),this.path=Ji.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Ji.dirname(this.path):void 0}set dirname(e){Eb(this.basename,"dirname"),this.path=Ji.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Ji.extname(this.path):void 0}set extname(e){if(Cp(e,"extname"),Eb(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ji.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){xg(e)&&(e=B6(e)),Ip(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Ji.basename(this.path,this.extname):void 0}set stem(e){Ip(e,"stem"),Cp(e,"stem"),this.path=Ji.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const a=this.message(e,n,r);throw a.fatal=!0,a}info(e,n,r){const a=this.message(e,n,r);return a.fatal=void 0,a}message(e,n,r){const a=new bn(e,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Cp(t,e){if(t&&t.includes(Ji.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ji.sep+"`")}function Ip(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Eb(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function q6(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const H6=(function(t){const r=this.constructor.prototype,a=r[t],l=function(){return a.apply(l,arguments)};return Object.setPrototypeOf(l,r),l}),G6={}.hasOwnProperty;class Ly extends H6{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=R6()}copy(){const e=new Ly;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Sp(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Rp("data",this.frozen),this.namespace[e]=n,this):G6.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Rp("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(e,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Kh(e),r=this.parser||this.Parser;return Np("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Np("process",this.parser||this.Parser),kp("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(l,u){const h=Kh(e),m=r.parse(h);r.run(m,h,function(v,_,E){if(v||!_||!E)return p(v);const w=_,I=r.stringify(w,E);Y6(I)?E.value=I:E.result=I,p(v,E)});function p(v,_){v||!_?u(v):l?l(_):n(void 0,_)}}}processSync(e){let n=!1,r;return this.freeze(),Np("processSync",this.parser||this.Parser),kp("processSync",this.compiler||this.Compiler),this.process(e,a),Tb("processSync","process",n),r;function a(l,u){n=!0,xb(l),r=u}}run(e,n,r){wb(e),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?l(void 0,r):new Promise(l);function l(u,h){const m=Kh(n);a.run(e,m,p);function p(v,_,E){const w=_||e;v?h(v):u?u(w):r(void 0,w,E)}}}runSync(e,n){let r=!1,a;return this.run(e,n,l),Tb("runSync","run",r),a;function l(u,h){xb(u),a=h,r=!0}}stringify(e,n){this.freeze();const r=Kh(n),a=this.compiler||this.Compiler;return kp("stringify",a),wb(e),a(e,r)}use(e,...n){const r=this.attachers,a=this.namespace;if(Rp("use",this.frozen),e!=null)if(typeof e=="function")m(e,n);else if(typeof e=="object")Array.isArray(e)?h(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function l(p){if(typeof p=="function")m(p,[]);else if(typeof p=="object")if(Array.isArray(p)){const[v,..._]=p;m(v,_)}else u(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function u(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(p.plugins),p.settings&&(a.settings=Sp(!0,a.settings,p.settings))}function h(p){let v=-1;if(p!=null)if(Array.isArray(p))for(;++v<p.length;){const _=p[v];l(_)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function m(p,v){let _=-1,E=-1;for(;++_<r.length;)if(r[_][0]===p){E=_;break}if(E===-1)r.push([p,...v]);else if(v.length>0){let[w,...I]=v;const U=r[E][1];_g(U)&&_g(w)&&(w=Sp(!0,U,w)),r[E]=[p,w,...I]}}}}const $6=new Ly().freeze();function Np(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function kp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Rp(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function wb(t){if(!_g(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Tb(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Kh(t){return K6(t)?t:new _S(t)}function K6(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Y6(t){return typeof t=="string"||Q6(t)}function Q6(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const X6="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Sb=[],Ab={allowDangerousHtml:!0},W6=/^(https?|ircs?|mailto|xmpp)$/i,J6=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function hl(t){const e=Z6(t),n=eP(t);return tP(e.runSync(e.parse(n),n),t)}function Z6(t){const e=t.rehypePlugins||Sb,n=t.remarkPlugins||Sb,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Ab}:Ab;return $6().use(Mj).use(n).use(I6,r).use(e)}function eP(t){const e=t.children||"",n=new _S;return typeof e=="string"&&(n.value=e),n}function tP(t,e){const n=e.allowedElements,r=e.allowElement,a=e.components,l=e.disallowedElements,u=e.skipHtml,h=e.unwrapDisallowed,m=e.urlTransform||nP;for(const v of J6)Object.hasOwn(e,v.from)&&(""+v.from+(v.to?"use `"+v.to+"` instead":"remove it")+X6+v.id,void 0);return Py(t,p),y3(t,{Fragment:y.Fragment,components:a,ignoreInvalidStyle:!0,jsx:y.jsx,jsxs:y.jsxs,passKeys:!0,passNode:!0});function p(v,_,E){if(v.type==="raw"&&E&&typeof _=="number")return u?E.children.splice(_,1):E.children[_]={type:"text",value:v.value},_;if(v.type==="element"){let w;for(w in bp)if(Object.hasOwn(bp,w)&&Object.hasOwn(v.properties,w)){const I=v.properties[w],U=bp[w];(U===null||U.includes(v.tagName))&&(v.properties[w]=m(String(I||""),w,v))}}if(v.type==="element"){let w=n?!n.includes(v.tagName):l?l.includes(v.tagName):!1;if(!w&&r&&typeof _=="number"&&(w=!r(v,_,E)),w&&E&&typeof _=="number")return h&&v.children?E.children.splice(_,1,...v.children):E.children.splice(_,1),_}}}function nP(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),a=t.indexOf("/");return e===-1||a!==-1&&e>a||n!==-1&&e>n||r!==-1&&e>r||W6.test(t.slice(0,e))?t:""}function Cb(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(e);for(;a!==-1;)r++,a=n.indexOf(e,a+e.length);return r}function iP(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function rP(t,e,n){const a=rd((n||{}).ignore||[]),l=sP(e);let u=-1;for(;++u<l.length;)vS(t,"text",h);function h(p,v){let _=-1,E;for(;++_<v.length;){const w=v[_],I=E?E.children:void 0;if(a(w,I?I.indexOf(w):void 0,E))return;E=w}if(E)return m(p,v)}function m(p,v){const _=v[v.length-1],E=l[u][0],w=l[u][1];let I=0;const P=_.children.indexOf(p);let z=!1,F=[];E.lastIndex=0;let q=E.exec(p.value);for(;q;){const ee=q.index,ce={index:q.index,input:q.input,stack:[...v,p]};let G=w(...q,ce);if(typeof G=="string"&&(G=G.length>0?{type:"text",value:G}:void 0),G===!1?E.lastIndex=ee+1:(I!==ee&&F.push({type:"text",value:p.value.slice(I,ee)}),Array.isArray(G)?F.push(...G):G&&F.push(G),I=ee+q[0].length,z=!0),!E.global)break;q=E.exec(p.value)}return z?(I<p.value.length&&F.push({type:"text",value:p.value.slice(I)}),_.children.splice(P,1,...F)):F=[p],P+F.length}}function sP(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const a=n[r];e.push([aP(a[0]),oP(a[1])])}return e}function aP(t){return typeof t=="string"?new RegExp(iP(t),"g"):t}function oP(t){return typeof t=="function"?t:function(){return t}}const Dp="phrasing",Op=["autolink","link","image","label"];function lP(){return{transforms:[pP],enter:{literalAutolink:cP,literalAutolinkEmail:Mp,literalAutolinkHttp:Mp,literalAutolinkWww:Mp},exit:{literalAutolink:mP,literalAutolinkEmail:dP,literalAutolinkHttp:hP,literalAutolinkWww:fP}}}function uP(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Dp,notInConstruct:Op},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Dp,notInConstruct:Op},{character:":",before:"[ps]",after:"\\/",inConstruct:Dp,notInConstruct:Op}]}}function cP(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Mp(t){this.config.enter.autolinkProtocol.call(this,t)}function hP(t){this.config.exit.autolinkProtocol.call(this,t)}function fP(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function dP(t){this.config.exit.autolinkEmail.call(this,t)}function mP(t){this.exit(t)}function pP(t){rP(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,gP],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),yP]],{ignore:["link","linkReference"]})}function gP(t,e,n,r,a){let l="";if(!xS(a)||(/^w/i.test(e)&&(n=e+n,e="",l="http://"),!vP(n)))return!1;const u=_P(n+r);if(!u[0])return!1;const h={type:"link",title:null,url:l+e+u[0],children:[{type:"text",value:e+u[0]}]};return u[1]?[h,{type:"text",value:u[1]}]:h}function yP(t,e,n,r){return!xS(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function vP(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function _P(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const a=Cb(t,"(");let l=Cb(t,")");for(;r!==-1&&a>l;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),l++;return[t,n]}function xS(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Va(n)||td(n))&&(!e||n!==47)}bS.peek=IP;function xP(){this.buffer()}function bP(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function EP(){this.buffer()}function wP(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function TP(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ii(this.sliceSerialize(t)).toLowerCase(),n.label=e}function SP(t){this.exit(t)}function AP(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ii(this.sliceSerialize(t)).toLowerCase(),n.label=e}function CP(t){this.exit(t)}function IP(){return"["}function bS(t,e,n,r){const a=n.createTracker(r);let l=a.move("[^");const u=n.enter("footnoteReference"),h=n.enter("reference");return l+=a.move(n.safe(n.associationId(t),{after:"]",before:l})),h(),u(),l+=a.move("]"),l}function NP(){return{enter:{gfmFootnoteCallString:xP,gfmFootnoteCall:bP,gfmFootnoteDefinitionLabelString:EP,gfmFootnoteDefinition:wP},exit:{gfmFootnoteCallString:TP,gfmFootnoteCall:SP,gfmFootnoteDefinitionLabelString:AP,gfmFootnoteDefinition:CP}}}function kP(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:bS},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,l,u){const h=l.createTracker(u);let m=h.move("[^");const p=l.enter("footnoteDefinition"),v=l.enter("label");return m+=h.move(l.safe(l.associationId(r),{before:m,after:"]"})),v(),m+=h.move("]:"),r.children&&r.children.length>0&&(h.shift(4),m+=h.move((e?`
`:" ")+l.indentLines(l.containerFlow(r,h.current()),e?ES:RP))),p(),m}}function RP(t,e,n){return e===0?t:ES(t,e,n)}function ES(t,e,n){return(n?"":"    ")+t}const DP=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];wS.peek=LP;function OP(){return{canContainEols:["delete"],enter:{strikethrough:jP},exit:{strikethrough:PP}}}function MP(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:DP}],handlers:{delete:wS}}}function jP(t){this.enter({type:"delete",children:[]},t)}function PP(t){this.exit(t)}function wS(t,e,n,r){const a=n.createTracker(r),l=n.enter("strikethrough");let u=a.move("~~");return u+=n.containerPhrasing(t,{...a.current(),before:u,after:"~"}),u+=a.move("~~"),l(),u}function LP(){return"~"}function VP(t){return t.length}function zP(t,e){const n=e||{},r=(n.align||[]).concat(),a=n.stringLength||VP,l=[],u=[],h=[],m=[];let p=0,v=-1;for(;++v<t.length;){const U=[],P=[];let z=-1;for(t[v].length>p&&(p=t[v].length);++z<t[v].length;){const F=UP(t[v][z]);if(n.alignDelimiters!==!1){const q=a(F);P[z]=q,(m[z]===void 0||q>m[z])&&(m[z]=q)}U.push(F)}u[v]=U,h[v]=P}let _=-1;if(typeof r=="object"&&"length"in r)for(;++_<p;)l[_]=Ib(r[_]);else{const U=Ib(r);for(;++_<p;)l[_]=U}_=-1;const E=[],w=[];for(;++_<p;){const U=l[_];let P="",z="";U===99?(P=":",z=":"):U===108?P=":":U===114&&(z=":");let F=n.alignDelimiters===!1?1:Math.max(1,m[_]-P.length-z.length);const q=P+"-".repeat(F)+z;n.alignDelimiters!==!1&&(F=P.length+F+z.length,F>m[_]&&(m[_]=F),w[_]=F),E[_]=q}u.splice(1,0,E),h.splice(1,0,w),v=-1;const I=[];for(;++v<u.length;){const U=u[v],P=h[v];_=-1;const z=[];for(;++_<p;){const F=U[_]||"";let q="",ee="";if(n.alignDelimiters!==!1){const ce=m[_]-(P[_]||0),G=l[_];G===114?q=" ".repeat(ce):G===99?ce%2?(q=" ".repeat(ce/2+.5),ee=" ".repeat(ce/2-.5)):(q=" ".repeat(ce/2),ee=q):ee=" ".repeat(ce)}n.delimiterStart!==!1&&!_&&z.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&F==="")&&(n.delimiterStart!==!1||_)&&z.push(" "),n.alignDelimiters!==!1&&z.push(q),z.push(F),n.alignDelimiters!==!1&&z.push(ee),n.padding!==!1&&z.push(" "),(n.delimiterEnd!==!1||_!==p-1)&&z.push("|")}I.push(n.delimiterEnd===!1?z.join("").replace(/ +$/,""):z.join(""))}return I.join(`
`)}function UP(t){return t==null?"":String(t)}function Ib(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function BP(t,e,n,r){const a=n.enter("blockquote"),l=n.createTracker(r);l.move("> "),l.shift(2);const u=n.indentLines(n.containerFlow(t,l.current()),FP);return a(),u}function FP(t,e,n){return">"+(n?"":" ")+t}function qP(t,e){return Nb(t,e.inConstruct,!0)&&!Nb(t,e.notInConstruct,!1)}function Nb(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function kb(t,e,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&qP(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function HP(t,e){const n=String(t);let r=n.indexOf(e),a=r,l=0,u=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++l>u&&(u=l):l=1,a=r+e.length,r=n.indexOf(e,a);return u}function GP(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function $P(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function KP(t,e,n,r){const a=$P(n),l=t.value||"",u=a==="`"?"GraveAccent":"Tilde";if(GP(t,n)){const _=n.enter("codeIndented"),E=n.indentLines(l,YP);return _(),E}const h=n.createTracker(r),m=a.repeat(Math.max(HP(l,a)+1,3)),p=n.enter("codeFenced");let v=h.move(m);if(t.lang){const _=n.enter(`codeFencedLang${u}`);v+=h.move(n.safe(t.lang,{before:v,after:" ",encode:["`"],...h.current()})),_()}if(t.lang&&t.meta){const _=n.enter(`codeFencedMeta${u}`);v+=h.move(" "),v+=h.move(n.safe(t.meta,{before:v,after:`
`,encode:["`"],...h.current()})),_()}return v+=h.move(`
`),l&&(v+=h.move(l+`
`)),v+=h.move(m),p(),v}function YP(t,e,n){return(n?"":"    ")+t}function Vy(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function QP(t,e,n,r){const a=Vy(n),l=a==='"'?"Quote":"Apostrophe",u=n.enter("definition");let h=n.enter("label");const m=n.createTracker(r);let p=m.move("[");return p+=m.move(n.safe(n.associationId(t),{before:p,after:"]",...m.current()})),p+=m.move("]: "),h(),!t.url||/[\0- \u007F]/.test(t.url)?(h=n.enter("destinationLiteral"),p+=m.move("<"),p+=m.move(n.safe(t.url,{before:p,after:">",...m.current()})),p+=m.move(">")):(h=n.enter("destinationRaw"),p+=m.move(n.safe(t.url,{before:p,after:t.title?" ":`
`,...m.current()}))),h(),t.title&&(h=n.enter(`title${l}`),p+=m.move(" "+a),p+=m.move(n.safe(t.title,{before:p,after:a,...m.current()})),p+=m.move(a),h()),u(),p}function XP(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Qu(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Df(t,e,n){const r=Zo(t),a=Zo(e);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}TS.peek=WP;function TS(t,e,n,r){const a=XP(n),l=n.enter("emphasis"),u=n.createTracker(r),h=u.move(a);let m=u.move(n.containerPhrasing(t,{after:a,before:h,...u.current()}));const p=m.charCodeAt(0),v=Df(r.before.charCodeAt(r.before.length-1),p,a);v.inside&&(m=Qu(p)+m.slice(1));const _=m.charCodeAt(m.length-1),E=Df(r.after.charCodeAt(0),_,a);E.inside&&(m=m.slice(0,-1)+Qu(_));const w=u.move(a);return l(),n.attentionEncodeSurroundingInfo={after:E.outside,before:v.outside},h+m+w}function WP(t,e,n){return n.options.emphasis||"*"}function JP(t,e){let n=!1;return Py(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,yg}),!!((!t.depth||t.depth<3)&&Ny(t)&&(e.options.setext||n))}function ZP(t,e,n,r){const a=Math.max(Math.min(6,t.depth||1),1),l=n.createTracker(r);if(JP(t,n)){const v=n.enter("headingSetext"),_=n.enter("phrasing"),E=n.containerPhrasing(t,{...l.current(),before:`
`,after:`
`});return _(),v(),E+`
`+(a===1?"=":"-").repeat(E.length-(Math.max(E.lastIndexOf("\r"),E.lastIndexOf(`
`))+1))}const u="#".repeat(a),h=n.enter("headingAtx"),m=n.enter("phrasing");l.move(u+" ");let p=n.containerPhrasing(t,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(p)&&(p=Qu(p.charCodeAt(0))+p.slice(1)),p=p?u+" "+p:u,n.options.closeAtx&&(p+=" "+u),m(),h(),p}SS.peek=eL;function SS(t){return t.value||""}function eL(){return"<"}AS.peek=tL;function AS(t,e,n,r){const a=Vy(n),l=a==='"'?"Quote":"Apostrophe",u=n.enter("image");let h=n.enter("label");const m=n.createTracker(r);let p=m.move("![");return p+=m.move(n.safe(t.alt,{before:p,after:"]",...m.current()})),p+=m.move("]("),h(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(h=n.enter("destinationLiteral"),p+=m.move("<"),p+=m.move(n.safe(t.url,{before:p,after:">",...m.current()})),p+=m.move(">")):(h=n.enter("destinationRaw"),p+=m.move(n.safe(t.url,{before:p,after:t.title?" ":")",...m.current()}))),h(),t.title&&(h=n.enter(`title${l}`),p+=m.move(" "+a),p+=m.move(n.safe(t.title,{before:p,after:a,...m.current()})),p+=m.move(a),h()),p+=m.move(")"),u(),p}function tL(){return"!"}CS.peek=nL;function CS(t,e,n,r){const a=t.referenceType,l=n.enter("imageReference");let u=n.enter("label");const h=n.createTracker(r);let m=h.move("![");const p=n.safe(t.alt,{before:m,after:"]",...h.current()});m+=h.move(p+"]["),u();const v=n.stack;n.stack=[],u=n.enter("reference");const _=n.safe(n.associationId(t),{before:m,after:"]",...h.current()});return u(),n.stack=v,l(),a==="full"||!p||p!==_?m+=h.move(_+"]"):a==="shortcut"?m=m.slice(0,-1):m+=h.move("]"),m}function nL(){return"!"}IS.peek=iL;function IS(t,e,n){let r=t.value||"",a="`",l=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++l<n.unsafe.length;){const u=n.unsafe[l],h=n.compilePattern(u);let m;if(u.atBreak)for(;m=h.exec(r);){let p=m.index;r.charCodeAt(p)===10&&r.charCodeAt(p-1)===13&&p--,r=r.slice(0,p)+" "+r.slice(m.index+1)}}return a+r+a}function iL(){return"`"}function NS(t,e){const n=Ny(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}kS.peek=rL;function kS(t,e,n,r){const a=Vy(n),l=a==='"'?"Quote":"Apostrophe",u=n.createTracker(r);let h,m;if(NS(t,n)){const v=n.stack;n.stack=[],h=n.enter("autolink");let _=u.move("<");return _+=u.move(n.containerPhrasing(t,{before:_,after:">",...u.current()})),_+=u.move(">"),h(),n.stack=v,_}h=n.enter("link"),m=n.enter("label");let p=u.move("[");return p+=u.move(n.containerPhrasing(t,{before:p,after:"](",...u.current()})),p+=u.move("]("),m(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(m=n.enter("destinationLiteral"),p+=u.move("<"),p+=u.move(n.safe(t.url,{before:p,after:">",...u.current()})),p+=u.move(">")):(m=n.enter("destinationRaw"),p+=u.move(n.safe(t.url,{before:p,after:t.title?" ":")",...u.current()}))),m(),t.title&&(m=n.enter(`title${l}`),p+=u.move(" "+a),p+=u.move(n.safe(t.title,{before:p,after:a,...u.current()})),p+=u.move(a),m()),p+=u.move(")"),h(),p}function rL(t,e,n){return NS(t,n)?"<":"["}RS.peek=sL;function RS(t,e,n,r){const a=t.referenceType,l=n.enter("linkReference");let u=n.enter("label");const h=n.createTracker(r);let m=h.move("[");const p=n.containerPhrasing(t,{before:m,after:"]",...h.current()});m+=h.move(p+"]["),u();const v=n.stack;n.stack=[],u=n.enter("reference");const _=n.safe(n.associationId(t),{before:m,after:"]",...h.current()});return u(),n.stack=v,l(),a==="full"||!p||p!==_?m+=h.move(_+"]"):a==="shortcut"?m=m.slice(0,-1):m+=h.move("]"),m}function sL(){return"["}function zy(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function aL(t){const e=zy(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function oL(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function DS(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function lL(t,e,n,r){const a=n.enter("list"),l=n.bulletCurrent;let u=t.ordered?oL(n):zy(n);const h=t.ordered?u==="."?")":".":aL(n);let m=e&&n.bulletLastUsed?u===n.bulletLastUsed:!1;if(!t.ordered){const v=t.children?t.children[0]:void 0;if((u==="*"||u==="-")&&v&&(!v.children||!v.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(m=!0),DS(n)===u&&v){let _=-1;for(;++_<t.children.length;){const E=t.children[_];if(E&&E.type==="listItem"&&E.children&&E.children[0]&&E.children[0].type==="thematicBreak"){m=!0;break}}}}m&&(u=h),n.bulletCurrent=u;const p=n.containerFlow(t,r);return n.bulletLastUsed=u,n.bulletCurrent=l,a(),p}function uL(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function cL(t,e,n,r){const a=uL(n);let l=n.bulletCurrent||zy(n);e&&e.type==="list"&&e.ordered&&(l=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+l);let u=l.length+1;(a==="tab"||a==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(u=Math.ceil(u/4)*4);const h=n.createTracker(r);h.move(l+" ".repeat(u-l.length)),h.shift(u);const m=n.enter("listItem"),p=n.indentLines(n.containerFlow(t,h.current()),v);return m(),p;function v(_,E,w){return E?(w?"":" ".repeat(u))+_:(w?l:l+" ".repeat(u-l.length))+_}}function hL(t,e,n,r){const a=n.enter("paragraph"),l=n.enter("phrasing"),u=n.containerPhrasing(t,r);return l(),a(),u}const fL=rd(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function dL(t,e,n,r){return(t.children.some(function(u){return fL(u)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function mL(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}OS.peek=pL;function OS(t,e,n,r){const a=mL(n),l=n.enter("strong"),u=n.createTracker(r),h=u.move(a+a);let m=u.move(n.containerPhrasing(t,{after:a,before:h,...u.current()}));const p=m.charCodeAt(0),v=Df(r.before.charCodeAt(r.before.length-1),p,a);v.inside&&(m=Qu(p)+m.slice(1));const _=m.charCodeAt(m.length-1),E=Df(r.after.charCodeAt(0),_,a);E.inside&&(m=m.slice(0,-1)+Qu(_));const w=u.move(a+a);return l(),n.attentionEncodeSurroundingInfo={after:E.outside,before:v.outside},h+m+w}function pL(t,e,n){return n.options.strong||"*"}function gL(t,e,n,r){return n.safe(t.value,r)}function yL(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function vL(t,e,n){const r=(DS(n)+(n.options.ruleSpaces?" ":"")).repeat(yL(n));return n.options.ruleSpaces?r.slice(0,-1):r}const MS={blockquote:BP,break:kb,code:KP,definition:QP,emphasis:TS,hardBreak:kb,heading:ZP,html:SS,image:AS,imageReference:CS,inlineCode:IS,link:kS,linkReference:RS,list:lL,listItem:cL,paragraph:hL,root:dL,strong:OS,text:gL,thematicBreak:vL};function _L(){return{enter:{table:xL,tableData:Rb,tableHeader:Rb,tableRow:EL},exit:{codeText:wL,table:bL,tableData:jp,tableHeader:jp,tableRow:jp}}}function xL(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function bL(t){this.exit(t),this.data.inTable=void 0}function EL(t){this.enter({type:"tableRow",children:[]},t)}function jp(t){this.exit(t)}function Rb(t){this.enter({type:"tableCell",children:[]},t)}function wL(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,TL));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function TL(t,e){return e==="|"?e:t}function SL(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,a=e.stringLength,l=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:E,table:u,tableCell:m,tableRow:h}};function u(w,I,U,P){return p(v(w,U,P),w.align)}function h(w,I,U,P){const z=_(w,U,P),F=p([z]);return F.slice(0,F.indexOf(`
`))}function m(w,I,U,P){const z=U.enter("tableCell"),F=U.enter("phrasing"),q=U.containerPhrasing(w,{...P,before:l,after:l});return F(),z(),q}function p(w,I){return zP(w,{align:I,alignDelimiters:r,padding:n,stringLength:a})}function v(w,I,U){const P=w.children;let z=-1;const F=[],q=I.enter("table");for(;++z<P.length;)F[z]=_(P[z],I,U);return q(),F}function _(w,I,U){const P=w.children;let z=-1;const F=[],q=I.enter("tableRow");for(;++z<P.length;)F[z]=m(P[z],w,I,U);return q(),F}function E(w,I,U){let P=MS.inlineCode(w,I,U);return U.stack.includes("tableCell")&&(P=P.replace(/\|/g,"\\$&")),P}}function AL(){return{exit:{taskListCheckValueChecked:Db,taskListCheckValueUnchecked:Db,paragraph:IL}}}function CL(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:NL}}}function Db(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function IL(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=e.children;let l=-1,u;for(;++l<a.length;){const h=a[l];if(h.type==="paragraph"){u=h;break}}u===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function NL(t,e,n,r){const a=t.children[0],l=typeof t.checked=="boolean"&&a&&a.type==="paragraph",u="["+(t.checked?"x":" ")+"] ",h=n.createTracker(r);l&&h.move(u);let m=MS.listItem(t,e,n,{...r,...h.current()});return l&&(m=m.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,p)),m;function p(v){return v+u}}function kL(){return[lP(),NP(),OP(),_L(),AL()]}function RL(t){return{extensions:[uP(),kP(t),MP(),SL(t),CL()]}}const DL={tokenize:VL,partial:!0},jS={tokenize:zL,partial:!0},PS={tokenize:UL,partial:!0},LS={tokenize:BL,partial:!0},OL={tokenize:FL,partial:!0},VS={name:"wwwAutolink",tokenize:PL,previous:US},zS={name:"protocolAutolink",tokenize:LL,previous:BS},Gr={name:"emailAutolink",tokenize:jL,previous:FS},lr={};function ML(){return{text:lr}}let Aa=48;for(;Aa<123;)lr[Aa]=Gr,Aa++,Aa===58?Aa=65:Aa===91&&(Aa=97);lr[43]=Gr;lr[45]=Gr;lr[46]=Gr;lr[95]=Gr;lr[72]=[Gr,zS];lr[104]=[Gr,zS];lr[87]=[Gr,VS];lr[119]=[Gr,VS];function jL(t,e,n){const r=this;let a,l;return u;function u(_){return!bg(_)||!FS.call(r,r.previous)||Uy(r.events)?n(_):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),h(_))}function h(_){return bg(_)?(t.consume(_),h):_===64?(t.consume(_),m):n(_)}function m(_){return _===46?t.check(OL,v,p)(_):_===45||_===95||_n(_)?(l=!0,t.consume(_),m):v(_)}function p(_){return t.consume(_),a=!0,m}function v(_){return l&&a&&Tn(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(_)):n(_)}}function PL(t,e,n){const r=this;return a;function a(u){return u!==87&&u!==119||!US.call(r,r.previous)||Uy(r.events)?n(u):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(DL,t.attempt(jS,t.attempt(PS,l),n),n)(u))}function l(u){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(u)}}function LL(t,e,n){const r=this;let a="",l=!1;return u;function u(_){return(_===72||_===104)&&BS.call(r,r.previous)&&!Uy(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),a+=String.fromCodePoint(_),t.consume(_),h):n(_)}function h(_){if(Tn(_)&&a.length<5)return a+=String.fromCodePoint(_),t.consume(_),h;if(_===58){const E=a.toLowerCase();if(E==="http"||E==="https")return t.consume(_),m}return n(_)}function m(_){return _===47?(t.consume(_),l?p:(l=!0,m)):n(_)}function p(_){return _===null||Nf(_)||dt(_)||Va(_)||td(_)?n(_):t.attempt(jS,t.attempt(PS,v),n)(_)}function v(_){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(_)}}function VL(t,e,n){let r=0;return a;function a(u){return(u===87||u===119)&&r<3?(r++,t.consume(u),a):u===46&&r===3?(t.consume(u),l):n(u)}function l(u){return u===null?n(u):e(u)}}function zL(t,e,n){let r,a,l;return u;function u(p){return p===46||p===95?t.check(LS,m,h)(p):p===null||dt(p)||Va(p)||p!==45&&td(p)?m(p):(l=!0,t.consume(p),u)}function h(p){return p===95?r=!0:(a=r,r=void 0),t.consume(p),u}function m(p){return a||r||!l?n(p):e(p)}}function UL(t,e){let n=0,r=0;return a;function a(u){return u===40?(n++,t.consume(u),a):u===41&&r<n?l(u):u===33||u===34||u===38||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===60||u===63||u===93||u===95||u===126?t.check(LS,e,l)(u):u===null||dt(u)||Va(u)?e(u):(t.consume(u),a)}function l(u){return u===41&&r++,t.consume(u),a}}function BL(t,e,n){return r;function r(h){return h===33||h===34||h===39||h===41||h===42||h===44||h===46||h===58||h===59||h===63||h===95||h===126?(t.consume(h),r):h===38?(t.consume(h),l):h===93?(t.consume(h),a):h===60||h===null||dt(h)||Va(h)?e(h):n(h)}function a(h){return h===null||h===40||h===91||dt(h)||Va(h)?e(h):r(h)}function l(h){return Tn(h)?u(h):n(h)}function u(h){return h===59?(t.consume(h),r):Tn(h)?(t.consume(h),u):n(h)}}function FL(t,e,n){return r;function r(l){return t.consume(l),a}function a(l){return _n(l)?n(l):e(l)}}function US(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||dt(t)}function BS(t){return!Tn(t)}function FS(t){return!(t===47||bg(t))}function bg(t){return t===43||t===45||t===46||t===95||_n(t)}function Uy(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const qL={tokenize:WL,partial:!0};function HL(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:YL,continuation:{tokenize:QL},exit:XL}},text:{91:{name:"gfmFootnoteCall",tokenize:KL},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:GL,resolveTo:$L}}}}function GL(t,e,n){const r=this;let a=r.events.length;const l=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let u;for(;a--;){const m=r.events[a][1];if(m.type==="labelImage"){u=m;break}if(m.type==="gfmFootnoteCall"||m.type==="labelLink"||m.type==="label"||m.type==="image"||m.type==="link")break}return h;function h(m){if(!u||!u._balanced)return n(m);const p=Ii(r.sliceSerialize({start:u.end,end:r.now()}));return p.codePointAt(0)!==94||!l.includes(p.slice(1))?n(m):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),e(m))}}function $L(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},t[t.length-1][1].start)},u={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},h=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",a,e],["exit",a,e],["enter",l,e],["enter",u,e],["exit",u,e],["exit",l,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...h),t}function KL(t,e,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l=0,u;return h;function h(_){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(_),t.exit("gfmFootnoteCallLabelMarker"),m}function m(_){return _!==94?n(_):(t.enter("gfmFootnoteCallMarker"),t.consume(_),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",p)}function p(_){if(l>999||_===93&&!u||_===null||_===91||dt(_))return n(_);if(_===93){t.exit("chunkString");const E=t.exit("gfmFootnoteCallString");return a.includes(Ii(r.sliceSerialize(E)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(_),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(_)}return dt(_)||(u=!0),l++,t.consume(_),_===92?v:p}function v(_){return _===91||_===92||_===93?(t.consume(_),l++,p):p(_)}}function YL(t,e,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l,u=0,h;return m;function m(I){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(I),t.exit("gfmFootnoteDefinitionLabelMarker"),p}function p(I){return I===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(I),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",v):n(I)}function v(I){if(u>999||I===93&&!h||I===null||I===91||dt(I))return n(I);if(I===93){t.exit("chunkString");const U=t.exit("gfmFootnoteDefinitionLabelString");return l=Ii(r.sliceSerialize(U)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(I),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),E}return dt(I)||(h=!0),u++,t.consume(I),I===92?_:v}function _(I){return I===91||I===92||I===93?(t.consume(I),u++,v):v(I)}function E(I){return I===58?(t.enter("definitionMarker"),t.consume(I),t.exit("definitionMarker"),a.includes(l)||a.push(l),Qe(t,w,"gfmFootnoteDefinitionWhitespace")):n(I)}function w(I){return e(I)}}function QL(t,e,n){return t.check(hc,e,t.attempt(qL,e,n))}function XL(t){t.exit("gfmFootnoteDefinition")}function WL(t,e,n){const r=this;return Qe(t,a,"gfmFootnoteDefinitionIndent",5);function a(l){const u=r.events[r.events.length-1];return u&&u[1].type==="gfmFootnoteDefinitionIndent"&&u[2].sliceSerialize(u[1],!0).length===4?e(l):n(l)}}function JL(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:l,resolveAll:a};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function a(u,h){let m=-1;for(;++m<u.length;)if(u[m][0]==="enter"&&u[m][1].type==="strikethroughSequenceTemporary"&&u[m][1]._close){let p=m;for(;p--;)if(u[p][0]==="exit"&&u[p][1].type==="strikethroughSequenceTemporary"&&u[p][1]._open&&u[m][1].end.offset-u[m][1].start.offset===u[p][1].end.offset-u[p][1].start.offset){u[m][1].type="strikethroughSequence",u[p][1].type="strikethroughSequence";const v={type:"strikethrough",start:Object.assign({},u[p][1].start),end:Object.assign({},u[m][1].end)},_={type:"strikethroughText",start:Object.assign({},u[p][1].end),end:Object.assign({},u[m][1].start)},E=[["enter",v,h],["enter",u[p][1],h],["exit",u[p][1],h],["enter",_,h]],w=h.parser.constructs.insideSpan.null;w&&Yn(E,E.length,0,nd(w,u.slice(p+1,m),h)),Yn(E,E.length,0,[["exit",_,h],["enter",u[m][1],h],["exit",u[m][1],h],["exit",v,h]]),Yn(u,p-1,m-p+3,E),m=p+E.length-2;break}}for(m=-1;++m<u.length;)u[m][1].type==="strikethroughSequenceTemporary"&&(u[m][1].type="data");return u}function l(u,h,m){const p=this.previous,v=this.events;let _=0;return E;function E(I){return p===126&&v[v.length-1][1].type!=="characterEscape"?m(I):(u.enter("strikethroughSequenceTemporary"),w(I))}function w(I){const U=Zo(p);if(I===126)return _>1?m(I):(u.consume(I),_++,w);if(_<2&&!n)return m(I);const P=u.exit("strikethroughSequenceTemporary"),z=Zo(I);return P._open=!z||z===2&&!!U,P._close=!U||U===2&&!!z,h(I)}}}class ZL{constructor(){this.map=[]}add(e,n,r){eV(this,e,n,r)}consume(e){if(this.map.sort(function(l,u){return l[0]-u[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let a=r.pop();for(;a;){for(const l of a)e.push(l);a=r.pop()}this.map.length=0}}function eV(t,e,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<t.map.length;){if(t.map[a][0]===e){t.map[a][1]+=n,t.map[a][2].push(...r);return}a+=1}t.map.push([e,n,r])}}function tV(t,e){let n=!1;const r=[];for(;e<t.length;){const a=t[e];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const l=r.length-1;r[l]=r[l]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function nV(){return{flow:{null:{name:"table",tokenize:iV,resolveAll:rV}}}}function iV(t,e,n){const r=this;let a=0,l=0,u;return h;function h(A){let C=r.events.length-1;for(;C>-1;){const ue=r.events[C][1].type;if(ue==="lineEnding"||ue==="linePrefix")C--;else break}const D=C>-1?r.events[C][1].type:null,R=D==="tableHead"||D==="tableRow"?G:m;return R===G&&r.parser.lazy[r.now().line]?n(A):R(A)}function m(A){return t.enter("tableHead"),t.enter("tableRow"),p(A)}function p(A){return A===124||(u=!0,l+=1),v(A)}function v(A){return A===null?n(A):Ee(A)?l>1?(l=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),w):n(A):Ue(A)?Qe(t,v,"whitespace")(A):(l+=1,u&&(u=!1,a+=1),A===124?(t.enter("tableCellDivider"),t.consume(A),t.exit("tableCellDivider"),u=!0,v):(t.enter("data"),_(A)))}function _(A){return A===null||A===124||dt(A)?(t.exit("data"),v(A)):(t.consume(A),A===92?E:_)}function E(A){return A===92||A===124?(t.consume(A),_):_(A)}function w(A){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(A):(t.enter("tableDelimiterRow"),u=!1,Ue(A)?Qe(t,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):I(A))}function I(A){return A===45||A===58?P(A):A===124?(u=!0,t.enter("tableCellDivider"),t.consume(A),t.exit("tableCellDivider"),U):ce(A)}function U(A){return Ue(A)?Qe(t,P,"whitespace")(A):P(A)}function P(A){return A===58?(l+=1,u=!0,t.enter("tableDelimiterMarker"),t.consume(A),t.exit("tableDelimiterMarker"),z):A===45?(l+=1,z(A)):A===null||Ee(A)?ee(A):ce(A)}function z(A){return A===45?(t.enter("tableDelimiterFiller"),F(A)):ce(A)}function F(A){return A===45?(t.consume(A),F):A===58?(u=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(A),t.exit("tableDelimiterMarker"),q):(t.exit("tableDelimiterFiller"),q(A))}function q(A){return Ue(A)?Qe(t,ee,"whitespace")(A):ee(A)}function ee(A){return A===124?I(A):A===null||Ee(A)?!u||a!==l?ce(A):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(A)):ce(A)}function ce(A){return n(A)}function G(A){return t.enter("tableRow"),j(A)}function j(A){return A===124?(t.enter("tableCellDivider"),t.consume(A),t.exit("tableCellDivider"),j):A===null||Ee(A)?(t.exit("tableRow"),e(A)):Ue(A)?Qe(t,j,"whitespace")(A):(t.enter("data"),k(A))}function k(A){return A===null||A===124||dt(A)?(t.exit("data"),j(A)):(t.consume(A),A===92?O:k)}function O(A){return A===92||A===124?(t.consume(A),k):k(A)}}function rV(t,e){let n=-1,r=!0,a=0,l=[0,0,0,0],u=[0,0,0,0],h=!1,m=0,p,v,_;const E=new ZL;for(;++n<t.length;){const w=t[n],I=w[1];w[0]==="enter"?I.type==="tableHead"?(h=!1,m!==0&&(Ob(E,e,m,p,v),v=void 0,m=0),p={type:"table",start:Object.assign({},I.start),end:Object.assign({},I.end)},E.add(n,0,[["enter",p,e]])):I.type==="tableRow"||I.type==="tableDelimiterRow"?(r=!0,_=void 0,l=[0,0,0,0],u=[0,n+1,0,0],h&&(h=!1,v={type:"tableBody",start:Object.assign({},I.start),end:Object.assign({},I.end)},E.add(n,0,[["enter",v,e]])),a=I.type==="tableDelimiterRow"?2:v?3:1):a&&(I.type==="data"||I.type==="tableDelimiterMarker"||I.type==="tableDelimiterFiller")?(r=!1,u[2]===0&&(l[1]!==0&&(u[0]=u[1],_=Yh(E,e,l,a,void 0,_),l=[0,0,0,0]),u[2]=n)):I.type==="tableCellDivider"&&(r?r=!1:(l[1]!==0&&(u[0]=u[1],_=Yh(E,e,l,a,void 0,_)),l=u,u=[l[1],n,0,0])):I.type==="tableHead"?(h=!0,m=n):I.type==="tableRow"||I.type==="tableDelimiterRow"?(m=n,l[1]!==0?(u[0]=u[1],_=Yh(E,e,l,a,n,_)):u[1]!==0&&(_=Yh(E,e,u,a,n,_)),a=0):a&&(I.type==="data"||I.type==="tableDelimiterMarker"||I.type==="tableDelimiterFiller")&&(u[3]=n)}for(m!==0&&Ob(E,e,m,p,v),E.consume(e.events),n=-1;++n<e.events.length;){const w=e.events[n];w[0]==="enter"&&w[1].type==="table"&&(w[1]._align=tV(e.events,n))}return t}function Yh(t,e,n,r,a,l){const u=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",h="tableContent";n[0]!==0&&(l.end=Object.assign({},zo(e.events,n[0])),t.add(n[0],0,[["exit",l,e]]));const m=zo(e.events,n[1]);if(l={type:u,start:Object.assign({},m),end:Object.assign({},m)},t.add(n[1],0,[["enter",l,e]]),n[2]!==0){const p=zo(e.events,n[2]),v=zo(e.events,n[3]),_={type:h,start:Object.assign({},p),end:Object.assign({},v)};if(t.add(n[2],0,[["enter",_,e]]),r!==2){const E=e.events[n[2]],w=e.events[n[3]];if(E[1].end=Object.assign({},w[1].end),E[1].type="chunkText",E[1].contentType="text",n[3]>n[2]+1){const I=n[2]+1,U=n[3]-n[2]-1;t.add(I,U,[])}}t.add(n[3]+1,0,[["exit",_,e]])}return a!==void 0&&(l.end=Object.assign({},zo(e.events,a)),t.add(a,0,[["exit",l,e]]),l=void 0),l}function Ob(t,e,n,r,a){const l=[],u=zo(e.events,n);a&&(a.end=Object.assign({},u),l.push(["exit",a,e])),r.end=Object.assign({},u),l.push(["exit",r,e]),t.add(n+1,0,l)}function zo(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const sV={name:"tasklistCheck",tokenize:oV};function aV(){return{text:{91:sV}}}function oV(t,e,n){const r=this;return a;function a(m){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(m):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(m),t.exit("taskListCheckMarker"),l)}function l(m){return dt(m)?(t.enter("taskListCheckValueUnchecked"),t.consume(m),t.exit("taskListCheckValueUnchecked"),u):m===88||m===120?(t.enter("taskListCheckValueChecked"),t.consume(m),t.exit("taskListCheckValueChecked"),u):n(m)}function u(m){return m===93?(t.enter("taskListCheckMarker"),t.consume(m),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),h):n(m)}function h(m){return Ee(m)?e(m):Ue(m)?t.check({tokenize:lV},e,n)(m):n(m)}}function lV(t,e,n){return Qe(t,r,"whitespace");function r(a){return a===null?n(a):e(a)}}function uV(t){return ZT([ML(),HL(),JL(t),nV(),aV()])}const cV={};function fl(t){const e=this,n=t||cV,r=e.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),l=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),u=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(uV(n)),l.push(kL()),u.push(RL(n))}const ad=["Public Forum (PF)","Lincoln-Douglas (LD)","Policy Debate (CX)","Big Questions Debate","World Schools Debate","Congressional Debate","Original Oratory (OO)","Informative Speaking (INFO)","United States Extemp (USX)","International Extemp (IX)","Dramatic Interpretation (DI)","Humorous Interpretation (HI)","Duo Interpretation","Program Oral Interpretation (POI)","Impromptu","Extemporaneous Commentary","Expository","Storytelling","Prose/Poetry","Parliamentary (British)","Parliamentary (Asian)","Model UN Speech","After Dinner Speaking","Toast/Ceremonial"],qS=["Proposition/Affirmative","Opposition/Negative","Government","Opposition","Pro","Con","Opening Member","Closing Member/Whip","Sponsor (Congress)","Individual/Solo","Neutral/Evaluator"],ke={DEBATE:"debate",INDIVIDUAL_SPEAKING:"individual",INTERP:"interp",EXTEMP:"extemp",LIMITED_PREP:"limited_prep"},el={"Public Forum (PF)":ke.DEBATE,"Lincoln-Douglas (LD)":ke.DEBATE,"Policy Debate (CX)":ke.DEBATE,"Big Questions Debate":ke.DEBATE,"World Schools Debate":ke.DEBATE,"Congressional Debate":ke.DEBATE,"Parliamentary (British)":ke.DEBATE,"Parliamentary (Asian)":ke.DEBATE,"Original Oratory (OO)":ke.INDIVIDUAL_SPEAKING,"Informative Speaking (INFO)":ke.INDIVIDUAL_SPEAKING,Expository:ke.INDIVIDUAL_SPEAKING,"After Dinner Speaking":ke.INDIVIDUAL_SPEAKING,"Toast/Ceremonial":ke.INDIVIDUAL_SPEAKING,"Model UN Speech":ke.INDIVIDUAL_SPEAKING,"Dramatic Interpretation (DI)":ke.INTERP,"Humorous Interpretation (HI)":ke.INTERP,"Duo Interpretation":ke.INTERP,"Program Oral Interpretation (POI)":ke.INTERP,"Prose/Poetry":ke.INTERP,Storytelling:ke.INTERP,"United States Extemp (USX)":ke.EXTEMP,"International Extemp (IX)":ke.EXTEMP,"Extemporaneous Commentary":ke.EXTEMP,Impromptu:ke.LIMITED_PREP},hV={[ke.DEBATE]:{name:"Debate",description:"Competitive debate formats with opposing sides",showOpposingArguments:!0,showClash:!0,showRebuttals:!0,showCrossEx:!0,rubric:`
## Debate Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Argumentation & Evidence** | 30% | Quality of arguments, evidence strength, logical warrants |
| **Clash & Engagement** | 25% | Direct responses to opponent, refutation quality |
| **Impact Analysis** | 20% | Magnitude, probability, timeframe of impacts |
| **Strategy & Organization** | 15% | Speech structure, time allocation, flow |
| **Delivery** | 10% | Clarity, persuasion, pace (speed okay if clear) |
    `,focusAreas:["Arguments for your position","Responses to opposing arguments","Evidence quality and sources","Impact calculus","Clash and refutation","Cross-examination presence"]},[ke.INDIVIDUAL_SPEAKING]:{name:"Individual Speaking",description:"Platform speaking events focused on original content",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Individual Speaking Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Content & Research** | 30% | Depth of information, accuracy, relevance |
| **Organization** | 25% | Structure, transitions, logical flow |
| **Delivery** | 25% | Vocal variety, eye contact, gestures, presence |
| **Analysis & Insight** | 15% | Original thought, depth of understanding |
| **Impact & Memorability** | 5% | Audience engagement, lasting impression |
    `,focusAreas:["Content clarity and accuracy","Speech organization and structure","Vocal delivery and variety","Physical presence and gestures","Audience engagement","Use of evidence and examples"]},[ke.INTERP]:{name:"Interpretation",description:"Performance events with scripted or literary material",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Interpretation Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Characterization** | 30% | Distinct, consistent, believable characters |
| **Emotional Range** | 25% | Depth of emotion, appropriate intensity |
| **Technical Skill** | 20% | Blocking, pops, timing, focus |
| **Material Selection** | 15% | Quality of cutting, thematic unity |
| **Overall Impact** | 10% | Audience connection, memorability |
    `,focusAreas:["Character development and distinction","Emotional authenticity","Physical performance (blocking, gestures)","Vocal variety and character voices","Timing and pacing","Thematic development"]},[ke.EXTEMP]:{name:"Extemporaneous Speaking",description:"Current events analysis with limited prep time",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Extemporaneous Speaking Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Analysis Depth** | 30% | Quality of reasoning, insight into topic |
| **Evidence & Sources** | 25% | Citation quality, recency, variety |
| **Organization** | 20% | Clear structure, strong transitions |
| **Answering the Question** | 15% | Directly addresses the prompt |
| **Delivery** | 10% | Conversational, engaging, minimal notes |
    `,focusAreas:["Direct answer to the question","Analysis depth and insight","Evidence and source citations","Current events knowledge","Logical organization","Conversational delivery"]},[ke.LIMITED_PREP]:{name:"Limited Preparation",description:"Impromptu speaking with minimal prep time",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Impromptu Speaking Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Quick Thinking** | 30% | Ability to form coherent thoughts rapidly |
| **Relevance** | 25% | Staying on topic, addressing the prompt |
| **Organization** | 20% | Clear structure despite limited prep |
| **Creativity** | 15% | Original examples, unique perspectives |
| **Delivery** | 10% | Confident, fluid despite improvisation |
    `,focusAreas:["Response relevance to prompt","Quick organization of thoughts","Creative examples and analogies","Confident delivery","Time management","Coherent structure"]}},HS=t=>{const e=el[t]||ke.INDIVIDUAL_SPEAKING;return hV[e]},Eg=t=>el[t]===ke.DEBATE?["Proposition/Affirmative","Opposition/Negative","Government","Opposition","Pro","Con","Opening Member","Closing Member/Whip","Sponsor (Congress)"]:["Individual/Solo","Neutral/Evaluator"],Mb=(t,e,n,r)=>{const a=HS(t),l=el[t];let u=`You are an expert ${t} coach and judge with years of experience evaluating this specific event type.`;return e&&(u+=`
Topic/Prompt: ${e}`),a.showOpposingArguments&&n&&(u+=`
Side/Position: ${n}`),u+=`

Evaluate the following speech based on this event-specific rubric:
${a.rubric}`,l===ke.DEBATE?u+=`

### DEBATE-SPECIFIC ANALYSIS:
- Analyze the strength and clarity of each argument presented
- Identify potential opposing arguments and how well they were preempted or addressed
- Evaluate evidence quality and proper citation
- Assess impact calculus (magnitude, probability, timeframe)
- Note clash quality and direct engagement with opposing points
- Consider cross-examination strategy if applicable`:l===ke.INDIVIDUAL_SPEAKING?u+=`

### INDIVIDUAL SPEAKING-SPECIFIC ANALYSIS:
- Focus on content clarity and information accuracy
- Do NOT analyze opposing arguments (this is not a debate event)
- Evaluate speech organization and flow
- Assess delivery techniques (vocal variety, gestures, eye contact)
- Consider audience engagement and persuasive techniques
- NOTE: Do not penalize for missing visual aids or props (text-only evaluation)`:l===ke.INTERP?u+=`

### INTERPRETATION-SPECIFIC ANALYSIS:
- Evaluate character development and distinction between characters
- Assess emotional authenticity and range
- Analyze physical performance elements described
- Consider pacing and timing
- Note thematic development and material selection quality
- Do NOT analyze arguments or debate elements (this is a performance event)`:l===ke.EXTEMP?u+=`

### EXTEMP-SPECIFIC ANALYSIS:
- Evaluate how directly the question/prompt is answered
- Assess depth of analysis on current events
- Check quality and recency of evidence cited
- Consider organization and structure
- Note delivery style (should be conversational, not memorized)
- Do NOT analyze debate clash (this is not a debate event)`:l===ke.LIMITED_PREP&&(u+=`

### IMPROMPTU-SPECIFIC ANALYSIS:
- Evaluate quick thinking and coherent thought formation
- Assess relevance to the prompt given
- Consider organization despite limited preparation time
- Note creative examples and unique perspectives
- Evaluate confidence and delivery fluidity
- Be understanding of minor hesitations given the time constraints`),u+=`

Please provide the output in the following Markdown format:

## Executive Summary
(Brief 2-3 sentence overview of overall performance)

## Scorecard
| Category | Score (0-10) | Notes |
| --- | --- | --- |
(Fill based on the rubric above)
| **Total** | **(Average/Sum)** | |

## Key ${l===ke.DEBATE?"Argument":"Content"} Analysis
(Detailed breakdown of main points made)
${a.showOpposingArguments?`
## Opposing Arguments & Clash
(Analysis of responses to opponent arguments and missed clash opportunities)`:""}

## Constructive Feedback
- **Strengths**: ...
- **Areas for Improvement**: ...

## Recommended Drills
(3-5 specific exercises to improve weak areas, tailored to this event type)

## Quick Tips for Next Round
(2-3 actionable items for immediate improvement)

SPEECH TEXT:
${r}`,u},jb={[ke.DEBATE]:{label:"Debate Events",icon:"",color:"text-red-400"},[ke.INDIVIDUAL_SPEAKING]:{label:"Individual Speaking",icon:"",color:"text-blue-400"},[ke.INTERP]:{label:"Interpretation",icon:"",color:"text-purple-400"},[ke.EXTEMP]:{label:"Extemporaneous",icon:"",color:"text-green-400"},[ke.LIMITED_PREP]:{label:"Limited Prep",icon:"",color:"text-yellow-400"}};var Pb;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(Pb||(Pb={}));var Lb;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(Lb||(Lb={}));var Vb;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Vb||(Vb={}));const zb=["user","model","function","system"];var Ub;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Ub||(Ub={}));var Bb;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Bb||(Bb={}));var Fb;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Fb||(Fb={}));var qb;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(qb||(qb={}));var ju;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(ju||(ju={}));var Hb;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(Hb||(Hb={}));var Gb;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Gb||(Gb={}));var $b;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})($b||($b={}));class vn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Mo extends vn{constructor(e,n){super(e),this.response=n}}class GS extends vn{constructor(e,n,r,a){super(e),this.status=n,this.statusText=r,this.errorDetails=a}}class zs extends vn{}class $S extends vn{}const fV="https://generativelanguage.googleapis.com",dV="v1beta",mV="0.24.1",pV="genai-js";var za;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(za||(za={}));class gV{constructor(e,n,r,a,l){this.model=e,this.task=n,this.apiKey=r,this.stream=a,this.requestOptions=l}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||dV;let l=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||fV}/${r}/${this.model}:${this.task}`;return this.stream&&(l+="?alt=sse"),l}}function yV(t){const e=[];return t?.apiClient&&e.push(t.apiClient),e.push(`${pV}/${mV}`),e.join(" ")}async function vV(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",yV(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(a){throw new zs(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${a.message}`)}for(const[a,l]of r.entries()){if(a==="x-goog-api-key")throw new zs(`Cannot set reserved header name ${a}`);if(a==="x-goog-api-client")throw new zs(`Header name ${a} can only be set using the apiClient field`);n.append(a,l)}}return n}async function _V(t,e,n,r,a,l){const u=new gV(t,e,n,r,l);return{url:u.toString(),fetchOptions:Object.assign(Object.assign({},wV(l)),{method:"POST",headers:await vV(u),body:a})}}async function dc(t,e,n,r,a,l={},u=fetch){const{url:h,fetchOptions:m}=await _V(t,e,n,r,a,l);return xV(h,m,u)}async function xV(t,e,n=fetch){let r;try{r=await n(t,e)}catch(a){bV(a,t)}return r.ok||await EV(r,t),r}function bV(t,e){let n=t;throw n.name==="AbortError"?(n=new $S(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof GS||t instanceof zs||(n=new vn(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function EV(t,e){let n="",r;try{const a=await t.json();n=a.error.message,a.error.details&&(n+=` ${JSON.stringify(a.error.details)}`,r=a.error.details)}catch{}throw new GS(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function wV(t){const e={};if(t?.signal!==void 0||t?.timeout>=0){const n=new AbortController;t?.timeout>=0&&setTimeout(()=>n.abort(),t.timeout),t?.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}function By(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),of(t.candidates[0]))throw new Mo(`${Ns(t)}`,t);return TV(t)}else if(t.promptFeedback)throw new Mo(`Text not available. ${Ns(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),of(t.candidates[0]))throw new Mo(`${Ns(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Kb(t)[0]}else if(t.promptFeedback)throw new Mo(`Function call not available. ${Ns(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),of(t.candidates[0]))throw new Mo(`${Ns(t)}`,t);return Kb(t)}else if(t.promptFeedback)throw new Mo(`Function call not available. ${Ns(t)}`,t)},t}function TV(t){var e,n,r,a;const l=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const u of(a=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||a===void 0?void 0:a.parts)u.text&&l.push(u.text),u.executableCode&&l.push("\n```"+u.executableCode.language+`
`+u.executableCode.code+"\n```\n"),u.codeExecutionResult&&l.push("\n```\n"+u.codeExecutionResult.output+"\n```\n");return l.length>0?l.join(""):""}function Kb(t){var e,n,r,a;const l=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const u of(a=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||a===void 0?void 0:a.parts)u.functionCall&&l.push(u.functionCall);if(l.length>0)return l}const SV=[ju.RECITATION,ju.SAFETY,ju.LANGUAGE];function of(t){return!!t.finishReason&&SV.includes(t.finishReason)}function Ns(t){var e,n,r;let a="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)a+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(a+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(a+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const l=t.candidates[0];of(l)&&(a+=`Candidate was blocked due to ${l.finishReason}`,l.finishMessage&&(a+=`: ${l.finishMessage}`))}return a}function Xu(t){return this instanceof Xu?(this.v=t,this):new Xu(t)}function AV(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),a,l=[];return a={},u("next"),u("throw"),u("return"),a[Symbol.asyncIterator]=function(){return this},a;function u(E){r[E]&&(a[E]=function(w){return new Promise(function(I,U){l.push([E,w,I,U])>1||h(E,w)})})}function h(E,w){try{m(r[E](w))}catch(I){_(l[0][3],I)}}function m(E){E.value instanceof Xu?Promise.resolve(E.value.v).then(p,v):_(l[0][2],E)}function p(E){h("next",E)}function v(E){h("throw",E)}function _(E,w){E(w),l.shift(),l.length&&h(l[0][0],l[0][1])}}const Yb=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function CV(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=kV(e),[r,a]=n.tee();return{stream:NV(r),response:IV(a)}}async function IV(t){const e=[],n=t.getReader();for(;;){const{done:r,value:a}=await n.read();if(r)return By(RV(e));e.push(a)}}function NV(t){return AV(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:a}=yield Xu(n.read());if(a)break;yield yield Xu(By(r))}})}function kV(t){const e=t.getReader();return new ReadableStream({start(r){let a="";return l();function l(){return e.read().then(({value:u,done:h})=>{if(h){if(a.trim()){r.error(new vn("Failed to parse stream"));return}r.close();return}a+=u;let m=a.match(Yb),p;for(;m;){try{p=JSON.parse(m[1])}catch{r.error(new vn(`Error parsing JSON response: "${m[1]}"`));return}r.enqueue(p),a=a.substring(m[0].length),m=a.match(Yb)}return l()}).catch(u=>{let h=u;throw h.stack=u.stack,h.name==="AbortError"?h=new $S("Request aborted when reading from the stream"):h=new vn("Error reading from the stream"),h})}}})}function RV(t){const e=t[t.length-1],n={promptFeedback:e?.promptFeedback};for(const r of t){if(r.candidates){let a=0;for(const l of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[a]||(n.candidates[a]={index:a}),n.candidates[a].citationMetadata=l.citationMetadata,n.candidates[a].groundingMetadata=l.groundingMetadata,n.candidates[a].finishReason=l.finishReason,n.candidates[a].finishMessage=l.finishMessage,n.candidates[a].safetyRatings=l.safetyRatings,l.content&&l.content.parts){n.candidates[a].content||(n.candidates[a].content={role:l.content.role||"user",parts:[]});const u={};for(const h of l.content.parts)h.text&&(u.text=h.text),h.functionCall&&(u.functionCall=h.functionCall),h.executableCode&&(u.executableCode=h.executableCode),h.codeExecutionResult&&(u.codeExecutionResult=h.codeExecutionResult),Object.keys(u).length===0&&(u.text=""),n.candidates[a].content.parts.push(u)}a++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}async function KS(t,e,n,r){const a=await dc(e,za.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return CV(a)}async function YS(t,e,n,r){const l=await(await dc(e,za.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:By(l)}}function QS(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Wu(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return DV(e)}function DV(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,a=!1;for(const l of t)"functionResponse"in l?(n.parts.push(l),a=!0):(e.parts.push(l),r=!0);if(r&&a)throw new vn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!a)throw new vn("No content is provided for sending chat message.");return r?e:n}function OV(t,e){var n;let r={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(n=e?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const a=t.generateContentRequest!=null;if(t.contents){if(a)throw new zs("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(a)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const l=Wu(t);r.contents=[l]}return{generateContentRequest:r}}function Qb(t){let e;return t.contents?e=t:e={contents:[Wu(t)]},t.systemInstruction&&(e.systemInstruction=QS(t.systemInstruction)),e}function MV(t){return typeof t=="string"||Array.isArray(t)?{content:Wu(t)}:t}const Xb=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],jV={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function PV(t){let e=!1;for(const n of t){const{role:r,parts:a}=n;if(!e&&r!=="user")throw new vn(`First content should be with role 'user', got ${r}`);if(!zb.includes(r))throw new vn(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(zb)}`);if(!Array.isArray(a))throw new vn("Content should have 'parts' property with an array of Parts");if(a.length===0)throw new vn("Each Content should have at least one part");const l={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const h of a)for(const m of Xb)m in h&&(l[m]+=1);const u=jV[r];for(const h of Xb)if(!u.includes(h)&&l[h]>0)throw new vn(`Content with role '${r}' can't contain '${h}' part`);e=!0}}function Wb(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}const Jb="SILENT_ERROR";class LV{constructor(e,n,r,a={}){this.model=n,this.params=r,this._requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r?.history&&(PV(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,a,l,u,h,m;await this._sendPromise;const p=Wu(e),v={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(u=this.params)===null||u===void 0?void 0:u.toolConfig,systemInstruction:(h=this.params)===null||h===void 0?void 0:h.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,p]},_=Object.assign(Object.assign({},this._requestOptions),n);let E;return this._sendPromise=this._sendPromise.then(()=>YS(this._apiKey,this.model,v,_)).then(w=>{var I;if(Wb(w.response)){this._history.push(p);const U=Object.assign({parts:[],role:"model"},(I=w.response.candidates)===null||I===void 0?void 0:I[0].content);this._history.push(U)}else{const U=Ns(w.response);U&&console.warn(`sendMessage() was unsuccessful. ${U}. Inspect response object for details.`)}E=w}).catch(w=>{throw this._sendPromise=Promise.resolve(),w}),await this._sendPromise,E}async sendMessageStream(e,n={}){var r,a,l,u,h,m;await this._sendPromise;const p=Wu(e),v={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(u=this.params)===null||u===void 0?void 0:u.toolConfig,systemInstruction:(h=this.params)===null||h===void 0?void 0:h.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,p]},_=Object.assign(Object.assign({},this._requestOptions),n),E=KS(this._apiKey,this.model,v,_);return this._sendPromise=this._sendPromise.then(()=>E).catch(w=>{throw new Error(Jb)}).then(w=>w.response).then(w=>{if(Wb(w)){this._history.push(p);const I=Object.assign({},w.candidates[0].content);I.role||(I.role="model"),this._history.push(I)}else{const I=Ns(w);I&&console.warn(`sendMessageStream() was unsuccessful. ${I}. Inspect response object for details.`)}}).catch(w=>{w.message!==Jb&&console.error(w)}),E}}async function VV(t,e,n,r){return(await dc(e,za.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}async function zV(t,e,n,r){return(await dc(e,za.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function UV(t,e,n,r){const a=n.requests.map(u=>Object.assign(Object.assign({},u),{model:e}));return(await dc(e,za.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:a}),r)).json()}class Zb{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=QS(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const a=Qb(e),l=Object.assign(Object.assign({},this._requestOptions),n);return YS(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},a),l)}async generateContentStream(e,n={}){var r;const a=Qb(e),l=Object.assign(Object.assign({},this._requestOptions),n);return KS(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},a),l)}startChat(e){var n;return new LV(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=OV(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),a=Object.assign(Object.assign({},this._requestOptions),n);return VV(this.apiKey,this.model,r,a)}async embedContent(e,n={}){const r=MV(e),a=Object.assign(Object.assign({},this._requestOptions),n);return zV(this.apiKey,this.model,r,a)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return UV(this.apiKey,this.model,e,r)}}class Ur{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new vn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Zb(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new zs("Cached content must contain a `name` field.");if(!e.model)throw new zs("Cached content must contain a `model` field.");const a=["model","systemInstruction"];for(const u of a)if(n?.[u]&&e[u]&&n?.[u]!==e[u]){if(u==="model"){const h=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,m=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(h===m)continue}throw new zs(`Different value for "${u}" specified in modelParams (${n[u]}) and cachedContent (${e[u]})`)}const l=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new Zb(this.apiKey,l,r)}}function XS(t){return new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function BV(t){const e=new Date(t),r=new Date-e,a=Math.floor(r/6e4),l=Math.floor(r/36e5),u=Math.floor(r/864e5);return a<1?"Just now":a<60?`${a}m ago`:l<24?`${l}h ago`:u<7?`${u}d ago`:XS(t)}function FV(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}const eE={get:(t,e=null)=>{try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch{return e}},set:(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(n){console.error("Storage error:",n)}},remove:t=>{try{localStorage.removeItem(t)}catch(e){console.error("Storage error:",e)}}},tE="adjudicator_history",nE=50;function qa(){const[t,e]=Z.useState([]),[n,r]=Z.useState(!0);Z.useEffect(()=>{const w=eE.get(tE,[]);e(w),r(!1)},[]),Z.useEffect(()=>{n||eE.set(tE,t)},[t,n]);const a=Z.useCallback(w=>{const I={id:FV(),createdAt:new Date().toISOString(),...w};return e(U=>[I,...U].slice(0,nE)),I.id},[]),l=Z.useCallback(w=>{e(I=>I.filter(U=>U.id!==w))},[]),u=Z.useCallback(()=>{e([])},[]),h=Z.useCallback(w=>t.find(I=>I.id===w),[t]),m=Z.useCallback(w=>t.filter(I=>I.type===w),[t]),p=Z.useCallback((w,I)=>{e(U=>U.map(P=>P.id===w?{...P,...I,updatedAt:new Date().toISOString()}:P))},[]),v=Z.useCallback(()=>{const w=JSON.stringify(t,null,2),I=new Blob([w],{type:"application/json"}),U=URL.createObjectURL(I),P=document.createElement("a");P.href=U,P.download=`adjudicator-history-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(U)},[t]),_=Z.useCallback(async w=>{try{const I=await w.text(),U=JSON.parse(I);return Array.isArray(U)?(e(P=>{const z=new Set(P.map(q=>q.id));return[...U.filter(q=>!z.has(q.id)),...P].slice(0,nE)}),{success:!0,count:U.length}):{success:!1,error:"Invalid format"}}catch(I){return{success:!1,error:I.message}}},[]),E={total:t.length,byType:{judge:t.filter(w=>w.type==="judge").length,board:t.filter(w=>w.type==="board").length,coach:t.filter(w=>w.type==="coach").length,strategy:t.filter(w=>w.type==="strategy").length,extemp:t.filter(w=>w.type==="extemp").length,tone:t.filter(w=>w.type==="tone").length},lastSession:t[0]||null};return{history:t,isLoading:n,stats:E,addSession:a,deleteSession:l,clearHistory:u,getSession:h,getSessionsByType:m,updateSession:p,exportHistory:v,importHistory:_}}const qV=({apiKey:t})=>{const[e,n]=Z.useState("Public Forum (PF)"),[r,a]=Z.useState("Proposition/Affirmative"),[l,u]=Z.useState(""),[h,m]=Z.useState(""),[p,v]=Z.useState(!1),[_,E]=Z.useState(null),[w,I]=Z.useState(""),[U,P]=Z.useState(!1),[z,F]=Z.useState(!1),{addSession:q}=qa(),ee=Z.useMemo(()=>HS(e),[e]),ce=Z.useMemo(()=>Eg(e),[e]),G=el[e],j=jb[G],k=D=>{n(D);const R=Eg(D);R.includes(r)||a(R[0])},O=async()=>{if(!t){I("Please enter a valid Gemini API Key in Settings.");return}if(!h.trim()){I("Please enter the speech transcript.");return}v(!0),I(""),E(null);try{const R=new Ur(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),ue=Mb(e,l,r,h),oe=(await(await R.generateContent(ue)).response).text();E(oe),q({type:"judge",title:l||`${e} Analysis`,input:{transcript:h.substring(0,500)+(h.length>500?"...":"")},result:oe,metadata:{speechType:e,side:ee.showOpposingArguments?r:null,topic:l,eventCategory:G}}),F(!0),setTimeout(()=>F(!1),2e3)}catch(D){console.error("Gemini Error:",D);try{const ue=new Ur(t).getGenerativeModel({model:"gemini-1.5-flash"}),ae=Mb(e,l,r,h),me=(await(await ue.generateContent(ae)).response).text();E(me)}catch{I(`Error: ${D.message}. Please try again.`)}}finally{v(!1)}},A=()=>{_&&(navigator.clipboard.writeText(_),P(!0),setTimeout(()=>P(!1),2e3))},C=Z.useMemo(()=>{const D={};return ad.forEach(R=>{const ue=el[R];D[ue]||(D[ue]=[]),D[ue].push(R)}),D},[]);return y.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-[calc(100vh-8rem)]",children:[y.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[y.jsxs("div",{className:"glass-card space-y-4",children:[j&&y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("span",{className:"text-lg",children:j.icon}),y.jsx("span",{className:`text-sm font-medium ${j.color}`,children:j.label}),ee.showOpposingArguments&&y.jsx("span",{className:"px-2 py-0.5 text-xs bg-red-500/20 text-red-400 rounded-full",children:"Includes Clash Analysis"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Event Format"}),y.jsx("select",{value:e,onChange:D=>k(D.target.value),className:"input-field",children:Object.entries(C).map(([D,R])=>{const ue=jb[D];return y.jsx("optgroup",{label:`${ue?.icon||""} ${ue?.label||D}`,children:R.map(ae=>y.jsx("option",{value:ae,children:ae},ae))},D)})})]}),ee.showOpposingArguments?y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Side/Position"}),y.jsx("select",{value:r,onChange:D=>a(D.target.value),className:"input-field",children:ce.map(D=>y.jsx("option",{value:D,children:D},D))})]}):y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Speaker Role"}),y.jsx("select",{value:r,onChange:D=>a(D.target.value),className:"input-field",children:ce.map(D=>y.jsx("option",{value:D,children:D},D))})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:ee.showOpposingArguments?"Resolution/Topic":"Speech Topic/Prompt"}),y.jsx("input",{type:"text",value:l,onChange:D=>u(D.target.value),placeholder:ee.showOpposingArguments?"Resolved: The United States should...":"Enter the topic or prompt...",className:"input-field"})]}),y.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx(Ag,{className:"w-4 h-4 text-primary"}),y.jsx("span",{className:"text-sm font-medium text-text-secondary",children:"This analysis will focus on:"})]}),y.jsxs("div",{className:"flex flex-wrap gap-2",children:[ee.focusAreas.slice(0,4).map((D,R)=>y.jsx("span",{className:"px-2 py-1 text-xs bg-slate-700/50 text-text-secondary rounded-full",children:D},R)),ee.focusAreas.length>4&&y.jsxs("span",{className:"px-2 py-1 text-xs text-text-muted",children:["+",ee.focusAreas.length-4," more"]})]})]})]}),y.jsxs("div",{className:"flex-1 glass-card flex flex-col p-0 overflow-hidden",children:[y.jsx("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50",children:y.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Speech Transcript"})}),y.jsx("textarea",{value:h,onChange:D=>m(D.target.value),placeholder:"Paste the speech text here...",className:"flex-1 w-full bg-transparent p-4 resize-none focus:outline-none font-mono text-sm text-text-primary"}),y.jsxs("div",{className:"p-4 border-t border-slate-700/50 bg-slate-900/50 flex justify-between items-center",children:[y.jsxs("span",{className:"text-xs text-text-muted",children:[h.length," chars"]}),y.jsxs("button",{onClick:O,disabled:p,className:"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[p?y.jsx(Br,{className:"w-4 h-4 animate-spin"}):y.jsx(Ig,{className:"w-4 h-4"}),p?"Analyzing...":`Judge ${ee.name}`]})]})]}),w&&y.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-2 text-red-400 text-sm",children:[y.jsx(Mr,{className:"w-4 h-4"}),w]})]}),y.jsxs("div",{className:"w-full lg:w-1/2 glass-card overflow-hidden flex flex-col p-0",children:[y.jsxs("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50 flex justify-between items-center",children:[y.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[y.jsx(Dr,{className:"w-4 h-4 text-primary"}),ee.name," Evaluation"]}),_&&y.jsxs("div",{className:"flex items-center gap-2",children:[z&&y.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1",children:[y.jsx(jr,{className:"w-3 h-3"})," Saved"]}),y.jsx("button",{onClick:A,className:"text-text-secondary hover:text-white transition-colors",title:"Copy to clipboard",children:U?y.jsx(Us,{className:"w-4 h-4 text-green-500"}):y.jsx(tl,{className:"w-4 h-4"})})]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:_?y.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-cyan-400 prose-a:text-accent prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-2 prose-td:p-2 prose-th:bg-slate-800/50",children:y.jsx(hl,{remarkPlugins:[fl],children:_})}):y.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-text-muted opacity-50",children:[y.jsx("span",{className:"text-5xl mb-4",children:j?.icon||""}),y.jsxs("p",{className:"text-center",children:["Ready to evaluate your ",ee.name.toLowerCase()," speech.",y.jsx("br",{}),y.jsx("span",{className:"text-xs",children:"Enter details and click Analyze."})]})]})})]})]})},HV=({apiKey:t})=>{const[e,n]=Z.useState("Public Forum (PF)"),[r,a]=Z.useState("Proposition/Affirmative"),[l,u]=Z.useState(""),[h,m]=Z.useState(""),[p,v]=Z.useState([]),[_,E]=Z.useState(!1),[w,I]=Z.useState(null),[U,P]=Z.useState(""),[z,F]=Z.useState(!1),[q,ee]=Z.useState(!1),ce=Z.useRef(null),{addSession:G}=qa(),j=C=>{const D=Array.from(C.target.files);D.length!==0&&(D.forEach(R=>{if(R.size>4*1024*1024){P(ae=>(ae?`${ae} `:"")+`Skipped ${R.name} (too large).`);return}const ue=new FileReader;ue.onloadend=()=>{const ae=ue.result.split(",")[1];v(Y=>[...Y,{id:Math.random().toString(36).substr(2,9),url:ue.result,raw:ae,mimeType:R.type,name:R.name}])},ue.readAsDataURL(R)}),ce.current&&(ce.current.value=""))},k=C=>{v(D=>D.filter(R=>R.id!==C))},O=async()=>{if(!t){P("Please enter a valid Gemini API Key in Settings.");return}if(p.length===0&&!h.trim()){P("Please upload images of the board or provide a description.");return}E(!0),P(""),I(null);try{const D=new Ur(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),R=`
        Expert Debate Coach (Flowing). Evaluate board/flow. 
        Context: ${e}, ${r}, Topic: ${l}. 
        Assess Organization, Grouping, Legibility, Suggestions. 
        User Notes: ${h}. 
        
        Please provide the output in the following Markdown format:
        ## Executive Summary
        (Brief overview)

        ## Scorecard
        | Category | Score (0-10) | Notes |
        | --- | --- | --- |
        | Organization | | |
        | Grouping | | |
        | Legibility | | |
        | Strategy | | |
        | **Total** | **(Sum)** | |

        ## Detailed Feedback
        ...
      `,ue=p.map(me=>({inlineData:{data:me.raw,mimeType:me.mimeType}})),oe=(await(await D.generateContent([R,...ue])).response).text();I(oe),G({type:"board",title:l||"Board Evaluation",input:{imageCount:p.length,description:h.substring(0,200)},result:oe,metadata:{speechType:e,side:r,topic:l}}),ee(!0),setTimeout(()=>ee(!1),2e3)}catch(C){console.error("Gemini Error:",C);try{const R=new Ur(t).getGenerativeModel({model:"gemini-1.5-flash"}),ue="... (same prompt) ...";P(`Error: ${C.message}. Please try again.`)}catch{P(`Error: ${C.message}`)}}finally{E(!1)}},A=()=>{w&&(navigator.clipboard.writeText(w),F(!0),setTimeout(()=>F(!1),2e3))};return y.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-[calc(100vh-8rem)]",children:[y.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[y.jsxs("div",{className:"glass-card space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Format"}),y.jsx("select",{value:e,onChange:C=>n(C.target.value),className:"input-field",children:ad.map(C=>y.jsx("option",{value:C,children:C},C))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Side"}),y.jsx("select",{value:r,onChange:C=>a(C.target.value),className:"input-field",children:qS.map(C=>y.jsx("option",{value:C,children:C},C))})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Topic"}),y.jsx("input",{type:"text",value:l,onChange:C=>u(C.target.value),placeholder:"Resolved: The United States should...",className:"input-field"})]})]}),y.jsxs("div",{className:"flex-1 glass-card flex flex-col p-0 overflow-hidden",children:[y.jsx("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50",children:y.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Board Images & Notes"})}),y.jsxs("div",{className:"flex-1 p-4 overflow-y-auto custom-scrollbar space-y-4",children:[p.length>0&&y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:p.map(C=>y.jsxs("div",{className:"relative group aspect-video bg-slate-800 rounded-lg overflow-hidden border border-slate-700",children:[y.jsx("img",{src:C.url,alt:"Board",className:"w-full h-full object-cover"}),y.jsx("button",{onClick:()=>k(C.id),className:"absolute top-1 right-1 p-1 bg-red-500/80 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:y.jsx(mE,{className:"w-3 h-3"})})]},C.id))}),y.jsxs("div",{onClick:()=>ce.current?.click(),className:"border-2 border-dashed border-slate-700 rounded-xl p-8 flex flex-col items-center justify-center text-slate-500 hover:border-primary hover:text-primary hover:bg-primary/5 transition-all cursor-pointer",children:[y.jsx(fE,{className:"w-8 h-8 mb-2"}),y.jsx("span",{className:"text-sm font-medium",children:"Click to upload images"}),y.jsx("span",{className:"text-xs opacity-70",children:"Max 4MB per file"}),y.jsx("input",{type:"file",ref:ce,onChange:j,multiple:!0,accept:"image/*",className:"hidden"})]}),y.jsx("textarea",{value:h,onChange:C=>m(C.target.value),placeholder:"Add any specific notes or questions about the flow...",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg p-3 text-sm text-text-primary focus:outline-none focus:border-primary resize-none h-24"})]}),y.jsxs("div",{className:"p-4 border-t border-slate-700/50 bg-slate-900/50 flex justify-between items-center",children:[y.jsxs("span",{className:"text-xs text-text-muted",children:[p.length," images"]}),y.jsxs("button",{onClick:O,disabled:_,className:"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[_?y.jsx(Br,{className:"w-4 h-4 animate-spin"}):y.jsx(Ig,{className:"w-4 h-4"}),_?"Analyzing...":"Evaluate Board"]})]})]}),U&&y.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-2 text-red-400 text-sm",children:[y.jsx(Mr,{className:"w-4 h-4"}),U]})]}),y.jsxs("div",{className:"w-full lg:w-1/2 glass-card overflow-hidden flex flex-col p-0",children:[y.jsxs("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50 flex justify-between items-center",children:[y.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[y.jsx(Vp,{className:"w-4 h-4 text-primary"}),"Evaluation"]}),w&&y.jsxs("div",{className:"flex items-center gap-2",children:[q&&y.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1",children:[y.jsx(jr,{className:"w-3 h-3"})," Saved"]}),y.jsx("button",{onClick:A,className:"text-text-secondary hover:text-white transition-colors",title:"Copy to clipboard",children:z?y.jsx(Us,{className:"w-4 h-4 text-green-500"}):y.jsx(tl,{className:"w-4 h-4"})})]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:w?y.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-cyan-400 prose-a:text-accent prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-2 prose-td:p-2 prose-th:bg-slate-800/50",children:y.jsx(hl,{remarkPlugins:[fl],children:w})}):y.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-text-muted opacity-50",children:[y.jsx(Vp,{className:"w-16 h-16 mb-4"}),y.jsx("p",{children:"Upload board images and click Evaluate."})]})})]})]})},GV=({analyser:t,isRecording:e})=>{const n=Z.useRef(null);return Z.useEffect(()=>{if(!t||!e||!n.current)return;const r=n.current,a=r.getContext("2d"),l=t.frequencyBinCount,u=new Uint8Array(l);let h;const m=()=>{h=requestAnimationFrame(m),t.getByteFrequencyData(u),a.clearRect(0,0,r.width,r.height);const p=r.width/l*2.5;let v,_=0;for(let E=0;E<l;E++){v=u[E]/2;const w=a.createLinearGradient(0,r.height,0,0);w.addColorStop(0,"#06b6d4"),w.addColorStop(1,"#8b5cf6"),a.fillStyle=w,a.fillRect(_,r.height-v,p,v),_+=p+1}};return m(),()=>cancelAnimationFrame(h)},[t,e]),e?y.jsx("canvas",{ref:n,width:300,height:100,className:"w-full h-24 rounded-lg bg-slate-900/50"}):y.jsx("div",{className:"w-full h-24 bg-slate-900/50 rounded-lg flex items-center justify-center text-slate-700 text-xs",children:"Visualizer Ready"})},$V=({analyser:t,isRecording:e})=>{const[n,r]=Z.useState({volume:0,brightness:0}),[a,l]=Z.useState({label:"Ready",color:"text-slate-500"}),u=Z.useRef({volume:0,brightness:0});return Z.useEffect(()=>{if(!t||!e)return;const h=t.frequencyBinCount,m=new Uint8Array(h),p=new Uint8Array(t.fftSize);let v;const _=()=>{t.getByteFrequencyData(m),t.getByteTimeDomainData(p);let E=0;for(let ee=0;ee<p.length;ee++){const ce=(p[ee]-128)/128;E+=ce*ce}const w=Math.sqrt(E/p.length);let I=0,U=0;for(let ee=0;ee<h;ee++)I+=ee*m[ee],U+=m[ee];const P=U===0?0:I/U/h,z=.15;u.current.volume=u.current.volume*(1-z)+w*z,u.current.brightness=u.current.brightness*(1-z)+P*z;const{volume:F,brightness:q}=u.current;r({volume:F,brightness:q}),F<.01?l({label:"Listening...",color:"text-slate-500"}):F<.05?l({label:"Too Quiet",color:"text-amber-500"}):F>.6?l({label:"Too Loud",color:"text-red-500"}):q>.5?l({label:"Urgent / Intense",color:"text-orange-500"}):q<.2?l({label:"Serious",color:"text-indigo-500"}):l({label:"Balanced",color:"text-green-500"}),v=requestAnimationFrame(_)};return _(),()=>cancelAnimationFrame(v)},[t,e]),e?y.jsxs("div",{className:"flex flex-col items-center space-y-2 mt-4 animate-in fade-in",children:[y.jsx("div",{className:`text-lg font-bold ${a.color} transition-colors duration-300`,children:a.label}),y.jsxs("div",{className:"flex space-x-4 text-xs text-slate-400",children:[y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"h-16 w-4 bg-slate-800 rounded-full overflow-hidden relative",children:y.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-cyan-500 transition-all duration-100",style:{height:`${Math.min(n.volume*200,100)}%`}})}),y.jsx("span",{className:"mt-1",children:"Vol"})]}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"h-16 w-4 bg-slate-800 rounded-full overflow-hidden relative",children:y.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-purple-500 transition-all duration-100",style:{height:`${Math.min(n.brightness*300,100)}%`}})}),y.jsx("span",{className:"mt-1",children:"Tone"})]})]})]}):null},KV=({apiKey:t})=>{const[e,n]=Z.useState("Public Forum (PF)"),[r,a]=Z.useState("Proposition/Affirmative"),[l,u]=Z.useState(""),[h,m]=Z.useState(!1),[p,v]=Z.useState(0),[_,E]=Z.useState(null),[w,I]=Z.useState(null),[U,P]=Z.useState(null),[z,F]=Z.useState(!1),[q,ee]=Z.useState(null),[ce,G]=Z.useState(""),[j,k]=Z.useState(!1),[O,A]=Z.useState(!1),{addSession:C}=qa(),D=Z.useRef(null),R=Z.useRef(null),ue=Z.useRef([]),ae=Z.useRef(null),Y=Z.useRef(null),oe=M=>{const Ne=Math.floor(M/60),tt=M%60;return`${Ne}:${tt<10?"0":""}${tt}`},me=async()=>{G("");try{const M=await navigator.mediaDevices.getUserMedia({audio:!0});Y.current=M;const Ne=new(window.AudioContext||window.webkitAudioContext),tt=Ne.createAnalyser();Ne.createMediaStreamSource(M).connect(tt),tt.fftSize=256,ae.current=Ne,P(tt),D.current=new MediaRecorder(M),ue.current=[],D.current.ondataavailable=vt=>{vt.data.size>0&&ue.current.push(vt.data)},D.current.onstop=()=>{const vt=new Blob(ue.current,{type:"audio/webm"});E(vt);const At=new FileReader;At.readAsDataURL(vt),At.onloadend=()=>{const bt=At.result.split(",")[1];I({raw:bt,mimeType:vt.type})},Y.current&&Y.current.getTracks().forEach(bt=>bt.stop()),ae.current&&(ae.current.close(),ae.current=null,P(null))},D.current.start(),m(!0),v(0),I(null),E(null),ee(null),R.current=setInterval(()=>v(vt=>vt+1),1e3)}catch(M){G("Could not access microphone. Ensure permissions are granted."),console.error(M)}},Re=()=>{D.current&&h&&(D.current.stop(),m(!1),clearInterval(R.current))},L=()=>{I(null),E(null),v(0),ee(null),G("")},We=async()=>{if(!t){G("Please enter a valid Gemini API Key in Settings.");return}if(!w){G("Please record audio first.");return}F(!0),G(""),ee(null);try{const Ne=new Ur(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),tt=`
        Expert Speech Coach. Listen to audio. 
        Context: ${e}, ${r}, Topic: ${l}. 
        Evaluate: 
        1. Vocal Delivery (Pace, Tone, Fluency, Emotion). 
        2. Content (Clarity, Persuasion). 
        3. Score (0-100).
        
        Please provide the output in the following Markdown format:
        ## Executive Summary
        (Brief overview)

        ## Scorecard
        | Category | Score (0-10) | Notes |
        | --- | --- | --- |
        | Vocal Delivery | | |
        | Content | | |
        | Persuasion | | |
        | **Total** | **(Sum)** | |

        ## Detailed Feedback
        ...
      `,Xe={inlineData:{data:w.raw,mimeType:w.mimeType}},bt=(await(await Ne.generateContent([tt,Xe])).response).text();ee(bt),C({type:"coach",title:l||"Live Coaching Session",input:{duration:oe(p)},result:bt,metadata:{speechType:e,side:r,topic:l,recordingDuration:p}}),A(!0),setTimeout(()=>A(!1),2e3)}catch(M){console.error("Gemini Error:",M),G(`Error: ${M.message}. Please try again.`)}finally{F(!1)}},Le=()=>{q&&(navigator.clipboard.writeText(q),k(!0),setTimeout(()=>k(!1),2e3))};return y.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-[calc(100vh-8rem)]",children:[y.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[y.jsxs("div",{className:"glass-card space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Format"}),y.jsx("select",{value:e,onChange:M=>n(M.target.value),className:"input-field",children:ad.map(M=>y.jsx("option",{value:M,children:M},M))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Side"}),y.jsx("select",{value:r,onChange:M=>a(M.target.value),className:"input-field",children:qS.map(M=>y.jsx("option",{value:M,children:M},M))})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Topic"}),y.jsx("input",{type:"text",value:l,onChange:M=>u(M.target.value),placeholder:"Topic or Resolution...",className:"input-field"})]})]}),y.jsxs("div",{className:"flex-1 glass-card flex flex-col p-0 overflow-hidden",children:[y.jsx("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50",children:y.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Live Recording"})}),y.jsxs("div",{className:"flex-1 p-8 flex flex-col items-center justify-center space-y-8",children:[y.jsx("div",{className:`text-6xl font-mono font-bold tracking-tighter ${h?"text-red-500 animate-pulse":"text-text-primary"}`,children:oe(p)}),y.jsxs("div",{className:"w-full max-w-md",children:[y.jsx(GV,{analyser:U,isRecording:h}),y.jsx($V,{analyser:U,isRecording:h})]}),y.jsx("div",{className:"flex items-center gap-4",children:h?y.jsx("button",{onClick:Re,className:"w-16 h-16 rounded-full bg-slate-700 hover:bg-slate-600 flex items-center justify-center shadow-lg transition-all hover:scale-110 active:scale-95",children:y.jsx(q2,{className:"w-6 h-6 text-white fill-current"})}):y.jsx("button",{onClick:me,className:"w-16 h-16 rounded-full bg-red-500 hover:bg-red-600 flex items-center justify-center shadow-lg shadow-red-500/30 transition-all hover:scale-110 active:scale-95",children:y.jsx(Lu,{className:"w-8 h-8 text-white"})})}),_&&!h&&y.jsxs("div",{className:"flex items-center gap-4 animate-in fade-in",children:[y.jsx("audio",{controls:!0,src:URL.createObjectURL(_),className:"h-10 rounded-lg"}),y.jsx("button",{onClick:L,className:"p-2 text-text-muted hover:text-white transition-colors",children:y.jsx(j2,{className:"w-5 h-5"})})]})]}),y.jsxs("div",{className:"p-4 border-t border-slate-700/50 bg-slate-900/50 flex justify-between items-center",children:[y.jsx("span",{className:"text-xs text-text-muted",children:_?"Audio recorded":"Ready to record"}),y.jsxs("button",{onClick:We,disabled:z||!w,className:"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[z?y.jsx(Br,{className:"w-4 h-4 animate-spin"}):y.jsx(dx,{className:"w-4 h-4"}),z?"Analyzing...":"Analyze Audio"]})]})]}),ce&&y.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-2 text-red-400 text-sm",children:[y.jsx(Mr,{className:"w-4 h-4"}),ce]})]}),y.jsxs("div",{className:"w-full lg:w-1/2 glass-card overflow-hidden flex flex-col p-0",children:[y.jsxs("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50 flex justify-between items-center",children:[y.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[y.jsx(dx,{className:"w-4 h-4 text-primary"}),"Coaching Feedback"]}),q&&y.jsxs("div",{className:"flex items-center gap-2",children:[O&&y.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1",children:[y.jsx(jr,{className:"w-3 h-3"})," Saved"]}),y.jsx("button",{onClick:Le,className:"text-text-secondary hover:text-white transition-colors",title:"Copy to clipboard",children:j?y.jsx(Us,{className:"w-4 h-4 text-green-500"}):y.jsx(tl,{className:"w-4 h-4"})})]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:q?y.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-cyan-400 prose-a:text-accent prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-2 prose-td:p-2 prose-th:bg-slate-800/50",children:y.jsx(hl,{remarkPlugins:[fl],children:q})}):y.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-text-muted opacity-50",children:[y.jsx(Lu,{className:"w-16 h-16 mb-4"}),y.jsx("p",{children:"Record speech and click Analyze."})]})})]})]})},YV=({apiKey:t})=>{const[e,n]=Z.useState("DX"),[r,a]=Z.useState("Medium"),[l,u]=Z.useState(""),[h,m]=Z.useState(!1),[p,v]=Z.useState(""),[_,E]=Z.useState(!1),[w,I]=Z.useState(!1),{addSession:U}=qa(),P=async()=>{if(!t){v("Please enter a valid Gemini API Key in Settings.");return}m(!0),u(""),v("");try{const q=new Ur(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),ee=`Generate a single ${r} difficulty Extemporaneous Speaking question for the category ${e==="DX"?"United States Domestic Extemp (DX)":"International Extemp (NX)"}. The question should be current, relevant to 2024-2025 events, and formatted as a question. Do not include any other text.`,k=(await(await q.generateContent(ee)).response).text().trim().replace(/^"|"$/g,"");u(k),U({type:"extemp",title:`${e} Question - ${r}`,input:{question:k},result:k,metadata:{category:e,difficulty:r}}),I(!0),setTimeout(()=>I(!1),2e3)}catch(F){console.error("Gemini Error:",F);try{const ee=new Ur(t).getGenerativeModel({model:"gemini-1.5-flash"});v(`Error: ${F.message}. Please try again.`)}catch{v(`Error: ${F.message}`)}}finally{m(!1)}},z=()=>{l&&(navigator.clipboard.writeText(l),E(!0),setTimeout(()=>E(!1),2e3))};return y.jsx("div",{className:"max-w-2xl mx-auto mt-10",children:y.jsxs("div",{className:"glass-card space-y-8",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[y.jsx(Sg,{className:"w-8 h-8 text-primary"}),"Extemp Generator"]}),y.jsxs("div",{className:"flex bg-slate-900/50 rounded-lg p-1 border border-slate-700",children:[y.jsx("button",{onClick:()=>n("DX"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${e==="DX"?"bg-primary text-white shadow-lg":"text-text-secondary hover:text-white"}`,children:"Domestic (DX)"}),y.jsx("button",{onClick:()=>n("NX"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${e==="NX"?"bg-primary text-white shadow-lg":"text-text-secondary hover:text-white"}`,children:"International (NX)"})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:"Difficulty Level"}),y.jsx("div",{className:"grid grid-cols-3 gap-4",children:["Easy","Medium","Hard"].map(F=>y.jsx("button",{onClick:()=>a(F),className:`py-3 rounded-xl border transition-all ${r===F?"bg-primary/10 border-primary text-primary shadow-lg shadow-primary/10":"bg-slate-900/30 border-slate-700 text-text-secondary hover:border-slate-500 hover:bg-slate-800"}`,children:F},F))})]}),y.jsxs("button",{onClick:P,disabled:h,className:"w-full btn-primary py-4 text-lg flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:[h?y.jsx(Br,{className:"w-6 h-6 animate-spin"}):y.jsx(O2,{className:"w-6 h-6"}),h?"Generating Question...":"Generate New Question"]}),p&&y.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-xl flex items-center gap-3 text-red-400",children:[y.jsx(Mr,{className:"w-5 h-5 flex-shrink-0"}),p]}),l&&y.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4",children:y.jsxs("div",{className:"bg-slate-900/80 border border-slate-700 rounded-2xl p-8 relative group",children:[y.jsxs("p",{className:"text-xl md:text-2xl font-serif text-center text-white leading-relaxed",children:['"',l,'"']}),y.jsx("button",{onClick:z,className:"absolute top-4 right-4 p-2 text-text-secondary hover:text-white bg-slate-800/50 hover:bg-slate-700 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Copy to clipboard",children:_?y.jsx(Us,{className:"w-5 h-5 text-green-500"}):y.jsx(tl,{className:"w-5 h-5"})}),w&&y.jsxs("span",{className:"absolute top-4 left-4 text-xs text-emerald-400 flex items-center gap-1 bg-emerald-500/10 px-2 py-1 rounded-full",children:[y.jsx(jr,{className:"w-3 h-3"})," Saved to history"]})]})})]})})},QV=({apiKey:t})=>{const e=Z.useMemo(()=>ad.filter(C=>el[C]===ke.DEBATE),[]),[n,r]=Z.useState(e[0]||"Public Forum (PF)"),[a,l]=Z.useState("Proposition/Affirmative"),[u,h]=Z.useState(""),[m,p]=Z.useState(""),[v,_]=Z.useState("comprehensive"),[E,w]=Z.useState(!1),[I,U]=Z.useState(null),[P,z]=Z.useState(""),[F,q]=Z.useState(!1),[ee,ce]=Z.useState(!1),{addSession:G}=qa(),j=Z.useMemo(()=>Eg(n),[n]),k=[{id:"comprehensive",label:"Full Strategy",icon:Uo,description:"Complete debate strategy with arguments, rebuttals, and flow"},{id:"arguments",label:"Argument Builder",icon:Cg,description:"Focus on constructing strong arguments"},{id:"rebuttals",label:"Rebuttal Prep",icon:cE,description:"Anticipate and counter opponent arguments"},{id:"crossfire",label:"Cross-Ex Prep",icon:K2,description:"Strategic questions and responses"}],O=async()=>{if(!t){z("Please enter a valid Gemini API Key in Settings.");return}if(!u.trim()){z("Please enter the debate topic or resolution.");return}w(!0),z(""),U(null);try{const D=new Ur(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),R={comprehensive:`You are an expert Debate Coach preparing a student for a ${n} debate.

**Topic/Resolution:** ${u}
**Side:** ${a}
${m?`**Additional Context:** ${m}`:""}

Generate a COMPREHENSIVE DEBATE STRATEGY. Include:

##  Strategic Overview
A brief (2-3 sentence) overview of the best approach for this position.

##  Core Framework
The central theme/value/criterion that should anchor all arguments.

##  Main Arguments (3-4)
For each argument provide:
### Argument 1: [Compelling Title]
- **Claim**: The main assertion (1 sentence)
- **Warrant**: The logical reasoning (2-3 sentences)
- **Impact**: Why this matters - include magnitude, timeframe, probability
- **Evidence Needed**: Specific types of sources/data to find
- **Tag Line**: A memorable 5-7 word summary

##  Anticipated Opponent Arguments
For the top 3 likely opponent arguments:
### Counter to: [Their Argument]
- **Their likely claim**: What they'll say
- **Your response strategy**: How to refute it
- **Turn potential**: Can you flip this to your advantage?

##  Cross-Examination Strategy
### Questions to Ask
1. [Strategic question with goal]
2. [Strategic question with goal]
3. [Strategic question with goal]

### Likely Questions You'll Face
- [Question]  [Prepared response]
- [Question]  [Prepared response]

##  Flow Visualization
\`\`\`

                      ${a.toUpperCase()} FLOW                 

 CONSTRUCTIVE  REBUTTAL      SUMMARY       FINAL FOCUS       

 [Arg 1]      [Extend]     [Voters]     [Key takeaway]       

 [Arg 2]      [Respond]    [Weigh]      [Emotional close]    

\`\`\`

##  Time Allocation
| Speech | Time | Focus |
|--------|------|-------|
| Constructive | X min | ... |
| Rebuttal | X min | ... |
| Summary | X min | ... |
| Final Focus | X min | ... |

##  Win Conditions
The 2-3 things that MUST happen to win this round:
1. ...
2. ...
3. ...

##  Power Phrases
5 memorable phrases to use during the round:
1. "..."
2. "..."
3. "..."
4. "..."
5. "..."
`,arguments:`You are an expert Debate Coach specializing in argument construction for ${n}.

**Topic/Resolution:** ${u}
**Side:** ${a}
${m?`**Additional Context:** ${m}`:""}

Generate 4-5 STRONG ARGUMENTS for this position:

## Argument Analysis Framework

For EACH argument, provide:

###  Argument [N]: [Compelling Title]

#### The Claim
A clear, assertive 1-sentence statement.

#### Logical Structure
- **Premise 1**: ...
- **Premise 2**: ...
- **Conclusion**: ...

#### Warrant Deep-Dive
Explain the logical reasoning in 3-4 sentences. Why does the claim follow from the evidence?

#### Impact Calculus
| Factor | Assessment |
|--------|------------|
| **Magnitude** | How big is the impact? |
| **Probability** | How likely? |
| **Timeframe** | When does it occur? |
| **Reversibility** | Can it be undone? |

#### Evidence Guide
- **Statistics needed**: ...
- **Expert quotes**: Types of experts to cite
- **Case studies**: Historical/current examples to find
- **Logical backing**: Philosophical/theoretical support

#### Delivery Tips
- Opening hook: "..."
- Key transition phrases
- Powerful conclusion line

#### Vulnerability Analysis
- Weakest point of this argument
- How opponents might attack
- Pre-emptive defense strategy

---

## Argument Hierarchy
Rank arguments by strength and when to deploy them:
1. **Strongest** (Lead with this): Argument X
2. **Most Emotional** (Final Focus): Argument Y
3. **Technical** (For experienced judges): Argument Z
`,rebuttals:`You are an expert Debate Coach specializing in rebuttal strategy for ${n}.

**Topic/Resolution:** ${u}
**Your Side:** ${a}
**Opponent's Side:** ${a.includes("Affirmative")||a.includes("Pro")?"Opposition/Negative":"Proposition/Affirmative"}
${m?`**Additional Context:** ${m}`:""}

Generate a COMPREHENSIVE REBUTTAL PREPARATION guide:

##  Opponent Argument Predictions

### Predicted Argument 1: [Title]
**What they'll likely say:**
> [Their argument in their words]

**Why this is flawed:**
- Logical flaw: ...
- Evidence problem: ...
- Impact overreach: ...

**Your Rebuttal Response:**
"[Exact words to say - 30-45 seconds]"

**The Turn (flip it to your advantage):**
"Actually, this argument supports OUR side because..."

---

### Predicted Argument 2: [Title]
[Same structure]

---

### Predicted Argument 3: [Title]
[Same structure]

---

##  Defense Blocks

### If They Attack Your [Argument 1]:
**Their likely attack:** ...
**Your defense:** "[30-second response]"

### If They Attack Your [Argument 2]:
**Their likely attack:** ...
**Your defense:** "[30-second response]"

##  Quick-Fire Responses
One-liner responses to common attacks:

| If they say... | You respond... |
|----------------|----------------|
| "..." | "..." |
| "..." | "..." |
| "..." | "..." |

##  Weighing Mechanisms
How to compare impacts when both sides have valid points:

### Magnitude Weighing
"Even if they win X, our impact of Y is larger because..."

### Probability Weighing
"Their impact is speculative, while ours is empirically proven..."

### Timeframe Weighing
"Their impact is long-term and uncertain, our harm is happening now..."

##  Kill Shots
Arguments that completely devastate common opponent positions:

1. **Against [common position]:** ...
2. **Against [common position]:** ...
`,crossfire:`You are an expert Debate Coach specializing in Cross-Examination/Crossfire strategy for ${n}.

**Topic/Resolution:** ${u}
**Your Side:** ${a}
${m?`**Additional Context:** ${m}`:""}

Generate a COMPREHENSIVE CROSS-EXAMINATION STRATEGY:

##  Your Questioning Strategy

### Goal-Oriented Questions
Each question should serve a strategic purpose:

#### Setup Questions (Establish facts)
1. **Question:** "..."
   - **Goal:** Get them to admit X
   - **Follow-up if yes:** "..."
   - **Follow-up if no:** "..."

2. **Question:** "..."
   - **Goal:** ...

#### Trap Questions (Expose contradictions)
1. **Question:** "..."
   - **The trap:** If they say X, point out Y
   - **Delivery:** Stay calm, don't telegraph

2. **Question:** "..."
   - **The trap:** ...

#### Concession Questions (Get admissions)
1. **Question:** "..."
   - **Looking for:** Them to admit your framing
   - **Use in later speeches:** "They agreed that..."

### Question Sequences
**To undermine their Argument 1:**
1. First ask: "..."
2. Then: "..."
3. Finish with: "..."

**To support your Argument 1:**
1. First ask: "..."
2. Then: "..."
3. Finish with: "..."

##  Defending in Cross-Ex

### Likely Questions You'll Face
| Their Question | Your Response Strategy |
|----------------|----------------------|
| "..." | [Don't concede X, instead say...] |
| "..." | [Bridge to your argument...] |
| "..." | [Ask for clarification to buy time...] |

### Deflection Techniques
- **"That's not the right framing..."** then reframe
- **"The real question is..."** pivot to your ground
- **"We can discuss that, but first..."** delay and redirect

### Trap Avoidance
Common traps and how to spot/avoid them:
1. **The false dichotomy:** They present only two options. Response: "Those aren't the only options..."
2. **The hypothetical spiral:** They create unrealistic scenarios. Response: "In the real world..."
3. **The quote trap:** They try to get quotable admissions. Response: "What I'm saying is..." (reframe)

##  Power Moves

### Taking Control
- "Let me finish this point..."
- "That's a different question, I'm asking about..."
- "With respect, that doesn't answer the question..."

### Memorable Moments
Crossfire zingers (use sparingly):
- "So you're agreeing with us that..."
- "If that's true, then your entire case falls apart..."
- "You've just proven our point..."

##  Time Management
| Phase | Your Goals |
|-------|------------|
| First 30 sec | Establish one key admission |
| Middle | Build your trap sequence |
| Final 30 sec | Land your strongest point |
`},Y=(await(await D.generateContent(R[v])).response).text();U(Y),G({type:"strategy",title:`${k.find(oe=>oe.id===v)?.label}: ${u.substring(0,50)}`,input:{topic:u,context:m},result:Y,metadata:{speechType:n,side:a,topic:u,strategyType:v}}),ce(!0),setTimeout(()=>ce(!1),2e3)}catch(C){console.error("Gemini Error:",C),z(`Error: ${C.message}. Please try again.`)}finally{w(!1)}},A=()=>{I&&(navigator.clipboard.writeText(I),q(!0),setTimeout(()=>q(!1),2e3))};return y.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-[calc(100vh-8rem)]",children:[y.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[y.jsxs("div",{className:"glass-card space-y-4",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-primary/20 to-accent/20 border border-primary/30",children:y.jsx(Uo,{className:"w-5 h-5 text-primary"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-bold text-white",children:"Strategy Generator"}),y.jsx("p",{className:"text-xs text-text-muted",children:"AI-powered debate preparation"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Debate Format"}),y.jsx("select",{value:n,onChange:C=>r(C.target.value),className:"input-field",children:e.map(C=>y.jsx("option",{value:C,children:C},C))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Side"}),y.jsx("select",{value:a,onChange:C=>l(C.target.value),className:"input-field",children:j.map(C=>y.jsx("option",{value:C,children:C},C))})]})]}),y.jsx("div",{className:"p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:y.jsxs("div",{className:"flex items-center gap-2 text-blue-400 text-sm",children:[y.jsx(Ag,{className:"w-4 h-4 flex-shrink-0"}),y.jsx("span",{children:"Strategy Generator is designed for competitive debate events. For individual speaking events, use Judge Speech."})]})}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Topic / Resolution"}),y.jsx("input",{type:"text",value:u,onChange:C=>h(C.target.value),placeholder:"Resolved: The United States should substantially increase...",className:"input-field"})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:["Additional Context ",y.jsx("span",{className:"text-text-muted",children:"(optional)"})]}),y.jsx("textarea",{value:m,onChange:C=>p(C.target.value),placeholder:"E.g., specific arguments you want to focus on, your opponent's known style, judge preferences...",className:"input-field resize-none h-20"})]})]}),y.jsxs("div",{className:"glass-card p-4",children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-3",children:"Strategy Type"}),y.jsx("div",{className:"grid grid-cols-2 gap-3",children:k.map(C=>{const D=C.icon;return y.jsxs("button",{onClick:()=>_(C.id),className:`p-4 rounded-xl border text-left transition-all ${v===C.id?"bg-primary/10 border-primary/30 shadow-lg shadow-primary/10":"bg-slate-900/30 border-slate-700 hover:border-slate-600 hover:bg-slate-800/50"}`,children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx(D,{className:`w-5 h-5 ${v===C.id?"text-primary":"text-text-muted"}`}),y.jsx("span",{className:`font-medium ${v===C.id?"text-white":"text-text-secondary"}`,children:C.label})]}),y.jsx("p",{className:"text-xs text-text-muted",children:C.description})]},C.id)})})]}),y.jsx("button",{onClick:O,disabled:E||!u.trim(),className:"btn-primary py-4 text-lg flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:E?y.jsxs(y.Fragment,{children:[y.jsx(Br,{className:"w-5 h-5 animate-spin"}),"Generating Strategy..."]}):y.jsxs(y.Fragment,{children:[y.jsx(Ng,{className:"w-5 h-5"}),"Generate Strategy"]})}),P&&y.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-2 text-red-400 text-sm",children:[y.jsx(Mr,{className:"w-4 h-4 flex-shrink-0"}),P]})]}),y.jsxs("div",{className:"w-full lg:w-1/2 glass-card overflow-hidden flex flex-col p-0",children:[y.jsxs("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50 flex justify-between items-center",children:[y.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[y.jsx(sE,{className:"w-4 h-4 text-primary"}),"Strategy Playbook"]}),I&&y.jsxs("div",{className:"flex items-center gap-2",children:[ee&&y.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1",children:[y.jsx(jr,{className:"w-3 h-3"})," Saved"]}),y.jsx("button",{onClick:A,className:"text-text-secondary hover:text-white transition-colors",title:"Copy to clipboard",children:F?y.jsx(Us,{className:"w-4 h-4 text-green-500"}):y.jsx(tl,{className:"w-4 h-4"})})]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:I?y.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-cyan-400 prose-a:text-accent prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-2 prose-td:p-2 prose-th:bg-slate-800/50 prose-code:bg-slate-800 prose-code:px-1 prose-code:rounded prose-pre:bg-slate-900 prose-pre:border prose-pre:border-slate-700 prose-blockquote:border-l-primary prose-blockquote:bg-slate-900/50 prose-blockquote:py-1",children:y.jsx(hl,{remarkPlugins:[fl],children:I})}):y.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-text-muted opacity-50",children:[y.jsx(Uo,{className:"w-16 h-16 mb-4"}),y.jsx("p",{className:"text-center max-w-xs",children:"Enter your debate topic and select a strategy type to generate your personalized playbook."})]})})]})]})},Of={judge:{icon:Dr,label:"Speech Analysis",color:"text-cyan-400",bg:"bg-cyan-500/10 border-cyan-500/20"},board:{icon:Vp,label:"Board Evaluation",color:"text-purple-400",bg:"bg-purple-500/10 border-purple-500/20"},coach:{icon:Lu,label:"Live Coaching",color:"text-emerald-400",bg:"bg-emerald-500/10 border-emerald-500/20"},strategy:{icon:Uo,label:"Strategy",color:"text-orange-400",bg:"bg-orange-500/10 border-orange-500/20"},extemp:{icon:Sg,label:"Extemp Question",color:"text-amber-400",bg:"bg-amber-500/10 border-amber-500/20"},tone:{icon:Pu,label:"Tone Analysis",color:"text-pink-400",bg:"bg-pink-500/10 border-pink-500/20"}},XV=({session:t,onView:e,onDelete:n})=>{const[r,a]=Z.useState(!1),l=Of[t.type]||Of.judge,u=l.icon;return y.jsxs("div",{className:"glass-card p-0 overflow-hidden group",children:[y.jsx("div",{className:"p-4 cursor-pointer hover:bg-slate-800/30 transition-colors",onClick:()=>a(!r),children:y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx("div",{className:`p-2 rounded-lg border ${l.bg}`,children:y.jsx(u,{className:`w-5 h-5 ${l.color}`})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full ${l.bg} ${l.color}`,children:l.label}),t.metadata?.speechType&&y.jsx("span",{className:"text-xs text-text-muted",children:t.metadata.speechType})]}),y.jsx("h3",{className:"font-medium text-white truncate",children:t.title||t.metadata?.topic||"Untitled Session"}),y.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-text-muted",children:[y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx($C,{className:"w-3 h-3"}),XS(t.createdAt)]}),y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(e2,{className:"w-3 h-3"}),BV(t.createdAt)]})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:h=>{h.stopPropagation(),n(t.id)},className:"p-2 text-text-muted hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:"Delete session",children:y.jsx(hE,{className:"w-4 h-4"})}),r?y.jsx(oE,{className:"w-5 h-5 text-text-muted"}):y.jsx(lE,{className:"w-5 h-5 text-text-muted"})]})]})}),r&&y.jsxs("div",{className:"border-t border-slate-700/50 p-4 animate-in slide-in-from-top-2",children:[t.metadata&&y.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[t.metadata.side&&y.jsx("span",{className:"text-xs px-2 py-1 bg-slate-800 rounded-lg text-text-secondary",children:t.metadata.side}),t.metadata.difficulty&&y.jsxs("span",{className:"text-xs px-2 py-1 bg-slate-800 rounded-lg text-text-secondary",children:[t.metadata.difficulty," difficulty"]})]}),y.jsx("div",{className:"bg-slate-900/50 rounded-lg p-4 max-h-[400px] overflow-y-auto custom-scrollbar",children:y.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-cyan-400 prose-a:text-accent prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-2 prose-td:p-2 prose-th:bg-slate-800/50",children:y.jsx(hl,{remarkPlugins:[fl],children:t.result||"No analysis result available"})})}),t.type==="extemp"&&t.input?.question&&y.jsxs("div",{className:"mt-4 p-4 bg-slate-800/50 rounded-lg border border-slate-700/50",children:[y.jsx("h4",{className:"text-xs font-medium text-text-muted mb-2",children:"Generated Question"}),y.jsxs("p",{className:"text-white font-serif text-lg",children:['"',t.input.question,'"']})]})]})]})},WV=()=>{const{history:t,isLoading:e,stats:n,deleteSession:r,clearHistory:a,exportHistory:l,importHistory:u}=qa(),[h,m]=Z.useState(""),[p,v]=Z.useState("all"),[_,E]=Z.useState(!1),[w,I]=Z.useState(null),U=iE.useRef(null),P=t.filter(F=>{const q=p==="all"||F.type===p,ee=!h||F.title?.toLowerCase().includes(h.toLowerCase())||F.metadata?.topic?.toLowerCase().includes(h.toLowerCase())||F.result?.toLowerCase().includes(h.toLowerCase());return q&&ee}),z=async F=>{const q=F.target.files?.[0];if(q){const ee=await u(q);I(ee),setTimeout(()=>I(null),3e3),U.current&&(U.current.value="")}};return e?y.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:y.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full"})}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[y.jsx(jr,{className:"w-7 h-7 text-primary"}),"Session History"]}),y.jsxs("p",{className:"text-text-secondary mt-1",children:[n.total," ",n.total===1?"session":"sessions"," recorded"]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:l,disabled:t.length===0,className:"p-2 text-text-secondary hover:text-white hover:bg-slate-800 rounded-lg transition-colors disabled:opacity-50",title:"Export history",children:y.jsx(i2,{className:"w-5 h-5"})}),y.jsx("button",{onClick:()=>U.current?.click(),className:"p-2 text-text-secondary hover:text-white hover:bg-slate-800 rounded-lg transition-colors",title:"Import history",children:y.jsx(fE,{className:"w-5 h-5"})}),y.jsx("input",{ref:U,type:"file",accept:".json",onChange:z,className:"hidden"}),t.length>0&&y.jsx("button",{onClick:()=>E(!0),className:"p-2 text-text-secondary hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Clear all history",children:y.jsx(hE,{className:"w-5 h-5"})})]})]}),w&&y.jsx("div",{className:`p-3 rounded-lg flex items-center gap-2 text-sm animate-in fade-in ${w.success?"bg-emerald-500/10 border border-emerald-500/20 text-emerald-400":"bg-red-500/10 border border-red-500/20 text-red-400"}`,children:w.success?y.jsxs(y.Fragment,{children:[y.jsx(Us,{className:"w-4 h-4"}),"Imported ",w.count," sessions successfully"]}):y.jsxs(y.Fragment,{children:[y.jsx(Mr,{className:"w-4 h-4"}),"Import failed: ",w.error]})}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:Object.entries(Of).map(([F,q])=>{const ee=q.icon,ce=n.byType[F]||0;return y.jsx("button",{onClick:()=>v(p===F?"all":F),className:`glass-card p-4 text-left transition-all ${p===F?"ring-2 ring-primary":""}`,children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(ee,{className:`w-5 h-5 ${q.color}`}),y.jsxs("div",{children:[y.jsx("div",{className:"text-2xl font-bold text-white",children:ce}),y.jsx("div",{className:"text-xs text-text-muted",children:q.label})]})]})},F)})}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[y.jsxs("div",{className:"relative flex-1",children:[y.jsx(px,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"}),y.jsx("input",{type:"text",value:h,onChange:F=>m(F.target.value),placeholder:"Search sessions...",className:"input-field pl-10"})]}),y.jsxs("select",{value:p,onChange:F=>v(F.target.value),className:"input-field w-full sm:w-48",children:[y.jsx("option",{value:"all",children:"All Types"}),Object.entries(Of).map(([F,q])=>y.jsx("option",{value:F,children:q.label},F))]})]}),P.length>0?y.jsx("div",{className:"space-y-4",children:P.map(F=>y.jsx(XV,{session:F,onDelete:r},F.id))}):y.jsx("div",{className:"glass-card flex flex-col items-center justify-center min-h-[40vh] text-center",children:t.length===0?y.jsxs(y.Fragment,{children:[y.jsx(jr,{className:"w-16 h-16 text-slate-700 mb-4"}),y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Sessions Yet"}),y.jsx("p",{className:"text-text-secondary max-w-md",children:"Your analysis sessions will appear here. Try judging a speech, evaluating a board, or using the live coach to get started!"})]}):y.jsxs(y.Fragment,{children:[y.jsx(px,{className:"w-16 h-16 text-slate-700 mb-4"}),y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Results Found"}),y.jsx("p",{className:"text-text-secondary",children:"No sessions match your search criteria. Try adjusting your filters."}),y.jsx("button",{onClick:()=>{m(""),v("all")},className:"mt-4 text-primary hover:underline",children:"Clear filters"})]})}),_&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",children:y.jsxs("div",{className:"glass-card w-full max-w-md space-y-4 animate-in zoom-in-95",children:[y.jsxs("div",{className:"flex items-center gap-3 text-red-400",children:[y.jsx(Mr,{className:"w-6 h-6"}),y.jsx("h2",{className:"text-xl font-bold",children:"Clear All History?"})]}),y.jsxs("p",{className:"text-text-secondary",children:["This will permanently delete all ",n.total," sessions. This action cannot be undone."]}),y.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[y.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 rounded-lg text-text-secondary hover:bg-slate-800 transition-colors",children:"Cancel"}),y.jsx("button",{onClick:()=>{a(),E(!1)},className:"px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white transition-colors",children:"Delete All"})]})]})})]})},JV={uncertain:{label:"Uncertain",color:"text-yellow-400",bgColor:"bg-yellow-500/20",icon:W2},moderate:{label:"Moderate",color:"text-blue-400",bgColor:"bg-blue-500/20",icon:A2},strong:{label:"Strong",color:"text-green-400",bgColor:"bg-green-500/20",icon:Z2}},wg={passionate:{label:"Passionate",color:"text-red-400",bgColor:"bg-red-500/20",emoji:""},neutral:{label:"Neutral",color:"text-gray-400",bgColor:"bg-gray-500/20",emoji:""},analytical:{label:"Analytical",color:"text-cyan-400",bgColor:"bg-cyan-500/20",emoji:""},inspiring:{label:"Inspiring",color:"text-purple-400",bgColor:"bg-purple-500/20",emoji:""},urgent:{label:"Urgent",color:"text-orange-400",bgColor:"bg-orange-500/20",emoji:""}},ZV={ethos:{label:"Ethos",description:"Credibility & Authority",color:"from-blue-500 to-indigo-500",icon:uE},pathos:{label:"Pathos",description:"Emotional Appeal",color:"from-red-500 to-pink-500",icon:c2},logos:{label:"Logos",description:"Logic & Reasoning",color:"from-green-500 to-emerald-500",icon:Cg}},e9=({sections:t})=>!t||t.length===0?null:y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-secondary mb-3",children:[y.jsx(aE,{className:"w-4 h-4"}),y.jsx("span",{children:"Tone Progression"})]}),y.jsx("div",{className:"flex h-8 rounded-lg overflow-hidden",children:t.map((e,n)=>{const r=wg[e.tone]||wg.neutral;return y.jsxs("div",{className:`flex-1 ${r.bgColor} flex items-center justify-center text-xs font-medium ${r.color} border-r border-bg-primary last:border-r-0 transition-all hover:brightness-125`,title:`${e.label}: ${r.label}`,children:[y.jsx("span",{className:"hidden sm:inline",children:e.label}),y.jsx("span",{className:"sm:hidden",children:r.emoji})]},n)})}),y.jsxs("div",{className:"flex justify-between text-xs text-text-muted",children:[y.jsx("span",{children:"Opening"}),y.jsx("span",{children:"Closing"})]})]}),Pp=({type:t,score:e})=>{const n=ZV[t];if(!n)return null;const r=n.icon;return y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:`w-8 h-8 rounded-lg bg-gradient-to-br ${n.color} flex items-center justify-center`,children:y.jsx(r,{className:"w-4 h-4 text-white"})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-sm font-medium text-white",children:n.label}),y.jsx("div",{className:"text-xs text-text-muted",children:n.description})]})]}),y.jsxs("span",{className:"text-lg font-bold text-white",children:[e,"%"]})]}),y.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:y.jsx("div",{className:`h-full bg-gradient-to-r ${n.color} transition-all duration-1000 ease-out`,style:{width:`${e}%`}})})]})},t9=({apiKey:t})=>{const[e,n]=Z.useState(""),[r,a]=Z.useState(!1),[l,u]=Z.useState(null),[h,m]=Z.useState(null),[p,v]=Z.useState(""),[_,E]=Z.useState(!1),[w,I]=Z.useState(!1),{addSession:U}=qa(),P=async()=>{if(!t){v("Please enter a valid Gemini API Key in Settings.");return}if(!e.trim()){v("Please enter the speech transcript.");return}a(!0),v(""),u(null),m(null);try{const ce=new Ur(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),G=`You are an expert rhetorical analyst and speech coach. Analyze the following speech for tone, rhetorical techniques, and emotional impact.

SPEECH TEXT:
${e}

Provide your analysis in the following JSON format (ONLY output valid JSON, no markdown):
{
  "overallConfidence": "uncertain" | "moderate" | "strong",
  "dominantTone": "passionate" | "neutral" | "analytical" | "inspiring" | "urgent",
  "rhetoricalAppeals": {
    "ethos": <number 0-100>,
    "pathos": <number 0-100>,
    "logos": <number 0-100>
  },
  "toneProgression": [
    { "label": "Intro", "tone": "neutral" },
    { "label": "Build", "tone": "analytical" },
    { "label": "Peak", "tone": "passionate" },
    { "label": "Close", "tone": "inspiring" }
  ],
  "confidenceIndicators": {
    "hedgingPhrases": ["maybe", "perhaps", "I think"],
    "assertivePhrases": ["clearly", "undoubtedly", "must"],
    "hedgeCount": <number>,
    "assertiveCount": <number>
  },
  "techniques": [
    {
      "name": "Anaphora",
      "description": "Repetition at the beginning of sentences",
      "example": "We will fight... We will win...",
      "effectiveness": "high" | "medium" | "low"
    }
  ],
  "emotionalArc": {
    "opening": { "emotion": "hopeful", "intensity": 60 },
    "middle": { "emotion": "determined", "intensity": 80 },
    "closing": { "emotion": "triumphant", "intensity": 95 }
  },
  "recommendations": [
    "Add more concrete evidence to strengthen logos appeal",
    "Consider varying sentence length for better rhythm"
  ],
  "summary": "A two-sentence summary of the overall rhetorical effectiveness."
}`,O=(await(await ce.generateContent(G)).response).text();let A;try{const C=O.match(/\{[\s\S]*\}/);if(C)A=JSON.parse(C[0]);else throw new Error("No JSON found in response")}catch(C){console.error("JSON parse error:",C),u(O);return}m(A),U({type:"tone",title:"Tone Analysis",input:{transcript:e.substring(0,500)+(e.length>500?"...":"")},result:JSON.stringify(A,null,2),metadata:{confidence:A.overallConfidence,dominantTone:A.dominantTone}}),I(!0),setTimeout(()=>I(!1),2e3)}catch(ee){console.error("Gemini Error:",ee),v(`Error: ${ee.message}. Please try again.`)}finally{a(!1)}},z=()=>{h&&(navigator.clipboard.writeText(JSON.stringify(h,null,2)),E(!0),setTimeout(()=>E(!1),2e3))},F=h?.overallConfidence?JV[h.overallConfidence]:null,q=h?.dominantTone?wg[h.dominantTone]:null;return y.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-[calc(100vh-8rem)]",children:[y.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[y.jsxs("div",{className:"glass-card space-y-4",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-purple-500/20 to-pink-500/20 border border-purple-500/30",children:y.jsx(Pu,{className:"w-5 h-5 text-purple-400"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-bold text-white",children:"Tone Analyzer"}),y.jsx("p",{className:"text-xs text-text-muted",children:"Advanced rhetorical analysis"})]})]}),y.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx(Ag,{className:"w-4 h-4 text-primary"}),y.jsx("span",{className:"text-sm font-medium text-text-secondary",children:"This analysis will detect:"})]}),y.jsx("div",{className:"flex flex-wrap gap-2",children:["Confidence Level","Emotional Tone","Ethos/Pathos/Logos","Rhetorical Techniques"].map((ee,ce)=>y.jsx("span",{className:"px-2 py-1 text-xs bg-slate-700/50 text-text-secondary rounded-full",children:ee},ce))})]})]}),y.jsxs("div",{className:"flex-1 glass-card flex flex-col p-0 overflow-hidden",children:[y.jsx("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50",children:y.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Speech Transcript"})}),y.jsx("textarea",{value:e,onChange:ee=>n(ee.target.value),placeholder:"Paste your speech text here for detailed tone and rhetorical analysis...",className:"flex-1 w-full bg-transparent p-4 resize-none focus:outline-none font-mono text-sm text-text-primary"}),y.jsxs("div",{className:"p-4 border-t border-slate-700/50 bg-slate-900/50 flex justify-between items-center",children:[y.jsxs("span",{className:"text-xs text-text-muted",children:[e.length," chars"]}),y.jsxs("button",{onClick:P,disabled:r,className:"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?y.jsx(Br,{className:"w-4 h-4 animate-spin"}):y.jsx(Ig,{className:"w-4 h-4"}),r?"Analyzing...":"Analyze Tone"]})]})]}),p&&y.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-2 text-red-400 text-sm",children:[y.jsx(Mr,{className:"w-4 h-4"}),p]})]}),y.jsxs("div",{className:"w-full lg:w-1/2 glass-card overflow-hidden flex flex-col p-0",children:[y.jsxs("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50 flex justify-between items-center",children:[y.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[y.jsx(Ng,{className:"w-4 h-4 text-purple-400"}),"Rhetorical Analysis"]}),h&&y.jsxs("div",{className:"flex items-center gap-2",children:[w&&y.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1",children:[y.jsx(jr,{className:"w-3 h-3"})," Saved"]}),y.jsx("button",{onClick:z,className:"text-text-secondary hover:text-white transition-colors",title:"Copy to clipboard",children:_?y.jsx(Us,{className:"w-4 h-4 text-green-500"}):y.jsx(tl,{className:"w-4 h-4"})})]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:h?y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[F&&y.jsxs("div",{className:`p-4 rounded-xl ${F.bgColor} border border-slate-700/50`,children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx(F.icon,{className:`w-5 h-5 ${F.color}`}),y.jsx("span",{className:"text-sm text-text-secondary",children:"Confidence"})]}),y.jsx("div",{className:`text-xl font-bold ${F.color}`,children:F.label})]}),q&&y.jsxs("div",{className:`p-4 rounded-xl ${q.bgColor} border border-slate-700/50`,children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("span",{className:"text-xl",children:q.emoji}),y.jsx("span",{className:"text-sm text-text-secondary",children:"Dominant Tone"})]}),y.jsx("div",{className:`text-xl font-bold ${q.color}`,children:q.label})]})]}),y.jsxs("div",{className:"glass p-4 rounded-xl space-y-4",children:[y.jsxs("h4",{className:"font-semibold text-white flex items-center gap-2",children:[y.jsx(uE,{className:"w-4 h-4 text-primary"}),"Rhetorical Appeals"]}),h.rhetoricalAppeals&&y.jsxs("div",{className:"space-y-4",children:[y.jsx(Pp,{type:"ethos",score:h.rhetoricalAppeals.ethos}),y.jsx(Pp,{type:"pathos",score:h.rhetoricalAppeals.pathos}),y.jsx(Pp,{type:"logos",score:h.rhetoricalAppeals.logos})]})]}),h.toneProgression&&y.jsx("div",{className:"glass p-4 rounded-xl",children:y.jsx(e9,{sections:h.toneProgression})}),h.confidenceIndicators&&y.jsxs("div",{className:"glass p-4 rounded-xl space-y-3",children:[y.jsx("h4",{className:"font-semibold text-white",children:"Confidence Indicators"}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-text-muted mb-1",children:"Hedging Phrases"}),y.jsxs("div",{className:"text-yellow-400 font-medium",children:[h.confidenceIndicators.hedgeCount||0," found"]}),y.jsx("div",{className:"text-xs text-text-muted mt-1",children:h.confidenceIndicators.hedgingPhrases?.slice(0,3).join(", ")})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-text-muted mb-1",children:"Assertive Phrases"}),y.jsxs("div",{className:"text-green-400 font-medium",children:[h.confidenceIndicators.assertiveCount||0," found"]}),y.jsx("div",{className:"text-xs text-text-muted mt-1",children:h.confidenceIndicators.assertivePhrases?.slice(0,3).join(", ")})]})]})]}),h.techniques&&h.techniques.length>0&&y.jsxs("div",{className:"glass p-4 rounded-xl space-y-3",children:[y.jsx("h4",{className:"font-semibold text-white",children:"Rhetorical Techniques Detected"}),y.jsx("div",{className:"space-y-3",children:h.techniques.map((ee,ce)=>y.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[y.jsxs("div",{className:"flex items-center justify-between mb-1",children:[y.jsx("span",{className:"font-medium text-white",children:ee.name}),y.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${ee.effectiveness==="high"?"bg-green-500/20 text-green-400":ee.effectiveness==="medium"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:ee.effectiveness})]}),y.jsx("p",{className:"text-sm text-text-muted",children:ee.description}),ee.example&&y.jsxs("p",{className:"text-sm text-text-secondary mt-1 italic",children:['"',ee.example,'"']})]},ce))})]}),h.recommendations&&y.jsxs("div",{className:"glass p-4 rounded-xl space-y-3",children:[y.jsxs("h4",{className:"font-semibold text-white flex items-center gap-2",children:[y.jsx(Cg,{className:"w-4 h-4 text-yellow-400"}),"Recommendations"]}),y.jsx("ul",{className:"space-y-2",children:h.recommendations.map((ee,ce)=>y.jsxs("li",{className:"flex items-start gap-2 text-sm text-text-secondary",children:[y.jsx(Us,{className:"w-4 h-4 text-primary mt-0.5 flex-shrink-0"}),ee]},ce))})]}),h.summary&&y.jsxs("div",{className:"p-4 bg-primary/10 border border-primary/20 rounded-xl",children:[y.jsx("h4",{className:"font-semibold text-primary mb-2",children:"Summary"}),y.jsx("p",{className:"text-text-secondary",children:h.summary})]})]}):l?y.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:y.jsx(hl,{remarkPlugins:[fl],children:l})}):y.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-text-muted opacity-50",children:[y.jsx(Pu,{className:"w-16 h-16 mb-4"}),y.jsxs("p",{className:"text-center",children:["Ready to analyze your speech's rhetorical impact.",y.jsx("br",{}),y.jsx("span",{className:"text-xs",children:"Paste your transcript and click Analyze."})]})]})})]})]})},n9=({onSkip:t})=>{const[e,n]=Z.useState(!0),[r,a]=Z.useState(""),[l,u]=Z.useState(""),[h,m]=Z.useState(""),[p,v]=Z.useState(!1),[_,E]=Z.useState(!1),[w,I]=Z.useState(""),{login:U,register:P,loginWithGoogle:z,error:F,clearError:q}=ed(),ee=async k=>{if(k.preventDefault(),I(""),q(),!r||!l){I("Please fill in all required fields.");return}if(!e&&!h){I("Please enter your name.");return}if(l.length<6){I("Password must be at least 6 characters.");return}E(!0);try{e?await U(r,l):await P(r,l,h)}catch{}finally{E(!1)}},ce=async()=>{I(""),q(),E(!0);try{await z()}catch{}finally{E(!1)}},G=()=>{n(!e),I(""),q()},j=w||F;return y.jsxs("div",{className:"min-h-screen bg-bg-primary flex items-center justify-center p-4",children:[y.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[y.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-full h-full bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-3xl"}),y.jsx("div",{className:"absolute -bottom-1/2 -right-1/2 w-full h-full bg-gradient-to-tl from-accent/10 to-transparent rounded-full blur-3xl"})]}),y.jsxs("div",{className:"w-full max-w-md relative z-10",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-accent shadow-lg shadow-primary/25 mb-4",children:y.jsx(Dr,{className:"w-8 h-8 text-white"})}),y.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Adjudicator AI"}),y.jsx("p",{className:"text-text-secondary",children:"Your AI-powered debate coaching platform"})]}),y.jsxs("div",{className:"glass-card space-y-6",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("h2",{className:"text-xl font-bold text-white",children:e?"Welcome back":"Create your account"}),y.jsx("p",{className:"text-text-muted text-sm mt-1",children:e?"Sign in to continue to your dashboard":"Start your debate coaching journey"})]}),y.jsxs("button",{onClick:ce,disabled:_,className:"w-full flex items-center justify-center gap-3 px-4 py-3 bg-white hover:bg-gray-100 text-gray-800 font-medium rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[y.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[y.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),y.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),y.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),y.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-slate-700"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-4 bg-bg-secondary text-text-muted",children:"or continue with email"})})]}),y.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[!e&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Full Name"}),y.jsxs("div",{className:"relative",children:[y.jsx(dE,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),y.jsx("input",{type:"text",value:h,onChange:k=>m(k.target.value),placeholder:"John Doe",className:"input-field pl-10",disabled:_})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Email Address"}),y.jsxs("div",{className:"relative",children:[y.jsx(b2,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),y.jsx("input",{type:"email",value:r,onChange:k=>a(k.target.value),placeholder:"you@example.com",className:"input-field pl-10",disabled:_})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Password"}),y.jsxs("div",{className:"relative",children:[y.jsx(y2,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),y.jsx("input",{type:p?"text":"password",value:l,onChange:k=>u(k.target.value),placeholder:"",className:"input-field pl-10 pr-10",disabled:_}),y.jsx("button",{type:"button",onClick:()=>v(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-muted hover:text-text-secondary",children:p?y.jsx(s2,{className:"w-5 h-5"}):y.jsx(o2,{className:"w-5 h-5"})})]})]}),j&&y.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-start gap-2 text-red-400 text-sm",children:[y.jsx(Mr,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),y.jsx("span",{children:j})]}),y.jsx("button",{type:"submit",disabled:_,className:"btn-primary w-full flex items-center justify-center gap-2 py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:_?y.jsx(Br,{className:"w-5 h-5 animate-spin"}):y.jsxs(y.Fragment,{children:[e?"Sign In":"Create Account",y.jsx(Lp,{className:"w-4 h-4"})]})})]}),y.jsxs("p",{className:"text-center text-text-secondary text-sm",children:[e?"Don't have an account? ":"Already have an account? ",y.jsx("button",{onClick:G,className:"text-primary hover:text-primary/80 font-medium transition-colors",disabled:_,children:e?"Sign up":"Sign in"})]})]}),y.jsx("div",{className:"text-center mt-6",children:y.jsx("button",{onClick:t,className:"text-text-muted hover:text-text-secondary text-sm transition-colors underline underline-offset-2",children:"Continue as guest (limited features)"})})]})]})},i9=({onGetStarted:t,onContinueAsGuest:e})=>{const[n,r]=Z.useState(0),a=[{icon:Dr,title:"AI Speech Judge",description:"Get expert-level feedback on your speeches with event-specific rubrics for debate, oratory, and interpretation.",color:"from-cyan-500 to-blue-500",delay:.1},{icon:Uo,title:"Strategy Generator",description:"Build winning arguments, anticipate rebuttals, and prepare devastating cross-examination strategies.",color:"from-purple-500 to-pink-500",delay:.2},{icon:Lu,title:"Live Coaching",description:"Real-time feedback during practice rounds with instant suggestions for improvement.",color:"from-orange-500 to-red-500",delay:.3},{icon:Pu,title:"Tone Analysis",description:"Understand your rhetorical impact with confidence scoring, emotional tone detection, and ethos/pathos/logos analysis.",color:"from-green-500 to-emerald-500",delay:.4}],l=[{icon:aI,text:"Instant AI feedback in seconds"},{icon:cE,text:"Event-specific evaluation rubrics"},{icon:aE,text:"Track progress over time"},{icon:sE,text:"Personalized improvement drills"}],u=[{quote:"This completely transformed how I prepare for tournaments. My speaker points jumped 2 points!",author:"Sarah M.",role:"Public Forum Debater",avatar:""},{quote:"The strategy generator helped me anticipate every argument my opponents made at State.",author:"Marcus T.",role:"Lincoln-Douglas Champion",avatar:""},{quote:"Finally, feedback that understands the difference between Informative and Extemp. Game changer.",author:"Emily R.",role:"Speech Coach",avatar:""}];Z.useEffect(()=>{const p=setInterval(()=>{r(v=>(v+1)%u.length)},5e3);return()=>clearInterval(p)},[]);const h={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},m={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return y.jsxs("div",{className:"min-h-screen bg-bg-primary overflow-hidden",children:[y.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[y.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-full h-full bg-gradient-to-br from-primary/20 via-transparent to-transparent rounded-full blur-3xl animate-pulse"}),y.jsx("div",{className:"absolute -bottom-1/2 -right-1/2 w-full h-full bg-gradient-to-tl from-accent/20 via-transparent to-transparent rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),y.jsx("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-gradient-to-br from-cyan-500/10 to-purple-500/10 rounded-full blur-3xl animate-float"})]}),y.jsx("nav",{className:"relative z-10 px-6 py-4",children:y.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[y.jsxs(ln.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary to-accent flex items-center justify-center shadow-lg shadow-primary/25",children:y.jsx(Dr,{className:"w-5 h-5 text-white"})}),y.jsx("span",{className:"text-xl font-bold text-white",children:"Adjudicator AI"})]}),y.jsxs(ln.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex items-center gap-4",children:[y.jsx("button",{onClick:e,className:"text-text-secondary hover:text-white transition-colors px-4 py-2",children:"Try Free"}),y.jsxs("button",{onClick:t,className:"btn-primary flex items-center gap-2",children:["Sign In",y.jsx(Lp,{className:"w-4 h-4"})]})]})]})}),y.jsx("section",{className:"relative z-10 px-6 pt-16 pb-24",children:y.jsx("div",{className:"max-w-7xl mx-auto",children:y.jsxs(ln.div,{initial:"hidden",animate:"visible",variants:h,className:"text-center max-w-4xl mx-auto",children:[y.jsxs(ln.div,{variants:m,className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/20 mb-8",children:[y.jsx(Ng,{className:"w-4 h-4 text-primary"}),y.jsx("span",{className:"text-sm text-primary font-medium",children:"AI-Powered Debate Coaching"})]}),y.jsxs(ln.h1,{variants:m,className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",children:[y.jsx("span",{className:"text-white",children:"Win More "}),y.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary via-cyan-400 to-accent",children:"Debates"}),y.jsx("br",{}),y.jsx("span",{className:"text-white",children:"With AI Coaching"})]}),y.jsx(ln.p,{variants:m,className:"text-xl text-text-secondary mb-10 max-w-2xl mx-auto",children:"Get instant, expert-level feedback on your speeches. Build winning strategies. Analyze your rhetorical impact. All powered by advanced AI."}),y.jsxs(ln.div,{variants:m,className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-16",children:[y.jsx("button",{onClick:t,className:"group relative px-8 py-4 bg-gradient-to-r from-primary to-cyan-400 rounded-xl font-semibold text-white shadow-lg shadow-primary/25 hover:shadow-xl hover:shadow-primary/30 transition-all hover:scale-105",children:y.jsxs("span",{className:"flex items-center gap-2",children:["Get Started Free",y.jsx(Lp,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})}),y.jsxs("button",{onClick:e,className:"group px-8 py-4 rounded-xl font-semibold text-text-secondary hover:text-white border border-slate-700 hover:border-slate-600 hover:bg-slate-800/50 transition-all flex items-center gap-2",children:[y.jsx(R2,{className:"w-5 h-5"}),"Try Demo"]})]}),y.jsxs(ln.div,{variants:m,className:"flex items-center justify-center gap-8 text-text-muted",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"flex -space-x-2",children:["","","",""].map((p,v)=>y.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 border-2 border-bg-primary flex items-center justify-center text-sm",children:p},v))}),y.jsx("span",{className:"text-sm",children:"1,000+ debaters"})]}),y.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((p,v)=>y.jsx(gx,{className:"w-4 h-4 fill-yellow-500 text-yellow-500"},v)),y.jsx("span",{className:"text-sm ml-1",children:"4.9/5 rating"})]})]})]})})}),y.jsx("section",{className:"relative z-10 px-6 py-24 bg-gradient-to-b from-transparent via-slate-900/50 to-transparent",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs(ln.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Everything You Need to Excel"}),y.jsx("p",{className:"text-text-secondary max-w-2xl mx-auto",children:"From speech analysis to strategy building, we've got every aspect of your debate prep covered."})]}),y.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((p,v)=>y.jsx(ln.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:p.delay},whileHover:{y:-5,scale:1.02},className:"group relative",children:y.jsxs("div",{className:"glass-card h-full cursor-pointer",children:[y.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${p.color} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform shadow-lg`,children:y.jsx(p.icon,{className:"w-6 h-6 text-white"})}),y.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:p.title}),y.jsx("p",{className:"text-text-secondary text-sm",children:p.description})]})},p.title))})]})}),y.jsx("section",{className:"relative z-10 px-6 py-24",children:y.jsx("div",{className:"max-w-7xl mx-auto",children:y.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[y.jsxs(ln.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Why Debaters Choose Us"}),y.jsx("p",{className:"text-text-secondary mb-8",children:"We built this for debaters, by debaters. Every feature is designed to give you a competitive edge."}),y.jsx("div",{className:"space-y-4",children:l.map((p,v)=>y.jsxs(ln.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:v*.1},className:"flex items-center gap-4 p-4 rounded-xl bg-slate-900/50 border border-slate-800 hover:border-primary/30 transition-colors",children:[y.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:y.jsx(p.icon,{className:"w-5 h-5 text-primary"})}),y.jsx("span",{className:"text-text-primary font-medium",children:p.text})]},v))})]}),y.jsx(ln.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"relative",children:y.jsxs("div",{className:"glass-card relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/20 to-accent/20 rounded-full blur-3xl"}),y.jsx(CC,{mode:"wait",children:y.jsxs(ln.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"relative z-10",children:[y.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((p,v)=>y.jsx(gx,{className:"w-5 h-5 fill-yellow-500 text-yellow-500"},v))}),y.jsxs("blockquote",{className:"text-xl text-white font-medium mb-6 leading-relaxed",children:['"',u[n].quote,'"']}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center text-2xl",children:u[n].avatar}),y.jsxs("div",{children:[y.jsx("div",{className:"text-white font-semibold",children:u[n].author}),y.jsx("div",{className:"text-text-muted text-sm",children:u[n].role})]})]})]},n)}),y.jsx("div",{className:"flex items-center gap-2 mt-6",children:u.map((p,v)=>y.jsx("button",{onClick:()=>r(v),className:`w-2 h-2 rounded-full transition-all ${v===n?"w-6 bg-primary":"bg-slate-700 hover:bg-slate-600"}`},v))})]})})]})})}),y.jsx("section",{className:"relative z-10 px-6 py-24",children:y.jsx(ln.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"max-w-4xl mx-auto",children:y.jsxs("div",{className:"relative rounded-3xl overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 via-accent/20 to-primary/20"}),y.jsx("div",{className:"absolute inset-0 bg-slate-900/80 backdrop-blur-xl"}),y.jsxs("div",{className:"relative z-10 p-12 text-center",children:[y.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-accent mb-6 shadow-lg shadow-primary/25",children:y.jsx(tI,{className:"w-8 h-8 text-white"})}),y.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Ready to Win Your Next Round?"}),y.jsx("p",{className:"text-text-secondary mb-8 max-w-lg mx-auto",children:"Join thousands of debaters already using AI to sharpen their skills and dominate competitions."}),y.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[y.jsxs("button",{onClick:t,className:"group px-8 py-4 bg-white text-slate-900 rounded-xl font-semibold hover:bg-gray-100 transition-all hover:scale-105 flex items-center gap-2",children:["Start Free Today",y.jsx(lE,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),y.jsx("button",{onClick:e,className:"px-8 py-4 text-white font-semibold hover:underline underline-offset-4",children:"Continue as Guest"})]})]})]})})}),y.jsx("footer",{className:"relative z-10 px-6 py-8 border-t border-slate-800",children:y.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-4",children:[y.jsxs("div",{className:"flex items-center gap-2 text-text-muted text-sm",children:[y.jsx(Dr,{className:"w-4 h-4"}),y.jsx("span",{children:" 2025 Adjudicator AI. Built for debaters."})]}),y.jsxs("div",{className:"flex items-center gap-6 text-text-muted text-sm",children:[y.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy"}),y.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms"}),y.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact"})]})]})})]})},r9=()=>y.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--bg-primary)"},children:y.jsxs("div",{className:"text-center space-y-4",children:[y.jsx(Br,{className:"w-12 h-12 animate-spin mx-auto",style:{color:"var(--primary)"}}),y.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading Adjudicator AI..."})]})}),s9=({isOpen:t,onClose:e,apiKey:n,setApiKey:r,openaiKey:a,setOpenaiKey:l})=>t?y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",children:y.jsxs("div",{className:"glass-card w-full max-w-md space-y-6 animate-in zoom-in-95",children:[y.jsxs("h2",{className:"text-xl font-bold flex items-center",style:{color:"var(--text-primary)"},children:[y.jsx(lf,{className:"w-5 h-5 mr-2",style:{color:"var(--primary)"}}),"Configuration"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Google Gemini API Key"}),y.jsx("input",{type:"password",value:n,onChange:u=>r(u.target.value),placeholder:"AIzaSy...",className:"input-field"}),y.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"Required for most features."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:"OpenAI API Key (Optional)"}),y.jsx("input",{type:"password",value:a,onChange:u=>l(u.target.value),placeholder:"sk-...",className:"input-field"})]})]}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[y.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg transition-colors",style:{color:"var(--text-secondary)"},children:"Close"}),y.jsx("button",{onClick:e,className:"btn-primary",children:"Save Changes"})]})]})}):null;function a9(){const[t,e]=Z.useState("judge"),[n,r]=Z.useState(!1),[a,l]=Z.useState(!0),[u,h]=Z.useState(localStorage.getItem("gemini_key")||""),[m,p]=Z.useState(localStorage.getItem("openai_key")||""),[v,_]=Z.useState(localStorage.getItem("guest_mode")==="true"),{user:E,loading:w,isAuthenticated:I}=ed();return Z.useEffect(()=>{localStorage.setItem("gemini_key",u)},[u]),Z.useEffect(()=>{localStorage.setItem("openai_key",m)},[m]),Z.useEffect(()=>{(I||v)&&l(!1)},[I,v]),w?y.jsx(r9,{}):a&&!I&&!v?y.jsx(i9,{onGetStarted:()=>l(!1),onContinueAsGuest:()=>{_(!0),localStorage.setItem("guest_mode","true"),l(!1)}}):!I&&!v?y.jsx(n9,{onSkip:()=>{_(!0),localStorage.setItem("guest_mode","true")}}):y.jsxs(FM,{activeTab:t,setActiveTab:e,showSettings:n,setShowSettings:r,children:[t==="judge"&&y.jsx(qV,{apiKey:u}),t==="board"&&y.jsx(HV,{apiKey:u}),t==="coach"&&y.jsx(KV,{apiKey:u}),t==="strategy"&&y.jsx(QV,{apiKey:u}),t==="extemp"&&y.jsx(YV,{apiKey:u}),t==="tone"&&y.jsx(t9,{apiKey:u}),t==="history"&&y.jsx(WV,{}),y.jsx(s9,{isOpen:n,onClose:()=>r(!1),apiKey:u,setApiKey:h,openaiKey:m,setOpenaiKey:p})]})}function o9(){return y.jsx(BM,{children:y.jsx(zM,{children:y.jsx(a9,{})})})}jC.createRoot(document.getElementById("root")).render(y.jsx(iE.StrictMode,{children:y.jsx(o9,{})}));
