import{j as s,m as U,A as et,R as vx,a as wx}from"./animations-BI2268eO.js";import{r as E,R as Nx}from"./charts-BqTqP0xP.js";import{r as pE,a as gE,g as jx}from"./react-vendor-OvXVS5lI.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var $p={exports:{}},Nu={},qp={exports:{}},Hp={};var xw;function xE(){return xw||(xw=1,(function(t){function e(q,X){var he=q.length;q.push(X);e:for(;0<he;){var ye=he-1>>>1,$=q[ye];if(0<r($,X))q[ye]=X,q[he]=$,he=ye;else break e}}function n(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var X=q[0],he=q.pop();if(he!==X){q[0]=he;e:for(var ye=0,$=q.length,re=$>>>1;ye<re;){var ge=2*(ye+1)-1,z=q[ge],Te=ge+1,Ue=q[Te];if(0>r(z,he))Te<$&&0>r(Ue,z)?(q[ye]=Ue,q[Te]=he,ye=Te):(q[ye]=z,q[ge]=he,ye=ge);else if(Te<$&&0>r(Ue,he))q[ye]=Ue,q[Te]=he,ye=Te;else break e}}return X}function r(q,X){var he=q.sortIndex-X.sortIndex;return he!==0?he:q.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],f=[],x=1,b=null,v=3,w=!1,j=!1,D=!1,k=!1,V=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function Q(q){for(var X=n(f);X!==null;){if(X.callback===null)a(f);else if(X.startTime<=q)a(f),X.sortIndex=X.expirationTime,e(m,X);else break;X=n(f)}}function se(q){if(D=!1,Q(q),!j)if(n(m)!==null)j=!0,G||(G=!0,P());else{var X=n(f);X!==null&&J(se,X.startTime-q)}}var G=!1,R=-1,A=5,L=-1;function T(){return k?!0:!(t.unstable_now()-L<A)}function C(){if(k=!1,G){var q=t.unstable_now();L=q;var X=!0;try{e:{j=!1,D&&(D=!1,I(R),R=-1),w=!0;var he=v;try{t:{for(Q(q),b=n(m);b!==null&&!(b.expirationTime>q&&T());){var ye=b.callback;if(typeof ye=="function"){b.callback=null,v=b.priorityLevel;var $=ye(b.expirationTime<=q);if(q=t.unstable_now(),typeof $=="function"){b.callback=$,Q(q),X=!0;break t}b===n(m)&&a(m),Q(q)}else a(m);b=n(m)}if(b!==null)X=!0;else{var re=n(f);re!==null&&J(se,re.startTime-q),X=!1}}break e}finally{b=null,v=he,w=!1}X=void 0}}finally{X?P():G=!1}}}var P;if(typeof B=="function")P=function(){B(C)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,te=O.port2;O.port1.onmessage=C,P=function(){te.postMessage(null)}}else P=function(){V(C,0)};function J(q,X){R=V(function(){q(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(q){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var he=v;v=X;try{return q()}finally{v=he}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(q,X){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var he=v;v=q;try{return X()}finally{v=he}},t.unstable_scheduleCallback=function(q,X,he){var ye=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ye+he:ye):he=ye,q){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=he+$,q={id:x++,callback:X,priorityLevel:q,startTime:he,expirationTime:$,sortIndex:-1},he>ye?(q.sortIndex=he,e(f,q),n(m)===null&&q===n(f)&&(D?(I(R),R=-1):D=!0,J(se,he-ye))):(q.sortIndex=$,e(m,q),j||w||(j=!0,G||(G=!0,P()))),q},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(q){var X=v;return function(){var he=v;v=X;try{return q.apply(this,arguments)}finally{v=he}}}})(Hp)),Hp}var bw;function bE(){return bw||(bw=1,qp.exports=xE()),qp.exports}var yw;function yE(){if(yw)return Nu;yw=1;var t=bE(),e=pE(),n=gE();function a(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var l=i,u=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(u=l.return),i=l.return;while(i)}return l.tag===3?u:null}function c(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function d(i){if(i.tag===31){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function m(i){if(o(i)!==i)throw Error(a(188))}function f(i){var l=i.alternate;if(!l){if(l=o(i),l===null)throw Error(a(188));return l!==i?null:i}for(var u=i,h=l;;){var g=u.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){u=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===u)return m(g),i;if(y===h)return m(g),l;y=y.sibling}throw Error(a(188))}if(u.return!==h.return)u=g,h=y;else{for(var S=!1,M=g.child;M;){if(M===u){S=!0,u=g,h=y;break}if(M===h){S=!0,h=g,u=y;break}M=M.sibling}if(!S){for(M=y.child;M;){if(M===u){S=!0,u=y,h=g;break}if(M===h){S=!0,h=y,u=g;break}M=M.sibling}if(!S)throw Error(a(189))}}if(u.alternate!==h)throw Error(a(190))}if(u.tag!==3)throw Error(a(188));return u.stateNode.current===u?i:l}function x(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=x(i),l!==null)return l;i=i.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),B=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),T=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function P(i){return i===null||typeof i!="object"?null:(i=C&&i[C]||i["@@iterator"],typeof i=="function"?i:null)}var O=Symbol.for("react.client.reference");function te(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===O?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case V:return"Profiler";case k:return"StrictMode";case se:return"Suspense";case G:return"SuspenseList";case L:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case j:return"Portal";case B:return i.displayName||"Context";case I:return(i._context.displayName||"Context")+".Consumer";case Q:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return l=i.displayName||null,l!==null?l:te(i.type)||"Memo";case A:l=i._payload,i=i._init;try{return te(i(l))}catch{}}return null}var J=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},ye=[],$=-1;function re(i){return{current:i}}function ge(i){0>$||(i.current=ye[$],ye[$]=null,$--)}function z(i,l){$++,ye[$]=i.current,i.current=l}var Te=re(null),Ue=re(null),$e=re(null),ut=re(null);function Nt(i,l){switch(z($e,l),z(Ue,i),z(Te,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?z1(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=z1(l),i=F1(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ge(Te),z(Te,i)}function bt(){ge(Te),ge(Ue),ge($e)}function wn(i){i.memoizedState!==null&&z(ut,i);var l=Te.current,u=F1(l,i.type);l!==u&&(z(Ue,i),z(Te,u))}function Nn(i){Ue.current===i&&(ge(Te),ge(Ue)),ut.current===i&&(ge(ut),bu._currentValue=he)}var An,pe;function be(i){if(An===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);An=l&&l[1]||"",pe=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+An+i+pe}var ke=!1;function qe(i,l){if(!i||ke)return"";ke=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(l){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ie){var ne=ie}Reflect.construct(i,[],me)}else{try{me.call()}catch(ie){ne=ie}i.call(me.prototype)}}else{try{throw Error()}catch(ie){ne=ie}(me=i())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ie){if(ie&&ne&&typeof ie.stack=="string")return[ie.stack,ne.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),S=y[0],M=y[1];if(S&&M){var H=S.split(`
`),ee=M.split(`
`);for(g=h=0;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;for(;g<ee.length&&!ee[g].includes("DetermineComponentFrameRoot");)g++;if(h===H.length||g===ee.length)for(h=H.length-1,g=ee.length-1;1<=h&&0<=g&&H[h]!==ee[g];)g--;for(;1<=h&&0<=g;h--,g--)if(H[h]!==ee[g]){if(h!==1||g!==1)do if(h--,g--,0>g||H[h]!==ee[g]){var oe=`
`+H[h].replace(" at new "," at ");return i.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",i.displayName)),oe}while(1<=h&&0<=g);break}}}finally{ke=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?be(u):""}function Zt(i,l){switch(i.tag){case 26:case 27:case 5:return be(i.type);case 16:return be("Lazy");case 13:return i.child!==l&&l!==null?be("Suspense Fallback"):be("Suspense");case 19:return be("SuspenseList");case 0:case 15:return qe(i.type,!1);case 11:return qe(i.type.render,!1);case 1:return qe(i.type,!0);case 31:return be("Activity");default:return""}}function we(i){try{var l="",u=null;do l+=Zt(i,u),u=i,i=i.return;while(i);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var je=Object.prototype.hasOwnProperty,Ae=t.unstable_scheduleCallback,We=t.unstable_cancelCallback,kn=t.unstable_shouldYield,fn=t.unstable_requestPaint,Vt=t.unstable_now,Ka=t.unstable_getCurrentPriorityLevel,ce=t.unstable_ImmediatePriority,ve=t.unstable_UserBlockingPriority,Me=t.unstable_NormalPriority,Ke=t.unstable_LowPriority,dt=t.unstable_IdlePriority,Fn=t.log,As=t.unstable_setDisableYieldValue,Ht=null,Ut=null;function jn(i){if(typeof Fn=="function"&&As(i),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(Ht,i)}catch{}}var rt=Math.clz32?Math.clz32:Rd,Qs=Math.log,Bn=Math.LN2;function Rd(i){return i>>>=0,i===0?32:31-(Qs(i)/Bn|0)|0}var fa=256,Fr=262144,en=4194304;function pa(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ga(i,l,u){var h=i.pendingLanes;if(h===0)return 0;var g=0,y=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var M=h&134217727;return M!==0?(h=M&~y,h!==0?g=pa(h):(S&=M,S!==0?g=pa(S):u||(u=M&~i,u!==0&&(g=pa(u))))):(M=h&~y,M!==0?g=pa(M):S!==0?g=pa(S):u||(u=h&~i,u!==0&&(g=pa(u)))),g===0?0:l!==0&&l!==g&&(l&y)===0&&(y=g&-g,u=l&-l,y>=u||y===32&&(u&4194048)!==0)?l:g}function Ks(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function Yf(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Id(){var i=en;return en<<=1,(en&62914560)===0&&(en=4194304),i}function xa(i){for(var l=[],u=0;31>u;u++)l.push(i);return l}function Br(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Qf(i,l,u,h,g,y){var S=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var M=i.entanglements,H=i.expirationTimes,ee=i.hiddenUpdates;for(u=S&~u;0<u;){var oe=31-rt(u),me=1<<oe;M[oe]=0,H[oe]=-1;var ne=ee[oe];if(ne!==null)for(ee[oe]=null,oe=0;oe<ne.length;oe++){var ie=ne[oe];ie!==null&&(ie.lane&=-536870913)}u&=~me}h!==0&&$r(i,h,0),y!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=y&~(S&~l))}function $r(i,l,u){i.pendingLanes|=l,i.suspendedLanes&=~l;var h=31-rt(l);i.entangledLanes|=l,i.entanglements[h]=i.entanglements[h]|1073741824|u&261930}function jc(i,l){var u=i.entangledLanes|=l;for(i=i.entanglements;u;){var h=31-rt(u),g=1<<h;g&l|i[h]&l&&(i[h]|=l),u&=~g}}function Sc(i,l){var u=l&-l;return u=(u&42)!==0?1:qr(u),(u&(i.suspendedLanes|l))!==0?0:u}function qr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Wa(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Dd(){var i=X.p;return i!==0?i:(i=window.event,i===void 0?32:uw(i.type))}function Ws(i,l){var u=X.p;try{return X.p=i,l()}finally{X.p=u}}var Xs=Math.random().toString(36).slice(2),tn="__reactFiber$"+Xs,Sn="__reactProps$"+Xs,ba="__reactContainer$"+Xs,Fl="__reactEvents$"+Xs,Kf="__reactListeners$"+Xs,Md="__reactHandles$"+Xs,Od="__reactResources$"+Xs,ya="__reactMarker$"+Xs;function Bl(i){delete i[tn],delete i[Sn],delete i[Fl],delete i[Kf],delete i[Md]}function va(i){var l=i[tn];if(l)return l;for(var u=i.parentNode;u;){if(l=u[ba]||u[tn]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(i=Q1(i);i!==null;){if(u=i[tn])return u;i=Q1(i)}return l}i=u,u=i.parentNode}return null}function ks(i){if(i=i[tn]||i[ba]){var l=i.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return i}return null}function ps(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(a(33))}function wa(i){var l=i[Od];return l||(l=i[Od]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function nn(i){i[ya]=!0}var _c=new Set,Tc={};function Na(i,l){ja(i,l),ja(i+"Capture",l)}function ja(i,l){for(Tc[i]=l,i=0;i<l.length;i++)_c.add(l[i])}var Ec=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cc={},Ac={};function Pd(i){return je.call(Ac,i)?!0:je.call(Cc,i)?!1:Ec.test(i)?Ac[i]=!0:(Cc[i]=!0,!1)}function $l(i,l,u){if(Pd(l))if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var h=l.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+u)}}function gs(i,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+u)}}function sn(i,l,u,h){if(h===null)i.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(l,u,""+h)}}function _n(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Oi(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function kc(i,l,u){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,l);if(!i.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,y=h.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return g.call(this)},set:function(S){u=""+S,y.call(this,S)}}),Object.defineProperty(i,l,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function yt(i){if(!i._valueTracker){var l=Oi(i)?"checked":"value";i._valueTracker=kc(i,l,""+i[l])}}function Hr(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var u=l.getValue(),h="";return i&&(h=Oi(i)?i.checked?"true":"false":i.value),i=h,i!==u?(l.setValue(i),!0):!1}function Sa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Gr=/[\n"\\]/g;function ns(i){return i.replace(Gr,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function ql(i,l,u,h,g,y,S,M){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),l!=null?S==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+_n(l)):i.value!==""+_n(l)&&(i.value=""+_n(l)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),l!=null?Rc(i,S,_n(l)):u!=null?Rc(i,S,_n(u)):h!=null&&i.removeAttribute("value"),g==null&&y!=null&&(i.defaultChecked=!!y),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.name=""+_n(M):i.removeAttribute("name")}function Ld(i,l,u,h,g,y,S,M){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),l!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||l!=null)){yt(i);return}u=u!=null?""+_n(u):"",l=l!=null?""+_n(l):u,M||l===i.value||(i.value=l),i.defaultValue=l}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=M?i.checked:!!h,i.defaultChecked=!!h,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S),yt(i)}function Rc(i,l,u){l==="number"&&Sa(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Pi(i,l,u,h){if(i=i.options,l){l={};for(var g=0;g<u.length;g++)l["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=l.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&h&&(i[u].defaultSelected=!0)}else{for(u=""+_n(u),l=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}l!==null||i[g].disabled||(l=i[g])}l!==null&&(l.selected=!0)}}function Vd(i,l,u){if(l!=null&&(l=""+_n(l),l!==i.value&&(i.value=l),u==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=u!=null?""+_n(u):""}function Li(i,l,u,h){if(l==null){if(h!=null){if(u!=null)throw Error(a(92));if(J(h)){if(1<h.length)throw Error(a(93));h=h[0]}u=h}u==null&&(u=""),l=u}u=_n(l),i.defaultValue=u,h=i.textContent,h===u&&h!==""&&h!==null&&(i.value=h),yt(i)}function ss(i,l){if(l){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=l;return}}i.textContent=l}var Ud=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ic(i,l,u){var h=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":h?i.setProperty(l,u):typeof u!="number"||u===0||Ud.has(l)?l==="float"?i.cssFloat=u:i[l]=(""+u).trim():i[l]=u+"px"}function Dc(i,l,u){if(l!=null&&typeof l!="object")throw Error(a(62));if(i=i.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||l!=null&&l.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in l)h=l[g],l.hasOwnProperty(g)&&u[g]!==h&&Ic(i,g,h)}else for(var y in l)l.hasOwnProperty(y)&&Ic(i,y,l[y])}function Hl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gl(i){return Vi.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Js(){}var Mc=null;function Rs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ui=null,_a=null;function Yr(i){var l=ks(i);if(l&&(i=l.stateNode)){var u=i[Sn]||null;e:switch(i=l.stateNode,l.type){case"input":if(ql(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ns(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var h=u[l];if(h!==i&&h.form===i.form){var g=h[Sn]||null;if(!g)throw Error(a(90));ql(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(l=0;l<u.length;l++)h=u[l],h.form===i.form&&Hr(h)}break e;case"textarea":Vd(i,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&Pi(i,!!u.multiple,l,!1)}}}var Yl=!1;function zi(i,l,u){if(Yl)return i(l,u);Yl=!0;try{var h=i(l);return h}finally{if(Yl=!1,(Ui!==null||_a!==null)&&(Dh(),Ui&&(l=Ui,i=_a,_a=Ui=null,Yr(l),i)))for(l=0;l<i.length;l++)Yr(i[l])}}function Zs(i,l){var u=i.stateNode;if(u===null)return null;var h=u[Sn]||null;if(h===null)return null;u=h[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(a(231,l,typeof u));return u}var Is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qr=!1;if(Is)try{var jt={};Object.defineProperty(jt,"passive",{get:function(){Qr=!0}}),window.addEventListener("test",jt,jt),window.removeEventListener("test",jt,jt)}catch{Qr=!1}var Ta=null,Oc=null,Kr=null;function Pc(){if(Kr)return Kr;var i,l=Oc,u=l.length,h,g="value"in Ta?Ta.value:Ta.textContent,y=g.length;for(i=0;i<u&&l[i]===g[i];i++);var S=u-i;for(h=1;h<=S&&l[u-h]===g[y-h];h++);return Kr=g.slice(i,1<h?1-h:void 0)}function Wr(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Xa(){return!0}function ea(){return!1}function Rn(i){function l(u,h,g,y,S){this._reactName=u,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(u=i[M],this[M]=u?u(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Xa:ea,this.isPropagationStopped=ea,this}return b(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Xa)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Xa)},persist:function(){},isPersistent:Xa}),l}var Ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=Rn(Ja),Fi=b({},Ja,{view:0,detail:0}),Lc=Rn(Fi),Bi,Ql,Ca,Kl=b({},Fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$i,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ca&&(Ca&&i.type==="mousemove"?(Bi=i.screenX-Ca.screenX,Ql=i.screenY-Ca.screenY):Ql=Bi=0,Ca=i),Bi)},movementY:function(i){return"movementY"in i?i.movementY:Ql}}),Vc=Rn(Kl),Xr=b({},Kl,{dataTransfer:0}),Fd=Rn(Xr),Bd=b({},Fi,{relatedTarget:0}),Jr=Rn(Bd),Uc=b({},Ja,{animationName:0,elapsedTime:0,pseudoElement:0}),$d=Rn(Uc),Wl=b({},Ja,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),qd=Rn(Wl),Hd=b({},Ja,{data:0}),Aa=Rn(Hd),Gd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kd(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=Qd[i])?!!l[i]:!1}function $i(){return Kd}var Xn=b({},Fi,{key:function(i){if(i.key){var l=Gd[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Wr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Yd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$i,charCode:function(i){return i.type==="keypress"?Wr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Wr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Wd=Rn(Xn),Xd=b({},Kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Za=Rn(Xd),p=b({},Fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$i}),N=Rn(p),_=b({},Ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),F=Rn(_),W=b({},Kl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ae=Rn(W),Ne=b({},Ja,{newState:0,oldState:0}),He=Rn(Ne),Gt=[9,13,27,32],pt=Is&&"CompositionEvent"in window,Pt=null;Is&&"documentMode"in document&&(Pt=document.documentMode);var Ds=Is&&"TextEvent"in window&&!Pt,ka=Is&&(!pt||Pt&&8<Pt&&11>=Pt),ta=" ",na=!1;function Zr(i,l){switch(i){case"keyup":return Gt.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Jl=!1;function U_(i,l){switch(i){case"compositionend":return Xl(l);case"keypress":return l.which!==32?null:(na=!0,ta);case"textInput":return i=l.data,i===ta&&na?null:i;default:return null}}function z_(i,l){if(Jl)return i==="compositionend"||!pt&&Zr(i,l)?(i=Pc(),Kr=Oc=Ta=null,Jl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ka&&l.locale!=="ko"?null:l.data;default:return null}}var F_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xb(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!F_[i.type]:l==="textarea"}function Jb(i,l,u,h){Ui?_a?_a.push(h):_a=[h]:Ui=h,l=zh(l,"onChange"),0<l.length&&(u=new Ea("onChange","change",null,u,h),i.push({event:u,listeners:l}))}var zc=null,Fc=null;function B_(i){M1(i,0)}function Jd(i){var l=ps(i);if(Hr(l))return i}function Zb(i,l){if(i==="change")return l}var ey=!1;if(Is){var Wf;if(Is){var Xf="oninput"in document;if(!Xf){var ty=document.createElement("div");ty.setAttribute("oninput","return;"),Xf=typeof ty.oninput=="function"}Wf=Xf}else Wf=!1;ey=Wf&&(!document.documentMode||9<document.documentMode)}function ny(){zc&&(zc.detachEvent("onpropertychange",sy),Fc=zc=null)}function sy(i){if(i.propertyName==="value"&&Jd(Fc)){var l=[];Jb(l,Fc,i,Rs(i)),zi(B_,l)}}function $_(i,l,u){i==="focusin"?(ny(),zc=l,Fc=u,zc.attachEvent("onpropertychange",sy)):i==="focusout"&&ny()}function q_(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Jd(Fc)}function H_(i,l){if(i==="click")return Jd(l)}function G_(i,l){if(i==="input"||i==="change")return Jd(l)}function Y_(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var xs=typeof Object.is=="function"?Object.is:Y_;function Bc(i,l){if(xs(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var u=Object.keys(i),h=Object.keys(l);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var g=u[h];if(!je.call(l,g)||!xs(i[g],l[g]))return!1}return!0}function ay(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function iy(i,l){var u=ay(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=l&&h>=l)return{node:u,offset:l-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=ay(u)}}function ry(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?ry(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function ly(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=Sa(i.document);l instanceof i.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)i=l.contentWindow;else break;l=Sa(i.document)}return l}function Jf(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var Q_=Is&&"documentMode"in document&&11>=document.documentMode,Zl=null,Zf=null,$c=null,e0=!1;function oy(i,l,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;e0||Zl==null||Zl!==Sa(h)||(h=Zl,"selectionStart"in h&&Jf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),$c&&Bc($c,h)||($c=h,h=zh(Zf,"onSelect"),0<h.length&&(l=new Ea("onSelect","select",null,l,u),i.push({event:l,listeners:h}),l.target=Zl)))}function el(i,l){var u={};return u[i.toLowerCase()]=l.toLowerCase(),u["Webkit"+i]="webkit"+l,u["Moz"+i]="moz"+l,u}var eo={animationend:el("Animation","AnimationEnd"),animationiteration:el("Animation","AnimationIteration"),animationstart:el("Animation","AnimationStart"),transitionrun:el("Transition","TransitionRun"),transitionstart:el("Transition","TransitionStart"),transitioncancel:el("Transition","TransitionCancel"),transitionend:el("Transition","TransitionEnd")},t0={},cy={};Is&&(cy=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function tl(i){if(t0[i])return t0[i];if(!eo[i])return i;var l=eo[i],u;for(u in l)if(l.hasOwnProperty(u)&&u in cy)return t0[i]=l[u];return i}var uy=tl("animationend"),dy=tl("animationiteration"),hy=tl("animationstart"),K_=tl("transitionrun"),W_=tl("transitionstart"),X_=tl("transitioncancel"),my=tl("transitionend"),fy=new Map,n0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");n0.push("scrollEnd");function sa(i,l){fy.set(i,l),Na(l,[i])}var Zd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ms=[],to=0,s0=0;function eh(){for(var i=to,l=s0=to=0;l<i;){var u=Ms[l];Ms[l++]=null;var h=Ms[l];Ms[l++]=null;var g=Ms[l];Ms[l++]=null;var y=Ms[l];if(Ms[l++]=null,h!==null&&g!==null){var S=h.pending;S===null?g.next=g:(g.next=S.next,S.next=g),h.pending=g}y!==0&&py(u,g,y)}}function th(i,l,u,h){Ms[to++]=i,Ms[to++]=l,Ms[to++]=u,Ms[to++]=h,s0|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function a0(i,l,u,h){return th(i,l,u,h),nh(i)}function nl(i,l){return th(i,null,null,l),nh(i)}function py(i,l,u){i.lanes|=u;var h=i.alternate;h!==null&&(h.lanes|=u);for(var g=!1,y=i.return;y!==null;)y.childLanes|=u,h=y.alternate,h!==null&&(h.childLanes|=u),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(g=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,g&&l!==null&&(g=31-rt(u),i=y.hiddenUpdates,h=i[g],h===null?i[g]=[l]:h.push(l),l.lane=u|536870912),y):null}function nh(i){if(50<du)throw du=0,mp=null,Error(a(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var no={};function J_(i,l,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bs(i,l,u,h){return new J_(i,l,u,h)}function i0(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ei(i,l){var u=i.alternate;return u===null?(u=bs(i.tag,l,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=l,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,l=i.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function gy(i,l){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,l=u.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function sh(i,l,u,h,g,y){var S=0;if(h=i,typeof i=="function")i0(i)&&(S=1);else if(typeof i=="string")S=sE(i,u,Te.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case L:return i=bs(31,u,l,g),i.elementType=L,i.lanes=y,i;case D:return sl(u.children,g,y,l);case k:S=8,g|=24;break;case V:return i=bs(12,u,l,g|2),i.elementType=V,i.lanes=y,i;case se:return i=bs(13,u,l,g),i.elementType=se,i.lanes=y,i;case G:return i=bs(19,u,l,g),i.elementType=G,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:S=10;break e;case I:S=9;break e;case Q:S=11;break e;case R:S=14;break e;case A:S=16,h=null;break e}S=29,u=Error(a(130,i===null?"null":typeof i,"")),h=null}return l=bs(S,u,l,g),l.elementType=i,l.type=h,l.lanes=y,l}function sl(i,l,u,h){return i=bs(7,i,h,l),i.lanes=u,i}function r0(i,l,u){return i=bs(6,i,null,l),i.lanes=u,i}function xy(i){var l=bs(18,null,null,0);return l.stateNode=i,l}function l0(i,l,u){return l=bs(4,i.children!==null?i.children:[],i.key,l),l.lanes=u,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var by=new WeakMap;function Os(i,l){if(typeof i=="object"&&i!==null){var u=by.get(i);return u!==void 0?u:(l={value:i,source:l,stack:we(l)},by.set(i,l),l)}return{value:i,source:l,stack:we(l)}}var so=[],ao=0,ah=null,qc=0,Ps=[],Ls=0,qi=null,Ra=1,Ia="";function ti(i,l){so[ao++]=qc,so[ao++]=ah,ah=i,qc=l}function yy(i,l,u){Ps[Ls++]=Ra,Ps[Ls++]=Ia,Ps[Ls++]=qi,qi=i;var h=Ra;i=Ia;var g=32-rt(h)-1;h&=~(1<<g),u+=1;var y=32-rt(l)+g;if(30<y){var S=g-g%5;y=(h&(1<<S)-1).toString(32),h>>=S,g-=S,Ra=1<<32-rt(l)+g|u<<g|h,Ia=y+i}else Ra=1<<y|u<<g|h,Ia=i}function o0(i){i.return!==null&&(ti(i,1),yy(i,1,0))}function c0(i){for(;i===ah;)ah=so[--ao],so[ao]=null,qc=so[--ao],so[ao]=null;for(;i===qi;)qi=Ps[--Ls],Ps[Ls]=null,Ia=Ps[--Ls],Ps[Ls]=null,Ra=Ps[--Ls],Ps[Ls]=null}function vy(i,l){Ps[Ls++]=Ra,Ps[Ls++]=Ia,Ps[Ls++]=qi,Ra=l.id,Ia=l.overflow,qi=i}var In=null,It=null,lt=!1,Hi=null,Vs=!1,u0=Error(a(519));function Gi(i){var l=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hc(Os(l,i)),u0}function wy(i){var l=i.stateNode,u=i.type,h=i.memoizedProps;switch(l[tn]=i,l[Sn]=h,u){case"dialog":Je("cancel",l),Je("close",l);break;case"iframe":case"object":case"embed":Je("load",l);break;case"video":case"audio":for(u=0;u<mu.length;u++)Je(mu[u],l);break;case"source":Je("error",l);break;case"img":case"image":case"link":Je("error",l),Je("load",l);break;case"details":Je("toggle",l);break;case"input":Je("invalid",l),Ld(l,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Je("invalid",l);break;case"textarea":Je("invalid",l),Li(l,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||h.suppressHydrationWarning===!0||V1(l.textContent,u)?(h.popover!=null&&(Je("beforetoggle",l),Je("toggle",l)),h.onScroll!=null&&Je("scroll",l),h.onScrollEnd!=null&&Je("scrollend",l),h.onClick!=null&&(l.onclick=Js),l=!0):l=!1,l||Gi(i,!0)}function Ny(i){for(In=i.return;In;)switch(In.tag){case 5:case 31:case 13:Vs=!1;return;case 27:case 3:Vs=!0;return;default:In=In.return}}function io(i){if(i!==In)return!1;if(!lt)return Ny(i),lt=!0,!1;var l=i.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Cp(i.type,i.memoizedProps)),u=!u),u&&It&&Gi(i),Ny(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));It=Y1(i)}else if(l===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));It=Y1(i)}else l===27?(l=It,rr(i.type)?(i=Dp,Dp=null,It=i):It=l):It=In?zs(i.stateNode.nextSibling):null;return!0}function al(){It=In=null,lt=!1}function d0(){var i=Hi;return i!==null&&(ls===null?ls=i:ls.push.apply(ls,i),Hi=null),i}function Hc(i){Hi===null?Hi=[i]:Hi.push(i)}var h0=re(null),il=null,ni=null;function Yi(i,l,u){z(h0,l._currentValue),l._currentValue=u}function si(i){i._currentValue=h0.current,ge(h0)}function m0(i,l,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,h!==null&&(h.childLanes|=l)):h!==null&&(h.childLanes&l)!==l&&(h.childLanes|=l),i===u)break;i=i.return}}function f0(i,l,u,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var y=g.dependencies;if(y!==null){var S=g.child;y=y.firstContext;e:for(;y!==null;){var M=y;y=g;for(var H=0;H<l.length;H++)if(M.context===l[H]){y.lanes|=u,M=y.alternate,M!==null&&(M.lanes|=u),m0(y.return,u,i),h||(S=null);break e}y=M.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(a(341));S.lanes|=u,y=S.alternate,y!==null&&(y.lanes|=u),m0(S,u,i),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===i){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function ro(i,l,u,h){i=null;for(var g=l,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var M=g.type;xs(g.pendingProps.value,S.value)||(i!==null?i.push(M):i=[M])}}else if(g===ut.current){if(S=g.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(bu):i=[bu])}g=g.return}i!==null&&f0(l,i,u,h),l.flags|=262144}function ih(i){for(i=i.firstContext;i!==null;){if(!xs(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function rl(i){il=i,ni=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Dn(i){return jy(il,i)}function rh(i,l){return il===null&&rl(i),jy(i,l)}function jy(i,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},ni===null){if(i===null)throw Error(a(308));ni=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else ni=ni.next=l;return u}var Z_=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(u,h){i.push(h)}};this.abort=function(){l.aborted=!0,i.forEach(function(u){return u()})}},eT=t.unstable_scheduleCallback,tT=t.unstable_NormalPriority,an={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function p0(){return{controller:new Z_,data:new Map,refCount:0}}function Gc(i){i.refCount--,i.refCount===0&&eT(tT,function(){i.controller.abort()})}var Yc=null,g0=0,lo=0,oo=null;function nT(i,l){if(Yc===null){var u=Yc=[];g0=0,lo=yp(),oo={status:"pending",value:void 0,then:function(h){u.push(h)}}}return g0++,l.then(Sy,Sy),l}function Sy(){if(--g0===0&&Yc!==null){oo!==null&&(oo.status="fulfilled");var i=Yc;Yc=null,lo=0,oo=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function sT(i,l){var u=[],h={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return i.then(function(){h.status="fulfilled",h.value=l;for(var g=0;g<u.length;g++)(0,u[g])(l)},function(g){for(h.status="rejected",h.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),h}var _y=q.S;q.S=function(i,l){o1=Vt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&nT(i,l),_y!==null&&_y(i,l)};var ll=re(null);function x0(){var i=ll.current;return i!==null?i:Et.pooledCache}function lh(i,l){l===null?z(ll,ll.current):z(ll,l.pool)}function Ty(){var i=x0();return i===null?null:{parent:an._currentValue,pool:i}}var co=Error(a(460)),b0=Error(a(474)),oh=Error(a(542)),ch={then:function(){}};function Ey(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Cy(i,l,u){switch(u=i[u],u===void 0?i.push(l):u!==l&&(l.then(Js,Js),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,ky(i),i;default:if(typeof l.status=="string")l.then(Js,Js);else{if(i=Et,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=l,i.status="pending",i.then(function(h){if(l.status==="pending"){var g=l;g.status="fulfilled",g.value=h}},function(h){if(l.status==="pending"){var g=l;g.status="rejected",g.reason=h}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,ky(i),i}throw cl=l,co}}function ol(i){try{var l=i._init;return l(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(cl=u,co):u}}var cl=null;function Ay(){if(cl===null)throw Error(a(459));var i=cl;return cl=null,i}function ky(i){if(i===co||i===oh)throw Error(a(483))}var uo=null,Qc=0;function uh(i){var l=Qc;return Qc+=1,uo===null&&(uo=[]),Cy(uo,i,l)}function Kc(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function dh(i,l){throw l.$$typeof===v?Error(a(525)):(i=Object.prototype.toString.call(l),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function Ry(i){function l(K,Y){if(i){var Z=K.deletions;Z===null?(K.deletions=[Y],K.flags|=16):Z.push(Y)}}function u(K,Y){if(!i)return null;for(;Y!==null;)l(K,Y),Y=Y.sibling;return null}function h(K){for(var Y=new Map;K!==null;)K.key!==null?Y.set(K.key,K):Y.set(K.index,K),K=K.sibling;return Y}function g(K,Y){return K=ei(K,Y),K.index=0,K.sibling=null,K}function y(K,Y,Z){return K.index=Z,i?(Z=K.alternate,Z!==null?(Z=Z.index,Z<Y?(K.flags|=67108866,Y):Z):(K.flags|=67108866,Y)):(K.flags|=1048576,Y)}function S(K){return i&&K.alternate===null&&(K.flags|=67108866),K}function M(K,Y,Z,ue){return Y===null||Y.tag!==6?(Y=r0(Z,K.mode,ue),Y.return=K,Y):(Y=g(Y,Z),Y.return=K,Y)}function H(K,Y,Z,ue){var Re=Z.type;return Re===D?oe(K,Y,Z.props.children,ue,Z.key):Y!==null&&(Y.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===A&&ol(Re)===Y.type)?(Y=g(Y,Z.props),Kc(Y,Z),Y.return=K,Y):(Y=sh(Z.type,Z.key,Z.props,null,K.mode,ue),Kc(Y,Z),Y.return=K,Y)}function ee(K,Y,Z,ue){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==Z.containerInfo||Y.stateNode.implementation!==Z.implementation?(Y=l0(Z,K.mode,ue),Y.return=K,Y):(Y=g(Y,Z.children||[]),Y.return=K,Y)}function oe(K,Y,Z,ue,Re){return Y===null||Y.tag!==7?(Y=sl(Z,K.mode,ue,Re),Y.return=K,Y):(Y=g(Y,Z),Y.return=K,Y)}function me(K,Y,Z){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=r0(""+Y,K.mode,Z),Y.return=K,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return Z=sh(Y.type,Y.key,Y.props,null,K.mode,Z),Kc(Z,Y),Z.return=K,Z;case j:return Y=l0(Y,K.mode,Z),Y.return=K,Y;case A:return Y=ol(Y),me(K,Y,Z)}if(J(Y)||P(Y))return Y=sl(Y,K.mode,Z,null),Y.return=K,Y;if(typeof Y.then=="function")return me(K,uh(Y),Z);if(Y.$$typeof===B)return me(K,rh(K,Y),Z);dh(K,Y)}return null}function ne(K,Y,Z,ue){var Re=Y!==null?Y.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Re!==null?null:M(K,Y,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return Z.key===Re?H(K,Y,Z,ue):null;case j:return Z.key===Re?ee(K,Y,Z,ue):null;case A:return Z=ol(Z),ne(K,Y,Z,ue)}if(J(Z)||P(Z))return Re!==null?null:oe(K,Y,Z,ue,null);if(typeof Z.then=="function")return ne(K,Y,uh(Z),ue);if(Z.$$typeof===B)return ne(K,Y,rh(K,Z),ue);dh(K,Z)}return null}function ie(K,Y,Z,ue,Re){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return K=K.get(Z)||null,M(Y,K,""+ue,Re);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case w:return K=K.get(ue.key===null?Z:ue.key)||null,H(Y,K,ue,Re);case j:return K=K.get(ue.key===null?Z:ue.key)||null,ee(Y,K,ue,Re);case A:return ue=ol(ue),ie(K,Y,Z,ue,Re)}if(J(ue)||P(ue))return K=K.get(Z)||null,oe(Y,K,ue,Re,null);if(typeof ue.then=="function")return ie(K,Y,Z,uh(ue),Re);if(ue.$$typeof===B)return ie(K,Y,Z,rh(Y,ue),Re);dh(Y,ue)}return null}function Ee(K,Y,Z,ue){for(var Re=null,ht=null,Ce=Y,Ye=Y=0,nt=null;Ce!==null&&Ye<Z.length;Ye++){Ce.index>Ye?(nt=Ce,Ce=null):nt=Ce.sibling;var mt=ne(K,Ce,Z[Ye],ue);if(mt===null){Ce===null&&(Ce=nt);break}i&&Ce&&mt.alternate===null&&l(K,Ce),Y=y(mt,Y,Ye),ht===null?Re=mt:ht.sibling=mt,ht=mt,Ce=nt}if(Ye===Z.length)return u(K,Ce),lt&&ti(K,Ye),Re;if(Ce===null){for(;Ye<Z.length;Ye++)Ce=me(K,Z[Ye],ue),Ce!==null&&(Y=y(Ce,Y,Ye),ht===null?Re=Ce:ht.sibling=Ce,ht=Ce);return lt&&ti(K,Ye),Re}for(Ce=h(Ce);Ye<Z.length;Ye++)nt=ie(Ce,K,Ye,Z[Ye],ue),nt!==null&&(i&&nt.alternate!==null&&Ce.delete(nt.key===null?Ye:nt.key),Y=y(nt,Y,Ye),ht===null?Re=nt:ht.sibling=nt,ht=nt);return i&&Ce.forEach(function(dr){return l(K,dr)}),lt&&ti(K,Ye),Re}function Pe(K,Y,Z,ue){if(Z==null)throw Error(a(151));for(var Re=null,ht=null,Ce=Y,Ye=Y=0,nt=null,mt=Z.next();Ce!==null&&!mt.done;Ye++,mt=Z.next()){Ce.index>Ye?(nt=Ce,Ce=null):nt=Ce.sibling;var dr=ne(K,Ce,mt.value,ue);if(dr===null){Ce===null&&(Ce=nt);break}i&&Ce&&dr.alternate===null&&l(K,Ce),Y=y(dr,Y,Ye),ht===null?Re=dr:ht.sibling=dr,ht=dr,Ce=nt}if(mt.done)return u(K,Ce),lt&&ti(K,Ye),Re;if(Ce===null){for(;!mt.done;Ye++,mt=Z.next())mt=me(K,mt.value,ue),mt!==null&&(Y=y(mt,Y,Ye),ht===null?Re=mt:ht.sibling=mt,ht=mt);return lt&&ti(K,Ye),Re}for(Ce=h(Ce);!mt.done;Ye++,mt=Z.next())mt=ie(Ce,K,Ye,mt.value,ue),mt!==null&&(i&&mt.alternate!==null&&Ce.delete(mt.key===null?Ye:mt.key),Y=y(mt,Y,Ye),ht===null?Re=mt:ht.sibling=mt,ht=mt);return i&&Ce.forEach(function(fE){return l(K,fE)}),lt&&ti(K,Ye),Re}function Tt(K,Y,Z,ue){if(typeof Z=="object"&&Z!==null&&Z.type===D&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:e:{for(var Re=Z.key;Y!==null;){if(Y.key===Re){if(Re=Z.type,Re===D){if(Y.tag===7){u(K,Y.sibling),ue=g(Y,Z.props.children),ue.return=K,K=ue;break e}}else if(Y.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===A&&ol(Re)===Y.type){u(K,Y.sibling),ue=g(Y,Z.props),Kc(ue,Z),ue.return=K,K=ue;break e}u(K,Y);break}else l(K,Y);Y=Y.sibling}Z.type===D?(ue=sl(Z.props.children,K.mode,ue,Z.key),ue.return=K,K=ue):(ue=sh(Z.type,Z.key,Z.props,null,K.mode,ue),Kc(ue,Z),ue.return=K,K=ue)}return S(K);case j:e:{for(Re=Z.key;Y!==null;){if(Y.key===Re)if(Y.tag===4&&Y.stateNode.containerInfo===Z.containerInfo&&Y.stateNode.implementation===Z.implementation){u(K,Y.sibling),ue=g(Y,Z.children||[]),ue.return=K,K=ue;break e}else{u(K,Y);break}else l(K,Y);Y=Y.sibling}ue=l0(Z,K.mode,ue),ue.return=K,K=ue}return S(K);case A:return Z=ol(Z),Tt(K,Y,Z,ue)}if(J(Z))return Ee(K,Y,Z,ue);if(P(Z)){if(Re=P(Z),typeof Re!="function")throw Error(a(150));return Z=Re.call(Z),Pe(K,Y,Z,ue)}if(typeof Z.then=="function")return Tt(K,Y,uh(Z),ue);if(Z.$$typeof===B)return Tt(K,Y,rh(K,Z),ue);dh(K,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,Y!==null&&Y.tag===6?(u(K,Y.sibling),ue=g(Y,Z),ue.return=K,K=ue):(u(K,Y),ue=r0(Z,K.mode,ue),ue.return=K,K=ue),S(K)):u(K,Y)}return function(K,Y,Z,ue){try{Qc=0;var Re=Tt(K,Y,Z,ue);return uo=null,Re}catch(Ce){if(Ce===co||Ce===oh)throw Ce;var ht=bs(29,Ce,null,K.mode);return ht.lanes=ue,ht.return=K,ht}finally{}}}var ul=Ry(!0),Iy=Ry(!1),Qi=!1;function y0(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function v0(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ki(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Wi(i,l,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(gt&2)!==0){var g=h.pending;return g===null?l.next=l:(l.next=g.next,g.next=l),h.pending=l,l=nh(i),py(i,null,u),l}return th(i,h,l,u),nh(i)}function Wc(i,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var h=l.lanes;h&=i.pendingLanes,u|=h,l.lanes=u,jc(i,u)}}function w0(i,l){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var g=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var S={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?g=y=S:y=y.next=S,u=u.next}while(u!==null);y===null?g=y=l:y=y.next=l}else g=y=l;u={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=l:i.next=l,u.lastBaseUpdate=l}var N0=!1;function Xc(){if(N0){var i=oo;if(i!==null)throw i}}function Jc(i,l,u,h){N0=!1;var g=i.updateQueue;Qi=!1;var y=g.firstBaseUpdate,S=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var H=M,ee=H.next;H.next=null,S===null?y=ee:S.next=ee,S=H;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,M=oe.lastBaseUpdate,M!==S&&(M===null?oe.firstBaseUpdate=ee:M.next=ee,oe.lastBaseUpdate=H))}if(y!==null){var me=g.baseState;S=0,oe=ee=H=null,M=y;do{var ne=M.lane&-536870913,ie=ne!==M.lane;if(ie?(tt&ne)===ne:(h&ne)===ne){ne!==0&&ne===lo&&(N0=!0),oe!==null&&(oe=oe.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Ee=i,Pe=M;ne=l;var Tt=u;switch(Pe.tag){case 1:if(Ee=Pe.payload,typeof Ee=="function"){me=Ee.call(Tt,me,ne);break e}me=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Pe.payload,ne=typeof Ee=="function"?Ee.call(Tt,me,ne):Ee,ne==null)break e;me=b({},me,ne);break e;case 2:Qi=!0}}ne=M.callback,ne!==null&&(i.flags|=64,ie&&(i.flags|=8192),ie=g.callbacks,ie===null?g.callbacks=[ne]:ie.push(ne))}else ie={lane:ne,tag:M.tag,payload:M.payload,callback:M.callback,next:null},oe===null?(ee=oe=ie,H=me):oe=oe.next=ie,S|=ne;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;ie=M,M=ie.next,ie.next=null,g.lastBaseUpdate=ie,g.shared.pending=null}}while(!0);oe===null&&(H=me),g.baseState=H,g.firstBaseUpdate=ee,g.lastBaseUpdate=oe,y===null&&(g.shared.lanes=0),tr|=S,i.lanes=S,i.memoizedState=me}}function Dy(i,l){if(typeof i!="function")throw Error(a(191,i));i.call(l)}function My(i,l){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)Dy(u[i],l)}var ho=re(null),hh=re(0);function Oy(i,l){i=hi,z(hh,i),z(ho,l),hi=i|l.baseLanes}function j0(){z(hh,hi),z(ho,ho.current)}function S0(){hi=hh.current,ge(ho),ge(hh)}var ys=re(null),Us=null;function Xi(i){var l=i.alternate;z(Yt,Yt.current&1),z(ys,i),Us===null&&(l===null||ho.current!==null||l.memoizedState!==null)&&(Us=i)}function _0(i){z(Yt,Yt.current),z(ys,i),Us===null&&(Us=i)}function Py(i){i.tag===22?(z(Yt,Yt.current),z(ys,i),Us===null&&(Us=i)):Ji()}function Ji(){z(Yt,Yt.current),z(ys,ys.current)}function vs(i){ge(ys),Us===i&&(Us=null),ge(Yt)}var Yt=re(0);function mh(i){for(var l=i;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Rp(u)||Ip(u)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ai=0,Ge=null,St=null,rn=null,fh=!1,mo=!1,dl=!1,ph=0,Zc=0,fo=null,aT=0;function Ft(){throw Error(a(321))}function T0(i,l){if(l===null)return!1;for(var u=0;u<l.length&&u<i.length;u++)if(!xs(i[u],l[u]))return!1;return!0}function E0(i,l,u,h,g,y){return ai=y,Ge=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,q.H=i===null||i.memoizedState===null?yv:B0,dl=!1,y=u(h,g),dl=!1,mo&&(y=Vy(l,u,h,g)),Ly(i),y}function Ly(i){q.H=nu;var l=St!==null&&St.next!==null;if(ai=0,rn=St=Ge=null,fh=!1,Zc=0,fo=null,l)throw Error(a(300));i===null||ln||(i=i.dependencies,i!==null&&ih(i)&&(ln=!0))}function Vy(i,l,u,h){Ge=i;var g=0;do{if(mo&&(fo=null),Zc=0,mo=!1,25<=g)throw Error(a(301));if(g+=1,rn=St=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}q.H=vv,y=l(u,h)}while(mo);return y}function iT(){var i=q.H,l=i.useState()[0];return l=typeof l.then=="function"?eu(l):l,i=i.useState()[0],(St!==null?St.memoizedState:null)!==i&&(Ge.flags|=1024),l}function C0(){var i=ph!==0;return ph=0,i}function A0(i,l,u){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~u}function k0(i){if(fh){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}fh=!1}ai=0,rn=St=Ge=null,mo=!1,Zc=ph=0,fo=null}function Jn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Ge.memoizedState=rn=i:rn=rn.next=i,rn}function Qt(){if(St===null){var i=Ge.alternate;i=i!==null?i.memoizedState:null}else i=St.next;var l=rn===null?Ge.memoizedState:rn.next;if(l!==null)rn=l,St=i;else{if(i===null)throw Ge.alternate===null?Error(a(467)):Error(a(310));St=i,i={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},rn===null?Ge.memoizedState=rn=i:rn=rn.next=i}return rn}function gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eu(i){var l=Zc;return Zc+=1,fo===null&&(fo=[]),i=Cy(fo,i,l),l=Ge,(rn===null?l.memoizedState:rn.next)===null&&(l=l.alternate,q.H=l===null||l.memoizedState===null?yv:B0),i}function xh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return eu(i);if(i.$$typeof===B)return Dn(i)}throw Error(a(438,String(i)))}function R0(i){var l=null,u=Ge.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var h=Ge.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(l={data:h.data.map(function(g){return g.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=gh(),Ge.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(i),h=0;h<i;h++)u[h]=T;return l.index++,u}function ii(i,l){return typeof l=="function"?l(i):l}function bh(i){var l=Qt();return I0(l,St,i)}function I0(i,l,u){var h=i.queue;if(h===null)throw Error(a(311));h.lastRenderedReducer=u;var g=i.baseQueue,y=h.pending;if(y!==null){if(g!==null){var S=g.next;g.next=y.next,y.next=S}l.baseQueue=g=y,h.pending=null}if(y=i.baseState,g===null)i.memoizedState=y;else{l=g.next;var M=S=null,H=null,ee=l,oe=!1;do{var me=ee.lane&-536870913;if(me!==ee.lane?(tt&me)===me:(ai&me)===me){var ne=ee.revertLane;if(ne===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),me===lo&&(oe=!0);else if((ai&ne)===ne){ee=ee.next,ne===lo&&(oe=!0);continue}else me={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(M=H=me,S=y):H=H.next=me,Ge.lanes|=ne,tr|=ne;me=ee.action,dl&&u(y,me),y=ee.hasEagerState?ee.eagerState:u(y,me)}else ne={lane:me,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(M=H=ne,S=y):H=H.next=ne,Ge.lanes|=me,tr|=me;ee=ee.next}while(ee!==null&&ee!==l);if(H===null?S=y:H.next=M,!xs(y,i.memoizedState)&&(ln=!0,oe&&(u=oo,u!==null)))throw u;i.memoizedState=y,i.baseState=S,i.baseQueue=H,h.lastRenderedState=y}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function D0(i){var l=Qt(),u=l.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=i;var h=u.dispatch,g=u.pending,y=l.memoizedState;if(g!==null){u.pending=null;var S=g=g.next;do y=i(y,S.action),S=S.next;while(S!==g);xs(y,l.memoizedState)||(ln=!0),l.memoizedState=y,l.baseQueue===null&&(l.baseState=y),u.lastRenderedState=y}return[y,h]}function Uy(i,l,u){var h=Ge,g=Qt(),y=lt;if(y){if(u===void 0)throw Error(a(407));u=u()}else u=l();var S=!xs((St||g).memoizedState,u);if(S&&(g.memoizedState=u,ln=!0),g=g.queue,P0(By.bind(null,h,g,i),[i]),g.getSnapshot!==l||S||rn!==null&&rn.memoizedState.tag&1){if(h.flags|=2048,po(9,{destroy:void 0},Fy.bind(null,h,g,u,l),null),Et===null)throw Error(a(349));y||(ai&127)!==0||zy(h,l,u)}return u}function zy(i,l,u){i.flags|=16384,i={getSnapshot:l,value:u},l=Ge.updateQueue,l===null?(l=gh(),Ge.updateQueue=l,l.stores=[i]):(u=l.stores,u===null?l.stores=[i]:u.push(i))}function Fy(i,l,u,h){l.value=u,l.getSnapshot=h,$y(l)&&qy(i)}function By(i,l,u){return u(function(){$y(l)&&qy(i)})}function $y(i){var l=i.getSnapshot;i=i.value;try{var u=l();return!xs(i,u)}catch{return!0}}function qy(i){var l=nl(i,2);l!==null&&os(l,i,2)}function M0(i){var l=Jn();if(typeof i=="function"){var u=i;if(i=u(),dl){jn(!0);try{u()}finally{jn(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:i},l}function Hy(i,l,u,h){return i.baseState=u,I0(i,St,typeof h=="function"?h:ii)}function rT(i,l,u,h,g){if(wh(i))throw Error(a(485));if(i=l.action,i!==null){var y={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};q.T!==null?u(!0):y.isTransition=!1,h(y),u=l.pending,u===null?(y.next=l.pending=y,Gy(l,y)):(y.next=u.next,l.pending=u.next=y)}}function Gy(i,l){var u=l.action,h=l.payload,g=i.state;if(l.isTransition){var y=q.T,S={};q.T=S;try{var M=u(g,h),H=q.S;H!==null&&H(S,M),Yy(i,l,M)}catch(ee){O0(i,l,ee)}finally{y!==null&&S.types!==null&&(y.types=S.types),q.T=y}}else try{y=u(g,h),Yy(i,l,y)}catch(ee){O0(i,l,ee)}}function Yy(i,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){Qy(i,l,h)},function(h){return O0(i,l,h)}):Qy(i,l,u)}function Qy(i,l,u){l.status="fulfilled",l.value=u,Ky(l),i.state=u,l=i.pending,l!==null&&(u=l.next,u===l?i.pending=null:(u=u.next,l.next=u,Gy(i,u)))}function O0(i,l,u){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do l.status="rejected",l.reason=u,Ky(l),l=l.next;while(l!==h)}i.action=null}function Ky(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function Wy(i,l){return l}function Xy(i,l){if(lt){var u=Et.formState;if(u!==null){e:{var h=Ge;if(lt){if(It){t:{for(var g=It,y=Vs;g.nodeType!==8;){if(!y){g=null;break t}if(g=zs(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){It=zs(g.nextSibling),h=g.data==="F!";break e}}Gi(h)}h=!1}h&&(l=u[0])}}return u=Jn(),u.memoizedState=u.baseState=l,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wy,lastRenderedState:l},u.queue=h,u=gv.bind(null,Ge,h),h.dispatch=u,h=M0(!1),y=F0.bind(null,Ge,!1,h.queue),h=Jn(),g={state:l,dispatch:null,action:i,pending:null},h.queue=g,u=rT.bind(null,Ge,g,y,u),g.dispatch=u,h.memoizedState=i,[l,u,!1]}function Jy(i){var l=Qt();return Zy(l,St,i)}function Zy(i,l,u){if(l=I0(i,l,Wy)[0],i=bh(ii)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var h=eu(l)}catch(S){throw S===co?oh:S}else h=l;l=Qt();var g=l.queue,y=g.dispatch;return u!==l.memoizedState&&(Ge.flags|=2048,po(9,{destroy:void 0},lT.bind(null,g,u),null)),[h,y,i]}function lT(i,l){i.action=l}function ev(i){var l=Qt(),u=St;if(u!==null)return Zy(l,u,i);Qt(),l=l.memoizedState,u=Qt();var h=u.queue.dispatch;return u.memoizedState=i,[l,h,!1]}function po(i,l,u,h){return i={tag:i,create:u,deps:h,inst:l,next:null},l=Ge.updateQueue,l===null&&(l=gh(),Ge.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,l.lastEffect=i),i}function tv(){return Qt().memoizedState}function yh(i,l,u,h){var g=Jn();Ge.flags|=i,g.memoizedState=po(1|l,{destroy:void 0},u,h===void 0?null:h)}function vh(i,l,u,h){var g=Qt();h=h===void 0?null:h;var y=g.memoizedState.inst;St!==null&&h!==null&&T0(h,St.memoizedState.deps)?g.memoizedState=po(l,y,u,h):(Ge.flags|=i,g.memoizedState=po(1|l,y,u,h))}function nv(i,l){yh(8390656,8,i,l)}function P0(i,l){vh(2048,8,i,l)}function oT(i){Ge.flags|=4;var l=Ge.updateQueue;if(l===null)l=gh(),Ge.updateQueue=l,l.events=[i];else{var u=l.events;u===null?l.events=[i]:u.push(i)}}function sv(i){var l=Qt().memoizedState;return oT({ref:l,nextImpl:i}),function(){if((gt&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}function av(i,l){return vh(4,2,i,l)}function iv(i,l){return vh(4,4,i,l)}function rv(i,l){if(typeof l=="function"){i=i();var u=l(i);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function lv(i,l,u){u=u!=null?u.concat([i]):null,vh(4,4,rv.bind(null,l,i),u)}function L0(){}function ov(i,l){var u=Qt();l=l===void 0?null:l;var h=u.memoizedState;return l!==null&&T0(l,h[1])?h[0]:(u.memoizedState=[i,l],i)}function cv(i,l){var u=Qt();l=l===void 0?null:l;var h=u.memoizedState;if(l!==null&&T0(l,h[1]))return h[0];if(h=i(),dl){jn(!0);try{i()}finally{jn(!1)}}return u.memoizedState=[h,l],h}function V0(i,l,u){return u===void 0||(ai&1073741824)!==0&&(tt&261930)===0?i.memoizedState=l:(i.memoizedState=u,i=u1(),Ge.lanes|=i,tr|=i,u)}function uv(i,l,u,h){return xs(u,l)?u:ho.current!==null?(i=V0(i,u,h),xs(i,l)||(ln=!0),i):(ai&42)===0||(ai&1073741824)!==0&&(tt&261930)===0?(ln=!0,i.memoizedState=u):(i=u1(),Ge.lanes|=i,tr|=i,l)}function dv(i,l,u,h,g){var y=X.p;X.p=y!==0&&8>y?y:8;var S=q.T,M={};q.T=M,F0(i,!1,l,u);try{var H=g(),ee=q.S;if(ee!==null&&ee(M,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var oe=sT(H,h);tu(i,l,oe,js(i))}else tu(i,l,h,js(i))}catch(me){tu(i,l,{then:function(){},status:"rejected",reason:me},js())}finally{X.p=y,S!==null&&M.types!==null&&(S.types=M.types),q.T=S}}function cT(){}function U0(i,l,u,h){if(i.tag!==5)throw Error(a(476));var g=hv(i).queue;dv(i,g,l,he,u===null?cT:function(){return mv(i),u(h)})}function hv(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:he},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:u},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function mv(i){var l=hv(i);l.next===null&&(l=i.alternate.memoizedState),tu(i,l.next.queue,{},js())}function z0(){return Dn(bu)}function fv(){return Qt().memoizedState}function pv(){return Qt().memoizedState}function uT(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var u=js();i=Ki(u);var h=Wi(l,i,u);h!==null&&(os(h,l,u),Wc(h,l,u)),l={cache:p0()},i.payload=l;return}l=l.return}}function dT(i,l,u){var h=js();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},wh(i)?xv(l,u):(u=a0(i,l,u,h),u!==null&&(os(u,i,h),bv(u,l,h)))}function gv(i,l,u){var h=js();tu(i,l,u,h)}function tu(i,l,u,h){var g={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(wh(i))xv(l,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=l.lastRenderedReducer,y!==null))try{var S=l.lastRenderedState,M=y(S,u);if(g.hasEagerState=!0,g.eagerState=M,xs(M,S))return th(i,l,g,0),Et===null&&eh(),!1}catch{}finally{}if(u=a0(i,l,g,h),u!==null)return os(u,i,h),bv(u,l,h),!0}return!1}function F0(i,l,u,h){if(h={lane:2,revertLane:yp(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},wh(i)){if(l)throw Error(a(479))}else l=a0(i,u,h,2),l!==null&&os(l,i,2)}function wh(i){var l=i.alternate;return i===Ge||l!==null&&l===Ge}function xv(i,l){mo=fh=!0;var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}function bv(i,l,u){if((u&4194048)!==0){var h=l.lanes;h&=i.pendingLanes,u|=h,l.lanes=u,jc(i,u)}}var nu={readContext:Dn,use:xh,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft};nu.useEffectEvent=Ft;var yv={readContext:Dn,use:xh,useCallback:function(i,l){return Jn().memoizedState=[i,l===void 0?null:l],i},useContext:Dn,useEffect:nv,useImperativeHandle:function(i,l,u){u=u!=null?u.concat([i]):null,yh(4194308,4,rv.bind(null,l,i),u)},useLayoutEffect:function(i,l){return yh(4194308,4,i,l)},useInsertionEffect:function(i,l){yh(4,2,i,l)},useMemo:function(i,l){var u=Jn();l=l===void 0?null:l;var h=i();if(dl){jn(!0);try{i()}finally{jn(!1)}}return u.memoizedState=[h,l],h},useReducer:function(i,l,u){var h=Jn();if(u!==void 0){var g=u(l);if(dl){jn(!0);try{u(l)}finally{jn(!1)}}}else g=l;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=dT.bind(null,Ge,i),[h.memoizedState,i]},useRef:function(i){var l=Jn();return i={current:i},l.memoizedState=i},useState:function(i){i=M0(i);var l=i.queue,u=gv.bind(null,Ge,l);return l.dispatch=u,[i.memoizedState,u]},useDebugValue:L0,useDeferredValue:function(i,l){var u=Jn();return V0(u,i,l)},useTransition:function(){var i=M0(!1);return i=dv.bind(null,Ge,i.queue,!0,!1),Jn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,u){var h=Ge,g=Jn();if(lt){if(u===void 0)throw Error(a(407));u=u()}else{if(u=l(),Et===null)throw Error(a(349));(tt&127)!==0||zy(h,l,u)}g.memoizedState=u;var y={value:u,getSnapshot:l};return g.queue=y,nv(By.bind(null,h,y,i),[i]),h.flags|=2048,po(9,{destroy:void 0},Fy.bind(null,h,y,u,l),null),u},useId:function(){var i=Jn(),l=Et.identifierPrefix;if(lt){var u=Ia,h=Ra;u=(h&~(1<<32-rt(h)-1)).toString(32)+u,l="_"+l+"R_"+u,u=ph++,0<u&&(l+="H"+u.toString(32)),l+="_"}else u=aT++,l="_"+l+"r_"+u.toString(32)+"_";return i.memoizedState=l},useHostTransitionStatus:z0,useFormState:Xy,useActionState:Xy,useOptimistic:function(i){var l=Jn();l.memoizedState=l.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=F0.bind(null,Ge,!0,u),u.dispatch=l,[i,l]},useMemoCache:R0,useCacheRefresh:function(){return Jn().memoizedState=uT.bind(null,Ge)},useEffectEvent:function(i){var l=Jn(),u={impl:i};return l.memoizedState=u,function(){if((gt&2)!==0)throw Error(a(440));return u.impl.apply(void 0,arguments)}}},B0={readContext:Dn,use:xh,useCallback:ov,useContext:Dn,useEffect:P0,useImperativeHandle:lv,useInsertionEffect:av,useLayoutEffect:iv,useMemo:cv,useReducer:bh,useRef:tv,useState:function(){return bh(ii)},useDebugValue:L0,useDeferredValue:function(i,l){var u=Qt();return uv(u,St.memoizedState,i,l)},useTransition:function(){var i=bh(ii)[0],l=Qt().memoizedState;return[typeof i=="boolean"?i:eu(i),l]},useSyncExternalStore:Uy,useId:fv,useHostTransitionStatus:z0,useFormState:Jy,useActionState:Jy,useOptimistic:function(i,l){var u=Qt();return Hy(u,St,i,l)},useMemoCache:R0,useCacheRefresh:pv};B0.useEffectEvent=sv;var vv={readContext:Dn,use:xh,useCallback:ov,useContext:Dn,useEffect:P0,useImperativeHandle:lv,useInsertionEffect:av,useLayoutEffect:iv,useMemo:cv,useReducer:D0,useRef:tv,useState:function(){return D0(ii)},useDebugValue:L0,useDeferredValue:function(i,l){var u=Qt();return St===null?V0(u,i,l):uv(u,St.memoizedState,i,l)},useTransition:function(){var i=D0(ii)[0],l=Qt().memoizedState;return[typeof i=="boolean"?i:eu(i),l]},useSyncExternalStore:Uy,useId:fv,useHostTransitionStatus:z0,useFormState:ev,useActionState:ev,useOptimistic:function(i,l){var u=Qt();return St!==null?Hy(u,St,i,l):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:R0,useCacheRefresh:pv};vv.useEffectEvent=sv;function $0(i,l,u,h){l=i.memoizedState,u=u(h,l),u=u==null?l:b({},l,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var q0={enqueueSetState:function(i,l,u){i=i._reactInternals;var h=js(),g=Ki(h);g.payload=l,u!=null&&(g.callback=u),l=Wi(i,g,h),l!==null&&(os(l,i,h),Wc(l,i,h))},enqueueReplaceState:function(i,l,u){i=i._reactInternals;var h=js(),g=Ki(h);g.tag=1,g.payload=l,u!=null&&(g.callback=u),l=Wi(i,g,h),l!==null&&(os(l,i,h),Wc(l,i,h))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var u=js(),h=Ki(u);h.tag=2,l!=null&&(h.callback=l),l=Wi(i,h,u),l!==null&&(os(l,i,u),Wc(l,i,u))}};function wv(i,l,u,h,g,y,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,S):l.prototype&&l.prototype.isPureReactComponent?!Bc(u,h)||!Bc(g,y):!0}function Nv(i,l,u,h){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,h),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,h),l.state!==i&&q0.enqueueReplaceState(l,l.state,null)}function hl(i,l){var u=l;if("ref"in l){u={};for(var h in l)h!=="ref"&&(u[h]=l[h])}if(i=i.defaultProps){u===l&&(u=b({},u));for(var g in i)u[g]===void 0&&(u[g]=i[g])}return u}function jv(i){Zd(i)}function Sv(i){console.error(i)}function _v(i){Zd(i)}function Nh(i,l){try{var u=i.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(h){setTimeout(function(){throw h})}}function Tv(i,l,u){try{var h=i.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function H0(i,l,u){return u=Ki(u),u.tag=3,u.payload={element:null},u.callback=function(){Nh(i,l)},u}function Ev(i){return i=Ki(i),i.tag=3,i}function Cv(i,l,u,h){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;i.payload=function(){return g(y)},i.callback=function(){Tv(l,u,h)}}var S=u.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){Tv(l,u,h),typeof g!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})})}function hT(i,l,u,h,g){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(l=u.alternate,l!==null&&ro(l,u,g,!0),u=ys.current,u!==null){switch(u.tag){case 31:case 13:return Us===null?Mh():u.alternate===null&&Bt===0&&(Bt=3),u.flags&=-257,u.flags|=65536,u.lanes=g,h===ch?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([h]):l.add(h),gp(i,h,g)),!1;case 22:return u.flags|=65536,h===ch?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([h]):u.add(h)),gp(i,h,g)),!1}throw Error(a(435,u.tag))}return gp(i,h,g),Mh(),!1}if(lt)return l=ys.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=g,h!==u0&&(i=Error(a(422),{cause:h}),Hc(Os(i,u)))):(h!==u0&&(l=Error(a(423),{cause:h}),Hc(Os(l,u))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=Os(h,u),g=H0(i.stateNode,h,g),w0(i,g),Bt!==4&&(Bt=2)),!1;var y=Error(a(520),{cause:h});if(y=Os(y,u),uu===null?uu=[y]:uu.push(y),Bt!==4&&(Bt=2),l===null)return!0;h=Os(h,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,i=g&-g,u.lanes|=i,i=H0(u.stateNode,h,i),w0(u,i),!1;case 1:if(l=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(nr===null||!nr.has(y))))return u.flags|=65536,g&=-g,u.lanes|=g,g=Ev(g),Cv(g,i,u,h),w0(u,g),!1}u=u.return}while(u!==null);return!1}var G0=Error(a(461)),ln=!1;function Mn(i,l,u,h){l.child=i===null?Iy(l,null,u,h):ul(l,i.child,u,h)}function Av(i,l,u,h,g){u=u.render;var y=l.ref;if("ref"in h){var S={};for(var M in h)M!=="ref"&&(S[M]=h[M])}else S=h;return rl(l),h=E0(i,l,u,S,y,g),M=C0(),i!==null&&!ln?(A0(i,l,g),ri(i,l,g)):(lt&&M&&o0(l),l.flags|=1,Mn(i,l,h,g),l.child)}function kv(i,l,u,h,g){if(i===null){var y=u.type;return typeof y=="function"&&!i0(y)&&y.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=y,Rv(i,l,y,h,g)):(i=sh(u.type,null,h,l,l.mode,g),i.ref=l.ref,i.return=l,l.child=i)}if(y=i.child,!ep(i,g)){var S=y.memoizedProps;if(u=u.compare,u=u!==null?u:Bc,u(S,h)&&i.ref===l.ref)return ri(i,l,g)}return l.flags|=1,i=ei(y,h),i.ref=l.ref,i.return=l,l.child=i}function Rv(i,l,u,h,g){if(i!==null){var y=i.memoizedProps;if(Bc(y,h)&&i.ref===l.ref)if(ln=!1,l.pendingProps=h=y,ep(i,g))(i.flags&131072)!==0&&(ln=!0);else return l.lanes=i.lanes,ri(i,l,g)}return Y0(i,l,u,h,g)}function Iv(i,l,u,h){var g=h.children,y=i!==null?i.memoizedState:null;if(i===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((l.flags&128)!==0){if(y=y!==null?y.baseLanes|u:u,i!==null){for(h=l.child=i.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~y}else h=0,l.child=null;return Dv(i,l,y,u,h)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&lh(l,y!==null?y.cachePool:null),y!==null?Oy(l,y):j0(),Py(l);else return h=l.lanes=536870912,Dv(i,l,y!==null?y.baseLanes|u:u,u,h)}else y!==null?(lh(l,y.cachePool),Oy(l,y),Ji(),l.memoizedState=null):(i!==null&&lh(l,null),j0(),Ji());return Mn(i,l,g,u),l.child}function su(i,l){return i!==null&&i.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function Dv(i,l,u,h,g){var y=x0();return y=y===null?null:{parent:an._currentValue,pool:y},l.memoizedState={baseLanes:u,cachePool:y},i!==null&&lh(l,null),j0(),Py(l),i!==null&&ro(i,l,h,!0),l.childLanes=g,null}function jh(i,l){return l=_h({mode:l.mode,children:l.children},i.mode),l.ref=i.ref,i.child=l,l.return=i,l}function Mv(i,l,u){return ul(l,i.child,null,u),i=jh(l,l.pendingProps),i.flags|=2,vs(l),l.memoizedState=null,i}function mT(i,l,u){var h=l.pendingProps,g=(l.flags&128)!==0;if(l.flags&=-129,i===null){if(lt){if(h.mode==="hidden")return i=jh(l,h),l.lanes=536870912,su(null,i);if(_0(l),(i=It)?(i=G1(i,Vs),i=i!==null&&i.data==="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:qi!==null?{id:Ra,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},u=xy(i),u.return=l,l.child=u,In=l,It=null)):i=null,i===null)throw Gi(l);return l.lanes=536870912,null}return jh(l,h)}var y=i.memoizedState;if(y!==null){var S=y.dehydrated;if(_0(l),g)if(l.flags&256)l.flags&=-257,l=Mv(i,l,u);else if(l.memoizedState!==null)l.child=i.child,l.flags|=128,l=null;else throw Error(a(558));else if(ln||ro(i,l,u,!1),g=(u&i.childLanes)!==0,ln||g){if(h=Et,h!==null&&(S=Sc(h,u),S!==0&&S!==y.retryLane))throw y.retryLane=S,nl(i,S),os(h,i,S),G0;Mh(),l=Mv(i,l,u)}else i=y.treeContext,It=zs(S.nextSibling),In=l,lt=!0,Hi=null,Vs=!1,i!==null&&vy(l,i),l=jh(l,h),l.flags|=4096;return l}return i=ei(i.child,{mode:h.mode,children:h.children}),i.ref=l.ref,l.child=i,i.return=l,i}function Sh(i,l){var u=l.ref;if(u===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(a(284));(i===null||i.ref!==u)&&(l.flags|=4194816)}}function Y0(i,l,u,h,g){return rl(l),u=E0(i,l,u,h,void 0,g),h=C0(),i!==null&&!ln?(A0(i,l,g),ri(i,l,g)):(lt&&h&&o0(l),l.flags|=1,Mn(i,l,u,g),l.child)}function Ov(i,l,u,h,g,y){return rl(l),l.updateQueue=null,u=Vy(l,h,u,g),Ly(i),h=C0(),i!==null&&!ln?(A0(i,l,y),ri(i,l,y)):(lt&&h&&o0(l),l.flags|=1,Mn(i,l,u,y),l.child)}function Pv(i,l,u,h,g){if(rl(l),l.stateNode===null){var y=no,S=u.contextType;typeof S=="object"&&S!==null&&(y=Dn(S)),y=new u(h,y),l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=q0,l.stateNode=y,y._reactInternals=l,y=l.stateNode,y.props=h,y.state=l.memoizedState,y.refs={},y0(l),S=u.contextType,y.context=typeof S=="object"&&S!==null?Dn(S):no,y.state=l.memoizedState,S=u.getDerivedStateFromProps,typeof S=="function"&&($0(l,u,S,h),y.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&q0.enqueueReplaceState(y,y.state,null),Jc(l,h,y,g),Xc(),y.state=l.memoizedState),typeof y.componentDidMount=="function"&&(l.flags|=4194308),h=!0}else if(i===null){y=l.stateNode;var M=l.memoizedProps,H=hl(u,M);y.props=H;var ee=y.context,oe=u.contextType;S=no,typeof oe=="object"&&oe!==null&&(S=Dn(oe));var me=u.getDerivedStateFromProps;oe=typeof me=="function"||typeof y.getSnapshotBeforeUpdate=="function",M=l.pendingProps!==M,oe||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(M||ee!==S)&&Nv(l,y,h,S),Qi=!1;var ne=l.memoizedState;y.state=ne,Jc(l,h,y,g),Xc(),ee=l.memoizedState,M||ne!==ee||Qi?(typeof me=="function"&&($0(l,u,me,h),ee=l.memoizedState),(H=Qi||wv(l,u,H,h,ne,ee,S))?(oe||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(l.flags|=4194308)):(typeof y.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=h,l.memoizedState=ee),y.props=h,y.state=ee,y.context=S,h=H):(typeof y.componentDidMount=="function"&&(l.flags|=4194308),h=!1)}else{y=l.stateNode,v0(i,l),S=l.memoizedProps,oe=hl(u,S),y.props=oe,me=l.pendingProps,ne=y.context,ee=u.contextType,H=no,typeof ee=="object"&&ee!==null&&(H=Dn(ee)),M=u.getDerivedStateFromProps,(ee=typeof M=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==me||ne!==H)&&Nv(l,y,h,H),Qi=!1,ne=l.memoizedState,y.state=ne,Jc(l,h,y,g),Xc();var ie=l.memoizedState;S!==me||ne!==ie||Qi||i!==null&&i.dependencies!==null&&ih(i.dependencies)?(typeof M=="function"&&($0(l,u,M,h),ie=l.memoizedState),(oe=Qi||wv(l,u,oe,h,ne,ie,H)||i!==null&&i.dependencies!==null&&ih(i.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,ie,H),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,ie,H)),typeof y.componentDidUpdate=="function"&&(l.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===i.memoizedProps&&ne===i.memoizedState||(l.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&ne===i.memoizedState||(l.flags|=1024),l.memoizedProps=h,l.memoizedState=ie),y.props=h,y.state=ie,y.context=H,h=oe):(typeof y.componentDidUpdate!="function"||S===i.memoizedProps&&ne===i.memoizedState||(l.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&ne===i.memoizedState||(l.flags|=1024),h=!1)}return y=h,Sh(i,l),h=(l.flags&128)!==0,y||h?(y=l.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:y.render(),l.flags|=1,i!==null&&h?(l.child=ul(l,i.child,null,g),l.child=ul(l,null,u,g)):Mn(i,l,u,g),l.memoizedState=y.state,i=l.child):i=ri(i,l,g),i}function Lv(i,l,u,h){return al(),l.flags|=256,Mn(i,l,u,h),l.child}var Q0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function K0(i){return{baseLanes:i,cachePool:Ty()}}function W0(i,l,u){return i=i!==null?i.childLanes&~u:0,l&&(i|=Ns),i}function Vv(i,l,u){var h=l.pendingProps,g=!1,y=(l.flags&128)!==0,S;if((S=y)||(S=i!==null&&i.memoizedState===null?!1:(Yt.current&2)!==0),S&&(g=!0,l.flags&=-129),S=(l.flags&32)!==0,l.flags&=-33,i===null){if(lt){if(g?Xi(l):Ji(),(i=It)?(i=G1(i,Vs),i=i!==null&&i.data!=="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:qi!==null?{id:Ra,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},u=xy(i),u.return=l,l.child=u,In=l,It=null)):i=null,i===null)throw Gi(l);return Ip(i)?l.lanes=32:l.lanes=536870912,null}var M=h.children;return h=h.fallback,g?(Ji(),g=l.mode,M=_h({mode:"hidden",children:M},g),h=sl(h,g,u,null),M.return=l,h.return=l,M.sibling=h,l.child=M,h=l.child,h.memoizedState=K0(u),h.childLanes=W0(i,S,u),l.memoizedState=Q0,su(null,h)):(Xi(l),X0(l,M))}var H=i.memoizedState;if(H!==null&&(M=H.dehydrated,M!==null)){if(y)l.flags&256?(Xi(l),l.flags&=-257,l=J0(i,l,u)):l.memoizedState!==null?(Ji(),l.child=i.child,l.flags|=128,l=null):(Ji(),M=h.fallback,g=l.mode,h=_h({mode:"visible",children:h.children},g),M=sl(M,g,u,null),M.flags|=2,h.return=l,M.return=l,h.sibling=M,l.child=h,ul(l,i.child,null,u),h=l.child,h.memoizedState=K0(u),h.childLanes=W0(i,S,u),l.memoizedState=Q0,l=su(null,h));else if(Xi(l),Ip(M)){if(S=M.nextSibling&&M.nextSibling.dataset,S)var ee=S.dgst;S=ee,h=Error(a(419)),h.stack="",h.digest=S,Hc({value:h,source:null,stack:null}),l=J0(i,l,u)}else if(ln||ro(i,l,u,!1),S=(u&i.childLanes)!==0,ln||S){if(S=Et,S!==null&&(h=Sc(S,u),h!==0&&h!==H.retryLane))throw H.retryLane=h,nl(i,h),os(S,i,h),G0;Rp(M)||Mh(),l=J0(i,l,u)}else Rp(M)?(l.flags|=192,l.child=i.child,l=null):(i=H.treeContext,It=zs(M.nextSibling),In=l,lt=!0,Hi=null,Vs=!1,i!==null&&vy(l,i),l=X0(l,h.children),l.flags|=4096);return l}return g?(Ji(),M=h.fallback,g=l.mode,H=i.child,ee=H.sibling,h=ei(H,{mode:"hidden",children:h.children}),h.subtreeFlags=H.subtreeFlags&65011712,ee!==null?M=ei(ee,M):(M=sl(M,g,u,null),M.flags|=2),M.return=l,h.return=l,h.sibling=M,l.child=h,su(null,h),h=l.child,M=i.child.memoizedState,M===null?M=K0(u):(g=M.cachePool,g!==null?(H=an._currentValue,g=g.parent!==H?{parent:H,pool:H}:g):g=Ty(),M={baseLanes:M.baseLanes|u,cachePool:g}),h.memoizedState=M,h.childLanes=W0(i,S,u),l.memoizedState=Q0,su(i.child,h)):(Xi(l),u=i.child,i=u.sibling,u=ei(u,{mode:"visible",children:h.children}),u.return=l,u.sibling=null,i!==null&&(S=l.deletions,S===null?(l.deletions=[i],l.flags|=16):S.push(i)),l.child=u,l.memoizedState=null,u)}function X0(i,l){return l=_h({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function _h(i,l){return i=bs(22,i,null,l),i.lanes=0,i}function J0(i,l,u){return ul(l,i.child,null,u),i=X0(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function Uv(i,l,u){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l),m0(i.return,l,u)}function Z0(i,l,u,h,g,y){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:g,treeForkCount:y}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=h,S.tail=u,S.tailMode=g,S.treeForkCount=y)}function zv(i,l,u){var h=l.pendingProps,g=h.revealOrder,y=h.tail;h=h.children;var S=Yt.current,M=(S&2)!==0;if(M?(S=S&1|2,l.flags|=128):S&=1,z(Yt,S),Mn(i,l,h,u),h=lt?qc:0,!M&&i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Uv(i,u,l);else if(i.tag===19)Uv(i,u,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(u=l.child,g=null;u!==null;)i=u.alternate,i!==null&&mh(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=l.child,l.child=null):(g=u.sibling,u.sibling=null),Z0(l,!1,g,u,y,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,g=l.child,l.child=null;g!==null;){if(i=g.alternate,i!==null&&mh(i)===null){l.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}Z0(l,!0,u,null,y,h);break;case"together":Z0(l,!1,null,null,void 0,h);break;default:l.memoizedState=null}return l.child}function ri(i,l,u){if(i!==null&&(l.dependencies=i.dependencies),tr|=l.lanes,(u&l.childLanes)===0)if(i!==null){if(ro(i,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(a(153));if(l.child!==null){for(i=l.child,u=ei(i,i.pendingProps),l.child=u,u.return=l;i.sibling!==null;)i=i.sibling,u=u.sibling=ei(i,i.pendingProps),u.return=l;u.sibling=null}return l.child}function ep(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&ih(i)))}function fT(i,l,u){switch(l.tag){case 3:Nt(l,l.stateNode.containerInfo),Yi(l,an,i.memoizedState.cache),al();break;case 27:case 5:wn(l);break;case 4:Nt(l,l.stateNode.containerInfo);break;case 10:Yi(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,_0(l),null;break;case 13:var h=l.memoizedState;if(h!==null)return h.dehydrated!==null?(Xi(l),l.flags|=128,null):(u&l.child.childLanes)!==0?Vv(i,l,u):(Xi(l),i=ri(i,l,u),i!==null?i.sibling:null);Xi(l);break;case 19:var g=(i.flags&128)!==0;if(h=(u&l.childLanes)!==0,h||(ro(i,l,u,!1),h=(u&l.childLanes)!==0),g){if(h)return zv(i,l,u);l.flags|=128}if(g=l.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),z(Yt,Yt.current),h)break;return null;case 22:return l.lanes=0,Iv(i,l,u,l.pendingProps);case 24:Yi(l,an,i.memoizedState.cache)}return ri(i,l,u)}function Fv(i,l,u){if(i!==null)if(i.memoizedProps!==l.pendingProps)ln=!0;else{if(!ep(i,u)&&(l.flags&128)===0)return ln=!1,fT(i,l,u);ln=(i.flags&131072)!==0}else ln=!1,lt&&(l.flags&1048576)!==0&&yy(l,qc,l.index);switch(l.lanes=0,l.tag){case 16:e:{var h=l.pendingProps;if(i=ol(l.elementType),l.type=i,typeof i=="function")i0(i)?(h=hl(i,h),l.tag=1,l=Pv(null,l,i,h,u)):(l.tag=0,l=Y0(null,l,i,h,u));else{if(i!=null){var g=i.$$typeof;if(g===Q){l.tag=11,l=Av(null,l,i,h,u);break e}else if(g===R){l.tag=14,l=kv(null,l,i,h,u);break e}}throw l=te(i)||i,Error(a(306,l,""))}}return l;case 0:return Y0(i,l,l.type,l.pendingProps,u);case 1:return h=l.type,g=hl(h,l.pendingProps),Pv(i,l,h,g,u);case 3:e:{if(Nt(l,l.stateNode.containerInfo),i===null)throw Error(a(387));h=l.pendingProps;var y=l.memoizedState;g=y.element,v0(i,l),Jc(l,h,null,u);var S=l.memoizedState;if(h=S.cache,Yi(l,an,h),h!==y.cache&&f0(l,[an],u,!0),Xc(),h=S.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:S.cache},l.updateQueue.baseState=y,l.memoizedState=y,l.flags&256){l=Lv(i,l,h,u);break e}else if(h!==g){g=Os(Error(a(424)),l),Hc(g),l=Lv(i,l,h,u);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(It=zs(i.firstChild),In=l,lt=!0,Hi=null,Vs=!0,u=Iy(l,null,h,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(al(),h===g){l=ri(i,l,u);break e}Mn(i,l,h,u)}l=l.child}return l;case 26:return Sh(i,l),i===null?(u=J1(l.type,null,l.pendingProps,null))?l.memoizedState=u:lt||(u=l.type,i=l.pendingProps,h=Fh($e.current).createElement(u),h[tn]=l,h[Sn]=i,On(h,u,i),nn(h),l.stateNode=h):l.memoizedState=J1(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return wn(l),i===null&&lt&&(h=l.stateNode=K1(l.type,l.pendingProps,$e.current),In=l,Vs=!0,g=It,rr(l.type)?(Dp=g,It=zs(h.firstChild)):It=g),Mn(i,l,l.pendingProps.children,u),Sh(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&lt&&((g=h=It)&&(h=qT(h,l.type,l.pendingProps,Vs),h!==null?(l.stateNode=h,In=l,It=zs(h.firstChild),Vs=!1,g=!0):g=!1),g||Gi(l)),wn(l),g=l.type,y=l.pendingProps,S=i!==null?i.memoizedProps:null,h=y.children,Cp(g,y)?h=null:S!==null&&Cp(g,S)&&(l.flags|=32),l.memoizedState!==null&&(g=E0(i,l,iT,null,null,u),bu._currentValue=g),Sh(i,l),Mn(i,l,h,u),l.child;case 6:return i===null&&lt&&((i=u=It)&&(u=HT(u,l.pendingProps,Vs),u!==null?(l.stateNode=u,In=l,It=null,i=!0):i=!1),i||Gi(l)),null;case 13:return Vv(i,l,u);case 4:return Nt(l,l.stateNode.containerInfo),h=l.pendingProps,i===null?l.child=ul(l,null,h,u):Mn(i,l,h,u),l.child;case 11:return Av(i,l,l.type,l.pendingProps,u);case 7:return Mn(i,l,l.pendingProps,u),l.child;case 8:return Mn(i,l,l.pendingProps.children,u),l.child;case 12:return Mn(i,l,l.pendingProps.children,u),l.child;case 10:return h=l.pendingProps,Yi(l,l.type,h.value),Mn(i,l,h.children,u),l.child;case 9:return g=l.type._context,h=l.pendingProps.children,rl(l),g=Dn(g),h=h(g),l.flags|=1,Mn(i,l,h,u),l.child;case 14:return kv(i,l,l.type,l.pendingProps,u);case 15:return Rv(i,l,l.type,l.pendingProps,u);case 19:return zv(i,l,u);case 31:return mT(i,l,u);case 22:return Iv(i,l,u,l.pendingProps);case 24:return rl(l),h=Dn(an),i===null?(g=x0(),g===null&&(g=Et,y=p0(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=u),g=y),l.memoizedState={parent:h,cache:g},y0(l),Yi(l,an,g)):((i.lanes&u)!==0&&(v0(i,l),Jc(l,null,null,u),Xc()),g=i.memoizedState,y=l.memoizedState,g.parent!==h?(g={parent:h,cache:h},l.memoizedState=g,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=g),Yi(l,an,h)):(h=y.cache,Yi(l,an,h),h!==g.cache&&f0(l,[an],u,!0))),Mn(i,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(a(156,l.tag))}function li(i){i.flags|=4}function tp(i,l,u,h,g){if((l=(i.mode&32)!==0)&&(l=!1),l){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(f1())i.flags|=8192;else throw cl=ch,b0}else i.flags&=-16777217}function Bv(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!sw(l))if(f1())i.flags|=8192;else throw cl=ch,b0}function Th(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?Id():536870912,i.lanes|=l,yo|=l)}function au(i,l){if(!lt)switch(i.tailMode){case"hidden":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Dt(i){var l=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(l)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=u,l}function pT(i,l,u){var h=l.pendingProps;switch(c0(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(l),null;case 1:return Dt(l),null;case 3:return u=l.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),si(an),bt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(io(l)?li(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,d0())),Dt(l),null;case 26:var g=l.type,y=l.memoizedState;return i===null?(li(l),y!==null?(Dt(l),Bv(l,y)):(Dt(l),tp(l,g,null,h,u))):y?y!==i.memoizedState?(li(l),Dt(l),Bv(l,y)):(Dt(l),l.flags&=-16777217):(i=i.memoizedProps,i!==h&&li(l),Dt(l),tp(l,g,i,h,u)),null;case 27:if(Nn(l),u=$e.current,g=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==h&&li(l);else{if(!h){if(l.stateNode===null)throw Error(a(166));return Dt(l),null}i=Te.current,io(l)?wy(l):(i=K1(g,h,u),l.stateNode=i,li(l))}return Dt(l),null;case 5:if(Nn(l),g=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==h&&li(l);else{if(!h){if(l.stateNode===null)throw Error(a(166));return Dt(l),null}if(y=Te.current,io(l))wy(l);else{var S=Fh($e.current);switch(y){case 1:y=S.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=S.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=S.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?S.createElement("select",{is:h.is}):S.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?S.createElement(g,{is:h.is}):S.createElement(g)}}y[tn]=l,y[Sn]=h;e:for(S=l.child;S!==null;){if(S.tag===5||S.tag===6)y.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===l)break e;for(;S.sibling===null;){if(S.return===null||S.return===l)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}l.stateNode=y;e:switch(On(y,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&li(l)}}return Dt(l),tp(l,l.type,i===null?null:i.memoizedProps,l.pendingProps,u),null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==h&&li(l);else{if(typeof h!="string"&&l.stateNode===null)throw Error(a(166));if(i=$e.current,io(l)){if(i=l.stateNode,u=l.memoizedProps,h=null,g=In,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[tn]=l,i=!!(i.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||V1(i.nodeValue,u)),i||Gi(l,!0)}else i=Fh(i).createTextNode(h),i[tn]=l,l.stateNode=i}return Dt(l),null;case 31:if(u=l.memoizedState,i===null||i.memoizedState!==null){if(h=io(l),u!==null){if(i===null){if(!h)throw Error(a(318));if(i=l.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(557));i[tn]=l}else al(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Dt(l),i=!1}else u=d0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return l.flags&256?(vs(l),l):(vs(l),null);if((l.flags&128)!==0)throw Error(a(558))}return Dt(l),null;case 13:if(h=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=io(l),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(a(318));if(g=l.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(317));g[tn]=l}else al(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Dt(l),g=!1}else g=d0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return l.flags&256?(vs(l),l):(vs(l),null)}return vs(l),(l.flags&128)!==0?(l.lanes=u,l):(u=h!==null,i=i!==null&&i.memoizedState!==null,u&&(h=l.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)),u!==i&&u&&(l.child.flags|=8192),Th(l,l.updateQueue),Dt(l),null);case 4:return bt(),i===null&&jp(l.stateNode.containerInfo),Dt(l),null;case 10:return si(l.type),Dt(l),null;case 19:if(ge(Yt),h=l.memoizedState,h===null)return Dt(l),null;if(g=(l.flags&128)!==0,y=h.rendering,y===null)if(g)au(h,!1);else{if(Bt!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(y=mh(i),y!==null){for(l.flags|=128,au(h,!1),i=y.updateQueue,l.updateQueue=i,Th(l,i),l.subtreeFlags=0,i=u,u=l.child;u!==null;)gy(u,i),u=u.sibling;return z(Yt,Yt.current&1|2),lt&&ti(l,h.treeForkCount),l.child}i=i.sibling}h.tail!==null&&Vt()>Rh&&(l.flags|=128,g=!0,au(h,!1),l.lanes=4194304)}else{if(!g)if(i=mh(y),i!==null){if(l.flags|=128,g=!0,i=i.updateQueue,l.updateQueue=i,Th(l,i),au(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!lt)return Dt(l),null}else 2*Vt()-h.renderingStartTime>Rh&&u!==536870912&&(l.flags|=128,g=!0,au(h,!1),l.lanes=4194304);h.isBackwards?(y.sibling=l.child,l.child=y):(i=h.last,i!==null?i.sibling=y:l.child=y,h.last=y)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Vt(),i.sibling=null,u=Yt.current,z(Yt,g?u&1|2:u&1),lt&&ti(l,h.treeForkCount),i):(Dt(l),null);case 22:case 23:return vs(l),S0(),h=l.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(l.flags|=8192):h&&(l.flags|=8192),h?(u&536870912)!==0&&(l.flags&128)===0&&(Dt(l),l.subtreeFlags&6&&(l.flags|=8192)):Dt(l),u=l.updateQueue,u!==null&&Th(l,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==u&&(l.flags|=2048),i!==null&&ge(ll),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),si(an),Dt(l),null;case 25:return null;case 30:return null}throw Error(a(156,l.tag))}function gT(i,l){switch(c0(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return si(an),bt(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return Nn(l),null;case 31:if(l.memoizedState!==null){if(vs(l),l.alternate===null)throw Error(a(340));al()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 13:if(vs(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(a(340));al()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return ge(Yt),null;case 4:return bt(),null;case 10:return si(l.type),null;case 22:case 23:return vs(l),S0(),i!==null&&ge(ll),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return si(an),null;case 25:return null;default:return null}}function $v(i,l){switch(c0(l),l.tag){case 3:si(an),bt();break;case 26:case 27:case 5:Nn(l);break;case 4:bt();break;case 31:l.memoizedState!==null&&vs(l);break;case 13:vs(l);break;case 19:ge(Yt);break;case 10:si(l.type);break;case 22:case 23:vs(l),S0(),i!==null&&ge(ll);break;case 24:si(an)}}function iu(i,l){try{var u=l.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&i)===i){h=void 0;var y=u.create,S=u.inst;h=y(),S.destroy=h}u=u.next}while(u!==g)}}catch(M){wt(l,l.return,M)}}function Zi(i,l,u){try{var h=l.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&i)===i){var S=h.inst,M=S.destroy;if(M!==void 0){S.destroy=void 0,g=l;var H=u,ee=M;try{ee()}catch(oe){wt(g,H,oe)}}}h=h.next}while(h!==y)}}catch(oe){wt(l,l.return,oe)}}function qv(i){var l=i.updateQueue;if(l!==null){var u=i.stateNode;try{My(l,u)}catch(h){wt(i,i.return,h)}}}function Hv(i,l,u){u.props=hl(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(h){wt(i,l,h)}}function ru(i,l){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof u=="function"?i.refCleanup=u(h):u.current=h}}catch(g){wt(i,l,g)}}function Da(i,l){var u=i.ref,h=i.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(g){wt(i,l,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){wt(i,l,g)}else u.current=null}function Gv(i){var l=i.type,u=i.memoizedProps,h=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(g){wt(i,i.return,g)}}function np(i,l,u){try{var h=i.stateNode;VT(h,i.type,u,l),h[Sn]=l}catch(g){wt(i,i.return,g)}}function Yv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&rr(i.type)||i.tag===4}function sp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Yv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&rr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ap(i,l,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(i),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=Js));else if(h!==4&&(h===27&&rr(i.type)&&(u=i.stateNode,l=null),i=i.child,i!==null))for(ap(i,l,u),i=i.sibling;i!==null;)ap(i,l,u),i=i.sibling}function Eh(i,l,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,l?u.insertBefore(i,l):u.appendChild(i);else if(h!==4&&(h===27&&rr(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Eh(i,l,u),i=i.sibling;i!==null;)Eh(i,l,u),i=i.sibling}function Qv(i){var l=i.stateNode,u=i.memoizedProps;try{for(var h=i.type,g=l.attributes;g.length;)l.removeAttributeNode(g[0]);On(l,h,u),l[tn]=i,l[Sn]=u}catch(y){wt(i,i.return,y)}}var oi=!1,on=!1,ip=!1,Kv=typeof WeakSet=="function"?WeakSet:Set,Tn=null;function xT(i,l){if(i=i.containerInfo,Tp=Qh,i=ly(i),Jf(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var S=0,M=-1,H=-1,ee=0,oe=0,me=i,ne=null;t:for(;;){for(var ie;me!==u||g!==0&&me.nodeType!==3||(M=S+g),me!==y||h!==0&&me.nodeType!==3||(H=S+h),me.nodeType===3&&(S+=me.nodeValue.length),(ie=me.firstChild)!==null;)ne=me,me=ie;for(;;){if(me===i)break t;if(ne===u&&++ee===g&&(M=S),ne===y&&++oe===h&&(H=S),(ie=me.nextSibling)!==null)break;me=ne,ne=me.parentNode}me=ie}u=M===-1||H===-1?null:{start:M,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ep={focusedElem:i,selectionRange:u},Qh=!1,Tn=l;Tn!==null;)if(l=Tn,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,Tn=i;else for(;Tn!==null;){switch(l=Tn,y=l.alternate,i=l.flags,l.tag){case 0:if((i&4)!==0&&(i=l.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)g=i[u],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,u=l,g=y.memoizedProps,y=y.memoizedState,h=u.stateNode;try{var Ee=hl(u.type,g);i=h.getSnapshotBeforeUpdate(Ee,y),h.__reactInternalSnapshotBeforeUpdate=i}catch(Pe){wt(u,u.return,Pe)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,u=i.nodeType,u===9)kp(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":kp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=l.sibling,i!==null){i.return=l.return,Tn=i;break}Tn=l.return}}function Wv(i,l,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:ui(i,u),h&4&&iu(5,u);break;case 1:if(ui(i,u),h&4)if(i=u.stateNode,l===null)try{i.componentDidMount()}catch(S){wt(u,u.return,S)}else{var g=hl(u.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(g,l,i.__reactInternalSnapshotBeforeUpdate)}catch(S){wt(u,u.return,S)}}h&64&&qv(u),h&512&&ru(u,u.return);break;case 3:if(ui(i,u),h&64&&(i=u.updateQueue,i!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{My(i,l)}catch(S){wt(u,u.return,S)}}break;case 27:l===null&&h&4&&Qv(u);case 26:case 5:ui(i,u),l===null&&h&4&&Gv(u),h&512&&ru(u,u.return);break;case 12:ui(i,u);break;case 31:ui(i,u),h&4&&Zv(i,u);break;case 13:ui(i,u),h&4&&e1(i,u),h&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=TT.bind(null,u),GT(i,u))));break;case 22:if(h=u.memoizedState!==null||oi,!h){l=l!==null&&l.memoizedState!==null||on,g=oi;var y=on;oi=h,(on=l)&&!y?di(i,u,(u.subtreeFlags&8772)!==0):ui(i,u),oi=g,on=y}break;case 30:break;default:ui(i,u)}}function Xv(i){var l=i.alternate;l!==null&&(i.alternate=null,Xv(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&Bl(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Lt=null,as=!1;function ci(i,l,u){for(u=u.child;u!==null;)Jv(i,l,u),u=u.sibling}function Jv(i,l,u){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Ht,u)}catch{}switch(u.tag){case 26:on||Da(u,l),ci(i,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:on||Da(u,l);var h=Lt,g=as;rr(u.type)&&(Lt=u.stateNode,as=!1),ci(i,l,u),pu(u.stateNode),Lt=h,as=g;break;case 5:on||Da(u,l);case 6:if(h=Lt,g=as,Lt=null,ci(i,l,u),Lt=h,as=g,Lt!==null)if(as)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(u.stateNode)}catch(y){wt(u,l,y)}else try{Lt.removeChild(u.stateNode)}catch(y){wt(u,l,y)}break;case 18:Lt!==null&&(as?(i=Lt,q1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Eo(i)):q1(Lt,u.stateNode));break;case 4:h=Lt,g=as,Lt=u.stateNode.containerInfo,as=!0,ci(i,l,u),Lt=h,as=g;break;case 0:case 11:case 14:case 15:Zi(2,u,l),on||Zi(4,u,l),ci(i,l,u);break;case 1:on||(Da(u,l),h=u.stateNode,typeof h.componentWillUnmount=="function"&&Hv(u,l,h)),ci(i,l,u);break;case 21:ci(i,l,u);break;case 22:on=(h=on)||u.memoizedState!==null,ci(i,l,u),on=h;break;default:ci(i,l,u)}}function Zv(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Eo(i)}catch(u){wt(l,l.return,u)}}}function e1(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Eo(i)}catch(u){wt(l,l.return,u)}}function bT(i){switch(i.tag){case 31:case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new Kv),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new Kv),l;default:throw Error(a(435,i.tag))}}function Ch(i,l){var u=bT(i);l.forEach(function(h){if(!u.has(h)){u.add(h);var g=ET.bind(null,i,h);h.then(g,g)}})}function is(i,l){var u=l.deletions;if(u!==null)for(var h=0;h<u.length;h++){var g=u[h],y=i,S=l,M=S;e:for(;M!==null;){switch(M.tag){case 27:if(rr(M.type)){Lt=M.stateNode,as=!1;break e}break;case 5:Lt=M.stateNode,as=!1;break e;case 3:case 4:Lt=M.stateNode.containerInfo,as=!0;break e}M=M.return}if(Lt===null)throw Error(a(160));Jv(y,S,g),Lt=null,as=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)t1(l,i),l=l.sibling}var aa=null;function t1(i,l){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:is(l,i),rs(i),h&4&&(Zi(3,i,i.return),iu(3,i),Zi(5,i,i.return));break;case 1:is(l,i),rs(i),h&512&&(on||u===null||Da(u,u.return)),h&64&&oi&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var g=aa;if(is(l,i),rs(i),h&512&&(on||u===null||Da(u,u.return)),h&4){var y=u!==null?u.memoizedState:null;if(h=i.memoizedState,u===null)if(h===null)if(i.stateNode===null){e:{h=i.type,u=i.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[ya]||y[tn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),On(y,h,u),y[tn]=i,nn(y),h=y;break e;case"link":var S=tw("link","href",g).get(h+(u.href||""));if(S){for(var M=0;M<S.length;M++)if(y=S[M],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){S.splice(M,1);break t}}y=g.createElement(h),On(y,h,u),g.head.appendChild(y);break;case"meta":if(S=tw("meta","content",g).get(h+(u.content||""))){for(M=0;M<S.length;M++)if(y=S[M],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){S.splice(M,1);break t}}y=g.createElement(h),On(y,h,u),g.head.appendChild(y);break;default:throw Error(a(468,h))}y[tn]=i,nn(y),h=y}i.stateNode=h}else nw(g,i.type,i.stateNode);else i.stateNode=ew(g,h,i.memoizedProps);else y!==h?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,h===null?nw(g,i.type,i.stateNode):ew(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&np(i,i.memoizedProps,u.memoizedProps)}break;case 27:is(l,i),rs(i),h&512&&(on||u===null||Da(u,u.return)),u!==null&&h&4&&np(i,i.memoizedProps,u.memoizedProps);break;case 5:if(is(l,i),rs(i),h&512&&(on||u===null||Da(u,u.return)),i.flags&32){g=i.stateNode;try{ss(g,"")}catch(Ee){wt(i,i.return,Ee)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,np(i,g,u!==null?u.memoizedProps:g)),h&1024&&(ip=!0);break;case 6:if(is(l,i),rs(i),h&4){if(i.stateNode===null)throw Error(a(162));h=i.memoizedProps,u=i.stateNode;try{u.nodeValue=h}catch(Ee){wt(i,i.return,Ee)}}break;case 3:if(qh=null,g=aa,aa=Bh(l.containerInfo),is(l,i),aa=g,rs(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Eo(l.containerInfo)}catch(Ee){wt(i,i.return,Ee)}ip&&(ip=!1,n1(i));break;case 4:h=aa,aa=Bh(i.stateNode.containerInfo),is(l,i),rs(i),aa=h;break;case 12:is(l,i),rs(i);break;case 31:is(l,i),rs(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Ch(i,h)));break;case 13:is(l,i),rs(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(kh=Vt()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Ch(i,h)));break;case 22:g=i.memoizedState!==null;var H=u!==null&&u.memoizedState!==null,ee=oi,oe=on;if(oi=ee||g,on=oe||H,is(l,i),on=oe,oi=ee,rs(i),h&8192)e:for(l=i.stateNode,l._visibility=g?l._visibility&-2:l._visibility|1,g&&(u===null||H||oi||on||ml(i)),u=null,l=i;;){if(l.tag===5||l.tag===26){if(u===null){H=u=l;try{if(y=H.stateNode,g)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{M=H.stateNode;var me=H.memoizedProps.style,ne=me!=null&&me.hasOwnProperty("display")?me.display:null;M.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(Ee){wt(H,H.return,Ee)}}}else if(l.tag===6){if(u===null){H=l;try{H.stateNode.nodeValue=g?"":H.memoizedProps}catch(Ee){wt(H,H.return,Ee)}}}else if(l.tag===18){if(u===null){H=l;try{var ie=H.stateNode;g?H1(ie,!0):H1(H.stateNode,!1)}catch(Ee){wt(H,H.return,Ee)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}h&4&&(h=i.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,Ch(i,u))));break;case 19:is(l,i),rs(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Ch(i,h)));break;case 30:break;case 21:break;default:is(l,i),rs(i)}}function rs(i){var l=i.flags;if(l&2){try{for(var u,h=i.return;h!==null;){if(Yv(h)){u=h;break}h=h.return}if(u==null)throw Error(a(160));switch(u.tag){case 27:var g=u.stateNode,y=sp(i);Eh(i,y,g);break;case 5:var S=u.stateNode;u.flags&32&&(ss(S,""),u.flags&=-33);var M=sp(i);Eh(i,M,S);break;case 3:case 4:var H=u.stateNode.containerInfo,ee=sp(i);ap(i,ee,H);break;default:throw Error(a(161))}}catch(oe){wt(i,i.return,oe)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function n1(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;n1(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function ui(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Wv(i,l.alternate,l),l=l.sibling}function ml(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:Zi(4,l,l.return),ml(l);break;case 1:Da(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&Hv(l,l.return,u),ml(l);break;case 27:pu(l.stateNode);case 26:case 5:Da(l,l.return),ml(l);break;case 22:l.memoizedState===null&&ml(l);break;case 30:ml(l);break;default:ml(l)}i=i.sibling}}function di(i,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var h=l.alternate,g=i,y=l,S=y.flags;switch(y.tag){case 0:case 11:case 15:di(g,y,u),iu(4,y);break;case 1:if(di(g,y,u),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ee){wt(h,h.return,ee)}if(h=y,g=h.updateQueue,g!==null){var M=h.stateNode;try{var H=g.shared.hiddenCallbacks;if(H!==null)for(g.shared.hiddenCallbacks=null,g=0;g<H.length;g++)Dy(H[g],M)}catch(ee){wt(h,h.return,ee)}}u&&S&64&&qv(y),ru(y,y.return);break;case 27:Qv(y);case 26:case 5:di(g,y,u),u&&h===null&&S&4&&Gv(y),ru(y,y.return);break;case 12:di(g,y,u);break;case 31:di(g,y,u),u&&S&4&&Zv(g,y);break;case 13:di(g,y,u),u&&S&4&&e1(g,y);break;case 22:y.memoizedState===null&&di(g,y,u),ru(y,y.return);break;case 30:break;default:di(g,y,u)}l=l.sibling}}function rp(i,l){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Gc(u))}function lp(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Gc(i))}function ia(i,l,u,h){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)s1(i,l,u,h),l=l.sibling}function s1(i,l,u,h){var g=l.flags;switch(l.tag){case 0:case 11:case 15:ia(i,l,u,h),g&2048&&iu(9,l);break;case 1:ia(i,l,u,h);break;case 3:ia(i,l,u,h),g&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Gc(i)));break;case 12:if(g&2048){ia(i,l,u,h),i=l.stateNode;try{var y=l.memoizedProps,S=y.id,M=y.onPostCommit;typeof M=="function"&&M(S,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(H){wt(l,l.return,H)}}else ia(i,l,u,h);break;case 31:ia(i,l,u,h);break;case 13:ia(i,l,u,h);break;case 23:break;case 22:y=l.stateNode,S=l.alternate,l.memoizedState!==null?y._visibility&2?ia(i,l,u,h):lu(i,l):y._visibility&2?ia(i,l,u,h):(y._visibility|=2,go(i,l,u,h,(l.subtreeFlags&10256)!==0||!1)),g&2048&&rp(S,l);break;case 24:ia(i,l,u,h),g&2048&&lp(l.alternate,l);break;default:ia(i,l,u,h)}}function go(i,l,u,h,g){for(g=g&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var y=i,S=l,M=u,H=h,ee=S.flags;switch(S.tag){case 0:case 11:case 15:go(y,S,M,H,g),iu(8,S);break;case 23:break;case 22:var oe=S.stateNode;S.memoizedState!==null?oe._visibility&2?go(y,S,M,H,g):lu(y,S):(oe._visibility|=2,go(y,S,M,H,g)),g&&ee&2048&&rp(S.alternate,S);break;case 24:go(y,S,M,H,g),g&&ee&2048&&lp(S.alternate,S);break;default:go(y,S,M,H,g)}l=l.sibling}}function lu(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=i,h=l,g=h.flags;switch(h.tag){case 22:lu(u,h),g&2048&&rp(h.alternate,h);break;case 24:lu(u,h),g&2048&&lp(h.alternate,h);break;default:lu(u,h)}l=l.sibling}}var ou=8192;function xo(i,l,u){if(i.subtreeFlags&ou)for(i=i.child;i!==null;)a1(i,l,u),i=i.sibling}function a1(i,l,u){switch(i.tag){case 26:xo(i,l,u),i.flags&ou&&i.memoizedState!==null&&aE(u,aa,i.memoizedState,i.memoizedProps);break;case 5:xo(i,l,u);break;case 3:case 4:var h=aa;aa=Bh(i.stateNode.containerInfo),xo(i,l,u),aa=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=ou,ou=16777216,xo(i,l,u),ou=h):xo(i,l,u));break;default:xo(i,l,u)}}function i1(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function cu(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var h=l[u];Tn=h,l1(h,i)}i1(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)r1(i),i=i.sibling}function r1(i){switch(i.tag){case 0:case 11:case 15:cu(i),i.flags&2048&&Zi(9,i,i.return);break;case 3:cu(i);break;case 12:cu(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,Ah(i)):cu(i);break;default:cu(i)}}function Ah(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var h=l[u];Tn=h,l1(h,i)}i1(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:Zi(8,l,l.return),Ah(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,Ah(l));break;default:Ah(l)}i=i.sibling}}function l1(i,l){for(;Tn!==null;){var u=Tn;switch(u.tag){case 0:case 11:case 15:Zi(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Gc(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Tn=h;else e:for(u=i;Tn!==null;){h=Tn;var g=h.sibling,y=h.return;if(Xv(h),h===u){Tn=null;break e}if(g!==null){g.return=y,Tn=g;break e}Tn=y}}}var yT={getCacheForType:function(i){var l=Dn(an),u=l.data.get(i);return u===void 0&&(u=i(),l.data.set(i,u)),u},cacheSignal:function(){return Dn(an).controller.signal}},vT=typeof WeakMap=="function"?WeakMap:Map,gt=0,Et=null,Xe=null,tt=0,vt=0,ws=null,er=!1,bo=!1,op=!1,hi=0,Bt=0,tr=0,fl=0,cp=0,Ns=0,yo=0,uu=null,ls=null,up=!1,kh=0,o1=0,Rh=1/0,Ih=null,nr=null,pn=0,sr=null,vo=null,mi=0,dp=0,hp=null,c1=null,du=0,mp=null;function js(){return(gt&2)!==0&&tt!==0?tt&-tt:q.T!==null?yp():Dd()}function u1(){if(Ns===0)if((tt&536870912)===0||lt){var i=Fr;Fr<<=1,(Fr&3932160)===0&&(Fr=262144),Ns=i}else Ns=536870912;return i=ys.current,i!==null&&(i.flags|=32),Ns}function os(i,l,u){(i===Et&&(vt===2||vt===9)||i.cancelPendingCommit!==null)&&(wo(i,0),ar(i,tt,Ns,!1)),Br(i,u),((gt&2)===0||i!==Et)&&(i===Et&&((gt&2)===0&&(fl|=u),Bt===4&&ar(i,tt,Ns,!1)),Ma(i))}function d1(i,l,u){if((gt&6)!==0)throw Error(a(327));var h=!u&&(l&127)===0&&(l&i.expiredLanes)===0||Ks(i,l),g=h?jT(i,l):pp(i,l,!0),y=h;do{if(g===0){bo&&!h&&ar(i,l,0,!1);break}else{if(u=i.current.alternate,y&&!wT(u)){g=pp(i,l,!1),y=!1;continue}if(g===2){if(y=l,i.errorRecoveryDisabledLanes&y)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){l=S;e:{var M=i;g=uu;var H=M.current.memoizedState.isDehydrated;if(H&&(wo(M,S).flags|=256),S=pp(M,S,!1),S!==2){if(op&&!H){M.errorRecoveryDisabledLanes|=y,fl|=y,g=4;break e}y=ls,ls=g,y!==null&&(ls===null?ls=y:ls.push.apply(ls,y))}g=S}if(y=!1,g!==2)continue}}if(g===1){wo(i,0),ar(i,l,0,!0);break}e:{switch(h=i,y=g,y){case 0:case 1:throw Error(a(345));case 4:if((l&4194048)!==l)break;case 6:ar(h,l,Ns,!er);break e;case 2:ls=null;break;case 3:case 5:break;default:throw Error(a(329))}if((l&62914560)===l&&(g=kh+300-Vt(),10<g)){if(ar(h,l,Ns,!er),ga(h,0,!0)!==0)break e;mi=l,h.timeoutHandle=B1(h1.bind(null,h,u,ls,Ih,up,l,Ns,fl,yo,er,y,"Throttled",-0,0),g);break e}h1(h,u,ls,Ih,up,l,Ns,fl,yo,er,y,null,-0,0)}}break}while(!0);Ma(i)}function h1(i,l,u,h,g,y,S,M,H,ee,oe,me,ne,ie){if(i.timeoutHandle=-1,me=l.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Js},a1(l,y,me);var Ee=(y&62914560)===y?kh-Vt():(y&4194048)===y?o1-Vt():0;if(Ee=iE(me,Ee),Ee!==null){mi=y,i.cancelPendingCommit=Ee(v1.bind(null,i,l,y,u,h,g,S,M,H,oe,me,null,ne,ie)),ar(i,y,S,!ee);return}}v1(i,l,y,u,h,g,S,M,H)}function wT(i){for(var l=i;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var g=u[h],y=g.getSnapshot;g=g.value;try{if(!xs(y(),g))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ar(i,l,u,h){l&=~cp,l&=~fl,i.suspendedLanes|=l,i.pingedLanes&=~l,h&&(i.warmLanes|=l),h=i.expirationTimes;for(var g=l;0<g;){var y=31-rt(g),S=1<<y;h[y]=-1,g&=~S}u!==0&&$r(i,u,l)}function Dh(){return(gt&6)===0?(hu(0),!1):!0}function fp(){if(Xe!==null){if(vt===0)var i=Xe.return;else i=Xe,ni=il=null,k0(i),uo=null,Qc=0,i=Xe;for(;i!==null;)$v(i.alternate,i),i=i.return;Xe=null}}function wo(i,l){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,FT(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),mi=0,fp(),Et=i,Xe=u=ei(i.current,null),tt=l,vt=0,ws=null,er=!1,bo=Ks(i,l),op=!1,yo=Ns=cp=fl=tr=Bt=0,ls=uu=null,up=!1,(l&8)!==0&&(l|=l&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=l;0<h;){var g=31-rt(h),y=1<<g;l|=i[g],h&=~y}return hi=l,eh(),u}function m1(i,l){Ge=null,q.H=nu,l===co||l===oh?(l=Ay(),vt=3):l===b0?(l=Ay(),vt=4):vt=l===G0?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ws=l,Xe===null&&(Bt=1,Nh(i,Os(l,i.current)))}function f1(){var i=ys.current;return i===null?!0:(tt&4194048)===tt?Us===null:(tt&62914560)===tt||(tt&536870912)!==0?i===Us:!1}function p1(){var i=q.H;return q.H=nu,i===null?nu:i}function g1(){var i=q.A;return q.A=yT,i}function Mh(){Bt=4,er||(tt&4194048)!==tt&&ys.current!==null||(bo=!0),(tr&134217727)===0&&(fl&134217727)===0||Et===null||ar(Et,tt,Ns,!1)}function pp(i,l,u){var h=gt;gt|=2;var g=p1(),y=g1();(Et!==i||tt!==l)&&(Ih=null,wo(i,l)),l=!1;var S=Bt;e:do try{if(vt!==0&&Xe!==null){var M=Xe,H=ws;switch(vt){case 8:fp(),S=6;break e;case 3:case 2:case 9:case 6:ys.current===null&&(l=!0);var ee=vt;if(vt=0,ws=null,No(i,M,H,ee),u&&bo){S=0;break e}break;default:ee=vt,vt=0,ws=null,No(i,M,H,ee)}}NT(),S=Bt;break}catch(oe){m1(i,oe)}while(!0);return l&&i.shellSuspendCounter++,ni=il=null,gt=h,q.H=g,q.A=y,Xe===null&&(Et=null,tt=0,eh()),S}function NT(){for(;Xe!==null;)x1(Xe)}function jT(i,l){var u=gt;gt|=2;var h=p1(),g=g1();Et!==i||tt!==l?(Ih=null,Rh=Vt()+500,wo(i,l)):bo=Ks(i,l);e:do try{if(vt!==0&&Xe!==null){l=Xe;var y=ws;t:switch(vt){case 1:vt=0,ws=null,No(i,l,y,1);break;case 2:case 9:if(Ey(y)){vt=0,ws=null,b1(l);break}l=function(){vt!==2&&vt!==9||Et!==i||(vt=7),Ma(i)},y.then(l,l);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:Ey(y)?(vt=0,ws=null,b1(l)):(vt=0,ws=null,No(i,l,y,7));break;case 5:var S=null;switch(Xe.tag){case 26:S=Xe.memoizedState;case 5:case 27:var M=Xe;if(S?sw(S):M.stateNode.complete){vt=0,ws=null;var H=M.sibling;if(H!==null)Xe=H;else{var ee=M.return;ee!==null?(Xe=ee,Oh(ee)):Xe=null}break t}}vt=0,ws=null,No(i,l,y,5);break;case 6:vt=0,ws=null,No(i,l,y,6);break;case 8:fp(),Bt=6;break e;default:throw Error(a(462))}}ST();break}catch(oe){m1(i,oe)}while(!0);return ni=il=null,q.H=h,q.A=g,gt=u,Xe!==null?0:(Et=null,tt=0,eh(),Bt)}function ST(){for(;Xe!==null&&!kn();)x1(Xe)}function x1(i){var l=Fv(i.alternate,i,hi);i.memoizedProps=i.pendingProps,l===null?Oh(i):Xe=l}function b1(i){var l=i,u=l.alternate;switch(l.tag){case 15:case 0:l=Ov(u,l,l.pendingProps,l.type,void 0,tt);break;case 11:l=Ov(u,l,l.pendingProps,l.type.render,l.ref,tt);break;case 5:k0(l);default:$v(u,l),l=Xe=gy(l,hi),l=Fv(u,l,hi)}i.memoizedProps=i.pendingProps,l===null?Oh(i):Xe=l}function No(i,l,u,h){ni=il=null,k0(l),uo=null,Qc=0;var g=l.return;try{if(hT(i,g,l,u,tt)){Bt=1,Nh(i,Os(u,i.current)),Xe=null;return}}catch(y){if(g!==null)throw Xe=g,y;Bt=1,Nh(i,Os(u,i.current)),Xe=null;return}l.flags&32768?(lt||h===1?i=!0:bo||(tt&536870912)!==0?i=!1:(er=i=!0,(h===2||h===9||h===3||h===6)&&(h=ys.current,h!==null&&h.tag===13&&(h.flags|=16384))),y1(l,i)):Oh(l)}function Oh(i){var l=i;do{if((l.flags&32768)!==0){y1(l,er);return}i=l.return;var u=pT(l.alternate,l,hi);if(u!==null){Xe=u;return}if(l=l.sibling,l!==null){Xe=l;return}Xe=l=i}while(l!==null);Bt===0&&(Bt=5)}function y1(i,l){do{var u=gT(i.alternate,i);if(u!==null){u.flags&=32767,Xe=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(i=i.sibling,i!==null)){Xe=i;return}Xe=i=u}while(i!==null);Bt=6,Xe=null}function v1(i,l,u,h,g,y,S,M,H){i.cancelPendingCommit=null;do Ph();while(pn!==0);if((gt&6)!==0)throw Error(a(327));if(l!==null){if(l===i.current)throw Error(a(177));if(y=l.lanes|l.childLanes,y|=s0,Qf(i,u,y,S,M,H),i===Et&&(Xe=Et=null,tt=0),vo=l,sr=i,mi=u,dp=y,hp=g,c1=h,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,CT(Me,function(){return _1(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||h){h=q.T,q.T=null,g=X.p,X.p=2,S=gt,gt|=4;try{xT(i,l,u)}finally{gt=S,X.p=g,q.T=h}}pn=1,w1(),N1(),j1()}}function w1(){if(pn===1){pn=0;var i=sr,l=vo,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=q.T,q.T=null;var h=X.p;X.p=2;var g=gt;gt|=4;try{t1(l,i);var y=Ep,S=ly(i.containerInfo),M=y.focusedElem,H=y.selectionRange;if(S!==M&&M&&M.ownerDocument&&ry(M.ownerDocument.documentElement,M)){if(H!==null&&Jf(M)){var ee=H.start,oe=H.end;if(oe===void 0&&(oe=ee),"selectionStart"in M)M.selectionStart=ee,M.selectionEnd=Math.min(oe,M.value.length);else{var me=M.ownerDocument||document,ne=me&&me.defaultView||window;if(ne.getSelection){var ie=ne.getSelection(),Ee=M.textContent.length,Pe=Math.min(H.start,Ee),Tt=H.end===void 0?Pe:Math.min(H.end,Ee);!ie.extend&&Pe>Tt&&(S=Tt,Tt=Pe,Pe=S);var K=iy(M,Pe),Y=iy(M,Tt);if(K&&Y&&(ie.rangeCount!==1||ie.anchorNode!==K.node||ie.anchorOffset!==K.offset||ie.focusNode!==Y.node||ie.focusOffset!==Y.offset)){var Z=me.createRange();Z.setStart(K.node,K.offset),ie.removeAllRanges(),Pe>Tt?(ie.addRange(Z),ie.extend(Y.node,Y.offset)):(Z.setEnd(Y.node,Y.offset),ie.addRange(Z))}}}}for(me=[],ie=M;ie=ie.parentNode;)ie.nodeType===1&&me.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<me.length;M++){var ue=me[M];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Qh=!!Tp,Ep=Tp=null}finally{gt=g,X.p=h,q.T=u}}i.current=l,pn=2}}function N1(){if(pn===2){pn=0;var i=sr,l=vo,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=q.T,q.T=null;var h=X.p;X.p=2;var g=gt;gt|=4;try{Wv(i,l.alternate,l)}finally{gt=g,X.p=h,q.T=u}}pn=3}}function j1(){if(pn===4||pn===3){pn=0,fn();var i=sr,l=vo,u=mi,h=c1;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?pn=5:(pn=0,vo=sr=null,S1(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(nr=null),Wa(u),l=l.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Ht,l,void 0,(l.current.flags&128)===128)}catch{}if(h!==null){l=q.T,g=X.p,X.p=2,q.T=null;try{for(var y=i.onRecoverableError,S=0;S<h.length;S++){var M=h[S];y(M.value,{componentStack:M.stack})}}finally{q.T=l,X.p=g}}(mi&3)!==0&&Ph(),Ma(i),g=i.pendingLanes,(u&261930)!==0&&(g&42)!==0?i===mp?du++:(du=0,mp=i):du=0,hu(0)}}function S1(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,Gc(l)))}function Ph(){return w1(),N1(),j1(),_1()}function _1(){if(pn!==5)return!1;var i=sr,l=dp;dp=0;var u=Wa(mi),h=q.T,g=X.p;try{X.p=32>u?32:u,q.T=null,u=hp,hp=null;var y=sr,S=mi;if(pn=0,vo=sr=null,mi=0,(gt&6)!==0)throw Error(a(331));var M=gt;if(gt|=4,r1(y.current),s1(y,y.current,S,u),gt=M,hu(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Ht,y)}catch{}return!0}finally{X.p=g,q.T=h,S1(i,l)}}function T1(i,l,u){l=Os(u,l),l=H0(i.stateNode,l,2),i=Wi(i,l,2),i!==null&&(Br(i,2),Ma(i))}function wt(i,l,u){if(i.tag===3)T1(i,i,u);else for(;l!==null;){if(l.tag===3){T1(l,i,u);break}else if(l.tag===1){var h=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(nr===null||!nr.has(h))){i=Os(u,i),u=Ev(2),h=Wi(l,u,2),h!==null&&(Cv(u,h,l,i),Br(h,2),Ma(h));break}}l=l.return}}function gp(i,l,u){var h=i.pingCache;if(h===null){h=i.pingCache=new vT;var g=new Set;h.set(l,g)}else g=h.get(l),g===void 0&&(g=new Set,h.set(l,g));g.has(u)||(op=!0,g.add(u),i=_T.bind(null,i,l,u),l.then(i,i))}function _T(i,l,u){var h=i.pingCache;h!==null&&h.delete(l),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Et===i&&(tt&u)===u&&(Bt===4||Bt===3&&(tt&62914560)===tt&&300>Vt()-kh?(gt&2)===0&&wo(i,0):cp|=u,yo===tt&&(yo=0)),Ma(i)}function E1(i,l){l===0&&(l=Id()),i=nl(i,l),i!==null&&(Br(i,l),Ma(i))}function TT(i){var l=i.memoizedState,u=0;l!==null&&(u=l.retryLane),E1(i,u)}function ET(i,l){var u=0;switch(i.tag){case 31:case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(a(314))}h!==null&&h.delete(l),E1(i,u)}function CT(i,l){return Ae(i,l)}var Lh=null,jo=null,xp=!1,Vh=!1,bp=!1,ir=0;function Ma(i){i!==jo&&i.next===null&&(jo===null?Lh=jo=i:jo=jo.next=i),Vh=!0,xp||(xp=!0,kT())}function hu(i,l){if(!bp&&Vh){bp=!0;do for(var u=!1,h=Lh;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var S=h.suspendedLanes,M=h.pingedLanes;y=(1<<31-rt(42|i)+1)-1,y&=g&~(S&~M),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,R1(h,y))}else y=tt,y=ga(h,h===Et?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||Ks(h,y)||(u=!0,R1(h,y));h=h.next}while(u);bp=!1}}function AT(){C1()}function C1(){Vh=xp=!1;var i=0;ir!==0&&zT()&&(i=ir);for(var l=Vt(),u=null,h=Lh;h!==null;){var g=h.next,y=A1(h,l);y===0?(h.next=null,u===null?Lh=g:u.next=g,g===null&&(jo=u)):(u=h,(i!==0||(y&3)!==0)&&(Vh=!0)),h=g}pn!==0&&pn!==5||hu(i),ir!==0&&(ir=0)}function A1(i,l){for(var u=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var S=31-rt(y),M=1<<S,H=g[S];H===-1?((M&u)===0||(M&h)!==0)&&(g[S]=Yf(M,l)):H<=l&&(i.expiredLanes|=M),y&=~M}if(l=Et,u=tt,u=ga(i,i===l?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,u===0||i===l&&(vt===2||vt===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&We(h),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Ks(i,u)){if(l=u&-u,l===i.callbackPriority)return l;switch(h!==null&&We(h),Wa(u)){case 2:case 8:u=ve;break;case 32:u=Me;break;case 268435456:u=dt;break;default:u=Me}return h=k1.bind(null,i),u=Ae(u,h),i.callbackPriority=l,i.callbackNode=u,l}return h!==null&&h!==null&&We(h),i.callbackPriority=2,i.callbackNode=null,2}function k1(i,l){if(pn!==0&&pn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Ph()&&i.callbackNode!==u)return null;var h=tt;return h=ga(i,i===Et?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(d1(i,h,l),A1(i,Vt()),i.callbackNode!=null&&i.callbackNode===u?k1.bind(null,i):null)}function R1(i,l){if(Ph())return null;d1(i,l,!0)}function kT(){BT(function(){(gt&6)!==0?Ae(ce,AT):C1()})}function yp(){if(ir===0){var i=lo;i===0&&(i=fa,fa<<=1,(fa&261888)===0&&(fa=256)),ir=i}return ir}function I1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Gl(""+i)}function D1(i,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,i.id&&u.setAttribute("form",i.id),l.parentNode.insertBefore(u,l),i=new FormData(i),u.parentNode.removeChild(u),i}function RT(i,l,u,h,g){if(l==="submit"&&u&&u.stateNode===g){var y=I1((g[Sn]||null).action),S=h.submitter;S&&(l=(l=S[Sn]||null)?I1(l.formAction):S.getAttribute("formAction"),l!==null&&(y=l,S=null));var M=new Ea("action","action",null,h,g);i.push({event:M,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ir!==0){var H=S?D1(g,S):new FormData(g);U0(u,{pending:!0,data:H,method:g.method,action:y},null,H)}}else typeof y=="function"&&(M.preventDefault(),H=S?D1(g,S):new FormData(g),U0(u,{pending:!0,data:H,method:g.method,action:y},y,H))},currentTarget:g}]})}}for(var vp=0;vp<n0.length;vp++){var wp=n0[vp],IT=wp.toLowerCase(),DT=wp[0].toUpperCase()+wp.slice(1);sa(IT,"on"+DT)}sa(uy,"onAnimationEnd"),sa(dy,"onAnimationIteration"),sa(hy,"onAnimationStart"),sa("dblclick","onDoubleClick"),sa("focusin","onFocus"),sa("focusout","onBlur"),sa(K_,"onTransitionRun"),sa(W_,"onTransitionStart"),sa(X_,"onTransitionCancel"),sa(my,"onTransitionEnd"),ja("onMouseEnter",["mouseout","mouseover"]),ja("onMouseLeave",["mouseout","mouseover"]),ja("onPointerEnter",["pointerout","pointerover"]),ja("onPointerLeave",["pointerout","pointerover"]),Na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Na("onBeforeInput",["compositionend","keypress","textInput","paste"]),Na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mu));function M1(i,l){l=(l&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],g=h.event;h=h.listeners;e:{var y=void 0;if(l)for(var S=h.length-1;0<=S;S--){var M=h[S],H=M.instance,ee=M.currentTarget;if(M=M.listener,H!==y&&g.isPropagationStopped())break e;y=M,g.currentTarget=ee;try{y(g)}catch(oe){Zd(oe)}g.currentTarget=null,y=H}else for(S=0;S<h.length;S++){if(M=h[S],H=M.instance,ee=M.currentTarget,M=M.listener,H!==y&&g.isPropagationStopped())break e;y=M,g.currentTarget=ee;try{y(g)}catch(oe){Zd(oe)}g.currentTarget=null,y=H}}}}function Je(i,l){var u=l[Fl];u===void 0&&(u=l[Fl]=new Set);var h=i+"__bubble";u.has(h)||(O1(l,i,2,!1),u.add(h))}function Np(i,l,u){var h=0;l&&(h|=4),O1(u,i,h,l)}var Uh="_reactListening"+Math.random().toString(36).slice(2);function jp(i){if(!i[Uh]){i[Uh]=!0,_c.forEach(function(u){u!=="selectionchange"&&(MT.has(u)||Np(u,!1,i),Np(u,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Uh]||(l[Uh]=!0,Np("selectionchange",!1,l))}}function O1(i,l,u,h){switch(uw(l)){case 2:var g=oE;break;case 8:g=cE;break;default:g=Vp}u=g.bind(null,l,u,i),g=void 0,!Qr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(l,u,{capture:!0,passive:g}):i.addEventListener(l,u,!0):g!==void 0?i.addEventListener(l,u,{passive:g}):i.addEventListener(l,u,!1)}function Sp(i,l,u,h,g){var y=h;if((l&1)===0&&(l&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var M=h.stateNode.containerInfo;if(M===g)break;if(S===4)for(S=h.return;S!==null;){var H=S.tag;if((H===3||H===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;M!==null;){if(S=va(M),S===null)return;if(H=S.tag,H===5||H===6||H===26||H===27){h=y=S;continue e}M=M.parentNode}}h=h.return}zi(function(){var ee=y,oe=Rs(u),me=[];e:{var ne=fy.get(i);if(ne!==void 0){var ie=Ea,Ee=i;switch(i){case"keypress":if(Wr(u)===0)break e;case"keydown":case"keyup":ie=Wd;break;case"focusin":Ee="focus",ie=Jr;break;case"focusout":Ee="blur",ie=Jr;break;case"beforeblur":case"afterblur":ie=Jr;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Fd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=N;break;case uy:case dy:case hy:ie=$d;break;case my:ie=F;break;case"scroll":case"scrollend":ie=Lc;break;case"wheel":ie=ae;break;case"copy":case"cut":case"paste":ie=qd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Za;break;case"toggle":case"beforetoggle":ie=He}var Pe=(l&4)!==0,Tt=!Pe&&(i==="scroll"||i==="scrollend"),K=Pe?ne!==null?ne+"Capture":null:ne;Pe=[];for(var Y=ee,Z;Y!==null;){var ue=Y;if(Z=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Z===null||K===null||(ue=Zs(Y,K),ue!=null&&Pe.push(fu(Y,ue,Z))),Tt)break;Y=Y.return}0<Pe.length&&(ne=new ie(ne,Ee,null,u,oe),me.push({event:ne,listeners:Pe}))}}if((l&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",ie=i==="mouseout"||i==="pointerout",ne&&u!==Mc&&(Ee=u.relatedTarget||u.fromElement)&&(va(Ee)||Ee[ba]))break e;if((ie||ne)&&(ne=oe.window===oe?oe:(ne=oe.ownerDocument)?ne.defaultView||ne.parentWindow:window,ie?(Ee=u.relatedTarget||u.toElement,ie=ee,Ee=Ee?va(Ee):null,Ee!==null&&(Tt=o(Ee),Pe=Ee.tag,Ee!==Tt||Pe!==5&&Pe!==27&&Pe!==6)&&(Ee=null)):(ie=null,Ee=ee),ie!==Ee)){if(Pe=Vc,ue="onMouseLeave",K="onMouseEnter",Y="mouse",(i==="pointerout"||i==="pointerover")&&(Pe=Za,ue="onPointerLeave",K="onPointerEnter",Y="pointer"),Tt=ie==null?ne:ps(ie),Z=Ee==null?ne:ps(Ee),ne=new Pe(ue,Y+"leave",ie,u,oe),ne.target=Tt,ne.relatedTarget=Z,ue=null,va(oe)===ee&&(Pe=new Pe(K,Y+"enter",Ee,u,oe),Pe.target=Z,Pe.relatedTarget=Tt,ue=Pe),Tt=ue,ie&&Ee)t:{for(Pe=OT,K=ie,Y=Ee,Z=0,ue=K;ue;ue=Pe(ue))Z++;ue=0;for(var Re=Y;Re;Re=Pe(Re))ue++;for(;0<Z-ue;)K=Pe(K),Z--;for(;0<ue-Z;)Y=Pe(Y),ue--;for(;Z--;){if(K===Y||Y!==null&&K===Y.alternate){Pe=K;break t}K=Pe(K),Y=Pe(Y)}Pe=null}else Pe=null;ie!==null&&P1(me,ne,ie,Pe,!1),Ee!==null&&Tt!==null&&P1(me,Tt,Ee,Pe,!0)}}e:{if(ne=ee?ps(ee):window,ie=ne.nodeName&&ne.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ne.type==="file")var ht=Zb;else if(Xb(ne))if(ey)ht=G_;else{ht=q_;var Ce=$_}else ie=ne.nodeName,!ie||ie.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&Hl(ee.elementType)&&(ht=Zb):ht=H_;if(ht&&(ht=ht(i,ee))){Jb(me,ht,u,oe);break e}Ce&&Ce(i,ne,ee),i==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&Rc(ne,"number",ne.value)}switch(Ce=ee?ps(ee):window,i){case"focusin":(Xb(Ce)||Ce.contentEditable==="true")&&(Zl=Ce,Zf=ee,$c=null);break;case"focusout":$c=Zf=Zl=null;break;case"mousedown":e0=!0;break;case"contextmenu":case"mouseup":case"dragend":e0=!1,oy(me,u,oe);break;case"selectionchange":if(Q_)break;case"keydown":case"keyup":oy(me,u,oe)}var Ye;if(pt)e:{switch(i){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else Jl?Zr(i,u)&&(nt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(nt="onCompositionStart");nt&&(ka&&u.locale!=="ko"&&(Jl||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&Jl&&(Ye=Pc()):(Ta=oe,Oc="value"in Ta?Ta.value:Ta.textContent,Jl=!0)),Ce=zh(ee,nt),0<Ce.length&&(nt=new Aa(nt,i,null,u,oe),me.push({event:nt,listeners:Ce}),Ye?nt.data=Ye:(Ye=Xl(u),Ye!==null&&(nt.data=Ye)))),(Ye=Ds?U_(i,u):z_(i,u))&&(nt=zh(ee,"onBeforeInput"),0<nt.length&&(Ce=new Aa("onBeforeInput","beforeinput",null,u,oe),me.push({event:Ce,listeners:nt}),Ce.data=Ye)),RT(me,i,ee,u,oe)}M1(me,l)})}function fu(i,l,u){return{instance:i,listener:l,currentTarget:u}}function zh(i,l){for(var u=l+"Capture",h=[];i!==null;){var g=i,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Zs(i,u),g!=null&&h.unshift(fu(i,g,y)),g=Zs(i,l),g!=null&&h.push(fu(i,g,y))),i.tag===3)return h;i=i.return}return[]}function OT(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function P1(i,l,u,h,g){for(var y=l._reactName,S=[];u!==null&&u!==h;){var M=u,H=M.alternate,ee=M.stateNode;if(M=M.tag,H!==null&&H===h)break;M!==5&&M!==26&&M!==27||ee===null||(H=ee,g?(ee=Zs(u,y),ee!=null&&S.unshift(fu(u,ee,H))):g||(ee=Zs(u,y),ee!=null&&S.push(fu(u,ee,H)))),u=u.return}S.length!==0&&i.push({event:l,listeners:S})}var PT=/\r\n?/g,LT=/\u0000|\uFFFD/g;function L1(i){return(typeof i=="string"?i:""+i).replace(PT,`
`).replace(LT,"")}function V1(i,l){return l=L1(l),L1(i)===l}function _t(i,l,u,h,g,y){switch(u){case"children":typeof h=="string"?l==="body"||l==="textarea"&&h===""||ss(i,h):(typeof h=="number"||typeof h=="bigint")&&l!=="body"&&ss(i,""+h);break;case"className":gs(i,"class",h);break;case"tabIndex":gs(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":gs(i,u,h);break;case"style":Dc(i,h,y);break;case"data":if(l!=="object"){gs(i,"data",h);break}case"src":case"href":if(h===""&&(l!=="a"||u!=="href")){i.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=Gl(""+h),i.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(l!=="input"&&_t(i,l,"name",g.name,g,null),_t(i,l,"formEncType",g.formEncType,g,null),_t(i,l,"formMethod",g.formMethod,g,null),_t(i,l,"formTarget",g.formTarget,g,null)):(_t(i,l,"encType",g.encType,g,null),_t(i,l,"method",g.method,g,null),_t(i,l,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=Gl(""+h),i.setAttribute(u,h);break;case"onClick":h!=null&&(i.onclick=Js);break;case"onScroll":h!=null&&Je("scroll",i);break;case"onScrollEnd":h!=null&&Je("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(u=h.__html,u!=null){if(g.children!=null)throw Error(a(60));i.innerHTML=u}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}u=Gl(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""+h):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":h===!0?i.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,h):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(u,h):i.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(u):i.setAttribute(u,h);break;case"popover":Je("beforetoggle",i),Je("toggle",i),$l(i,"popover",h);break;case"xlinkActuate":sn(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":sn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":sn(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":sn(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":sn(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":sn(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":sn(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":sn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":sn(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":$l(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=zd.get(u)||u,$l(i,u,h))}}function _p(i,l,u,h,g,y){switch(u){case"style":Dc(i,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(u=h.__html,u!=null){if(g.children!=null)throw Error(a(60));i.innerHTML=u}}break;case"children":typeof h=="string"?ss(i,h):(typeof h=="number"||typeof h=="bigint")&&ss(i,""+h);break;case"onScroll":h!=null&&Je("scroll",i);break;case"onScrollEnd":h!=null&&Je("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Js);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tc.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),l=u.slice(2,g?u.length-7:void 0),y=i[Sn]||null,y=y!=null?y[u]:null,typeof y=="function"&&i.removeEventListener(l,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(l,h,g);break e}u in i?i[u]=h:h===!0?i.setAttribute(u,""):$l(i,u,h)}}}function On(i,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",i),Je("load",i);var h=!1,g=!1,y;for(y in u)if(u.hasOwnProperty(y)){var S=u[y];if(S!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:_t(i,l,y,S,u,null)}}g&&_t(i,l,"srcSet",u.srcSet,u,null),h&&_t(i,l,"src",u.src,u,null);return;case"input":Je("invalid",i);var M=y=S=g=null,H=null,ee=null;for(h in u)if(u.hasOwnProperty(h)){var oe=u[h];if(oe!=null)switch(h){case"name":g=oe;break;case"type":S=oe;break;case"checked":H=oe;break;case"defaultChecked":ee=oe;break;case"value":y=oe;break;case"defaultValue":M=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(a(137,l));break;default:_t(i,l,h,oe,u,null)}}Ld(i,y,M,H,ee,S,g,!1);return;case"select":Je("invalid",i),h=S=y=null;for(g in u)if(u.hasOwnProperty(g)&&(M=u[g],M!=null))switch(g){case"value":y=M;break;case"defaultValue":S=M;break;case"multiple":h=M;default:_t(i,l,g,M,u,null)}l=y,u=S,i.multiple=!!h,l!=null?Pi(i,!!h,l,!1):u!=null&&Pi(i,!!h,u,!0);return;case"textarea":Je("invalid",i),y=g=h=null;for(S in u)if(u.hasOwnProperty(S)&&(M=u[S],M!=null))switch(S){case"value":h=M;break;case"defaultValue":g=M;break;case"children":y=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(91));break;default:_t(i,l,S,M,u,null)}Li(i,h,g,y);return;case"option":for(H in u)if(u.hasOwnProperty(H)&&(h=u[H],h!=null))switch(H){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:_t(i,l,H,h,u,null)}return;case"dialog":Je("beforetoggle",i),Je("toggle",i),Je("cancel",i),Je("close",i);break;case"iframe":case"object":Je("load",i);break;case"video":case"audio":for(h=0;h<mu.length;h++)Je(mu[h],i);break;case"image":Je("error",i),Je("load",i);break;case"details":Je("toggle",i);break;case"embed":case"source":case"link":Je("error",i),Je("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in u)if(u.hasOwnProperty(ee)&&(h=u[ee],h!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:_t(i,l,ee,h,u,null)}return;default:if(Hl(l)){for(oe in u)u.hasOwnProperty(oe)&&(h=u[oe],h!==void 0&&_p(i,l,oe,h,u,void 0));return}}for(M in u)u.hasOwnProperty(M)&&(h=u[M],h!=null&&_t(i,l,M,h,u,null))}function VT(i,l,u,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,S=null,M=null,H=null,ee=null,oe=null;for(ie in u){var me=u[ie];if(u.hasOwnProperty(ie)&&me!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":H=me;default:h.hasOwnProperty(ie)||_t(i,l,ie,null,h,me)}}for(var ne in h){var ie=h[ne];if(me=u[ne],h.hasOwnProperty(ne)&&(ie!=null||me!=null))switch(ne){case"type":y=ie;break;case"name":g=ie;break;case"checked":ee=ie;break;case"defaultChecked":oe=ie;break;case"value":S=ie;break;case"defaultValue":M=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(a(137,l));break;default:ie!==me&&_t(i,l,ne,ie,h,me)}}ql(i,S,M,H,ee,oe,y,g);return;case"select":ie=S=M=ne=null;for(y in u)if(H=u[y],u.hasOwnProperty(y)&&H!=null)switch(y){case"value":break;case"multiple":ie=H;default:h.hasOwnProperty(y)||_t(i,l,y,null,h,H)}for(g in h)if(y=h[g],H=u[g],h.hasOwnProperty(g)&&(y!=null||H!=null))switch(g){case"value":ne=y;break;case"defaultValue":M=y;break;case"multiple":S=y;default:y!==H&&_t(i,l,g,y,h,H)}l=M,u=S,h=ie,ne!=null?Pi(i,!!u,ne,!1):!!h!=!!u&&(l!=null?Pi(i,!!u,l,!0):Pi(i,!!u,u?[]:"",!1));return;case"textarea":ie=ne=null;for(M in u)if(g=u[M],u.hasOwnProperty(M)&&g!=null&&!h.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:_t(i,l,M,null,h,g)}for(S in h)if(g=h[S],y=u[S],h.hasOwnProperty(S)&&(g!=null||y!=null))switch(S){case"value":ne=g;break;case"defaultValue":ie=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(a(91));break;default:g!==y&&_t(i,l,S,g,h,y)}Vd(i,ne,ie);return;case"option":for(var Ee in u)if(ne=u[Ee],u.hasOwnProperty(Ee)&&ne!=null&&!h.hasOwnProperty(Ee))switch(Ee){case"selected":i.selected=!1;break;default:_t(i,l,Ee,null,h,ne)}for(H in h)if(ne=h[H],ie=u[H],h.hasOwnProperty(H)&&ne!==ie&&(ne!=null||ie!=null))switch(H){case"selected":i.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:_t(i,l,H,ne,h,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in u)ne=u[Pe],u.hasOwnProperty(Pe)&&ne!=null&&!h.hasOwnProperty(Pe)&&_t(i,l,Pe,null,h,ne);for(ee in h)if(ne=h[ee],ie=u[ee],h.hasOwnProperty(ee)&&ne!==ie&&(ne!=null||ie!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(a(137,l));break;default:_t(i,l,ee,ne,h,ie)}return;default:if(Hl(l)){for(var Tt in u)ne=u[Tt],u.hasOwnProperty(Tt)&&ne!==void 0&&!h.hasOwnProperty(Tt)&&_p(i,l,Tt,void 0,h,ne);for(oe in h)ne=h[oe],ie=u[oe],!h.hasOwnProperty(oe)||ne===ie||ne===void 0&&ie===void 0||_p(i,l,oe,ne,h,ie);return}}for(var K in u)ne=u[K],u.hasOwnProperty(K)&&ne!=null&&!h.hasOwnProperty(K)&&_t(i,l,K,null,h,ne);for(me in h)ne=h[me],ie=u[me],!h.hasOwnProperty(me)||ne===ie||ne==null&&ie==null||_t(i,l,me,ne,h,ie)}function U1(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UT(){if(typeof performance.getEntriesByType=="function"){for(var i=0,l=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var g=u[h],y=g.transferSize,S=g.initiatorType,M=g.duration;if(y&&M&&U1(S)){for(S=0,M=g.responseEnd,h+=1;h<u.length;h++){var H=u[h],ee=H.startTime;if(ee>M)break;var oe=H.transferSize,me=H.initiatorType;oe&&U1(me)&&(H=H.responseEnd,S+=oe*(H<M?1:(M-ee)/(H-ee)))}if(--h,l+=8*(y+S)/(g.duration/1e3),i++,10<i)break}}if(0<i)return l/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Tp=null,Ep=null;function Fh(i){return i.nodeType===9?i:i.ownerDocument}function z1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F1(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function Cp(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ap=null;function zT(){var i=window.event;return i&&i.type==="popstate"?i===Ap?!1:(Ap=i,!0):(Ap=null,!1)}var B1=typeof setTimeout=="function"?setTimeout:void 0,FT=typeof clearTimeout=="function"?clearTimeout:void 0,$1=typeof Promise=="function"?Promise:void 0,BT=typeof queueMicrotask=="function"?queueMicrotask:typeof $1<"u"?function(i){return $1.resolve(null).then(i).catch($T)}:B1;function $T(i){setTimeout(function(){throw i})}function rr(i){return i==="head"}function q1(i,l){var u=l,h=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"||u==="/&"){if(h===0){i.removeChild(g),Eo(l);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")pu(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,pu(u);for(var y=u.firstChild;y;){var S=y.nextSibling,M=y.nodeName;y[ya]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&y.rel.toLowerCase()==="stylesheet"||u.removeChild(y),y=S}}else u==="body"&&pu(i.ownerDocument.body);u=g}while(u);Eo(l)}function H1(i,l){var u=i;i=0;do{var h=u.nextSibling;if(u.nodeType===1?l?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(l?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=h}while(u)}function kp(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":kp(u),Bl(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function qT(i,l,u,h){for(;i.nodeType===1;){var g=u;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[ya])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=zs(i.nextSibling),i===null)break}return null}function HT(i,l,u){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=zs(i.nextSibling),i===null))return null;return i}function G1(i,l){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=zs(i.nextSibling),i===null))return null;return i}function Rp(i){return i.data==="$?"||i.data==="$~"}function Ip(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function GT(i,l){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=l;else if(i.data!=="$?"||u.readyState!=="loading")l();else{var h=function(){l(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function zs(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return i}var Dp=null;function Y1(i){i=i.nextSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(l===0)return zs(i.nextSibling);l--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||l++}i=i.nextSibling}return null}function Q1(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(l===0)return i;l--}else u!=="/$"&&u!=="/&"||l++}i=i.previousSibling}return null}function K1(i,l,u){switch(l=Fh(u),i){case"html":if(i=l.documentElement,!i)throw Error(a(452));return i;case"head":if(i=l.head,!i)throw Error(a(453));return i;case"body":if(i=l.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function pu(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);Bl(i)}var Fs=new Map,W1=new Set;function Bh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var fi=X.d;X.d={f:YT,r:QT,D:KT,C:WT,L:XT,m:JT,X:eE,S:ZT,M:tE};function YT(){var i=fi.f(),l=Dh();return i||l}function QT(i){var l=ks(i);l!==null&&l.tag===5&&l.type==="form"?mv(l):fi.r(i)}var So=typeof document>"u"?null:document;function X1(i,l,u){var h=So;if(h&&typeof l=="string"&&l){var g=ns(l);g='link[rel="'+i+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),W1.has(g)||(W1.add(g),i={rel:i,crossOrigin:u,href:l},h.querySelector(g)===null&&(l=h.createElement("link"),On(l,"link",i),nn(l),h.head.appendChild(l)))}}function KT(i){fi.D(i),X1("dns-prefetch",i,null)}function WT(i,l){fi.C(i,l),X1("preconnect",i,l)}function XT(i,l,u){fi.L(i,l,u);var h=So;if(h&&i&&l){var g='link[rel="preload"][as="'+ns(l)+'"]';l==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+ns(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+ns(u.imageSizes)+'"]')):g+='[href="'+ns(i)+'"]';var y=g;switch(l){case"style":y=_o(i);break;case"script":y=To(i)}Fs.has(y)||(i=b({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:i,as:l},u),Fs.set(y,i),h.querySelector(g)!==null||l==="style"&&h.querySelector(gu(y))||l==="script"&&h.querySelector(xu(y))||(l=h.createElement("link"),On(l,"link",i),nn(l),h.head.appendChild(l)))}}function JT(i,l){fi.m(i,l);var u=So;if(u&&i){var h=l&&typeof l.as=="string"?l.as:"script",g='link[rel="modulepreload"][as="'+ns(h)+'"][href="'+ns(i)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=To(i)}if(!Fs.has(y)&&(i=b({rel:"modulepreload",href:i},l),Fs.set(y,i),u.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(xu(y)))return}h=u.createElement("link"),On(h,"link",i),nn(h),u.head.appendChild(h)}}}function ZT(i,l,u){fi.S(i,l,u);var h=So;if(h&&i){var g=wa(h).hoistableStyles,y=_o(i);l=l||"default";var S=g.get(y);if(!S){var M={loading:0,preload:null};if(S=h.querySelector(gu(y)))M.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":l},u),(u=Fs.get(y))&&Mp(i,u);var H=S=h.createElement("link");nn(H),On(H,"link",i),H._p=new Promise(function(ee,oe){H.onload=ee,H.onerror=oe}),H.addEventListener("load",function(){M.loading|=1}),H.addEventListener("error",function(){M.loading|=2}),M.loading|=4,$h(S,l,h)}S={type:"stylesheet",instance:S,count:1,state:M},g.set(y,S)}}}function eE(i,l){fi.X(i,l);var u=So;if(u&&i){var h=wa(u).hoistableScripts,g=To(i),y=h.get(g);y||(y=u.querySelector(xu(g)),y||(i=b({src:i,async:!0},l),(l=Fs.get(g))&&Op(i,l),y=u.createElement("script"),nn(y),On(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function tE(i,l){fi.M(i,l);var u=So;if(u&&i){var h=wa(u).hoistableScripts,g=To(i),y=h.get(g);y||(y=u.querySelector(xu(g)),y||(i=b({src:i,async:!0,type:"module"},l),(l=Fs.get(g))&&Op(i,l),y=u.createElement("script"),nn(y),On(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function J1(i,l,u,h){var g=(g=$e.current)?Bh(g):null;if(!g)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=_o(u.href),u=wa(g).hoistableStyles,h=u.get(l),h||(h={type:"style",instance:null,count:0,state:null},u.set(l,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=_o(u.href);var y=wa(g).hoistableStyles,S=y.get(i);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,S),(y=g.querySelector(gu(i)))&&!y._p&&(S.instance=y,S.state.loading=5),Fs.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Fs.set(i,u),y||nE(g,i,u,S.state))),l&&h===null)throw Error(a(528,""));return S}if(l&&h!==null)throw Error(a(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=To(u),u=wa(g).hoistableScripts,h=u.get(l),h||(h={type:"script",instance:null,count:0,state:null},u.set(l,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function _o(i){return'href="'+ns(i)+'"'}function gu(i){return'link[rel="stylesheet"]['+i+"]"}function Z1(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function nE(i,l,u,h){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?h.loading=1:(l=i.createElement("link"),h.preload=l,l.addEventListener("load",function(){return h.loading|=1}),l.addEventListener("error",function(){return h.loading|=2}),On(l,"link",u),nn(l),i.head.appendChild(l))}function To(i){return'[src="'+ns(i)+'"]'}function xu(i){return"script[async]"+i}function ew(i,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var h=i.querySelector('style[data-href~="'+ns(u.href)+'"]');if(h)return l.instance=h,nn(h),h;var g=b({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),nn(h),On(h,"style",g),$h(h,u.precedence,i),l.instance=h;case"stylesheet":g=_o(u.href);var y=i.querySelector(gu(g));if(y)return l.state.loading|=4,l.instance=y,nn(y),y;h=Z1(u),(g=Fs.get(g))&&Mp(h,g),y=(i.ownerDocument||i).createElement("link"),nn(y);var S=y;return S._p=new Promise(function(M,H){S.onload=M,S.onerror=H}),On(y,"link",h),l.state.loading|=4,$h(y,u.precedence,i),l.instance=y;case"script":return y=To(u.src),(g=i.querySelector(xu(y)))?(l.instance=g,nn(g),g):(h=u,(g=Fs.get(y))&&(h=b({},u),Op(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),nn(g),On(g,"link",h),i.head.appendChild(g),l.instance=g);case"void":return null;default:throw Error(a(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(h=l.instance,l.state.loading|=4,$h(h,u.precedence,i));return l.instance}function $h(i,l,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,S=0;S<h.length;S++){var M=h[S];if(M.dataset.precedence===l)y=M;else if(y!==g)break}y?y.parentNode.insertBefore(i,y.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(i,l.firstChild))}function Mp(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function Op(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var qh=null;function tw(i,l,u){if(qh===null){var h=new Map,g=qh=new Map;g.set(u,h)}else g=qh,h=g.get(u),h||(h=new Map,g.set(u,h));if(h.has(i))return h;for(h.set(i,null),u=u.getElementsByTagName(i),g=0;g<u.length;g++){var y=u[g];if(!(y[ya]||y[tn]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(l)||"";S=i+S;var M=h.get(S);M?M.push(y):h.set(S,[y])}}return h}function nw(i,l,u){i=i.ownerDocument||i,i.head.insertBefore(u,l==="title"?i.querySelector("head > title"):null)}function sE(i,l,u){if(u===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function sw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function aE(i,l,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var g=_o(h.href),y=l.querySelector(gu(g));if(y){l=y._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(i.count++,i=Hh.bind(i),l.then(i,i)),u.state.loading|=4,u.instance=y,nn(y);return}y=l.ownerDocument||l,h=Z1(h),(g=Fs.get(g))&&Mp(h,g),y=y.createElement("link"),nn(y);var S=y;S._p=new Promise(function(M,H){S.onload=M,S.onerror=H}),On(y,"link",h),u.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=Hh.bind(i),l.addEventListener("load",u),l.addEventListener("error",u))}}var Pp=0;function iE(i,l){return i.stylesheets&&i.count===0&&Yh(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var h=setTimeout(function(){if(i.stylesheets&&Yh(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+l);0<i.imgBytes&&Pp===0&&(Pp=62500*UT());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Yh(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>Pp?50:800)+l);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function Hh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Gh=null;function Yh(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Gh=new Map,l.forEach(rE,i),Gh=null,Hh.call(i))}function rE(i,l){if(!(l.state.loading&4)){var u=Gh.get(i);if(u)var h=u.get(null);else{u=new Map,Gh.set(i,u);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var S=g[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(u.set(S.dataset.precedence,S),h=S)}h&&u.set(null,h)}g=l.instance,S=g.getAttribute("data-precedence"),y=u.get(S)||h,y===h&&u.set(null,g),u.set(S,g),this.count++,h=Hh.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),l.state.loading|=4}}var bu={$$typeof:B,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function lE(i,l,u,h,g,y,S,M,H){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xa(0),this.hiddenUpdates=xa(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function aw(i,l,u,h,g,y,S,M,H,ee,oe,me){return i=new lE(i,l,u,S,H,ee,oe,me,M),l=1,y===!0&&(l|=24),y=bs(3,null,null,l),i.current=y,y.stateNode=i,l=p0(),l.refCount++,i.pooledCache=l,l.refCount++,y.memoizedState={element:h,isDehydrated:u,cache:l},y0(y),i}function iw(i){return i?(i=no,i):no}function rw(i,l,u,h,g,y){g=iw(g),h.context===null?h.context=g:h.pendingContext=g,h=Ki(l),h.payload={element:u},y=y===void 0?null:y,y!==null&&(h.callback=y),u=Wi(i,h,l),u!==null&&(os(u,i,l),Wc(u,i,l))}function lw(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<l?u:l}}function Lp(i,l){lw(i,l),(i=i.alternate)&&lw(i,l)}function ow(i){if(i.tag===13||i.tag===31){var l=nl(i,67108864);l!==null&&os(l,i,67108864),Lp(i,67108864)}}function cw(i){if(i.tag===13||i.tag===31){var l=js();l=qr(l);var u=nl(i,l);u!==null&&os(u,i,l),Lp(i,l)}}var Qh=!0;function oE(i,l,u,h){var g=q.T;q.T=null;var y=X.p;try{X.p=2,Vp(i,l,u,h)}finally{X.p=y,q.T=g}}function cE(i,l,u,h){var g=q.T;q.T=null;var y=X.p;try{X.p=8,Vp(i,l,u,h)}finally{X.p=y,q.T=g}}function Vp(i,l,u,h){if(Qh){var g=Up(h);if(g===null)Sp(i,l,h,Kh,u),dw(i,h);else if(dE(g,i,l,u,h))h.stopPropagation();else if(dw(i,h),l&4&&-1<uE.indexOf(i)){for(;g!==null;){var y=ks(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=pa(y.pendingLanes);if(S!==0){var M=y;for(M.pendingLanes|=2,M.entangledLanes|=2;S;){var H=1<<31-rt(S);M.entanglements[1]|=H,S&=~H}Ma(y),(gt&6)===0&&(Rh=Vt()+500,hu(0))}}break;case 31:case 13:M=nl(y,2),M!==null&&os(M,y,2),Dh(),Lp(y,2)}if(y=Up(h),y===null&&Sp(i,l,h,Kh,u),y===g)break;g=y}g!==null&&h.stopPropagation()}else Sp(i,l,h,null,u)}}function Up(i){return i=Rs(i),zp(i)}var Kh=null;function zp(i){if(Kh=null,i=va(i),i!==null){var l=o(i);if(l===null)i=null;else{var u=l.tag;if(u===13){if(i=c(l),i!==null)return i;i=null}else if(u===31){if(i=d(l),i!==null)return i;i=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return Kh=i,null}function uw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ka()){case ce:return 2;case ve:return 8;case Me:case Ke:return 32;case dt:return 268435456;default:return 32}default:return 32}}var Fp=!1,lr=null,or=null,cr=null,yu=new Map,vu=new Map,ur=[],uE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dw(i,l){switch(i){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":yu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":vu.delete(l.pointerId)}}function wu(i,l,u,h,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:l,domEventName:u,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},l!==null&&(l=ks(l),l!==null&&ow(l)),i):(i.eventSystemFlags|=h,l=i.targetContainers,g!==null&&l.indexOf(g)===-1&&l.push(g),i)}function dE(i,l,u,h,g){switch(l){case"focusin":return lr=wu(lr,i,l,u,h,g),!0;case"dragenter":return or=wu(or,i,l,u,h,g),!0;case"mouseover":return cr=wu(cr,i,l,u,h,g),!0;case"pointerover":var y=g.pointerId;return yu.set(y,wu(yu.get(y)||null,i,l,u,h,g)),!0;case"gotpointercapture":return y=g.pointerId,vu.set(y,wu(vu.get(y)||null,i,l,u,h,g)),!0}return!1}function hw(i){var l=va(i.target);if(l!==null){var u=o(l);if(u!==null){if(l=u.tag,l===13){if(l=c(u),l!==null){i.blockedOn=l,Ws(i.priority,function(){cw(u)});return}}else if(l===31){if(l=d(u),l!==null){i.blockedOn=l,Ws(i.priority,function(){cw(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Wh(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var u=Up(i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);Mc=h,u.target.dispatchEvent(h),Mc=null}else return l=ks(u),l!==null&&ow(l),i.blockedOn=u,!1;l.shift()}return!0}function mw(i,l,u){Wh(i)&&u.delete(l)}function hE(){Fp=!1,lr!==null&&Wh(lr)&&(lr=null),or!==null&&Wh(or)&&(or=null),cr!==null&&Wh(cr)&&(cr=null),yu.forEach(mw),vu.forEach(mw)}function Xh(i,l){i.blockedOn===l&&(i.blockedOn=null,Fp||(Fp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,hE)))}var Jh=null;function fw(i){Jh!==i&&(Jh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Jh===i&&(Jh=null);for(var l=0;l<i.length;l+=3){var u=i[l],h=i[l+1],g=i[l+2];if(typeof h!="function"){if(zp(h||u)===null)continue;break}var y=ks(u);y!==null&&(i.splice(l,3),l-=3,U0(y,{pending:!0,data:g,method:u.method,action:h},h,g))}}))}function Eo(i){function l(H){return Xh(H,i)}lr!==null&&Xh(lr,i),or!==null&&Xh(or,i),cr!==null&&Xh(cr,i),yu.forEach(l),vu.forEach(l);for(var u=0;u<ur.length;u++){var h=ur[u];h.blockedOn===i&&(h.blockedOn=null)}for(;0<ur.length&&(u=ur[0],u.blockedOn===null);)hw(u),u.blockedOn===null&&ur.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var g=u[h],y=u[h+1],S=g[Sn]||null;if(typeof y=="function")S||fw(u);else if(S){var M=null;if(y&&y.hasAttribute("formAction")){if(g=y,S=y[Sn]||null)M=S.formAction;else if(zp(g)!==null)continue}else M=S.action;typeof M=="function"?u[h+1]=M:(u.splice(h,3),h-=3),fw(u)}}}function pw(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(S){return g=S})},focusReset:"manual",scroll:"manual"})}function l(){g!==null&&(g(),g=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),g!==null&&(g(),g=null)}}}function Bp(i){this._internalRoot=i}Zh.prototype.render=Bp.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(a(409));var u=l.current,h=js();rw(u,h,i,l,null,null)},Zh.prototype.unmount=Bp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;rw(i.current,2,null,i,null,null),Dh(),l[ba]=null}};function Zh(i){this._internalRoot=i}Zh.prototype.unstable_scheduleHydration=function(i){if(i){var l=Dd();i={blockedOn:null,target:i,priority:l};for(var u=0;u<ur.length&&l!==0&&l<ur[u].priority;u++);ur.splice(u,0,i),u===0&&hw(i)}};var gw=e.version;if(gw!=="19.2.0")throw Error(a(527,gw,"19.2.0"));X.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=f(l),i=i!==null?x(i):null,i=i===null?null:i.stateNode,i};var mE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var em=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!em.isDisabled&&em.supportsFiber)try{Ht=em.inject(mE),Ut=em}catch{}}return Nu.createRoot=function(i,l){if(!r(i))throw Error(a(299));var u=!1,h="",g=jv,y=Sv,S=_v;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(y=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),l=aw(i,1,!1,null,null,u,h,null,g,y,S,pw),i[ba]=l.current,jp(i),new Bp(l)},Nu.hydrateRoot=function(i,l,u){if(!r(i))throw Error(a(299));var h=!1,g="",y=jv,S=Sv,M=_v,H=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(S=u.onCaughtError),u.onRecoverableError!==void 0&&(M=u.onRecoverableError),u.formState!==void 0&&(H=u.formState)),l=aw(i,1,!0,l,u??null,h,g,H,y,S,M,pw),l.context=iw(null),u=l.current,h=js(),h=qr(h),g=Ki(h),g.callback=null,Wi(u,g,h),u=h,l.current.lanes=u,Br(l,u),Ma(l),i[ba]=l.current,jp(i),new Zh(l)},Nu.version="19.2.0",Nu}var vw;function vE(){if(vw)return $p.exports;vw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$p.exports=yE(),$p.exports}var wE=vE();const NE=jx(wE);const jE=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SE=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,a)=>a?a.toUpperCase():n.toLowerCase()),ww=t=>{const e=SE(t);return e.charAt(0).toUpperCase()+e.slice(1)},Nj=(...t)=>t.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim(),_E=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var TE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const EE=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:r="",children:o,iconNode:c,...d},m)=>E.createElement("svg",{ref:m,...TE,width:e,height:e,stroke:t,strokeWidth:a?Number(n)*24/Number(e):n,className:Nj("lucide",r),...!o&&!_E(d)&&{"aria-hidden":"true"},...d},[...c.map(([f,x])=>E.createElement(f,x)),...Array.isArray(o)?o:[o]]));const le=(t,e)=>{const n=E.forwardRef(({className:a,...r},o)=>E.createElement(EE,{ref:o,iconNode:e,className:Nj(`lucide-${jE(ww(t))}`,`lucide-${t}`,a),...r}));return n.displayName=ww(t),n};const CE=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],wi=le("activity",CE);const AE=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],kE=le("arrow-down",AE);const RE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Hu=le("arrow-right",RE);const IE=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],DE=le("arrow-up",IE);const ME=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],$o=le("award",ME);const OE=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],PE=le("bell",OE);const LE=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],jj=le("book-marked",LE);const VE=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ni=le("book-open",VE);const UE=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],zE=le("book",UE);const FE=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Nl=le("brain",FE);const BE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],La=le("calendar",BE);const $E=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Cn=le("chart-column",$E);const qE=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Ig=le("chart-pie",qE);const HE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],es=le("check",HE);const GE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$a=le("chevron-down",GE);const YE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],mn=le("chevron-right",YE);const QE=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Sj=le("chevron-left",QE);const KE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ts=le("circle-alert",KE);const WE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qo=le("circle-check-big",WE);const XE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ji=le("circle-check",XE);const JE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Sx=le("circle-question-mark",JE);const ZE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],eC=le("circle-x",ZE);const tC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nC=le("circle",tC);const sC=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],aC=le("clipboard-check",sC);const iC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qt=le("clock",iC);const rC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Gs=le("copy",rC);const lC=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],oC=le("credit-card",lC);const cC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ho=le("crown",cC);const uC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ac=le("download",uC);const dC=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],hC=le("dumbbell",dC);const mC=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],fC=le("ellipsis-vertical",mC);const pC=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Nw=le("ellipsis",pC);const gC=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],_j=le("external-link",gC);const xC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],bC=le("eye-off",xC);const yC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_x=le("eye",yC);const vC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],wC=le("file-down",vC);const NC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],xn=le("file-text",NC);const jC=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],lf=le("flame",jC);const SC=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],of=le("folder-open",SC);const _C=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],TC=le("funnel",_C);const EC=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],hs=le("gavel",EC);const CC=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],cf=le("git-branch",CC);const AC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],kC=le("globe",AC);const RC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Tx=le("grid-3x3",RC);const IC=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Ex=le("grip-vertical",IC);const DC=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],MC=le("hand",DC);const OC=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Tj=le("hash",OC);const PC=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],LC=le("heart",PC);const VC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],qa=le("history",VC);const UC=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],zC=le("hourglass",UC);const FC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],BC=le("house",FC);const $C=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Rm=le("image",$C);const qC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ic=le("info",qC);const HC=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],Ej=le("keyboard",HC);const GC=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Cj=le("layers",GC);const YC=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],QC=le("layout-grid",YC);const KC=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Mr=le("lightbulb",KC);const WC=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],uf=le("link-2",WC);const XC=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Cx=le("list",XC);const JC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Or=le("loader-circle",JC);const ZC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],eA=le("lock",ZC);const tA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],nA=le("log-out",tA);const sA=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Aj=le("mail",sA);const aA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],rc=le("map-pin",aA);const iA=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],kj=le("maximize-2",iA);const rA=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Gu=le("medal",rA);const lA=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Ha=le("message-square",lA);const oA=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],cA=le("mic-off",oA);const uA=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],oa=le("mic",uA);const dA=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],hA=le("minimize-2",dA);const mA=[["path",{d:"M5 12h14",key:"1ays0h"}]],lc=le("minus",mA);const fA=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],pA=le("mouse-pointer",fA);const gA=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],xA=le("notebook-pen",gA);const bA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],yA=le("panels-top-left",bA);const vA=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],wA=le("paperclip",vA);const NA=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],hd=le("pause",NA);const jA=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Il=le("pen-line",jA);const SA=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],_A=le("pen-tool",SA);const TA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],EA=le("pen",TA);const CA=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Rj=le("phone",CA);const AA=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],Ij=le("plane",AA);const kA=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Si=le("play",kA);const RA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],At=le("plus",RA);const IA=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Dj=le("printer",IA);const DA=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],MA=le("quote",DA);const OA=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Mj=le("radio",OA);const PA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Yu=le("refresh-cw",PA);const LA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],_i=le("rotate-ccw",LA);const VA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],df=le("save",VA);const UA=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],hf=le("scale",UA);const zA=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],FA=le("scroll-text",zA);const BA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Tr=le("search",BA);const $A=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],mf=le("send",$A);const qA=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],HA=le("settings-2",qA);const GA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oc=le("settings",GA);const YA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],QA=le("shield-check",YA);const KA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Dl=le("shield",KA);const WA=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],Oj=le("shuffle",WA);const XA=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Cs=le("sparkles",XA);const JA=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Pj=le("square-check-big",JA);const ZA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Lj=le("square",ZA);const ek=[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],Dg=le("star-off",ek);const tk=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Xt=le("star",tk);const nk=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],Vj=le("sticky-note",nk);const sk=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],ak=le("sword",sk);const ik=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],rk=le("swords",ik);const lk=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],ff=le("tag",lk);const ok=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ot=le("target",ok);const ck=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],uk=le("thumbs-down",ck);const dk=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],hk=le("thumbs-up",dk);const mk=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],pf=le("timer",mk);const fk=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Un=le("trash-2",fk);const pk=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Go=le("trending-down",pk);const gk=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ga=le("trending-up",gk);const xk=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],yr=le("triangle-alert",xk);const bk=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],$t=le("trophy",bk);const yk=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],md=le("upload",yk);const vk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],wk=le("user-minus",vk);const Nk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],jw=le("user-plus",Nk);const jk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jl=le("user",jk);const Sk=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],_k=le("users-round",Sk);const Tk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gn=le("users",Tk);const Ek=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Ck=le("video",Ek);const Ak=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Ax=le("volume-2",Ak);const kk=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],Uj=le("volume-x",kk);const Rk=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Ik=le("wand-sparkles",Rk);const Dk=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],Mk=le("waves",Dk);const Ok=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qn=le("x",Ok);const Pk=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Lk=le("zoom-in",Pk);const Vk=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Qu=le("zap",Vk);const Uk=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],zk=le("zoom-out",Uk),Fk=()=>{};var Sw={};const zj=function(t){const e=[];let n=0;for(let a=0;a<t.length;a++){let r=t.charCodeAt(a);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&a+1<t.length&&(t.charCodeAt(a+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++a)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Bk=function(t){const e=[];let n=0,a=0;for(;n<t.length;){const r=t[n++];if(r<128)e[a++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[a++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],c=t[n++],d=t[n++],m=((r&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const o=t[n++],c=t[n++];e[a++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return e.join("")},Fj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let r=0;r<t.length;r+=3){const o=t[r],c=r+1<t.length,d=c?t[r+1]:0,m=r+2<t.length,f=m?t[r+2]:0,x=o>>2,b=(o&3)<<4|d>>4;let v=(d&15)<<2|f>>6,w=f&63;m||(w=64,c||(v=64)),a.push(n[x],n[b],n[v],n[w])}return a.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Bk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],d=r<t.length?n[t.charAt(r)]:0;++r;const f=r<t.length?n[t.charAt(r)]:64;++r;const b=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||d==null||f==null||b==null)throw new $k;const v=o<<2|d>>4;if(a.push(v),f!==64){const w=d<<4&240|f>>2;if(a.push(w),b!==64){const j=f<<6&192|b;a.push(j)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $k extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qk=function(t){const e=zj(t);return Fj.encodeByteArray(e,!0)},Im=function(t){return qk(t).replace(/\./g,"")},Bj=function(t){try{return Fj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Hk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Gk=()=>Hk().__FIREBASE_DEFAULTS__,Yk=()=>{if(typeof process>"u"||typeof Sw>"u")return;const t=Sw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Qk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Bj(t[1]);return e&&JSON.parse(e)},gf=()=>{try{return Fk()||Gk()||Yk()||Qk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$j=t=>gf()?.emulatorHosts?.[t],Kk=t=>{const e=$j(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},qj=()=>gf()?.config,Hj=t=>gf()?.[`_${t}`];class Wk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function cc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gj(t){return(await fetch(t,{credentials:"include"})).ok}function Xk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${a}`,aud:a,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Im(JSON.stringify(n)),Im(JSON.stringify(c)),""].join(".")}const Ou={};function Jk(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ou))Ou[e]?t.emulator.push(e):t.prod.push(e);return t}function Zk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _w=!1;function Yj(t,e){if(typeof window>"u"||typeof document>"u"||!cc(window.location.host)||Ou[t]===e||Ou[t]||_w)return;Ou[t]=e;function n(v){return`__firebase__banner__${v}`}const a="__firebase__banner",o=Jk().prod.length>0;function c(){const v=document.getElementById(a);v&&v.remove()}function d(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function m(v,w){v.setAttribute("width","24"),v.setAttribute("id",w),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{_w=!0,c()},v}function x(v,w){v.setAttribute("id",w),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function b(){const v=Zk(a),w=n("text"),j=document.getElementById(w)||document.createElement("span"),D=n("learnmore"),k=document.getElementById(D)||document.createElement("a"),V=n("preprendIcon"),I=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const B=v.element;d(B),x(k,D);const Q=f();m(I,V),B.append(I,j,k,Q),document.body.appendChild(B)}o?(j.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}function t3(){const t=gf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function s3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function a3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function i3(){const t=Kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function r3(){return!t3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function l3(){try{return typeof indexedDB=="object"}catch{return!1}}function o3(){return new Promise((t,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(a);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(a),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(n){e(n)}})}const c3="FirebaseError";class Ri extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=c3,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fd.prototype.create)}}class fd{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],c=o?u3(o,a):"Error",d=`${this.serviceName}: ${c} (${r}).`;return new Ri(r,d,a)}}function u3(t,e){return t.replace(d3,(n,a)=>{const r=e[a];return r!=null?String(r):`<${a}?>`})}const d3=/\{\$([^}]+)}/g;function h3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Er(t,e){if(t===e)return!0;const n=Object.keys(t),a=Object.keys(e);for(const r of n){if(!a.includes(r))return!1;const o=t[r],c=e[r];if(Tw(o)&&Tw(c)){if(!Er(o,c))return!1}else if(o!==c)return!1}for(const r of a)if(!n.includes(r))return!1;return!0}function Tw(t){return t!==null&&typeof t=="object"}function pd(t){const e=[];for(const[n,a]of Object.entries(t))Array.isArray(a)?a.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Au(t){const e={};return t.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[r,o]=a.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function ku(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function m3(t,e){const n=new f3(t,e);return n.subscribe.bind(n)}class f3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let r;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");p3(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:a},r.next===void 0&&(r.next=Gp),r.error===void 0&&(r.error=Gp),r.complete===void 0&&(r.complete=Gp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function p3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gp(){}function yn(t){return t&&t._delegate?t._delegate:t}class Sl{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const bl="[DEFAULT]";class g3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new Wk;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&a.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(a)return null;throw r}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(b3(e))try{this.getOrInitializeService({instanceIdentifier:bl})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});a.resolve(o)}catch{}}}}clearInstance(e=bl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bl){return this.instances.has(e)}getOptions(e=bl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);a===d&&c.resolve(r)}return r}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(a)??new Set;r.add(e),this.onInitCallbacks.set(a,r);const o=this.instances.get(a);return o&&e(o,a),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const r of a)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:x3(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=bl){return this.component?this.component.multipleInstances?e:bl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function x3(t){return t===bl?void 0:t}function b3(t){return t.instantiationMode==="EAGER"}class y3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new g3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const v3={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},w3=st.INFO,N3={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},j3=(t,e,...n)=>{if(e<t.logLevel)return;const a=new Date().toISOString(),r=N3[e];if(r)console[r](`[${a}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kx{constructor(e){this.name=e,this._logLevel=w3,this._logHandler=j3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?v3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const S3=(t,e)=>e.some(n=>t instanceof n);let Ew,Cw;function _3(){return Ew||(Ew=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T3(){return Cw||(Cw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qj=new WeakMap,Mg=new WeakMap,Kj=new WeakMap,Yp=new WeakMap,Rx=new WeakMap;function E3(t){const e=new Promise((n,a)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(vr(t.result)),r()},c=()=>{a(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Qj.set(n,t)}).catch(()=>{}),Rx.set(e,t),e}function C3(t){if(Mg.has(t))return;const e=new Promise((n,a)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),r()},c=()=>{a(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});Mg.set(t,e)}let Og={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Kj.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function A3(t){Og=t(Og)}function k3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=t.call(Qp(this),e,...n);return Kj.set(a,e.sort?e.sort():[e]),vr(a)}:T3().includes(t)?function(...e){return t.apply(Qp(this),e),vr(Qj.get(this))}:function(...e){return vr(t.apply(Qp(this),e))}}function R3(t){return typeof t=="function"?k3(t):(t instanceof IDBTransaction&&C3(t),S3(t,_3())?new Proxy(t,Og):t)}function vr(t){if(t instanceof IDBRequest)return E3(t);if(Yp.has(t))return Yp.get(t);const e=R3(t);return e!==t&&(Yp.set(t,e),Rx.set(e,t)),e}const Qp=t=>Rx.get(t);function I3(t,e,{blocked:n,upgrade:a,blocking:r,terminated:o}={}){const c=indexedDB.open(t,e),d=vr(c);return a&&c.addEventListener("upgradeneeded",m=>{a(vr(c.result),m.oldVersion,m.newVersion,vr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{o&&m.addEventListener("close",()=>o()),r&&m.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),d}const D3=["get","getKey","getAll","getAllKeys","count"],M3=["put","add","delete","clear"],Kp=new Map;function Aw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kp.get(e))return Kp.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,r=M3.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(r||D3.includes(n)))return;const o=async function(c,...d){const m=this.transaction(c,r?"readwrite":"readonly");let f=m.store;return a&&(f=f.index(d.shift())),(await Promise.all([f[n](...d),r&&m.done]))[0]};return Kp.set(e,o),o}A3(t=>({...t,get:(e,n,a)=>Aw(e,n)||t.get(e,n,a),has:(e,n)=>!!Aw(e,n)||t.has(e,n)}));class O3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(P3(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function P3(t){return t.getComponent()?.type==="VERSION"}const Pg="@firebase/app",kw="0.14.6";const Ti=new kx("@firebase/app"),L3="@firebase/app-compat",V3="@firebase/analytics-compat",U3="@firebase/analytics",z3="@firebase/app-check-compat",F3="@firebase/app-check",B3="@firebase/auth",$3="@firebase/auth-compat",q3="@firebase/database",H3="@firebase/data-connect",G3="@firebase/database-compat",Y3="@firebase/functions",Q3="@firebase/functions-compat",K3="@firebase/installations",W3="@firebase/installations-compat",X3="@firebase/messaging",J3="@firebase/messaging-compat",Z3="@firebase/performance",eR="@firebase/performance-compat",tR="@firebase/remote-config",nR="@firebase/remote-config-compat",sR="@firebase/storage",aR="@firebase/storage-compat",iR="@firebase/firestore",rR="@firebase/ai",lR="@firebase/firestore-compat",oR="firebase",cR="12.6.0";const Lg="[DEFAULT]",uR={[Pg]:"fire-core",[L3]:"fire-core-compat",[U3]:"fire-analytics",[V3]:"fire-analytics-compat",[F3]:"fire-app-check",[z3]:"fire-app-check-compat",[B3]:"fire-auth",[$3]:"fire-auth-compat",[q3]:"fire-rtdb",[H3]:"fire-data-connect",[G3]:"fire-rtdb-compat",[Y3]:"fire-fn",[Q3]:"fire-fn-compat",[K3]:"fire-iid",[W3]:"fire-iid-compat",[X3]:"fire-fcm",[J3]:"fire-fcm-compat",[Z3]:"fire-perf",[eR]:"fire-perf-compat",[tR]:"fire-rc",[nR]:"fire-rc-compat",[sR]:"fire-gcs",[aR]:"fire-gcs-compat",[iR]:"fire-fst",[lR]:"fire-fst-compat",[rR]:"fire-vertex","fire-js":"fire-js",[oR]:"fire-js-all"};const Dm=new Map,dR=new Map,Vg=new Map;function Rw(t,e){try{t.container.addComponent(e)}catch(n){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yo(t){const e=t.name;if(Vg.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;Vg.set(e,t);for(const n of Dm.values())Rw(n,t);for(const n of dR.values())Rw(n,t);return!0}function Ix(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _s(t){return t==null?!1:t.settings!==void 0}const hR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wr=new fd("app","Firebase",hR);class mR{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Sl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}const uc=cR;function Wj(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const a={name:Lg,automaticDataCollectionEnabled:!0,...e},r=a.name;if(typeof r!="string"||!r)throw wr.create("bad-app-name",{appName:String(r)});if(n||(n=qj()),!n)throw wr.create("no-options");const o=Dm.get(r);if(o){if(Er(n,o.options)&&Er(a,o.config))return o;throw wr.create("duplicate-app",{appName:r})}const c=new y3(r);for(const m of Vg.values())c.addComponent(m);const d=new mR(n,a,c);return Dm.set(r,d),d}function Xj(t=Lg){const e=Dm.get(t);if(!e&&t===Lg&&qj())return Wj();if(!e)throw wr.create("no-app",{appName:t});return e}function Nr(t,e,n){let a=uR[t]??t;n&&(a+=`-${n}`);const r=a.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const c=[`Unable to register library "${a}" with version "${e}":`];r&&c.push(`library name "${a}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ti.warn(c.join(" "));return}Yo(new Sl(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const fR="firebase-heartbeat-database",pR=1,Ku="firebase-heartbeat-store";let Wp=null;function Jj(){return Wp||(Wp=I3(fR,pR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ku)}catch(n){console.warn(n)}}}}).catch(t=>{throw wr.create("idb-open",{originalErrorMessage:t.message})})),Wp}async function gR(t){try{const n=(await Jj()).transaction(Ku),a=await n.objectStore(Ku).get(Zj(t));return await n.done,a}catch(e){if(e instanceof Ri)Ti.warn(e.message);else{const n=wr.create("idb-get",{originalErrorMessage:e?.message});Ti.warn(n.message)}}}async function Iw(t,e){try{const a=(await Jj()).transaction(Ku,"readwrite");await a.objectStore(Ku).put(e,Zj(t)),await a.done}catch(n){if(n instanceof Ri)Ti.warn(n.message);else{const a=wr.create("idb-set",{originalErrorMessage:n?.message});Ti.warn(a.message)}}}function Zj(t){return`${t.name}!${t.options.appId}`}const xR=1024,bR=30;class yR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Dw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(r=>r.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>bR){const r=NR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ti.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Dw(),{heartbeatsToSend:n,unsentEntries:a}=vR(this._heartbeatsCache.heartbeats),r=Im(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Ti.warn(e),""}}}function Dw(){return new Date().toISOString().substring(0,10)}function vR(t,e=xR){const n=[];let a=t.slice();for(const r of t){const o=n.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),Mw(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Mw(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class wR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return l3()?o3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Iw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Iw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Mw(t){return Im(JSON.stringify({version:2,heartbeats:t})).length}function NR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let a=1;a<t.length;a++)t[a].date<n&&(n=t[a].date,e=a);return e}function jR(t){Yo(new Sl("platform-logger",e=>new O3(e),"PRIVATE")),Yo(new Sl("heartbeat",e=>new yR(e),"PRIVATE")),Nr(Pg,kw,t),Nr(Pg,kw,"esm2020"),Nr("fire-js","")}jR("");var SR="firebase",_R="12.6.0";Nr(SR,_R,"app");function e5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TR=e5,t5=new fd("auth","Firebase",e5());const Mm=new kx("@firebase/auth");function ER(t,...e){Mm.logLevel<=st.WARN&&Mm.warn(`Auth (${uc}): ${t}`,...e)}function bm(t,...e){Mm.logLevel<=st.ERROR&&Mm.error(`Auth (${uc}): ${t}`,...e)}function Ys(t,...e){throw Mx(t,...e)}function ca(t,...e){return Mx(t,...e)}function Dx(t,e,n){const a={...TR(),[e]:n};return new fd("auth","Firebase",a).create(e,{appName:t.name})}function yi(t){return Dx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CR(t,e,n){const a=n;if(!(e instanceof a))throw a.name!==e.constructor.name&&Ys(t,"argument-error"),Dx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mx(t,...e){if(typeof t!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=t.name),t._errorFactory.create(n,...a)}return t5.create(t,...e)}function Le(t,e,...n){if(!t)throw Mx(e,...n)}function xi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bm(e),new Error(e)}function Ei(t,e){t||xi(e)}function Ug(){return typeof self<"u"&&self.location?.href||""}function AR(){return Ow()==="http:"||Ow()==="https:"}function Ow(){return typeof self<"u"&&self.location?.protocol||null}function kR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AR()||s3()||"connection"in navigator)?navigator.onLine:!0}function RR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class gd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ei(n>e,"Short delay should be less than long delay!"),this.isMobile=e3()||a3()}get(){return kR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ox(t,e){Ei(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class n5{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const IR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const DR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MR=new gd(3e4,6e4);function Ii(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Di(t,e,n,a,r={}){return s5(t,r,async()=>{let o={},c={};a&&(e==="GET"?c=a:o={body:JSON.stringify(a)});const d=pd({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:m,...o};return n3()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&cc(t.emulatorConfig.host)&&(f.credentials="include"),n5.fetch()(await a5(t,t.config.apiHost,n,d),f)})}async function s5(t,e,n){t._canInitEmulator=!1;const a={...IR,...e};try{const r=new PR(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw tm(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[m,f]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw tm(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw tm(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw tm(t,"user-disabled",c);const x=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Dx(t,x,f);Ys(t,x)}}catch(r){if(r instanceof Ri)throw r;Ys(t,"network-request-failed",{message:String(r)})}}async function xd(t,e,n,a,r={}){const o=await Di(t,e,n,a,r);return"mfaPendingCredential"in o&&Ys(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function a5(t,e,n,a){const r=`${e}${n}?${a}`,o=t,c=o.config.emulator?Ox(t.config,r):`${t.config.apiScheme}://${r}`;return DR.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function OR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(ca(this.auth,"network-request-failed")),MR.get())})}}function tm(t,e,n){const a={appName:t.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const r=ca(t,e,a);return r.customData._tokenResponse=n,r}function Pw(t){return t!==void 0&&t.enterprise!==void 0}class LR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return OR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VR(t,e){return Di(t,"GET","/v2/recaptchaConfig",Ii(t,e))}async function UR(t,e){return Di(t,"POST","/v1/accounts:delete",e)}async function Om(t,e){return Di(t,"POST","/v1/accounts:lookup",e)}function Pu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zR(t,e=!1){const n=yn(t),a=await n.getIdToken(e),r=Px(a);Le(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:a,authTime:Pu(Xp(r.auth_time)),issuedAtTime:Pu(Xp(r.iat)),expirationTime:Pu(Xp(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Xp(t){return Number(t)*1e3}function Px(t){const[e,n,a]=t.split(".");if(e===void 0||n===void 0||a===void 0)return bm("JWT malformed, contained fewer than 3 sections"),null;try{const r=Bj(n);return r?JSON.parse(r):(bm("Failed to decode base64 JWT payload"),null)}catch(r){return bm("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Lw(t){const e=Px(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Wu(t,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Ri&&FR(a)&&t.auth.currentUser===t&&await t.auth.signOut(),a}}function FR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class BR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class zg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pu(this.lastLoginAt),this.creationTime=Pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Pm(t){const e=t.auth,n=await t.getIdToken(),a=await Wu(t,Om(e,{idToken:n}));Le(a?.users.length,e,"internal-error");const r=a.users[0];t._notifyReloadListener(r);const o=r.providerUserInfo?.length?i5(r.providerUserInfo):[],c=qR(t.providerData,o),d=t.isAnonymous,m=!(t.email&&r.passwordHash)&&!c?.length,f=d?m:!1,x={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new zg(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(t,x)}async function $R(t){const e=yn(t);await Pm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qR(t,e){return[...t.filter(a=>!e.some(r=>r.providerId===a.providerId)),...e]}function i5(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function HR(t,e){const n=await s5(t,{},async()=>{const a=pd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,c=await a5(t,r,"/v1/token",`key=${o}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:a};return t.emulatorConfig&&cc(t.emulatorConfig.host)&&(m.credentials="include"),n5.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function GR(t,e){return Di(t,"POST","/v2/accounts:revokeToken",Ii(t,e))}class Lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Lw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=Lw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:r,expiresIn:o}=await HR(e,n);this.updateTokensAndExpiration(a,r,Number(o))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:r,expirationTime:o}=n,c=new Lo;return a&&(Le(typeof a=="string","internal-error",{appName:e}),c.refreshToken=a),r&&(Le(typeof r=="string","internal-error",{appName:e}),c.accessToken=r),o&&(Le(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lo,this.toJSON())}_performRefresh(){return xi("not implemented")}}function hr(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class la{constructor({uid:e,auth:n,stsTokenManager:a,...r}){this.providerId="firebase",this.proactiveRefresh=new BR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new zg(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Wu(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zR(this,e)}reload(){return $R(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new la({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Pm(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_s(this.auth.app))return Promise.reject(yi(this.auth));const e=await this.getIdToken();return await Wu(this,UR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,r=n.email??void 0,o=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,f=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:b,emailVerified:v,isAnonymous:w,providerData:j,stsTokenManager:D}=n;Le(b&&D,e,"internal-error");const k=Lo.fromJSON(this.name,D);Le(typeof b=="string",e,"internal-error"),hr(a,e.name),hr(r,e.name),Le(typeof v=="boolean",e,"internal-error"),Le(typeof w=="boolean",e,"internal-error"),hr(o,e.name),hr(c,e.name),hr(d,e.name),hr(m,e.name),hr(f,e.name),hr(x,e.name);const V=new la({uid:b,auth:e,email:r,emailVerified:v,displayName:a,isAnonymous:w,photoURL:c,phoneNumber:o,tenantId:d,stsTokenManager:k,createdAt:f,lastLoginAt:x});return j&&Array.isArray(j)&&(V.providerData=j.map(I=>({...I}))),m&&(V._redirectEventId=m),V}static async _fromIdTokenResponse(e,n,a=!1){const r=new Lo;r.updateFromServerResponse(n);const o=new la({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:a});return await Pm(o),o}static async _fromGetAccountInfoResponse(e,n,a){const r=n.users[0];Le(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?i5(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,d=new Lo;d.updateFromIdToken(a);const m=new la({uid:r.localId,auth:e,stsTokenManager:d,isAnonymous:c}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new zg(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(m,f),m}}const Vw=new Map;function bi(t){Ei(t instanceof Function,"Expected a class definition");let e=Vw.get(t);return e?(Ei(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Vw.set(t,e),e)}class r5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}r5.type="NONE";const Uw=r5;function ym(t,e,n){return`firebase:${t}:${e}:${n}`}class Vo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:r,name:o}=this.auth;this.fullUserKey=ym(this.userKey,r.apiKey,o),this.fullPersistenceKey=ym("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Om(this.auth,{idToken:e}).catch(()=>{});return n?la._fromGetAccountInfoResponse(this.auth,n,e):null}return la._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Vo(bi(Uw),e,a);const r=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||bi(Uw);const c=ym(a,e.config.apiKey,e.name);let d=null;for(const f of n)try{const x=await f._get(c);if(x){let b;if(typeof x=="string"){const v=await Om(e,{idToken:x}).catch(()=>{});if(!v)break;b=await la._fromGetAccountInfoResponse(e,v,x)}else b=la._fromJSON(e,x);f!==o&&(d=b),o=f;break}}catch{}const m=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!m.length?new Vo(o,e,a):(o=m[0],d&&await o._set(c,d.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(c)}catch{}})),new Vo(o,e,a))}}function zw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(u5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(l5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(h5(e))return"Blackberry";if(m5(e))return"Webos";if(o5(e))return"Safari";if((e.includes("chrome/")||c5(e))&&!e.includes("edge/"))return"Chrome";if(d5(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=t.match(n);if(a?.length===2)return a[1]}return"Other"}function l5(t=Kn()){return/firefox\//i.test(t)}function o5(t=Kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function c5(t=Kn()){return/crios\//i.test(t)}function u5(t=Kn()){return/iemobile/i.test(t)}function d5(t=Kn()){return/android/i.test(t)}function h5(t=Kn()){return/blackberry/i.test(t)}function m5(t=Kn()){return/webos/i.test(t)}function Lx(t=Kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function YR(t=Kn()){return Lx(t)&&!!window.navigator?.standalone}function QR(){return i3()&&document.documentMode===10}function f5(t=Kn()){return Lx(t)||d5(t)||m5(t)||h5(t)||/windows phone/i.test(t)||u5(t)}function p5(t,e=[]){let n;switch(t){case"Browser":n=zw(Kn());break;case"Worker":n=`${zw(Kn())}-${t}`;break;default:n=t}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uc}/${a}`}class KR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=o=>new Promise((c,d)=>{try{const m=e(o);c(m)}catch(m){d(m)}});a.onAbort=n,this.queue.push(a);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function WR(t,e={}){return Di(t,"GET","/v2/passwordPolicy",Ii(t,e))}const XR=6;class JR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??XR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let r=0;r<e.length;r++)a=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class ZR{constructor(e,n,a,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fw(this),this.idTokenSubscription=new Fw(this),this.beforeStateQueue=new KR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=t5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Om(this,{idToken:e}),a=await la._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(_s(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=a?._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&d?.user&&(a=d.user,r=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(a)}catch(o){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_s(this.app))return Promise.reject(yi(this));const n=e?yn(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _s(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _s(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WR(this),n=new JR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fd("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await GR(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bi(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await Vo.create(this,[bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,a,r);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=p5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(_s(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ER(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Pr(t){return yn(t)}class Fw{constructor(e){this.auth=e,this.observer=null,this.addObserver=m3(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eI(t){xf=t}function g5(t){return xf.loadJS(t)}function tI(){return xf.recaptchaEnterpriseScript}function nI(){return xf.gapiScript}function sI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class aI{constructor(){this.enterprise=new iI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class iI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const rI="recaptcha-enterprise",x5="NO_RECAPTCHA";class lI{constructor(e){this.type=rI,this.auth=Pr(e)}async verify(e="verify",n=!1){async function a(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,d)=>{VR(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const f=new LR(m);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,c(f.siteKey)}}).catch(m=>{d(m)})})}function r(o,c,d){const m=window.grecaptcha;Pw(m)?m.enterprise.ready(()=>{m.enterprise.execute(o,{action:e}).then(f=>{c(f)}).catch(()=>{c(x5)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aI().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{a(this.auth).then(d=>{if(!n&&Pw(window.grecaptcha))r(d,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=tI();m.length!==0&&(m+=d),g5(m).then(()=>{r(d,o,c)}).catch(f=>{c(f)})}}).catch(d=>{c(d)})})}}async function Bw(t,e,n,a=!1,r=!1){const o=new lI(t);let c;if(r)c=x5;else try{c=await o.verify(n)}catch{c=await o.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,f=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return a?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Fg(t,e,n,a,r){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Bw(t,e,n,n==="getOobCode");return a(t,o)}else return a(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Bw(t,e,n,n==="getOobCode");return a(t,c)}else return Promise.reject(o)})}function oI(t,e){const n=Ix(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(Er(o,e??{}))return r;Ys(r,"already-initialized")}return n.initialize({options:e})}function cI(t,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(bi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(a,e?.popupRedirectResolver)}function uI(t,e,n){const a=Pr(t);Le(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const r=!1,o=b5(e),{host:c,port:d}=dI(e),m=d===null?"":`:${d}`,f={url:`${o}//${c}${m}/`},x=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!a._canInitEmulator){Le(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Le(Er(f,a.config.emulator)&&Er(x,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=f,a.emulatorConfig=x,a.settings.appVerificationDisabledForTesting=!0,cc(c)?(Gj(`${o}//${c}${m}`),Yj("Auth",!0)):hI()}function b5(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dI(t){const e=b5(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(a);if(r){const o=r[1];return{host:o,port:$w(a.substr(o.length+1))}}else{const[o,c]=a.split(":");return{host:o,port:$w(c)}}}function $w(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hI(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Vx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xi("not implemented")}_getIdTokenResponse(e){return xi("not implemented")}_linkToIdToken(e,n){return xi("not implemented")}_getReauthenticationResolver(e){return xi("not implemented")}}async function mI(t,e){return Di(t,"POST","/v1/accounts:signUp",e)}async function fI(t,e){return xd(t,"POST","/v1/accounts:signInWithPassword",Ii(t,e))}async function pI(t,e){return Di(t,"POST","/v1/accounts:sendOobCode",Ii(t,e))}async function gI(t,e){return pI(t,e)}async function xI(t,e){return xd(t,"POST","/v1/accounts:signInWithEmailLink",Ii(t,e))}async function bI(t,e){return xd(t,"POST","/v1/accounts:signInWithEmailLink",Ii(t,e))}class Xu extends Vx{constructor(e,n,a,r=null){super("password",a),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Xu(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new Xu(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fg(e,n,"signInWithPassword",fI);case"emailLink":return xI(e,{email:this._email,oobCode:this._password});default:Ys(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fg(e,a,"signUpPassword",mI);case"emailLink":return bI(e,{idToken:n,email:this._email,oobCode:this._password});default:Ys(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Uo(t,e){return xd(t,"POST","/v1/accounts:signInWithIdp",Ii(t,e))}const yI="http://localhost";class _l extends Vx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _l(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ys("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:r,...o}=n;if(!a||!r)return null;const c=new _l(a,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Uo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Uo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Uo(e,n)}buildRequest(){const e={requestUri:yI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pd(n)}return e}}function vI(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wI(t){const e=Au(ku(t)).link,n=e?Au(ku(e)).deep_link_id:null,a=Au(ku(t)).deep_link_id;return(a?Au(ku(a)).link:null)||a||n||e||t}class Ux{constructor(e){const n=Au(ku(e)),a=n.apiKey??null,r=n.oobCode??null,o=vI(n.mode??null);Le(a&&r&&o,"argument-error"),this.apiKey=a,this.operation=o,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=wI(e);try{return new Ux(n)}catch{return null}}}class dc{constructor(){this.providerId=dc.PROVIDER_ID}static credential(e,n){return Xu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=Ux.parseLink(n);return Le(a,"argument-error"),Xu._fromEmailAndCode(e,a.code,a.tenantId)}}dc.PROVIDER_ID="password";dc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";dc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class zx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class bd extends zx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class pr extends bd{constructor(){super("facebook.com")}static credential(e){return _l._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";pr.PROVIDER_ID="facebook.com";class gi extends bd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _l._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return gi.credential(n,a)}catch{return null}}}gi.GOOGLE_SIGN_IN_METHOD="google.com";gi.PROVIDER_ID="google.com";class gr extends bd{constructor(){super("github.com")}static credential(e){return _l._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gr.credential(e.oauthAccessToken)}catch{return null}}}gr.GITHUB_SIGN_IN_METHOD="github.com";gr.PROVIDER_ID="github.com";class xr extends bd{constructor(){super("twitter.com")}static credential(e,n){return _l._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return xr.credential(n,a)}catch{return null}}}xr.TWITTER_SIGN_IN_METHOD="twitter.com";xr.PROVIDER_ID="twitter.com";async function NI(t,e){return xd(t,"POST","/v1/accounts:signUp",Ii(t,e))}class Tl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,r=!1){const o=await la._fromIdTokenResponse(e,a,r),c=qw(a);return new Tl({user:o,providerId:c,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const r=qw(a);return new Tl({user:e,providerId:r,_tokenResponse:a,operationType:n})}}function qw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Lm extends Ri{constructor(e,n,a,r){super(n.code,n.message),this.operationType=a,this.user=r,Object.setPrototypeOf(this,Lm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,r){return new Lm(e,n,a,r)}}function y5(t,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Lm._fromErrorAndOperation(t,o,e,a):o})}async function jI(t,e,n=!1){const a=await Wu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Tl._forOperation(t,"link",a)}async function SI(t,e,n=!1){const{auth:a}=t;if(_s(a.app))return Promise.reject(yi(a));const r="reauthenticate";try{const o=await Wu(t,y5(a,r,e,t),n);Le(o.idToken,a,"internal-error");const c=Px(o.idToken);Le(c,a,"internal-error");const{sub:d}=c;return Le(t.uid===d,a,"user-mismatch"),Tl._forOperation(t,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ys(a,"user-mismatch"),o}}async function v5(t,e,n=!1){if(_s(t.app))return Promise.reject(yi(t));const a="signIn",r=await y5(t,a,e),o=await Tl._fromIdTokenResponse(t,a,r);return n||await t._updateCurrentUser(o.user),o}async function _I(t,e){return v5(Pr(t),e)}async function w5(t){const e=Pr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TI(t,e,n){if(_s(t.app))return Promise.reject(yi(t));const a=Pr(t),c=await Fg(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NI).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&w5(t),m}),d=await Tl._fromIdTokenResponse(a,"signIn",c);return await a._updateCurrentUser(d.user),d}function EI(t,e,n){return _s(t.app)?Promise.reject(yi(t)):_I(yn(t),dc.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&w5(t),a})}async function CI(t,e){const n=yn(t),r={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:o}=await gI(n.auth,r);o!==t.email&&await t.reload()}function AI(t,e,n,a){return yn(t).onIdTokenChanged(e,n,a)}function kI(t,e,n){return yn(t).beforeAuthStateChanged(e,n)}function RI(t,e,n,a){return yn(t).onAuthStateChanged(e,n,a)}function II(t){return yn(t).signOut()}const Vm="__sak";class N5{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vm,"1"),this.storage.removeItem(Vm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const DI=1e3,MI=10;class j5 extends N5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=f5(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),r=this.localCache[n];a!==r&&e(n,r,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const a=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(a);!n&&this.localCache[a]===c||this.notifyListeners(a,c)},o=this.storage.getItem(a);QR()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,MI):r()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const r of Array.from(a))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},DI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}j5.type="LOCAL";const OI=j5;class S5 extends N5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}S5.type="SESSION";const _5=S5;function PI(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class bf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const a=new bf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:r,data:o}=n.data,c=this.handlersMap[r];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:r});const d=Array.from(c).map(async f=>f(n.origin,o)),m=await PI(d);n.ports[0].postMessage({status:"done",eventId:a,eventType:r,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bf.receivers=[];function Fx(t="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return t+n}class LI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((d,m)=>{const f=Fx("",20);r.port1.start();const x=setTimeout(()=>{m(new Error("unsupported_event"))},a);c={messageChannel:r,onMessage(b){const v=b;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(x),o=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(v.data.response);break;default:clearTimeout(x),clearTimeout(o),m(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Va(){return window}function VI(t){Va().location.href=t}function T5(){return typeof Va().WorkerGlobalScope<"u"&&typeof Va().importScripts=="function"}async function UI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zI(){return navigator?.serviceWorker?.controller||null}function FI(){return T5()?self:null}const E5="firebaseLocalStorageDb",BI=1,Um="firebaseLocalStorage",C5="fbase_key";class yd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yf(t,e){return t.transaction([Um],e?"readwrite":"readonly").objectStore(Um)}function $I(){const t=indexedDB.deleteDatabase(E5);return new yd(t).toPromise()}function Bg(){const t=indexedDB.open(E5,BI);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const a=t.result;try{a.createObjectStore(Um,{keyPath:C5})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const a=t.result;a.objectStoreNames.contains(Um)?e(a):(a.close(),await $I(),e(await Bg()))})})}async function Hw(t,e,n){const a=yf(t,!0).put({[C5]:e,value:n});return new yd(a).toPromise()}async function qI(t,e){const n=yf(t,!1).get(e),a=await new yd(n).toPromise();return a===void 0?null:a.value}function Gw(t,e){const n=yf(t,!0).delete(e);return new yd(n).toPromise()}const HI=800,GI=3;class A5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>GI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return T5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bf._getInstance(FI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await UI(),!this.activeServiceWorker)return;this.sender=new LI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bg();return await Hw(e,Vm,"1"),await Gw(e,Vm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>Hw(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>qI(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=yf(r,!1).getAll();return new yd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)a.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!a.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const r of Array.from(a))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}A5.type="LOCAL";const YI=A5;new gd(3e4,6e4);function k5(t,e){return e?bi(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Bx extends Vx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QI(t){return v5(t.auth,new Bx(t),t.bypassAuthState)}function KI(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),SI(n,new Bx(t),t.bypassAuthState)}async function WI(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),jI(n,new Bx(t),t.bypassAuthState)}class R5{constructor(e,n,a,r,o=!1){this.auth=e,this.resolver=a,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:r,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:a,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QI;case"linkViaPopup":case"linkViaRedirect":return WI;case"reauthViaPopup":case"reauthViaRedirect":return KI;default:Ys(this.auth,"internal-error")}}resolve(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const XI=new gd(2e3,1e4);async function JI(t,e,n){if(_s(t.app))return Promise.reject(ca(t,"operation-not-supported-in-this-environment"));const a=Pr(t);CR(t,e,zx);const r=k5(a,n);return new yl(a,"signInViaPopup",e,r).executeNotNull()}class yl extends R5{constructor(e,n,a,r,o){super(e,n,r,o),this.provider=a,this.authWindow=null,this.pollId=null,yl.currentPopupAction&&yl.currentPopupAction.cancel(),yl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){Ei(this.filter.length===1,"Popup operations only handle one event");const e=Fx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ca(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ca(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ca(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XI.get())};e()}}yl.currentPopupAction=null;const ZI="pendingRedirect",vm=new Map;class e6 extends R5{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=vm.get(this.auth._key());if(!e){try{const a=await t6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}vm.set(this.auth._key(),e)}return this.bypassAuthState||vm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t6(t,e){const n=a6(e),a=s6(t);if(!await a._isAvailable())return!1;const r=await a._get(n)==="true";return await a._remove(n),r}function n6(t,e){vm.set(t._key(),e)}function s6(t){return bi(t._redirectPersistence)}function a6(t){return ym(ZI,t.config.apiKey,t.name)}async function i6(t,e,n=!1){if(_s(t.app))return Promise.reject(yi(t));const a=Pr(t),r=k5(a,e),c=await new e6(a,r,n).execute();return c&&!n&&(delete c.user._redirectEventId,await a._persistUserIfCurrent(c.user),await a._setRedirectUser(null,e)),c}const r6=600*1e3;class l6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!I5(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ca(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=r6&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yw(e))}saveEventToCache(e){this.cachedEventUids.add(Yw(e)),this.lastProcessedEventTime=Date.now()}}function Yw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function I5({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function o6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return I5(t);default:return!1}}async function c6(t,e={}){return Di(t,"GET","/v1/projects",e)}const u6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d6=/^https?/;async function h6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await c6(t);for(const n of e)try{if(m6(n))return}catch{}Ys(t,"unauthorized-domain")}function m6(t){const e=Ug(),{protocol:n,hostname:a}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&a===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===a}if(!d6.test(n))return!1;if(u6.test(t))return a===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(a)}const f6=new gd(3e4,6e4);function Qw(){const t=Va().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function p6(t){return new Promise((e,n)=>{function a(){Qw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Qw(),n(ca(t,"network-request-failed"))},timeout:f6.get()})}if(Va().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Va().gapi?.load)a();else{const r=sI("iframefcb");return Va()[r]=()=>{gapi.load?a():n(ca(t,"network-request-failed"))},g5(`${nI()}?onload=${r}`).catch(o=>n(o))}}).catch(e=>{throw wm=null,e})}let wm=null;function g6(t){return wm=wm||p6(t),wm}const x6=new gd(5e3,15e3),b6="__/auth/iframe",y6="emulator/auth/iframe",v6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N6(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ox(e,y6):`https://${t.config.authDomain}/${b6}`,a={apiKey:e.apiKey,appName:t.name,v:uc},r=w6.get(t.config.apiHost);r&&(a.eid=r);const o=t._getFrameworks();return o.length&&(a.fw=o.join(",")),`${n}?${pd(a).slice(1)}`}async function j6(t){const e=await g6(t),n=Va().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:N6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v6,dontclear:!0},a=>new Promise(async(r,o)=>{await a.restyle({setHideOnLeave:!1});const c=ca(t,"network-request-failed"),d=Va().setTimeout(()=>{o(c)},x6.get());function m(){Va().clearTimeout(d),r(a)}a.ping(m).then(m,()=>{o(c)})}))}const S6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_6=500,T6=600,E6="_blank",C6="http://localhost";class Kw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A6(t,e,n,a=_6,r=T6){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const m={...S6,width:a.toString(),height:r.toString(),top:o,left:c},f=Kn().toLowerCase();n&&(d=c5(f)?E6:n),l5(f)&&(e=e||C6,m.scrollbars="yes");const x=Object.entries(m).reduce((v,[w,j])=>`${v}${w}=${j},`,"");if(YR(f)&&d!=="_self")return k6(e||"",d),new Kw(null);const b=window.open(e||"",d,x);Le(b,t,"popup-blocked");try{b.focus()}catch{}return new Kw(b)}function k6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const R6="__/auth/handler",I6="emulator/auth/handler",D6=encodeURIComponent("fac");async function Ww(t,e,n,a,r,o){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:a,v:uc,eventId:r};if(e instanceof zx){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",h3(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,b]of Object.entries({}))c[x]=b}if(e instanceof bd){const x=e.getScopes().filter(b=>b!=="");x.length>0&&(c.scopes=x.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const x of Object.keys(d))d[x]===void 0&&delete d[x];const m=await t._getAppCheckToken(),f=m?`#${D6}=${encodeURIComponent(m)}`:"";return`${M6(t)}?${pd(d).slice(1)}${f}`}function M6({config:t}){return t.emulator?Ox(t,I6):`https://${t.authDomain}/${R6}`}const Jp="webStorageSupport";class O6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_5,this._completeRedirectFn=i6,this._overrideRedirectResult=n6}async _openPopup(e,n,a,r){Ei(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Ww(e,n,a,Ug(),r);return A6(e,o,Fx())}async _openRedirect(e,n,a,r){await this._originValidation(e);const o=await Ww(e,n,a,Ug(),r);return VI(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(Ei(o,"If manager is not set, promise should be"),o)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await j6(e),a=new l6(e);return n.register("authEvent",r=>(Le(r?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jp,{type:Jp},r=>{const o=r?.[0]?.[Jp];o!==void 0&&n(!!o),Ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=h6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return f5()||o5()||Lx()}}const P6=O6;var Xw="@firebase/auth",Jw="1.11.1";class L6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function V6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function U6(t){Yo(new Sl("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=a.options;Le(c&&!c.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:p5(t)},f=new ZR(a,r,o,m);return cI(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Yo(new Sl("auth-internal",e=>{const n=Pr(e.getProvider("auth").getImmediate());return(a=>new L6(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nr(Xw,Jw,V6(t)),Nr(Xw,Jw,"esm2020")}const z6=300,F6=Hj("authIdTokenMaxAge")||z6;let Zw=null;const B6=t=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>F6)return;const r=n?.token;Zw!==r&&(Zw=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function $6(t=Xj()){const e=Ix(t,"auth");if(e.isInitialized())return e.getImmediate();const n=oI(t,{popupRedirectResolver:P6,persistence:[YI,OI,_5]}),a=Hj("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(a,location.origin);if(location.origin===o.origin){const c=B6(o.toString());kI(n,c,()=>c(n.currentUser)),AI(n,d=>c(d))}}const r=$j("auth");return r&&uI(n,`http://${r}`),n}function q6(){return document.getElementsByTagName("head")?.[0]??document}eI({loadJS(t){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",t),a.onload=e,a.onerror=r=>{const o=ca("internal-error");o.customData=r,n(o)},a.type="text/javascript",a.charset="UTF-8",q6().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});U6("Browser");var e2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jr,D5;(function(){var t;function e(R,A){function L(){}L.prototype=A.prototype,R.F=A.prototype,R.prototype=new L,R.prototype.constructor=R,R.D=function(T,C,P){for(var O=Array(arguments.length-2),te=2;te<arguments.length;te++)O[te-2]=arguments[te];return A.prototype[C].apply(T,O)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(R,A,L){L||(L=0);const T=Array(16);if(typeof A=="string")for(var C=0;C<16;++C)T[C]=A.charCodeAt(L++)|A.charCodeAt(L++)<<8|A.charCodeAt(L++)<<16|A.charCodeAt(L++)<<24;else for(C=0;C<16;++C)T[C]=A[L++]|A[L++]<<8|A[L++]<<16|A[L++]<<24;A=R.g[0],L=R.g[1],C=R.g[2];let P=R.g[3],O;O=A+(P^L&(C^P))+T[0]+3614090360&4294967295,A=L+(O<<7&4294967295|O>>>25),O=P+(C^A&(L^C))+T[1]+3905402710&4294967295,P=A+(O<<12&4294967295|O>>>20),O=C+(L^P&(A^L))+T[2]+606105819&4294967295,C=P+(O<<17&4294967295|O>>>15),O=L+(A^C&(P^A))+T[3]+3250441966&4294967295,L=C+(O<<22&4294967295|O>>>10),O=A+(P^L&(C^P))+T[4]+4118548399&4294967295,A=L+(O<<7&4294967295|O>>>25),O=P+(C^A&(L^C))+T[5]+1200080426&4294967295,P=A+(O<<12&4294967295|O>>>20),O=C+(L^P&(A^L))+T[6]+2821735955&4294967295,C=P+(O<<17&4294967295|O>>>15),O=L+(A^C&(P^A))+T[7]+4249261313&4294967295,L=C+(O<<22&4294967295|O>>>10),O=A+(P^L&(C^P))+T[8]+1770035416&4294967295,A=L+(O<<7&4294967295|O>>>25),O=P+(C^A&(L^C))+T[9]+2336552879&4294967295,P=A+(O<<12&4294967295|O>>>20),O=C+(L^P&(A^L))+T[10]+4294925233&4294967295,C=P+(O<<17&4294967295|O>>>15),O=L+(A^C&(P^A))+T[11]+2304563134&4294967295,L=C+(O<<22&4294967295|O>>>10),O=A+(P^L&(C^P))+T[12]+1804603682&4294967295,A=L+(O<<7&4294967295|O>>>25),O=P+(C^A&(L^C))+T[13]+4254626195&4294967295,P=A+(O<<12&4294967295|O>>>20),O=C+(L^P&(A^L))+T[14]+2792965006&4294967295,C=P+(O<<17&4294967295|O>>>15),O=L+(A^C&(P^A))+T[15]+1236535329&4294967295,L=C+(O<<22&4294967295|O>>>10),O=A+(C^P&(L^C))+T[1]+4129170786&4294967295,A=L+(O<<5&4294967295|O>>>27),O=P+(L^C&(A^L))+T[6]+3225465664&4294967295,P=A+(O<<9&4294967295|O>>>23),O=C+(A^L&(P^A))+T[11]+643717713&4294967295,C=P+(O<<14&4294967295|O>>>18),O=L+(P^A&(C^P))+T[0]+3921069994&4294967295,L=C+(O<<20&4294967295|O>>>12),O=A+(C^P&(L^C))+T[5]+3593408605&4294967295,A=L+(O<<5&4294967295|O>>>27),O=P+(L^C&(A^L))+T[10]+38016083&4294967295,P=A+(O<<9&4294967295|O>>>23),O=C+(A^L&(P^A))+T[15]+3634488961&4294967295,C=P+(O<<14&4294967295|O>>>18),O=L+(P^A&(C^P))+T[4]+3889429448&4294967295,L=C+(O<<20&4294967295|O>>>12),O=A+(C^P&(L^C))+T[9]+568446438&4294967295,A=L+(O<<5&4294967295|O>>>27),O=P+(L^C&(A^L))+T[14]+3275163606&4294967295,P=A+(O<<9&4294967295|O>>>23),O=C+(A^L&(P^A))+T[3]+4107603335&4294967295,C=P+(O<<14&4294967295|O>>>18),O=L+(P^A&(C^P))+T[8]+1163531501&4294967295,L=C+(O<<20&4294967295|O>>>12),O=A+(C^P&(L^C))+T[13]+2850285829&4294967295,A=L+(O<<5&4294967295|O>>>27),O=P+(L^C&(A^L))+T[2]+4243563512&4294967295,P=A+(O<<9&4294967295|O>>>23),O=C+(A^L&(P^A))+T[7]+1735328473&4294967295,C=P+(O<<14&4294967295|O>>>18),O=L+(P^A&(C^P))+T[12]+2368359562&4294967295,L=C+(O<<20&4294967295|O>>>12),O=A+(L^C^P)+T[5]+4294588738&4294967295,A=L+(O<<4&4294967295|O>>>28),O=P+(A^L^C)+T[8]+2272392833&4294967295,P=A+(O<<11&4294967295|O>>>21),O=C+(P^A^L)+T[11]+1839030562&4294967295,C=P+(O<<16&4294967295|O>>>16),O=L+(C^P^A)+T[14]+4259657740&4294967295,L=C+(O<<23&4294967295|O>>>9),O=A+(L^C^P)+T[1]+2763975236&4294967295,A=L+(O<<4&4294967295|O>>>28),O=P+(A^L^C)+T[4]+1272893353&4294967295,P=A+(O<<11&4294967295|O>>>21),O=C+(P^A^L)+T[7]+4139469664&4294967295,C=P+(O<<16&4294967295|O>>>16),O=L+(C^P^A)+T[10]+3200236656&4294967295,L=C+(O<<23&4294967295|O>>>9),O=A+(L^C^P)+T[13]+681279174&4294967295,A=L+(O<<4&4294967295|O>>>28),O=P+(A^L^C)+T[0]+3936430074&4294967295,P=A+(O<<11&4294967295|O>>>21),O=C+(P^A^L)+T[3]+3572445317&4294967295,C=P+(O<<16&4294967295|O>>>16),O=L+(C^P^A)+T[6]+76029189&4294967295,L=C+(O<<23&4294967295|O>>>9),O=A+(L^C^P)+T[9]+3654602809&4294967295,A=L+(O<<4&4294967295|O>>>28),O=P+(A^L^C)+T[12]+3873151461&4294967295,P=A+(O<<11&4294967295|O>>>21),O=C+(P^A^L)+T[15]+530742520&4294967295,C=P+(O<<16&4294967295|O>>>16),O=L+(C^P^A)+T[2]+3299628645&4294967295,L=C+(O<<23&4294967295|O>>>9),O=A+(C^(L|~P))+T[0]+4096336452&4294967295,A=L+(O<<6&4294967295|O>>>26),O=P+(L^(A|~C))+T[7]+1126891415&4294967295,P=A+(O<<10&4294967295|O>>>22),O=C+(A^(P|~L))+T[14]+2878612391&4294967295,C=P+(O<<15&4294967295|O>>>17),O=L+(P^(C|~A))+T[5]+4237533241&4294967295,L=C+(O<<21&4294967295|O>>>11),O=A+(C^(L|~P))+T[12]+1700485571&4294967295,A=L+(O<<6&4294967295|O>>>26),O=P+(L^(A|~C))+T[3]+2399980690&4294967295,P=A+(O<<10&4294967295|O>>>22),O=C+(A^(P|~L))+T[10]+4293915773&4294967295,C=P+(O<<15&4294967295|O>>>17),O=L+(P^(C|~A))+T[1]+2240044497&4294967295,L=C+(O<<21&4294967295|O>>>11),O=A+(C^(L|~P))+T[8]+1873313359&4294967295,A=L+(O<<6&4294967295|O>>>26),O=P+(L^(A|~C))+T[15]+4264355552&4294967295,P=A+(O<<10&4294967295|O>>>22),O=C+(A^(P|~L))+T[6]+2734768916&4294967295,C=P+(O<<15&4294967295|O>>>17),O=L+(P^(C|~A))+T[13]+1309151649&4294967295,L=C+(O<<21&4294967295|O>>>11),O=A+(C^(L|~P))+T[4]+4149444226&4294967295,A=L+(O<<6&4294967295|O>>>26),O=P+(L^(A|~C))+T[11]+3174756917&4294967295,P=A+(O<<10&4294967295|O>>>22),O=C+(A^(P|~L))+T[2]+718787259&4294967295,C=P+(O<<15&4294967295|O>>>17),O=L+(P^(C|~A))+T[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(C+(O<<21&4294967295|O>>>11))&4294967295,R.g[2]=R.g[2]+C&4294967295,R.g[3]=R.g[3]+P&4294967295}a.prototype.v=function(R,A){A===void 0&&(A=R.length);const L=A-this.blockSize,T=this.C;let C=this.h,P=0;for(;P<A;){if(C==0)for(;P<=L;)r(this,R,P),P+=this.blockSize;if(typeof R=="string"){for(;P<A;)if(T[C++]=R.charCodeAt(P++),C==this.blockSize){r(this,T),C=0;break}}else for(;P<A;)if(T[C++]=R[P++],C==this.blockSize){r(this,T),C=0;break}}this.h=C,this.o+=A},a.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var L=R.length-8;L<R.length;++L)R[L]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,L=0;L<4;++L)for(let T=0;T<32;T+=8)R[A++]=this.g[L]>>>T&255;return R};function o(R,A){var L=d;return Object.prototype.hasOwnProperty.call(L,R)?L[R]:L[R]=A(R)}function c(R,A){this.h=A;const L=[];let T=!0;for(let C=R.length-1;C>=0;C--){const P=R[C]|0;T&&P==A||(L[C]=P,T=!1)}this.g=L}var d={};function m(R){return-128<=R&&R<128?o(R,function(A){return new c([A|0],A<0?-1:0)}):new c([R|0],R<0?-1:0)}function f(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return k(f(-R));const A=[];let L=1;for(let T=0;R>=L;T++)A[T]=R/L|0,L*=4294967296;return new c(A,0)}function x(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return k(x(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const L=f(Math.pow(A,8));let T=b;for(let P=0;P<R.length;P+=8){var C=Math.min(8,R.length-P);const O=parseInt(R.substring(P,P+C),A);C<8?(C=f(Math.pow(A,C)),T=T.j(C).add(f(O))):(T=T.j(L),T=T.add(f(O)))}return T}var b=m(0),v=m(1),w=m(16777216);t=c.prototype,t.m=function(){if(D(this))return-k(this).m();let R=0,A=1;for(let L=0;L<this.g.length;L++){const T=this.i(L);R+=(T>=0?T:4294967296+T)*A,A*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(j(this))return"0";if(D(this))return"-"+k(this).toString(R);const A=f(Math.pow(R,6));var L=this;let T="";for(;;){const C=Q(L,A).g;L=V(L,C.j(A));let P=((L.g.length>0?L.g[0]:L.h)>>>0).toString(R);if(L=C,j(L))return P+T;for(;P.length<6;)P="0"+P;T=P+T}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function j(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function D(R){return R.h==-1}t.l=function(R){return R=V(this,R),D(R)?-1:j(R)?0:1};function k(R){const A=R.g.length,L=[];for(let T=0;T<A;T++)L[T]=~R.g[T];return new c(L,~R.h).add(v)}t.abs=function(){return D(this)?k(this):this},t.add=function(R){const A=Math.max(this.g.length,R.g.length),L=[];let T=0;for(let C=0;C<=A;C++){let P=T+(this.i(C)&65535)+(R.i(C)&65535),O=(P>>>16)+(this.i(C)>>>16)+(R.i(C)>>>16);T=O>>>16,P&=65535,O&=65535,L[C]=O<<16|P}return new c(L,L[L.length-1]&-2147483648?-1:0)};function V(R,A){return R.add(k(A))}t.j=function(R){if(j(this)||j(R))return b;if(D(this))return D(R)?k(this).j(k(R)):k(k(this).j(R));if(D(R))return k(this.j(k(R)));if(this.l(w)<0&&R.l(w)<0)return f(this.m()*R.m());const A=this.g.length+R.g.length,L=[];for(var T=0;T<2*A;T++)L[T]=0;for(T=0;T<this.g.length;T++)for(let C=0;C<R.g.length;C++){const P=this.i(T)>>>16,O=this.i(T)&65535,te=R.i(C)>>>16,J=R.i(C)&65535;L[2*T+2*C]+=O*J,I(L,2*T+2*C),L[2*T+2*C+1]+=P*J,I(L,2*T+2*C+1),L[2*T+2*C+1]+=O*te,I(L,2*T+2*C+1),L[2*T+2*C+2]+=P*te,I(L,2*T+2*C+2)}for(R=0;R<A;R++)L[R]=L[2*R+1]<<16|L[2*R];for(R=A;R<2*A;R++)L[R]=0;return new c(L,0)};function I(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function B(R,A){this.g=R,this.h=A}function Q(R,A){if(j(A))throw Error("division by zero");if(j(R))return new B(b,b);if(D(R))return A=Q(k(R),A),new B(k(A.g),k(A.h));if(D(A))return A=Q(R,k(A)),new B(k(A.g),A.h);if(R.g.length>30){if(D(R)||D(A))throw Error("slowDivide_ only works with positive integers.");for(var L=v,T=A;T.l(R)<=0;)L=se(L),T=se(T);var C=G(L,1),P=G(T,1);for(T=G(T,2),L=G(L,2);!j(T);){var O=P.add(T);O.l(R)<=0&&(C=C.add(L),P=O),T=G(T,1),L=G(L,1)}return A=V(R,C.j(A)),new B(C,A)}for(C=b;R.l(A)>=0;){for(L=Math.max(1,Math.floor(R.m()/A.m())),T=Math.ceil(Math.log(L)/Math.LN2),T=T<=48?1:Math.pow(2,T-48),P=f(L),O=P.j(A);D(O)||O.l(R)>0;)L-=T,P=f(L),O=P.j(A);j(P)&&(P=v),C=C.add(P),R=V(R,O)}return new B(C,R)}t.B=function(R){return Q(this,R).h},t.and=function(R){const A=Math.max(this.g.length,R.g.length),L=[];for(let T=0;T<A;T++)L[T]=this.i(T)&R.i(T);return new c(L,this.h&R.h)},t.or=function(R){const A=Math.max(this.g.length,R.g.length),L=[];for(let T=0;T<A;T++)L[T]=this.i(T)|R.i(T);return new c(L,this.h|R.h)},t.xor=function(R){const A=Math.max(this.g.length,R.g.length),L=[];for(let T=0;T<A;T++)L[T]=this.i(T)^R.i(T);return new c(L,this.h^R.h)};function se(R){const A=R.g.length+1,L=[];for(let T=0;T<A;T++)L[T]=R.i(T)<<1|R.i(T-1)>>>31;return new c(L,R.h)}function G(R,A){const L=A>>5;A%=32;const T=R.g.length-L,C=[];for(let P=0;P<T;P++)C[P]=A>0?R.i(P+L)>>>A|R.i(P+L+1)<<32-A:R.i(P+L);return new c(C,R.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,D5=a,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=x,jr=c}).apply(typeof e2<"u"?e2:typeof self<"u"?self:typeof window<"u"?window:{});var nm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var M5,Ru,O5,Nm,$g,P5,L5,V5;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof nm=="object"&&nm];for(var N=0;N<p.length;++N){var _=p[N];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function r(p,N){if(N)e:{var _=a;p=p.split(".");for(var F=0;F<p.length-1;F++){var W=p[F];if(!(W in _))break e;_=_[W]}p=p[p.length-1],F=_[p],N=N(F),N!=F&&N!=null&&e(_,p,{configurable:!0,writable:!0,value:N})}}r("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(p){return p||function(N){var _=[],F;for(F in N)Object.prototype.hasOwnProperty.call(N,F)&&_.push([F,N[F]]);return _}});var o=o||{},c=this||self;function d(p){var N=typeof p;return N=="object"&&p!=null||N=="function"}function m(p,N,_){return p.call.apply(p.bind,arguments)}function f(p,N,_){return f=m,f.apply(null,arguments)}function x(p,N){var _=Array.prototype.slice.call(arguments,1);return function(){var F=_.slice();return F.push.apply(F,arguments),p.apply(this,F)}}function b(p,N){function _(){}_.prototype=N.prototype,p.Z=N.prototype,p.prototype=new _,p.prototype.constructor=p,p.Ob=function(F,W,ae){for(var Ne=Array(arguments.length-2),He=2;He<arguments.length;He++)Ne[He-2]=arguments[He];return N.prototype[W].apply(F,Ne)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function w(p){const N=p.length;if(N>0){const _=Array(N);for(let F=0;F<N;F++)_[F]=p[F];return _}return[]}function j(p,N){for(let F=1;F<arguments.length;F++){const W=arguments[F];var _=typeof W;if(_=_!="object"?_:W?Array.isArray(W)?"array":_:"null",_=="array"||_=="object"&&typeof W.length=="number"){_=p.length||0;const ae=W.length||0;p.length=_+ae;for(let Ne=0;Ne<ae;Ne++)p[_+Ne]=W[Ne]}else p.push(W)}}class D{constructor(N,_){this.i=N,this.j=_,this.h=0,this.g=null}get(){let N;return this.h>0?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function k(p){c.setTimeout(()=>{throw p},0)}function V(){var p=R;let N=null;return p.g&&(N=p.g,p.g=p.g.next,p.g||(p.h=null),N.next=null),N}class I{constructor(){this.h=this.g=null}add(N,_){const F=B.get();F.set(N,_),this.h?this.h.next=F:this.g=F,this.h=F}}var B=new D(()=>new Q,p=>p.reset());class Q{constructor(){this.next=this.g=this.h=null}set(N,_){this.h=N,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let se,G=!1,R=new I,A=()=>{const p=Promise.resolve(void 0);se=()=>{p.then(L)}};function L(){for(var p;p=V();){try{p.h.call(p.g)}catch(_){k(_)}var N=B;N.j(p),N.h<100&&(N.h++,p.next=N.g,N.g=p)}G=!1}function T(){this.u=this.u,this.C=this.C}T.prototype.u=!1,T.prototype.dispose=function(){this.u||(this.u=!0,this.N())},T.prototype[Symbol.dispose]=function(){this.dispose()},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(p,N){this.type=p,this.g=this.target=N,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,N=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const _=()=>{};c.addEventListener("test",_,N),c.removeEventListener("test",_,N)}catch{}return p})();function O(p){return/^[\s\xa0]*$/.test(p)}function te(p,N){C.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,N)}b(te,C),te.prototype.init=function(p,N){const _=this.type=p.type,F=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=N,N=p.relatedTarget,N||(_=="mouseover"?N=p.fromElement:_=="mouseout"&&(N=p.toElement)),this.relatedTarget=N,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var J="closure_listenable_"+(Math.random()*1e6|0),q=0;function X(p,N,_,F,W){this.listener=p,this.proxy=null,this.src=N,this.type=_,this.capture=!!F,this.ha=W,this.key=++q,this.da=this.fa=!1}function he(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ye(p,N,_){for(const F in p)N.call(_,p[F],F,p)}function $(p,N){for(const _ in p)N.call(void 0,p[_],_,p)}function re(p){const N={};for(const _ in p)N[_]=p[_];return N}const ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(p,N){let _,F;for(let W=1;W<arguments.length;W++){F=arguments[W];for(_ in F)p[_]=F[_];for(let ae=0;ae<ge.length;ae++)_=ge[ae],Object.prototype.hasOwnProperty.call(F,_)&&(p[_]=F[_])}}function Te(p){this.src=p,this.g={},this.h=0}Te.prototype.add=function(p,N,_,F,W){const ae=p.toString();p=this.g[ae],p||(p=this.g[ae]=[],this.h++);const Ne=$e(p,N,F,W);return Ne>-1?(N=p[Ne],_||(N.fa=!1)):(N=new X(N,this.src,ae,!!F,W),N.fa=_,p.push(N)),N};function Ue(p,N){const _=N.type;if(_ in p.g){var F=p.g[_],W=Array.prototype.indexOf.call(F,N,void 0),ae;(ae=W>=0)&&Array.prototype.splice.call(F,W,1),ae&&(he(N),p.g[_].length==0&&(delete p.g[_],p.h--))}}function $e(p,N,_,F){for(let W=0;W<p.length;++W){const ae=p[W];if(!ae.da&&ae.listener==N&&ae.capture==!!_&&ae.ha==F)return W}return-1}var ut="closure_lm_"+(Math.random()*1e6|0),Nt={};function bt(p,N,_,F,W){if(Array.isArray(N)){for(let ae=0;ae<N.length;ae++)bt(p,N[ae],_,F,W);return null}return _=we(_),p&&p[J]?p.J(N,_,d(F)?!!F.capture:!1,W):wn(p,N,_,!1,F,W)}function wn(p,N,_,F,W,ae){if(!N)throw Error("Invalid event type");const Ne=d(W)?!!W.capture:!!W;let He=qe(p);if(He||(p[ut]=He=new Te(p)),_=He.add(N,_,F,Ne,ae),_.proxy)return _;if(F=Nn(),_.proxy=F,F.src=p,F.listener=_,p.addEventListener)P||(W=Ne),W===void 0&&(W=!1),p.addEventListener(N.toString(),F,W);else if(p.attachEvent)p.attachEvent(be(N.toString()),F);else if(p.addListener&&p.removeListener)p.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Nn(){function p(_){return N.call(p.src,p.listener,_)}const N=ke;return p}function An(p,N,_,F,W){if(Array.isArray(N))for(var ae=0;ae<N.length;ae++)An(p,N[ae],_,F,W);else F=d(F)?!!F.capture:!!F,_=we(_),p&&p[J]?(p=p.i,ae=String(N).toString(),ae in p.g&&(N=p.g[ae],_=$e(N,_,F,W),_>-1&&(he(N[_]),Array.prototype.splice.call(N,_,1),N.length==0&&(delete p.g[ae],p.h--)))):p&&(p=qe(p))&&(N=p.g[N.toString()],p=-1,N&&(p=$e(N,_,F,W)),(_=p>-1?N[p]:null)&&pe(_))}function pe(p){if(typeof p!="number"&&p&&!p.da){var N=p.src;if(N&&N[J])Ue(N.i,p);else{var _=p.type,F=p.proxy;N.removeEventListener?N.removeEventListener(_,F,p.capture):N.detachEvent?N.detachEvent(be(_),F):N.addListener&&N.removeListener&&N.removeListener(F),(_=qe(N))?(Ue(_,p),_.h==0&&(_.src=null,N[ut]=null)):he(p)}}}function be(p){return p in Nt?Nt[p]:Nt[p]="on"+p}function ke(p,N){if(p.da)p=!0;else{N=new te(N,this);const _=p.listener,F=p.ha||p.src;p.fa&&pe(p),p=_.call(F,N)}return p}function qe(p){return p=p[ut],p instanceof Te?p:null}var Zt="__closure_events_fn_"+(Math.random()*1e9>>>0);function we(p){return typeof p=="function"?p:(p[Zt]||(p[Zt]=function(N){return p.handleEvent(N)}),p[Zt])}function je(){T.call(this),this.i=new Te(this),this.M=this,this.G=null}b(je,T),je.prototype[J]=!0,je.prototype.removeEventListener=function(p,N,_,F){An(this,p,N,_,F)};function Ae(p,N){var _,F=p.G;if(F)for(_=[];F;F=F.G)_.push(F);if(p=p.M,F=N.type||N,typeof N=="string")N=new C(N,p);else if(N instanceof C)N.target=N.target||p;else{var W=N;N=new C(F,p),z(N,W)}W=!0;let ae,Ne;if(_)for(Ne=_.length-1;Ne>=0;Ne--)ae=N.g=_[Ne],W=We(ae,F,!0,N)&&W;if(ae=N.g=p,W=We(ae,F,!0,N)&&W,W=We(ae,F,!1,N)&&W,_)for(Ne=0;Ne<_.length;Ne++)ae=N.g=_[Ne],W=We(ae,F,!1,N)&&W}je.prototype.N=function(){if(je.Z.N.call(this),this.i){var p=this.i;for(const N in p.g){const _=p.g[N];for(let F=0;F<_.length;F++)he(_[F]);delete p.g[N],p.h--}}this.G=null},je.prototype.J=function(p,N,_,F){return this.i.add(String(p),N,!1,_,F)},je.prototype.K=function(p,N,_,F){return this.i.add(String(p),N,!0,_,F)};function We(p,N,_,F){if(N=p.i.g[String(N)],!N)return!0;N=N.concat();let W=!0;for(let ae=0;ae<N.length;++ae){const Ne=N[ae];if(Ne&&!Ne.da&&Ne.capture==_){const He=Ne.listener,Gt=Ne.ha||Ne.src;Ne.fa&&Ue(p.i,Ne),W=He.call(Gt,F)!==!1&&W}}return W&&!F.defaultPrevented}function kn(p,N){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(N)>2147483647?-1:c.setTimeout(p,N||0)}function fn(p){p.g=kn(()=>{p.g=null,p.i&&(p.i=!1,fn(p))},p.l);const N=p.h;p.h=null,p.m.apply(null,N)}class Vt extends T{constructor(N,_){super(),this.m=N,this.l=_,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:fn(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ka(p){T.call(this),this.h=p,this.g={}}b(Ka,T);var ce=[];function ve(p){ye(p.g,function(N,_){this.g.hasOwnProperty(_)&&pe(N)},p),p.g={}}Ka.prototype.N=function(){Ka.Z.N.call(this),ve(this)},Ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Me=c.JSON.stringify,Ke=c.JSON.parse,dt=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function Fn(){}function As(){}var Ht={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ut(){C.call(this,"d")}b(Ut,C);function jn(){C.call(this,"c")}b(jn,C);var rt={},Qs=null;function Bn(){return Qs=Qs||new je}rt.Ia="serverreachability";function Rd(p){C.call(this,rt.Ia,p)}b(Rd,C);function fa(p){const N=Bn();Ae(N,new Rd(N))}rt.STAT_EVENT="statevent";function Fr(p,N){C.call(this,rt.STAT_EVENT,p),this.stat=N}b(Fr,C);function en(p){const N=Bn();Ae(N,new Fr(N,p))}rt.Ja="timingevent";function pa(p,N){C.call(this,rt.Ja,p),this.size=N}b(pa,C);function ga(p,N){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},N)}function Ks(){this.g=!0}Ks.prototype.ua=function(){this.g=!1};function Yf(p,N,_,F,W,ae){p.info(function(){if(p.g)if(ae){var Ne="",He=ae.split("&");for(let pt=0;pt<He.length;pt++){var Gt=He[pt].split("=");if(Gt.length>1){const Pt=Gt[0];Gt=Gt[1];const Ds=Pt.split("_");Ne=Ds.length>=2&&Ds[1]=="type"?Ne+(Pt+"="+Gt+"&"):Ne+(Pt+"=redacted&")}}}else Ne=null;else Ne=ae;return"XMLHTTP REQ ("+F+") [attempt "+W+"]: "+N+`
`+_+`
`+Ne})}function Id(p,N,_,F,W,ae,Ne){p.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+W+"]: "+N+`
`+_+`
`+ae+" "+Ne})}function xa(p,N,_,F){p.info(function(){return"XMLHTTP TEXT ("+N+"): "+Qf(p,_)+(F?" "+F:"")})}function Br(p,N){p.info(function(){return"TIMEOUT: "+N})}Ks.prototype.info=function(){};function Qf(p,N){if(!p.g)return N;if(!N)return null;try{const ae=JSON.parse(N);if(ae){for(p=0;p<ae.length;p++)if(Array.isArray(ae[p])){var _=ae[p];if(!(_.length<2)){var F=_[1];if(Array.isArray(F)&&!(F.length<1)){var W=F[0];if(W!="noop"&&W!="stop"&&W!="close")for(let Ne=1;Ne<F.length;Ne++)F[Ne]=""}}}}return Me(ae)}catch{return N}}var $r={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Sc;function qr(){}b(qr,Fn),qr.prototype.g=function(){return new XMLHttpRequest},Sc=new qr;function Wa(p){return encodeURIComponent(String(p))}function Dd(p){var N=1;p=p.split(":");const _=[];for(;N>0&&p.length;)_.push(p.shift()),N--;return p.length&&_.push(p.join(":")),_}function Ws(p,N,_,F){this.j=p,this.i=N,this.l=_,this.S=F||1,this.V=new Ka(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xs}function Xs(){this.i=null,this.g="",this.h=!1}var tn={},Sn={};function ba(p,N,_){p.M=1,p.A=Hr(sn(N)),p.u=_,p.R=!0,Fl(p,null)}function Fl(p,N){p.F=Date.now(),ya(p),p.B=sn(p.A);var _=p.B,F=p.S;Array.isArray(F)||(F=[String(F)]),Hl(_.i,"t",F),p.C=0,_=p.j.L,p.h=new Xs,p.g=Qd(p.j,_?N:null,!p.u),p.P>0&&(p.O=new Vt(f(p.Y,p,p.g),p.P)),N=p.V,_=p.g,F=p.ba;var W="readystatechange";Array.isArray(W)||(W&&(ce[0]=W.toString()),W=ce);for(let ae=0;ae<W.length;ae++){const Ne=bt(_,W[ae],F||N.handleEvent,!1,N.h||N);if(!Ne)break;N.g[Ne.key]=Ne}N=p.J?re(p.J):{},p.u?(p.v||(p.v="POST"),N["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,N)):(p.v="GET",p.g.ea(p.B,p.v,null,N)),fa(),Yf(p.i,p.v,p.B,p.l,p.S,p.u)}Ws.prototype.ba=function(p){p=p.target;const N=this.O;N&&ea(p)==3?N.j():this.Y(p)},Ws.prototype.Y=function(p){try{if(p==this.g)e:{const He=ea(this.g),Gt=this.g.ya(),pt=this.g.ca();if(!(He<3)&&(He!=3||this.g&&(this.h.h||this.g.la()||Rn(this.g)))){this.K||He!=4||Gt==7||(Gt==8||pt<=0?fa(3):fa(2)),va(this);var N=this.g.ca();this.X=N;var _=Kf(this);if(this.o=N==200,Id(this.i,this.v,this.B,this.l,this.S,He,N),this.o){if(this.U&&!this.L){t:{if(this.g){var F,W=this.g;if((F=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(F)){var ae=F;break t}}ae=null}if(p=ae)xa(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wa(this,p);else{this.o=!1,this.m=3,en(12),ps(this),ks(this);break e}}if(this.R){p=!0;let Pt;for(;!this.K&&this.C<_.length;)if(Pt=Od(this,_),Pt==Sn){He==4&&(this.m=4,en(14),p=!1),xa(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==tn){this.m=4,en(15),xa(this.i,this.l,_,"[Invalid Chunk]"),p=!1;break}else xa(this.i,this.l,Pt,null),wa(this,Pt);if(Md(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),He!=4||_.length!=0||this.h.h||(this.m=1,en(16),p=!1),this.o=this.o&&p,!p)xa(this.i,this.l,_,"[Invalid Chunked Response]"),ps(this),ks(this);else if(_.length>0&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.aa&&!Ne.P&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Uc(Ne),Ne.P=!0,en(11))}}else xa(this.i,this.l,_,null),wa(this,_);He==4&&ps(this),this.o&&!this.K&&(He==4?qd(this.j,this):(this.o=!1,ya(this)))}else Ja(this.g),N==400&&_.indexOf("Unknown SID")>0?(this.m=3,en(12)):(this.m=0,en(13)),ps(this),ks(this)}}}catch{}finally{}};function Kf(p){if(!Md(p))return p.g.la();const N=Rn(p.g);if(N==="")return"";let _="";const F=N.length,W=ea(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return ps(p),ks(p),"";p.h.i=new c.TextDecoder}for(let ae=0;ae<F;ae++)p.h.h=!0,_+=p.h.i.decode(N[ae],{stream:!(W&&ae==F-1)});return N.length=0,p.h.g+=_,p.C=0,p.h.g}function Md(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function Od(p,N){var _=p.C,F=N.indexOf(`
`,_);return F==-1?Sn:(_=Number(N.substring(_,F)),isNaN(_)?tn:(F+=1,F+_>N.length?Sn:(N=N.slice(F,F+_),p.C=F+_,N)))}Ws.prototype.cancel=function(){this.K=!0,ps(this)};function ya(p){p.T=Date.now()+p.H,Bl(p,p.H)}function Bl(p,N){if(p.D!=null)throw Error("WatchDog timer not null");p.D=ga(f(p.aa,p),N)}function va(p){p.D&&(c.clearTimeout(p.D),p.D=null)}Ws.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(Br(this.i,this.B),this.M!=2&&(fa(),en(17)),ps(this),this.m=2,ks(this)):Bl(this,this.T-p)};function ks(p){p.j.I==0||p.K||qd(p.j,p)}function ps(p){va(p);var N=p.O;N&&typeof N.dispose=="function"&&N.dispose(),p.O=null,ve(p.V),p.g&&(N=p.g,p.g=null,N.abort(),N.dispose())}function wa(p,N){try{var _=p.j;if(_.I!=0&&(_.g==p||ja(_.h,p))){if(!p.L&&ja(_.h,p)&&_.I==3){try{var F=_.Ba.g.parse(N)}catch{F=null}if(Array.isArray(F)&&F.length==3){var W=F;if(W[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<p.F)Wl(_),Bi(_);else break e;Jr(_),en(18)}}else _.xa=W[1],0<_.xa-_.K&&W[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ga(f(_.Va,_),6e3));Na(_.h)<=1&&_.ta&&(_.ta=void 0)}else Aa(_,11)}else if((p.L||_.g==p)&&Wl(_),!O(N))for(W=_.Ba.g.parse(N),N=0;N<W.length;N++){let pt=W[N];const Pt=pt[0];if(!(Pt<=_.K))if(_.K=Pt,pt=pt[1],_.I==2)if(pt[0]=="c"){_.M=pt[1],_.ba=pt[2];const Ds=pt[3];Ds!=null&&(_.ka=Ds,_.j.info("VER="+_.ka));const ka=pt[4];ka!=null&&(_.za=ka,_.j.info("SVER="+_.za));const ta=pt[5];ta!=null&&typeof ta=="number"&&ta>0&&(F=1.5*ta,_.O=F,_.j.info("backChannelRequestTimeoutMs_="+F)),F=_;const na=p.g;if(na){const Zr=na.g?na.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zr){var ae=F.h;ae.g||Zr.indexOf("spdy")==-1&&Zr.indexOf("quic")==-1&&Zr.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(Ec(ae,ae.h),ae.h=null))}if(F.G){const Xl=na.g?na.g.getResponseHeader("X-HTTP-Session-Id"):null;Xl&&(F.wa=Xl,yt(F.J,F.G,Xl))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-p.F,_.j.info("Handshake RTT: "+_.T+"ms")),F=_;var Ne=p;if(F.na=Yd(F,F.L?F.ba:null,F.W),Ne.L){Cc(F.h,Ne);var He=Ne,Gt=F.O;Gt&&(He.H=Gt),He.D&&(va(He),ya(He)),F.g=Ne}else Bd(F);_.i.length>0&&Ca(_)}else pt[0]!="stop"&&pt[0]!="close"||Aa(_,7);else _.I==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?Aa(_,7):Lc(_):pt[0]!="noop"&&_.l&&_.l.qa(pt),_.A=0)}}fa(4)}catch{}}var nn=class{constructor(p,N){this.g=p,this.map=N}};function _c(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tc(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Na(p){return p.h?1:p.g?p.g.size:0}function ja(p,N){return p.h?p.h==N:p.g?p.g.has(N):!1}function Ec(p,N){p.g?p.g.add(N):p.h=N}function Cc(p,N){p.h&&p.h==N?p.h=null:p.g&&p.g.has(N)&&p.g.delete(N)}_c.prototype.cancel=function(){if(this.i=Ac(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Ac(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let N=p.i;for(const _ of p.g.values())N=N.concat(_.G);return N}return w(p.i)}var Pd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $l(p,N){if(p){p=p.split("&");for(let _=0;_<p.length;_++){const F=p[_].indexOf("=");let W,ae=null;F>=0?(W=p[_].substring(0,F),ae=p[_].substring(F+1)):W=p[_],N(W,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function gs(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let N;p instanceof gs?(this.l=p.l,_n(this,p.j),this.o=p.o,this.g=p.g,Oi(this,p.u),this.h=p.h,kc(this,zd(p.i)),this.m=p.m):p&&(N=String(p).match(Pd))?(this.l=!1,_n(this,N[1]||"",!0),this.o=Sa(N[2]||""),this.g=Sa(N[3]||"",!0),Oi(this,N[4]),this.h=Sa(N[5]||"",!0),kc(this,N[6]||"",!0),this.m=Sa(N[7]||"")):(this.l=!1,this.i=new Li(null,this.l))}gs.prototype.toString=function(){const p=[];var N=this.j;N&&p.push(Gr(N,ql,!0),":");var _=this.g;return(_||N=="file")&&(p.push("//"),(N=this.o)&&p.push(Gr(N,ql,!0),"@"),p.push(Wa(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&p.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&p.push("/"),p.push(Gr(_,_.charAt(0)=="/"?Rc:Ld,!0))),(_=this.i.toString())&&p.push("?",_),(_=this.m)&&p.push("#",Gr(_,Vd)),p.join("")},gs.prototype.resolve=function(p){const N=sn(this);let _=!!p.j;_?_n(N,p.j):_=!!p.o,_?N.o=p.o:_=!!p.g,_?N.g=p.g:_=p.u!=null;var F=p.h;if(_)Oi(N,p.u);else if(_=!!p.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var W=N.h.lastIndexOf("/");W!=-1&&(F=N.h.slice(0,W+1)+F)}if(W=F,W==".."||W==".")F="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){F=W.lastIndexOf("/",0)==0,W=W.split("/");const ae=[];for(let Ne=0;Ne<W.length;){const He=W[Ne++];He=="."?F&&Ne==W.length&&ae.push(""):He==".."?((ae.length>1||ae.length==1&&ae[0]!="")&&ae.pop(),F&&Ne==W.length&&ae.push("")):(ae.push(He),F=!0)}F=ae.join("/")}else F=W}return _?N.h=F:_=p.i.toString()!=="",_?kc(N,zd(p.i)):_=!!p.m,_&&(N.m=p.m),N};function sn(p){return new gs(p)}function _n(p,N,_){p.j=_?Sa(N,!0):N,p.j&&(p.j=p.j.replace(/:$/,""))}function Oi(p,N){if(N){if(N=Number(N),isNaN(N)||N<0)throw Error("Bad port number "+N);p.u=N}else p.u=null}function kc(p,N,_){N instanceof Li?(p.i=N,Gl(p.i,p.l)):(_||(N=Gr(N,Pi)),p.i=new Li(N,p.l))}function yt(p,N,_){p.i.set(N,_)}function Hr(p){return yt(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Sa(p,N){return p?N?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Gr(p,N,_){return typeof p=="string"?(p=encodeURI(p).replace(N,ns),_&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function ns(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var ql=/[#\/\?@]/g,Ld=/[#\?:]/g,Rc=/[#\?]/g,Pi=/[#\?@]/g,Vd=/#/g;function Li(p,N){this.h=this.g=null,this.i=p||null,this.j=!!N}function ss(p){p.g||(p.g=new Map,p.h=0,p.i&&$l(p.i,function(N,_){p.add(decodeURIComponent(N.replace(/\+/g," ")),_)}))}t=Li.prototype,t.add=function(p,N){ss(this),this.i=null,p=Vi(this,p);let _=this.g.get(p);return _||this.g.set(p,_=[]),_.push(N),this.h+=1,this};function Ud(p,N){ss(p),N=Vi(p,N),p.g.has(N)&&(p.i=null,p.h-=p.g.get(N).length,p.g.delete(N))}function Ic(p,N){return ss(p),N=Vi(p,N),p.g.has(N)}t.forEach=function(p,N){ss(this),this.g.forEach(function(_,F){_.forEach(function(W){p.call(N,W,F,this)},this)},this)};function Dc(p,N){ss(p);let _=[];if(typeof N=="string")Ic(p,N)&&(_=_.concat(p.g.get(Vi(p,N))));else for(p=Array.from(p.g.values()),N=0;N<p.length;N++)_=_.concat(p[N]);return _}t.set=function(p,N){return ss(this),this.i=null,p=Vi(this,p),Ic(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[N]),this.h+=1,this},t.get=function(p,N){return p?(p=Dc(this,p),p.length>0?String(p[0]):N):N};function Hl(p,N,_){Ud(p,N),_.length>0&&(p.i=null,p.g.set(Vi(p,N),w(_)),p.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],N=Array.from(this.g.keys());for(let F=0;F<N.length;F++){var _=N[F];const W=Wa(_);_=Dc(this,_);for(let ae=0;ae<_.length;ae++){let Ne=W;_[ae]!==""&&(Ne+="="+Wa(_[ae])),p.push(Ne)}}return this.i=p.join("&")};function zd(p){const N=new Li;return N.i=p.i,p.g&&(N.g=new Map(p.g),N.h=p.h),N}function Vi(p,N){return N=String(N),p.j&&(N=N.toLowerCase()),N}function Gl(p,N){N&&!p.j&&(ss(p),p.i=null,p.g.forEach(function(_,F){const W=F.toLowerCase();F!=W&&(Ud(this,F),Hl(this,W,_))},p)),p.j=N}function Js(p,N){const _=new Ks;if(c.Image){const F=new Image;F.onload=x(Rs,_,"TestLoadImage: loaded",!0,N,F),F.onerror=x(Rs,_,"TestLoadImage: error",!1,N,F),F.onabort=x(Rs,_,"TestLoadImage: abort",!1,N,F),F.ontimeout=x(Rs,_,"TestLoadImage: timeout",!1,N,F),c.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=p}else N(!1)}function Mc(p,N){const _=new Ks,F=new AbortController,W=setTimeout(()=>{F.abort(),Rs(_,"TestPingServer: timeout",!1,N)},1e4);fetch(p,{signal:F.signal}).then(ae=>{clearTimeout(W),ae.ok?Rs(_,"TestPingServer: ok",!0,N):Rs(_,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(W),Rs(_,"TestPingServer: error",!1,N)})}function Rs(p,N,_,F,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),F(_)}catch{}}function Ui(){this.g=new dt}function _a(p){this.i=p.Sb||null,this.h=p.ab||!1}b(_a,Fn),_a.prototype.g=function(){return new Yr(this.i,this.h)};function Yr(p,N){je.call(this),this.H=p,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Yr,je),t=Yr.prototype,t.open=function(p,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=N,this.readyState=1,Zs(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const N={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(N.body=p),(this.H||c).fetch(new Request(this.D,N)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zi(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Zs(this)),this.g&&(this.readyState=3,Zs(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yl(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yl(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var N=p.value?p.value:new Uint8Array(0);(N=this.B.decode(N,{stream:!p.done}))&&(this.response=this.responseText+=N)}p.done?zi(this):Zs(this),this.readyState==3&&Yl(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,zi(this))},t.Na=function(p){this.g&&(this.response=p,zi(this))},t.ga=function(){this.g&&zi(this)};function zi(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Zs(p)}t.setRequestHeader=function(p,N){this.A.append(p,N)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],N=this.h.entries();for(var _=N.next();!_.done;)_=_.value,p.push(_[0]+": "+_[1]),_=N.next();return p.join(`\r
`)};function Zs(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Yr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Is(p){let N="";return ye(p,function(_,F){N+=F,N+=":",N+=_,N+=`\r
`}),N}function Qr(p,N,_){e:{for(F in _){var F=!1;break e}F=!0}F||(_=Is(_),typeof p=="string"?_!=null&&Wa(_):yt(p,N,_))}function jt(p){je.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(jt,je);var Ta=/^https?$/i,Oc=["POST","PUT"];t=jt.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,N,_,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);N=N?N.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Sc.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(N,String(p),!0),this.B=!1}catch(ae){Kr(this,ae);return}if(p=_||"",_=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var W in F)_.set(W,F[W]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ae of F.keys())_.set(ae,F.get(ae));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(_.keys()).find(ae=>ae.toLowerCase()=="content-type"),W=c.FormData&&p instanceof c.FormData,!(Array.prototype.indexOf.call(Oc,N,void 0)>=0)||F||W||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,Ne]of _)this.g.setRequestHeader(ae,Ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(ae){Kr(this,ae)}};function Kr(p,N){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=N,p.o=5,Pc(p),Xa(p)}function Pc(p){p.A||(p.A=!0,Ae(p,"complete"),Ae(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Ae(this,"complete"),Ae(this,"abort"),Xa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xa(this,!0)),jt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Wr(this):this.Xa())},t.Xa=function(){Wr(this)};function Wr(p){if(p.h&&typeof o<"u"){if(p.v&&ea(p)==4)setTimeout(p.Ca.bind(p),0);else if(Ae(p,"readystatechange"),ea(p)==4){p.h=!1;try{const ae=p.ca();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var _;if(!(_=N)){var F;if(F=ae===0){let Ne=String(p.D).match(Pd)[1]||null;!Ne&&c.self&&c.self.location&&(Ne=c.self.location.protocol.slice(0,-1)),F=!Ta.test(Ne?Ne.toLowerCase():"")}_=F}if(_)Ae(p,"complete"),Ae(p,"success");else{p.o=6;try{var W=ea(p)>2?p.g.statusText:""}catch{W=""}p.l=W+" ["+p.ca()+"]",Pc(p)}}finally{Xa(p)}}}}function Xa(p,N){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const _=p.g;p.g=null,N||Ae(p,"ready");try{_.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ea(p){return p.g?p.g.readyState:0}t.ca=function(){try{return ea(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var N=this.g.responseText;return p&&N.indexOf(p)==0&&(N=N.substring(p.length)),Ke(N)}};function Rn(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Ja(p){const N={};p=(p.g&&ea(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<p.length;F++){if(O(p[F]))continue;var _=Dd(p[F]);const W=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const ae=N[W]||[];N[W]=ae,ae.push(_)}$(N,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ea(p,N,_){return _&&_.internalChannelParams&&_.internalChannelParams[p]||N}function Fi(p){this.za=0,this.i=[],this.j=new Ks,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ea("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ea("baseRetryDelayMs",5e3,p),this.Za=Ea("retryDelaySeedMs",1e4,p),this.Ta=Ea("forwardChannelMaxRetries",2,p),this.va=Ea("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new _c(p&&p.concurrentRequestLimit),this.Ba=new Ui,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Fi.prototype,t.ka=8,t.I=1,t.connect=function(p,N,_,F){en(0),this.W=p,this.H=N||{},_&&F!==void 0&&(this.H.OSID=_,this.H.OAID=F),this.F=this.X,this.J=Yd(this,null,this.W),Ca(this)};function Lc(p){if(Ql(p),p.I==3){var N=p.V++,_=sn(p.J);if(yt(_,"SID",p.M),yt(_,"RID",N),yt(_,"TYPE","terminate"),Xr(p,_),N=new Ws(p,p.j,N),N.M=2,N.A=Hr(sn(_)),_=!1,c.navigator&&c.navigator.sendBeacon)try{_=c.navigator.sendBeacon(N.A.toString(),"")}catch{}!_&&c.Image&&(new Image().src=N.A,_=!0),_||(N.g=Qd(N.j,null),N.g.ea(N.A)),N.F=Date.now(),ya(N)}Gd(p)}function Bi(p){p.g&&(Uc(p),p.g.cancel(),p.g=null)}function Ql(p){Bi(p),p.v&&(c.clearTimeout(p.v),p.v=null),Wl(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&c.clearTimeout(p.m),p.m=null)}function Ca(p){if(!Tc(p.h)&&!p.m){p.m=!0;var N=p.Ea;se||A(),G||(se(),G=!0),R.add(N,p),p.D=0}}function Kl(p,N){return Na(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=N.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=ga(f(p.Ea,p,N),Hd(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const W=new Ws(this,this.j,p);let ae=this.o;if(this.U&&(ae?(ae=re(ae),z(ae,this.U)):ae=this.U),this.u!==null||this.R||(W.J=ae,ae=null),this.S)e:{for(var N=0,_=0;_<this.i.length;_++){t:{var F=this.i[_];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(N+=F,N>4096){N=_;break e}if(N===4096||_===this.i.length-1){N=_+1;break e}}N=1e3}else N=1e3;N=Fd(this,W,N),_=sn(this.J),yt(_,"RID",p),yt(_,"CVER",22),this.G&&yt(_,"X-HTTP-Session-Id",this.G),Xr(this,_),ae&&(this.R?N="headers="+Wa(Is(ae))+"&"+N:this.u&&Qr(_,this.u,ae)),Ec(this.h,W),this.Ra&&yt(_,"TYPE","init"),this.S?(yt(_,"$req",N),yt(_,"SID","null"),W.U=!0,ba(W,_,null)):ba(W,_,N),this.I=2}}else this.I==3&&(p?Vc(this,p):this.i.length==0||Tc(this.h)||Vc(this))};function Vc(p,N){var _;N?_=N.l:_=p.V++;const F=sn(p.J);yt(F,"SID",p.M),yt(F,"RID",_),yt(F,"AID",p.K),Xr(p,F),p.u&&p.o&&Qr(F,p.u,p.o),_=new Ws(p,p.j,_,p.D+1),p.u===null&&(_.J=p.o),N&&(p.i=N.G.concat(p.i)),N=Fd(p,_,1e3),_.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Ec(p.h,_),ba(_,F,N)}function Xr(p,N){p.H&&ye(p.H,function(_,F){yt(N,F,_)}),p.l&&ye({},function(_,F){yt(N,F,_)})}function Fd(p,N,_){_=Math.min(p.i.length,_);const F=p.l?f(p.l.Ka,p.l,p):null;e:{var W=p.i;let He=-1;for(;;){const Gt=["count="+_];He==-1?_>0?(He=W[0].g,Gt.push("ofs="+He)):He=0:Gt.push("ofs="+He);let pt=!0;for(let Pt=0;Pt<_;Pt++){var ae=W[Pt].g;const Ds=W[Pt].map;if(ae-=He,ae<0)He=Math.max(0,W[Pt].g-100),pt=!1;else try{ae="req"+ae+"_"||"";try{var Ne=Ds instanceof Map?Ds:Object.entries(Ds);for(const[ka,ta]of Ne){let na=ta;d(ta)&&(na=Me(ta)),Gt.push(ae+ka+"="+encodeURIComponent(na))}}catch(ka){throw Gt.push(ae+"type="+encodeURIComponent("_badmap")),ka}}catch{F&&F(Ds)}}if(pt){Ne=Gt.join("&");break e}}Ne=void 0}return p=p.i.splice(0,_),N.G=p,Ne}function Bd(p){if(!p.g&&!p.v){p.Y=1;var N=p.Da;se||A(),G||(se(),G=!0),R.add(N,p),p.A=0}}function Jr(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=ga(f(p.Da,p),Hd(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,$d(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=ga(f(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,en(10),Bi(this),$d(this))};function Uc(p){p.B!=null&&(c.clearTimeout(p.B),p.B=null)}function $d(p){p.g=new Ws(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var N=sn(p.na);yt(N,"RID","rpc"),yt(N,"SID",p.M),yt(N,"AID",p.K),yt(N,"CI",p.F?"0":"1"),!p.F&&p.ia&&yt(N,"TO",p.ia),yt(N,"TYPE","xmlhttp"),Xr(p,N),p.u&&p.o&&Qr(N,p.u,p.o),p.O&&(p.g.H=p.O);var _=p.g;p=p.ba,_.M=1,_.A=Hr(sn(N)),_.u=null,_.R=!0,Fl(_,p)}t.Va=function(){this.C!=null&&(this.C=null,Bi(this),Jr(this),en(19))};function Wl(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function qd(p,N){var _=null;if(p.g==N){Wl(p),Uc(p),p.g=null;var F=2}else if(ja(p.h,N))_=N.G,Cc(p.h,N),F=1;else return;if(p.I!=0){if(N.o)if(F==1){_=N.u?N.u.length:0,N=Date.now()-N.F;var W=p.D;F=Bn(),Ae(F,new pa(F,_)),Ca(p)}else Bd(p);else if(W=N.m,W==3||W==0&&N.X>0||!(F==1&&Kl(p,N)||F==2&&Jr(p)))switch(_&&_.length>0&&(N=p.h,N.i=N.i.concat(_)),W){case 1:Aa(p,5);break;case 4:Aa(p,10);break;case 3:Aa(p,6);break;default:Aa(p,2)}}}function Hd(p,N){let _=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(_*=2),_*N}function Aa(p,N){if(p.j.info("Error code "+N),N==2){var _=f(p.bb,p),F=p.Ua;const W=!F;F=new gs(F||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||_n(F,"https"),Hr(F),W?Js(F.toString(),_):Mc(F.toString(),_)}else en(2);p.I=0,p.l&&p.l.pa(N),Gd(p),Ql(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function Gd(p){if(p.I=0,p.ja=[],p.l){const N=Ac(p.h);(N.length!=0||p.i.length!=0)&&(j(p.ja,N),j(p.ja,p.i),p.h.i.length=0,w(p.i),p.i.length=0),p.l.oa()}}function Yd(p,N,_){var F=_ instanceof gs?sn(_):new gs(_);if(F.g!="")N&&(F.g=N+"."+F.g),Oi(F,F.u);else{var W=c.location;F=W.protocol,N=N?N+"."+W.hostname:W.hostname,W=+W.port;const ae=new gs(null);F&&_n(ae,F),N&&(ae.g=N),W&&Oi(ae,W),_&&(ae.h=_),F=ae}return _=p.G,N=p.wa,_&&N&&yt(F,_,N),yt(F,"VER",p.ka),Xr(p,F),F}function Qd(p,N,_){if(N&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return N=p.Aa&&!p.ma?new jt(new _a({ab:_})):new jt(p.ma),N.Fa(p.L),N}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kd(){}t=Kd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function $i(){}$i.prototype.g=function(p,N){return new Xn(p,N)};function Xn(p,N){je.call(this),this.g=new Fi(N),this.l=p,this.h=N&&N.messageUrlParams||null,p=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(p?p["X-WebChannel-Content-Type"]=N.messageContentType:p={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.sa&&(p?p["X-WebChannel-Client-Profile"]=N.sa:p={"X-WebChannel-Client-Profile":N.sa}),this.g.U=p,(p=N&&N.Qb)&&!O(p)&&(this.g.u=p),this.A=N&&N.supportsCrossDomainXhr||!1,this.v=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!O(N)&&(this.g.G=N,p=this.h,p!==null&&N in p&&(p=this.h,N in p&&delete p[N])),this.j=new Za(this)}b(Xn,je),Xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Xn.prototype.close=function(){Lc(this.g)},Xn.prototype.o=function(p){var N=this.g;if(typeof p=="string"){var _={};_.__data__=p,p=_}else this.v&&(_={},_.__data__=Me(p),p=_);N.i.push(new nn(N.Ya++,p)),N.I==3&&Ca(N)},Xn.prototype.N=function(){this.g.l=null,delete this.j,Lc(this.g),delete this.g,Xn.Z.N.call(this)};function Wd(p){Ut.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var N=p.__sm__;if(N){e:{for(const _ in N){p=_;break e}p=void 0}(this.i=p)&&(p=this.i,N=N!==null&&p in N?N[p]:void 0),this.data=N}else this.data=p}b(Wd,Ut);function Xd(){jn.call(this),this.status=1}b(Xd,jn);function Za(p){this.g=p}b(Za,Kd),Za.prototype.ra=function(){Ae(this.g,"a")},Za.prototype.qa=function(p){Ae(this.g,new Wd(p))},Za.prototype.pa=function(p){Ae(this.g,new Xd)},Za.prototype.oa=function(){Ae(this.g,"b")},$i.prototype.createWebChannel=$i.prototype.g,Xn.prototype.send=Xn.prototype.o,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,V5=function(){return new $i},L5=function(){return Bn()},P5=rt,$g={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$r.NO_ERROR=0,$r.TIMEOUT=8,$r.HTTP_ERROR=6,Nm=$r,jc.COMPLETE="complete",O5=jc,As.EventType=Ht,Ht.OPEN="a",Ht.CLOSE="b",Ht.ERROR="c",Ht.MESSAGE="d",je.prototype.listen=je.prototype.J,Ru=As,jt.prototype.listenOnce=jt.prototype.K,jt.prototype.getLastError=jt.prototype.Ha,jt.prototype.getLastErrorCode=jt.prototype.ya,jt.prototype.getStatus=jt.prototype.ca,jt.prototype.getResponseJson=jt.prototype.La,jt.prototype.getResponseText=jt.prototype.la,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Fa,M5=jt}).apply(typeof nm<"u"?nm:typeof self<"u"?self:typeof window<"u"?window:{});const t2="@firebase/firestore",n2="4.9.2";class qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");let hc="12.3.0";const El=new kx("@firebase/firestore");function Io(){return El.logLevel}function _e(t,...e){if(El.logLevel<=st.DEBUG){const n=e.map($x);El.debug(`Firestore (${hc}): ${t}`,...n)}}function Ci(t,...e){if(El.logLevel<=st.ERROR){const n=e.map($x);El.error(`Firestore (${hc}): ${t}`,...n)}}function Qo(t,...e){if(El.logLevel<=st.WARN){const n=e.map($x);El.warn(`Firestore (${hc}): ${t}`,...n)}}function $x(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ve(t,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,U5(t,a,n)}function U5(t,e,n){let a=`FIRESTORE (${hc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Ci(a),new Error(a)}function xt(t,e,n,a){let r="Unexpected state";typeof n=="string"?r=n:a=n,t||U5(e,r,a)}function Fe(t,e){return t}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class z5{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(qn.UNAUTHENTICATED)))}shutdown(){}}class G6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Y6{constructor(e){this.t=e,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xt(this.o===void 0,42304);let a=this.i;const r=m=>this.i!==a?(a=this.i,n(m)):Promise.resolve();let o=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new vi,e.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const m=o;e.enqueueRetryable((async()=>{await m.promise,await r(this.currentUser)}))},d=m=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new vi)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(xt(typeof a.accessToken=="string",31837,{l:a}),new z5(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string",2055,{h:e}),new qn(e)}}class Q6{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class K6{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new Q6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(qn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class s2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_s(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xt(this.o===void 0,3512);const a=o=>{o.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,_e("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>a(o)))};const r=o=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new s2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new s2(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function X6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<t;a++)n[a]=Math.floor(256*Math.random());return n}class qx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const r=X6(40);for(let o=0;o<r.length;++o)a.length<20&&r[o]<n&&(a+=e.charAt(r[o]%62))}return a}}function at(t,e){return t<e?-1:t>e?1:0}function qg(t,e){const n=Math.min(t.length,e.length);for(let a=0;a<n;a++){const r=t.charAt(a),o=e.charAt(a);if(r!==o)return Zp(r)===Zp(o)?at(r,o):Zp(r)?1:-1}return at(t.length,e.length)}const J6=55296,Z6=57343;function Zp(t){const e=t.charCodeAt(0);return e>=J6&&e<=Z6}function Ko(t,e,n){return t.length===e.length&&t.every(((a,r)=>n(a,e[r])))}const a2="__name__";class Pa{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Ve(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Pa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pa?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let r=0;r<a;r++){const o=Pa.compareSegments(e.get(r),n.get(r));if(o!==0)return o}return at(e.length,n.length)}static compareSegments(e,n){const a=Pa.isNumericId(e),r=Pa.isNumericId(n);return a&&!r?-1:!a&&r?1:a&&r?Pa.extractNumericId(e).compare(Pa.extractNumericId(n)):qg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jr.fromString(e.substring(4,e.length-2))}}class Rt extends Pa{construct(e,n,a){return new Rt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new Se(de.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((r=>r.length>0)))}return new Rt(n)}static emptyPath(){return new Rt([])}}const eD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ln extends Pa{construct(e,n,a){return new Ln(e,n,a)}static isValidIdentifier(e){return eD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a2}static keyField(){return new Ln([a2])}static fromServerFormat(e){const n=[];let a="",r=0;const o=()=>{if(a.length===0)throw new Se(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let c=!1;for(;r<e.length;){const d=e[r];if(d==="\\"){if(r+1===e.length)throw new Se(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[r+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Se(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=m,r+=2}else d==="`"?(c=!c,r++):d!=="."||c?(a+=d,r++):(o(),r++)}if(o(),c)throw new Se(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ln(n)}static emptyPath(){return new Ln([])}}class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Rt.fromString(e))}static fromName(e){return new Ie(Rt.fromString(e).popFirst(5))}static empty(){return new Ie(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Rt(e.slice()))}}function F5(t,e,n){if(!n)throw new Se(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tD(t,e,n,a){if(e===!0&&a===!0)throw new Se(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function i2(t){if(!Ie.isDocumentKey(t))throw new Se(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function r2(t){if(Ie.isDocumentKey(t))throw new Se(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function B5(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve(12329,{type:typeof t})}function da(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vf(t);throw new Se(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function nD(t,e){if(e<=0)throw new Se(de.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function hn(t,e){const n={typeString:t};return e&&(n.value=e),n}function vd(t,e){if(!B5(t))throw new Se(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const r=e[a].typeString,o="value"in e[a]?{value:e[a].value}:void 0;if(!(a in t)){n=`JSON missing required field: '${a}'`;break}const c=t[a];if(r&&typeof c!==r){n=`JSON field '${a}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){n=`Expected '${a}' field to equal '${o.value}'`;break}}if(n)throw new Se(de.INVALID_ARGUMENT,n);return!0}const l2=-62135596800,o2=1e6;class Mt{static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*o2);return new Mt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<l2)throw new Se(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/o2}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vd(e,Mt._jsonSchema))return new Mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-l2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Mt._jsonSchemaVersion="firestore/timestamp/1.0",Mt._jsonSchema={type:hn("string",Mt._jsonSchemaVersion),seconds:hn("number"),nanoseconds:hn("number")};class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new Mt(0,0))}static max(){return new ze(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ju=-1;function sD(t,e){const n=t.toTimestamp().seconds,a=t.toTimestamp().nanoseconds+1,r=ze.fromTimestamp(a===1e9?new Mt(n+1,0):new Mt(n,a));return new Cr(r,Ie.empty(),e)}function aD(t){return new Cr(t.readTime,t.key,Ju)}class Cr{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Cr(ze.min(),Ie.empty(),Ju)}static max(){return new Cr(ze.max(),Ie.empty(),Ju)}}function iD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:at(t.largestBatchId,e.largestBatchId))}const rD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function mc(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==rD)throw t;_e("LocalStore","Unexpectedly lost primary lease")}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe(((a,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(a,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(a,r)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.reject(n)}static resolve(e){return new fe(((n,a)=>{n(e)}))}static reject(e){return new fe(((n,a)=>{a(e)}))}static waitFor(e){return new fe(((n,a)=>{let r=0,o=0,c=!1;e.forEach((d=>{++r,d.next((()=>{++o,c&&o===r&&n()}),(m=>a(m)))})),c=!0,o===r&&n()}))}static or(e){let n=fe.resolve(!1);for(const a of e)n=n.next((r=>r?fe.resolve(r):a()));return n}static forEach(e,n){const a=[];return e.forEach(((r,o)=>{a.push(n.call(this,r,o))})),this.waitFor(a)}static mapArray(e,n){return new fe(((a,r)=>{const o=e.length,c=new Array(o);let d=0;for(let m=0;m<o;m++){const f=m;n(e[f]).next((x=>{c[f]=x,++d,d===o&&a(c)}),(x=>r(x)))}}))}static doWhile(e,n){return new fe(((a,r)=>{const o=()=>{e()===!0?n().next((()=>{o()}),r):a()};o()}))}}function oD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fc(t){return t.name==="IndexedDbTransactionError"}class wf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wf.ce=-1;const Hx=-1;function Nf(t){return t==null}function zm(t){return t===0&&1/t==-1/0}function cD(t){return typeof t=="number"&&Number.isInteger(t)&&!zm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const $5="";function uD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=c2(e)),e=dD(t.get(n),e);return c2(e)}function dD(t,e){let n=e;const a=t.length;for(let r=0;r<a;r++){const o=t.charAt(r);switch(o){case"\0":n+="";break;case $5:n+="";break;default:n+=o}}return n}function c2(t){return t+$5+""}function u2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Lr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function q5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class zt{constructor(e,n){this.comparator=e,this.root=n||Pn.EMPTY}insert(e,n){return new zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const r=this.comparator(e,a.key);if(r===0)return n+a.left.size;r<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sm(this.root,e,this.comparator,!1)}getReverseIterator(){return new sm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sm(this.root,e,this.comparator,!0)}}class sm{constructor(e,n,a,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?a(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pn{constructor(e,n,a,r,o){this.key=e,this.value=n,this.color=a??Pn.RED,this.left=r??Pn.EMPTY,this.right=o??Pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,r,o){return new Pn(e??this.key,n??this.value,a??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let r=this;const o=a(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,a),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,a)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Pn.EMPTY;a=r.right.min(),r=r.copy(a.key,a.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1;Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,a,r,o){return this}insert(e,n,a){return new Pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bn{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const r=a.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new d2(this.data.getIterator())}getIteratorFrom(e){return new d2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof bn)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=a.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new bn(this.comparator);return n.data=e,n}}class d2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ts{constructor(e){this.fields=e,e.sort(Ln.comparator)}static empty(){return new Ts([])}unionWith(e){let n=new bn(Ln.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Ts(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class H5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new H5("Invalid base64 string: "+o):o}})(e);return new Vn(n)}static fromUint8Array(e){const n=(function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o})(e);return new Vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let r=0;r<n.length;r++)a[r]=n.charCodeAt(r);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const hD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(t){if(xt(!!t,39018),typeof t=="string"){let e=0;const n=hD.exec(t);if(xt(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const a=new Date(t);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Kt(t.seconds),nanos:Kt(t.nanos)}}function Kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function kr(t){return typeof t=="string"?Vn.fromBase64String(t):Vn.fromUint8Array(t)}const G5="server_timestamp",Y5="__type__",Q5="__previous_value__",K5="__local_write_time__";function Gx(t){return(t?.mapValue?.fields||{})[Y5]?.stringValue===G5}function jf(t){const e=t.mapValue.fields[Q5];return Gx(e)?jf(e):e}function Zu(t){const e=Ar(t.mapValue.fields[K5].timestampValue);return new Mt(e.seconds,e.nanos)}class mD{constructor(e,n,a,r,o,c,d,m,f,x){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=f,this.isUsingEmulator=x}}const Fm="(default)";class ed{constructor(e,n){this.projectId=e,this.database=n||Fm}static empty(){return new ed("","")}get isDefaultDatabase(){return this.database===Fm}isEqual(e){return e instanceof ed&&e.projectId===this.projectId&&e.database===this.database}}const W5="__type__",fD="__max__",am={mapValue:{}},X5="__vector__",Bm="value";function Rr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gx(t)?4:gD(t)?9007199254740991:pD(t)?10:11:Ve(28295,{value:t})}function Ya(t,e){if(t===e)return!0;const n=Rr(t);if(n!==Rr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zu(t).isEqual(Zu(e));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Ar(r.timestampValue),d=Ar(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(r,o){return kr(r.bytesValue).isEqual(kr(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(r,o){return Kt(r.geoPointValue.latitude)===Kt(o.geoPointValue.latitude)&&Kt(r.geoPointValue.longitude)===Kt(o.geoPointValue.longitude)})(t,e);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return Kt(r.integerValue)===Kt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=Kt(r.doubleValue),d=Kt(o.doubleValue);return c===d?zm(c)===zm(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Ko(t.arrayValue.values||[],e.arrayValue.values||[],Ya);case 10:case 11:return(function(r,o){const c=r.mapValue.fields||{},d=o.mapValue.fields||{};if(u2(c)!==u2(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Ya(c[m],d[m])))return!1;return!0})(t,e);default:return Ve(52216,{left:t})}}function td(t,e){return(t.values||[]).find((n=>Ya(n,e)))!==void 0}function Wo(t,e){if(t===e)return 0;const n=Rr(t),a=Rr(e);if(n!==a)return at(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return at(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const d=Kt(o.integerValue||o.doubleValue),m=Kt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return h2(t.timestampValue,e.timestampValue);case 4:return h2(Zu(t),Zu(e));case 5:return qg(t.stringValue,e.stringValue);case 6:return(function(o,c){const d=kr(o),m=kr(c);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const d=o.split("/"),m=c.split("/");for(let f=0;f<d.length&&f<m.length;f++){const x=at(d[f],m[f]);if(x!==0)return x}return at(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const d=at(Kt(o.latitude),Kt(c.latitude));return d!==0?d:at(Kt(o.longitude),Kt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return m2(t.arrayValue,e.arrayValue);case 10:return(function(o,c){const d=o.fields||{},m=c.fields||{},f=d[Bm]?.arrayValue,x=m[Bm]?.arrayValue,b=at(f?.values?.length||0,x?.values?.length||0);return b!==0?b:m2(f,x)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===am.mapValue&&c===am.mapValue)return 0;if(o===am.mapValue)return 1;if(c===am.mapValue)return-1;const d=o.fields||{},m=Object.keys(d),f=c.fields||{},x=Object.keys(f);m.sort(),x.sort();for(let b=0;b<m.length&&b<x.length;++b){const v=qg(m[b],x[b]);if(v!==0)return v;const w=Wo(d[m[b]],f[x[b]]);if(w!==0)return w}return at(m.length,x.length)})(t.mapValue,e.mapValue);default:throw Ve(23264,{he:n})}}function h2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return at(t,e);const n=Ar(t),a=Ar(e),r=at(n.seconds,a.seconds);return r!==0?r:at(n.nanos,a.nanos)}function m2(t,e){const n=t.values||[],a=e.values||[];for(let r=0;r<n.length&&r<a.length;++r){const o=Wo(n[r],a[r]);if(o)return o}return at(n.length,a.length)}function Xo(t){return Hg(t)}function Hg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const a=Ar(n);return`time(${a.seconds},${a.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return kr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ie.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let a="[",r=!0;for(const o of n.values||[])r?r=!1:a+=",",a+=Hg(o);return a+"]"})(t.arrayValue):"mapValue"in t?(function(n){const a=Object.keys(n.fields||{}).sort();let r="{",o=!0;for(const c of a)o?o=!1:r+=",",r+=`${c}:${Hg(n.fields[c])}`;return r+"}"})(t.mapValue):Ve(61005,{value:t})}function jm(t){switch(Rr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jf(t);return e?16+jm(e):16;case 5:return 2*t.stringValue.length;case 6:return kr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((r,o)=>r+jm(o)),0)})(t.arrayValue);case 10:case 11:return(function(a){let r=0;return Lr(a.fields,((o,c)=>{r+=o.length+jm(c)})),r})(t.mapValue);default:throw Ve(13486,{value:t})}}function f2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Gg(t){return!!t&&"integerValue"in t}function Yx(t){return!!t&&"arrayValue"in t}function p2(t){return!!t&&"nullValue"in t}function g2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sm(t){return!!t&&"mapValue"in t}function pD(t){return(t?.mapValue?.fields||{})[W5]?.stringValue===X5}function Lu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Lr(t.mapValue.fields,((n,a)=>e.mapValue.fields[n]=Lu(a))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lu(t.arrayValue.values[n]);return e}return{...t}}function gD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===fD}class ds{constructor(e){this.value=e}static empty(){return new ds({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Sm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lu(n)}setAll(e){let n=Ln.emptyPath(),a={},r=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,a,r),a={},r=[],n=d.popLast()}c?a[d.lastSegment()]=Lu(c):r.push(d.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,a,r)}delete(e){const n=this.field(e.popLast());Sm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ya(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let r=n.mapValue.fields[e.get(a)];Sm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,a){Lr(n,((r,o)=>e[r]=o));for(const r of a)delete e[r]}clone(){return new ds(Lu(this.value))}}function J5(t){const e=[];return Lr(t.fields,((n,a)=>{const r=new Ln([n]);if(Sm(a)){const o=J5(a.mapValue).fields;if(o.length===0)e.push(r);else for(const c of o)e.push(r.child(c))}else e.push(r)})),new Ts(e)}class Hn{constructor(e,n,a,r,o,c,d){this.key=e,this.documentType=n,this.version=a,this.readTime=r,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Hn(e,0,ze.min(),ze.min(),ze.min(),ds.empty(),0)}static newFoundDocument(e,n,a,r){return new Hn(e,1,n,ze.min(),a,r,0)}static newNoDocument(e,n){return new Hn(e,2,n,ze.min(),ze.min(),ds.empty(),0)}static newUnknownDocument(e,n){return new Hn(e,3,n,ze.min(),ze.min(),ds.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ds.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $m{constructor(e,n){this.position=e,this.inclusive=n}}function x2(t,e,n){let a=0;for(let r=0;r<t.position.length;r++){const o=e[r],c=t.position[r];if(o.field.isKeyField()?a=Ie.comparator(Ie.fromName(c.referenceValue),n.key):a=Wo(c,n.data.field(o.field)),o.dir==="desc"&&(a*=-1),a!==0)break}return a}function b2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ya(t.position[n],e.position[n]))return!1;return!0}class nd{constructor(e,n="asc"){this.field=e,this.dir=n}}function xD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Z5{}class dn extends Z5{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new yD(e,n,a):n==="array-contains"?new ND(e,a):n==="in"?new jD(e,a):n==="not-in"?new SD(e,a):n==="array-contains-any"?new _D(e,a):new dn(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new vD(e,a):new wD(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wo(n,this.value)):n!==null&&Rr(this.value)===Rr(n)&&this.matchesComparison(Wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ha extends Z5{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ha(e,n)}matches(e){return e4(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function e4(t){return t.op==="and"}function t4(t){return bD(t)&&e4(t)}function bD(t){for(const e of t.filters)if(e instanceof ha)return!1;return!0}function Yg(t){if(t instanceof dn)return t.field.canonicalString()+t.op.toString()+Xo(t.value);if(t4(t))return t.filters.map((e=>Yg(e))).join(",");{const e=t.filters.map((n=>Yg(n))).join(",");return`${t.op}(${e})`}}function n4(t,e){return t instanceof dn?(function(a,r){return r instanceof dn&&a.op===r.op&&a.field.isEqual(r.field)&&Ya(a.value,r.value)})(t,e):t instanceof ha?(function(a,r){return r instanceof ha&&a.op===r.op&&a.filters.length===r.filters.length?a.filters.reduce(((o,c,d)=>o&&n4(c,r.filters[d])),!0):!1})(t,e):void Ve(19439)}function s4(t){return t instanceof dn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Xo(n.value)}`})(t):t instanceof ha?(function(n){return n.op.toString()+" {"+n.getFilters().map(s4).join(" ,")+"}"})(t):"Filter"}class yD extends dn{constructor(e,n,a){super(e,n,a),this.key=Ie.fromName(a.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class vD extends dn{constructor(e,n){super(e,"in",n),this.keys=a4("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class wD extends dn{constructor(e,n){super(e,"not-in",n),this.keys=a4("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function a4(t,e){return(e.arrayValue?.values||[]).map((n=>Ie.fromName(n.referenceValue)))}class ND extends dn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yx(n)&&td(n.arrayValue,this.value)}}class jD extends dn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&td(this.value.arrayValue,n)}}class SD extends dn{constructor(e,n){super(e,"not-in",n)}matches(e){if(td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!td(this.value.arrayValue,n)}}class _D extends dn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>td(this.value.arrayValue,a)))}}class TD{constructor(e,n=null,a=[],r=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=r,this.limit=o,this.startAt=c,this.endAt=d,this.Te=null}}function y2(t,e=null,n=[],a=[],r=null,o=null,c=null){return new TD(t,e,n,a,r,o,c)}function Qx(t){const e=Fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>Yg(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(o){return o.field.canonicalString()+o.dir})(a))).join(","),Nf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>Xo(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>Xo(a))).join(",")),e.Te=n}return e.Te}function Kx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!n4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!b2(t.startAt,e.startAt)&&b2(t.endAt,e.endAt)}function Qg(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class pc{constructor(e,n=null,a=[],r=[],o=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=r,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ED(t,e,n,a,r,o,c,d){return new pc(t,e,n,a,r,o,c,d)}function Wx(t){return new pc(t)}function v2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function i4(t){return t.collectionGroup!==null}function Vu(t){const e=Fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new bn(Ln.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((f=>{f.isInequality()&&(d=d.add(f.field))}))})),d})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new nd(o,a))})),n.has(Ln.keyField().canonicalString())||e.Ie.push(new nd(Ln.keyField(),a))}return e.Ie}function Ua(t){const e=Fe(t);return e.Ee||(e.Ee=CD(e,Vu(t))),e.Ee}function CD(t,e){if(t.limitType==="F")return y2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new nd(r.field,o)}));const n=t.endAt?new $m(t.endAt.position,t.endAt.inclusive):null,a=t.startAt?new $m(t.startAt.position,t.startAt.inclusive):null;return y2(t.path,t.collectionGroup,e,t.filters,t.limit,n,a)}}function Kg(t,e){const n=t.filters.concat([e]);return new pc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qm(t,e,n){return new pc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sf(t,e){return Kx(Ua(t),Ua(e))&&t.limitType===e.limitType}function r4(t){return`${Qx(Ua(t))}|lt:${t.limitType}`}function Do(t){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((r=>s4(r))).join(", ")}]`),Nf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((r=>Xo(r))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((r=>Xo(r))).join(",")),`Target(${a})`})(Ua(t))}; limitType=${t.limitType})`}function _f(t,e){return e.isFoundDocument()&&(function(a,r){const o=r.key.path;return a.collectionGroup!==null?r.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(o):Ie.isDocumentKey(a.path)?a.path.isEqual(o):a.path.isImmediateParentOf(o)})(t,e)&&(function(a,r){for(const o of Vu(a))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(a,r){for(const o of a.filters)if(!o.matches(r))return!1;return!0})(t,e)&&(function(a,r){return!(a.startAt&&!(function(c,d,m){const f=x2(c,d,m);return c.inclusive?f<=0:f<0})(a.startAt,Vu(a),r)||a.endAt&&!(function(c,d,m){const f=x2(c,d,m);return c.inclusive?f>=0:f>0})(a.endAt,Vu(a),r))})(t,e)}function AD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function l4(t){return(e,n)=>{let a=!1;for(const r of Vu(t)){const o=kD(r,e,n);if(o!==0)return o;a=a||r.field.isKeyField()}return 0}}function kD(t,e,n){const a=t.field.isKeyField()?Ie.comparator(e.key,n.key):(function(o,c,d){const m=c.data.field(o),f=d.data.field(o);return m!==null&&f!==null?Wo(m,f):Ve(42886)})(t.field,e,n);switch(t.dir){case"asc":return a;case"desc":return-1*a;default:return Ve(19790,{direction:t.dir})}}class Ml{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[r,o]of a)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),r=this.inner[a];if(r===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let r=0;r<a.length;r++)if(this.equalsFn(a[r][0],e))return a.length===1?delete this.inner[n]:a.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Lr(this.inner,((n,a)=>{for(const[r,o]of a)e(r,o)}))}isEmpty(){return q5(this.inner)}size(){return this.innerSize}}const RD=new zt(Ie.comparator);function Ai(){return RD}const o4=new zt(Ie.comparator);function Iu(...t){let e=o4;for(const n of t)e=e.insert(n.key,n);return e}function c4(t){let e=o4;return t.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function vl(){return Uu()}function u4(){return Uu()}function Uu(){return new Ml((t=>t.toString()),((t,e)=>t.isEqual(e)))}const ID=new zt(Ie.comparator),DD=new bn(Ie.comparator);function it(...t){let e=DD;for(const n of t)e=e.add(n);return e}const MD=new bn(at);function OD(){return MD}function Xx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zm(e)?"-0":e}}function d4(t){return{integerValue:""+t}}function PD(t,e){return cD(e)?d4(e):Xx(t,e)}class Tf{constructor(){this._=void 0}}function LD(t,e,n){return t instanceof sd?(function(r,o){const c={fields:{[Y5]:{stringValue:G5},[K5]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Gx(o)&&(o=jf(o)),o&&(c.fields[Q5]=o),{mapValue:c}})(n,e):t instanceof Jo?m4(t,e):t instanceof ad?f4(t,e):(function(r,o){const c=h4(r,o),d=w2(c)+w2(r.Ae);return Gg(c)&&Gg(r.Ae)?d4(d):Xx(r.serializer,d)})(t,e)}function VD(t,e,n){return t instanceof Jo?m4(t,e):t instanceof ad?f4(t,e):n}function h4(t,e){return t instanceof Hm?(function(a){return Gg(a)||(function(o){return!!o&&"doubleValue"in o})(a)})(e)?e:{integerValue:0}:null}class sd extends Tf{}class Jo extends Tf{constructor(e){super(),this.elements=e}}function m4(t,e){const n=p4(e);for(const a of t.elements)n.some((r=>Ya(r,a)))||n.push(a);return{arrayValue:{values:n}}}class ad extends Tf{constructor(e){super(),this.elements=e}}function f4(t,e){let n=p4(e);for(const a of t.elements)n=n.filter((r=>!Ya(r,a)));return{arrayValue:{values:n}}}class Hm extends Tf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function w2(t){return Kt(t.integerValue||t.doubleValue)}function p4(t){return Yx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class g4{constructor(e,n){this.field=e,this.transform=n}}function UD(t,e){return t.field.isEqual(e.field)&&(function(a,r){return a instanceof Jo&&r instanceof Jo||a instanceof ad&&r instanceof ad?Ko(a.elements,r.elements,Ya):a instanceof Hm&&r instanceof Hm?Ya(a.Ae,r.Ae):a instanceof sd&&r instanceof sd})(t.transform,e.transform)}class zD{constructor(e,n){this.version=e,this.transformResults=n}}class qs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qs}static exists(e){return new qs(void 0,e)}static updateTime(e){return new qs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _m(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ef{}function x4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jx(t.key,qs.none()):new wd(t.key,t.data,qs.none());{const n=t.data,a=ds.empty();let r=new bn(Ln.comparator);for(let o of e.fields)if(!r.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?a.delete(o):a.set(o,c),r=r.add(o)}return new Vr(t.key,a,new Ts(r.toArray()),qs.none())}}function FD(t,e,n){t instanceof wd?(function(r,o,c){const d=r.value.clone(),m=j2(r.fieldTransforms,o,c.transformResults);d.setAll(m),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Vr?(function(r,o,c){if(!_m(r.precondition,o))return void o.convertToUnknownDocument(c.version);const d=j2(r.fieldTransforms,o,c.transformResults),m=o.data;m.setAll(b4(r)),m.setAll(d),o.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function zu(t,e,n,a){return t instanceof wd?(function(o,c,d,m){if(!_m(o.precondition,c))return d;const f=o.value.clone(),x=S2(o.fieldTransforms,m,c);return f.setAll(x),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null})(t,e,n,a):t instanceof Vr?(function(o,c,d,m){if(!_m(o.precondition,c))return d;const f=S2(o.fieldTransforms,m,c),x=c.data;return x.setAll(b4(o)),x.setAll(f),c.convertToFoundDocument(c.version,x).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(t,e,n,a):(function(o,c,d){return _m(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function BD(t,e){let n=null;for(const a of t.fieldTransforms){const r=e.data.field(a.field),o=h4(a.transform,r||null);o!=null&&(n===null&&(n=ds.empty()),n.set(a.field,o))}return n||null}function N2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(a,r){return a===void 0&&r===void 0||!(!a||!r)&&Ko(a,r,((o,c)=>UD(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wd extends Ef{constructor(e,n,a,r=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Vr extends Ef{constructor(e,n,a,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function b4(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=t.data.field(n);e.set(n,a)}})),e}function j2(t,e,n){const a=new Map;xt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const o=t[r],c=o.transform,d=e.data.field(o.field);a.set(o.field,VD(c,d,n[r]))}return a}function S2(t,e,n){const a=new Map;for(const r of t){const o=r.transform,c=n.data.field(r.field);a.set(r.field,LD(o,c,e))}return a}class Jx extends Ef{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $D extends Ef{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qD{constructor(e,n,a,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=r}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&FD(o,e,a[r])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=zu(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=zu(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=u4();return this.mutations.forEach((r=>{const o=e.get(r.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=n.has(r.key)?null:d;const m=x4(c,d);m!==null&&a.set(r.key,m),c.isValidDocument()||c.convertToNoDocument(ze.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),it())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,((n,a)=>N2(n,a)))&&Ko(this.baseMutations,e.baseMutations,((n,a)=>N2(n,a)))}}class Zx{constructor(e,n,a,r){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=r}static from(e,n,a){xt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let r=(function(){return ID})();const o=e.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,a[c].version);return new Zx(e,n,a,r)}}class HD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class GD{constructor(e,n){this.count=e,this.unchangedNames=n}}var cn,ot;function YD(t){switch(t){case de.OK:return Ve(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Ve(15467,{code:t})}}function y4(t){if(t===void 0)return Ci("GRPC error has no .code"),de.UNKNOWN;switch(t){case cn.OK:return de.OK;case cn.CANCELLED:return de.CANCELLED;case cn.UNKNOWN:return de.UNKNOWN;case cn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case cn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case cn.INTERNAL:return de.INTERNAL;case cn.UNAVAILABLE:return de.UNAVAILABLE;case cn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case cn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case cn.NOT_FOUND:return de.NOT_FOUND;case cn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case cn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case cn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case cn.ABORTED:return de.ABORTED;case cn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case cn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case cn.DATA_LOSS:return de.DATA_LOSS;default:return Ve(39323,{code:t})}}(ot=cn||(cn={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";function QD(){return new TextEncoder}const KD=new jr([4294967295,4294967295],0);function _2(t){const e=QD().encode(t),n=new D5;return n.update(e),new Uint8Array(n.digest())}function T2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new jr([n,a],0),new jr([r,o],0)]}class eb{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Du(`Invalid padding: ${n}`);if(a<0)throw new Du(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Du(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Du(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=jr.fromNumber(this.ge)}ye(e,n,a){let r=e.add(n.multiply(jr.fromNumber(a)));return r.compare(KD)===1&&(r=new jr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=_2(e),[a,r]=T2(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(a,r,o);if(!this.we(c))return!1}return!0}static create(e,n,a){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new eb(o,r,n);return a.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=_2(e),[a,r]=T2(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(a,r,o);this.Se(c)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cf{constructor(e,n,a,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const r=new Map;return r.set(e,Nd.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Cf(ze.min(),r,new zt(at),Ai(),it())}}class Nd{constructor(e,n,a,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Nd(a,n,it(),it(),it())}}class Tm{constructor(e,n,a,r){this.be=e,this.removedTargetIds=n,this.key=a,this.De=r}}class v4{constructor(e,n){this.targetId=e,this.Ce=n}}class w4{constructor(e,n,a=Vn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=r}}class E2{constructor(){this.ve=0,this.Fe=C2(),this.Me=Vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=it(),n=it(),a=it();return this.Fe.forEach(((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:a=a.add(r);break;default:Ve(38017,{changeType:o})}})),new Nd(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=C2()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class WD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ai(),this.Je=im(),this.He=im(),this.Ye=new zt(at)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,r)=>{this.rt(r)&&n(r)}))}st(e){const n=e.targetId,a=e.Ce.count,r=this.ot(n);if(r){const o=r.target;if(Qg(o))if(a===0){const c=new Ie(o.path);this.et(n,c,Hn.newNoDocument(c,ze.min()))}else xt(a===1,20013,{expectedCount:a});else{const c=this._t(n);if(c!==a){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(n);const f=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:r=0},hashCount:o=0}=n;let c,d;try{c=kr(a).toUint8Array()}catch(m){if(m instanceof H5)return Qo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new eb(c,r,o)}catch(m){return Qo(m instanceof Du?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let r=0;return a.forEach((o=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.et(n,o,null),r++)})),r}Tt(e){const n=new Map;this.ze.forEach(((o,c)=>{const d=this.ot(c);if(d){if(o.current&&Qg(d.target)){const m=new Ie(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,Hn.newNoDocument(m,e))}o.Be&&(n.set(c,o.ke()),o.qe())}}));let a=it();this.He.forEach(((o,c)=>{let d=!0;c.forEachWhile((m=>{const f=this.ot(m);return!f||f.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(a=a.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const r=new Cf(e,n,this.Ye,this.je,a);return this.je=Ai(),this.Je=im(),this.He=im(),this.Ye=new zt(at),r}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new E2,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new bn(at),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new bn(at),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new E2),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function im(){return new zt(Ie.comparator)}function C2(){return new zt(Ie.comparator)}const XD={asc:"ASCENDING",desc:"DESCENDING"},JD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZD={and:"AND",or:"OR"};class e8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wg(t,e){return t.useProto3Json||Nf(e)?e:{value:e}}function Gm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function t8(t,e){return Gm(t,e.toTimestamp())}function za(t){return xt(!!t,49232),ze.fromTimestamp((function(n){const a=Ar(n);return new Mt(a.seconds,a.nanos)})(t))}function tb(t,e){return Xg(t,e).canonicalString()}function Xg(t,e){const n=(function(r){return new Rt(["projects",r.projectId,"databases",r.database])})(t).child("documents");return e===void 0?n:n.child(e)}function j4(t){const e=Rt.fromString(t);return xt(C4(e),10190,{key:e.toString()}),e}function Jg(t,e){return tb(t.databaseId,e.path)}function eg(t,e){const n=j4(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(_4(n))}function S4(t,e){return tb(t.databaseId,e)}function n8(t){const e=j4(t);return e.length===4?Rt.emptyPath():_4(e)}function Zg(t){return new Rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _4(t){return xt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function A2(t,e,n){return{name:Jg(t,e),fields:n.value.mapValue.fields}}function s8(t,e){let n;if("targetChange"in e){e.targetChange;const a=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ve(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=(function(f,x){return f.useProto3Json?(xt(x===void 0||typeof x=="string",58123),Vn.fromBase64String(x||"")):(xt(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Vn.fromUint8Array(x||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(f){const x=f.code===void 0?de.UNKNOWN:y4(f.code);return new Se(x,f.message||"")})(c);n=new w4(a,r,o,d||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const r=eg(t,a.document.name),o=za(a.document.updateTime),c=a.document.createTime?za(a.document.createTime):ze.min(),d=new ds({mapValue:{fields:a.document.fields}}),m=Hn.newFoundDocument(r,o,c,d),f=a.targetIds||[],x=a.removedTargetIds||[];n=new Tm(f,x,m.key,m)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const r=eg(t,a.document),o=a.readTime?za(a.readTime):ze.min(),c=Hn.newNoDocument(r,o),d=a.removedTargetIds||[];n=new Tm([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const r=eg(t,a.document),o=a.removedTargetIds||[];n=new Tm([],o,r,null)}else{if(!("filter"in e))return Ve(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:r=0,unchangedNames:o}=a,c=new GD(r,o),d=a.targetId;n=new v4(d,c)}}return n}function a8(t,e){let n;if(e instanceof wd)n={update:A2(t,e.key,e.value)};else if(e instanceof Jx)n={delete:Jg(t,e.key)};else if(e instanceof Vr)n={update:A2(t,e.key,e.data),updateMask:m8(e.fieldMask)};else{if(!(e instanceof $D))return Ve(16599,{Vt:e.type});n={verify:Jg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(o,c){const d=c.transform;if(d instanceof sd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Jo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ad)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Hm)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ve(20930,{transform:c.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:t8(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ve(27497)})(t,e.precondition)),n}function i8(t,e){return t&&t.length>0?(xt(e!==void 0,14353),t.map((n=>(function(r,o){let c=r.updateTime?za(r.updateTime):za(o);return c.isEqual(ze.min())&&(c=za(o)),new zD(c,r.transformResults||[])})(n,e)))):[]}function r8(t,e){return{documents:[S4(t,e.path)]}}function l8(t,e){const n={structuredQuery:{}},a=e.path;let r;e.collectionGroup!==null?(r=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=S4(t,r);const o=(function(f){if(f.length!==0)return E4(ha.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(f){if(f.length!==0)return f.map((x=>(function(v){return{field:Mo(v.field),direction:u8(v.dir)}})(x)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Wg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:r}}function o8(t){let e=n8(t.parent);const n=t.structuredQuery,a=n.from?n.from.length:0;let r=null;if(a>0){xt(a===1,65062);const x=n.from[0];x.allDescendants?r=x.collectionId:e=e.child(x.collectionId)}let o=[];n.where&&(o=(function(b){const v=T4(b);return v instanceof ha&&t4(v)?v.getFilters():[v]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((v=>(function(j){return new nd(Oo(j.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(v)))})(n.orderBy));let d=null;n.limit&&(d=(function(b){let v;return v=typeof b=="object"?b.value:b,Nf(v)?null:v})(n.limit));let m=null;n.startAt&&(m=(function(b){const v=!!b.before,w=b.values||[];return new $m(w,v)})(n.startAt));let f=null;return n.endAt&&(f=(function(b){const v=!b.before,w=b.values||[];return new $m(w,v)})(n.endAt)),ED(e,r,c,o,d,"F",m,f)}function c8(t,e){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:r})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function T4(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Oo(n.unaryFilter.field);return dn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const r=Oo(n.unaryFilter.field);return dn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Oo(n.unaryFilter.field);return dn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Oo(n.unaryFilter.field);return dn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}})(t):t.fieldFilter!==void 0?(function(n){return dn.create(Oo(n.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ha.create(n.compositeFilter.filters.map((a=>T4(a))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}})(n.compositeFilter.op))})(t):Ve(30097,{filter:t})}function u8(t){return XD[t]}function d8(t){return JD[t]}function h8(t){return ZD[t]}function Mo(t){return{fieldPath:t.canonicalString()}}function Oo(t){return Ln.fromServerFormat(t.fieldPath)}function E4(t){return t instanceof dn?(function(n){if(n.op==="=="){if(g2(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NAN"}};if(p2(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(g2(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NOT_NAN"}};if(p2(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(n.field),op:d8(n.op),value:n.value}}})(t):t instanceof ha?(function(n){const a=n.getFilters().map((r=>E4(r)));return a.length===1?a[0]:{compositeFilter:{op:h8(n.op),filters:a}}})(t):Ve(54877,{filter:t})}function m8(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function C4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class br{constructor(e,n,a,r,o=ze.min(),c=ze.min(),d=Vn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class f8{constructor(e){this.yt=e}}function p8(t){const e=o8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qm(e,e.limit,"L"):e}class g8{constructor(){this.Cn=new x8}addToCollectionParentIndex(e,n){return this.Cn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(Cr.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(Cr.min())}updateCollectionGroup(e,n,a){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class x8{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),r=this.index[n]||new bn(Rt.comparator),o=!r.has(a);return this.index[n]=r.add(a),o}has(e){const n=e.lastSegment(),a=e.popLast(),r=this.index[n];return r&&r.has(a)}getEntries(e){return(this.index[e]||new bn(Rt.comparator)).toArray()}}const k2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},A4=41943040;class us{static withCacheSize(e){return new us(e,us.DEFAULT_COLLECTION_PERCENTILE,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}us.DEFAULT_COLLECTION_PERCENTILE=10,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,us.DEFAULT=new us(A4,us.DEFAULT_COLLECTION_PERCENTILE,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),us.DISABLED=new us(-1,0,0);class Zo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Zo(0)}static cr(){return new Zo(-1)}}const R2="LruGarbageCollector",b8=1048576;function I2([t,e],[n,a]){const r=at(t,n);return r===0?at(e,a):r}class y8{constructor(e){this.Ir=e,this.buffer=new bn(I2),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();I2(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class v8{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e(R2,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fc(n)?_e(R2,"Ignoring IndexedDB error during garbage collection: ",n):await mc(n)}await this.Vr(3e5)}))}}class w8{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(wf.ce);const a=new y8(n);return this.mr.forEachTarget(e,(r=>a.Ar(r.sequenceNumber))).next((()=>this.mr.pr(e,(r=>a.Ar(r))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(k2)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k2):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,r,o,c,d,m,f;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),r=this.params.maximumSequenceNumbersToCollect):r=b,c=Date.now(),this.nthSequenceNumber(e,r)))).next((b=>(a=b,d=Date.now(),this.removeTargets(e,a,n)))).next((b=>(o=b,m=Date.now(),this.removeOrphanedDocuments(e,a)))).next((b=>(f=Date.now(),Io()<=st.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-x}ms
	Determined least recently used ${r} in `+(d-c)+`ms
	Removed ${o} targets in `+(m-d)+`ms
	Removed ${b} documents in `+(f-m)+`ms
Total Duration: ${f-x}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:b}))))}}function N8(t,e){return new w8(t,e)}class j8{constructor(){this.changes=new Ml((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?fe.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class S8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class _8{constructor(e,n,a,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=r}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((r=>(a=r,this.remoteDocumentCache.getEntry(e,n)))).next((r=>(a!==null&&zu(a.mutation,r,Ts.empty(),Mt.now()),r)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,it()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=it()){const r=vl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,a).next((o=>{let c=Iu();return o.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const a=vl();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,it())))}populateOverlays(e,n,a){const r=[];return a.forEach((o=>{n.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(e,r).next((o=>{o.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,a,r){let o=Ai();const c=Uu(),d=(function(){return Uu()})();return n.forEach(((m,f)=>{const x=a.get(f.key);r.has(f.key)&&(x===void 0||x.mutation instanceof Vr)?o=o.insert(f.key,f):x!==void 0?(c.set(f.key,x.mutation.getFieldMask()),zu(x.mutation,f,x.mutation.getFieldMask(),Mt.now())):c.set(f.key,Ts.empty())})),this.recalculateAndSaveOverlays(e,o).next((m=>(m.forEach(((f,x)=>c.set(f,x))),n.forEach(((f,x)=>d.set(f,new S8(x,c.get(f)??null)))),d)))}recalculateAndSaveOverlays(e,n){const a=Uu();let r=new zt(((c,d)=>c-d)),o=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const f=n.get(m);if(f===null)return;let x=a.get(m)||Ts.empty();x=d.applyToLocalView(f,x),a.set(m,x);const b=(r.get(d.batchId)||it()).add(m);r=r.insert(d.batchId,b)}))})).next((()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),f=m.key,x=m.value,b=u4();x.forEach((v=>{if(!o.has(v)){const w=x4(n.get(v),a.get(v));w!==null&&b.set(v,w),o=o.add(v)}})),c.push(this.documentOverlayCache.saveOverlays(e,f,b))}return fe.waitFor(c)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,r){return(function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):i4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,r):this.getDocumentsMatchingCollectionQuery(e,n,a,r)}getNextDocuments(e,n,a,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,r).next((o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,r-o.size):fe.resolve(vl());let d=Ju,m=o;return c.next((f=>fe.forEach(f,((x,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),o.get(x)?fe.resolve():this.remoteDocumentCache.getEntry(e,x).next((v=>{m=m.insert(x,v)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,m,f,it()))).next((x=>({batchId:d,changes:c4(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((a=>{let r=Iu();return a.isFoundDocument()&&(r=r.insert(a.key,a)),r}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,r){const o=n.collectionGroup;let c=Iu();return this.indexManager.getCollectionParents(e,o).next((d=>fe.forEach(d,(m=>{const f=(function(b,v){return new pc(v,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,a,r).next((x=>{x.forEach(((b,v)=>{c=c.insert(b,v)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,a,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,o,r)))).next((c=>{o.forEach(((m,f)=>{const x=f.getKey();c.get(x)===null&&(c=c.insert(x,Hn.newInvalidDocument(x)))}));let d=Iu();return c.forEach(((m,f)=>{const x=o.get(m);x!==void 0&&zu(x.mutation,f,Ts.empty(),Mt.now()),_f(n,f)&&(d=d.insert(m,f))})),d}))}}class T8{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:za(r.createTime)}})(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(r){return{name:r.name,query:p8(r.bundledQuery),readTime:za(r.readTime)}})(n)),fe.resolve()}}class E8{constructor(){this.overlays=new zt(Ie.comparator),this.qr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const a=vl();return fe.forEach(n,(r=>this.getOverlay(e,r).next((o=>{o!==null&&a.set(r,o)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((r,o)=>{this.St(e,n,o)})),fe.resolve()}removeOverlaysForBatchId(e,n,a){const r=this.qr.get(a);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(a)),fe.resolve()}getOverlaysForCollection(e,n,a){const r=vl(),o=n.length+1,c=new Ie(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,f=m.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&m.largestBatchId>a&&r.set(m.getKey(),m)}return fe.resolve(r)}getOverlaysForCollectionGroup(e,n,a,r){let o=new zt(((f,x)=>f-x));const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>a){let x=o.get(f.largestBatchId);x===null&&(x=vl(),o=o.insert(f.largestBatchId,x)),x.set(f.getKey(),f)}}const d=vl(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((f,x)=>d.set(f,x))),!(d.size()>=r)););return fe.resolve(d)}St(e,n,a){const r=this.overlays.get(a.key);if(r!==null){const c=this.qr.get(r.largestBatchId).delete(a.key);this.qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(a.key,new HD(n,a));let o=this.qr.get(n);o===void 0&&(o=it(),this.qr.set(n,o)),this.qr.set(n,o.add(a.key))}}class C8{constructor(){this.sessionToken=Vn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}class nb{constructor(){this.Qr=new bn(En.$r),this.Ur=new bn(En.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new En(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new En(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new Ie(new Rt([])),a=new En(n,e),r=new En(n,e+1),o=[];return this.Ur.forEachInRange([a,r],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ie(new Rt([])),a=new En(n,e),r=new En(n,e+1);let o=it();return this.Ur.forEachInRange([a,r],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new En(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class En{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ie.comparator(e.key,n.key)||at(e.Yr,n.Yr)}static Kr(e,n){return at(e.Yr,n.Yr)||Ie.comparator(e.key,n.key)}}class A8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new bn(En.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new qD(o,n,a,r);this.mutationQueue.push(c);for(const d of r)this.Zr=this.Zr.add(new En(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return fe.resolve(c)}lookupMutationBatch(e,n){return fe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,r=this.ei(a),o=r<0?0:r;return fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?Hx:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new En(n,0),r=new En(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([a,r],(c=>{const d=this.Xr(c.Yr);o.push(d)})),fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new bn(at);return n.forEach((r=>{const o=new En(r,0),c=new En(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(d=>{a=a.add(d.Yr)}))})),fe.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,r=a.length+1;let o=a;Ie.isDocumentKey(o)||(o=o.child(""));const c=new En(new Ie(o),0);let d=new bn(at);return this.Zr.forEachWhile((m=>{const f=m.key.path;return!!a.isPrefixOf(f)&&(f.length===r&&(d=d.add(m.Yr)),!0)}),c),fe.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((a=>{const r=this.Xr(a);r!==null&&n.push(r)})),n}removeMutationBatch(e,n){xt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return fe.forEach(n.mutations,(r=>{const o=new En(r.key,n.batchId);return a=a.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new En(n,0),r=this.Zr.firstAfterOrEqual(a);return fe.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class k8{constructor(e){this.ri=e,this.docs=(function(){return new zt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,r=this.docs.get(a),o=r?r.size:0,c=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return fe.resolve(a?a.document.mutableCopy():Hn.newInvalidDocument(n))}getEntries(e,n){let a=Ai();return n.forEach((r=>{const o=this.docs.get(r);a=a.insert(r,o?o.document.mutableCopy():Hn.newInvalidDocument(r))})),fe.resolve(a)}getDocumentsMatchingQuery(e,n,a,r){let o=Ai();const c=n.path,d=new Ie(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:f,value:{document:x}}=m.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||iD(aD(x),a)<=0||(r.has(x.key)||_f(n,x))&&(o=o.insert(x.key,x.mutableCopy()))}return fe.resolve(o)}getAllFromCollectionGroup(e,n,a,r){Ve(9500)}ii(e,n){return fe.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new R8(this)}getSize(e){return fe.resolve(this.size)}}class R8 extends j8{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(a)})),fe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class I8{constructor(e){this.persistence=e,this.si=new Ml((n=>Qx(n)),Kx),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.oi=0,this._i=new nb,this.targetCount=0,this.ai=Zo.ur()}forEachTarget(e,n){return this.si.forEach(((a,r)=>n(r))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),fe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Zo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Pr(n),fe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,a){let r=0;const o=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&a.get(d.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),r++)})),fe.waitFor(o).next((()=>r))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return fe.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),fe.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach((c=>{o.push(r.markPotentiallyOrphaned(e,c))})),fe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return fe.resolve(a)}containsKey(e,n){return fe.resolve(this._i.containsKey(n))}}class k4{constructor(e,n){this.ui={},this.overlays={},this.ci=new wf(0),this.li=!1,this.li=!0,this.hi=new C8,this.referenceDelegate=e(this),this.Pi=new I8(this),this.indexManager=new g8,this.remoteDocumentCache=(function(r){return new k8(r)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new f8(n),this.Ii=new T8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new E8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new A8(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){_e("MemoryPersistence","Starting transaction:",e);const r=new D8(this.ci.next());return this.referenceDelegate.Ei(),a(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(e,n){return fe.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class D8 extends lD{constructor(e){super(),this.currentSequenceNumber=e}}class sb{constructor(e){this.persistence=e,this.Ri=new nb,this.Vi=null}static mi(e){return new sb(e)}get fi(){if(this.Vi)return this.Vi;throw Ve(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),fe.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((r=>this.fi.add(r.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,(a=>{const r=Ie.fromPath(a);return this.gi(e,r).next((o=>{o||n.removeEntry(r,ze.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ym{constructor(e,n){this.persistence=e,this.pi=new Ml((a=>uD(a.path)),((a,r)=>a.isEqual(r))),this.garbageCollector=N8(this,n)}static mi(e,n){return new Ym(e,n)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((r=>a+r))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return fe.forEach(this.pi,((a,r)=>this.br(e,a,r).next((o=>o?fe.resolve():n(r)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(e,(c=>this.br(e,c,n).next((d=>{d||(a++,o.removeEntry(c,ze.min()))})))).next((()=>o.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jm(e.data.value)),n}br(e,n,a){return fe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return fe.resolve(r!==void 0&&r>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ab{constructor(e,n,a,r){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=r}static As(e,n){let a=it(),r=it();for(const o of n.docChanges)switch(o.type){case 0:a=a.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new ab(e,n.fromCache,a,r)}}class M8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class O8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return r3()?8:oD(Kn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,r){const o={result:null};return this.ys(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,n,r,a).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new M8;return this.Ss(e,n,c).next((d=>{if(o.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>o.result))}bs(e,n,a,r){return a.documentReadCount<this.fs?(Io()<=st.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Do(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(Io()<=st.DEBUG&&_e("QueryEngine","Query:",Do(n),"scans",a.documentReadCount,"local documents and returns",r,"documents as results."),a.documentReadCount>this.gs*r?(Io()<=st.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Do(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ua(n))):fe.resolve())}ys(e,n){if(v2(n))return fe.resolve(null);let a=Ua(n);return this.indexManager.getIndexType(e,a).next((r=>r===0?null:(n.limit!==null&&r===1&&(n=qm(n,null,"F"),a=Ua(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((o=>{const c=it(...o);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,a).next((m=>{const f=this.Ds(n,d);return this.Cs(n,f,c,m.readTime)?this.ys(e,qm(n,null,"F")):this.vs(e,f,n,m)}))))})))))}ws(e,n,a,r){return v2(n)||r.isEqual(ze.min())?fe.resolve(null):this.ps.getDocuments(e,a).next((o=>{const c=this.Ds(n,o);return this.Cs(n,c,a,r)?fe.resolve(null):(Io()<=st.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Do(n)),this.vs(e,c,n,sD(r,Ju)).next((d=>d)))}))}Ds(e,n){let a=new bn(l4(e));return n.forEach(((r,o)=>{_f(e,o)&&(a=a.add(o))})),a}Cs(e,n,a,r){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(e,n,a){return Io()<=st.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Do(n)),this.ps.getDocumentsMatchingQuery(e,n,Cr.min(),a)}vs(e,n,a,r){return this.ps.getDocumentsMatchingQuery(e,a,r).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const ib="LocalStore",P8=3e8;class L8{constructor(e,n,a,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new zt(at),this.xs=new Ml((o=>Qx(o)),Kx),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _8(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function V8(t,e,n,a){return new L8(t,e,n,a)}async function R4(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let r;return n.mutationQueue.getAllMutationBatches(a).next((o=>(r=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((o=>{const c=[],d=[];let m=it();for(const f of r){c.push(f.batchId);for(const x of f.mutations)m=m.add(x.key)}for(const f of o){d.push(f.batchId);for(const x of f.mutations)m=m.add(x.key)}return n.localDocuments.getDocuments(a,m).next((f=>({Ls:f,removedBatchIds:c,addedBatchIds:d})))}))}))}function U8(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const r=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,f,x){const b=f.batch,v=b.keys();let w=fe.resolve();return v.forEach((j=>{w=w.next((()=>x.getEntry(m,j))).next((D=>{const k=f.docVersions.get(j);xt(k!==null,48541),D.version.compareTo(k)<0&&(b.applyToRemoteDocument(D,f),D.isValidDocument()&&(D.setReadTime(f.commitVersion),x.addEntry(D)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(m,b)))})(n,a,e,o).next((()=>o.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(d){let m=it();for(let f=0;f<d.mutationResults.length;++f)d.mutationResults[f].transformResults.length>0&&(m=m.add(d.batch.mutations[f].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(a,r)))}))}function I4(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function z8(t,e){const n=Fe(t),a=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const d=[];e.targetChanges.forEach(((x,b)=>{const v=r.get(b);if(!v)return;d.push(n.Pi.removeMatchingKeys(o,x.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(o,x.addedDocuments,b))));let w=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?w=w.withResumeToken(Vn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):x.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(x.resumeToken,a)),r=r.insert(b,w),(function(D,k,V){return D.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=P8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(v,w,x)&&d.push(n.Pi.updateTargetData(o,w))}));let m=Ai(),f=it();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,x))})),d.push(F8(o,c,e.documentUpdates).next((x=>{m=x.ks,f=x.qs}))),!a.isEqual(ze.min())){const x=n.Pi.getLastRemoteSnapshotVersion(o).next((b=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,a)));d.push(x)}return fe.waitFor(d).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,m,f))).next((()=>m))})).then((o=>(n.Ms=r,o)))}function F8(t,e,n){let a=it(),r=it();return n.forEach((o=>a=a.add(o))),e.getEntries(t,a).next((o=>{let c=Ai();return n.forEach(((d,m)=>{const f=o.get(d);m.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(d)),m.isNoDocument()&&m.version.isEqual(ze.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!f.isValidDocument()||m.version.compareTo(f.version)>0||m.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):_e(ib,"Ignoring outdated watch update for ",d,". Current version:",f.version," Watch version:",m.version)})),{ks:c,qs:r}}))}function B8(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Hx),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function $8(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let r;return n.Pi.getTargetData(a,e).next((o=>o?(r=o,fe.resolve(r)):n.Pi.allocateTargetId(a).next((c=>(r=new br(e,c,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,r).next((()=>r)))))))})).then((a=>{const r=n.Ms.get(a.targetId);return(r===null||a.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function ex(t,e,n){const a=Fe(t),r=a.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",o,(c=>a.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!fc(c))throw c;_e(ib,`Failed to update sequence numbers for target ${e}: ${c}`)}a.Ms=a.Ms.remove(e),a.xs.delete(r.target)}function D2(t,e,n){const a=Fe(t);let r=ze.min(),o=it();return a.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,f,x){const b=Fe(m),v=b.xs.get(x);return v!==void 0?fe.resolve(b.Ms.get(v)):b.Pi.getTargetData(f,x)})(a,c,Ua(e)).next((d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{o=m}))})).next((()=>a.Fs.getDocumentsMatchingQuery(c,e,n?r:ze.min(),n?o:it()))).next((d=>(q8(a,AD(e),d),{documents:d,Qs:o})))))}function q8(t,e,n){let a=t.Os.get(e)||ze.min();n.forEach(((r,o)=>{o.readTime.compareTo(a)>0&&(a=o.readTime)})),t.Os.set(e,a)}class M2{constructor(){this.activeTargetIds=OD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class H8{constructor(){this.Mo=new M2,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new M2,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class G8{Oo(e){}shutdown(){}}const O2="ConnectivityMonitor";class P2{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e(O2,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e(O2,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rm=null;function tx(){return rm===null?rm=(function(){return 268435456+Math.round(2147483648*Math.random())})():rm++,"0x"+rm.toString(16)}const tg="RestConnection",Y8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Q8{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${r}`,this.Wo=this.databaseId.database===Fm?`project_id=${a}`:`project_id=${a}&database_id=${r}`}Go(e,n,a,r,o){const c=tx(),d=this.zo(e,n.toUriEncodedString());_e(tg,`Sending RPC '${e}' ${c}:`,d,a);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,r,o);const{host:f}=new URL(d),x=cc(f);return this.Jo(e,d,m,a,x).then((b=>(_e(tg,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Qo(tg,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",a),b}))}Ho(e,n,a,r,o,c){return this.Go(e,n,a,r,o)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+hc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((r,o)=>e[o]=r)),a&&a.headers.forEach(((r,o)=>e[o]=r))}zo(e,n){const a=Y8[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}class K8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const $n="WebChannelConnection";class W8 extends Q8{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,r,o){const c=tx();return new Promise(((d,m)=>{const f=new M5;f.setWithCredentials(!0),f.listenOnce(O5.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Nm.NO_ERROR:const b=f.getResponseJson();_e($n,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case Nm.TIMEOUT:_e($n,`RPC '${e}' ${c} timed out`),m(new Se(de.DEADLINE_EXCEEDED,"Request time out"));break;case Nm.HTTP_ERROR:const v=f.getStatus();if(_e($n,`RPC '${e}' ${c} failed with status:`,v,"response text:",f.getResponseText()),v>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const j=w?.error;if(j&&j.status&&j.message){const D=(function(V){const I=V.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(I)>=0?I:de.UNKNOWN})(j.status);m(new Se(D,j.message))}else m(new Se(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else m(new Se(de.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:c,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{_e($n,`RPC '${e}' ${c} completed.`)}}));const x=JSON.stringify(r);_e($n,`RPC '${e}' ${c} sending request:`,r),f.send(n,"POST",x,a,15)}))}T_(e,n,a){const r=tx(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=V5(),d=L5(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(m.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,a),m.encodeInitMessageHeaders=!0;const x=o.join("");_e($n,`Creating RPC '${e}' stream ${r}: ${x}`,m);const b=c.createWebChannel(x,m);this.I_(b);let v=!1,w=!1;const j=new K8({Yo:k=>{w?_e($n,`Not sending because RPC '${e}' stream ${r} is closed:`,k):(v||(_e($n,`Opening RPC '${e}' stream ${r} transport.`),b.open(),v=!0),_e($n,`RPC '${e}' stream ${r} sending:`,k),b.send(k))},Zo:()=>b.close()}),D=(k,V,I)=>{k.listen(V,(B=>{try{I(B)}catch(Q){setTimeout((()=>{throw Q}),0)}}))};return D(b,Ru.EventType.OPEN,(()=>{w||(_e($n,`RPC '${e}' stream ${r} transport opened.`),j.o_())})),D(b,Ru.EventType.CLOSE,(()=>{w||(w=!0,_e($n,`RPC '${e}' stream ${r} transport closed`),j.a_(),this.E_(b))})),D(b,Ru.EventType.ERROR,(k=>{w||(w=!0,Qo($n,`RPC '${e}' stream ${r} transport errored. Name:`,k.name,"Message:",k.message),j.a_(new Se(de.UNAVAILABLE,"The operation could not be completed")))})),D(b,Ru.EventType.MESSAGE,(k=>{if(!w){const V=k.data[0];xt(!!V,16349);const I=V,B=I?.error||I[0]?.error;if(B){_e($n,`RPC '${e}' stream ${r} received error:`,B);const Q=B.status;let se=(function(A){const L=cn[A];if(L!==void 0)return y4(L)})(Q),G=B.message;se===void 0&&(se=de.INTERNAL,G="Unknown error status: "+Q+" with message "+B.message),w=!0,j.a_(new Se(se,G)),b.close()}else _e($n,`RPC '${e}' stream ${r} received:`,V),j.u_(V)}})),D(d,P5.STAT_EVENT,(k=>{k.stat===$g.PROXY?_e($n,`RPC '${e}' stream ${r} detected buffering proxy`):k.stat===$g.NOPROXY&&_e($n,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ng(){return typeof document<"u"?document:null}function Af(t){return new e8(t,!0)}class D4{constructor(e,n,a=1e3,r=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-a);r>0&&_e("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const L2="PersistentStream";class M4{constructor(e,n,a,r,o,c,d,m){this.Mi=e,this.S_=a,this.b_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new D4(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(Ci(n.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,r])=>{this.D_===n&&this.G_(a,r)}),(a=>{e((()=>{const r=new Se(de.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(r)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{a((()=>this.z_(r)))})),this.stream.onMessage((r=>{a((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(L2,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(_e(L2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class X8 extends M4{constructor(e,n,a,r,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,r,c),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=s8(this.serializer,e),a=(function(o){if(!("targetChange"in o))return ze.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?ze.min():c.readTime?za(c.readTime):ze.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=Zg(this.serializer),n.addTarget=(function(o,c){let d;const m=c.target;if(d=Qg(m)?{documents:r8(o,m)}:{query:l8(o,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=N4(o,c.resumeToken);const f=Wg(o,c.expectedCount);f!==null&&(d.expectedCount=f)}else if(c.snapshotVersion.compareTo(ze.min())>0){d.readTime=Gm(o,c.snapshotVersion.toTimestamp());const f=Wg(o,c.expectedCount);f!==null&&(d.expectedCount=f)}return d})(this.serializer,e);const a=c8(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=Zg(this.serializer),n.removeTarget=e,this.q_(n)}}class J8 extends M4{constructor(e,n,a,r,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,r,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=i8(e.writeResults,e.commitTime),a=za(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=Zg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>a8(this.serializer,a)))};this.q_(n)}}class Z8{}class eM extends Z8{constructor(e,n,a,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Se(de.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,Xg(n,a),r,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(de.UNKNOWN,o.toString())}))}Ho(e,n,a,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,Xg(n,a),r,c,d,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(de.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class tM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ci(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Cl="RemoteStore";class nM{constructor(e,n,a,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{a.enqueueAndForget((async()=>{Ol(this)&&(_e(Cl,"Restarting streams for network reachability change."),await(async function(m){const f=Fe(m);f.Ea.add(4),await jd(f),f.Ra.set("Unknown"),f.Ea.delete(4),await kf(f)})(this))}))})),this.Ra=new tM(a,r)}}async function kf(t){if(Ol(t))for(const e of t.da)await e(!0)}async function jd(t){for(const e of t.da)await e(!1)}function O4(t,e){const n=Fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),cb(n)?ob(n):gc(n).O_()&&lb(n,e))}function rb(t,e){const n=Fe(t),a=gc(n);n.Ia.delete(e),a.O_()&&P4(n,e),n.Ia.size===0&&(a.O_()?a.L_():Ol(n)&&n.Ra.set("Unknown"))}function lb(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gc(t).Y_(e)}function P4(t,e){t.Va.Ue(e),gc(t).Z_(e)}function ob(t){t.Va=new WD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),gc(t).start(),t.Ra.ua()}function cb(t){return Ol(t)&&!gc(t).x_()&&t.Ia.size>0}function Ol(t){return Fe(t).Ea.size===0}function L4(t){t.Va=void 0}async function sM(t){t.Ra.set("Online")}async function aM(t){t.Ia.forEach(((e,n)=>{lb(t,e)}))}async function iM(t,e){L4(t),cb(t)?(t.Ra.ha(e),ob(t)):t.Ra.set("Unknown")}async function rM(t,e,n){if(t.Ra.set("Online"),e instanceof w4&&e.state===2&&e.cause)try{await(async function(r,o){const c=o.cause;for(const d of o.targetIds)r.Ia.has(d)&&(await r.remoteSyncer.rejectListen(d,c),r.Ia.delete(d),r.Va.removeTarget(d))})(t,e)}catch(a){_e(Cl,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Qm(t,a)}else if(e instanceof Tm?t.Va.Ze(e):e instanceof v4?t.Va.st(e):t.Va.tt(e),!n.isEqual(ze.min()))try{const a=await I4(t.localStore);n.compareTo(a)>=0&&await(function(o,c){const d=o.Va.Tt(c);return d.targetChanges.forEach(((m,f)=>{if(m.resumeToken.approximateByteSize()>0){const x=o.Ia.get(f);x&&o.Ia.set(f,x.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,f)=>{const x=o.Ia.get(m);if(!x)return;o.Ia.set(m,x.withResumeToken(Vn.EMPTY_BYTE_STRING,x.snapshotVersion)),P4(o,m);const b=new br(x.target,m,f,x.sequenceNumber);lb(o,b)})),o.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(a){_e(Cl,"Failed to raise snapshot:",a),await Qm(t,a)}}async function Qm(t,e,n){if(!fc(e))throw e;t.Ea.add(1),await jd(t),t.Ra.set("Offline"),n||(n=()=>I4(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e(Cl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await kf(t)}))}function V4(t,e){return e().catch((n=>Qm(t,n,e)))}async function Rf(t){const e=Fe(t),n=Ir(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hx;for(;lM(e);)try{const r=await B8(e.localStore,a);if(r===null){e.Ta.length===0&&n.L_();break}a=r.batchId,oM(e,r)}catch(r){await Qm(e,r)}U4(e)&&z4(e)}function lM(t){return Ol(t)&&t.Ta.length<10}function oM(t,e){t.Ta.push(e);const n=Ir(t);n.O_()&&n.X_&&n.ea(e.mutations)}function U4(t){return Ol(t)&&!Ir(t).x_()&&t.Ta.length>0}function z4(t){Ir(t).start()}async function cM(t){Ir(t).ra()}async function uM(t){const e=Ir(t);for(const n of t.Ta)e.ea(n.mutations)}async function dM(t,e,n){const a=t.Ta.shift(),r=Zx.from(a,e,n);await V4(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await Rf(t)}async function hM(t,e){e&&Ir(t).X_&&await(async function(a,r){if((function(c){return YD(c)&&c!==de.ABORTED})(r.code)){const o=a.Ta.shift();Ir(a).B_(),await V4(a,(()=>a.remoteSyncer.rejectFailedWrite(o.batchId,r))),await Rf(a)}})(t,e),U4(t)&&z4(t)}async function V2(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),_e(Cl,"RemoteStore received new credentials");const a=Ol(n);n.Ea.add(3),await jd(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await kf(n)}async function mM(t,e){const n=Fe(t);e?(n.Ea.delete(2),await kf(n)):e||(n.Ea.add(2),await jd(n),n.Ra.set("Unknown"))}function gc(t){return t.ma||(t.ma=(function(n,a,r){const o=Fe(n);return o.sa(),new X8(a,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(t.datastore,t.asyncQueue,{Xo:sM.bind(null,t),t_:aM.bind(null,t),r_:iM.bind(null,t),H_:rM.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),cb(t)?ob(t):t.Ra.set("Unknown")):(await t.ma.stop(),L4(t))}))),t.ma}function Ir(t){return t.fa||(t.fa=(function(n,a,r){const o=Fe(n);return o.sa(),new J8(a,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:cM.bind(null,t),r_:hM.bind(null,t),ta:uM.bind(null,t),na:dM.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Rf(t)):(await t.fa.stop(),t.Ta.length>0&&(_e(Cl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class ub{constructor(e,n,a,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=r,this.removalCallback=o,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,r,o){const c=Date.now()+a,d=new ub(e,n,c,r,o);return d.start(a),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function db(t,e){if(Ci("AsyncQueue",`${e}: ${t}`),fc(t))return new Se(de.UNAVAILABLE,`${e}: ${t}`);throw t}class zo{static emptySet(e){return new zo(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Ie.comparator(n.key,a.key):(n,a)=>Ie.comparator(n.key,a.key),this.keyedMap=Iu(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=a.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new zo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class U2{constructor(){this.ga=new zt(Ie.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ve(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class ec{constructor(e,n,a,r,o,c,d,m,f){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=f}static fromInitialDocuments(e,n,a,r,o){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new ec(e,n,zo.emptySet(n),c,a,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==a[r].type||!n[r].doc.isEqual(a[r].doc))return!1;return!0}}class fM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class pM{constructor(){this.queries=z2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const r=Fe(n),o=r.queries;r.queries=z2(),o.forEach(((c,d)=>{for(const m of d.Sa)m.onError(a)}))})(this,new Se(de.ABORTED,"Firestore shutting down"))}}function z2(){return new Ml((t=>r4(t)),Sf)}async function F4(t,e){const n=Fe(t);let a=3;const r=e.query;let o=n.queries.get(r);o?!o.ba()&&e.Da()&&(a=2):(o=new fM,a=e.Da()?0:1);try{switch(a){case 0:o.wa=await n.onListen(r,!0);break;case 1:o.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(c){const d=db(c,`Initialization of query '${Do(e.query)}' failed`);return void e.onError(d)}n.queries.set(r,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&hb(n)}async function B4(t,e){const n=Fe(t),a=e.query;let r=3;const o=n.queries.get(a);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?r=e.Da()?0:1:!o.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function gM(t,e){const n=Fe(t);let a=!1;for(const r of e){const o=r.query,c=n.queries.get(o);if(c){for(const d of c.Sa)d.Fa(r)&&(a=!0);c.wa=r}}a&&hb(n)}function xM(t,e,n){const a=Fe(t),r=a.queries.get(e);if(r)for(const o of r.Sa)o.onError(n);a.queries.delete(e)}function hb(t){t.Ca.forEach((e=>{e.next()}))}var nx,F2;(F2=nx||(nx={})).Ma="default",F2.Cache="cache";class $4{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const r of e.docChanges)r.type!==3&&a.push(r);e=new ec(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==nx.Cache}}class q4{constructor(e){this.key=e}}class H4{constructor(e){this.key=e}}class bM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=it(),this.mutatedKeys=it(),this.eu=l4(e),this.tu=new zo(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new U2,r=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,c=r,d=!1;const m=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((x,b)=>{const v=r.get(x),w=_f(this.query,b)?b:null,j=!!v&&this.mutatedKeys.has(v.key),D=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let k=!1;v&&w?v.data.isEqual(w.data)?j!==D&&(a.track({type:3,doc:w}),k=!0):this.su(v,w)||(a.track({type:2,doc:w}),k=!0,(m&&this.eu(w,m)>0||f&&this.eu(w,f)<0)&&(d=!0)):!v&&w?(a.track({type:0,doc:w}),k=!0):v&&!w&&(a.track({type:1,doc:v}),k=!0,(m||f)&&(d=!0)),k&&(w?(c=c.add(w),o=D?o.add(x):o.delete(x)):(c=c.delete(x),o=o.delete(x)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const x=this.query.limitType==="F"?c.last():c.first();c=c.delete(x.key),o=o.delete(x.key),a.track({type:1,doc:x})}return{tu:c,iu:a,Cs:d,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,r){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((x,b)=>(function(w,j){const D=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Rt:k})}};return D(w)-D(j)})(x.type,b.type)||this.eu(x.doc,b.doc))),this.ou(a),r=r??!1;const d=n&&!r?this._u():[],m=this.Xa.size===0&&this.current&&!r?1:0,f=m!==this.Za;return this.Za=m,c.length!==0||f?{snapshot:new ec(this.query,e.tu,o,c,e.mutatedKeys,m===0,f,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new U2,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=it(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new H4(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new q4(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=it();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ec.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mb="SyncEngine";class yM{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class vM{constructor(e){this.key=e,this.hu=!1}}class wM{constructor(e,n,a,r,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ml((d=>r4(d)),Sf),this.Iu=new Map,this.Eu=new Set,this.du=new zt(Ie.comparator),this.Au=new Map,this.Ru=new nb,this.Vu={},this.mu=new Map,this.fu=Zo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NM(t,e,n=!0){const a=X4(t);let r;const o=a.Tu.get(e);return o?(a.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await G4(a,e,n,!0),r}async function jM(t,e){const n=X4(t);await G4(n,e,!0,!1)}async function G4(t,e,n,a){const r=await $8(t.localStore,Ua(e)),o=r.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let d;return a&&(d=await SM(t,e,o,c==="current",r.resumeToken)),t.isPrimaryClient&&n&&O4(t.remoteStore,r),d}async function SM(t,e,n,a,r){t.pu=(b,v,w)=>(async function(D,k,V,I){let B=k.view.ru(V);B.Cs&&(B=await D2(D.localStore,k.query,!1).then((({documents:R})=>k.view.ru(R,B))));const Q=I&&I.targetChanges.get(k.targetId),se=I&&I.targetMismatches.get(k.targetId)!=null,G=k.view.applyChanges(B,D.isPrimaryClient,Q,se);return $2(D,k.targetId,G.au),G.snapshot})(t,b,v,w);const o=await D2(t.localStore,e,!0),c=new bM(e,o.Qs),d=c.ru(o.documents),m=Nd.createSynthesizedTargetChangeForCurrentChange(n,a&&t.onlineState!=="Offline",r),f=c.applyChanges(d,t.isPrimaryClient,m);$2(t,n,f.au);const x=new yM(e,n,c);return t.Tu.set(e,x),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function _M(t,e,n){const a=Fe(t),r=a.Tu.get(e),o=a.Iu.get(r.targetId);if(o.length>1)return a.Iu.set(r.targetId,o.filter((c=>!Sf(c,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(r.targetId),a.sharedClientState.isActiveQueryTarget(r.targetId)||await ex(a.localStore,r.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(r.targetId),n&&rb(a.remoteStore,r.targetId),sx(a,r.targetId)})).catch(mc)):(sx(a,r.targetId),await ex(a.localStore,r.targetId,!0))}async function TM(t,e){const n=Fe(t),a=n.Tu.get(e),r=n.Iu.get(a.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),rb(n.remoteStore,a.targetId))}async function EM(t,e,n){const a=MM(t);try{const r=await(function(c,d){const m=Fe(c),f=Mt.now(),x=d.reduce(((w,j)=>w.add(j.key)),it());let b,v;return m.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let j=Ai(),D=it();return m.Ns.getEntries(w,x).next((k=>{j=k,j.forEach(((V,I)=>{I.isValidDocument()||(D=D.add(V))}))})).next((()=>m.localDocuments.getOverlayedDocuments(w,j))).next((k=>{b=k;const V=[];for(const I of d){const B=BD(I,b.get(I.key).overlayedDocument);B!=null&&V.push(new Vr(I.key,B,J5(B.value.mapValue),qs.exists(!0)))}return m.mutationQueue.addMutationBatch(w,f,V,d)})).next((k=>{v=k;const V=k.applyToLocalDocumentSet(b,D);return m.documentOverlayCache.saveOverlays(w,k.batchId,V)}))})).then((()=>({batchId:v.batchId,changes:c4(b)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(r.batchId),(function(c,d,m){let f=c.Vu[c.currentUser.toKey()];f||(f=new zt(at)),f=f.insert(d,m),c.Vu[c.currentUser.toKey()]=f})(a,r.batchId,n),await Sd(a,r.changes),await Rf(a.remoteStore)}catch(r){const o=db(r,"Failed to persist write");n.reject(o)}}async function Y4(t,e){const n=Fe(t);try{const a=await z8(n.localStore,e);e.targetChanges.forEach(((r,o)=>{const c=n.Au.get(o);c&&(xt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.hu=!0:r.modifiedDocuments.size>0?xt(c.hu,14607):r.removedDocuments.size>0&&(xt(c.hu,42227),c.hu=!1))})),await Sd(n,a,e)}catch(a){await mc(a)}}function B2(t,e,n){const a=Fe(t);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const r=[];a.Tu.forEach(((o,c)=>{const d=c.view.va(e);d.snapshot&&r.push(d.snapshot)})),(function(c,d){const m=Fe(c);m.onlineState=d;let f=!1;m.queries.forEach(((x,b)=>{for(const v of b.Sa)v.va(d)&&(f=!0)})),f&&hb(m)})(a.eventManager,e),r.length&&a.Pu.H_(r),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function CM(t,e,n){const a=Fe(t);a.sharedClientState.updateQueryState(e,"rejected",n);const r=a.Au.get(e),o=r&&r.key;if(o){let c=new zt(Ie.comparator);c=c.insert(o,Hn.newNoDocument(o,ze.min()));const d=it().add(o),m=new Cf(ze.min(),new Map,new zt(at),c,d);await Y4(a,m),a.du=a.du.remove(o),a.Au.delete(e),fb(a)}else await ex(a.localStore,e,!1).then((()=>sx(a,e,n))).catch(mc)}async function AM(t,e){const n=Fe(t),a=e.batch.batchId;try{const r=await U8(n.localStore,e);K4(n,a,null),Q4(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Sd(n,r)}catch(r){await mc(r)}}async function kM(t,e,n){const a=Fe(t);try{const r=await(function(c,d){const m=Fe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let x;return m.mutationQueue.lookupMutationBatch(f,d).next((b=>(xt(b!==null,37113),x=b.keys(),m.mutationQueue.removeMutationBatch(f,b)))).next((()=>m.mutationQueue.performConsistencyCheck(f))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(f,x,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,x))).next((()=>m.localDocuments.getDocuments(f,x)))}))})(a.localStore,e);K4(a,e,n),Q4(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Sd(a,r)}catch(r){await mc(r)}}function Q4(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function K4(t,e,n){const a=Fe(t);let r=a.Vu[a.currentUser.toKey()];if(r){const o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),a.Vu[a.currentUser.toKey()]=r}}function sx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const a of t.Iu.get(e))t.Tu.delete(a),n&&t.Pu.yu(a,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((a=>{t.Ru.containsKey(a)||W4(t,a)}))}function W4(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(rb(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),fb(t))}function $2(t,e,n){for(const a of n)a instanceof q4?(t.Ru.addReference(a.key,e),RM(t,a)):a instanceof H4?(_e(mb,"Document no longer in limbo: "+a.key),t.Ru.removeReference(a.key,e),t.Ru.containsKey(a.key)||W4(t,a.key)):Ve(19791,{wu:a})}function RM(t,e){const n=e.key,a=n.path.canonicalString();t.du.get(n)||t.Eu.has(a)||(_e(mb,"New document in limbo: "+n),t.Eu.add(a),fb(t))}function fb(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ie(Rt.fromString(e)),a=t.fu.next();t.Au.set(a,new vM(n)),t.du=t.du.insert(n,a),O4(t.remoteStore,new br(Ua(Wx(n.path)),a,"TargetPurposeLimboResolution",wf.ce))}}async function Sd(t,e,n){const a=Fe(t),r=[],o=[],c=[];a.Tu.isEmpty()||(a.Tu.forEach(((d,m)=>{c.push(a.pu(m,e,n).then((f=>{if((f||n)&&a.isPrimaryClient){const x=f?!f.fromCache:n?.targetChanges.get(m.targetId)?.current;a.sharedClientState.updateQueryState(m.targetId,x?"current":"not-current")}if(f){r.push(f);const x=ab.As(m.targetId,f);o.push(x)}})))})),await Promise.all(c),a.Pu.H_(r),await(async function(m,f){const x=Fe(m);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>fe.forEach(f,(v=>fe.forEach(v.Es,(w=>x.persistence.referenceDelegate.addReference(b,v.targetId,w))).next((()=>fe.forEach(v.ds,(w=>x.persistence.referenceDelegate.removeReference(b,v.targetId,w)))))))))}catch(b){if(!fc(b))throw b;_e(ib,"Failed to update sequence numbers: "+b)}for(const b of f){const v=b.targetId;if(!b.fromCache){const w=x.Ms.get(v),j=w.snapshotVersion,D=w.withLastLimboFreeSnapshotVersion(j);x.Ms=x.Ms.insert(v,D)}}})(a.localStore,o))}async function IM(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){_e(mb,"User change. New user:",e.toKey());const a=await R4(n.localStore,e);n.currentUser=e,(function(o,c){o.mu.forEach((d=>{d.forEach((m=>{m.reject(new Se(de.CANCELLED,c))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Sd(n,a.Ls)}}function DM(t,e){const n=Fe(t),a=n.Au.get(e);if(a&&a.hu)return it().add(a.key);{let r=it();const o=n.Iu.get(e);if(!o)return r;for(const c of o){const d=n.Tu.get(c);r=r.unionWith(d.view.nu)}return r}}function X4(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Y4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CM.bind(null,e),e.Pu.H_=gM.bind(null,e.eventManager),e.Pu.yu=xM.bind(null,e.eventManager),e}function MM(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kM.bind(null,e),e}class Km{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Af(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return V8(this.persistence,new O8,e.initialUser,this.serializer)}Cu(e){return new k4(sb.mi,this.serializer)}Du(e){return new H8}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Km.provider={build:()=>new Km};class OM extends Km{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xt(this.persistence.referenceDelegate instanceof Ym,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new v8(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?us.withCacheSize(this.cacheSizeBytes):us.DEFAULT;return new k4((a=>Ym.mi(a,n)),this.serializer)}}class ax{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>B2(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=IM.bind(null,this.syncEngine),await mM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new pM})()}createDatastore(e){const n=Af(e.databaseInfo.databaseId),a=(function(o){return new W8(o)})(e.databaseInfo);return(function(o,c,d,m){return new eM(o,c,d,m)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,r,o,c,d){return new nM(a,r,o,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>B2(this.syncEngine,n,0)),(function(){return P2.v()?new P2:new G8})())}createSyncEngine(e,n){return(function(r,o,c,d,m,f,x){const b=new wM(r,o,c,d,m,f);return x&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=Fe(n);_e(Cl,"RemoteStore shutting down."),a.Ea.add(5),await jd(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ax.provider={build:()=>new ax};class J4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ci("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Dr="FirestoreClient";class PM{constructor(e,n,a,r,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=r,this.user=qn.UNAUTHENTICATED,this.clientId=qx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(a,(async c=>{_e(Dr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(a,(c=>(_e(Dr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=db(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function sg(t,e){t.asyncQueue.verifyOperationInProgress(),_e(Dr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let a=n.initialUser;t.setCredentialChangeListener((async r=>{a.isEqual(r)||(await R4(e.localStore,r),a=r)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function q2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await LM(t);_e(Dr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((a=>V2(e.remoteStore,a))),t.setAppCheckTokenChangeListener(((a,r)=>V2(e.remoteStore,r))),t._onlineComponents=e}async function LM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(Dr,"Using user provided OfflineComponentProvider");try{await sg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(r){return r.name==="FirebaseError"?r.code===de.FAILED_PRECONDITION||r.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;Qo("Error using user provided cache. Falling back to memory cache: "+n),await sg(t,new Km)}}else _e(Dr,"Using default OfflineComponentProvider"),await sg(t,new OM(void 0));return t._offlineComponents}async function Z4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(Dr,"Using user provided OnlineComponentProvider"),await q2(t,t._uninitializedComponentsProvider._online)):(_e(Dr,"Using default OnlineComponentProvider"),await q2(t,new ax))),t._onlineComponents}function VM(t){return Z4(t).then((e=>e.syncEngine))}async function eS(t){const e=await Z4(t),n=e.eventManager;return n.onListen=NM.bind(null,e.syncEngine),n.onUnlisten=_M.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=TM.bind(null,e.syncEngine),n}function UM(t,e,n={}){const a=new vi;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,m,f){const x=new J4({next:v=>{x.Nu(),c.enqueueAndForget((()=>B4(o,b)));const w=v.docs.has(d);!w&&v.fromCache?f.reject(new Se(de.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&v.fromCache&&m&&m.source==="server"?f.reject(new Se(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),b=new $4(Wx(d.path),x,{includeMetadataChanges:!0,qa:!0});return F4(o,b)})(await eS(t),t.asyncQueue,e,n,a))),a.promise}function zM(t,e,n={}){const a=new vi;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,m,f){const x=new J4({next:v=>{x.Nu(),c.enqueueAndForget((()=>B4(o,b))),v.fromCache&&m.source==="server"?f.reject(new Se(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),b=new $4(d,x,{includeMetadataChanges:!0,qa:!0});return F4(o,b)})(await eS(t),t.asyncQueue,e,n,a))),a.promise}function tS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const H2=new Map;const nS="firestore.googleapis.com",G2=!0;class Y2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nS,this.ssl=G2}else this.host=e.host,this.ssl=e.ssl??G2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=A4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<b8)throw new Se(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tS(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Se(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Se(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Se(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,r){return a.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class If{constructor(e,n,a,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new H6;switch(a.type){case"firstParty":return new K6(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Se(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=H2.get(n);a&&(_e("ComponentProvider","Removing Datastore"),H2.delete(n),a.terminate())})(this),Promise.resolve()}}function FM(t,e,n,a={}){t=da(t,If);const r=cc(e),o=t._getSettings(),c={...o,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;r&&(Gj(`https://${d}`),Yj("Firestore",!0)),o.host!==nS&&o.host!==d&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...o,host:d,ssl:r,emulatorOptions:a};if(!Er(m,c)&&(t._setSettings(m),a.mockUserToken)){let f,x;if(typeof a.mockUserToken=="string")f=a.mockUserToken,x=qn.MOCK_USER;else{f=Xk(a.mockUserToken,t._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new Se(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new qn(b)}t._authCredentials=new G6(new z5(f,x))}}class Ur{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ur(this.firestore,e,this._query)}}class Wt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(vd(n,Wt._jsonSchema))return new Wt(e,a||null,new Ie(Rt.fromString(n.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:hn("string",Wt._jsonSchemaVersion),referencePath:hn("string")};class Sr extends Ur{constructor(e,n,a){super(e,n,Wx(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new Ie(e))}withConverter(e){return new Sr(this.firestore,e,this._path)}}function ms(t,e,...n){if(t=yn(t),F5("collection","path",e),t instanceof If){const a=Rt.fromString(e,...n);return r2(a),new Sr(t,null,a)}{if(!(t instanceof Wt||t instanceof Sr))throw new Se(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=t._path.child(Rt.fromString(e,...n));return r2(a),new Sr(t.firestore,null,a)}}function vn(t,e,...n){if(t=yn(t),arguments.length===1&&(e=qx.newId()),F5("doc","path",e),t instanceof If){const a=Rt.fromString(e,...n);return i2(a),new Wt(t,null,new Ie(a))}{if(!(t instanceof Wt||t instanceof Sr))throw new Se(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=t._path.child(Rt.fromString(e,...n));return i2(a),new Wt(t.firestore,t instanceof Sr?t.converter:null,new Ie(a))}}const Q2="AsyncQueue";class K2{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new D4(this,"async_queue_retry"),this._c=()=>{const a=ng();a&&_e(Q2,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=ng();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ng();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new vi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fc(e))throw e;_e(Q2,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ci("INTERNAL UNHANDLED ERROR: ",W2(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=ub.createAndSchedule(this,e,n,a,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&Ve(47125,{Pc:W2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function W2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Pl extends If{constructor(e,n,a,r){super(e,n,a,r),this.type="firestore",this._queue=new K2,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new K2(e),this._firestoreClient=void 0,await e}}}function BM(t,e){const n=typeof t=="object"?t:Xj(),a=typeof t=="string"?t:Fm,r=Ix(n,"firestore").getImmediate({identifier:a});if(!r._initialized){const o=Kk("firestore");o&&FM(r,...o)}return r}function pb(t){if(t._terminated)throw new Se(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$M(t),t._firestoreClient}function $M(t){const e=t._freezeSettings(),n=(function(r,o,c,d){return new mD(r,o,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,tS(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new PM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(t._componentsProvider))}class $s{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $s(Vn.fromBase64String(e))}catch(n){throw new Se(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $s(Vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$s._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vd(e,$s._jsonSchema))return $s.fromBase64String(e.bytes)}}$s._jsonSchemaVersion="firestore/bytes/1.0",$s._jsonSchema={type:hn("string",$s._jsonSchemaVersion),bytes:hn("string")};class Df{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _d{constructor(e){this._methodName=e}}class Fa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fa._jsonSchemaVersion}}static fromJSON(e){if(vd(e,Fa._jsonSchema))return new Fa(e.latitude,e.longitude)}}Fa._jsonSchemaVersion="firestore/geoPoint/1.0",Fa._jsonSchema={type:hn("string",Fa._jsonSchemaVersion),latitude:hn("number"),longitude:hn("number")};class Ba{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,r){if(a.length!==r.length)return!1;for(let o=0;o<a.length;++o)if(a[o]!==r[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ba._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vd(e,Ba._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ba(e.vectorValues);throw new Se(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ba._jsonSchemaVersion="firestore/vectorValue/1.0",Ba._jsonSchema={type:hn("string",Ba._jsonSchemaVersion),vectorValues:hn("object")};const qM=/^__.*__$/;class HM{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Vr(e,this.data,this.fieldMask,n,this.fieldTransforms):new wd(e,this.data,n,this.fieldTransforms)}}class sS{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Vr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ac:t})}}class Mf{constructor(e,n,a,r,o,c){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(aS(this.Ac)&&qM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class GM{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Af(e)}Cc(e,n,a,r=!1){return new Mf({Ac:e,methodName:n,Dc:a,path:Ln.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Of(t){const e=t._freezeSettings(),n=Af(t._databaseId);return new GM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iS(t,e,n,a,r,o={}){const c=t.Cc(o.merge||o.mergeFields?2:0,e,n,r);bb("Data must be an object, but it was:",c,a);const d=rS(a,c);let m,f;if(o.merge)m=new Ts(c.fieldMask),f=c.fieldTransforms;else if(o.mergeFields){const x=[];for(const b of o.mergeFields){const v=ix(e,b,n);if(!c.contains(v))throw new Se(de.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);oS(x,v)||x.push(v)}m=new Ts(x),f=c.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,f=c.fieldTransforms;return new HM(new ds(d),m,f)}class Pf extends _d{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pf}}function YM(t,e,n){return new Mf({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class gb extends _d{_toFieldTransform(e){return new g4(e.path,new sd)}isEqual(e){return e instanceof gb}}class xb extends _d{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=YM(this,e,!0),a=this.vc.map((o=>xc(o,n))),r=new Jo(a);return new g4(e.path,r)}isEqual(e){return e instanceof xb&&Er(this.vc,e.vc)}}function QM(t,e,n,a){const r=t.Cc(1,e,n);bb("Data must be an object, but it was:",r,a);const o=[],c=ds.empty();Lr(a,((m,f)=>{const x=yb(e,m,n);f=yn(f);const b=r.yc(x);if(f instanceof Pf)o.push(x);else{const v=xc(f,b);v!=null&&(o.push(x),c.set(x,v))}}));const d=new Ts(o);return new sS(c,d,r.fieldTransforms)}function KM(t,e,n,a,r,o){const c=t.Cc(1,e,n),d=[ix(e,a,n)],m=[r];if(o.length%2!=0)throw new Se(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)d.push(ix(e,o[v])),m.push(o[v+1]);const f=[],x=ds.empty();for(let v=d.length-1;v>=0;--v)if(!oS(f,d[v])){const w=d[v];let j=m[v];j=yn(j);const D=c.yc(w);if(j instanceof Pf)f.push(w);else{const k=xc(j,D);k!=null&&(f.push(w),x.set(w,k))}}const b=new Ts(f);return new sS(x,b,c.fieldTransforms)}function WM(t,e,n,a=!1){return xc(n,t.Cc(a?4:3,e))}function xc(t,e){if(lS(t=yn(t)))return bb("Unsupported field value:",e,t),rS(t,e);if(t instanceof _d)return(function(a,r){if(!aS(r.Ac))throw r.Sc(`${a._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${a._methodName}() is not currently supported inside arrays`);const o=a._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,r){const o=[];let c=0;for(const d of a){let m=xc(d,r.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),o.push(m),c++}return{arrayValue:{values:o}}})(t,e)}return(function(a,r){if((a=yn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return PD(r.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const o=Mt.fromDate(a);return{timestampValue:Gm(r.serializer,o)}}if(a instanceof Mt){const o=new Mt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Gm(r.serializer,o)}}if(a instanceof Fa)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof $s)return{bytesValue:N4(r.serializer,a._byteString)};if(a instanceof Wt){const o=r.databaseId,c=a.firestore._databaseId;if(!c.isEqual(o))throw r.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:tb(a.firestore._databaseId||r.databaseId,a._key.path)}}if(a instanceof Ba)return(function(c,d){return{mapValue:{fields:{[W5]:{stringValue:X5},[Bm]:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw d.Sc("VectorValues must only contain numeric values.");return Xx(d.serializer,f)}))}}}}}})(a,r);throw r.Sc(`Unsupported field value: ${vf(a)}`)})(t,e)}function rS(t,e){const n={};return q5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lr(t,((a,r)=>{const o=xc(r,e.mc(a));o!=null&&(n[a]=o)})),{mapValue:{fields:n}}}function lS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof Fa||t instanceof $s||t instanceof Wt||t instanceof _d||t instanceof Ba)}function bb(t,e,n){if(!lS(n)||!B5(n)){const a=vf(n);throw a==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+a)}}function ix(t,e,n){if((e=yn(e))instanceof Df)return e._internalPath;if(typeof e=="string")return yb(t,e);throw Wm("Field path arguments must be of type string or ",t,!1,void 0,n)}const XM=new RegExp("[~\\*/\\[\\]]");function yb(t,e,n){if(e.search(XM)>=0)throw Wm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Df(...e.split("."))._internalPath}catch{throw Wm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wm(t,e,n,a,r){const o=a&&!a.isEmpty(),c=r!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(o||c)&&(m+=" (found",o&&(m+=` in field ${a}`),c&&(m+=` in document ${r}`),m+=")"),new Se(de.INVALID_ARGUMENT,d+t+m)}function oS(t,e){return t.some((n=>n.isEqual(e)))}class cS{constructor(e,n,a,r,o){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JM extends cS{data(){return super.data()}}function Lf(t,e){return typeof e=="string"?yb(t,e):e instanceof Df?e._internalPath:e._delegate._internalPath}function ZM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vb{}class wb extends vb{}function Hs(t,e,...n){let a=[];e instanceof vb&&a.push(e),a=a.concat(n),(function(o){const c=o.filter((m=>m instanceof jb)).length,d=o.filter((m=>m instanceof Vf)).length;if(c>1||c>0&&d>0)throw new Se(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const r of a)t=r._apply(t);return t}class Vf extends wb{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Vf(e,n,a)}_apply(e){const n=this._parse(e);return uS(e._query,n),new Ur(e.firestore,e.converter,Kg(e._query,n))}_parse(e){const n=Of(e.firestore);return(function(o,c,d,m,f,x,b){let v;if(f.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new Se(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){J2(b,x);const j=[];for(const D of b)j.push(X2(m,o,D));v={arrayValue:{values:j}}}else v=X2(m,o,b)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||J2(b,x),v=WM(d,c,b,x==="in"||x==="not-in");return dn.create(f,x,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Nb(t,e,n){const a=e,r=Lf("where",t);return Vf._create(r,a,n)}class jb extends vb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jb(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:ha.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(r,o){let c=r;const d=o.getFlattenedFilters();for(const m of d)uS(c,m),c=Kg(c,m)})(e._query,n),new Ur(e.firestore,e.converter,Kg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sb extends wb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Sb(e,n)}_apply(e){const n=(function(r,o,c){if(r.startAt!==null)throw new Se(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Se(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nd(o,c)})(e._query,this._field,this._direction);return new Ur(e.firestore,e.converter,(function(r,o){const c=r.explicitOrderBy.concat([o]);return new pc(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,n))}}function bc(t,e="asc"){const n=e,a=Lf("orderBy",t);return Sb._create(a,n)}class _b extends wb{constructor(e,n,a){super(),this.type=e,this._limit=n,this._limitType=a}static _create(e,n,a){return new _b(e,n,a)}_apply(e){return new Ur(e.firestore,e.converter,qm(e._query,this._limit,this._limitType))}}function Tb(t){return nD("limit",t),_b._create("limit",t,"F")}function X2(t,e,n){if(typeof(n=yn(n))=="string"){if(n==="")throw new Se(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!i4(e)&&n.indexOf("/")!==-1)throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(Rt.fromString(n));if(!Ie.isDocumentKey(a))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return f2(t,new Ie(a))}if(n instanceof Wt)return f2(t,n._key);throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vf(n)}.`)}function J2(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uS(t,e){const n=(function(r,o){for(const c of r)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Se(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class eO{convertValue(e,n="none"){switch(Rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Lr(e,((r,o)=>{a[r]=this.convertValue(o,n)})),a}convertVectorValue(e){const n=e.fields?.[Bm].arrayValue?.values?.map((a=>Kt(a.doubleValue)));return new Ba(n)}convertGeoPoint(e){return new Fa(Kt(e.latitude),Kt(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=jf(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Zu(e));default:return null}}convertTimestamp(e){const n=Ar(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=Rt.fromString(e);xt(C4(a),9688,{name:e});const r=new ed(a.get(1),a.get(3)),o=new Ie(a.popFirst(5));return r.isEqual(n)||Ci(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function dS(t,e,n){let a;return a=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,a}class Mu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wl extends cS{constructor(e,n,a,r,o,c){super(e,n,a,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Em(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Lf("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=wl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}wl._jsonSchemaVersion="firestore/documentSnapshot/1.0",wl._jsonSchema={type:hn("string",wl._jsonSchemaVersion),bundleSource:hn("string","DocumentSnapshot"),bundleName:hn("string"),bundle:hn("string")};class Em extends wl{data(e={}){return super.data(e)}}class Fo{constructor(e,n,a,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Mu(r.hasPendingWrites,r.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new Em(this._firestore,this._userDataWriter,a.key,a,new Mu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((d=>{const m=new Em(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Mu(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const m=new Em(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Mu(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,x=-1;return d.type!==0&&(f=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),x=c.indexOf(d.doc.key)),{type:tO(d.type),doc:m,oldIndex:f,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),a.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:t})}}function Uf(t){t=da(t,Wt);const e=da(t.firestore,Pl);return UM(pb(e),t._key).then((n=>sO(e,t,n)))}Fo._jsonSchemaVersion="firestore/querySnapshot/1.0",Fo._jsonSchema={type:hn("string",Fo._jsonSchemaVersion),bundleSource:hn("string","QuerySnapshot"),bundleName:hn("string"),bundle:hn("string")};class hS extends eO{constructor(e){super(),this.firestore=e}convertBytes(e){return new $s(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function Ll(t){t=da(t,Ur);const e=da(t.firestore,Pl),n=pb(e),a=new hS(e);return ZM(t._query),zM(n,t._query).then((r=>new Fo(e,a,t,r)))}function nO(t,e,n){t=da(t,Wt);const a=da(t.firestore,Pl),r=dS(t.converter,e,n);return zf(a,[iS(Of(a),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,qs.none())])}function ma(t,e,n,...a){t=da(t,Wt);const r=da(t.firestore,Pl),o=Of(r);let c;return c=typeof(e=yn(e))=="string"||e instanceof Df?KM(o,"updateDoc",t._key,e,n,a):QM(o,"updateDoc",t._key,e),zf(r,[c.toMutation(t._key,qs.exists(!0))])}function Eb(t){return zf(da(t.firestore,Pl),[new Jx(t._key,qs.none())])}function Vl(t,e){const n=da(t.firestore,Pl),a=vn(t),r=dS(t.converter,e);return zf(n,[iS(Of(t.firestore),"addDoc",a._key,r,t.converter!==null,{}).toMutation(a._key,qs.exists(!1))]).then((()=>a))}function zf(t,e){return(function(a,r){const o=new vi;return a.asyncQueue.enqueueAndForget((async()=>EM(await VM(a),r,o))),o.promise})(pb(t),e)}function sO(t,e,n){const a=n.docs.get(e._key),r=new hS(t);return new wl(t,r,e._key,a,new Mu(n.hasPendingWrites,n.fromCache),e.converter)}function Jt(){return new gb("serverTimestamp")}function tc(...t){return new xb("arrayUnion",t)}(function(e,n=!0){(function(r){hc=r})(uc),Yo(new Sl("firestore",((a,{instanceIdentifier:r,options:o})=>{const c=a.getProvider("app").getImmediate(),d=new Pl(new Y6(a.getProvider("auth-internal")),new W6(c,a.getProvider("app-check-internal")),(function(f,x){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Se(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ed(f.options.projectId,x)})(c,r),c);return o={useFetchStreams:n,...o},d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),Nr(t2,n2,e),Nr(t2,n2,"esm2020")})();const aO={apiKey:"AIzaSyAgGkHhRcdGatNvRsm5BQv_RerjG8qt70M",authDomain:"adjucator-ai.firebaseapp.com",projectId:"adjucator-ai",storageBucket:"adjucator-ai.firebasestorage.app",messagingSenderId:"82725691768",appId:"1:82725691768:web:6186a5b41b8a0aa1e7688d",measurementId:"G-N92VEHSKDE"},mS=Wj(aO),Td=$6(mS),ft=BM(mS),iO=new gi,rO=async(t,e)=>{const n=await TI(Td,t,e);return await CI(n.user),n},lO=async(t,e)=>await EI(Td,t,e),oO=async()=>await JI(Td,iO),cO=async()=>await II(Td),uO=t=>RI(Td,t),ag=async(t,e)=>{const n=vn(ft,"users",t);await nO(n,{...e,createdAt:new Date().toISOString(),history:[]},{merge:!0})},Z2=async t=>{const e=vn(ft,"users",t),n=await Uf(e);return n.exists()?n.data():null},dO=async(t,e)=>{const n=vn(ft,"users",t);await ma(n,e)},fS=E.createContext(null),zn=()=>{const t=E.useContext(fS);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},hO=({children:t})=>{const[e,n]=E.useState(null),[a,r]=E.useState(null),[o,c]=E.useState(!0),[d,m]=E.useState(null);E.useEffect(()=>{const k=uO(async V=>{if(n(V),V)try{let I=await Z2(V.uid);I||(I={email:V.email,displayName:V.displayName||"",photoURL:V.photoURL||"",preferredEvents:[],settings:{theme:"dark",autoSaveHistory:!0}},await ag(V.uid,I)),r(I)}catch(I){console.error("Error fetching user profile:",I)}else r(null);c(!1)});return()=>k()},[]);const D={user:e,userProfile:a,loading:o,error:d,login:async(k,V)=>{m(null);try{return await lO(k,V)}catch(I){throw m(lm(I.code)),I}},register:async(k,V,I)=>{m(null);try{const B=await rO(k,V);return await ag(B.user.uid,{email:k,displayName:I,photoURL:"",preferredEvents:[],settings:{theme:"dark",autoSaveHistory:!0}}),B}catch(B){throw m(lm(B.code)),B}},loginWithGoogle:async()=>{m(null);try{const k=await oO();return await Z2(k.user.uid)||await ag(k.user.uid,{email:k.user.email,displayName:k.user.displayName||"",photoURL:k.user.photoURL||"",preferredEvents:[],settings:{theme:"dark",autoSaveHistory:!0}}),k}catch(k){throw m(lm(k.code)),k}},logout:async()=>{m(null);try{await cO()}catch(k){throw m(lm(k.code)),k}},updateProfile:async k=>{if(e)try{await dO(e.uid,k),r(V=>({...V,...k}))}catch(V){throw m("Failed to update profile"),V}},clearError:()=>m(null),isAuthenticated:!!e};return s.jsx(fS.Provider,{value:D,children:t})};function lm(t){return{"auth/email-already-in-use":"This email is already registered. Try logging in instead.","auth/invalid-email":"Please enter a valid email address.","auth/operation-not-allowed":"This sign-in method is not enabled.","auth/weak-password":"Password should be at least 6 characters.","auth/user-disabled":"This account has been disabled.","auth/user-not-found":"No account found with this email.","auth/wrong-password":"Incorrect password. Please try again.","auth/invalid-credential":"Invalid credentials. Please check your email and password.","auth/too-many-requests":"Too many failed attempts. Please try again later.","auth/popup-closed-by-user":"Sign-in popup was closed. Please try again.","auth/popup-blocked":"Sign-in popup was blocked. Please enable popups.","auth/network-request-failed":"Network error. Please check your connection."}[t]||"An error occurred. Please try again."}const ju={dark:{id:"dark",name:"Dark",icon:"",colors:{bgPrimary:"#020617",bgSecondary:"#0f172a",bgTertiary:"#1e293b",textPrimary:"#f8fafc",textSecondary:"#94a3b8",textMuted:"#64748b",primary:"#06b6d4",primaryHover:"#22d3ee",accent:"#a855f7",border:"rgba(51, 65, 85, 0.5)",glass:"rgba(15, 23, 42, 0.8)",cardBg:"rgba(15, 23, 42, 0.5)",inputBg:"#020617",success:"#22c55e",warning:"#f59e0b",error:"#ef4444"}},light:{id:"light",name:"Light",icon:"",colors:{bgPrimary:"#ffffff",bgSecondary:"#f8fafc",bgTertiary:"#e2e8f0",textPrimary:"#0f172a",textSecondary:"#334155",textMuted:"#64748b",primary:"#0891b2",primaryHover:"#0e7490",accent:"#7c3aed",border:"rgba(15, 23, 42, 0.15)",glass:"rgba(255, 255, 255, 0.95)",cardBg:"rgba(248, 250, 252, 0.9)",inputBg:"#ffffff",success:"#16a34a",warning:"#d97706",error:"#dc2626"}}},pS=E.createContext(null),mO=()=>{const t=E.useContext(pS);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},fO=({children:t})=>{const[e,n]=E.useState(()=>localStorage.getItem("theme")||"dark"),a=ju[e]||ju.dark;E.useEffect(()=>{const d=document.documentElement,m=a.colors;d.style.setProperty("--bg-primary",m.bgPrimary),d.style.setProperty("--bg-secondary",m.bgSecondary),d.style.setProperty("--bg-tertiary",m.bgTertiary),d.style.setProperty("--text-primary",m.textPrimary),d.style.setProperty("--text-secondary",m.textSecondary),d.style.setProperty("--text-muted",m.textMuted),d.style.setProperty("--primary",m.primary),d.style.setProperty("--primary-hover",m.primaryHover),d.style.setProperty("--accent",m.accent),d.style.setProperty("--border",m.border),d.style.setProperty("--glass",m.glass),d.style.setProperty("--card-bg",m.cardBg),d.style.setProperty("--input-bg",m.inputBg),d.style.setProperty("--success",m.success),d.style.setProperty("--warning",m.warning),d.style.setProperty("--error",m.error),d.className=`theme-${e}`,localStorage.setItem("theme",e)},[e,a]);const c={theme:a,themeId:e,setTheme:d=>{ju[d]&&n(d)},cycleTheme:()=>{const d=Object.keys(ju),f=(d.indexOf(e)+1)%d.length;n(d[f])},themes:ju};return s.jsx(pS.Provider,{value:c,children:t})},pO=({activeTab:t,setActiveTab:e,onSettingsClick:n})=>{const[a,r]=E.useState(!1),[o,c]=E.useState(!1),[d,m]=E.useState(!1),{user:f,logout:x,isAuthenticated:b}=zn(),{theme:v,setTheme:w}=mO(),j=[{id:"dashboard",label:"Dashboard",icon:Cn},{id:"analytics",label:"Analytics",icon:Cn},{id:"judge",label:"Analyze",icon:oa},{id:"coach",label:"Live Coach",icon:Nl},{id:"practice",label:"Practice",icon:hC},{id:"tournaments",label:"Tournaments",icon:$t}],D=[{id:"quickstats",label:"Quick Stats",icon:wi},{id:"motions",label:"Motion Library",icon:FA},{id:"ballot",label:"Ballot Generator",icon:aC},{id:"flowchart",label:"Flowchart",icon:cf},{id:"voice",label:"Voice Analysis",icon:oa},{id:"timer",label:"Debate Timer",icon:pf},{id:"presets",label:"Timer Presets",icon:HA},{id:"notes",label:"Notes",icon:Vj},{id:"cards",label:"Card Organizer",icon:QC},{id:"formatguide",label:"Format Guide",icon:jj},{id:"speakerpoints",label:"Speaker Points",icon:Gu},{id:"clock",label:"Debate Clock",icon:zC},{id:"validator",label:"Arg Validator",icon:QA},{id:"judgenotes",label:"Judge Notes",icon:xA},{id:"roster",label:"Team Roster",icon:_k},{id:"outline",label:"Outline Builder",icon:Cx},{id:"scheduler",label:"Round Scheduler",icon:La},{id:"opponents",label:"Opponents",icon:Ot},{id:"evidence",label:"Evidence Library",icon:Ni},{id:"team",label:"Team",icon:gn},{id:"strategy",label:"Strategy",icon:Mr},{id:"extemp",label:"Extemp",icon:xn},{id:"tone",label:"Tone Analysis",icon:oa},{id:"history",label:"History",icon:qa}],k=[{id:1,title:"Analysis Complete",message:"Your PF speech analysis is ready",time:"2m ago",unread:!0},{id:2,title:"New Feature",message:"Team collaboration now available",time:"1h ago",unread:!0},{id:3,title:"Weekly Report",message:"Your performance summary is ready",time:"1d ago",unread:!1}],V=k.filter(I=>I.unread).length;return s.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 h-16 border-b border-slate-800/60 bg-slate-950/95 backdrop-blur-xl",children:[s.jsxs("div",{className:"h-full max-w-[1800px] mx-auto px-6 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-8",children:[s.jsxs("button",{onClick:()=>e("dashboard"),className:"flex items-center gap-3 group",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-xl blur opacity-40 group-hover:opacity-60 transition-opacity"}),s.jsx("div",{className:"relative w-9 h-9 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(hs,{className:"w-5 h-5 text-white"})})]}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsx("span",{className:"text-lg font-bold text-white tracking-tight",children:"Adjudicator"}),s.jsx("span",{className:"text-lg font-light text-slate-400 ml-1",children:"AI"})]})]}),s.jsxs("div",{className:"hidden lg:flex items-center gap-2",children:[s.jsx("div",{className:"flex items-center bg-slate-900/50 rounded-xl p-1 border border-slate-800/50",children:j.map(I=>s.jsxs("button",{onClick:()=>e(I.id),className:`flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${t===I.id?"bg-slate-800 text-white shadow-sm":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,children:[s.jsx(I.icon,{className:"w-4 h-4"}),I.label]},I.id))}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>m(!d),className:`flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 border ${D.some(I=>I.id===t)?"bg-slate-800 text-white border-slate-700":"text-slate-400 hover:text-white hover:bg-slate-800/50 border-slate-800/50"}`,children:[s.jsx(Nw,{className:"w-4 h-4"}),"More",s.jsx($a,{className:"w-3 h-3"})]}),d&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>m(!1)}),s.jsx("div",{className:"absolute left-0 top-full mt-2 w-56 bg-slate-900 border border-slate-800 rounded-xl shadow-2xl shadow-black/50 overflow-hidden z-50",children:s.jsx("div",{className:"p-2",children:D.map(I=>s.jsxs("button",{onClick:()=>{e(I.id),m(!1)},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all text-left ${t===I.id?"bg-cyan-500/10 text-cyan-400":"text-slate-300 hover:text-white hover:bg-slate-800/50"}`,children:[s.jsx(I.icon,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:I.label})]},I.id))})})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{className:"hidden md:flex items-center gap-2 px-3 py-2 rounded-lg bg-slate-900/50 border border-slate-800/50 text-slate-500 hover:text-slate-300 hover:border-slate-700 transition-all",children:[s.jsx(Tr,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Search..."}),s.jsx("kbd",{className:"ml-2 px-1.5 py-0.5 text-xs bg-slate-800 rounded border border-slate-700",children:"K"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>c(!o),className:"relative p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",children:[s.jsx(PE,{className:"w-5 h-5"}),V>0&&s.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-cyan-500 rounded-full ring-2 ring-slate-950"})]}),o&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>c(!1)}),s.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-slate-900 border border-slate-800 rounded-xl shadow-2xl shadow-black/50 overflow-hidden z-50",children:[s.jsx("div",{className:"p-4 border-b border-slate-800",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-white",children:"Notifications"}),V>0&&s.jsxs("span",{className:"px-2 py-0.5 text-xs font-medium bg-cyan-500/10 text-cyan-400 rounded-full",children:[V," new"]})]})}),s.jsx("div",{className:"max-h-80 overflow-y-auto",children:k.map(I=>s.jsx("div",{className:`p-4 border-b border-slate-800/50 hover:bg-slate-800/30 transition-colors cursor-pointer ${I.unread?"bg-slate-800/20":""}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[I.unread&&s.jsx("span",{className:"w-2 h-2 mt-2 bg-cyan-500 rounded-full flex-shrink-0"}),s.jsxs("div",{className:I.unread?"":"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-white",children:I.title}),s.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:I.message}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:I.time})]})]})},I.id))}),s.jsx("div",{className:"p-3 border-t border-slate-800",children:s.jsx("button",{className:"w-full py-2 text-sm text-cyan-400 hover:text-cyan-300 transition-colors",children:"View all notifications"})})]})]})]}),s.jsx("button",{onClick:n,className:"p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",children:s.jsx(oc,{className:"w-5 h-5"})}),s.jsxs("div",{className:"relative ml-2",children:[s.jsxs("button",{onClick:()=>r(!a),className:"flex items-center gap-3 p-1.5 pr-3 rounded-xl hover:bg-slate-800/50 transition-all",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center text-white font-semibold text-sm shadow-lg",children:f?.displayName?.[0]||f?.email?.[0]?.toUpperCase()||"G"}),s.jsx($a,{className:"w-4 h-4 text-slate-400"})]}),a&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>r(!1)}),s.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-slate-900 border border-slate-800 rounded-xl shadow-2xl shadow-black/50 overflow-hidden z-50",children:[s.jsx("div",{className:"p-4 border-b border-slate-800",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center text-white font-semibold shadow-lg",children:f?.displayName?.[0]||f?.email?.[0]?.toUpperCase()||"G"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-white truncate",children:f?.displayName||"Guest User"}),s.jsx("p",{className:"text-xs text-slate-500 truncate",children:f?.email||"guest@adjudicator.ai"})]})]})}),s.jsxs("div",{className:"p-2",children:[s.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-300 hover:text-white hover:bg-slate-800/50 transition-all text-left",children:[s.jsx(jl,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Profile Settings"})]}),s.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-300 hover:text-white hover:bg-slate-800/50 transition-all text-left",children:[s.jsx(oC,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Subscription"})]}),s.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-300 hover:text-white hover:bg-slate-800/50 transition-all text-left",children:[s.jsx(Sx,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Help & Support"})]}),s.jsx("div",{className:"px-3 py-2.5",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-slate-300",children:"Dark Mode"}),s.jsx("button",{onClick:()=>w(v==="dark"?"light":"dark"),className:`relative w-11 h-6 rounded-full transition-colors ${v==="dark"?"bg-cyan-500":"bg-slate-700"}`,children:s.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${v==="dark"?"left-6":"left-1"}`})})]})})]}),b&&s.jsx("div",{className:"p-2 border-t border-slate-800",children:s.jsxs("button",{onClick:x,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-all text-left",children:[s.jsx(nA,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Sign Out"})]})})]})]})]})]})]}),s.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-slate-950/95 backdrop-blur-xl border-t border-slate-800/60 px-2 py-2 z-50",children:s.jsxs("div",{className:"flex items-center justify-around",children:[j.slice(0,5).map(I=>s.jsxs("button",{onClick:()=>e(I.id),className:`flex flex-col items-center gap-1 px-2 py-2 rounded-lg transition-all ${t===I.id?"text-cyan-400":"text-slate-500 hover:text-slate-300"}`,children:[s.jsx(I.icon,{className:"w-5 h-5"}),s.jsx("span",{className:"text-[10px] font-medium",children:I.label})]},I.id)),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>m(!d),className:`flex flex-col items-center gap-1 px-2 py-2 rounded-lg transition-all ${D.some(I=>I.id===t)?"text-cyan-400":"text-slate-500 hover:text-slate-300"}`,children:[s.jsx(Nw,{className:"w-5 h-5"}),s.jsx("span",{className:"text-[10px] font-medium",children:"More"})]}),d&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>m(!1)}),s.jsx("div",{className:"absolute bottom-full right-0 mb-2 w-48 bg-slate-900 border border-slate-800 rounded-xl shadow-2xl shadow-black/50 overflow-hidden z-50",children:s.jsx("div",{className:"p-2 max-h-64 overflow-y-auto",children:D.map(I=>s.jsxs("button",{onClick:()=>{e(I.id),m(!1)},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all text-left ${t===I.id?"bg-cyan-500/10 text-cyan-400":"text-slate-300 hover:text-white hover:bg-slate-800/50"}`,children:[s.jsx(I.icon,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:I.label})]},I.id))})})]})]})]})})]})},gO=({children:t,activeTab:e,setActiveTab:n,onSettingsClick:a})=>s.jsxs("div",{className:"min-h-screen bg-slate-950",children:[s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[600px] bg-cyan-500/5 rounded-full blur-[120px]"}),s.jsx("div",{className:"absolute bottom-0 right-1/4 w-[600px] h-[600px] bg-purple-500/5 rounded-full blur-[120px]"}),s.jsx("div",{className:"absolute inset-0 opacity-[0.015]",style:{backgroundImage:`
              linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
              linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)
            `,backgroundSize:"64px 64px"}})]}),s.jsx(pO,{activeTab:e,setActiveTab:n,onSettingsClick:a}),s.jsx("main",{className:"relative pt-16 pb-20 lg:pb-8 min-h-screen",children:s.jsx("div",{className:"max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t})})]}),xO=({setActiveTab:t})=>{const e=[{label:"Speech Analysis",icon:oa,color:"cyan",title:"No speeches analyzed yet",description:"Upload or record a speech to get AI-powered feedback on delivery, structure, and argumentation.",action:"Analyze First Speech",tab:"judge"},{label:"Live Coaching",icon:wi,color:"purple",title:"No coaching sessions yet",description:"Start a live session to get real-time feedback as you practice your speech or debate.",action:"Start Coaching",tab:"coach"},{label:"Strategy Builder",icon:Ot,color:"orange",title:"No strategies created yet",description:"Build winning debate strategies with AI-powered case analysis and argument mapping.",action:"Build Strategy",tab:"strategy"},{label:"Tone Analysis",icon:Ha,color:"emerald",title:"No tone analyses yet",description:"Analyze the rhetorical tone and persuasive elements of your speeches.",action:"Analyze Tone",tab:"tone"}],n=[{label:"New Analysis",icon:xn,tab:"judge",color:"from-cyan-500 to-blue-500"},{label:"Start Coaching",icon:Si,tab:"coach",color:"from-purple-500 to-pink-500"},{label:"Build Strategy",icon:Ot,tab:"strategy",color:"from-orange-500 to-red-500"},{label:"View History",icon:qa,tab:"history",color:"from-emerald-500 to-teal-500"}];return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"Dashboard"}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Welcome! Let's get started on improving your debate skills."})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.map((a,r)=>{const o=a.icon;return s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},className:"relative group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl"}),s.jsxs("div",{className:"relative p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm hover:border-slate-700/60 transition-all h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx("div",{className:`p-3 rounded-xl bg-${a.color}-500/10 border border-${a.color}-500/20`,children:s.jsx(o,{className:`w-6 h-6 text-${a.color}-400`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-slate-500 font-medium",children:a.label}),s.jsx("p",{className:"text-lg font-semibold text-white mt-0.5",children:a.title})]})]}),s.jsx("p",{className:"text-slate-400 text-sm flex-1 mb-4",children:a.description}),s.jsxs("button",{onClick:()=>t(a.tab),className:`w-full py-2.5 px-4 rounded-lg bg-${a.color}-500/10 border border-${a.color}-500/30 text-${a.color}-400 font-medium hover:bg-${a.color}-500/20 transition-all flex items-center justify-center gap-2`,children:[s.jsx(Cs,{className:"w-4 h-4"}),a.action]})]})]},a.label)})}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm h-full",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Performance Trend"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Track your improvement over time"})]})}),s.jsxs("div",{className:"relative h-48 mt-4 flex flex-col items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 flex items-end justify-between gap-2 px-2 opacity-20",children:[40,55,45,60,50,65,58,70,63,75,68,80].map((a,r)=>s.jsx("div",{className:"flex-1 flex flex-col items-center gap-2",children:s.jsx("div",{style:{height:`${a}%`},className:"w-full bg-gradient-to-t from-slate-700/50 to-slate-600/30 rounded-t-lg"})},r))}),s.jsxs("div",{className:"relative z-10 text-center",children:[s.jsx("div",{className:"p-4 rounded-full bg-slate-800/50 border border-slate-700/50 mb-4 mx-auto w-fit",children:s.jsx(Cn,{className:"w-8 h-8 text-slate-500"})}),s.jsx("p",{className:"text-slate-400 font-medium",children:"No performance data yet"}),s.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Complete your first analysis to start tracking progress"})]})]})]})}),s.jsx("div",{children:s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm h-full",children:[s.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Quick Actions"}),s.jsx("div",{className:"space-y-3",children:n.map((a,r)=>{const o=a.icon;return s.jsxs("button",{onClick:()=>t(a.tab),className:"w-full flex items-center gap-4 p-4 rounded-xl border border-slate-800/60 bg-slate-900/50 hover:bg-slate-800/50 hover:border-slate-700 transition-all group",children:[s.jsx("div",{className:`p-2.5 rounded-lg bg-gradient-to-br ${a.color} shadow-lg`,children:s.jsx(o,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"flex-1 text-left text-white font-medium",children:a.label}),s.jsx(mn,{className:"w-5 h-5 text-slate-500 group-hover:text-slate-300 group-hover:translate-x-1 transition-all"})]},a.label)})})]})})]}),s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Recent Activity"})}),s.jsxs("div",{className:"py-12 flex flex-col items-center justify-center",children:[s.jsx("div",{className:"p-4 rounded-full bg-slate-800/50 border border-slate-700/50 mb-4",children:s.jsx(qa,{className:"w-8 h-8 text-slate-500"})}),s.jsx("p",{className:"text-slate-400 font-medium",children:"No recent activity"}),s.jsx("p",{className:"text-slate-500 text-sm mt-1 text-center max-w-md",children:"Your recent analyses, coaching sessions, and strategies will appear here as you use the platform."}),s.jsxs("button",{onClick:()=>t("judge"),className:"mt-6 px-5 py-2.5 rounded-lg bg-cyan-500/10 border border-cyan-500/30 text-cyan-400 font-medium hover:bg-cyan-500/20 transition-all flex items-center gap-2",children:[s.jsx(xn,{className:"w-4 h-4"}),"Start Your First Analysis"]})]})]}),s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"relative overflow-hidden rounded-2xl border border-slate-800/60",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 via-purple-500/10 to-cyan-500/10"}),s.jsxs("div",{className:"relative p-6 flex items-center gap-6",children:[s.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-cyan-500 to-purple-600 shadow-lg",children:s.jsx(Mr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-white font-semibold",children:"Getting Started"}),s.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Start by analyzing your first speech. Upload a recording or paste your speech text to get detailed AI-powered feedback."})]}),s.jsx("button",{onClick:()=>t("judge"),className:"px-5 py-2.5 rounded-lg bg-white text-slate-900 font-semibold hover:bg-slate-100 transition-colors",children:"Get Started"})]})]})]})};function bO(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const yO=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,vO=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,wO={};function eN(t,e){return(wO.jsx?vO:yO).test(t)}const NO=/[ \t\n\f\r]/g;function jO(t){return typeof t=="object"?t.type==="text"?tN(t.value):!1:tN(t)}function tN(t){return t.replace(NO,"")===""}class Ed{constructor(e,n,a){this.normal=n,this.property=e,a&&(this.space=a)}}Ed.prototype.normal={};Ed.prototype.property={};Ed.prototype.space=void 0;function gS(t,e){const n={},a={};for(const r of t)Object.assign(n,r.property),Object.assign(a,r.normal);return new Ed(n,a,e)}function rx(t){return t.toLowerCase()}class fs{constructor(e,n){this.attribute=n,this.property=e}}fs.prototype.attribute="";fs.prototype.booleanish=!1;fs.prototype.boolean=!1;fs.prototype.commaOrSpaceSeparated=!1;fs.prototype.commaSeparated=!1;fs.prototype.defined=!1;fs.prototype.mustUseProperty=!1;fs.prototype.number=!1;fs.prototype.overloadedBoolean=!1;fs.prototype.property="";fs.prototype.spaceSeparated=!1;fs.prototype.space=void 0;let SO=0;const Qe=Ul(),un=Ul(),lx=Ul(),xe=Ul(),kt=Ul(),Bo=Ul(),Ss=Ul();function Ul(){return 2**++SO}const ox=Object.freeze(Object.defineProperty({__proto__:null,boolean:Qe,booleanish:un,commaOrSpaceSeparated:Ss,commaSeparated:Bo,number:xe,overloadedBoolean:lx,spaceSeparated:kt},Symbol.toStringTag,{value:"Module"})),ig=Object.keys(ox);class Cb extends fs{constructor(e,n,a,r){let o=-1;if(super(e,n),nN(this,"space",r),typeof a=="number")for(;++o<ig.length;){const c=ig[o];nN(this,ig[o],(a&ox[c])===ox[c])}}}Cb.prototype.defined=!0;function nN(t,e,n){n&&(t[e]=n)}function yc(t){const e={},n={};for(const[a,r]of Object.entries(t.properties)){const o=new Cb(a,t.transform(t.attributes||{},a),r,t.space);t.mustUseProperty&&t.mustUseProperty.includes(a)&&(o.mustUseProperty=!0),e[a]=o,n[rx(a)]=a,n[rx(o.attribute)]=a}return new Ed(e,n,t.space)}const xS=yc({properties:{ariaActiveDescendant:null,ariaAtomic:un,ariaAutoComplete:null,ariaBusy:un,ariaChecked:un,ariaColCount:xe,ariaColIndex:xe,ariaColSpan:xe,ariaControls:kt,ariaCurrent:null,ariaDescribedBy:kt,ariaDetails:null,ariaDisabled:un,ariaDropEffect:kt,ariaErrorMessage:null,ariaExpanded:un,ariaFlowTo:kt,ariaGrabbed:un,ariaHasPopup:null,ariaHidden:un,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:kt,ariaLevel:xe,ariaLive:null,ariaModal:un,ariaMultiLine:un,ariaMultiSelectable:un,ariaOrientation:null,ariaOwns:kt,ariaPlaceholder:null,ariaPosInSet:xe,ariaPressed:un,ariaReadOnly:un,ariaRelevant:null,ariaRequired:un,ariaRoleDescription:kt,ariaRowCount:xe,ariaRowIndex:xe,ariaRowSpan:xe,ariaSelected:un,ariaSetSize:xe,ariaSort:null,ariaValueMax:xe,ariaValueMin:xe,ariaValueNow:xe,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function bS(t,e){return e in t?t[e]:e}function yS(t,e){return bS(t,e.toLowerCase())}const _O=yc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Bo,acceptCharset:kt,accessKey:kt,action:null,allow:null,allowFullScreen:Qe,allowPaymentRequest:Qe,allowUserMedia:Qe,alt:null,as:null,async:Qe,autoCapitalize:null,autoComplete:kt,autoFocus:Qe,autoPlay:Qe,blocking:kt,capture:null,charSet:null,checked:Qe,cite:null,className:kt,cols:xe,colSpan:null,content:null,contentEditable:un,controls:Qe,controlsList:kt,coords:xe|Bo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Qe,defer:Qe,dir:null,dirName:null,disabled:Qe,download:lx,draggable:un,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Qe,formTarget:null,headers:kt,height:xe,hidden:lx,high:xe,href:null,hrefLang:null,htmlFor:kt,httpEquiv:kt,id:null,imageSizes:null,imageSrcSet:null,inert:Qe,inputMode:null,integrity:null,is:null,isMap:Qe,itemId:null,itemProp:kt,itemRef:kt,itemScope:Qe,itemType:kt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Qe,low:xe,manifest:null,max:null,maxLength:xe,media:null,method:null,min:null,minLength:xe,multiple:Qe,muted:Qe,name:null,nonce:null,noModule:Qe,noValidate:Qe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Qe,optimum:xe,pattern:null,ping:kt,placeholder:null,playsInline:Qe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Qe,referrerPolicy:null,rel:kt,required:Qe,reversed:Qe,rows:xe,rowSpan:xe,sandbox:kt,scope:null,scoped:Qe,seamless:Qe,selected:Qe,shadowRootClonable:Qe,shadowRootDelegatesFocus:Qe,shadowRootMode:null,shape:null,size:xe,sizes:null,slot:null,span:xe,spellCheck:un,src:null,srcDoc:null,srcLang:null,srcSet:null,start:xe,step:null,style:null,tabIndex:xe,target:null,title:null,translate:null,type:null,typeMustMatch:Qe,useMap:null,value:un,width:xe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:kt,axis:null,background:null,bgColor:null,border:xe,borderColor:null,bottomMargin:xe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Qe,declare:Qe,event:null,face:null,frame:null,frameBorder:null,hSpace:xe,leftMargin:xe,link:null,longDesc:null,lowSrc:null,marginHeight:xe,marginWidth:xe,noResize:Qe,noHref:Qe,noShade:Qe,noWrap:Qe,object:null,profile:null,prompt:null,rev:null,rightMargin:xe,rules:null,scheme:null,scrolling:un,standby:null,summary:null,text:null,topMargin:xe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:xe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Qe,disableRemotePlayback:Qe,prefix:null,property:null,results:xe,security:null,unselectable:null},space:"html",transform:yS}),TO=yc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ss,accentHeight:xe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:xe,amplitude:xe,arabicForm:null,ascent:xe,attributeName:null,attributeType:null,azimuth:xe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:xe,by:null,calcMode:null,capHeight:xe,className:kt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:xe,diffuseConstant:xe,direction:null,display:null,dur:null,divisor:xe,dominantBaseline:null,download:Qe,dx:null,dy:null,edgeMode:null,editable:null,elevation:xe,enableBackground:null,end:null,event:null,exponent:xe,externalResourcesRequired:null,fill:null,fillOpacity:xe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Bo,g2:Bo,glyphName:Bo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:xe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:xe,horizOriginX:xe,horizOriginY:xe,id:null,ideographic:xe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:xe,k:xe,k1:xe,k2:xe,k3:xe,k4:xe,kernelMatrix:Ss,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:xe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:xe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:xe,overlineThickness:xe,paintOrder:null,panose1:null,path:null,pathLength:xe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:kt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:xe,pointsAtY:xe,pointsAtZ:xe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ss,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ss,rev:Ss,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ss,requiredFeatures:Ss,requiredFonts:Ss,requiredFormats:Ss,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:xe,specularExponent:xe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:xe,strikethroughThickness:xe,string:null,stroke:null,strokeDashArray:Ss,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:xe,strokeOpacity:xe,strokeWidth:null,style:null,surfaceScale:xe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ss,tabIndex:xe,tableValues:null,target:null,targetX:xe,targetY:xe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ss,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:xe,underlineThickness:xe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:xe,values:null,vAlphabetic:xe,vMathematical:xe,vectorEffect:null,vHanging:xe,vIdeographic:xe,version:null,vertAdvY:xe,vertOriginX:xe,vertOriginY:xe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:xe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:bS}),vS=yc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),wS=yc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:yS}),NS=yc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),EO={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},CO=/[A-Z]/g,sN=/-[a-z]/g,AO=/^data[-\w.:]+$/i;function kO(t,e){const n=rx(e);let a=e,r=fs;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&AO.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(sN,IO);a="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!sN.test(o)){let c=o.replace(CO,RO);c.charAt(0)!=="-"&&(c="-"+c),e="data"+c}}r=Cb}return new r(a,e)}function RO(t){return"-"+t.toLowerCase()}function IO(t){return t.charAt(1).toUpperCase()}const DO=gS([xS,_O,vS,wS,NS],"html"),Ab=gS([xS,TO,vS,wS,NS],"svg");function MO(t){return t.join(" ").trim()}var Co={},rg,aN;function OO(){if(aN)return rg;aN=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,d=/^\s+|\s+$/g,m=`
`,f="/",x="*",b="",v="comment",w="declaration";function j(k,V){if(typeof k!="string")throw new TypeError("First argument must be a string");if(!k)return[];V=V||{};var I=1,B=1;function Q(te){var J=te.match(e);J&&(I+=J.length);var q=te.lastIndexOf(m);B=~q?te.length-q:B+te.length}function se(){var te={line:I,column:B};return function(J){return J.position=new G(te),L(),J}}function G(te){this.start=te,this.end={line:I,column:B},this.source=V.source}G.prototype.content=k;function R(te){var J=new Error(V.source+":"+I+":"+B+": "+te);if(J.reason=te,J.filename=V.source,J.line=I,J.column=B,J.source=k,!V.silent)throw J}function A(te){var J=te.exec(k);if(J){var q=J[0];return Q(q),k=k.slice(q.length),J}}function L(){A(n)}function T(te){var J;for(te=te||[];J=C();)J!==!1&&te.push(J);return te}function C(){var te=se();if(!(f!=k.charAt(0)||x!=k.charAt(1))){for(var J=2;b!=k.charAt(J)&&(x!=k.charAt(J)||f!=k.charAt(J+1));)++J;if(J+=2,b===k.charAt(J-1))return R("End of comment missing");var q=k.slice(2,J-2);return B+=2,Q(q),k=k.slice(J),B+=2,te({type:v,comment:q})}}function P(){var te=se(),J=A(a);if(J){if(C(),!A(r))return R("property missing ':'");var q=A(o),X=te({type:w,property:D(J[0].replace(t,b)),value:q?D(q[0].replace(t,b)):b});return A(c),X}}function O(){var te=[];T(te);for(var J;J=P();)J!==!1&&(te.push(J),T(te));return te}return L(),O()}function D(k){return k?k.replace(d,b):b}return rg=j,rg}var iN;function PO(){if(iN)return Co;iN=1;var t=Co&&Co.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Co,"__esModule",{value:!0}),Co.default=n;const e=t(OO());function n(a,r){let o=null;if(!a||typeof a!="string")return o;const c=(0,e.default)(a),d=typeof r=="function";return c.forEach(m=>{if(m.type!=="declaration")return;const{property:f,value:x}=m;d?r(f,x,m):x&&(o=o||{},o[f]=x)}),o}return Co}var Su={},rN;function LO(){if(rN)return Su;rN=1,Object.defineProperty(Su,"__esModule",{value:!0}),Su.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,o=function(f){return!f||n.test(f)||t.test(f)},c=function(f,x){return x.toUpperCase()},d=function(f,x){return"".concat(x,"-")},m=function(f,x){return x===void 0&&(x={}),o(f)?f:(f=f.toLowerCase(),x.reactCompat?f=f.replace(r,d):f=f.replace(a,d),f.replace(e,c))};return Su.camelCase=m,Su}var _u,lN;function VO(){if(lN)return _u;lN=1;var t=_u&&_u.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},e=t(PO()),n=LO();function a(r,o){var c={};return!r||typeof r!="string"||(0,e.default)(r,function(d,m){d&&m&&(c[(0,n.camelCase)(d,o)]=m)}),c}return a.default=a,_u=a,_u}var UO=VO();const zO=jx(UO),jS=SS("end"),kb=SS("start");function SS(t){return e;function e(n){const a=n&&n.position&&n.position[t]||{};if(typeof a.line=="number"&&a.line>0&&typeof a.column=="number"&&a.column>0)return{line:a.line,column:a.column,offset:typeof a.offset=="number"&&a.offset>-1?a.offset:void 0}}}function FO(t){const e=kb(t),n=jS(t);if(e&&n)return{start:e,end:n}}function Fu(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?oN(t.position):"start"in t||"end"in t?oN(t):"line"in t||"column"in t?cx(t):""}function cx(t){return cN(t&&t.line)+":"+cN(t&&t.column)}function oN(t){return cx(t&&t.start)+"-"+cx(t&&t.end)}function cN(t){return t&&typeof t=="number"?t:1}class Wn extends Error{constructor(e,n,a){super(),typeof n=="string"&&(a=n,n=void 0);let r="",o={},c=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?r=e:!o.cause&&e&&(c=!0,r=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof a=="string"){const m=a.indexOf(":");m===-1?o.ruleId=a:(o.source=a.slice(0,m),o.ruleId=a.slice(m+1))}if(!o.place&&o.ancestors&&o.ancestors){const m=o.ancestors[o.ancestors.length-1];m&&(o.place=m.position)}const d=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=d?d.line:void 0,this.name=Fu(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=c&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Wn.prototype.file="";Wn.prototype.name="";Wn.prototype.reason="";Wn.prototype.message="";Wn.prototype.stack="";Wn.prototype.column=void 0;Wn.prototype.line=void 0;Wn.prototype.ancestors=void 0;Wn.prototype.cause=void 0;Wn.prototype.fatal=void 0;Wn.prototype.place=void 0;Wn.prototype.ruleId=void 0;Wn.prototype.source=void 0;const Rb={}.hasOwnProperty,BO=new Map,$O=/[A-Z]/g,qO=new Set(["table","tbody","thead","tfoot","tr"]),HO=new Set(["td","th"]),_S="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function GO(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let a;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");a=eP(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");a=ZO(n,e.jsx,e.jsxs)}const r={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:a,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Ab:DO,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=TS(r,t,void 0);return o&&typeof o!="string"?o:r.create(t,r.Fragment,{children:o||void 0},void 0)}function TS(t,e,n){if(e.type==="element")return YO(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return QO(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return WO(t,e,n);if(e.type==="mdxjsEsm")return KO(t,e);if(e.type==="root")return XO(t,e,n);if(e.type==="text")return JO(t,e)}function YO(t,e,n){const a=t.schema;let r=a;e.tagName.toLowerCase()==="svg"&&a.space==="html"&&(r=Ab,t.schema=r),t.ancestors.push(e);const o=CS(t,e.tagName,!1),c=tP(t,e);let d=Db(t,e);return qO.has(e.tagName)&&(d=d.filter(function(m){return typeof m=="string"?!jO(m):!0})),ES(t,c,o,e),Ib(c,d),t.ancestors.pop(),t.schema=a,t.create(e,o,c,n)}function QO(t,e){if(e.data&&e.data.estree&&t.evaluater){const a=e.data.estree.body[0];return a.type,t.evaluater.evaluateExpression(a.expression)}id(t,e.position)}function KO(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);id(t,e.position)}function WO(t,e,n){const a=t.schema;let r=a;e.name==="svg"&&a.space==="html"&&(r=Ab,t.schema=r),t.ancestors.push(e);const o=e.name===null?t.Fragment:CS(t,e.name,!0),c=nP(t,e),d=Db(t,e);return ES(t,c,o,e),Ib(c,d),t.ancestors.pop(),t.schema=a,t.create(e,o,c,n)}function XO(t,e,n){const a={};return Ib(a,Db(t,e)),t.create(e,t.Fragment,a,n)}function JO(t,e){return e.value}function ES(t,e,n,a){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=a)}function Ib(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function ZO(t,e,n){return a;function a(r,o,c,d){const f=Array.isArray(c.children)?n:e;return d?f(o,c,d):f(o,c)}}function eP(t,e){return n;function n(a,r,o,c){const d=Array.isArray(o.children),m=kb(a);return e(r,o,c,d,{columnNumber:m?m.column-1:void 0,fileName:t,lineNumber:m?m.line:void 0},void 0)}}function tP(t,e){const n={};let a,r;for(r in e.properties)if(r!=="children"&&Rb.call(e.properties,r)){const o=sP(t,r,e.properties[r]);if(o){const[c,d]=o;t.tableCellAlignToStyle&&c==="align"&&typeof d=="string"&&HO.has(e.tagName)?a=d:n[c]=d}}if(a){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}return n}function nP(t,e){const n={};for(const a of e.attributes)if(a.type==="mdxJsxExpressionAttribute")if(a.data&&a.data.estree&&t.evaluater){const o=a.data.estree.body[0];o.type;const c=o.expression;c.type;const d=c.properties[0];d.type,Object.assign(n,t.evaluater.evaluateExpression(d.argument))}else id(t,e.position);else{const r=a.name;let o;if(a.value&&typeof a.value=="object")if(a.value.data&&a.value.data.estree&&t.evaluater){const d=a.value.data.estree.body[0];d.type,o=t.evaluater.evaluateExpression(d.expression)}else id(t,e.position);else o=a.value===null?!0:a.value;n[r]=o}return n}function Db(t,e){const n=[];let a=-1;const r=t.passKeys?new Map:BO;for(;++a<e.children.length;){const o=e.children[a];let c;if(t.passKeys){const m=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(m){const f=r.get(m)||0;c=m+"-"+f,r.set(m,f+1)}}const d=TS(t,o,c);d!==void 0&&n.push(d)}return n}function sP(t,e,n){const a=kO(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=a.commaSeparated?bO(n):MO(n)),a.property==="style"){let r=typeof n=="object"?n:aP(t,String(n));return t.stylePropertyNameCase==="css"&&(r=iP(r)),["style",r]}return[t.elementAttributeNameCase==="react"&&a.space?EO[a.property]||a.property:a.attribute,n]}}function aP(t,e){try{return zO(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const a=n,r=new Wn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=t.filePath||void 0,r.url=_S+"#cannot-parse-style-attribute",r}}function CS(t,e,n){let a;if(!n)a={type:"Literal",value:e};else if(e.includes(".")){const r=e.split(".");let o=-1,c;for(;++o<r.length;){const d=eN(r[o])?{type:"Identifier",name:r[o]}:{type:"Literal",value:r[o]};c=c?{type:"MemberExpression",object:c,property:d,computed:!!(o&&d.type==="Literal"),optional:!1}:d}a=c}else a=eN(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(a.type==="Literal"){const r=a.value;return Rb.call(t.components,r)?t.components[r]:r}if(t.evaluater)return t.evaluater.evaluateExpression(a);id(t)}function id(t,e){const n=new Wn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=_S+"#cannot-handle-mdx-estrees-without-createevaluater",n}function iP(t){const e={};let n;for(n in t)Rb.call(t,n)&&(e[rP(n)]=t[n]);return e}function rP(t){let e=t.replace($O,lP);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function lP(t){return"-"+t.toLowerCase()}const lg={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},oP={};function Mb(t,e){const n=oP,a=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,r=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return AS(t,a,r)}function AS(t,e,n){if(cP(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return uN(t.children,e,n)}return Array.isArray(t)?uN(t,e,n):""}function uN(t,e,n){const a=[];let r=-1;for(;++r<t.length;)a[r]=AS(t[r],e,n);return a.join("")}function cP(t){return!!(t&&typeof t=="object")}const dN=document.createElement("i");function Ob(t){const e="&"+t+";";dN.innerHTML=e;const n=dN.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Es(t,e,n,a){const r=t.length;let o=0,c;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,n=n>0?n:0,a.length<1e4)c=Array.from(a),c.unshift(e,n),t.splice(...c);else for(n&&t.splice(e,n);o<a.length;)c=a.slice(o,o+1e4),c.unshift(e,0),t.splice(...c),o+=1e4,e+=1e4}function Bs(t,e){return t.length>0?(Es(t,t.length,0,e),t):e}const hN={}.hasOwnProperty;function kS(t){const e={};let n=-1;for(;++n<t.length;)uP(e,t[n]);return e}function uP(t,e){let n;for(n in e){const r=(hN.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let c;if(o)for(c in o){hN.call(r,c)||(r[c]=[]);const d=o[c];dP(r[c],Array.isArray(d)?d:d?[d]:[])}}}function dP(t,e){let n=-1;const a=[];for(;++n<e.length;)(e[n].add==="after"?t:a).push(e[n]);Es(t,0,0,a)}function RS(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ua(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Zn=zr(/[A-Za-z]/),Yn=zr(/[\dA-Za-z]/),hP=zr(/[#-'*+\--9=?A-Z^-~]/);function Xm(t){return t!==null&&(t<32||t===127)}const ux=zr(/\d/),mP=zr(/[\dA-Fa-f]/),fP=zr(/[!-/:-@[-`{-~]/);function Oe(t){return t!==null&&t<-2}function Ct(t){return t!==null&&(t<0||t===32)}function Ze(t){return t===-2||t===-1||t===32}const Ff=zr(new RegExp("\\p{P}|\\p{S}","u")),Al=zr(/\s/);function zr(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function vc(t){const e=[];let n=-1,a=0,r=0;for(;++n<t.length;){const o=t.charCodeAt(n);let c="";if(o===37&&Yn(t.charCodeAt(n+1))&&Yn(t.charCodeAt(n+2)))r=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(c=String.fromCharCode(o));else if(o>55295&&o<57344){const d=t.charCodeAt(n+1);o<56320&&d>56319&&d<57344?(c=String.fromCharCode(o,d),r=1):c=""}else c=String.fromCharCode(o);c&&(e.push(t.slice(a,n),encodeURIComponent(c)),a=n+r+1,c=""),r&&(n+=r,r=0)}return e.join("")+t.slice(a)}function ct(t,e,n,a){const r=a?a-1:Number.POSITIVE_INFINITY;let o=0;return c;function c(m){return Ze(m)?(t.enter(n),d(m)):e(m)}function d(m){return Ze(m)&&o++<r?(t.consume(m),d):(t.exit(n),e(m))}}const pP={tokenize:gP};function gP(t){const e=t.attempt(this.parser.constructs.contentInitial,a,r);let n;return e;function a(d){if(d===null){t.consume(d);return}return t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),ct(t,e,"linePrefix")}function r(d){return t.enter("paragraph"),o(d)}function o(d){const m=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=m),n=m,c(d)}function c(d){if(d===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(d);return}return Oe(d)?(t.consume(d),t.exit("chunkText"),o):(t.consume(d),c)}}const xP={tokenize:bP},mN={tokenize:yP};function bP(t){const e=this,n=[];let a=0,r,o,c;return d;function d(B){if(a<n.length){const Q=n[a];return e.containerState=Q[1],t.attempt(Q[0].continuation,m,f)(B)}return f(B)}function m(B){if(a++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&I();const Q=e.events.length;let se=Q,G;for(;se--;)if(e.events[se][0]==="exit"&&e.events[se][1].type==="chunkFlow"){G=e.events[se][1].end;break}V(a);let R=Q;for(;R<e.events.length;)e.events[R][1].end={...G},R++;return Es(e.events,se+1,0,e.events.slice(Q)),e.events.length=R,f(B)}return d(B)}function f(B){if(a===n.length){if(!r)return v(B);if(r.currentConstruct&&r.currentConstruct.concrete)return j(B);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(mN,x,b)(B)}function x(B){return r&&I(),V(a),v(B)}function b(B){return e.parser.lazy[e.now().line]=a!==n.length,c=e.now().offset,j(B)}function v(B){return e.containerState={},t.attempt(mN,w,j)(B)}function w(B){return a++,n.push([e.currentConstruct,e.containerState]),v(B)}function j(B){if(B===null){r&&I(),V(0),t.consume(B);return}return r=r||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:o}),D(B)}function D(B){if(B===null){k(t.exit("chunkFlow"),!0),V(0),t.consume(B);return}return Oe(B)?(t.consume(B),k(t.exit("chunkFlow")),a=0,e.interrupt=void 0,d):(t.consume(B),D)}function k(B,Q){const se=e.sliceStream(B);if(Q&&se.push(null),B.previous=o,o&&(o.next=B),o=B,r.defineSkip(B.start),r.write(se),e.parser.lazy[B.start.line]){let G=r.events.length;for(;G--;)if(r.events[G][1].start.offset<c&&(!r.events[G][1].end||r.events[G][1].end.offset>c))return;const R=e.events.length;let A=R,L,T;for(;A--;)if(e.events[A][0]==="exit"&&e.events[A][1].type==="chunkFlow"){if(L){T=e.events[A][1].end;break}L=!0}for(V(a),G=R;G<e.events.length;)e.events[G][1].end={...T},G++;Es(e.events,A+1,0,e.events.slice(R)),e.events.length=G}}function V(B){let Q=n.length;for(;Q-- >B;){const se=n[Q];e.containerState=se[1],se[0].exit.call(e,t)}n.length=B}function I(){r.write([null]),o=void 0,r=void 0,e.containerState._closeFlow=void 0}}function yP(t,e,n){return ct(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function nc(t){if(t===null||Ct(t)||Al(t))return 1;if(Ff(t))return 2}function Bf(t,e,n){const a=[];let r=-1;for(;++r<t.length;){const o=t[r].resolveAll;o&&!a.includes(o)&&(e=o(e,n),a.push(o))}return e}const dx={name:"attention",resolveAll:vP,tokenize:wP};function vP(t,e){let n=-1,a,r,o,c,d,m,f,x;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(a=n;a--;)if(t[a][0]==="exit"&&t[a][1].type==="attentionSequence"&&t[a][1]._open&&e.sliceSerialize(t[a][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[a][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[a][1].end.offset-t[a][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;m=t[a][1].end.offset-t[a][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const b={...t[a][1].end},v={...t[n][1].start};fN(b,-m),fN(v,m),c={type:m>1?"strongSequence":"emphasisSequence",start:b,end:{...t[a][1].end}},d={type:m>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:v},o={type:m>1?"strongText":"emphasisText",start:{...t[a][1].end},end:{...t[n][1].start}},r={type:m>1?"strong":"emphasis",start:{...c.start},end:{...d.end}},t[a][1].end={...c.start},t[n][1].start={...d.end},f=[],t[a][1].end.offset-t[a][1].start.offset&&(f=Bs(f,[["enter",t[a][1],e],["exit",t[a][1],e]])),f=Bs(f,[["enter",r,e],["enter",c,e],["exit",c,e],["enter",o,e]]),f=Bs(f,Bf(e.parser.constructs.insideSpan.null,t.slice(a+1,n),e)),f=Bs(f,[["exit",o,e],["enter",d,e],["exit",d,e],["exit",r,e]]),t[n][1].end.offset-t[n][1].start.offset?(x=2,f=Bs(f,[["enter",t[n][1],e],["exit",t[n][1],e]])):x=0,Es(t,a-1,n-a+3,f),n=a+f.length-x-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function wP(t,e){const n=this.parser.constructs.attentionMarkers.null,a=this.previous,r=nc(a);let o;return c;function c(m){return o=m,t.enter("attentionSequence"),d(m)}function d(m){if(m===o)return t.consume(m),d;const f=t.exit("attentionSequence"),x=nc(m),b=!x||x===2&&r||n.includes(m),v=!r||r===2&&x||n.includes(a);return f._open=!!(o===42?b:b&&(r||!v)),f._close=!!(o===42?v:v&&(x||!b)),e(m)}}function fN(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const NP={name:"autolink",tokenize:jP};function jP(t,e,n){let a=0;return r;function r(w){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(w){return Zn(w)?(t.consume(w),c):w===64?n(w):f(w)}function c(w){return w===43||w===45||w===46||Yn(w)?(a=1,d(w)):f(w)}function d(w){return w===58?(t.consume(w),a=0,m):(w===43||w===45||w===46||Yn(w))&&a++<32?(t.consume(w),d):(a=0,f(w))}function m(w){return w===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):w===null||w===32||w===60||Xm(w)?n(w):(t.consume(w),m)}function f(w){return w===64?(t.consume(w),x):hP(w)?(t.consume(w),f):n(w)}function x(w){return Yn(w)?b(w):n(w)}function b(w){return w===46?(t.consume(w),a=0,x):w===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):v(w)}function v(w){if((w===45||Yn(w))&&a++<63){const j=w===45?v:b;return t.consume(w),j}return n(w)}}const Cd={partial:!0,tokenize:SP};function SP(t,e,n){return a;function a(o){return Ze(o)?ct(t,r,"linePrefix")(o):r(o)}function r(o){return o===null||Oe(o)?e(o):n(o)}}const IS={continuation:{tokenize:TP},exit:EP,name:"blockQuote",tokenize:_P};function _P(t,e,n){const a=this;return r;function r(c){if(c===62){const d=a.containerState;return d.open||(t.enter("blockQuote",{_container:!0}),d.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(c),t.exit("blockQuoteMarker"),o}return n(c)}function o(c){return Ze(c)?(t.enter("blockQuotePrefixWhitespace"),t.consume(c),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(c))}}function TP(t,e,n){const a=this;return r;function r(c){return Ze(c)?ct(t,o,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):o(c)}function o(c){return t.attempt(IS,e,n)(c)}}function EP(t){t.exit("blockQuote")}const DS={name:"characterEscape",tokenize:CP};function CP(t,e,n){return a;function a(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),r}function r(o){return fP(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const MS={name:"characterReference",tokenize:AP};function AP(t,e,n){const a=this;let r=0,o,c;return d;function d(b){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),m}function m(b){return b===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(b),t.exit("characterReferenceMarkerNumeric"),f):(t.enter("characterReferenceValue"),o=31,c=Yn,x(b))}function f(b){return b===88||b===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(b),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,c=mP,x):(t.enter("characterReferenceValue"),o=7,c=ux,x(b))}function x(b){if(b===59&&r){const v=t.exit("characterReferenceValue");return c===Yn&&!Ob(a.sliceSerialize(v))?n(b):(t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return c(b)&&r++<o?(t.consume(b),x):n(b)}}const pN={partial:!0,tokenize:RP},gN={concrete:!0,name:"codeFenced",tokenize:kP};function kP(t,e,n){const a=this,r={partial:!0,tokenize:se};let o=0,c=0,d;return m;function m(G){return f(G)}function f(G){const R=a.events[a.events.length-1];return o=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,d=G,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),x(G)}function x(G){return G===d?(c++,t.consume(G),x):c<3?n(G):(t.exit("codeFencedFenceSequence"),Ze(G)?ct(t,b,"whitespace")(G):b(G))}function b(G){return G===null||Oe(G)?(t.exit("codeFencedFence"),a.interrupt?e(G):t.check(pN,D,Q)(G)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),v(G))}function v(G){return G===null||Oe(G)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),b(G)):Ze(G)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),ct(t,w,"whitespace")(G)):G===96&&G===d?n(G):(t.consume(G),v)}function w(G){return G===null||Oe(G)?b(G):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),j(G))}function j(G){return G===null||Oe(G)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),b(G)):G===96&&G===d?n(G):(t.consume(G),j)}function D(G){return t.attempt(r,Q,k)(G)}function k(G){return t.enter("lineEnding"),t.consume(G),t.exit("lineEnding"),V}function V(G){return o>0&&Ze(G)?ct(t,I,"linePrefix",o+1)(G):I(G)}function I(G){return G===null||Oe(G)?t.check(pN,D,Q)(G):(t.enter("codeFlowValue"),B(G))}function B(G){return G===null||Oe(G)?(t.exit("codeFlowValue"),I(G)):(t.consume(G),B)}function Q(G){return t.exit("codeFenced"),e(G)}function se(G,R,A){let L=0;return T;function T(J){return G.enter("lineEnding"),G.consume(J),G.exit("lineEnding"),C}function C(J){return G.enter("codeFencedFence"),Ze(J)?ct(G,P,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):P(J)}function P(J){return J===d?(G.enter("codeFencedFenceSequence"),O(J)):A(J)}function O(J){return J===d?(L++,G.consume(J),O):L>=c?(G.exit("codeFencedFenceSequence"),Ze(J)?ct(G,te,"whitespace")(J):te(J)):A(J)}function te(J){return J===null||Oe(J)?(G.exit("codeFencedFence"),R(J)):A(J)}}}function RP(t,e,n){const a=this;return r;function r(c){return c===null?n(c):(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),o)}function o(c){return a.parser.lazy[a.now().line]?n(c):e(c)}}const og={name:"codeIndented",tokenize:DP},IP={partial:!0,tokenize:MP};function DP(t,e,n){const a=this;return r;function r(f){return t.enter("codeIndented"),ct(t,o,"linePrefix",5)(f)}function o(f){const x=a.events[a.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?c(f):n(f)}function c(f){return f===null?m(f):Oe(f)?t.attempt(IP,c,m)(f):(t.enter("codeFlowValue"),d(f))}function d(f){return f===null||Oe(f)?(t.exit("codeFlowValue"),c(f)):(t.consume(f),d)}function m(f){return t.exit("codeIndented"),e(f)}}function MP(t,e,n){const a=this;return r;function r(c){return a.parser.lazy[a.now().line]?n(c):Oe(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),r):ct(t,o,"linePrefix",5)(c)}function o(c){const d=a.events[a.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?e(c):Oe(c)?r(c):n(c)}}const OP={name:"codeText",previous:LP,resolve:PP,tokenize:VP};function PP(t){let e=t.length-4,n=3,a,r;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(a=n;++a<e;)if(t[a][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(a=n-1,e++;++a<=e;)r===void 0?a!==e&&t[a][1].type!=="lineEnding"&&(r=a):(a===e||t[a][1].type==="lineEnding")&&(t[r][1].type="codeTextData",a!==r+2&&(t[r][1].end=t[a-1][1].end,t.splice(r+2,a-r-2),e-=a-r-2,a=r+2),r=void 0);return t}function LP(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function VP(t,e,n){let a=0,r,o;return c;function c(b){return t.enter("codeText"),t.enter("codeTextSequence"),d(b)}function d(b){return b===96?(t.consume(b),a++,d):(t.exit("codeTextSequence"),m(b))}function m(b){return b===null?n(b):b===32?(t.enter("space"),t.consume(b),t.exit("space"),m):b===96?(o=t.enter("codeTextSequence"),r=0,x(b)):Oe(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),m):(t.enter("codeTextData"),f(b))}function f(b){return b===null||b===32||b===96||Oe(b)?(t.exit("codeTextData"),m(b)):(t.consume(b),f)}function x(b){return b===96?(t.consume(b),r++,x):r===a?(t.exit("codeTextSequence"),t.exit("codeText"),e(b)):(o.type="codeTextData",f(b))}}class UP{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const a=n??Number.POSITIVE_INFINITY;return a<this.left.length?this.left.slice(e,a):e>this.left.length?this.right.slice(this.right.length-a+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-a+this.left.length).reverse())}splice(e,n,a){const r=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return a&&Tu(this.left,a),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Tu(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Tu(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Tu(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Tu(this.left,n.reverse())}}}function Tu(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function OS(t){const e={};let n=-1,a,r,o,c,d,m,f;const x=new UP(t);for(;++n<x.length;){for(;n in e;)n=e[n];if(a=x.get(n),n&&a[1].type==="chunkFlow"&&x.get(n-1)[1].type==="listItemPrefix"&&(m=a[1]._tokenizer.events,o=0,o<m.length&&m[o][1].type==="lineEndingBlank"&&(o+=2),o<m.length&&m[o][1].type==="content"))for(;++o<m.length&&m[o][1].type!=="content";)m[o][1].type==="chunkText"&&(m[o][1]._isInFirstContentOfListItem=!0,o++);if(a[0]==="enter")a[1].contentType&&(Object.assign(e,zP(x,n)),n=e[n],f=!0);else if(a[1]._container){for(o=n,r=void 0;o--;)if(c=x.get(o),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(r&&(x.get(r)[1].type="lineEndingBlank"),c[1].type="lineEnding",r=o);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;r&&(a[1].end={...x.get(r)[1].start},d=x.slice(r,n),d.unshift(a),x.splice(r,n-r+1,d))}}return Es(t,0,Number.POSITIVE_INFINITY,x.slice(0)),!f}function zP(t,e){const n=t.get(e)[1],a=t.get(e)[2];let r=e-1;const o=[];let c=n._tokenizer;c||(c=a.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const d=c.events,m=[],f={};let x,b,v=-1,w=n,j=0,D=0;const k=[D];for(;w;){for(;t.get(++r)[1]!==w;);o.push(r),w._tokenizer||(x=a.sliceStream(w),w.next||x.push(null),b&&c.defineSkip(w.start),w._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(x),w._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),b=w,w=w.next}for(w=n;++v<d.length;)d[v][0]==="exit"&&d[v-1][0]==="enter"&&d[v][1].type===d[v-1][1].type&&d[v][1].start.line!==d[v][1].end.line&&(D=v+1,k.push(D),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(c.events=[],w?(w._tokenizer=void 0,w.previous=void 0):k.pop(),v=k.length;v--;){const V=d.slice(k[v],k[v+1]),I=o.pop();m.push([I,I+V.length-1]),t.splice(I,2,V)}for(m.reverse(),v=-1;++v<m.length;)f[j+m[v][0]]=j+m[v][1],j+=m[v][1]-m[v][0]-1;return f}const FP={resolve:$P,tokenize:qP},BP={partial:!0,tokenize:HP};function $P(t){return OS(t),t}function qP(t,e){let n;return a;function a(d){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),r(d)}function r(d){return d===null?o(d):Oe(d)?t.check(BP,c,o)(d):(t.consume(d),r)}function o(d){return t.exit("chunkContent"),t.exit("content"),e(d)}function c(d){return t.consume(d),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}function HP(t,e,n){const a=this;return r;function r(c){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),ct(t,o,"linePrefix")}function o(c){if(c===null||Oe(c))return n(c);const d=a.events[a.events.length-1];return!a.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?e(c):t.interrupt(a.parser.constructs.flow,n,e)(c)}}function PS(t,e,n,a,r,o,c,d,m){const f=m||Number.POSITIVE_INFINITY;let x=0;return b;function b(V){return V===60?(t.enter(a),t.enter(r),t.enter(o),t.consume(V),t.exit(o),v):V===null||V===32||V===41||Xm(V)?n(V):(t.enter(a),t.enter(c),t.enter(d),t.enter("chunkString",{contentType:"string"}),D(V))}function v(V){return V===62?(t.enter(o),t.consume(V),t.exit(o),t.exit(r),t.exit(a),e):(t.enter(d),t.enter("chunkString",{contentType:"string"}),w(V))}function w(V){return V===62?(t.exit("chunkString"),t.exit(d),v(V)):V===null||V===60||Oe(V)?n(V):(t.consume(V),V===92?j:w)}function j(V){return V===60||V===62||V===92?(t.consume(V),w):w(V)}function D(V){return!x&&(V===null||V===41||Ct(V))?(t.exit("chunkString"),t.exit(d),t.exit(c),t.exit(a),e(V)):x<f&&V===40?(t.consume(V),x++,D):V===41?(t.consume(V),x--,D):V===null||V===32||V===40||Xm(V)?n(V):(t.consume(V),V===92?k:D)}function k(V){return V===40||V===41||V===92?(t.consume(V),D):D(V)}}function LS(t,e,n,a,r,o){const c=this;let d=0,m;return f;function f(w){return t.enter(a),t.enter(r),t.consume(w),t.exit(r),t.enter(o),x}function x(w){return d>999||w===null||w===91||w===93&&!m||w===94&&!d&&"_hiddenFootnoteSupport"in c.parser.constructs?n(w):w===93?(t.exit(o),t.enter(r),t.consume(w),t.exit(r),t.exit(a),e):Oe(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),x):(t.enter("chunkString",{contentType:"string"}),b(w))}function b(w){return w===null||w===91||w===93||Oe(w)||d++>999?(t.exit("chunkString"),x(w)):(t.consume(w),m||(m=!Ze(w)),w===92?v:b)}function v(w){return w===91||w===92||w===93?(t.consume(w),d++,b):b(w)}}function VS(t,e,n,a,r,o){let c;return d;function d(v){return v===34||v===39||v===40?(t.enter(a),t.enter(r),t.consume(v),t.exit(r),c=v===40?41:v,m):n(v)}function m(v){return v===c?(t.enter(r),t.consume(v),t.exit(r),t.exit(a),e):(t.enter(o),f(v))}function f(v){return v===c?(t.exit(o),m(c)):v===null?n(v):Oe(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),ct(t,f,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),x(v))}function x(v){return v===c||v===null||Oe(v)?(t.exit("chunkString"),f(v)):(t.consume(v),v===92?b:x)}function b(v){return v===c||v===92?(t.consume(v),x):x(v)}}function Bu(t,e){let n;return a;function a(r){return Oe(r)?(t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),n=!0,a):Ze(r)?ct(t,a,n?"linePrefix":"lineSuffix")(r):e(r)}}const GP={name:"definition",tokenize:QP},YP={partial:!0,tokenize:KP};function QP(t,e,n){const a=this;let r;return o;function o(w){return t.enter("definition"),c(w)}function c(w){return LS.call(a,t,d,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function d(w){return r=ua(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),m):n(w)}function m(w){return Ct(w)?Bu(t,f)(w):f(w)}function f(w){return PS(t,x,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function x(w){return t.attempt(YP,b,b)(w)}function b(w){return Ze(w)?ct(t,v,"whitespace")(w):v(w)}function v(w){return w===null||Oe(w)?(t.exit("definition"),a.parser.defined.push(r),e(w)):n(w)}}function KP(t,e,n){return a;function a(d){return Ct(d)?Bu(t,r)(d):n(d)}function r(d){return VS(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function o(d){return Ze(d)?ct(t,c,"whitespace")(d):c(d)}function c(d){return d===null||Oe(d)?e(d):n(d)}}const WP={name:"hardBreakEscape",tokenize:XP};function XP(t,e,n){return a;function a(o){return t.enter("hardBreakEscape"),t.consume(o),r}function r(o){return Oe(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const JP={name:"headingAtx",resolve:ZP,tokenize:e9};function ZP(t,e){let n=t.length-2,a=3,r,o;return t[a][1].type==="whitespace"&&(a+=2),n-2>a&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(a===n-1||n-4>a&&t[n-2][1].type==="whitespace")&&(n-=a+1===n?2:4),n>a&&(r={type:"atxHeadingText",start:t[a][1].start,end:t[n][1].end},o={type:"chunkText",start:t[a][1].start,end:t[n][1].end,contentType:"text"},Es(t,a,n-a+1,[["enter",r,e],["enter",o,e],["exit",o,e],["exit",r,e]])),t}function e9(t,e,n){let a=0;return r;function r(x){return t.enter("atxHeading"),o(x)}function o(x){return t.enter("atxHeadingSequence"),c(x)}function c(x){return x===35&&a++<6?(t.consume(x),c):x===null||Ct(x)?(t.exit("atxHeadingSequence"),d(x)):n(x)}function d(x){return x===35?(t.enter("atxHeadingSequence"),m(x)):x===null||Oe(x)?(t.exit("atxHeading"),e(x)):Ze(x)?ct(t,d,"whitespace")(x):(t.enter("atxHeadingText"),f(x))}function m(x){return x===35?(t.consume(x),m):(t.exit("atxHeadingSequence"),d(x))}function f(x){return x===null||x===35||Ct(x)?(t.exit("atxHeadingText"),d(x)):(t.consume(x),f)}}const t9=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],xN=["pre","script","style","textarea"],n9={concrete:!0,name:"htmlFlow",resolveTo:i9,tokenize:r9},s9={partial:!0,tokenize:o9},a9={partial:!0,tokenize:l9};function i9(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function r9(t,e,n){const a=this;let r,o,c,d,m;return f;function f(z){return x(z)}function x(z){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(z),b}function b(z){return z===33?(t.consume(z),v):z===47?(t.consume(z),o=!0,D):z===63?(t.consume(z),r=3,a.interrupt?e:$):Zn(z)?(t.consume(z),c=String.fromCharCode(z),k):n(z)}function v(z){return z===45?(t.consume(z),r=2,w):z===91?(t.consume(z),r=5,d=0,j):Zn(z)?(t.consume(z),r=4,a.interrupt?e:$):n(z)}function w(z){return z===45?(t.consume(z),a.interrupt?e:$):n(z)}function j(z){const Te="CDATA[";return z===Te.charCodeAt(d++)?(t.consume(z),d===Te.length?a.interrupt?e:P:j):n(z)}function D(z){return Zn(z)?(t.consume(z),c=String.fromCharCode(z),k):n(z)}function k(z){if(z===null||z===47||z===62||Ct(z)){const Te=z===47,Ue=c.toLowerCase();return!Te&&!o&&xN.includes(Ue)?(r=1,a.interrupt?e(z):P(z)):t9.includes(c.toLowerCase())?(r=6,Te?(t.consume(z),V):a.interrupt?e(z):P(z)):(r=7,a.interrupt&&!a.parser.lazy[a.now().line]?n(z):o?I(z):B(z))}return z===45||Yn(z)?(t.consume(z),c+=String.fromCharCode(z),k):n(z)}function V(z){return z===62?(t.consume(z),a.interrupt?e:P):n(z)}function I(z){return Ze(z)?(t.consume(z),I):T(z)}function B(z){return z===47?(t.consume(z),T):z===58||z===95||Zn(z)?(t.consume(z),Q):Ze(z)?(t.consume(z),B):T(z)}function Q(z){return z===45||z===46||z===58||z===95||Yn(z)?(t.consume(z),Q):se(z)}function se(z){return z===61?(t.consume(z),G):Ze(z)?(t.consume(z),se):B(z)}function G(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(t.consume(z),m=z,R):Ze(z)?(t.consume(z),G):A(z)}function R(z){return z===m?(t.consume(z),m=null,L):z===null||Oe(z)?n(z):(t.consume(z),R)}function A(z){return z===null||z===34||z===39||z===47||z===60||z===61||z===62||z===96||Ct(z)?se(z):(t.consume(z),A)}function L(z){return z===47||z===62||Ze(z)?B(z):n(z)}function T(z){return z===62?(t.consume(z),C):n(z)}function C(z){return z===null||Oe(z)?P(z):Ze(z)?(t.consume(z),C):n(z)}function P(z){return z===45&&r===2?(t.consume(z),q):z===60&&r===1?(t.consume(z),X):z===62&&r===4?(t.consume(z),re):z===63&&r===3?(t.consume(z),$):z===93&&r===5?(t.consume(z),ye):Oe(z)&&(r===6||r===7)?(t.exit("htmlFlowData"),t.check(s9,ge,O)(z)):z===null||Oe(z)?(t.exit("htmlFlowData"),O(z)):(t.consume(z),P)}function O(z){return t.check(a9,te,ge)(z)}function te(z){return t.enter("lineEnding"),t.consume(z),t.exit("lineEnding"),J}function J(z){return z===null||Oe(z)?O(z):(t.enter("htmlFlowData"),P(z))}function q(z){return z===45?(t.consume(z),$):P(z)}function X(z){return z===47?(t.consume(z),c="",he):P(z)}function he(z){if(z===62){const Te=c.toLowerCase();return xN.includes(Te)?(t.consume(z),re):P(z)}return Zn(z)&&c.length<8?(t.consume(z),c+=String.fromCharCode(z),he):P(z)}function ye(z){return z===93?(t.consume(z),$):P(z)}function $(z){return z===62?(t.consume(z),re):z===45&&r===2?(t.consume(z),$):P(z)}function re(z){return z===null||Oe(z)?(t.exit("htmlFlowData"),ge(z)):(t.consume(z),re)}function ge(z){return t.exit("htmlFlow"),e(z)}}function l9(t,e,n){const a=this;return r;function r(c){return Oe(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),o):n(c)}function o(c){return a.parser.lazy[a.now().line]?n(c):e(c)}}function o9(t,e,n){return a;function a(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),t.attempt(Cd,e,n)}}const c9={name:"htmlText",tokenize:u9};function u9(t,e,n){const a=this;let r,o,c;return d;function d($){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume($),m}function m($){return $===33?(t.consume($),f):$===47?(t.consume($),se):$===63?(t.consume($),B):Zn($)?(t.consume($),A):n($)}function f($){return $===45?(t.consume($),x):$===91?(t.consume($),o=0,j):Zn($)?(t.consume($),I):n($)}function x($){return $===45?(t.consume($),w):n($)}function b($){return $===null?n($):$===45?(t.consume($),v):Oe($)?(c=b,X($)):(t.consume($),b)}function v($){return $===45?(t.consume($),w):b($)}function w($){return $===62?q($):$===45?v($):b($)}function j($){const re="CDATA[";return $===re.charCodeAt(o++)?(t.consume($),o===re.length?D:j):n($)}function D($){return $===null?n($):$===93?(t.consume($),k):Oe($)?(c=D,X($)):(t.consume($),D)}function k($){return $===93?(t.consume($),V):D($)}function V($){return $===62?q($):$===93?(t.consume($),V):D($)}function I($){return $===null||$===62?q($):Oe($)?(c=I,X($)):(t.consume($),I)}function B($){return $===null?n($):$===63?(t.consume($),Q):Oe($)?(c=B,X($)):(t.consume($),B)}function Q($){return $===62?q($):B($)}function se($){return Zn($)?(t.consume($),G):n($)}function G($){return $===45||Yn($)?(t.consume($),G):R($)}function R($){return Oe($)?(c=R,X($)):Ze($)?(t.consume($),R):q($)}function A($){return $===45||Yn($)?(t.consume($),A):$===47||$===62||Ct($)?L($):n($)}function L($){return $===47?(t.consume($),q):$===58||$===95||Zn($)?(t.consume($),T):Oe($)?(c=L,X($)):Ze($)?(t.consume($),L):q($)}function T($){return $===45||$===46||$===58||$===95||Yn($)?(t.consume($),T):C($)}function C($){return $===61?(t.consume($),P):Oe($)?(c=C,X($)):Ze($)?(t.consume($),C):L($)}function P($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(t.consume($),r=$,O):Oe($)?(c=P,X($)):Ze($)?(t.consume($),P):(t.consume($),te)}function O($){return $===r?(t.consume($),r=void 0,J):$===null?n($):Oe($)?(c=O,X($)):(t.consume($),O)}function te($){return $===null||$===34||$===39||$===60||$===61||$===96?n($):$===47||$===62||Ct($)?L($):(t.consume($),te)}function J($){return $===47||$===62||Ct($)?L($):n($)}function q($){return $===62?(t.consume($),t.exit("htmlTextData"),t.exit("htmlText"),e):n($)}function X($){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume($),t.exit("lineEnding"),he}function he($){return Ze($)?ct(t,ye,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):ye($)}function ye($){return t.enter("htmlTextData"),c($)}}const Pb={name:"labelEnd",resolveAll:f9,resolveTo:p9,tokenize:g9},d9={tokenize:x9},h9={tokenize:b9},m9={tokenize:y9};function f9(t){let e=-1;const n=[];for(;++e<t.length;){const a=t[e][1];if(n.push(t[e]),a.type==="labelImage"||a.type==="labelLink"||a.type==="labelEnd"){const r=a.type==="labelImage"?4:2;a.type="data",e+=r}}return t.length!==n.length&&Es(t,0,t.length,n),t}function p9(t,e){let n=t.length,a=0,r,o,c,d;for(;n--;)if(r=t[n][1],o){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;t[n][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(c){if(t[n][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(o=n,r.type!=="labelLink")){a=2;break}}else r.type==="labelEnd"&&(c=n);const m={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},f={type:"label",start:{...t[o][1].start},end:{...t[c][1].end}},x={type:"labelText",start:{...t[o+a+2][1].end},end:{...t[c-2][1].start}};return d=[["enter",m,e],["enter",f,e]],d=Bs(d,t.slice(o+1,o+a+3)),d=Bs(d,[["enter",x,e]]),d=Bs(d,Bf(e.parser.constructs.insideSpan.null,t.slice(o+a+4,c-3),e)),d=Bs(d,[["exit",x,e],t[c-2],t[c-1],["exit",f,e]]),d=Bs(d,t.slice(c+1)),d=Bs(d,[["exit",m,e]]),Es(t,o,t.length,d),t}function g9(t,e,n){const a=this;let r=a.events.length,o,c;for(;r--;)if((a.events[r][1].type==="labelImage"||a.events[r][1].type==="labelLink")&&!a.events[r][1]._balanced){o=a.events[r][1];break}return d;function d(v){return o?o._inactive?b(v):(c=a.parser.defined.includes(ua(a.sliceSerialize({start:o.end,end:a.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(v),t.exit("labelMarker"),t.exit("labelEnd"),m):n(v)}function m(v){return v===40?t.attempt(d9,x,c?x:b)(v):v===91?t.attempt(h9,x,c?f:b)(v):c?x(v):b(v)}function f(v){return t.attempt(m9,x,b)(v)}function x(v){return e(v)}function b(v){return o._balanced=!0,n(v)}}function x9(t,e,n){return a;function a(b){return t.enter("resource"),t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),r}function r(b){return Ct(b)?Bu(t,o)(b):o(b)}function o(b){return b===41?x(b):PS(t,c,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(b)}function c(b){return Ct(b)?Bu(t,m)(b):x(b)}function d(b){return n(b)}function m(b){return b===34||b===39||b===40?VS(t,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(b):x(b)}function f(b){return Ct(b)?Bu(t,x)(b):x(b)}function x(b){return b===41?(t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),t.exit("resource"),e):n(b)}}function b9(t,e,n){const a=this;return r;function r(d){return LS.call(a,t,o,c,"reference","referenceMarker","referenceString")(d)}function o(d){return a.parser.defined.includes(ua(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)))?e(d):n(d)}function c(d){return n(d)}}function y9(t,e,n){return a;function a(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),r}function r(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const v9={name:"labelStartImage",resolveAll:Pb.resolveAll,tokenize:w9};function w9(t,e,n){const a=this;return r;function r(d){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(d),t.exit("labelImageMarker"),o}function o(d){return d===91?(t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelImage"),c):n(d)}function c(d){return d===94&&"_hiddenFootnoteSupport"in a.parser.constructs?n(d):e(d)}}const N9={name:"labelStartLink",resolveAll:Pb.resolveAll,tokenize:j9};function j9(t,e,n){const a=this;return r;function r(c){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelLink"),o}function o(c){return c===94&&"_hiddenFootnoteSupport"in a.parser.constructs?n(c):e(c)}}const cg={name:"lineEnding",tokenize:S9};function S9(t,e){return n;function n(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),ct(t,e,"linePrefix")}}const Cm={name:"thematicBreak",tokenize:_9};function _9(t,e,n){let a=0,r;return o;function o(f){return t.enter("thematicBreak"),c(f)}function c(f){return r=f,d(f)}function d(f){return f===r?(t.enter("thematicBreakSequence"),m(f)):a>=3&&(f===null||Oe(f))?(t.exit("thematicBreak"),e(f)):n(f)}function m(f){return f===r?(t.consume(f),a++,m):(t.exit("thematicBreakSequence"),Ze(f)?ct(t,d,"whitespace")(f):d(f))}}const cs={continuation:{tokenize:A9},exit:R9,name:"list",tokenize:C9},T9={partial:!0,tokenize:I9},E9={partial:!0,tokenize:k9};function C9(t,e,n){const a=this,r=a.events[a.events.length-1];let o=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,c=0;return d;function d(w){const j=a.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(j==="listUnordered"?!a.containerState.marker||w===a.containerState.marker:ux(w)){if(a.containerState.type||(a.containerState.type=j,t.enter(j,{_container:!0})),j==="listUnordered")return t.enter("listItemPrefix"),w===42||w===45?t.check(Cm,n,f)(w):f(w);if(!a.interrupt||w===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),m(w)}return n(w)}function m(w){return ux(w)&&++c<10?(t.consume(w),m):(!a.interrupt||c<2)&&(a.containerState.marker?w===a.containerState.marker:w===41||w===46)?(t.exit("listItemValue"),f(w)):n(w)}function f(w){return t.enter("listItemMarker"),t.consume(w),t.exit("listItemMarker"),a.containerState.marker=a.containerState.marker||w,t.check(Cd,a.interrupt?n:x,t.attempt(T9,v,b))}function x(w){return a.containerState.initialBlankLine=!0,o++,v(w)}function b(w){return Ze(w)?(t.enter("listItemPrefixWhitespace"),t.consume(w),t.exit("listItemPrefixWhitespace"),v):n(w)}function v(w){return a.containerState.size=o+a.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(w)}}function A9(t,e,n){const a=this;return a.containerState._closeFlow=void 0,t.check(Cd,r,o);function r(d){return a.containerState.furtherBlankLines=a.containerState.furtherBlankLines||a.containerState.initialBlankLine,ct(t,e,"listItemIndent",a.containerState.size+1)(d)}function o(d){return a.containerState.furtherBlankLines||!Ze(d)?(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,c(d)):(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,t.attempt(E9,e,c)(d))}function c(d){return a.containerState._closeFlow=!0,a.interrupt=void 0,ct(t,t.attempt(cs,e,n),"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function k9(t,e,n){const a=this;return ct(t,r,"listItemIndent",a.containerState.size+1);function r(o){const c=a.events[a.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===a.containerState.size?e(o):n(o)}}function R9(t){t.exit(this.containerState.type)}function I9(t,e,n){const a=this;return ct(t,r,"listItemPrefixWhitespace",a.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(o){const c=a.events[a.events.length-1];return!Ze(o)&&c&&c[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const bN={name:"setextUnderline",resolveTo:D9,tokenize:M9};function D9(t,e){let n=t.length,a,r,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){a=n;break}t[n][1].type==="paragraph"&&(r=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const c={type:"setextHeading",start:{...t[a][1].start},end:{...t[t.length-1][1].end}};return t[r][1].type="setextHeadingText",o?(t.splice(r,0,["enter",c,e]),t.splice(o+1,0,["exit",t[a][1],e]),t[a][1].end={...t[o][1].end}):t[a][1]=c,t.push(["exit",c,e]),t}function M9(t,e,n){const a=this;let r;return o;function o(f){let x=a.events.length,b;for(;x--;)if(a.events[x][1].type!=="lineEnding"&&a.events[x][1].type!=="linePrefix"&&a.events[x][1].type!=="content"){b=a.events[x][1].type==="paragraph";break}return!a.parser.lazy[a.now().line]&&(a.interrupt||b)?(t.enter("setextHeadingLine"),r=f,c(f)):n(f)}function c(f){return t.enter("setextHeadingLineSequence"),d(f)}function d(f){return f===r?(t.consume(f),d):(t.exit("setextHeadingLineSequence"),Ze(f)?ct(t,m,"lineSuffix")(f):m(f))}function m(f){return f===null||Oe(f)?(t.exit("setextHeadingLine"),e(f)):n(f)}}const O9={tokenize:P9};function P9(t){const e=this,n=t.attempt(Cd,a,t.attempt(this.parser.constructs.flowInitial,r,ct(t,t.attempt(this.parser.constructs.flow,r,t.attempt(FP,r)),"linePrefix")));return n;function a(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const L9={resolveAll:zS()},V9=US("string"),U9=US("text");function US(t){return{resolveAll:zS(t==="text"?z9:void 0),tokenize:e};function e(n){const a=this,r=this.parser.constructs[t],o=n.attempt(r,c,d);return c;function c(x){return f(x)?o(x):d(x)}function d(x){if(x===null){n.consume(x);return}return n.enter("data"),n.consume(x),m}function m(x){return f(x)?(n.exit("data"),o(x)):(n.consume(x),m)}function f(x){if(x===null)return!0;const b=r[x];let v=-1;if(b)for(;++v<b.length;){const w=b[v];if(!w.previous||w.previous.call(a,a.previous))return!0}return!1}}}function zS(t){return e;function e(n,a){let r=-1,o;for(;++r<=n.length;)o===void 0?n[r]&&n[r][1].type==="data"&&(o=r,r++):(!n[r]||n[r][1].type!=="data")&&(r!==o+2&&(n[o][1].end=n[r-1][1].end,n.splice(o+2,r-o-2),r=o+2),o=void 0);return t?t(n,a):n}}function z9(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const a=t[n-1][1],r=e.sliceStream(a);let o=r.length,c=-1,d=0,m;for(;o--;){const f=r[o];if(typeof f=="string"){for(c=f.length;f.charCodeAt(c-1)===32;)d++,c--;if(c)break;c=-1}else if(f===-2)m=!0,d++;else if(f!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(d=0),d){const f={type:n===t.length||m||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?c:a.start._bufferIndex+c,_index:a.start._index+o,line:a.end.line,column:a.end.column-d,offset:a.end.offset-d},end:{...a.end}};a.end={...f.start},a.start.offset===a.end.offset?Object.assign(a,f):(t.splice(n,0,["enter",f,e],["exit",f,e]),n+=2)}n++}return t}const F9={42:cs,43:cs,45:cs,48:cs,49:cs,50:cs,51:cs,52:cs,53:cs,54:cs,55:cs,56:cs,57:cs,62:IS},B9={91:GP},$9={[-2]:og,[-1]:og,32:og},q9={35:JP,42:Cm,45:[bN,Cm],60:n9,61:bN,95:Cm,96:gN,126:gN},H9={38:MS,92:DS},G9={[-5]:cg,[-4]:cg,[-3]:cg,33:v9,38:MS,42:dx,60:[NP,c9],91:N9,92:[WP,DS],93:Pb,95:dx,96:OP},Y9={null:[dx,L9]},Q9={null:[42,95]},K9={null:[]},W9=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Q9,contentInitial:B9,disable:K9,document:F9,flow:q9,flowInitial:$9,insideSpan:Y9,string:H9,text:G9},Symbol.toStringTag,{value:"Module"}));function X9(t,e,n){let a={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const r={},o=[];let c=[],d=[];const m={attempt:R(se),check:R(G),consume:I,enter:B,exit:Q,interrupt:R(G,{interrupt:!0})},f={code:null,containerState:{},defineSkip:D,events:[],now:j,parser:t,previous:null,sliceSerialize:v,sliceStream:w,write:b};let x=e.tokenize.call(f,m);return e.resolveAll&&o.push(e),f;function b(C){return c=Bs(c,C),k(),c[c.length-1]!==null?[]:(A(e,0),f.events=Bf(o,f.events,f),f.events)}function v(C,P){return Z9(w(C),P)}function w(C){return J9(c,C)}function j(){const{_bufferIndex:C,_index:P,line:O,column:te,offset:J}=a;return{_bufferIndex:C,_index:P,line:O,column:te,offset:J}}function D(C){r[C.line]=C.column,T()}function k(){let C;for(;a._index<c.length;){const P=c[a._index];if(typeof P=="string")for(C=a._index,a._bufferIndex<0&&(a._bufferIndex=0);a._index===C&&a._bufferIndex<P.length;)V(P.charCodeAt(a._bufferIndex));else V(P)}}function V(C){x=x(C)}function I(C){Oe(C)?(a.line++,a.column=1,a.offset+=C===-3?2:1,T()):C!==-1&&(a.column++,a.offset++),a._bufferIndex<0?a._index++:(a._bufferIndex++,a._bufferIndex===c[a._index].length&&(a._bufferIndex=-1,a._index++)),f.previous=C}function B(C,P){const O=P||{};return O.type=C,O.start=j(),f.events.push(["enter",O,f]),d.push(O),O}function Q(C){const P=d.pop();return P.end=j(),f.events.push(["exit",P,f]),P}function se(C,P){A(C,P.from)}function G(C,P){P.restore()}function R(C,P){return O;function O(te,J,q){let X,he,ye,$;return Array.isArray(te)?ge(te):"tokenize"in te?ge([te]):re(te);function re($e){return ut;function ut(Nt){const bt=Nt!==null&&$e[Nt],wn=Nt!==null&&$e.null,Nn=[...Array.isArray(bt)?bt:bt?[bt]:[],...Array.isArray(wn)?wn:wn?[wn]:[]];return ge(Nn)(Nt)}}function ge($e){return X=$e,he=0,$e.length===0?q:z($e[he])}function z($e){return ut;function ut(Nt){return $=L(),ye=$e,$e.partial||(f.currentConstruct=$e),$e.name&&f.parser.constructs.disable.null.includes($e.name)?Ue():$e.tokenize.call(P?Object.assign(Object.create(f),P):f,m,Te,Ue)(Nt)}}function Te($e){return C(ye,$),J}function Ue($e){return $.restore(),++he<X.length?z(X[he]):q}}}function A(C,P){C.resolveAll&&!o.includes(C)&&o.push(C),C.resolve&&Es(f.events,P,f.events.length-P,C.resolve(f.events.slice(P),f)),C.resolveTo&&(f.events=C.resolveTo(f.events,f))}function L(){const C=j(),P=f.previous,O=f.currentConstruct,te=f.events.length,J=Array.from(d);return{from:te,restore:q};function q(){a=C,f.previous=P,f.currentConstruct=O,f.events.length=te,d=J,T()}}function T(){a.line in r&&a.column<2&&(a.column=r[a.line],a.offset+=r[a.line]-1)}}function J9(t,e){const n=e.start._index,a=e.start._bufferIndex,r=e.end._index,o=e.end._bufferIndex;let c;if(n===r)c=[t[n].slice(a,o)];else{if(c=t.slice(n,r),a>-1){const d=c[0];typeof d=="string"?c[0]=d.slice(a):c.shift()}o>0&&c.push(t[r].slice(0,o))}return c}function Z9(t,e){let n=-1;const a=[];let r;for(;++n<t.length;){const o=t[n];let c;if(typeof o=="string")c=o;else switch(o){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=e?" ":"	";break}case-1:{if(!e&&r)continue;c=" ";break}default:c=String.fromCharCode(o)}r=o===-2,a.push(c)}return a.join("")}function eL(t){const a={constructs:kS([W9,...(t||{}).extensions||[]]),content:r(pP),defined:[],document:r(xP),flow:r(O9),lazy:{},string:r(V9),text:r(U9)};return a;function r(o){return c;function c(d){return X9(a,o,d)}}}function tL(t){for(;!OS(t););return t}const yN=/[\0\t\n\r]/g;function nL(){let t=1,e="",n=!0,a;return r;function r(o,c,d){const m=[];let f,x,b,v,w;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(c||void 0).decode(o)),b=0,e="",n&&(o.charCodeAt(0)===65279&&b++,n=void 0);b<o.length;){if(yN.lastIndex=b,f=yN.exec(o),v=f&&f.index!==void 0?f.index:o.length,w=o.charCodeAt(v),!f){e=o.slice(b);break}if(w===10&&b===v&&a)m.push(-3),a=void 0;else switch(a&&(m.push(-5),a=void 0),b<v&&(m.push(o.slice(b,v)),t+=v-b),w){case 0:{m.push(65533),t++;break}case 9:{for(x=Math.ceil(t/4)*4,m.push(-2);t++<x;)m.push(-1);break}case 10:{m.push(-4),t=1;break}default:a=!0,t=1}b=v+1}return d&&(a&&m.push(-5),e&&m.push(e),m.push(null)),m}}const sL=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function aL(t){return t.replace(sL,iL)}function iL(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),o=r===120||r===88;return RS(n.slice(o?2:1),o?16:10)}return Ob(n)||t}const FS={}.hasOwnProperty;function rL(t,e,n){return typeof e!="string"&&(n=e,e=void 0),lL(n)(tL(eL(n).document().write(nL()(t,e,!0))))}function lL(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(je),autolinkProtocol:L,autolinkEmail:L,atxHeading:o(ke),blockQuote:o(wn),characterEscape:L,characterReference:L,codeFenced:o(Nn),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:o(Nn,c),codeText:o(An,c),codeTextData:L,data:L,codeFlowValue:L,definition:o(pe),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:o(be),hardBreakEscape:o(qe),hardBreakTrailing:o(qe),htmlFlow:o(Zt,c),htmlFlowData:L,htmlText:o(Zt,c),htmlTextData:L,image:o(we),label:c,link:o(je),listItem:o(We),listItemValue:v,listOrdered:o(Ae,b),listUnordered:o(Ae),paragraph:o(kn),reference:z,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:o(ke),strong:o(fn),thematicBreak:o(Ka)},exit:{atxHeading:m(),atxHeadingSequence:se,autolink:m(),autolinkEmail:bt,autolinkProtocol:Nt,blockQuote:m(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:Ue,characterReferenceMarkerNumeric:Ue,characterReferenceValue:$e,characterReference:ut,codeFenced:m(k),codeFencedFence:D,codeFencedFenceInfo:w,codeFencedFenceMeta:j,codeFlowValue:T,codeIndented:m(V),codeText:m(J),codeTextData:T,data:T,definition:m(),definitionDestinationString:Q,definitionLabelString:I,definitionTitleString:B,emphasis:m(),hardBreakEscape:m(P),hardBreakTrailing:m(P),htmlFlow:m(O),htmlFlowData:T,htmlText:m(te),htmlTextData:T,image:m(X),label:ye,labelText:he,lineEnding:C,link:m(q),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:Te,resourceDestinationString:$,resourceTitleString:re,resource:ge,setextHeading:m(A),setextHeadingLineSequence:R,setextHeadingText:G,strong:m(),thematicBreak:m()}};BS(e,(t||{}).mdastExtensions||[]);const n={};return a;function a(ce){let ve={type:"root",children:[]};const Me={stack:[ve],tokenStack:[],config:e,enter:d,exit:f,buffer:c,resume:x,data:n},Ke=[];let dt=-1;for(;++dt<ce.length;)if(ce[dt][1].type==="listOrdered"||ce[dt][1].type==="listUnordered")if(ce[dt][0]==="enter")Ke.push(dt);else{const Fn=Ke.pop();dt=r(ce,Fn,dt)}for(dt=-1;++dt<ce.length;){const Fn=e[ce[dt][0]];FS.call(Fn,ce[dt][1].type)&&Fn[ce[dt][1].type].call(Object.assign({sliceSerialize:ce[dt][2].sliceSerialize},Me),ce[dt][1])}if(Me.tokenStack.length>0){const Fn=Me.tokenStack[Me.tokenStack.length-1];(Fn[1]||vN).call(Me,void 0,Fn[0])}for(ve.position={start:mr(ce.length>0?ce[0][1].start:{line:1,column:1,offset:0}),end:mr(ce.length>0?ce[ce.length-2][1].end:{line:1,column:1,offset:0})},dt=-1;++dt<e.transforms.length;)ve=e.transforms[dt](ve)||ve;return ve}function r(ce,ve,Me){let Ke=ve-1,dt=-1,Fn=!1,As,Ht,Ut,jn;for(;++Ke<=Me;){const rt=ce[Ke];switch(rt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{rt[0]==="enter"?dt++:dt--,jn=void 0;break}case"lineEndingBlank":{rt[0]==="enter"&&(As&&!jn&&!dt&&!Ut&&(Ut=Ke),jn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:jn=void 0}if(!dt&&rt[0]==="enter"&&rt[1].type==="listItemPrefix"||dt===-1&&rt[0]==="exit"&&(rt[1].type==="listUnordered"||rt[1].type==="listOrdered")){if(As){let Qs=Ke;for(Ht=void 0;Qs--;){const Bn=ce[Qs];if(Bn[1].type==="lineEnding"||Bn[1].type==="lineEndingBlank"){if(Bn[0]==="exit")continue;Ht&&(ce[Ht][1].type="lineEndingBlank",Fn=!0),Bn[1].type="lineEnding",Ht=Qs}else if(!(Bn[1].type==="linePrefix"||Bn[1].type==="blockQuotePrefix"||Bn[1].type==="blockQuotePrefixWhitespace"||Bn[1].type==="blockQuoteMarker"||Bn[1].type==="listItemIndent"))break}Ut&&(!Ht||Ut<Ht)&&(As._spread=!0),As.end=Object.assign({},Ht?ce[Ht][1].start:rt[1].end),ce.splice(Ht||Ke,0,["exit",As,rt[2]]),Ke++,Me++}if(rt[1].type==="listItemPrefix"){const Qs={type:"listItem",_spread:!1,start:Object.assign({},rt[1].start),end:void 0};As=Qs,ce.splice(Ke,0,["enter",Qs,rt[2]]),Ke++,Me++,Ut=void 0,jn=!0}}}return ce[ve][1]._spread=Fn,Me}function o(ce,ve){return Me;function Me(Ke){d.call(this,ce(Ke),Ke),ve&&ve.call(this,Ke)}}function c(){this.stack.push({type:"fragment",children:[]})}function d(ce,ve,Me){this.stack[this.stack.length-1].children.push(ce),this.stack.push(ce),this.tokenStack.push([ve,Me||void 0]),ce.position={start:mr(ve.start),end:void 0}}function m(ce){return ve;function ve(Me){ce&&ce.call(this,Me),f.call(this,Me)}}function f(ce,ve){const Me=this.stack.pop(),Ke=this.tokenStack.pop();if(Ke)Ke[0].type!==ce.type&&(ve?ve.call(this,ce,Ke[0]):(Ke[1]||vN).call(this,ce,Ke[0]));else throw new Error("Cannot close `"+ce.type+"` ("+Fu({start:ce.start,end:ce.end})+"): its not open");Me.position.end=mr(ce.end)}function x(){return Mb(this.stack.pop())}function b(){this.data.expectingFirstListItemValue=!0}function v(ce){if(this.data.expectingFirstListItemValue){const ve=this.stack[this.stack.length-2];ve.start=Number.parseInt(this.sliceSerialize(ce),10),this.data.expectingFirstListItemValue=void 0}}function w(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.lang=ce}function j(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.meta=ce}function D(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function k(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function V(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ce.replace(/(\r?\n|\r)$/g,"")}function I(ce){const ve=this.resume(),Me=this.stack[this.stack.length-1];Me.label=ve,Me.identifier=ua(this.sliceSerialize(ce)).toLowerCase()}function B(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.title=ce}function Q(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.url=ce}function se(ce){const ve=this.stack[this.stack.length-1];if(!ve.depth){const Me=this.sliceSerialize(ce).length;ve.depth=Me}}function G(){this.data.setextHeadingSlurpLineEnding=!0}function R(ce){const ve=this.stack[this.stack.length-1];ve.depth=this.sliceSerialize(ce).codePointAt(0)===61?1:2}function A(){this.data.setextHeadingSlurpLineEnding=void 0}function L(ce){const Me=this.stack[this.stack.length-1].children;let Ke=Me[Me.length-1];(!Ke||Ke.type!=="text")&&(Ke=Vt(),Ke.position={start:mr(ce.start),end:void 0},Me.push(Ke)),this.stack.push(Ke)}function T(ce){const ve=this.stack.pop();ve.value+=this.sliceSerialize(ce),ve.position.end=mr(ce.end)}function C(ce){const ve=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Me=ve.children[ve.children.length-1];Me.position.end=mr(ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ve.type)&&(L.call(this,ce),T.call(this,ce))}function P(){this.data.atHardBreak=!0}function O(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ce}function te(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ce}function J(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ce}function q(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=ve,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function X(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=ve,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function he(ce){const ve=this.sliceSerialize(ce),Me=this.stack[this.stack.length-2];Me.label=aL(ve),Me.identifier=ua(ve).toLowerCase()}function ye(){const ce=this.stack[this.stack.length-1],ve=this.resume(),Me=this.stack[this.stack.length-1];if(this.data.inReference=!0,Me.type==="link"){const Ke=ce.children;Me.children=Ke}else Me.alt=ve}function $(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.url=ce}function re(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.title=ce}function ge(){this.data.inReference=void 0}function z(){this.data.referenceType="collapsed"}function Te(ce){const ve=this.resume(),Me=this.stack[this.stack.length-1];Me.label=ve,Me.identifier=ua(this.sliceSerialize(ce)).toLowerCase(),this.data.referenceType="full"}function Ue(ce){this.data.characterReferenceType=ce.type}function $e(ce){const ve=this.sliceSerialize(ce),Me=this.data.characterReferenceType;let Ke;Me?(Ke=RS(ve,Me==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ke=Ob(ve);const dt=this.stack[this.stack.length-1];dt.value+=Ke}function ut(ce){const ve=this.stack.pop();ve.position.end=mr(ce.end)}function Nt(ce){T.call(this,ce);const ve=this.stack[this.stack.length-1];ve.url=this.sliceSerialize(ce)}function bt(ce){T.call(this,ce);const ve=this.stack[this.stack.length-1];ve.url="mailto:"+this.sliceSerialize(ce)}function wn(){return{type:"blockquote",children:[]}}function Nn(){return{type:"code",lang:null,meta:null,value:""}}function An(){return{type:"inlineCode",value:""}}function pe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function be(){return{type:"emphasis",children:[]}}function ke(){return{type:"heading",depth:0,children:[]}}function qe(){return{type:"break"}}function Zt(){return{type:"html",value:""}}function we(){return{type:"image",title:null,url:"",alt:null}}function je(){return{type:"link",title:null,url:"",children:[]}}function Ae(ce){return{type:"list",ordered:ce.type==="listOrdered",start:null,spread:ce._spread,children:[]}}function We(ce){return{type:"listItem",spread:ce._spread,checked:null,children:[]}}function kn(){return{type:"paragraph",children:[]}}function fn(){return{type:"strong",children:[]}}function Vt(){return{type:"text",value:""}}function Ka(){return{type:"thematicBreak"}}}function mr(t){return{line:t.line,column:t.column,offset:t.offset}}function BS(t,e){let n=-1;for(;++n<e.length;){const a=e[n];Array.isArray(a)?BS(t,a):oL(t,a)}}function oL(t,e){let n;for(n in e)if(FS.call(e,n))switch(n){case"canContainEols":{const a=e[n];a&&t[n].push(...a);break}case"transforms":{const a=e[n];a&&t[n].push(...a);break}case"enter":case"exit":{const a=e[n];a&&Object.assign(t[n],a);break}}}function vN(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Fu({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Fu({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Fu({start:e.start,end:e.end})+") is still open")}function cL(t){const e=this;e.parser=n;function n(a){return rL(a,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function uL(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function dL(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function hL(t,e){const n=e.value?e.value+`
`:"",a={},r=e.lang?e.lang.split(/\s+/):[];r.length>0&&(a.className=["language-"+r[0]]);let o={type:"element",tagName:"code",properties:a,children:[{type:"text",value:n}]};return e.meta&&(o.data={meta:e.meta}),t.patch(e,o),o=t.applyData(e,o),o={type:"element",tagName:"pre",properties:{},children:[o]},t.patch(e,o),o}function mL(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function fL(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function pL(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",a=String(e.identifier).toUpperCase(),r=vc(a.toLowerCase()),o=t.footnoteOrder.indexOf(a);let c,d=t.footnoteCounts.get(a);d===void 0?(d=0,t.footnoteOrder.push(a),c=t.footnoteOrder.length):c=o+1,d+=1,t.footnoteCounts.set(a,d);const m={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+r,id:n+"fnref-"+r+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};t.patch(e,m);const f={type:"element",tagName:"sup",properties:{},children:[m]};return t.patch(e,f),t.applyData(e,f)}function gL(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function xL(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function $S(t,e){const n=e.referenceType;let a="]";if(n==="collapsed"?a+="[]":n==="full"&&(a+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+a}];const r=t.all(e),o=r[0];o&&o.type==="text"?o.value="["+o.value:r.unshift({type:"text",value:"["});const c=r[r.length-1];return c&&c.type==="text"?c.value+=a:r.push({type:"text",value:a}),r}function bL(t,e){const n=String(e.identifier).toUpperCase(),a=t.definitionById.get(n);if(!a)return $S(t,e);const r={src:vc(a.url||""),alt:e.alt};a.title!==null&&a.title!==void 0&&(r.title=a.title);const o={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,o),t.applyData(e,o)}function yL(t,e){const n={src:vc(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const a={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,a),t.applyData(e,a)}function vL(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const a={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,a),t.applyData(e,a)}function wL(t,e){const n=String(e.identifier).toUpperCase(),a=t.definitionById.get(n);if(!a)return $S(t,e);const r={href:vc(a.url||"")};a.title!==null&&a.title!==void 0&&(r.title=a.title);const o={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function NL(t,e){const n={href:vc(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const a={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function jL(t,e,n){const a=t.all(e),r=n?SL(n):qS(e),o={},c=[];if(typeof e.checked=="boolean"){const x=a[0];let b;x&&x.type==="element"&&x.tagName==="p"?b=x:(b={type:"element",tagName:"p",properties:{},children:[]},a.unshift(b)),b.children.length>0&&b.children.unshift({type:"text",value:" "}),b.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let d=-1;for(;++d<a.length;){const x=a[d];(r||d!==0||x.type!=="element"||x.tagName!=="p")&&c.push({type:"text",value:`
`}),x.type==="element"&&x.tagName==="p"&&!r?c.push(...x.children):c.push(x)}const m=a[a.length-1];m&&(r||m.type!=="element"||m.tagName!=="p")&&c.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:c};return t.patch(e,f),t.applyData(e,f)}function SL(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let a=-1;for(;!e&&++a<n.length;)e=qS(n[a])}return e}function qS(t){const e=t.spread;return e??t.children.length>1}function _L(t,e){const n={},a=t.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++r<a.length;){const c=a[r];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(a,!0)};return t.patch(e,o),t.applyData(e,o)}function TL(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function EL(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function CL(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function AL(t,e){const n=t.all(e),a=n.shift(),r=[];if(a){const c={type:"element",tagName:"thead",properties:{},children:t.wrap([a],!0)};t.patch(e.children[0],c),r.push(c)}if(n.length>0){const c={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},d=kb(e.children[1]),m=jS(e.children[e.children.length-1]);d&&m&&(c.position={start:d,end:m}),r.push(c)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function kL(t,e,n){const a=n?n.children:void 0,o=(a?a.indexOf(e):1)===0?"th":"td",c=n&&n.type==="table"?n.align:void 0,d=c?c.length:e.children.length;let m=-1;const f=[];for(;++m<d;){const b=e.children[m],v={},w=c?c[m]:void 0;w&&(v.align=w);let j={type:"element",tagName:o,properties:v,children:[]};b&&(j.children=t.all(b),t.patch(b,j),j=t.applyData(b,j)),f.push(j)}const x={type:"element",tagName:"tr",properties:{},children:t.wrap(f,!0)};return t.patch(e,x),t.applyData(e,x)}function RL(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const wN=9,NN=32;function IL(t){const e=String(t),n=/\r?\n|\r/g;let a=n.exec(e),r=0;const o=[];for(;a;)o.push(jN(e.slice(r,a.index),r>0,!0),a[0]),r=a.index+a[0].length,a=n.exec(e);return o.push(jN(e.slice(r),r>0,!1)),o.join("")}function jN(t,e,n){let a=0,r=t.length;if(e){let o=t.codePointAt(a);for(;o===wN||o===NN;)a++,o=t.codePointAt(a)}if(n){let o=t.codePointAt(r-1);for(;o===wN||o===NN;)r--,o=t.codePointAt(r-1)}return r>a?t.slice(a,r):""}function DL(t,e){const n={type:"text",value:IL(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function ML(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const OL={blockquote:uL,break:dL,code:hL,delete:mL,emphasis:fL,footnoteReference:pL,heading:gL,html:xL,imageReference:bL,image:yL,inlineCode:vL,linkReference:wL,link:NL,listItem:jL,list:_L,paragraph:TL,root:EL,strong:CL,table:AL,tableCell:RL,tableRow:kL,text:DL,thematicBreak:ML,toml:om,yaml:om,definition:om,footnoteDefinition:om};function om(){}const HS=-1,$f=0,$u=1,Jm=2,Lb=3,Vb=4,Ub=5,zb=6,GS=7,YS=8,SN=typeof self=="object"?self:globalThis,PL=(t,e)=>{const n=(r,o)=>(t.set(o,r),r),a=r=>{if(t.has(r))return t.get(r);const[o,c]=e[r];switch(o){case $f:case HS:return n(c,r);case $u:{const d=n([],r);for(const m of c)d.push(a(m));return d}case Jm:{const d=n({},r);for(const[m,f]of c)d[a(m)]=a(f);return d}case Lb:return n(new Date(c),r);case Vb:{const{source:d,flags:m}=c;return n(new RegExp(d,m),r)}case Ub:{const d=n(new Map,r);for(const[m,f]of c)d.set(a(m),a(f));return d}case zb:{const d=n(new Set,r);for(const m of c)d.add(a(m));return d}case GS:{const{name:d,message:m}=c;return n(new SN[d](m),r)}case YS:return n(BigInt(c),r);case"BigInt":return n(Object(BigInt(c)),r);case"ArrayBuffer":return n(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:d}=new Uint8Array(c);return n(new DataView(d),c)}}return n(new SN[o](c),r)};return a},_N=t=>PL(new Map,t)(0),Ao="",{toString:LL}={},{keys:VL}=Object,Eu=t=>{const e=typeof t;if(e!=="object"||!t)return[$f,e];const n=LL.call(t).slice(8,-1);switch(n){case"Array":return[$u,Ao];case"Object":return[Jm,Ao];case"Date":return[Lb,Ao];case"RegExp":return[Vb,Ao];case"Map":return[Ub,Ao];case"Set":return[zb,Ao];case"DataView":return[$u,n]}return n.includes("Array")?[$u,n]:n.includes("Error")?[GS,n]:[Jm,n]},cm=([t,e])=>t===$f&&(e==="function"||e==="symbol"),UL=(t,e,n,a)=>{const r=(c,d)=>{const m=a.push(c)-1;return n.set(d,m),m},o=c=>{if(n.has(c))return n.get(c);let[d,m]=Eu(c);switch(d){case $f:{let x=c;switch(m){case"bigint":d=YS,x=c.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+m);x=null;break;case"undefined":return r([HS],c)}return r([d,x],c)}case $u:{if(m){let v=c;return m==="DataView"?v=new Uint8Array(c.buffer):m==="ArrayBuffer"&&(v=new Uint8Array(c)),r([m,[...v]],c)}const x=[],b=r([d,x],c);for(const v of c)x.push(o(v));return b}case Jm:{if(m)switch(m){case"BigInt":return r([m,c.toString()],c);case"Boolean":case"Number":case"String":return r([m,c.valueOf()],c)}if(e&&"toJSON"in c)return o(c.toJSON());const x=[],b=r([d,x],c);for(const v of VL(c))(t||!cm(Eu(c[v])))&&x.push([o(v),o(c[v])]);return b}case Lb:return r([d,c.toISOString()],c);case Vb:{const{source:x,flags:b}=c;return r([d,{source:x,flags:b}],c)}case Ub:{const x=[],b=r([d,x],c);for(const[v,w]of c)(t||!(cm(Eu(v))||cm(Eu(w))))&&x.push([o(v),o(w)]);return b}case zb:{const x=[],b=r([d,x],c);for(const v of c)(t||!cm(Eu(v)))&&x.push(o(v));return b}}const{message:f}=c;return r([d,{name:m,message:f}],c)};return o},TN=(t,{json:e,lossy:n}={})=>{const a=[];return UL(!(e||n),!!e,new Map,a)(t),a},Zm=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?_N(TN(t,e)):structuredClone(t):(t,e)=>_N(TN(t,e));function zL(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function FL(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function BL(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||zL,a=t.options.footnoteBackLabel||FL,r=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",c=t.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let m=-1;for(;++m<t.footnoteOrder.length;){const f=t.footnoteById.get(t.footnoteOrder[m]);if(!f)continue;const x=t.all(f),b=String(f.identifier).toUpperCase(),v=vc(b.toLowerCase());let w=0;const j=[],D=t.footnoteCounts.get(b);for(;D!==void 0&&++w<=D;){j.length>0&&j.push({type:"text",value:" "});let I=typeof n=="string"?n:n(m,w);typeof I=="string"&&(I={type:"text",value:I}),j.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+v+(w>1?"-"+w:""),dataFootnoteBackref:"",ariaLabel:typeof a=="string"?a:a(m,w),className:["data-footnote-backref"]},children:Array.isArray(I)?I:[I]})}const k=x[x.length-1];if(k&&k.type==="element"&&k.tagName==="p"){const I=k.children[k.children.length-1];I&&I.type==="text"?I.value+=" ":k.children.push({type:"text",value:" "}),k.children.push(...j)}else x.push(...j);const V={type:"element",tagName:"li",properties:{id:e+"fn-"+v},children:t.wrap(x,!0)};t.patch(f,V),d.push(V)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Zm(c),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(d,!0)},{type:"text",value:`
`}]}}const qf=(function(t){if(t==null)return GL;if(typeof t=="function")return Hf(t);if(typeof t=="object")return Array.isArray(t)?$L(t):qL(t);if(typeof t=="string")return HL(t);throw new Error("Expected function, string, or object as test")});function $L(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=qf(t[n]);return Hf(a);function a(...r){let o=-1;for(;++o<e.length;)if(e[o].apply(this,r))return!0;return!1}}function qL(t){const e=t;return Hf(n);function n(a){const r=a;let o;for(o in t)if(r[o]!==e[o])return!1;return!0}}function HL(t){return Hf(e);function e(n){return n&&n.type===t}}function Hf(t){return e;function e(n,a,r){return!!(YL(n)&&t.call(this,n,typeof a=="number"?a:void 0,r||void 0))}}function GL(){return!0}function YL(t){return t!==null&&typeof t=="object"&&"type"in t}const QS=[],QL=!0,hx=!1,KL="skip";function KS(t,e,n,a){let r;typeof e=="function"&&typeof n!="function"?(a=n,n=e):r=e;const o=qf(r),c=a?-1:1;d(t,void 0,[])();function d(m,f,x){const b=m&&typeof m=="object"?m:{};if(typeof b.type=="string"){const w=typeof b.tagName=="string"?b.tagName:typeof b.name=="string"?b.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(m.type+(w?"<"+w+">":""))+")"})}return v;function v(){let w=QS,j,D,k;if((!e||o(m,f,x[x.length-1]||void 0))&&(w=WL(n(m,x)),w[0]===hx))return w;if("children"in m&&m.children){const V=m;if(V.children&&w[0]!==KL)for(D=(a?V.children.length:-1)+c,k=x.concat(V);D>-1&&D<V.children.length;){const I=V.children[D];if(j=d(I,D,k)(),j[0]===hx)return j;D=typeof j[1]=="number"?j[1]:D+c}}return w}}}function WL(t){return Array.isArray(t)?t:typeof t=="number"?[QL,t]:t==null?QS:[t]}function Fb(t,e,n,a){let r,o,c;typeof e=="function"&&typeof n!="function"?(o=void 0,c=e,r=n):(o=e,c=n,r=a),KS(t,o,d,r);function d(m,f){const x=f[f.length-1],b=x?x.children.indexOf(m):void 0;return c(m,b,x)}}const mx={}.hasOwnProperty,XL={};function JL(t,e){const n=e||XL,a=new Map,r=new Map,o=new Map,c={...OL,...n.handlers},d={all:f,applyData:e7,definitionById:a,footnoteById:r,footnoteCounts:o,footnoteOrder:[],handlers:c,one:m,options:n,patch:ZL,wrap:n7};return Fb(t,function(x){if(x.type==="definition"||x.type==="footnoteDefinition"){const b=x.type==="definition"?a:r,v=String(x.identifier).toUpperCase();b.has(v)||b.set(v,x)}}),d;function m(x,b){const v=x.type,w=d.handlers[v];if(mx.call(d.handlers,v)&&w)return w(d,x,b);if(d.options.passThrough&&d.options.passThrough.includes(v)){if("children"in x){const{children:D,...k}=x,V=Zm(k);return V.children=d.all(x),V}return Zm(x)}return(d.options.unknownHandler||t7)(d,x,b)}function f(x){const b=[];if("children"in x){const v=x.children;let w=-1;for(;++w<v.length;){const j=d.one(v[w],x);if(j){if(w&&v[w-1].type==="break"&&(!Array.isArray(j)&&j.type==="text"&&(j.value=EN(j.value)),!Array.isArray(j)&&j.type==="element")){const D=j.children[0];D&&D.type==="text"&&(D.value=EN(D.value))}Array.isArray(j)?b.push(...j):b.push(j)}}}return b}}function ZL(t,e){t.position&&(e.position=FO(t))}function e7(t,e){let n=e;if(t&&t.data){const a=t.data.hName,r=t.data.hChildren,o=t.data.hProperties;if(typeof a=="string")if(n.type==="element")n.tagName=a;else{const c="children"in n?n.children:[n];n={type:"element",tagName:a,properties:{},children:c}}n.type==="element"&&o&&Object.assign(n.properties,Zm(o)),"children"in n&&n.children&&r!==null&&r!==void 0&&(n.children=r)}return n}function t7(t,e){const n=e.data||{},a="value"in e&&!(mx.call(n,"hProperties")||mx.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function n7(t,e){const n=[];let a=-1;for(e&&n.push({type:"text",value:`
`});++a<t.length;)a&&n.push({type:"text",value:`
`}),n.push(t[a]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function EN(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function CN(t,e){const n=JL(t,e),a=n.one(t,void 0),r=BL(n),o=Array.isArray(a)?{type:"root",children:a}:a||{type:"root",children:[]};return r&&o.children.push({type:"text",value:`
`},r),o}function s7(t,e){return t&&"run"in t?async function(n,a){const r=CN(n,{file:a,...e});await t.run(r,a)}:function(n,a){return CN(n,{file:a,...t||e})}}function AN(t){if(t)throw t}var ug,kN;function a7(){if(kN)return ug;kN=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,a=Object.getOwnPropertyDescriptor,r=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},o=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var x=t.call(f,"constructor"),b=f.constructor&&f.constructor.prototype&&t.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!x&&!b)return!1;var v;for(v in f);return typeof v>"u"||t.call(f,v)},c=function(f,x){n&&x.name==="__proto__"?n(f,x.name,{enumerable:!0,configurable:!0,value:x.newValue,writable:!0}):f[x.name]=x.newValue},d=function(f,x){if(x==="__proto__")if(t.call(f,x)){if(a)return a(f,x).value}else return;return f[x]};return ug=function m(){var f,x,b,v,w,j,D=arguments[0],k=1,V=arguments.length,I=!1;for(typeof D=="boolean"&&(I=D,D=arguments[1]||{},k=2),(D==null||typeof D!="object"&&typeof D!="function")&&(D={});k<V;++k)if(f=arguments[k],f!=null)for(x in f)b=d(D,x),v=d(f,x),D!==v&&(I&&v&&(o(v)||(w=r(v)))?(w?(w=!1,j=b&&r(b)?b:[]):j=b&&o(b)?b:{},c(D,{name:x,newValue:m(I,j,v)})):typeof v<"u"&&c(D,{name:x,newValue:v}));return D},ug}var i7=a7();const dg=jx(i7);function fx(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function r7(){const t=[],e={run:n,use:a};return e;function n(...r){let o=-1;const c=r.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);d(null,...r);function d(m,...f){const x=t[++o];let b=-1;if(m){c(m);return}for(;++b<r.length;)(f[b]===null||f[b]===void 0)&&(f[b]=r[b]);r=f,x?l7(x,d)(...f):c(null,...f)}}function a(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return t.push(r),e}}function l7(t,e){let n;return a;function a(...c){const d=t.length>c.length;let m;d&&c.push(r);try{m=t.apply(this,c)}catch(f){const x=f;if(d&&n)throw x;return r(x)}d||(m&&m.then&&typeof m.then=="function"?m.then(o,r):m instanceof Error?r(m):o(m))}function r(c,...d){n||(n=!0,e(c,...d))}function o(c){r(null,c)}}const Oa={basename:o7,dirname:c7,extname:u7,join:d7,sep:"/"};function o7(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Ad(t);let n=0,a=-1,r=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;r--;)if(t.codePointAt(r)===47){if(o){n=r+1;break}}else a<0&&(o=!0,a=r+1);return a<0?"":t.slice(n,a)}if(e===t)return"";let c=-1,d=e.length-1;for(;r--;)if(t.codePointAt(r)===47){if(o){n=r+1;break}}else c<0&&(o=!0,c=r+1),d>-1&&(t.codePointAt(r)===e.codePointAt(d--)?d<0&&(a=r):(d=-1,a=c));return n===a?a=c:a<0&&(a=t.length),t.slice(n,a)}function c7(t){if(Ad(t),t.length===0)return".";let e=-1,n=t.length,a;for(;--n;)if(t.codePointAt(n)===47){if(a){e=n;break}}else a||(a=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function u7(t){Ad(t);let e=t.length,n=-1,a=0,r=-1,o=0,c;for(;e--;){const d=t.codePointAt(e);if(d===47){if(c){a=e+1;break}continue}n<0&&(c=!0,n=e+1),d===46?r<0?r=e:o!==1&&(o=1):r>-1&&(o=-1)}return r<0||n<0||o===0||o===1&&r===n-1&&r===a+1?"":t.slice(r,n)}function d7(...t){let e=-1,n;for(;++e<t.length;)Ad(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":h7(n)}function h7(t){Ad(t);const e=t.codePointAt(0)===47;let n=m7(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function m7(t,e){let n="",a=0,r=-1,o=0,c=-1,d,m;for(;++c<=t.length;){if(c<t.length)d=t.codePointAt(c);else{if(d===47)break;d=47}if(d===47){if(!(r===c-1||o===1))if(r!==c-1&&o===2){if(n.length<2||a!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(m=n.lastIndexOf("/"),m!==n.length-1){m<0?(n="",a=0):(n=n.slice(0,m),a=n.length-1-n.lastIndexOf("/")),r=c,o=0;continue}}else if(n.length>0){n="",a=0,r=c,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",a=2)}else n.length>0?n+="/"+t.slice(r+1,c):n=t.slice(r+1,c),a=c-r-1;r=c,o=0}else d===46&&o>-1?o++:o=-1}return n}function Ad(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const f7={cwd:p7};function p7(){return"/"}function px(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function g7(t){if(typeof t=="string")t=new URL(t);else if(!px(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return x7(t)}function x7(t){if(t.hostname!==""){const a=new TypeError('File URL host must be "localhost" or empty on darwin');throw a.code="ERR_INVALID_FILE_URL_HOST",a}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const a=e.codePointAt(n+2);if(a===70||a===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const hg=["history","path","basename","stem","extname","dirname"];class WS{constructor(e){let n;e?px(e)?n={path:e}:typeof e=="string"||b7(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":f7.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let a=-1;for(;++a<hg.length;){const o=hg[a];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let r;for(r in n)hg.includes(r)||(this[r]=n[r])}get basename(){return typeof this.path=="string"?Oa.basename(this.path):void 0}set basename(e){fg(e,"basename"),mg(e,"basename"),this.path=Oa.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Oa.dirname(this.path):void 0}set dirname(e){RN(this.basename,"dirname"),this.path=Oa.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Oa.extname(this.path):void 0}set extname(e){if(mg(e,"extname"),RN(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Oa.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){px(e)&&(e=g7(e)),fg(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Oa.basename(this.path,this.extname):void 0}set stem(e){fg(e,"stem"),mg(e,"stem"),this.path=Oa.join(this.dirname||"",e+(this.extname||""))}fail(e,n,a){const r=this.message(e,n,a);throw r.fatal=!0,r}info(e,n,a){const r=this.message(e,n,a);return r.fatal=void 0,r}message(e,n,a){const r=new Wn(e,n,a);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function mg(t,e){if(t&&t.includes(Oa.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Oa.sep+"`")}function fg(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function RN(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function b7(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const y7=(function(t){const a=this.constructor.prototype,r=a[t],o=function(){return r.apply(o,arguments)};return Object.setPrototypeOf(o,a),o}),v7={}.hasOwnProperty;class Bb extends y7{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=r7()}copy(){const e=new Bb;let n=-1;for(;++n<this.attachers.length;){const a=this.attachers[n];e.use(...a)}return e.data(dg(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(xg("data",this.frozen),this.namespace[e]=n,this):v7.call(this.namespace,e)&&this.namespace[e]||void 0:e?(xg("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...a]=this.attachers[this.freezeIndex];if(a[0]===!1)continue;a[0]===!0&&(a[0]=void 0);const r=n.call(e,...a);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=um(e),a=this.parser||this.Parser;return pg("parse",a),a(String(n),n)}process(e,n){const a=this;return this.freeze(),pg("process",this.parser||this.Parser),gg("process",this.compiler||this.Compiler),n?r(void 0,n):new Promise(r);function r(o,c){const d=um(e),m=a.parse(d);a.run(m,d,function(x,b,v){if(x||!b||!v)return f(x);const w=b,j=a.stringify(w,v);j7(j)?v.value=j:v.result=j,f(x,v)});function f(x,b){x||!b?c(x):o?o(b):n(void 0,b)}}}processSync(e){let n=!1,a;return this.freeze(),pg("processSync",this.parser||this.Parser),gg("processSync",this.compiler||this.Compiler),this.process(e,r),DN("processSync","process",n),a;function r(o,c){n=!0,AN(o),a=c}}run(e,n,a){IN(e),this.freeze();const r=this.transformers;return!a&&typeof n=="function"&&(a=n,n=void 0),a?o(void 0,a):new Promise(o);function o(c,d){const m=um(n);r.run(e,m,f);function f(x,b,v){const w=b||e;x?d(x):c?c(w):a(void 0,w,v)}}}runSync(e,n){let a=!1,r;return this.run(e,n,o),DN("runSync","run",a),r;function o(c,d){AN(c),r=d,a=!0}}stringify(e,n){this.freeze();const a=um(n),r=this.compiler||this.Compiler;return gg("stringify",r),IN(e),r(e,a)}use(e,...n){const a=this.attachers,r=this.namespace;if(xg("use",this.frozen),e!=null)if(typeof e=="function")m(e,n);else if(typeof e=="object")Array.isArray(e)?d(e):c(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(f){if(typeof f=="function")m(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[x,...b]=f;m(x,b)}else c(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function c(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(f.plugins),f.settings&&(r.settings=dg(!0,r.settings,f.settings))}function d(f){let x=-1;if(f!=null)if(Array.isArray(f))for(;++x<f.length;){const b=f[x];o(b)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function m(f,x){let b=-1,v=-1;for(;++b<a.length;)if(a[b][0]===f){v=b;break}if(v===-1)a.push([f,...x]);else if(x.length>0){let[w,...j]=x;const D=a[v][1];fx(D)&&fx(w)&&(w=dg(!0,D,w)),a[v]=[f,w,...j]}}}}const w7=new Bb().freeze();function pg(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function gg(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function xg(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function IN(t){if(!fx(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function DN(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function um(t){return N7(t)?t:new WS(t)}function N7(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function j7(t){return typeof t=="string"||S7(t)}function S7(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const _7="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",MN=[],ON={allowDangerousHtml:!0},T7=/^(https?|ircs?|mailto|xmpp)$/i,E7=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function wc(t){const e=C7(t),n=A7(t);return k7(e.runSync(e.parse(n),n),t)}function C7(t){const e=t.rehypePlugins||MN,n=t.remarkPlugins||MN,a=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...ON}:ON;return w7().use(cL).use(n).use(s7,a).use(e)}function A7(t){const e=t.children||"",n=new WS;return typeof e=="string"&&(n.value=e),n}function k7(t,e){const n=e.allowedElements,a=e.allowElement,r=e.components,o=e.disallowedElements,c=e.skipHtml,d=e.unwrapDisallowed,m=e.urlTransform||R7;for(const x of E7)Object.hasOwn(e,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+_7+x.id,void 0);return Fb(t,f),GO(t,{Fragment:s.Fragment,components:r,ignoreInvalidStyle:!0,jsx:s.jsx,jsxs:s.jsxs,passKeys:!0,passNode:!0});function f(x,b,v){if(x.type==="raw"&&v&&typeof b=="number")return c?v.children.splice(b,1):v.children[b]={type:"text",value:x.value},b;if(x.type==="element"){let w;for(w in lg)if(Object.hasOwn(lg,w)&&Object.hasOwn(x.properties,w)){const j=x.properties[w],D=lg[w];(D===null||D.includes(x.tagName))&&(x.properties[w]=m(String(j||""),w,x))}}if(x.type==="element"){let w=n?!n.includes(x.tagName):o?o.includes(x.tagName):!1;if(!w&&a&&typeof b=="number"&&(w=!a(x,b,v)),w&&v&&typeof b=="number")return d&&x.children?v.children.splice(b,1,...x.children):v.children.splice(b,1),b}}}function R7(t){const e=t.indexOf(":"),n=t.indexOf("?"),a=t.indexOf("#"),r=t.indexOf("/");return e===-1||r!==-1&&e>r||n!==-1&&e>n||a!==-1&&e>a||T7.test(t.slice(0,e))?t:""}function PN(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let a=0,r=n.indexOf(e);for(;r!==-1;)a++,r=n.indexOf(e,r+e.length);return a}function I7(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function D7(t,e,n){const r=qf((n||{}).ignore||[]),o=M7(e);let c=-1;for(;++c<o.length;)KS(t,"text",d);function d(f,x){let b=-1,v;for(;++b<x.length;){const w=x[b],j=v?v.children:void 0;if(r(w,j?j.indexOf(w):void 0,v))return;v=w}if(v)return m(f,x)}function m(f,x){const b=x[x.length-1],v=o[c][0],w=o[c][1];let j=0;const k=b.children.indexOf(f);let V=!1,I=[];v.lastIndex=0;let B=v.exec(f.value);for(;B;){const Q=B.index,se={index:B.index,input:B.input,stack:[...x,f]};let G=w(...B,se);if(typeof G=="string"&&(G=G.length>0?{type:"text",value:G}:void 0),G===!1?v.lastIndex=Q+1:(j!==Q&&I.push({type:"text",value:f.value.slice(j,Q)}),Array.isArray(G)?I.push(...G):G&&I.push(G),j=Q+B[0].length,V=!0),!v.global)break;B=v.exec(f.value)}return V?(j<f.value.length&&I.push({type:"text",value:f.value.slice(j)}),b.children.splice(k,1,...I)):I=[f],k+I.length}}function M7(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let a=-1;for(;++a<n.length;){const r=n[a];e.push([O7(r[0]),P7(r[1])])}return e}function O7(t){return typeof t=="string"?new RegExp(I7(t),"g"):t}function P7(t){return typeof t=="function"?t:function(){return t}}const bg="phrasing",yg=["autolink","link","image","label"];function L7(){return{transforms:[q7],enter:{literalAutolink:U7,literalAutolinkEmail:vg,literalAutolinkHttp:vg,literalAutolinkWww:vg},exit:{literalAutolink:$7,literalAutolinkEmail:B7,literalAutolinkHttp:z7,literalAutolinkWww:F7}}}function V7(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:bg,notInConstruct:yg},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:bg,notInConstruct:yg},{character:":",before:"[ps]",after:"\\/",inConstruct:bg,notInConstruct:yg}]}}function U7(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function vg(t){this.config.enter.autolinkProtocol.call(this,t)}function z7(t){this.config.exit.autolinkProtocol.call(this,t)}function F7(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function B7(t){this.config.exit.autolinkEmail.call(this,t)}function $7(t){this.exit(t)}function q7(t){D7(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,H7],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),G7]],{ignore:["link","linkReference"]})}function H7(t,e,n,a,r){let o="";if(!XS(r)||(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!Y7(n)))return!1;const c=Q7(n+a);if(!c[0])return!1;const d={type:"link",title:null,url:o+e+c[0],children:[{type:"text",value:e+c[0]}]};return c[1]?[d,{type:"text",value:c[1]}]:d}function G7(t,e,n,a){return!XS(a,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function Y7(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Q7(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],a=n.indexOf(")");const r=PN(t,"(");let o=PN(t,")");for(;a!==-1&&r>o;)t+=n.slice(0,a+1),n=n.slice(a+1),a=n.indexOf(")"),o++;return[t,n]}function XS(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Al(n)||Ff(n))&&(!e||n!==47)}JS.peek=sV;function K7(){this.buffer()}function W7(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function X7(){this.buffer()}function J7(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function Z7(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ua(this.sliceSerialize(t)).toLowerCase(),n.label=e}function eV(t){this.exit(t)}function tV(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ua(this.sliceSerialize(t)).toLowerCase(),n.label=e}function nV(t){this.exit(t)}function sV(){return"["}function JS(t,e,n,a){const r=n.createTracker(a);let o=r.move("[^");const c=n.enter("footnoteReference"),d=n.enter("reference");return o+=r.move(n.safe(n.associationId(t),{after:"]",before:o})),d(),c(),o+=r.move("]"),o}function aV(){return{enter:{gfmFootnoteCallString:K7,gfmFootnoteCall:W7,gfmFootnoteDefinitionLabelString:X7,gfmFootnoteDefinition:J7},exit:{gfmFootnoteCallString:Z7,gfmFootnoteCall:eV,gfmFootnoteDefinitionLabelString:tV,gfmFootnoteDefinition:nV}}}function iV(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:JS},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(a,r,o,c){const d=o.createTracker(c);let m=d.move("[^");const f=o.enter("footnoteDefinition"),x=o.enter("label");return m+=d.move(o.safe(o.associationId(a),{before:m,after:"]"})),x(),m+=d.move("]:"),a.children&&a.children.length>0&&(d.shift(4),m+=d.move((e?`
`:" ")+o.indentLines(o.containerFlow(a,d.current()),e?ZS:rV))),f(),m}}function rV(t,e,n){return e===0?t:ZS(t,e,n)}function ZS(t,e,n){return(n?"":"    ")+t}const lV=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];e_.peek=hV;function oV(){return{canContainEols:["delete"],enter:{strikethrough:uV},exit:{strikethrough:dV}}}function cV(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:lV}],handlers:{delete:e_}}}function uV(t){this.enter({type:"delete",children:[]},t)}function dV(t){this.exit(t)}function e_(t,e,n,a){const r=n.createTracker(a),o=n.enter("strikethrough");let c=r.move("~~");return c+=n.containerPhrasing(t,{...r.current(),before:c,after:"~"}),c+=r.move("~~"),o(),c}function hV(){return"~"}function mV(t){return t.length}function fV(t,e){const n=e||{},a=(n.align||[]).concat(),r=n.stringLength||mV,o=[],c=[],d=[],m=[];let f=0,x=-1;for(;++x<t.length;){const D=[],k=[];let V=-1;for(t[x].length>f&&(f=t[x].length);++V<t[x].length;){const I=pV(t[x][V]);if(n.alignDelimiters!==!1){const B=r(I);k[V]=B,(m[V]===void 0||B>m[V])&&(m[V]=B)}D.push(I)}c[x]=D,d[x]=k}let b=-1;if(typeof a=="object"&&"length"in a)for(;++b<f;)o[b]=LN(a[b]);else{const D=LN(a);for(;++b<f;)o[b]=D}b=-1;const v=[],w=[];for(;++b<f;){const D=o[b];let k="",V="";D===99?(k=":",V=":"):D===108?k=":":D===114&&(V=":");let I=n.alignDelimiters===!1?1:Math.max(1,m[b]-k.length-V.length);const B=k+"-".repeat(I)+V;n.alignDelimiters!==!1&&(I=k.length+I+V.length,I>m[b]&&(m[b]=I),w[b]=I),v[b]=B}c.splice(1,0,v),d.splice(1,0,w),x=-1;const j=[];for(;++x<c.length;){const D=c[x],k=d[x];b=-1;const V=[];for(;++b<f;){const I=D[b]||"";let B="",Q="";if(n.alignDelimiters!==!1){const se=m[b]-(k[b]||0),G=o[b];G===114?B=" ".repeat(se):G===99?se%2?(B=" ".repeat(se/2+.5),Q=" ".repeat(se/2-.5)):(B=" ".repeat(se/2),Q=B):Q=" ".repeat(se)}n.delimiterStart!==!1&&!b&&V.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&I==="")&&(n.delimiterStart!==!1||b)&&V.push(" "),n.alignDelimiters!==!1&&V.push(B),V.push(I),n.alignDelimiters!==!1&&V.push(Q),n.padding!==!1&&V.push(" "),(n.delimiterEnd!==!1||b!==f-1)&&V.push("|")}j.push(n.delimiterEnd===!1?V.join("").replace(/ +$/,""):V.join(""))}return j.join(`
`)}function pV(t){return t==null?"":String(t)}function LN(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function gV(t,e,n,a){const r=n.enter("blockquote"),o=n.createTracker(a);o.move("> "),o.shift(2);const c=n.indentLines(n.containerFlow(t,o.current()),xV);return r(),c}function xV(t,e,n){return">"+(n?"":" ")+t}function bV(t,e){return VN(t,e.inConstruct,!0)&&!VN(t,e.notInConstruct,!1)}function VN(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let a=-1;for(;++a<e.length;)if(t.includes(e[a]))return!0;return!1}function UN(t,e,n,a){let r=-1;for(;++r<n.unsafe.length;)if(n.unsafe[r].character===`
`&&bV(n.stack,n.unsafe[r]))return/[ \t]/.test(a.before)?"":" ";return`\\
`}function yV(t,e){const n=String(t);let a=n.indexOf(e),r=a,o=0,c=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;a!==-1;)a===r?++o>c&&(c=o):o=1,r=a+e.length,a=n.indexOf(e,r);return c}function vV(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function wV(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function NV(t,e,n,a){const r=wV(n),o=t.value||"",c=r==="`"?"GraveAccent":"Tilde";if(vV(t,n)){const b=n.enter("codeIndented"),v=n.indentLines(o,jV);return b(),v}const d=n.createTracker(a),m=r.repeat(Math.max(yV(o,r)+1,3)),f=n.enter("codeFenced");let x=d.move(m);if(t.lang){const b=n.enter(`codeFencedLang${c}`);x+=d.move(n.safe(t.lang,{before:x,after:" ",encode:["`"],...d.current()})),b()}if(t.lang&&t.meta){const b=n.enter(`codeFencedMeta${c}`);x+=d.move(" "),x+=d.move(n.safe(t.meta,{before:x,after:`
`,encode:["`"],...d.current()})),b()}return x+=d.move(`
`),o&&(x+=d.move(o+`
`)),x+=d.move(m),f(),x}function jV(t,e,n){return(n?"":"    ")+t}function $b(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function SV(t,e,n,a){const r=$b(n),o=r==='"'?"Quote":"Apostrophe",c=n.enter("definition");let d=n.enter("label");const m=n.createTracker(a);let f=m.move("[");return f+=m.move(n.safe(n.associationId(t),{before:f,after:"]",...m.current()})),f+=m.move("]: "),d(),!t.url||/[\0- \u007F]/.test(t.url)?(d=n.enter("destinationLiteral"),f+=m.move("<"),f+=m.move(n.safe(t.url,{before:f,after:">",...m.current()})),f+=m.move(">")):(d=n.enter("destinationRaw"),f+=m.move(n.safe(t.url,{before:f,after:t.title?" ":`
`,...m.current()}))),d(),t.title&&(d=n.enter(`title${o}`),f+=m.move(" "+r),f+=m.move(n.safe(t.title,{before:f,after:r,...m.current()})),f+=m.move(r),d()),c(),f}function _V(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function rd(t){return"&#x"+t.toString(16).toUpperCase()+";"}function ef(t,e,n){const a=nc(t),r=nc(e);return a===void 0?r===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:a===1?r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}t_.peek=TV;function t_(t,e,n,a){const r=_V(n),o=n.enter("emphasis"),c=n.createTracker(a),d=c.move(r);let m=c.move(n.containerPhrasing(t,{after:r,before:d,...c.current()}));const f=m.charCodeAt(0),x=ef(a.before.charCodeAt(a.before.length-1),f,r);x.inside&&(m=rd(f)+m.slice(1));const b=m.charCodeAt(m.length-1),v=ef(a.after.charCodeAt(0),b,r);v.inside&&(m=m.slice(0,-1)+rd(b));const w=c.move(r);return o(),n.attentionEncodeSurroundingInfo={after:v.outside,before:x.outside},d+m+w}function TV(t,e,n){return n.options.emphasis||"*"}function EV(t,e){let n=!1;return Fb(t,function(a){if("value"in a&&/\r?\n|\r/.test(a.value)||a.type==="break")return n=!0,hx}),!!((!t.depth||t.depth<3)&&Mb(t)&&(e.options.setext||n))}function CV(t,e,n,a){const r=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(a);if(EV(t,n)){const x=n.enter("headingSetext"),b=n.enter("phrasing"),v=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return b(),x(),v+`
`+(r===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const c="#".repeat(r),d=n.enter("headingAtx"),m=n.enter("phrasing");o.move(c+" ");let f=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(f)&&(f=rd(f.charCodeAt(0))+f.slice(1)),f=f?c+" "+f:c,n.options.closeAtx&&(f+=" "+c),m(),d(),f}n_.peek=AV;function n_(t){return t.value||""}function AV(){return"<"}s_.peek=kV;function s_(t,e,n,a){const r=$b(n),o=r==='"'?"Quote":"Apostrophe",c=n.enter("image");let d=n.enter("label");const m=n.createTracker(a);let f=m.move("![");return f+=m.move(n.safe(t.alt,{before:f,after:"]",...m.current()})),f+=m.move("]("),d(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(d=n.enter("destinationLiteral"),f+=m.move("<"),f+=m.move(n.safe(t.url,{before:f,after:">",...m.current()})),f+=m.move(">")):(d=n.enter("destinationRaw"),f+=m.move(n.safe(t.url,{before:f,after:t.title?" ":")",...m.current()}))),d(),t.title&&(d=n.enter(`title${o}`),f+=m.move(" "+r),f+=m.move(n.safe(t.title,{before:f,after:r,...m.current()})),f+=m.move(r),d()),f+=m.move(")"),c(),f}function kV(){return"!"}a_.peek=RV;function a_(t,e,n,a){const r=t.referenceType,o=n.enter("imageReference");let c=n.enter("label");const d=n.createTracker(a);let m=d.move("![");const f=n.safe(t.alt,{before:m,after:"]",...d.current()});m+=d.move(f+"]["),c();const x=n.stack;n.stack=[],c=n.enter("reference");const b=n.safe(n.associationId(t),{before:m,after:"]",...d.current()});return c(),n.stack=x,o(),r==="full"||!f||f!==b?m+=d.move(b+"]"):r==="shortcut"?m=m.slice(0,-1):m+=d.move("]"),m}function RV(){return"!"}i_.peek=IV;function i_(t,e,n){let a=t.value||"",r="`",o=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(a);)r+="`";for(/[^ \r\n]/.test(a)&&(/^[ \r\n]/.test(a)&&/[ \r\n]$/.test(a)||/^`|`$/.test(a))&&(a=" "+a+" ");++o<n.unsafe.length;){const c=n.unsafe[o],d=n.compilePattern(c);let m;if(c.atBreak)for(;m=d.exec(a);){let f=m.index;a.charCodeAt(f)===10&&a.charCodeAt(f-1)===13&&f--,a=a.slice(0,f)+" "+a.slice(m.index+1)}}return r+a+r}function IV(){return"`"}function r_(t,e){const n=Mb(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}l_.peek=DV;function l_(t,e,n,a){const r=$b(n),o=r==='"'?"Quote":"Apostrophe",c=n.createTracker(a);let d,m;if(r_(t,n)){const x=n.stack;n.stack=[],d=n.enter("autolink");let b=c.move("<");return b+=c.move(n.containerPhrasing(t,{before:b,after:">",...c.current()})),b+=c.move(">"),d(),n.stack=x,b}d=n.enter("link"),m=n.enter("label");let f=c.move("[");return f+=c.move(n.containerPhrasing(t,{before:f,after:"](",...c.current()})),f+=c.move("]("),m(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(m=n.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(n.safe(t.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(m=n.enter("destinationRaw"),f+=c.move(n.safe(t.url,{before:f,after:t.title?" ":")",...c.current()}))),m(),t.title&&(m=n.enter(`title${o}`),f+=c.move(" "+r),f+=c.move(n.safe(t.title,{before:f,after:r,...c.current()})),f+=c.move(r),m()),f+=c.move(")"),d(),f}function DV(t,e,n){return r_(t,n)?"<":"["}o_.peek=MV;function o_(t,e,n,a){const r=t.referenceType,o=n.enter("linkReference");let c=n.enter("label");const d=n.createTracker(a);let m=d.move("[");const f=n.containerPhrasing(t,{before:m,after:"]",...d.current()});m+=d.move(f+"]["),c();const x=n.stack;n.stack=[],c=n.enter("reference");const b=n.safe(n.associationId(t),{before:m,after:"]",...d.current()});return c(),n.stack=x,o(),r==="full"||!f||f!==b?m+=d.move(b+"]"):r==="shortcut"?m=m.slice(0,-1):m+=d.move("]"),m}function MV(){return"["}function qb(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function OV(t){const e=qb(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function PV(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function c_(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function LV(t,e,n,a){const r=n.enter("list"),o=n.bulletCurrent;let c=t.ordered?PV(n):qb(n);const d=t.ordered?c==="."?")":".":OV(n);let m=e&&n.bulletLastUsed?c===n.bulletLastUsed:!1;if(!t.ordered){const x=t.children?t.children[0]:void 0;if((c==="*"||c==="-")&&x&&(!x.children||!x.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(m=!0),c_(n)===c&&x){let b=-1;for(;++b<t.children.length;){const v=t.children[b];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){m=!0;break}}}}m&&(c=d),n.bulletCurrent=c;const f=n.containerFlow(t,a);return n.bulletLastUsed=c,n.bulletCurrent=o,r(),f}function VV(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function UV(t,e,n,a){const r=VV(n);let o=n.bulletCurrent||qb(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let c=o.length+1;(r==="tab"||r==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(c=Math.ceil(c/4)*4);const d=n.createTracker(a);d.move(o+" ".repeat(c-o.length)),d.shift(c);const m=n.enter("listItem"),f=n.indentLines(n.containerFlow(t,d.current()),x);return m(),f;function x(b,v,w){return v?(w?"":" ".repeat(c))+b:(w?o:o+" ".repeat(c-o.length))+b}}function zV(t,e,n,a){const r=n.enter("paragraph"),o=n.enter("phrasing"),c=n.containerPhrasing(t,a);return o(),r(),c}const FV=qf(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function BV(t,e,n,a){return(t.children.some(function(c){return FV(c)})?n.containerPhrasing:n.containerFlow).call(n,t,a)}function $V(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}u_.peek=qV;function u_(t,e,n,a){const r=$V(n),o=n.enter("strong"),c=n.createTracker(a),d=c.move(r+r);let m=c.move(n.containerPhrasing(t,{after:r,before:d,...c.current()}));const f=m.charCodeAt(0),x=ef(a.before.charCodeAt(a.before.length-1),f,r);x.inside&&(m=rd(f)+m.slice(1));const b=m.charCodeAt(m.length-1),v=ef(a.after.charCodeAt(0),b,r);v.inside&&(m=m.slice(0,-1)+rd(b));const w=c.move(r+r);return o(),n.attentionEncodeSurroundingInfo={after:v.outside,before:x.outside},d+m+w}function qV(t,e,n){return n.options.strong||"*"}function HV(t,e,n,a){return n.safe(t.value,a)}function GV(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function YV(t,e,n){const a=(c_(n)+(n.options.ruleSpaces?" ":"")).repeat(GV(n));return n.options.ruleSpaces?a.slice(0,-1):a}const d_={blockquote:gV,break:UN,code:NV,definition:SV,emphasis:t_,hardBreak:UN,heading:CV,html:n_,image:s_,imageReference:a_,inlineCode:i_,link:l_,linkReference:o_,list:LV,listItem:UV,paragraph:zV,root:BV,strong:u_,text:HV,thematicBreak:YV};function QV(){return{enter:{table:KV,tableData:zN,tableHeader:zN,tableRow:XV},exit:{codeText:JV,table:WV,tableData:wg,tableHeader:wg,tableRow:wg}}}function KV(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function WV(t){this.exit(t),this.data.inTable=void 0}function XV(t){this.enter({type:"tableRow",children:[]},t)}function wg(t){this.exit(t)}function zN(t){this.enter({type:"tableCell",children:[]},t)}function JV(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,ZV));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function ZV(t,e){return e==="|"?e:t}function eU(t){const e=t||{},n=e.tableCellPadding,a=e.tablePipeAlign,r=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:c,tableCell:m,tableRow:d}};function c(w,j,D,k){return f(x(w,D,k),w.align)}function d(w,j,D,k){const V=b(w,D,k),I=f([V]);return I.slice(0,I.indexOf(`
`))}function m(w,j,D,k){const V=D.enter("tableCell"),I=D.enter("phrasing"),B=D.containerPhrasing(w,{...k,before:o,after:o});return I(),V(),B}function f(w,j){return fV(w,{align:j,alignDelimiters:a,padding:n,stringLength:r})}function x(w,j,D){const k=w.children;let V=-1;const I=[],B=j.enter("table");for(;++V<k.length;)I[V]=b(k[V],j,D);return B(),I}function b(w,j,D){const k=w.children;let V=-1;const I=[],B=j.enter("tableRow");for(;++V<k.length;)I[V]=m(k[V],w,j,D);return B(),I}function v(w,j,D){let k=d_.inlineCode(w,j,D);return D.stack.includes("tableCell")&&(k=k.replace(/\|/g,"\\$&")),k}}function tU(){return{exit:{taskListCheckValueChecked:FN,taskListCheckValueUnchecked:FN,paragraph:sU}}}function nU(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:aU}}}function FN(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function sU(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const a=n.children[0];if(a&&a.type==="text"){const r=e.children;let o=-1,c;for(;++o<r.length;){const d=r[o];if(d.type==="paragraph"){c=d;break}}c===n&&(a.value=a.value.slice(1),a.value.length===0?n.children.shift():n.position&&a.position&&typeof a.position.start.offset=="number"&&(a.position.start.column++,a.position.start.offset++,n.position.start=Object.assign({},a.position.start)))}}this.exit(t)}function aU(t,e,n,a){const r=t.children[0],o=typeof t.checked=="boolean"&&r&&r.type==="paragraph",c="["+(t.checked?"x":" ")+"] ",d=n.createTracker(a);o&&d.move(c);let m=d_.listItem(t,e,n,{...a,...d.current()});return o&&(m=m.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),m;function f(x){return x+c}}function iU(){return[L7(),aV(),oV(),QV(),tU()]}function rU(t){return{extensions:[V7(),iV(t),cV(),eU(t),nU()]}}const lU={tokenize:mU,partial:!0},h_={tokenize:fU,partial:!0},m_={tokenize:pU,partial:!0},f_={tokenize:gU,partial:!0},oU={tokenize:xU,partial:!0},p_={name:"wwwAutolink",tokenize:dU,previous:x_},g_={name:"protocolAutolink",tokenize:hU,previous:b_},Mi={name:"emailAutolink",tokenize:uU,previous:y_},Qa={};function cU(){return{text:Qa}}let pl=48;for(;pl<123;)Qa[pl]=Mi,pl++,pl===58?pl=65:pl===91&&(pl=97);Qa[43]=Mi;Qa[45]=Mi;Qa[46]=Mi;Qa[95]=Mi;Qa[72]=[Mi,g_];Qa[104]=[Mi,g_];Qa[87]=[Mi,p_];Qa[119]=[Mi,p_];function uU(t,e,n){const a=this;let r,o;return c;function c(b){return!gx(b)||!y_.call(a,a.previous)||Hb(a.events)?n(b):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),d(b))}function d(b){return gx(b)?(t.consume(b),d):b===64?(t.consume(b),m):n(b)}function m(b){return b===46?t.check(oU,x,f)(b):b===45||b===95||Yn(b)?(o=!0,t.consume(b),m):x(b)}function f(b){return t.consume(b),r=!0,m}function x(b){return o&&r&&Zn(a.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(b)):n(b)}}function dU(t,e,n){const a=this;return r;function r(c){return c!==87&&c!==119||!x_.call(a,a.previous)||Hb(a.events)?n(c):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(lU,t.attempt(h_,t.attempt(m_,o),n),n)(c))}function o(c){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(c)}}function hU(t,e,n){const a=this;let r="",o=!1;return c;function c(b){return(b===72||b===104)&&b_.call(a,a.previous)&&!Hb(a.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),r+=String.fromCodePoint(b),t.consume(b),d):n(b)}function d(b){if(Zn(b)&&r.length<5)return r+=String.fromCodePoint(b),t.consume(b),d;if(b===58){const v=r.toLowerCase();if(v==="http"||v==="https")return t.consume(b),m}return n(b)}function m(b){return b===47?(t.consume(b),o?f:(o=!0,m)):n(b)}function f(b){return b===null||Xm(b)||Ct(b)||Al(b)||Ff(b)?n(b):t.attempt(h_,t.attempt(m_,x),n)(b)}function x(b){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(b)}}function mU(t,e,n){let a=0;return r;function r(c){return(c===87||c===119)&&a<3?(a++,t.consume(c),r):c===46&&a===3?(t.consume(c),o):n(c)}function o(c){return c===null?n(c):e(c)}}function fU(t,e,n){let a,r,o;return c;function c(f){return f===46||f===95?t.check(f_,m,d)(f):f===null||Ct(f)||Al(f)||f!==45&&Ff(f)?m(f):(o=!0,t.consume(f),c)}function d(f){return f===95?a=!0:(r=a,a=void 0),t.consume(f),c}function m(f){return r||a||!o?n(f):e(f)}}function pU(t,e){let n=0,a=0;return r;function r(c){return c===40?(n++,t.consume(c),r):c===41&&a<n?o(c):c===33||c===34||c===38||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===60||c===63||c===93||c===95||c===126?t.check(f_,e,o)(c):c===null||Ct(c)||Al(c)?e(c):(t.consume(c),r)}function o(c){return c===41&&a++,t.consume(c),r}}function gU(t,e,n){return a;function a(d){return d===33||d===34||d===39||d===41||d===42||d===44||d===46||d===58||d===59||d===63||d===95||d===126?(t.consume(d),a):d===38?(t.consume(d),o):d===93?(t.consume(d),r):d===60||d===null||Ct(d)||Al(d)?e(d):n(d)}function r(d){return d===null||d===40||d===91||Ct(d)||Al(d)?e(d):a(d)}function o(d){return Zn(d)?c(d):n(d)}function c(d){return d===59?(t.consume(d),a):Zn(d)?(t.consume(d),c):n(d)}}function xU(t,e,n){return a;function a(o){return t.consume(o),r}function r(o){return Yn(o)?n(o):e(o)}}function x_(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Ct(t)}function b_(t){return!Zn(t)}function y_(t){return!(t===47||gx(t))}function gx(t){return t===43||t===45||t===46||t===95||Yn(t)}function Hb(t){let e=t.length,n=!1;for(;e--;){const a=t[e][1];if((a.type==="labelLink"||a.type==="labelImage")&&!a._balanced){n=!0;break}if(a._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const bU={tokenize:TU,partial:!0};function yU(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:jU,continuation:{tokenize:SU},exit:_U}},text:{91:{name:"gfmFootnoteCall",tokenize:NU},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:vU,resolveTo:wU}}}}function vU(t,e,n){const a=this;let r=a.events.length;const o=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let c;for(;r--;){const m=a.events[r][1];if(m.type==="labelImage"){c=m;break}if(m.type==="gfmFootnoteCall"||m.type==="labelLink"||m.type==="label"||m.type==="image"||m.type==="link")break}return d;function d(m){if(!c||!c._balanced)return n(m);const f=ua(a.sliceSerialize({start:c.end,end:a.now()}));return f.codePointAt(0)!==94||!o.includes(f.slice(1))?n(m):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),e(m))}}function wU(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const a={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},t[t.length-1][1].start)},c={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},d=[t[n+1],t[n+2],["enter",a,e],t[n+3],t[n+4],["enter",r,e],["exit",r,e],["enter",o,e],["enter",c,e],["exit",c,e],["exit",o,e],t[t.length-2],t[t.length-1],["exit",a,e]];return t.splice(n,t.length-n+1,...d),t}function NU(t,e,n){const a=this,r=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let o=0,c;return d;function d(b){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(b),t.exit("gfmFootnoteCallLabelMarker"),m}function m(b){return b!==94?n(b):(t.enter("gfmFootnoteCallMarker"),t.consume(b),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",f)}function f(b){if(o>999||b===93&&!c||b===null||b===91||Ct(b))return n(b);if(b===93){t.exit("chunkString");const v=t.exit("gfmFootnoteCallString");return r.includes(ua(a.sliceSerialize(v)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(b),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(b)}return Ct(b)||(c=!0),o++,t.consume(b),b===92?x:f}function x(b){return b===91||b===92||b===93?(t.consume(b),o++,f):f(b)}}function jU(t,e,n){const a=this,r=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let o,c=0,d;return m;function m(j){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(j),t.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(j){return j===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(j),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",x):n(j)}function x(j){if(c>999||j===93&&!d||j===null||j===91||Ct(j))return n(j);if(j===93){t.exit("chunkString");const D=t.exit("gfmFootnoteDefinitionLabelString");return o=ua(a.sliceSerialize(D)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(j),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),v}return Ct(j)||(d=!0),c++,t.consume(j),j===92?b:x}function b(j){return j===91||j===92||j===93?(t.consume(j),c++,x):x(j)}function v(j){return j===58?(t.enter("definitionMarker"),t.consume(j),t.exit("definitionMarker"),r.includes(o)||r.push(o),ct(t,w,"gfmFootnoteDefinitionWhitespace")):n(j)}function w(j){return e(j)}}function SU(t,e,n){return t.check(Cd,e,t.attempt(bU,e,n))}function _U(t){t.exit("gfmFootnoteDefinition")}function TU(t,e,n){const a=this;return ct(t,r,"gfmFootnoteDefinitionIndent",5);function r(o){const c=a.events[a.events.length-1];return c&&c[1].type==="gfmFootnoteDefinitionIndent"&&c[2].sliceSerialize(c[1],!0).length===4?e(o):n(o)}}function EU(t){let n=(t||{}).singleTilde;const a={name:"strikethrough",tokenize:o,resolveAll:r};return n==null&&(n=!0),{text:{126:a},insideSpan:{null:[a]},attentionMarkers:{null:[126]}};function r(c,d){let m=-1;for(;++m<c.length;)if(c[m][0]==="enter"&&c[m][1].type==="strikethroughSequenceTemporary"&&c[m][1]._close){let f=m;for(;f--;)if(c[f][0]==="exit"&&c[f][1].type==="strikethroughSequenceTemporary"&&c[f][1]._open&&c[m][1].end.offset-c[m][1].start.offset===c[f][1].end.offset-c[f][1].start.offset){c[m][1].type="strikethroughSequence",c[f][1].type="strikethroughSequence";const x={type:"strikethrough",start:Object.assign({},c[f][1].start),end:Object.assign({},c[m][1].end)},b={type:"strikethroughText",start:Object.assign({},c[f][1].end),end:Object.assign({},c[m][1].start)},v=[["enter",x,d],["enter",c[f][1],d],["exit",c[f][1],d],["enter",b,d]],w=d.parser.constructs.insideSpan.null;w&&Es(v,v.length,0,Bf(w,c.slice(f+1,m),d)),Es(v,v.length,0,[["exit",b,d],["enter",c[m][1],d],["exit",c[m][1],d],["exit",x,d]]),Es(c,f-1,m-f+3,v),m=f+v.length-2;break}}for(m=-1;++m<c.length;)c[m][1].type==="strikethroughSequenceTemporary"&&(c[m][1].type="data");return c}function o(c,d,m){const f=this.previous,x=this.events;let b=0;return v;function v(j){return f===126&&x[x.length-1][1].type!=="characterEscape"?m(j):(c.enter("strikethroughSequenceTemporary"),w(j))}function w(j){const D=nc(f);if(j===126)return b>1?m(j):(c.consume(j),b++,w);if(b<2&&!n)return m(j);const k=c.exit("strikethroughSequenceTemporary"),V=nc(j);return k._open=!V||V===2&&!!D,k._close=!D||D===2&&!!V,d(j)}}}class CU{constructor(){this.map=[]}add(e,n,a){AU(this,e,n,a)}consume(e){if(this.map.sort(function(o,c){return o[0]-c[0]}),this.map.length===0)return;let n=this.map.length;const a=[];for(;n>0;)n-=1,a.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];a.push(e.slice()),e.length=0;let r=a.pop();for(;r;){for(const o of r)e.push(o);r=a.pop()}this.map.length=0}}function AU(t,e,n,a){let r=0;if(!(n===0&&a.length===0)){for(;r<t.map.length;){if(t.map[r][0]===e){t.map[r][1]+=n,t.map[r][2].push(...a);return}r+=1}t.map.push([e,n,a])}}function kU(t,e){let n=!1;const a=[];for(;e<t.length;){const r=t[e];if(n){if(r[0]==="enter")r[1].type==="tableContent"&&a.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=a.length-1;a[o]=a[o]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return a}function RU(){return{flow:{null:{name:"table",tokenize:IU,resolveAll:DU}}}}function IU(t,e,n){const a=this;let r=0,o=0,c;return d;function d(T){let C=a.events.length-1;for(;C>-1;){const te=a.events[C][1].type;if(te==="lineEnding"||te==="linePrefix")C--;else break}const P=C>-1?a.events[C][1].type:null,O=P==="tableHead"||P==="tableRow"?G:m;return O===G&&a.parser.lazy[a.now().line]?n(T):O(T)}function m(T){return t.enter("tableHead"),t.enter("tableRow"),f(T)}function f(T){return T===124||(c=!0,o+=1),x(T)}function x(T){return T===null?n(T):Oe(T)?o>1?(o=0,a.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),w):n(T):Ze(T)?ct(t,x,"whitespace")(T):(o+=1,c&&(c=!1,r+=1),T===124?(t.enter("tableCellDivider"),t.consume(T),t.exit("tableCellDivider"),c=!0,x):(t.enter("data"),b(T)))}function b(T){return T===null||T===124||Ct(T)?(t.exit("data"),x(T)):(t.consume(T),T===92?v:b)}function v(T){return T===92||T===124?(t.consume(T),b):b(T)}function w(T){return a.interrupt=!1,a.parser.lazy[a.now().line]?n(T):(t.enter("tableDelimiterRow"),c=!1,Ze(T)?ct(t,j,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):j(T))}function j(T){return T===45||T===58?k(T):T===124?(c=!0,t.enter("tableCellDivider"),t.consume(T),t.exit("tableCellDivider"),D):se(T)}function D(T){return Ze(T)?ct(t,k,"whitespace")(T):k(T)}function k(T){return T===58?(o+=1,c=!0,t.enter("tableDelimiterMarker"),t.consume(T),t.exit("tableDelimiterMarker"),V):T===45?(o+=1,V(T)):T===null||Oe(T)?Q(T):se(T)}function V(T){return T===45?(t.enter("tableDelimiterFiller"),I(T)):se(T)}function I(T){return T===45?(t.consume(T),I):T===58?(c=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(T),t.exit("tableDelimiterMarker"),B):(t.exit("tableDelimiterFiller"),B(T))}function B(T){return Ze(T)?ct(t,Q,"whitespace")(T):Q(T)}function Q(T){return T===124?j(T):T===null||Oe(T)?!c||r!==o?se(T):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(T)):se(T)}function se(T){return n(T)}function G(T){return t.enter("tableRow"),R(T)}function R(T){return T===124?(t.enter("tableCellDivider"),t.consume(T),t.exit("tableCellDivider"),R):T===null||Oe(T)?(t.exit("tableRow"),e(T)):Ze(T)?ct(t,R,"whitespace")(T):(t.enter("data"),A(T))}function A(T){return T===null||T===124||Ct(T)?(t.exit("data"),R(T)):(t.consume(T),T===92?L:A)}function L(T){return T===92||T===124?(t.consume(T),A):A(T)}}function DU(t,e){let n=-1,a=!0,r=0,o=[0,0,0,0],c=[0,0,0,0],d=!1,m=0,f,x,b;const v=new CU;for(;++n<t.length;){const w=t[n],j=w[1];w[0]==="enter"?j.type==="tableHead"?(d=!1,m!==0&&(BN(v,e,m,f,x),x=void 0,m=0),f={type:"table",start:Object.assign({},j.start),end:Object.assign({},j.end)},v.add(n,0,[["enter",f,e]])):j.type==="tableRow"||j.type==="tableDelimiterRow"?(a=!0,b=void 0,o=[0,0,0,0],c=[0,n+1,0,0],d&&(d=!1,x={type:"tableBody",start:Object.assign({},j.start),end:Object.assign({},j.end)},v.add(n,0,[["enter",x,e]])),r=j.type==="tableDelimiterRow"?2:x?3:1):r&&(j.type==="data"||j.type==="tableDelimiterMarker"||j.type==="tableDelimiterFiller")?(a=!1,c[2]===0&&(o[1]!==0&&(c[0]=c[1],b=dm(v,e,o,r,void 0,b),o=[0,0,0,0]),c[2]=n)):j.type==="tableCellDivider"&&(a?a=!1:(o[1]!==0&&(c[0]=c[1],b=dm(v,e,o,r,void 0,b)),o=c,c=[o[1],n,0,0])):j.type==="tableHead"?(d=!0,m=n):j.type==="tableRow"||j.type==="tableDelimiterRow"?(m=n,o[1]!==0?(c[0]=c[1],b=dm(v,e,o,r,n,b)):c[1]!==0&&(b=dm(v,e,c,r,n,b)),r=0):r&&(j.type==="data"||j.type==="tableDelimiterMarker"||j.type==="tableDelimiterFiller")&&(c[3]=n)}for(m!==0&&BN(v,e,m,f,x),v.consume(e.events),n=-1;++n<e.events.length;){const w=e.events[n];w[0]==="enter"&&w[1].type==="table"&&(w[1]._align=kU(e.events,n))}return t}function dm(t,e,n,a,r,o){const c=a===1?"tableHeader":a===2?"tableDelimiter":"tableData",d="tableContent";n[0]!==0&&(o.end=Object.assign({},Po(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const m=Po(e.events,n[1]);if(o={type:c,start:Object.assign({},m),end:Object.assign({},m)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const f=Po(e.events,n[2]),x=Po(e.events,n[3]),b={type:d,start:Object.assign({},f),end:Object.assign({},x)};if(t.add(n[2],0,[["enter",b,e]]),a!==2){const v=e.events[n[2]],w=e.events[n[3]];if(v[1].end=Object.assign({},w[1].end),v[1].type="chunkText",v[1].contentType="text",n[3]>n[2]+1){const j=n[2]+1,D=n[3]-n[2]-1;t.add(j,D,[])}}t.add(n[3]+1,0,[["exit",b,e]])}return r!==void 0&&(o.end=Object.assign({},Po(e.events,r)),t.add(r,0,[["exit",o,e]]),o=void 0),o}function BN(t,e,n,a,r){const o=[],c=Po(e.events,n);r&&(r.end=Object.assign({},c),o.push(["exit",r,e])),a.end=Object.assign({},c),o.push(["exit",a,e]),t.add(n+1,0,o)}function Po(t,e){const n=t[e],a=n[0]==="enter"?"start":"end";return n[1][a]}const MU={name:"tasklistCheck",tokenize:PU};function OU(){return{text:{91:MU}}}function PU(t,e,n){const a=this;return r;function r(m){return a.previous!==null||!a._gfmTasklistFirstContentOfListItem?n(m):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(m),t.exit("taskListCheckMarker"),o)}function o(m){return Ct(m)?(t.enter("taskListCheckValueUnchecked"),t.consume(m),t.exit("taskListCheckValueUnchecked"),c):m===88||m===120?(t.enter("taskListCheckValueChecked"),t.consume(m),t.exit("taskListCheckValueChecked"),c):n(m)}function c(m){return m===93?(t.enter("taskListCheckMarker"),t.consume(m),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),d):n(m)}function d(m){return Oe(m)?e(m):Ze(m)?t.check({tokenize:LU},e,n)(m):n(m)}}function LU(t,e,n){return ct(t,a,"whitespace");function a(r){return r===null?n(r):e(r)}}function VU(t){return kS([cU(),yU(),EU(t),RU(),OU()])}const UU={};function Nc(t){const e=this,n=t||UU,a=e.data(),r=a.micromarkExtensions||(a.micromarkExtensions=[]),o=a.fromMarkdownExtensions||(a.fromMarkdownExtensions=[]),c=a.toMarkdownExtensions||(a.toMarkdownExtensions=[]);r.push(VU(n)),o.push(iU()),c.push(rU(n))}const Gf=["Public Forum (PF)","Lincoln-Douglas (LD)","Policy Debate (CX)","Big Questions Debate","World Schools Debate","Congressional Debate","Original Oratory (OO)","Informative Speaking (INFO)","United States Extemp (USX)","International Extemp (IX)","Dramatic Interpretation (DI)","Humorous Interpretation (HI)","Duo Interpretation","Program Oral Interpretation (POI)","Impromptu","Extemporaneous Commentary","Expository","Storytelling","Prose/Poetry","Parliamentary (British)","Parliamentary (Asian)","Model UN Speech","After Dinner Speaking","Toast/Ceremonial"],v_=["Proposition/Affirmative","Opposition/Negative","Government","Opposition","Pro","Con","Opening Member","Closing Member/Whip","Sponsor (Congress)","Individual/Solo","Neutral/Evaluator"],Be={DEBATE:"debate",INDIVIDUAL_SPEAKING:"individual",INTERP:"interp",EXTEMP:"extemp",LIMITED_PREP:"limited_prep"},sc={"Public Forum (PF)":Be.DEBATE,"Lincoln-Douglas (LD)":Be.DEBATE,"Policy Debate (CX)":Be.DEBATE,"Big Questions Debate":Be.DEBATE,"World Schools Debate":Be.DEBATE,"Congressional Debate":Be.DEBATE,"Parliamentary (British)":Be.DEBATE,"Parliamentary (Asian)":Be.DEBATE,"Original Oratory (OO)":Be.INDIVIDUAL_SPEAKING,"Informative Speaking (INFO)":Be.INDIVIDUAL_SPEAKING,Expository:Be.INDIVIDUAL_SPEAKING,"After Dinner Speaking":Be.INDIVIDUAL_SPEAKING,"Toast/Ceremonial":Be.INDIVIDUAL_SPEAKING,"Model UN Speech":Be.INDIVIDUAL_SPEAKING,"Dramatic Interpretation (DI)":Be.INTERP,"Humorous Interpretation (HI)":Be.INTERP,"Duo Interpretation":Be.INTERP,"Program Oral Interpretation (POI)":Be.INTERP,"Prose/Poetry":Be.INTERP,Storytelling:Be.INTERP,"United States Extemp (USX)":Be.EXTEMP,"International Extemp (IX)":Be.EXTEMP,"Extemporaneous Commentary":Be.EXTEMP,Impromptu:Be.LIMITED_PREP},zU={[Be.DEBATE]:{name:"Debate",description:"Competitive debate formats with opposing sides",showOpposingArguments:!0,showClash:!0,showRebuttals:!0,showCrossEx:!0,rubric:`
## Debate Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Argumentation & Evidence** | 30% | Quality of arguments, evidence strength, logical warrants |
| **Clash & Engagement** | 25% | Direct responses to opponent, refutation quality |
| **Impact Analysis** | 20% | Magnitude, probability, timeframe of impacts |
| **Strategy & Organization** | 15% | Speech structure, time allocation, flow |
| **Delivery** | 10% | Clarity, persuasion, pace (speed okay if clear) |
    `,focusAreas:["Arguments for your position","Responses to opposing arguments","Evidence quality and sources","Impact calculus","Clash and refutation","Cross-examination presence"]},[Be.INDIVIDUAL_SPEAKING]:{name:"Individual Speaking",description:"Platform speaking events focused on original content",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Individual Speaking Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Content & Research** | 30% | Depth of information, accuracy, relevance |
| **Organization** | 25% | Structure, transitions, logical flow |
| **Delivery** | 25% | Vocal variety, eye contact, gestures, presence |
| **Analysis & Insight** | 15% | Original thought, depth of understanding |
| **Impact & Memorability** | 5% | Audience engagement, lasting impression |
    `,focusAreas:["Content clarity and accuracy","Speech organization and structure","Vocal delivery and variety","Physical presence and gestures","Audience engagement","Use of evidence and examples"]},[Be.INTERP]:{name:"Interpretation",description:"Performance events with scripted or literary material",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Interpretation Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Characterization** | 30% | Distinct, consistent, believable characters |
| **Emotional Range** | 25% | Depth of emotion, appropriate intensity |
| **Technical Skill** | 20% | Blocking, pops, timing, focus |
| **Material Selection** | 15% | Quality of cutting, thematic unity |
| **Overall Impact** | 10% | Audience connection, memorability |
    `,focusAreas:["Character development and distinction","Emotional authenticity","Physical performance (blocking, gestures)","Vocal variety and character voices","Timing and pacing","Thematic development"]},[Be.EXTEMP]:{name:"Extemporaneous Speaking",description:"Current events analysis with limited prep time",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Extemporaneous Speaking Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Analysis Depth** | 30% | Quality of reasoning, insight into topic |
| **Evidence & Sources** | 25% | Citation quality, recency, variety |
| **Organization** | 20% | Clear structure, strong transitions |
| **Answering the Question** | 15% | Directly addresses the prompt |
| **Delivery** | 10% | Conversational, engaging, minimal notes |
    `,focusAreas:["Direct answer to the question","Analysis depth and insight","Evidence and source citations","Current events knowledge","Logical organization","Conversational delivery"]},[Be.LIMITED_PREP]:{name:"Limited Preparation",description:"Impromptu speaking with minimal prep time",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Impromptu Speaking Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Quick Thinking** | 30% | Ability to form coherent thoughts rapidly |
| **Relevance** | 25% | Staying on topic, addressing the prompt |
| **Organization** | 20% | Clear structure despite limited prep |
| **Creativity** | 15% | Original examples, unique perspectives |
| **Delivery** | 10% | Confident, fluid despite improvisation |
    `,focusAreas:["Response relevance to prompt","Quick organization of thoughts","Creative examples and analogies","Confident delivery","Time management","Coherent structure"]}},w_=t=>{const e=sc[t]||Be.INDIVIDUAL_SPEAKING;return zU[e]},xx=t=>sc[t]===Be.DEBATE?["Proposition/Affirmative","Opposition/Negative","Government","Opposition","Pro","Con","Opening Member","Closing Member/Whip","Sponsor (Congress)"]:["Individual/Solo","Neutral/Evaluator"],$N=(t,e,n,a)=>{const r=w_(t),o=sc[t];let c=`You are an expert ${t} coach and judge with years of experience evaluating this specific event type.`;return e&&(c+=`
Topic/Prompt: ${e}`),r.showOpposingArguments&&n&&(c+=`
Side/Position: ${n}`),c+=`

Evaluate the following speech based on this event-specific rubric:
${r.rubric}`,o===Be.DEBATE?c+=`

### DEBATE-SPECIFIC ANALYSIS:
- Analyze the strength and clarity of each argument presented
- Identify potential opposing arguments and how well they were preempted or addressed
- Evaluate evidence quality and proper citation
- Assess impact calculus (magnitude, probability, timeframe)
- Note clash quality and direct engagement with opposing points
- Consider cross-examination strategy if applicable`:o===Be.INDIVIDUAL_SPEAKING?c+=`

### INDIVIDUAL SPEAKING-SPECIFIC ANALYSIS:
- Focus on content clarity and information accuracy
- Do NOT analyze opposing arguments (this is not a debate event)
- Evaluate speech organization and flow
- Assess delivery techniques (vocal variety, gestures, eye contact)
- Consider audience engagement and persuasive techniques
- NOTE: Do not penalize for missing visual aids or props (text-only evaluation)`:o===Be.INTERP?c+=`

### INTERPRETATION-SPECIFIC ANALYSIS:
- Evaluate character development and distinction between characters
- Assess emotional authenticity and range
- Analyze physical performance elements described
- Consider pacing and timing
- Note thematic development and material selection quality
- Do NOT analyze arguments or debate elements (this is a performance event)`:o===Be.EXTEMP?c+=`

### EXTEMP-SPECIFIC ANALYSIS:
- Evaluate how directly the question/prompt is answered
- Assess depth of analysis on current events
- Check quality and recency of evidence cited
- Consider organization and structure
- Note delivery style (should be conversational, not memorized)
- Do NOT analyze debate clash (this is not a debate event)`:o===Be.LIMITED_PREP&&(c+=`

### IMPROMPTU-SPECIFIC ANALYSIS:
- Evaluate quick thinking and coherent thought formation
- Assess relevance to the prompt given
- Consider organization despite limited preparation time
- Note creative examples and unique perspectives
- Evaluate confidence and delivery fluidity
- Be understanding of minor hesitations given the time constraints`),c+=`

Please provide the output in the following Markdown format:

## Executive Summary
(Brief 2-3 sentence overview of overall performance)

## Scorecard
| Category | Score (0-10) | Notes |
| --- | --- | --- |
(Fill based on the rubric above)
| **Total** | **(Average/Sum)** | |

## Key ${o===Be.DEBATE?"Argument":"Content"} Analysis
(Detailed breakdown of main points made)
${r.showOpposingArguments?`
## Opposing Arguments & Clash
(Analysis of responses to opponent arguments and missed clash opportunities)`:""}

## Constructive Feedback
- **Strengths**: ...
- **Areas for Improvement**: ...

## Recommended Drills
(3-5 specific exercises to improve weak areas, tailored to this event type)

## Quick Tips for Next Round
(2-3 actionable items for immediate improvement)

SPEECH TEXT:
${a}`,c},qN={[Be.DEBATE]:{label:"Debate Events",icon:"",color:"text-red-400"},[Be.INDIVIDUAL_SPEAKING]:{label:"Individual Speaking",icon:"",color:"text-blue-400"},[Be.INTERP]:{label:"Interpretation",icon:"",color:"text-purple-400"},[Be.EXTEMP]:{label:"Extemporaneous",icon:"",color:"text-green-400"},[Be.LIMITED_PREP]:{label:"Limited Prep",icon:"",color:"text-yellow-400"}};var HN;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(HN||(HN={}));var GN;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(GN||(GN={}));var YN;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(YN||(YN={}));const QN=["user","model","function","system"];var KN;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(KN||(KN={}));var WN;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(WN||(WN={}));var XN;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(XN||(XN={}));var JN;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(JN||(JN={}));var qu;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(qu||(qu={}));var ZN;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(ZN||(ZN={}));var ej;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(ej||(ej={}));var tj;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(tj||(tj={}));class Gn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class ko extends Gn{constructor(e,n){super(e),this.response=n}}class N_ extends Gn{constructor(e,n,a,r){super(e),this.status=n,this.statusText=a,this.errorDetails=r}}class _r extends Gn{}class j_ extends Gn{}const FU="https://generativelanguage.googleapis.com",BU="v1beta",$U="0.24.1",qU="genai-js";var kl;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(kl||(kl={}));class HU{constructor(e,n,a,r,o){this.model=e,this.task=n,this.apiKey=a,this.stream=r,this.requestOptions=o}toString(){var e,n;const a=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||BU;let o=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||FU}/${a}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}}function GU(t){const e=[];return t?.apiClient&&e.push(t.apiClient),e.push(`${qU}/${$U}`),e.join(" ")}async function YU(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",GU(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let a=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(a){if(!(a instanceof Headers))try{a=new Headers(a)}catch(r){throw new _r(`unable to convert customHeaders value ${JSON.stringify(a)} to Headers: ${r.message}`)}for(const[r,o]of a.entries()){if(r==="x-goog-api-key")throw new _r(`Cannot set reserved header name ${r}`);if(r==="x-goog-api-client")throw new _r(`Header name ${r} can only be set using the apiClient field`);n.append(r,o)}}return n}async function QU(t,e,n,a,r,o){const c=new HU(t,e,n,a,o);return{url:c.toString(),fetchOptions:Object.assign(Object.assign({},JU(o)),{method:"POST",headers:await YU(c),body:r})}}async function kd(t,e,n,a,r,o={},c=fetch){const{url:d,fetchOptions:m}=await QU(t,e,n,a,r,o);return KU(d,m,c)}async function KU(t,e,n=fetch){let a;try{a=await n(t,e)}catch(r){WU(r,t)}return a.ok||await XU(a,t),a}function WU(t,e){let n=t;throw n.name==="AbortError"?(n=new j_(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof N_||t instanceof _r||(n=new Gn(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function XU(t,e){let n="",a;try{const r=await t.json();n=r.error.message,r.error.details&&(n+=` ${JSON.stringify(r.error.details)}`,a=r.error.details)}catch{}throw new N_(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,a)}function JU(t){const e={};if(t?.signal!==void 0||t?.timeout>=0){const n=new AbortController;t?.timeout>=0&&setTimeout(()=>n.abort(),t.timeout),t?.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}function Gb(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Am(t.candidates[0]))throw new ko(`${fr(t)}`,t);return ZU(t)}else if(t.promptFeedback)throw new ko(`Text not available. ${fr(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Am(t.candidates[0]))throw new ko(`${fr(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),nj(t)[0]}else if(t.promptFeedback)throw new ko(`Function call not available. ${fr(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Am(t.candidates[0]))throw new ko(`${fr(t)}`,t);return nj(t)}else if(t.promptFeedback)throw new ko(`Function call not available. ${fr(t)}`,t)},t}function ZU(t){var e,n,a,r;const o=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const c of(r=(a=t.candidates)===null||a===void 0?void 0:a[0].content)===null||r===void 0?void 0:r.parts)c.text&&o.push(c.text),c.executableCode&&o.push("\n```"+c.executableCode.language+`
`+c.executableCode.code+"\n```\n"),c.codeExecutionResult&&o.push("\n```\n"+c.codeExecutionResult.output+"\n```\n");return o.length>0?o.join(""):""}function nj(t){var e,n,a,r;const o=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const c of(r=(a=t.candidates)===null||a===void 0?void 0:a[0].content)===null||r===void 0?void 0:r.parts)c.functionCall&&o.push(c.functionCall);if(o.length>0)return o}const ez=[qu.RECITATION,qu.SAFETY,qu.LANGUAGE];function Am(t){return!!t.finishReason&&ez.includes(t.finishReason)}function fr(t){var e,n,a;let r="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)r+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(r+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(r+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((a=t.candidates)===null||a===void 0)&&a[0]){const o=t.candidates[0];Am(o)&&(r+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(r+=`: ${o.finishMessage}`))}return r}function ld(t){return this instanceof ld?(this.v=t,this):new ld(t)}function tz(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(t,e||[]),r,o=[];return r={},c("next"),c("throw"),c("return"),r[Symbol.asyncIterator]=function(){return this},r;function c(v){a[v]&&(r[v]=function(w){return new Promise(function(j,D){o.push([v,w,j,D])>1||d(v,w)})})}function d(v,w){try{m(a[v](w))}catch(j){b(o[0][3],j)}}function m(v){v.value instanceof ld?Promise.resolve(v.value.v).then(f,x):b(o[0][2],v)}function f(v){d("next",v)}function x(v){d("throw",v)}function b(v,w){v(w),o.shift(),o.length&&d(o[0][0],o[0][1])}}const sj=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function nz(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=iz(e),[a,r]=n.tee();return{stream:az(a),response:sz(r)}}async function sz(t){const e=[],n=t.getReader();for(;;){const{done:a,value:r}=await n.read();if(a)return Gb(rz(e));e.push(r)}}function az(t){return tz(this,arguments,function*(){const n=t.getReader();for(;;){const{value:a,done:r}=yield ld(n.read());if(r)break;yield yield ld(Gb(a))}})}function iz(t){const e=t.getReader();return new ReadableStream({start(a){let r="";return o();function o(){return e.read().then(({value:c,done:d})=>{if(d){if(r.trim()){a.error(new Gn("Failed to parse stream"));return}a.close();return}r+=c;let m=r.match(sj),f;for(;m;){try{f=JSON.parse(m[1])}catch{a.error(new Gn(`Error parsing JSON response: "${m[1]}"`));return}a.enqueue(f),r=r.substring(m[0].length),m=r.match(sj)}return o()}).catch(c=>{let d=c;throw d.stack=c.stack,d.name==="AbortError"?d=new j_("Request aborted when reading from the stream"):d=new Gn("Error reading from the stream"),d})}}})}function rz(t){const e=t[t.length-1],n={promptFeedback:e?.promptFeedback};for(const a of t){if(a.candidates){let r=0;for(const o of a.candidates)if(n.candidates||(n.candidates=[]),n.candidates[r]||(n.candidates[r]={index:r}),n.candidates[r].citationMetadata=o.citationMetadata,n.candidates[r].groundingMetadata=o.groundingMetadata,n.candidates[r].finishReason=o.finishReason,n.candidates[r].finishMessage=o.finishMessage,n.candidates[r].safetyRatings=o.safetyRatings,o.content&&o.content.parts){n.candidates[r].content||(n.candidates[r].content={role:o.content.role||"user",parts:[]});const c={};for(const d of o.content.parts)d.text&&(c.text=d.text),d.functionCall&&(c.functionCall=d.functionCall),d.executableCode&&(c.executableCode=d.executableCode),d.codeExecutionResult&&(c.codeExecutionResult=d.codeExecutionResult),Object.keys(c).length===0&&(c.text=""),n.candidates[r].content.parts.push(c)}r++}a.usageMetadata&&(n.usageMetadata=a.usageMetadata)}return n}async function S_(t,e,n,a){const r=await kd(e,kl.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),a);return nz(r)}async function __(t,e,n,a){const o=await(await kd(e,kl.GENERATE_CONTENT,t,!1,JSON.stringify(n),a)).json();return{response:Gb(o)}}function T_(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function od(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return lz(e)}function lz(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let a=!1,r=!1;for(const o of t)"functionResponse"in o?(n.parts.push(o),r=!0):(e.parts.push(o),a=!0);if(a&&r)throw new Gn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!a&&!r)throw new Gn("No content is provided for sending chat message.");return a?e:n}function oz(t,e){var n;let a={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(n=e?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const r=t.generateContentRequest!=null;if(t.contents){if(r)throw new _r("CountTokensRequest must have one of contents or generateContentRequest, not both.");a.contents=t.contents}else if(r)a=Object.assign(Object.assign({},a),t.generateContentRequest);else{const o=od(t);a.contents=[o]}return{generateContentRequest:a}}function aj(t){let e;return t.contents?e=t:e={contents:[od(t)]},t.systemInstruction&&(e.systemInstruction=T_(t.systemInstruction)),e}function cz(t){return typeof t=="string"||Array.isArray(t)?{content:od(t)}:t}const ij=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],uz={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function dz(t){let e=!1;for(const n of t){const{role:a,parts:r}=n;if(!e&&a!=="user")throw new Gn(`First content should be with role 'user', got ${a}`);if(!QN.includes(a))throw new Gn(`Each item should include role field. Got ${a} but valid roles are: ${JSON.stringify(QN)}`);if(!Array.isArray(r))throw new Gn("Content should have 'parts' property with an array of Parts");if(r.length===0)throw new Gn("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const d of r)for(const m of ij)m in d&&(o[m]+=1);const c=uz[a];for(const d of ij)if(!c.includes(d)&&o[d]>0)throw new Gn(`Content with role '${a}' can't contain '${d}' part`);e=!0}}function rj(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const a of n.parts)if(a===void 0||Object.keys(a).length===0||a.text!==void 0&&a.text==="")return!1;return!0}const lj="SILENT_ERROR";class hz{constructor(e,n,a,r={}){this.model=n,this.params=a,this._requestOptions=r,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,a?.history&&(dz(a.history),this._history=a.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var a,r,o,c,d,m;await this._sendPromise;const f=od(e),x={safetySettings:(a=this.params)===null||a===void 0?void 0:a.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,f]},b=Object.assign(Object.assign({},this._requestOptions),n);let v;return this._sendPromise=this._sendPromise.then(()=>__(this._apiKey,this.model,x,b)).then(w=>{var j;if(rj(w.response)){this._history.push(f);const D=Object.assign({parts:[],role:"model"},(j=w.response.candidates)===null||j===void 0?void 0:j[0].content);this._history.push(D)}else{const D=fr(w.response);D&&console.warn(`sendMessage() was unsuccessful. ${D}. Inspect response object for details.`)}v=w}).catch(w=>{throw this._sendPromise=Promise.resolve(),w}),await this._sendPromise,v}async sendMessageStream(e,n={}){var a,r,o,c,d,m;await this._sendPromise;const f=od(e),x={safetySettings:(a=this.params)===null||a===void 0?void 0:a.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,f]},b=Object.assign(Object.assign({},this._requestOptions),n),v=S_(this._apiKey,this.model,x,b);return this._sendPromise=this._sendPromise.then(()=>v).catch(w=>{throw new Error(lj)}).then(w=>w.response).then(w=>{if(rj(w)){this._history.push(f);const j=Object.assign({},w.candidates[0].content);j.role||(j.role="model"),this._history.push(j)}else{const j=fr(w);j&&console.warn(`sendMessageStream() was unsuccessful. ${j}. Inspect response object for details.`)}}).catch(w=>{w.message!==lj&&console.error(w)}),v}}async function mz(t,e,n,a){return(await kd(e,kl.COUNT_TOKENS,t,!1,JSON.stringify(n),a)).json()}async function fz(t,e,n,a){return(await kd(e,kl.EMBED_CONTENT,t,!1,JSON.stringify(n),a)).json()}async function pz(t,e,n,a){const r=n.requests.map(c=>Object.assign(Object.assign({},c),{model:e}));return(await kd(e,kl.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:r}),a)).json()}class oj{constructor(e,n,a={}){this.apiKey=e,this._requestOptions=a,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=T_(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var a;const r=aj(e),o=Object.assign(Object.assign({},this._requestOptions),n);return __(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(a=this.cachedContent)===null||a===void 0?void 0:a.name},r),o)}async generateContentStream(e,n={}){var a;const r=aj(e),o=Object.assign(Object.assign({},this._requestOptions),n);return S_(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(a=this.cachedContent)===null||a===void 0?void 0:a.name},r),o)}startChat(e){var n;return new hz(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const a=oz(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),r=Object.assign(Object.assign({},this._requestOptions),n);return mz(this.apiKey,this.model,a,r)}async embedContent(e,n={}){const a=cz(e),r=Object.assign(Object.assign({},this._requestOptions),n);return fz(this.apiKey,this.model,a,r)}async batchEmbedContents(e,n={}){const a=Object.assign(Object.assign({},this._requestOptions),n);return pz(this.apiKey,this.model,e,a)}}class ki{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new Gn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new oj(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,a){if(!e.name)throw new _r("Cached content must contain a `name` field.");if(!e.model)throw new _r("Cached content must contain a `model` field.");const r=["model","systemInstruction"];for(const c of r)if(n?.[c]&&e[c]&&n?.[c]!==e[c]){if(c==="model"){const d=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,m=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(d===m)continue}throw new _r(`Different value for "${c}" specified in modelParams (${n[c]}) and cachedContent (${e[c]})`)}const o=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new oj(this.apiKey,o,a)}}function E_(t){return new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function gz(t){const e=new Date(t),a=new Date-e,r=Math.floor(a/6e4),o=Math.floor(a/36e5),c=Math.floor(a/864e5);return r<1?"Just now":r<60?`${r}m ago`:o<24?`${o}h ago`:c<7?`${c}d ago`:E_(t)}function xz(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}const cj={get:(t,e=null)=>{try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch{return e}},set:(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(n){console.error("Storage error:",n)}},remove:t=>{try{localStorage.removeItem(t)}catch(e){console.error("Storage error:",e)}}},uj="adjudicator_history",dj=50;function zl(){const[t,e]=E.useState([]),[n,a]=E.useState(!0);E.useEffect(()=>{const w=cj.get(uj,[]);e(w),a(!1)},[]),E.useEffect(()=>{n||cj.set(uj,t)},[t,n]);const r=E.useCallback(w=>{const j={id:xz(),createdAt:new Date().toISOString(),...w};return e(D=>[j,...D].slice(0,dj)),j.id},[]),o=E.useCallback(w=>{e(j=>j.filter(D=>D.id!==w))},[]),c=E.useCallback(()=>{e([])},[]),d=E.useCallback(w=>t.find(j=>j.id===w),[t]),m=E.useCallback(w=>t.filter(j=>j.type===w),[t]),f=E.useCallback((w,j)=>{e(D=>D.map(k=>k.id===w?{...k,...j,updatedAt:new Date().toISOString()}:k))},[]),x=E.useCallback(()=>{const w=JSON.stringify(t,null,2),j=new Blob([w],{type:"application/json"}),D=URL.createObjectURL(j),k=document.createElement("a");k.href=D,k.download=`adjudicator-history-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(D)},[t]),b=E.useCallback(async w=>{try{const j=await w.text(),D=JSON.parse(j);return Array.isArray(D)?(e(k=>{const V=new Set(k.map(B=>B.id));return[...D.filter(B=>!V.has(B.id)),...k].slice(0,dj)}),{success:!0,count:D.length}):{success:!1,error:"Invalid format"}}catch(j){return{success:!1,error:j.message}}},[]),v={total:t.length,byType:{judge:t.filter(w=>w.type==="judge").length,board:t.filter(w=>w.type==="board").length,coach:t.filter(w=>w.type==="coach").length,strategy:t.filter(w=>w.type==="strategy").length,extemp:t.filter(w=>w.type==="extemp").length,tone:t.filter(w=>w.type==="tone").length},lastSession:t[0]||null};return{history:t,isLoading:n,stats:v,addSession:r,deleteSession:o,clearHistory:c,getSession:d,getSessionsByType:m,updateSession:f,exportHistory:x,importHistory:b}}const bz=({apiKey:t})=>{const[e,n]=E.useState("Public Forum (PF)"),[a,r]=E.useState("Proposition/Affirmative"),[o,c]=E.useState(""),[d,m]=E.useState(""),[f,x]=E.useState(!1),[b,v]=E.useState(null),[w,j]=E.useState(""),[D,k]=E.useState(!1),[V,I]=E.useState(!1),{addSession:B}=zl(),Q=E.useMemo(()=>w_(e),[e]),se=E.useMemo(()=>xx(e),[e]),G=sc[e],R=qN[G],A=P=>{n(P);const O=xx(P);O.includes(a)||r(O[0])},L=async()=>{if(!t){j("Please enter a valid Gemini API Key in Settings.");return}if(!d.trim()){j("Please enter the speech transcript.");return}x(!0),j(""),v(null);try{const O=new ki(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),te=$N(e,o,a,d),X=(await(await O.generateContent(te)).response).text();v(X),B({type:"judge",title:o||`${e} Analysis`,input:{transcript:d.substring(0,500)+(d.length>500?"...":"")},result:X,metadata:{speechType:e,side:Q.showOpposingArguments?a:null,topic:o,eventCategory:G}}),I(!0),setTimeout(()=>I(!1),2e3)}catch(P){console.error("Gemini Error:",P);try{const te=new ki(t).getGenerativeModel({model:"gemini-1.5-flash"}),J=$N(e,o,a,d),he=(await(await te.generateContent(J)).response).text();v(he)}catch{j(`Error: ${P.message}. Please try again.`)}}finally{x(!1)}},T=()=>{b&&(navigator.clipboard.writeText(b),k(!0),setTimeout(()=>k(!1),2e3))},C=E.useMemo(()=>{const P={};return Gf.forEach(O=>{const te=sc[O];P[te]||(P[te]=[]),P[te].push(O)}),P},[]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Speech Analysis"}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Get AI-powered feedback on your speeches"})]}),R&&s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-slate-900/50 border border-slate-800/60",children:[s.jsx("span",{className:"text-lg",children:R.icon}),s.jsx("span",{className:`text-sm font-medium ${R.color}`,children:R.label})]})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[s.jsxs("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Event Format"}),s.jsx("select",{value:e,onChange:P=>A(P.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all",children:Object.entries(C).map(([P,O])=>{const te=qN[P];return s.jsx("optgroup",{label:`${te?.icon||""} ${te?.label||P}`,children:O.map(J=>s.jsx("option",{value:J,children:J},J))},P)})})]}),Q.showOpposingArguments?s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Side/Position"}),s.jsx("select",{value:a,onChange:P=>r(P.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all",children:se.map(P=>s.jsx("option",{value:P,children:P},P))})]}):s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Speaker Role"}),s.jsx("select",{value:a,onChange:P=>r(P.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all",children:se.map(P=>s.jsx("option",{value:P,children:P},P))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:Q.showOpposingArguments?"Resolution/Topic":"Speech Topic/Prompt"}),s.jsx("input",{type:"text",value:o,onChange:P=>c(P.target.value),placeholder:Q.showOpposingArguments?"Resolved: The United States should...":"Enter the topic or prompt...",className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all"})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(ic,{className:"w-4 h-4 text-cyan-400"}),s.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Analysis Focus Areas"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[Q.focusAreas.slice(0,4).map((P,O)=>s.jsx("span",{className:"px-3 py-1.5 text-xs font-medium bg-slate-900/50 text-slate-400 rounded-lg border border-slate-700/50",children:P},O)),Q.focusAreas.length>4&&s.jsxs("span",{className:"px-3 py-1.5 text-xs text-slate-500",children:["+",Q.focusAreas.length-4," more"]})]})]})]}),s.jsxs("div",{className:"flex-1 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[s.jsx("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50",children:s.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Speech Transcript"})}),s.jsx("textarea",{value:d,onChange:P=>m(P.target.value),placeholder:"Paste your speech text here...",className:"flex-1 w-full bg-transparent p-4 resize-none focus:outline-none font-mono text-sm text-slate-200 placeholder-slate-600 min-h-[200px]"}),s.jsxs("div",{className:"p-4 border-t border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[s.jsxs("span",{className:"text-xs text-slate-500 font-medium",children:[d.length.toLocaleString()," characters"]}),s.jsxs("button",{onClick:L,disabled:f,className:"px-6 py-2.5 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-semibold shadow-lg shadow-cyan-500/25 hover:shadow-cyan-500/40 hover:scale-[1.02] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center gap-2",children:[f?s.jsx(Or,{className:"w-4 h-4 animate-spin"}):s.jsx(mf,{className:"w-4 h-4"}),f?"Analyzing...":"Analyze Speech"]})]})]}),w&&s.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 text-red-400",children:[s.jsx(ts,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:w})]})]}),s.jsxs("div",{className:"w-full lg:w-1/2 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx(hs,{className:"w-5 h-5 text-cyan-400"}),Q.name," Evaluation"]}),b&&s.jsxs("div",{className:"flex items-center gap-3",children:[V&&s.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1 font-medium",children:[s.jsx(qa,{className:"w-3 h-3"})," Saved"]}),s.jsx("button",{onClick:T,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Copy to clipboard",children:D?s.jsx(ji,{className:"w-4 h-4 text-emerald-500"}):s.jsx(Gs,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:b?s.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-cyan-400 prose-headings:font-semibold prose-a:text-cyan-400 prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-3 prose-td:p-3 prose-th:bg-slate-800/50 prose-th:text-left",children:s.jsx(wc,{remarkPlugins:[Nc],children:b})}):s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 py-16",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:s.jsx("span",{className:"text-3xl",children:R?.icon||""})}),s.jsxs("p",{className:"text-center max-w-xs",children:["Ready to evaluate your ",Q.name.toLowerCase()," speech.",s.jsx("br",{}),s.jsx("span",{className:"text-sm text-slate-600",children:"Enter your speech and click Analyze."})]})]})})]})]})]})},yz=({apiKey:t})=>{const[e,n]=E.useState("Public Forum (PF)"),[a,r]=E.useState("Proposition/Affirmative"),[o,c]=E.useState(""),[d,m]=E.useState(""),[f,x]=E.useState([]),[b,v]=E.useState(!1),[w,j]=E.useState(null),[D,k]=E.useState(""),[V,I]=E.useState(!1),[B,Q]=E.useState(!1),se=E.useRef(null),{addSession:G}=zl(),R=C=>{const P=Array.from(C.target.files);P.length!==0&&(P.forEach(O=>{if(O.size>4*1024*1024){k(J=>(J?`${J} `:"")+`Skipped ${O.name} (too large).`);return}const te=new FileReader;te.onloadend=()=>{const J=te.result.split(",")[1];x(q=>[...q,{id:Math.random().toString(36).substr(2,9),url:te.result,raw:J,mimeType:O.type,name:O.name}])},te.readAsDataURL(O)}),se.current&&(se.current.value=""))},A=C=>{x(P=>P.filter(O=>O.id!==C))},L=async()=>{if(!t){k("Please enter a valid Gemini API Key in Settings.");return}if(f.length===0&&!d.trim()){k("Please upload images of the board or provide a description.");return}v(!0),k(""),j(null);try{const P=new ki(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),O=`
        Expert Debate Coach (Flowing). Evaluate board/flow. 
        Context: ${e}, ${a}, Topic: ${o}. 
        Assess Organization, Grouping, Legibility, Suggestions. 
        User Notes: ${d}. 
        
        Please provide the output in the following Markdown format:
        ## Executive Summary
        (Brief overview)

        ## Scorecard
        | Category | Score (0-10) | Notes |
        | --- | --- | --- |
        | Organization | | |
        | Grouping | | |
        | Legibility | | |
        | Strategy | | |
        | **Total** | **(Sum)** | |

        ## Detailed Feedback
        ...
      `,te=f.map(he=>({inlineData:{data:he.raw,mimeType:he.mimeType}})),X=(await(await P.generateContent([O,...te])).response).text();j(X),G({type:"board",title:o||"Board Evaluation",input:{imageCount:f.length,description:d.substring(0,200)},result:X,metadata:{speechType:e,side:a,topic:o}}),Q(!0),setTimeout(()=>Q(!1),2e3)}catch(C){console.error("Gemini Error:",C);try{const O=new ki(t).getGenerativeModel({model:"gemini-1.5-flash"}),te="... (same prompt) ...";k(`Error: ${C.message}. Please try again.`)}catch{k(`Error: ${C.message}`)}}finally{v(!1)}},T=()=>{w&&(navigator.clipboard.writeText(w),I(!0),setTimeout(()=>I(!1),2e3))};return s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-[calc(100vh-8rem)]",children:[s.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[s.jsxs("div",{className:"glass-card space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Format"}),s.jsx("select",{value:e,onChange:C=>n(C.target.value),className:"input-field",children:Gf.map(C=>s.jsx("option",{value:C,children:C},C))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Side"}),s.jsx("select",{value:a,onChange:C=>r(C.target.value),className:"input-field",children:v_.map(C=>s.jsx("option",{value:C,children:C},C))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Topic"}),s.jsx("input",{type:"text",value:o,onChange:C=>c(C.target.value),placeholder:"Resolved: The United States should...",className:"input-field"})]})]}),s.jsxs("div",{className:"flex-1 glass-card flex flex-col p-0 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50",children:s.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Board Images & Notes"})}),s.jsxs("div",{className:"flex-1 p-4 overflow-y-auto custom-scrollbar space-y-4",children:[f.length>0&&s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:f.map(C=>s.jsxs("div",{className:"relative group aspect-video bg-slate-800 rounded-lg overflow-hidden border border-slate-700",children:[s.jsx("img",{src:C.url,alt:"Board",className:"w-full h-full object-cover"}),s.jsx("button",{onClick:()=>A(C.id),className:"absolute top-1 right-1 p-1 bg-red-500/80 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Qn,{className:"w-3 h-3"})})]},C.id))}),s.jsxs("div",{onClick:()=>se.current?.click(),className:"border-2 border-dashed border-slate-700 rounded-xl p-8 flex flex-col items-center justify-center text-slate-500 hover:border-primary hover:text-primary hover:bg-primary/5 transition-all cursor-pointer",children:[s.jsx(md,{className:"w-8 h-8 mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Click to upload images"}),s.jsx("span",{className:"text-xs opacity-70",children:"Max 4MB per file"}),s.jsx("input",{type:"file",ref:se,onChange:R,multiple:!0,accept:"image/*",className:"hidden"})]}),s.jsx("textarea",{value:d,onChange:C=>m(C.target.value),placeholder:"Add any specific notes or questions about the flow...",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg p-3 text-sm text-text-primary focus:outline-none focus:border-primary resize-none h-24"})]}),s.jsxs("div",{className:"p-4 border-t border-slate-700/50 bg-slate-900/50 flex justify-between items-center",children:[s.jsxs("span",{className:"text-xs text-text-muted",children:[f.length," images"]}),s.jsxs("button",{onClick:L,disabled:b,className:"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[b?s.jsx(Or,{className:"w-4 h-4 animate-spin"}):s.jsx(mf,{className:"w-4 h-4"}),b?"Analyzing...":"Evaluate Board"]})]})]}),D&&s.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-2 text-red-400 text-sm",children:[s.jsx(ts,{className:"w-4 h-4"}),D]})]}),s.jsxs("div",{className:"w-full lg:w-1/2 glass-card overflow-hidden flex flex-col p-0",children:[s.jsxs("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50 flex justify-between items-center",children:[s.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[s.jsx(Rm,{className:"w-4 h-4 text-primary"}),"Evaluation"]}),w&&s.jsxs("div",{className:"flex items-center gap-2",children:[B&&s.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1",children:[s.jsx(qa,{className:"w-3 h-3"})," Saved"]}),s.jsx("button",{onClick:T,className:"text-text-secondary hover:text-white transition-colors",title:"Copy to clipboard",children:V?s.jsx(ji,{className:"w-4 h-4 text-green-500"}):s.jsx(Gs,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:w?s.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-cyan-400 prose-a:text-accent prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-2 prose-td:p-2 prose-th:bg-slate-800/50",children:s.jsx(wc,{remarkPlugins:[Nc],children:w})}):s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-text-muted opacity-50",children:[s.jsx(Rm,{className:"w-16 h-16 mb-4"}),s.jsx("p",{children:"Upload board images and click Evaluate."})]})})]})]})},vz=({analyser:t,isRecording:e})=>{const n=E.useRef(null);return E.useEffect(()=>{if(!t||!e||!n.current)return;const a=n.current,r=a.getContext("2d"),o=t.frequencyBinCount,c=new Uint8Array(o);let d;const m=()=>{d=requestAnimationFrame(m),t.getByteFrequencyData(c),r.clearRect(0,0,a.width,a.height);const f=a.width/o*2.5;let x,b=0;for(let v=0;v<o;v++){x=c[v]/2;const w=r.createLinearGradient(0,a.height,0,0);w.addColorStop(0,"#06b6d4"),w.addColorStop(1,"#8b5cf6"),r.fillStyle=w,r.fillRect(b,a.height-x,f,x),b+=f+1}};return m(),()=>cancelAnimationFrame(d)},[t,e]),e?s.jsx("canvas",{ref:n,width:300,height:100,className:"w-full h-24 rounded-lg bg-slate-900/50"}):s.jsx("div",{className:"w-full h-24 bg-slate-900/50 rounded-lg flex items-center justify-center text-slate-700 text-xs",children:"Visualizer Ready"})},wz=({analyser:t,isRecording:e})=>{const[n,a]=E.useState({volume:0,brightness:0}),[r,o]=E.useState({label:"Ready",color:"text-slate-500"}),c=E.useRef({volume:0,brightness:0});return E.useEffect(()=>{if(!t||!e)return;const d=t.frequencyBinCount,m=new Uint8Array(d),f=new Uint8Array(t.fftSize);let x;const b=()=>{t.getByteFrequencyData(m),t.getByteTimeDomainData(f);let v=0;for(let Q=0;Q<f.length;Q++){const se=(f[Q]-128)/128;v+=se*se}const w=Math.sqrt(v/f.length);let j=0,D=0;for(let Q=0;Q<d;Q++)j+=Q*m[Q],D+=m[Q];const k=D===0?0:j/D/d,V=.15;c.current.volume=c.current.volume*(1-V)+w*V,c.current.brightness=c.current.brightness*(1-V)+k*V;const{volume:I,brightness:B}=c.current;a({volume:I,brightness:B}),I<.01?o({label:"Listening...",color:"text-slate-500"}):I<.05?o({label:"Too Quiet",color:"text-amber-500"}):I>.6?o({label:"Too Loud",color:"text-red-500"}):B>.5?o({label:"Urgent / Intense",color:"text-orange-500"}):B<.2?o({label:"Serious",color:"text-indigo-500"}):o({label:"Balanced",color:"text-green-500"}),x=requestAnimationFrame(b)};return b(),()=>cancelAnimationFrame(x)},[t,e]),e?s.jsxs("div",{className:"flex flex-col items-center space-y-2 mt-4 animate-in fade-in",children:[s.jsx("div",{className:`text-lg font-bold ${r.color} transition-colors duration-300`,children:r.label}),s.jsxs("div",{className:"flex space-x-4 text-xs text-slate-400",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"h-16 w-4 bg-slate-800 rounded-full overflow-hidden relative",children:s.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-cyan-500 transition-all duration-100",style:{height:`${Math.min(n.volume*200,100)}%`}})}),s.jsx("span",{className:"mt-1",children:"Vol"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"h-16 w-4 bg-slate-800 rounded-full overflow-hidden relative",children:s.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-purple-500 transition-all duration-100",style:{height:`${Math.min(n.brightness*300,100)}%`}})}),s.jsx("span",{className:"mt-1",children:"Tone"})]})]})]}):null},Nz=({apiKey:t})=>{const[e,n]=E.useState("Public Forum (PF)"),[a,r]=E.useState("Proposition/Affirmative"),[o,c]=E.useState(""),[d,m]=E.useState(!1),[f,x]=E.useState(0),[b,v]=E.useState(null),[w,j]=E.useState(null),[D,k]=E.useState(null),[V,I]=E.useState(!1),[B,Q]=E.useState(null),[se,G]=E.useState(""),[R,A]=E.useState(!1),[L,T]=E.useState(!1),{addSession:C}=zl(),P=E.useRef(null),O=E.useRef(null),te=E.useRef([]),J=E.useRef(null),q=E.useRef(null),X=z=>{const Te=Math.floor(z/60),Ue=z%60;return`${Te}:${Ue<10?"0":""}${Ue}`},he=async()=>{G("");try{const z=await navigator.mediaDevices.getUserMedia({audio:!0});q.current=z;const Te=new(window.AudioContext||window.webkitAudioContext),Ue=Te.createAnalyser();Te.createMediaStreamSource(z).connect(Ue),Ue.fftSize=256,J.current=Te,k(Ue),P.current=new MediaRecorder(z),te.current=[],P.current.ondataavailable=ut=>{ut.data.size>0&&te.current.push(ut.data)},P.current.onstop=()=>{const ut=new Blob(te.current,{type:"audio/webm"});v(ut);const Nt=new FileReader;Nt.readAsDataURL(ut),Nt.onloadend=()=>{const bt=Nt.result.split(",")[1];j({raw:bt,mimeType:ut.type})},q.current&&q.current.getTracks().forEach(bt=>bt.stop()),J.current&&(J.current.close(),J.current=null,k(null))},P.current.start(),m(!0),x(0),j(null),v(null),Q(null),O.current=setInterval(()=>x(ut=>ut+1),1e3)}catch(z){G("Could not access microphone. Ensure permissions are granted."),console.error(z)}},ye=()=>{P.current&&d&&(P.current.stop(),m(!1),clearInterval(O.current))},$=()=>{j(null),v(null),x(0),Q(null),G("")},re=async()=>{if(!t){G("Please enter a valid Gemini API Key in Settings.");return}if(!w){G("Please record audio first.");return}I(!0),G(""),Q(null);try{const Te=new ki(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),Ue=`
        Expert Speech Coach. Listen to audio. 
        Context: ${e}, ${a}, Topic: ${o}. 
        Evaluate: 
        1. Vocal Delivery (Pace, Tone, Fluency, Emotion). 
        2. Content (Clarity, Persuasion). 
        3. Score (0-100).
        
        Please provide the output in the following Markdown format:
        ## Executive Summary
        (Brief overview)

        ## Scorecard
        | Category | Score (0-10) | Notes |
        | --- | --- | --- |
        | Vocal Delivery | | |
        | Content | | |
        | Persuasion | | |
        | **Total** | **(Sum)** | |

        ## Detailed Feedback
        ...
      `,$e={inlineData:{data:w.raw,mimeType:w.mimeType}},bt=(await(await Te.generateContent([Ue,$e])).response).text();Q(bt),C({type:"coach",title:o||"Live Coaching Session",input:{duration:X(f)},result:bt,metadata:{speechType:e,side:a,topic:o,recordingDuration:f}}),T(!0),setTimeout(()=>T(!1),2e3)}catch(z){console.error("Gemini Error:",z),G(`Error: ${z.message}. Please try again.`)}finally{I(!1)}},ge=()=>{B&&(navigator.clipboard.writeText(B),A(!0),setTimeout(()=>A(!1),2e3))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Live Coaching"}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Record and analyze your speech in real-time"})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[s.jsxs("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Format"}),s.jsx("select",{value:e,onChange:z=>n(z.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all",children:Gf.map(z=>s.jsx("option",{value:z,children:z},z))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Side"}),s.jsx("select",{value:a,onChange:z=>r(z.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all",children:v_.map(z=>s.jsx("option",{value:z,children:z},z))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Topic"}),s.jsx("input",{type:"text",value:o,onChange:z=>c(z.target.value),placeholder:"Topic or Resolution...",className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all"})]})]}),s.jsxs("div",{className:"flex-1 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[s.jsx("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50",children:s.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Live Recording"})}),s.jsxs("div",{className:"flex-1 p-8 flex flex-col items-center justify-center space-y-8",children:[s.jsx("div",{className:`text-6xl font-mono font-bold tracking-tighter ${d?"text-red-500 animate-pulse":"text-white"}`,children:X(f)}),s.jsxs("div",{className:"w-full max-w-md",children:[s.jsx(vz,{analyser:D,isRecording:d}),s.jsx(wz,{analyser:D,isRecording:d})]}),s.jsx("div",{className:"flex items-center gap-4",children:d?s.jsx("button",{onClick:ye,className:"w-20 h-20 rounded-full bg-slate-700 hover:bg-slate-600 flex items-center justify-center shadow-lg transition-all hover:scale-110 active:scale-95",children:s.jsx(Lj,{className:"w-6 h-6 text-white fill-current"})}):s.jsx("button",{onClick:he,className:"w-20 h-20 rounded-full bg-gradient-to-br from-red-500 to-red-600 hover:from-red-400 hover:to-red-500 flex items-center justify-center shadow-lg shadow-red-500/30 transition-all hover:scale-110 active:scale-95",children:s.jsx(oa,{className:"w-8 h-8 text-white"})})}),b&&!d&&s.jsxs("div",{className:"flex items-center gap-4 animate-in fade-in",children:[s.jsx("audio",{controls:!0,src:URL.createObjectURL(b),className:"h-12 rounded-xl"}),s.jsx("button",{onClick:$,className:"p-3 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(_i,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"p-4 border-t border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-500 font-medium",children:b?"Audio recorded":"Ready to record"}),s.jsxs("button",{onClick:re,disabled:V||!w,className:"px-6 py-2.5 rounded-xl bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold shadow-lg shadow-purple-500/25 hover:shadow-purple-500/40 hover:scale-[1.02] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center gap-2",children:[V?s.jsx(Or,{className:"w-4 h-4 animate-spin"}):s.jsx(wi,{className:"w-4 h-4"}),V?"Analyzing...":"Analyze Audio"]})]})]}),se&&s.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 text-red-400",children:[s.jsx(ts,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:se})]})]}),s.jsxs("div",{className:"w-full lg:w-1/2 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx(wi,{className:"w-5 h-5 text-purple-400"}),"Coaching Feedback"]}),B&&s.jsxs("div",{className:"flex items-center gap-3",children:[L&&s.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1 font-medium",children:[s.jsx(qa,{className:"w-3 h-3"})," Saved"]}),s.jsx("button",{onClick:ge,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Copy to clipboard",children:R?s.jsx(ji,{className:"w-4 h-4 text-emerald-500"}):s.jsx(Gs,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:B?s.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-purple-400 prose-headings:font-semibold prose-a:text-purple-400 prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-3 prose-td:p-3 prose-th:bg-slate-800/50 prose-th:text-left",children:s.jsx(wc,{remarkPlugins:[Nc],children:B})}):s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 py-16",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:s.jsx(oa,{className:"w-8 h-8"})}),s.jsx("p",{className:"text-center max-w-xs",children:"Record your speech and click Analyze to get AI coaching feedback."})]})})]})]})]})},jz=({apiKey:t})=>{const[e,n]=E.useState("DX"),[a,r]=E.useState("Medium"),[o,c]=E.useState(""),[d,m]=E.useState(!1),[f,x]=E.useState(""),[b,v]=E.useState(!1),[w,j]=E.useState(!1),{addSession:D}=zl(),k=async()=>{if(!t){x("Please enter a valid Gemini API Key in Settings.");return}m(!0),c(""),x("");try{const B=new ki(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),Q=`Generate a single ${a} difficulty Extemporaneous Speaking question for the category ${e==="DX"?"United States Domestic Extemp (DX)":"International Extemp (NX)"}. The question should be current, relevant to 2024-2025 events, and formatted as a question. Do not include any other text.`,A=(await(await B.generateContent(Q)).response).text().trim().replace(/^"|"$/g,"");c(A),D({type:"extemp",title:`${e} Question - ${a}`,input:{question:A},result:A,metadata:{category:e,difficulty:a}}),j(!0),setTimeout(()=>j(!1),2e3)}catch(I){console.error("Gemini Error:",I);try{const Q=new ki(t).getGenerativeModel({model:"gemini-1.5-flash"});x(`Error: ${I.message}. Please try again.`)}catch{x(`Error: ${I.message}`)}}finally{m(!1)}},V=()=>{o&&(navigator.clipboard.writeText(o),v(!0),setTimeout(()=>v(!1),2e3))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Extemp Generator"}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Generate practice questions for extemporaneous speaking"})]}),s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs("div",{className:"p-8 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Category"}),s.jsxs("div",{className:"flex bg-slate-900/50 rounded-xl p-1 border border-slate-800",children:[s.jsx("button",{onClick:()=>n("DX"),className:`px-5 py-2.5 rounded-lg text-sm font-medium transition-all ${e==="DX"?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:"Domestic (DX)"}),s.jsx("button",{onClick:()=>n("NX"),className:`px-5 py-2.5 rounded-lg text-sm font-medium transition-all ${e==="NX"?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:"International (NX)"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Difficulty Level"}),s.jsx("div",{className:"grid grid-cols-3 gap-4",children:["Easy","Medium","Hard"].map(I=>s.jsx("button",{onClick:()=>r(I),className:`py-4 rounded-xl border transition-all font-medium ${a===I?"bg-cyan-500/10 border-cyan-500/30 text-cyan-400 shadow-lg shadow-cyan-500/10":"bg-slate-900/30 border-slate-800 text-slate-400 hover:border-slate-700 hover:bg-slate-800/50"}`,children:I},I))})]}),s.jsxs("button",{onClick:k,disabled:d,className:"w-full py-4 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white text-lg font-semibold shadow-lg shadow-cyan-500/25 hover:shadow-cyan-500/40 hover:scale-[1.01] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center gap-3",children:[d?s.jsx(Or,{className:"w-6 h-6 animate-spin"}):s.jsx(Yu,{className:"w-6 h-6"}),d?"Generating Question...":"Generate New Question"]}),f&&s.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 text-red-400",children:[s.jsx(ts,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:f})]}),o&&s.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4",children:s.jsxs("div",{className:"bg-slate-900/80 border border-slate-700 rounded-2xl p-8 relative group",children:[s.jsxs("p",{className:"text-xl md:text-2xl font-serif text-center text-white leading-relaxed",children:['"',o,'"']}),s.jsx("button",{onClick:V,className:"absolute top-4 right-4 p-2.5 text-slate-400 hover:text-white bg-slate-800/50 hover:bg-slate-700 rounded-xl transition-all opacity-0 group-hover:opacity-100",title:"Copy to clipboard",children:b?s.jsx(ji,{className:"w-5 h-5 text-emerald-500"}):s.jsx(Gs,{className:"w-5 h-5"})}),w&&s.jsxs("span",{className:"absolute top-4 left-4 text-xs text-emerald-400 flex items-center gap-1 bg-emerald-500/10 px-3 py-1.5 rounded-lg font-medium",children:[s.jsx(qa,{className:"w-3 h-3"})," Saved to history"]})]})})]})})]})},Sz=({apiKey:t})=>{const e=E.useMemo(()=>Gf.filter(C=>sc[C]===Be.DEBATE),[]),[n,a]=E.useState(e[0]||"Public Forum (PF)"),[r,o]=E.useState("Proposition/Affirmative"),[c,d]=E.useState(""),[m,f]=E.useState(""),[x,b]=E.useState("comprehensive"),[v,w]=E.useState(!1),[j,D]=E.useState(null),[k,V]=E.useState(""),[I,B]=E.useState(!1),[Q,se]=E.useState(!1),{addSession:G}=zl(),R=E.useMemo(()=>xx(n),[n]),A=[{id:"comprehensive",label:"Full Strategy",icon:Ot,description:"Complete debate strategy with arguments, rebuttals, and flow"},{id:"arguments",label:"Argument Builder",icon:Mr,description:"Focus on constructing strong arguments"},{id:"rebuttals",label:"Rebuttal Prep",icon:Dl,description:"Anticipate and counter opponent arguments"},{id:"crossfire",label:"Cross-Ex Prep",icon:rk,description:"Strategic questions and responses"}],L=async()=>{if(!t){V("Please enter a valid Gemini API Key in Settings.");return}if(!c.trim()){V("Please enter the debate topic or resolution.");return}w(!0),V(""),D(null);try{const P=new ki(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),O={comprehensive:`You are an expert Debate Coach preparing a student for a ${n} debate.

**Topic/Resolution:** ${c}
**Side:** ${r}
${m?`**Additional Context:** ${m}`:""}

Generate a COMPREHENSIVE DEBATE STRATEGY. Include:

##  Strategic Overview
A brief (2-3 sentence) overview of the best approach for this position.

##  Core Framework
The central theme/value/criterion that should anchor all arguments.

##  Main Arguments (3-4)
For each argument provide:
### Argument 1: [Compelling Title]
- **Claim**: The main assertion (1 sentence)
- **Warrant**: The logical reasoning (2-3 sentences)
- **Impact**: Why this matters - include magnitude, timeframe, probability
- **Evidence Needed**: Specific types of sources/data to find
- **Tag Line**: A memorable 5-7 word summary

##  Anticipated Opponent Arguments
For the top 3 likely opponent arguments:
### Counter to: [Their Argument]
- **Their likely claim**: What they'll say
- **Your response strategy**: How to refute it
- **Turn potential**: Can you flip this to your advantage?

##  Cross-Examination Strategy
### Questions to Ask
1. [Strategic question with goal]
2. [Strategic question with goal]
3. [Strategic question with goal]

### Likely Questions You'll Face
- [Question]  [Prepared response]
- [Question]  [Prepared response]

##  Flow Visualization
\`\`\`

                      ${r.toUpperCase()} FLOW                 

 CONSTRUCTIVE  REBUTTAL      SUMMARY       FINAL FOCUS       

 [Arg 1]      [Extend]     [Voters]     [Key takeaway]       

 [Arg 2]      [Respond]    [Weigh]      [Emotional close]    

\`\`\`

##  Time Allocation
| Speech | Time | Focus |
|--------|------|-------|
| Constructive | X min | ... |
| Rebuttal | X min | ... |
| Summary | X min | ... |
| Final Focus | X min | ... |

##  Win Conditions
The 2-3 things that MUST happen to win this round:
1. ...
2. ...
3. ...

##  Power Phrases
5 memorable phrases to use during the round:
1. "..."
2. "..."
3. "..."
4. "..."
5. "..."
`,arguments:`You are an expert Debate Coach specializing in argument construction for ${n}.

**Topic/Resolution:** ${c}
**Side:** ${r}
${m?`**Additional Context:** ${m}`:""}

Generate 4-5 STRONG ARGUMENTS for this position:

## Argument Analysis Framework

For EACH argument, provide:

###  Argument [N]: [Compelling Title]

#### The Claim
A clear, assertive 1-sentence statement.

#### Logical Structure
- **Premise 1**: ...
- **Premise 2**: ...
- **Conclusion**: ...

#### Warrant Deep-Dive
Explain the logical reasoning in 3-4 sentences. Why does the claim follow from the evidence?

#### Impact Calculus
| Factor | Assessment |
|--------|------------|
| **Magnitude** | How big is the impact? |
| **Probability** | How likely? |
| **Timeframe** | When does it occur? |
| **Reversibility** | Can it be undone? |

#### Evidence Guide
- **Statistics needed**: ...
- **Expert quotes**: Types of experts to cite
- **Case studies**: Historical/current examples to find
- **Logical backing**: Philosophical/theoretical support

#### Delivery Tips
- Opening hook: "..."
- Key transition phrases
- Powerful conclusion line

#### Vulnerability Analysis
- Weakest point of this argument
- How opponents might attack
- Pre-emptive defense strategy

---

## Argument Hierarchy
Rank arguments by strength and when to deploy them:
1. **Strongest** (Lead with this): Argument X
2. **Most Emotional** (Final Focus): Argument Y
3. **Technical** (For experienced judges): Argument Z
`,rebuttals:`You are an expert Debate Coach specializing in rebuttal strategy for ${n}.

**Topic/Resolution:** ${c}
**Your Side:** ${r}
**Opponent's Side:** ${r.includes("Affirmative")||r.includes("Pro")?"Opposition/Negative":"Proposition/Affirmative"}
${m?`**Additional Context:** ${m}`:""}

Generate a COMPREHENSIVE REBUTTAL PREPARATION guide:

##  Opponent Argument Predictions

### Predicted Argument 1: [Title]
**What they'll likely say:**
> [Their argument in their words]

**Why this is flawed:**
- Logical flaw: ...
- Evidence problem: ...
- Impact overreach: ...

**Your Rebuttal Response:**
"[Exact words to say - 30-45 seconds]"

**The Turn (flip it to your advantage):**
"Actually, this argument supports OUR side because..."

---

### Predicted Argument 2: [Title]
[Same structure]

---

### Predicted Argument 3: [Title]
[Same structure]

---

##  Defense Blocks

### If They Attack Your [Argument 1]:
**Their likely attack:** ...
**Your defense:** "[30-second response]"

### If They Attack Your [Argument 2]:
**Their likely attack:** ...
**Your defense:** "[30-second response]"

##  Quick-Fire Responses
One-liner responses to common attacks:

| If they say... | You respond... |
|----------------|----------------|
| "..." | "..." |
| "..." | "..." |
| "..." | "..." |

##  Weighing Mechanisms
How to compare impacts when both sides have valid points:

### Magnitude Weighing
"Even if they win X, our impact of Y is larger because..."

### Probability Weighing
"Their impact is speculative, while ours is empirically proven..."

### Timeframe Weighing
"Their impact is long-term and uncertain, our harm is happening now..."

##  Kill Shots
Arguments that completely devastate common opponent positions:

1. **Against [common position]:** ...
2. **Against [common position]:** ...
`,crossfire:`You are an expert Debate Coach specializing in Cross-Examination/Crossfire strategy for ${n}.

**Topic/Resolution:** ${c}
**Your Side:** ${r}
${m?`**Additional Context:** ${m}`:""}

Generate a COMPREHENSIVE CROSS-EXAMINATION STRATEGY:

##  Your Questioning Strategy

### Goal-Oriented Questions
Each question should serve a strategic purpose:

#### Setup Questions (Establish facts)
1. **Question:** "..."
   - **Goal:** Get them to admit X
   - **Follow-up if yes:** "..."
   - **Follow-up if no:** "..."

2. **Question:** "..."
   - **Goal:** ...

#### Trap Questions (Expose contradictions)
1. **Question:** "..."
   - **The trap:** If they say X, point out Y
   - **Delivery:** Stay calm, don't telegraph

2. **Question:** "..."
   - **The trap:** ...

#### Concession Questions (Get admissions)
1. **Question:** "..."
   - **Looking for:** Them to admit your framing
   - **Use in later speeches:** "They agreed that..."

### Question Sequences
**To undermine their Argument 1:**
1. First ask: "..."
2. Then: "..."
3. Finish with: "..."

**To support your Argument 1:**
1. First ask: "..."
2. Then: "..."
3. Finish with: "..."

##  Defending in Cross-Ex

### Likely Questions You'll Face
| Their Question | Your Response Strategy |
|----------------|----------------------|
| "..." | [Don't concede X, instead say...] |
| "..." | [Bridge to your argument...] |
| "..." | [Ask for clarification to buy time...] |

### Deflection Techniques
- **"That's not the right framing..."** then reframe
- **"The real question is..."** pivot to your ground
- **"We can discuss that, but first..."** delay and redirect

### Trap Avoidance
Common traps and how to spot/avoid them:
1. **The false dichotomy:** They present only two options. Response: "Those aren't the only options..."
2. **The hypothetical spiral:** They create unrealistic scenarios. Response: "In the real world..."
3. **The quote trap:** They try to get quotable admissions. Response: "What I'm saying is..." (reframe)

##  Power Moves

### Taking Control
- "Let me finish this point..."
- "That's a different question, I'm asking about..."
- "With respect, that doesn't answer the question..."

### Memorable Moments
Crossfire zingers (use sparingly):
- "So you're agreeing with us that..."
- "If that's true, then your entire case falls apart..."
- "You've just proven our point..."

##  Time Management
| Phase | Your Goals |
|-------|------------|
| First 30 sec | Establish one key admission |
| Middle | Build your trap sequence |
| Final 30 sec | Land your strongest point |
`},q=(await(await P.generateContent(O[x])).response).text();D(q),G({type:"strategy",title:`${A.find(X=>X.id===x)?.label}: ${c.substring(0,50)}`,input:{topic:c,context:m},result:q,metadata:{speechType:n,side:r,topic:c,strategyType:x}}),se(!0),setTimeout(()=>se(!1),2e3)}catch(C){console.error("Gemini Error:",C),V(`Error: ${C.message}. Please try again.`)}finally{w(!1)}},T=()=>{j&&(navigator.clipboard.writeText(j),B(!0),setTimeout(()=>B(!1),2e3))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Strategy Generator"}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Build winning debate strategies with AI"})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[s.jsxs("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Debate Format"}),s.jsx("select",{value:n,onChange:C=>a(C.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-all",children:e.map(C=>s.jsx("option",{value:C,children:C},C))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Side"}),s.jsx("select",{value:r,onChange:C=>o(C.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-all",children:R.map(C=>s.jsx("option",{value:C,children:C},C))})]})]}),s.jsx("div",{className:"p-4 rounded-xl bg-blue-500/10 border border-blue-500/20",children:s.jsxs("div",{className:"flex items-center gap-3 text-blue-400 text-sm",children:[s.jsx(ic,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{children:"Strategy Generator is optimized for competitive debate events."})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Topic / Resolution"}),s.jsx("input",{type:"text",value:c,onChange:C=>d(C.target.value),placeholder:"Resolved: The United States should substantially increase...",className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-all"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:["Additional Context ",s.jsx("span",{className:"text-slate-600",children:"(optional)"})]}),s.jsx("textarea",{value:m,onChange:C=>f(C.target.value),placeholder:"E.g., specific arguments you want to focus on, your opponent's known style...",className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-all resize-none h-24"})]})]}),s.jsxs("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-4",children:"Strategy Type"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:A.map(C=>{const P=C.icon;return s.jsxs("button",{onClick:()=>b(C.id),className:`p-4 rounded-xl border text-left transition-all ${x===C.id?"bg-orange-500/10 border-orange-500/30 shadow-lg shadow-orange-500/10":"bg-slate-900/30 border-slate-800 hover:border-slate-700 hover:bg-slate-800/50"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(P,{className:`w-5 h-5 ${x===C.id?"text-orange-400":"text-slate-500"}`}),s.jsx("span",{className:`font-medium ${x===C.id?"text-white":"text-slate-400"}`,children:C.label})]}),s.jsx("p",{className:"text-xs text-slate-500",children:C.description})]},C.id)})})]}),s.jsx("button",{onClick:L,disabled:v||!c.trim(),className:"w-full py-4 rounded-xl bg-gradient-to-r from-orange-500 to-red-500 text-white text-lg font-semibold shadow-lg shadow-orange-500/25 hover:shadow-orange-500/40 hover:scale-[1.01] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center gap-3",children:v?s.jsxs(s.Fragment,{children:[s.jsx(Or,{className:"w-5 h-5 animate-spin"}),"Generating Strategy..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Cs,{className:"w-5 h-5"}),"Generate Strategy"]})}),k&&s.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 text-red-400",children:[s.jsx(ts,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:k})]})]}),s.jsxs("div",{className:"w-full lg:w-1/2 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx(Ni,{className:"w-5 h-5 text-orange-400"}),"Strategy Playbook"]}),j&&s.jsxs("div",{className:"flex items-center gap-3",children:[Q&&s.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1 font-medium",children:[s.jsx(qa,{className:"w-3 h-3"})," Saved"]}),s.jsx("button",{onClick:T,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Copy to clipboard",children:I?s.jsx(ji,{className:"w-4 h-4 text-emerald-500"}):s.jsx(Gs,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:j?s.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-orange-400 prose-headings:font-semibold prose-a:text-orange-400 prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-3 prose-td:p-3 prose-th:bg-slate-800/50 prose-th:text-left prose-code:bg-slate-800 prose-code:px-1.5 prose-code:rounded prose-pre:bg-slate-900 prose-pre:border prose-pre:border-slate-700 prose-blockquote:border-l-orange-500 prose-blockquote:bg-slate-900/50 prose-blockquote:py-1",children:s.jsx(wc,{remarkPlugins:[Nc],children:j})}):s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 py-16",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:s.jsx(Ot,{className:"w-8 h-8"})}),s.jsx("p",{className:"text-center max-w-xs",children:"Enter your debate topic and select a strategy type to generate your personalized playbook."})]})})]})]})]})},tf={judge:{icon:hs,label:"Speech Analysis",color:"text-cyan-400",bg:"bg-cyan-500/10 border-cyan-500/20"},board:{icon:Rm,label:"Board Evaluation",color:"text-purple-400",bg:"bg-purple-500/10 border-purple-500/20"},coach:{icon:oa,label:"Live Coaching",color:"text-emerald-400",bg:"bg-emerald-500/10 border-emerald-500/20"},strategy:{icon:Ot,label:"Strategy",color:"text-orange-400",bg:"bg-orange-500/10 border-orange-500/20"},extemp:{icon:Sx,label:"Extemp Question",color:"text-amber-400",bg:"bg-amber-500/10 border-amber-500/20"},tone:{icon:Nl,label:"Tone Analysis",color:"text-pink-400",bg:"bg-pink-500/10 border-pink-500/20"}},_z=({session:t,onView:e,onDelete:n})=>{const[a,r]=E.useState(!1),o=tf[t.type]||tf.judge,c=o.icon;return s.jsxs("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden group",children:[s.jsx("div",{className:"p-4 cursor-pointer hover:bg-slate-800/30 transition-colors",onClick:()=>r(!a),children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-2.5 rounded-xl border ${o.bg}`,children:s.jsx(c,{className:`w-5 h-5 ${o.color}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-lg ${o.bg} ${o.color}`,children:o.label}),t.metadata?.speechType&&s.jsx("span",{className:"text-xs text-slate-500",children:t.metadata.speechType})]}),s.jsx("h3",{className:"font-medium text-white truncate",children:t.title||t.metadata?.topic||"Untitled Session"}),s.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-slate-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(La,{className:"w-3 h-3"}),E_(t.createdAt)]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(qt,{className:"w-3 h-3"}),gz(t.createdAt)]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:d=>{d.stopPropagation(),n(t.id)},className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:"Delete session",children:s.jsx(Un,{className:"w-4 h-4"})}),a?s.jsx($a,{className:"w-5 h-5 text-slate-500"}):s.jsx(mn,{className:"w-5 h-5 text-slate-500"})]})]})}),a&&s.jsxs("div",{className:"border-t border-slate-800/60 p-4 animate-in slide-in-from-top-2",children:[t.metadata&&s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[t.metadata.side&&s.jsx("span",{className:"text-xs px-2.5 py-1 bg-slate-800/50 rounded-lg text-slate-400 border border-slate-700/50",children:t.metadata.side}),t.metadata.difficulty&&s.jsxs("span",{className:"text-xs px-2.5 py-1 bg-slate-800/50 rounded-lg text-slate-400 border border-slate-700/50",children:[t.metadata.difficulty," difficulty"]})]}),s.jsx("div",{className:"bg-slate-900/50 rounded-xl p-4 max-h-[400px] overflow-y-auto border border-slate-800/50",children:s.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-cyan-400 prose-headings:font-semibold prose-a:text-cyan-400 prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-3 prose-td:p-3 prose-th:bg-slate-800/50",children:s.jsx(wc,{remarkPlugins:[Nc],children:t.result||"No analysis result available"})})}),t.type==="extemp"&&t.input?.question&&s.jsxs("div",{className:"mt-4 p-4 bg-slate-800/30 rounded-xl border border-slate-700/50",children:[s.jsx("h4",{className:"text-xs font-medium text-slate-500 mb-2",children:"Generated Question"}),s.jsxs("p",{className:"text-white font-serif text-lg",children:['"',t.input.question,'"']})]})]})]})},Tz=()=>{const{history:t,isLoading:e,stats:n,deleteSession:a,clearHistory:r,exportHistory:o,importHistory:c}=zl(),[d,m]=E.useState(""),[f,x]=E.useState("all"),[b,v]=E.useState(!1),[w,j]=E.useState(null),D=Nx.useRef(null),k=t.filter(I=>{const B=f==="all"||I.type===f,Q=!d||I.title?.toLowerCase().includes(d.toLowerCase())||I.metadata?.topic?.toLowerCase().includes(d.toLowerCase())||I.result?.toLowerCase().includes(d.toLowerCase());return B&&Q}),V=async I=>{const B=I.target.files?.[0];if(B){const Q=await c(B);j(Q),setTimeout(()=>j(null),3e3),D.current&&(D.current.value="")}};return e?s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Session History"}),s.jsxs("p",{className:"text-slate-400 mt-1",children:[n.total," ",n.total===1?"session":"sessions"," recorded"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:o,disabled:t.length===0,className:"p-2.5 text-slate-400 hover:text-white hover:bg-slate-800 rounded-xl transition-colors disabled:opacity-50 border border-slate-800",title:"Export history",children:s.jsx(ac,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>D.current?.click(),className:"p-2.5 text-slate-400 hover:text-white hover:bg-slate-800 rounded-xl transition-colors border border-slate-800",title:"Import history",children:s.jsx(md,{className:"w-5 h-5"})}),s.jsx("input",{ref:D,type:"file",accept:".json",onChange:V,className:"hidden"}),t.length>0&&s.jsx("button",{onClick:()=>v(!0),className:"p-2.5 text-slate-400 hover:text-red-400 hover:bg-red-500/10 rounded-xl transition-colors border border-slate-800",title:"Clear all history",children:s.jsx(Un,{className:"w-5 h-5"})})]})]}),w&&s.jsx("div",{className:`p-4 rounded-xl flex items-center gap-3 text-sm animate-in fade-in ${w.success?"bg-emerald-500/10 border border-emerald-500/20 text-emerald-400":"bg-red-500/10 border border-red-500/20 text-red-400"}`,children:w.success?s.jsxs(s.Fragment,{children:[s.jsx(ji,{className:"w-5 h-5"}),"Imported ",w.count," sessions successfully"]}):s.jsxs(s.Fragment,{children:[s.jsx(ts,{className:"w-5 h-5"}),"Import failed: ",w.error]})}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:Object.entries(tf).map(([I,B])=>{const Q=B.icon,se=n.byType[I]||0;return s.jsx("button",{onClick:()=>x(f===I?"all":I),className:`p-4 rounded-xl border text-left transition-all ${f===I?"border-cyan-500/30 bg-cyan-500/10 shadow-lg shadow-cyan-500/10":"border-slate-800/60 bg-slate-900/30 hover:bg-slate-800/30 hover:border-slate-700"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Q,{className:`w-5 h-5 ${B.color}`}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xl font-bold text-white",children:se}),s.jsx("div",{className:"text-xs text-slate-500",children:B.label})]})]})},I)})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Tr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),s.jsx("input",{type:"text",value:d,onChange:I=>m(I.target.value),placeholder:"Search sessions...",className:"w-full pl-11 pr-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all"})]}),s.jsxs("select",{value:f,onChange:I=>x(I.target.value),className:"px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all w-full sm:w-48",children:[s.jsx("option",{value:"all",children:"All Types"}),Object.entries(tf).map(([I,B])=>s.jsx("option",{value:I,children:B.label},I))]})]}),k.length>0?s.jsx("div",{className:"space-y-4",children:k.map(I=>s.jsx(_z,{session:I,onDelete:a},I.id))}):s.jsx("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm flex flex-col items-center justify-center min-h-[40vh] text-center p-8",children:t.length===0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:s.jsx(qa,{className:"w-8 h-8 text-slate-600"})}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Sessions Yet"}),s.jsx("p",{className:"text-slate-500 max-w-md",children:"Your analysis sessions will appear here. Try analyzing a speech, using the live coach, or generating a strategy to get started!"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:s.jsx(Tr,{className:"w-8 h-8 text-slate-600"})}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Results Found"}),s.jsx("p",{className:"text-slate-500",children:"No sessions match your search criteria."}),s.jsx("button",{onClick:()=>{m(""),x("all")},className:"mt-4 text-cyan-400 hover:text-cyan-300 font-medium",children:"Clear filters"})]})}),b&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",children:s.jsxs("div",{className:"w-full max-w-md p-6 rounded-2xl border border-slate-800 bg-slate-900 shadow-2xl animate-in zoom-in-95",children:[s.jsxs("div",{className:"flex items-center gap-3 text-red-400 mb-4",children:[s.jsx(ts,{className:"w-6 h-6"}),s.jsx("h2",{className:"text-xl font-bold",children:"Clear All History?"})]}),s.jsxs("p",{className:"text-slate-400 mb-6",children:["This will permanently delete all ",n.total," sessions. This action cannot be undone."]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2.5 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>{r(),v(!1)},className:"px-4 py-2.5 rounded-xl bg-red-500 hover:bg-red-600 text-white font-medium transition-colors",children:"Delete All"})]})]})})]})},Ez={uncertain:{label:"Uncertain",color:"text-yellow-400",bgColor:"bg-yellow-500/20",icon:Go},moderate:{label:"Moderate",color:"text-blue-400",bgColor:"bg-blue-500/20",icon:lc},strong:{label:"Strong",color:"text-green-400",bgColor:"bg-green-500/20",icon:Ga}},bx={passionate:{label:"Passionate",color:"text-red-400",bgColor:"bg-red-500/20",emoji:""},neutral:{label:"Neutral",color:"text-gray-400",bgColor:"bg-gray-500/20",emoji:""},analytical:{label:"Analytical",color:"text-cyan-400",bgColor:"bg-cyan-500/20",emoji:""},inspiring:{label:"Inspiring",color:"text-purple-400",bgColor:"bg-purple-500/20",emoji:""},urgent:{label:"Urgent",color:"text-orange-400",bgColor:"bg-orange-500/20",emoji:""}},Cz={ethos:{label:"Ethos",description:"Credibility & Authority",color:"from-blue-500 to-indigo-500",icon:hf},pathos:{label:"Pathos",description:"Emotional Appeal",color:"from-red-500 to-pink-500",icon:LC},logos:{label:"Logos",description:"Logic & Reasoning",color:"from-green-500 to-emerald-500",icon:Mr}},Az=({sections:t})=>!t||t.length===0?null:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-secondary mb-3",children:[s.jsx(Cn,{className:"w-4 h-4"}),s.jsx("span",{children:"Tone Progression"})]}),s.jsx("div",{className:"flex h-8 rounded-lg overflow-hidden",children:t.map((e,n)=>{const a=bx[e.tone]||bx.neutral;return s.jsxs("div",{className:`flex-1 ${a.bgColor} flex items-center justify-center text-xs font-medium ${a.color} border-r border-bg-primary last:border-r-0 transition-all hover:brightness-125`,title:`${e.label}: ${a.label}`,children:[s.jsx("span",{className:"hidden sm:inline",children:e.label}),s.jsx("span",{className:"sm:hidden",children:a.emoji})]},n)})}),s.jsxs("div",{className:"flex justify-between text-xs text-text-muted",children:[s.jsx("span",{children:"Opening"}),s.jsx("span",{children:"Closing"})]})]}),Ng=({type:t,score:e})=>{const n=Cz[t];if(!n)return null;const a=n.icon;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-8 h-8 rounded-lg bg-gradient-to-br ${n.color} flex items-center justify-center`,children:s.jsx(a,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-white",children:n.label}),s.jsx("div",{className:"text-xs text-text-muted",children:n.description})]})]}),s.jsxs("span",{className:"text-lg font-bold text-white",children:[e,"%"]})]}),s.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full bg-gradient-to-r ${n.color} transition-all duration-1000 ease-out`,style:{width:`${e}%`}})})]})},kz=({apiKey:t})=>{const[e,n]=E.useState(""),[a,r]=E.useState(!1),[o,c]=E.useState(null),[d,m]=E.useState(null),[f,x]=E.useState(""),[b,v]=E.useState(!1),[w,j]=E.useState(!1),{addSession:D}=zl(),k=async()=>{if(!t){x("Please enter a valid Gemini API Key in Settings.");return}if(!e.trim()){x("Please enter the speech transcript.");return}r(!0),x(""),c(null),m(null);try{const se=new ki(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),G=`You are an expert rhetorical analyst and speech coach. Analyze the following speech for tone, rhetorical techniques, and emotional impact.

SPEECH TEXT:
${e}

Provide your analysis in the following JSON format (ONLY output valid JSON, no markdown):
{
  "overallConfidence": "uncertain" | "moderate" | "strong",
  "dominantTone": "passionate" | "neutral" | "analytical" | "inspiring" | "urgent",
  "rhetoricalAppeals": {
    "ethos": <number 0-100>,
    "pathos": <number 0-100>,
    "logos": <number 0-100>
  },
  "toneProgression": [
    { "label": "Intro", "tone": "neutral" },
    { "label": "Build", "tone": "analytical" },
    { "label": "Peak", "tone": "passionate" },
    { "label": "Close", "tone": "inspiring" }
  ],
  "confidenceIndicators": {
    "hedgingPhrases": ["maybe", "perhaps", "I think"],
    "assertivePhrases": ["clearly", "undoubtedly", "must"],
    "hedgeCount": <number>,
    "assertiveCount": <number>
  },
  "techniques": [
    {
      "name": "Anaphora",
      "description": "Repetition at the beginning of sentences",
      "example": "We will fight... We will win...",
      "effectiveness": "high" | "medium" | "low"
    }
  ],
  "emotionalArc": {
    "opening": { "emotion": "hopeful", "intensity": 60 },
    "middle": { "emotion": "determined", "intensity": 80 },
    "closing": { "emotion": "triumphant", "intensity": 95 }
  },
  "recommendations": [
    "Add more concrete evidence to strengthen logos appeal",
    "Consider varying sentence length for better rhythm"
  ],
  "summary": "A two-sentence summary of the overall rhetorical effectiveness."
}`,L=(await(await se.generateContent(G)).response).text();let T;try{const C=L.match(/\{[\s\S]*\}/);if(C)T=JSON.parse(C[0]);else throw new Error("No JSON found in response")}catch(C){console.error("JSON parse error:",C),c(L);return}m(T),D({type:"tone",title:"Tone Analysis",input:{transcript:e.substring(0,500)+(e.length>500?"...":"")},result:JSON.stringify(T,null,2),metadata:{confidence:T.overallConfidence,dominantTone:T.dominantTone}}),j(!0),setTimeout(()=>j(!1),2e3)}catch(Q){console.error("Gemini Error:",Q),x(`Error: ${Q.message}. Please try again.`)}finally{r(!1)}},V=()=>{d&&(navigator.clipboard.writeText(JSON.stringify(d,null,2)),v(!0),setTimeout(()=>v(!1),2e3))},I=d?.overallConfidence?Ez[d.overallConfidence]:null,B=d?.dominantTone?bx[d.dominantTone]:null;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Tone Analysis"}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Analyze rhetorical impact and emotional tone"})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[s.jsx("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm space-y-4",children:s.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(ic,{className:"w-4 h-4 text-purple-400"}),s.jsx("span",{className:"text-sm font-medium text-slate-300",children:"This analysis detects:"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["Confidence Level","Emotional Tone","Ethos/Pathos/Logos","Rhetorical Techniques"].map((Q,se)=>s.jsx("span",{className:"px-3 py-1.5 text-xs font-medium bg-slate-900/50 text-slate-400 rounded-lg border border-slate-700/50",children:Q},se))})]})}),s.jsxs("div",{className:"flex-1 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[s.jsx("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50",children:s.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Speech Transcript"})}),s.jsx("textarea",{value:e,onChange:Q=>n(Q.target.value),placeholder:"Paste your speech text here for detailed tone and rhetorical analysis...",className:"flex-1 w-full bg-transparent p-4 resize-none focus:outline-none font-mono text-sm text-slate-200 placeholder-slate-600 min-h-[300px]"}),s.jsxs("div",{className:"p-4 border-t border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[s.jsxs("span",{className:"text-xs text-slate-500 font-medium",children:[e.length.toLocaleString()," characters"]}),s.jsxs("button",{onClick:k,disabled:a,className:"px-6 py-2.5 rounded-xl bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold shadow-lg shadow-purple-500/25 hover:shadow-purple-500/40 hover:scale-[1.02] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center gap-2",children:[a?s.jsx(Or,{className:"w-4 h-4 animate-spin"}):s.jsx(mf,{className:"w-4 h-4"}),a?"Analyzing...":"Analyze Tone"]})]})]}),f&&s.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 text-red-400",children:[s.jsx(ts,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:f})]})]}),s.jsxs("div",{className:"w-full lg:w-1/2 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx(Cs,{className:"w-5 h-5 text-purple-400"}),"Rhetorical Analysis"]}),d&&s.jsxs("div",{className:"flex items-center gap-3",children:[w&&s.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1 font-medium",children:[s.jsx(qa,{className:"w-3 h-3"})," Saved"]}),s.jsx("button",{onClick:V,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Copy to clipboard",children:b?s.jsx(ji,{className:"w-4 h-4 text-emerald-500"}):s.jsx(Gs,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:d?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[I&&s.jsxs("div",{className:`p-4 rounded-xl ${I.bgColor} border border-slate-700/50`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(I.icon,{className:`w-5 h-5 ${I.color}`}),s.jsx("span",{className:"text-sm text-slate-400",children:"Confidence"})]}),s.jsx("div",{className:`text-xl font-bold ${I.color}`,children:I.label})]}),B&&s.jsxs("div",{className:`p-4 rounded-xl ${B.bgColor} border border-slate-700/50`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-xl",children:B.emoji}),s.jsx("span",{className:"text-sm text-slate-400",children:"Dominant Tone"})]}),s.jsx("div",{className:`text-xl font-bold ${B.color}`,children:B.label})]})]}),s.jsxs("div",{className:"p-5 rounded-xl bg-slate-800/30 border border-slate-700/30 space-y-4",children:[s.jsxs("h4",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx(hf,{className:"w-4 h-4 text-purple-400"}),"Rhetorical Appeals"]}),d.rhetoricalAppeals&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ng,{type:"ethos",score:d.rhetoricalAppeals.ethos}),s.jsx(Ng,{type:"pathos",score:d.rhetoricalAppeals.pathos}),s.jsx(Ng,{type:"logos",score:d.rhetoricalAppeals.logos})]})]}),d.toneProgression&&s.jsx("div",{className:"p-5 rounded-xl bg-slate-800/30 border border-slate-700/30",children:s.jsx(Az,{sections:d.toneProgression})}),d.techniques&&d.techniques.length>0&&s.jsxs("div",{className:"p-5 rounded-xl bg-slate-800/30 border border-slate-700/30 space-y-3",children:[s.jsx("h4",{className:"font-semibold text-white",children:"Rhetorical Techniques"}),s.jsx("div",{className:"space-y-3",children:d.techniques.map((Q,se)=>s.jsxs("div",{className:"p-3 bg-slate-900/50 rounded-lg border border-slate-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"font-medium text-white",children:Q.name}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Q.effectiveness==="high"?"bg-emerald-500/20 text-emerald-400":Q.effectiveness==="medium"?"bg-amber-500/20 text-amber-400":"bg-red-500/20 text-red-400"}`,children:Q.effectiveness})]}),s.jsx("p",{className:"text-sm text-slate-500",children:Q.description})]},se))})]}),d.recommendations&&s.jsxs("div",{className:"p-5 rounded-xl bg-slate-800/30 border border-slate-700/30 space-y-3",children:[s.jsxs("h4",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx(Mr,{className:"w-4 h-4 text-amber-400"}),"Recommendations"]}),s.jsx("ul",{className:"space-y-2",children:d.recommendations.map((Q,se)=>s.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-400",children:[s.jsx(ji,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),Q]},se))})]}),d.summary&&s.jsxs("div",{className:"p-5 rounded-xl bg-purple-500/10 border border-purple-500/20",children:[s.jsx("h4",{className:"font-semibold text-purple-400 mb-2",children:"Summary"}),s.jsx("p",{className:"text-slate-300",children:d.summary})]})]}):o?s.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:s.jsx(wc,{remarkPlugins:[Nc],children:o})}):s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 py-16",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:s.jsx(Nl,{className:"w-8 h-8"})}),s.jsx("p",{className:"text-center max-w-xs",children:"Paste your speech transcript to analyze rhetorical impact and emotional tone."})]})})]})]})]})},Rz=({onSkip:t})=>{const[e,n]=E.useState(!0),[a,r]=E.useState(""),[o,c]=E.useState(""),[d,m]=E.useState(""),[f,x]=E.useState(!1),[b,v]=E.useState(!1),[w,j]=E.useState(""),{login:D,register:k,loginWithGoogle:V,error:I,clearError:B}=zn(),Q=async A=>{if(A.preventDefault(),j(""),B(),!a||!o){j("Please fill in all required fields.");return}if(!e&&!d){j("Please enter your name.");return}if(o.length<6){j("Password must be at least 6 characters.");return}v(!0);try{e?await D(a,o):await k(a,o,d)}catch{}finally{v(!1)}},se=async()=>{j(""),B(),v(!0);try{await V()}catch{}finally{v(!1)}},G=()=>{n(!e),j(""),B()},R=w||I;return s.jsxs("div",{className:"min-h-screen bg-bg-primary flex items-center justify-center p-4",children:[s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-full h-full bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-3xl"}),s.jsx("div",{className:"absolute -bottom-1/2 -right-1/2 w-full h-full bg-gradient-to-tl from-accent/10 to-transparent rounded-full blur-3xl"})]}),s.jsxs("div",{className:"w-full max-w-md relative z-10",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-accent shadow-lg shadow-primary/25 mb-4",children:s.jsx(hs,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Adjudicator AI"}),s.jsx("p",{className:"text-text-secondary",children:"Your AI-powered debate coaching platform"})]}),s.jsxs("div",{className:"glass-card space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:e?"Welcome back":"Create your account"}),s.jsx("p",{className:"text-text-muted text-sm mt-1",children:e?"Sign in to continue to your dashboard":"Start your debate coaching journey"})]}),s.jsxs("button",{onClick:se,disabled:b,className:"w-full flex items-center justify-center gap-3 px-4 py-3 bg-white hover:bg-gray-100 text-gray-800 font-medium rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-slate-700"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-4 bg-bg-secondary text-text-muted",children:"or continue with email"})})]}),s.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[!e&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(jl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),s.jsx("input",{type:"text",value:d,onChange:A=>m(A.target.value),placeholder:"John Doe",className:"input-field pl-10",disabled:b})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(Aj,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),s.jsx("input",{type:"email",value:a,onChange:A=>r(A.target.value),placeholder:"you@example.com",className:"input-field pl-10",disabled:b})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(eA,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),s.jsx("input",{type:f?"text":"password",value:o,onChange:A=>c(A.target.value),placeholder:"",className:"input-field pl-10 pr-10",disabled:b}),s.jsx("button",{type:"button",onClick:()=>x(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-muted hover:text-text-secondary",children:f?s.jsx(bC,{className:"w-5 h-5"}):s.jsx(_x,{className:"w-5 h-5"})})]})]}),R&&s.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-start gap-2 text-red-400 text-sm",children:[s.jsx(ts,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:R})]}),s.jsx("button",{type:"submit",disabled:b,className:"btn-primary w-full flex items-center justify-center gap-2 py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:b?s.jsx(Or,{className:"w-5 h-5 animate-spin"}):s.jsxs(s.Fragment,{children:[e?"Sign In":"Create Account",s.jsx(Hu,{className:"w-4 h-4"})]})})]}),s.jsxs("p",{className:"text-center text-text-secondary text-sm",children:[e?"Don't have an account? ":"Already have an account? ",s.jsx("button",{onClick:G,className:"text-primary hover:text-primary/80 font-medium transition-colors",disabled:b,children:e?"Sign up":"Sign in"})]})]}),s.jsx("div",{className:"text-center mt-6",children:s.jsx("button",{onClick:t,className:"text-text-muted hover:text-text-secondary text-sm transition-colors underline underline-offset-2",children:"Continue as guest (limited features)"})})]})]})},Iz=({onGetStarted:t,onContinueAsGuest:e})=>{const[n,a]=E.useState(0),r=[{icon:Qu,title:"Real-time Analysis",description:"Get instant AI feedback on speeches with event-specific rubrics. Identify strengths, weaknesses, and actionable improvements in seconds.",color:"from-cyan-500 to-blue-500",delay:.1},{icon:gn,title:"Team Collaboration",description:"Manage your entire debate squad in one place. Share strategies, track individual progress, and coordinate team preparation.",color:"from-purple-500 to-pink-500",delay:.2},{icon:Cn,title:"Performance Insights",description:"Deep analytics on speaking patterns, argument effectiveness, and improvement trends. Data-driven coaching for measurable results.",color:"from-orange-500 to-red-500",delay:.3},{icon:$t,title:"Tournament Tracking",description:"Log competition results, monitor rankings, and analyze performance across events. See what strategies win at the highest levels.",color:"from-green-500 to-emerald-500",delay:.4}],o=[{icon:Qu,text:"Instant AI feedback in seconds"},{icon:Dl,text:"Event-specific evaluation rubrics"},{icon:Cn,text:"Track progress over time"},{icon:Ni,text:"Personalized improvement drills"}],c=[{quote:"This completely transformed how I prepare for tournaments. My speaker points jumped 2 points!",author:"Sarah M.",role:"Public Forum Debater",avatar:""},{quote:"The strategy generator helped me anticipate every argument my opponents made at State.",author:"Marcus T.",role:"Lincoln-Douglas Champion",avatar:""},{quote:"Finally, feedback that understands the difference between Informative and Extemp. Game changer.",author:"Emily R.",role:"Speech Coach",avatar:""}];E.useEffect(()=>{const f=setInterval(()=>{a(x=>(x+1)%c.length)},5e3);return()=>clearInterval(f)},[]);const d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},m={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return s.jsxs("div",{className:"min-h-screen bg-bg-primary overflow-hidden",children:[s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-full h-full bg-gradient-to-br from-primary/20 via-transparent to-transparent rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute -bottom-1/2 -right-1/2 w-full h-full bg-gradient-to-tl from-accent/20 via-transparent to-transparent rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),s.jsx("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-gradient-to-br from-cyan-500/10 to-purple-500/10 rounded-full blur-3xl animate-float"})]}),s.jsx("nav",{className:"relative z-10 px-6 py-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[s.jsxs(U.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary to-accent flex items-center justify-center shadow-lg shadow-primary/25",children:s.jsx(hs,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"text-xl font-bold text-white",children:"Adjudicator AI"})]}),s.jsxs(U.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex items-center gap-4",children:[s.jsx("button",{onClick:e,className:"text-text-secondary hover:text-white transition-colors px-4 py-2",children:"Try Free"}),s.jsxs("button",{onClick:t,className:"btn-primary flex items-center gap-2",children:["Sign In",s.jsx(Hu,{className:"w-4 h-4"})]})]})]})}),s.jsx("section",{className:"relative z-10 px-6 pt-16 pb-24",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs(U.div,{initial:"hidden",animate:"visible",variants:d,className:"text-center max-w-4xl mx-auto",children:[s.jsxs(U.div,{variants:m,className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/20 mb-8",children:[s.jsx(Cs,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"text-sm text-primary font-medium",children:"Trusted by 500+ Competitive Teams"})]}),s.jsxs(U.h1,{variants:m,className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",children:[s.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary via-cyan-400 to-accent",children:"AI-Powered"}),s.jsx("span",{className:"text-white",children:" Debate Coaching"}),s.jsx("br",{}),s.jsx("span",{className:"text-white",children:"for "}),s.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-accent",children:"Competitive Teams"})]}),s.jsx(U.p,{variants:m,className:"text-xl text-text-secondary mb-10 max-w-2xl mx-auto",children:"Elite debate programs use Adjudicator AI to analyze speeches in real-time, track team performance, and gain competitive insights that win tournaments."}),s.jsxs(U.div,{variants:m,className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-12",children:[s.jsx("button",{onClick:t,className:"group relative px-8 py-4 bg-gradient-to-r from-primary to-cyan-400 rounded-xl font-semibold text-white shadow-lg shadow-primary/25 hover:shadow-xl hover:shadow-primary/30 transition-all hover:scale-105",children:s.jsxs("span",{className:"flex items-center gap-2",children:["Start Free Trial",s.jsx(Hu,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})}),s.jsxs("button",{onClick:e,className:"group px-8 py-4 rounded-xl font-semibold text-text-secondary hover:text-white border border-slate-700 hover:border-slate-600 hover:bg-slate-800/50 transition-all flex items-center gap-2",children:[s.jsx(Si,{className:"w-5 h-5"}),"Watch Demo"]})]}),s.jsxs(U.div,{variants:m,className:"flex flex-col sm:flex-row items-center justify-center gap-6 sm:gap-12 text-text-muted",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center",children:s.jsx(gn,{className:"w-5 h-5 text-cyan-400"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-lg font-bold text-white",children:"10,000+"}),s.jsx("div",{className:"text-xs text-text-muted",children:"Active Debaters"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center",children:s.jsx($t,{className:"w-5 h-5 text-yellow-500"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-lg font-bold text-white",children:"500+"}),s.jsx("div",{className:"text-xs text-text-muted",children:"Teams & Schools"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center",children:s.jsx(Ha,{className:"w-5 h-5 text-green-400"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-lg font-bold text-white",children:"1M+"}),s.jsx("div",{className:"text-xs text-text-muted",children:"Speeches Analyzed"})]})]})]})]})})}),s.jsx("section",{className:"relative z-10 px-6 py-24 bg-gradient-to-b from-transparent via-slate-900/50 to-transparent",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(U.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Everything You Need to Excel"}),s.jsx("p",{className:"text-text-secondary max-w-2xl mx-auto",children:"From speech analysis to strategy building, we've got every aspect of your debate prep covered."})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((f,x)=>s.jsx(U.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:f.delay},whileHover:{y:-5,scale:1.02},className:"group relative",children:s.jsxs("div",{className:"glass-card h-full cursor-pointer",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${f.color} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform shadow-lg`,children:s.jsx(f.icon,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:f.title}),s.jsx("p",{className:"text-text-secondary text-sm",children:f.description})]})},f.title))})]})}),s.jsx("section",{className:"relative z-10 px-6 py-24",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[s.jsxs(U.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Why Debaters Choose Us"}),s.jsx("p",{className:"text-text-secondary mb-8",children:"We built this for debaters, by debaters. Every feature is designed to give you a competitive edge."}),s.jsx("div",{className:"space-y-4",children:o.map((f,x)=>s.jsxs(U.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:x*.1},className:"flex items-center gap-4 p-4 rounded-xl bg-slate-900/50 border border-slate-800 hover:border-primary/30 transition-colors",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(f.icon,{className:"w-5 h-5 text-primary"})}),s.jsx("span",{className:"text-text-primary font-medium",children:f.text})]},x))})]}),s.jsx(U.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"relative",children:s.jsxs("div",{className:"glass-card relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/20 to-accent/20 rounded-full blur-3xl"}),s.jsx(et,{mode:"wait",children:s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"relative z-10",children:[s.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((f,x)=>s.jsx(Xt,{className:"w-5 h-5 fill-yellow-500 text-yellow-500"},x))}),s.jsxs("blockquote",{className:"text-xl text-white font-medium mb-6 leading-relaxed",children:['"',c[n].quote,'"']}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center text-2xl",children:c[n].avatar}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-semibold",children:c[n].author}),s.jsx("div",{className:"text-text-muted text-sm",children:c[n].role})]})]})]},n)}),s.jsx("div",{className:"flex items-center gap-2 mt-6",children:c.map((f,x)=>s.jsx("button",{onClick:()=>a(x),className:`w-2 h-2 rounded-full transition-all ${x===n?"w-6 bg-primary":"bg-slate-700 hover:bg-slate-600"}`},x))})]})})]})})}),s.jsx("section",{className:"relative z-10 px-6 py-24",children:s.jsx(U.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"relative rounded-3xl overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 via-accent/20 to-primary/20"}),s.jsx("div",{className:"absolute inset-0 bg-slate-900/80 backdrop-blur-xl"}),s.jsxs("div",{className:"relative z-10 p-12 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-accent mb-6 shadow-lg shadow-primary/25",children:s.jsx($t,{className:"w-8 h-8 text-white"})}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Ready to Win Your Next Round?"}),s.jsx("p",{className:"text-text-secondary mb-8 max-w-lg mx-auto",children:"Join thousands of debaters already using AI to sharpen their skills and dominate competitions."}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[s.jsxs("button",{onClick:t,className:"group px-8 py-4 bg-white text-slate-900 rounded-xl font-semibold hover:bg-gray-100 transition-all hover:scale-105 flex items-center gap-2",children:["Start Free Today",s.jsx(mn,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),s.jsx("button",{onClick:e,className:"px-8 py-4 text-white font-semibold hover:underline underline-offset-4",children:"Continue as Guest"})]})]})]})})}),s.jsx("footer",{className:"relative z-10 px-6 py-16 border-t border-slate-800 bg-slate-900/50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-12",children:[s.jsxs("div",{className:"col-span-2 md:col-span-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary to-accent flex items-center justify-center shadow-lg shadow-primary/25",children:s.jsx(hs,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"text-lg font-bold text-white",children:"Adjudicator AI"})]}),s.jsx("p",{className:"text-text-muted text-sm mb-4",children:"AI-powered debate coaching platform for competitive teams and speech programs."}),s.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[[...Array(5)].map((f,x)=>s.jsx(Xt,{className:"w-4 h-4 fill-yellow-500 text-yellow-500"},x)),s.jsx("span",{className:"text-sm text-text-muted ml-2",children:"4.9/5"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:"Product"}),s.jsxs("ul",{className:"space-y-3",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Speech Analysis"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Strategy Generator"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Live Coaching"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Team Analytics"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:"Resources"}),s.jsxs("ul",{className:"space-y-3",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Documentation"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Debate Guides"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Event Rubrics"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"API Access"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:"Company"}),s.jsxs("ul",{className:"space-y-3",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"About Us"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Contact"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Terms of Service"})})]})]})]}),s.jsxs("div",{className:"pt-8 border-t border-slate-800 flex flex-col md:flex-row items-center justify-between gap-4",children:[s.jsx("div",{className:"text-text-muted text-sm",children:" 2025 Adjudicator AI. All rights reserved."}),s.jsx("div",{className:"flex items-center gap-6",children:s.jsx("span",{className:"text-text-muted text-sm",children:"Built for debaters, by debaters."})})]})]})})]})},Dz=async(t,e)=>{const n=ms(ft,"users",t,"debates");return(await Vl(n,{...e,createdAt:Jt(),updatedAt:Jt()})).id},Mz=async(t,e={})=>{const n=ms(ft,"users",t,"debates");let a=Hs(n,bc("createdAt","desc"));return e.format&&(a=Hs(a,Nb("format","==",e.format))),e.limit&&(a=Hs(a,Tb(e.limit))),(await Ll(a)).docs.map(o=>({id:o.id,...o.data()}))},Oz=async t=>{const e=await Mz(t),n={},a={},r={},o={};return e.forEach(c=>{n[c.format]||(n[c.format]={wins:0,losses:0,total:0}),n[c.format].total++,c.result==="win"?n[c.format].wins++:c.result==="loss"&&n[c.format].losses++,c.tournament&&(a[c.tournament]||(a[c.tournament]={wins:0,losses:0,total:0,speakerPoints:[]}),a[c.tournament].total++,c.result==="win"?a[c.tournament].wins++:a[c.tournament].losses++,c.speakerPoints&&a[c.tournament].speakerPoints.push(c.speakerPoints));const d=c.createdAt?.toDate?.()||new Date(c.createdAt),m=`${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}`;r[m]||(r[m]={wins:0,losses:0,total:0,avgScore:[]}),r[m].total++,c.result==="win"?r[m].wins++:r[m].losses++,c.score&&r[m].avgScore.push(c.score),c.opponent&&(o[c.opponent]||(o[c.opponent]={wins:0,losses:0,total:0}),o[c.opponent].total++,c.result==="win"?o[c.opponent].wins++:o[c.opponent].losses++)}),{totalDebates:e.length,totalWins:e.filter(c=>c.result==="win").length,totalLosses:e.filter(c=>c.result==="loss").length,winRate:e.length>0?(e.filter(c=>c.result==="win").length/e.length*100).toFixed(1):0,formatStats:n,tournamentStats:a,monthlyStats:r,opponentStats:o,recentDebates:e.slice(0,10)}},Pz=async(t,e)=>{const n=ms(ft,"users",t,"opponents");return(await Vl(n,{...e,createdAt:Jt(),updatedAt:Jt()})).id},Lz=async(t,e,n)=>{const a=vn(ft,"users",t,"opponents",e);await ma(a,{...n,updatedAt:Jt()})},Vz=async t=>{const e=ms(ft,"users",t,"opponents"),n=Hs(e,bc("updatedAt","desc"));return(await Ll(n)).docs.map(r=>({id:r.id,...r.data()}))},Uz=async(t,e)=>{const n=vn(ft,"users",t,"opponents",e);await Eb(n)},zz=async(t,e,n)=>{const a=vn(ft,"users",t,"opponents",e);await ma(a,{notes:tc({id:Date.now().toString(),content:n,createdAt:new Date().toISOString()}),updatedAt:Jt()})},Fz=async(t,e)=>{const n=ms(ft,"users",t,"evidence");return(await Vl(n,{...e,usageCount:0,usedInDebates:[],createdAt:Jt(),updatedAt:Jt()})).id},Bz=async(t,e,n)=>{const a=vn(ft,"users",t,"evidence",e);await ma(a,{...n,updatedAt:Jt()})},$z=async(t,e={})=>{const n=ms(ft,"users",t,"evidence");let a=Hs(n,bc("createdAt","desc"));e.limit&&(a=Hs(a,Tb(e.limit)));let o=(await Ll(a)).docs.map(c=>({id:c.id,...c.data()}));if(e.tag&&(o=o.filter(c=>c.tags?.includes(e.tag))),e.search){const c=e.search.toLowerCase();o=o.filter(d=>d.title?.toLowerCase().includes(c)||d.content?.toLowerCase().includes(c)||d.source?.toLowerCase().includes(c))}return o},qz=async(t,e)=>{const n=vn(ft,"users",t,"evidence",e);await Eb(n)},Hz=async(t,e,n)=>{const a=vn(ft,"users",t,"evidence",e),r=await Uf(a);r.exists()&&await ma(a,{usageCount:(r.data().usageCount||0)+1,usedInDebates:tc(n),lastUsed:Jt()})},Gz=async(t,e)=>{const n=ms(ft,"users",t,"practice");return(await Vl(n,{...e,createdAt:Jt()})).id},C_=async(t,e={})=>{const n=ms(ft,"users",t,"practice");let a=Hs(n,bc("createdAt","desc"));return e.type&&(a=Hs(a,Nb("type","==",e.type))),e.limit&&(a=Hs(a,Tb(e.limit))),(await Ll(a)).docs.map(o=>({id:o.id,...o.data()}))},Yz=async t=>{const e=await C_(t),n={totalSessions:e.length,totalTime:e.reduce((c,d)=>c+(d.duration||0),0),byType:{},streak:0,avgScore:0};e.forEach(c=>{n.byType[c.type]||(n.byType[c.type]={count:0,totalScore:0}),n.byType[c.type].count++,c.score&&(n.byType[c.type].totalScore+=c.score)});const a=e.filter(c=>c.score);a.length>0&&(n.avgScore=(a.reduce((c,d)=>c+d.score,0)/a.length).toFixed(1));const r=new Date;let o=0;for(let c=0;c<365;c++){const d=new Date(r);d.setDate(d.getDate()-c);const m=d.toISOString().split("T")[0];if(e.some(x=>(x.createdAt?.toDate?.()||new Date(x.createdAt)).toISOString().split("T")[0]===m))o++;else if(c>0)break}return n.streak=o,n},Qz=async(t,e)=>{const n=ms(ft,"teams"),a=await Vl(n,{...e,ownerId:t,members:[{id:t,role:"owner",joinedAt:new Date().toISOString()}],inviteCode:Math.random().toString(36).substring(2,8).toUpperCase(),createdAt:Jt(),updatedAt:Jt()}),r=vn(ft,"users",t);return await ma(r,{teams:tc(a.id)}),a.id},Kz=async t=>{const e=vn(ft,"teams",t),n=await Uf(e);return n.exists()?{id:n.id,...n.data()}:null},Wz=async t=>{const e=vn(ft,"users",t),n=await Uf(e);if(!n.exists())return[];const a=n.data().teams||[];return(await Promise.all(a.map(o=>Kz(o)))).filter(Boolean)},Xz=async(t,e)=>{const n=ms(ft,"teams"),a=Hs(n,Nb("inviteCode","==",e.toUpperCase())),r=await Ll(a);if(r.empty)throw new Error("Invalid invite code");const o=r.docs[0];if(o.data().members.some(d=>d.id===t))throw new Error("Already a member of this team");return await ma(vn(ft,"teams",o.id),{members:tc({id:t,role:"member",joinedAt:new Date().toISOString()}),updatedAt:Jt()}),await ma(vn(ft,"users",t),{teams:tc(o.id)}),o.id},Jz=async(t,e)=>{const n=ms(ft,"users",t,"tournaments");return(await Vl(n,{...e,rounds:[],createdAt:Jt(),updatedAt:Jt()})).id},Zz=async(t,e,n)=>{const a=vn(ft,"users",t,"tournaments",e);await ma(a,{...n,updatedAt:Jt()})},eF=async t=>{const e=ms(ft,"users",t,"tournaments"),n=Hs(e,bc("date","desc"));return(await Ll(n)).docs.map(r=>({id:r.id,...r.data()}))},tF=async(t,e)=>{const n=vn(ft,"users",t,"tournaments",e);await Eb(n)},nF=async(t,e,n)=>{const a=vn(ft,"users",t,"tournaments",e);await ma(a,{rounds:tc({id:Date.now().toString(),...n,createdAt:new Date().toISOString()}),updatedAt:Jt()})},sF=async(t,e)=>{const n=ms(ft,"users",t,"judges");return(await Vl(n,{...e,createdAt:Jt(),updatedAt:Jt()})).id},aF=async t=>{const e=ms(ft,"users",t,"judges"),n=Hs(e,bc("name"));return(await Ll(n)).docs.map(r=>({id:r.id,...r.data()}))},iF=async(t,e,n)=>{const a=vn(ft,"users",t,"judges",e);await ma(a,{...n,updatedAt:Jt()})},rF=()=>{const{user:t}=zn(),[e,n]=E.useState(null),[a,r]=E.useState(!0),[o,c]=E.useState(null),d=E.useCallback(async()=>{if(!t?.uid){r(!1);return}try{r(!0);const f=await Oz(t.uid);n(f),c(null)}catch(f){console.error("Error fetching analytics:",f),c(f.message)}finally{r(!1)}},[t?.uid]);return E.useEffect(()=>{d()},[d]),{analytics:e,loading:a,error:o,refetch:d,saveDebate:async f=>{if(!t?.uid)throw new Error("Not authenticated");const x=await Dz(t.uid,f);return await d(),x}}},lF=()=>{const{user:t}=zn(),[e,n]=E.useState([]),[a,r]=E.useState(!0),[o,c]=E.useState(null),d=E.useCallback(async()=>{if(!t?.uid){r(!1);return}try{r(!0);const v=await Vz(t.uid);n(v),c(null)}catch(v){console.error("Error fetching opponents:",v),c(v.message)}finally{r(!1)}},[t?.uid]);return E.useEffect(()=>{d()},[d]),{opponents:e,loading:a,error:o,refetch:d,addOpponent:async v=>{if(!t?.uid)throw new Error("Not authenticated");const w=await Pz(t.uid,v);return await d(),w},updateOpponent:async(v,w)=>{if(!t?.uid)throw new Error("Not authenticated");await Lz(t.uid,v,w),await d()},deleteOpponent:async v=>{if(!t?.uid)throw new Error("Not authenticated");await Uz(t.uid,v),await d()},addNote:async(v,w)=>{if(!t?.uid)throw new Error("Not authenticated");await zz(t.uid,v,w),await d()}}},oF=(t={})=>{const{user:e}=zn(),[n,a]=E.useState([]),[r,o]=E.useState(!0),[c,d]=E.useState(null),[m,f]=E.useState(t),x=E.useCallback(async()=>{if(!e?.uid){o(!1);return}try{o(!0);const k=await $z(e.uid,m);a(k),d(null)}catch(k){console.error("Error fetching evidence:",k),d(k.message)}finally{o(!1)}},[e?.uid,m]);E.useEffect(()=>{x()},[x]);const b=async k=>{if(!e?.uid)throw new Error("Not authenticated");const V=await Fz(e.uid,k);return await x(),V},v=async(k,V)=>{if(!e?.uid)throw new Error("Not authenticated");await Bz(e.uid,k,V),await x()},w=async k=>{if(!e?.uid)throw new Error("Not authenticated");await qz(e.uid,k),await x()},j=async(k,V)=>{if(!e?.uid)throw new Error("Not authenticated");await Hz(e.uid,k,V),await x()},D=[...new Set(n.flatMap(k=>k.tags||[]))];return{evidence:n,loading:r,error:c,filters:m,setFilters:f,allTags:D,refetch:x,addEvidence:b,updateEvidence:v,deleteEvidence:w,trackUsage:j}},cF=()=>{const{user:t}=zn(),[e,n]=E.useState([]),[a,r]=E.useState(null),[o,c]=E.useState(!0),[d,m]=E.useState(null),f=E.useCallback(async()=>{if(!t?.uid){c(!1);return}try{c(!0);const[b,v]=await Promise.all([C_(t.uid,{limit:50}),Yz(t.uid)]);n(b),r(v),m(null)}catch(b){console.error("Error fetching practice data:",b),m(b.message)}finally{c(!1)}},[t?.uid]);return E.useEffect(()=>{f()},[f]),{sessions:e,stats:a,loading:o,error:d,refetch:f,saveSession:async b=>{if(!t?.uid)throw new Error("Not authenticated");const v=await Gz(t.uid,b);return await f(),v}}},uF=()=>{const{user:t}=zn(),[e,n]=E.useState([]),[a,r]=E.useState(!0),[o,c]=E.useState(null),d=E.useCallback(async()=>{if(!t?.uid){r(!1);return}try{r(!0);const x=await Wz(t.uid);n(x),c(null)}catch(x){console.error("Error fetching teams:",x),c(x.message)}finally{r(!1)}},[t?.uid]);return E.useEffect(()=>{d()},[d]),{teams:e,loading:a,error:o,refetch:d,createTeam:async x=>{if(!t?.uid)throw new Error("Not authenticated");const b=await Qz(t.uid,x);return await d(),b},joinTeam:async x=>{if(!t?.uid)throw new Error("Not authenticated");const b=await Xz(t.uid,x);return await d(),b}}},dF=()=>{const{user:t}=zn(),[e,n]=E.useState([]),[a,r]=E.useState(!0),[o,c]=E.useState(null),d=E.useCallback(async()=>{if(!t?.uid){r(!1);return}try{r(!0);const v=await eF(t.uid);n(v),c(null)}catch(v){console.error("Error fetching tournaments:",v),c(v.message)}finally{r(!1)}},[t?.uid]);return E.useEffect(()=>{d()},[d]),{tournaments:e,loading:a,error:o,refetch:d,addTournament:async v=>{if(!t?.uid)throw new Error("Not authenticated");const w=await Jz(t.uid,v);return await d(),w},updateTournament:async(v,w)=>{if(!t?.uid)throw new Error("Not authenticated");await Zz(t.uid,v,w),await d()},deleteTournament:async v=>{if(!t?.uid)throw new Error("Not authenticated");await tF(t.uid,v),await d()},addRound:async(v,w)=>{if(!t?.uid)throw new Error("Not authenticated");await nF(t.uid,v,w),await d()}}},hF=()=>{const{user:t}=zn(),[e,n]=E.useState([]),[a,r]=E.useState(!0),[o,c]=E.useState(null),d=E.useCallback(async()=>{if(!t?.uid){r(!1);return}try{r(!0);const x=await aF(t.uid);n(x),c(null)}catch(x){console.error("Error fetching judges:",x),c(x.message)}finally{r(!1)}},[t?.uid]);return E.useEffect(()=>{d()},[d]),{judges:e,loading:a,error:o,refetch:d,addJudge:async x=>{if(!t?.uid)throw new Error("Not authenticated");const b=await sF(t.uid,x);return await d(),b},updateJudge:async(x,b)=>{if(!t?.uid)throw new Error("Not authenticated");await iF(t.uid,x,b),await d()}}},mF=["Public Forum","Lincoln-Douglas","Policy","Congress","World Schools","Extemp","Original Oratory","Impromptu"],fF={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},gl={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},A_=({value:t,duration:e=1e3,prefix:n="",suffix:a="",decimals:r=0})=>{const[o,c]=E.useState(0);return E.useEffect(()=>{const d=Date.now(),m=typeof t=="number"?t:parseFloat(t)||0,f=()=>{const x=Date.now(),b=Math.min((x-d)/e,1),v=1-Math.pow(1-b,4),w=m*v;c(w),b<1&&requestAnimationFrame(f)};requestAnimationFrame(f)},[t,e]),s.jsxs("span",{children:[n,o.toFixed(r),a]})},k_=({progress:t,size:e=120,strokeWidth:n=8,color:a="cyan",showValue:r=!0,label:o,animate:c=!0})=>{const d=(e-n)/2,m=d*2*Math.PI,f=m-t/100*m,x={cyan:{stroke:"#06b6d4",glow:"drop-shadow(0 0 8px rgba(6, 182, 212, 0.5))"},emerald:{stroke:"#10b981",glow:"drop-shadow(0 0 8px rgba(16, 185, 129, 0.5))"},purple:{stroke:"#a855f7",glow:"drop-shadow(0 0 8px rgba(168, 85, 247, 0.5))"},amber:{stroke:"#f59e0b",glow:"drop-shadow(0 0 8px rgba(245, 158, 11, 0.5))"},red:{stroke:"#ef4444",glow:"drop-shadow(0 0 8px rgba(239, 68, 68, 0.5))"}},b=x[a]||x.cyan;return s.jsxs("div",{className:"relative inline-flex flex-col items-center",children:[s.jsxs("svg",{width:e,height:e,className:"transform -rotate-90",children:[s.jsx("circle",{cx:e/2,cy:e/2,r:d,fill:"none",stroke:"currentColor",strokeWidth:n,className:"text-slate-800"}),s.jsx(U.circle,{cx:e/2,cy:e/2,r:d,fill:"none",stroke:b.stroke,strokeWidth:n,strokeLinecap:"round",strokeDasharray:m,initial:c?{strokeDashoffset:m}:{strokeDashoffset:f},animate:{strokeDashoffset:f},transition:{duration:1,ease:"easeOut"},style:{filter:b.glow}})]}),r&&s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[s.jsx("span",{className:"text-2xl font-bold text-white",children:s.jsx(A_,{value:t,suffix:"%"})}),o&&s.jsx("span",{className:"text-xs text-slate-400",children:o})]})]})},hm=({label:t,value:e,change:n,icon:a,color:r="cyan",subtitle:o})=>{const c=n>0,d=n===0||n===void 0,m={cyan:{bg:"from-cyan-500/20 to-cyan-600/5",border:"border-cyan-500/20",icon:"text-cyan-400",iconBg:"bg-cyan-500/10"},emerald:{bg:"from-emerald-500/20 to-emerald-600/5",border:"border-emerald-500/20",icon:"text-emerald-400",iconBg:"bg-emerald-500/10"},purple:{bg:"from-purple-500/20 to-purple-600/5",border:"border-purple-500/20",icon:"text-purple-400",iconBg:"bg-purple-500/10"},amber:{bg:"from-amber-500/20 to-amber-600/5",border:"border-amber-500/20",icon:"text-amber-400",iconBg:"bg-amber-500/10"},red:{bg:"from-red-500/20 to-red-600/5",border:"border-red-500/20",icon:"text-red-400",iconBg:"bg-red-500/10"}},f=m[r]||m.cyan;return s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02,y:-4},className:"relative group cursor-default",children:[s.jsx("div",{className:`absolute -inset-1 bg-gradient-to-r ${f.bg} rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-all duration-500`}),s.jsxs("div",{className:`relative p-6 rounded-2xl border ${f.border} bg-gradient-to-br ${f.bg} backdrop-blur-sm overflow-hidden`,children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-white/5 to-transparent rounded-full -translate-y-1/2 translate-x-1/2"}),s.jsxs("div",{className:"relative flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-slate-400 font-medium mb-1",children:t}),s.jsxs("p",{className:"text-3xl font-bold text-white tracking-tight",children:[s.jsx(A_,{value:parseFloat(e)||0,decimals:e.toString().includes(".")?1:0}),e.toString().includes("%")&&"%"]}),n!==void 0&&s.jsxs("div",{className:`flex items-center gap-1.5 mt-2 text-sm font-medium ${d?"text-slate-500":c?"text-emerald-400":"text-red-400"}`,children:[!d&&s.jsx(U.div,{initial:{rotate:c?-45:45,opacity:0},animate:{rotate:0,opacity:1},transition:{delay:.3},children:c?"":""}),s.jsx("span",{children:d?"No change":`${Math.abs(n)}%`}),s.jsx("span",{className:"text-slate-500",children:"vs last month"})]}),o&&s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:o})]}),s.jsx(U.div,{whileHover:{rotate:5,scale:1.1},className:`p-3 rounded-xl ${f.iconBg} border ${f.border}`,children:s.jsx(a,{className:`w-6 h-6 ${f.icon}`})})]})]})]})},Yb=({children:t,variant:e="default",size:n="md"})=>{const a={default:"bg-slate-800 text-slate-300 border-slate-700",success:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30",warning:"bg-amber-500/10 text-amber-400 border-amber-500/30",danger:"bg-red-500/10 text-red-400 border-red-500/30",info:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30",purple:"bg-purple-500/10 text-purple-400 border-purple-500/30"},r={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-1",lg:"text-base px-3 py-1.5"};return s.jsx(U.span,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:`inline-flex items-center gap-1.5 font-medium rounded-full border ${a[e]} ${r[n]}`,children:t})},pF=()=>s.jsx("div",{className:"relative p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 animate-pulse",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-4 w-24 bg-slate-800 rounded"}),s.jsx("div",{className:"h-8 w-20 bg-slate-800 rounded"}),s.jsx("div",{className:"h-3 w-32 bg-slate-800 rounded"})]}),s.jsx("div",{className:"w-12 h-12 bg-slate-800 rounded-xl"})]})}),jg=({className:t=""})=>s.jsx("div",{className:`bg-slate-800/50 rounded-xl animate-pulse ${t}`}),gF=({onAddDebate:t})=>s.jsxs(U.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-20",children:[s.jsxs("div",{className:"relative inline-block mb-8",children:[s.jsx(U.div,{animate:{scale:[1,1.2,1],opacity:[.3,.1,.3]},transition:{duration:3,repeat:1/0},className:"absolute inset-0 w-32 h-32 rounded-full bg-cyan-500/20 blur-xl"}),s.jsx(U.div,{animate:{scale:[1,1.3,1],opacity:[.2,.05,.2]},transition:{duration:3,repeat:1/0,delay:.5},className:"absolute inset-0 w-32 h-32 rounded-full bg-purple-500/20 blur-xl"}),s.jsxs(U.div,{initial:{rotate:-10},animate:{rotate:[0,5,0]},transition:{duration:4,repeat:1/0},className:"relative p-6 rounded-3xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-slate-700/50 backdrop-blur-xl shadow-2xl",children:[s.jsx(Cn,{className:"w-16 h-16 text-cyan-400"}),s.jsx(U.div,{animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0},className:"absolute -top-2 -right-2",children:s.jsx(Cs,{className:"w-6 h-6 text-amber-400"})})]})]}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Start Your Debate Journey"}),s.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-8 leading-relaxed",children:"Track your debates to unlock powerful analytics, visualize your progress, and gain insights that will help you win more rounds."}),s.jsxs(U.button,{whileHover:{scale:1.05,boxShadow:"0 20px 40px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},onClick:t,className:"px-8 py-4 rounded-2xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold text-lg shadow-lg shadow-cyan-500/25 inline-flex items-center gap-3",children:[s.jsx(At,{className:"w-5 h-5"}),"Record Your First Debate",s.jsx(mn,{className:"w-5 h-5"})]})]}),xF=({isOpen:t,onClose:e,onSave:n})=>{const[a,r]=E.useState({date:new Date().toISOString().split("T")[0],format:"Public Forum",tournament:"",round:"Round 1",opponent:"",opponentSchool:"",side:"Pro",result:"win",speakerPoints:"",score:"",topic:"",notes:""});if(!t)return null;const o=c=>{c.preventDefault(),n({...a,speakerPoints:a.speakerPoints?parseFloat(a.speakerPoints):null,score:a.score?parseInt(a.score):null}),e()};return s.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:c=>c.target===c.currentTarget&&e(),children:s.jsxs(U.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"w-full max-w-2xl bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-800 rounded-3xl shadow-2xl shadow-black/50 max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"relative p-6 border-b border-slate-800 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 via-transparent to-purple-500/10"}),s.jsxs("div",{className:"relative flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-xl bg-cyan-500/10 border border-cyan-500/30",children:s.jsx($t,{className:"w-5 h-5 text-cyan-400"})}),"Record Debate"]}),s.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Track your performance and build your analytics"})]}),s.jsx(U.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:e,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(Qn,{className:"w-5 h-5"})})]})]}),s.jsxs("form",{onSubmit:o,className:"p-6 space-y-6 overflow-y-auto max-h-[calc(90vh-180px)]",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Date"}),s.jsx("input",{type:"date",value:a.date,onChange:c=>r({...a,date:c.target.value}),className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Format"}),s.jsx("select",{value:a.format,onChange:c=>r({...a,format:c.target.value}),className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all",children:mF.map(c=>s.jsx("option",{value:c,children:c},c))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Tournament"}),s.jsx("input",{type:"text",value:a.tournament,onChange:c=>r({...a,tournament:c.target.value}),placeholder:"e.g., Harvard Invitational",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Round"}),s.jsx("select",{value:a.round,onChange:c=>r({...a,round:c.target.value}),className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all",children:["Round 1","Round 2","Round 3","Round 4","Round 5","Round 6","Octofinals","Quarterfinals","Semifinals","Finals"].map(c=>s.jsx("option",{value:c,children:c},c))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Opponent Name"}),s.jsx("input",{type:"text",value:a.opponent,onChange:c=>r({...a,opponent:c.target.value}),placeholder:"Opponent's name",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Opponent School"}),s.jsx("input",{type:"text",value:a.opponentSchool,onChange:c=>r({...a,opponentSchool:c.target.value}),placeholder:"School name",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Result"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs(U.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r({...a,result:"win"}),className:`p-4 rounded-xl border-2 transition-all ${a.result==="win"?"bg-emerald-500/20 border-emerald-500 shadow-lg shadow-emerald-500/20":"bg-slate-800/30 border-slate-700 hover:border-slate-600"}`,children:[s.jsx($t,{className:`w-8 h-8 mx-auto mb-2 ${a.result==="win"?"text-emerald-400":"text-slate-500"}`}),s.jsx("span",{className:`font-semibold ${a.result==="win"?"text-emerald-400":"text-slate-400"}`,children:"Win"})]}),s.jsxs(U.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r({...a,result:"loss"}),className:`p-4 rounded-xl border-2 transition-all ${a.result==="loss"?"bg-red-500/20 border-red-500 shadow-lg shadow-red-500/20":"bg-slate-800/30 border-slate-700 hover:border-slate-600"}`,children:[s.jsx(Ot,{className:`w-8 h-8 mx-auto mb-2 ${a.result==="loss"?"text-red-400":"text-slate-500"}`}),s.jsx("span",{className:`font-semibold ${a.result==="loss"?"text-red-400":"text-slate-400"}`,children:"Loss"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Side"}),s.jsxs("select",{value:a.side,onChange:c=>r({...a,side:c.target.value}),className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all",children:[s.jsx("option",{value:"Pro",children:"Pro/Aff"}),s.jsx("option",{value:"Con",children:"Con/Neg"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Speaker Points"}),s.jsx("input",{type:"number",step:"0.1",min:"20",max:"30",value:a.speakerPoints,onChange:c=>r({...a,speakerPoints:c.target.value}),placeholder:"28.5",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Notes"}),s.jsx("textarea",{value:a.notes,onChange:c=>r({...a,notes:c.target.value}),placeholder:"Key takeaways, what worked, areas to improve...",rows:3,className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all resize-none"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-800",children:[s.jsx(U.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"px-6 py-3 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:"Cancel"}),s.jsx(U.button,{type:"submit",whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},className:"px-8 py-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold shadow-lg shadow-cyan-500/25",children:"Save Debate"})]})]})]})})},bF=({wins:t,losses:e})=>{const n=t+e,a=n>0?t/n*100:0;return s.jsxs("div",{className:"flex items-center gap-8",children:[s.jsxs("div",{className:"relative",children:[s.jsx(k_,{progress:a,size:140,strokeWidth:12,color:a>=50?"emerald":"amber",label:"Win Rate"}),s.jsx(U.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute -inset-4 rounded-full border border-dashed border-slate-700/50"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-4 h-4 rounded-full bg-emerald-500 shadow-lg shadow-emerald-500/50"}),s.jsx(U.div,{animate:{scale:[1,1.5,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 rounded-full bg-emerald-500"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-2xl font-bold text-white",children:t}),s.jsx("span",{className:"text-slate-400 ml-2",children:"Wins"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 rounded-full bg-slate-600"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-2xl font-bold text-white",children:e}),s.jsx("span",{className:"text-slate-400 ml-2",children:"Losses"})]})]}),s.jsx("div",{className:"pt-2 border-t border-slate-800",children:s.jsxs("p",{className:"text-slate-500",children:[n," total debates"]})})]})]})},yF=({data:t})=>{const e=Object.keys(t).sort().slice(-12),n=e.map(r=>{const o=t[r];return o.total>0?o.wins/o.total*100:0}),a=Math.max(...n,100);return e.length===0?s.jsx("div",{className:"flex items-center justify-center h-48 text-slate-500",children:s.jsx("p",{children:"Record more debates to see trends"})}):s.jsxs("div",{className:"relative h-56",children:[s.jsx("div",{className:"absolute inset-0 flex flex-col justify-between pointer-events-none",children:[100,75,50,25,0].map(r=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-slate-600 w-8",children:[r,"%"]}),s.jsx("div",{className:"flex-1 border-t border-slate-800/50 border-dashed"})]},r))}),s.jsx("div",{className:"absolute inset-0 pt-4 pb-6 pl-10 flex items-end justify-between gap-2",children:n.map((r,o)=>s.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2",children:[s.jsxs(U.div,{initial:{height:0,opacity:0},animate:{height:`${r/a*100}%`,opacity:1},transition:{delay:o*.05,duration:.6,ease:"easeOut"},className:"relative w-full rounded-t-lg cursor-pointer group",style:{background:r>=50?"linear-gradient(to top, rgba(16, 185, 129, 0.8), rgba(6, 182, 212, 0.6))":"linear-gradient(to top, rgba(245, 158, 11, 0.8), rgba(251, 191, 36, 0.6))",minHeight:"4px"},children:[s.jsx("div",{className:"absolute inset-0 rounded-t-lg blur-md opacity-50",style:{background:r>=50?"linear-gradient(to top, rgb(16, 185, 129), rgb(6, 182, 212))":"linear-gradient(to top, rgb(245, 158, 11), rgb(251, 191, 36))"}}),s.jsxs("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 px-3 py-1.5 bg-slate-800 border border-slate-700 rounded-lg text-xs text-white font-medium opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10 shadow-xl",children:[r.toFixed(0),"% win rate",s.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-slate-800 border-r border-b border-slate-700 rotate-45"})]})]}),s.jsx("span",{className:"text-[10px] text-slate-500 font-medium",children:e[o].split("-")[1]})]},e[o]))})]})},vF=({data:t})=>{const e=Object.entries(t);return e.length===0?s.jsx("div",{className:"text-center py-8 text-slate-500",children:"No format data available"}):s.jsx("div",{className:"space-y-5",children:e.map(([n,a],r)=>{const o=a.total>0?a.wins/a.total*100:0,c=o>=70?"emerald":o>=50?"cyan":o>=30?"amber":"red";return s.jsxs(U.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:r*.1},className:"group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-white font-medium flex items-center gap-2",children:[n,o>=70&&s.jsx(Ho,{className:"w-4 h-4 text-amber-400"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-slate-500 text-sm",children:[a.wins,"W - ",a.losses,"L"]}),s.jsxs(Yb,{variant:c==="emerald"?"success":c==="cyan"?"info":c==="amber"?"warning":"danger",children:[o.toFixed(0),"%"]})]})]}),s.jsx("div",{className:"h-3 bg-slate-800 rounded-full overflow-hidden",children:s.jsx(U.div,{initial:{width:0},animate:{width:`${o}%`},transition:{duration:.8,delay:r*.1},className:"h-full rounded-full relative overflow-hidden",style:{background:`linear-gradient(90deg, ${c==="emerald"?"rgb(16, 185, 129), rgb(6, 182, 212)":c==="cyan"?"rgb(6, 182, 212), rgb(99, 102, 241)":c==="amber"?"rgb(245, 158, 11), rgb(251, 191, 36)":"rgb(239, 68, 68), rgb(248, 113, 113)"})`},children:s.jsx(U.div,{animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,repeatDelay:3},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent"})})})]},n)})})},wF=({data:t})=>{const e=Object.entries(t).map(([n,a])=>({name:n,...a,winRate:a.total>0?a.wins/a.total*100:0})).sort((n,a)=>a.total-n.total).slice(0,10);return e.length===0?s.jsx("div",{className:"text-center py-8 text-slate-500",children:"No opponent data available"}):s.jsx("div",{className:"space-y-3",children:e.map((n,a)=>s.jsxs(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:a*.05},whileHover:{scale:1.01,x:4},className:"flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-slate-800/50 to-slate-900/30 border border-slate-800/50 hover:border-slate-700/50 transition-all cursor-pointer group",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-bold text-lg ${a===0?"bg-amber-500/20 text-amber-400 border border-amber-500/30":a===1?"bg-slate-400/20 text-slate-300 border border-slate-400/30":a===2?"bg-amber-700/20 text-amber-600 border border-amber-700/30":"bg-slate-800 text-slate-400"}`,children:a+1}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-white font-medium truncate group-hover:text-cyan-400 transition-colors",children:n.name}),s.jsxs("p",{className:"text-slate-500 text-sm",children:[n.total," debates"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:`text-lg font-bold ${n.winRate>=50?"text-emerald-400":"text-red-400"}`,children:[n.winRate.toFixed(0),"%"]}),s.jsxs("p",{className:"text-slate-500 text-xs",children:[n.wins,"W-",n.losses,"L"]})]}),s.jsx(mn,{className:"w-5 h-5 text-slate-600 group-hover:text-slate-400 transition-colors"})]},n.name))})},NF=({debates:t})=>s.jsx("div",{className:"space-y-3",children:t.slice(0,5).map((e,n)=>s.jsxs(U.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.05},whileHover:{scale:1.01},className:"flex items-center gap-4 p-4 rounded-xl bg-slate-800/30 border border-slate-800/50 hover:bg-slate-800/50 transition-all cursor-pointer group",children:[s.jsx("div",{className:`relative w-2 h-14 rounded-full ${e.result==="win"?"bg-emerald-500":"bg-red-500"}`,children:s.jsx(U.div,{animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},className:`absolute inset-0 rounded-full ${e.result==="win"?"bg-emerald-500":"bg-red-500"} blur-sm`})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-white font-medium",children:e.tournament||"Practice"}),s.jsx("span",{className:"text-slate-600",children:""}),s.jsx(Yb,{variant:"info",size:"sm",children:e.format})]}),s.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:["vs ",e.opponent||"Unknown","  ",e.round]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:`px-3 py-1.5 rounded-lg text-sm font-semibold ${e.result==="win"?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/30":"bg-red-500/10 text-red-400 border border-red-500/30"}`,children:e.result==="win"?" Win":"Loss"}),e.speakerPoints&&s.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:[s.jsx(Xt,{className:"w-3 h-3 inline-block text-amber-400 mr-1"}),e.speakerPoints," speaks"]})]})]},e.id||n))}),jF=()=>s.jsxs("div",{className:"space-y-8 animate-pulse",children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((t,e)=>s.jsx(pF,{},e))}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsx(jg,{className:"h-64 rounded-2xl"}),s.jsx(jg,{className:"h-64 rounded-2xl"})]}),s.jsx(jg,{className:"h-80 rounded-2xl"})]}),SF=({apiKey:t})=>{const{user:e,isAuthenticated:n}=zn(),{analytics:a,loading:r,refetch:o,saveDebate:c}=rF(),[d,m]=E.useState(!1),[f,x]=E.useState("overview"),b=async w=>{try{await c(w)}catch(j){console.error("Error saving debate:",j)}},v=a&&a.totalDebates>0;return s.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs(U.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-600/20 border border-cyan-500/30",children:s.jsx(Cn,{className:"w-7 h-7 text-cyan-400"})}),"Analytics",s.jsx(Yb,{variant:"info",children:"Premium"})]}),s.jsx("p",{className:"text-slate-400 mt-2",children:"Track your debate performance and progress"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(U.button,{whileHover:{scale:1.05,rotate:180},whileTap:{scale:.95},onClick:o,className:"p-3 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",title:"Refresh",children:s.jsx(Yu,{className:"w-5 h-5"})}),s.jsxs(U.button,{whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},onClick:()=>m(!0),className:"px-5 py-2.5 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-medium shadow-lg shadow-cyan-500/25 flex items-center gap-2",children:[s.jsx(At,{className:"w-5 h-5"}),"Record Debate"]})]})]}),s.jsx(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex items-center gap-2 p-1.5 bg-slate-900/50 rounded-2xl border border-slate-800/50 w-fit",children:[{id:"overview",label:"Overview",icon:Ig},{id:"trends",label:"Trends",icon:Ga},{id:"opponents",label:"Head-to-Head",icon:gn},{id:"formats",label:"By Format",icon:Cn}].map(w=>s.jsxs(U.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>x(w.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium transition-all ${f===w.id?"bg-slate-800 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:[s.jsx(w.icon,{className:"w-4 h-4"}),w.label]},w.id))}),r?s.jsx(jF,{}):v?s.jsxs(U.div,{variants:fF,initial:"hidden",animate:"visible",children:[f==="overview"&&s.jsxs(s.Fragment,{children:[s.jsxs(U.div,{variants:gl,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(hm,{label:"Total Debates",value:a.totalDebates.toString(),icon:oa,color:"cyan"}),s.jsx(hm,{label:"Win Rate",value:`${a.winRate}`,change:5,icon:$t,color:"emerald"}),s.jsx(hm,{label:"Total Wins",value:a.totalWins.toString(),icon:$o,color:"purple"}),s.jsx(hm,{label:"Win Streak",value:a.currentStreak?.toString()||"0",subtitle:"Current streak",icon:lf,color:"amber"})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs(U.div,{variants:gl,className:"p-6 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/50 to-slate-950/50",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(Ig,{className:"w-5 h-5 text-cyan-400"}),"Win/Loss Ratio"]}),s.jsx(bF,{wins:a.totalWins,losses:a.totalLosses})]}),s.jsxs(U.div,{variants:gl,className:"p-6 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/50 to-slate-950/50",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(Cn,{className:"w-5 h-5 text-purple-400"}),"Performance by Format"]}),s.jsx(vF,{data:a.formatStats})]})]}),s.jsxs(U.div,{variants:gl,className:"p-6 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/50 to-slate-950/50",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(qt,{className:"w-5 h-5 text-amber-400"}),"Recent Debates"]}),s.jsx(NF,{debates:a.recentDebates})]})]}),f==="trends"&&s.jsxs(U.div,{variants:gl,className:"p-6 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/50 to-slate-950/50",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(Ga,{className:"w-5 h-5 text-emerald-400"}),"Win Rate Trend (Last 12 Months)"]}),s.jsx(yF,{data:a.monthlyStats})]}),f==="opponents"&&s.jsxs(U.div,{variants:gl,className:"p-6 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/50 to-slate-950/50",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(gn,{className:"w-5 h-5 text-cyan-400"}),"Head-to-Head Records"]}),s.jsx(wF,{data:a.opponentStats})]}),f==="formats"&&s.jsx(U.div,{variants:gl,className:"grid md:grid-cols-2 gap-6",children:Object.entries(a.formatStats).map(([w,j],D)=>{const k=j.total>0?j.wins/j.total*100:0;return s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:D*.1},whileHover:{scale:1.02,y:-4},className:"p-6 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/50 to-slate-950/50 hover:border-slate-700/60 transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h4",{className:"text-white font-semibold text-lg",children:w}),s.jsx(k_,{progress:k,size:60,strokeWidth:6,color:k>=50?"emerald":"amber"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{className:"p-3 rounded-xl bg-slate-800/30",children:[s.jsx("p",{className:"text-2xl font-bold text-white",children:j.total}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Total"})]}),s.jsxs("div",{className:"p-3 rounded-xl bg-emerald-500/10",children:[s.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:j.wins}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Wins"})]}),s.jsxs("div",{className:"p-3 rounded-xl bg-red-500/10",children:[s.jsx("p",{className:"text-2xl font-bold text-red-400",children:j.losses}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Losses"})]})]})]},w)})})]}):s.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},className:"p-8 rounded-3xl border border-slate-800/60 bg-gradient-to-b from-slate-900/50 to-slate-950/50",children:s.jsx(gF,{onAddDebate:()=>m(!0)})}),s.jsx(et,{children:d&&s.jsx(xF,{isOpen:d,onClose:()=>m(!1),onSave:b})})]})})},_F={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08}}},TF={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.4,ease:"easeOut"}}},Rl={high:{label:"High Threat",color:"red",bgClass:"bg-red-500/10 border-red-500/30",textClass:"text-red-400",icon:yr,glow:"shadow-red-500/20"},medium:{label:"Medium Threat",color:"amber",bgClass:"bg-amber-500/10 border-amber-500/30",textClass:"text-amber-400",icon:ts,glow:"shadow-amber-500/20"},low:{label:"Low Threat",color:"emerald",bgClass:"bg-emerald-500/10 border-emerald-500/30",textClass:"text-emerald-400",icon:ji,glow:"shadow-emerald-500/20"}},EF=({onAdd:t})=>s.jsxs(U.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-20",children:[s.jsxs("div",{className:"relative inline-block mb-8",children:[s.jsx(U.div,{animate:{scale:[1,1.2,1],opacity:[.3,.1,.3]},transition:{duration:3,repeat:1/0},className:"absolute inset-0 w-32 h-32 rounded-full bg-red-500/20 blur-xl"}),s.jsx(U.div,{animate:{scale:[1,1.3,1],opacity:[.2,.05,.2]},transition:{duration:3,repeat:1/0,delay:.5},className:"absolute inset-0 w-32 h-32 rounded-full bg-amber-500/20 blur-xl"}),s.jsxs(U.div,{animate:{rotate:[0,5,0,-5,0]},transition:{duration:5,repeat:1/0},className:"relative p-6 rounded-3xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-slate-700/50 backdrop-blur-xl shadow-2xl",children:[s.jsx(Ot,{className:"w-16 h-16 text-red-400"}),s.jsx(U.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -top-2 -right-2",children:s.jsx(_x,{className:"w-6 h-6 text-amber-400"})})]})]}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Know Your Competition"}),s.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-8 leading-relaxed",children:"Track opponents, analyze their strategies, and prepare winning counter-arguments. Intelligence wins debates."}),s.jsxs(U.button,{whileHover:{scale:1.05,boxShadow:"0 20px 40px rgba(239, 68, 68, 0.3)"},whileTap:{scale:.98},onClick:t,className:"px-8 py-4 rounded-2xl bg-gradient-to-r from-red-500 to-orange-600 text-white font-semibold text-lg shadow-lg shadow-red-500/25 inline-flex items-center gap-3",children:[s.jsx(At,{className:"w-5 h-5"}),"Add First Opponent",s.jsx(mn,{className:"w-5 h-5"})]})]}),R_=({level:t,size:e="md",pulse:n=!1})=>{const a=Rl[t]||Rl.medium,r=a.icon,o={sm:"px-2 py-0.5 text-xs gap-1",md:"px-3 py-1 text-sm gap-1.5",lg:"px-4 py-2 text-base gap-2"};return s.jsxs(U.span,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:`inline-flex items-center font-semibold rounded-full border ${a.bgClass} ${a.textClass} ${o[e]} ${n?"animate-pulse":""}`,children:[s.jsx(r,{className:e==="sm"?"w-3 h-3":e==="lg"?"w-5 h-5":"w-4 h-4"}),a.label]})},CF=({winRate:t,size:e=60})=>{const n=(e-6)/2,a=n*2*Math.PI,r=a-t/100*a,o=t>=50?"#ef4444":"#10b981";return s.jsxs("div",{className:"relative",style:{width:e,height:e},children:[s.jsxs("svg",{className:"transform -rotate-90",width:e,height:e,children:[s.jsx("circle",{cx:e/2,cy:e/2,r:n,fill:"none",stroke:"currentColor",strokeWidth:"6",className:"text-slate-800"}),s.jsx(U.circle,{cx:e/2,cy:e/2,r:n,fill:"none",stroke:o,strokeWidth:"6",strokeLinecap:"round",strokeDasharray:a,initial:{strokeDashoffset:a},animate:{strokeDashoffset:r},transition:{duration:1,ease:"easeOut"}})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("span",{className:`text-sm font-bold ${t>=50?"text-red-400":"text-emerald-400"}`,children:[t,"%"]})})]})},AF=({opponent:t,onClick:e,isSelected:n})=>{const a=Rl[t.threatLevel]||Rl.medium,r=t.debates?.total>0?Math.round(t.debates.wins/t.debates.total*100):0;return s.jsxs(U.div,{variants:TF,whileHover:{scale:1.02,y:-4},whileTap:{scale:.98},onClick:e,className:`relative group cursor-pointer ${n?"ring-2 ring-cyan-500":""}`,children:[s.jsx("div",{className:`absolute -inset-1 bg-gradient-to-r ${t.threatLevel==="high"?"from-red-500/20 to-orange-500/20":t.threatLevel==="medium"?"from-amber-500/20 to-yellow-500/20":"from-emerald-500/20 to-teal-500/20"} rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-all duration-500`}),s.jsxs("div",{className:"relative p-5 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/80 to-slate-950/80 backdrop-blur-sm hover:border-slate-700/60 transition-all overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-white/5 to-transparent rounded-full -translate-y-1/2 translate-x-1/2"}),s.jsxs("div",{className:"relative flex items-start gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`w-14 h-14 rounded-xl bg-gradient-to-br ${t.threatLevel==="high"?"from-red-500/30 to-orange-600/30":t.threatLevel==="medium"?"from-amber-500/30 to-yellow-600/30":"from-emerald-500/30 to-teal-600/30"} flex items-center justify-center text-2xl font-bold text-white border ${a.bgClass}`,children:t.name?.[0]?.toUpperCase()||"?"}),s.jsx(U.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full ${t.threatLevel==="high"?"bg-red-500":t.threatLevel==="medium"?"bg-amber-500":"bg-emerald-500"} border-2 border-slate-900`})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold text-lg truncate group-hover:text-cyan-400 transition-colors",children:t.name}),s.jsx("p",{className:"text-slate-500 text-sm",children:t.school||"Unknown School"})]}),s.jsx(R_,{level:t.threatLevel,size:"sm"})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[s.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400 text-sm",children:[s.jsx(ak,{className:"w-4 h-4"}),s.jsxs("span",{children:[t.debates?.total||0," debates"]})]}),s.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[s.jsx($t,{className:r>=50?"w-4 h-4 text-red-400":"w-4 h-4 text-emerald-400"}),s.jsxs("span",{className:r>=50?"text-red-400":"text-emerald-400",children:[t.debates?.wins||0,"W - ",t.debates?.losses||0,"L"]})]})]}),(t.strengths?.length>0||t.weaknesses?.length>0)&&s.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[t.strengths?.slice(0,2).map((o,c)=>s.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs bg-red-500/10 text-red-400 border border-red-500/20",children:[" ",o]},c)),t.weaknesses?.slice(0,2).map((o,c)=>s.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",children:[" ",o]},c))]})]}),s.jsx("div",{className:"hidden sm:block",children:s.jsx(CF,{winRate:r})})]}),s.jsx(mn,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-600 group-hover:text-slate-400 group-hover:translate-x-1 transition-all"})]})]})},kF=({opponent:t,onClose:e,onGenerateStrategy:n})=>{const[a,r]=E.useState("overview"),[o,c]=E.useState(!1);if(!t)return null;const d=Rl[t.threatLevel]||Rl.medium;t.debates?.total>0&&Math.round(t.debates.wins/t.debates.total*100);const m=async()=>{c(!0),await n?.(t),c(!1)};return s.jsxs(U.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"h-full overflow-hidden rounded-2xl border border-slate-800/60 bg-gradient-to-b from-slate-900/95 to-slate-950/95 backdrop-blur-xl",children:[s.jsxs("div",{className:"relative p-6 border-b border-slate-800 overflow-hidden",children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${t.threatLevel==="high"?"from-red-500/10 via-transparent to-orange-500/5":t.threatLevel==="medium"?"from-amber-500/10 via-transparent to-yellow-500/5":"from-emerald-500/10 via-transparent to-teal-500/5"}`}),s.jsxs("div",{className:"relative flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${t.threatLevel==="high"?"from-red-500/30 to-orange-600/30":t.threatLevel==="medium"?"from-amber-500/30 to-yellow-600/30":"from-emerald-500/30 to-teal-600/30"} flex items-center justify-center text-3xl font-bold text-white border ${d.bgClass}`,children:t.name?.[0]?.toUpperCase()||"?"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:t.name}),s.jsx("p",{className:"text-slate-400",children:t.school||"Unknown School"}),s.jsx(R_,{level:t.threatLevel,size:"md"})]})]}),s.jsx(U.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:e,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(Qn,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"flex items-center gap-2 p-4 border-b border-slate-800/50",children:[{id:"overview",label:"Overview",icon:Cn},{id:"history",label:"History",icon:qt},{id:"strategy",label:"Strategy",icon:Nl}].map(f=>s.jsxs(U.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r(f.id),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium transition-all ${a===f.id?"bg-slate-800 text-white":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,children:[s.jsx(f.icon,{className:"w-4 h-4"}),f.label]},f.id))}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(100%-200px)] space-y-6",children:[a==="overview"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-800/50 text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-white",children:t.debates?.total||0}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Total Debates"})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-red-400",children:t.debates?.wins||0}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Your Losses"})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-emerald-500/10 border border-emerald-500/20 text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-emerald-400",children:t.debates?.losses||0}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Your Wins"})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[s.jsx(yr,{className:"w-5 h-5 text-red-400"}),"Opponent Strengths"]}),s.jsx("div",{className:"space-y-2",children:t.strengths?.length>0?t.strengths.map((f,x)=>s.jsxs(U.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:x*.1},className:"flex items-center gap-3 p-3 rounded-xl bg-red-500/5 border border-red-500/20",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),s.jsx("span",{className:"text-slate-300",children:f})]},x)):s.jsx("p",{className:"text-slate-500 italic",children:"No strengths recorded yet"})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Ot,{className:"w-5 h-5 text-emerald-400"}),"Opponent Weaknesses"]}),s.jsx("div",{className:"space-y-2",children:t.weaknesses?.length>0?t.weaknesses.map((f,x)=>s.jsxs(U.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:x*.1},className:"flex items-center gap-3 p-3 rounded-xl bg-emerald-500/5 border border-emerald-500/20",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),s.jsx("span",{className:"text-slate-300",children:f})]},x)):s.jsx("p",{className:"text-slate-500 italic",children:"No weaknesses recorded yet"})})]}),t.commonArguments?.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[s.jsx(xn,{className:"w-5 h-5 text-cyan-400"}),"Common Arguments"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.commonArguments.map((f,x)=>s.jsx("span",{className:"px-3 py-1.5 rounded-full text-sm bg-cyan-500/10 text-cyan-400 border border-cyan-500/20",children:f},x))})]})]}),a==="history"&&s.jsx("div",{className:"space-y-4",children:t.debateHistory?.length>0?t.debateHistory.map((f,x)=>s.jsxs(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:x*.05},className:"flex items-center gap-4 p-4 rounded-xl bg-slate-800/30 border border-slate-800/50",children:[s.jsx("div",{className:`w-2 h-12 rounded-full ${f.result==="win"?"bg-emerald-500":"bg-red-500"}`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-medium",children:f.tournament}),s.jsxs("p",{className:"text-slate-500 text-sm",children:[f.round,"  ",f.date]})]}),s.jsx("span",{className:`px-3 py-1 rounded-lg text-sm font-medium ${f.result==="win"?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-400"}`,children:f.result==="win"?"Won":"Lost"})]},x)):s.jsx("p",{className:"text-slate-500 text-center py-8",children:"No debate history recorded"})}),a==="strategy"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx(U.button,{whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(168, 85, 247, 0.3)"},whileTap:{scale:.98},onClick:m,disabled:o,className:"w-full py-4 rounded-xl bg-gradient-to-r from-purple-500 to-pink-600 text-white font-semibold shadow-lg shadow-purple-500/25 flex items-center justify-center gap-3 disabled:opacity-50",children:o?s.jsxs(s.Fragment,{children:[s.jsx(U.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:s.jsx(Cs,{className:"w-5 h-5"})}),"Generating AI Strategy..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nl,{className:"w-5 h-5"}),"Generate AI Counter-Strategy",s.jsx(Cs,{className:"w-5 h-5"})]})}),t.counterStrategies?.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-white font-semibold flex items-center gap-2",children:[s.jsx(Dl,{className:"w-5 h-5 text-purple-400"}),"Counter-Strategies"]}),t.counterStrategies.map((f,x)=>s.jsx(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-purple-500/5 border border-purple-500/20",children:s.jsx("p",{className:"text-slate-300",children:f})},x))]})]})]})]})},RF=({isOpen:t,onClose:e,onSave:n})=>{const[a,r]=E.useState({name:"",school:"",threatLevel:"medium",strengths:"",weaknesses:"",commonArguments:"",notes:""});if(!t)return null;const o=c=>{c.preventDefault(),n({...a,strengths:a.strengths.split(",").map(d=>d.trim()).filter(Boolean),weaknesses:a.weaknesses.split(",").map(d=>d.trim()).filter(Boolean),commonArguments:a.commonArguments.split(",").map(d=>d.trim()).filter(Boolean),debates:{total:0,wins:0,losses:0}}),e()};return s.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:c=>c.target===c.currentTarget&&e(),children:s.jsxs(U.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},className:"w-full max-w-lg bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-800 rounded-3xl shadow-2xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"relative p-6 border-b border-slate-800 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/10 via-transparent to-amber-500/10"}),s.jsxs("div",{className:"relative flex items-center justify-between",children:[s.jsx("div",{children:s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-xl bg-red-500/10 border border-red-500/30",children:s.jsx(Ot,{className:"w-5 h-5 text-red-400"})}),"Add Opponent"]})}),s.jsx(U.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:e,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(Qn,{className:"w-5 h-5"})})]})]}),s.jsxs("form",{onSubmit:o,className:"p-6 space-y-5 overflow-y-auto max-h-[calc(90vh-140px)]",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Name *"}),s.jsx("input",{type:"text",value:a.name,onChange:c=>r({...a,name:c.target.value}),className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"School"}),s.jsx("input",{type:"text",value:a.school,onChange:c=>r({...a,school:c.target.value}),className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Threat Level"}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:Object.entries(Rl).map(([c,d])=>s.jsxs(U.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r({...a,threatLevel:c}),className:`p-3 rounded-xl border-2 transition-all text-center ${a.threatLevel===c?`${d.bgClass} border-current ${d.textClass}`:"bg-slate-800/30 border-slate-700 text-slate-400 hover:border-slate-600"}`,children:[s.jsx(d.icon,{className:`w-6 h-6 mx-auto mb-1 ${a.threatLevel===c?d.textClass:""}`}),s.jsx("span",{className:"text-sm font-medium",children:d.label.split(" ")[0]})]},c))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Strengths (comma-separated)"}),s.jsx("input",{type:"text",value:a.strengths,onChange:c=>r({...a,strengths:c.target.value}),placeholder:"e.g., Strong rebuttals, Fast speaking, Good evidence",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Weaknesses (comma-separated)"}),s.jsx("input",{type:"text",value:a.weaknesses,onChange:c=>r({...a,weaknesses:c.target.value}),placeholder:"e.g., Weak on CX, Poor time management",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Notes"}),s.jsx("textarea",{value:a.notes,onChange:c=>r({...a,notes:c.target.value}),placeholder:"Any additional observations...",rows:3,className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all resize-none"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-800",children:[s.jsx(U.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"px-6 py-3 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:"Cancel"}),s.jsx(U.button,{type:"submit",whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(239, 68, 68, 0.3)"},whileTap:{scale:.98},className:"px-8 py-3 rounded-xl bg-gradient-to-r from-red-500 to-orange-600 text-white font-semibold shadow-lg shadow-red-500/25",children:"Add Opponent"})]})]})]})})},IF=({apiKey:t})=>{const{user:e}=zn(),{opponents:n,loading:a,saveOpponent:r,generateCounterStrategy:o}=lF(),[c,d]=E.useState(!1),[m,f]=E.useState(null),[x,b]=E.useState(""),[v,w]=E.useState("all"),j=E.useMemo(()=>(n||[]).filter(k=>{const V=k.name?.toLowerCase().includes(x.toLowerCase())||k.school?.toLowerCase().includes(x.toLowerCase()),I=v==="all"||k.threatLevel===v;return V&&I}),[n,x,v]),D=async k=>{await r(k)};return s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"h-full",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-red-500/20 to-orange-600/20 border border-red-500/30",children:s.jsx(Ot,{className:"w-7 h-7 text-red-400"})}),"Opponent Intelligence"]}),s.jsx("p",{className:"text-slate-400 mt-2",children:"Track, analyze, and prepare for your competition"})]}),s.jsxs(U.button,{whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(239, 68, 68, 0.3)"},whileTap:{scale:.98},onClick:()=>d(!0),className:"px-5 py-2.5 rounded-xl bg-gradient-to-r from-red-500 to-orange-600 text-white font-medium shadow-lg shadow-red-500/25 flex items-center gap-2",children:[s.jsx(At,{className:"w-5 h-5"}),"Add Opponent"]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Tr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),s.jsx("input",{type:"text",value:x,onChange:k=>b(k.target.value),placeholder:"Search opponents...",className:"w-full pl-12 pr-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),s.jsx("div",{className:"flex items-center gap-2 p-1 bg-slate-900/50 rounded-xl border border-slate-800/50",children:[{id:"all",label:"All"},{id:"high",label:"High",color:"text-red-400"},{id:"medium",label:"Medium",color:"text-amber-400"},{id:"low",label:"Low",color:"text-emerald-400"}].map(k=>s.jsx("button",{onClick:()=>w(k.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${v===k.id?"bg-slate-800 text-white":`text-slate-400 hover:text-white ${k.color||""}`}`,children:k.label},k.id))})]}),a?s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[...Array(4)].map((k,V)=>s.jsx("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 animate-pulse",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-slate-800"}),s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsx("div",{className:"h-5 w-32 bg-slate-800 rounded"}),s.jsx("div",{className:"h-4 w-24 bg-slate-800 rounded"}),s.jsx("div",{className:"h-3 w-full bg-slate-800 rounded"})]})]})},V))}):j.length===0?s.jsx("div",{className:"p-8 rounded-3xl border border-slate-800/60 bg-gradient-to-b from-slate-900/50 to-slate-950/50",children:s.jsx(EF,{onAdd:()=>d(!0)})}):s.jsxs("div",{className:"grid lg:grid-cols-5 gap-6",children:[s.jsx(U.div,{variants:_F,initial:"hidden",animate:"visible",className:`${m?"lg:col-span-3":"lg:col-span-5"} space-y-4`,children:s.jsx("div",{className:`grid ${m?"grid-cols-1":"md:grid-cols-2"} gap-4`,children:j.map(k=>s.jsx(AF,{opponent:k,onClick:()=>f(k),isSelected:m?.id===k.id},k.id))})}),s.jsx(et,{children:m&&s.jsx("div",{className:"lg:col-span-2",children:s.jsx(kF,{opponent:m,onClose:()=>f(null),onGenerateStrategy:o})})})]})]}),s.jsx(et,{children:c&&s.jsx(RF,{isOpen:c,onClose:()=>d(!1),onSave:D})})]})},DF={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.06}}},MF={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.3}}},Qb=({rating:t,onChange:e,readonly:n=!0,size:a="md"})=>{const[r,o]=E.useState(0),c={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return s.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(d=>{const m=(r||t)>=d;return s.jsx(U.button,{type:"button",disabled:n,onClick:()=>!n&&e?.(d),onMouseEnter:()=>!n&&o(d),onMouseLeave:()=>o(0),whileHover:n?{}:{scale:1.2},whileTap:n?{}:{scale:.9},className:n?"cursor-default":"cursor-pointer",children:s.jsx(Xt,{className:`${c[a]} transition-colors ${m?"text-amber-400 fill-amber-400":"text-slate-700"}`})},d)})})},I_=({label:t,color:e="slate",onRemove:n,onClick:a})=>{const r={slate:"bg-slate-800 text-slate-300 hover:bg-slate-700 border-slate-700",cyan:"bg-cyan-500/10 text-cyan-400 hover:bg-cyan-500/20 border-cyan-500/30",emerald:"bg-emerald-500/10 text-emerald-400 hover:bg-emerald-500/20 border-emerald-500/30",purple:"bg-purple-500/10 text-purple-400 hover:bg-purple-500/20 border-purple-500/30",amber:"bg-amber-500/10 text-amber-400 hover:bg-amber-500/20 border-amber-500/30",red:"bg-red-500/10 text-red-400 hover:bg-red-500/20 border-red-500/30",blue:"bg-blue-500/10 text-blue-400 hover:bg-blue-500/20 border-blue-500/30"};return s.jsxs(U.span,{layout:!0,initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},whileHover:{scale:1.05},onClick:a,className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium border ${r[e]} transition-colors cursor-pointer`,children:[s.jsx(ff,{className:"w-3 h-3"}),t,n&&s.jsx("button",{onClick:o=>{o.stopPropagation(),n()},className:"ml-0.5 hover:text-white transition-colors",children:""})]})},OF=({onAdd:t})=>s.jsxs(U.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-20",children:[s.jsxs("div",{className:"relative inline-block mb-8",children:[s.jsx(U.div,{animate:{scale:[1,1.2,1],opacity:[.3,.1,.3]},transition:{duration:3,repeat:1/0},className:"absolute inset-0 w-32 h-32 rounded-full bg-cyan-500/20 blur-xl"}),s.jsx(U.div,{animate:{scale:[1,1.3,1],opacity:[.2,.05,.2]},transition:{duration:3,repeat:1/0,delay:.5},className:"absolute inset-0 w-32 h-32 rounded-full bg-blue-500/20 blur-xl"}),s.jsxs(U.div,{animate:{y:[0,-5,0]},transition:{duration:3,repeat:1/0},className:"relative p-6 rounded-3xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-slate-700/50 backdrop-blur-xl shadow-2xl",children:[s.jsx(Ni,{className:"w-16 h-16 text-cyan-400"}),s.jsx(U.div,{animate:{rotate:[0,10,0,-10,0]},transition:{duration:4,repeat:1/0},className:"absolute -top-2 -right-2",children:s.jsx(Cs,{className:"w-6 h-6 text-amber-400"})})]})]}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Build Your Evidence Arsenal"}),s.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-8 leading-relaxed",children:"Store your best cards, organize by topic, and access them instantly during rounds. Quality evidence wins debates."}),s.jsxs(U.button,{whileHover:{scale:1.05,boxShadow:"0 20px 40px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},onClick:t,className:"px-8 py-4 rounded-2xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold text-lg shadow-lg shadow-cyan-500/25 inline-flex items-center gap-3",children:[s.jsx(At,{className:"w-5 h-5"}),"Add Your First Card",s.jsx(mn,{className:"w-5 h-5"})]})]}),PF=({evidence:t,onClick:e,onCopy:n,isExpanded:a})=>{const[r,o]=E.useState(!1),[c,d]=E.useState(!1),m=x=>{x.stopPropagation(),navigator.clipboard.writeText(t.content),o(!0),setTimeout(()=>o(!1),2e3),n?.()},f=["cyan","purple","emerald","amber","blue","red"];return s.jsxs(U.div,{variants:MF,whileHover:{scale:1.01,y:-4},onClick:e,className:"relative group cursor-pointer",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/10 via-blue-500/10 to-purple-500/10 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-all duration-500"}),s.jsxs("div",{className:"relative p-5 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/80 to-slate-950/80 backdrop-blur-sm hover:border-slate-700/60 transition-all overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-cyan-500/5 to-transparent rounded-full -translate-y-1/2 translate-x-1/2"}),s.jsxs("div",{className:"relative flex items-start justify-between gap-3 mb-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-white font-semibold text-lg truncate group-hover:text-cyan-400 transition-colors",children:t.title}),s.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-slate-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(jl,{className:"w-3.5 h-3.5"}),t.author||"Unknown"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(La,{className:"w-3.5 h-3.5"}),t.year||"N/A"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qb,{rating:t.quality||3,size:"sm"}),s.jsx("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(U.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:m,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:r?s.jsx(es,{className:"w-4 h-4 text-emerald-400"}):s.jsx(Gs,{className:"w-4 h-4"})})})]})]}),s.jsxs("div",{className:"relative mb-4",children:[s.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 rounded-full bg-gradient-to-b from-cyan-500 to-blue-600"}),s.jsxs("p",{className:"pl-4 text-slate-400 text-sm line-clamp-3 leading-relaxed italic",children:['"',t.content,'"']})]}),t.source&&s.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm",children:[s.jsx(uf,{className:"w-4 h-4 text-slate-500"}),s.jsx("span",{className:"text-slate-500 truncate",children:t.source})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.tags?.slice(0,4).map((x,b)=>s.jsx(I_,{label:x,color:f[b%f.length]},x)),t.tags?.length>4&&s.jsxs("span",{className:"text-xs text-slate-500 self-center",children:["+",t.tags.length-4," more"]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-slate-800/50",children:[s.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(xn,{className:"w-3.5 h-3.5"}),"Used ",t.usageCount||0," times"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(qt,{className:"w-3.5 h-3.5"}),t.lastUsed?new Date(t.lastUsed).toLocaleDateString():"Never"]})]}),t.bookmarked&&s.jsx(jj,{className:"w-4 h-4 text-amber-400"})]}),s.jsx(mn,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-600 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]})]})},LF=({evidence:t,format:e="mla"})=>{const[n,a]=E.useState(!1),r=()=>{const{author:c,title:d,source:m,year:f,url:x}=t;switch(e){case"mla":return`${c||"Unknown"}. "${d}." ${m||"N/A"}, ${f||"n.d."}.`;case"apa":return`${c||"Unknown"}. (${f||"n.d."}) ${d}. ${m||"N/A"}.`;case"chicago":return`${c||"Unknown"}. "${d}." ${m||"N/A"} (${f||"n.d."}).`;default:return`${c||"Unknown"} - ${d} (${f||"n.d."})`}},o=()=>{navigator.clipboard.writeText(r()),a(!0),setTimeout(()=>a(!1),2e3)};return s.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/50 border border-slate-700",children:[s.jsx("p",{className:"text-slate-300 text-sm font-mono",children:r()}),s.jsxs(U.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:o,className:"mt-3 px-4 py-2 rounded-lg bg-slate-700 text-white text-sm font-medium hover:bg-slate-600 transition-colors flex items-center gap-2",children:[n?s.jsx(es,{className:"w-4 h-4 text-emerald-400"}):s.jsx(Gs,{className:"w-4 h-4"}),n?"Copied!":"Copy Citation"]})]})},VF=({evidence:t,isOpen:e,onClose:n,onEdit:a,onDelete:r})=>{const[o,c]=E.useState("mla"),[d,m]=E.useState(!1);if(!e||!t)return null;const f=()=>{navigator.clipboard.writeText(t.content),m(!0),setTimeout(()=>m(!1),2e3)};return s.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:x=>x.target===x.currentTarget&&n(),children:s.jsxs(U.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},className:"w-full max-w-3xl bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-800 rounded-3xl shadow-2xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"relative p-6 border-b border-slate-800 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 via-transparent to-blue-500/10"}),s.jsxs("div",{className:"relative flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:t.title}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[s.jsxs("span",{className:"text-slate-400 flex items-center gap-1.5",children:[s.jsx(jl,{className:"w-4 h-4"}),t.author||"Unknown"]}),s.jsxs("span",{className:"text-slate-400 flex items-center gap-1.5",children:[s.jsx(La,{className:"w-4 h-4"}),t.year||"N/A"]}),s.jsx(Qb,{rating:t.quality||3})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(U.button,{whileHover:{scale:1.1},onClick:a,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(Il,{className:"w-5 h-5"})}),s.jsx(U.button,{whileHover:{scale:1.1,rotate:90},onClick:n,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(Qn,{className:"w-5 h-5"})})]})]})]}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)] space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-white font-semibold flex items-center gap-2",children:[s.jsx(MA,{className:"w-5 h-5 text-cyan-400"}),"Evidence Content"]}),s.jsxs(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,className:"px-3 py-1.5 rounded-lg bg-slate-800 text-slate-300 text-sm font-medium hover:bg-slate-700 transition-colors flex items-center gap-2",children:[d?s.jsx(es,{className:"w-4 h-4 text-emerald-400"}):s.jsx(Gs,{className:"w-4 h-4"}),d?"Copied!":"Copy"]})]}),s.jsxs("div",{className:"relative p-5 rounded-xl bg-slate-800/30 border border-slate-800/50",children:[s.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 rounded-full bg-gradient-to-b from-cyan-500 to-blue-600"}),s.jsx("p",{className:"pl-4 text-slate-300 leading-relaxed whitespace-pre-wrap",children:t.content})]})]}),t.source&&s.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-slate-800/30 border border-slate-800/50",children:[s.jsx(uf,{className:"w-5 h-5 text-slate-500"}),s.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-colors flex items-center gap-2",children:[t.source,s.jsx(_j,{className:"w-4 h-4"})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[s.jsx(ff,{className:"w-5 h-5 text-purple-400"}),"Tags"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags?.map((x,b)=>s.jsx(I_,{label:x,color:["cyan","purple","emerald","amber","blue"][b%5]},x))})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[s.jsx(xn,{className:"w-5 h-5 text-amber-400"}),"Citation"]}),s.jsx("div",{className:"flex items-center gap-2 mb-3",children:["mla","apa","chicago"].map(x=>s.jsx("button",{onClick:()=>c(x),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${o===x?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-slate-800 text-slate-400 hover:text-white"}`,children:x.toUpperCase()},x))}),s.jsx(LF,{evidence:t,format:o})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-white",children:t.usageCount||0}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Times Used"})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-white",children:t.quality||0}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Quality Rating"})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-white",children:t.lastUsed?new Date(t.lastUsed).toLocaleDateString():"Never"}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Last Used"})]})]})]})]})})},UF=({isOpen:t,onClose:e,onSave:n})=>{const[a,r]=E.useState({title:"",author:"",year:"",source:"",url:"",content:"",tags:"",quality:3});if(!t)return null;const o=c=>{c.preventDefault(),n({...a,tags:a.tags.split(",").map(d=>d.trim()).filter(Boolean),usageCount:0,createdAt:new Date().toISOString()}),e(),r({title:"",author:"",year:"",source:"",url:"",content:"",tags:"",quality:3})};return s.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:c=>c.target===c.currentTarget&&e(),children:s.jsxs(U.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},className:"w-full max-w-2xl bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-800 rounded-3xl shadow-2xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"relative p-6 border-b border-slate-800 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 via-transparent to-blue-500/10"}),s.jsxs("div",{className:"relative flex items-center justify-between",children:[s.jsx("div",{children:s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-xl bg-cyan-500/10 border border-cyan-500/30",children:s.jsx(Ni,{className:"w-5 h-5 text-cyan-400"})}),"Add Evidence Card"]})}),s.jsx(U.button,{whileHover:{scale:1.1,rotate:90},onClick:e,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(Qn,{className:"w-5 h-5"})})]})]}),s.jsxs("form",{onSubmit:o,className:"p-6 space-y-5 overflow-y-auto max-h-[calc(90vh-140px)]",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Card Title *"}),s.jsx("input",{type:"text",value:a.title,onChange:c=>r({...a,title:c.target.value}),placeholder:"e.g., Climate Change Impact on Economy",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Author"}),s.jsx("input",{type:"text",value:a.author,onChange:c=>r({...a,author:c.target.value}),placeholder:"Author name",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Year"}),s.jsx("input",{type:"text",value:a.year,onChange:c=>r({...a,year:c.target.value}),placeholder:"2024",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Quality"}),s.jsx("div",{className:"pt-2",children:s.jsx(Qb,{rating:a.quality,onChange:c=>r({...a,quality:c}),readonly:!1})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Source / Publication"}),s.jsx("input",{type:"text",value:a.source,onChange:c=>r({...a,source:c.target.value}),placeholder:"e.g., The New York Times, Nature Journal",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"URL (optional)"}),s.jsx("input",{type:"url",value:a.url,onChange:c=>r({...a,url:c.target.value}),placeholder:"https://...",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Evidence Content *"}),s.jsx("textarea",{value:a.content,onChange:c=>r({...a,content:c.target.value}),placeholder:"Paste your evidence card content here...",rows:5,className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all resize-none",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Tags (comma-separated)"}),s.jsx("input",{type:"text",value:a.tags,onChange:c=>r({...a,tags:c.target.value}),placeholder:"e.g., climate, economy, impact, 2024",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-800",children:[s.jsx(U.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"px-6 py-3 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:"Cancel"}),s.jsx(U.button,{type:"submit",whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},className:"px-8 py-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold shadow-lg shadow-cyan-500/25",children:"Add Evidence"})]})]})]})})},zF=({apiKey:t})=>{const{user:e}=zn(),{evidence:n,loading:a,saveEvidence:r,deleteEvidence:o}=oF(),[c,d]=E.useState(!1),[m,f]=E.useState(null),[x,b]=E.useState(""),[v,w]=E.useState("all"),[j,D]=E.useState("recent"),k=E.useMemo(()=>{const I=new Set;return n?.forEach(B=>B.tags?.forEach(Q=>I.add(Q))),Array.from(I)},[n]),V=E.useMemo(()=>{let I=[...n||[]];if(x){const B=x.toLowerCase();I=I.filter(Q=>Q.title?.toLowerCase().includes(B)||Q.content?.toLowerCase().includes(B)||Q.author?.toLowerCase().includes(B)||Q.tags?.some(se=>se.toLowerCase().includes(B)))}switch(v!=="all"&&(I=I.filter(B=>B.tags?.includes(v))),j){case"recent":I.sort((B,Q)=>new Date(Q.createdAt)-new Date(B.createdAt));break;case"quality":I.sort((B,Q)=>(Q.quality||0)-(B.quality||0));break;case"usage":I.sort((B,Q)=>(Q.usageCount||0)-(B.usageCount||0));break;case"alpha":I.sort((B,Q)=>B.title?.localeCompare(Q.title));break}return I},[n,x,v,j]);return s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-600/20 border border-cyan-500/30",children:s.jsx(Ni,{className:"w-7 h-7 text-cyan-400"})}),"Evidence Library"]}),s.jsxs("p",{className:"text-slate-400 mt-2",children:[n?.length||0," cards  Organize and access your research instantly"]})]}),s.jsxs(U.button,{whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},onClick:()=>d(!0),className:"px-5 py-2.5 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-medium shadow-lg shadow-cyan-500/25 flex items-center gap-2",children:[s.jsx(At,{className:"w-5 h-5"}),"Add Card"]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Tr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),s.jsx("input",{type:"text",value:x,onChange:I=>b(I.target.value),placeholder:"Search evidence...",className:"w-full pl-12 pr-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsxs("select",{value:v,onChange:I=>w(I.target.value),className:"px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none transition-all",children:[s.jsx("option",{value:"all",children:"All Tags"}),k.map(I=>s.jsx("option",{value:I,children:I},I))]}),s.jsxs("select",{value:j,onChange:I=>D(I.target.value),className:"px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none transition-all",children:[s.jsx("option",{value:"recent",children:"Most Recent"}),s.jsx("option",{value:"quality",children:"Highest Quality"}),s.jsx("option",{value:"usage",children:"Most Used"}),s.jsx("option",{value:"alpha",children:"Alphabetical"})]})]})]}),a?s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[...Array(4)].map((I,B)=>s.jsx("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 animate-pulse",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-5 w-3/4 bg-slate-800 rounded"}),s.jsx("div",{className:"h-4 w-1/2 bg-slate-800 rounded"}),s.jsx("div",{className:"h-20 bg-slate-800 rounded"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"h-6 w-16 bg-slate-800 rounded-full"}),s.jsx("div",{className:"h-6 w-16 bg-slate-800 rounded-full"})]})]})},B))}):V.length===0?s.jsx("div",{className:"p-8 rounded-3xl border border-slate-800/60 bg-gradient-to-b from-slate-900/50 to-slate-950/50",children:n?.length===0?s.jsx(OF,{onAdd:()=>d(!0)}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Tr,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Results Found"}),s.jsx("p",{className:"text-slate-400",children:"Try adjusting your search or filters"})]})}):s.jsx(U.div,{variants:DF,initial:"hidden",animate:"visible",className:"grid md:grid-cols-2 gap-4",children:V.map(I=>s.jsx(PF,{evidence:I,onClick:()=>f(I)},I.id))})]}),s.jsx(et,{children:c&&s.jsx(UF,{isOpen:c,onClose:()=>d(!1),onSave:r})}),s.jsx(et,{children:m&&s.jsx(VF,{evidence:m,isOpen:!!m,onClose:()=>f(null),onEdit:()=>{},onDelete:()=>o(m.id)})})]})},Cu=["gemini-2.0-flash-exp","gemini-1.5-flash"];async function FF(t,e,n=[]){for(const a of Cu)try{const r=[{text:e}];n.length>0&&n.forEach(d=>{d.base64&&r.push({inline_data:{mime_type:d.mimeType||"image/jpeg",data:d.base64}})});const o=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${a}:generateContent?key=${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:r}]})});if(!o.ok){const d=await o.json().catch(()=>({}));if(a===Cu[Cu.length-1])throw new Error(`Gemini API Error: ${d.error?.message||o.statusText}`);continue}return(await o.json()).candidates?.[0]?.content?.parts?.[0]?.text||""}catch(r){if(a===Cu[Cu.length-1])throw r}}const BF=({show:t})=>t?s.jsx("div",{className:"fixed inset-0 pointer-events-none z-[60]",children:[...Array(50)].map((e,n)=>s.jsx(U.div,{initial:{opacity:1,y:-20,x:Math.random()*window.innerWidth,rotate:0,scale:1},animate:{opacity:0,y:window.innerHeight+100,rotate:720,scale:.5},transition:{duration:3+Math.random()*2,delay:Math.random()*.5,ease:"easeOut"},className:"absolute",style:{width:10+Math.random()*10,height:10+Math.random()*10,background:["#22d3ee","#a855f7","#f97316","#22c55e","#eab308"][Math.floor(Math.random()*5)],borderRadius:Math.random()>.5?"50%":"2px"}},n))}):null,D_=({progress:t,size:e=200,strokeWidth:n=8,color:a="cyan",children:r})=>{const o=(e-n)/2,c=o*2*Math.PI,d=c-t/100*c,m={cyan:{stroke:"stroke-cyan-400",glow:"drop-shadow-[0_0_15px_rgba(34,211,238,0.6)]"},purple:{stroke:"stroke-purple-400",glow:"drop-shadow-[0_0_15px_rgba(168,85,247,0.6)]"},orange:{stroke:"stroke-orange-400",glow:"drop-shadow-[0_0_15px_rgba(251,146,60,0.6)]"},emerald:{stroke:"stroke-emerald-400",glow:"drop-shadow-[0_0_15px_rgba(52,211,153,0.6)]"},amber:{stroke:"stroke-amber-400",glow:"drop-shadow-[0_0_15px_rgba(251,191,36,0.6)]"},red:{stroke:"stroke-red-400",glow:"drop-shadow-[0_0_15px_rgba(248,113,113,0.6)]"}},f=m[a]||m.cyan;return s.jsxs("div",{className:"relative",style:{width:e,height:e},children:[s.jsxs("svg",{className:`transform -rotate-90 ${f.glow}`,width:e,height:e,children:[s.jsx("circle",{cx:e/2,cy:e/2,r:o,stroke:"currentColor",strokeWidth:n,fill:"none",className:"text-slate-800/60"}),s.jsx(U.circle,{cx:e/2,cy:e/2,r:o,stroke:"currentColor",strokeWidth:n,fill:"none",strokeLinecap:"round",className:f.stroke,initial:{strokeDashoffset:c},animate:{strokeDashoffset:d},transition:{duration:.5,ease:"easeOut"},style:{strokeDasharray:c}})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r})]})},$F=({isActive:t,color:e="red"})=>s.jsxs("div",{className:"relative flex items-center justify-center",children:[t&&s.jsxs(s.Fragment,{children:[s.jsx(U.div,{animate:{scale:[1,1.5,1],opacity:[.5,0,.5]},transition:{duration:1.5,repeat:1/0},className:`absolute w-4 h-4 rounded-full bg-${e}-500`}),s.jsx(U.div,{animate:{scale:[1,2,1],opacity:[.3,0,.3]},transition:{duration:1.5,repeat:1/0,delay:.2},className:`absolute w-4 h-4 rounded-full bg-${e}-500`})]}),s.jsx(U.div,{animate:t?{scale:[1,1.1,1]}:{},transition:{duration:.5,repeat:1/0},className:`w-4 h-4 rounded-full ${t?`bg-${e}-500`:"bg-slate-600"}`})]}),qF=({className:t=""})=>s.jsx("div",{className:`animate-pulse bg-gradient-to-r from-slate-800/50 via-slate-700/50 to-slate-800/50 rounded-xl ${t}`}),HF=({value:t,duration:e=1e3})=>{const[n,a]=E.useState(0);return E.useEffect(()=>{if(typeof t!="number")return;let r;const o=c=>{r||(r=c);const d=Math.min((c-r)/e,1);a(Math.floor(d*t)),d<1&&requestAnimationFrame(o)};requestAnimationFrame(o)},[t,e]),s.jsx("span",{children:n})},mm=[{id:"timed-response",name:"Timed Response",description:"Practice speaking for set durations",icon:qt,color:"cyan",gradient:"from-cyan-500/20 to-blue-500/20",borderGlow:"hover:shadow-[0_0_30px_rgba(34,211,238,0.15)]",durations:[30,60,120,180,240]},{id:"refutation",name:"Argument Refutation",description:"Counter arguments under pressure",icon:Ot,color:"purple",gradient:"from-purple-500/20 to-pink-500/20",borderGlow:"hover:shadow-[0_0_30px_rgba(168,85,247,0.15)]",durations:[30,60]},{id:"cross-ex",name:"Cross Examination",description:"Practice CX questions & answers",icon:Ha,color:"orange",gradient:"from-orange-500/20 to-amber-500/20",borderGlow:"hover:shadow-[0_0_30px_rgba(251,146,60,0.15)]",durations:[180]},{id:"impromptu",name:"Impromptu Topics",description:"Random topics, minimal prep",icon:Oj,color:"emerald",gradient:"from-emerald-500/20 to-teal-500/20",borderGlow:"hover:shadow-[0_0_30px_rgba(52,211,153,0.15)]",durations:[120,180,300]}],GF={"timed-response":["Explain why education funding should be increased","Argue for or against social media regulation","Defend the importance of free speech on college campuses","Explain the benefits of renewable energy investment","Argue for or against universal basic income","Discuss the ethics of artificial intelligence","Defend the role of government in healthcare","Explain why immigration reform is necessary"],refutation:[{claim:"Minimum wage increases cause unemployment",side:"oppose"},{claim:"Climate change is the most pressing issue of our time",side:"oppose"},{claim:"Privacy should be sacrificed for national security",side:"oppose"},{claim:"Standardized testing improves education outcomes",side:"oppose"},{claim:"Social media companies should be liable for user content",side:"oppose"},{claim:"Universal healthcare would bankrupt the economy",side:"oppose"}],"cross-ex":[{topic:"Government surveillance",role:"questioner"},{topic:"Criminal justice reform",role:"questioner"},{topic:"Environmental regulations",role:"questioner"},{topic:"Free trade agreements",role:"answerer"},{topic:"Immigration policy",role:"answerer"}],impromptu:["Technology has made us more connected but less social","The pen is mightier than the sword","History repeats itself","Money can't buy happiness","Actions speak louder than words","The ends justify the means","Knowledge is power"]},YF=({onStart:t})=>s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:[s.jsxs("div",{className:"relative w-32 h-32 mx-auto mb-8",children:[s.jsx(U.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute inset-0 rounded-full border-2 border-dashed border-slate-700"}),s.jsx(U.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"absolute inset-4 rounded-full bg-gradient-to-br from-cyan-500/20 to-purple-500/20 border border-cyan-500/30 flex items-center justify-center",children:s.jsx(Ot,{className:"w-12 h-12 text-cyan-400"})}),[0,1,2].map(e=>s.jsx(U.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear",delay:e*1},className:"absolute inset-0",style:{transformOrigin:"center center"},children:s.jsx("div",{className:"absolute w-3 h-3 rounded-full bg-cyan-400",style:{top:0,left:"50%",transform:"translateX(-50%)"}})},e))]}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Ready to Level Up?"}),s.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-8 text-lg",children:"Sharpen your skills with timed drills, refutation practice, and cross-examination simulations."}),s.jsxs(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"group relative px-8 py-4 rounded-2xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-semibold shadow-lg shadow-cyan-500/25 hover:shadow-cyan-500/40 transition-all inline-flex items-center gap-3",children:[s.jsx(Si,{className:"w-5 h-5"}),"Start Your First Drill",s.jsx(U.span,{animate:{x:[0,4,0]},transition:{duration:1,repeat:1/0},children:s.jsx(Hu,{className:"w-5 h-5"})})]})]}),fm=({icon:t,label:e,value:n,color:a,suffix:r=""})=>{const o={cyan:"from-cyan-500/10 via-cyan-500/5 to-transparent border-cyan-500/20",purple:"from-purple-500/10 via-purple-500/5 to-transparent border-purple-500/20",orange:"from-orange-500/10 via-orange-500/5 to-transparent border-orange-500/20",emerald:"from-emerald-500/10 via-emerald-500/5 to-transparent border-emerald-500/20"},c={cyan:"text-cyan-400 bg-cyan-500/10",purple:"text-purple-400 bg-purple-500/10",orange:"text-orange-400 bg-orange-500/10",emerald:"text-emerald-400 bg-emerald-500/10"};return s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-4,scale:1.02},className:`relative overflow-hidden p-5 rounded-2xl bg-gradient-to-br ${o[a]} border backdrop-blur-sm transition-all duration-300`,children:[s.jsx("div",{className:`absolute -top-10 -right-10 w-32 h-32 rounded-full bg-${a}-500/10 blur-3xl`}),s.jsxs("div",{className:"relative flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${c[a]}`,children:s.jsx(t,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsxs("p",{className:`text-2xl font-bold text-${a}-400`,children:[typeof n=="number"?s.jsx(HF,{value:n}):n,r]}),s.jsx("p",{className:"text-slate-400 text-sm mt-0.5",children:e})]})]})]})},QF=({drill:t,onSelect:e,index:n})=>{const a=t.icon;return s.jsxs(U.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},whileHover:{y:-8,scale:1.02},whileTap:{scale:.98},onClick:()=>e(t),className:`group relative w-full p-6 rounded-2xl border border-slate-800/60 bg-gradient-to-br ${t.gradient} backdrop-blur-sm hover:border-${t.color}-500/50 ${t.borderGlow} transition-all duration-500 text-left overflow-hidden`,children:[s.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:s.jsx(U.div,{animate:{rotate:360},transition:{duration:30,repeat:1/0,ease:"linear"},className:`absolute -top-20 -right-20 w-40 h-40 rounded-full bg-${t.color}-500/10 blur-2xl`})}),s.jsxs("div",{className:"relative",children:[s.jsx(U.div,{whileHover:{rotate:[0,-10,10,0],scale:1.1},transition:{duration:.5},className:`w-16 h-16 rounded-2xl bg-${t.color}-500/10 border border-${t.color}-500/30 flex items-center justify-center mb-5 group-hover:shadow-lg group-hover:shadow-${t.color}-500/20 transition-all`,children:s.jsx(a,{className:`w-8 h-8 text-${t.color}-400`})}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-${drill.color}-300 transition-colors",children:t.name}),s.jsx("p",{className:"text-slate-400 text-sm mb-5 line-clamp-2",children:t.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.durations.slice(0,3).map(r=>s.jsx("span",{className:`px-3 py-1.5 rounded-lg bg-slate-800/60 text-slate-300 text-xs font-medium border border-slate-700/50 group-hover:border-${t.color}-500/30 transition-colors`,children:r<60?`${r}s`:`${r/60}m`},r)),t.durations.length>3&&s.jsxs("span",{className:"text-slate-500 text-xs font-medium",children:["+",t.durations.length-3," more"]})]}),s.jsxs(U.div,{initial:{opacity:0,x:-10},whileHover:{opacity:1,x:0},className:`absolute top-6 right-6 flex items-center gap-2 text-${t.color}-400 text-sm font-medium`,children:["Start",s.jsx(mn,{className:"w-4 h-4"})]})]})]})},KF=({drill:t,onSelect:e,onCancel:n})=>{const a=t.icon;return s.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",children:s.jsxs(U.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:`w-full max-w-md bg-gradient-to-br from-slate-900 via-slate-900 to-${t.color}-950/20 border border-slate-800 rounded-3xl shadow-2xl shadow-${t.color}-500/10 p-8`,children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(U.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},className:`w-20 h-20 rounded-2xl bg-${t.color}-500/10 border border-${t.color}-500/30 flex items-center justify-center mx-auto mb-5`,children:s.jsx(a,{className:`w-10 h-10 text-${t.color}-400`})}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:t.name}),s.jsx("p",{className:"text-slate-400 text-sm mt-2",children:"How long do you want to practice?"})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.durations.map((r,o)=>s.jsxs(U.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+o*.1},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(r),className:`group p-5 rounded-2xl bg-slate-800/50 border border-slate-700/50 hover:border-${t.color}-500/50 hover:bg-${t.color}-500/10 transition-all text-center`,children:[s.jsx("span",{className:`text-3xl font-bold text-white group-hover:text-${t.color}-400 transition-colors`,children:r<60?r:r/60}),s.jsx("span",{className:"text-slate-400 text-sm ml-1 block mt-1",children:r<60?"seconds":"minutes"})]},r))}),s.jsx(U.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},onClick:n,className:"w-full mt-6 py-4 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all font-medium",children:"Cancel"})]})})},WF=({duration:t,isRunning:e,onComplete:n})=>{const[a,r]=E.useState(t),[o,c]=E.useState(100);E.useEffect(()=>{r(t),c(100)},[t]),E.useEffect(()=>{if(!e||a<=0){a<=0&&n?.();return}const f=setInterval(()=>{r(x=>{const b=x-1;return c(b/t*100),b})},1e3);return()=>clearInterval(f)},[e,a,t,n]);const d=f=>{const x=Math.floor(f/60),b=f%60;return`${x}:${b.toString().padStart(2,"0")}`},m=()=>o>50?"cyan":o>25?"amber":"red";return s.jsx(D_,{progress:o,size:220,strokeWidth:10,color:m(),children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(U.span,{initial:{scale:1.1,opacity:0},animate:{scale:1,opacity:1},className:`text-5xl font-bold tracking-tight text-${m()}-400`,children:d(a)},a),s.jsx("span",{className:"text-slate-500 text-sm mt-1",children:"remaining"})]})})},XF=({score:t,onContinue:e})=>{const a=t>=90?{icon:Ho,color:"amber",message:"Outstanding!",subtitle:"You're a debate champion!"}:t>=80?{icon:$t,color:"cyan",message:"Excellent!",subtitle:"Top-tier performance!"}:t>=70?{icon:Gu,color:"purple",message:"Great Job!",subtitle:"Keep up the momentum!"}:t>=60?{icon:Xt,color:"emerald",message:"Good Work!",subtitle:"Room to grow, but solid!"}:{icon:Ot,color:"orange",message:"Keep Practicing!",subtitle:"Every session makes you better!"},r=a.icon;return s.jsxs(U.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center py-12",children:[s.jsx(U.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",damping:10},className:`w-28 h-28 rounded-full bg-gradient-to-br from-${a.color}-500/20 to-${a.color}-600/10 border-2 border-${a.color}-500/40 mx-auto mb-6 flex items-center justify-center shadow-xl shadow-${a.color}-500/20`,children:s.jsx(r,{className:`w-14 h-14 text-${a.color}-400`})}),s.jsx(U.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-bold text-white mb-2",children:a.message}),s.jsx(U.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-slate-400 mb-6",children:a.subtitle}),t&&s.jsxs(U.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.5,type:"spring"},className:`inline-flex items-center gap-3 px-6 py-3 rounded-2xl bg-${a.color}-500/10 border border-${a.color}-500/30`,children:[s.jsx(Cs,{className:`w-5 h-5 text-${a.color}-400`}),s.jsx("span",{className:"text-3xl font-bold text-white",children:t}),s.jsx("span",{className:"text-slate-400",children:"/100"})]}),s.jsx(U.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"block mx-auto mt-8 px-8 py-4 rounded-2xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-semibold shadow-lg shadow-cyan-500/25",children:"Continue"})]})},JF=({drill:t,duration:e,prompt:n,onComplete:a,onCancel:r,apiKey:o})=>{const[c,d]=E.useState("prep"),[m,f]=E.useState(!1),[x,b]=E.useState(!1),[v,w]=E.useState(15),[j,D]=E.useState(null),[k,V]=E.useState(!1),[I,B]=E.useState(""),[Q,se]=E.useState(!1),G=E.useRef(null);E.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const te=window.SpeechRecognition||window.webkitSpeechRecognition;G.current=new te,G.current.continuous=!0,G.current.interimResults=!0,G.current.onresult=J=>{let q="";for(let X=J.resultIndex;X<J.results.length;X++)J.results[X].isFinal&&(q+=J.results[X][0].transcript+" ");q&&B(X=>X+q)}}},[]);const R=async()=>{try{b(!0),G.current&&G.current.start()}catch(te){console.error("Error starting recording:",te)}},A=()=>{b(!1),G.current&&G.current.stop()},L=()=>{d("active"),f(!0),R()},T=async()=>{if(f(!1),A(),d("review"),I&&o){V(!0);try{const te=`Analyze this debate practice response. The drill was: "${n}"

The speaker said:
"${I}"

Duration: ${e} seconds

Provide a brief analysis covering:
1. **Content Quality** (1-10): Were the arguments clear and relevant?
2. **Structure** (1-10): Was there a clear organization?
3. **Delivery Estimate** (1-10): Based on word count and sentence structure
4. **Strengths**: What worked well
5. **Areas to Improve**: Specific suggestions
6. **Overall Score**: X/10

Keep the response concise but actionable.`,J=await FF(te,o);D(J);const q=P(J);q&&q>=70&&(se(!0),setTimeout(()=>se(!1),4e3))}catch(te){console.error("Analysis error:",te)}finally{V(!1)}}},C=()=>{const te=j?P(j):null;te&&te>=80?d("celebration"):a({type:t.id,duration:e,prompt:n,transcript:I,analysis:j,score:te})},P=te=>{const J=te.match(/Overall Score[:\s]*(\d+)/i);return J?parseInt(J[1])*10:null},O=t.icon;return s.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 backdrop-blur-xl flex items-center justify-center p-6 overflow-y-auto",children:[s.jsx(BF,{show:Q}),s.jsxs("div",{className:"w-full max-w-3xl",children:[s.jsxs(U.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl bg-${t.color}-500/10 border border-${t.color}-500/30 flex items-center justify-center`,children:s.jsx(O,{className:`w-5 h-5 text-${t.color}-400`})}),t.name]}),s.jsxs("p",{className:"text-slate-400 mt-1",children:[c==="prep"&&"Prepare your response",c==="active"&&"Speak now!",c==="review"&&"Review your performance",c==="celebration"&&"Congratulations!"]})]}),s.jsx(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:r,className:"px-4 py-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all border border-transparent hover:border-slate-700",children:"Exit"})]}),s.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`p-6 rounded-2xl bg-gradient-to-br from-${t.color}-500/10 to-transparent border border-${t.color}-500/20 mb-8`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-2 rounded-lg bg-${t.color}-500/10`,children:s.jsx(Mr,{className:`w-5 h-5 text-${t.color}-400`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-2",children:"Your Prompt"}),s.jsx("p",{className:"text-xl text-white font-medium",children:typeof n=="object"?n.claim||n.topic:n}),typeof n=="object"&&n.role&&s.jsxs("span",{className:`inline-block mt-3 px-4 py-2 rounded-xl text-sm font-medium ${n.role==="questioner"?"bg-purple-500/10 text-purple-400 border border-purple-500/30":"bg-cyan-500/10 text-cyan-400 border border-cyan-500/30"}`,children:["Role: ",n.role.charAt(0).toUpperCase()+n.role.slice(1)]})]})]})}),s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[350px]",children:[c==="prep"&&s.jsxs(U.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[s.jsx(D_,{progress:100,size:180,color:"cyan",children:s.jsx(U.span,{initial:{scale:1.3,opacity:0},animate:{scale:1,opacity:1},className:"text-6xl font-bold text-cyan-400",children:v},v)}),s.jsx("p",{className:"text-slate-400 mt-4 mb-8 text-lg",children:"seconds to prepare"}),s.jsx("div",{className:"flex items-center gap-4 justify-center",children:s.jsxs(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:L,className:"px-10 py-5 rounded-2xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-bold text-lg shadow-lg shadow-cyan-500/30 hover:shadow-cyan-500/50 transition-all flex items-center gap-3",children:[s.jsx(Si,{className:"w-6 h-6"}),"Start Speaking"]})}),s.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[s.jsx("button",{onClick:()=>w(Math.max(5,v-5)),className:"px-4 py-2 rounded-xl bg-slate-800/50 text-slate-400 hover:text-white transition-colors border border-slate-700/50 hover:border-slate-600",children:"-5s"}),s.jsx("button",{onClick:()=>w(v+5),className:"px-4 py-2 rounded-xl bg-slate-800/50 text-slate-400 hover:text-white transition-colors border border-slate-700/50 hover:border-slate-600",children:"+5s"})]})]}),c==="active"&&s.jsxs(U.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center w-full",children:[s.jsx(WF,{duration:e,isRunning:m,onComplete:T}),s.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"flex items-center justify-center gap-4 mt-8",children:[s.jsx($F,{isActive:x}),s.jsx("span",{className:x?"text-red-400 font-medium":"text-slate-500",children:x?"Recording...":"Microphone off"})]}),s.jsxs("div",{className:"flex items-center gap-4 justify-center mt-8",children:[s.jsxs(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>f(!m),className:`px-6 py-3 rounded-xl font-medium transition-all flex items-center gap-2 ${m?"bg-amber-500/10 border border-amber-500/30 text-amber-400 hover:bg-amber-500/20":"bg-emerald-500/10 border border-emerald-500/30 text-emerald-400 hover:bg-emerald-500/20"}`,children:[m?s.jsx(hd,{className:"w-5 h-5"}):s.jsx(Si,{className:"w-5 h-5"}),m?"Pause":"Resume"]}),s.jsxs(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:T,className:"px-6 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-slate-300 hover:text-white hover:bg-slate-800 transition-all flex items-center gap-2",children:[s.jsx(qo,{className:"w-5 h-5"}),"Finish Early"]})]}),I&&s.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-8 p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 max-h-32 overflow-y-auto",children:s.jsx("p",{className:"text-slate-300 text-sm text-left",children:I})})]}),c==="review"&&s.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full space-y-6",children:[I&&s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-5 rounded-2xl bg-slate-800/30 border border-slate-700/50",children:[s.jsxs("h4",{className:"text-sm font-medium text-slate-400 mb-3 flex items-center gap-2",children:[s.jsx(oa,{className:"w-4 h-4"}),"Your Response"]}),s.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:I})]}),k?s.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-12",children:[s.jsx(U.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 rounded-full border-3 border-cyan-500/30 border-t-cyan-500 mb-4"}),s.jsx("span",{className:"text-slate-400",children:"Analyzing your response with AI..."})]}):j?s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-5 rounded-2xl bg-gradient-to-br from-emerald-500/10 to-transparent border border-emerald-500/20",children:[s.jsxs("h4",{className:"text-sm font-medium text-emerald-400 mb-3 flex items-center gap-2",children:[s.jsx(Nl,{className:"w-4 h-4"}),"AI Analysis"]}),s.jsx("div",{className:"text-slate-300 text-sm whitespace-pre-wrap leading-relaxed",children:j})]}):I?null:s.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-800/50 mx-auto mb-4 flex items-center justify-center",children:s.jsx(cA,{className:"w-8 h-8 text-slate-600"})}),s.jsx("p",{className:"text-slate-400",children:"No speech detected. Make sure your microphone is enabled."})]}),s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex items-center justify-center gap-4",children:[s.jsxs(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{d("prep"),B(""),D(null)},className:"px-6 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-slate-300 hover:text-white hover:bg-slate-800 transition-all flex items-center gap-2",children:[s.jsx(_i,{className:"w-5 h-5"}),"Try Again"]}),s.jsxs(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:C,className:"px-6 py-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-semibold shadow-lg shadow-cyan-500/25 hover:shadow-cyan-500/40 transition-all flex items-center gap-2",children:[s.jsx(qo,{className:"w-5 h-5"}),"Save & Exit"]})]})]}),c==="celebration"&&s.jsx(XF,{score:j?P(j):null,onContinue:()=>a({type:t.id,duration:e,prompt:n,transcript:I,analysis:j,score:j?P(j):null})})]})]})]})},ZF=({session:t,drillType:e,index:n})=>{const a=e.icon,r=o=>o>=80?"emerald":o>=60?"cyan":"amber";return s.jsxs(U.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.1},whileHover:{x:4},className:`p-4 rounded-xl bg-gradient-to-r from-${e.color}-500/5 to-transparent border border-slate-800/50 hover:border-${e.color}-500/30 flex items-center gap-4 transition-all`,children:[s.jsx("div",{className:`w-12 h-12 rounded-xl bg-${e.color}-500/10 border border-${e.color}-500/20 flex items-center justify-center`,children:s.jsx(a,{className:`w-6 h-6 text-${e.color}-400`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-medium",children:e.name}),s.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[s.jsxs("span",{className:"text-slate-500 text-sm flex items-center gap-1",children:[s.jsx(qt,{className:"w-3 h-3"}),t.duration,"s"]}),s.jsx("span",{className:"text-slate-600",children:""}),s.jsx("span",{className:"text-slate-500 text-sm",children:new Date(t.createdAt?.toDate?.()||t.createdAt).toLocaleDateString()})]})]}),t.score&&s.jsxs("div",{className:`px-4 py-2 rounded-xl bg-${r(t.score)}-500/10 border border-${r(t.score)}-500/20`,children:[s.jsx("span",{className:`text-lg font-bold text-${r(t.score)}-400`,children:t.score}),s.jsx("span",{className:"text-slate-500 text-sm",children:"/100"})]})]})},eB=({apiKey:t})=>{const{sessions:e,stats:n,loading:a,saveSession:r}=cF(),[o,c]=E.useState(null),[d,m]=E.useState(!1),[f,x]=E.useState(null),b=j=>{c(j),m(!0)},v=j=>{m(!1);const D=GF[o.id],k=D[Math.floor(Math.random()*D.length)];x({drill:o,duration:j,prompt:k})},w=async j=>{await r(j),x(null),c(null)};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs(U.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative",children:[s.jsx("div",{className:"absolute -top-20 -left-20 w-64 h-64 bg-cyan-500/10 rounded-full blur-3xl"}),s.jsxs("div",{className:"relative",children:[s.jsxs("h1",{className:"text-4xl font-bold text-white tracking-tight flex items-center gap-4",children:[s.jsx(U.div,{whileHover:{rotate:180},transition:{duration:.5},className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-cyan-500/20 to-blue-500/20 border border-cyan-500/30 flex items-center justify-center",children:s.jsx(Ot,{className:"w-7 h-7 text-cyan-400"})}),"Practice Mode"]}),s.jsx("p",{className:"text-slate-400 mt-2 text-lg",children:"Sharpen your skills with targeted drills and real-time AI feedback"})]})]}),n&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(fm,{icon:Ot,label:"Total Sessions",value:n.totalSessions,color:"cyan"}),s.jsx(fm,{icon:qt,label:"Practice Time",value:Math.round(n.totalTime/60),suffix:"m",color:"purple"}),s.jsx(fm,{icon:lf,label:"Day Streak",value:n.streak,color:"orange"}),s.jsx(fm,{icon:Xt,label:"Avg Score",value:n.avgScore||"-",color:"emerald"})]}),s.jsxs("div",{children:[s.jsxs(U.h2,{initial:{opacity:0},animate:{opacity:1},className:"text-xl font-bold text-white mb-6 flex items-center gap-3",children:[s.jsx(Qu,{className:"w-5 h-5 text-amber-400"}),"Choose Your Drill"]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-5",children:mm.map((j,D)=>s.jsx(QF,{drill:j,onSelect:b,index:D},j.id))})]}),s.jsxs("div",{children:[s.jsxs(U.h2,{initial:{opacity:0},animate:{opacity:1},className:"text-xl font-bold text-white mb-6 flex items-center gap-3",children:[s.jsx(Cn,{className:"w-5 h-5 text-purple-400"}),"Recent Practice"]}),a?s.jsx("div",{className:"space-y-3",children:[1,2,3].map(j=>s.jsx(qF,{className:"h-20"},j))}):e.length===0?s.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-8 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/50 to-slate-900/30",children:s.jsx(YF,{onStart:()=>b(mm[0])})}):s.jsx("div",{className:"space-y-3",children:e.slice(0,5).map((j,D)=>{const k=mm.find(V=>V.id===j.type)||mm[0];return s.jsx(ZF,{session:j,drillType:k,index:D},j.id||D)})})]}),s.jsxs(et,{children:[d&&o&&s.jsx(KF,{drill:o,onSelect:v,onCancel:()=>{m(!1),c(null)}}),f&&s.jsx(JF,{drill:f.drill,duration:f.duration,prompt:f.prompt,apiKey:t,onComplete:w,onCancel:()=>{x(null),c(null)}})]})]})},tB={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},nB={hidden:{opacity:0,y:10},visible:{opacity:1,y:0}},sB=({role:t})=>{const e={captain:{label:"Captain",icon:Ho,color:"from-amber-500 to-orange-600",bg:"bg-amber-500/10",border:"border-amber-500/30",text:"text-amber-400"},coach:{label:"Coach",icon:Dl,color:"from-purple-500 to-indigo-600",bg:"bg-purple-500/10",border:"border-purple-500/30",text:"text-purple-400"},varsity:{label:"Varsity",icon:Xt,color:"from-cyan-500 to-blue-600",bg:"bg-cyan-500/10",border:"border-cyan-500/30",text:"text-cyan-400"},jv:{label:"JV",icon:Ot,color:"from-emerald-500 to-green-600",bg:"bg-emerald-500/10",border:"border-emerald-500/30",text:"text-emerald-400"},novice:{label:"Novice",icon:Cs,color:"from-slate-400 to-slate-600",bg:"bg-slate-500/10",border:"border-slate-500/30",text:"text-slate-400"}},n=e[t]||e.novice,a=n.icon;return s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${n.bg} ${n.border} ${n.text} border`,children:[s.jsx(a,{className:"w-3 h-3"}),n.label]})},aB=({isOnline:t,size:e="sm"})=>{const n={sm:"w-2.5 h-2.5",md:"w-3 h-3",lg:"w-4 h-4"};return s.jsxs("span",{className:`relative flex ${n[e]}`,children:[t&&s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),s.jsx("span",{className:`relative inline-flex rounded-full ${n[e]} ${t?"bg-emerald-500":"bg-slate-500"}`})]})},M_=({name:t,image:e,size:n="md",showOnline:a,isOnline:r})=>{const o={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-12 h-12 text-base",xl:"w-16 h-16 text-xl"},c=["from-cyan-500 to-blue-600","from-purple-500 to-indigo-600","from-emerald-500 to-green-600","from-amber-500 to-orange-600","from-pink-500 to-rose-600"],d=t?t.charCodeAt(0)%c.length:0,m=t?.split(" ").map(f=>f[0]).join("").toUpperCase().slice(0,2)||"?";return s.jsxs("div",{className:"relative",children:[e?s.jsx("img",{src:e,alt:t,className:`${o[n]} rounded-xl object-cover ring-2 ring-slate-800`}):s.jsx("div",{className:`${o[n]} rounded-xl bg-gradient-to-br ${c[d]} flex items-center justify-center text-white font-bold shadow-lg`,children:m}),a&&s.jsx("div",{className:"absolute -bottom-0.5 -right-0.5",children:s.jsx(aB,{isOnline:r,size:"sm"})})]})},iB=({onCreateTeam:t})=>s.jsxs(U.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-20",children:[s.jsxs("div",{className:"relative inline-block mb-8",children:[s.jsx(U.div,{animate:{scale:[1,1.2,1],opacity:[.3,.1,.3]},transition:{duration:3,repeat:1/0},className:"absolute inset-0 w-32 h-32 rounded-full bg-cyan-500/20 blur-xl"}),s.jsx(U.div,{animate:{scale:[1,1.3,1],opacity:[.2,.05,.2]},transition:{duration:3,repeat:1/0,delay:.5},className:"absolute inset-0 w-32 h-32 rounded-full bg-purple-500/20 blur-xl"}),s.jsxs(U.div,{animate:{y:[0,-5,0]},transition:{duration:3,repeat:1/0},className:"relative p-6 rounded-3xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-slate-700/50 backdrop-blur-xl shadow-2xl",children:[s.jsx(gn,{className:"w-16 h-16 text-cyan-400"}),s.jsx(U.div,{animate:{rotate:[0,10,0,-10,0]},transition:{duration:4,repeat:1/0},className:"absolute -top-2 -right-2",children:s.jsx(Cs,{className:"w-6 h-6 text-amber-400"})})]})]}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Build Your Dream Team"}),s.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-8 leading-relaxed",children:"Collaborate with teammates, share strategies, and prepare for tournaments together. Winning teams communicate."}),s.jsxs(U.button,{whileHover:{scale:1.05,boxShadow:"0 20px 40px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},onClick:t,className:"px-8 py-4 rounded-2xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold text-lg shadow-lg shadow-cyan-500/25 inline-flex items-center gap-3",children:[s.jsx(At,{className:"w-5 h-5"}),"Create or Join Team",s.jsx(mn,{className:"w-5 h-5"})]})]}),rB=({member:t,isCurrentUser:e,onMessage:n,onRemove:a})=>{const[r,o]=E.useState(!1);return s.jsxs(U.div,{variants:nB,whileHover:{scale:1.02,y:-2},className:"relative group",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/5 to-purple-500/5 rounded-2xl blur-lg opacity-0 group-hover:opacity-100 transition-all"}),s.jsx("div",{className:"relative p-4 rounded-xl border border-slate-800/60 bg-gradient-to-br from-slate-900/80 to-slate-950/80 hover:border-slate-700/60 transition-all",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(M_,{name:t.name,image:t.avatar,size:"lg",showOnline:!0,isOnline:t.isOnline}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("h4",{className:"text-white font-semibold truncate",children:[t.name,e&&s.jsx("span",{className:"text-slate-500 ml-1",children:"(You)"})]}),t.isOnline&&s.jsx("span",{className:"text-xs text-emerald-400",children:"Online"})]}),s.jsx("p",{className:"text-slate-500 text-sm truncate",children:t.email}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(sB,{role:t.role}),t.events?.map(c=>s.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-800 text-slate-400",children:c},c))]})]}),s.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx(U.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>n?.(t),className:"p-2 rounded-lg text-slate-400 hover:text-cyan-400 hover:bg-cyan-500/10 transition-all",children:s.jsx(Ha,{className:"w-5 h-5"})}),s.jsxs("div",{className:"relative",children:[s.jsx(U.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>o(!r),className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(fC,{className:"w-5 h-5"})}),r&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)}),s.jsxs("div",{className:"absolute right-0 top-full mt-1 w-40 bg-slate-900 border border-slate-800 rounded-xl shadow-xl z-50 py-1",children:[s.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm text-slate-300 hover:bg-slate-800 flex items-center gap-2",children:[s.jsx(_x,{className:"w-4 h-4"})," View Profile"]}),s.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm text-slate-300 hover:bg-slate-800 flex items-center gap-2",children:[s.jsx(Il,{className:"w-4 h-4"})," Edit Role"]}),!e&&s.jsxs("button",{onClick:()=>a?.(t),className:"w-full px-4 py-2 text-left text-sm text-red-400 hover:bg-red-500/10 flex items-center gap-2",children:[s.jsx(wk,{className:"w-4 h-4"})," Remove"]})]})]})]})]})]})})]})},lB=({message:t,isOwn:e,senderName:n,senderAvatar:a,timestamp:r})=>s.jsxs(U.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},className:`flex gap-3 ${e?"flex-row-reverse":""}`,children:[s.jsx(M_,{name:n,image:a,size:"sm"}),s.jsxs("div",{className:`max-w-[70%] ${e?"items-end":"items-start"}`,children:[s.jsxs("div",{className:`flex items-center gap-2 mb-1 ${e?"flex-row-reverse":""}`,children:[s.jsx("span",{className:"text-sm font-medium text-slate-300",children:n}),s.jsx("span",{className:"text-xs text-slate-500",children:r})]}),s.jsx("div",{className:`p-3 rounded-2xl ${e?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white rounded-br-md":"bg-slate-800 text-slate-200 rounded-bl-md"}`,children:s.jsx("p",{className:"text-sm leading-relaxed",children:t})})]})]}),oB=({teamId:t,members:e})=>{const[n,a]=E.useState([]),[r,o]=E.useState(""),c=E.useRef(null),d=()=>{c.current?.scrollIntoView({behavior:"smooth"})};E.useEffect(()=>{d()},[n]);const m=()=>{r.trim()&&(a([...n,{id:Date.now(),sender:"You",message:r,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),isOwn:!0}]),o(""))};return s.jsxs("div",{className:"flex flex-col h-[500px] rounded-2xl border border-slate-800/60 bg-gradient-to-b from-slate-900/80 to-slate-950/80 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b border-slate-800 bg-slate-900/50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ha,{className:"w-5 h-5 text-cyan-400"}),s.jsx("h3",{className:"text-white font-semibold",children:"Team Chat"}),s.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-emerald-500/10 text-emerald-400 text-xs",children:[e?.filter(f=>f.isOnline).length||0," online"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(U.button,{whileHover:{scale:1.1},className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(Rj,{className:"w-4 h-4"})}),s.jsx(U.button,{whileHover:{scale:1.1},className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(Ck,{className:"w-4 h-4"})})]})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-8",children:[s.jsx("div",{className:"p-3 bg-slate-800/50 rounded-full mb-3",children:s.jsx(Ha,{className:"w-6 h-6 text-slate-500"})}),s.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"No messages yet"}),s.jsx("p",{className:"text-slate-500 text-xs",children:"Start the conversation with your team!"})]}):n.map(f=>s.jsx(lB,{message:f.message,isOwn:f.isOwn,senderName:f.sender,timestamp:f.timestamp},f.id)),s.jsx("div",{ref:c})]}),s.jsx("div",{className:"p-4 border-t border-slate-800 bg-slate-900/50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(U.button,{whileHover:{scale:1.1},className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(wA,{className:"w-5 h-5"})}),s.jsx("input",{type:"text",value:r,onChange:f=>o(f.target.value),onKeyPress:f=>f.key==="Enter"&&m(),placeholder:"Type a message...",className:"flex-1 px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"}),s.jsx(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:m,disabled:!r.trim(),className:"p-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white shadow-lg shadow-cyan-500/25 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(mf,{className:"w-5 h-5"})})]})})]})},cB=({doc:t,onClick:e})=>{const n={case:{icon:xn,color:"text-cyan-400",bg:"bg-cyan-500/10"},evidence:{icon:xn,color:"text-purple-400",bg:"bg-purple-500/10"},strategy:{icon:Ot,color:"text-amber-400",bg:"bg-amber-500/10"},notes:{icon:xn,color:"text-emerald-400",bg:"bg-emerald-500/10"}},a=n[t.type]||n.notes,r=a.icon;return s.jsx(U.div,{whileHover:{scale:1.02,y:-2},onClick:e,className:"p-4 rounded-xl border border-slate-800/60 bg-gradient-to-br from-slate-900/80 to-slate-950/80 hover:border-slate-700/60 transition-all cursor-pointer group",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${a.bg}`,children:s.jsx(r,{className:`w-5 h-5 ${a.color}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-white font-medium truncate group-hover:text-cyan-400 transition-colors",children:t.title}),s.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:["Updated ",t.updatedAt," by ",t.updatedBy]})]}),s.jsx(mn,{className:"w-5 h-5 text-slate-600 group-hover:text-slate-400 transition-colors"})]})})},Sg=({tournament:t})=>{const[e,n]=E.useState([{id:1,text:"Complete Aff case",done:!1},{id:2,text:"Complete Neg blocks",done:!1},{id:3,text:"Update evidence files",done:!1},{id:4,text:"Practice round with team",done:!1},{id:5,text:"Review judge paradigms",done:!1},{id:6,text:"Prepare extension files",done:!1}]),[a,r]=E.useState(""),o=f=>{n(e.map(x=>x.id===f?{...x,done:!x.done}:x))},c=()=>{a.trim()&&(n([...e,{id:Date.now(),text:a,done:!1}]),r(""))},d=e.filter(f=>f.done).length,m=d/e.length*100;return s.jsxs("div",{className:"p-5 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/80 to-slate-950/80",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-amber-500/10",children:s.jsx(Pj,{className:"w-5 h-5 text-amber-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold",children:"Tournament Prep"}),s.jsx("p",{className:"text-slate-500 text-sm",children:t||"Next Tournament"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"text-2xl font-bold text-white",children:[d,"/",e.length]}),s.jsx("p",{className:"text-slate-500 text-xs",children:"tasks complete"})]})]}),s.jsx("div",{className:"h-2 rounded-full bg-slate-800 mb-4 overflow-hidden",children:s.jsx(U.div,{initial:{width:0},animate:{width:`${m}%`},className:"h-full rounded-full bg-gradient-to-r from-cyan-500 to-emerald-500"})}),s.jsx("div",{className:"space-y-2 mb-4 max-h-48 overflow-y-auto",children:e.map(f=>s.jsxs(U.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},className:`flex items-center gap-3 p-3 rounded-lg transition-colors ${f.done?"bg-emerald-500/5":"bg-slate-800/30 hover:bg-slate-800/50"}`,children:[s.jsx(U.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>o(f.id),className:`w-5 h-5 rounded-md border-2 flex items-center justify-center transition-colors ${f.done?"bg-emerald-500 border-emerald-500":"border-slate-600 hover:border-slate-500"}`,children:f.done&&s.jsx(es,{className:"w-3 h-3 text-white"})}),s.jsx("span",{className:`flex-1 text-sm ${f.done?"text-slate-500 line-through":"text-slate-300"}`,children:f.text})]},f.id))}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:a,onChange:f=>r(f.target.value),onKeyPress:f=>f.key==="Enter"&&c(),placeholder:"Add task...",className:"flex-1 px-3 py-2 rounded-lg bg-slate-800/50 border border-slate-700 text-white text-sm placeholder-slate-500 focus:border-cyan-500 outline-none transition-all"}),s.jsx(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:c,className:"p-2 rounded-lg bg-slate-800 text-slate-400 hover:text-white transition-colors",children:s.jsx(At,{className:"w-4 h-4"})})]})]})},uB=()=>{const{user:t}=zn(),{teams:e,createTeam:n}=uF(),[a,r]=E.useState("overview"),[o,c]=E.useState(!1),d=e?.[0],m=d?.members||[],f=d,x=m,b=[{id:"overview",label:"Overview",icon:gn},{id:"chat",label:"Chat",icon:Ha},{id:"documents",label:"Documents",icon:xn},{id:"prep",label:"Prep",icon:Pj}];return!d?s.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-600/20 border border-cyan-500/30",children:s.jsx(gn,{className:"w-7 h-7 text-cyan-400"})}),"Team Collaboration"]}),s.jsx("p",{className:"text-slate-400 mt-2",children:"Work together to dominate every tournament"})]}),s.jsx("div",{className:"p-8 rounded-3xl border border-slate-800/60 bg-gradient-to-b from-slate-900/50 to-slate-950/50",children:s.jsx(iB,{onCreateTeam:()=>n?.({name:"My Team"})})})]})}):s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-600/20 border border-cyan-500/30",children:s.jsx(gn,{className:"w-7 h-7 text-cyan-400"})}),f.name]}),s.jsxs("p",{className:"text-slate-400 mt-2",children:[x.length," members  ",x.filter(w=>w.isOnline).length," online"]})]}),s.jsxs(U.button,{whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},onClick:()=>c(!0),className:"px-5 py-2.5 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-medium shadow-lg shadow-cyan-500/25 flex items-center gap-2",children:[s.jsx(jw,{className:"w-5 h-5"}),"Invite Member"]})]}),s.jsx("div",{className:"flex items-center gap-2 p-1 rounded-xl bg-slate-900/50 border border-slate-800/50 w-fit",children:b.map(w=>s.jsxs("button",{onClick:()=>r(w.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${a===w.id?"bg-slate-800 text-white":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,children:[s.jsx(w.icon,{className:"w-4 h-4"}),w.label]},w.id))}),s.jsxs(et,{mode:"wait",children:[a==="overview"&&s.jsxs(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"grid lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[s.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(gn,{className:"w-5 h-5 text-cyan-400"}),"Team Members"]}),s.jsx(U.div,{variants:tB,initial:"hidden",animate:"visible",className:"space-y-3",children:x.map(w=>s.jsx(rB,{member:w,isCurrentUser:w.name==="You",onMessage:j=>r("chat"),onRemove:()=>console.log("Remove member:",w.id)},w.id))})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"p-5 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/80 to-slate-950/80",children:[s.jsx("h3",{className:"text-white font-semibold mb-4",children:"Team Stats"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-slate-400",children:"Win Rate"}),s.jsxs("span",{className:"text-white font-bold",children:[f?.stats?.winRate||"","%"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-slate-400",children:"Tournaments"}),s.jsx("span",{className:"text-white font-bold",children:f?.stats?.tournaments||0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-slate-400",children:"Trophies"}),s.jsxs("span",{className:"text-white font-bold flex items-center gap-1",children:[s.jsx($t,{className:"w-4 h-4 text-amber-400"})," ",f?.stats?.trophies||0]})]})]})]}),s.jsx(Sg,{tournament:f?.nextTournament||"No upcoming tournament"})]})]},"overview"),a==="chat"&&s.jsx(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:s.jsx(oB,{teamId:f.id,members:x})},"chat"),a==="documents"&&s.jsxs(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(of,{className:"w-5 h-5 text-cyan-400"}),"Shared Documents"]}),s.jsxs(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg bg-slate-800 text-white text-sm font-medium hover:bg-slate-700 transition-colors flex items-center gap-2",children:[s.jsx(md,{className:"w-4 h-4"}),"Upload"]})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:f.documents.map(w=>s.jsx(cB,{doc:w,onClick:()=>{}},w.id))})]},"documents"),a==="prep"&&s.jsxs(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"grid md:grid-cols-2 gap-6",children:[s.jsx(Sg,{tournament:f?.tournaments?.[0]||"Upcoming Tournament"}),s.jsx(Sg,{tournament:f?.tournaments?.[1]||"Next Tournament"})]},"prep")]})]}),s.jsx(et,{children:o&&s.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:w=>w.target===w.currentTarget&&c(!1),children:s.jsxs(U.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"w-full max-w-md bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-800 rounded-3xl shadow-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(jw,{className:"w-5 h-5 text-cyan-400"}),"Invite Team Member"]}),s.jsx(U.button,{whileHover:{scale:1.1,rotate:90},onClick:()=>c(!1),className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(Qn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",placeholder:"teammate@school.edu",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Role"}),s.jsxs("select",{className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none transition-all",children:[s.jsx("option",{value:"novice",children:"Novice"}),s.jsx("option",{value:"jv",children:"JV"}),s.jsx("option",{value:"varsity",children:"Varsity"})]})]}),s.jsx(U.button,{whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},className:"w-full py-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold shadow-lg shadow-cyan-500/25",children:"Send Invitation"})]})]})})})]})},dB=({onAdd:t})=>s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"p-4 rounded-full bg-slate-800/50 border border-slate-700/50 mb-6 mx-auto w-fit",children:s.jsx($t,{className:"w-12 h-12 text-slate-500"})}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Tournaments Scheduled"}),s.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-6",children:"Add upcoming tournaments to track rounds, manage judge preferences, and stay organized."}),s.jsxs("button",{onClick:t,className:"px-6 py-3 rounded-xl bg-cyan-500/10 border border-cyan-500/30 text-cyan-400 font-medium hover:bg-cyan-500/20 transition-all inline-flex items-center gap-2",children:[s.jsx(At,{className:"w-5 h-5"}),"Add Tournament"]})]}),hB=({isOpen:t,onClose:e,onSave:n,tournament:a=null})=>{const[r,o]=E.useState(a||{name:"",date:"",endDate:"",location:"",format:"Public Forum",level:"Local",registrationDeadline:"",notes:"",travelInfo:{flight:"",hotel:"",transportation:""}});if(!t)return null;const c=d=>{d.preventDefault(),n(r),e()};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:s.jsxs(U.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-2xl bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-slate-800",children:s.jsx("h2",{className:"text-xl font-bold text-white",children:a?"Edit Tournament":"Add Tournament"})}),s.jsxs("form",{onSubmit:c,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Tournament Name *"}),s.jsx("input",{type:"text",value:r.name,onChange:d=>o({...r,name:d.target.value}),placeholder:"e.g., Harvard National Forensics Tournament",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Start Date *"}),s.jsx("input",{type:"date",value:r.date,onChange:d=>o({...r,date:d.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"End Date"}),s.jsx("input",{type:"date",value:r.endDate,onChange:d=>o({...r,endDate:d.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Location"}),s.jsx("input",{type:"text",value:r.location,onChange:d=>o({...r,location:d.target.value}),placeholder:"City, State",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Registration Deadline"}),s.jsx("input",{type:"date",value:r.registrationDeadline,onChange:d=>o({...r,registrationDeadline:d.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Format"}),s.jsx("select",{value:r.format,onChange:d=>o({...r,format:d.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",children:["Public Forum","Lincoln-Douglas","Policy","Congress","World Schools","Multiple"].map(d=>s.jsx("option",{value:d,children:d},d))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Level"}),s.jsx("select",{value:r.level,onChange:d=>o({...r,level:d.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",children:["Local","Regional","State","National","International"].map(d=>s.jsx("option",{value:d,children:d},d))})]})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50",children:[s.jsxs("h3",{className:"text-sm font-medium text-slate-400 mb-4 flex items-center gap-2",children:[s.jsx(Ij,{className:"w-4 h-4"}),"Travel Information (Optional)"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"text",value:r.travelInfo.flight,onChange:d=>o({...r,travelInfo:{...r.travelInfo,flight:d.target.value}}),placeholder:"Flight details",className:"w-full px-3 py-2 rounded-lg bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 text-sm focus:border-cyan-500 outline-none"}),s.jsx("input",{type:"text",value:r.travelInfo.hotel,onChange:d=>o({...r,travelInfo:{...r.travelInfo,hotel:d.target.value}}),placeholder:"Hotel/accommodation",className:"w-full px-3 py-2 rounded-lg bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 text-sm focus:border-cyan-500 outline-none"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Notes"}),s.jsx("textarea",{value:r.notes,onChange:d=>o({...r,notes:d.target.value}),placeholder:"Additional notes...",rows:3,className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none resize-none"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-800",children:[s.jsx("button",{type:"button",onClick:e,className:"px-5 py-2.5 rounded-xl text-slate-400 hover:text-white transition-colors",children:"Cancel"}),s.jsxs("button",{type:"submit",className:"px-6 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors",children:[a?"Update":"Add"," Tournament"]})]})]})]})})},mB=({tournament:t,onEdit:e,onDelete:n,onClick:a})=>{const r=new Date(t.date),o=r>new Date,c=Math.ceil((r-new Date)/(1e3*60*60*24)),d={Local:"bg-slate-500/10 text-slate-400 border-slate-500/30",Regional:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30",State:"bg-purple-500/10 text-purple-400 border-purple-500/30",National:"bg-amber-500/10 text-amber-400 border-amber-500/30",International:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30"};return s.jsxs(U.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:a,className:"p-5 rounded-2xl border border-slate-800/60 bg-slate-900/30 hover:border-slate-700/60 transition-all cursor-pointer group",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"w-14 h-14 rounded-xl bg-cyan-500/10 border border-cyan-500/20 flex flex-col items-center justify-center",children:[s.jsx("span",{className:"text-xs text-cyan-400 font-medium",children:r.toLocaleString("default",{month:"short"}).toUpperCase()}),s.jsx("span",{className:"text-xl font-bold text-white",children:r.getDate()})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white group-hover:text-cyan-400 transition-colors",children:t.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 text-slate-400 text-sm",children:[s.jsx(rc,{className:"w-3 h-3"}),t.location||"TBD"]})]})]}),s.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium border ${d[t.level]}`,children:t.level})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("span",{className:"text-slate-400 flex items-center gap-1",children:[s.jsx($t,{className:"w-4 h-4"}),t.format]}),t.rounds?.length>0&&s.jsxs("span",{className:"text-slate-400 flex items-center gap-1",children:[s.jsx(Ot,{className:"w-4 h-4"}),t.rounds.length," rounds"]})]}),o&&c<=14&&s.jsxs("div",{className:`mt-4 px-3 py-2 rounded-lg text-sm flex items-center gap-2 ${c<=3?"bg-red-500/10 border border-red-500/20 text-red-400":"bg-amber-500/10 border border-amber-500/20 text-amber-400"}`,children:[s.jsx(ts,{className:"w-4 h-4"}),c===0?"Today!":c===1?"Tomorrow!":`${c} days away`]}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-slate-800/50",children:[s.jsx("div",{className:"flex items-center gap-2",children:t.rounds?.length>0?s.jsxs("span",{className:"text-emerald-400 text-sm flex items-center gap-1",children:[s.jsx(qo,{className:"w-4 h-4"}),"Tracking"]}):s.jsxs("span",{className:"text-slate-500 text-sm flex items-center gap-1",children:[s.jsx(nC,{className:"w-4 h-4"}),"No rounds yet"]})}),s.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:m=>{m.stopPropagation(),e(t)},className:"p-1.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",children:s.jsx(Il,{className:"w-4 h-4"})}),s.jsx("button",{onClick:m=>{m.stopPropagation(),n(t.id)},className:"p-1.5 rounded-lg text-slate-400 hover:text-red-400 hover:bg-red-500/10 transition-all",children:s.jsx(Un,{className:"w-4 h-4"})})]})]})]})},fB=({tournament:t,onBack:e,onAddRound:n,onUpdateTournament:a})=>{const[r,o]=E.useState(!1),c=t.rounds||[],d=c.filter(f=>f.result==="win").length,m=c.filter(f=>f.result==="loss").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:e,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",children:s.jsx(Sj,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:t.name}),s.jsxs("div",{className:"flex items-center gap-3 mt-1 text-slate-400",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(La,{className:"w-4 h-4"}),new Date(t.date).toLocaleDateString()]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(rc,{className:"w-4 h-4"}),t.location||"TBD"]})]})]})]}),s.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors flex items-center gap-2",children:[s.jsx(At,{className:"w-5 h-5"}),"Add Round"]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-xl bg-slate-900/30 border border-slate-800/50 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-white",children:c.length}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Rounds"})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-emerald-500/10 border border-emerald-500/20 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:d}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Wins"})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-red-400",children:m}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Losses"})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-cyan-500/10 border border-cyan-500/20 text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-cyan-400",children:[c.length>0?(d/c.length*100).toFixed(0):0,"%"]}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Win Rate"})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Round History"}),c.length===0?s.jsxs("div",{className:"text-center py-12 rounded-xl bg-slate-900/30 border border-slate-800/50",children:[s.jsx(Ot,{className:"w-10 h-10 text-slate-600 mx-auto mb-3"}),s.jsx("p",{className:"text-slate-400",children:"No rounds recorded yet"}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Add your first round to start tracking"})]}):s.jsx("div",{className:"space-y-3",children:c.map((f,x)=>s.jsxs("div",{className:"p-4 rounded-xl bg-slate-900/30 border border-slate-800/50 flex items-center gap-4",children:[s.jsx("div",{className:`w-2 h-12 rounded-full ${f.result==="win"?"bg-emerald-500":"bg-red-500"}`}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white font-medium",children:f.roundName}),s.jsx("span",{className:"text-slate-500",children:""}),s.jsx("span",{className:"text-slate-400",children:f.side})]}),s.jsxs("p",{className:"text-slate-500 text-sm",children:["vs ",f.opponent||"Unknown"," ",f.opponentSchool&&`(${f.opponentSchool})`]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${f.result==="win"?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-400"}`,children:f.result==="win"?"Win":"Loss"}),f.speakerPoints&&s.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:[f.speakerPoints," speaks"]})]})]},f.id||x))})]}),(t.travelInfo?.flight||t.travelInfo?.hotel)&&s.jsxs("div",{className:"p-4 rounded-xl bg-slate-900/30 border border-slate-800/50",children:[s.jsxs("h3",{className:"text-sm font-medium text-slate-400 mb-3 flex items-center gap-2",children:[s.jsx(Ij,{className:"w-4 h-4"}),"Travel Information"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[t.travelInfo.flight&&s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-slate-500",children:"Flight:"}),s.jsx("span",{className:"text-slate-300",children:t.travelInfo.flight})]}),t.travelInfo.hotel&&s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-slate-500",children:"Hotel:"}),s.jsx("span",{className:"text-slate-300",children:t.travelInfo.hotel})]})]})]}),s.jsx(et,{children:r&&s.jsx(pB,{isOpen:r,onClose:()=>o(!1),onSave:f=>n(t.id,f)})})]})},pB=({isOpen:t,onClose:e,onSave:n})=>{const[a,r]=E.useState({roundName:"Round 1",opponent:"",opponentSchool:"",side:"Pro",result:"win",speakerPoints:"",judge:"",notes:""});if(!t)return null;const o=c=>{c.preventDefault(),n({...a,speakerPoints:a.speakerPoints?parseFloat(a.speakerPoints):null}),e()};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:s.jsxs(U.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-md bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl",children:[s.jsx("div",{className:"p-6 border-b border-slate-800",children:s.jsx("h2",{className:"text-xl font-bold text-white",children:"Add Round"})}),s.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Round"}),s.jsx("select",{value:a.roundName,onChange:c=>r({...a,roundName:c.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",children:["Round 1","Round 2","Round 3","Round 4","Round 5","Round 6","Octofinals","Quarterfinals","Semifinals","Finals"].map(c=>s.jsx("option",{value:c,children:c},c))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Opponent"}),s.jsx("input",{type:"text",value:a.opponent,onChange:c=>r({...a,opponent:c.target.value}),placeholder:"Name",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"School"}),s.jsx("input",{type:"text",value:a.opponentSchool,onChange:c=>r({...a,opponentSchool:c.target.value}),placeholder:"School",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Side"}),s.jsxs("select",{value:a.side,onChange:c=>r({...a,side:c.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",children:[s.jsx("option",{value:"Pro",children:"Pro"}),s.jsx("option",{value:"Con",children:"Con"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Result"}),s.jsxs("select",{value:a.result,onChange:c=>r({...a,result:c.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",children:[s.jsx("option",{value:"win",children:"Win"}),s.jsx("option",{value:"loss",children:"Loss"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Speaks"}),s.jsx("input",{type:"number",step:"0.1",value:a.speakerPoints,onChange:c=>r({...a,speakerPoints:c.target.value}),placeholder:"28.5",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Judge"}),s.jsx("input",{type:"text",value:a.judge,onChange:c=>r({...a,judge:c.target.value}),placeholder:"Judge name",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:e,className:"px-5 py-2.5 rounded-xl text-slate-400 hover:text-white transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors",children:"Add Round"})]})]})]})})},gB=({judges:t,onAddJudge:e,onUpdateJudge:n})=>{const[a,r]=E.useState(!1);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(hs,{className:"w-5 h-5 text-cyan-400"}),"Judge Preferences"]}),s.jsxs("button",{onClick:()=>r(!0),className:"px-4 py-2 rounded-xl bg-cyan-500/10 border border-cyan-500/30 text-cyan-400 hover:bg-cyan-500/20 transition-all flex items-center gap-2 text-sm",children:[s.jsx(At,{className:"w-4 h-4"}),"Add Judge"]})]}),t.length===0?s.jsxs("div",{className:"text-center py-8 rounded-xl bg-slate-900/30 border border-slate-800/50",children:[s.jsx(hs,{className:"w-10 h-10 text-slate-600 mx-auto mb-3"}),s.jsx("p",{className:"text-slate-400",children:"No judges recorded yet"}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Track judge preferences to adapt your strategy"})]}):s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:t.map(o=>s.jsxs("div",{className:"p-4 rounded-xl bg-slate-900/30 border border-slate-800/50",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-medium",children:o.name}),s.jsx("p",{className:"text-slate-500 text-sm",children:o.affiliation})]}),s.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(c=>s.jsx(Xt,{className:`w-4 h-4 ${c<=o.rating?"text-amber-400 fill-current":"text-slate-700"}`},c))})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[o.paradigm&&s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-slate-500",children:"Paradigm:"}),s.jsx("span",{className:"text-slate-300",children:o.paradigm})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.jsxs("span",{className:`flex items-center gap-1 text-xs ${o.leansPro?"text-emerald-400":"text-slate-500"}`,children:[s.jsx(hk,{className:"w-3 h-3"}),"Pro"]}),s.jsxs("span",{className:`flex items-center gap-1 text-xs ${o.leansCon?"text-red-400":"text-slate-500"}`,children:[s.jsx(uk,{className:"w-3 h-3"}),"Con"]}),s.jsxs("span",{className:`flex items-center gap-1 text-xs ${!o.leansPro&&!o.leansCon?"text-cyan-400":"text-slate-500"}`,children:[s.jsx(lc,{className:"w-3 h-3"}),"Neutral"]})]})]})]},o.id))}),s.jsx(et,{children:a&&s.jsx(xB,{isOpen:a,onClose:()=>r(!1),onSave:e})})]})},xB=({isOpen:t,onClose:e,onSave:n})=>{const[a,r]=E.useState({name:"",affiliation:"",paradigm:"",rating:3,leansPro:!1,leansCon:!1,notes:""});if(!t)return null;const o=c=>{c.preventDefault(),n(a),e(),r({name:"",affiliation:"",paradigm:"",rating:3,leansPro:!1,leansCon:!1,notes:""})};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:s.jsxs(U.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-md bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl",children:[s.jsx("div",{className:"p-6 border-b border-slate-800",children:s.jsx("h2",{className:"text-xl font-bold text-white",children:"Add Judge"})}),s.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Name *"}),s.jsx("input",{type:"text",value:a.name,onChange:c=>r({...a,name:c.target.value}),placeholder:"Judge name",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Affiliation"}),s.jsx("input",{type:"text",value:a.affiliation,onChange:c=>r({...a,affiliation:c.target.value}),placeholder:"School/Organization",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Rating"}),s.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(c=>s.jsx("button",{type:"button",onClick:()=>r({...a,rating:c}),className:"p-1",children:s.jsx(Xt,{className:`w-6 h-6 ${c<=a.rating?"text-amber-400 fill-current":"text-slate-700"}`})},c))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Paradigm"}),s.jsx("textarea",{value:a.paradigm,onChange:c=>r({...a,paradigm:c.target.value}),placeholder:"Judge's preferred arguments, style preferences...",rows:3,className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none resize-none"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:e,className:"px-5 py-2.5 rounded-xl text-slate-400 hover:text-white transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors",children:"Add Judge"})]})]})]})})},bB=({apiKey:t})=>{const{tournaments:e,loading:n,addTournament:a,updateTournament:r,deleteTournament:o,addRound:c}=dF(),{judges:d,addJudge:m,updateJudge:f}=hF(),[x,b]=E.useState(!1),[v,w]=E.useState(null),[j,D]=E.useState(null),[k,V]=E.useState("upcoming"),I=E.useMemo(()=>e.filter(se=>new Date(se.date)>=new Date).sort((se,G)=>new Date(se.date)-new Date(G.date)),[e]),B=E.useMemo(()=>e.filter(se=>new Date(se.date)<new Date).sort((se,G)=>new Date(G.date)-new Date(se.date)),[e]),Q=async se=>{v?(await r(v.id,se),w(null)):await a(se),b(!1)};return j?s.jsx(fB,{tournament:j,onBack:()=>D(null),onAddRound:c,onUpdateTournament:r}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[s.jsx($t,{className:"w-8 h-8 text-cyan-400"}),"Tournaments"]}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Manage your tournament schedule and track rounds"})]}),s.jsxs("button",{onClick:()=>b(!0),className:"px-4 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors flex items-center gap-2",children:[s.jsx(At,{className:"w-5 h-5"}),"Add Tournament"]})]}),s.jsx("div",{className:"flex items-center gap-2 p-1 bg-slate-900/50 rounded-xl border border-slate-800/50 w-fit",children:[{id:"upcoming",label:`Upcoming (${I.length})`},{id:"past",label:`Past (${B.length})`},{id:"judges",label:`Judges (${d.length})`}].map(se=>s.jsx("button",{onClick:()=>V(se.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${k===se.id?"bg-slate-800 text-white":"text-slate-400 hover:text-white"}`,children:se.label},se.id))}),n?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(Yu,{className:"w-8 h-8 text-cyan-400 animate-spin"})}):k==="judges"?s.jsx(gB,{judges:d,onAddJudge:m,onUpdateJudge:f}):s.jsx(s.Fragment,{children:(k==="upcoming"?I:B).length===0?s.jsx("div",{className:"p-8 rounded-2xl border border-slate-800/60 bg-slate-900/30",children:s.jsx(dB,{onAdd:()=>b(!0)})}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:(k==="upcoming"?I:B).map(se=>s.jsx(mB,{tournament:se,onClick:()=>D(se),onEdit:G=>{w(G),b(!0)},onDelete:o},se.id))})}),s.jsx(et,{children:x&&s.jsx(hB,{isOpen:x,onClose:()=>{b(!1),w(null)},onSave:Q,tournament:v})})]})},cd={claim:{label:"Claim",color:"from-cyan-500 to-blue-600",bgColor:"bg-cyan-500/10",borderColor:"border-cyan-500/50",textColor:"text-cyan-400",icon:Ot,description:"Main argument assertion"},evidence:{label:"Evidence",color:"from-emerald-500 to-green-600",bgColor:"bg-emerald-500/10",borderColor:"border-emerald-500/50",textColor:"text-emerald-400",icon:xn,description:"Supporting data or facts"},warrant:{label:"Warrant",color:"from-purple-500 to-indigo-600",bgColor:"bg-purple-500/10",borderColor:"border-purple-500/50",textColor:"text-purple-400",icon:Mr,description:"Reasoning connecting evidence to claim"},impact:{label:"Impact",color:"from-amber-500 to-orange-600",bgColor:"bg-amber-500/10",borderColor:"border-amber-500/50",textColor:"text-amber-400",icon:yr,description:"Significance or consequence"},response:{label:"Response",color:"from-red-500 to-rose-600",bgColor:"bg-red-500/10",borderColor:"border-red-500/50",textColor:"text-red-400",icon:Dl,description:"Counter-argument or rebuttal"},question:{label:"Question",color:"from-slate-400 to-slate-600",bgColor:"bg-slate-500/10",borderColor:"border-slate-500/50",textColor:"text-slate-400",icon:Sx,description:"Cross-examination point"}},nf={supports:{label:"Supports",color:"#22c55e",dash:!1},attacks:{label:"Attacks",color:"#ef4444",dash:!1},responds:{label:"Responds",color:"#f59e0b",dash:!0},leads_to:{label:"Leads To",color:"#8b5cf6",dash:!1},questions:{label:"Questions",color:"#64748b",dash:!0}},hj=()=>`node_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,yB=(t,e,n,a)=>{const r=Math.abs(n-t)*.3;return`M ${t} ${e} C ${t+r} ${e}, ${n-r} ${a}, ${n} ${a}`},vB=({node:t,isSelected:e,isDragging:n,onSelect:a,onDragStart:r,onDrag:o,onDragEnd:c,onEdit:d,onDelete:m,onStartConnection:f,onEndConnection:x,isConnecting:b,scale:v})=>{const w=E.useRef(null),[j,D]=E.useState(!1),[k,V]=E.useState({x:0,y:0}),I=cd[t.type]||cd.claim,B=I.icon,Q=A=>{if(A.button!==0)return;A.stopPropagation();const L=w.current.getBoundingClientRect();V({x:A.clientX-L.left,y:A.clientY-L.top}),D(!0),r?.(t.id),a?.(t.id)},se=E.useCallback(A=>{if(!j)return;const L=(A.clientX-k.x)/v,T=(A.clientY-k.y)/v;o?.(t.id,L,T)},[j,k,v,t.id,o]),G=E.useCallback(()=>{j&&(D(!1),c?.(t.id))},[j,t.id,c]);E.useEffect(()=>{if(j)return window.addEventListener("mousemove",se),window.addEventListener("mouseup",G),()=>{window.removeEventListener("mousemove",se),window.removeEventListener("mouseup",G)}},[j,se,G]);const R=(A,L)=>{A.stopPropagation(),b?x?.(t.id):L&&f?.(t.id)};return s.jsxs(U.div,{ref:w,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1,boxShadow:e?"0 0 0 2px rgba(6, 182, 212, 0.5), 0 20px 40px rgba(0, 0, 0, 0.3)":"0 10px 30px rgba(0, 0, 0, 0.2)"},style:{position:"absolute",left:t.x,top:t.y,cursor:j?"grabbing":"grab",zIndex:e?100:j?99:10},className:`
        w-64 rounded-xl border backdrop-blur-sm
        ${I.bgColor} ${I.borderColor}
        ${e?"ring-2 ring-cyan-500/50":""}
        transition-shadow duration-200
      `,onMouseDown:Q,children:[s.jsx("div",{className:`
          absolute -left-2 top-1/2 -translate-y-1/2 w-4 h-4 rounded-full 
          bg-slate-700 border-2 border-slate-500 cursor-crosshair
          hover:bg-cyan-500 hover:border-cyan-400 hover:scale-125
          transition-all duration-200
          ${b?"animate-pulse bg-cyan-500 border-cyan-400":""}
        `,onClick:A=>R(A,!1)}),s.jsx("div",{className:`
          absolute -right-2 top-1/2 -translate-y-1/2 w-4 h-4 rounded-full 
          bg-slate-700 border-2 border-slate-500 cursor-crosshair
          hover:bg-emerald-500 hover:border-emerald-400 hover:scale-125
          transition-all duration-200
        `,onClick:A=>R(A,!0)}),s.jsxs("div",{className:`flex items-center gap-2 p-3 border-b ${I.borderColor}`,children:[s.jsx("div",{className:`p-1.5 rounded-lg bg-gradient-to-br ${I.color}`,children:s.jsx(B,{className:"w-4 h-4 text-white"})}),s.jsx("span",{className:`text-xs font-semibold ${I.textColor} uppercase tracking-wider`,children:I.label}),s.jsxs("div",{className:"ml-auto flex items-center gap-1",children:[s.jsx("button",{onClick:A=>{A.stopPropagation(),d?.(t)},className:"p-1 rounded hover:bg-slate-700/50 text-slate-400 hover:text-white transition-colors",children:s.jsx(Il,{className:"w-3.5 h-3.5"})}),s.jsx("button",{onClick:A=>{A.stopPropagation(),m?.(t.id)},className:"p-1 rounded hover:bg-red-500/20 text-slate-400 hover:text-red-400 transition-colors",children:s.jsx(Un,{className:"w-3.5 h-3.5"})})]})]}),s.jsxs("div",{className:"p-3",children:[s.jsx("h4",{className:"text-white font-medium text-sm mb-1 line-clamp-2",children:t.title||"Untitled"}),t.content&&s.jsx("p",{className:"text-slate-400 text-xs line-clamp-3",children:t.content})]}),t.source&&s.jsx("div",{className:"px-3 pb-3",children:s.jsxs("p",{className:"text-slate-500 text-[10px] truncate",children:["Source: ",t.source]})})]})},wB=({connection:t,nodes:e,isSelected:n,onSelect:a,onDelete:r})=>{const o=e.find(D=>D.id===t.from),c=e.find(D=>D.id===t.to);if(!o||!c)return null;const d=o.x+256+8,m=o.y+50,f=c.x-8,x=c.y+50,b=nf[t.type]||nf.supports,v=yB(d,m,f,x),w=(d+f)/2,j=(m+x)/2;return s.jsxs("g",{className:"cursor-pointer",onClick:()=>a?.(t.id),children:[s.jsx("path",{d:v,fill:"none",stroke:b.color,strokeWidth:n?3:2,strokeDasharray:b.dash?"8 4":"none",className:"transition-all duration-200",style:{filter:n?"drop-shadow(0 0 8px currentColor)":"none"}}),s.jsx("circle",{cx:f,cy:x,r:4,fill:b.color}),s.jsxs("g",{transform:`translate(${w}, ${j})`,children:[s.jsx("rect",{x:-30,y:-10,width:60,height:20,rx:4,fill:"#1e293b",stroke:b.color,strokeWidth:1,opacity:.9}),s.jsx("text",{textAnchor:"middle",dominantBaseline:"middle",fill:b.color,fontSize:10,fontWeight:500,children:b.label})]}),n&&s.jsxs("g",{transform:`translate(${w+40}, ${j})`,onClick:D=>{D.stopPropagation(),r?.(t.id)},className:"cursor-pointer",children:[s.jsx("circle",{r:10,fill:"#ef4444"}),s.jsx("text",{textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:12,children:""})]})]})},NB=({isOpen:t,onClose:e,onAdd:n,editNode:a})=>{const[r,o]=E.useState({type:"claim",title:"",content:"",source:""});if(E.useEffect(()=>{o(a?{type:a.type||"claim",title:a.title||"",content:a.content||"",source:a.source||""}:{type:"claim",title:"",content:"",source:""})},[a,t]),!t)return null;const c=d=>{d.preventDefault(),n(r,a?.id),e()};return s.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:d=>d.target===d.currentTarget&&e(),children:s.jsxs(U.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},className:"w-full max-w-lg bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-800 rounded-3xl shadow-2xl overflow-hidden",children:[s.jsxs("div",{className:"relative p-6 border-b border-slate-800",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 via-transparent to-purple-500/10"}),s.jsxs("div",{className:"relative flex items-center justify-between",children:[s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-600/20 border border-cyan-500/30",children:s.jsx(cf,{className:"w-5 h-5 text-cyan-400"})}),a?"Edit Node":"Add Node"]}),s.jsx(U.button,{whileHover:{scale:1.1,rotate:90},onClick:e,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(Qn,{className:"w-5 h-5"})})]})]}),s.jsxs("form",{onSubmit:c,className:"p-6 space-y-5",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Node Type"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:Object.entries(cd).map(([d,m])=>{const f=m.icon;return s.jsxs("button",{type:"button",onClick:()=>o({...r,type:d}),className:`
                      p-3 rounded-xl border transition-all text-left
                      ${r.type===d?`${m.bgColor} ${m.borderColor} ${m.textColor}`:"bg-slate-800/30 border-slate-700 text-slate-400 hover:bg-slate-800/50"}
                    `,children:[s.jsx(f,{className:"w-5 h-5 mb-1"}),s.jsx("p",{className:"text-xs font-medium",children:m.label})]},d)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Title *"}),s.jsx("input",{type:"text",value:r.title,onChange:d=>o({...r,title:d.target.value}),placeholder:"Enter node title...",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Content"}),s.jsx("textarea",{value:r.content,onChange:d=>o({...r,content:d.target.value}),placeholder:"Add details or explanation...",rows:3,className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all resize-none"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Source (optional)"}),s.jsx("input",{type:"text",value:r.source,onChange:d=>o({...r,source:d.target.value}),placeholder:"Citation or reference...",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-800",children:[s.jsx(U.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"px-6 py-3 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:"Cancel"}),s.jsx(U.button,{type:"submit",whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},className:"px-8 py-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold shadow-lg shadow-cyan-500/25",children:a?"Save Changes":"Add Node"})]})]})]})})},jB=({isOpen:t,onClose:e,onAdd:n,fromNode:a,toNode:r})=>{const[o,c]=E.useState("supports");return t?s.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:d=>d.target===d.currentTarget&&e(),children:s.jsxs(U.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},className:"w-full max-w-md bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-800 rounded-3xl shadow-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(uf,{className:"w-5 h-5 text-cyan-400"}),"Create Connection"]}),s.jsx(U.button,{whileHover:{scale:1.1,rotate:90},onClick:e,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(Qn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("p",{className:"text-slate-400 text-sm mb-4",children:["Connecting ",s.jsx("span",{className:"text-cyan-400 font-medium",children:a?.title})," to"," ",s.jsx("span",{className:"text-emerald-400 font-medium",children:r?.title})]}),s.jsx("div",{className:"space-y-2",children:Object.entries(nf).map(([d,m])=>s.jsxs("button",{onClick:()=>c(d),className:`
                  w-full p-3 rounded-xl border transition-all flex items-center gap-3
                  ${o===d?"bg-slate-800 border-slate-600":"bg-slate-900/50 border-slate-800 hover:bg-slate-800/50"}
                `,children:[s.jsx("div",{className:"w-8 h-1 rounded-full",style:{backgroundColor:m.color,backgroundImage:m.dash?`repeating-linear-gradient(90deg, ${m.color}, ${m.color} 4px, transparent 4px, transparent 8px)`:"none"}}),s.jsx("span",{className:"text-white font-medium",children:m.label}),o===d&&s.jsx(es,{className:"w-4 h-4 text-cyan-400 ml-auto"})]},d))})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(U.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"px-6 py-3 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:"Cancel"}),s.jsx(U.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{n(o),e()},className:"px-8 py-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold shadow-lg shadow-cyan-500/25",children:"Connect"})]})]})}):null},SB=({scale:t,onZoomIn:e,onZoomOut:n,onResetView:a,onAddNode:r,onExportPNG:o,onExportPDF:c,onSave:d,onLoad:m,tool:f,setTool:x,showGrid:b,setShowGrid:v})=>s.jsxs("div",{className:"absolute top-4 left-4 z-30 flex flex-col gap-2",children:[s.jsxs("div",{className:"p-2 rounded-xl bg-slate-900/90 border border-slate-800 backdrop-blur-sm flex flex-col gap-1",children:[s.jsx("button",{onClick:()=>x("select"),className:`p-2.5 rounded-lg transition-all ${f==="select"?"bg-cyan-500/20 text-cyan-400":"text-slate-400 hover:text-white hover:bg-slate-800"}`,title:"Select Tool (V)",children:s.jsx(pA,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>x("pan"),className:`p-2.5 rounded-lg transition-all ${f==="pan"?"bg-cyan-500/20 text-cyan-400":"text-slate-400 hover:text-white hover:bg-slate-800"}`,title:"Pan Tool (H)",children:s.jsx(MC,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-2 rounded-xl bg-slate-900/90 border border-slate-800 backdrop-blur-sm flex flex-col gap-1",children:[s.jsx("button",{onClick:e,className:"p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Zoom In (+)",children:s.jsx(Lk,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-center text-xs text-slate-500 py-1",children:[Math.round(t*100),"%"]}),s.jsx("button",{onClick:n,className:"p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Zoom Out (-)",children:s.jsx(zk,{className:"w-5 h-5"})}),s.jsx("button",{onClick:a,className:"p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Reset View (R)",children:s.jsx(kj,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"p-2 rounded-xl bg-slate-900/90 border border-slate-800 backdrop-blur-sm",children:s.jsx("button",{onClick:()=>v(!b),className:`p-2.5 rounded-lg transition-all ${b?"bg-cyan-500/20 text-cyan-400":"text-slate-400 hover:text-white hover:bg-slate-800"}`,title:"Toggle Grid (G)",children:s.jsx(Tx,{className:"w-5 h-5"})})})]}),_B=({onAddNode:t,onExportPNG:e,onExportPDF:n,onSave:a,onLoad:r,onClear:o})=>s.jsxs("div",{className:"absolute top-4 right-4 z-30 flex flex-col gap-2",children:[s.jsx(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"p-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white shadow-lg shadow-cyan-500/25",title:"Add Node (N)",children:s.jsx(At,{className:"w-5 h-5"})}),s.jsxs("div",{className:"p-2 rounded-xl bg-slate-900/90 border border-slate-800 backdrop-blur-sm flex flex-col gap-1",children:[s.jsx("button",{onClick:a,className:"p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Save Flowchart",children:s.jsx(df,{className:"w-5 h-5"})}),s.jsx("button",{onClick:r,className:"p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Load Flowchart",children:s.jsx(of,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-2 rounded-xl bg-slate-900/90 border border-slate-800 backdrop-blur-sm flex flex-col gap-1",children:[s.jsx("button",{onClick:e,className:"p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Export as PNG",children:s.jsx(Rm,{className:"w-5 h-5"})}),s.jsx("button",{onClick:n,className:"p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Export as PDF",children:s.jsx(xn,{className:"w-5 h-5"})})]}),s.jsx("button",{onClick:o,className:"p-2.5 rounded-xl bg-slate-900/90 border border-slate-800 backdrop-blur-sm text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-all",title:"Clear Canvas",children:s.jsx(Un,{className:"w-5 h-5"})})]}),TB=()=>s.jsxs("div",{className:"absolute bottom-4 left-4 z-30 p-4 rounded-xl bg-slate-900/90 border border-slate-800 backdrop-blur-sm",children:[s.jsx("h4",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Node Types"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(cd).map(([t,e])=>{const n=e.icon;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`p-1 rounded ${e.bgColor}`,children:s.jsx(n,{className:`w-3 h-3 ${e.textColor}`})}),s.jsx("span",{className:"text-xs text-slate-400",children:e.label})]},t)})})]}),EB=({onAddNode:t})=>s.jsx(U.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:s.jsxs("div",{className:"text-center pointer-events-auto",children:[s.jsxs("div",{className:"relative inline-block mb-8",children:[s.jsx(U.div,{animate:{scale:[1,1.2,1],opacity:[.3,.1,.3]},transition:{duration:3,repeat:1/0},className:"absolute inset-0 w-32 h-32 rounded-full bg-cyan-500/20 blur-xl"}),s.jsx(U.div,{animate:{y:[0,-5,0]},transition:{duration:3,repeat:1/0},className:"relative p-6 rounded-3xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-slate-700/50 backdrop-blur-xl shadow-2xl",children:s.jsx(cf,{className:"w-16 h-16 text-cyan-400"})})]}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Start Building Your Flow"}),s.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-8 leading-relaxed",children:"Create argument structures visually. Add claims, evidence, warrants, and connect them to see your case flow."}),s.jsxs(U.button,{whileHover:{scale:1.05,boxShadow:"0 20px 40px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},onClick:t,className:"px-8 py-4 rounded-2xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold text-lg shadow-lg shadow-cyan-500/25 inline-flex items-center gap-3",children:[s.jsx(At,{className:"w-5 h-5"}),"Add First Node",s.jsx(mn,{className:"w-5 h-5"})]})]})}),CB=()=>{const{user:t}=zn(),e=E.useRef(null),n=E.useRef(null),[a,r]=E.useState([]),[o,c]=E.useState([]),[d,m]=E.useState(1),[f,x]=E.useState({x:0,y:0}),[b,v]=E.useState("select"),[w,j]=E.useState(!0),[D,k]=E.useState(null),[V,I]=E.useState(null),[B,Q]=E.useState(!1),[se,G]=E.useState(null),[R,A]=E.useState(!1),[L,T]=E.useState(null),[C,P]=E.useState(!1),[O,te]=E.useState(null),[J,q]=E.useState(!1),[X,he]=E.useState({x:0,y:0});E.useEffect(()=>{const we=je=>{if(!(je.target.tagName==="INPUT"||je.target.tagName==="TEXTAREA"))switch(je.key.toLowerCase()){case"n":A(!0);break;case"v":v("select");break;case"h":v("pan");break;case"g":j(Ae=>!Ae);break;case"r":re();break;case"+":case"=":ye();break;case"-":$();break;case"delete":case"backspace":D?ut(D):V&&An(V);break;case"escape":Q(!1),G(null),k(null),I(null);break}};return window.addEventListener("keydown",we),()=>window.removeEventListener("keydown",we)},[D,V]);const ye=()=>m(we=>Math.min(we*1.2,3)),$=()=>m(we=>Math.max(we/1.2,.25)),re=()=>{m(1),x({x:0,y:0})},ge=we=>{if(we.ctrlKey||we.metaKey){we.preventDefault();const je=we.deltaY>0?.9:1.1;m(Ae=>Math.min(Math.max(Ae*je,.25),3))}},z=we=>{b==="pan"||we.button===1?(q(!0),he({x:we.clientX-f.x,y:we.clientY-f.y})):b==="select"&&(we.target===e.current||we.target.tagName==="svg")&&(k(null),I(null),B&&(Q(!1),G(null)))},Te=we=>{J&&x({x:we.clientX-X.x,y:we.clientY-X.y})},Ue=()=>{q(!1)},$e=(we,je)=>{if(je)r(a.map(Ae=>Ae.id===je?{...Ae,...we}:Ae));else{const Ae=n.current?.getBoundingClientRect(),We={id:hj(),...we,x:(Ae?.width/2-128-f.x)/d+Math.random()*100-50,y:(Ae?.height/2-50-f.y)/d+Math.random()*100-50};r([...a,We])}T(null)},ut=we=>{r(a.filter(je=>je.id!==we)),c(o.filter(je=>je.from!==we&&je.to!==we)),k(null)},Nt=(we,je,Ae)=>{r(a.map(We=>We.id===we?{...We,x:je,y:Ae}:We))},bt=we=>{Q(!0),G(we)},wn=we=>{se&&se!==we&&(o.some(Ae=>Ae.from===se&&Ae.to===we||Ae.from===we&&Ae.to===se)||(te({from:se,to:we}),P(!0))),Q(!1),G(null)},Nn=we=>{if(O){const je={id:hj(),from:O.from,to:O.to,type:we};c([...o,je]),te(null)}},An=we=>{c(o.filter(je=>je.id!==we)),I(null)},pe=async()=>{if(e.current)try{const we=document.createElement("canvas"),je=we.getContext("2d");we.width=1920,we.height=1080,je.fillStyle="#0f172a",je.fillRect(0,0,we.width,we.height),a.forEach(We=>{const kn=cd[We.type];je.fillStyle="#1e293b",je.strokeStyle="#334155",je.lineWidth=2,je.beginPath(),je.roundRect(We.x,We.y,256,100,12),je.fill(),je.stroke(),je.fillStyle="#fff",je.font="14px sans-serif",je.fillText(We.title||"Untitled",We.x+12,We.y+50)}),o.forEach(We=>{const kn=a.find(Vt=>Vt.id===We.from),fn=a.find(Vt=>Vt.id===We.to);if(kn&&fn){const Vt=nf[We.type];je.strokeStyle=Vt.color,je.lineWidth=2,je.beginPath(),je.moveTo(kn.x+256,kn.y+50),je.lineTo(fn.x,fn.y+50),je.stroke()}});const Ae=document.createElement("a");Ae.download=`argument-flow-${Date.now()}.png`,Ae.href=we.toDataURL("image/png"),Ae.click()}catch(we){console.error("Export failed:",we),alert("Export failed. Please try again.")}},be=()=>{window.print()},ke=()=>{const je=JSON.stringify({nodes:a,connections:o,scale:d,offset:f},null,2),Ae=new Blob([je],{type:"application/json"}),We=document.createElement("a");We.download=`argument-flow-${Date.now()}.json`,We.href=URL.createObjectURL(Ae),We.click()},qe=()=>{const we=document.createElement("input");we.type="file",we.accept=".json",we.onchange=je=>{const Ae=je.target.files[0];if(Ae){const We=new FileReader;We.onload=kn=>{try{const fn=JSON.parse(kn.target.result);r(fn.nodes||[]),c(fn.connections||[]),fn.scale&&m(fn.scale),fn.offset&&x(fn.offset)}catch(fn){console.error("Load failed:",fn),alert("Failed to load file. Please check the format.")}},We.readAsText(Ae)}},we.click()},Zt=()=>{a.length===0&&o.length===0||confirm("Clear all nodes and connections?")&&(r([]),c([]),k(null),I(null))};return s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"h-[calc(100vh-8rem)]",children:[s.jsxs("div",{className:"space-y-4 h-full flex flex-col",children:[s.jsx("div",{className:"flex items-start justify-between flex-shrink-0",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-600/20 border border-cyan-500/30",children:s.jsx(cf,{className:"w-7 h-7 text-cyan-400"})}),"Argument Flowchart"]}),s.jsxs("p",{className:"text-slate-400 mt-2",children:[a.length," nodes  ",o.length," connections"]})]})}),s.jsxs("div",{ref:n,className:"flex-1 relative rounded-2xl border border-slate-800/60 bg-slate-950 overflow-hidden",style:{cursor:b==="pan"?"grab":J?"grabbing":"default"},onMouseDown:z,onMouseMove:Te,onMouseUp:Ue,onMouseLeave:Ue,onWheel:ge,children:[w&&s.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none",style:{backgroundImage:`
                  linear-gradient(rgba(100, 116, 139, 0.3) 1px, transparent 1px),
                  linear-gradient(90deg, rgba(100, 116, 139, 0.3) 1px, transparent 1px)
                `,backgroundSize:`${32*d}px ${32*d}px`,backgroundPosition:`${f.x}px ${f.y}px`}}),s.jsxs("div",{ref:e,className:"absolute inset-0",style:{transform:`translate(${f.x}px, ${f.y}px) scale(${d})`,transformOrigin:"0 0"},children:[s.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{overflow:"visible"},children:[o.map(we=>s.jsx(wB,{connection:we,nodes:a,isSelected:V===we.id,onSelect:je=>{I(je),k(null)},onDelete:An},we.id)),B&&se&&s.jsx("line",{x1:a.find(we=>we.id===se)?.x+256+8,y1:a.find(we=>we.id===se)?.y+50,x2:(f.x*-1+(n.current?.clientWidth/2||0))/d,y2:(f.y*-1+(n.current?.clientHeight/2||0))/d,stroke:"#06b6d4",strokeWidth:2,strokeDasharray:"8 4",className:"pointer-events-none"})]}),a.map(we=>s.jsx(vB,{node:we,isSelected:D===we.id,onSelect:je=>{k(je),I(null)},onDragStart:()=>{},onDrag:Nt,onDragEnd:()=>{},onEdit:je=>{T(je),A(!0)},onDelete:ut,onStartConnection:bt,onEndConnection:wn,isConnecting:B,scale:d},we.id))]}),a.length===0&&s.jsx(EB,{onAddNode:()=>A(!0)}),s.jsx(SB,{scale:d,onZoomIn:ye,onZoomOut:$,onResetView:re,tool:b,setTool:v,showGrid:w,setShowGrid:j}),s.jsx(_B,{onAddNode:()=>A(!0),onExportPNG:pe,onExportPDF:be,onSave:ke,onLoad:qe,onClear:Zt}),s.jsx(TB,{}),B&&s.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 px-4 py-2 rounded-full bg-cyan-500/20 border border-cyan-500/50 text-cyan-400 text-sm font-medium flex items-center gap-2",children:[s.jsx(uf,{className:"w-4 h-4"}),"Click a node to connect",s.jsx("button",{onClick:()=>{Q(!1),G(null)},className:"ml-2 p-1 rounded hover:bg-cyan-500/20",children:s.jsx(Qn,{className:"w-4 h-4"})})]})]})]}),s.jsx(et,{children:R&&s.jsx(NB,{isOpen:R,onClose:()=>{A(!1),T(null)},onAdd:$e,editNode:L})}),s.jsx(et,{children:C&&O&&s.jsx(jB,{isOpen:C,onClose:()=>{P(!1),te(null)},onAdd:Nn,fromNode:a.find(we=>we.id===O.from),toNode:a.find(we=>we.id===O.to)})})]})},AB=["um","uh","like","you know","so","actually","basically","literally","right","okay"],_g={excellent:85,good:70,fair:55},xl={slow:100,normal:150,fast:180,veryFast:200},kB=({analyser:t,isRecording:e,audioData:n})=>{const a=E.useRef(null),r=E.useRef(null);return E.useEffect(()=>{if(!a.current)return;const o=a.current,c=o.getContext("2d"),d=o.width,m=o.height,f=()=>{if(!t){c.fillStyle="#0f172a",c.fillRect(0,0,d,m),c.beginPath(),c.strokeStyle="#334155",c.lineWidth=2,c.moveTo(0,m/2),c.lineTo(d,m/2),c.stroke();return}const x=t.frequencyBinCount,b=new Uint8Array(x);t.getByteTimeDomainData(b),c.fillStyle="#0f172a",c.fillRect(0,0,d,m);const v=c.createLinearGradient(0,0,d,0);v.addColorStop(0,"#06b6d4"),v.addColorStop(.5,"#8b5cf6"),v.addColorStop(1,"#06b6d4"),c.lineWidth=2,c.strokeStyle=e?v:"#475569",c.beginPath();const w=d/x;let j=0;for(let D=0;D<x;D++){const V=b[D]/128*m/2;D===0?c.moveTo(j,V):c.lineTo(j,V),j+=w}c.lineTo(d,m/2),c.stroke(),e&&(c.shadowBlur=10,c.shadowColor="#06b6d4"),r.current=requestAnimationFrame(f)};return f(),()=>{r.current&&cancelAnimationFrame(r.current)}},[t,e]),s.jsx("canvas",{ref:a,width:800,height:150,className:"w-full h-32 rounded-xl border border-slate-800"})},RB=({analyser:t,isRecording:e})=>{const n=E.useRef(null),a=E.useRef(null);return E.useEffect(()=>{if(!n.current)return;const r=n.current,o=r.getContext("2d"),c=r.width,d=r.height,m=()=>{if(!t){o.fillStyle="#0f172a",o.fillRect(0,0,c,d);const j=32,D=c/j-2;for(let k=0;k<j;k++)o.fillStyle="#1e293b",o.fillRect(k*(D+2),d-20,D,20);return}const f=t.frequencyBinCount,x=new Uint8Array(f);t.getByteFrequencyData(x),o.fillStyle="#0f172a",o.fillRect(0,0,c,d);const b=64,v=c/b-2,w=Math.floor(f/b);for(let j=0;j<b;j++){const k=x[j*w]/255*d*.9,V=j/b*60+180;o.fillStyle=e?`hsla(${V}, 80%, 60%, 0.8)`:"#334155";const I=j*(v+2),B=d-k;o.beginPath(),o.roundRect(I,B,v,k,2),o.fill()}a.current=requestAnimationFrame(m)};return m(),()=>{a.current&&cancelAnimationFrame(a.current)}},[t,e]),s.jsx("canvas",{ref:n,width:400,height:120,className:"w-full h-28 rounded-xl border border-slate-800"})},IB=({pitchHistory:t,currentPitch:e})=>{const n=E.useRef(null);return E.useEffect(()=>{if(!n.current)return;const a=n.current,r=a.getContext("2d"),o=a.width,c=a.height;r.fillStyle="#0f172a",r.fillRect(0,0,o,c),r.strokeStyle="#1e293b",r.lineWidth=1;for(let b=0;b<5;b++){const v=c/5*b;r.beginPath(),r.moveTo(0,v),r.lineTo(o,v),r.stroke()}if(r.fillStyle="#64748b",r.font="10px sans-serif",r.fillText("High",5,15),r.fillText("Low",5,c-5),t.length<2)return;const d=r.createLinearGradient(0,0,o,0);d.addColorStop(0,"#06b6d4"),d.addColorStop(1,"#8b5cf6"),r.strokeStyle=d,r.lineWidth=2,r.beginPath();const m=Math.max(...t,300),f=Math.min(...t.filter(b=>b>0),80),x=m-f||1;if(t.forEach((b,v)=>{const w=v/(t.length-1)*o,j=b>0?(b-f)/x:.5,D=c-j*c*.8-c*.1;v===0?r.moveTo(w,D):r.lineTo(w,D)}),r.stroke(),e>0){const b=(e-f)/x,v=c-b*c*.8-c*.1;r.beginPath(),r.arc(o-5,v,4,0,Math.PI*2),r.fillStyle="#06b6d4",r.fill(),r.shadowBlur=10,r.shadowColor="#06b6d4",r.fill()}},[t,e]),s.jsx("canvas",{ref:n,width:300,height:100,className:"w-full h-24 rounded-xl border border-slate-800"})},pm=({icon:t,label:e,value:n,subValue:a,trend:r,color:o="cyan"})=>{const c={cyan:"from-cyan-500/20 to-cyan-600/20 border-cyan-500/30 text-cyan-400",emerald:"from-emerald-500/20 to-emerald-600/20 border-emerald-500/30 text-emerald-400",purple:"from-purple-500/20 to-purple-600/20 border-purple-500/30 text-purple-400",amber:"from-amber-500/20 to-amber-600/20 border-amber-500/30 text-amber-400",red:"from-red-500/20 to-red-600/20 border-red-500/30 text-red-400"},d=r==="up"?Ga:r==="down"?Go:lc;return s.jsx("div",{className:`p-4 rounded-xl bg-gradient-to-br ${c[o]} border backdrop-blur-sm`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-400 text-xs font-medium uppercase tracking-wider",children:e}),s.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:n}),a&&s.jsx("p",{className:"text-slate-500 text-xs mt-1",children:a})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[r&&s.jsx(d,{className:`w-4 h-4 ${r==="up"?"text-emerald-400":r==="down"?"text-red-400":"text-slate-400"}`}),s.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-br ${c[o]}`,children:s.jsx(t,{className:"w-5 h-5"})})]})]})})},DB=({word:t,count:e})=>s.jsxs(U.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-amber-500/10 border border-amber-500/30",children:[s.jsxs("span",{className:"text-amber-400 text-sm font-medium",children:['"',t,'"']}),s.jsx("span",{className:"px-1.5 py-0.5 rounded-full bg-amber-500/20 text-amber-300 text-xs font-bold",children:e})]}),MB=({score:t})=>{const e=()=>t>=_g.excellent?{bg:"bg-emerald-500",text:"text-emerald-400",label:"Excellent"}:t>=_g.good?{bg:"bg-cyan-500",text:"text-cyan-400",label:"Good"}:t>=_g.fair?{bg:"bg-amber-500",text:"text-amber-400",label:"Fair"}:{bg:"bg-red-500",text:"text-red-400",label:"Needs Work"},{bg:n,text:a,label:r}=e();return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-slate-400 text-sm",children:"Confidence Score"}),s.jsxs("span",{className:`${a} font-bold`,children:[t,"%"]})]}),s.jsx("div",{className:"h-3 rounded-full bg-slate-800 overflow-hidden",children:s.jsx(U.div,{initial:{width:0},animate:{width:`${t}%`},transition:{duration:1,ease:"easeOut"},className:`h-full rounded-full ${n}`})}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:a,children:r}),s.jsx("span",{className:"text-slate-500",children:"Target: 85%+"})]})]})},OB=({recording:t,onPlay:e,onDelete:n,isPlaying:a})=>{const r=o=>{const c=Math.floor(o/60),d=Math.floor(o%60);return`${c}:${d.toString().padStart(2,"0")}`};return s.jsxs(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center gap-4 p-4 rounded-xl bg-slate-800/30 border border-slate-800/60 hover:border-slate-700/60 transition-all group",children:[s.jsx(U.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>e(t),className:`p-3 rounded-xl transition-all ${a?"bg-cyan-500 text-white":"bg-slate-700 text-slate-300 hover:bg-cyan-500 hover:text-white"}`,children:a?s.jsx(hd,{className:"w-5 h-5"}):s.jsx(Si,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-white font-medium truncate",children:t.name}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(qt,{className:"w-3.5 h-3.5"}),r(t.duration)]}),s.jsx("span",{children:new Date(t.timestamp).toLocaleDateString()})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.confidence>=80?"bg-emerald-500/10 text-emerald-400":t.confidence>=60?"bg-amber-500/10 text-amber-400":"bg-red-500/10 text-red-400"}`,children:[t.confidence,"%"]})}),s.jsx(U.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>n(t.id),className:"p-2 rounded-lg text-slate-400 hover:text-red-400 hover:bg-red-500/10 opacity-0 group-hover:opacity-100 transition-all",children:s.jsx(Un,{className:"w-4 h-4"})})]})},PB=()=>s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"inline-flex p-4 rounded-full bg-slate-800/50 mb-4",children:s.jsx(Mj,{className:"w-8 h-8 text-slate-500"})}),s.jsx("p",{className:"text-slate-400",children:"No recordings yet"}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Start recording to analyze your speech"})]}),LB=()=>{const{user:t}=zn(),[e,n]=E.useState(!1),[a,r]=E.useState(!1),[o,c]=E.useState(0),[d,m]=E.useState(null),[f,x]=E.useState(!1),[b,v]=E.useState(null),[w,j]=E.useState([]),[D,k]=E.useState(0),[V,I]=E.useState(0),[B,Q]=E.useState({}),[se,G]=E.useState(0),[R,A]=E.useState(0),[L,T]=E.useState(0),[C,P]=E.useState([]),O=E.useRef(null),te=E.useRef(null),J=E.useRef(null),q=E.useRef(null),X=E.useRef([]),he=E.useRef(null),ye=E.useRef(new Audio),$=E.useCallback(async()=>{try{const pe=await navigator.mediaDevices.getUserMedia({audio:!0});return q.current=pe,te.current=new(window.AudioContext||window.webkitAudioContext),J.current=te.current.createAnalyser(),J.current.fftSize=2048,J.current.smoothingTimeConstant=.8,te.current.createMediaStreamSource(pe).connect(J.current),O.current=new MediaRecorder(pe),O.current.ondataavailable=ke=>{ke.data.size>0&&X.current.push(ke.data)},O.current.onstop=()=>{const ke=new Blob(X.current,{type:"audio/webm"});m(ke),X.current=[]},!0}catch(pe){return console.error("Failed to initialize audio:",pe),!1}},[]),re=E.useCallback(()=>{if(!J.current)return 0;const pe=J.current.fftSize,be=new Float32Array(pe);J.current.getFloatTimeDomainData(be);let ke=0,qe=-1;const Zt=te.current?.sampleRate||44100,we=Math.floor(Zt/400),je=Math.floor(Zt/80);for(let Ae=we;Ae<je;Ae++){let We=0;for(let kn=0;kn<pe-Ae;kn++)We+=be[kn]*be[kn+Ae];We>ke&&(ke=We,qe=Ae)}return qe>0&&ke>.01?Zt/qe:0},[]),ge=E.useCallback(()=>{if(!J.current)return 0;const pe=J.current.frequencyBinCount,be=new Uint8Array(pe);J.current.getByteFrequencyData(be);const ke=be.reduce((qe,Zt)=>qe+Zt,0);return Math.round(ke/pe/255*100)},[]);E.useEffect(()=>{let pe;return e&&!a&&(pe=setInterval(()=>{const be=re();be>0&&(k(Math.round(be)),j(qe=>[...qe.slice(-100),be]));const ke=ge();if(A(ke),ke>20&&(I(qe=>Math.min(200,qe+Math.random()*5)),T(qe=>qe+(Math.random()>.7?1:0))),Math.random()<.02&&ke>30){const qe=AB[Math.floor(Math.random()*3)];Q(Zt=>({...Zt,[qe]:(Zt[qe]||0)+1}))}},100)),()=>{pe&&clearInterval(pe)}},[e,a,re,ge]),E.useEffect(()=>{const pe=Object.values(B).reduce((je,Ae)=>je+Ae,0),be=Math.min(30,pe*3),ke=w.length>10?Math.min(20,(Math.max(...w)-Math.min(...w.filter(je=>je>0)))/10):10,qe=V>=xl.slow&&V<=xl.fast?20:10,we=Math.max(0,Math.min(100,70-be+ke+qe));G(Math.round(we))},[B,w,V]),E.useEffect(()=>(e&&!a?he.current=setInterval(()=>{c(pe=>pe+1)},1e3):he.current&&clearInterval(he.current),()=>{he.current&&clearInterval(he.current)}),[e,a]);const z=async()=>{if(!await $()){alert("Could not access microphone. Please check permissions.");return}c(0),j([]),Q({}),I(0),T(0),G(0),m(null),O.current?.start(100),n(!0),r(!1)},Te=()=>{O.current?.stop(),q.current?.getTracks().forEach(pe=>pe.stop()),n(!1),r(!1)},Ue=()=>{a?O.current?.resume():O.current?.pause(),r(!a)},$e=()=>{if(!d)return;const pe={id:Date.now().toString(),name:`Recording ${C.length+1}`,blob:d,duration:o,timestamp:new Date().toISOString(),confidence:se,fillerWords:{...B},speakingRate:V,wordCount:L};P(be=>[pe,...be]),m(null),c(0)},ut=pe=>{if(b===pe.id)ye.current.pause(),x(!1),v(null);else{const be=URL.createObjectURL(pe.blob);ye.current.src=be,ye.current.play(),x(!0),v(pe.id),ye.current.onended=()=>{x(!1),v(null)}}},Nt=pe=>{P(be=>be.filter(ke=>ke.id!==pe)),b===pe&&(ye.current.pause(),x(!1),v(null))},bt=()=>{if(!d)return;const pe=URL.createObjectURL(d),be=document.createElement("a");be.href=pe,be.download=`voice-recording-${Date.now()}.webm`,be.click()},wn=pe=>{const be=Math.floor(pe/60),ke=pe%60;return`${be.toString().padStart(2,"0")}:${ke.toString().padStart(2,"0")}`},Nn=()=>V<xl.slow?{label:"Too Slow",color:"text-amber-400"}:V<xl.normal?{label:"Slow",color:"text-cyan-400"}:V<xl.fast?{label:"Normal",color:"text-emerald-400"}:V<xl.veryFast?{label:"Fast",color:"text-amber-400"}:{label:"Too Fast",color:"text-red-400"},An=Object.values(B).reduce((pe,be)=>pe+be,0);return s.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-600/20 border border-cyan-500/30",children:s.jsx(Mk,{className:"w-7 h-7 text-cyan-400"})}),"Voice Analysis"]}),s.jsx("p",{className:"text-slate-400 mt-2",children:"Real-time speech pattern analysis and feedback"})]})}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/80 to-slate-950/80",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-white font-semibold flex items-center gap-2",children:[s.jsx(wi,{className:"w-5 h-5 text-cyan-400"}),"Waveform"]}),e&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"relative flex h-3 w-3",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),s.jsx("span",{className:"text-red-400 text-sm font-medium",children:"Recording"})]})]}),s.jsx(kB,{analyser:J.current,isRecording:e&&!a}),s.jsx("div",{className:"flex items-center justify-center gap-4 mt-6",children:e?s.jsxs(s.Fragment,{children:[s.jsx(U.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Ue,className:`p-4 rounded-xl ${a?"bg-emerald-500 text-white":"bg-slate-700 text-white hover:bg-slate-600"}`,children:a?s.jsx(Si,{className:"w-6 h-6"}):s.jsx(hd,{className:"w-6 h-6"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-white font-mono",children:wn(o)}),s.jsx("p",{className:"text-slate-500 text-sm",children:a?"Paused":"Recording..."})]}),s.jsx(U.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Te,className:"p-4 rounded-xl bg-red-500 text-white hover:bg-red-600",children:s.jsx(Lj,{className:"w-6 h-6"})})]}):s.jsxs(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:z,className:"px-8 py-4 rounded-2xl bg-gradient-to-r from-red-500 to-rose-600 text-white font-semibold text-lg shadow-lg shadow-red-500/25 flex items-center gap-3",children:[s.jsx(oa,{className:"w-6 h-6"}),"Start Recording"]})}),d&&!e&&s.jsxs("div",{className:"flex items-center justify-center gap-3 mt-4 pt-4 border-t border-slate-800",children:[s.jsxs(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:$e,className:"px-6 py-2.5 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-medium shadow-lg shadow-cyan-500/25 flex items-center gap-2",children:[s.jsx(df,{className:"w-4 h-4"}),"Save Recording"]}),s.jsxs(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:bt,className:"px-6 py-2.5 rounded-xl bg-slate-700 text-white font-medium hover:bg-slate-600 flex items-center gap-2",children:[s.jsx(ac,{className:"w-4 h-4"}),"Download"]})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-xl border border-slate-800/60 bg-slate-900/50",children:[s.jsxs("h4",{className:"text-white font-medium mb-3 flex items-center gap-2",children:[s.jsx(Cn,{className:"w-4 h-4 text-purple-400"}),"Frequency Spectrum"]}),s.jsx(RB,{analyser:J.current,isRecording:e&&!a})]}),s.jsxs("div",{className:"p-4 rounded-xl border border-slate-800/60 bg-slate-900/50",children:[s.jsxs("h4",{className:"text-white font-medium mb-3 flex items-center gap-2",children:[s.jsx(Ga,{className:"w-4 h-4 text-cyan-400"}),"Pitch Variation"]}),s.jsx(IB,{pitchHistory:w,currentPitch:D})]})]}),s.jsxs("div",{className:"p-5 rounded-xl border border-slate-800/60 bg-slate-900/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"text-white font-medium flex items-center gap-2",children:[s.jsx(yr,{className:"w-4 h-4 text-amber-400"}),"Filler Words Detected"]}),s.jsx("span",{className:`text-2xl font-bold ${An>10?"text-red-400":An>5?"text-amber-400":"text-emerald-400"}`,children:An})]}),Object.keys(B).length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(B).map(([pe,be])=>s.jsx(DB,{word:pe,count:be},pe))}):s.jsx("p",{className:"text-slate-500 text-sm",children:e?"Listening for filler words...":"No filler words detected"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-white font-semibold flex items-center gap-2",children:[s.jsx(Qu,{className:"w-5 h-5 text-amber-400"}),"Live Metrics"]}),s.jsx(pm,{icon:Ax,label:"Volume Level",value:`${R}%`,color:"cyan"}),s.jsx(pm,{icon:wi,label:"Current Pitch",value:D>0?`${D} Hz`:"",subValue:D>200?"High":D>120?"Normal":"Low",color:"purple"}),s.jsx(pm,{icon:qt,label:"Speaking Rate",value:`${Math.round(V)} WPM`,subValue:Nn().label,color:V>xl.fast?"amber":"emerald"}),s.jsx(pm,{icon:MessageSquare,label:"Word Count",value:L,color:"cyan"})]}),s.jsxs("div",{className:"p-5 rounded-xl border border-slate-800/60 bg-gradient-to-br from-slate-900/80 to-slate-950/80",children:[s.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Cs,{className:"w-5 h-5 text-cyan-400"}),"Confidence Analysis"]}),s.jsx(MB,{score:se})]}),s.jsxs("div",{className:"p-5 rounded-xl border border-slate-800/60 bg-gradient-to-br from-slate-900/80 to-slate-950/80",children:[s.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Mj,{className:"w-5 h-5 text-purple-400"}),"Saved Recordings",C.length>0&&s.jsx("span",{className:"ml-auto px-2 py-0.5 rounded-full bg-slate-800 text-slate-400 text-xs",children:C.length})]}),s.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:C.length>0?C.map(pe=>s.jsx(OB,{recording:pe,onPlay:ut,onDelete:Nt,isPlaying:b===pe.id},pe.id)):s.jsx(PB,{})})]}),s.jsxs("div",{className:"p-4 rounded-xl border border-cyan-500/20 bg-cyan-500/5",children:[s.jsxs("h4",{className:"text-cyan-400 font-medium mb-2 flex items-center gap-2",children:[s.jsx(ic,{className:"w-4 h-4"}),"Tips for Better Speech"]}),s.jsxs("ul",{className:"space-y-2 text-sm text-slate-400",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(es,{className:"w-4 h-4 text-emerald-400 mt-0.5 flex-shrink-0"}),"Aim for 130-160 words per minute"]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(es,{className:"w-4 h-4 text-emerald-400 mt-0.5 flex-shrink-0"}),"Vary your pitch to maintain engagement"]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(es,{className:"w-4 h-4 text-emerald-400 mt-0.5 flex-shrink-0"}),"Pause instead of using filler words"]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(es,{className:"w-4 h-4 text-emerald-400 mt-0.5 flex-shrink-0"}),"Practice breath control for steady volume"]})]})]})]})]})]})})},Ro={ld:{name:"Lincoln-Douglas",shortName:"LD",segments:[{name:"AC",fullName:"Affirmative Constructive",time:360,speaker:"aff"},{name:"CX",fullName:"Cross-Examination",time:180,speaker:"neg"},{name:"NC",fullName:"Negative Constructive",time:420,speaker:"neg"},{name:"CX",fullName:"Cross-Examination",time:180,speaker:"aff"},{name:"1AR",fullName:"First Affirmative Rebuttal",time:240,speaker:"aff"},{name:"NR",fullName:"Negative Rebuttal",time:360,speaker:"neg"},{name:"2AR",fullName:"Second Affirmative Rebuttal",time:180,speaker:"aff"}],prepTime:{aff:240,neg:240}},pf:{name:"Public Forum",shortName:"PF",segments:[{name:"Pro",fullName:"First Pro Speech",time:240,speaker:"pro"},{name:"Con",fullName:"First Con Speech",time:240,speaker:"con"},{name:"CX",fullName:"Crossfire",time:180,speaker:"both"},{name:"Pro",fullName:"Second Pro Speech",time:240,speaker:"pro"},{name:"Con",fullName:"Second Con Speech",time:240,speaker:"con"},{name:"CX",fullName:"Crossfire",time:180,speaker:"both"},{name:"Sum",fullName:"Pro Summary",time:180,speaker:"pro"},{name:"Sum",fullName:"Con Summary",time:180,speaker:"con"},{name:"GCX",fullName:"Grand Crossfire",time:180,speaker:"both"},{name:"FF",fullName:"Pro Final Focus",time:120,speaker:"pro"},{name:"FF",fullName:"Con Final Focus",time:120,speaker:"con"}],prepTime:{pro:120,con:120}},policy:{name:"Policy",shortName:"CX",segments:[{name:"1AC",fullName:"First Affirmative Constructive",time:480,speaker:"aff"},{name:"CX",fullName:"Cross-Examination",time:180,speaker:"neg"},{name:"1NC",fullName:"First Negative Constructive",time:480,speaker:"neg"},{name:"CX",fullName:"Cross-Examination",time:180,speaker:"aff"},{name:"2AC",fullName:"Second Affirmative Constructive",time:480,speaker:"aff"},{name:"CX",fullName:"Cross-Examination",time:180,speaker:"neg"},{name:"2NC",fullName:"Second Negative Constructive",time:480,speaker:"neg"},{name:"CX",fullName:"Cross-Examination",time:180,speaker:"aff"},{name:"1NR",fullName:"First Negative Rebuttal",time:300,speaker:"neg"},{name:"1AR",fullName:"First Affirmative Rebuttal",time:300,speaker:"aff"},{name:"2NR",fullName:"Second Negative Rebuttal",time:300,speaker:"neg"},{name:"2AR",fullName:"Second Affirmative Rebuttal",time:300,speaker:"aff"}],prepTime:{aff:480,neg:480}},parli:{name:"Parliamentary",shortName:"Parli",segments:[{name:"PM",fullName:"Prime Minister Constructive",time:420,speaker:"gov"},{name:"LO",fullName:"Leader of Opposition",time:480,speaker:"opp"},{name:"MG",fullName:"Member of Government",time:480,speaker:"gov"},{name:"MO",fullName:"Member of Opposition",time:480,speaker:"opp"},{name:"LOR",fullName:"Leader of Opposition Rebuttal",time:240,speaker:"opp"},{name:"PMR",fullName:"Prime Minister Rebuttal",time:300,speaker:"gov"}],prepTime:{gov:0,opp:0}},congress:{name:"Congressional Debate",shortName:"Congress",segments:[{name:"Auth",fullName:"Authorship Speech",time:180,speaker:"author"},{name:"Q1",fullName:"Question Period 1",time:120,speaker:"floor"},{name:"Neg1",fullName:"First Negative Speech",time:180,speaker:"neg"},{name:"Q2",fullName:"Question Period 2",time:120,speaker:"floor"},{name:"Aff",fullName:"Affirmative Speech",time:180,speaker:"aff"},{name:"Q3",fullName:"Question Period 3",time:120,speaker:"floor"},{name:"Neg2",fullName:"Second Negative Speech",time:180,speaker:"neg"},{name:"Q4",fullName:"Question Period 4",time:120,speaker:"floor"}],prepTime:{}},bp:{name:"British Parliamentary",shortName:"BP",segments:[{name:"PM",fullName:"Prime Minister",time:420,speaker:"og"},{name:"LO",fullName:"Leader of Opposition",time:420,speaker:"oo"},{name:"DPM",fullName:"Deputy Prime Minister",time:420,speaker:"og"},{name:"DLO",fullName:"Deputy Leader of Opposition",time:420,speaker:"oo"},{name:"MG",fullName:"Member of Government",time:420,speaker:"cg"},{name:"MO",fullName:"Member of Opposition",time:420,speaker:"co"},{name:"GW",fullName:"Government Whip",time:420,speaker:"cg"},{name:"OW",fullName:"Opposition Whip",time:420,speaker:"co"}],prepTime:{}},worldschools:{name:"World Schools",shortName:"WSDC",segments:[{name:"1P",fullName:"First Proposition",time:480,speaker:"prop"},{name:"1O",fullName:"First Opposition",time:480,speaker:"opp"},{name:"2P",fullName:"Second Proposition",time:480,speaker:"prop"},{name:"2O",fullName:"Second Opposition",time:480,speaker:"opp"},{name:"3P",fullName:"Third Proposition",time:480,speaker:"prop"},{name:"3O",fullName:"Third Opposition",time:480,speaker:"opp"},{name:"OR",fullName:"Opposition Reply",time:240,speaker:"opp"},{name:"PR",fullName:"Proposition Reply",time:240,speaker:"prop"}],prepTime:{}},ipda:{name:"IPDA",shortName:"IPDA",segments:[{name:"AC",fullName:"Affirmative Constructive",time:300,speaker:"aff"},{name:"CX",fullName:"Cross-Examination",time:120,speaker:"neg"},{name:"NC",fullName:"Negative Constructive",time:300,speaker:"neg"},{name:"CX",fullName:"Cross-Examination",time:120,speaker:"aff"},{name:"AR",fullName:"Affirmative Rebuttal",time:180,speaker:"aff"},{name:"NR",fullName:"Negative Rebuttal",time:180,speaker:"neg"},{name:"AFR",fullName:"Affirmative Final Response",time:60,speaker:"aff"}],prepTime:{aff:0,neg:0}},npda:{name:"NPDA",shortName:"NPDA",segments:[{name:"PMC",fullName:"Prime Minister Constructive",time:420,speaker:"gov"},{name:"LOC",fullName:"Leader of Opposition Constructive",time:420,speaker:"opp"},{name:"MGC",fullName:"Member of Government Constructive",time:420,speaker:"gov"},{name:"MOC",fullName:"Member of Opposition Constructive",time:420,speaker:"opp"},{name:"LOR",fullName:"Leader of Opposition Rebuttal",time:300,speaker:"opp"},{name:"PMR",fullName:"Prime Minister Rebuttal",time:300,speaker:"gov"}],prepTime:{gov:300,opp:300}},custom:{name:"Custom",shortName:"Custom",segments:[],prepTime:{side1:180,side2:180}}},O_=t=>{const e=Math.floor(Math.abs(t)/60),n=Math.abs(t)%60;return`${t<0?"-":""}${e}:${n.toString().padStart(2,"0")}`},P_=t=>{const e=Math.floor(t/60),n=t%60;return e===0?`${n}s`:n===0?`${e}m`:`${e}m ${n}s`},VB=({progress:t,size:e=300,strokeWidth:n=12,timeRemaining:a,totalTime:r,isRunning:o,isOvertime:c})=>{const d=(e-n)/2,m=d*2*Math.PI,f=m-t/100*m,x=()=>c||t<=10?"#ef4444":t<=25?"#f59e0b":"#06b6d4";return s.jsxs("div",{className:"relative",style:{width:e,height:e},children:[s.jsxs("svg",{className:"absolute transform -rotate-90",width:e,height:e,children:[s.jsx("circle",{cx:e/2,cy:e/2,r:d,fill:"none",stroke:"#1e293b",strokeWidth:n}),s.jsx("circle",{cx:e/2,cy:e/2,r:d,fill:"none",stroke:x(),strokeWidth:n,strokeLinecap:"round",strokeDasharray:m,strokeDashoffset:f,style:{transition:"stroke-dashoffset 0.5s ease, stroke 0.3s ease",filter:o?`drop-shadow(0 0 10px ${x()})`:"none"}})]}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[s.jsx(U.span,{initial:{scale:1.1},animate:{scale:1},className:`text-5xl font-bold font-mono ${c||t<=10?"text-red-400":t<=25?"text-amber-400":"text-white"}`,children:O_(a)},a),s.jsxs("span",{className:"text-slate-500 text-sm mt-2",children:["of ",P_(r)]}),c&&s.jsxs("span",{className:"text-red-400 text-xs mt-1 flex items-center gap-1",children:[s.jsx(yr,{className:"w-3 h-3"}),"OVERTIME"]})]}),o&&s.jsx(U.div,{animate:{scale:[1,1.05,1],opacity:[.5,.2,.5]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 rounded-full border-2",style:{borderColor:x()}})]})},UB=({segment:t,index:e,isActive:n,isCompleted:a,onClick:r})=>{const o=c=>{switch(c){case"aff":case"pro":case"gov":return"bg-cyan-500/10 border-cyan-500/30 text-cyan-400";case"neg":case"con":case"opp":return"bg-red-500/10 border-red-500/30 text-red-400";case"both":return"bg-purple-500/10 border-purple-500/30 text-purple-400";default:return"bg-slate-500/10 border-slate-500/30 text-slate-400"}};return s.jsxs(U.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:r,className:`
        relative p-3 rounded-xl border transition-all text-left w-full
        ${n?"bg-cyan-500/20 border-cyan-500/50 ring-2 ring-cyan-500/30":a?"bg-slate-800/30 border-slate-700/50 opacity-60":"bg-slate-800/30 border-slate-800/60 hover:border-slate-700/60"}
      `,children:[n&&s.jsx(U.div,{layoutId:"activeIndicator",className:"absolute left-0 top-0 bottom-0 w-1 bg-cyan-500 rounded-l-xl"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`
          w-8 h-8 rounded-lg flex items-center justify-center text-sm font-bold
          ${a?"bg-emerald-500/20 text-emerald-400":"bg-slate-700 text-slate-300"}
        `,children:a?s.jsx(es,{className:"w-4 h-4"}):e+1}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`font-semibold ${n?"text-white":"text-slate-300"}`,children:t.name}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs border ${o(t.speaker)}`,children:t.speaker})]}),s.jsx("p",{className:"text-xs text-slate-500 truncate",children:t.fullName})]}),s.jsx("span",{className:"text-slate-400 font-mono text-sm",children:P_(t.time)})]})]})},zB=({prepTime:t,usedPrepTime:e,onUsePrep:n,onStopPrep:a,activePrepSide:r})=>{const o=Object.keys(t);return s.jsxs("div",{className:"p-4 rounded-xl border border-slate-800/60 bg-slate-900/50",children:[s.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[s.jsx(qt,{className:"w-4 h-4 text-amber-400"}),"Prep Time"]}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.map(c=>{const d=t[c]-(e[c]||0),m=r===c,f=d/t[c]*100;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`text-sm font-medium capitalize ${c.includes("aff")||c.includes("pro")||c.includes("gov")||c==="side1"?"text-cyan-400":"text-red-400"}`,children:c}),s.jsx("span",{className:"text-white font-mono text-sm",children:O_(d)})]}),s.jsx("div",{className:"h-2 rounded-full bg-slate-800 overflow-hidden",children:s.jsx(U.div,{initial:{width:"100%"},animate:{width:`${f}%`},className:`h-full rounded-full ${f>50?"bg-emerald-500":f>25?"bg-amber-500":"bg-red-500"}`})}),s.jsx(U.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>m?a():n(c),disabled:d<=0&&!m,className:`
                  w-full py-2 rounded-lg text-sm font-medium transition-all
                  ${m?"bg-amber-500 text-white":d<=0?"bg-slate-800 text-slate-600 cursor-not-allowed":"bg-slate-700 text-white hover:bg-slate-600"}
                `,children:m?"Stop Prep":"Use Prep"})]},c)})})]})},FB=({isOpen:t,onClose:e})=>{if(!t)return null;const n=[{key:"Space",action:"Play / Pause timer"},{key:"R",action:"Reset current segment"},{key:"",action:"Previous segment"},{key:"",action:"Next segment"},{key:"M",action:"Toggle sound"},{key:"F",action:"Toggle fullscreen"},{key:"1-9",action:"Jump to segment"},{key:"P",action:"Use prep time (cycles sides)"},{key:"Esc",action:"Close modals / Exit fullscreen"}];return s.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:a=>a.target===a.currentTarget&&e(),children:s.jsxs(U.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},className:"w-full max-w-md bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-800 rounded-3xl shadow-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(Ej,{className:"w-5 h-5 text-cyan-400"}),"Keyboard Shortcuts"]}),s.jsx(U.button,{whileHover:{scale:1.1,rotate:90},onClick:e,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(Qn,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"space-y-2",children:n.map(({key:a,action:r})=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-slate-800/30",children:[s.jsx("span",{className:"text-slate-300",children:r}),s.jsx("kbd",{className:"px-3 py-1.5 rounded-lg bg-slate-700 text-white text-sm font-mono border border-slate-600",children:a})]},a))})]})})},BB=({isOpen:t,onClose:e,settings:n,onSettingsChange:a})=>t?s.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:r=>r.target===r.currentTarget&&e(),children:s.jsxs(U.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},className:"w-full max-w-md bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-800 rounded-3xl shadow-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(oc,{className:"w-5 h-5 text-cyan-400"}),"Timer Settings"]}),s.jsx(U.button,{whileHover:{scale:1.1,rotate:90},onClick:e,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:s.jsx(Qn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{children:s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-slate-300",children:"Sound Alerts"}),s.jsx("button",{onClick:()=>a({...n,soundEnabled:!n.soundEnabled}),className:`relative w-12 h-6 rounded-full transition-colors ${n.soundEnabled?"bg-cyan-500":"bg-slate-700"}`,children:s.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${n.soundEnabled?"left-7":"left-1"}`})})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Alert at (seconds remaining)"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:[120,60,30,10,0].map(r=>s.jsx("button",{onClick:()=>{const o=n.alertTimes.includes(r)?n.alertTimes.filter(c=>c!==r):[...n.alertTimes,r].sort((c,d)=>d-c);a({...n,alertTimes:o})},className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${n.alertTimes.includes(r)?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-slate-800 text-slate-400 hover:text-white"}`,children:r===0?"End":`${r}s`},r))})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-slate-300",children:"Allow Overtime"}),s.jsx("button",{onClick:()=>a({...n,allowOvertime:!n.allowOvertime}),className:`relative w-12 h-6 rounded-full transition-colors ${n.allowOvertime?"bg-cyan-500":"bg-slate-700"}`,children:s.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${n.allowOvertime?"left-7":"left-1"}`})})]})}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-slate-300",children:"Auto-advance to next segment"}),s.jsx("button",{onClick:()=>a({...n,autoAdvance:!n.autoAdvance}),className:`relative w-12 h-6 rounded-full transition-colors ${n.autoAdvance?"bg-cyan-500":"bg-slate-700"}`,children:s.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${n.autoAdvance?"left-7":"left-1"}`})})]})})]}),s.jsx("div",{className:"mt-6 pt-4 border-t border-slate-800",children:s.jsx(U.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"w-full py-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold",children:"Done"})})]})}):null,$B=()=>{const{user:t}=zn(),[e,n]=E.useState("pf"),[a,r]=E.useState(Ro.pf.segments),[o,c]=E.useState(Ro.pf.prepTime),[d,m]=E.useState(0),[f,x]=E.useState(Ro.pf.segments[0]?.time||0),[b,v]=E.useState(!1),[w,j]=E.useState([]),[D,k]=E.useState({}),[V,I]=E.useState(null),[B,Q]=E.useState({soundEnabled:!0,alertTimes:[60,30,10,0],allowOvertime:!0,autoAdvance:!1}),[se,G]=E.useState(!1),[R,A]=E.useState(!1),[L,T]=E.useState(!1),[C,P]=E.useState(null),O=E.useRef(null),te=E.useRef(null),J=E.useRef(null),q=a[d],X=q?.time||0,he=X>0?Math.max(0,f/X*100):0,ye=f<0,$=E.useCallback(()=>(te.current||(te.current=new(window.AudioContext||window.webkitAudioContext)),te.current),[]),re=E.useCallback((pe="beep")=>{if(B.soundEnabled)try{const be=$(),ke=be.createOscillator(),qe=be.createGain();switch(ke.connect(qe),qe.connect(be.destination),pe){case"warning":ke.frequency.value=880,ke.type="sine",qe.gain.value=.3;break;case"final":ke.frequency.value=440,ke.type="square",qe.gain.value=.4;break;case"end":ke.frequency.value=660,ke.type="sawtooth",qe.gain.value=.5;break;default:ke.frequency.value=660,ke.type="sine",qe.gain.value=.3}ke.start(),qe.gain.exponentialRampToValueAtTime(.01,be.currentTime+.3),ke.stop(be.currentTime+.3)}catch(be){console.error("Audio error:",be)}},[B.soundEnabled,$]);E.useEffect(()=>(b&&(O.current=setInterval(()=>{x(pe=>{const be=pe-1;return B.alertTimes.includes(be)&&be!==C&&(P(be),be===0?re("end"):be<=10?re("final"):re("warning")),be<=0&&!B.allowOvertime?(v(!1),B.autoAdvance&&d<a.length-1&&setTimeout(()=>Ue(),500),0):be})},1e3)),()=>{O.current&&clearInterval(O.current)}),[b,B,d,a.length,C,re]),E.useEffect(()=>{let pe;return V&&(pe=setInterval(()=>{k(be=>{const ke=(be[V]||0)+1;return ke>=o[V]?(I(null),re("end"),{...be,[V]:o[V]}):{...be,[V]:ke}})},1e3)),()=>{pe&&clearInterval(pe)}},[V,o,re]),E.useEffect(()=>{const pe=be=>{if(!(be.target.tagName==="INPUT"||be.target.tagName==="TEXTAREA"))switch(be.key.toLowerCase()){case" ":be.preventDefault(),v(qe=>!qe);break;case"r":Te();break;case"arrowleft":$e();break;case"arrowright":Ue();break;case"m":Q(qe=>({...qe,soundEnabled:!qe.soundEnabled}));break;case"f":Nn();break;case"p":wn();break;case"escape":L&&document.exitFullscreen?.(),G(!1),A(!1);break;default:const ke=parseInt(be.key);ke>=1&&ke<=a.length&&ut(ke-1)}};return window.addEventListener("keydown",pe),()=>window.removeEventListener("keydown",pe)},[a.length,L]);const ge=pe=>{const be=Ro[pe];n(pe),r(be.segments),c(be.prepTime),m(0),x(be.segments[0]?.time||0),v(!1),j([]),k({}),I(null)},z=()=>v(pe=>!pe),Te=()=>{x(q?.time||0),v(!1),P(null)},Ue=()=>{d<a.length-1&&(j(pe=>[...pe,d]),m(pe=>pe+1),x(a[d+1]?.time||0),v(!1),P(null))},$e=()=>{d>0&&(j(pe=>pe.filter(be=>be!==d-1)),m(pe=>pe-1),x(a[d-1]?.time||0),v(!1),P(null))},ut=pe=>{pe>=0&&pe<a.length&&(m(pe),x(a[pe]?.time||0),v(!1),P(null),j(Array.from({length:pe},(be,ke)=>ke)))},Nt=pe=>{v(!1),I(pe)},bt=()=>{I(null)},wn=()=>{const pe=Object.keys(o);if(V)I(null);else{const be=pe.indexOf(V),ke=pe[(be+1)%pe.length];o[ke]-(D[ke]||0)>0&&(I(ke),v(!1))}},Nn=()=>{document.fullscreenElement?(document.exitFullscreen(),T(!1)):(J.current?.requestFullscreen(),T(!0))};E.useEffect(()=>{const pe=()=>{T(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",pe),()=>document.removeEventListener("fullscreenchange",pe)},[]);const An=()=>{m(0),x(a[0]?.time||0),v(!1),j([]),k({}),I(null),P(null)};return s.jsxs(U.div,{ref:J,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`${L?"fixed inset-0 z-50 bg-slate-950 p-8":""}`,children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-600/20 border border-cyan-500/30",children:s.jsx(pf,{className:"w-7 h-7 text-cyan-400"})}),"Debate Timer"]}),s.jsxs("p",{className:"text-slate-400 mt-2",children:[Ro[e].name," Format"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>A(!0),className:"p-2.5 rounded-xl bg-slate-800 text-slate-400 hover:text-white transition-all",title:"Keyboard Shortcuts",children:s.jsx(Ej,{className:"w-5 h-5"})}),s.jsx(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Q(pe=>({...pe,soundEnabled:!pe.soundEnabled})),className:"p-2.5 rounded-xl bg-slate-800 text-slate-400 hover:text-white transition-all",title:B.soundEnabled?"Mute":"Unmute",children:B.soundEnabled?s.jsx(Ax,{className:"w-5 h-5"}):s.jsx(Uj,{className:"w-5 h-5"})}),s.jsx(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Nn,className:"p-2.5 rounded-xl bg-slate-800 text-slate-400 hover:text-white transition-all",title:"Toggle Fullscreen",children:L?s.jsx(hA,{className:"w-5 h-5"}):s.jsx(kj,{className:"w-5 h-5"})}),s.jsx(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>G(!0),className:"p-2.5 rounded-xl bg-slate-800 text-slate-400 hover:text-white transition-all",title:"Settings",children:s.jsx(oc,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:Object.entries(Ro).filter(([pe])=>pe!=="custom").map(([pe,be])=>s.jsx(U.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>ge(pe),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${e===pe?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-slate-800 text-slate-400 hover:text-white border border-slate-700"}`,children:be.shortName},pe))}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("div",{className:"p-8 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/80 to-slate-950/80",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:q?.fullName||"No Segment"}),s.jsxs("p",{className:"text-slate-400 mt-1",children:["Segment ",d+1," of ",a.length]})]}),s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx(VB,{progress:he,size:280,strokeWidth:14,timeRemaining:f,totalTime:X,isRunning:b,isOvertime:ye})}),s.jsxs("div",{className:"flex items-center justify-center gap-4",children:[s.jsx(U.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:$e,disabled:d===0,className:"p-3 rounded-xl bg-slate-700 text-white disabled:opacity-30 disabled:cursor-not-allowed hover:bg-slate-600 transition-all",children:s.jsx(Sj,{className:"w-6 h-6"})}),s.jsx(U.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Te,className:"p-3 rounded-xl bg-slate-700 text-white hover:bg-slate-600 transition-all",children:s.jsx(_i,{className:"w-6 h-6"})}),s.jsx(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:z,className:`p-5 rounded-2xl shadow-lg transition-all ${b?"bg-amber-500 hover:bg-amber-600 shadow-amber-500/25":"bg-gradient-to-r from-cyan-500 to-blue-600 shadow-cyan-500/25"}`,children:b?s.jsx(hd,{className:"w-8 h-8 text-white"}):s.jsx(Si,{className:"w-8 h-8 text-white"})}),s.jsx(U.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:An,className:"p-3 rounded-xl bg-slate-700 text-white hover:bg-slate-600 transition-all",title:"Reset All",children:s.jsx(_i,{className:"w-6 h-6"})}),s.jsx(U.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Ue,disabled:d===a.length-1,className:"p-3 rounded-xl bg-slate-700 text-white disabled:opacity-30 disabled:cursor-not-allowed hover:bg-slate-600 transition-all",children:s.jsx(mn,{className:"w-6 h-6"})})]}),s.jsxs("p",{className:"text-center text-slate-500 text-sm mt-6",children:["Press ",s.jsx("kbd",{className:"px-2 py-1 rounded bg-slate-800 text-slate-300 font-mono",children:"Space"})," to start/stop"]})]}),Object.keys(o).length>0&&o[Object.keys(o)[0]]>0&&s.jsx("div",{className:"mt-6",children:s.jsx(zB,{prepTime:o,usedPrepTime:D,onUsePrep:Nt,onStopPrep:bt,activePrepSide:V})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-white font-semibold flex items-center gap-2",children:[s.jsx(Ha,{className:"w-5 h-5 text-cyan-400"}),"Speech Segments"]}),s.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto pr-2",children:a.map((pe,be)=>s.jsx(UB,{segment:pe,index:be,isActive:be===d,isCompleted:w.includes(be),onClick:()=>ut(be)},be))}),s.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-800/60",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-slate-400 text-sm",children:"Progress"}),s.jsxs("span",{className:"text-white font-medium",children:[w.length," / ",a.length]})]}),s.jsx("div",{className:"h-2 rounded-full bg-slate-800 overflow-hidden",children:s.jsx(U.div,{initial:{width:0},animate:{width:`${w.length/a.length*100}%`},className:"h-full rounded-full bg-gradient-to-r from-cyan-500 to-emerald-500"})})]})]})]})]}),s.jsx(et,{children:se&&s.jsx(BB,{isOpen:se,onClose:()=>G(!1),settings:B,onSettingsChange:Q})}),s.jsx(et,{children:R&&s.jsx(FB,{isOpen:R,onClose:()=>A(!1)})})]})},mj={policy_1ac:{name:"Policy 1AC",format:"Policy",totalTime:480,sections:[{id:"inherency",type:"contention",title:"Inherency",timeAllocation:60,collapsed:!1,notes:"",subPoints:[{id:"inh-a",type:"subpoint",title:"Current System Fails",timeAllocation:30,notes:"",evidence:[{id:"inh-ev1",tag:"Status quo inadequate",source:"",notes:""}]},{id:"inh-b",type:"subpoint",title:"No Change Coming",timeAllocation:30,notes:"",evidence:[{id:"inh-ev2",tag:"No political will",source:"",notes:""}]}]},{id:"plan",type:"contention",title:"Plan Text",timeAllocation:30,collapsed:!1,notes:"Read slowly and clearly",subPoints:[]},{id:"solvency",type:"contention",title:"Solvency",timeAllocation:120,collapsed:!1,notes:"",subPoints:[{id:"solv-a",type:"subpoint",title:"Plan Solves the Problem",timeAllocation:60,notes:"",evidence:[{id:"solv-ev1",tag:"Expert analysis",source:"",notes:""},{id:"solv-ev2",tag:"Historical precedent",source:"",notes:""}]},{id:"solv-b",type:"subpoint",title:"Implementation Feasible",timeAllocation:60,notes:"",evidence:[{id:"solv-ev3",tag:"Resources available",source:"",notes:""}]}]},{id:"adv1",type:"contention",title:"Advantage 1: [Title]",timeAllocation:135,collapsed:!1,notes:"",subPoints:[{id:"adv1-a",type:"subpoint",title:"Link",timeAllocation:45,notes:"",evidence:[{id:"adv1-ev1",tag:"Problem exists",source:"",notes:""}]},{id:"adv1-b",type:"subpoint",title:"Internal Link",timeAllocation:30,notes:"",evidence:[{id:"adv1-ev2",tag:"Escalation scenario",source:"",notes:""}]},{id:"adv1-c",type:"subpoint",title:"Impact",timeAllocation:60,notes:"",evidence:[{id:"adv1-ev3",tag:"Magnitude/scope",source:"",notes:""},{id:"adv1-ev4",tag:"Timeframe",source:"",notes:""}]}]},{id:"adv2",type:"contention",title:"Advantage 2: [Title]",timeAllocation:135,collapsed:!1,notes:"",subPoints:[{id:"adv2-a",type:"subpoint",title:"Link",timeAllocation:45,notes:"",evidence:[]},{id:"adv2-b",type:"subpoint",title:"Internal Link",timeAllocation:30,notes:"",evidence:[]},{id:"adv2-c",type:"subpoint",title:"Impact",timeAllocation:60,notes:"",evidence:[]}]}]},ld_aff:{name:"LD Affirmative Case",format:"Lincoln Douglas",totalTime:360,sections:[{id:"intro",type:"contention",title:"Introduction",timeAllocation:30,collapsed:!1,notes:"Hook the judge",subPoints:[]},{id:"resolution",type:"contention",title:"Resolution & Definitions",timeAllocation:30,collapsed:!1,notes:"",subPoints:[{id:"def-a",type:"subpoint",title:"Key Terms",timeAllocation:15,notes:"",evidence:[]},{id:"def-b",type:"subpoint",title:"Framework/Standard",timeAllocation:15,notes:"",evidence:[]}]},{id:"value",type:"contention",title:"Value Premise",timeAllocation:45,collapsed:!1,notes:"",subPoints:[{id:"val-a",type:"subpoint",title:"Value Statement",timeAllocation:20,notes:"",evidence:[]},{id:"val-b",type:"subpoint",title:"Value Justification",timeAllocation:25,notes:"",evidence:[]}]},{id:"criterion",type:"contention",title:"Value Criterion",timeAllocation:45,collapsed:!1,notes:"",subPoints:[{id:"crit-a",type:"subpoint",title:"Criterion Statement",timeAllocation:15,notes:"",evidence:[]},{id:"crit-b",type:"subpoint",title:"Link to Value",timeAllocation:30,notes:"",evidence:[]}]},{id:"cont1",type:"contention",title:"Contention 1",timeAllocation:90,collapsed:!1,notes:"",subPoints:[{id:"c1-a",type:"subpoint",title:"Claim",timeAllocation:30,notes:"",evidence:[]},{id:"c1-b",type:"subpoint",title:"Warrant",timeAllocation:30,notes:"",evidence:[]},{id:"c1-c",type:"subpoint",title:"Impact to Criterion",timeAllocation:30,notes:"",evidence:[]}]},{id:"cont2",type:"contention",title:"Contention 2",timeAllocation:90,collapsed:!1,notes:"",subPoints:[{id:"c2-a",type:"subpoint",title:"Claim",timeAllocation:30,notes:"",evidence:[]},{id:"c2-b",type:"subpoint",title:"Warrant",timeAllocation:30,notes:"",evidence:[]},{id:"c2-c",type:"subpoint",title:"Impact to Criterion",timeAllocation:30,notes:"",evidence:[]}]},{id:"conclusion",type:"contention",title:"Conclusion",timeAllocation:30,collapsed:!1,notes:"Restate value and criterion",subPoints:[]}]},pf_case:{name:"Public Forum Case",format:"Public Forum",totalTime:240,sections:[{id:"intro",type:"contention",title:"Introduction/Hook",timeAllocation:20,collapsed:!1,notes:"Grab attention, state resolution stance",subPoints:[]},{id:"framework",type:"contention",title:"Framework (Optional)",timeAllocation:20,collapsed:!1,notes:"",subPoints:[]},{id:"cont1",type:"contention",title:"Contention 1",timeAllocation:90,collapsed:!1,notes:"",subPoints:[{id:"pf-c1-claim",type:"subpoint",title:"Claim/Tagline",timeAllocation:10,notes:"",evidence:[]},{id:"pf-c1-warrant",type:"subpoint",title:"Warrant/Analysis",timeAllocation:40,notes:"",evidence:[{id:"pf-c1-ev1",tag:"Evidence 1",source:"",notes:""},{id:"pf-c1-ev2",tag:"Evidence 2",source:"",notes:""}]},{id:"pf-c1-impact",type:"subpoint",title:"Impact",timeAllocation:40,notes:"",evidence:[]}]},{id:"cont2",type:"contention",title:"Contention 2",timeAllocation:90,collapsed:!1,notes:"",subPoints:[{id:"pf-c2-claim",type:"subpoint",title:"Claim/Tagline",timeAllocation:10,notes:"",evidence:[]},{id:"pf-c2-warrant",type:"subpoint",title:"Warrant/Analysis",timeAllocation:40,notes:"",evidence:[]},{id:"pf-c2-impact",type:"subpoint",title:"Impact",timeAllocation:40,notes:"",evidence:[]}]},{id:"conclusion",type:"contention",title:"Conclusion/Weighing",timeAllocation:20,collapsed:!1,notes:"Summarize why your impacts outweigh",subPoints:[]}]},congress_speech:{name:"Congress Speech",format:"Congressional Debate",totalTime:180,sections:[{id:"intro",type:"contention",title:"Introduction",timeAllocation:20,collapsed:!1,notes:"Hook + thesis",subPoints:[]},{id:"point1",type:"contention",title:"Point 1",timeAllocation:50,collapsed:!1,notes:"",subPoints:[{id:"cong-p1-claim",type:"subpoint",title:"Claim",timeAllocation:10,notes:"",evidence:[]},{id:"cong-p1-evidence",type:"subpoint",title:"Evidence",timeAllocation:25,notes:"",evidence:[{id:"cong-ev1",tag:"Statistic/Quote",source:"",notes:""}]},{id:"cong-p1-analysis",type:"subpoint",title:"Analysis",timeAllocation:15,notes:"",evidence:[]}]},{id:"point2",type:"contention",title:"Point 2",timeAllocation:50,collapsed:!1,notes:"",subPoints:[{id:"cong-p2-claim",type:"subpoint",title:"Claim",timeAllocation:10,notes:"",evidence:[]},{id:"cong-p2-evidence",type:"subpoint",title:"Evidence",timeAllocation:25,notes:"",evidence:[]},{id:"cong-p2-analysis",type:"subpoint",title:"Analysis",timeAllocation:15,notes:"",evidence:[]}]},{id:"point3",type:"contention",title:"Point 3 (Optional)",timeAllocation:40,collapsed:!1,notes:"",subPoints:[]},{id:"conclusion",type:"contention",title:"Conclusion",timeAllocation:20,collapsed:!1,notes:"Call to action - urge passage/defeat",subPoints:[]}]},blank:{name:"Blank Outline",format:"Custom",totalTime:300,sections:[]}},pi=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,ra=t=>{const e=Math.floor(t/60),n=t%60;return`${e}:${n.toString().padStart(2,"0")}`},qB=({evidence:t,onChange:e,onDelete:n})=>{const[a,r]=E.useState(!1);return s.jsxs(U.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-slate-700/50 border border-slate-600 rounded-lg p-3 space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(ff,{className:"w-4 h-4 text-cyan-400 mt-1 flex-shrink-0"}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("input",{type:"text",value:t.tag,onChange:o=>e({...t,tag:o.target.value}),placeholder:"Evidence tag...",className:"w-full bg-transparent text-white text-sm font-medium focus:outline-none"})}),s.jsx("button",{onClick:n,className:"p-1 text-slate-400 hover:text-red-400 transition-colors",children:s.jsx(Un,{className:"w-3 h-3"})})]}),s.jsx("input",{type:"text",value:t.source,onChange:o=>e({...t,source:o.target.value}),placeholder:"Source (Author, Year)...",className:"w-full bg-slate-800/50 text-slate-300 text-xs px-2 py-1 rounded focus:outline-none focus:ring-1 focus:ring-cyan-500/50"}),a?s.jsx("textarea",{value:t.notes,onChange:o=>e({...t,notes:o.target.value}),onBlur:()=>r(!1),placeholder:"Notes about this evidence...",className:"w-full bg-slate-800/50 text-slate-400 text-xs px-2 py-1 rounded focus:outline-none focus:ring-1 focus:ring-cyan-500/50 min-h-[60px]",autoFocus:!0}):s.jsx("div",{onClick:()=>r(!0),className:"text-xs text-slate-500 cursor-pointer hover:text-slate-400",children:t.notes||"+ Add notes..."})]})},HB=({subPoint:t,onChange:e,onDelete:n,index:a})=>{const[r,o]=E.useState(!0),c=()=>{const f={id:pi(),tag:"",source:"",notes:""};e({...t,evidence:[...t.evidence,f]})},d=(f,x)=>{e({...t,evidence:t.evidence.map(b=>b.id===f?x:b)})},m=f=>{e({...t,evidence:t.evidence.filter(x=>x.id!==f)})};return s.jsx(U.div,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"ml-6 border-l-2 border-slate-600 pl-4",children:s.jsxs("div",{className:"bg-slate-800/30 rounded-lg p-3 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ex,{className:"w-4 h-4 text-slate-500 cursor-grab"}),s.jsx("button",{onClick:()=>o(!r),className:"p-1 text-slate-400 hover:text-white transition-colors",children:r?s.jsx($a,{className:"w-4 h-4"}):s.jsx(mn,{className:"w-4 h-4"})}),s.jsxs("span",{className:"text-cyan-400 text-sm font-medium",children:[String.fromCharCode(65+a),"."]}),s.jsx("input",{type:"text",value:t.title,onChange:f=>e({...t,title:f.target.value}),placeholder:"Sub-point title...",className:"flex-1 bg-transparent text-white font-medium focus:outline-none"}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[s.jsx(qt,{className:"w-3 h-3"}),s.jsx("input",{type:"number",value:t.timeAllocation,onChange:f=>e({...t,timeAllocation:parseInt(f.target.value)||0}),className:"w-12 bg-slate-700/50 text-center rounded px-1 py-0.5 focus:outline-none focus:ring-1 focus:ring-cyan-500/50"}),s.jsx("span",{children:"sec"})]}),s.jsx("button",{onClick:n,className:"p-1 text-slate-400 hover:text-red-400 transition-colors",children:s.jsx(Un,{className:"w-4 h-4"})})]}),s.jsx(et,{children:r&&s.jsxs(U.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-3",children:[s.jsx("textarea",{value:t.notes,onChange:f=>e({...t,notes:f.target.value}),placeholder:"Notes for this sub-point...",className:"w-full bg-slate-700/30 text-slate-300 text-sm px-3 py-2 rounded-lg focus:outline-none focus:ring-1 focus:ring-cyan-500/50 min-h-[60px]"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Evidence"}),s.jsxs("button",{onClick:c,className:"flex items-center gap-1 text-xs text-cyan-400 hover:text-cyan-300 transition-colors",children:[s.jsx(At,{className:"w-3 h-3"}),"Add Evidence"]})]}),s.jsx(et,{children:t.evidence.map(f=>s.jsx(qB,{evidence:f,onChange:x=>d(f.id,x),onDelete:()=>m(f.id)},f.id))})]})]})})]})})},GB=({contention:t,onChange:e,onDelete:n,index:a})=>{const[r,o]=E.useState(t.collapsed),c=t.subPoints.reduce((v,w)=>v+w.timeAllocation,0),d=c>t.timeAllocation?"over":c<t.timeAllocation*.8?"under":"good",m=()=>{const v={id:pi(),type:"subpoint",title:"",timeAllocation:30,notes:"",evidence:[]};e({...t,subPoints:[...t.subPoints,v]})},f=(v,w)=>{e({...t,subPoints:t.subPoints.map(j=>j.id===v?w:j)})},x=v=>{e({...t,subPoints:t.subPoints.filter(w=>w.id!==v)})},b=v=>{e({...t,subPoints:v})};return s.jsxs(U.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:[s.jsxs("div",{className:"p-4 bg-slate-800/80",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ex,{className:"w-5 h-5 text-slate-500 cursor-grab"}),s.jsx("button",{onClick:()=>o(!r),className:"p-1 text-slate-400 hover:text-white transition-colors",children:r?s.jsx(mn,{className:"w-5 h-5"}):s.jsx($a,{className:"w-5 h-5"})}),s.jsxs("span",{className:"text-purple-400 font-bold text-lg",children:[a+1,"."]}),s.jsx("input",{type:"text",value:t.title,onChange:v=>e({...t,title:v.target.value}),placeholder:"Contention title...",className:"flex-1 bg-transparent text-white text-lg font-semibold focus:outline-none"}),s.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-lg ${d==="over"?"bg-red-500/20 text-red-400":d==="under"?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"}`,children:[s.jsx(qt,{className:"w-4 h-4"}),s.jsx("input",{type:"number",value:t.timeAllocation,onChange:v=>e({...t,timeAllocation:parseInt(v.target.value)||0}),className:"w-14 bg-transparent text-center font-medium focus:outline-none"}),s.jsx("span",{className:"text-sm",children:"sec"}),d==="over"&&s.jsx(ts,{className:"w-4 h-4"}),d==="good"&&s.jsx(qo,{className:"w-4 h-4"})]}),s.jsx("button",{onClick:n,className:"p-2 text-slate-400 hover:text-red-400 transition-colors",children:s.jsx(Un,{className:"w-5 h-5"})})]}),t.subPoints.length>0&&s.jsxs("div",{className:"mt-2 ml-12 text-xs text-slate-500",children:["Sub-points total: ",ra(c)," / ",ra(t.timeAllocation)," allocated"]})]}),s.jsx(et,{children:!r&&s.jsxs(U.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Vj,{className:"w-4 h-4 text-slate-400 mt-2"}),s.jsx("textarea",{value:t.notes,onChange:v=>e({...t,notes:v.target.value}),placeholder:"Notes for this contention...",className:"flex-1 bg-slate-700/30 text-slate-300 px-3 py-2 rounded-lg focus:outline-none focus:ring-1 focus:ring-purple-500/50 min-h-[60px]"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(vx,{axis:"y",values:t.subPoints,onReorder:b,className:"space-y-3",children:t.subPoints.map((v,w)=>s.jsx(wx,{value:v,children:s.jsx(HB,{subPoint:v,onChange:j=>f(v.id,j),onDelete:()=>x(v.id),index:w})},v.id))}),s.jsxs("button",{onClick:m,className:"ml-6 flex items-center gap-2 text-sm text-slate-400 hover:text-cyan-400 transition-colors",children:[s.jsx(At,{className:"w-4 h-4"}),"Add Sub-Point"]})]})]})})]})},YB=()=>{const[t,e]=E.useState({id:pi(),name:"Untitled Outline",format:"Custom",totalTime:300,sections:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),[n,a]=E.useState([]),[r,o]=E.useState(!0),[c,d]=E.useState(!1),m=t.sections.reduce((R,A)=>R+A.timeAllocation,0),f=t.sections.reduce((R,A)=>R+A.subPoints.reduce((L,T)=>L+T.evidence.length,0),0),x=m>t.totalTime?"over":m<t.totalTime*.9?"under":"good",b=R=>{const A=mj[R];e({...A,id:pi(),name:A.name,sections:A.sections.map(L=>({...L,id:pi(),subPoints:L.subPoints.map(T=>({...T,id:pi(),evidence:T.evidence.map(C=>({...C,id:pi()}))}))})),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),o(!1)},v=()=>{const R={id:pi(),type:"contention",title:"",timeAllocation:60,collapsed:!1,notes:"",subPoints:[]};e(A=>({...A,sections:[...A.sections,R],updatedAt:new Date().toISOString()}))},w=(R,A)=>{e(L=>({...L,sections:L.sections.map(T=>T.id===R?A:T),updatedAt:new Date().toISOString()}))},j=R=>{e(A=>({...A,sections:A.sections.filter(L=>L.id!==R),updatedAt:new Date().toISOString()}))},D=R=>{e(A=>({...A,sections:R,updatedAt:new Date().toISOString()}))},k=()=>{const R={...t,updatedAt:new Date().toISOString()};a(A=>{const L=A.findIndex(T=>T.id===t.id);if(L>=0){const T=[...A];return T[L]=R,T}return[...A,R]}),e(R)},V=R=>{e(R),d(!1)},I=()=>{const R=JSON.stringify(t,null,2),A=new Blob([R],{type:"application/json"}),L=URL.createObjectURL(A),T=document.createElement("a");T.href=L,T.download=`${t.name.replace(/\s+/g,"_")}.json`,T.click(),URL.revokeObjectURL(L)},B=()=>{let R=`# ${t.name}

`;R+=`**Format:** ${t.format}  
`,R+=`**Total Time:** ${ra(t.totalTime)}

`,R+=`---

`,t.sections.forEach((C,P)=>{R+=`## ${P+1}. ${C.title||"Untitled"} (${ra(C.timeAllocation)})

`,C.notes&&(R+=`*${C.notes}*

`),C.subPoints.forEach((O,te)=>{R+=`### ${String.fromCharCode(65+te)}. ${O.title||"Untitled"} (${ra(O.timeAllocation)})

`,O.notes&&(R+=`${O.notes}

`),O.evidence.forEach((J,q)=>{R+=`- **[${J.tag||"Evidence"}]** ${J.source||""}
`,J.notes&&(R+=`  - ${J.notes}
`)}),O.evidence.length>0&&(R+=`
`)}),R+=`
`});const A=new Blob([R],{type:"text/markdown"}),L=URL.createObjectURL(A),T=document.createElement("a");T.href=L,T.download=`${t.name.replace(/\s+/g,"_")}.md`,T.click(),URL.revokeObjectURL(L)},Q=()=>{let R=`<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>${t.name}</title>
  <style>
    body { font-family: 'Georgia', serif; max-width: 800px; margin: 40px auto; padding: 20px; line-height: 1.6; }
    h1 { color: #1a1a2e; border-bottom: 2px solid #4a4a8a; padding-bottom: 10px; }
    h2 { color: #4a4a8a; margin-top: 30px; }
    h3 { color: #6a6aaa; margin-left: 20px; }
    .meta { color: #666; font-style: italic; margin-bottom: 20px; }
    .time { color: #888; font-size: 0.9em; }
    .notes { background: #f5f5f5; padding: 10px; border-left: 3px solid #4a4a8a; margin: 10px 0; }
    .evidence { margin-left: 40px; padding: 10px; background: #fafafa; border-radius: 5px; margin-bottom: 10px; }
    .evidence-tag { font-weight: bold; color: #4a4a8a; }
    .evidence-source { color: #666; font-style: italic; }
    @media print { body { margin: 20px; } }
  </style>
</head>
<body>
  <h1>${t.name}</h1>
  <div class="meta">
    <strong>Format:</strong> ${t.format} | 
    <strong>Total Time:</strong> ${ra(t.totalTime)}
  </div>
`;t.sections.forEach((C,P)=>{R+=`  <h2>${P+1}. ${C.title||"Untitled"} <span class="time">(${ra(C.timeAllocation)})</span></h2>
`,C.notes&&(R+=`  <div class="notes">${C.notes}</div>
`),C.subPoints.forEach((O,te)=>{R+=`  <h3>${String.fromCharCode(65+te)}. ${O.title||"Untitled"} <span class="time">(${ra(O.timeAllocation)})</span></h3>
`,O.notes&&(R+=`  <p>${O.notes}</p>
`),O.evidence.forEach(J=>{R+=`  <div class="evidence">
    <span class="evidence-tag">[${J.tag||"Evidence"}]</span>
    <span class="evidence-source">${J.source||""}</span>
    ${J.notes?`<p>${J.notes}</p>`:""}
  </div>
`})})}),R+=`</body>
</html>`;const A=new Blob([R],{type:"text/html"}),L=URL.createObjectURL(A),T=document.createElement("a");T.href=L,T.download=`${t.name.replace(/\s+/g,"_")}.html`,T.click(),URL.revokeObjectURL(L)},se=R=>{const A=R.target.files?.[0];if(!A)return;const L=new FileReader;L.onload=T=>{try{const C=JSON.parse(T.target?.result);e({...C,id:pi(),updatedAt:new Date().toISOString()})}catch(C){console.error("Failed to import outline:",C)}},L.readAsText(A),R.target.value=""},G=()=>{if(t.sections.length===0)return;const R=Math.floor(t.totalTime/t.sections.length);e(A=>({...A,sections:A.sections.map(L=>{const T=L.subPoints.length||1,C=Math.floor(L.timeAllocation/T);return{...L,timeAllocation:R,subPoints:L.subPoints.map(P=>({...P,timeAllocation:C}))}}),updatedAt:new Date().toISOString()}))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl",children:s.jsx(xn,{className:"w-6 h-6 text-white"})}),"Speech Outline Builder"]}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Create structured speech outlines with drag-and-drop organization"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[s.jsx(yA,{className:"w-4 h-4"}),"Templates"]}),s.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[s.jsx(of,{className:"w-4 h-4"}),"Saved"]})]})]}),s.jsx(et,{children:r&&s.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>o(!1),children:s.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",onClick:R=>R.stopPropagation(),children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Choose a Template"}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(mj).map(([R,A])=>s.jsxs("button",{onClick:()=>b(R),className:"p-4 bg-slate-700/50 hover:bg-slate-700 border border-slate-600 hover:border-purple-500 rounded-xl text-left transition-all",children:[s.jsx("div",{className:"font-semibold text-white",children:A.name}),s.jsx("div",{className:"text-sm text-slate-400 mt-1",children:A.format}),s.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:[ra(A.totalTime),"  ",A.sections.length," sections"]})]},R))})]})})}),s.jsx(et,{children:c&&s.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>d(!1),children:s.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-lg w-full max-h-[80vh] overflow-y-auto",onClick:R=>R.stopPropagation(),children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Saved Outlines"}),n.length===0?s.jsx("p",{className:"text-slate-400 text-center py-8",children:"No saved outlines yet"}):s.jsx("div",{className:"space-y-2",children:n.map(R=>s.jsxs("button",{onClick:()=>V(R),className:"w-full p-3 bg-slate-700/50 hover:bg-slate-700 border border-slate-600 rounded-lg text-left transition-colors",children:[s.jsx("div",{className:"font-medium text-white",children:R.name}),s.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:[R.format,"  Updated ",new Date(R.updatedAt).toLocaleDateString()]})]},R.id))})]})})}),s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Outline Name"}),s.jsx("input",{type:"text",value:t.name,onChange:R=>e(A=>({...A,name:R.target.value})),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Format"}),s.jsxs("select",{value:t.format,onChange:R=>e(A=>({...A,format:R.target.value})),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/50",children:[s.jsx("option",{value:"Custom",children:"Custom"}),s.jsx("option",{value:"Policy",children:"Policy"}),s.jsx("option",{value:"Lincoln Douglas",children:"Lincoln Douglas"}),s.jsx("option",{value:"Public Forum",children:"Public Forum"}),s.jsx("option",{value:"Congressional Debate",children:"Congressional Debate"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Total Time (seconds)"}),s.jsx("input",{type:"number",value:t.totalTime,onChange:R=>e(A=>({...A,totalTime:parseInt(R.target.value)||0})),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/50"})]})]}),s.jsxs("div",{className:"flex items-center gap-6 mt-4 pt-4 border-t border-slate-700",children:[s.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-lg ${x==="over"?"bg-red-500/20 text-red-400":x==="under"?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"}`,children:[s.jsx(qt,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:ra(m)}),s.jsxs("span",{className:"text-sm opacity-75",children:["/ ",ra(t.totalTime)]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[s.jsx(Cj,{className:"w-4 h-4"}),s.jsxs("span",{children:[t.sections.length," contentions"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[s.jsx(Ni,{className:"w-4 h-4"}),s.jsxs("span",{children:[f," evidence cards"]})]}),s.jsxs("button",{onClick:G,className:"flex items-center gap-2 text-sm text-purple-400 hover:text-purple-300 transition-colors ml-auto",children:[s.jsx(Ik,{className:"w-4 h-4"}),"Auto-allocate time"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-lg transition-colors",children:[s.jsx(At,{className:"w-4 h-4"}),"Add Contention"]}),s.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[s.jsx(df,{className:"w-4 h-4"}),"Save"]}),s.jsx("div",{className:"h-6 w-px bg-slate-700"}),s.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-3 py-2 bg-slate-700/50 hover:bg-slate-700 text-slate-300 rounded-lg transition-colors text-sm",children:[s.jsx(wC,{className:"w-4 h-4"}),"Markdown"]}),s.jsxs("button",{onClick:Q,className:"flex items-center gap-2 px-3 py-2 bg-slate-700/50 hover:bg-slate-700 text-slate-300 rounded-lg transition-colors text-sm",children:[s.jsx(Dj,{className:"w-4 h-4"}),"HTML"]}),s.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-3 py-2 bg-slate-700/50 hover:bg-slate-700 text-slate-300 rounded-lg transition-colors text-sm",children:[s.jsx(ac,{className:"w-4 h-4"}),"JSON"]}),s.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-slate-700/50 hover:bg-slate-700 text-slate-300 rounded-lg transition-colors text-sm cursor-pointer",children:[s.jsx(md,{className:"w-4 h-4"}),"Import",s.jsx("input",{type:"file",accept:".json",onChange:se,className:"hidden"})]}),s.jsxs("button",{onClick:()=>b("blank"),className:"flex items-center gap-2 px-3 py-2 bg-slate-700/50 hover:bg-slate-700 text-slate-300 rounded-lg transition-colors text-sm ml-auto",children:[s.jsx(_i,{className:"w-4 h-4"}),"Reset"]})]}),s.jsx("div",{className:"space-y-4",children:t.sections.length===0?s.jsxs("div",{className:"text-center py-16",children:[s.jsx(xn,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-slate-400",children:"No contentions yet"}),s.jsx("p",{className:"text-slate-500 mt-1",children:"Start by choosing a template or adding your first contention"}),s.jsxs("div",{className:"flex items-center justify-center gap-3 mt-4",children:[s.jsx("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-lg transition-colors",children:"Choose Template"}),s.jsx("button",{onClick:v,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Start from Scratch"})]})]}):s.jsx(vx,{axis:"y",values:t.sections,onReorder:D,className:"space-y-4",children:t.sections.map((R,A)=>s.jsx(wx,{value:R,children:s.jsx(GB,{contention:R,onChange:L=>w(R.id,L),onDelete:()=>j(R.id),index:A})},R.id))})})]})},gm={policy:{name:"Policy",roundTime:90,prepTime:10,breakTime:15},ld:{name:"Lincoln Douglas",roundTime:45,prepTime:5,breakTime:10},pf:{name:"Public Forum",roundTime:40,prepTime:5,breakTime:10},congress:{name:"Congress",roundTime:60,prepTime:0,breakTime:15},parli:{name:"Parliamentary",roundTime:35,prepTime:15,breakTime:10}},sf=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,fj=(t,e=1)=>{if(t.length<2)return[];const n=[...t];n.length%2!==0&&n.push({id:"bye",name:"BYE",school:""});const a=n.length,r=(a-1)*e,o=a/2,c=[];for(let d=0;d<r;d++){const m=[],f=[...n],x=d%(a-1);for(let b=0;b<x;b++){const v=f.pop();f.splice(1,0,v)}for(let b=0;b<o;b++){const v=f[b],w=f[a-1-b];if(v.id==="bye"||w.id==="bye")continue;const j=d%2===0?v:w,D=d%2===0?w:v;m.push({id:sf(),roundNumber:d+1,matchNumber:b+1,affTeam:j.id,negTeam:D.id,venue:null,timeSlot:null,judge:null,status:"scheduled",winner:null,notes:""})}c.push({id:sf(),roundNumber:d+1,matches:m,startTime:null,status:"pending"})}return c},QB=(t,e,n)=>{const a=[];return t.forEach((r,o)=>{const c=r.matches,d=new Map;if(c.forEach(f=>{[f.affTeam,f.negTeam].forEach(x=>{d.has(x)&&a.push({type:"team-double-book",severity:"error",roundNumber:r.roundNumber,message:`Team "${e.find(b=>b.id===x)?.name}" has multiple matches in Round ${r.roundNumber}`}),d.set(x,!0)})}),r.startTime){const f=new Map;c.forEach(x=>{x.venue&&x.timeSlot===r.startTime&&(f.has(x.venue)&&a.push({type:"venue-double-book",severity:"error",roundNumber:r.roundNumber,message:`Venue "${n.find(b=>b.id===x.venue)?.name}" is double-booked in Round ${r.roundNumber}`}),f.set(x.venue,!0))})}const m=n.filter(f=>f.available).length;c.length>m&&m>0&&a.push({type:"insufficient-venues",severity:"warning",roundNumber:r.roundNumber,message:`Round ${r.roundNumber} has ${c.length} matches but only ${m} venues available`})}),a},KB=({team:t,onChange:e,onDelete:n})=>s.jsxs(U.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"flex items-center gap-2 bg-slate-700/50 rounded-lg p-2",children:[s.jsx(gn,{className:"w-4 h-4 text-slate-400"}),s.jsx("input",{type:"text",value:t.name,onChange:a=>e({...t,name:a.target.value}),placeholder:"Team name...",className:"flex-1 bg-transparent text-white text-sm focus:outline-none"}),s.jsx("input",{type:"text",value:t.school||"",onChange:a=>e({...t,school:a.target.value}),placeholder:"School...",className:"w-32 bg-transparent text-slate-400 text-sm focus:outline-none"}),s.jsx("button",{onClick:n,className:"p-1 text-slate-400 hover:text-red-400 transition-colors",children:s.jsx(Un,{className:"w-4 h-4"})})]}),WB=({venue:t,onChange:e,onDelete:n})=>s.jsxs(U.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"flex items-center gap-2 bg-slate-700/50 rounded-lg p-2",children:[s.jsx(rc,{className:"w-4 h-4 text-slate-400"}),s.jsx("input",{type:"text",value:t.name,onChange:a=>e({...t,name:a.target.value}),placeholder:"Room/Venue name...",className:"flex-1 bg-transparent text-white text-sm focus:outline-none"}),s.jsxs("label",{className:"flex items-center gap-1 text-xs text-slate-400",children:[s.jsx("input",{type:"checkbox",checked:t.available,onChange:a=>e({...t,available:a.target.checked}),className:"rounded border-slate-600"}),"Available"]}),s.jsx("button",{onClick:n,className:"p-1 text-slate-400 hover:text-red-400 transition-colors",children:s.jsx(Un,{className:"w-4 h-4"})})]}),L_=({match:t,teams:e,venues:n,onUpdate:a,onDelete:r,compact:o=!1})=>{const[c,d]=E.useState(!1),m=e.find(v=>v.id===t.affTeam),f=e.find(v=>v.id===t.negTeam),x=n.find(v=>v.id===t.venue),b={scheduled:"bg-slate-600 text-slate-300",in_progress:"bg-yellow-500/20 text-yellow-400",completed:"bg-green-500/20 text-green-400",cancelled:"bg-red-500/20 text-red-400"};return o?s.jsxs("div",{className:"flex items-center justify-between bg-slate-700/30 rounded-lg p-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-cyan-400 font-medium",children:m?.name||"?"}),s.jsx("span",{className:"text-slate-500",children:"vs"}),s.jsx("span",{className:"text-orange-400 font-medium",children:f?.name||"?"})]}),x&&s.jsx("span",{className:"text-slate-500 text-xs",children:x.name})]}):s.jsxs(U.div,{layout:!0,className:"bg-slate-800/50 border border-slate-700 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("span",{className:"text-xs text-slate-500",children:["Match #",t.matchNumber]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${b[t.status]}`,children:t.status.replace("_"," ")}),s.jsx("button",{onClick:()=>d(!c),className:"p-1 text-slate-400 hover:text-white transition-colors",children:s.jsx(EA,{className:"w-3 h-3"})})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("div",{className:"text-xs text-cyan-400 uppercase tracking-wide mb-1",children:"Aff"}),s.jsx("div",{className:"font-semibold text-white",children:m?.name||"TBD"}),m?.school&&s.jsx("div",{className:"text-xs text-slate-500",children:m.school})]}),s.jsx("div",{className:"text-slate-500 font-bold",children:"vs"}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("div",{className:"text-xs text-orange-400 uppercase tracking-wide mb-1",children:"Neg"}),s.jsx("div",{className:"font-semibold text-white",children:f?.name||"TBD"}),f?.school&&s.jsx("div",{className:"text-xs text-slate-500",children:f.school})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mt-3 text-xs text-slate-400",children:[x&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(rc,{className:"w-3 h-3"}),x.name]}),t.timeSlot&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(qt,{className:"w-3 h-3"}),t.timeSlot]})]}),t.winner&&s.jsx("div",{className:"mt-3 text-center",children:s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded",children:[s.jsx($t,{className:"w-3 h-3"}),"Winner: ",e.find(v=>v.id===t.winner)?.name]})})]}),s.jsx(et,{children:c&&s.jsx(U.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-slate-700",children:s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Venue"}),s.jsxs("select",{value:t.venue||"",onChange:v=>a({...t,venue:v.target.value||null}),className:"w-full bg-slate-700/50 border border-slate-600 text-white text-sm px-2 py-1 rounded focus:outline-none",children:[s.jsx("option",{value:"",children:"Select venue..."}),n.filter(v=>v.available).map(v=>s.jsx("option",{value:v.id,children:v.name},v.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Status"}),s.jsxs("select",{value:t.status,onChange:v=>a({...t,status:v.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 text-white text-sm px-2 py-1 rounded focus:outline-none",children:[s.jsx("option",{value:"scheduled",children:"Scheduled"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),t.status==="completed"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Winner"}),s.jsxs("select",{value:t.winner||"",onChange:v=>a({...t,winner:v.target.value||null}),className:"w-full bg-slate-700/50 border border-slate-600 text-white text-sm px-2 py-1 rounded focus:outline-none",children:[s.jsx("option",{value:"",children:"Select winner..."}),s.jsxs("option",{value:t.affTeam,children:[m?.name," (Aff)"]}),s.jsxs("option",{value:t.negTeam,children:[f?.name," (Neg)"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Notes"}),s.jsx("input",{type:"text",value:t.notes,onChange:v=>a({...t,notes:v.target.value}),placeholder:"Match notes...",className:"w-full bg-slate-700/50 border border-slate-600 text-white text-sm px-2 py-1 rounded focus:outline-none"})]})]})})})]})},XB=({round:t,teams:e,venues:n,onUpdateMatch:a,onUpdateRound:r,expanded:o=!1})=>{const[c,d]=E.useState(o),m=t.matches.filter(x=>x.status==="completed").length,f=t.matches.length>0?m/t.matches.length*100:0;return s.jsxs(U.div,{layout:!0,className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:[s.jsx("div",{className:"p-4 cursor-pointer hover:bg-slate-800/80 transition-colors",onClick:()=>d(!c),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{className:"p-1 text-slate-400",children:c?s.jsx($a,{className:"w-5 h-5"}):s.jsx(mn,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-white",children:["Round ",t.roundNumber]}),s.jsxs("p",{className:"text-xs text-slate-400",children:[t.matches.length," matches  ",m," completed"]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[t.startTime&&s.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-400",children:[s.jsx(qt,{className:"w-4 h-4"}),t.startTime]}),s.jsx("div",{className:"w-24 h-2 bg-slate-700 rounded-full overflow-hidden",children:s.jsx(U.div,{initial:{width:0},animate:{width:`${f}%`},className:`h-full ${f===100?"bg-green-500":f>0?"bg-yellow-500":"bg-slate-600"}`})})]})]})}),s.jsx(et,{children:c&&s.jsxs(U.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-slate-700",children:[s.jsxs("div",{className:"p-4 bg-slate-800/30 flex items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Start Time"}),s.jsx("input",{type:"time",value:t.startTime||"",onChange:x=>r({...t,startTime:x.target.value}),className:"bg-slate-700/50 border border-slate-600 text-white text-sm px-2 py-1 rounded focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Status"}),s.jsxs("select",{value:t.status,onChange:x=>r({...t,status:x.target.value}),className:"bg-slate-700/50 border border-slate-600 text-white text-sm px-2 py-1 rounded focus:outline-none",children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"completed",children:"Completed"})]})]})]}),s.jsx("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.matches.map(x=>s.jsx(L_,{match:x,teams:e,venues:n,onUpdate:b=>a(t.id,x.id,b)},x.id))})]})})]})},JB=({rounds:t,teams:e,venues:n})=>s.jsx("div",{className:"overflow-x-auto",children:s.jsx("div",{className:"flex gap-6 min-w-max p-4",children:t.map(a=>s.jsxs("div",{className:"w-64 flex-shrink-0",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsxs("h3",{className:"font-semibold text-white",children:["Round ",a.roundNumber]}),a.startTime&&s.jsx("p",{className:"text-xs text-slate-400",children:a.startTime})]}),s.jsx("div",{className:"space-y-3",children:a.matches.map(r=>s.jsx(L_,{match:r,teams:e,venues:n,onUpdate:()=>{},compact:!0},r.id))})]},a.id))})}),ZB=({rounds:t,teams:e})=>{const n=E.useMemo(()=>{const a=new Map;return e.forEach(r=>{a.set(r.id,{team:r,wins:0,losses:0,affWins:0,negWins:0,totalMatches:0})}),t.forEach(r=>{r.matches.forEach(o=>{if(o.status==="completed"&&o.winner){const c=a.get(o.affTeam),d=a.get(o.negTeam);c&&(c.totalMatches++,o.winner===o.affTeam?(c.wins++,c.affWins++):c.losses++),d&&(d.totalMatches++,o.winner===o.negTeam?(d.wins++,d.negWins++):d.losses++)}})}),Array.from(a.values()).sort((r,o)=>o.wins!==r.wins?o.wins-r.wins:r.losses-o.losses)},[t,e]);return s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b border-slate-700",children:s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx(Cn,{className:"w-5 h-5 text-purple-400"}),"Current Standings"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-800/50",children:s.jsxs("tr",{className:"text-left text-xs text-slate-400 uppercase tracking-wide",children:[s.jsx("th",{className:"px-4 py-3",children:"Rank"}),s.jsx("th",{className:"px-4 py-3",children:"Team"}),s.jsx("th",{className:"px-4 py-3",children:"School"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"W"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"L"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Aff W"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Neg W"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Win %"})]})}),s.jsx("tbody",{children:n.map((a,r)=>{const o=a.totalMatches>0?(a.wins/a.totalMatches*100).toFixed(0):"-";return s.jsxs("tr",{className:"border-t border-slate-700/50 hover:bg-slate-700/30",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`font-bold ${r===0?"text-yellow-400":r===1?"text-slate-300":r===2?"text-orange-400":"text-slate-500"}`,children:r+1})}),s.jsx("td",{className:"px-4 py-3 font-medium text-white",children:a.team.name}),s.jsx("td",{className:"px-4 py-3 text-slate-400",children:a.team.school||"-"}),s.jsx("td",{className:"px-4 py-3 text-center text-green-400 font-medium",children:a.wins}),s.jsx("td",{className:"px-4 py-3 text-center text-red-400 font-medium",children:a.losses}),s.jsx("td",{className:"px-4 py-3 text-center text-cyan-400",children:a.affWins}),s.jsx("td",{className:"px-4 py-3 text-center text-orange-400",children:a.negWins}),s.jsx("td",{className:"px-4 py-3 text-center text-slate-300",children:o!=="-"?`${o}%`:"-"})]},a.team.id)})})]})})]})},e$=()=>{const[t,e]=E.useState([]),[n,a]=E.useState([]),[r,o]=E.useState([]),[c,d]=E.useState("pf"),[m,f]=E.useState("Tournament"),[x,b]=E.useState(""),[v,w]=E.useState("rounds"),[j,D]=E.useState(!0),k=E.useMemo(()=>QB(r,t,n),[r,t,n]),V=k.filter(q=>q.severity==="error").length,I=k.filter(q=>q.severity==="warning").length,B=()=>{e(q=>[...q,{id:sf(),name:"",school:""}])},Q=(q,X)=>{e(he=>he.map(ye=>ye.id===q?X:ye))},se=q=>{e(X=>X.filter(he=>he.id!==q))},G=()=>{a(q=>[...q,{id:sf(),name:"",available:!0}])},R=(q,X)=>{a(he=>he.map(ye=>ye.id===q?X:ye))},A=q=>{a(X=>X.filter(he=>he.id!==q))},L=()=>{const q=t.filter(ye=>ye.name.trim());if(q.length<2)return;const X=fj(q),he=n.filter(ye=>ye.available);X.forEach(ye=>{ye.matches.forEach(($,re)=>{he[re%he.length]&&($.venue=he[re%he.length].id)})}),o(X),D(!1)},T=()=>{const q=[...t].sort(()=>Math.random()-.5),X=fj(q.filter(ye=>ye.name.trim())),he=n.filter(ye=>ye.available);X.forEach(ye=>{ye.matches.forEach(($,re)=>{he[re%he.length]&&($.venue=he[re%he.length].id)})}),o(X)},C=(q,X,he)=>{o(ye=>ye.map($=>$.id===q?{...$,matches:$.matches.map(re=>re.id===X?he:re)}:$))},P=q=>{o(X=>X.map(he=>he.id===q.id?q:he))},O=()=>{const q=gm[c];let he=540;o(ye=>ye.map(($,re)=>{const ge=Math.floor(he/60),z=he%60,Te=`${ge.toString().padStart(2,"0")}:${z.toString().padStart(2,"0")}`;return he+=q.roundTime+q.breakTime,{...$,startTime:Te}}))},te=()=>{const q={tournament:{name:m,date:x,format:gm[c].name},teams:t,venues:n,rounds:r},X=new Blob([JSON.stringify(q,null,2)],{type:"application/json"}),he=URL.createObjectURL(X),ye=document.createElement("a");ye.href=he,ye.download=`${m.replace(/\s+/g,"_")}_schedule.json`,ye.click(),URL.revokeObjectURL(he)},J=()=>{let q=`<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>${m} - Schedule</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 1000px; margin: 0 auto; padding: 20px; }
    h1 { text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; }
    .meta { text-align: center; color: #666; margin-bottom: 20px; }
    .round { margin-bottom: 30px; page-break-inside: avoid; }
    .round h2 { background: #f0f0f0; padding: 10px; margin: 0; }
    .matches { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 10px; padding: 10px; }
    .match { border: 1px solid #ddd; padding: 10px; border-radius: 5px; }
    .teams { display: flex; justify-content: space-between; align-items: center; }
    .team { font-weight: bold; }
    .aff { color: #0088cc; }
    .neg { color: #cc8800; }
    .venue { font-size: 12px; color: #666; margin-top: 5px; }
    @media print { .round { page-break-inside: avoid; } }
  </style>
</head>
<body>
  <h1>${m}</h1>
  <div class="meta">
    ${x?`<p>Date: ${x}</p>`:""}
    <p>Format: ${gm[c].name} | Teams: ${t.length} | Rounds: ${r.length}</p>
  </div>
`;r.forEach(he=>{q+=`  <div class="round">
    <h2>Round ${he.roundNumber}${he.startTime?` - ${he.startTime}`:""}</h2>
    <div class="matches">
`,he.matches.forEach(ye=>{const $=t.find(z=>z.id===ye.affTeam),re=t.find(z=>z.id===ye.negTeam),ge=n.find(z=>z.id===ye.venue);q+=`      <div class="match">
        <div class="teams">
          <span class="team aff">${$?.name||"TBD"}</span>
          <span>vs</span>
          <span class="team neg">${re?.name||"TBD"}</span>
        </div>
        ${ge?`<div class="venue">${ge.name}</div>`:""}
      </div>
`}),q+=`    </div>
  </div>
`}),q+="</body></html>";const X=window.open("","_blank");X.document.write(q),X.document.close(),X.print()};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl",children:s.jsx(La,{className:"w-6 h-6 text-white"})}),"Round Robin Scheduler"]}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Generate tournament schedules with conflict detection"})]}),s.jsx("div",{className:"flex items-center gap-2",children:r.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>D(!j),className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[s.jsx(oc,{className:"w-4 h-4"}),"Setup"]}),s.jsxs("button",{onClick:J,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[s.jsx(Dj,{className:"w-4 h-4"}),"Print"]}),s.jsxs("button",{onClick:te,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors",children:[s.jsx(ac,{className:"w-4 h-4"}),"Export"]})]})})]}),s.jsx(et,{children:j&&s.jsx(U.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Tournament Name"}),s.jsx("input",{type:"text",value:m,onChange:q=>f(q.target.value),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Date"}),s.jsx("input",{type:"date",value:x,onChange:q=>b(q.target.value),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Format"}),s.jsx("select",{value:c,onChange:q=>d(q.target.value),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/50",children:Object.entries(gm).map(([q,X])=>s.jsx("option",{value:q,children:X.name},q))})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx(gn,{className:"w-5 h-5 text-cyan-400"}),"Teams (",t.length,")"]}),s.jsxs("button",{onClick:B,className:"flex items-center gap-1 text-sm text-cyan-400 hover:text-cyan-300 transition-colors",children:[s.jsx(At,{className:"w-4 h-4"}),"Add Team"]})]}),s.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[s.jsx(et,{children:t.map(q=>s.jsx(KB,{team:q,onChange:X=>Q(q.id,X),onDelete:()=>se(q.id)},q.id))}),t.length===0&&s.jsx("p",{className:"text-slate-500 text-sm text-center py-4",children:"Add teams to generate schedule"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx(rc,{className:"w-5 h-5 text-orange-400"}),"Venues (",n.length,")"]}),s.jsxs("button",{onClick:G,className:"flex items-center gap-1 text-sm text-orange-400 hover:text-orange-300 transition-colors",children:[s.jsx(At,{className:"w-4 h-4"}),"Add Venue"]})]}),s.jsxs("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:[s.jsx(et,{children:n.map(q=>s.jsx(WB,{venue:q,onChange:X=>R(q.id,X),onDelete:()=>A(q.id)},q.id))}),n.length===0&&s.jsx("p",{className:"text-slate-500 text-sm text-center py-4",children:"Add venues for room assignments"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-slate-700",children:[s.jsxs("button",{onClick:L,disabled:t.filter(q=>q.name.trim()).length<2,className:"flex items-center gap-2 px-6 py-3 bg-green-600 hover:bg-green-500 disabled:bg-slate-700 disabled:text-slate-500 text-white rounded-lg transition-colors font-medium",children:[s.jsx(La,{className:"w-5 h-5"}),"Generate Schedule"]}),r.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-4 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[s.jsx(Oj,{className:"w-4 h-4"}),"Shuffle"]}),s.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[s.jsx(qt,{className:"w-4 h-4"}),"Auto Times"]})]}),s.jsxs("div",{className:"ml-auto text-sm text-slate-400",children:[t.filter(q=>q.name.trim()).length," teams  ",Math.max(0,t.filter(q=>q.name.trim()).length-1)," rounds"]})]})]})})}),k.length>0&&s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(yr,{className:"w-5 h-5 text-yellow-400"}),s.jsxs("span",{className:"font-medium text-white",children:[V," errors, ",I," warnings detected"]})]}),s.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:k.map((q,X)=>s.jsxs("div",{className:`flex items-center gap-2 text-sm px-3 py-2 rounded ${q.severity==="error"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:[q.severity==="error"?s.jsx(yr,{className:"w-4 h-4"}):s.jsx(yr,{className:"w-4 h-4"}),q.message]},X))})]}),r.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>w("rounds"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${v==="rounds"?"bg-green-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[s.jsx(Cx,{className:"w-4 h-4"}),"Rounds"]}),s.jsxs("button",{onClick:()=>w("bracket"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${v==="bracket"?"bg-green-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[s.jsx(Tx,{className:"w-4 h-4"}),"Bracket"]}),s.jsxs("button",{onClick:()=>w("standings"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${v==="standings"?"bg-green-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[s.jsx($t,{className:"w-4 h-4"}),"Standings"]})]}),s.jsxs(et,{mode:"wait",children:[v==="rounds"&&s.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:r.map(q=>s.jsx(XB,{round:q,teams:t,venues:n,onUpdateMatch:C,onUpdateRound:P},q.id))},"rounds"),v==="bracket"&&s.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-slate-800/50 border border-slate-700 rounded-xl",children:s.jsx(JB,{rounds:r,teams:t,venues:n})},"bracket"),v==="standings"&&s.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsx(ZB,{rounds:r,teams:t})},"standings")]})]}),r.length===0&&!j&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx(La,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-slate-400",children:"No schedule generated"}),s.jsx("p",{className:"text-slate-500 mt-1",children:"Set up your tournament to generate a schedule"}),s.jsx("button",{onClick:()=>D(!0),className:"mt-4 px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors",children:"Open Setup"})]})]})},pj=()=>({overall:{wins:0,losses:0,ties:0,totalRounds:0,winRate:0,winStreak:0,bestStreak:0,improvement:0},bySide:{aff:{wins:0,losses:0,winRate:0},neg:{wins:0,losses:0,winRate:0}},byFormat:{},speakerPoints:{average:0,highest:0,lowest:0,recent:[],percentile:0,trend:"stable"},recentTournaments:[],upcomingMatches:[],achievements:[],headToHead:[]}),km=({value:t,duration:e=1e3,decimals:n=0,suffix:a=""})=>{const[r,o]=E.useState(0);return E.useEffect(()=>{let c;const d=r,m=t-d,f=x=>{c||(c=x);const b=x-c,v=Math.min(b/e,1),w=1-Math.pow(1-v,3),j=d+m*w;o(j),v<1&&requestAnimationFrame(f)};requestAnimationFrame(f)},[t,e]),s.jsxs("span",{children:[r.toFixed(n),a]})},ud=({value:t,max:e=100,color:n="cyan",size:a="md",showLabel:r=!0,animated:o=!0})=>{const c=Math.min(t/e*100,100),d={cyan:"from-cyan-500 to-blue-500",green:"from-emerald-500 to-green-500",purple:"from-purple-500 to-indigo-500",orange:"from-orange-500 to-amber-500",red:"from-red-500 to-rose-500",gold:"from-yellow-400 to-amber-500"},m={sm:"h-1.5",md:"h-2",lg:"h-3"};return s.jsxs("div",{className:"w-full",children:[s.jsx("div",{className:`w-full bg-slate-700/50 rounded-full overflow-hidden ${m[a]}`,children:s.jsx(U.div,{initial:o?{width:0}:{width:`${c}%`},animate:{width:`${c}%`},transition:{duration:1,ease:"easeOut"},className:`h-full bg-gradient-to-r ${d[n]} rounded-full`})}),r&&s.jsxs("div",{className:"flex justify-between mt-1 text-xs text-slate-400",children:[s.jsx("span",{children:t}),s.jsx("span",{children:e})]})]})},V_=({label:t,value:e,trend:n,color:a="slate"})=>{const r={green:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",red:"bg-red-500/20 text-red-400 border-red-500/30",cyan:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30",purple:"bg-purple-500/20 text-purple-400 border-purple-500/30",orange:"bg-orange-500/20 text-orange-400 border-orange-500/30",gold:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",slate:"bg-slate-500/20 text-slate-400 border-slate-500/30"};return s.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full border text-xs font-medium ${r[a]}`,children:[s.jsx("span",{children:t}),s.jsx("span",{className:"font-bold",children:e}),n&&s.jsx("span",{className:n==="up"?"text-emerald-400":n==="down"?"text-red-400":"text-slate-400",children:n==="up"?s.jsx(DE,{className:"w-3 h-3"}):n==="down"?s.jsx(kE,{className:"w-3 h-3"}):s.jsx(lc,{className:"w-3 h-3"})})]})},t$=({stats:t})=>{const{wins:e,losses:n,ties:a,winRate:r,winStreak:o,improvement:c}=t;return s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-lg",children:s.jsx(Cn,{className:"w-4 h-4 text-white"})}),"Win/Loss Record"]}),s.jsx(V_,{label:"Win Rate",value:`${r}%`,trend:c>0?"up":c<0?"down":"stable",color:r>=70?"green":r>=50?"orange":"red"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-emerald-400",children:s.jsx(km,{value:e})}),s.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Wins"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-red-400",children:s.jsx(km,{value:n})}),s.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Losses"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-slate-400",children:s.jsx(km,{value:a})}),s.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Ties"})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-slate-400",children:"Overall Win Rate"}),s.jsxs("span",{className:"text-white font-medium",children:[r,"%"]})]}),s.jsx(ud,{value:r,max:100,color:"cyan",size:"md",showLabel:!1})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-700",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lf,{className:"w-4 h-4 text-orange-400"}),s.jsx("span",{className:"text-sm text-slate-400",children:"Current Streak:"}),s.jsxs("span",{className:"text-white font-semibold",children:[o,"W"]})]}),s.jsx("div",{className:"flex items-center gap-1 text-sm",children:c>0?s.jsxs(s.Fragment,{children:[s.jsx(Ga,{className:"w-4 h-4 text-emerald-400"}),s.jsxs("span",{className:"text-emerald-400",children:["+",c,"%"]})]}):c<0?s.jsxs(s.Fragment,{children:[s.jsx(Go,{className:"w-4 h-4 text-red-400"}),s.jsxs("span",{className:"text-red-400",children:[c,"%"]})]}):s.jsx("span",{className:"text-slate-400",children:"No change"})})]})]})},n$=({bySide:t})=>s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-lg",children:s.jsx(Ig,{className:"w-4 h-4 text-white"})}),"Performance by Side"]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-cyan-500"}),s.jsx("span",{className:"text-white font-medium",children:"Affirmative"})]}),s.jsxs("span",{className:"text-cyan-400 font-semibold",children:[t.aff.winRate,"%"]})]}),s.jsx(ud,{value:t.aff.winRate,max:100,color:"cyan",size:"sm",showLabel:!1}),s.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-1",children:[s.jsxs("span",{children:[t.aff.wins,"W - ",t.aff.losses,"L"]}),s.jsxs("span",{children:[t.aff.wins+t.aff.losses," rounds"]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),s.jsx("span",{className:"text-white font-medium",children:"Negative"})]}),s.jsxs("span",{className:"text-orange-400 font-semibold",children:[t.neg.winRate,"%"]})]}),s.jsx(ud,{value:t.neg.winRate,max:100,color:"orange",size:"sm",showLabel:!1}),s.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-1",children:[s.jsxs("span",{children:[t.neg.wins,"W - ",t.neg.losses,"L"]}),s.jsxs("span",{children:[t.neg.wins+t.neg.losses," rounds"]})]})]})]}),s$=({speakerPoints:t})=>{const{average:e,highest:n,lowest:a,recent:r,percentile:o,trend:c}=t;return s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-amber-500 to-orange-600 rounded-lg",children:s.jsx(Xt,{className:"w-4 h-4 text-white"})}),"Speaker Points"]}),s.jsx(V_,{label:"Top",value:`${o}%`,color:"gold"})]}),s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("div",{className:"text-5xl font-bold text-white mb-1",children:s.jsx(km,{value:e,decimals:1})}),s.jsx("div",{className:"text-sm text-slate-400",children:"Average Speaker Points"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx(ud,{value:e,max:30,color:"gold",size:"lg",showLabel:!1}),s.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[s.jsx("span",{className:"text-slate-500",children:"26"}),s.jsx("span",{className:"text-slate-500",children:"27"}),s.jsx("span",{className:"text-slate-500",children:"28"}),s.jsx("span",{className:"text-slate-500",children:"29"}),s.jsx("span",{className:"text-amber-400 font-semibold",children:"30"})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-700",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-emerald-400",children:n}),s.jsx("div",{className:"text-xs text-slate-400",children:"Personal Best"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-slate-400",children:a}),s.jsx("div",{className:"text-xs text-slate-400",children:"Season Low"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[c==="up"?s.jsx(Ga,{className:"w-5 h-5 text-emerald-400"}):c==="down"?s.jsx(Go,{className:"w-5 h-5 text-red-400"}):s.jsx(wi,{className:"w-5 h-5 text-slate-400"}),s.jsx("span",{className:`text-sm font-medium ${c==="up"?"text-emerald-400":c==="down"?"text-red-400":"text-slate-400"}`,children:c==="up"?"Improving":c==="down"?"Declining":"Stable"})]})]}),s.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-700",children:[s.jsx("div",{className:"text-xs text-slate-400 mb-2",children:"Recent Rounds"}),s.jsx("div",{className:"flex items-end justify-between h-12 gap-1",children:r.map((m,f)=>{const x=(m-26)/4*100;return s.jsx(U.div,{initial:{height:0},animate:{height:`${x}%`},transition:{delay:f*.1,duration:.5},className:`flex-1 rounded-t ${m>=29?"bg-emerald-500":m>=28?"bg-cyan-500":m>=27?"bg-amber-500":"bg-slate-500"}`,title:`${m} pts`},f)})})]})]})},a$=({tournaments:t})=>{const e=(a,r)=>{const o=a/r*100;return a===1?"text-yellow-400":a===2?"text-slate-300":a===3?"text-orange-400":o<=25?"text-emerald-400":o<=50?"text-cyan-400":"text-slate-400"},n=a=>a===1?s.jsx(Ho,{className:"w-4 h-4 text-yellow-400"}):a===2?s.jsx(Gu,{className:"w-4 h-4 text-slate-300"}):a===3?s.jsx(Gu,{className:"w-4 h-4 text-orange-400"}):s.jsx($o,{className:"w-4 h-4 text-slate-400"});return s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-emerald-500 to-green-600 rounded-lg",children:s.jsx($t,{className:"w-4 h-4 text-white"})}),"Recent Tournaments"]}),s.jsx("button",{className:"text-xs text-cyan-400 hover:text-cyan-300 transition-colors",children:"View All"})]}),s.jsx("div",{className:"space-y-3",children:t.map((a,r)=>s.jsxs(U.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*r},className:"flex items-center gap-3 p-3 bg-slate-700/30 rounded-lg hover:bg-slate-700/50 transition-colors",children:[s.jsx("div",{className:"flex-shrink-0",children:n(a.place)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white font-medium text-sm truncate",children:a.name}),a.speakerAward&&s.jsx(Xt,{className:"w-3 h-3 text-amber-400 flex-shrink-0"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[s.jsx("span",{children:new Date(a.date).toLocaleDateString()}),s.jsx("span",{children:""}),s.jsx("span",{children:a.record})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`text-lg font-bold ${e(a.place,a.totalTeams)}`,children:["#",a.place]}),s.jsxs("div",{className:"text-xs text-slate-500",children:["of ",a.totalTeams]})]})]},a.id))})]})},i$=({matches:t})=>{const e=n=>{const a=new Date,o=new Date(n)-a;return Math.ceil(o/(1e3*60*60*24))};return s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg",children:s.jsx(La,{className:"w-4 h-4 text-white"})}),"Upcoming Matches"]})}),s.jsx("div",{className:"space-y-3",children:t.map((n,a)=>{const r=e(n.date);return s.jsxs(U.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*a},className:"p-3 bg-slate-700/30 rounded-lg",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium text-sm",children:n.tournament}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400 mt-1",children:[s.jsx(rc,{className:"w-3 h-3"}),n.location]})]}),s.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${n.registered?"bg-emerald-500/20 text-emerald-400":"bg-amber-500/20 text-amber-400"}`,children:n.registered?"Registered":"Not Registered"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"px-2 py-0.5 bg-slate-600/50 text-slate-300 text-xs rounded",children:n.format}),s.jsx("span",{className:"text-xs text-slate-400",children:new Date(n.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]}),s.jsxs("div",{className:`flex items-center gap-1 text-xs font-medium ${r<=3?"text-red-400":r<=7?"text-amber-400":"text-slate-400"}`,children:[s.jsx(qt,{className:"w-3 h-3"}),r===0?"Today":r===1?"Tomorrow":`${r} days`]})]})]},n.id)})})]})},r$=({achievements:t})=>{const e={trophy:$t,star:Xt,flame:lf,zap:Qu,medal:Gu},n={gold:"from-yellow-400 to-amber-500 text-yellow-400",purple:"from-purple-500 to-indigo-500 text-purple-400",orange:"from-orange-500 to-red-500 text-orange-400",cyan:"from-cyan-500 to-blue-500 text-cyan-400"};return s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-pink-500 to-rose-600 rounded-lg",children:s.jsx(Cs,{className:"w-4 h-4 text-white"})}),"Achievements"]})}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.map((a,r)=>{const o=e[a.icon]||$t,c=n[a.color]||n.gold;return s.jsxs(U.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1*r},className:"flex items-center gap-3 p-3 bg-slate-700/30 rounded-lg",children:[s.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-br ${c.split(" ")[0]} ${c.split(" ")[1]}`,children:s.jsx(o,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white text-sm font-medium",children:a.name}),s.jsxs("div",{className:`text-lg font-bold ${c.split(" ")[2]}`,children:["",a.count]})]})]},a.id)})})]})},l$=({records:t})=>s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-red-500 to-rose-600 rounded-lg",children:s.jsx(gn,{className:"w-4 h-4 text-white"})}),"Head-to-Head Records"]})}),s.jsx("div",{className:"space-y-3",children:t.map((e,n)=>{const a=e.wins+e.losses,r=a>0?e.wins/a*100:0;return s.jsxs(U.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*n},className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-white text-sm font-medium",children:e.opponent}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-emerald-400 font-semibold",children:[e.wins,"W"]}),s.jsx("span",{className:"text-slate-500",children:"-"}),s.jsxs("span",{className:"text-red-400 font-semibold",children:[e.losses,"L"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 h-2 bg-slate-700 rounded-full overflow-hidden",children:s.jsx(U.div,{initial:{width:0},animate:{width:`${r}%`},transition:{duration:.5,delay:.2*n},className:`h-full rounded-full ${r>=50?"bg-emerald-500":"bg-red-500"}`})}),s.jsxs("span",{className:`text-xs font-medium ${r>=50?"text-emerald-400":"text-red-400"}`,children:[r.toFixed(0),"%"]})]})]},e.opponent)})})]}),o$=({byFormat:t})=>{const e=Object.entries(t),n=["cyan","purple","orange","green"];return s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-lg",children:s.jsx(Ot,{className:"w-4 h-4 text-white"})}),"Performance by Format"]})}),s.jsx("div",{className:"space-y-4",children:e.map(([a,r],o)=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-white text-sm",children:a}),s.jsxs("span",{className:"text-xs text-slate-400",children:[r.wins,"W - ",r.losses,"L"]})]}),s.jsx(ud,{value:r.winRate,max:100,color:n[o%n.length],size:"sm",showLabel:!1})]},a))})]})},Tg=({title:t,icon:e,message:n,actionText:a,onAction:r})=>s.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:s.jsxs("div",{className:"text-center py-6",children:[s.jsx("div",{className:"p-3 bg-slate-700/50 rounded-full w-fit mx-auto mb-3",children:s.jsx(e,{className:"w-6 h-6 text-slate-500"})}),s.jsx("h3",{className:"text-white font-medium mb-1",children:t}),s.jsx("p",{className:"text-slate-400 text-sm mb-4",children:n}),a&&r&&s.jsx("button",{onClick:r,className:"text-cyan-400 text-sm hover:text-cyan-300 transition-colors",children:a})]})}),c$=({compact:t=!1})=>{const[e,n]=E.useState(null),[a,r]=E.useState(!0),[o,c]=E.useState("season");E.useEffect(()=>{const f=setTimeout(()=>{n(pj()),r(!1)},500);return()=>clearTimeout(f)},[]);const d=()=>{r(!0),setTimeout(()=>{n(pj()),r(!1)},500)},m=e&&e.overall.totalRounds>0;return a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Yu,{className:"w-8 h-8 text-cyan-400 animate-spin mx-auto mb-2"}),s.jsx("p",{className:"text-slate-400",children:"Loading stats..."})]})}):e?m?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-xl",children:s.jsx(wi,{className:"w-6 h-6 text-white"})}),"Quick Stats"]}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Your performance at a glance"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("select",{value:o,onChange:f=>c(f.target.value),className:"bg-slate-700/50 border border-slate-600 text-white text-sm px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50",children:[s.jsx("option",{value:"week",children:"This Week"}),s.jsx("option",{value:"month",children:"This Month"}),s.jsx("option",{value:"season",children:"This Season"}),s.jsx("option",{value:"all",children:"All Time"})]}),s.jsx("button",{onClick:d,className:"p-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:s.jsx(Yu,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(t$,{stats:e.overall}),s.jsx(n$,{bySide:e.bySide}),s.jsx(s$,{speakerPoints:e.speakerPoints}),s.jsx(a$,{tournaments:e.recentTournaments}),s.jsx(i$,{matches:e.upcomingMatches}),s.jsx(r$,{achievements:e.achievements}),s.jsx(l$,{records:e.headToHead}),s.jsx(o$,{byFormat:e.byFormat})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-xl",children:s.jsx(wi,{className:"w-6 h-6 text-white"})}),"Quick Stats"]}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Your performance at a glance"})]})}),s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-slate-700 rounded-2xl p-8 text-center",children:[s.jsx("div",{className:"p-4 bg-gradient-to-br from-cyan-500/20 to-blue-600/20 rounded-full w-fit mx-auto mb-4",children:s.jsx(Cn,{className:"w-10 h-10 text-cyan-400"})}),s.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Welcome to Your Stats Dashboard"}),s.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-6",children:"Start logging your debate rounds to see detailed statistics, win rates, speaker points, and track your improvement over time."}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[s.jsxs("div",{className:"px-4 py-2 bg-slate-700/50 rounded-lg",children:[s.jsx($t,{className:"w-5 h-5 text-amber-400 mx-auto mb-1"}),s.jsx("span",{className:"text-xs text-slate-400",children:"Tournament Results"})]}),s.jsxs("div",{className:"px-4 py-2 bg-slate-700/50 rounded-lg",children:[s.jsx(Xt,{className:"w-5 h-5 text-purple-400 mx-auto mb-1"}),s.jsx("span",{className:"text-xs text-slate-400",children:"Speaker Points"})]}),s.jsxs("div",{className:"px-4 py-2 bg-slate-700/50 rounded-lg",children:[s.jsx(Ga,{className:"w-5 h-5 text-emerald-400 mx-auto mb-1"}),s.jsx("span",{className:"text-xs text-slate-400",children:"Win Rate Trends"})]}),s.jsxs("div",{className:"px-4 py-2 bg-slate-700/50 rounded-lg",children:[s.jsx(gn,{className:"w-5 h-5 text-cyan-400 mx-auto mb-1"}),s.jsx("span",{className:"text-xs text-slate-400",children:"Head-to-Head"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 opacity-60",children:[s.jsx(Tg,{title:"Win/Loss Record",icon:Cn,message:"No rounds logged yet"}),s.jsx(Tg,{title:"Speaker Points",icon:Xt,message:"Points will appear after your first round"}),s.jsx(Tg,{title:"Recent Tournaments",icon:$t,message:"Enter your tournament results"})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ts,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),s.jsx("p",{className:"text-slate-400",children:"Unable to load statistics"})]})},dd={domestic:{label:"Domestic Policy",icon:BC,color:"cyan",bgColor:"bg-cyan-500/10",borderColor:"border-cyan-500/30",textColor:"text-cyan-400"},international:{label:"International Relations",icon:kC,color:"purple",bgColor:"bg-purple-500/10",borderColor:"border-purple-500/30",textColor:"text-purple-400"},philosophy:{label:"Philosophy/Ethics",icon:Nl,color:"amber",bgColor:"bg-amber-500/10",borderColor:"border-amber-500/30",textColor:"text-amber-400"},economics:{label:"Economics",icon:hf,color:"emerald",bgColor:"bg-emerald-500/10",borderColor:"border-emerald-500/30",textColor:"text-emerald-400"},social:{label:"Social Issues",icon:gn,color:"rose",bgColor:"bg-rose-500/10",borderColor:"border-rose-500/30",textColor:"text-rose-400"},legal:{label:"Legal/Constitutional",icon:hs,color:"orange",bgColor:"bg-orange-500/10",borderColor:"border-orange-500/30",textColor:"text-orange-400"}},af={pf:{label:"Public Forum",short:"PF"},ld:{label:"Lincoln Douglas",short:"LD"},policy:{label:"Policy/CX",short:"CX"},congress:{label:"Congressional",short:"Congress"},parli:{label:"Parliamentary",short:"Parli"},worlds:{label:"World Schools",short:"WSDC"},bp:{label:"British Parliamentary",short:"BP"}},rf=[{value:1,label:"Novice",color:"emerald"},{value:2,label:"JV",color:"cyan"},{value:3,label:"Varsity",color:"amber"},{value:4,label:"Elite",color:"purple"},{value:5,label:"Championship",color:"rose"}],De=()=>`motion_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,u$=[{id:De(),text:"Resolved: The United States federal government should substantially increase its protection of water resources in the United States.",category:"domestic",format:"policy",difficulty:4,year:2024,month:"September",tournament:"NSDA National Topic 2024-2025",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["environment","water","federal policy","infrastructure"],notes:"Year-long topic. Key affs: Clean Water Act enforcement, tribal water rights, PFAS regulation, infrastructure investment. Neg ground: federalism, spending DAs, states CP.",favorited:!0,timesUsed:12,lastUsed:"2024-11-15",createdAt:"2024-08-01"},{id:De(),text:"Resolved: The United States federal government should substantially reduce its restrictions on legal immigration to the United States.",category:"domestic",format:"policy",difficulty:4,year:2023,month:"September",tournament:"NSDA National Topic 2023-2024",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["immigration","federal policy","labor","economy"],notes:"Previous year topic. Strong econ advantages, security disadvantages. Popular affs: H1B expansion, asylum reform, family reunification.",favorited:!1,timesUsed:25,lastUsed:"2024-05-15",createdAt:"2023-08-01"},{id:De(),text:"Resolved: The United States federal government should substantially increase fiscal redistribution in the United States by adopting a federal jobs guarantee, expanding Social Security, and/or providing a basic income.",category:"economics",format:"policy",difficulty:5,year:2022,month:"September",tournament:"NSDA National Topic 2022-2023",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["economics","welfare","UBI","social security","jobs"],notes:"Three-pronged topic. FJG most popular. Inflation DA and work incentive args key on neg.",favorited:!1,timesUsed:30,lastUsed:"2023-05-20",createdAt:"2022-08-01"},{id:De(),text:"Resolved: The United States ought to guarantee universal basic income.",category:"economics",format:"ld",difficulty:3,year:2024,month:"November",tournament:"November/December LD Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["UBI","welfare","economics","poverty","dignity"],notes:"Aff frameworks: dignity, autonomy, poverty reduction. Neg frameworks: work ethic, inflation, targeted programs better.",favorited:!0,timesUsed:8,lastUsed:"2024-11-20",createdAt:"2024-10-15"},{id:De(),text:"Resolved: The United States ought to provide a federal guarantee of housing.",category:"social",format:"ld",difficulty:3,year:2024,month:"September",tournament:"September/October LD Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["housing","homelessness","rights","welfare"],notes:"Strong philosophical ground on positive vs negative rights. Research Housing First models.",favorited:!0,timesUsed:15,lastUsed:"2024-10-31",createdAt:"2024-08-15"},{id:De(),text:"Resolved: Civil disobedience in a democracy is morally justified.",category:"philosophy",format:"ld",difficulty:3,year:2023,month:"January",tournament:"January/February LD Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["civil disobedience","democracy","protest","MLK","Thoreau"],notes:"Classic topic. Use Rawls, MLK Letter from Birmingham Jail, Thoreau. Neg can run rule of law, democratic process args.",favorited:!0,timesUsed:20,lastUsed:"2024-02-15",createdAt:"2023-12-15"},{id:De(),text:"Resolved: Privileged individuals ought to renounce their privilege.",category:"philosophy",format:"ld",difficulty:4,year:2023,month:"March",tournament:"March/April LD Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["privilege","ethics","social justice","obligation"],notes:"Define privilege carefully. Aff: moral obligation, solidarity. Neg: impossible, counterproductive, allyship better.",favorited:!1,timesUsed:12,lastUsed:"2024-04-20",createdAt:"2023-02-15"},{id:De(),text:"Resolved: Jury nullification is a legitimate tool for criminal defense.",category:"legal",format:"ld",difficulty:4,year:2024,month:"September",tournament:"Yale Invitational",source:"Yale Debate",sourceUrl:"",tags:["jury","law","justice","courts","democracy"],notes:"Democratic legitimacy vs rule of law. Research Fully Informed Jury Association. Historical examples: Fugitive Slave Act.",favorited:!1,timesUsed:6,lastUsed:"2024-09-20",createdAt:"2024-09-01"},{id:De(),text:"Resolved: A just society ought to prioritize environmental protection over economic growth.",category:"philosophy",format:"ld",difficulty:3,year:2023,month:"November",tournament:"November/December LD Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["environment","economics","sustainability","justice"],notes:"Strong util and deont frameworks both ways. Research degrowth movement, green growth theory.",favorited:!1,timesUsed:18,lastUsed:"2023-12-15",createdAt:"2023-10-15"},{id:De(),text:"Resolved: The European Union should substantially strengthen its defense capabilities independent of the North Atlantic Treaty Organization.",category:"international",format:"pf",difficulty:4,year:2024,month:"December",tournament:"December PF Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["EU","NATO","defense","foreign policy","military"],notes:'Topicality on "independent" key. Research PESCO, European Defence Fund, US commitment concerns.',favorited:!0,timesUsed:5,lastUsed:"2024-11-28",createdAt:"2024-11-01"},{id:De(),text:"Resolved: The United States should substantially increase its investment in high-speed rail.",category:"domestic",format:"pf",difficulty:2,year:2024,month:"October",tournament:"October PF Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["infrastructure","transportation","climate","economy"],notes:"Good novice topic. Pro: climate, jobs, connectivity. Con: cost, geography, car culture.",favorited:!0,timesUsed:10,lastUsed:"2024-10-31",createdAt:"2024-09-15"},{id:De(),text:"Resolved: The United States should accede to the United Nations Convention on the Law of the Sea.",category:"international",format:"pf",difficulty:3,year:2024,month:"September",tournament:"September PF Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["UNCLOS","international law","maritime","sovereignty"],notes:"Research Arctic claims, South China Sea, deep seabed mining. Sovereignty vs cooperation clash.",favorited:!1,timesUsed:8,lastUsed:"2024-09-30",createdAt:"2024-08-15"},{id:De(),text:"Resolved: The United States federal government should forgive all federal student loan debt.",category:"economics",format:"pf",difficulty:2,year:2023,month:"February",tournament:"February PF Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["education","debt","economy","higher education"],notes:"Pro: economic stimulus, equity, mental health. Con: moral hazard, regressive, inflation.",favorited:!1,timesUsed:22,lastUsed:"2024-02-28",createdAt:"2023-01-15"},{id:De(),text:"Resolved: The benefits of the International Monetary Fund outweigh the harms.",category:"economics",format:"pf",difficulty:4,year:2023,month:"April",tournament:"April PF Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["IMF","development","economics","global south"],notes:"Research structural adjustment programs, debt relief, COVID response. Strong kritik potential.",favorited:!1,timesUsed:14,lastUsed:"2023-04-30",createdAt:"2023-03-15"},{id:De(),text:"Resolved: On balance, social media is beneficial for American elections.",category:"social",format:"pf",difficulty:2,year:2024,month:"November",tournament:"November PF Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["social media","elections","democracy","misinformation"],notes:"Timely topic. Pro: civic engagement, grassroots organizing. Con: misinformation, polarization, foreign interference.",favorited:!0,timesUsed:6,lastUsed:"2024-11-15",createdAt:"2024-10-15"},{id:De(),text:"A Bill to Implement a Carbon Tax: Be it enacted that the United States shall impose a tax of $50 per metric ton of carbon dioxide equivalent emissions.",category:"economics",format:"congress",difficulty:2,year:2024,month:"October",tournament:"Fall Regional",source:"Regional Circuit",sourceUrl:"",tags:["climate","tax","environment","economics"],notes:"Popular topic. Pro: climate action, revenue. Con: economic harm, regressive, competitiveness.",favorited:!1,timesUsed:8,lastUsed:"2024-10-15",createdAt:"2024-10-01"},{id:De(),text:"A Resolution to Condemn the People's Republic of China for Human Rights Violations in Xinjiang.",category:"international",format:"congress",difficulty:3,year:2024,month:"September",tournament:"State Championship",source:"State Circuit",sourceUrl:"",tags:["China","human rights","Uyghurs","foreign policy"],notes:"Research Uyghur detention, forced labor, surveillance. Consider diplomatic implications.",favorited:!1,timesUsed:5,lastUsed:"2024-09-20",createdAt:"2024-09-01"},{id:De(),text:"A Bill to Establish Universal Pre-Kindergarten Education.",category:"domestic",format:"congress",difficulty:2,year:2024,month:"November",tournament:"Fall Invitational",source:"Local Circuit",sourceUrl:"",tags:["education","children","early childhood","funding"],notes:"Pro: achievement gaps, working parents, brain development. Con: cost, federal overreach, quality concerns.",favorited:!0,timesUsed:6,lastUsed:"2024-11-10",createdAt:"2024-11-01"},{id:De(),text:"A Bill to Ban Assault Weapons and High-Capacity Magazines.",category:"legal",format:"congress",difficulty:3,year:2024,month:"October",tournament:"Regional Championship",source:"Regional Circuit",sourceUrl:"",tags:["guns","Second Amendment","public safety","constitutional"],notes:"Highly contested. Pro: public safety, mass shootings. Con: 2A rights, enforcement, definition problems.",favorited:!1,timesUsed:10,lastUsed:"2024-10-25",createdAt:"2024-10-01"},{id:De(),text:"A Resolution to Support the Expansion of Nuclear Energy Production.",category:"economics",format:"congress",difficulty:2,year:2024,month:"December",tournament:"Winter Invitational",source:"National Circuit",sourceUrl:"",tags:["energy","nuclear","climate","environment"],notes:"Pro: clean energy, baseload power, jobs. Con: waste, cost, safety, proliferation.",favorited:!1,timesUsed:3,lastUsed:"2024-12-01",createdAt:"2024-11-15"},{id:De(),text:"A Bill to Reform the Electoral College System.",category:"legal",format:"congress",difficulty:3,year:2024,month:"November",tournament:"State Finals",source:"State Circuit",sourceUrl:"",tags:["elections","democracy","constitutional","reform"],notes:"Define specific reform (NPV, proportional, direct election). Historical and comparative analysis key.",favorited:!0,timesUsed:4,lastUsed:"2024-11-20",createdAt:"2024-11-01"},{id:De(),text:"This House would ban the use of facial recognition technology by law enforcement.",category:"social",format:"parli",difficulty:2,year:2024,month:"November",tournament:"NPDA Nationals Qualifier",source:"NPDA",sourceUrl:"",tags:["technology","privacy","police","civil liberties","surveillance"],notes:"Good novice motion. Clear clash on privacy vs security. Research San Francisco ban, China comparison.",favorited:!1,timesUsed:7,lastUsed:"2024-11-10",createdAt:"2024-11-05"},{id:De(),text:"This House would abolish the Senate filibuster.",category:"legal",format:"parli",difficulty:3,year:2024,month:"October",tournament:"Fall Championship",source:"Regional Circuit",sourceUrl:"",tags:["democracy","Senate","filibuster","governance"],notes:"Gov: majority rule, gridlock. Opp: minority rights, deliberation, tyranny of majority.",favorited:!0,timesUsed:5,lastUsed:"2024-10-20",createdAt:"2024-10-01"},{id:De(),text:"This House believes that capitalism is incompatible with environmental sustainability.",category:"philosophy",format:"parli",difficulty:4,year:2024,month:"September",tournament:"APDA Nationals",source:"APDA",sourceUrl:"",tags:["capitalism","environment","economics","sustainability"],notes:"Gov: growth imperative, externalities, short-termism. Opp: green capitalism, innovation, regulation.",favorited:!0,timesUsed:4,lastUsed:"2024-09-25",createdAt:"2024-09-01"},{id:De(),text:"This House would require social media companies to verify the identity of all users.",category:"social",format:"parli",difficulty:2,year:2024,month:"October",tournament:"Regional Qualifier",source:"Local Circuit",sourceUrl:"",tags:["social media","privacy","anonymity","harassment"],notes:"Gov: accountability, reduce harassment. Opp: privacy, dissent protection, enforcement.",favorited:!1,timesUsed:6,lastUsed:"2024-10-15",createdAt:"2024-10-01"},{id:De(),text:"This House prefers a world without organized religion.",category:"philosophy",format:"parli",difficulty:4,year:2024,month:"November",tournament:"NPDA Championships",source:"NPDA",sourceUrl:"",tags:["religion","philosophy","society","secularism"],notes:"Gov: conflict, oppression, irrationality. Opp: community, meaning, charity, art.",favorited:!1,timesUsed:3,lastUsed:"2024-11-15",createdAt:"2024-11-01"},{id:De(),text:"This House would ban unpaid internships.",category:"economics",format:"parli",difficulty:2,year:2024,month:"September",tournament:"Fall Invitational",source:"Local Circuit",sourceUrl:"",tags:["labor","education","inequality","employment"],notes:"Gov: exploitation, inequality, labor rights. Opp: opportunity, experience, non-profit impact.",favorited:!1,timesUsed:8,lastUsed:"2024-09-30",createdAt:"2024-09-01"},{id:De(),text:"This House believes that the pursuit of happiness is a more important life goal than the pursuit of meaning.",category:"philosophy",format:"bp",difficulty:3,year:2024,month:"October",tournament:"Cambridge IV",source:"Cambridge Union",sourceUrl:"https://cambridgeunion.org",tags:["philosophy","happiness","meaning","life purpose"],notes:"Classic philosophy motion. Define happiness (hedonic) vs meaning (eudaimonic) carefully.",favorited:!0,timesUsed:5,lastUsed:"2024-10-25",createdAt:"2024-10-01"},{id:De(),text:"This House would allow the buying and selling of human organs.",category:"philosophy",format:"bp",difficulty:3,year:2024,month:"November",tournament:"Oxford IV",source:"Oxford Union",sourceUrl:"https://oxford-union.org",tags:["healthcare","ethics","markets","bodily autonomy"],notes:"Prop: shortage, autonomy, regulated market. Opp: exploitation, commodification, coercion.",favorited:!0,timesUsed:7,lastUsed:"2024-11-20",createdAt:"2024-11-01"},{id:De(),text:"This House believes that developing countries should prioritize economic growth over environmental protection.",category:"economics",format:"bp",difficulty:3,year:2024,month:"September",tournament:"Euros",source:"European Universities Debating",sourceUrl:"",tags:["development","environment","economics","climate"],notes:"Prop: poverty reduction, historical emissions. Opp: climate vulnerability, leapfrogging, false dichotomy.",favorited:!1,timesUsed:6,lastUsed:"2024-09-30",createdAt:"2024-09-01"},{id:De(),text:"This House regrets the rise of the self-care movement.",category:"social",format:"bp",difficulty:4,year:2024,month:"October",tournament:"Durham IV",source:"Durham Debating",sourceUrl:"",tags:["mental health","individualism","society","wellness"],notes:"Prop: individualism, consumerism, ignores systemic issues. Opp: agency, mental health awareness.",favorited:!1,timesUsed:4,lastUsed:"2024-10-20",createdAt:"2024-10-01"},{id:De(),text:"This House believes that feminism should not engage with traditional religious institutions.",category:"social",format:"bp",difficulty:4,year:2024,month:"November",tournament:"Manchester IV",source:"Manchester Debating",sourceUrl:"",tags:["feminism","religion","reform","gender"],notes:"Prop: legitimization, reform impossible, patriarchy. Opp: insider reform, religious feminists, pragmatism.",favorited:!1,timesUsed:3,lastUsed:"2024-11-15",createdAt:"2024-11-01"},{id:De(),text:"This House would implement a maximum wage.",category:"economics",format:"bp",difficulty:3,year:2024,month:"October",tournament:"LSE Open",source:"LSE Debating",sourceUrl:"",tags:["economics","inequality","wages","redistribution"],notes:"Prop: inequality reduction, social cohesion. Opp: brain drain, enforcement, investment.",favorited:!0,timesUsed:5,lastUsed:"2024-10-25",createdAt:"2024-10-01"},{id:De(),text:"This House believes that Western liberal democracies should adopt deliberative democracy mechanisms.",category:"philosophy",format:"worlds",difficulty:5,year:2024,month:"August",tournament:"World Schools Debate Championship",source:"WSDC",sourceUrl:"https://wsdc.info",tags:["democracy","deliberation","politics","governance"],notes:"Championship-level. Research citizens assemblies, sortition, Irish Constitutional Convention.",favorited:!0,timesUsed:2,lastUsed:"2024-08-15",createdAt:"2024-08-01"},{id:De(),text:"This House believes that governments should provide a universal basic income to all citizens.",category:"economics",format:"worlds",difficulty:3,year:2024,month:"July",tournament:"World Schools Debate Championship",source:"WSDC",sourceUrl:"https://wsdc.info",tags:["UBI","welfare","economics","poverty"],notes:"Accessible WSDC topic. Research Finland, Kenya pilots. Consider automation angle.",favorited:!0,timesUsed:4,lastUsed:"2024-08-10",createdAt:"2024-07-15"},{id:De(),text:"This House believes that the United Nations Security Council should be reformed to remove the veto power of permanent members.",category:"international",format:"worlds",difficulty:4,year:2024,month:"July",tournament:"World Schools Debate Championship",source:"WSDC",sourceUrl:"https://wsdc.info",tags:["UN","international law","security","reform"],notes:"Prop: paralysis, representation. Opp: stability, great power buy-in, alternatives worse.",favorited:!1,timesUsed:3,lastUsed:"2024-08-05",createdAt:"2024-07-15"},{id:De(),text:"This House believes that social movements should use radical tactics to achieve their goals.",category:"philosophy",format:"worlds",difficulty:4,year:2023,month:"August",tournament:"World Schools Debate Championship",source:"WSDC",sourceUrl:"https://wsdc.info",tags:["activism","protest","social change","tactics"],notes:"Define radical (property destruction, civil disobedience, etc.). Historical examples key.",favorited:!1,timesUsed:5,lastUsed:"2023-08-15",createdAt:"2023-08-01"},{id:De(),text:"This House believes that artificial intelligence will do more harm than good to humanity.",category:"social",format:"worlds",difficulty:3,year:2024,month:"June",tournament:"Pan-American Schools Championship",source:"PASC",sourceUrl:"",tags:["AI","technology","future","automation"],notes:"Timely topic. Prop: jobs, control, existential risk. Opp: innovation, healthcare, efficiency.",favorited:!0,timesUsed:6,lastUsed:"2024-06-30",createdAt:"2024-06-01"},{id:De(),text:"The United States should adopt a four-day work week.",category:"economics",format:"parli",difficulty:2,year:2024,month:"November",tournament:"IPDA Nationals",source:"IPDA",sourceUrl:"",tags:["labor","work","productivity","well-being"],notes:"Accessible topic. Pro: productivity, mental health, environment. Con: implementation, wages, industries.",favorited:!1,timesUsed:5,lastUsed:"2024-11-15",createdAt:"2024-11-01"},{id:De(),text:"College athletes should be paid beyond scholarships.",category:"economics",format:"parli",difficulty:2,year:2024,month:"October",tournament:"Regional Championship",source:"IPDA",sourceUrl:"",tags:["sports","college","labor","NCAA"],notes:"Post-NIL debate context. Pro: fairness, exploitation. Con: amateurism, Title IX, competitive balance.",favorited:!1,timesUsed:7,lastUsed:"2024-10-25",createdAt:"2024-10-01"},{id:De(),text:"Standardized testing does more harm than good in education.",category:"domestic",format:"parli",difficulty:1,year:2024,month:"September",tournament:"Fall Invitational",source:"IPDA",sourceUrl:"",tags:["education","testing","equity","curriculum"],notes:"Good novice topic. Pro: teach to test, stress, equity. Con: accountability, standards, improvement.",favorited:!1,timesUsed:10,lastUsed:"2024-09-30",createdAt:"2024-09-01"},{id:De(),text:"The voting age should be lowered to 16.",category:"legal",format:"parli",difficulty:2,year:2024,month:"October",tournament:"State Championship",source:"IPDA",sourceUrl:"",tags:["voting","youth","democracy","civic engagement"],notes:"Pro: civic engagement, affected by policy. Con: maturity, manipulation, consistency.",favorited:!0,timesUsed:8,lastUsed:"2024-10-20",createdAt:"2024-10-01"},{id:De(),text:"Resolved: Countries should prioritize climate adaptation over climate mitigation.",category:"international",format:"pf",difficulty:3,year:2024,month:"January",tournament:"January PF Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["climate","environment","policy","global"],notes:"Define adaptation (resilience) vs mitigation (reduction). Consider developing country perspectives.",favorited:!1,timesUsed:12,lastUsed:"2024-01-31",createdAt:"2023-12-15"},{id:De(),text:"This House would ban political advertising on social media.",category:"social",format:"bp",difficulty:2,year:2024,month:"September",tournament:"Fall Open",source:"Local Circuit",sourceUrl:"",tags:["social media","elections","advertising","democracy"],notes:"Prop: misinformation, manipulation, fairness. Opp: speech, information access, alternatives worse.",favorited:!1,timesUsed:6,lastUsed:"2024-09-25",createdAt:"2024-09-01"},{id:De(),text:"A Bill to Establish Term Limits for Members of Congress.",category:"legal",format:"congress",difficulty:2,year:2024,month:"September",tournament:"State Invitational",source:"State Circuit",sourceUrl:"",tags:["Congress","reform","democracy","term limits"],notes:"Pro: fresh ideas, reduce corruption, citizen legislators. Con: experience, voter choice, institutional knowledge.",favorited:!0,timesUsed:9,lastUsed:"2024-09-20",createdAt:"2024-09-01"},{id:De(),text:"Resolved: Democracies should not engage in offensive cyber operations.",category:"international",format:"ld",difficulty:4,year:2024,month:"TOC",tournament:"Tournament of Champions",source:"UK",sourceUrl:"",tags:["cyber","security","democracy","warfare"],notes:"Define offensive (vs defensive). Research Stuxnet, Russian operations, international law.",favorited:!1,timesUsed:3,lastUsed:"2024-05-01",createdAt:"2024-04-15"},{id:De(),text:"This House believes that the criminal justice system should prioritize rehabilitation over punishment.",category:"legal",format:"worlds",difficulty:3,year:2024,month:"May",tournament:"Asian Schools Championship",source:"ASDC",sourceUrl:"",tags:["criminal justice","rehabilitation","punishment","prisons"],notes:"Research Nordic model, recidivism rates, victim perspectives. Consider serious crimes.",favorited:!0,timesUsed:8,lastUsed:"2024-05-20",createdAt:"2024-05-01"},{id:De(),text:"Resolved: The United States should substantially increase its use of nuclear energy.",category:"economics",format:"pf",difficulty:3,year:2023,month:"March",tournament:"March PF Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["energy","nuclear","climate","environment"],notes:"Pro: clean baseload, climate. Con: waste, cost, safety, proliferation. Small modular reactors popular.",favorited:!1,timesUsed:16,lastUsed:"2023-03-31",createdAt:"2023-02-15"},{id:De(),text:"This House would give indigenous communities veto power over resource extraction on their ancestral lands.",category:"social",format:"bp",difficulty:4,year:2024,month:"October",tournament:"Australs",source:"Australian Debating",sourceUrl:"",tags:["indigenous rights","environment","resources","sovereignty"],notes:"Prop: self-determination, environmental protection, historical injustice. Opp: development, national interest, consistency.",favorited:!0,timesUsed:3,lastUsed:"2024-10-15",createdAt:"2024-10-01"},{id:De(),text:"A Resolution to Expand the Supreme Court.",category:"legal",format:"congress",difficulty:4,year:2024,month:"October",tournament:"National Invitational",source:"National Circuit",sourceUrl:"",tags:["Supreme Court","judicial reform","democracy","courts"],notes:"Pro: balance, democratic legitimacy. Con: precedent, politicization, retaliation.",favorited:!1,timesUsed:5,lastUsed:"2024-10-30",createdAt:"2024-10-01"},{id:De(),text:"This House believes that states should not fund the arts.",category:"economics",format:"parli",difficulty:3,year:2024,month:"November",tournament:"Regional Finals",source:"NPDA",sourceUrl:"",tags:["arts","funding","culture","government"],notes:"Gov: private patronage, government taste, opportunity cost. Opp: public good, access, cultural heritage.",favorited:!1,timesUsed:4,lastUsed:"2024-11-20",createdAt:"2024-11-01"},{id:De(),text:"Resolved: The United States ought to eliminate subsidies for fossil fuels.",category:"economics",format:"ld",difficulty:3,year:2023,month:"September",tournament:"September/October LD Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["energy","climate","subsidies","fossil fuels"],notes:"Aff: climate, market distortion. Neg: energy security, jobs, transition costs.",favorited:!1,timesUsed:14,lastUsed:"2023-10-31",createdAt:"2023-08-15"}],gj=({level:t})=>{const e=rf.find(a=>a.value===t)||rf[2],n={emerald:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",cyan:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30",amber:"bg-amber-500/20 text-amber-400 border-amber-500/30",purple:"bg-purple-500/20 text-purple-400 border-purple-500/30",rose:"bg-rose-500/20 text-rose-400 border-rose-500/30"};return s.jsx("span",{className:`px-2 py-0.5 rounded-full border text-xs font-medium ${n[e.color]}`,children:e.label})},d$=({motion:t,onEdit:e,onDelete:n,onToggleFavorite:a,onCopy:r,viewMode:o})=>{const[c,d]=E.useState(!1),m=dd[t.category]||dd.domestic,f=af[t.format]||af.pf,x=m.icon,b=()=>{navigator.clipboard.writeText(t.text),r?.(t)};return o==="compact"?s.jsx(t.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`p-4 rounded-lg border ${m.bgColor} ${m.borderColor} hover:border-opacity-60 transition-colors`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-br from-${m.color}-500/20 to-${m.color}-600/20`,children:s.jsx(x,{className:`w-4 h-4 ${m.textColor}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-white text-sm line-clamp-2",children:t.text}),s.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[s.jsx("span",{className:"text-xs text-slate-400",children:f.short}),s.jsx("span",{className:"text-slate-600",children:""}),s.jsx(gj,{level:t.difficulty}),s.jsx("span",{className:"text-slate-600",children:""}),s.jsx("span",{className:"text-xs text-slate-400",children:t.year})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>a(t.id),className:`p-1.5 rounded transition-colors ${t.favorited?"text-amber-400 hover:text-amber-300":"text-slate-500 hover:text-slate-300"}`,children:t.favorited?s.jsx(Xt,{className:"w-4 h-4 fill-current"}):s.jsx(Dg,{className:"w-4 h-4"})}),s.jsx("button",{onClick:b,className:"p-1.5 text-slate-500 hover:text-white rounded transition-colors",children:s.jsx(Gs,{className:"w-4 h-4"})})]})]})}):s.jsxs(t.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`rounded-xl border overflow-hidden ${m.bgColor} ${m.borderColor}`,children:[s.jsx("div",{className:"p-4 border-b border-slate-700/50",children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`p-2.5 rounded-xl bg-gradient-to-br from-${m.color}-500/20 to-${m.color}-600/20`,children:s.jsx(x,{className:`w-5 h-5 ${m.textColor}`})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:`text-xs font-medium ${m.textColor}`,children:m.label}),s.jsx("span",{className:"text-slate-600",children:""}),s.jsx("span",{className:"text-xs text-slate-400",children:f.label})]}),s.jsx(gj,{level:t.difficulty})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>a(t.id),className:`p-2 rounded-lg transition-colors ${t.favorited?"text-amber-400 hover:bg-amber-500/20":"text-slate-500 hover:text-slate-300 hover:bg-slate-700/50"}`,children:t.favorited?s.jsx(Xt,{className:"w-4 h-4 fill-current"}):s.jsx(Dg,{className:"w-4 h-4"})}),s.jsx("button",{onClick:b,className:"p-2 text-slate-500 hover:text-white hover:bg-slate-700/50 rounded-lg transition-colors",title:"Copy motion text",children:s.jsx(Gs,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>e(t),className:"p-2 text-slate-500 hover:text-white hover:bg-slate-700/50 rounded-lg transition-colors",children:s.jsx(Il,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>n(t.id),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",children:s.jsx(Un,{className:"w-4 h-4"})})]})]})}),s.jsx("div",{className:"p-4",children:s.jsx("p",{className:"text-white font-medium leading-relaxed",children:t.text})}),t.tags&&t.tags.length>0&&s.jsx("div",{className:"px-4 pb-3 flex items-center gap-2 flex-wrap",children:t.tags.map((v,w)=>s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-slate-700/50 text-slate-300 text-xs rounded-full",children:[s.jsx(Tj,{className:"w-3 h-3"}),v]},w))}),s.jsxs("div",{className:"px-4 pb-4",children:[s.jsxs("button",{onClick:()=>d(!c),className:"flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[c?s.jsx($a,{className:"w-4 h-4"}):s.jsx(mn,{className:"w-4 h-4"}),s.jsx("span",{children:"Details"})]}),s.jsx(et,{children:c&&s.jsx(t.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:s.jsxs("div",{className:"pt-3 space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500 text-xs uppercase tracking-wide",children:"Tournament"}),s.jsx("p",{className:"text-white",children:t.tournament||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500 text-xs uppercase tracking-wide",children:"Source"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("p",{className:"text-white",children:t.source||"Unknown"}),t.sourceUrl&&s.jsx("a",{href:t.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300",children:s.jsx(_j,{className:"w-3 h-3"})})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500 text-xs uppercase tracking-wide",children:"Date"}),s.jsxs("p",{className:"text-white",children:[t.month," ",t.year]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500 text-xs uppercase tracking-wide",children:"Times Used"}),s.jsx("p",{className:"text-white",children:t.timesUsed||0})]})]}),t.notes&&s.jsxs("div",{className:"pt-2 border-t border-slate-700/50",children:[s.jsx("span",{className:"text-slate-500 text-xs uppercase tracking-wide",children:"Notes"}),s.jsx("p",{className:"text-slate-300 text-sm mt-1",children:t.notes})]})]})})})]})]})},h$=({isOpen:t,onClose:e,motion:n,onSave:a})=>{const[r,o]=E.useState({text:"",category:"domestic",format:"pf",difficulty:3,year:new Date().getFullYear(),month:"",tournament:"",source:"",sourceUrl:"",tags:[],notes:""}),[c,d]=E.useState("");Nx.useEffect(()=>{t&&o(n?{text:n.text||"",category:n.category||"domestic",format:n.format||"pf",difficulty:n.difficulty||3,year:n.year||new Date().getFullYear(),month:n.month||"",tournament:n.tournament||"",source:n.source||"",sourceUrl:n.sourceUrl||"",tags:n.tags||[],notes:n.notes||""}:{text:"",category:"domestic",format:"pf",difficulty:3,year:new Date().getFullYear(),month:"",tournament:"",source:"",sourceUrl:"",tags:[],notes:""})},[t,n]);const m=()=>{c.trim()&&!r.tags.includes(c.trim())&&(o(b=>({...b,tags:[...b.tags,c.trim().toLowerCase()]})),d(""))},f=b=>{o(v=>({...v,tags:v.tags.filter(w=>w!==b)}))},x=b=>{b.preventDefault(),r.text.trim()&&(a({id:n?.id||De(),...r,favorited:n?.favorited||!1,timesUsed:n?.timesUsed||0,lastUsed:n?.lastUsed||null,createdAt:n?.createdAt||new Date().toISOString()}),e())};return t?s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsx(n.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-slate-800 border border-slate-700 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:s.jsxs("form",{onSubmit:x,children:[s.jsx("div",{className:"p-6 border-b border-slate-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:n?"Edit Motion":"Add New Motion"}),s.jsx("button",{type:"button",onClick:e,className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",children:s.jsx(Qn,{className:"w-5 h-5"})})]})}),s.jsxs("div",{className:"p-6 space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Motion/Resolution Text *"}),s.jsx("textarea",{value:r.text,onChange:b=>o(v=>({...v,text:b.target.value})),placeholder:"Resolved: ...",rows:3,className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50 resize-none",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Category"}),s.jsx("select",{value:r.category,onChange:b=>o(v=>({...v,category:b.target.value})),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50",children:Object.entries(dd).map(([b,v])=>s.jsx("option",{value:b,children:v.label},b))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Format"}),s.jsx("select",{value:r.format,onChange:b=>o(v=>({...v,format:b.target.value})),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50",children:Object.entries(af).map(([b,v])=>s.jsx("option",{value:b,children:v.label},b))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Difficulty Level"}),s.jsx("div",{className:"flex items-center gap-2",children:rf.map(b=>s.jsx("button",{type:"button",onClick:()=>o(v=>({...v,difficulty:b.value})),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${r.difficulty===b.value?`bg-${b.color}-500/20 text-${b.color}-400 border border-${b.color}-500/50`:"bg-slate-700/50 text-slate-400 border border-slate-600 hover:bg-slate-700"}`,children:b.label},b.value))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Tournament/Event"}),s.jsx("input",{type:"text",value:r.tournament,onChange:b=>o(v=>({...v,tournament:b.target.value})),placeholder:"e.g., NSDA Nationals",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Source"}),s.jsx("input",{type:"text",value:r.source,onChange:b=>o(v=>({...v,source:b.target.value})),placeholder:"e.g., NSDA",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Year"}),s.jsx("input",{type:"number",value:r.year,onChange:b=>o(v=>({...v,year:parseInt(b.target.value)})),min:2e3,max:2030,className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Month"}),s.jsxs("select",{value:r.month,onChange:b=>o(v=>({...v,month:b.target.value})),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50",children:[s.jsx("option",{value:"",children:"Select month..."}),["January","February","March","April","May","June","July","August","September","October","November","December"].map(b=>s.jsx("option",{value:b,children:b},b))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Source URL (optional)"}),s.jsx("input",{type:"url",value:r.sourceUrl,onChange:b=>o(v=>({...v,sourceUrl:b.target.value})),placeholder:"https://...",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Tags"}),s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("input",{type:"text",value:c,onChange:b=>d(b.target.value),onKeyPress:b=>b.key==="Enter"&&(b.preventDefault(),m()),placeholder:"Add a tag...",className:"flex-1 bg-slate-700/50 border border-slate-600 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50"}),s.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Add"})]}),r.tags.length>0&&s.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:r.tags.map((b,v)=>s.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 bg-slate-700 text-slate-300 text-sm rounded-full",children:[s.jsx(Tj,{className:"w-3 h-3"}),b,s.jsx("button",{type:"button",onClick:()=>f(b),className:"text-slate-500 hover:text-red-400 ml-1",children:s.jsx(Qn,{className:"w-3 h-3"})})]},v))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Notes"}),s.jsx("textarea",{value:r.notes,onChange:b=>o(v=>({...v,notes:b.target.value})),placeholder:"Strategy notes, key arguments, etc.",rows:3,className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50 resize-none"})]})]}),s.jsxs("div",{className:"p-6 border-t border-slate-700 flex items-center justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-slate-400 hover:text-white transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2 bg-cyan-600 hover:bg-cyan-500 text-white rounded-lg transition-colors font-medium",children:n?"Save Changes":"Add Motion"})]})]})})}):null},m$=()=>{const[t,e]=E.useState(u$),[n,a]=E.useState(""),[r,o]=E.useState("all"),[c,d]=E.useState("all"),[m,f]=E.useState("all"),[x,b]=E.useState("all"),[v,w]=E.useState(!1),[j,D]=E.useState("newest"),[k,V]=E.useState("full"),[I,B]=E.useState(!1),[Q,se]=E.useState(null),[G,R]=E.useState(!1),[A,L]=E.useState(null),T=E.useMemo(()=>{const re=new Set(t.map(ge=>ge.year));return Array.from(re).sort((ge,z)=>z-ge)},[t]),C=E.useMemo(()=>{let re=[...t];if(n.trim()){const ge=n.toLowerCase();re=re.filter(z=>z.text.toLowerCase().includes(ge)||z.tags?.some(Te=>Te.toLowerCase().includes(ge))||z.tournament?.toLowerCase().includes(ge)||z.source?.toLowerCase().includes(ge))}switch(r!=="all"&&(re=re.filter(ge=>ge.category===r)),c!=="all"&&(re=re.filter(ge=>ge.format===c)),m!=="all"&&(re=re.filter(ge=>ge.difficulty===parseInt(m))),x!=="all"&&(re=re.filter(ge=>ge.year===parseInt(x))),v&&(re=re.filter(ge=>ge.favorited)),j){case"newest":re.sort((ge,z)=>new Date(z.createdAt)-new Date(ge.createdAt));break;case"oldest":re.sort((ge,z)=>new Date(ge.createdAt)-new Date(z.createdAt));break;case"most-used":re.sort((ge,z)=>(z.timesUsed||0)-(ge.timesUsed||0));break;case"difficulty-asc":re.sort((ge,z)=>ge.difficulty-z.difficulty);break;case"difficulty-desc":re.sort((ge,z)=>z.difficulty-ge.difficulty);break;case"alphabetical":re.sort((ge,z)=>ge.text.localeCompare(z.text));break}return re},[t,n,r,c,m,x,v,j]),P=re=>{e(ge=>{const z=ge.findIndex(Te=>Te.id===re.id);if(z>=0){const Te=[...ge];return Te[z]=re,Te}return[re,...ge]})},O=re=>{confirm("Are you sure you want to delete this motion?")&&e(ge=>ge.filter(z=>z.id!==re))},te=re=>{e(ge=>ge.map(z=>z.id===re?{...z,favorited:!z.favorited}:z))},J=re=>{L(re.id),setTimeout(()=>L(null),2e3)},q=re=>{se(re),B(!0)},X=()=>{const re=JSON.stringify(t,null,2),ge=new Blob([re],{type:"application/json"}),z=URL.createObjectURL(ge),Te=document.createElement("a");Te.href=z,Te.download="motion-library.json",Te.click(),URL.revokeObjectURL(z)},he=re=>{const ge=re.target.files?.[0];if(!ge)return;const z=new FileReader;z.onload=Te=>{try{const Ue=JSON.parse(Te.target.result);Array.isArray(Ue)&&e($e=>[...Ue,...$e])}catch(Ue){console.error("Failed to import motions:",Ue)}},z.readAsText(ge),re.target.value=""},ye=()=>{a(""),o("all"),d("all"),f("all"),b("all"),w(!1)},$=[r!=="all",c!=="all",m!=="all",x!=="all",v].filter(Boolean).length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl",children:s.jsx(Ni,{className:"w-6 h-6 text-white"})}),"Motion Library"]}),s.jsxs("p",{className:"text-slate-400 mt-1",children:[C.length," of ",t.length," motions"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors cursor-pointer",children:[s.jsx(md,{className:"w-4 h-4"}),"Import",s.jsx("input",{type:"file",accept:".json",onChange:he,className:"hidden"})]}),s.jsxs("button",{onClick:X,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[s.jsx(ac,{className:"w-4 h-4"}),"Export"]}),s.jsxs("button",{onClick:()=>{se(null),B(!0)},className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-500 text-white rounded-lg transition-colors",children:[s.jsx(At,{className:"w-4 h-4"}),"Add Motion"]})]})]}),s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Tr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),s.jsx("input",{type:"text",value:n,onChange:re=>a(re.target.value),placeholder:"Search motions, tags, tournaments...",className:"w-full bg-slate-700/50 border border-slate-600 text-white pl-10 pr-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50"})]}),s.jsxs("button",{onClick:()=>w(!v),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-colors ${v?"bg-amber-500/20 text-amber-400 border border-amber-500/50":"bg-slate-700/50 text-slate-400 border border-slate-600 hover:text-white"}`,children:[s.jsx(Xt,{className:`w-4 h-4 ${v?"fill-current":""}`}),"Favorites"]}),s.jsxs("button",{onClick:()=>R(!G),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-colors ${G||$>0?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/50":"bg-slate-700/50 text-slate-400 border border-slate-600 hover:text-white"}`,children:[s.jsx(TC,{className:"w-4 h-4"}),"Filters",$>0&&s.jsx("span",{className:"w-5 h-5 bg-cyan-500 text-white text-xs rounded-full flex items-center justify-center",children:$})]}),s.jsxs("div",{className:"flex items-center gap-1 bg-slate-700/50 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>V("full"),className:`p-2 rounded ${k==="full"?"bg-slate-600 text-white":"text-slate-400 hover:text-white"}`,children:s.jsx(Tx,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>V("compact"),className:`p-2 rounded ${k==="compact"?"bg-slate-600 text-white":"text-slate-400 hover:text-white"}`,children:s.jsx(Cx,{className:"w-4 h-4"})})]}),s.jsxs("select",{value:j,onChange:re=>D(re.target.value),className:"bg-slate-700/50 border border-slate-600 text-white px-3 py-2.5 rounded-lg focus:outline-none",children:[s.jsx("option",{value:"newest",children:"Newest First"}),s.jsx("option",{value:"oldest",children:"Oldest First"}),s.jsx("option",{value:"most-used",children:"Most Used"}),s.jsx("option",{value:"difficulty-asc",children:"Difficulty "}),s.jsx("option",{value:"difficulty-desc",children:"Difficulty "}),s.jsx("option",{value:"alphabetical",children:"A-Z"})]})]}),s.jsx(et,{children:G&&s.jsxs(U.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:[s.jsxs("div",{className:"pt-4 mt-4 border-t border-slate-700 grid grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Category"}),s.jsxs("select",{value:r,onChange:re=>o(re.target.value),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-3 py-2 rounded-lg focus:outline-none text-sm",children:[s.jsx("option",{value:"all",children:"All Categories"}),Object.entries(dd).map(([re,ge])=>s.jsx("option",{value:re,children:ge.label},re))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Format"}),s.jsxs("select",{value:c,onChange:re=>d(re.target.value),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-3 py-2 rounded-lg focus:outline-none text-sm",children:[s.jsx("option",{value:"all",children:"All Formats"}),Object.entries(af).map(([re,ge])=>s.jsx("option",{value:re,children:ge.label},re))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Difficulty"}),s.jsxs("select",{value:m,onChange:re=>f(re.target.value),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-3 py-2 rounded-lg focus:outline-none text-sm",children:[s.jsx("option",{value:"all",children:"All Levels"}),rf.map(re=>s.jsx("option",{value:re.value,children:re.label},re.value))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Year"}),s.jsxs("select",{value:x,onChange:re=>b(re.target.value),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-3 py-2 rounded-lg focus:outline-none text-sm",children:[s.jsx("option",{value:"all",children:"All Years"}),T.map(re=>s.jsx("option",{value:re,children:re},re))]})]})]}),$>0&&s.jsx("div",{className:"mt-3 flex items-center justify-end",children:s.jsx("button",{onClick:ye,className:"text-sm text-slate-400 hover:text-white transition-colors",children:"Clear all filters"})})]})})]}),s.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:[s.jsx("button",{onClick:()=>o("all"),className:`flex-shrink-0 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r==="all"?"bg-slate-700 text-white":"bg-slate-800/50 text-slate-400 hover:text-white"}`,children:"All"}),Object.entries(dd).map(([re,ge])=>{const z=ge.icon,Te=t.filter(Ue=>Ue.category===re).length;return s.jsxs("button",{onClick:()=>o(r===re?"all":re),className:`flex-shrink-0 flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r===re?`${ge.bgColor} ${ge.textColor} border ${ge.borderColor}`:"bg-slate-800/50 text-slate-400 hover:text-white border border-transparent"}`,children:[s.jsx(z,{className:"w-4 h-4"}),ge.label,s.jsxs("span",{className:"text-xs opacity-60",children:["(",Te,")"]})]},re)})]}),C.length===0?s.jsxs("div",{className:"text-center py-16",children:[s.jsx(Ni,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-slate-400",children:"No motions found"}),s.jsx("p",{className:"text-slate-500 mt-1",children:n||$>0?"Try adjusting your filters or search query":"Add your first motion to get started"}),(n||$>0)&&s.jsx("button",{onClick:ye,className:"mt-4 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Clear Filters"})]}):s.jsx("div",{className:k==="full"?"grid grid-cols-1 lg:grid-cols-2 gap-4":"space-y-2",children:s.jsx(et,{mode:"popLayout",children:C.map(re=>s.jsx(d$,{motion:re,viewMode:k,onEdit:q,onDelete:O,onToggleFavorite:te,onCopy:J},re.id))})}),s.jsx(et,{children:A&&s.jsxs(U.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 right-6 bg-emerald-600 text-white px-4 py-3 rounded-lg shadow-lg flex items-center gap-2",children:[s.jsx(es,{className:"w-5 h-5"}),"Motion copied to clipboard!"]})}),s.jsx(et,{children:I&&s.jsx(h$,{isOpen:I,onClose:()=>{B(!1),se(null)},motion:Q,onSave:P})})]})},Eg={pf:{name:"Public Forum",teams:2,speakersPerTeam:2,maxSpeakerPoints:30,minSpeakerPoints:20,rubricCategories:[{id:"argumentation",label:"Argumentation & Analysis",weight:30,description:"Quality of arguments, logical reasoning, clash"},{id:"evidence",label:"Use of Evidence",weight:20,description:"Quality, relevance, and explanation of sources"},{id:"refutation",label:"Refutation & Defense",weight:20,description:"Responses to opponent arguments, defense of own case"},{id:"delivery",label:"Delivery & Presentation",weight:15,description:"Speaking skills, clarity, eye contact, pace"},{id:"crossfire",label:"Crossfire Performance",weight:15,description:"Questions, answers, engagement in crossfire"}]},ld:{name:"Lincoln Douglas",teams:2,speakersPerTeam:1,maxSpeakerPoints:30,minSpeakerPoints:20,rubricCategories:[{id:"framework",label:"Value/Criterion Framework",weight:25,description:"Quality and defense of philosophical framework"},{id:"argumentation",label:"Argumentation",weight:25,description:"Quality of contentions and logical analysis"},{id:"clash",label:"Clash & Refutation",weight:20,description:"Engagement with opponent, responses, weighing"},{id:"crystallization",label:"Crystallization",weight:15,description:"Summary and focus on key issues"},{id:"delivery",label:"Delivery",weight:15,description:"Speaking skills, persuasion, presence"}]},policy:{name:"Policy/CX",teams:2,speakersPerTeam:2,maxSpeakerPoints:30,minSpeakerPoints:20,rubricCategories:[{id:"case",label:"Case Arguments",weight:25,description:"Quality of affirmative/negative case"},{id:"evidence",label:"Evidence Quality",weight:20,description:"Card quality, warrants, recency"},{id:"strategy",label:"Strategic Choices",weight:20,description:"Argument selection, time allocation, 2NR/2AR"},{id:"cx",label:"Cross-Examination",weight:15,description:"Question quality, answer quality, strategic use"},{id:"delivery",label:"Delivery & Clarity",weight:20,description:"Speed, clarity, organization, signposting"}]},congress:{name:"Congressional Debate",teams:1,speakersPerTeam:1,maxSpeakerPoints:6,minSpeakerPoints:1,rubricCategories:[{id:"argumentation",label:"Argumentation",weight:30,description:"Quality and originality of arguments"},{id:"evidence",label:"Evidence & Research",weight:20,description:"Use of statistics, examples, sources"},{id:"refutation",label:"Clash & Refutation",weight:20,description:"Engagement with previous speakers"},{id:"delivery",label:"Delivery",weight:20,description:"Speaking skills, presence, persuasion"},{id:"procedure",label:"Parliamentary Procedure",weight:10,description:"Knowledge and use of procedure"}]},parli:{name:"Parliamentary (NPDA)",teams:2,speakersPerTeam:2,maxSpeakerPoints:30,minSpeakerPoints:20,rubricCategories:[{id:"case",label:"Case Construction",weight:25,description:"Model/interpretation, argumentation"},{id:"refutation",label:"Refutation",weight:25,description:"Responses, turns, impact comparison"},{id:"poi",label:"Points of Information",weight:15,description:"POI quality and handling"},{id:"strategy",label:"Strategy & Weighing",weight:20,description:"Strategic choices, crystallization"},{id:"delivery",label:"Delivery",weight:15,description:"Speaking skills, wit, presence"}]},bp:{name:"British Parliamentary",teams:4,speakersPerTeam:2,maxSpeakerPoints:100,minSpeakerPoints:50,rubricCategories:[{id:"content",label:"Content & Analysis",weight:30,description:"Depth of argumentation, examples, logical reasoning"},{id:"strategy",label:"Strategy & Role Fulfilment",weight:25,description:"Meeting role requirements, extensions for closing teams"},{id:"engagement",label:"Engagement & Rebuttal",weight:20,description:"Responses to other teams, clash with opposition"},{id:"poi",label:"POI Handling",weight:10,description:"Quality of POIs offered and accepted"},{id:"delivery",label:"Style & Delivery",weight:15,description:"Persuasion, clarity, structure, presence"}]},wsdc:{name:"World Schools",teams:2,speakersPerTeam:3,maxSpeakerPoints:100,minSpeakerPoints:60,rubricCategories:[{id:"content",label:"Content",weight:40,description:"Logic, argumentation, use of examples, case construction"},{id:"style",label:"Style",weight:40,description:"Persuasion, language, vocal variety, presence, eye contact"},{id:"strategy",label:"Strategy",weight:20,description:"Structure, time management, responsiveness, prioritization"}]},ipda:{name:"IPDA",teams:2,speakersPerTeam:1,maxSpeakerPoints:30,minSpeakerPoints:20,rubricCategories:[{id:"argumentation",label:"Argumentation",weight:30,description:"Quality of arguments, logical reasoning"},{id:"clash",label:"Clash & Refutation",weight:25,description:"Engagement with opponent arguments"},{id:"communication",label:"Communication",weight:25,description:"Clarity, accessibility, persuasion for lay judges"},{id:"organization",label:"Organization & Structure",weight:20,description:"Clear structure, signposting, time management"}]},apda:{name:"APDA",teams:2,speakersPerTeam:2,maxSpeakerPoints:30,minSpeakerPoints:20,rubricCategories:[{id:"case",label:"Case Quality",weight:25,description:"Case statement quality, interpretation, modeling"},{id:"argumentation",label:"Argumentation",weight:25,description:"Quality of arguments, logic, analysis"},{id:"refutation",label:"Refutation & Clash",weight:20,description:"Responses to opposition, engagement"},{id:"poi",label:"POI Performance",weight:15,description:"Quality of POIs given and received"},{id:"delivery",label:"Delivery & Style",weight:15,description:"Speaking skills, wit, rhetorical flourish"}]}},f$=[{range:"29.5-30",label:"Exceptional",description:"Tournament-winning performance"},{range:"29-29.4",label:"Excellent",description:"Should be in late elimination rounds"},{range:"28.5-28.9",label:"Very Good",description:"Should break to elimination rounds"},{range:"28-28.4",label:"Good",description:"Solid varsity performance"},{range:"27.5-27.9",label:"Above Average",description:"Competent but room for improvement"},{range:"27-27.4",label:"Average",description:"Meets basic expectations"},{range:"26-26.9",label:"Below Average",description:"Significant areas for improvement"},{range:"25-25.9",label:"Needs Work",description:"Major issues in multiple areas"},{range:"20-24.9",label:"Developmental",description:"Novice or serious concerns"}],p$=()=>`ballot_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,g$=({category:t,score:e,onChange:n,maxScore:a=10})=>{const r=e/a*100,o=c=>c>=90?"text-emerald-400":c>=80?"text-cyan-400":c>=70?"text-amber-400":c>=60?"text-orange-400":"text-red-400";return s.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-medium",children:t.label}),s.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:t.description})]}),s.jsxs("span",{className:"text-xs text-slate-500 bg-slate-700 px-2 py-0.5 rounded",children:["Weight: ",t.weight,"%"]})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[s.jsx("input",{type:"range",min:0,max:a,step:.5,value:e,onChange:c=>n(parseFloat(c.target.value)),className:"flex-1 h-2 bg-slate-600 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),s.jsx("div",{className:`text-2xl font-bold w-16 text-right ${o(r)}`,children:e.toFixed(1)})]}),s.jsxs("div",{className:"flex justify-between mt-1 text-xs text-slate-500",children:[s.jsx("span",{children:"0"}),s.jsx("span",{children:"Poor"}),s.jsx("span",{children:"Average"}),s.jsx("span",{children:"Good"}),s.jsx("span",{children:"Excellent"}),s.jsx("span",{children:a})]})]})},x$=({speaker:t,points:e,onChange:n,format:a,showGuide:r=!1})=>{const[o,c]=E.useState(r),{minSpeakerPoints:d,maxSpeakerPoints:m}=a,f=x=>x>=29.5?"text-emerald-400":x>=29?"text-cyan-400":x>=28.5?"text-blue-400":x>=28?"text-purple-400":x>=27.5?"text-amber-400":x>=27?"text-orange-400":"text-red-400";return s.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jl,{className:"w-4 h-4 text-slate-400"}),s.jsx("span",{className:"text-white font-medium",children:t.name||`Speaker ${t.position}`}),s.jsxs("span",{className:"text-xs text-slate-500",children:["(",t.side,")"]})]}),s.jsxs("button",{onClick:()=>c(!o),className:"text-xs text-cyan-400 hover:text-cyan-300 flex items-center gap-1",children:[s.jsx(ic,{className:"w-3 h-3"}),"Guide"]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("input",{type:"number",min:d,max:m,step:.1,value:e,onChange:x=>n(parseFloat(x.target.value)||d),className:`w-24 bg-slate-800 border border-slate-600 text-center text-2xl font-bold px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50 ${f(e)}`}),s.jsx("input",{type:"range",min:d,max:m,step:.1,value:e,onChange:x=>n(parseFloat(x.target.value)),className:"flex-1 h-2 bg-slate-600 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]}),s.jsx(et,{children:o&&s.jsx(U.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:s.jsx("div",{className:"mt-3 pt-3 border-t border-slate-700 grid grid-cols-3 gap-2 text-xs",children:f$.map(x=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium text-slate-300",children:x.range}),s.jsx("div",{className:"text-slate-500",children:x.label})]},x.range))})})})]})},b$=({team:t,isWinner:e,onToggleWinner:n,onUpdateSpeaker:a,onUpdateRubric:r,format:o})=>{const[c,d]=E.useState(!0),m=Object.values(t.rubricScores||{}).reduce((x,b)=>x+b,0),f=o.rubricCategories.length>0?m/o.rubricCategories.length:0;return s.jsxs("div",{className:`bg-slate-800/50 border rounded-xl overflow-hidden transition-all ${e?"border-emerald-500/50 ring-2 ring-emerald-500/20":"border-slate-700"}`,children:[s.jsxs("div",{className:`p-4 border-b ${e?"bg-emerald-500/10 border-emerald-500/30":"bg-slate-800/50 border-slate-700"}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${t.side==="Aff"||t.side==="Pro"||t.side==="Gov"?"bg-cyan-500/20 text-cyan-400":"bg-orange-500/20 text-orange-400"}`,children:s.jsx(hf,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("input",{type:"text",value:t.name,onChange:x=>a(t.id,"name",x.target.value),placeholder:"Team Name",className:"bg-transparent text-white font-semibold text-lg focus:outline-none"}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:`${t.side==="Aff"||t.side==="Pro"||t.side==="Gov"?"text-cyan-400":"text-orange-400"}`,children:t.side}),s.jsx("span",{className:"text-slate-500",children:""}),s.jsx("input",{type:"text",value:t.school||"",onChange:x=>a(t.id,"school",x.target.value),placeholder:"School",className:"bg-transparent text-slate-400 focus:outline-none"})]})]})]}),s.jsxs("button",{onClick:()=>n(t.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${e?"bg-emerald-500 text-white":"bg-slate-700 text-slate-400 hover:bg-slate-600 hover:text-white"}`,children:[s.jsx($t,{className:`w-4 h-4 ${e?"fill-current":""}`}),e?"Winner":"Mark Winner"]})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1 text-slate-400",children:[s.jsx(Xt,{className:"w-4 h-4 text-amber-400"}),s.jsx("span",{children:"Avg Points:"}),s.jsx("span",{className:"text-white font-medium",children:(t.speakers.reduce((x,b)=>x+b.points,0)/t.speakers.length).toFixed(1)})]}),s.jsxs("div",{className:"flex items-center gap-1 text-slate-400",children:[s.jsx(Ot,{className:"w-4 h-4 text-cyan-400"}),s.jsx("span",{children:"Rubric:"}),s.jsxs("span",{className:"text-white font-medium",children:[f.toFixed(1),"/10"]})]})]})]}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("h4",{className:"text-sm text-slate-400 uppercase tracking-wide flex items-center gap-2",children:[s.jsx(oa,{className:"w-4 h-4"}),"Speaker Points"]}),t.speakers.map((x,b)=>s.jsx(x$,{speaker:x,points:x.points,onChange:v=>a(t.id,`speaker_${b}_points`,v),format:o},x.id))]}),s.jsxs("div",{className:"p-4 border-t border-slate-700",children:[s.jsxs("button",{onClick:()=>d(!c),className:"flex items-center justify-between w-full text-sm text-slate-400 uppercase tracking-wide mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"w-4 h-4"}),"Rubric Scoring"]}),c?s.jsx($a,{className:"w-4 h-4"}):s.jsx(mn,{className:"w-4 h-4"})]}),s.jsx(et,{children:c&&s.jsx(U.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"space-y-3",children:o.rubricCategories.map(x=>s.jsx(g$,{category:x,score:t.rubricScores?.[x.id]||5,onChange:b=>r(t.id,x.id,b)},x.id))})})]})]})},y$=({rfd:t,onChange:e})=>{const[n,a]=E.useState(t.length),r=o=>{const c=o.target.value;a(c.length),e(c)};return s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[s.jsx(Ha,{className:"w-5 h-5 text-purple-400"}),"Reason for Decision (RFD)"]}),s.jsxs("span",{className:"text-xs text-slate-500",children:[n," characters"]})]}),s.jsx("textarea",{value:t,onChange:r,placeholder:`Explain your decision. What were the key voting issues? How did the teams compare on those issues? What feedback would help the debaters improve?

Consider addressing:
 The main arguments and how they were resolved
 Key moments that influenced your decision
 Specific feedback for each team
 What each side did well and areas for improvement`,rows:8,className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/50 resize-none"}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[s.jsx("span",{className:"text-xs text-slate-500",children:"Quick add:"}),["Better weighing on impacts","Clearer extensions in rebuttals","More responsive to opponent arguments","Stronger evidence comparison"].map(o=>s.jsxs("button",{onClick:()=>e(t+(t?`

`:"")+o),className:"text-xs px-2 py-1 bg-slate-700 text-slate-300 rounded hover:bg-slate-600 transition-colors",children:["+ ",o]},o))]})]})},v$=({signature:t,onChange:e})=>{const n=E.useRef(null),[a,r]=E.useState(!1),[o,c]=E.useState({x:0,y:0}),d=b=>{const w=n.current.getBoundingClientRect(),j=(b.clientX||b.touches?.[0]?.clientX)-w.left,D=(b.clientY||b.touches?.[0]?.clientY)-w.top;c({x:j,y:D}),r(!0)},m=b=>{if(!a)return;const v=n.current,w=v.getContext("2d"),j=v.getBoundingClientRect(),D=(b.clientX||b.touches?.[0]?.clientX)-j.left,k=(b.clientY||b.touches?.[0]?.clientY)-j.top;w.beginPath(),w.moveTo(o.x,o.y),w.lineTo(D,k),w.strokeStyle="#22d3ee",w.lineWidth=2,w.lineCap="round",w.stroke(),c({x:D,y:k})},f=()=>{if(a){r(!1);const b=n.current;e({...t,image:b.toDataURL()})}},x=()=>{const b=n.current;b.getContext("2d").clearRect(0,0,b.width,b.height),e({...t,image:null})};return s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2 mb-4",children:[s.jsx(_A,{className:"w-5 h-5 text-cyan-400"}),"Judge Information & Signature"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Judge Name"}),s.jsx("input",{type:"text",value:t.name||"",onChange:b=>e({...t,name:b.target.value}),placeholder:"Enter your name",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Affiliation"}),s.jsx("input",{type:"text",value:t.affiliation||"",onChange:b=>e({...t,affiliation:b.target.value}),placeholder:"School/Organization",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"text-sm text-slate-400",children:"Signature (draw below)"}),s.jsxs("button",{onClick:x,className:"text-xs text-slate-400 hover:text-white flex items-center gap-1",children:[s.jsx(_i,{className:"w-3 h-3"}),"Clear"]})]}),s.jsxs("div",{className:"relative bg-slate-900 border border-slate-600 rounded-lg overflow-hidden",children:[s.jsx("canvas",{ref:n,width:400,height:100,onMouseDown:d,onMouseMove:m,onMouseUp:f,onMouseLeave:f,onTouchStart:d,onTouchMove:m,onTouchEnd:f,className:"w-full cursor-crosshair touch-none",style:{height:"100px"}}),!t.image&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:s.jsx("span",{className:"text-slate-600 text-sm",children:"Sign here"})})]})]})]})},w$=()=>{const[t,e]=E.useState("pf"),[n,a]=E.useState({tournament:"",round:"",room:"",date:new Date().toISOString().split("T")[0],motion:""}),[r,o]=E.useState([{id:"team1",name:"",school:"",side:"Pro",speakers:[{id:"sp1",name:"",position:1,side:"Pro",points:28},{id:"sp2",name:"",position:2,side:"Pro",points:28}],rubricScores:{}},{id:"team2",name:"",school:"",side:"Con",speakers:[{id:"sp3",name:"",position:1,side:"Con",points:28},{id:"sp4",name:"",position:2,side:"Con",points:28}],rubricScores:{}}]),[c,d]=E.useState(null),[m,f]=E.useState(""),[x,b]=E.useState({name:"",affiliation:"",image:null}),[v,w]=E.useState([]),[j,D]=E.useState(!1),k=Eg[t],V=T=>{e(T);const C=Eg[T],P={pf:["Pro","Con"],ld:["Aff","Neg"],policy:["Aff","Neg"],congress:["Speaker"],parli:["Gov","Opp"]},O=[];for(let te=0;te<C.teams;te++){const J=[];for(let q=0;q<C.speakersPerTeam;q++)J.push({id:`sp_${te}_${q}`,name:"",position:q+1,side:P[T][te],points:(C.maxSpeakerPoints+C.minSpeakerPoints)/2});O.push({id:`team${te+1}`,name:"",school:"",side:P[T][te],speakers:J,rubricScores:{}})}o(O),d(null)},I=(T,C,P)=>{o(O=>O.map(te=>{if(te.id!==T)return te;if(C==="name"||C==="school")return{...te,[C]:P};if(C.startsWith("speaker_")){const[,J,q]=C.split("_"),X=[...te.speakers];return X[parseInt(J)]={...X[parseInt(J)],[q]:P},{...te,speakers:X}}return te}))},B=(T,C,P)=>{o(O=>O.map(te=>te.id!==T?te:{...te,rubricScores:{...te.rubricScores,[C]:P}}))},Q=T=>{d(c===T?null:T)},se=T=>{let C=0,P=0;return k.rubricCategories.forEach(O=>{const te=T.rubricScores?.[O.id]||5;C+=te*O.weight,P+=O.weight}),P>0?C/P:0},G=()=>{r.find(P=>P.id===c),r.find(P=>P.id!==c);const T=`
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Debate Ballot - ${n.tournament||"Tournament"}</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Georgia', serif; max-width: 800px; margin: 0 auto; padding: 20px; color: #1a1a2e; }
    .header { text-align: center; border-bottom: 3px double #333; padding-bottom: 15px; margin-bottom: 20px; }
    .header h1 { font-size: 24px; margin-bottom: 5px; }
    .header .format { color: #666; font-style: italic; }
    .meta { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 20px; padding: 10px; background: #f5f5f5; border-radius: 5px; }
    .meta-item { text-align: center; }
    .meta-item label { display: block; font-size: 10px; text-transform: uppercase; color: #666; }
    .meta-item span { font-weight: bold; }
    .motion { background: #e8e8e8; padding: 15px; border-radius: 5px; margin-bottom: 20px; font-style: italic; }
    .teams { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
    .team { border: 2px solid #ddd; border-radius: 8px; padding: 15px; }
    .team.winner { border-color: #22c55e; background: #f0fdf4; }
    .team-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; padding-bottom: 10px; border-bottom: 1px solid #ddd; }
    .team-name { font-size: 18px; font-weight: bold; }
    .team-side { color: #666; }
    .winner-badge { background: #22c55e; color: white; padding: 3px 10px; border-radius: 20px; font-size: 12px; }
    .speakers { margin-bottom: 15px; }
    .speaker { display: flex; justify-content: space-between; padding: 5px 0; border-bottom: 1px dotted #ddd; }
    .speaker-points { font-weight: bold; font-size: 18px; }
    .rubric { margin-top: 10px; }
    .rubric-item { display: flex; justify-content: space-between; padding: 3px 0; font-size: 12px; }
    .rubric-score { font-weight: bold; }
    .rfd { margin-bottom: 20px; padding: 15px; background: #fafafa; border-left: 4px solid #8b5cf6; }
    .rfd h3 { margin-bottom: 10px; color: #8b5cf6; }
    .rfd p { line-height: 1.6; white-space: pre-wrap; }
    .signature { display: flex; justify-content: space-between; align-items: flex-end; margin-top: 30px; padding-top: 20px; border-top: 2px solid #333; }
    .sig-box { text-align: center; }
    .sig-line { width: 200px; border-bottom: 1px solid #333; margin-bottom: 5px; min-height: 50px; }
    .sig-line img { max-height: 50px; }
    .sig-label { font-size: 12px; color: #666; }
    @media print { 
      body { padding: 10px; }
      .no-print { display: none; }
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>${n.tournament||"Debate Tournament"}</h1>
    <div class="format">${k.name} Ballot</div>
  </div>

  <div class="meta">
    <div class="meta-item">
      <label>Round</label>
      <span>${n.round||"-"}</span>
    </div>
    <div class="meta-item">
      <label>Room</label>
      <span>${n.room||"-"}</span>
    </div>
    <div class="meta-item">
      <label>Date</label>
      <span>${n.date||"-"}</span>
    </div>
    <div class="meta-item">
      <label>Format</label>
      <span>${k.name}</span>
    </div>
  </div>

  ${n.motion?`<div class="motion"><strong>Motion:</strong> ${n.motion}</div>`:""}

  <div class="teams">
    ${r.map(P=>`
      <div class="team ${P.id===c?"winner":""}">
        <div class="team-header">
          <div>
            <div class="team-name">${P.name||"Team"}</div>
            <div class="team-side">${P.side}  ${P.school||"School"}</div>
          </div>
          ${P.id===c?'<span class="winner-badge">WINNER</span>':""}
        </div>
        <div class="speakers">
          <strong>Speaker Points:</strong>
          ${P.speakers.map(O=>`
            <div class="speaker">
              <span>${O.name||`Speaker ${O.position}`}</span>
              <span class="speaker-points">${O.points.toFixed(1)}</span>
            </div>
          `).join("")}
        </div>
        <div class="rubric">
          <strong>Rubric Scores:</strong>
          ${k.rubricCategories.map(O=>`
            <div class="rubric-item">
              <span>${O.label}</span>
              <span class="rubric-score">${(P.rubricScores?.[O.id]||5).toFixed(1)}/10</span>
            </div>
          `).join("")}
        </div>
      </div>
    `).join("")}
  </div>

  <div class="rfd">
    <h3>Reason for Decision</h3>
    <p>${m||"No RFD provided."}</p>
  </div>

  <div class="signature">
    <div class="sig-box">
      <div class="sig-line">
        ${x.image?`<img src="${x.image}" alt="Signature" />`:""}
      </div>
      <div class="sig-label">Judge Signature</div>
    </div>
    <div class="sig-box">
      <div class="sig-line" style="display: flex; align-items: flex-end; justify-content: center; padding-bottom: 5px;">
        ${x.name||""}
      </div>
      <div class="sig-label">Print Name</div>
    </div>
    <div class="sig-box">
      <div class="sig-line" style="display: flex; align-items: flex-end; justify-content: center; padding-bottom: 5px;">
        ${x.affiliation||""}
      </div>
      <div class="sig-label">Affiliation</div>
    </div>
  </div>
</body>
</html>
    `,C=window.open("","_blank");C.document.write(T),C.document.close(),C.print()},R=()=>{const T={id:p$(),format:t,roundInfo:n,teams:r,winnerId:c,rfd:m,signature:x,createdAt:new Date().toISOString()};w(C=>[T,...C])},A=()=>{confirm("Are you sure you want to reset the ballot? All data will be lost.")&&(V(t),a({tournament:"",round:"",room:"",date:new Date().toISOString().split("T")[0],motion:""}),f(""),b({name:"",affiliation:"",image:null}))},L=c&&x.name&&m.length>0;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl",children:s.jsx(hs,{className:"w-6 h-6 text-white"})}),"Judge Ballot Generator"]}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Create standardized ballots with rubric scoring"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[s.jsx(_i,{className:"w-4 h-4"}),"Reset"]}),s.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[s.jsx(df,{className:"w-4 h-4"}),"Save"]}),s.jsxs("button",{onClick:G,disabled:!L,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${L?"bg-amber-600 hover:bg-amber-500 text-white":"bg-slate-700 text-slate-500 cursor-not-allowed"}`,children:[s.jsx(ac,{className:"w-4 h-4"}),"Export PDF"]})]})]}),s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Debate Format"}),s.jsx("select",{value:t,onChange:T=>V(T.target.value),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/50",children:Object.entries(Eg).map(([T,C])=>s.jsx("option",{value:T,children:C.name},T))})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Tournament"}),s.jsx("input",{type:"text",value:n.tournament,onChange:T=>a(C=>({...C,tournament:T.target.value})),placeholder:"Tournament name",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Round"}),s.jsx("input",{type:"text",value:n.round,onChange:T=>a(C=>({...C,round:T.target.value})),placeholder:"Round 1",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Room"}),s.jsx("input",{type:"text",value:n.room,onChange:T=>a(C=>({...C,room:T.target.value})),placeholder:"Room 101",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/50"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Date"}),s.jsx("input",{type:"date",value:n.date,onChange:T=>a(C=>({...C,date:T.target.value})),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/50"})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Motion/Resolution (Optional)"}),s.jsx("input",{type:"text",value:n.motion,onChange:T=>a(C=>({...C,motion:T.target.value})),placeholder:"Resolved: ...",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/50"})]})]})]}),!L&&s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-amber-500/10 border border-amber-500/30 rounded-xl",children:[s.jsx(ts,{className:"w-5 h-5 text-amber-400"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-amber-400 font-medium",children:"Ballot incomplete:"}),s.jsxs("span",{className:"text-slate-400 ml-2",children:[!c&&"Select a winner  ",!x.name&&"Enter judge name  ",m.length===0&&"Write an RFD"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:r.map(T=>s.jsx(b$,{team:T,isWinner:c===T.id,onToggleWinner:Q,onUpdateSpeaker:I,onUpdateRubric:B,format:k},T.id))}),s.jsx(y$,{rfd:m,onChange:f}),s.jsx(v$,{signature:x,onChange:b}),s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[s.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2 mb-4",children:[s.jsx($o,{className:"w-5 h-5 text-amber-400"}),"Score Summary"]}),s.jsx("div",{className:"grid grid-cols-2 gap-6",children:r.map(T=>{const C=T.speakers.reduce((te,J)=>te+J.points,0),P=C/T.speakers.length,O=se(T);return s.jsxs("div",{className:`p-4 rounded-lg border ${c===T.id?"bg-emerald-500/10 border-emerald-500/30":"bg-slate-700/30 border-slate-600"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-white",children:T.name||"Team"}),s.jsx("div",{className:"text-sm text-slate-400",children:T.side})]}),c===T.id&&s.jsx($t,{className:"w-6 h-6 text-emerald-400 fill-current"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-amber-400",children:C.toFixed(1)}),s.jsx("div",{className:"text-xs text-slate-500",children:"Total Points"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:P.toFixed(1)}),s.jsx("div",{className:"text-xs text-slate-500",children:"Avg Points"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-purple-400",children:O.toFixed(1)}),s.jsx("div",{className:"text-xs text-slate-500",children:"Rubric Score"})]})]})]},T.id)})})]})]})},N$={ld:{id:"ld",name:"Lincoln-Douglas",shortName:"LD",color:"blue",description:"Traditional value debate format",totalTime:38,speeches:[{name:"Affirmative Constructive",abbrev:"AC",time:360,side:"aff"},{name:"Cross-Examination",abbrev:"CX",time:180,side:"neg"},{name:"Negative Constructive",abbrev:"NC",time:420,side:"neg"},{name:"Cross-Examination",abbrev:"CX",time:180,side:"aff"},{name:"1st Affirmative Rebuttal",abbrev:"1AR",time:240,side:"aff"},{name:"Negative Rebuttal",abbrev:"NR",time:360,side:"neg"},{name:"2nd Affirmative Rebuttal",abbrev:"2AR",time:180,side:"aff"}],prepTime:{aff:240,neg:240}},pf:{id:"pf",name:"Public Forum",shortName:"PF",color:"green",description:"Team-based persuasive debate",totalTime:33,speeches:[{name:"First Speaker (Team A)",abbrev:"A1",time:240,side:"a"},{name:"First Speaker (Team B)",abbrev:"B1",time:240,side:"b"},{name:"Crossfire",abbrev:"CF1",time:180,side:"both"},{name:"Second Speaker (Team A)",abbrev:"A2",time:240,side:"a"},{name:"Second Speaker (Team B)",abbrev:"B2",time:240,side:"b"},{name:"Crossfire",abbrev:"CF2",time:180,side:"both"},{name:"Summary (Team A)",abbrev:"A3",time:180,side:"a"},{name:"Summary (Team B)",abbrev:"B3",time:180,side:"b"},{name:"Grand Crossfire",abbrev:"GCF",time:180,side:"both"},{name:"Final Focus (Team A)",abbrev:"A4",time:120,side:"a"},{name:"Final Focus (Team B)",abbrev:"B4",time:120,side:"b"}],prepTime:{a:120,b:120}},policy:{id:"policy",name:"Policy Debate",shortName:"Policy",color:"purple",description:"Evidence-intensive team debate",totalTime:72,speeches:[{name:"1st Affirmative Constructive",abbrev:"1AC",time:480,side:"aff"},{name:"Cross-Examination",abbrev:"CX",time:180,side:"neg"},{name:"1st Negative Constructive",abbrev:"1NC",time:480,side:"neg"},{name:"Cross-Examination",abbrev:"CX",time:180,side:"aff"},{name:"2nd Affirmative Constructive",abbrev:"2AC",time:480,side:"aff"},{name:"Cross-Examination",abbrev:"CX",time:180,side:"neg"},{name:"2nd Negative Constructive",abbrev:"2NC",time:480,side:"neg"},{name:"Cross-Examination",abbrev:"CX",time:180,side:"aff"},{name:"1st Negative Rebuttal",abbrev:"1NR",time:300,side:"neg"},{name:"1st Affirmative Rebuttal",abbrev:"1AR",time:300,side:"aff"},{name:"2nd Negative Rebuttal",abbrev:"2NR",time:300,side:"neg"},{name:"2nd Affirmative Rebuttal",abbrev:"2AR",time:300,side:"aff"}],prepTime:{aff:480,neg:480}},congress:{id:"congress",name:"Congressional Debate",shortName:"Congress",color:"amber",description:"Legislative simulation format",totalTime:"Variable",speeches:[{name:"Authorship/Sponsorship",abbrev:"Auth",time:180,side:"pro"},{name:"First Negation",abbrev:"1st Neg",time:180,side:"con"},{name:"Pro Speech",abbrev:"Pro",time:180,side:"pro"},{name:"Con Speech",abbrev:"Con",time:180,side:"con"},{name:"Questioning Period",abbrev:"QP",time:120,side:"both"}],prepTime:null},parli:{id:"parli",name:"Parliamentary Debate",shortName:"Parli",color:"red",description:"NPDA/APDA style debate",totalTime:47,speeches:[{name:"Prime Minister Constructive",abbrev:"PMC",time:420,side:"gov"},{name:"Leader of Opposition Constructive",abbrev:"LOC",time:480,side:"opp"},{name:"Member of Government",abbrev:"MG",time:480,side:"gov"},{name:"Member of Opposition",abbrev:"MO",time:480,side:"opp"},{name:"Leader of Opposition Rebuttal",abbrev:"LOR",time:240,side:"opp"},{name:"Prime Minister Rebuttal",abbrev:"PMR",time:300,side:"gov"}],prepTime:{gov:0,opp:0},notes:"15 minutes prep before round begins"},worldschools:{id:"worldschools",name:"World Schools",shortName:"WSDC",color:"cyan",description:"International team format",totalTime:57,speeches:[{name:"1st Proposition",abbrev:"1st Prop",time:480,side:"prop"},{name:"1st Opposition",abbrev:"1st Opp",time:480,side:"opp"},{name:"2nd Proposition",abbrev:"2nd Prop",time:480,side:"prop"},{name:"2nd Opposition",abbrev:"2nd Opp",time:480,side:"opp"},{name:"3rd Proposition",abbrev:"3rd Prop",time:480,side:"prop"},{name:"3rd Opposition",abbrev:"3rd Opp",time:480,side:"opp"},{name:"Opposition Reply",abbrev:"Opp Reply",time:240,side:"opp"},{name:"Proposition Reply",abbrev:"Prop Reply",time:240,side:"prop"}],prepTime:null,notes:"POIs allowed during speeches (1-7 min mark)"},bp:{id:"bp",name:"British Parliamentary",shortName:"BP",color:"indigo",description:"Four-team competitive format",totalTime:56,speeches:[{name:"Prime Minister",abbrev:"PM",time:420,side:"og"},{name:"Leader of Opposition",abbrev:"LO",time:420,side:"oo"},{name:"Deputy Prime Minister",abbrev:"DPM",time:420,side:"og"},{name:"Deputy Leader of Opposition",abbrev:"DLO",time:420,side:"oo"},{name:"Member of Government",abbrev:"MG",time:420,side:"cg"},{name:"Member of Opposition",abbrev:"MO",time:420,side:"co"},{name:"Government Whip",abbrev:"GW",time:420,side:"cg"},{name:"Opposition Whip",abbrev:"OW",time:420,side:"co"}],prepTime:null,notes:"15 min prep. POIs allowed (1-6 min). Teams: OG, OO, CG, CO"},ipda:{id:"ipda",name:"IPDA",shortName:"IPDA",color:"teal",description:"International Public Debate Association",totalTime:26,speeches:[{name:"Affirmative Constructive",abbrev:"AC",time:300,side:"aff"},{name:"Negative Constructive",abbrev:"NC",time:300,side:"neg"},{name:"Affirmative Rebuttal",abbrev:"AR",time:300,side:"aff"},{name:"Negative Rebuttal",abbrev:"NR",time:300,side:"neg"},{name:"Affirmative Closing",abbrev:"ACL",time:120,side:"aff"},{name:"Negative Closing",abbrev:"NCL",time:120,side:"neg"}],prepTime:{aff:0,neg:0},notes:"30 min prep before round. Topics drawn 30 min prior."},npda:{id:"npda",name:"NPDA",shortName:"NPDA",color:"rose",description:"National Parliamentary Debate Association",totalTime:47,speeches:[{name:"Prime Minister Constructive",abbrev:"PMC",time:420,side:"gov"},{name:"Leader of Opposition Constructive",abbrev:"LOC",time:480,side:"opp"},{name:"Member of Government",abbrev:"MG",time:480,side:"gov"},{name:"Member of Opposition",abbrev:"MO",time:480,side:"opp"},{name:"Leader of Opposition Rebuttal",abbrev:"LOR",time:240,side:"opp"},{name:"Prime Minister Rebuttal",abbrev:"PMR",time:300,side:"gov"}],prepTime:{gov:0,opp:0},notes:"15 min prep. POIs allowed (first & last min protected)."},nfa_ld:{id:"nfa_ld",name:"NFA Lincoln-Douglas",shortName:"NFA-LD",color:"violet",description:"National Forensic Association LD",totalTime:36,speeches:[{name:"Affirmative Constructive",abbrev:"AC",time:360,side:"aff"},{name:"Cross-Examination",abbrev:"CX",time:180,side:"neg"},{name:"Negative Constructive",abbrev:"NC",time:420,side:"neg"},{name:"Cross-Examination",abbrev:"CX",time:180,side:"aff"},{name:"Affirmative Rebuttal",abbrev:"AR",time:360,side:"aff"},{name:"Negative Rebuttal",abbrev:"NR",time:300,side:"neg"},{name:"Affirmative Closing",abbrev:"ACL",time:180,side:"aff"}],prepTime:{aff:240,neg:240}},apda:{id:"apda",name:"APDA",shortName:"APDA",color:"emerald",description:"American Parliamentary Debate Association",totalTime:40,speeches:[{name:"Prime Minister Constructive",abbrev:"PMC",time:420,side:"gov"},{name:"Leader of Opposition Constructive",abbrev:"LOC",time:480,side:"opp"},{name:"Member of Government",abbrev:"MG",time:480,side:"gov"},{name:"Member of Opposition",abbrev:"MO",time:480,side:"opp"},{name:"Leader of Opposition Rebuttal",abbrev:"LOR",time:240,side:"opp"},{name:"Prime Minister Rebuttal",abbrev:"PMR",time:300,side:"gov"}],prepTime:{gov:0,opp:0},notes:"15 min prep. Case statements common. POIs allowed."},big_questions:{id:"big_questions",name:"Big Questions",shortName:"BQ",color:"sky",description:"NSDA philosophical debate format",totalTime:32,speeches:[{name:"First Pro Constructive",abbrev:"1PC",time:300,side:"pro"},{name:"First Con Constructive",abbrev:"1CC",time:300,side:"con"},{name:"Crossfire",abbrev:"CF",time:180,side:"both"},{name:"Second Pro Constructive",abbrev:"2PC",time:300,side:"pro"},{name:"Second Con Constructive",abbrev:"2CC",time:300,side:"con"},{name:"Crossfire",abbrev:"CF2",time:180,side:"both"},{name:"Pro Summary",abbrev:"PS",time:180,side:"pro"},{name:"Con Summary",abbrev:"CS",time:180,side:"con"},{name:"Grand Crossfire",abbrev:"GCF",time:180,side:"both"},{name:"Pro Final Focus",abbrev:"PFF",time:120,side:"pro"},{name:"Con Final Focus",abbrev:"CFF",time:120,side:"con"}],prepTime:{pro:120,con:120}}},xj=t=>{const e=Math.floor(t/60),n=t%60;return`${e}:${n.toString().padStart(2,"0")}`},Kb=t=>{const e=Math.floor(t/60);return e===1?"1 min":`${e} mins`},Wb=t=>{const e={blue:{bg:"bg-blue-500/20",border:"border-blue-500/50",text:"text-blue-400",badge:"bg-blue-500"},green:{bg:"bg-green-500/20",border:"border-green-500/50",text:"text-green-400",badge:"bg-green-500"},purple:{bg:"bg-purple-500/20",border:"border-purple-500/50",text:"text-purple-400",badge:"bg-purple-500"},amber:{bg:"bg-amber-500/20",border:"border-amber-500/50",text:"text-amber-400",badge:"bg-amber-500"},red:{bg:"bg-red-500/20",border:"border-red-500/50",text:"text-red-400",badge:"bg-red-500"},cyan:{bg:"bg-cyan-500/20",border:"border-cyan-500/50",text:"text-cyan-400",badge:"bg-cyan-500"},indigo:{bg:"bg-indigo-500/20",border:"border-indigo-500/50",text:"text-indigo-400",badge:"bg-indigo-500"},teal:{bg:"bg-teal-500/20",border:"border-teal-500/50",text:"text-teal-400",badge:"bg-teal-500"},rose:{bg:"bg-rose-500/20",border:"border-rose-500/50",text:"text-rose-400",badge:"bg-rose-500"},violet:{bg:"bg-violet-500/20",border:"border-violet-500/50",text:"text-violet-400",badge:"bg-violet-500"},emerald:{bg:"bg-emerald-500/20",border:"border-emerald-500/50",text:"text-emerald-400",badge:"bg-emerald-500"},sky:{bg:"bg-sky-500/20",border:"border-sky-500/50",text:"text-sky-400",badge:"bg-sky-500"}};return e[t]||e.blue},j$=()=>{const[t,e]=E.useState(null),[n,a]=E.useState(()=>{const b=localStorage.getItem("debate-timer-favorites");return b?JSON.parse(b):["ld","pf"]}),[r,o]=E.useState(null),c=b=>{const v=n.includes(b)?n.filter(w=>w!==b):[...n,b];a(v),localStorage.setItem("debate-timer-favorites",JSON.stringify(v))},d=b=>{const v=JSON.stringify(b,null,2);navigator.clipboard.writeText(v),o(b.id),setTimeout(()=>o(null),2e3)},m=Object.values(N$),f=m.filter(b=>n.includes(b.id)),x=m.filter(b=>!n.includes(b.id));return s.jsx("div",{className:"min-h-screen bg-[#0a0a0f] p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-orange-500/20 to-red-500/20 rounded-lg",children:s.jsx(pf,{className:"w-6 h-6 text-orange-400"})}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Timer Presets"})]}),s.jsx("p",{className:"text-slate-400",children:"Pre-configured timing structures for common debate formats"})]}),f.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Xt,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Favorites"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(b=>s.jsx(bj,{preset:b,isSelected:t?.id===b.id,isFavorite:!0,onSelect:()=>e(t?.id===b.id?null:b),onToggleFavorite:()=>c(b.id),onCopy:()=>d(b),copied:r===b.id},b.id))})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:f.length>0?"All Formats":"Debate Formats"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(b=>s.jsx(bj,{preset:b,isSelected:t?.id===b.id,isFavorite:!1,onSelect:()=>e(t?.id===b.id?null:b),onToggleFavorite:()=>c(b.id),onCopy:()=>d(b),copied:r===b.id},b.id))})]}),s.jsx(et,{children:t&&s.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-6",children:s.jsx(S$,{preset:t})})}),s.jsxs("div",{className:"mt-8 bg-slate-800/30 border border-slate-700/50 rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Quick Reference"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-slate-400 border-b border-slate-700",children:[s.jsx("th",{className:"text-left py-2 px-3",children:"Format"}),s.jsx("th",{className:"text-center py-2 px-3",children:"Total Time"}),s.jsx("th",{className:"text-center py-2 px-3",children:"Speeches"}),s.jsx("th",{className:"text-center py-2 px-3",children:"Prep Time"})]})}),s.jsx("tbody",{children:m.map(b=>{const v=Wb(b.color),w=b.prepTime?Object.values(b.prepTime).reduce((j,D)=>j+D,0):0;return s.jsxs("tr",{className:"border-b border-slate-700/50 hover:bg-slate-800/30",children:[s.jsx("td",{className:"py-3 px-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${v.badge}`}),s.jsx("span",{className:"text-white font-medium",children:b.shortName})]})}),s.jsx("td",{className:"text-center py-3 px-3 text-slate-300",children:typeof b.totalTime=="number"?`${b.totalTime} min`:b.totalTime}),s.jsx("td",{className:"text-center py-3 px-3 text-slate-300",children:b.speeches.length}),s.jsx("td",{className:"text-center py-3 px-3 text-slate-300",children:w>0?Kb(w)+" per side":"N/A"})]},b.id)})})]})})]})]})})},bj=({preset:t,isSelected:e,isFavorite:n,onSelect:a,onToggleFavorite:r,onCopy:o,copied:c})=>{const d=Wb(t.color),m=t.prepTime?Object.values(t.prepTime).reduce((f,x)=>f+x,0)/2:0;return s.jsxs(U.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`relative p-4 rounded-xl border cursor-pointer transition-all ${e?`${d.bg} ${d.border}`:"bg-slate-800/50 border-slate-700/50 hover:border-slate-600"}`,onClick:a,children:[s.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1",children:[s.jsx("button",{onClick:f=>{f.stopPropagation(),o()},className:"p-1.5 rounded-lg hover:bg-slate-700/50 text-slate-400 hover:text-white transition-colors",title:"Copy configuration",children:c?s.jsx(es,{className:"w-4 h-4 text-green-400"}):s.jsx(Gs,{className:"w-4 h-4"})}),s.jsx("button",{onClick:f=>{f.stopPropagation(),r()},className:"p-1.5 rounded-lg hover:bg-slate-700/50 transition-colors",title:n?"Remove from favorites":"Add to favorites",children:n?s.jsx(Xt,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}):s.jsx(Dg,{className:"w-4 h-4 text-slate-400 hover:text-yellow-400"})})]}),s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${d.bg}`,children:s.jsx(hs,{className:`w-5 h-5 ${d.text}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-white font-semibold",children:t.name}),s.jsx("p",{className:"text-slate-400 text-sm truncate",children:t.description})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1.5 text-slate-300",children:[s.jsx(qt,{className:"w-4 h-4 text-slate-500"}),s.jsx("span",{children:typeof t.totalTime=="number"?`${t.totalTime} min`:t.totalTime})]}),s.jsxs("div",{className:"flex items-center gap-1.5 text-slate-300",children:[s.jsx(gn,{className:"w-4 h-4 text-slate-500"}),s.jsxs("span",{children:[t.speeches.length," speeches"]})]}),m>0&&s.jsxs("div",{className:"flex items-center gap-1.5 text-slate-300",children:[s.jsx(pf,{className:"w-4 h-4 text-slate-500"}),s.jsxs("span",{children:[Kb(m)," prep"]})]})]}),s.jsx("div",{className:`absolute bottom-3 right-3 transition-transform ${e?"rotate-90":""}`,children:s.jsx(mn,{className:"w-4 h-4 text-slate-500"})})]})},S$=({preset:t})=>{const e=Wb(t.color),n=r=>({aff:"Affirmative",neg:"Negative",a:"Team A",b:"Team B",pro:"Pro",con:"Con",gov:"Government",opp:"Opposition",prop:"Proposition",both:"Both"})[r]||r,a=r=>({aff:"text-blue-400",neg:"text-red-400",a:"text-blue-400",b:"text-red-400",pro:"text-green-400",con:"text-red-400",gov:"text-blue-400",opp:"text-red-400",prop:"text-blue-400",both:"text-purple-400"})[r]||"text-slate-400";return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-3 rounded-xl ${e.bg}`,children:s.jsx(hs,{className:`w-6 h-6 ${e.text}`})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:t.name}),s.jsx("p",{className:"text-slate-400",children:t.description})]})]}),s.jsx("div",{className:`px-3 py-1.5 rounded-lg ${e.bg} ${e.text} font-medium`,children:typeof t.totalTime=="number"?`${t.totalTime} minutes total`:t.totalTime})]}),t.prepTime&&Object.values(t.prepTime).some(r=>r>0)&&s.jsxs("div",{className:"mb-6 p-4 bg-slate-900/50 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-3",children:"Prep Time"}),s.jsx("div",{className:"flex flex-wrap gap-4",children:Object.entries(t.prepTime).map(([r,o])=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:a(r),children:[n(r),":"]}),s.jsx("span",{className:"text-white font-mono",children:xj(o)})]},r))})]}),t.notes&&s.jsx("div",{className:"mb-6 p-4 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:s.jsx("p",{className:"text-amber-300 text-sm",children:t.notes})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-3",children:"Speech Order"}),s.jsx("div",{className:"space-y-2",children:t.speeches.map((r,o)=>s.jsxs(U.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:o*.05},className:"flex items-center gap-4 p-3 bg-slate-900/50 rounded-lg",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 flex items-center justify-center text-slate-400 text-sm font-medium",children:o+1}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white font-medium",children:r.name}),s.jsx("span",{className:"px-2 py-0.5 bg-slate-800 rounded text-xs text-slate-400 font-mono",children:r.abbrev})]}),s.jsx("span",{className:`text-sm ${a(r.side)}`,children:n(r.side)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-white font-mono text-lg",children:xj(r.time)}),s.jsx("div",{className:"text-slate-500 text-xs",children:Kb(r.time)})]})]},o))})]})]})},_$=()=>{const[t,e]=E.useState([]),[n,a]=E.useState(null),[r,o]=E.useState(""),[c,d]=E.useState(null);E.useEffect(()=>{const j=localStorage.getItem("debate-notes");if(j){const D=JSON.parse(j);e(D),D.length>0&&!n&&a(D[0].id)}},[]),E.useEffect(()=>{t.length>0&&localStorage.setItem("debate-notes",JSON.stringify(t))},[t]);const m=t.find(j=>j.id===n),f=()=>{const j={id:Date.now().toString(),title:"Untitled Note",content:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};e([j,...t]),a(j.id)},x=(j,D)=>{e(t.map(k=>k.id===n?{...k,[j]:D,updatedAt:new Date().toISOString()}:k)),d("saving"),setTimeout(()=>d("saved"),500),setTimeout(()=>d(null),2e3)},b=j=>{const D=t.filter(k=>k.id!==j);e(D),localStorage.setItem("debate-notes",JSON.stringify(D)),n===j&&a(D.length>0?D[0].id:null)},v=t.filter(j=>j.title.toLowerCase().includes(r.toLowerCase())||j.content.toLowerCase().includes(r.toLowerCase())),w=j=>{const D=new Date(j),V=new Date-D,I=Math.floor(V/6e4),B=Math.floor(V/36e5),Q=Math.floor(V/864e5);return I<1?"Just now":I<60?`${I}m ago`:B<24?`${B}h ago`:Q<7?`${Q}d ago`:D.toLocaleDateString()};return s.jsx("div",{className:"min-h-screen bg-[#0a0a0f] p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-emerald-500/20 to-teal-500/20 rounded-lg",children:s.jsx(xn,{className:"w-6 h-6 text-emerald-400"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Notes Panel"}),s.jsx("p",{className:"text-slate-400 text-sm",children:"Save debate notes and key points"})]})]}),s.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg transition-colors",children:[s.jsx(At,{className:"w-4 h-4"}),"New Note"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1 bg-slate-800/50 border border-slate-700/50 rounded-xl p-4",children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx(Tr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),s.jsx("input",{type:"text",placeholder:"Search notes...",value:r,onChange:j=>o(j.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50"})]}),s.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:v.length===0?s.jsx("div",{className:"text-center py-8 text-slate-500",children:t.length===0?s.jsxs(s.Fragment,{children:[s.jsx(xn,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No notes yet"}),s.jsx("p",{className:"text-sm",children:'Click "New Note" to get started'})]}):s.jsx("p",{children:"No matching notes"})}):v.map(j=>s.jsx(U.div,{whileHover:{scale:1.01},onClick:()=>a(j.id),className:`p-3 rounded-lg cursor-pointer transition-all ${n===j.id?"bg-emerald-500/20 border border-emerald-500/50":"bg-slate-900/50 border border-transparent hover:border-slate-700"}`,children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-white font-medium truncate",children:j.title||"Untitled"}),s.jsx("p",{className:"text-slate-400 text-sm truncate",children:j.content.slice(0,50)||"No content"}),s.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-slate-500",children:[s.jsx(qt,{className:"w-3 h-3"}),w(j.updatedAt)]})]}),s.jsx("button",{onClick:D=>{D.stopPropagation(),b(j.id)},className:"p-1 text-slate-500 hover:text-red-400 transition-colors",children:s.jsx(Un,{className:"w-4 h-4"})})]})},j.id))}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700 text-center text-slate-500 text-sm",children:[t.length," note",t.length!==1?"s":""," saved"]})]}),s.jsx("div",{className:"lg:col-span-2 bg-slate-800/50 border border-slate-700/50 rounded-xl p-4",children:m?s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("input",{type:"text",value:m.title,onChange:j=>x("title",j.target.value),placeholder:"Note title...",className:"flex-1 text-xl font-semibold bg-transparent text-white placeholder-slate-500 focus:outline-none"}),c&&s.jsx(U.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},className:"flex items-center gap-1 text-sm",children:c==="saving"?s.jsx("span",{className:"text-slate-400",children:"Saving..."}):s.jsxs(s.Fragment,{children:[s.jsx(es,{className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"text-emerald-400",children:"Saved"})]})})]}),s.jsx("textarea",{value:m.content,onChange:j=>x("content",j.target.value),placeholder:`Write your debate notes here...

 Key arguments
 Evidence points
 Rebuttals
 Cross-examination questions
 Strategy notes`,className:"flex-1 min-h-[500px] w-full bg-slate-900/50 border border-slate-700 rounded-lg p-4 text-white placeholder-slate-600 focus:outline-none focus:border-emerald-500/50 resize-none font-mono text-sm leading-relaxed"}),s.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm text-slate-500",children:[s.jsxs("span",{children:["Last updated: ",w(m.updatedAt)]}),s.jsxs("span",{children:[m.content.length," characters"]})]})]}):s.jsx("div",{className:"h-full min-h-[500px] flex items-center justify-center text-slate-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(xn,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-lg",children:"Select a note or create a new one"}),s.jsxs("button",{onClick:f,className:"mt-4 flex items-center gap-2 mx-auto px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[s.jsx(At,{className:"w-4 h-4"}),"Create Note"]})]})})})]})]})})},Cg=[{id:"pro",name:"Pro Arguments",color:"emerald"},{id:"con",name:"Con Arguments",color:"red"},{id:"evidence",name:"Evidence",color:"blue"},{id:"rebuttals",name:"Rebuttals",color:"purple"},{id:"notes",name:"General Notes",color:"slate"}],yx=t=>{const e={emerald:{bg:"bg-emerald-500/20",border:"border-emerald-500/50",text:"text-emerald-400",badge:"bg-emerald-500"},red:{bg:"bg-red-500/20",border:"border-red-500/50",text:"text-red-400",badge:"bg-red-500"},blue:{bg:"bg-blue-500/20",border:"border-blue-500/50",text:"text-blue-400",badge:"bg-blue-500"},purple:{bg:"bg-purple-500/20",border:"border-purple-500/50",text:"text-purple-400",badge:"bg-purple-500"},slate:{bg:"bg-slate-500/20",border:"border-slate-500/50",text:"text-slate-400",badge:"bg-slate-500"}};return e[t]||e.slate},T$=()=>{const[t,e]=E.useState([]),[n,a]=E.useState("pro"),[r,o]=E.useState(null),[c,d]=E.useState(""),[m,f]=E.useState(!1);E.useEffect(()=>{const I=localStorage.getItem("debate-cards");I&&e(JSON.parse(I))},[]),E.useEffect(()=>{localStorage.setItem("debate-cards",JSON.stringify(t))},[t]);const x=()=>{if(!c.trim())return;const I={id:Date.now().toString(),text:c.trim(),category:n,createdAt:new Date().toISOString()};e([...t,I]),d(""),f(!1)},b=(I,B)=>{e(t.map(Q=>Q.id===I?{...Q,text:B}:Q)),o(null)},v=I=>{e(t.filter(B=>B.id!==I))},w=(I,B)=>{e(t.map(Q=>Q.id===I?{...Q,category:B}:Q))},j=I=>t.filter(B=>B.category===I),D=j(n),k=Cg.find(I=>I.id===n),V=yx(k?.color||"slate");return s.jsx("div",{className:"min-h-screen bg-[#0a0a0f] p-6",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-violet-500/20 to-purple-500/20 rounded-lg",children:s.jsx(Cj,{className:"w-6 h-6 text-violet-400"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Card Organizer"}),s.jsx("p",{className:"text-slate-400 text-sm",children:"Organize debate arguments by category"})]})]}),s.jsxs("div",{className:"text-slate-400 text-sm",children:[t.length," card",t.length!==1?"s":""," total"]})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:Cg.map(I=>{const B=yx(I.color),Q=j(I.id).length;return s.jsxs("button",{onClick:()=>a(I.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${n===I.id?`${B.bg} ${B.border} border ${B.text}`:"bg-slate-800/50 border border-slate-700/50 text-slate-400 hover:text-white hover:border-slate-600"}`,children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${B.badge}`}),I.name,Q>0&&s.jsx("span",{className:"px-1.5 py-0.5 bg-slate-900/50 rounded text-xs",children:Q})]},I.id)})}),s.jsxs("div",{className:`bg-slate-800/50 border ${V.border} rounded-xl p-4 min-h-[500px]`,children:[m?s.jsxs("div",{className:`p-4 ${V.bg} border ${V.border} rounded-lg mb-4`,children:[s.jsx("textarea",{value:c,onChange:I=>d(I.target.value),placeholder:"Enter argument, evidence, or note...",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg p-3 text-white placeholder-slate-500 focus:outline-none focus:border-slate-600 resize-none",rows:3,autoFocus:!0}),s.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[s.jsx("button",{onClick:()=>{f(!1),d("")},className:"px-3 py-1.5 text-slate-400 hover:text-white transition-colors",children:"Cancel"}),s.jsx("button",{onClick:x,disabled:!c.trim(),className:`px-4 py-1.5 ${V.badge} text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed`,children:"Add Card"})]})]}):s.jsxs("button",{onClick:()=>f(!0),className:`w-full p-4 border-2 border-dashed ${V.border} rounded-lg ${V.text} hover:${V.bg} transition-colors flex items-center justify-center gap-2 mb-4`,children:[s.jsx(At,{className:"w-5 h-5"}),"Add Card to ",k?.name]}),D.length===0?s.jsxs("div",{className:"text-center py-16 text-slate-500",children:[s.jsx(of,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsxs("p",{children:["No cards in ",k?.name]}),s.jsx("p",{className:"text-sm",children:"Add a card to get started"})]}):s.jsx(vx,{axis:"y",values:D,onReorder:I=>{const B=t.filter(Q=>Q.category!==n);e([...B,...I])},className:"space-y-3",children:D.map(I=>s.jsx(wx,{value:I,className:"cursor-grab active:cursor-grabbing",children:s.jsx(E$,{card:I,colors:V,isEditing:r===I.id,onEdit:()=>o(I.id),onSave:B=>b(I.id,B),onCancel:()=>o(null),onDelete:()=>v(I.id),onMove:B=>w(I.id,B),categories:Cg,currentCategory:n})},I.id))})]})]})})},E$=({card:t,colors:e,isEditing:n,onEdit:a,onSave:r,onCancel:o,onDelete:c,onMove:d,categories:m,currentCategory:f})=>{const[x,b]=E.useState(t.text),[v,w]=E.useState(!1);return s.jsx(U.div,{layout:!0,className:"group p-4 bg-slate-900/50 border border-slate-700/50 rounded-lg hover:border-slate-600 transition-colors",children:n?s.jsxs("div",{children:[s.jsx("textarea",{value:x,onChange:j=>b(j.target.value),className:"w-full bg-slate-800 border border-slate-600 rounded-lg p-3 text-white focus:outline-none resize-none",rows:3,autoFocus:!0}),s.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[s.jsx("button",{onClick:o,className:"p-1.5 text-slate-400 hover:text-white",children:s.jsx(Qn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>r(x),className:"p-1.5 text-emerald-400 hover:text-emerald-300",children:s.jsx(es,{className:"w-4 h-4"})})]})]}):s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"text-slate-600 mt-1",children:s.jsx(Ex,{className:"w-4 h-4"})}),s.jsx("p",{className:"flex-1 text-white whitespace-pre-wrap",children:t.text}),s.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>w(!v),className:"p-1.5 text-slate-500 hover:text-white transition-colors",title:"Move to category",children:s.jsx(ff,{className:"w-4 h-4"})}),v&&s.jsx("div",{className:"absolute right-0 top-8 bg-slate-800 border border-slate-700 rounded-lg shadow-xl z-10 py-1 min-w-[150px]",children:m.filter(j=>j.id!==f).map(j=>{const D=yx(j.color);return s.jsxs("button",{onClick:()=>{d(j.id),w(!1)},className:"w-full px-3 py-2 text-left text-sm text-slate-300 hover:bg-slate-700 flex items-center gap-2",children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${D.badge}`}),j.name]},j.id)})})]}),s.jsx("button",{onClick:a,className:"p-1.5 text-slate-500 hover:text-white transition-colors",title:"Edit",children:s.jsx(Il,{className:"w-4 h-4"})}),s.jsx("button",{onClick:c,className:"p-1.5 text-slate-500 hover:text-red-400 transition-colors",title:"Delete",children:s.jsx(Un,{className:"w-4 h-4"})})]})]})})},yj={ld:{id:"ld",name:"Lincoln-Douglas",shortName:"LD",color:"blue",description:"One-on-one value debate focusing on philosophical arguments",participants:"1 vs 1",prepTime:"4 minutes per side",overview:"Lincoln-Douglas debate centers on a resolution that poses a question of values. Debaters argue which value or value criterion should be prioritized when making decisions about the resolution.",structure:[{speech:"Affirmative Constructive (AC)",time:"6 min",description:"Present the affirmative case with value, criterion, and contentions"},{speech:"Cross-Examination",time:"3 min",description:"Negative questions the affirmative"},{speech:"Negative Constructive (NC)",time:"7 min",description:"Present negative case and respond to affirmative"},{speech:"Cross-Examination",time:"3 min",description:"Affirmative questions the negative"},{speech:"1st Affirmative Rebuttal (1AR)",time:"4 min",description:"Respond to negative arguments, rebuild case"},{speech:"Negative Rebuttal (NR)",time:"6 min",description:"Extend arguments, crystallize the round"},{speech:"2nd Affirmative Rebuttal (2AR)",time:"3 min",description:"Final summary and voting issues"}],keyTerms:[{term:"Value",definition:"The core ideal being debated (e.g., Justice, Liberty, Security)"},{term:"Value Criterion",definition:"The standard used to measure the value"},{term:"Contention",definition:"Main arguments supporting your position"},{term:"Framework",definition:"The value and criterion together"}],tips:["Focus on the philosophical clash between values","Your criterion determines how to weigh arguments","Time management in 1AR is crucial","Crystallize voting issues in final speeches"]},pf:{id:"pf",name:"Public Forum",shortName:"PF",color:"green",description:"Team debate designed to be accessible and persuasive to lay audiences",participants:"2 vs 2",prepTime:"2 minutes per team",overview:"Public Forum debate focuses on current events and is designed to be understandable to the general public. Teams argue both sides of a resolution over the course of a tournament.",structure:[{speech:"First Speaker (Team A)",time:"4 min",description:"Present constructive case"},{speech:"First Speaker (Team B)",time:"4 min",description:"Present constructive case"},{speech:"Crossfire",time:"3 min",description:"Both first speakers question each other"},{speech:"Second Speaker (Team A)",time:"4 min",description:"Rebuttal speech"},{speech:"Second Speaker (Team B)",time:"4 min",description:"Rebuttal speech"},{speech:"Crossfire",time:"3 min",description:"Both second speakers question each other"},{speech:"Summary (Team A)",time:"3 min",description:"Narrow and weigh key arguments"},{speech:"Summary (Team B)",time:"3 min",description:"Narrow and weigh key arguments"},{speech:"Grand Crossfire",time:"3 min",description:"All four debaters participate"},{speech:"Final Focus (Team A)",time:"2 min",description:"Final persuasive appeal"},{speech:"Final Focus (Team B)",time:"2 min",description:"Final persuasive appeal"}],keyTerms:[{term:"Crossfire",definition:"Back-and-forth questioning between opponents"},{term:"Summary",definition:"Speech to narrow down and weigh arguments"},{term:"Final Focus",definition:"Last speech to crystallize why you win"},{term:"Weighing",definition:"Explaining why your arguments matter more"}],tips:["Be persuasive - judges may not be debate experts","Narrow to 1-2 key arguments in summary","Final Focus should mirror Summary arguments","Crossfire is for clarification, not new arguments"]},policy:{id:"policy",name:"Policy Debate",shortName:"Policy",color:"purple",description:"Evidence-intensive team debate on a year-long policy resolution",participants:"2 vs 2",prepTime:"8 minutes per team",overview:"Policy debate involves researching and debating a single resolution for an entire year. Teams propose and defend specific policy changes, with extensive use of evidence and argumentation.",structure:[{speech:"1st Affirmative Constructive (1AC)",time:"8 min",description:"Present the plan and advantages"},{speech:"Cross-Examination",time:"3 min",description:"2N questions 1A"},{speech:"1st Negative Constructive (1NC)",time:"8 min",description:"Present off-case and on-case arguments"},{speech:"Cross-Examination",time:"3 min",description:"1A questions 1N"},{speech:"2nd Affirmative Constructive (2AC)",time:"8 min",description:"Answer all negative arguments"},{speech:"Cross-Examination",time:"3 min",description:"1N questions 2A"},{speech:"2nd Negative Constructive (2NC)",time:"8 min",description:"Extend and develop arguments"},{speech:"Cross-Examination",time:"3 min",description:"2A questions 2N"},{speech:"1st Negative Rebuttal (1NR)",time:"5 min",description:"Cover arguments not in 2NC"},{speech:"1st Affirmative Rebuttal (1AR)",time:"5 min",description:"Answer 2NC and 1NR"},{speech:"2nd Negative Rebuttal (2NR)",time:"5 min",description:"Collapse to winning arguments"},{speech:"2nd Affirmative Rebuttal (2AR)",time:"5 min",description:"Final summary, why aff wins"}],keyTerms:[{term:"Plan",definition:"The specific policy action the affirmative proposes"},{term:"Disadvantage (DA)",definition:"Argument that the plan causes harm"},{term:"Counterplan (CP)",definition:"Alternative policy proposed by negative"},{term:"Kritik (K)",definition:"Argument challenging assumptions of the debate"},{term:"Topicality (T)",definition:"Argument that the plan doesn't fit the resolution"},{term:"Solvency",definition:"Whether the plan actually solves the problem"}],tips:["Evidence quality matters - cite your sources","Flow the debate carefully to track arguments","The negative block (2NC + 1NR) should coordinate","Collapse to your best arguments in rebuttals"]},congress:{id:"congress",name:"Congressional Debate",shortName:"Congress",color:"amber",description:"Legislative simulation with multiple participants debating bills",participants:"10-25 per chamber",prepTime:"None during session",overview:"Congressional Debate simulates the U.S. legislative process. Students draft legislation, then debate and vote on bills in a parliamentary procedure format.",structure:[{speech:"Authorship/Sponsorship",time:"3 min",description:"Introduce and advocate for the bill"},{speech:"First Negation",time:"3 min",description:"First speech against the bill"},{speech:"Following Speeches",time:"3 min",description:"Alternate pro and con speeches"},{speech:"Questioning",time:"2 min",description:"After each speech, others may question"}],keyTerms:[{term:"PO",definition:"Presiding Officer - runs the chamber"},{term:"Precedence",definition:"Speaking priority (new speakers go first)"},{term:"Motion",definition:"Formal request to take action"},{term:"Legislation",definition:"Bills and resolutions being debated"}],tips:["Speak early to establish precedence","Reference previous speakers to show engagement","Asking questions gives you speaking credit","Be respectful of parliamentary procedure"]},parli:{id:"parli",name:"Parliamentary Debate",shortName:"Parli/NPDA",color:"red",description:"Impromptu team debate with limited prep time",participants:"2 vs 2",prepTime:"15-20 minutes before round",overview:"Parliamentary debate features new topics each round with limited preparation time. No outside evidence is allowed - debaters rely on general knowledge and logical reasoning.",structure:[{speech:"Prime Minister Constructive (PMC)",time:"7 min",description:"Present the case for the government"},{speech:"Leader of Opposition Constructive (LOC)",time:"8 min",description:"Present opposition case and refute PMC"},{speech:"Member of Government (MG)",time:"8 min",description:"Rebuild and extend government case"},{speech:"Member of Opposition (MO)",time:"8 min",description:"Extend opposition and refute MG"},{speech:"Leader of Opposition Rebuttal (LOR)",time:"4 min",description:"Summarize opposition position"},{speech:"Prime Minister Rebuttal (PMR)",time:"5 min",description:"Final government summary"}],keyTerms:[{term:"POI",definition:"Point of Information - question during speech"},{term:"Government",definition:"Team supporting the resolution"},{term:"Opposition",definition:"Team opposing the resolution"},{term:"Protected Time",definition:"First/last minute when POIs aren't allowed"}],tips:["POIs allowed during speeches (not in protected time)","No outside evidence - use logic and examples","New arguments not allowed in rebuttals","Prepare multiple cases during prep time"]},bp:{id:"bp",name:"British Parliamentary",shortName:"BP",color:"indigo",description:"Four-team competitive format used in international circuit",participants:"4 teams of 2 (8 debaters)",prepTime:"15 minutes before round",overview:"British Parliamentary (BP) is the most widely used format internationally, featuring four teams: Opening Government (OG), Opening Opposition (OO), Closing Government (CG), and Closing Opposition (CO). Teams are ranked 1st to 4th based on their performance.",structure:[{speech:"Prime Minister (PM)",time:"7 min",description:"Define motion, present case for OG"},{speech:"Leader of Opposition (LO)",time:"7 min",description:"Refute PM, present OO case"},{speech:"Deputy Prime Minister (DPM)",time:"7 min",description:"Extend OG case, refute LO"},{speech:"Deputy Leader of Opposition (DLO)",time:"7 min",description:"Extend OO case, refute DPM"},{speech:"Member of Government (MG)",time:"7 min",description:"Provide extension for CG, engage top half"},{speech:"Member of Opposition (MO)",time:"7 min",description:"Provide extension for CO, engage top half"},{speech:"Government Whip (GW)",time:"7 min",description:"Summarize gov bench, defend CG extension"},{speech:"Opposition Whip (OW)",time:"7 min",description:"Summarize opp bench, defend CO extension"}],keyTerms:[{term:"Extension",definition:"New material that closing teams must provide to distinguish themselves"},{term:"Opening Half",definition:"OG and OO - first four speeches"},{term:"Closing Half",definition:"CG and CO - last four speeches"},{term:"Whip",definition:"Final speaker who summarizes and doesn't introduce new arguments"},{term:"POI",definition:"Point of Information - may be offered 1-6 minutes into speech"},{term:"Knifing",definition:"Attacking your own side (against rules)"}],tips:["Extensions must be distinct from opening half arguments","Accept 1-2 POIs per speech for engagement","Whip speeches should not introduce new arguments","CG/CO must engage with top half, not ignore them","Framing matters - define your half of the debate"]},worldschools:{id:"worldschools",name:"World Schools",shortName:"WSDC",color:"cyan",description:"International team format used at World Schools Debating Championships",participants:"3 vs 3",prepTime:"1 hour for prepared, 1 hour for impromptu motions",overview:"World Schools Debating Championship (WSDC) format combines prepared and impromptu motions. Teams of three alternate speeches, with reply speeches delivered by first or second speakers in reverse order.",structure:[{speech:"1st Proposition",time:"8 min",description:"Define motion, present proposition case"},{speech:"1st Opposition",time:"8 min",description:"Accept/challenge definition, present opposition case"},{speech:"2nd Proposition",time:"8 min",description:"Rebut 1st Opp, extend prop arguments"},{speech:"2nd Opposition",time:"8 min",description:"Rebut prop case, extend opp arguments"},{speech:"3rd Proposition",time:"8 min",description:"Rebut opposition, defend prop case"},{speech:"3rd Opposition",time:"8 min",description:"Rebut proposition, defend opp case"},{speech:"Opposition Reply",time:"4 min",description:"Biased summary from opp perspective (1st or 2nd speaker)"},{speech:"Proposition Reply",time:"4 min",description:"Biased summary from prop perspective (1st or 2nd speaker)"}],keyTerms:[{term:"POI",definition:"Point of Information - allowed between 1st and 7th minute"},{term:"Reply Speech",definition:"Biased summary delivered by 1st or 2nd speaker"},{term:"Prepared Motion",definition:"Topic announced weeks in advance"},{term:"Impromptu Motion",definition:"Topic announced 1 hour before round"},{term:"Model",definition:"Specific mechanism or example to illustrate your case"}],tips:["POIs should be strategic - accept 2-3 per speech","Reply speeches summarize, no new arguments","Third speakers must do significant rebuttal work","Use real-world examples to ground abstract arguments","Balance substantive and rebuttal material"]},ipda:{id:"ipda",name:"IPDA",shortName:"IPDA",color:"teal",description:"Accessible one-on-one debate with draw topics",participants:"1 vs 1",prepTime:"30 minutes before round (draw 5 topics)",overview:"International Public Debate Association (IPDA) format is designed to be accessible and communication-focused. Debaters draw five topics, strike down to one, and have 30 minutes to prepare without electronic resources.",structure:[{speech:"Affirmative Constructive",time:"5 min",description:"Present affirmative case with clear contentions"},{speech:"Negative Constructive",time:"5 min",description:"Present negative case and initial refutation"},{speech:"Affirmative Rebuttal",time:"5 min",description:"Defend case, attack negative arguments"},{speech:"Negative Rebuttal",time:"5 min",description:"Defend case, attack affirmative arguments"},{speech:"Affirmative Closing",time:"2 min",description:"Final summary and crystallization"},{speech:"Negative Closing",time:"2 min",description:"Final summary and crystallization"}],keyTerms:[{term:"Strike",definition:"Process of eliminating topics until one remains"},{term:"Topic Draw",definition:"Random selection of 5 potential topics"},{term:"Lay Judge",definition:"Non-technical judges common in IPDA"},{term:"Communication",definition:"Emphasis on clarity and persuasion over technical skill"}],tips:["Communicate clearly for lay judges","Pick topics you have general knowledge about","Structure is important - clear contentions win rounds","No evidence cards - logical reasoning is key","Closing speeches should crystallize, not introduce new args"]},apda:{id:"apda",name:"APDA",shortName:"APDA",color:"emerald",description:"American collegiate parliamentary format with case statements",participants:"2 vs 2",prepTime:"15 minutes, case statements allowed",overview:"American Parliamentary Debate Association (APDA) is unique in allowing government teams to prepare case statements in advance. Topics are broad, and government sets the specific interpretation with their case.",structure:[{speech:"Prime Minister Constructive (PMC)",time:"7 min",description:"Present case statement and government arguments"},{speech:"Leader of Opposition Constructive (LOC)",time:"8 min",description:"Refute government, present opposition case"},{speech:"Member of Government (MG)",time:"8 min",description:"Rebuild and extend government case"},{speech:"Member of Opposition (MO)",time:"8 min",description:"Extend opposition, attack government"},{speech:"Leader of Opposition Rebuttal (LOR)",time:"4 min",description:"Summarize opposition winning arguments"},{speech:"Prime Minister Rebuttal (PMR)",time:"5 min",description:"Final government summary and appeal"}],keyTerms:[{term:"Case Statement",definition:"Pre-prepared specific interpretation of the round topic"},{term:"Opp Choice",definition:"Option for opposition to choose case/side"},{term:"Tight Call",definition:"Case that unfairly advantages government"},{term:"Time-Space",definition:"When and where the case is set"},{term:"POI",definition:"Point of Information - questions during speeches"}],tips:["Government should have multiple case statements prepared","Opposition can call tight call if case is unfair","Case creativity is valued but fairness matters","POIs are expected - take and give them generously","No new arguments in rebuttals"]},bigquestions:{id:"bigquestions",name:"Big Questions",shortName:"BQ",color:"sky",description:"Philosophical team debate on enduring questions",participants:"2 vs 2",prepTime:"2 minutes per team",overview:"Big Questions debate addresses philosophical and ethical questions that have been debated throughout human history. The format is similar to Public Forum but focuses on deeper, more abstract questions rather than current events.",structure:[{speech:"First Pro Constructive",time:"5 min",description:"Present pro case with philosophical grounding"},{speech:"First Con Constructive",time:"5 min",description:"Present con case with philosophical grounding"},{speech:"Crossfire",time:"3 min",description:"First speakers question each other"},{speech:"Second Pro Constructive",time:"5 min",description:"Extend pro arguments, begin refutation"},{speech:"Second Con Constructive",time:"5 min",description:"Extend con arguments, begin refutation"},{speech:"Crossfire",time:"3 min",description:"Second speakers question each other"},{speech:"Pro Summary",time:"3 min",description:"Narrow to key arguments and weigh"},{speech:"Con Summary",time:"3 min",description:"Narrow to key arguments and weigh"},{speech:"Grand Crossfire",time:"3 min",description:"All four debaters participate"},{speech:"Pro Final Focus",time:"2 min",description:"Final crystallization for pro"},{speech:"Con Final Focus",time:"2 min",description:"Final crystallization for con"}],keyTerms:[{term:"Resolution",definition:"Year-long philosophical question being debated"},{term:"Framework",definition:"Philosophical lens through which to evaluate arguments"},{term:"Burden",definition:"What each side must prove to win"},{term:"Crystallization",definition:"Explaining the clearest reason to vote your way"}],tips:["Ground abstract concepts with real examples","Establish clear frameworks for evaluation","Both teams debate the resolution all year","Evidence is encouraged but not required","Focus on comparative analysis in later speeches"]}},vj=t=>{const e={blue:{bg:"bg-blue-500/20",border:"border-blue-500/50",text:"text-blue-400",badge:"bg-blue-500"},green:{bg:"bg-green-500/20",border:"border-green-500/50",text:"text-green-400",badge:"bg-green-500"},purple:{bg:"bg-purple-500/20",border:"border-purple-500/50",text:"text-purple-400",badge:"bg-purple-500"},amber:{bg:"bg-amber-500/20",border:"border-amber-500/50",text:"text-amber-400",badge:"bg-amber-500"},red:{bg:"bg-red-500/20",border:"border-red-500/50",text:"text-red-400",badge:"bg-red-500"},indigo:{bg:"bg-indigo-500/20",border:"border-indigo-500/50",text:"text-indigo-400",badge:"bg-indigo-500"},cyan:{bg:"bg-cyan-500/20",border:"border-cyan-500/50",text:"text-cyan-400",badge:"bg-cyan-500"},teal:{bg:"bg-teal-500/20",border:"border-teal-500/50",text:"text-teal-400",badge:"bg-teal-500"},emerald:{bg:"bg-emerald-500/20",border:"border-emerald-500/50",text:"text-emerald-400",badge:"bg-emerald-500"},sky:{bg:"bg-sky-500/20",border:"border-sky-500/50",text:"text-sky-400",badge:"bg-sky-500"}};return e[t]||e.blue},C$=()=>{const[t,e]=E.useState("ld"),[n,a]=E.useState("structure"),r=yj[t],o=vj(r.color);return s.jsx("div",{className:"min-h-screen bg-[#0a0a0f] p-6",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-500/20 to-blue-500/20 rounded-lg",children:s.jsx(zE,{className:"w-6 h-6 text-cyan-400"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Format Guide"}),s.jsx("p",{className:"text-slate-400 text-sm",children:"Quick reference for debate format rules"})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:Object.values(yj).map(c=>{const d=vj(c.color);return s.jsx("button",{onClick:()=>e(c.id),className:`px-4 py-2 rounded-lg font-medium transition-all ${t===c.id?`${d.bg} ${d.border} border ${d.text}`:"bg-slate-800/50 border border-slate-700/50 text-slate-400 hover:text-white"}`,children:c.shortName},c.id)})}),s.jsxs("div",{className:`bg-slate-800/50 border ${o.border} rounded-xl overflow-hidden`,children:[s.jsxs("div",{className:`p-6 ${o.bg}`,children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:r.name}),s.jsx("p",{className:"text-slate-300 mb-4",children:r.description}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gn,{className:"w-4 h-4 text-slate-400"}),s.jsx("span",{className:"text-white",children:r.participants})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{className:"w-4 h-4 text-slate-400"}),s.jsxs("span",{className:"text-white",children:["Prep: ",r.prepTime]})]})]})]}),s.jsx("div",{className:"p-6 border-b border-slate-700/50",children:s.jsx("p",{className:"text-slate-300 leading-relaxed",children:r.overview})}),s.jsx(Ag,{title:"Speech Structure",icon:s.jsx(Ha,{className:"w-4 h-4"}),isExpanded:n==="structure",onToggle:()=>a(n==="structure"?null:"structure"),colors:o,children:s.jsx("div",{className:"space-y-2",children:r.structure.map((c,d)=>s.jsxs("div",{className:"flex items-start gap-4 p-3 bg-slate-900/50 rounded-lg",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 flex items-center justify-center text-slate-400 text-sm font-medium shrink-0",children:d+1}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-white font-medium",children:c.speech}),s.jsx("span",{className:`px-2 py-0.5 ${o.bg} ${o.text} rounded text-xs font-mono`,children:c.time})]}),s.jsx("p",{className:"text-slate-400 text-sm mt-1",children:c.description})]})]},d))})}),s.jsx(Ag,{title:"Key Terms",icon:s.jsx(ic,{className:"w-4 h-4"}),isExpanded:n==="terms",onToggle:()=>a(n==="terms"?null:"terms"),colors:o,children:s.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:r.keyTerms.map((c,d)=>s.jsxs("div",{className:"p-3 bg-slate-900/50 rounded-lg",children:[s.jsx("span",{className:`font-semibold ${o.text}`,children:c.term}),s.jsx("p",{className:"text-slate-400 text-sm mt-1",children:c.definition})]},d))})}),s.jsx(Ag,{title:"Tips & Strategy",icon:s.jsx($o,{className:"w-4 h-4"}),isExpanded:n==="tips",onToggle:()=>a(n==="tips"?null:"tips"),colors:o,children:s.jsx("ul",{className:"space-y-2",children:r.tips.map((c,d)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(qo,{className:`w-4 h-4 ${o.text} shrink-0 mt-0.5`}),s.jsx("span",{className:"text-slate-300",children:c})]},d))})})]})]})})},Ag=({title:t,icon:e,isExpanded:n,onToggle:a,colors:r,children:o})=>s.jsxs("div",{className:"border-b border-slate-700/50 last:border-b-0",children:[s.jsxs("button",{onClick:a,className:"w-full p-4 flex items-center justify-between text-left hover:bg-slate-800/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:r.text,children:e}),s.jsx("span",{className:"text-white font-medium",children:t})]}),s.jsx(U.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:s.jsx($a,{className:"w-5 h-5 text-slate-400"})})]}),s.jsx(et,{children:n&&s.jsx(U.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:s.jsx("div",{className:"p-4 pt-0",children:o})})})]}),A$=()=>{const[t,e]=E.useState([]),[n,a]=E.useState(""),[r,o]=E.useState(""),[c,d]=E.useState("");E.useEffect(()=>{const w=localStorage.getItem("speaker-points");w&&e(JSON.parse(w))},[]),E.useEffect(()=>{localStorage.setItem("speaker-points",JSON.stringify(t))},[t]);const m=()=>{const w=parseFloat(n);if(isNaN(w)||w<20||w>30)return;const j={id:Date.now().toString(),points:w,round:r||"Round",tournament:c||"Tournament",date:new Date().toISOString()};e([j,...t]),a(""),o(""),d("")},f=w=>{e(t.filter(j=>j.id!==w))},x={average:t.length>0?(t.reduce((w,j)=>w+j.points,0)/t.length).toFixed(2):0,highest:t.length>0?Math.max(...t.map(w=>w.points)):0,lowest:t.length>0?Math.min(...t.map(w=>w.points)):0,total:t.length,recent:t.slice(0,5)},v=(()=>{if(t.length<4)return"neutral";const w=t.slice(0,3).reduce((D,k)=>D+k.points,0)/3,j=t.slice(3,6).reduce((D,k)=>D+k.points,0)/Math.min(3,t.length-3);return w>j+.2?"up":w<j-.2?"down":"neutral"})();return s.jsx("div",{className:"min-h-screen bg-[#0a0a0f] p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-yellow-500/20 to-orange-500/20 rounded-lg",children:s.jsx($o,{className:"w-6 h-6 text-yellow-400"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Speaker Points Tracker"}),s.jsx("p",{className:"text-slate-400 text-sm",children:"Track and analyze your speaker points"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsx(xm,{label:"Average",value:x.average,icon:s.jsx(Cn,{className:"w-5 h-5"}),color:"yellow"}),s.jsx(xm,{label:"Highest",value:x.highest,icon:s.jsx(Ga,{className:"w-5 h-5"}),color:"green"}),s.jsx(xm,{label:"Lowest",value:x.lowest,icon:s.jsx(Go,{className:"w-5 h-5"}),color:"red"}),s.jsx(xm,{label:"Rounds",value:x.total,icon:s.jsx(La,{className:"w-5 h-5"}),color:"blue"})]}),t.length>=4&&s.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center gap-3 ${v==="up"?"bg-green-500/10 border border-green-500/30":v==="down"?"bg-red-500/10 border border-red-500/30":"bg-slate-800/50 border border-slate-700/50"}`,children:[v==="up"&&s.jsx(Ga,{className:"w-5 h-5 text-green-400"}),v==="down"&&s.jsx(Go,{className:"w-5 h-5 text-red-400"}),v==="neutral"&&s.jsx(lc,{className:"w-5 h-5 text-slate-400"}),s.jsxs("span",{className:v==="up"?"text-green-400":v==="down"?"text-red-400":"text-slate-400",children:[v==="up"&&"Your speaker points are trending upward!",v==="down"&&"Your speaker points have declined recently",v==="neutral"&&"Your speaker points are stable"]})]}),s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-4 mb-6",children:[s.jsx("h3",{className:"text-white font-medium mb-4",children:"Add Speaker Points"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-3",children:[s.jsx("input",{type:"number",step:"0.5",min:"20",max:"30",placeholder:"Points (20-30)",value:n,onChange:w=>a(w.target.value),className:"px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-yellow-500/50"}),s.jsx("input",{type:"text",placeholder:"Round (optional)",value:r,onChange:w=>o(w.target.value),className:"px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-yellow-500/50"}),s.jsx("input",{type:"text",placeholder:"Tournament (optional)",value:c,onChange:w=>d(w.target.value),className:"px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-yellow-500/50"}),s.jsxs("button",{onClick:m,disabled:!n||parseFloat(n)<20||parseFloat(n)>30,className:"flex items-center justify-center gap-2 px-4 py-2 bg-yellow-600 hover:bg-yellow-500 disabled:bg-slate-700 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:[s.jsx(At,{className:"w-4 h-4"}),"Add"]})]})]}),s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-4",children:[s.jsx("h3",{className:"text-white font-medium mb-4",children:"History"}),t.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx($o,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"No speaker points recorded yet"}),s.jsx("p",{className:"text-sm",children:"Add your first entry above"})]}):s.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:t.map((w,j)=>s.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg group",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`text-2xl font-bold ${w.points>=29?"text-green-400":w.points>=27?"text-yellow-400":w.points>=25?"text-slate-300":"text-red-400"}`,children:w.points}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white",children:w.round}),s.jsx("div",{className:"text-slate-500 text-sm",children:w.tournament})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-slate-500 text-sm",children:new Date(w.date).toLocaleDateString()}),s.jsx("button",{onClick:()=>f(w.id),className:"p-1.5 text-slate-500 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-all",children:s.jsx(Un,{className:"w-4 h-4"})})]})]},w.id))})]})]})})},xm=({label:t,value:e,icon:n,color:a})=>{const r={yellow:"from-yellow-500/20 to-orange-500/20 text-yellow-400",green:"from-green-500/20 to-emerald-500/20 text-green-400",red:"from-red-500/20 to-rose-500/20 text-red-400",blue:"from-blue-500/20 to-cyan-500/20 text-blue-400"};return s.jsxs("div",{className:`bg-gradient-to-br ${r[a]} p-4 rounded-xl`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-slate-400 text-sm",children:t}),n]}),s.jsx("div",{className:"text-2xl font-bold text-white",children:e})]})},k$=[{label:"1 min",seconds:60},{label:"2 min",seconds:120},{label:"3 min",seconds:180},{label:"4 min",seconds:240},{label:"5 min",seconds:300},{label:"6 min",seconds:360},{label:"7 min",seconds:420},{label:"8 min",seconds:480}],R$=()=>{const[t,e]=E.useState(300),[n,a]=E.useState(300),[r,o]=E.useState(!1),[c,d]=E.useState(!0),[m,f]=E.useState(!1),x=E.useRef(null),b=E.useRef(null);E.useEffect(()=>{b.current=new AudioContext},[]),E.useEffect(()=>(r&&n>0&&(x.current=setInterval(()=>{a(R=>R<=1?(o(!1),c&&v(),0):(R===31&&c&&v(800,.1),R===11&&c&&v(600,.1),R-1))},1e3)),()=>clearInterval(x.current)),[r,c]);const v=(R=440,A=.3)=>{if(b.current)try{const L=b.current.createOscillator(),T=b.current.createGain();L.connect(T),T.connect(b.current.destination),L.frequency.value=R,L.type="sine",T.gain.setValueAtTime(.3,b.current.currentTime),T.gain.exponentialRampToValueAtTime(.01,b.current.currentTime+A),L.start(b.current.currentTime),L.stop(b.current.currentTime+A)}catch{console.log("Audio not supported")}},w=()=>{b.current?.state==="suspended"&&b.current.resume(),o(!r)},j=()=>{o(!1),a(t)},D=R=>{o(!1),e(R),a(R)},k=R=>{const A=Math.max(10,Math.min(3600,t+R));e(A),r||a(A)},V=R=>{const A=Math.floor(R/60),L=R%60;return`${A}:${L.toString().padStart(2,"0")}`},I=n/t,B=n<=30&&n>10,Q=n<=10,G=Q?{ring:"stroke-red-500",text:"text-red-400",bg:"bg-red-500/20"}:B?{ring:"stroke-yellow-500",text:"text-yellow-400",bg:"bg-yellow-500/20"}:{ring:"stroke-blue-500",text:"text-blue-400",bg:"bg-blue-500/20"};return s.jsx("div",{className:"min-h-screen bg-[#0a0a0f] p-6 flex items-center justify-center",children:s.jsxs("div",{className:"max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-lg",children:s.jsx(qt,{className:"w-6 h-6 text-blue-400"})}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Debate Clock"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>d(!c),className:"p-2 text-slate-400 hover:text-white transition-colors",children:c?s.jsx(Ax,{className:"w-5 h-5"}):s.jsx(Uj,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>f(!m),className:`p-2 transition-colors ${m?"text-blue-400":"text-slate-400 hover:text-white"}`,children:s.jsx(oc,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"relative flex items-center justify-center mb-8",children:[s.jsxs("svg",{className:"w-64 h-64 -rotate-90",viewBox:"0 0 100 100",children:[s.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"currentColor",strokeWidth:"4",className:"text-slate-800"}),s.jsx(U.circle,{cx:"50",cy:"50",r:"45",fill:"none",strokeWidth:"4",strokeLinecap:"round",className:G.ring,strokeDasharray:`${I*283} 283`,initial:!1,animate:{strokeDasharray:`${I*283} 283`},transition:{duration:.5}})]}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[s.jsx(U.div,{className:`text-6xl font-mono font-bold ${G.text}`,animate:{scale:Q&&r?[1,1.05,1]:1},transition:{repeat:Q&&r?1/0:0,duration:1},children:V(n)}),s.jsx("div",{className:"text-slate-500 text-sm mt-2",children:r?"Running":n===0?"Time!":"Paused"})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[s.jsx("button",{onClick:j,className:"p-4 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-full transition-colors",children:s.jsx(_i,{className:"w-6 h-6"})}),s.jsx("button",{onClick:w,className:`p-6 rounded-full transition-colors ${r?"bg-red-600 hover:bg-red-500 text-white":"bg-blue-600 hover:bg-blue-500 text-white"}`,children:r?s.jsx(hd,{className:"w-8 h-8"}):s.jsx(Si,{className:"w-8 h-8 ml-1"})}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("button",{onClick:()=>k(30),disabled:r,className:"p-2 bg-slate-800 hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed text-slate-300 rounded-lg transition-colors",children:s.jsx(At,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>k(-30),disabled:r,className:"p-2 bg-slate-800 hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed text-slate-300 rounded-lg transition-colors",children:s.jsx(lc,{className:"w-4 h-4"})})]})]}),m&&s.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-4",children:[s.jsx("h3",{className:"text-white font-medium mb-3",children:"Quick Presets"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:k$.map(R=>s.jsx("button",{onClick:()=>D(R.seconds),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${t===R.seconds?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:R.label},R.seconds))}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700",children:[s.jsx("label",{className:"text-slate-400 text-sm mb-2 block",children:"Custom Time (seconds)"}),s.jsx("input",{type:"number",min:"10",max:"3600",value:t,onChange:R=>{const A=parseInt(R.target.value)||60;e(A),r||a(A)},disabled:r,className:"w-full px-3 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white disabled:opacity-50"})]})]})]})})},kg=[{id:"claim",label:"Clear Claim",description:"Does your argument have a specific, debatable claim?",icon:Ot},{id:"warrant",label:"Warrant/Reasoning",description:"Is there logical reasoning explaining WHY the claim is true?",icon:Mr},{id:"evidence",label:"Evidence/Support",description:"Do you have facts, statistics, or examples backing it up?",icon:xn},{id:"impact",label:"Impact/Significance",description:"Does your argument explain WHY this matters?",icon:Hu},{id:"link",label:"Link to Resolution",description:"Does this connect directly to the debate resolution?",icon:Dl}],I$=()=>{const[t,e]=E.useState(""),[n,a]=E.useState({}),[r,o]=E.useState(!1),c=w=>{a(j=>({...j,[w]:j[w]==="yes"?"partial":j[w]==="partial"?"no":"yes"}))},d=()=>{if(!t.trim())return;const w={};kg.forEach(j=>{w[j.id]=null}),a(w),o(!0)},m=()=>{e(""),a({}),o(!1)},x=(()=>{const w=Object.values(n).filter(k=>k!==null);if(w.length===0)return{score:0,label:"Not Evaluated",color:"slate"};const D=w.reduce((k,V)=>V==="yes"?k+1:V==="partial"?k+.5:k,0)/kg.length*100;return D>=80?{score:D,label:"Strong",color:"green"}:D>=60?{score:D,label:"Good",color:"blue"}:D>=40?{score:D,label:"Moderate",color:"yellow"}:{score:D,label:"Weak",color:"red"}})(),v=(w=>{const j={green:{bg:"bg-green-500/20",border:"border-green-500/50",text:"text-green-400",bar:"bg-green-500"},blue:{bg:"bg-blue-500/20",border:"border-blue-500/50",text:"text-blue-400",bar:"bg-blue-500"},yellow:{bg:"bg-yellow-500/20",border:"border-yellow-500/50",text:"text-yellow-400",bar:"bg-yellow-500"},red:{bg:"bg-red-500/20",border:"border-red-500/50",text:"text-red-400",bar:"bg-red-500"},slate:{bg:"bg-slate-500/20",border:"border-slate-500/50",text:"text-slate-400",bar:"bg-slate-500"}};return j[w]||j.slate})(x.color);return s.jsx("div",{className:"min-h-screen bg-[#0a0a0f] p-6",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-indigo-500/20 to-purple-500/20 rounded-lg",children:s.jsx(Dl,{className:"w-6 h-6 text-indigo-400"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Argument Validator"}),s.jsx("p",{className:"text-slate-400 text-sm",children:"Check your argument structure"})]})]}),r&&s.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-3 py-2 text-slate-400 hover:text-white transition-colors",children:[s.jsx(_i,{className:"w-4 h-4"}),"Reset"]})]}),s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-4 mb-6",children:[s.jsx("label",{className:"text-white font-medium mb-2 block",children:"Your Argument"}),s.jsx("textarea",{value:t,onChange:w=>e(w.target.value),placeholder:`Enter your argument here...

Example: Climate change legislation is necessary because rising global temperatures threaten food security. According to NASA, average temperatures have risen 1.1C since 1880. Without action, we risk widespread famine affecting millions.`,className:"w-full h-40 bg-slate-900/50 border border-slate-700 rounded-lg p-4 text-white placeholder-slate-600 focus:outline-none focus:border-indigo-500/50 resize-none",disabled:r}),!r&&s.jsx("button",{onClick:d,disabled:!t.trim(),className:"mt-4 w-full py-3 bg-indigo-600 hover:bg-indigo-500 disabled:bg-slate-700 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-colors",children:"Analyze Argument"})]}),r&&s.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[s.jsxs("div",{className:`p-4 rounded-xl ${v.bg} border ${v.border}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-white font-medium",children:"Argument Strength"}),s.jsx("span",{className:`font-bold ${v.text}`,children:x.label})]}),s.jsx("div",{className:"h-3 bg-slate-900/50 rounded-full overflow-hidden",children:s.jsx(U.div,{initial:{width:0},animate:{width:`${x.score}%`},transition:{duration:.5,delay:.2},className:`h-full ${v.bar} rounded-full`})}),s.jsxs("div",{className:"text-right text-sm text-slate-400 mt-1",children:[Math.round(x.score),"%"]})]}),s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-4",children:[s.jsx("h3",{className:"text-white font-medium mb-4",children:"Evaluate Each Element"}),s.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Click each item to cycle through:  Yes   Partial   No"}),s.jsx("div",{className:"space-y-3",children:kg.map(w=>{const j=n[w.id],D=w.icon;return s.jsx("button",{onClick:()=>c(w.id),className:`w-full p-4 rounded-lg text-left transition-all ${j==="yes"?"bg-green-500/20 border border-green-500/50":j==="partial"?"bg-yellow-500/20 border border-yellow-500/50":j==="no"?"bg-red-500/20 border border-red-500/50":"bg-slate-900/50 border border-slate-700 hover:border-slate-600"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${j==="yes"?"bg-green-500/20":j==="partial"?"bg-yellow-500/20":j==="no"?"bg-red-500/20":"bg-slate-800"}`,children:j==="yes"?s.jsx(qo,{className:"w-5 h-5 text-green-400"}):j==="partial"?s.jsx(ts,{className:"w-5 h-5 text-yellow-400"}):j==="no"?s.jsx(eC,{className:"w-5 h-5 text-red-400"}):s.jsx(D,{className:"w-5 h-5 text-slate-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-white font-medium",children:w.label}),s.jsx("span",{className:`text-sm ${j==="yes"?"text-green-400":j==="partial"?"text-yellow-400":j==="no"?"text-red-400":"text-slate-500"}`,children:j==="yes"?"Yes":j==="partial"?"Partial":j==="no"?"No":"Click to evaluate"})]}),s.jsx("p",{className:"text-slate-400 text-sm mt-1",children:w.description})]})]})},w.id)})})]}),Object.values(n).some(w=>w==="no"||w==="partial")&&s.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-4",children:[s.jsx("h3",{className:"text-white font-medium mb-3",children:" Improvement Tips"}),s.jsxs("ul",{className:"space-y-2 text-slate-300 text-sm",children:[n.claim!=="yes"&&s.jsx("li",{children:" Make your claim more specific and debatable"}),n.warrant!=="yes"&&s.jsx("li",{children:" Add reasoning that explains WHY your claim is true"}),n.evidence!=="yes"&&s.jsx("li",{children:" Include statistics, studies, or expert opinions"}),n.impact!=="yes"&&s.jsx("li",{children:" Explain the significance - why should the judge care?"}),n.link!=="yes"&&s.jsx("li",{children:" Directly connect your argument to the resolution"})]})]})]})]})})},wj=[{id:"aff-case",label:"Affirmative Case",placeholder:"Key arguments, values, contentions..."},{id:"neg-case",label:"Negative Case",placeholder:"Key arguments, values, contentions..."},{id:"clash",label:"Clash Points",placeholder:"Where do the cases interact? Key conflicts..."},{id:"cx",label:"Cross-Examination",placeholder:"Important admissions, key questions..."},{id:"voting",label:"Voting Issues",placeholder:"Why you're voting the way you are..."},{id:"feedback",label:"Feedback Notes",placeholder:"Constructive feedback for debaters..."}],D$=()=>{const[t,e]=E.useState([]),[n,a]=E.useState(null),[r,o]=E.useState(null);E.useEffect(()=>{const v=localStorage.getItem("judge-notes");if(v){const w=JSON.parse(v);e(w),w.length>0&&a(w[0].id)}},[]),E.useEffect(()=>{t.length>0&&localStorage.setItem("judge-notes",JSON.stringify(t))},[t]);const c=t.find(v=>v.id===n),d=()=>{const v={id:Date.now().toString(),name:`Round ${t.length+1}`,createdAt:new Date().toISOString(),sections:wj.reduce((w,j)=>({...w,[j.id]:""}),{})};e([v,...t]),a(v.id)},m=v=>{e(t.map(w=>w.id===n?{...w,name:v}:w))},f=(v,w)=>{e(t.map(j=>j.id===n?{...j,sections:{...j.sections,[v]:w}}:j)),o("saving"),setTimeout(()=>o("saved"),300),setTimeout(()=>o(null),2e3)},x=v=>{const w=t.filter(j=>j.id!==v);e(w),localStorage.setItem("judge-notes",JSON.stringify(w)),n===v&&a(w.length>0?w[0].id:null)},b=v=>new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return s.jsx("div",{className:"min-h-screen bg-[#0a0a0f] p-6",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-amber-500/20 to-orange-500/20 rounded-lg",children:s.jsx(hs,{className:"w-6 h-6 text-amber-400"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Judge Notes"}),s.jsx("p",{className:"text-slate-400 text-sm",children:"Track notes during debates"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[r&&s.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-1 text-sm",children:r==="saving"?s.jsx("span",{className:"text-slate-400",children:"Saving..."}):s.jsxs(s.Fragment,{children:[s.jsx(es,{className:"w-4 h-4 text-green-400"}),s.jsx("span",{className:"text-green-400",children:"Saved"})]})}),s.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 bg-amber-600 hover:bg-amber-500 text-white rounded-lg transition-colors",children:[s.jsx(At,{className:"w-4 h-4"}),"New Round"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-4",children:[s.jsx("h3",{className:"text-white font-medium mb-3",children:"Rounds"}),t.length===0?s.jsxs("div",{className:"text-center py-8 text-slate-500",children:[s.jsx(xn,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No rounds yet"})]}):s.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:t.map(v=>s.jsxs("div",{onClick:()=>a(v.id),className:`p-3 rounded-lg cursor-pointer transition-all group ${n===v.id?"bg-amber-500/20 border border-amber-500/50":"bg-slate-900/50 hover:bg-slate-800/50 border border-transparent"}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-white font-medium truncate",children:v.name}),s.jsx("button",{onClick:w=>{w.stopPropagation(),x(v.id)},className:"p-1 text-slate-500 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-all",children:s.jsx(Un,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500 mt-1",children:[s.jsx(qt,{className:"w-3 h-3"}),b(v.createdAt)]})]},v.id))})]})}),s.jsx("div",{className:"lg:col-span-3",children:c?s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-4",children:[s.jsx("input",{type:"text",value:c.name,onChange:v=>m(v.target.value),className:"text-xl font-semibold bg-transparent text-white focus:outline-none w-full mb-4 border-b border-transparent focus:border-amber-500/50 pb-2"}),s.jsx("div",{className:"space-y-4",children:wj.map(v=>s.jsx(M$,{label:v.label,placeholder:v.placeholder,value:c.sections[v.id]||"",onChange:w=>f(v.id,w)},v.id))})]}):s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-8 text-center",children:[s.jsx(hs,{className:"w-12 h-12 mx-auto mb-3 text-slate-600"}),s.jsx("p",{className:"text-slate-400",children:"Select a round or create a new one"}),s.jsx("button",{onClick:d,className:"mt-4 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Create Round"})]})})]})]})})},M$=({label:t,placeholder:e,value:n,onChange:a})=>{const[r,o]=E.useState(!0);return s.jsxs("div",{className:"border border-slate-700/50 rounded-lg overflow-hidden",children:[s.jsxs("button",{onClick:()=>o(!r),className:"w-full px-4 py-3 flex items-center justify-between bg-slate-900/50 hover:bg-slate-900/70 transition-colors",children:[s.jsx("span",{className:"text-white font-medium",children:t}),s.jsx(U.div,{animate:{rotate:r?180:0},children:s.jsx($a,{className:"w-4 h-4 text-slate-400"})})]}),r&&s.jsx("textarea",{value:n,onChange:c=>a(c.target.value),placeholder:e,className:"w-full p-4 bg-slate-900/30 text-white placeholder-slate-600 focus:outline-none resize-none min-h-[100px]"})]})},Rg=[{id:"captain",label:"Team Captain",color:"yellow",icon:Ho},{id:"varsity",label:"Varsity",color:"purple",icon:Xt},{id:"jv",label:"Junior Varsity",color:"blue",icon:jl},{id:"novice",label:"Novice",color:"green",icon:jl},{id:"coach",label:"Coach",color:"red",icon:Ho}],O$=t=>{const e={yellow:{bg:"bg-yellow-500/20",border:"border-yellow-500/50",text:"text-yellow-400",badge:"bg-yellow-500"},purple:{bg:"bg-purple-500/20",border:"border-purple-500/50",text:"text-purple-400",badge:"bg-purple-500"},blue:{bg:"bg-blue-500/20",border:"border-blue-500/50",text:"text-blue-400",badge:"bg-blue-500"},green:{bg:"bg-green-500/20",border:"border-green-500/50",text:"text-green-400",badge:"bg-green-500"},red:{bg:"bg-red-500/20",border:"border-red-500/50",text:"text-red-400",badge:"bg-red-500"}};return e[t]||e.blue},P$=()=>{const[t,e]=E.useState([]),[n,a]=E.useState(!1),[r,o]=E.useState(null),[c,d]=E.useState({name:"",role:"varsity",email:"",phone:"",notes:""});E.useEffect(()=>{const w=localStorage.getItem("team-roster");w&&e(JSON.parse(w))},[]),E.useEffect(()=>{localStorage.setItem("team-roster",JSON.stringify(t))},[t]);const m=()=>{d({name:"",role:"varsity",email:"",phone:"",notes:""}),a(!1),o(null)},f=()=>{c.name.trim()&&(e(r?t.map(w=>w.id===r?{...c,id:r}:w):[...t,{...c,id:Date.now().toString()}]),m())},x=w=>{d(w),o(w.id),a(!0)},b=w=>{e(t.filter(j=>j.id!==w))},v=Rg.reduce((w,j)=>(w[j.id]=t.filter(D=>D.role===j.id),w),{});return s.jsx("div",{className:"min-h-screen bg-[#0a0a0f] p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-500/20 to-blue-500/20 rounded-lg",children:s.jsx(gn,{className:"w-6 h-6 text-cyan-400"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Team Roster"}),s.jsxs("p",{className:"text-slate-400 text-sm",children:[t.length," team member",t.length!==1?"s":""]})]})]}),s.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-500 text-white rounded-lg transition-colors",children:[s.jsx(At,{className:"w-4 h-4"}),"Add Member"]})]}),s.jsx(et,{children:n&&s.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:m,children:s.jsxs(U.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},onClick:w=>w.stopPropagation(),className:"bg-slate-800 border border-slate-700 rounded-xl p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:r?"Edit Member":"Add Team Member"}),s.jsx("button",{onClick:m,className:"text-slate-400 hover:text-white",children:s.jsx(Qn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-slate-400 text-sm mb-1 block",children:"Name *"}),s.jsx("input",{type:"text",value:c.name,onChange:w=>d({...c,name:w.target.value}),placeholder:"Full name",className:"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-cyan-500/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-slate-400 text-sm mb-1 block",children:"Role"}),s.jsx("select",{value:c.role,onChange:w=>d({...c,role:w.target.value}),className:"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-cyan-500/50",children:Rg.map(w=>s.jsx("option",{value:w.id,children:w.label},w.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-slate-400 text-sm mb-1 block",children:"Email"}),s.jsx("input",{type:"email",value:c.email,onChange:w=>d({...c,email:w.target.value}),placeholder:"email@example.com",className:"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-cyan-500/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-slate-400 text-sm mb-1 block",children:"Phone"}),s.jsx("input",{type:"tel",value:c.phone,onChange:w=>d({...c,phone:w.target.value}),placeholder:"(555) 123-4567",className:"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-cyan-500/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-slate-400 text-sm mb-1 block",children:"Notes"}),s.jsx("input",{type:"text",value:c.notes,onChange:w=>d({...c,notes:w.target.value}),placeholder:"Partner, events, etc.",className:"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-cyan-500/50"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:m,className:"flex-1 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:f,disabled:!c.name.trim(),className:"flex-1 py-2 bg-cyan-600 hover:bg-cyan-500 disabled:bg-slate-700 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:r?"Save Changes":"Add Member"})]})]})})}),t.length===0?s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-12 text-center",children:[s.jsx(gn,{className:"w-12 h-12 mx-auto mb-3 text-slate-600"}),s.jsx("p",{className:"text-slate-400 mb-4",children:"No team members yet"}),s.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Add First Member"})]}):s.jsx("div",{className:"space-y-6",children:Rg.map(w=>{const j=v[w.id];if(j.length===0)return null;const D=O$(w.color),k=w.icon;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(k,{className:`w-4 h-4 ${D.text}`}),s.jsx("h2",{className:"text-white font-medium",children:w.label}),s.jsxs("span",{className:"text-slate-500 text-sm",children:["(",j.length,")"]})]}),s.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:j.map(V=>s.jsxs(U.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-4 rounded-xl ${D.bg} border ${D.border} group`,children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold",children:V.name}),V.notes&&s.jsx("p",{className:"text-slate-400 text-sm mt-1",children:V.notes})]}),s.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>x(V),className:"p-1.5 text-slate-400 hover:text-white transition-colors",children:s.jsx(Il,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>b(V.id),className:"p-1.5 text-slate-400 hover:text-red-400 transition-colors",children:s.jsx(Un,{className:"w-4 h-4"})})]})]}),(V.email||V.phone)&&s.jsxs("div",{className:"flex flex-wrap gap-3 mt-3 text-sm",children:[V.email&&s.jsxs("a",{href:`mailto:${V.email}`,className:"flex items-center gap-1 text-slate-400 hover:text-white transition-colors",children:[s.jsx(Aj,{className:"w-3 h-3"}),V.email]}),V.phone&&s.jsxs("a",{href:`tel:${V.phone}`,className:"flex items-center gap-1 text-slate-400 hover:text-white transition-colors",children:[s.jsx(Rj,{className:"w-3 h-3"}),V.phone]})]})]},V.id))})]},w.id)})})]})})},L$=()=>s.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--bg-primary)"},children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(Or,{className:"w-12 h-12 animate-spin mx-auto",style:{color:"var(--primary)"}}),s.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading Adjudicator AI..."})]})}),V$=({isOpen:t,onClose:e,apiKey:n,setApiKey:a,openaiKey:r,setOpenaiKey:o})=>t?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",children:s.jsxs("div",{className:"glass-card w-full max-w-md space-y-6 animate-in zoom-in-95",children:[s.jsxs("h2",{className:"text-xl font-bold flex items-center",style:{color:"var(--text-primary)"},children:[s.jsx(oc,{className:"w-5 h-5 mr-2",style:{color:"var(--primary)"}}),"Configuration"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Google Gemini API Key"}),s.jsx("input",{type:"password",value:n,onChange:c=>a(c.target.value),placeholder:"AIzaSy...",className:"input-field"}),s.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"Required for most features."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:"OpenAI API Key (Optional)"}),s.jsx("input",{type:"password",value:r,onChange:c=>o(c.target.value),placeholder:"sk-...",className:"input-field"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg transition-colors",style:{color:"var(--text-secondary)"},children:"Close"}),s.jsx("button",{onClick:e,className:"btn-primary",children:"Save Changes"})]})]})}):null;function U$(){const[t,e]=E.useState("dashboard"),[n,a]=E.useState(!1),[r,o]=E.useState(!0),[c,d]=E.useState(localStorage.getItem("gemini_key")||""),[m,f]=E.useState(localStorage.getItem("openai_key")||""),[x,b]=E.useState(localStorage.getItem("guest_mode")==="true"),{user:v,loading:w,isAuthenticated:j}=zn();return E.useEffect(()=>{localStorage.setItem("gemini_key",c)},[c]),E.useEffect(()=>{localStorage.setItem("openai_key",m)},[m]),E.useEffect(()=>{(j||x)&&o(!1)},[j,x]),w?s.jsx(L$,{}):r&&!j&&!x?s.jsx(Iz,{onGetStarted:()=>o(!1),onContinueAsGuest:()=>{b(!0),localStorage.setItem("guest_mode","true"),o(!1)}}):!j&&!x?s.jsx(Rz,{onSkip:()=>{b(!0),localStorage.setItem("guest_mode","true")}}):s.jsxs(gO,{activeTab:t,setActiveTab:e,onSettingsClick:()=>a(!0),children:[t==="dashboard"&&s.jsx(xO,{setActiveTab:e}),t==="analytics"&&s.jsx(SF,{}),t==="judge"&&s.jsx(bz,{apiKey:c}),t==="board"&&s.jsx(yz,{apiKey:c}),t==="coach"&&s.jsx(Nz,{apiKey:c}),t==="practice"&&s.jsx(eB,{apiKey:c}),t==="tournaments"&&s.jsx(bB,{}),t==="opponents"&&s.jsx(IF,{apiKey:c}),t==="evidence"&&s.jsx(zF,{}),t==="team"&&s.jsx(uB,{}),t==="strategy"&&s.jsx(Sz,{apiKey:c}),t==="extemp"&&s.jsx(jz,{apiKey:c}),t==="tone"&&s.jsx(kz,{apiKey:c}),t==="history"&&s.jsx(Tz,{}),t==="flowchart"&&s.jsx(CB,{}),t==="voice"&&s.jsx(LB,{}),t==="timer"&&s.jsx($B,{}),t==="outline"&&s.jsx(YB,{}),t==="scheduler"&&s.jsx(e$,{}),t==="quickstats"&&s.jsx(c$,{}),t==="motions"&&s.jsx(m$,{}),t==="ballot"&&s.jsx(w$,{}),t==="presets"&&s.jsx(j$,{}),t==="notes"&&s.jsx(_$,{}),t==="cards"&&s.jsx(T$,{}),t==="formatguide"&&s.jsx(C$,{}),t==="speakerpoints"&&s.jsx(A$,{}),t==="clock"&&s.jsx(R$,{}),t==="validator"&&s.jsx(I$,{}),t==="judgenotes"&&s.jsx(D$,{}),t==="roster"&&s.jsx(P$,{}),s.jsx(V$,{isOpen:n,onClose:()=>a(!1),apiKey:c,setApiKey:d,openaiKey:m,setOpenaiKey:f})]})}function z$(){return s.jsx(fO,{children:s.jsx(hO,{children:s.jsx(U$,{})})})}NE.createRoot(document.getElementById("root")).render(s.jsx(Nx.StrictMode,{children:s.jsx(z$,{})}));
