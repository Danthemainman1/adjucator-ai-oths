import{j as g,m as Ht,A as N2}from"./animations-Cs-j1bJ7.js";import{r as ee,R as iE}from"./charts-BqTqP0xP.js";import{r as I2,a as k2,g as Cg}from"./react-vendor-OvXVS5lI.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();var ip={exports:{}},fu={},rp={exports:{}},sp={};var cb;function R2(){return cb||(cb=1,(function(t){function e(K,le){var me=K.length;K.push(le);e:for(;0<me;){var Re=me-1>>>1,V=K[Re];if(0<a(V,le))K[Re]=le,K[me]=V,me=Re;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var le=K[0],me=K.pop();if(me!==le){K[0]=me;e:for(var Re=0,V=K.length,We=V>>>1;Re<We;){var Le=2*(Re+1)-1,j=K[Le],Ie=Le+1,tt=K[Ie];if(0>a(j,me))Ie<V&&0>a(tt,j)?(K[Re]=tt,K[Ie]=me,Re=Ie):(K[Re]=j,K[Le]=me,Re=Le);else if(Ie<V&&0>a(tt,me))K[Re]=tt,K[Ie]=me,Re=Ie;else break e}}return le}function a(K,le){var me=K.sortIndex-le.sortIndex;return me!==0?me:K.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var m=[],p=[],v=1,x=null,E=3,w=!1,N=!1,L=!1,P=!1,U=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function te(K){for(var le=n(p);le!==null;){if(le.callback===null)r(p);else if(le.startTime<=K)r(p),le.sortIndex=le.expirationTime,e(m,le);else break;le=n(p)}}function ce(K){if(L=!1,te(K),!N)if(n(m)!==null)N=!0,G||(G=!0,D());else{var le=n(p);le!==null&&ae(ce,le.startTime-K)}}var G=!1,M=-1,k=5,O=-1;function A(){return P?!0:!(t.unstable_now()-O<k)}function C(){if(P=!1,G){var K=t.unstable_now();O=K;var le=!0;try{e:{N=!1,L&&(L=!1,F(M),M=-1),w=!0;var me=E;try{t:{for(te(K),x=n(m);x!==null&&!(x.expirationTime>K&&A());){var Re=x.callback;if(typeof Re=="function"){x.callback=null,E=x.priorityLevel;var V=Re(x.expirationTime<=K);if(K=t.unstable_now(),typeof V=="function"){x.callback=V,te(K),le=!0;break t}x===n(m)&&r(m),te(K)}else r(m);x=n(m)}if(x!==null)le=!0;else{var We=n(p);We!==null&&ae(ce,We.startTime-K),le=!1}}break e}finally{x=null,E=me,w=!1}le=void 0}}finally{le?D():G=!1}}}var D;if(typeof q=="function")D=function(){q(C)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ue=R.port2;R.port1.onmessage=C,D=function(){ue.postMessage(null)}}else D=function(){U(C,0)};function ae(K,le){M=U(function(){K(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(K){switch(E){case 1:case 2:case 3:var le=3;break;default:le=E}var me=E;E=le;try{return K()}finally{E=me}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(K,le){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=E;E=K;try{return le()}finally{E=me}},t.unstable_scheduleCallback=function(K,le,me){var Re=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Re+me:Re):me=Re,K){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=me+V,K={id:v++,callback:le,priorityLevel:K,startTime:me,expirationTime:V,sortIndex:-1},me>Re?(K.sortIndex=me,e(p,K),n(m)===null&&K===n(p)&&(L?(F(M),M=-1):L=!0,ae(ce,me-Re))):(K.sortIndex=V,e(m,K),N||w||(N=!0,G||(G=!0,D()))),K},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(K){var le=E;return function(){var me=E;E=le;try{return K.apply(this,arguments)}finally{E=me}}}})(sp)),sp}var hb;function D2(){return hb||(hb=1,rp.exports=R2()),rp.exports}var fb;function O2(){if(fb)return fu;fb=1;var t=D2(),e=I2(),n=k2();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(o(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,c=s;;){var d=l.return;if(d===null)break;var y=d.alternate;if(y===null){if(c=d.return,c!==null){l=c;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===l)return m(d),i;if(y===c)return m(d),s;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=d,c=y;else{for(var _=!1,S=d.child;S;){if(S===l){_=!0,l=d,c=y;break}if(S===c){_=!0,c=d,l=y;break}S=S.sibling}if(!_){for(S=y.child;S;){if(S===l){_=!0,l=y,c=d;break}if(S===c){_=!0,c=y,l=d;break}S=S.sibling}if(!_)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var x=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),q=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function D(i){return i===null||typeof i!="object"?null:(i=C&&i[C]||i["@@iterator"],typeof i=="function"?i:null)}var R=Symbol.for("react.client.reference");function ue(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===R?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case L:return"Fragment";case U:return"Profiler";case P:return"StrictMode";case ce:return"Suspense";case G:return"SuspenseList";case O:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case q:return i.displayName||"Context";case F:return(i._context.displayName||"Context")+".Consumer";case te:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return s=i.displayName||null,s!==null?s:ue(i.type)||"Memo";case k:s=i._payload,i=i._init;try{return ue(i(s))}catch{}}return null}var ae=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Re=[],V=-1;function We(i){return{current:i}}function Le(i){0>V||(i.current=Re[V],Re[V]=null,V--)}function j(i,s){V++,Re[V]=i.current,i.current=s}var Ie=We(null),tt=We(null),Xe=We(null),vt=We(null);function At(i,s){switch(j(Xe,s),j(tt,i),j(Ie,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Ox(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Ox(s),i=jx(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Le(Ie),j(Ie,i)}function _t(){Le(Ie),Le(tt),Le(Xe)}function Qn(i){i.memoizedState!==null&&j(vt,i);var s=Ie.current,l=jx(s,i.type);s!==l&&(j(tt,i),j(Ie,l))}function di(i){tt.current===i&&(Le(Ie),Le(tt)),vt.current===i&&(Le(vt),ou._currentValue=me)}var Hr,Gr;function Xn(i){if(Hr===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Hr=s&&s[1]||"",Gr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hr+i+Gr}var $r=!1;function Ii(i,s){if(!i||$r)return"";$r=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(J){var X=J}Reflect.construct(i,[],re)}else{try{re.call()}catch(J){X=J}i.call(re.prototype)}}else{try{throw Error()}catch(J){X=J}(re=i())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(J){if(J&&X&&typeof J.stack=="string")return[J.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),_=y[0],S=y[1];if(_&&S){var z=_.split(`
`),Q=S.split(`
`);for(d=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;d<Q.length&&!Q[d].includes("DetermineComponentFrameRoot");)d++;if(c===z.length||d===Q.length)for(c=z.length-1,d=Q.length-1;1<=c&&0<=d&&z[c]!==Q[d];)d--;for(;1<=c&&0<=d;c--,d--)if(z[c]!==Q[d]){if(c!==1||d!==1)do if(c--,d--,0>d||z[c]!==Q[d]){var Z=`
`+z[c].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=c&&0<=d);break}}}finally{$r=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Xn(l):""}function Yr(i,s){switch(i.tag){case 26:case 27:case 5:return Xn(i.type);case 16:return Xn("Lazy");case 13:return i.child!==s&&s!==null?Xn("Suspense Fallback"):Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return Ii(i.type,!1);case 11:return Ii(i.type.render,!1);case 1:return Ii(i.type,!0);case 31:return Xn("Activity");default:return""}}function Xs(i){try{var s="",l=null;do s+=Yr(i,l),l=i,i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Et=Object.prototype.hasOwnProperty,Ct=t.unstable_scheduleCallback,ki=t.unstable_cancelCallback,ho=t.unstable_shouldYield,qa=t.unstable_requestPaint,nn=t.unstable_now,ur=t.unstable_getCurrentPriorityLevel,ne=t.unstable_ImmediatePriority,fe=t.unstable_UserBlockingPriority,_e=t.unstable_NormalPriority,Pe=t.unstable_LowPriority,Je=t.unstable_IdlePriority,dn=t.log,Wn=t.unstable_setDisableYieldValue,kt=null,wt=null;function Wt(i){if(typeof dn=="function"&&Wn(i),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(kt,i)}catch{}}var $e=Math.clz32?Math.clz32:fc,mi=Math.log,mn=Math.LN2;function fc(i){return i>>>=0,i===0?32:31-(mi(i)/mn|0)|0}var Ri=256,Ws=262144,Mt=4194304;function Di(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Oi(i,s,l){var c=i.pendingLanes;if(c===0)return 0;var d=0,y=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var S=c&134217727;return S!==0?(c=S&~y,c!==0?d=Di(c):(_&=S,_!==0?d=Di(_):l||(l=S&~i,l!==0&&(d=Di(l))))):(S=c&~y,S!==0?d=Di(S):_!==0?d=Di(_):l||(l=c&~i,l!==0&&(d=Di(l)))),d===0?0:s!==0&&s!==d&&(s&y)===0&&(y=d&-d,l=s&-s,y>=l||y===32&&(l&4194048)!==0)?s:d}function pi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function ld(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dc(){var i=Mt;return Mt<<=1,(Mt&62914560)===0&&(Mt=4194304),i}function ji(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Js(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function od(i,s,l,c,d,y){var _=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var S=i.entanglements,z=i.expirationTimes,Q=i.hiddenUpdates;for(l=_&~l;0<l;){var Z=31-$e(l),re=1<<Z;S[Z]=0,z[Z]=-1;var X=Q[Z];if(X!==null)for(Q[Z]=null,Z=0;Z<X.length;Z++){var J=X[Z];J!==null&&(J.lane&=-536870913)}l&=~re}c!==0&&Zs(i,c,0),y!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=y&~(_&~s))}function Zs(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-$e(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|l&261930}function fo(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var c=31-$e(l),d=1<<c;d&s|i[c]&s&&(i[c]|=s),l&=~d}}function mo(i,s){var l=s&-s;return l=(l&42)!==0?1:ea(l),(l&(i.suspendedLanes|s))!==0?0:l}function ea(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function cr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function mc(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:ib(i.type))}function gi(i,s){var l=le.p;try{return le.p=i,s()}finally{le.p=l}}var yi=Math.random().toString(36).slice(2),Pt="__reactFiber$"+yi,Jt="__reactProps$"+yi,Mi="__reactContainer$"+yi,Ha="__reactEvents$"+yi,ud="__reactListeners$"+yi,pc="__reactHandles$"+yi,gc="__reactResources$"+yi,Pi="__reactMarker$"+yi;function Ga(i){delete i[Pt],delete i[Jt],delete i[Ha],delete i[ud],delete i[pc]}function Li(i){var s=i[Pt];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Mi]||l[Pt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Bx(i);i!==null;){if(l=i[Pt])return l;i=Bx(i)}return s}i=l,l=i.parentNode}return null}function Jn(i){if(i=i[Pt]||i[Mi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Pn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Vi(i){var s=i[gc];return s||(s=i[gc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Lt(i){i[Pi]=!0}var po=new Set,go={};function zi(i,s){Ui(i,s),Ui(i+"Capture",s)}function Ui(i,s){for(go[i]=s,i=0;i<s.length;i++)po.add(s[i])}var yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},xo={};function yc(i){return Et.call(xo,i)?!0:Et.call(vo,i)?!1:yo.test(i)?xo[i]=!0:(vo[i]=!0,!1)}function $a(i,s,l){if(yc(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Ln(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function Vt(i,s,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+c)}}function Zt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Kr(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function bo(i,s,l){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,y=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(_){l=""+_,y.call(this,_)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function st(i){if(!i._valueTracker){var s=Kr(i)?"checked":"value";i._valueTracker=bo(i,s,""+i[s])}}function ta(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return i&&(c=Kr(i)?i.checked?"true":"false":i.value),i=c,i!==l?(s.setValue(i),!0):!1}function Bi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var na=/[\n"\\]/g;function Sn(i){return i.replace(na,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ya(i,s,l,c,d,y,_,S){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),s!=null?_==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Zt(s)):i.value!==""+Zt(s)&&(i.value=""+Zt(s)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),s!=null?_o(i,_,Zt(s)):l!=null?_o(i,_,Zt(l)):c!=null&&i.removeAttribute("value"),d==null&&y!=null&&(i.defaultChecked=!!y),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Zt(S):i.removeAttribute("name")}function vc(i,s,l,c,d,y,_,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){st(i);return}l=l!=null?""+Zt(l):"",s=s!=null?""+Zt(s):l,S||s===i.value||(i.value=s),i.defaultValue=s}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=S?i.checked:!!c,i.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),st(i)}function _o(i,s,l){s==="number"&&Bi(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Qr(i,s,l,c){if(i=i.options,s){s={};for(var d=0;d<l.length;d++)s["$"+l[d]]=!0;for(l=0;l<i.length;l++)d=s.hasOwnProperty("$"+i[l].value),i[l].selected!==d&&(i[l].selected=d),d&&c&&(i[l].defaultSelected=!0)}else{for(l=""+Zt(l),s=null,d=0;d<i.length;d++){if(i[d].value===l){i[d].selected=!0,c&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function xc(i,s,l){if(s!=null&&(s=""+Zt(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+Zt(l):""}function Xr(i,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(r(92));if(ae(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=Zt(s),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c),st(i)}function An(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var bc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(i,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,l):typeof l!="number"||l===0||bc.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function wo(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var d in s)c=s[d],s.hasOwnProperty(d)&&l[d]!==c&&Eo(i,d,c)}else for(var y in s)s.hasOwnProperty(y)&&Eo(i,y,s[y])}function Ka(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qa(i){return Wr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function vi(){}var To=null;function Zn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Jr=null,Fi=null;function ia(i){var s=Jn(i);if(s&&(i=s.stateNode)){var l=i[Jt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Ya(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Sn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==i&&c.form===i.form){var d=c[Jt]||null;if(!d)throw Error(r(90));Ya(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===i.form&&ta(c)}break e;case"textarea":xc(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Qr(i,!!l.multiple,s,!1)}}}var Xa=!1;function Zr(i,s,l){if(Xa)return i(s,l);Xa=!0;try{var c=i(s);return c}finally{if(Xa=!1,(Jr!==null||Fi!==null)&&(mh(),Jr&&(s=Jr,i=Fi,Fi=Jr=null,ia(s),i)))for(s=0;s<i.length;s++)ia(i[s])}}function xi(i,s){var l=i.stateNode;if(l===null)return null;var c=l[Jt]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ra=!1;if(ei)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){ra=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{ra=!1}var qi=null,So=null,sa=null;function Ao(){if(sa)return sa;var i,s=So,l=s.length,c,d="value"in qi?qi.value:qi.textContent,y=d.length;for(i=0;i<l&&s[i]===d[i];i++);var _=l-i;for(c=1;c<=_&&s[l-c]===d[y-c];c++);return sa=d.slice(i,1<c?1-c:void 0)}function aa(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function hr(){return!0}function bi(){return!1}function rn(i){function s(l,c,d,y,_){this._reactName=l,this._targetInst=d,this.type=c,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(l=i[S],this[S]=l?l(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?hr:bi,this.isPropagationStopped=bi,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),s}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=rn(fr),es=x({},fr,{view:0,detail:0}),Co=rn(es),ts,Wa,Gi,Ja=x({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ns,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Gi&&(Gi&&i.type==="mousemove"?(ts=i.screenX-Gi.screenX,Wa=i.screenY-Gi.screenY):Wa=ts=0,Gi=i),ts)},movementY:function(i){return"movementY"in i?i.movementY:Wa}}),No=rn(Ja),la=x({},Ja,{dataTransfer:0}),Ec=rn(la),wc=x({},es,{relatedTarget:0}),oa=rn(wc),Io=x({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),Tc=rn(Io),Za=x({},fr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Sc=rn(Za),Ac=x({},fr,{data:0}),$i=rn(Ac),Cc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Ic[i])?!!s[i]:!1}function ns(){return kc}var En=x({},es,{key:function(i){if(i.key){var s=Cc[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=aa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ns,charCode:function(i){return i.type==="keypress"?aa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?aa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rc=rn(En),Dc=x({},Ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dr=rn(Dc),f=x({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ns}),b=rn(f),T=x({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=rn(T),$=x({},Ja,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),W=rn($),de=x({},fr,{newState:0,oldState:0}),De=rn(de),Rt=[9,13,27,32],nt=ei&&"CompositionEvent"in window,xt=null;ei&&"documentMode"in document&&(xt=document.documentMode);var ti=ei&&"TextEvent"in window&&!xt,Yi=ei&&(!nt||xt&&8<xt&&11>=xt),_i=" ",Ei=!1;function ua(i,s){switch(i){case"keyup":return Rt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function el(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var tl=!1;function JS(i,s){switch(i){case"compositionend":return el(s);case"keypress":return s.which!==32?null:(Ei=!0,_i);case"textInput":return i=s.data,i===_i&&Ei?null:i;default:return null}}function ZS(i,s){if(tl)return i==="compositionend"||!nt&&ua(i,s)?(i=Ao(),sa=So=qi=null,tl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Yi&&s.locale!=="ko"?null:s.data;default:return null}}var eA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hy(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!eA[i.type]:s==="textarea"}function Gy(i,s,l,c){Jr?Fi?Fi.push(c):Fi=[c]:Jr=c,s=_h(s,"onChange"),0<s.length&&(l=new Hi("onChange","change",null,l,c),i.push({event:l,listeners:s}))}var ko=null,Ro=null;function tA(i){Cx(i,0)}function Oc(i){var s=Pn(i);if(ta(s))return i}function $y(i,s){if(i==="change")return s}var Yy=!1;if(ei){var cd;if(ei){var hd="oninput"in document;if(!hd){var Ky=document.createElement("div");Ky.setAttribute("oninput","return;"),hd=typeof Ky.oninput=="function"}cd=hd}else cd=!1;Yy=cd&&(!document.documentMode||9<document.documentMode)}function Qy(){ko&&(ko.detachEvent("onpropertychange",Xy),Ro=ko=null)}function Xy(i){if(i.propertyName==="value"&&Oc(Ro)){var s=[];Gy(s,Ro,i,Zn(i)),Zr(tA,s)}}function nA(i,s,l){i==="focusin"?(Qy(),ko=s,Ro=l,ko.attachEvent("onpropertychange",Xy)):i==="focusout"&&Qy()}function iA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Oc(Ro)}function rA(i,s){if(i==="click")return Oc(s)}function sA(i,s){if(i==="input"||i==="change")return Oc(s)}function aA(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Vn=typeof Object.is=="function"?Object.is:aA;function Do(i,s){if(Vn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var d=l[c];if(!Et.call(s,d)||!Vn(i[d],s[d]))return!1}return!0}function Wy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Jy(i,s){var l=Wy(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=s&&c>=s)return{node:l,offset:s-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Wy(l)}}function Zy(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Zy(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function e0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Bi(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Bi(i.document)}return s}function fd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var lA=ei&&"documentMode"in document&&11>=document.documentMode,nl=null,dd=null,Oo=null,md=!1;function t0(i,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;md||nl==null||nl!==Bi(c)||(c=nl,"selectionStart"in c&&fd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Oo&&Do(Oo,c)||(Oo=c,c=_h(dd,"onSelect"),0<c.length&&(s=new Hi("onSelect","select",null,s,l),i.push({event:s,listeners:c}),s.target=nl)))}function ca(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var il={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionrun:ca("Transition","TransitionRun"),transitionstart:ca("Transition","TransitionStart"),transitioncancel:ca("Transition","TransitionCancel"),transitionend:ca("Transition","TransitionEnd")},pd={},n0={};ei&&(n0=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function ha(i){if(pd[i])return pd[i];if(!il[i])return i;var s=il[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in n0)return pd[i]=s[l];return i}var i0=ha("animationend"),r0=ha("animationiteration"),s0=ha("animationstart"),oA=ha("transitionrun"),uA=ha("transitionstart"),cA=ha("transitioncancel"),a0=ha("transitionend"),l0=new Map,gd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gd.push("scrollEnd");function wi(i,s){l0.set(i,s),zi(s,[i])}var jc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ni=[],rl=0,yd=0;function Mc(){for(var i=rl,s=yd=rl=0;s<i;){var l=ni[s];ni[s++]=null;var c=ni[s];ni[s++]=null;var d=ni[s];ni[s++]=null;var y=ni[s];if(ni[s++]=null,c!==null&&d!==null){var _=c.pending;_===null?d.next=d:(d.next=_.next,_.next=d),c.pending=d}y!==0&&o0(l,d,y)}}function Pc(i,s,l,c){ni[rl++]=i,ni[rl++]=s,ni[rl++]=l,ni[rl++]=c,yd|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function vd(i,s,l,c){return Pc(i,s,l,c),Lc(i)}function fa(i,s){return Pc(i,null,null,s),Lc(i)}function o0(i,s,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var d=!1,y=i.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(d=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,d&&s!==null&&(d=31-$e(l),i=y.hiddenUpdates,c=i[d],c===null?i[d]=[s]:c.push(s),s.lane=l|536870912),y):null}function Lc(i){if(50<tu)throw tu=0,Cm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var sl={};function hA(i,s,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(i,s,l,c){return new hA(i,s,l,c)}function xd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function mr(i,s){var l=i.alternate;return l===null?(l=zn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function u0(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Vc(i,s,l,c,d,y){var _=0;if(c=i,typeof i=="function")xd(i)&&(_=1);else if(typeof i=="string")_=g2(i,l,Ie.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case O:return i=zn(31,l,s,d),i.elementType=O,i.lanes=y,i;case L:return da(l.children,d,y,s);case P:_=8,d|=24;break;case U:return i=zn(12,l,s,d|2),i.elementType=U,i.lanes=y,i;case ce:return i=zn(13,l,s,d),i.elementType=ce,i.lanes=y,i;case G:return i=zn(19,l,s,d),i.elementType=G,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case q:_=10;break e;case F:_=9;break e;case te:_=11;break e;case M:_=14;break e;case k:_=16,c=null;break e}_=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=zn(_,l,s,d),s.elementType=i,s.type=c,s.lanes=y,s}function da(i,s,l,c){return i=zn(7,i,c,s),i.lanes=l,i}function bd(i,s,l){return i=zn(6,i,null,s),i.lanes=l,i}function c0(i){var s=zn(18,null,null,0);return s.stateNode=i,s}function _d(i,s,l){return s=zn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var h0=new WeakMap;function ii(i,s){if(typeof i=="object"&&i!==null){var l=h0.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Xs(s)},h0.set(i,s),s)}return{value:i,source:s,stack:Xs(s)}}var al=[],ll=0,zc=null,jo=0,ri=[],si=0,is=null,Ki=1,Qi="";function pr(i,s){al[ll++]=jo,al[ll++]=zc,zc=i,jo=s}function f0(i,s,l){ri[si++]=Ki,ri[si++]=Qi,ri[si++]=is,is=i;var c=Ki;i=Qi;var d=32-$e(c)-1;c&=~(1<<d),l+=1;var y=32-$e(s)+d;if(30<y){var _=d-d%5;y=(c&(1<<_)-1).toString(32),c>>=_,d-=_,Ki=1<<32-$e(s)+d|l<<d|c,Qi=y+i}else Ki=1<<y|l<<d|c,Qi=i}function Ed(i){i.return!==null&&(pr(i,1),f0(i,1,0))}function wd(i){for(;i===zc;)zc=al[--ll],al[ll]=null,jo=al[--ll],al[ll]=null;for(;i===is;)is=ri[--si],ri[si]=null,Qi=ri[--si],ri[si]=null,Ki=ri[--si],ri[si]=null}function d0(i,s){ri[si++]=Ki,ri[si++]=Qi,ri[si++]=is,Ki=s.id,Qi=s.overflow,is=i}var sn=null,pt=null,Ye=!1,rs=null,ai=!1,Td=Error(r(519));function ss(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mo(ii(s,i)),Td}function m0(i){var s=i.stateNode,l=i.type,c=i.memoizedProps;switch(s[Pt]=i,s[Jt]=c,l){case"dialog":ze("cancel",s),ze("close",s);break;case"iframe":case"object":case"embed":ze("load",s);break;case"video":case"audio":for(l=0;l<iu.length;l++)ze(iu[l],s);break;case"source":ze("error",s);break;case"img":case"image":case"link":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"input":ze("invalid",s),vc(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ze("invalid",s);break;case"textarea":ze("invalid",s),Xr(s,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||Rx(s.textContent,l)?(c.popover!=null&&(ze("beforetoggle",s),ze("toggle",s)),c.onScroll!=null&&ze("scroll",s),c.onScrollEnd!=null&&ze("scrollend",s),c.onClick!=null&&(s.onclick=vi),s=!0):s=!1,s||ss(i,!0)}function p0(i){for(sn=i.return;sn;)switch(sn.tag){case 5:case 31:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:sn=sn.return}}function ol(i){if(i!==sn)return!1;if(!Ye)return p0(i),Ye=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Fm(i.type,i.memoizedProps)),l=!l),l&&pt&&ss(i),p0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));pt=Ux(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));pt=Ux(i)}else s===27?(s=pt,xs(i.type)?(i=Ym,Ym=null,pt=i):pt=s):pt=sn?oi(i.stateNode.nextSibling):null;return!0}function ma(){pt=sn=null,Ye=!1}function Sd(){var i=rs;return i!==null&&(kn===null?kn=i:kn.push.apply(kn,i),rs=null),i}function Mo(i){rs===null?rs=[i]:rs.push(i)}var Ad=We(null),pa=null,gr=null;function as(i,s,l){j(Ad,s._currentValue),s._currentValue=l}function yr(i){i._currentValue=Ad.current,Le(Ad)}function Cd(i,s,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===l)break;i=i.return}}function Nd(i,s,l,c){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var y=d.dependencies;if(y!==null){var _=d.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=d;for(var z=0;z<s.length;z++)if(S.context===s[z]){y.lanes|=l,S=y.alternate,S!==null&&(S.lanes|=l),Cd(y.return,l,i),c||(_=null);break e}y=S.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(r(341));_.lanes|=l,y=_.alternate,y!==null&&(y.lanes|=l),Cd(_,l,i),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===i){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function ul(i,s,l,c){i=null;for(var d=s,y=!1;d!==null;){if(!y){if((d.flags&524288)!==0)y=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var S=d.type;Vn(d.pendingProps.value,_.value)||(i!==null?i.push(S):i=[S])}}else if(d===vt.current){if(_=d.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(ou):i=[ou])}d=d.return}i!==null&&Nd(s,i,l,c),s.flags|=262144}function Uc(i){for(i=i.firstContext;i!==null;){if(!Vn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ga(i){pa=i,gr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function an(i){return g0(pa,i)}function Bc(i,s){return pa===null&&ga(i),g0(i,s)}function g0(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},gr===null){if(i===null)throw Error(r(308));gr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else gr=gr.next=s;return l}var fA=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},dA=t.unstable_scheduleCallback,mA=t.unstable_NormalPriority,zt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Id(){return{controller:new fA,data:new Map,refCount:0}}function Po(i){i.refCount--,i.refCount===0&&dA(mA,function(){i.controller.abort()})}var Lo=null,kd=0,cl=0,hl=null;function pA(i,s){if(Lo===null){var l=Lo=[];kd=0,cl=Om(),hl={status:"pending",value:void 0,then:function(c){l.push(c)}}}return kd++,s.then(y0,y0),s}function y0(){if(--kd===0&&Lo!==null){hl!==null&&(hl.status="fulfilled");var i=Lo;Lo=null,cl=0,hl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function gA(i,s){var l=[],c={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var d=0;d<l.length;d++)(0,l[d])(s)},function(d){for(c.status="rejected",c.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),c}var v0=K.S;K.S=function(i,s){tx=nn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&pA(i,s),v0!==null&&v0(i,s)};var ya=We(null);function Rd(){var i=ya.current;return i!==null?i:ft.pooledCache}function Fc(i,s){s===null?j(ya,ya.current):j(ya,s.pool)}function x0(){var i=Rd();return i===null?null:{parent:zt._currentValue,pool:i}}var fl=Error(r(460)),Dd=Error(r(474)),qc=Error(r(542)),Hc={then:function(){}};function b0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function _0(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(vi,vi),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,w0(i),i;default:if(typeof s.status=="string")s.then(vi,vi);else{if(i=ft,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=c}},function(c){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,w0(i),i}throw xa=s,fl}}function va(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(xa=l,fl):l}}var xa=null;function E0(){if(xa===null)throw Error(r(459));var i=xa;return xa=null,i}function w0(i){if(i===fl||i===qc)throw Error(r(483))}var dl=null,Vo=0;function Gc(i){var s=Vo;return Vo+=1,dl===null&&(dl=[]),_0(dl,i,s)}function zo(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function $c(i,s){throw s.$$typeof===E?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function T0(i){function s(H,B){if(i){var Y=H.deletions;Y===null?(H.deletions=[B],H.flags|=16):Y.push(B)}}function l(H,B){if(!i)return null;for(;B!==null;)s(H,B),B=B.sibling;return null}function c(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function d(H,B){return H=mr(H,B),H.index=0,H.sibling=null,H}function y(H,B,Y){return H.index=Y,i?(Y=H.alternate,Y!==null?(Y=Y.index,Y<B?(H.flags|=67108866,B):Y):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function _(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function S(H,B,Y,ie){return B===null||B.tag!==6?(B=bd(Y,H.mode,ie),B.return=H,B):(B=d(B,Y),B.return=H,B)}function z(H,B,Y,ie){var xe=Y.type;return xe===L?Z(H,B,Y.props.children,ie,Y.key):B!==null&&(B.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===k&&va(xe)===B.type)?(B=d(B,Y.props),zo(B,Y),B.return=H,B):(B=Vc(Y.type,Y.key,Y.props,null,H.mode,ie),zo(B,Y),B.return=H,B)}function Q(H,B,Y,ie){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=_d(Y,H.mode,ie),B.return=H,B):(B=d(B,Y.children||[]),B.return=H,B)}function Z(H,B,Y,ie,xe){return B===null||B.tag!==7?(B=da(Y,H.mode,ie,xe),B.return=H,B):(B=d(B,Y),B.return=H,B)}function re(H,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=bd(""+B,H.mode,Y),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return Y=Vc(B.type,B.key,B.props,null,H.mode,Y),zo(Y,B),Y.return=H,Y;case N:return B=_d(B,H.mode,Y),B.return=H,B;case k:return B=va(B),re(H,B,Y)}if(ae(B)||D(B))return B=da(B,H.mode,Y,null),B.return=H,B;if(typeof B.then=="function")return re(H,Gc(B),Y);if(B.$$typeof===q)return re(H,Bc(H,B),Y);$c(H,B)}return null}function X(H,B,Y,ie){var xe=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return xe!==null?null:S(H,B,""+Y,ie);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return Y.key===xe?z(H,B,Y,ie):null;case N:return Y.key===xe?Q(H,B,Y,ie):null;case k:return Y=va(Y),X(H,B,Y,ie)}if(ae(Y)||D(Y))return xe!==null?null:Z(H,B,Y,ie,null);if(typeof Y.then=="function")return X(H,B,Gc(Y),ie);if(Y.$$typeof===q)return X(H,B,Bc(H,Y),ie);$c(H,Y)}return null}function J(H,B,Y,ie,xe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return H=H.get(Y)||null,S(B,H,""+ie,xe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case w:return H=H.get(ie.key===null?Y:ie.key)||null,z(B,H,ie,xe);case N:return H=H.get(ie.key===null?Y:ie.key)||null,Q(B,H,ie,xe);case k:return ie=va(ie),J(H,B,Y,ie,xe)}if(ae(ie)||D(ie))return H=H.get(Y)||null,Z(B,H,ie,xe,null);if(typeof ie.then=="function")return J(H,B,Y,Gc(ie),xe);if(ie.$$typeof===q)return J(H,B,Y,Bc(B,ie),xe);$c(B,ie)}return null}function ge(H,B,Y,ie){for(var xe=null,Ze=null,ye=B,je=B=0,Fe=null;ye!==null&&je<Y.length;je++){ye.index>je?(Fe=ye,ye=null):Fe=ye.sibling;var et=X(H,ye,Y[je],ie);if(et===null){ye===null&&(ye=Fe);break}i&&ye&&et.alternate===null&&s(H,ye),B=y(et,B,je),Ze===null?xe=et:Ze.sibling=et,Ze=et,ye=Fe}if(je===Y.length)return l(H,ye),Ye&&pr(H,je),xe;if(ye===null){for(;je<Y.length;je++)ye=re(H,Y[je],ie),ye!==null&&(B=y(ye,B,je),Ze===null?xe=ye:Ze.sibling=ye,Ze=ye);return Ye&&pr(H,je),xe}for(ye=c(ye);je<Y.length;je++)Fe=J(ye,H,je,Y[je],ie),Fe!==null&&(i&&Fe.alternate!==null&&ye.delete(Fe.key===null?je:Fe.key),B=y(Fe,B,je),Ze===null?xe=Fe:Ze.sibling=Fe,Ze=Fe);return i&&ye.forEach(function(Ts){return s(H,Ts)}),Ye&&pr(H,je),xe}function Te(H,B,Y,ie){if(Y==null)throw Error(r(151));for(var xe=null,Ze=null,ye=B,je=B=0,Fe=null,et=Y.next();ye!==null&&!et.done;je++,et=Y.next()){ye.index>je?(Fe=ye,ye=null):Fe=ye.sibling;var Ts=X(H,ye,et.value,ie);if(Ts===null){ye===null&&(ye=Fe);break}i&&ye&&Ts.alternate===null&&s(H,ye),B=y(Ts,B,je),Ze===null?xe=Ts:Ze.sibling=Ts,Ze=Ts,ye=Fe}if(et.done)return l(H,ye),Ye&&pr(H,je),xe;if(ye===null){for(;!et.done;je++,et=Y.next())et=re(H,et.value,ie),et!==null&&(B=y(et,B,je),Ze===null?xe=et:Ze.sibling=et,Ze=et);return Ye&&pr(H,je),xe}for(ye=c(ye);!et.done;je++,et=Y.next())et=J(ye,H,je,et.value,ie),et!==null&&(i&&et.alternate!==null&&ye.delete(et.key===null?je:et.key),B=y(et,B,je),Ze===null?xe=et:Ze.sibling=et,Ze=et);return i&&ye.forEach(function(C2){return s(H,C2)}),Ye&&pr(H,je),xe}function ht(H,B,Y,ie){if(typeof Y=="object"&&Y!==null&&Y.type===L&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:e:{for(var xe=Y.key;B!==null;){if(B.key===xe){if(xe=Y.type,xe===L){if(B.tag===7){l(H,B.sibling),ie=d(B,Y.props.children),ie.return=H,H=ie;break e}}else if(B.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===k&&va(xe)===B.type){l(H,B.sibling),ie=d(B,Y.props),zo(ie,Y),ie.return=H,H=ie;break e}l(H,B);break}else s(H,B);B=B.sibling}Y.type===L?(ie=da(Y.props.children,H.mode,ie,Y.key),ie.return=H,H=ie):(ie=Vc(Y.type,Y.key,Y.props,null,H.mode,ie),zo(ie,Y),ie.return=H,H=ie)}return _(H);case N:e:{for(xe=Y.key;B!==null;){if(B.key===xe)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){l(H,B.sibling),ie=d(B,Y.children||[]),ie.return=H,H=ie;break e}else{l(H,B);break}else s(H,B);B=B.sibling}ie=_d(Y,H.mode,ie),ie.return=H,H=ie}return _(H);case k:return Y=va(Y),ht(H,B,Y,ie)}if(ae(Y))return ge(H,B,Y,ie);if(D(Y)){if(xe=D(Y),typeof xe!="function")throw Error(r(150));return Y=xe.call(Y),Te(H,B,Y,ie)}if(typeof Y.then=="function")return ht(H,B,Gc(Y),ie);if(Y.$$typeof===q)return ht(H,B,Bc(H,Y),ie);$c(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,B!==null&&B.tag===6?(l(H,B.sibling),ie=d(B,Y),ie.return=H,H=ie):(l(H,B),ie=bd(Y,H.mode,ie),ie.return=H,H=ie),_(H)):l(H,B)}return function(H,B,Y,ie){try{Vo=0;var xe=ht(H,B,Y,ie);return dl=null,xe}catch(ye){if(ye===fl||ye===qc)throw ye;var Ze=zn(29,ye,null,H.mode);return Ze.lanes=ie,Ze.return=H,Ze}finally{}}}var ba=T0(!0),S0=T0(!1),ls=!1;function Od(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jd(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function os(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function us(i,s,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(it&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,s=Lc(i),o0(i,null,l),s}return Pc(i,c,s,l),Lc(i)}function Uo(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,fo(i,l)}}function Md(i,s){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var d=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?d=y=_:y=y.next=_,l=l.next}while(l!==null);y===null?d=y=s:y=y.next=s}else d=y=s;l={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var Pd=!1;function Bo(){if(Pd){var i=hl;if(i!==null)throw i}}function Fo(i,s,l,c){Pd=!1;var d=i.updateQueue;ls=!1;var y=d.firstBaseUpdate,_=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var z=S,Q=z.next;z.next=null,_===null?y=Q:_.next=Q,_=z;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==_&&(S===null?Z.firstBaseUpdate=Q:S.next=Q,Z.lastBaseUpdate=z))}if(y!==null){var re=d.baseState;_=0,Z=Q=z=null,S=y;do{var X=S.lane&-536870913,J=X!==S.lane;if(J?(Be&X)===X:(c&X)===X){X!==0&&X===cl&&(Pd=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ge=i,Te=S;X=s;var ht=l;switch(Te.tag){case 1:if(ge=Te.payload,typeof ge=="function"){re=ge.call(ht,re,X);break e}re=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Te.payload,X=typeof ge=="function"?ge.call(ht,re,X):ge,X==null)break e;re=x({},re,X);break e;case 2:ls=!0}}X=S.callback,X!==null&&(i.flags|=64,J&&(i.flags|=8192),J=d.callbacks,J===null?d.callbacks=[X]:J.push(X))}else J={lane:X,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(Q=Z=J,z=re):Z=Z.next=J,_|=X;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;J=S,S=J.next,J.next=null,d.lastBaseUpdate=J,d.shared.pending=null}}while(!0);Z===null&&(z=re),d.baseState=z,d.firstBaseUpdate=Q,d.lastBaseUpdate=Z,y===null&&(d.shared.lanes=0),ms|=_,i.lanes=_,i.memoizedState=re}}function A0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function C0(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)A0(l[i],s)}var ml=We(null),Yc=We(0);function N0(i,s){i=Ar,j(Yc,i),j(ml,s),Ar=i|s.baseLanes}function Ld(){j(Yc,Ar),j(ml,ml.current)}function Vd(){Ar=Yc.current,Le(ml),Le(Yc)}var Un=We(null),li=null;function cs(i){var s=i.alternate;j(Dt,Dt.current&1),j(Un,i),li===null&&(s===null||ml.current!==null||s.memoizedState!==null)&&(li=i)}function zd(i){j(Dt,Dt.current),j(Un,i),li===null&&(li=i)}function I0(i){i.tag===22?(j(Dt,Dt.current),j(Un,i),li===null&&(li=i)):hs()}function hs(){j(Dt,Dt.current),j(Un,Un.current)}function Bn(i){Le(Un),li===i&&(li=null),Le(Dt)}var Dt=We(0);function Kc(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Gm(l)||$m(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var vr=0,Oe=null,ut=null,Ut=null,Qc=!1,pl=!1,_a=!1,Xc=0,qo=0,gl=null,yA=0;function Nt(){throw Error(r(321))}function Ud(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Vn(i[l],s[l]))return!1;return!0}function Bd(i,s,l,c,d,y){return vr=y,Oe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=i===null||i.memoizedState===null?fv:nm,_a=!1,y=l(c,d),_a=!1,pl&&(y=R0(s,l,c,d)),k0(i),y}function k0(i){K.H=$o;var s=ut!==null&&ut.next!==null;if(vr=0,Ut=ut=Oe=null,Qc=!1,qo=0,gl=null,s)throw Error(r(300));i===null||Bt||(i=i.dependencies,i!==null&&Uc(i)&&(Bt=!0))}function R0(i,s,l,c){Oe=i;var d=0;do{if(pl&&(gl=null),qo=0,pl=!1,25<=d)throw Error(r(301));if(d+=1,Ut=ut=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}K.H=dv,y=s(l,c)}while(pl);return y}function vA(){var i=K.H,s=i.useState()[0];return s=typeof s.then=="function"?Ho(s):s,i=i.useState()[0],(ut!==null?ut.memoizedState:null)!==i&&(Oe.flags|=1024),s}function Fd(){var i=Xc!==0;return Xc=0,i}function qd(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function Hd(i){if(Qc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Qc=!1}vr=0,Ut=ut=Oe=null,pl=!1,qo=Xc=0,gl=null}function wn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Oe.memoizedState=Ut=i:Ut=Ut.next=i,Ut}function Ot(){if(ut===null){var i=Oe.alternate;i=i!==null?i.memoizedState:null}else i=ut.next;var s=Ut===null?Oe.memoizedState:Ut.next;if(s!==null)Ut=s,ut=i;else{if(i===null)throw Oe.alternate===null?Error(r(467)):Error(r(310));ut=i,i={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Ut===null?Oe.memoizedState=Ut=i:Ut=Ut.next=i}return Ut}function Wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(i){var s=qo;return qo+=1,gl===null&&(gl=[]),i=_0(gl,i,s),s=Oe,(Ut===null?s.memoizedState:Ut.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?fv:nm),i}function Jc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ho(i);if(i.$$typeof===q)return an(i)}throw Error(r(438,String(i)))}function Gd(i){var s=null,l=Oe.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Oe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Wc(),Oe.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),c=0;c<i;c++)l[c]=A;return s.index++,l}function xr(i,s){return typeof s=="function"?s(i):s}function Zc(i){var s=Ot();return $d(s,ut,i)}function $d(i,s,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var d=i.baseQueue,y=c.pending;if(y!==null){if(d!==null){var _=d.next;d.next=y.next,y.next=_}s.baseQueue=d=y,c.pending=null}if(y=i.baseState,d===null)i.memoizedState=y;else{s=d.next;var S=_=null,z=null,Q=s,Z=!1;do{var re=Q.lane&-536870913;if(re!==Q.lane?(Be&re)===re:(vr&re)===re){var X=Q.revertLane;if(X===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),re===cl&&(Z=!0);else if((vr&X)===X){Q=Q.next,X===cl&&(Z=!0);continue}else re={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},z===null?(S=z=re,_=y):z=z.next=re,Oe.lanes|=X,ms|=X;re=Q.action,_a&&l(y,re),y=Q.hasEagerState?Q.eagerState:l(y,re)}else X={lane:re,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},z===null?(S=z=X,_=y):z=z.next=X,Oe.lanes|=re,ms|=re;Q=Q.next}while(Q!==null&&Q!==s);if(z===null?_=y:z.next=S,!Vn(y,i.memoizedState)&&(Bt=!0,Z&&(l=hl,l!==null)))throw l;i.memoizedState=y,i.baseState=_,i.baseQueue=z,c.lastRenderedState=y}return d===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Yd(i){var s=Ot(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,d=l.pending,y=s.memoizedState;if(d!==null){l.pending=null;var _=d=d.next;do y=i(y,_.action),_=_.next;while(_!==d);Vn(y,s.memoizedState)||(Bt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,c]}function D0(i,s,l){var c=Oe,d=Ot(),y=Ye;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=s();var _=!Vn((ut||d).memoizedState,l);if(_&&(d.memoizedState=l,Bt=!0),d=d.queue,Xd(M0.bind(null,c,d,i),[i]),d.getSnapshot!==s||_||Ut!==null&&Ut.memoizedState.tag&1){if(c.flags|=2048,yl(9,{destroy:void 0},j0.bind(null,c,d,l,s),null),ft===null)throw Error(r(349));y||(vr&127)!==0||O0(c,s,l)}return l}function O0(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Oe.updateQueue,s===null?(s=Wc(),Oe.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function j0(i,s,l,c){s.value=l,s.getSnapshot=c,P0(s)&&L0(i)}function M0(i,s,l){return l(function(){P0(s)&&L0(i)})}function P0(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Vn(i,l)}catch{return!0}}function L0(i){var s=fa(i,2);s!==null&&Rn(s,i,2)}function Kd(i){var s=wn();if(typeof i=="function"){var l=i;if(i=l(),_a){Wt(!0);try{l()}finally{Wt(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:i},s}function V0(i,s,l,c){return i.baseState=l,$d(i,ut,typeof c=="function"?c:xr)}function xA(i,s,l,c,d){if(nh(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};K.T!==null?l(!0):y.isTransition=!1,c(y),l=s.pending,l===null?(y.next=s.pending=y,z0(s,y)):(y.next=l.next,s.pending=l.next=y)}}function z0(i,s){var l=s.action,c=s.payload,d=i.state;if(s.isTransition){var y=K.T,_={};K.T=_;try{var S=l(d,c),z=K.S;z!==null&&z(_,S),U0(i,s,S)}catch(Q){Qd(i,s,Q)}finally{y!==null&&_.types!==null&&(y.types=_.types),K.T=y}}else try{y=l(d,c),U0(i,s,y)}catch(Q){Qd(i,s,Q)}}function U0(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){B0(i,s,c)},function(c){return Qd(i,s,c)}):B0(i,s,l)}function B0(i,s,l){s.status="fulfilled",s.value=l,F0(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,z0(i,l)))}function Qd(i,s,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,F0(s),s=s.next;while(s!==c)}i.action=null}function F0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function q0(i,s){return s}function H0(i,s){if(Ye){var l=ft.formState;if(l!==null){e:{var c=Oe;if(Ye){if(pt){t:{for(var d=pt,y=ai;d.nodeType!==8;){if(!y){d=null;break t}if(d=oi(d.nextSibling),d===null){d=null;break t}}y=d.data,d=y==="F!"||y==="F"?d:null}if(d){pt=oi(d.nextSibling),c=d.data==="F!";break e}}ss(c)}c=!1}c&&(s=l[0])}}return l=wn(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:q0,lastRenderedState:s},l.queue=c,l=uv.bind(null,Oe,c),c.dispatch=l,c=Kd(!1),y=tm.bind(null,Oe,!1,c.queue),c=wn(),d={state:s,dispatch:null,action:i,pending:null},c.queue=d,l=xA.bind(null,Oe,d,y,l),d.dispatch=l,c.memoizedState=i,[s,l,!1]}function G0(i){var s=Ot();return $0(s,ut,i)}function $0(i,s,l){if(s=$d(i,s,q0)[0],i=Zc(xr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Ho(s)}catch(_){throw _===fl?qc:_}else c=s;s=Ot();var d=s.queue,y=d.dispatch;return l!==s.memoizedState&&(Oe.flags|=2048,yl(9,{destroy:void 0},bA.bind(null,d,l),null)),[c,y,i]}function bA(i,s){i.action=s}function Y0(i){var s=Ot(),l=ut;if(l!==null)return $0(s,l,i);Ot(),s=s.memoizedState,l=Ot();var c=l.queue.dispatch;return l.memoizedState=i,[s,c,!1]}function yl(i,s,l,c){return i={tag:i,create:l,deps:c,inst:s,next:null},s=Oe.updateQueue,s===null&&(s=Wc(),Oe.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,s.lastEffect=i),i}function K0(){return Ot().memoizedState}function eh(i,s,l,c){var d=wn();Oe.flags|=i,d.memoizedState=yl(1|s,{destroy:void 0},l,c===void 0?null:c)}function th(i,s,l,c){var d=Ot();c=c===void 0?null:c;var y=d.memoizedState.inst;ut!==null&&c!==null&&Ud(c,ut.memoizedState.deps)?d.memoizedState=yl(s,y,l,c):(Oe.flags|=i,d.memoizedState=yl(1|s,y,l,c))}function Q0(i,s){eh(8390656,8,i,s)}function Xd(i,s){th(2048,8,i,s)}function _A(i){Oe.flags|=4;var s=Oe.updateQueue;if(s===null)s=Wc(),Oe.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function X0(i){var s=Ot().memoizedState;return _A({ref:s,nextImpl:i}),function(){if((it&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function W0(i,s){return th(4,2,i,s)}function J0(i,s){return th(4,4,i,s)}function Z0(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function ev(i,s,l){l=l!=null?l.concat([i]):null,th(4,4,Z0.bind(null,s,i),l)}function Wd(){}function tv(i,s){var l=Ot();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&Ud(s,c[1])?c[0]:(l.memoizedState=[i,s],i)}function nv(i,s){var l=Ot();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&Ud(s,c[1]))return c[0];if(c=i(),_a){Wt(!0);try{i()}finally{Wt(!1)}}return l.memoizedState=[c,s],c}function Jd(i,s,l){return l===void 0||(vr&1073741824)!==0&&(Be&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=ix(),Oe.lanes|=i,ms|=i,l)}function iv(i,s,l,c){return Vn(l,s)?l:ml.current!==null?(i=Jd(i,l,c),Vn(i,s)||(Bt=!0),i):(vr&42)===0||(vr&1073741824)!==0&&(Be&261930)===0?(Bt=!0,i.memoizedState=l):(i=ix(),Oe.lanes|=i,ms|=i,s)}function rv(i,s,l,c,d){var y=le.p;le.p=y!==0&&8>y?y:8;var _=K.T,S={};K.T=S,tm(i,!1,s,l);try{var z=d(),Q=K.S;if(Q!==null&&Q(S,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var Z=gA(z,c);Go(i,s,Z,Hn(i))}else Go(i,s,c,Hn(i))}catch(re){Go(i,s,{then:function(){},status:"rejected",reason:re},Hn())}finally{le.p=y,_!==null&&S.types!==null&&(_.types=S.types),K.T=_}}function EA(){}function Zd(i,s,l,c){if(i.tag!==5)throw Error(r(476));var d=sv(i).queue;rv(i,d,s,me,l===null?EA:function(){return av(i),l(c)})}function sv(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:me},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function av(i){var s=sv(i);s.next===null&&(s=i.alternate.memoizedState),Go(i,s.next.queue,{},Hn())}function em(){return an(ou)}function lv(){return Ot().memoizedState}function ov(){return Ot().memoizedState}function wA(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=Hn();i=os(l);var c=us(s,i,l);c!==null&&(Rn(c,s,l),Uo(c,s,l)),s={cache:Id()},i.payload=s;return}s=s.return}}function TA(i,s,l){var c=Hn();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},nh(i)?cv(s,l):(l=vd(i,s,l,c),l!==null&&(Rn(l,i,c),hv(l,s,c)))}function uv(i,s,l){var c=Hn();Go(i,s,l,c)}function Go(i,s,l,c){var d={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(nh(i))cv(s,d);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var _=s.lastRenderedState,S=y(_,l);if(d.hasEagerState=!0,d.eagerState=S,Vn(S,_))return Pc(i,s,d,0),ft===null&&Mc(),!1}catch{}finally{}if(l=vd(i,s,d,c),l!==null)return Rn(l,i,c),hv(l,s,c),!0}return!1}function tm(i,s,l,c){if(c={lane:2,revertLane:Om(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},nh(i)){if(s)throw Error(r(479))}else s=vd(i,l,c,2),s!==null&&Rn(s,i,2)}function nh(i){var s=i.alternate;return i===Oe||s!==null&&s===Oe}function cv(i,s){pl=Qc=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function hv(i,s,l){if((l&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,fo(i,l)}}var $o={readContext:an,use:Jc,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};$o.useEffectEvent=Nt;var fv={readContext:an,use:Jc,useCallback:function(i,s){return wn().memoizedState=[i,s===void 0?null:s],i},useContext:an,useEffect:Q0,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,eh(4194308,4,Z0.bind(null,s,i),l)},useLayoutEffect:function(i,s){return eh(4194308,4,i,s)},useInsertionEffect:function(i,s){eh(4,2,i,s)},useMemo:function(i,s){var l=wn();s=s===void 0?null:s;var c=i();if(_a){Wt(!0);try{i()}finally{Wt(!1)}}return l.memoizedState=[c,s],c},useReducer:function(i,s,l){var c=wn();if(l!==void 0){var d=l(s);if(_a){Wt(!0);try{l(s)}finally{Wt(!1)}}}else d=s;return c.memoizedState=c.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},c.queue=i,i=i.dispatch=TA.bind(null,Oe,i),[c.memoizedState,i]},useRef:function(i){var s=wn();return i={current:i},s.memoizedState=i},useState:function(i){i=Kd(i);var s=i.queue,l=uv.bind(null,Oe,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:Wd,useDeferredValue:function(i,s){var l=wn();return Jd(l,i,s)},useTransition:function(){var i=Kd(!1);return i=rv.bind(null,Oe,i.queue,!0,!1),wn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var c=Oe,d=wn();if(Ye){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),ft===null)throw Error(r(349));(Be&127)!==0||O0(c,s,l)}d.memoizedState=l;var y={value:l,getSnapshot:s};return d.queue=y,Q0(M0.bind(null,c,y,i),[i]),c.flags|=2048,yl(9,{destroy:void 0},j0.bind(null,c,y,l,s),null),l},useId:function(){var i=wn(),s=ft.identifierPrefix;if(Ye){var l=Qi,c=Ki;l=(c&~(1<<32-$e(c)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Xc++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=yA++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:em,useFormState:H0,useActionState:H0,useOptimistic:function(i){var s=wn();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=tm.bind(null,Oe,!0,l),l.dispatch=s,[i,s]},useMemoCache:Gd,useCacheRefresh:function(){return wn().memoizedState=wA.bind(null,Oe)},useEffectEvent:function(i){var s=wn(),l={impl:i};return s.memoizedState=l,function(){if((it&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},nm={readContext:an,use:Jc,useCallback:tv,useContext:an,useEffect:Xd,useImperativeHandle:ev,useInsertionEffect:W0,useLayoutEffect:J0,useMemo:nv,useReducer:Zc,useRef:K0,useState:function(){return Zc(xr)},useDebugValue:Wd,useDeferredValue:function(i,s){var l=Ot();return iv(l,ut.memoizedState,i,s)},useTransition:function(){var i=Zc(xr)[0],s=Ot().memoizedState;return[typeof i=="boolean"?i:Ho(i),s]},useSyncExternalStore:D0,useId:lv,useHostTransitionStatus:em,useFormState:G0,useActionState:G0,useOptimistic:function(i,s){var l=Ot();return V0(l,ut,i,s)},useMemoCache:Gd,useCacheRefresh:ov};nm.useEffectEvent=X0;var dv={readContext:an,use:Jc,useCallback:tv,useContext:an,useEffect:Xd,useImperativeHandle:ev,useInsertionEffect:W0,useLayoutEffect:J0,useMemo:nv,useReducer:Yd,useRef:K0,useState:function(){return Yd(xr)},useDebugValue:Wd,useDeferredValue:function(i,s){var l=Ot();return ut===null?Jd(l,i,s):iv(l,ut.memoizedState,i,s)},useTransition:function(){var i=Yd(xr)[0],s=Ot().memoizedState;return[typeof i=="boolean"?i:Ho(i),s]},useSyncExternalStore:D0,useId:lv,useHostTransitionStatus:em,useFormState:Y0,useActionState:Y0,useOptimistic:function(i,s){var l=Ot();return ut!==null?V0(l,ut,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Gd,useCacheRefresh:ov};dv.useEffectEvent=X0;function im(i,s,l,c){s=i.memoizedState,l=l(c,s),l=l==null?s:x({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var rm={enqueueSetState:function(i,s,l){i=i._reactInternals;var c=Hn(),d=os(c);d.payload=s,l!=null&&(d.callback=l),s=us(i,d,c),s!==null&&(Rn(s,i,c),Uo(s,i,c))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var c=Hn(),d=os(c);d.tag=1,d.payload=s,l!=null&&(d.callback=l),s=us(i,d,c),s!==null&&(Rn(s,i,c),Uo(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Hn(),c=os(l);c.tag=2,s!=null&&(c.callback=s),s=us(i,c,l),s!==null&&(Rn(s,i,l),Uo(s,i,l))}};function mv(i,s,l,c,d,y,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,y,_):s.prototype&&s.prototype.isPureReactComponent?!Do(l,c)||!Do(d,y):!0}function pv(i,s,l,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==i&&rm.enqueueReplaceState(s,s.state,null)}function Ea(i,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(i=i.defaultProps){l===s&&(l=x({},l));for(var d in i)l[d]===void 0&&(l[d]=i[d])}return l}function gv(i){jc(i)}function yv(i){console.error(i)}function vv(i){jc(i)}function ih(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function xv(i,s,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function sm(i,s,l){return l=os(l),l.tag=3,l.payload={element:null},l.callback=function(){ih(i,s)},l}function bv(i){return i=os(i),i.tag=3,i}function _v(i,s,l,c){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var y=c.value;i.payload=function(){return d(y)},i.callback=function(){xv(s,l,c)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){xv(s,l,c),typeof d!="function"&&(ps===null?ps=new Set([this]):ps.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function SA(i,s,l,c,d){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&ul(s,l,d,!0),l=Un.current,l!==null){switch(l.tag){case 31:case 13:return li===null?ph():l.alternate===null&&It===0&&(It=3),l.flags&=-257,l.flags|=65536,l.lanes=d,c===Hc?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),km(i,c,d)),!1;case 22:return l.flags|=65536,c===Hc?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),km(i,c,d)),!1}throw Error(r(435,l.tag))}return km(i,c,d),ph(),!1}if(Ye)return s=Un.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,c!==Td&&(i=Error(r(422),{cause:c}),Mo(ii(i,l)))):(c!==Td&&(s=Error(r(423),{cause:c}),Mo(ii(s,l))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,c=ii(c,l),d=sm(i.stateNode,c,d),Md(i,d),It!==4&&(It=2)),!1;var y=Error(r(520),{cause:c});if(y=ii(y,l),eu===null?eu=[y]:eu.push(y),It!==4&&(It=2),s===null)return!0;c=ii(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=d&-d,l.lanes|=i,i=sm(l.stateNode,c,i),Md(l,i),!1;case 1:if(s=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ps===null||!ps.has(y))))return l.flags|=65536,d&=-d,l.lanes|=d,d=bv(d),_v(d,i,l,c),Md(l,d),!1}l=l.return}while(l!==null);return!1}var am=Error(r(461)),Bt=!1;function ln(i,s,l,c){s.child=i===null?S0(s,null,l,c):ba(s,i.child,l,c)}function Ev(i,s,l,c,d){l=l.render;var y=s.ref;if("ref"in c){var _={};for(var S in c)S!=="ref"&&(_[S]=c[S])}else _=c;return ga(s),c=Bd(i,s,l,_,y,d),S=Fd(),i!==null&&!Bt?(qd(i,s,d),br(i,s,d)):(Ye&&S&&Ed(s),s.flags|=1,ln(i,s,c,d),s.child)}function wv(i,s,l,c,d){if(i===null){var y=l.type;return typeof y=="function"&&!xd(y)&&y.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=y,Tv(i,s,y,c,d)):(i=Vc(l.type,null,c,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!mm(i,d)){var _=y.memoizedProps;if(l=l.compare,l=l!==null?l:Do,l(_,c)&&i.ref===s.ref)return br(i,s,d)}return s.flags|=1,i=mr(y,c),i.ref=s.ref,i.return=s,s.child=i}function Tv(i,s,l,c,d){if(i!==null){var y=i.memoizedProps;if(Do(y,c)&&i.ref===s.ref)if(Bt=!1,s.pendingProps=c=y,mm(i,d))(i.flags&131072)!==0&&(Bt=!0);else return s.lanes=i.lanes,br(i,s,d)}return lm(i,s,l,c,d)}function Sv(i,s,l,c){var d=c.children,y=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,i!==null){for(c=s.child=i.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~y}else c=0,s.child=null;return Av(i,s,y,l,c)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Fc(s,y!==null?y.cachePool:null),y!==null?N0(s,y):Ld(),I0(s);else return c=s.lanes=536870912,Av(i,s,y!==null?y.baseLanes|l:l,l,c)}else y!==null?(Fc(s,y.cachePool),N0(s,y),hs(),s.memoizedState=null):(i!==null&&Fc(s,null),Ld(),hs());return ln(i,s,d,l),s.child}function Yo(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Av(i,s,l,c,d){var y=Rd();return y=y===null?null:{parent:zt._currentValue,pool:y},s.memoizedState={baseLanes:l,cachePool:y},i!==null&&Fc(s,null),Ld(),I0(s),i!==null&&ul(i,s,c,!0),s.childLanes=d,null}function rh(i,s){return s=ah({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Cv(i,s,l){return ba(s,i.child,null,l),i=rh(s,s.pendingProps),i.flags|=2,Bn(s),s.memoizedState=null,i}function AA(i,s,l){var c=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Ye){if(c.mode==="hidden")return i=rh(s,c),s.lanes=536870912,Yo(null,i);if(zd(s),(i=pt)?(i=zx(i,ai),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:is!==null?{id:Ki,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},l=c0(i),l.return=s,s.child=l,sn=s,pt=null)):i=null,i===null)throw ss(s);return s.lanes=536870912,null}return rh(s,c)}var y=i.memoizedState;if(y!==null){var _=y.dehydrated;if(zd(s),d)if(s.flags&256)s.flags&=-257,s=Cv(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Bt||ul(i,s,l,!1),d=(l&i.childLanes)!==0,Bt||d){if(c=ft,c!==null&&(_=mo(c,l),_!==0&&_!==y.retryLane))throw y.retryLane=_,fa(i,_),Rn(c,i,_),am;ph(),s=Cv(i,s,l)}else i=y.treeContext,pt=oi(_.nextSibling),sn=s,Ye=!0,rs=null,ai=!1,i!==null&&d0(s,i),s=rh(s,c),s.flags|=4096;return s}return i=mr(i.child,{mode:c.mode,children:c.children}),i.ref=s.ref,s.child=i,i.return=s,i}function sh(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function lm(i,s,l,c,d){return ga(s),l=Bd(i,s,l,c,void 0,d),c=Fd(),i!==null&&!Bt?(qd(i,s,d),br(i,s,d)):(Ye&&c&&Ed(s),s.flags|=1,ln(i,s,l,d),s.child)}function Nv(i,s,l,c,d,y){return ga(s),s.updateQueue=null,l=R0(s,c,l,d),k0(i),c=Fd(),i!==null&&!Bt?(qd(i,s,y),br(i,s,y)):(Ye&&c&&Ed(s),s.flags|=1,ln(i,s,l,y),s.child)}function Iv(i,s,l,c,d){if(ga(s),s.stateNode===null){var y=sl,_=l.contextType;typeof _=="object"&&_!==null&&(y=an(_)),y=new l(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=rm,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},Od(s),_=l.contextType,y.context=typeof _=="object"&&_!==null?an(_):sl,y.state=s.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(im(s,l,_,c),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&rm.enqueueReplaceState(y,y.state,null),Fo(s,c,y,d),Bo(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){y=s.stateNode;var S=s.memoizedProps,z=Ea(l,S);y.props=z;var Q=y.context,Z=l.contextType;_=sl,typeof Z=="object"&&Z!==null&&(_=an(Z));var re=l.getDerivedStateFromProps;Z=typeof re=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,Z||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||Q!==_)&&pv(s,y,c,_),ls=!1;var X=s.memoizedState;y.state=X,Fo(s,c,y,d),Bo(),Q=s.memoizedState,S||X!==Q||ls?(typeof re=="function"&&(im(s,l,re,c),Q=s.memoizedState),(z=ls||mv(s,l,z,c,X,Q,_))?(Z||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Q),y.props=c,y.state=Q,y.context=_,c=z):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,jd(i,s),_=s.memoizedProps,Z=Ea(l,_),y.props=Z,re=s.pendingProps,X=y.context,Q=l.contextType,z=sl,typeof Q=="object"&&Q!==null&&(z=an(Q)),S=l.getDerivedStateFromProps,(Q=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==re||X!==z)&&pv(s,y,c,z),ls=!1,X=s.memoizedState,y.state=X,Fo(s,c,y,d),Bo();var J=s.memoizedState;_!==re||X!==J||ls||i!==null&&i.dependencies!==null&&Uc(i.dependencies)?(typeof S=="function"&&(im(s,l,S,c),J=s.memoizedState),(Z=ls||mv(s,l,Z,c,X,J,z)||i!==null&&i.dependencies!==null&&Uc(i.dependencies))?(Q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,J,z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,J,z)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=J),y.props=c,y.state=J,y.context=z,c=Z):(typeof y.componentDidUpdate!="function"||_===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),c=!1)}return y=c,sh(i,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&c?(s.child=ba(s,i.child,null,d),s.child=ba(s,null,l,d)):ln(i,s,l,d),s.memoizedState=y.state,i=s.child):i=br(i,s,d),i}function kv(i,s,l,c){return ma(),s.flags|=256,ln(i,s,l,c),s.child}var om={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function um(i){return{baseLanes:i,cachePool:x0()}}function cm(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=qn),i}function Rv(i,s,l){var c=s.pendingProps,d=!1,y=(s.flags&128)!==0,_;if((_=y)||(_=i!==null&&i.memoizedState===null?!1:(Dt.current&2)!==0),_&&(d=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ye){if(d?cs(s):hs(),(i=pt)?(i=zx(i,ai),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:is!==null?{id:Ki,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},l=c0(i),l.return=s,s.child=l,sn=s,pt=null)):i=null,i===null)throw ss(s);return $m(i)?s.lanes=32:s.lanes=536870912,null}var S=c.children;return c=c.fallback,d?(hs(),d=s.mode,S=ah({mode:"hidden",children:S},d),c=da(c,d,l,null),S.return=s,c.return=s,S.sibling=c,s.child=S,c=s.child,c.memoizedState=um(l),c.childLanes=cm(i,_,l),s.memoizedState=om,Yo(null,c)):(cs(s),hm(s,S))}var z=i.memoizedState;if(z!==null&&(S=z.dehydrated,S!==null)){if(y)s.flags&256?(cs(s),s.flags&=-257,s=fm(i,s,l)):s.memoizedState!==null?(hs(),s.child=i.child,s.flags|=128,s=null):(hs(),S=c.fallback,d=s.mode,c=ah({mode:"visible",children:c.children},d),S=da(S,d,l,null),S.flags|=2,c.return=s,S.return=s,c.sibling=S,s.child=c,ba(s,i.child,null,l),c=s.child,c.memoizedState=um(l),c.childLanes=cm(i,_,l),s.memoizedState=om,s=Yo(null,c));else if(cs(s),$m(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var Q=_.dgst;_=Q,c=Error(r(419)),c.stack="",c.digest=_,Mo({value:c,source:null,stack:null}),s=fm(i,s,l)}else if(Bt||ul(i,s,l,!1),_=(l&i.childLanes)!==0,Bt||_){if(_=ft,_!==null&&(c=mo(_,l),c!==0&&c!==z.retryLane))throw z.retryLane=c,fa(i,c),Rn(_,i,c),am;Gm(S)||ph(),s=fm(i,s,l)}else Gm(S)?(s.flags|=192,s.child=i.child,s=null):(i=z.treeContext,pt=oi(S.nextSibling),sn=s,Ye=!0,rs=null,ai=!1,i!==null&&d0(s,i),s=hm(s,c.children),s.flags|=4096);return s}return d?(hs(),S=c.fallback,d=s.mode,z=i.child,Q=z.sibling,c=mr(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,Q!==null?S=mr(Q,S):(S=da(S,d,l,null),S.flags|=2),S.return=s,c.return=s,c.sibling=S,s.child=c,Yo(null,c),c=s.child,S=i.child.memoizedState,S===null?S=um(l):(d=S.cachePool,d!==null?(z=zt._currentValue,d=d.parent!==z?{parent:z,pool:z}:d):d=x0(),S={baseLanes:S.baseLanes|l,cachePool:d}),c.memoizedState=S,c.childLanes=cm(i,_,l),s.memoizedState=om,Yo(i.child,c)):(cs(s),l=i.child,i=l.sibling,l=mr(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,i!==null&&(_=s.deletions,_===null?(s.deletions=[i],s.flags|=16):_.push(i)),s.child=l,s.memoizedState=null,l)}function hm(i,s){return s=ah({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function ah(i,s){return i=zn(22,i,null,s),i.lanes=0,i}function fm(i,s,l){return ba(s,i.child,null,l),i=hm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Dv(i,s,l){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),Cd(i.return,s,l)}function dm(i,s,l,c,d,y){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:d,treeForkCount:y}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=l,_.tailMode=d,_.treeForkCount=y)}function Ov(i,s,l){var c=s.pendingProps,d=c.revealOrder,y=c.tail;c=c.children;var _=Dt.current,S=(_&2)!==0;if(S?(_=_&1|2,s.flags|=128):_&=1,j(Dt,_),ln(i,s,c,l),c=Ye?jo:0,!S&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Dv(i,l,s);else if(i.tag===19)Dv(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(l=s.child,d=null;l!==null;)i=l.alternate,i!==null&&Kc(i)===null&&(d=l),l=l.sibling;l=d,l===null?(d=s.child,s.child=null):(d=l.sibling,l.sibling=null),dm(s,!1,d,l,y,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&Kc(i)===null){s.child=d;break}i=d.sibling,d.sibling=l,l=d,d=i}dm(s,!0,l,null,y,c);break;case"together":dm(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function br(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),ms|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(ul(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=mr(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=mr(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function mm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Uc(i)))}function CA(i,s,l){switch(s.tag){case 3:At(s,s.stateNode.containerInfo),as(s,zt,i.memoizedState.cache),ma();break;case 27:case 5:Qn(s);break;case 4:At(s,s.stateNode.containerInfo);break;case 10:as(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,zd(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(cs(s),s.flags|=128,null):(l&s.child.childLanes)!==0?Rv(i,s,l):(cs(s),i=br(i,s,l),i!==null?i.sibling:null);cs(s);break;case 19:var d=(i.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(ul(i,s,l,!1),c=(l&s.childLanes)!==0),d){if(c)return Ov(i,s,l);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),j(Dt,Dt.current),c)break;return null;case 22:return s.lanes=0,Sv(i,s,l,s.pendingProps);case 24:as(s,zt,i.memoizedState.cache)}return br(i,s,l)}function jv(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)Bt=!0;else{if(!mm(i,l)&&(s.flags&128)===0)return Bt=!1,CA(i,s,l);Bt=(i.flags&131072)!==0}else Bt=!1,Ye&&(s.flags&1048576)!==0&&f0(s,jo,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(i=va(s.elementType),s.type=i,typeof i=="function")xd(i)?(c=Ea(i,c),s.tag=1,s=Iv(null,s,i,c,l)):(s.tag=0,s=lm(null,s,i,c,l));else{if(i!=null){var d=i.$$typeof;if(d===te){s.tag=11,s=Ev(null,s,i,c,l);break e}else if(d===M){s.tag=14,s=wv(null,s,i,c,l);break e}}throw s=ue(i)||i,Error(r(306,s,""))}}return s;case 0:return lm(i,s,s.type,s.pendingProps,l);case 1:return c=s.type,d=Ea(c,s.pendingProps),Iv(i,s,c,d,l);case 3:e:{if(At(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var y=s.memoizedState;d=y.element,jd(i,s),Fo(s,c,null,l);var _=s.memoizedState;if(c=_.cache,as(s,zt,c),c!==y.cache&&Nd(s,[zt],l,!0),Bo(),c=_.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=kv(i,s,c,l);break e}else if(c!==d){d=ii(Error(r(424)),s),Mo(d),s=kv(i,s,c,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(pt=oi(i.firstChild),sn=s,Ye=!0,rs=null,ai=!0,l=S0(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ma(),c===d){s=br(i,s,l);break e}ln(i,s,c,l)}s=s.child}return s;case 26:return sh(i,s),i===null?(l=Gx(s.type,null,s.pendingProps,null))?s.memoizedState=l:Ye||(l=s.type,i=s.pendingProps,c=Eh(Xe.current).createElement(l),c[Pt]=s,c[Jt]=i,on(c,l,i),Lt(c),s.stateNode=c):s.memoizedState=Gx(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Qn(s),i===null&&Ye&&(c=s.stateNode=Fx(s.type,s.pendingProps,Xe.current),sn=s,ai=!0,d=pt,xs(s.type)?(Ym=d,pt=oi(c.firstChild)):pt=d),ln(i,s,s.pendingProps.children,l),sh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ye&&((d=c=pt)&&(c=i2(c,s.type,s.pendingProps,ai),c!==null?(s.stateNode=c,sn=s,pt=oi(c.firstChild),ai=!1,d=!0):d=!1),d||ss(s)),Qn(s),d=s.type,y=s.pendingProps,_=i!==null?i.memoizedProps:null,c=y.children,Fm(d,y)?c=null:_!==null&&Fm(d,_)&&(s.flags|=32),s.memoizedState!==null&&(d=Bd(i,s,vA,null,null,l),ou._currentValue=d),sh(i,s),ln(i,s,c,l),s.child;case 6:return i===null&&Ye&&((i=l=pt)&&(l=r2(l,s.pendingProps,ai),l!==null?(s.stateNode=l,sn=s,pt=null,i=!0):i=!1),i||ss(s)),null;case 13:return Rv(i,s,l);case 4:return At(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=ba(s,null,c,l):ln(i,s,c,l),s.child;case 11:return Ev(i,s,s.type,s.pendingProps,l);case 7:return ln(i,s,s.pendingProps,l),s.child;case 8:return ln(i,s,s.pendingProps.children,l),s.child;case 12:return ln(i,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,as(s,s.type,c.value),ln(i,s,c.children,l),s.child;case 9:return d=s.type._context,c=s.pendingProps.children,ga(s),d=an(d),c=c(d),s.flags|=1,ln(i,s,c,l),s.child;case 14:return wv(i,s,s.type,s.pendingProps,l);case 15:return Tv(i,s,s.type,s.pendingProps,l);case 19:return Ov(i,s,l);case 31:return AA(i,s,l);case 22:return Sv(i,s,l,s.pendingProps);case 24:return ga(s),c=an(zt),i===null?(d=Rd(),d===null&&(d=ft,y=Id(),d.pooledCache=y,y.refCount++,y!==null&&(d.pooledCacheLanes|=l),d=y),s.memoizedState={parent:c,cache:d},Od(s),as(s,zt,d)):((i.lanes&l)!==0&&(jd(i,s),Fo(s,null,null,l),Bo()),d=i.memoizedState,y=s.memoizedState,d.parent!==c?(d={parent:c,cache:c},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),as(s,zt,c)):(c=y.cache,as(s,zt,c),c!==d.cache&&Nd(s,[zt],l,!0))),ln(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function _r(i){i.flags|=4}function pm(i,s,l,c,d){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(lx())i.flags|=8192;else throw xa=Hc,Dd}else i.flags&=-16777217}function Mv(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Xx(s))if(lx())i.flags|=8192;else throw xa=Hc,Dd}function lh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?dc():536870912,i.lanes|=s,_l|=s)}function Ko(i,s){if(!Ye)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function gt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(s)for(var d=i.child;d!==null;)l|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)l|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=c,i.childLanes=l,s}function NA(i,s,l){var c=s.pendingProps;switch(wd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return l=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),yr(zt),_t(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(ol(s)?_r(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Sd())),gt(s),null;case 26:var d=s.type,y=s.memoizedState;return i===null?(_r(s),y!==null?(gt(s),Mv(s,y)):(gt(s),pm(s,d,null,c,l))):y?y!==i.memoizedState?(_r(s),gt(s),Mv(s,y)):(gt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==c&&_r(s),gt(s),pm(s,d,i,c,l)),null;case 27:if(di(s),l=Xe.current,d=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&_r(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return gt(s),null}i=Ie.current,ol(s)?m0(s):(i=Fx(d,c,l),s.stateNode=i,_r(s))}return gt(s),null;case 5:if(di(s),d=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&_r(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return gt(s),null}if(y=Ie.current,ol(s))m0(s);else{var _=Eh(Xe.current);switch(y){case 1:y=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:y=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":y=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":y=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":y=_.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof c.is=="string"?_.createElement("select",{is:c.is}):_.createElement("select"),c.multiple?y.multiple=!0:c.size&&(y.size=c.size);break;default:y=typeof c.is=="string"?_.createElement(d,{is:c.is}):_.createElement(d)}}y[Pt]=s,y[Jt]=c;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)y.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=y;e:switch(on(y,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&_r(s)}}return gt(s),pm(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&_r(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=Xe.current,ol(s)){if(i=s.stateNode,l=s.memoizedProps,c=null,d=sn,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}i[Pt]=s,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||Rx(i.nodeValue,l)),i||ss(s,!0)}else i=Eh(i).createTextNode(c),i[Pt]=s,s.stateNode=i}return gt(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(c=ol(s),l!==null){if(i===null){if(!c)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Pt]=s}else ma(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),i=!1}else l=Sd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(Bn(s),s):(Bn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return gt(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=ol(s),c!==null&&c.dehydrated!==null){if(i===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Pt]=s}else ma(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),d=!1}else d=Sd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Bn(s),s):(Bn(s),null)}return Bn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=c!==null,i=i!==null&&i.memoizedState!==null,l&&(c=s.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==d&&(c.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),lh(s,s.updateQueue),gt(s),null);case 4:return _t(),i===null&&Lm(s.stateNode.containerInfo),gt(s),null;case 10:return yr(s.type),gt(s),null;case 19:if(Le(Dt),c=s.memoizedState,c===null)return gt(s),null;if(d=(s.flags&128)!==0,y=c.rendering,y===null)if(d)Ko(c,!1);else{if(It!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=Kc(i),y!==null){for(s.flags|=128,Ko(c,!1),i=y.updateQueue,s.updateQueue=i,lh(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)u0(l,i),l=l.sibling;return j(Dt,Dt.current&1|2),Ye&&pr(s,c.treeForkCount),s.child}i=i.sibling}c.tail!==null&&nn()>fh&&(s.flags|=128,d=!0,Ko(c,!1),s.lanes=4194304)}else{if(!d)if(i=Kc(y),i!==null){if(s.flags|=128,d=!0,i=i.updateQueue,s.updateQueue=i,lh(s,i),Ko(c,!0),c.tail===null&&c.tailMode==="hidden"&&!y.alternate&&!Ye)return gt(s),null}else 2*nn()-c.renderingStartTime>fh&&l!==536870912&&(s.flags|=128,d=!0,Ko(c,!1),s.lanes=4194304);c.isBackwards?(y.sibling=s.child,s.child=y):(i=c.last,i!==null?i.sibling=y:s.child=y,c.last=y)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=nn(),i.sibling=null,l=Dt.current,j(Dt,d?l&1|2:l&1),Ye&&pr(s,c.treeForkCount),i):(gt(s),null);case 22:case 23:return Bn(s),Vd(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),l=s.updateQueue,l!==null&&lh(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),i!==null&&Le(ya),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),yr(zt),gt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function IA(i,s){switch(wd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return yr(zt),_t(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return di(s),null;case 31:if(s.memoizedState!==null){if(Bn(s),s.alternate===null)throw Error(r(340));ma()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Bn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ma()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Le(Dt),null;case 4:return _t(),null;case 10:return yr(s.type),null;case 22:case 23:return Bn(s),Vd(),i!==null&&Le(ya),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return yr(zt),null;case 25:return null;default:return null}}function Pv(i,s){switch(wd(s),s.tag){case 3:yr(zt),_t();break;case 26:case 27:case 5:di(s);break;case 4:_t();break;case 31:s.memoizedState!==null&&Bn(s);break;case 13:Bn(s);break;case 19:Le(Dt);break;case 10:yr(s.type);break;case 22:case 23:Bn(s),Vd(),i!==null&&Le(ya);break;case 24:yr(zt)}}function Qo(i,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&i)===i){c=void 0;var y=l.create,_=l.inst;c=y(),_.destroy=c}l=l.next}while(l!==d)}}catch(S){lt(s,s.return,S)}}function fs(i,s,l){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var y=d.next;c=y;do{if((c.tag&i)===i){var _=c.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,d=s;var z=l,Q=S;try{Q()}catch(Z){lt(d,z,Z)}}}c=c.next}while(c!==y)}}catch(Z){lt(s,s.return,Z)}}function Lv(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{C0(s,l)}catch(c){lt(i,i.return,c)}}}function Vv(i,s,l){l.props=Ea(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){lt(i,s,c)}}function Xo(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(d){lt(i,s,d)}}function Xi(i,s){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(d){lt(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){lt(i,s,d)}else l.current=null}function zv(i){var s=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(d){lt(i,i.return,d)}}function gm(i,s,l){try{var c=i.stateNode;WA(c,i.type,l,s),c[Jt]=s}catch(d){lt(i,i.return,d)}}function Uv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&xs(i.type)||i.tag===4}function ym(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Uv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&xs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function vm(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=vi));else if(c!==4&&(c===27&&xs(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(vm(i,s,l),i=i.sibling;i!==null;)vm(i,s,l),i=i.sibling}function oh(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(c!==4&&(c===27&&xs(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(oh(i,s,l),i=i.sibling;i!==null;)oh(i,s,l),i=i.sibling}function Bv(i){var s=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);on(s,c,l),s[Pt]=i,s[Jt]=l}catch(y){lt(i,i.return,y)}}var Er=!1,Ft=!1,xm=!1,Fv=typeof WeakSet=="function"?WeakSet:Set,en=null;function kA(i,s){if(i=i.containerInfo,Um=Ih,i=e0(i),fd(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var d=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var _=0,S=-1,z=-1,Q=0,Z=0,re=i,X=null;t:for(;;){for(var J;re!==l||d!==0&&re.nodeType!==3||(S=_+d),re!==y||c!==0&&re.nodeType!==3||(z=_+c),re.nodeType===3&&(_+=re.nodeValue.length),(J=re.firstChild)!==null;)X=re,re=J;for(;;){if(re===i)break t;if(X===l&&++Q===d&&(S=_),X===y&&++Z===c&&(z=_),(J=re.nextSibling)!==null)break;re=X,X=re.parentNode}re=J}l=S===-1||z===-1?null:{start:S,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(Bm={focusedElem:i,selectionRange:l},Ih=!1,en=s;en!==null;)if(s=en,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,en=i;else for(;en!==null;){switch(s=en,y=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)d=i[l],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=s,d=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var ge=Ea(l.type,d);i=c.getSnapshotBeforeUpdate(ge,y),c.__reactInternalSnapshotBeforeUpdate=i}catch(Te){lt(l,l.return,Te)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)Hm(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Hm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,en=i;break}en=s.return}}function qv(i,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Tr(i,l),c&4&&Qo(5,l);break;case 1:if(Tr(i,l),c&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(_){lt(l,l.return,_)}else{var d=Ea(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(_){lt(l,l.return,_)}}c&64&&Lv(l),c&512&&Xo(l,l.return);break;case 3:if(Tr(i,l),c&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{C0(i,s)}catch(_){lt(l,l.return,_)}}break;case 27:s===null&&c&4&&Bv(l);case 26:case 5:Tr(i,l),s===null&&c&4&&zv(l),c&512&&Xo(l,l.return);break;case 12:Tr(i,l);break;case 31:Tr(i,l),c&4&&$v(i,l);break;case 13:Tr(i,l),c&4&&Yv(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=zA.bind(null,l),s2(i,l))));break;case 22:if(c=l.memoizedState!==null||Er,!c){s=s!==null&&s.memoizedState!==null||Ft,d=Er;var y=Ft;Er=c,(Ft=s)&&!y?Sr(i,l,(l.subtreeFlags&8772)!==0):Tr(i,l),Er=d,Ft=y}break;case 30:break;default:Tr(i,l)}}function Hv(i){var s=i.alternate;s!==null&&(i.alternate=null,Hv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ga(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var bt=null,Cn=!1;function wr(i,s,l){for(l=l.child;l!==null;)Gv(i,s,l),l=l.sibling}function Gv(i,s,l){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(kt,l)}catch{}switch(l.tag){case 26:Ft||Xi(l,s),wr(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ft||Xi(l,s);var c=bt,d=Cn;xs(l.type)&&(bt=l.stateNode,Cn=!1),wr(i,s,l),su(l.stateNode),bt=c,Cn=d;break;case 5:Ft||Xi(l,s);case 6:if(c=bt,d=Cn,bt=null,wr(i,s,l),bt=c,Cn=d,bt!==null)if(Cn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(l.stateNode)}catch(y){lt(l,s,y)}else try{bt.removeChild(l.stateNode)}catch(y){lt(l,s,y)}break;case 18:bt!==null&&(Cn?(i=bt,Lx(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Il(i)):Lx(bt,l.stateNode));break;case 4:c=bt,d=Cn,bt=l.stateNode.containerInfo,Cn=!0,wr(i,s,l),bt=c,Cn=d;break;case 0:case 11:case 14:case 15:fs(2,l,s),Ft||fs(4,l,s),wr(i,s,l);break;case 1:Ft||(Xi(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Vv(l,s,c)),wr(i,s,l);break;case 21:wr(i,s,l);break;case 22:Ft=(c=Ft)||l.memoizedState!==null,wr(i,s,l),Ft=c;break;default:wr(i,s,l)}}function $v(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Il(i)}catch(l){lt(s,s.return,l)}}}function Yv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Il(i)}catch(l){lt(s,s.return,l)}}function RA(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Fv),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Fv),s;default:throw Error(r(435,i.tag))}}function uh(i,s){var l=RA(i);s.forEach(function(c){if(!l.has(c)){l.add(c);var d=UA.bind(null,i,c);c.then(d,d)}})}function Nn(i,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var d=l[c],y=i,_=s,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(xs(S.type)){bt=S.stateNode,Cn=!1;break e}break;case 5:bt=S.stateNode,Cn=!1;break e;case 3:case 4:bt=S.stateNode.containerInfo,Cn=!0;break e}S=S.return}if(bt===null)throw Error(r(160));Gv(y,_,d),bt=null,Cn=!1,y=d.alternate,y!==null&&(y.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Kv(s,i),s=s.sibling}var Ti=null;function Kv(i,s){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Nn(s,i),In(i),c&4&&(fs(3,i,i.return),Qo(3,i),fs(5,i,i.return));break;case 1:Nn(s,i),In(i),c&512&&(Ft||l===null||Xi(l,l.return)),c&64&&Er&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var d=Ti;if(Nn(s,i),In(i),c&512&&(Ft||l===null||Xi(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":y=d.getElementsByTagName("title")[0],(!y||y[Pi]||y[Pt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=d.createElement(c),d.head.insertBefore(y,d.querySelector("head > title"))),on(y,c,l),y[Pt]=i,Lt(y),c=y;break e;case"link":var _=Kx("link","href",d).get(c+(l.href||""));if(_){for(var S=0;S<_.length;S++)if(y=_[S],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(S,1);break t}}y=d.createElement(c),on(y,c,l),d.head.appendChild(y);break;case"meta":if(_=Kx("meta","content",d).get(c+(l.content||""))){for(S=0;S<_.length;S++)if(y=_[S],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(S,1);break t}}y=d.createElement(c),on(y,c,l),d.head.appendChild(y);break;default:throw Error(r(468,c))}y[Pt]=i,Lt(y),c=y}i.stateNode=c}else Qx(d,i.type,i.stateNode);else i.stateNode=Yx(d,c,i.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?Qx(d,i.type,i.stateNode):Yx(d,c,i.memoizedProps)):c===null&&i.stateNode!==null&&gm(i,i.memoizedProps,l.memoizedProps)}break;case 27:Nn(s,i),In(i),c&512&&(Ft||l===null||Xi(l,l.return)),l!==null&&c&4&&gm(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Nn(s,i),In(i),c&512&&(Ft||l===null||Xi(l,l.return)),i.flags&32){d=i.stateNode;try{An(d,"")}catch(ge){lt(i,i.return,ge)}}c&4&&i.stateNode!=null&&(d=i.memoizedProps,gm(i,d,l!==null?l.memoizedProps:d)),c&1024&&(xm=!0);break;case 6:if(Nn(s,i),In(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(ge){lt(i,i.return,ge)}}break;case 3:if(Sh=null,d=Ti,Ti=wh(s.containerInfo),Nn(s,i),Ti=d,In(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Il(s.containerInfo)}catch(ge){lt(i,i.return,ge)}xm&&(xm=!1,Qv(i));break;case 4:c=Ti,Ti=wh(i.stateNode.containerInfo),Nn(s,i),In(i),Ti=c;break;case 12:Nn(s,i),In(i);break;case 31:Nn(s,i),In(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,uh(i,c)));break;case 13:Nn(s,i),In(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(hh=nn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,uh(i,c)));break;case 22:d=i.memoizedState!==null;var z=l!==null&&l.memoizedState!==null,Q=Er,Z=Ft;if(Er=Q||d,Ft=Z||z,Nn(s,i),Ft=Z,Er=Q,In(i),c&8192)e:for(s=i.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(l===null||z||Er||Ft||wa(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){z=l=s;try{if(y=z.stateNode,d)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=z.stateNode;var re=z.memoizedProps.style,X=re!=null&&re.hasOwnProperty("display")?re.display:null;S.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(ge){lt(z,z.return,ge)}}}else if(s.tag===6){if(l===null){z=s;try{z.stateNode.nodeValue=d?"":z.memoizedProps}catch(ge){lt(z,z.return,ge)}}}else if(s.tag===18){if(l===null){z=s;try{var J=z.stateNode;d?Vx(J,!0):Vx(z.stateNode,!1)}catch(ge){lt(z,z.return,ge)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,uh(i,l))));break;case 19:Nn(s,i),In(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,uh(i,c)));break;case 30:break;case 21:break;default:Nn(s,i),In(i)}}function In(i){var s=i.flags;if(s&2){try{for(var l,c=i.return;c!==null;){if(Uv(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var d=l.stateNode,y=ym(i);oh(i,y,d);break;case 5:var _=l.stateNode;l.flags&32&&(An(_,""),l.flags&=-33);var S=ym(i);oh(i,S,_);break;case 3:case 4:var z=l.stateNode.containerInfo,Q=ym(i);vm(i,Q,z);break;default:throw Error(r(161))}}catch(Z){lt(i,i.return,Z)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Qv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Qv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Tr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)qv(i,s.alternate,s),s=s.sibling}function wa(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:fs(4,s,s.return),wa(s);break;case 1:Xi(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Vv(s,s.return,l),wa(s);break;case 27:su(s.stateNode);case 26:case 5:Xi(s,s.return),wa(s);break;case 22:s.memoizedState===null&&wa(s);break;case 30:wa(s);break;default:wa(s)}i=i.sibling}}function Sr(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,d=i,y=s,_=y.flags;switch(y.tag){case 0:case 11:case 15:Sr(d,y,l),Qo(4,y);break;case 1:if(Sr(d,y,l),c=y,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Q){lt(c,c.return,Q)}if(c=y,d=c.updateQueue,d!==null){var S=c.stateNode;try{var z=d.shared.hiddenCallbacks;if(z!==null)for(d.shared.hiddenCallbacks=null,d=0;d<z.length;d++)A0(z[d],S)}catch(Q){lt(c,c.return,Q)}}l&&_&64&&Lv(y),Xo(y,y.return);break;case 27:Bv(y);case 26:case 5:Sr(d,y,l),l&&c===null&&_&4&&zv(y),Xo(y,y.return);break;case 12:Sr(d,y,l);break;case 31:Sr(d,y,l),l&&_&4&&$v(d,y);break;case 13:Sr(d,y,l),l&&_&4&&Yv(d,y);break;case 22:y.memoizedState===null&&Sr(d,y,l),Xo(y,y.return);break;case 30:break;default:Sr(d,y,l)}s=s.sibling}}function bm(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Po(l))}function _m(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Po(i))}function Si(i,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Xv(i,s,l,c),s=s.sibling}function Xv(i,s,l,c){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Si(i,s,l,c),d&2048&&Qo(9,s);break;case 1:Si(i,s,l,c);break;case 3:Si(i,s,l,c),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Po(i)));break;case 12:if(d&2048){Si(i,s,l,c),i=s.stateNode;try{var y=s.memoizedProps,_=y.id,S=y.onPostCommit;typeof S=="function"&&S(_,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(z){lt(s,s.return,z)}}else Si(i,s,l,c);break;case 31:Si(i,s,l,c);break;case 13:Si(i,s,l,c);break;case 23:break;case 22:y=s.stateNode,_=s.alternate,s.memoizedState!==null?y._visibility&2?Si(i,s,l,c):Wo(i,s):y._visibility&2?Si(i,s,l,c):(y._visibility|=2,vl(i,s,l,c,(s.subtreeFlags&10256)!==0||!1)),d&2048&&bm(_,s);break;case 24:Si(i,s,l,c),d&2048&&_m(s.alternate,s);break;default:Si(i,s,l,c)}}function vl(i,s,l,c,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=i,_=s,S=l,z=c,Q=_.flags;switch(_.tag){case 0:case 11:case 15:vl(y,_,S,z,d),Qo(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?vl(y,_,S,z,d):Wo(y,_):(Z._visibility|=2,vl(y,_,S,z,d)),d&&Q&2048&&bm(_.alternate,_);break;case 24:vl(y,_,S,z,d),d&&Q&2048&&_m(_.alternate,_);break;default:vl(y,_,S,z,d)}s=s.sibling}}function Wo(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,c=s,d=c.flags;switch(c.tag){case 22:Wo(l,c),d&2048&&bm(c.alternate,c);break;case 24:Wo(l,c),d&2048&&_m(c.alternate,c);break;default:Wo(l,c)}s=s.sibling}}var Jo=8192;function xl(i,s,l){if(i.subtreeFlags&Jo)for(i=i.child;i!==null;)Wv(i,s,l),i=i.sibling}function Wv(i,s,l){switch(i.tag){case 26:xl(i,s,l),i.flags&Jo&&i.memoizedState!==null&&y2(l,Ti,i.memoizedState,i.memoizedProps);break;case 5:xl(i,s,l);break;case 3:case 4:var c=Ti;Ti=wh(i.stateNode.containerInfo),xl(i,s,l),Ti=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Jo,Jo=16777216,xl(i,s,l),Jo=c):xl(i,s,l));break;default:xl(i,s,l)}}function Jv(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Zo(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];en=c,ex(c,i)}Jv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Zv(i),i=i.sibling}function Zv(i){switch(i.tag){case 0:case 11:case 15:Zo(i),i.flags&2048&&fs(9,i,i.return);break;case 3:Zo(i);break;case 12:Zo(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,ch(i)):Zo(i);break;default:Zo(i)}}function ch(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];en=c,ex(c,i)}Jv(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:fs(8,s,s.return),ch(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,ch(s));break;default:ch(s)}i=i.sibling}}function ex(i,s){for(;en!==null;){var l=en;switch(l.tag){case 0:case 11:case 15:fs(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Po(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,en=c;else e:for(l=i;en!==null;){c=en;var d=c.sibling,y=c.return;if(Hv(c),c===l){en=null;break e}if(d!==null){d.return=y,en=d;break e}en=y}}}var DA={getCacheForType:function(i){var s=an(zt),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return an(zt).controller.signal}},OA=typeof WeakMap=="function"?WeakMap:Map,it=0,ft=null,Ve=null,Be=0,at=0,Fn=null,ds=!1,bl=!1,Em=!1,Ar=0,It=0,ms=0,Ta=0,wm=0,qn=0,_l=0,eu=null,kn=null,Tm=!1,hh=0,tx=0,fh=1/0,dh=null,ps=null,Yt=0,gs=null,El=null,Cr=0,Sm=0,Am=null,nx=null,tu=0,Cm=null;function Hn(){return(it&2)!==0&&Be!==0?Be&-Be:K.T!==null?Om():mc()}function ix(){if(qn===0)if((Be&536870912)===0||Ye){var i=Ws;Ws<<=1,(Ws&3932160)===0&&(Ws=262144),qn=i}else qn=536870912;return i=Un.current,i!==null&&(i.flags|=32),qn}function Rn(i,s,l){(i===ft&&(at===2||at===9)||i.cancelPendingCommit!==null)&&(wl(i,0),ys(i,Be,qn,!1)),Js(i,l),((it&2)===0||i!==ft)&&(i===ft&&((it&2)===0&&(Ta|=l),It===4&&ys(i,Be,qn,!1)),Wi(i))}function rx(i,s,l){if((it&6)!==0)throw Error(r(327));var c=!l&&(s&127)===0&&(s&i.expiredLanes)===0||pi(i,s),d=c?PA(i,s):Im(i,s,!0),y=c;do{if(d===0){bl&&!c&&ys(i,s,0,!1);break}else{if(l=i.current.alternate,y&&!jA(l)){d=Im(i,s,!1),y=!1;continue}if(d===2){if(y=s,i.errorRecoveryDisabledLanes&y)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var S=i;d=eu;var z=S.current.memoizedState.isDehydrated;if(z&&(wl(S,_).flags|=256),_=Im(S,_,!1),_!==2){if(Em&&!z){S.errorRecoveryDisabledLanes|=y,Ta|=y,d=4;break e}y=kn,kn=d,y!==null&&(kn===null?kn=y:kn.push.apply(kn,y))}d=_}if(y=!1,d!==2)continue}}if(d===1){wl(i,0),ys(i,s,0,!0);break}e:{switch(c=i,y=d,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ys(c,s,qn,!ds);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=hh+300-nn(),10<d)){if(ys(c,s,qn,!ds),Oi(c,0,!0)!==0)break e;Cr=s,c.timeoutHandle=Mx(sx.bind(null,c,l,kn,dh,Tm,s,qn,Ta,_l,ds,y,"Throttled",-0,0),d);break e}sx(c,l,kn,dh,Tm,s,qn,Ta,_l,ds,y,null,-0,0)}}break}while(!0);Wi(i)}function sx(i,s,l,c,d,y,_,S,z,Q,Z,re,X,J){if(i.timeoutHandle=-1,re=s.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vi},Wv(s,y,re);var ge=(y&62914560)===y?hh-nn():(y&4194048)===y?tx-nn():0;if(ge=v2(re,ge),ge!==null){Cr=y,i.cancelPendingCommit=ge(dx.bind(null,i,s,y,l,c,d,_,S,z,Z,re,null,X,J)),ys(i,y,_,!Q);return}}dx(i,s,y,l,c,d,_,S,z)}function jA(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var d=l[c],y=d.getSnapshot;d=d.value;try{if(!Vn(y(),d))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ys(i,s,l,c){s&=~wm,s&=~Ta,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var d=s;0<d;){var y=31-$e(d),_=1<<y;c[y]=-1,d&=~_}l!==0&&Zs(i,l,s)}function mh(){return(it&6)===0?(nu(0),!1):!0}function Nm(){if(Ve!==null){if(at===0)var i=Ve.return;else i=Ve,gr=pa=null,Hd(i),dl=null,Vo=0,i=Ve;for(;i!==null;)Pv(i.alternate,i),i=i.return;Ve=null}}function wl(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,e2(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Cr=0,Nm(),ft=i,Ve=l=mr(i.current,null),Be=s,at=0,Fn=null,ds=!1,bl=pi(i,s),Em=!1,_l=qn=wm=Ta=ms=It=0,kn=eu=null,Tm=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var d=31-$e(c),y=1<<d;s|=i[d],c&=~y}return Ar=s,Mc(),l}function ax(i,s){Oe=null,K.H=$o,s===fl||s===qc?(s=E0(),at=3):s===Dd?(s=E0(),at=4):at=s===am?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Fn=s,Ve===null&&(It=1,ih(i,ii(s,i.current)))}function lx(){var i=Un.current;return i===null?!0:(Be&4194048)===Be?li===null:(Be&62914560)===Be||(Be&536870912)!==0?i===li:!1}function ox(){var i=K.H;return K.H=$o,i===null?$o:i}function ux(){var i=K.A;return K.A=DA,i}function ph(){It=4,ds||(Be&4194048)!==Be&&Un.current!==null||(bl=!0),(ms&134217727)===0&&(Ta&134217727)===0||ft===null||ys(ft,Be,qn,!1)}function Im(i,s,l){var c=it;it|=2;var d=ox(),y=ux();(ft!==i||Be!==s)&&(dh=null,wl(i,s)),s=!1;var _=It;e:do try{if(at!==0&&Ve!==null){var S=Ve,z=Fn;switch(at){case 8:Nm(),_=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(s=!0);var Q=at;if(at=0,Fn=null,Tl(i,S,z,Q),l&&bl){_=0;break e}break;default:Q=at,at=0,Fn=null,Tl(i,S,z,Q)}}MA(),_=It;break}catch(Z){ax(i,Z)}while(!0);return s&&i.shellSuspendCounter++,gr=pa=null,it=c,K.H=d,K.A=y,Ve===null&&(ft=null,Be=0,Mc()),_}function MA(){for(;Ve!==null;)cx(Ve)}function PA(i,s){var l=it;it|=2;var c=ox(),d=ux();ft!==i||Be!==s?(dh=null,fh=nn()+500,wl(i,s)):bl=pi(i,s);e:do try{if(at!==0&&Ve!==null){s=Ve;var y=Fn;t:switch(at){case 1:at=0,Fn=null,Tl(i,s,y,1);break;case 2:case 9:if(b0(y)){at=0,Fn=null,hx(s);break}s=function(){at!==2&&at!==9||ft!==i||(at=7),Wi(i)},y.then(s,s);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:b0(y)?(at=0,Fn=null,hx(s)):(at=0,Fn=null,Tl(i,s,y,7));break;case 5:var _=null;switch(Ve.tag){case 26:_=Ve.memoizedState;case 5:case 27:var S=Ve;if(_?Xx(_):S.stateNode.complete){at=0,Fn=null;var z=S.sibling;if(z!==null)Ve=z;else{var Q=S.return;Q!==null?(Ve=Q,gh(Q)):Ve=null}break t}}at=0,Fn=null,Tl(i,s,y,5);break;case 6:at=0,Fn=null,Tl(i,s,y,6);break;case 8:Nm(),It=6;break e;default:throw Error(r(462))}}LA();break}catch(Z){ax(i,Z)}while(!0);return gr=pa=null,K.H=c,K.A=d,it=l,Ve!==null?0:(ft=null,Be=0,Mc(),It)}function LA(){for(;Ve!==null&&!ho();)cx(Ve)}function cx(i){var s=jv(i.alternate,i,Ar);i.memoizedProps=i.pendingProps,s===null?gh(i):Ve=s}function hx(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=Nv(l,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=Nv(l,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:Hd(s);default:Pv(l,s),s=Ve=u0(s,Ar),s=jv(l,s,Ar)}i.memoizedProps=i.pendingProps,s===null?gh(i):Ve=s}function Tl(i,s,l,c){gr=pa=null,Hd(s),dl=null,Vo=0;var d=s.return;try{if(SA(i,d,s,l,Be)){It=1,ih(i,ii(l,i.current)),Ve=null;return}}catch(y){if(d!==null)throw Ve=d,y;It=1,ih(i,ii(l,i.current)),Ve=null;return}s.flags&32768?(Ye||c===1?i=!0:bl||(Be&536870912)!==0?i=!1:(ds=i=!0,(c===2||c===9||c===3||c===6)&&(c=Un.current,c!==null&&c.tag===13&&(c.flags|=16384))),fx(s,i)):gh(s)}function gh(i){var s=i;do{if((s.flags&32768)!==0){fx(s,ds);return}i=s.return;var l=NA(s.alternate,s,Ar);if(l!==null){Ve=l;return}if(s=s.sibling,s!==null){Ve=s;return}Ve=s=i}while(s!==null);It===0&&(It=5)}function fx(i,s){do{var l=IA(i.alternate,i);if(l!==null){l.flags&=32767,Ve=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){Ve=i;return}Ve=i=l}while(i!==null);It=6,Ve=null}function dx(i,s,l,c,d,y,_,S,z){i.cancelPendingCommit=null;do yh();while(Yt!==0);if((it&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=yd,od(i,l,y,_,S,z),i===ft&&(Ve=ft=null,Be=0),El=s,gs=i,Cr=l,Sm=y,Am=d,nx=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,BA(_e,function(){return vx(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=K.T,K.T=null,d=le.p,le.p=2,_=it,it|=4;try{kA(i,s,l)}finally{it=_,le.p=d,K.T=c}}Yt=1,mx(),px(),gx()}}function mx(){if(Yt===1){Yt=0;var i=gs,s=El,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var c=le.p;le.p=2;var d=it;it|=4;try{Kv(s,i);var y=Bm,_=e0(i.containerInfo),S=y.focusedElem,z=y.selectionRange;if(_!==S&&S&&S.ownerDocument&&Zy(S.ownerDocument.documentElement,S)){if(z!==null&&fd(S)){var Q=z.start,Z=z.end;if(Z===void 0&&(Z=Q),"selectionStart"in S)S.selectionStart=Q,S.selectionEnd=Math.min(Z,S.value.length);else{var re=S.ownerDocument||document,X=re&&re.defaultView||window;if(X.getSelection){var J=X.getSelection(),ge=S.textContent.length,Te=Math.min(z.start,ge),ht=z.end===void 0?Te:Math.min(z.end,ge);!J.extend&&Te>ht&&(_=ht,ht=Te,Te=_);var H=Jy(S,Te),B=Jy(S,ht);if(H&&B&&(J.rangeCount!==1||J.anchorNode!==H.node||J.anchorOffset!==H.offset||J.focusNode!==B.node||J.focusOffset!==B.offset)){var Y=re.createRange();Y.setStart(H.node,H.offset),J.removeAllRanges(),Te>ht?(J.addRange(Y),J.extend(B.node,B.offset)):(Y.setEnd(B.node,B.offset),J.addRange(Y))}}}}for(re=[],J=S;J=J.parentNode;)J.nodeType===1&&re.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<re.length;S++){var ie=re[S];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Ih=!!Um,Bm=Um=null}finally{it=d,le.p=c,K.T=l}}i.current=s,Yt=2}}function px(){if(Yt===2){Yt=0;var i=gs,s=El,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var c=le.p;le.p=2;var d=it;it|=4;try{qv(i,s.alternate,s)}finally{it=d,le.p=c,K.T=l}}Yt=3}}function gx(){if(Yt===4||Yt===3){Yt=0,qa();var i=gs,s=El,l=Cr,c=nx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Yt=5:(Yt=0,El=gs=null,yx(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(ps=null),cr(l),s=s.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(kt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=K.T,d=le.p,le.p=2,K.T=null;try{for(var y=i.onRecoverableError,_=0;_<c.length;_++){var S=c[_];y(S.value,{componentStack:S.stack})}}finally{K.T=s,le.p=d}}(Cr&3)!==0&&yh(),Wi(i),d=i.pendingLanes,(l&261930)!==0&&(d&42)!==0?i===Cm?tu++:(tu=0,Cm=i):tu=0,nu(0)}}function yx(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Po(s)))}function yh(){return mx(),px(),gx(),vx()}function vx(){if(Yt!==5)return!1;var i=gs,s=Sm;Sm=0;var l=cr(Cr),c=K.T,d=le.p;try{le.p=32>l?32:l,K.T=null,l=Am,Am=null;var y=gs,_=Cr;if(Yt=0,El=gs=null,Cr=0,(it&6)!==0)throw Error(r(331));var S=it;if(it|=4,Zv(y.current),Xv(y,y.current,_,l),it=S,nu(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(kt,y)}catch{}return!0}finally{le.p=d,K.T=c,yx(i,s)}}function xx(i,s,l){s=ii(l,s),s=sm(i.stateNode,s,2),i=us(i,s,2),i!==null&&(Js(i,2),Wi(i))}function lt(i,s,l){if(i.tag===3)xx(i,i,l);else for(;s!==null;){if(s.tag===3){xx(s,i,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ps===null||!ps.has(c))){i=ii(l,i),l=bv(2),c=us(s,l,2),c!==null&&(_v(l,c,s,i),Js(c,2),Wi(c));break}}s=s.return}}function km(i,s,l){var c=i.pingCache;if(c===null){c=i.pingCache=new OA;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(l)||(Em=!0,d.add(l),i=VA.bind(null,i,s,l),s.then(i,i))}function VA(i,s,l){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,ft===i&&(Be&l)===l&&(It===4||It===3&&(Be&62914560)===Be&&300>nn()-hh?(it&2)===0&&wl(i,0):wm|=l,_l===Be&&(_l=0)),Wi(i)}function bx(i,s){s===0&&(s=dc()),i=fa(i,s),i!==null&&(Js(i,s),Wi(i))}function zA(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),bx(i,l)}function UA(i,s){var l=0;switch(i.tag){case 31:case 13:var c=i.stateNode,d=i.memoizedState;d!==null&&(l=d.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),bx(i,l)}function BA(i,s){return Ct(i,s)}var vh=null,Sl=null,Rm=!1,xh=!1,Dm=!1,vs=0;function Wi(i){i!==Sl&&i.next===null&&(Sl===null?vh=Sl=i:Sl=Sl.next=i),xh=!0,Rm||(Rm=!0,qA())}function nu(i,s){if(!Dm&&xh){Dm=!0;do for(var l=!1,c=vh;c!==null;){if(i!==0){var d=c.pendingLanes;if(d===0)var y=0;else{var _=c.suspendedLanes,S=c.pingedLanes;y=(1<<31-$e(42|i)+1)-1,y&=d&~(_&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,Tx(c,y))}else y=Be,y=Oi(c,c===ft?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||pi(c,y)||(l=!0,Tx(c,y));c=c.next}while(l);Dm=!1}}function FA(){_x()}function _x(){xh=Rm=!1;var i=0;vs!==0&&ZA()&&(i=vs);for(var s=nn(),l=null,c=vh;c!==null;){var d=c.next,y=Ex(c,s);y===0?(c.next=null,l===null?vh=d:l.next=d,d===null&&(Sl=l)):(l=c,(i!==0||(y&3)!==0)&&(xh=!0)),c=d}Yt!==0&&Yt!==5||nu(i),vs!==0&&(vs=0)}function Ex(i,s){for(var l=i.suspendedLanes,c=i.pingedLanes,d=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var _=31-$e(y),S=1<<_,z=d[_];z===-1?((S&l)===0||(S&c)!==0)&&(d[_]=ld(S,s)):z<=s&&(i.expiredLanes|=S),y&=~S}if(s=ft,l=Be,l=Oi(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===s&&(at===2||at===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&ki(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||pi(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(c!==null&&ki(c),cr(l)){case 2:case 8:l=fe;break;case 32:l=_e;break;case 268435456:l=Je;break;default:l=_e}return c=wx.bind(null,i),l=Ct(l,c),i.callbackPriority=s,i.callbackNode=l,s}return c!==null&&c!==null&&ki(c),i.callbackPriority=2,i.callbackNode=null,2}function wx(i,s){if(Yt!==0&&Yt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(yh()&&i.callbackNode!==l)return null;var c=Be;return c=Oi(i,i===ft?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(rx(i,c,s),Ex(i,nn()),i.callbackNode!=null&&i.callbackNode===l?wx.bind(null,i):null)}function Tx(i,s){if(yh())return null;rx(i,s,!0)}function qA(){t2(function(){(it&6)!==0?Ct(ne,FA):_x()})}function Om(){if(vs===0){var i=cl;i===0&&(i=Ri,Ri<<=1,(Ri&261888)===0&&(Ri=256)),vs=i}return vs}function Sx(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Qa(""+i)}function Ax(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function HA(i,s,l,c,d){if(s==="submit"&&l&&l.stateNode===d){var y=Sx((d[Jt]||null).action),_=c.submitter;_&&(s=(s=_[Jt]||null)?Sx(s.formAction):_.getAttribute("formAction"),s!==null&&(y=s,_=null));var S=new Hi("action","action",null,c,d);i.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(vs!==0){var z=_?Ax(d,_):new FormData(d);Zd(l,{pending:!0,data:z,method:d.method,action:y},null,z)}}else typeof y=="function"&&(S.preventDefault(),z=_?Ax(d,_):new FormData(d),Zd(l,{pending:!0,data:z,method:d.method,action:y},y,z))},currentTarget:d}]})}}for(var jm=0;jm<gd.length;jm++){var Mm=gd[jm],GA=Mm.toLowerCase(),$A=Mm[0].toUpperCase()+Mm.slice(1);wi(GA,"on"+$A)}wi(i0,"onAnimationEnd"),wi(r0,"onAnimationIteration"),wi(s0,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(oA,"onTransitionRun"),wi(uA,"onTransitionStart"),wi(cA,"onTransitionCancel"),wi(a0,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(iu));function Cx(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],d=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var _=c.length-1;0<=_;_--){var S=c[_],z=S.instance,Q=S.currentTarget;if(S=S.listener,z!==y&&d.isPropagationStopped())break e;y=S,d.currentTarget=Q;try{y(d)}catch(Z){jc(Z)}d.currentTarget=null,y=z}else for(_=0;_<c.length;_++){if(S=c[_],z=S.instance,Q=S.currentTarget,S=S.listener,z!==y&&d.isPropagationStopped())break e;y=S,d.currentTarget=Q;try{y(d)}catch(Z){jc(Z)}d.currentTarget=null,y=z}}}}function ze(i,s){var l=s[Ha];l===void 0&&(l=s[Ha]=new Set);var c=i+"__bubble";l.has(c)||(Nx(s,i,2,!1),l.add(c))}function Pm(i,s,l){var c=0;s&&(c|=4),Nx(l,i,c,s)}var bh="_reactListening"+Math.random().toString(36).slice(2);function Lm(i){if(!i[bh]){i[bh]=!0,po.forEach(function(l){l!=="selectionchange"&&(YA.has(l)||Pm(l,!1,i),Pm(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[bh]||(s[bh]=!0,Pm("selectionchange",!1,s))}}function Nx(i,s,l,c){switch(ib(s)){case 2:var d=_2;break;case 8:d=E2;break;default:d=Jm}l=d.bind(null,s,l,i),d=void 0,!ra||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?i.addEventListener(s,l,{capture:!0,passive:d}):i.addEventListener(s,l,!0):d!==void 0?i.addEventListener(s,l,{passive:d}):i.addEventListener(s,l,!1)}function Vm(i,s,l,c,d){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var S=c.stateNode.containerInfo;if(S===d)break;if(_===4)for(_=c.return;_!==null;){var z=_.tag;if((z===3||z===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;S!==null;){if(_=Li(S),_===null)return;if(z=_.tag,z===5||z===6||z===26||z===27){c=y=_;continue e}S=S.parentNode}}c=c.return}Zr(function(){var Q=y,Z=Zn(l),re=[];e:{var X=l0.get(i);if(X!==void 0){var J=Hi,ge=i;switch(i){case"keypress":if(aa(l)===0)break e;case"keydown":case"keyup":J=Rc;break;case"focusin":ge="focus",J=oa;break;case"focusout":ge="blur",J=oa;break;case"beforeblur":case"afterblur":J=oa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=No;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=b;break;case i0:case r0:case s0:J=Tc;break;case a0:J=I;break;case"scroll":case"scrollend":J=Co;break;case"wheel":J=W;break;case"copy":case"cut":case"paste":J=Sc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=dr;break;case"toggle":case"beforetoggle":J=De}var Te=(s&4)!==0,ht=!Te&&(i==="scroll"||i==="scrollend"),H=Te?X!==null?X+"Capture":null:X;Te=[];for(var B=Q,Y;B!==null;){var ie=B;if(Y=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Y===null||H===null||(ie=xi(B,H),ie!=null&&Te.push(ru(B,ie,Y))),ht)break;B=B.return}0<Te.length&&(X=new J(X,ge,null,l,Z),re.push({event:X,listeners:Te}))}}if((s&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",X&&l!==To&&(ge=l.relatedTarget||l.fromElement)&&(Li(ge)||ge[Mi]))break e;if((J||X)&&(X=Z.window===Z?Z:(X=Z.ownerDocument)?X.defaultView||X.parentWindow:window,J?(ge=l.relatedTarget||l.toElement,J=Q,ge=ge?Li(ge):null,ge!==null&&(ht=o(ge),Te=ge.tag,ge!==ht||Te!==5&&Te!==27&&Te!==6)&&(ge=null)):(J=null,ge=Q),J!==ge)){if(Te=No,ie="onMouseLeave",H="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(Te=dr,ie="onPointerLeave",H="onPointerEnter",B="pointer"),ht=J==null?X:Pn(J),Y=ge==null?X:Pn(ge),X=new Te(ie,B+"leave",J,l,Z),X.target=ht,X.relatedTarget=Y,ie=null,Li(Z)===Q&&(Te=new Te(H,B+"enter",ge,l,Z),Te.target=Y,Te.relatedTarget=ht,ie=Te),ht=ie,J&&ge)t:{for(Te=KA,H=J,B=ge,Y=0,ie=H;ie;ie=Te(ie))Y++;ie=0;for(var xe=B;xe;xe=Te(xe))ie++;for(;0<Y-ie;)H=Te(H),Y--;for(;0<ie-Y;)B=Te(B),ie--;for(;Y--;){if(H===B||B!==null&&H===B.alternate){Te=H;break t}H=Te(H),B=Te(B)}Te=null}else Te=null;J!==null&&Ix(re,X,J,Te,!1),ge!==null&&ht!==null&&Ix(re,ht,ge,Te,!0)}}e:{if(X=Q?Pn(Q):window,J=X.nodeName&&X.nodeName.toLowerCase(),J==="select"||J==="input"&&X.type==="file")var Ze=$y;else if(Hy(X))if(Yy)Ze=sA;else{Ze=iA;var ye=nA}else J=X.nodeName,!J||J.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Q&&Ka(Q.elementType)&&(Ze=$y):Ze=rA;if(Ze&&(Ze=Ze(i,Q))){Gy(re,Ze,l,Z);break e}ye&&ye(i,X,Q),i==="focusout"&&Q&&X.type==="number"&&Q.memoizedProps.value!=null&&_o(X,"number",X.value)}switch(ye=Q?Pn(Q):window,i){case"focusin":(Hy(ye)||ye.contentEditable==="true")&&(nl=ye,dd=Q,Oo=null);break;case"focusout":Oo=dd=nl=null;break;case"mousedown":md=!0;break;case"contextmenu":case"mouseup":case"dragend":md=!1,t0(re,l,Z);break;case"selectionchange":if(lA)break;case"keydown":case"keyup":t0(re,l,Z)}var je;if(nt)e:{switch(i){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else tl?ua(i,l)&&(Fe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Fe="onCompositionStart");Fe&&(Yi&&l.locale!=="ko"&&(tl||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&tl&&(je=Ao()):(qi=Z,So="value"in qi?qi.value:qi.textContent,tl=!0)),ye=_h(Q,Fe),0<ye.length&&(Fe=new $i(Fe,i,null,l,Z),re.push({event:Fe,listeners:ye}),je?Fe.data=je:(je=el(l),je!==null&&(Fe.data=je)))),(je=ti?JS(i,l):ZS(i,l))&&(Fe=_h(Q,"onBeforeInput"),0<Fe.length&&(ye=new $i("onBeforeInput","beforeinput",null,l,Z),re.push({event:ye,listeners:Fe}),ye.data=je)),HA(re,i,Q,l,Z)}Cx(re,s)})}function ru(i,s,l){return{instance:i,listener:s,currentTarget:l}}function _h(i,s){for(var l=s+"Capture",c=[];i!==null;){var d=i,y=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||y===null||(d=xi(i,l),d!=null&&c.unshift(ru(i,d,y)),d=xi(i,s),d!=null&&c.push(ru(i,d,y))),i.tag===3)return c;i=i.return}return[]}function KA(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Ix(i,s,l,c,d){for(var y=s._reactName,_=[];l!==null&&l!==c;){var S=l,z=S.alternate,Q=S.stateNode;if(S=S.tag,z!==null&&z===c)break;S!==5&&S!==26&&S!==27||Q===null||(z=Q,d?(Q=xi(l,y),Q!=null&&_.unshift(ru(l,Q,z))):d||(Q=xi(l,y),Q!=null&&_.push(ru(l,Q,z)))),l=l.return}_.length!==0&&i.push({event:s,listeners:_})}var QA=/\r\n?/g,XA=/\u0000|\uFFFD/g;function kx(i){return(typeof i=="string"?i:""+i).replace(QA,`
`).replace(XA,"")}function Rx(i,s){return s=kx(s),kx(i)===s}function ct(i,s,l,c,d,y){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||An(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&An(i,""+c);break;case"className":Ln(i,"class",c);break;case"tabIndex":Ln(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(i,l,c);break;case"style":wo(i,c,y);break;case"data":if(s!=="object"){Ln(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Qa(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(s!=="input"&&ct(i,s,"name",d.name,d,null),ct(i,s,"formEncType",d.formEncType,d,null),ct(i,s,"formMethod",d.formMethod,d,null),ct(i,s,"formTarget",d.formTarget,d,null)):(ct(i,s,"encType",d.encType,d,null),ct(i,s,"method",d.method,d,null),ct(i,s,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Qa(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=vi);break;case"onScroll":c!=null&&ze("scroll",i);break;case"onScrollEnd":c!=null&&ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=Qa(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":ze("beforetoggle",i),ze("toggle",i),$a(i,"popover",c);break;case"xlinkActuate":Vt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Vt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Vt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Vt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Vt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Vt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Vt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Vt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Vt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":$a(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=_c.get(l)||l,$a(i,l,c))}}function zm(i,s,l,c,d,y){switch(l){case"style":wo(i,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?An(i,c):(typeof c=="number"||typeof c=="bigint")&&An(i,""+c);break;case"onScroll":c!=null&&ze("scroll",i);break;case"onScrollEnd":c!=null&&ze("scrollend",i);break;case"onClick":c!=null&&(i.onclick=vi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!go.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),s=l.slice(2,d?l.length-7:void 0),y=i[Jt]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(s,y,d),typeof c=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,c,d);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):$a(i,l,c)}}}function on(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",i),ze("load",i);var c=!1,d=!1,y;for(y in l)if(l.hasOwnProperty(y)){var _=l[y];if(_!=null)switch(y){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ct(i,s,y,_,l,null)}}d&&ct(i,s,"srcSet",l.srcSet,l,null),c&&ct(i,s,"src",l.src,l,null);return;case"input":ze("invalid",i);var S=y=_=d=null,z=null,Q=null;for(c in l)if(l.hasOwnProperty(c)){var Z=l[c];if(Z!=null)switch(c){case"name":d=Z;break;case"type":_=Z;break;case"checked":z=Z;break;case"defaultChecked":Q=Z;break;case"value":y=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:ct(i,s,c,Z,l,null)}}vc(i,y,S,z,Q,_,d,!1);return;case"select":ze("invalid",i),c=_=y=null;for(d in l)if(l.hasOwnProperty(d)&&(S=l[d],S!=null))switch(d){case"value":y=S;break;case"defaultValue":_=S;break;case"multiple":c=S;default:ct(i,s,d,S,l,null)}s=y,l=_,i.multiple=!!c,s!=null?Qr(i,!!c,s,!1):l!=null&&Qr(i,!!c,l,!0);return;case"textarea":ze("invalid",i),y=d=c=null;for(_ in l)if(l.hasOwnProperty(_)&&(S=l[_],S!=null))switch(_){case"value":c=S;break;case"defaultValue":d=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:ct(i,s,_,S,l,null)}Xr(i,c,d,y);return;case"option":for(z in l)if(l.hasOwnProperty(z)&&(c=l[z],c!=null))switch(z){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ct(i,s,z,c,l,null)}return;case"dialog":ze("beforetoggle",i),ze("toggle",i),ze("cancel",i),ze("close",i);break;case"iframe":case"object":ze("load",i);break;case"video":case"audio":for(c=0;c<iu.length;c++)ze(iu[c],i);break;case"image":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"embed":case"source":case"link":ze("error",i),ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in l)if(l.hasOwnProperty(Q)&&(c=l[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ct(i,s,Q,c,l,null)}return;default:if(Ka(s)){for(Z in l)l.hasOwnProperty(Z)&&(c=l[Z],c!==void 0&&zm(i,s,Z,c,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(c=l[S],c!=null&&ct(i,s,S,c,l,null))}function WA(i,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,y=null,_=null,S=null,z=null,Q=null,Z=null;for(J in l){var re=l[J];if(l.hasOwnProperty(J)&&re!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":z=re;default:c.hasOwnProperty(J)||ct(i,s,J,null,c,re)}}for(var X in c){var J=c[X];if(re=l[X],c.hasOwnProperty(X)&&(J!=null||re!=null))switch(X){case"type":y=J;break;case"name":d=J;break;case"checked":Q=J;break;case"defaultChecked":Z=J;break;case"value":_=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:J!==re&&ct(i,s,X,J,c,re)}}Ya(i,_,S,z,Q,Z,y,d);return;case"select":J=_=S=X=null;for(y in l)if(z=l[y],l.hasOwnProperty(y)&&z!=null)switch(y){case"value":break;case"multiple":J=z;default:c.hasOwnProperty(y)||ct(i,s,y,null,c,z)}for(d in c)if(y=c[d],z=l[d],c.hasOwnProperty(d)&&(y!=null||z!=null))switch(d){case"value":X=y;break;case"defaultValue":S=y;break;case"multiple":_=y;default:y!==z&&ct(i,s,d,y,c,z)}s=S,l=_,c=J,X!=null?Qr(i,!!l,X,!1):!!c!=!!l&&(s!=null?Qr(i,!!l,s,!0):Qr(i,!!l,l?[]:"",!1));return;case"textarea":J=X=null;for(S in l)if(d=l[S],l.hasOwnProperty(S)&&d!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ct(i,s,S,null,c,d)}for(_ in c)if(d=c[_],y=l[_],c.hasOwnProperty(_)&&(d!=null||y!=null))switch(_){case"value":X=d;break;case"defaultValue":J=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==y&&ct(i,s,_,d,c,y)}xc(i,X,J);return;case"option":for(var ge in l)if(X=l[ge],l.hasOwnProperty(ge)&&X!=null&&!c.hasOwnProperty(ge))switch(ge){case"selected":i.selected=!1;break;default:ct(i,s,ge,null,c,X)}for(z in c)if(X=c[z],J=l[z],c.hasOwnProperty(z)&&X!==J&&(X!=null||J!=null))switch(z){case"selected":i.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ct(i,s,z,X,c,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in l)X=l[Te],l.hasOwnProperty(Te)&&X!=null&&!c.hasOwnProperty(Te)&&ct(i,s,Te,null,c,X);for(Q in c)if(X=c[Q],J=l[Q],c.hasOwnProperty(Q)&&X!==J&&(X!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:ct(i,s,Q,X,c,J)}return;default:if(Ka(s)){for(var ht in l)X=l[ht],l.hasOwnProperty(ht)&&X!==void 0&&!c.hasOwnProperty(ht)&&zm(i,s,ht,void 0,c,X);for(Z in c)X=c[Z],J=l[Z],!c.hasOwnProperty(Z)||X===J||X===void 0&&J===void 0||zm(i,s,Z,X,c,J);return}}for(var H in l)X=l[H],l.hasOwnProperty(H)&&X!=null&&!c.hasOwnProperty(H)&&ct(i,s,H,null,c,X);for(re in c)X=c[re],J=l[re],!c.hasOwnProperty(re)||X===J||X==null&&J==null||ct(i,s,re,X,c,J)}function Dx(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JA(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var d=l[c],y=d.transferSize,_=d.initiatorType,S=d.duration;if(y&&S&&Dx(_)){for(_=0,S=d.responseEnd,c+=1;c<l.length;c++){var z=l[c],Q=z.startTime;if(Q>S)break;var Z=z.transferSize,re=z.initiatorType;Z&&Dx(re)&&(z=z.responseEnd,_+=Z*(z<S?1:(S-Q)/(z-Q)))}if(--c,s+=8*(y+_)/(d.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Um=null,Bm=null;function Eh(i){return i.nodeType===9?i:i.ownerDocument}function Ox(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jx(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Fm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var qm=null;function ZA(){var i=window.event;return i&&i.type==="popstate"?i===qm?!1:(qm=i,!0):(qm=null,!1)}var Mx=typeof setTimeout=="function"?setTimeout:void 0,e2=typeof clearTimeout=="function"?clearTimeout:void 0,Px=typeof Promise=="function"?Promise:void 0,t2=typeof queueMicrotask=="function"?queueMicrotask:typeof Px<"u"?function(i){return Px.resolve(null).then(i).catch(n2)}:Mx;function n2(i){setTimeout(function(){throw i})}function xs(i){return i==="head"}function Lx(i,s){var l=s,c=0;do{var d=l.nextSibling;if(i.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"||l==="/&"){if(c===0){i.removeChild(d),Il(s);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")su(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,su(l);for(var y=l.firstChild;y;){var _=y.nextSibling,S=y.nodeName;y[Pi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=_}}else l==="body"&&su(i.ownerDocument.body);l=d}while(l);Il(s)}function Vx(i,s){var l=i;i=0;do{var c=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=c}while(l)}function Hm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Hm(l),Ga(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function i2(i,s,l,c){for(;i.nodeType===1;){var d=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Pi])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=oi(i.nextSibling),i===null)break}return null}function r2(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=oi(i.nextSibling),i===null))return null;return i}function zx(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=oi(i.nextSibling),i===null))return null;return i}function Gm(i){return i.data==="$?"||i.data==="$~"}function $m(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function s2(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function oi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Ym=null;function Ux(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return oi(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function Bx(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function Fx(i,s,l){switch(s=Eh(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function su(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ga(i)}var ui=new Map,qx=new Set;function wh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Nr=le.d;le.d={f:a2,r:l2,D:o2,C:u2,L:c2,m:h2,X:d2,S:f2,M:m2};function a2(){var i=Nr.f(),s=mh();return i||s}function l2(i){var s=Jn(i);s!==null&&s.tag===5&&s.type==="form"?av(s):Nr.r(i)}var Al=typeof document>"u"?null:document;function Hx(i,s,l){var c=Al;if(c&&typeof s=="string"&&s){var d=Sn(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),qx.has(d)||(qx.add(d),i={rel:i,crossOrigin:l,href:s},c.querySelector(d)===null&&(s=c.createElement("link"),on(s,"link",i),Lt(s),c.head.appendChild(s)))}}function o2(i){Nr.D(i),Hx("dns-prefetch",i,null)}function u2(i,s){Nr.C(i,s),Hx("preconnect",i,s)}function c2(i,s,l){Nr.L(i,s,l);var c=Al;if(c&&i&&s){var d='link[rel="preload"][as="'+Sn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+Sn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+Sn(l.imageSizes)+'"]')):d+='[href="'+Sn(i)+'"]';var y=d;switch(s){case"style":y=Cl(i);break;case"script":y=Nl(i)}ui.has(y)||(i=x({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),ui.set(y,i),c.querySelector(d)!==null||s==="style"&&c.querySelector(au(y))||s==="script"&&c.querySelector(lu(y))||(s=c.createElement("link"),on(s,"link",i),Lt(s),c.head.appendChild(s)))}}function h2(i,s){Nr.m(i,s);var l=Al;if(l&&i){var c=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Sn(c)+'"][href="'+Sn(i)+'"]',y=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Nl(i)}if(!ui.has(y)&&(i=x({rel:"modulepreload",href:i},s),ui.set(y,i),l.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(lu(y)))return}c=l.createElement("link"),on(c,"link",i),Lt(c),l.head.appendChild(c)}}}function f2(i,s,l){Nr.S(i,s,l);var c=Al;if(c&&i){var d=Vi(c).hoistableStyles,y=Cl(i);s=s||"default";var _=d.get(y);if(!_){var S={loading:0,preload:null};if(_=c.querySelector(au(y)))S.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":s},l),(l=ui.get(y))&&Km(i,l);var z=_=c.createElement("link");Lt(z),on(z,"link",i),z._p=new Promise(function(Q,Z){z.onload=Q,z.onerror=Z}),z.addEventListener("load",function(){S.loading|=1}),z.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Th(_,s,c)}_={type:"stylesheet",instance:_,count:1,state:S},d.set(y,_)}}}function d2(i,s){Nr.X(i,s);var l=Al;if(l&&i){var c=Vi(l).hoistableScripts,d=Nl(i),y=c.get(d);y||(y=l.querySelector(lu(d)),y||(i=x({src:i,async:!0},s),(s=ui.get(d))&&Qm(i,s),y=l.createElement("script"),Lt(y),on(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(d,y))}}function m2(i,s){Nr.M(i,s);var l=Al;if(l&&i){var c=Vi(l).hoistableScripts,d=Nl(i),y=c.get(d);y||(y=l.querySelector(lu(d)),y||(i=x({src:i,async:!0,type:"module"},s),(s=ui.get(d))&&Qm(i,s),y=l.createElement("script"),Lt(y),on(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(d,y))}}function Gx(i,s,l,c){var d=(d=Xe.current)?wh(d):null;if(!d)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Cl(l.href),l=Vi(d).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Cl(l.href);var y=Vi(d).hoistableStyles,_=y.get(i);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,_),(y=d.querySelector(au(i)))&&!y._p&&(_.instance=y,_.state.loading=5),ui.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ui.set(i,l),y||p2(d,i,l,_.state))),s&&c===null)throw Error(r(528,""));return _}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Nl(l),l=Vi(d).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Cl(i){return'href="'+Sn(i)+'"'}function au(i){return'link[rel="stylesheet"]['+i+"]"}function $x(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function p2(i,s,l,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),on(s,"link",l),Lt(s),i.head.appendChild(s))}function Nl(i){return'[src="'+Sn(i)+'"]'}function lu(i){return"script[async]"+i}function Yx(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Sn(l.href)+'"]');if(c)return s.instance=c,Lt(c),c;var d=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Lt(c),on(c,"style",d),Th(c,l.precedence,i),s.instance=c;case"stylesheet":d=Cl(l.href);var y=i.querySelector(au(d));if(y)return s.state.loading|=4,s.instance=y,Lt(y),y;c=$x(l),(d=ui.get(d))&&Km(c,d),y=(i.ownerDocument||i).createElement("link"),Lt(y);var _=y;return _._p=new Promise(function(S,z){_.onload=S,_.onerror=z}),on(y,"link",c),s.state.loading|=4,Th(y,l.precedence,i),s.instance=y;case"script":return y=Nl(l.src),(d=i.querySelector(lu(y)))?(s.instance=d,Lt(d),d):(c=l,(d=ui.get(y))&&(c=x({},l),Qm(c,d)),i=i.ownerDocument||i,d=i.createElement("script"),Lt(d),on(d,"link",c),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Th(c,l.precedence,i));return s.instance}function Th(i,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,y=d,_=0;_<c.length;_++){var S=c[_];if(S.dataset.precedence===s)y=S;else if(y!==d)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function Km(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Qm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Sh=null;function Kx(i,s,l){if(Sh===null){var c=new Map,d=Sh=new Map;d.set(l,c)}else d=Sh,c=d.get(l),c||(c=new Map,d.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),d=0;d<l.length;d++){var y=l[d];if(!(y[Pi]||y[Pt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(s)||"";_=i+_;var S=c.get(_);S?S.push(y):c.set(_,[y])}}return c}function Qx(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function g2(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Xx(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function y2(i,s,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var d=Cl(c.href),y=s.querySelector(au(d));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Ah.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=y,Lt(y);return}y=s.ownerDocument||s,c=$x(c),(d=ui.get(d))&&Km(c,d),y=y.createElement("link"),Lt(y);var _=y;_._p=new Promise(function(S,z){_.onload=S,_.onerror=z}),on(y,"link",c),l.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Ah.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var Xm=0;function v2(i,s){return i.stylesheets&&i.count===0&&Nh(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var c=setTimeout(function(){if(i.stylesheets&&Nh(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+s);0<i.imgBytes&&Xm===0&&(Xm=62500*JA());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Nh(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>Xm?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function Ah(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ch=null;function Nh(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ch=new Map,s.forEach(x2,i),Ch=null,Ah.call(i))}function x2(i,s){if(!(s.state.loading&4)){var l=Ch.get(i);if(l)var c=l.get(null);else{l=new Map,Ch.set(i,l);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<d.length;y++){var _=d[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),c=_)}c&&l.set(null,c)}d=s.instance,_=d.getAttribute("data-precedence"),y=l.get(_)||c,y===c&&l.set(null,d),l.set(_,d),this.count++,c=Ah.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),y?y.parentNode.insertBefore(d,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var ou={$$typeof:q,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function b2(i,s,l,c,d,y,_,S,z){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ji(0),this.hiddenUpdates=ji(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function Wx(i,s,l,c,d,y,_,S,z,Q,Z,re){return i=new b2(i,s,l,_,z,Q,Z,re,S),s=1,y===!0&&(s|=24),y=zn(3,null,null,s),i.current=y,y.stateNode=i,s=Id(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:s},Od(y),i}function Jx(i){return i?(i=sl,i):sl}function Zx(i,s,l,c,d,y){d=Jx(d),c.context===null?c.context=d:c.pendingContext=d,c=os(s),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=us(i,c,s),l!==null&&(Rn(l,i,s),Uo(l,i,s))}function eb(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Wm(i,s){eb(i,s),(i=i.alternate)&&eb(i,s)}function tb(i){if(i.tag===13||i.tag===31){var s=fa(i,67108864);s!==null&&Rn(s,i,67108864),Wm(i,67108864)}}function nb(i){if(i.tag===13||i.tag===31){var s=Hn();s=ea(s);var l=fa(i,s);l!==null&&Rn(l,i,s),Wm(i,s)}}var Ih=!0;function _2(i,s,l,c){var d=K.T;K.T=null;var y=le.p;try{le.p=2,Jm(i,s,l,c)}finally{le.p=y,K.T=d}}function E2(i,s,l,c){var d=K.T;K.T=null;var y=le.p;try{le.p=8,Jm(i,s,l,c)}finally{le.p=y,K.T=d}}function Jm(i,s,l,c){if(Ih){var d=Zm(c);if(d===null)Vm(i,s,c,kh,l),rb(i,c);else if(T2(d,i,s,l,c))c.stopPropagation();else if(rb(i,c),s&4&&-1<w2.indexOf(i)){for(;d!==null;){var y=Jn(d);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=Di(y.pendingLanes);if(_!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var z=1<<31-$e(_);S.entanglements[1]|=z,_&=~z}Wi(y),(it&6)===0&&(fh=nn()+500,nu(0))}}break;case 31:case 13:S=fa(y,2),S!==null&&Rn(S,y,2),mh(),Wm(y,2)}if(y=Zm(c),y===null&&Vm(i,s,c,kh,l),y===d)break;d=y}d!==null&&c.stopPropagation()}else Vm(i,s,c,null,l)}}function Zm(i){return i=Zn(i),ep(i)}var kh=null;function ep(i){if(kh=null,i=Li(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===31){if(i=h(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return kh=i,null}function ib(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ur()){case ne:return 2;case fe:return 8;case _e:case Pe:return 32;case Je:return 268435456;default:return 32}default:return 32}}var tp=!1,bs=null,_s=null,Es=null,uu=new Map,cu=new Map,ws=[],w2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rb(i,s){switch(i){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":uu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":cu.delete(s.pointerId)}}function hu(i,s,l,c,d,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[d]},s!==null&&(s=Jn(s),s!==null&&tb(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function T2(i,s,l,c,d){switch(s){case"focusin":return bs=hu(bs,i,s,l,c,d),!0;case"dragenter":return _s=hu(_s,i,s,l,c,d),!0;case"mouseover":return Es=hu(Es,i,s,l,c,d),!0;case"pointerover":var y=d.pointerId;return uu.set(y,hu(uu.get(y)||null,i,s,l,c,d)),!0;case"gotpointercapture":return y=d.pointerId,cu.set(y,hu(cu.get(y)||null,i,s,l,c,d)),!0}return!1}function sb(i){var s=Li(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,gi(i.priority,function(){nb(l)});return}}else if(s===31){if(s=h(l),s!==null){i.blockedOn=s,gi(i.priority,function(){nb(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Rh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Zm(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);To=c,l.target.dispatchEvent(c),To=null}else return s=Jn(l),s!==null&&tb(s),i.blockedOn=l,!1;s.shift()}return!0}function ab(i,s,l){Rh(i)&&l.delete(s)}function S2(){tp=!1,bs!==null&&Rh(bs)&&(bs=null),_s!==null&&Rh(_s)&&(_s=null),Es!==null&&Rh(Es)&&(Es=null),uu.forEach(ab),cu.forEach(ab)}function Dh(i,s){i.blockedOn===s&&(i.blockedOn=null,tp||(tp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,S2)))}var Oh=null;function lb(i){Oh!==i&&(Oh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Oh===i&&(Oh=null);for(var s=0;s<i.length;s+=3){var l=i[s],c=i[s+1],d=i[s+2];if(typeof c!="function"){if(ep(c||l)===null)continue;break}var y=Jn(l);y!==null&&(i.splice(s,3),s-=3,Zd(y,{pending:!0,data:d,method:l.method,action:c},c,d))}}))}function Il(i){function s(z){return Dh(z,i)}bs!==null&&Dh(bs,i),_s!==null&&Dh(_s,i),Es!==null&&Dh(Es,i),uu.forEach(s),cu.forEach(s);for(var l=0;l<ws.length;l++){var c=ws[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<ws.length&&(l=ws[0],l.blockedOn===null);)sb(l),l.blockedOn===null&&ws.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var d=l[c],y=l[c+1],_=d[Jt]||null;if(typeof y=="function")_||lb(l);else if(_){var S=null;if(y&&y.hasAttribute("formAction")){if(d=y,_=y[Jt]||null)S=_.formAction;else if(ep(d)!==null)continue}else S=_.action;typeof S=="function"?l[c+1]=S:(l.splice(c,3),c-=3),lb(l)}}}function ob(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(_){return d=_})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function np(i){this._internalRoot=i}jh.prototype.render=np.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,c=Hn();Zx(l,c,i,s,null,null)},jh.prototype.unmount=np.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Zx(i.current,2,null,i,null,null),mh(),s[Mi]=null}};function jh(i){this._internalRoot=i}jh.prototype.unstable_scheduleHydration=function(i){if(i){var s=mc();i={blockedOn:null,target:i,priority:s};for(var l=0;l<ws.length&&s!==0&&s<ws[l].priority;l++);ws.splice(l,0,i),l===0&&sb(i)}};var ub=e.version;if(ub!=="19.2.0")throw Error(r(527,ub,"19.2.0"));le.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var A2={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mh.isDisabled&&Mh.supportsFiber)try{kt=Mh.inject(A2),wt=Mh}catch{}}return fu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,c="",d=gv,y=yv,_=vv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=Wx(i,1,!1,null,null,l,c,null,d,y,_,ob),i[Mi]=s.current,Lm(i),new np(s)},fu.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var c=!1,d="",y=gv,_=yv,S=vv,z=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(z=l.formState)),s=Wx(i,1,!0,s,l??null,c,d,z,y,_,S,ob),s.context=Jx(null),l=s.current,c=Hn(),c=ea(c),d=os(c),d.callback=null,us(l,d,c),l=c,s.current.lanes=l,Js(s,l),Wi(s),i[Mi]=s.current,Lm(i),new jh(s)},fu.version="19.2.0",fu}var db;function j2(){if(db)return ip.exports;db=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ip.exports=O2(),ip.exports}var M2=j2();const P2=Cg(M2);const L2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V2=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),mb=t=>{const e=V2(t);return e.charAt(0).toUpperCase()+e.slice(1)},rE=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),z2=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var U2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const B2=ee.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:u,...h},m)=>ee.createElement("svg",{ref:m,...U2,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:rE("lucide",a),...!o&&!z2(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,v])=>ee.createElement(p,v)),...Array.isArray(o)?o:[o]]));const be=(t,e)=>{const n=ee.forwardRef(({className:r,...a},o)=>ee.createElement(B2,{ref:o,iconNode:e,className:rE(`lucide-${L2(mb(t))}`,`lucide-${t}`,r),...a}));return n.displayName=mb(t),n};const F2=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Vp=be("activity",F2);const q2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],zp=be("arrow-right",q2);const H2=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],G2=be("bell",H2);const $2=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],sE=be("book-open",$2);const Y2=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],aE=be("brain",Y2);const K2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Q2=be("calendar",K2);const X2=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],af=be("chart-column",X2);const W2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],lE=be("chevron-down",W2);const J2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ng=be("chevron-right",J2);const Z2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Or=be("circle-alert",Z2);const eC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Vs=be("circle-check",eC);const tC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oE=be("circle-question-mark",tC);const nC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],iC=be("clock",nC);const rC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Zl=be("copy",rC);const sC=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],aC=be("credit-card",sC);const lC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],oC=be("download",lC);const uC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],cC=be("eye-off",uC);const hC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fC=be("eye",hC);const dC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],pb=be("file-text",dC);const mC=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],ql=be("gavel",mC);const pC=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],gC=be("heart",pC);const yC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],jr=be("history",yC);const vC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Up=be("image",vC);const xC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ig=be("info",xC);const bC=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Of=be("lightbulb",bC);const _C=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Gs=be("loader-circle",_C);const EC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],wC=be("lock",EC);const TC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],SC=be("log-out",TC);const AC=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],CC=be("mail",AC);const NC=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],uE=be("message-square",NC);const IC=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],lf=be("mic",IC);const kC=[["path",{d:"M5 12h14",key:"1ays0h"}]],RC=be("minus",kC);const DC=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],cE=be("play",DC);const OC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],jC=be("refresh-cw",OC);const MC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],PC=be("rotate-ccw",MC);const LC=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],hE=be("scale",LC);const VC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Bp=be("search",VC);const zC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],kg=be("send",zC);const UC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fE=be("settings",UC);const BC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],dE=be("shield",BC);const FC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],jf=be("sparkles",FC);const qC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],HC=be("square",qC);const GC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],gb=be("star",GC);const $C=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],YC=be("swords",$C);const KC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Mu=be("target",KC);const QC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mE=be("trash-2",QC);const XC=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],WC=be("trending-down",XC);const JC=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ZC=be("trending-up",JC);const eN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ap=be("trophy",eN);const tN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],pE=be("upload",tN);const nN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gE=be("user",nN);const iN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],yb=be("users",iN);const rN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sN=be("x",rN);const aN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],vb=be("zap",aN),lN=()=>{};var xb={};const yE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},oN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],u=t[n++],h=t[n++],m=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},vE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],u=a+1<t.length,h=u?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,v=o>>2,x=(o&3)<<4|h>>4;let E=(h&15)<<2|p>>6,w=p&63;m||(w=64,u||(E=64)),r.push(n[v],n[x],n[E],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const x=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||h==null||p==null||x==null)throw new uN;const E=o<<2|h>>4;if(r.push(E),p!==64){const w=h<<4&240|p>>2;if(r.push(w),x!==64){const N=p<<6&192|x;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class uN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cN=function(t){const e=yE(t);return vE.encodeByteArray(e,!0)},of=function(t){return cN(t).replace(/\./g,"")},xE=function(t){try{return vE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const fN=()=>hN().__FIREBASE_DEFAULTS__,dN=()=>{if(typeof process>"u"||typeof xb>"u")return;const t=xb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xE(t[1]);return e&&JSON.parse(e)},Mf=()=>{try{return lN()||fN()||dN()||mN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bE=t=>Mf()?.emulatorHosts?.[t],pN=t=>{const e=bE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_E=()=>Mf()?.config,EE=t=>Mf()?.[`_${t}`];class gN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function eo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wE(t){return(await fetch(t,{credentials:"include"})).ok}function yN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[of(JSON.stringify(n)),of(JSON.stringify(u)),""].join(".")}const Tu={};function vN(){const t={prod:[],emulator:[]};for(const e of Object.keys(Tu))Tu[e]?t.emulator.push(e):t.prod.push(e);return t}function xN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let bb=!1;function TE(t,e){if(typeof window>"u"||typeof document>"u"||!eo(window.location.host)||Tu[t]===e||Tu[t]||bb)return;Tu[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=vN().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,w){E.setAttribute("width","24"),E.setAttribute("id",w),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{bb=!0,u()},E}function v(E,w){E.setAttribute("id",w),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function x(){const E=xN(r),w=n("text"),N=document.getElementById(w)||document.createElement("span"),L=n("learnmore"),P=document.getElementById(L)||document.createElement("a"),U=n("preprendIcon"),F=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const q=E.element;h(q),v(P,L);const te=p();m(F,U),q.append(F,N,P,te),document.body.appendChild(q)}o?(N.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function _N(){const t=Mf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SN(){const t=bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AN(){return!_N()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CN(){try{return typeof indexedDB=="object"}catch{return!1}}function NN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const IN="FirebaseError";class Ur extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=IN,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xu.prototype.create)}}class Xu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?kN(o,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Ur(a,h,r)}}function kN(t,e){return t.replace(RN,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const RN=/\{\$([^}]+)}/g;function DN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ka(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],u=e[a];if(_b(o)&&_b(u)){if(!ka(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function _b(t){return t!==null&&typeof t=="object"}function Wu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function xu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ON(t,e){const n=new jN(t,e);return n.subscribe.bind(n)}class jN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");MN(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=lp),a.error===void 0&&(a.error=lp),a.complete===void 0&&(a.complete=lp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lp(){}function hn(t){return t&&t._delegate?t._delegate:t}class Ra{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Aa="[DEFAULT]";class PN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new gN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VN(e))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Aa){return this.instances.has(e)}getOptions(e=Aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Aa){return this.component?this.component.multipleInstances?e:Aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LN(t){return t===Aa?void 0:t}function VN(t){return t.instantiationMode==="EAGER"}class zN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const UN={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},BN=qe.INFO,FN={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},qN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=FN[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rg{constructor(e){this.name=e,this._logLevel=BN,this._logHandler=qN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const HN=(t,e)=>e.some(n=>t instanceof n);let Eb,wb;function GN(){return Eb||(Eb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $N(){return wb||(wb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SE=new WeakMap,Fp=new WeakMap,AE=new WeakMap,op=new WeakMap,Dg=new WeakMap;function YN(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(Ds(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&SE.set(n,t)}).catch(()=>{}),Dg.set(e,t),e}function KN(t){if(Fp.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});Fp.set(t,e)}let qp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ds(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QN(t){qp=t(qp)}function XN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(up(this),e,...n);return AE.set(r,e.sort?e.sort():[e]),Ds(r)}:$N().includes(t)?function(...e){return t.apply(up(this),e),Ds(SE.get(this))}:function(...e){return Ds(t.apply(up(this),e))}}function WN(t){return typeof t=="function"?XN(t):(t instanceof IDBTransaction&&KN(t),HN(t,GN())?new Proxy(t,qp):t)}function Ds(t){if(t instanceof IDBRequest)return YN(t);if(op.has(t))return op.get(t);const e=WN(t);return e!==t&&(op.set(t,e),Dg.set(e,t)),e}const up=t=>Dg.get(t);function JN(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(t,e),h=Ds(u);return r&&u.addEventListener("upgradeneeded",m=>{r(Ds(u.result),m.oldVersion,m.newVersion,Ds(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),h.then(m=>{o&&m.addEventListener("close",()=>o()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const ZN=["get","getKey","getAll","getAllKeys","count"],eI=["put","add","delete","clear"],cp=new Map;function Tb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cp.get(e))return cp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=eI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||ZN.includes(n)))return;const o=async function(u,...h){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&m.done]))[0]};return cp.set(e,o),o}QN(t=>({...t,get:(e,n,r)=>Tb(e,n)||t.get(e,n,r),has:(e,n)=>!!Tb(e,n)||t.has(e,n)}));class tI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nI(t){return t.getComponent()?.type==="VERSION"}const Hp="@firebase/app",Sb="0.14.6";const Mr=new Rg("@firebase/app"),iI="@firebase/app-compat",rI="@firebase/analytics-compat",sI="@firebase/analytics",aI="@firebase/app-check-compat",lI="@firebase/app-check",oI="@firebase/auth",uI="@firebase/auth-compat",cI="@firebase/database",hI="@firebase/data-connect",fI="@firebase/database-compat",dI="@firebase/functions",mI="@firebase/functions-compat",pI="@firebase/installations",gI="@firebase/installations-compat",yI="@firebase/messaging",vI="@firebase/messaging-compat",xI="@firebase/performance",bI="@firebase/performance-compat",_I="@firebase/remote-config",EI="@firebase/remote-config-compat",wI="@firebase/storage",TI="@firebase/storage-compat",SI="@firebase/firestore",AI="@firebase/ai",CI="@firebase/firestore-compat",NI="firebase",II="12.6.0";const Gp="[DEFAULT]",kI={[Hp]:"fire-core",[iI]:"fire-core-compat",[sI]:"fire-analytics",[rI]:"fire-analytics-compat",[lI]:"fire-app-check",[aI]:"fire-app-check-compat",[oI]:"fire-auth",[uI]:"fire-auth-compat",[cI]:"fire-rtdb",[hI]:"fire-data-connect",[fI]:"fire-rtdb-compat",[dI]:"fire-fn",[mI]:"fire-fn-compat",[pI]:"fire-iid",[gI]:"fire-iid-compat",[yI]:"fire-fcm",[vI]:"fire-fcm-compat",[xI]:"fire-perf",[bI]:"fire-perf-compat",[_I]:"fire-rc",[EI]:"fire-rc-compat",[wI]:"fire-gcs",[TI]:"fire-gcs-compat",[SI]:"fire-fst",[CI]:"fire-fst-compat",[AI]:"fire-vertex","fire-js":"fire-js",[NI]:"fire-js-all"};const uf=new Map,RI=new Map,$p=new Map;function Ab(t,e){try{t.container.addComponent(e)}catch(n){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hl(t){const e=t.name;if($p.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;$p.set(e,t);for(const n of uf.values())Ab(n,t);for(const n of RI.values())Ab(n,t);return!0}function Og(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $n(t){return t==null?!1:t.settings!==void 0}const DI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new Xu("app","Firebase",DI);class OI{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}const to=II;function CE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Gp,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Os.create("bad-app-name",{appName:String(a)});if(n||(n=_E()),!n)throw Os.create("no-options");const o=uf.get(a);if(o){if(ka(n,o.options)&&ka(r,o.config))return o;throw Os.create("duplicate-app",{appName:a})}const u=new zN(a);for(const m of $p.values())u.addComponent(m);const h=new OI(n,r,u);return uf.set(a,h),h}function NE(t=Gp){const e=uf.get(t);if(!e&&t===Gp&&_E())return CE();if(!e)throw Os.create("no-app",{appName:t});return e}function js(t,e,n){let r=kI[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(u.join(" "));return}Hl(new Ra(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const jI="firebase-heartbeat-database",MI=1,Pu="firebase-heartbeat-store";let hp=null;function IE(){return hp||(hp=JN(jI,MI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Os.create("idb-open",{originalErrorMessage:t.message})})),hp}async function PI(t){try{const n=(await IE()).transaction(Pu),r=await n.objectStore(Pu).get(kE(t));return await n.done,r}catch(e){if(e instanceof Ur)Mr.warn(e.message);else{const n=Os.create("idb-get",{originalErrorMessage:e?.message});Mr.warn(n.message)}}}async function Cb(t,e){try{const r=(await IE()).transaction(Pu,"readwrite");await r.objectStore(Pu).put(e,kE(t)),await r.done}catch(n){if(n instanceof Ur)Mr.warn(n.message);else{const r=Os.create("idb-set",{originalErrorMessage:n?.message});Mr.warn(r.message)}}}function kE(t){return`${t.name}!${t.options.appId}`}const LI=1024,VI=30;class zI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Nb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>VI){const a=FI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Mr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Nb(),{heartbeatsToSend:n,unsentEntries:r}=UI(this._heartbeatsCache.heartbeats),a=of(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Mr.warn(e),""}}}function Nb(){return new Date().toISOString().substring(0,10)}function UI(t,e=LI){const n=[];let r=t.slice();for(const a of t){const o=n.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),Ib(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Ib(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class BI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CN()?NN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await PI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Cb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Cb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ib(t){return of(JSON.stringify({version:2,heartbeats:t})).length}function FI(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function qI(t){Hl(new Ra("platform-logger",e=>new tI(e),"PRIVATE")),Hl(new Ra("heartbeat",e=>new zI(e),"PRIVATE")),js(Hp,Sb,t),js(Hp,Sb,"esm2020"),js("fire-js","")}qI("");var HI="firebase",GI="12.6.0";js(HI,GI,"app");function RE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $I=RE,DE=new Xu("auth","Firebase",RE());const cf=new Rg("@firebase/auth");function YI(t,...e){cf.logLevel<=qe.WARN&&cf.warn(`Auth (${to}): ${t}`,...e)}function Yh(t,...e){cf.logLevel<=qe.ERROR&&cf.error(`Auth (${to}): ${t}`,...e)}function fi(t,...e){throw Mg(t,...e)}function Ci(t,...e){return Mg(t,...e)}function jg(t,e,n){const r={...$I(),[e]:n};return new Xu("auth","Firebase",r).create(e,{appName:t.name})}function Dr(t){return jg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KI(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&fi(t,"argument-error"),jg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DE.create(t,...e)}function Se(t,e,...n){if(!t)throw Mg(e,...n)}function kr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yh(e),new Error(e)}function Pr(t,e){t||kr(e)}function Yp(){return typeof self<"u"&&self.location?.href||""}function QI(){return kb()==="http:"||kb()==="https:"}function kb(){return typeof self<"u"&&self.location?.protocol||null}function XI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QI()||wN()||"connection"in navigator)?navigator.onLine:!0}function WI(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Ju{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pr(n>e,"Short delay should be less than long delay!"),this.isMobile=bN()||TN()}get(){return XI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pg(t,e){Pr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class OE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const JI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ZI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ek=new Ju(3e4,6e4);function Br(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fr(t,e,n,r,a={}){return jE(t,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=Wu({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...o};return EN()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&eo(t.emulatorConfig.host)&&(p.credentials="include"),OE.fetch()(await ME(t,t.config.apiHost,n,h),p)})}async function jE(t,e,n){t._canInitEmulator=!1;const r={...JI,...e};try{const a=new nk(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Ph(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[m,p]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ph(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Ph(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw Ph(t,"user-disabled",u);const v=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw jg(t,v,p);fi(t,v)}}catch(a){if(a instanceof Ur)throw a;fi(t,"network-request-failed",{message:String(a)})}}async function Zu(t,e,n,r,a={}){const o=await Fr(t,e,n,r,a);return"mfaPendingCredential"in o&&fi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function ME(t,e,n,r){const a=`${e}${n}?${r}`,o=t,u=o.config.emulator?Pg(t.config,a):`${t.config.apiScheme}://${a}`;return ZI.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function tk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ci(this.auth,"network-request-failed")),ek.get())})}}function Ph(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Ci(t,e,r);return a.customData._tokenResponse=n,a}function Rb(t){return t!==void 0&&t.enterprise!==void 0}class ik{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return tk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rk(t,e){return Fr(t,"GET","/v2/recaptchaConfig",Br(t,e))}async function sk(t,e){return Fr(t,"POST","/v1/accounts:delete",e)}async function hf(t,e){return Fr(t,"POST","/v1/accounts:lookup",e)}function Su(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ak(t,e=!1){const n=hn(t),r=await n.getIdToken(e),a=Lg(r);Se(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o?.sign_in_provider;return{claims:a,token:r,authTime:Su(fp(a.auth_time)),issuedAtTime:Su(fp(a.iat)),expirationTime:Su(fp(a.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function fp(t){return Number(t)*1e3}function Lg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yh("JWT malformed, contained fewer than 3 sections"),null;try{const a=xE(n);return a?JSON.parse(a):(Yh("Failed to decode base64 JWT payload"),null)}catch(a){return Yh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Db(t){const e=Lg(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Lu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ur&&lk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function lk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class ok{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Kp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Su(this.lastLoginAt),this.creationTime=Su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ff(t){const e=t.auth,n=await t.getIdToken(),r=await Lu(t,hf(e,{idToken:n}));Se(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const o=a.providerUserInfo?.length?PE(a.providerUserInfo):[],u=ck(t.providerData,o),h=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,p=h?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Kp(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function uk(t){const e=hn(t);await ff(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ck(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function PE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function hk(t,e){const n=await jE(t,{},async()=>{const r=Wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,u=await ME(t,a,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:r};return t.emulatorConfig&&eo(t.emulatorConfig.host)&&(m.credentials="include"),OE.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fk(t,e){return Fr(t,"POST","/v2/accounts:revokeToken",Br(t,e))}class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Db(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=Db(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await hk(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,u=new Vl;return r&&(Se(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Se(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(Se(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return kr("not implemented")}}function Ss(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ai{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new ok(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Kp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Lu(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ak(this,e)}reload(){return uk(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ff(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(Dr(this.auth));const e=await this.getIdToken();return await Lu(this,sk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,o=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:x,emailVerified:E,isAnonymous:w,providerData:N,stsTokenManager:L}=n;Se(x&&L,e,"internal-error");const P=Vl.fromJSON(this.name,L);Se(typeof x=="string",e,"internal-error"),Ss(r,e.name),Ss(a,e.name),Se(typeof E=="boolean",e,"internal-error"),Se(typeof w=="boolean",e,"internal-error"),Ss(o,e.name),Ss(u,e.name),Ss(h,e.name),Ss(m,e.name),Ss(p,e.name),Ss(v,e.name);const U=new Ai({uid:x,auth:e,email:a,emailVerified:E,displayName:r,isAnonymous:w,photoURL:u,phoneNumber:o,tenantId:h,stsTokenManager:P,createdAt:p,lastLoginAt:v});return N&&Array.isArray(N)&&(U.providerData=N.map(F=>({...F}))),m&&(U._redirectEventId=m),U}static async _fromIdTokenResponse(e,n,r=!1){const a=new Vl;a.updateFromServerResponse(n);const o=new Ai({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await ff(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Se(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?PE(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!o?.length,h=new Vl;h.updateFromIdToken(r);const m=new Ai({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Kp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(m,p),m}}const Ob=new Map;function Rr(t){Pr(t instanceof Function,"Expected a class definition");let e=Ob.get(t);return e?(Pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ob.set(t,e),e)}class LE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LE.type="NONE";const jb=LE;function Kh(t,e,n){return`firebase:${t}:${e}:${n}`}class zl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Kh(this.userKey,a.apiKey,o),this.fullPersistenceKey=Kh("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hf(this.auth,{idToken:e}).catch(()=>{});return n?Ai._fromGetAccountInfoResponse(this.auth,n,e):null}return Ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new zl(Rr(jb),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||Rr(jb);const u=Kh(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const v=await p._get(u);if(v){let x;if(typeof v=="string"){const E=await hf(e,{idToken:v}).catch(()=>{});if(!E)break;x=await Ai._fromGetAccountInfoResponse(e,E,v)}else x=Ai._fromJSON(e,v);p!==o&&(h=x),o=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!m.length?new zl(o,e,r):(o=m[0],h&&await o._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(u)}catch{}})),new zl(o,e,r))}}function Mb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qE(e))return"Blackberry";if(HE(e))return"Webos";if(zE(e))return"Safari";if((e.includes("chrome/")||UE(e))&&!e.includes("edge/"))return"Chrome";if(FE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function VE(t=bn()){return/firefox\//i.test(t)}function zE(t=bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UE(t=bn()){return/crios\//i.test(t)}function BE(t=bn()){return/iemobile/i.test(t)}function FE(t=bn()){return/android/i.test(t)}function qE(t=bn()){return/blackberry/i.test(t)}function HE(t=bn()){return/webos/i.test(t)}function Vg(t=bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dk(t=bn()){return Vg(t)&&!!window.navigator?.standalone}function mk(){return SN()&&document.documentMode===10}function GE(t=bn()){return Vg(t)||FE(t)||HE(t)||qE(t)||/windows phone/i.test(t)||BE(t)}function $E(t,e=[]){let n;switch(t){case"Browser":n=Mb(bn());break;case"Worker":n=`${Mb(bn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${to}/${r}`}class pk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((u,h)=>{try{const m=e(o);u(m)}catch(m){h(m)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function gk(t,e={}){return Fr(t,"GET","/v2/passwordPolicy",Br(t,e))}const yk=6;class vk{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??yk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class xk{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pb(this),this.idTokenSubscription=new Pb(this),this.beforeStateQueue=new pk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await zl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hf(this,{idToken:e}),r=await Ai._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($n(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===u)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ff(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(Dr(this));const n=e?hn(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(Dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(Dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gk(this),n=new vk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fk(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rr(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await zl.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,r,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$E(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&YI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function $s(t){return hn(t)}class Pb{constructor(e){this.auth=e,this.observer=null,this.addObserver=ON(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bk(t){Pf=t}function YE(t){return Pf.loadJS(t)}function _k(){return Pf.recaptchaEnterpriseScript}function Ek(){return Pf.gapiScript}function wk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Tk{constructor(){this.enterprise=new Sk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Sk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Ak="recaptcha-enterprise",KE="NO_RECAPTCHA";class Ck{constructor(e){this.type=Ak,this.auth=$s(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{rk(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new ik(m);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,u(p.siteKey)}}).catch(m=>{h(m)})})}function a(o,u,h){const m=window.grecaptcha;Rb(m)?m.enterprise.ready(()=>{m.enterprise.execute(o,{action:e}).then(p=>{u(p)}).catch(()=>{u(KE)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Tk().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!n&&Rb(window.grecaptcha))a(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=_k();m.length!==0&&(m+=h),YE(m).then(()=>{a(h,o,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function Lb(t,e,n,r=!1,a=!1){const o=new Ck(t);let u;if(a)u=KE;else try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const m=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const m=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Qp(t,e,n,r,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Lb(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Lb(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(o)})}function Nk(t,e){const n=Og(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(ka(o,e??{}))return a;fi(a,"already-initialized")}return n.initialize({options:e})}function Ik(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Rr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function kk(t,e,n){const r=$s(t);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=QE(e),{host:u,port:h}=Rk(e),m=h===null?"":`:${h}`,p={url:`${o}//${u}${m}/`},v=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(ka(p,r.config.emulator)&&ka(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,eo(u)?(wE(`${o}//${u}${m}`),TE("Auth",!0)):Dk()}function QE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Rk(t){const e=QE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:Vb(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:Vb(u)}}}function Vb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Dk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class zg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return kr("not implemented")}_getIdTokenResponse(e){return kr("not implemented")}_linkToIdToken(e,n){return kr("not implemented")}_getReauthenticationResolver(e){return kr("not implemented")}}async function Ok(t,e){return Fr(t,"POST","/v1/accounts:signUp",e)}async function jk(t,e){return Zu(t,"POST","/v1/accounts:signInWithPassword",Br(t,e))}async function Mk(t,e){return Fr(t,"POST","/v1/accounts:sendOobCode",Br(t,e))}async function Pk(t,e){return Mk(t,e)}async function Lk(t,e){return Zu(t,"POST","/v1/accounts:signInWithEmailLink",Br(t,e))}async function Vk(t,e){return Zu(t,"POST","/v1/accounts:signInWithEmailLink",Br(t,e))}class Vu extends zg{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Vu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Vu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qp(e,n,"signInWithPassword",jk);case"emailLink":return Lk(e,{email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qp(e,r,"signUpPassword",Ok);case"emailLink":return Vk(e,{idToken:n,email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ul(t,e){return Zu(t,"POST","/v1/accounts:signInWithIdp",Br(t,e))}const zk="http://localhost";class Da extends zg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=n;if(!r||!a)return null;const u=new Da(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Ul(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ul(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ul(e,n)}buildRequest(){const e={requestUri:zk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wu(n)}return e}}function Uk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Bk(t){const e=vu(xu(t)).link,n=e?vu(xu(e)).deep_link_id:null,r=vu(xu(t)).deep_link_id;return(r?vu(xu(r)).link:null)||r||n||e||t}class Ug{constructor(e){const n=vu(xu(e)),r=n.apiKey??null,a=n.oobCode??null,o=Uk(n.mode??null);Se(r&&a&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Bk(e);try{return new Ug(n)}catch{return null}}}class no{constructor(){this.providerId=no.PROVIDER_ID}static credential(e,n){return Vu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ug.parseLink(n);return Se(r,"argument-error"),Vu._fromEmailAndCode(e,r.code,r.tenantId)}}no.PROVIDER_ID="password";no.EMAIL_PASSWORD_SIGN_IN_METHOD="password";no.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Bg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ec extends Bg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ns extends ec{constructor(){super("facebook.com")}static credential(e){return Da._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ns.PROVIDER_ID="facebook.com";class Ir extends ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Da._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ir.credential(n,r)}catch{return null}}}Ir.GOOGLE_SIGN_IN_METHOD="google.com";Ir.PROVIDER_ID="google.com";class Is extends ec{constructor(){super("github.com")}static credential(e){return Da._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.GITHUB_SIGN_IN_METHOD="github.com";Is.PROVIDER_ID="github.com";class ks extends ec{constructor(){super("twitter.com")}static credential(e,n){return Da._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ks.credential(n,r)}catch{return null}}}ks.TWITTER_SIGN_IN_METHOD="twitter.com";ks.PROVIDER_ID="twitter.com";async function Fk(t,e){return Zu(t,"POST","/v1/accounts:signUp",Br(t,e))}class Oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await Ai._fromIdTokenResponse(e,r,a),u=zb(r);return new Oa({user:o,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=zb(r);return new Oa({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function zb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class df extends Ur{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,df.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new df(e,n,r,a)}}function XE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?df._fromErrorAndOperation(t,o,e,r):o})}async function qk(t,e,n=!1){const r=await Lu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Oa._forOperation(t,"link",r)}async function Hk(t,e,n=!1){const{auth:r}=t;if($n(r.app))return Promise.reject(Dr(r));const a="reauthenticate";try{const o=await Lu(t,XE(r,a,e,t),n);Se(o.idToken,r,"internal-error");const u=Lg(o.idToken);Se(u,r,"internal-error");const{sub:h}=u;return Se(t.uid===h,r,"user-mismatch"),Oa._forOperation(t,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&fi(r,"user-mismatch"),o}}async function WE(t,e,n=!1){if($n(t.app))return Promise.reject(Dr(t));const r="signIn",a=await XE(t,r,e),o=await Oa._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}async function Gk(t,e){return WE($s(t),e)}async function JE(t){const e=$s(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $k(t,e,n){if($n(t.app))return Promise.reject(Dr(t));const r=$s(t),u=await Qp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fk).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&JE(t),m}),h=await Oa._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function Yk(t,e,n){return $n(t.app)?Promise.reject(Dr(t)):Gk(hn(t),no.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&JE(t),r})}async function Kk(t,e){const n=hn(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:o}=await Pk(n.auth,a);o!==t.email&&await t.reload()}function Qk(t,e,n,r){return hn(t).onIdTokenChanged(e,n,r)}function Xk(t,e,n){return hn(t).beforeAuthStateChanged(e,n)}function Wk(t,e,n,r){return hn(t).onAuthStateChanged(e,n,r)}function Jk(t){return hn(t).signOut()}const mf="__sak";class ZE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mf,"1"),this.storage.removeItem(mf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Zk=1e3,eR=10;class ew extends ZE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,m)=>{this.notifyListeners(u,m)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);mk()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,eR):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Zk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ew.type="LOCAL";const tR=ew;class tw extends ZE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tw.type="SESSION";const nw=tw;function nR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Lf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,o)),m=await nR(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lf.receivers=[];function Fg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class iR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((h,m)=>{const p=Fg("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(x){const E=x;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(v),clearTimeout(o),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function er(){return window}function rR(t){er().location.href=t}function iw(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function sR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aR(){return navigator?.serviceWorker?.controller||null}function lR(){return iw()?self:null}const rw="firebaseLocalStorageDb",oR=1,pf="firebaseLocalStorage",sw="fbase_key";class tc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vf(t,e){return t.transaction([pf],e?"readwrite":"readonly").objectStore(pf)}function uR(){const t=indexedDB.deleteDatabase(rw);return new tc(t).toPromise()}function Xp(){const t=indexedDB.open(rw,oR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pf,{keyPath:sw})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pf)?e(r):(r.close(),await uR(),e(await Xp()))})})}async function Ub(t,e,n){const r=Vf(t,!0).put({[sw]:e,value:n});return new tc(r).toPromise()}async function cR(t,e){const n=Vf(t,!1).get(e),r=await new tc(n).toPromise();return r===void 0?null:r.value}function Bb(t,e){const n=Vf(t,!0).delete(e);return new tc(n).toPromise()}const hR=800,fR=3;class aw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>fR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lf._getInstance(lR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await sR(),!this.activeServiceWorker)return;this.sender=new iR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xp();return await Ub(e,mf,"1"),await Bb(e,mf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ub(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>cR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Bb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Vf(a,!1).getAll();return new tc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aw.type="LOCAL";const dR=aw;new Ju(3e4,6e4);function lw(t,e){return e?Rr(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class qg extends zg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ul(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ul(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mR(t){return WE(t.auth,new qg(t),t.bypassAuthState)}function pR(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),Hk(n,new qg(t),t.bypassAuthState)}async function gR(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),qk(n,new qg(t),t.bypassAuthState)}class ow{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mR;case"linkViaPopup":case"linkViaRedirect":return gR;case"reauthViaPopup":case"reauthViaRedirect":return pR;default:fi(this.auth,"internal-error")}}resolve(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const yR=new Ju(2e3,1e4);async function vR(t,e,n){if($n(t.app))return Promise.reject(Ci(t,"operation-not-supported-in-this-environment"));const r=$s(t);KI(t,e,Bg);const a=lw(r,n);return new Ca(r,"signInViaPopup",e,a).executeNotNull()}class Ca extends ow{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Ca.currentPopupAction&&Ca.currentPopupAction.cancel(),Ca.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Pr(this.filter.length===1,"Popup operations only handle one event");const e=Fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ca.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yR.get())};e()}}Ca.currentPopupAction=null;const xR="pendingRedirect",Qh=new Map;class bR extends ow{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qh.get(this.auth._key());if(!e){try{const r=await _R(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qh.set(this.auth._key(),e)}return this.bypassAuthState||Qh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _R(t,e){const n=TR(e),r=wR(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function ER(t,e){Qh.set(t._key(),e)}function wR(t){return Rr(t._redirectPersistence)}function TR(t){return Kh(xR,t.config.apiKey,t.name)}async function SR(t,e,n=!1){if($n(t.app))return Promise.reject(Dr(t));const r=$s(t),a=lw(r,e),u=await new bR(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const AR=600*1e3;class CR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!uw(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ci(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fb(e))}saveEventToCache(e){this.cachedEventUids.add(Fb(e)),this.lastProcessedEventTime=Date.now()}}function Fb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uw({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function NR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uw(t);default:return!1}}async function IR(t,e={}){return Fr(t,"GET","/v1/projects",e)}const kR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RR=/^https?/;async function DR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await IR(t);for(const n of e)try{if(OR(n))return}catch{}fi(t,"unauthorized-domain")}function OR(t){const e=Yp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!RR.test(n))return!1;if(kR.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const jR=new Ju(3e4,6e4);function qb(){const t=er().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function MR(t){return new Promise((e,n)=>{function r(){qb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qb(),n(Ci(t,"network-request-failed"))},timeout:jR.get()})}if(er().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(er().gapi?.load)r();else{const a=wk("iframefcb");return er()[a]=()=>{gapi.load?r():n(Ci(t,"network-request-failed"))},YE(`${Ek()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw Xh=null,e})}let Xh=null;function PR(t){return Xh=Xh||MR(t),Xh}const LR=new Ju(5e3,15e3),VR="__/auth/iframe",zR="emulator/auth/iframe",UR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FR(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Pg(e,zR):`https://${t.config.authDomain}/${VR}`,r={apiKey:e.apiKey,appName:t.name,v:to},a=BR.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Wu(r).slice(1)}`}async function qR(t){const e=await PR(t),n=er().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:FR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UR,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=Ci(t,"network-request-failed"),h=er().setTimeout(()=>{o(u)},LR.get());function m(){er().clearTimeout(h),a(r)}r.ping(m).then(m,()=>{o(u)})}))}const HR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GR=500,$R=600,YR="_blank",KR="http://localhost";class Hb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QR(t,e,n,r=GR,a=$R){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const m={...HR,width:r.toString(),height:a.toString(),top:o,left:u},p=bn().toLowerCase();n&&(h=UE(p)?YR:n),VE(p)&&(e=e||KR,m.scrollbars="yes");const v=Object.entries(m).reduce((E,[w,N])=>`${E}${w}=${N},`,"");if(dk(p)&&h!=="_self")return XR(e||"",h),new Hb(null);const x=window.open(e||"",h,v);Se(x,t,"popup-blocked");try{x.focus()}catch{}return new Hb(x)}function XR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const WR="__/auth/handler",JR="emulator/auth/handler",ZR=encodeURIComponent("fac");async function Gb(t,e,n,r,a,o){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:to,eventId:a};if(e instanceof Bg){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",DN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,x]of Object.entries({}))u[v]=x}if(e instanceof ec){const v=e.getScopes().filter(x=>x!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const m=await t._getAppCheckToken(),p=m?`#${ZR}=${encodeURIComponent(m)}`:"";return`${e4(t)}?${Wu(h).slice(1)}${p}`}function e4({config:t}){return t.emulator?Pg(t,JR):`https://${t.authDomain}/${WR}`}const dp="webStorageSupport";class t4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nw,this._completeRedirectFn=SR,this._overrideRedirectResult=ER}async _openPopup(e,n,r,a){Pr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Gb(e,n,r,Yp(),a);return QR(e,o,Fg())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await Gb(e,n,r,Yp(),a);return rR(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(Pr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await qR(e),r=new CR(e);return n.register("authEvent",a=>(Se(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dp,{type:dp},a=>{const o=a?.[0]?.[dp];o!==void 0&&n(!!o),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GE()||zE()||Vg()}}const n4=t4;var $b="@firebase/auth",Yb="1.11.1";class i4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function r4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s4(t){Hl(new Ra("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$E(t)},p=new xk(r,a,o,m);return Ik(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Hl(new Ra("auth-internal",e=>{const n=$s(e.getProvider("auth").getImmediate());return(r=>new i4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),js($b,Yb,r4(t)),js($b,Yb,"esm2020")}const a4=300,l4=EE("authIdTokenMaxAge")||a4;let Kb=null;const o4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>l4)return;const a=n?.token;Kb!==a&&(Kb=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function u4(t=NE()){const e=Og(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Nk(t,{popupRedirectResolver:n4,persistence:[dR,tR,nw]}),r=EE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=o4(o.toString());Xk(n,u,()=>u(n.currentUser)),Qk(n,h=>u(h))}}const a=bE("auth");return a&&kk(n,`http://${a}`),n}function c4(){return document.getElementsByTagName("head")?.[0]??document}bk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=Ci("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",c4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s4("Browser");var Qb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ms,cw;(function(){var t;function e(M,k){function O(){}O.prototype=k.prototype,M.F=k.prototype,M.prototype=new O,M.prototype.constructor=M,M.D=function(A,C,D){for(var R=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)R[ue-2]=arguments[ue];return k.prototype[C].apply(A,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,k,O){O||(O=0);const A=Array(16);if(typeof k=="string")for(var C=0;C<16;++C)A[C]=k.charCodeAt(O++)|k.charCodeAt(O++)<<8|k.charCodeAt(O++)<<16|k.charCodeAt(O++)<<24;else for(C=0;C<16;++C)A[C]=k[O++]|k[O++]<<8|k[O++]<<16|k[O++]<<24;k=M.g[0],O=M.g[1],C=M.g[2];let D=M.g[3],R;R=k+(D^O&(C^D))+A[0]+3614090360&4294967295,k=O+(R<<7&4294967295|R>>>25),R=D+(C^k&(O^C))+A[1]+3905402710&4294967295,D=k+(R<<12&4294967295|R>>>20),R=C+(O^D&(k^O))+A[2]+606105819&4294967295,C=D+(R<<17&4294967295|R>>>15),R=O+(k^C&(D^k))+A[3]+3250441966&4294967295,O=C+(R<<22&4294967295|R>>>10),R=k+(D^O&(C^D))+A[4]+4118548399&4294967295,k=O+(R<<7&4294967295|R>>>25),R=D+(C^k&(O^C))+A[5]+1200080426&4294967295,D=k+(R<<12&4294967295|R>>>20),R=C+(O^D&(k^O))+A[6]+2821735955&4294967295,C=D+(R<<17&4294967295|R>>>15),R=O+(k^C&(D^k))+A[7]+4249261313&4294967295,O=C+(R<<22&4294967295|R>>>10),R=k+(D^O&(C^D))+A[8]+1770035416&4294967295,k=O+(R<<7&4294967295|R>>>25),R=D+(C^k&(O^C))+A[9]+2336552879&4294967295,D=k+(R<<12&4294967295|R>>>20),R=C+(O^D&(k^O))+A[10]+4294925233&4294967295,C=D+(R<<17&4294967295|R>>>15),R=O+(k^C&(D^k))+A[11]+2304563134&4294967295,O=C+(R<<22&4294967295|R>>>10),R=k+(D^O&(C^D))+A[12]+1804603682&4294967295,k=O+(R<<7&4294967295|R>>>25),R=D+(C^k&(O^C))+A[13]+4254626195&4294967295,D=k+(R<<12&4294967295|R>>>20),R=C+(O^D&(k^O))+A[14]+2792965006&4294967295,C=D+(R<<17&4294967295|R>>>15),R=O+(k^C&(D^k))+A[15]+1236535329&4294967295,O=C+(R<<22&4294967295|R>>>10),R=k+(C^D&(O^C))+A[1]+4129170786&4294967295,k=O+(R<<5&4294967295|R>>>27),R=D+(O^C&(k^O))+A[6]+3225465664&4294967295,D=k+(R<<9&4294967295|R>>>23),R=C+(k^O&(D^k))+A[11]+643717713&4294967295,C=D+(R<<14&4294967295|R>>>18),R=O+(D^k&(C^D))+A[0]+3921069994&4294967295,O=C+(R<<20&4294967295|R>>>12),R=k+(C^D&(O^C))+A[5]+3593408605&4294967295,k=O+(R<<5&4294967295|R>>>27),R=D+(O^C&(k^O))+A[10]+38016083&4294967295,D=k+(R<<9&4294967295|R>>>23),R=C+(k^O&(D^k))+A[15]+3634488961&4294967295,C=D+(R<<14&4294967295|R>>>18),R=O+(D^k&(C^D))+A[4]+3889429448&4294967295,O=C+(R<<20&4294967295|R>>>12),R=k+(C^D&(O^C))+A[9]+568446438&4294967295,k=O+(R<<5&4294967295|R>>>27),R=D+(O^C&(k^O))+A[14]+3275163606&4294967295,D=k+(R<<9&4294967295|R>>>23),R=C+(k^O&(D^k))+A[3]+4107603335&4294967295,C=D+(R<<14&4294967295|R>>>18),R=O+(D^k&(C^D))+A[8]+1163531501&4294967295,O=C+(R<<20&4294967295|R>>>12),R=k+(C^D&(O^C))+A[13]+2850285829&4294967295,k=O+(R<<5&4294967295|R>>>27),R=D+(O^C&(k^O))+A[2]+4243563512&4294967295,D=k+(R<<9&4294967295|R>>>23),R=C+(k^O&(D^k))+A[7]+1735328473&4294967295,C=D+(R<<14&4294967295|R>>>18),R=O+(D^k&(C^D))+A[12]+2368359562&4294967295,O=C+(R<<20&4294967295|R>>>12),R=k+(O^C^D)+A[5]+4294588738&4294967295,k=O+(R<<4&4294967295|R>>>28),R=D+(k^O^C)+A[8]+2272392833&4294967295,D=k+(R<<11&4294967295|R>>>21),R=C+(D^k^O)+A[11]+1839030562&4294967295,C=D+(R<<16&4294967295|R>>>16),R=O+(C^D^k)+A[14]+4259657740&4294967295,O=C+(R<<23&4294967295|R>>>9),R=k+(O^C^D)+A[1]+2763975236&4294967295,k=O+(R<<4&4294967295|R>>>28),R=D+(k^O^C)+A[4]+1272893353&4294967295,D=k+(R<<11&4294967295|R>>>21),R=C+(D^k^O)+A[7]+4139469664&4294967295,C=D+(R<<16&4294967295|R>>>16),R=O+(C^D^k)+A[10]+3200236656&4294967295,O=C+(R<<23&4294967295|R>>>9),R=k+(O^C^D)+A[13]+681279174&4294967295,k=O+(R<<4&4294967295|R>>>28),R=D+(k^O^C)+A[0]+3936430074&4294967295,D=k+(R<<11&4294967295|R>>>21),R=C+(D^k^O)+A[3]+3572445317&4294967295,C=D+(R<<16&4294967295|R>>>16),R=O+(C^D^k)+A[6]+76029189&4294967295,O=C+(R<<23&4294967295|R>>>9),R=k+(O^C^D)+A[9]+3654602809&4294967295,k=O+(R<<4&4294967295|R>>>28),R=D+(k^O^C)+A[12]+3873151461&4294967295,D=k+(R<<11&4294967295|R>>>21),R=C+(D^k^O)+A[15]+530742520&4294967295,C=D+(R<<16&4294967295|R>>>16),R=O+(C^D^k)+A[2]+3299628645&4294967295,O=C+(R<<23&4294967295|R>>>9),R=k+(C^(O|~D))+A[0]+4096336452&4294967295,k=O+(R<<6&4294967295|R>>>26),R=D+(O^(k|~C))+A[7]+1126891415&4294967295,D=k+(R<<10&4294967295|R>>>22),R=C+(k^(D|~O))+A[14]+2878612391&4294967295,C=D+(R<<15&4294967295|R>>>17),R=O+(D^(C|~k))+A[5]+4237533241&4294967295,O=C+(R<<21&4294967295|R>>>11),R=k+(C^(O|~D))+A[12]+1700485571&4294967295,k=O+(R<<6&4294967295|R>>>26),R=D+(O^(k|~C))+A[3]+2399980690&4294967295,D=k+(R<<10&4294967295|R>>>22),R=C+(k^(D|~O))+A[10]+4293915773&4294967295,C=D+(R<<15&4294967295|R>>>17),R=O+(D^(C|~k))+A[1]+2240044497&4294967295,O=C+(R<<21&4294967295|R>>>11),R=k+(C^(O|~D))+A[8]+1873313359&4294967295,k=O+(R<<6&4294967295|R>>>26),R=D+(O^(k|~C))+A[15]+4264355552&4294967295,D=k+(R<<10&4294967295|R>>>22),R=C+(k^(D|~O))+A[6]+2734768916&4294967295,C=D+(R<<15&4294967295|R>>>17),R=O+(D^(C|~k))+A[13]+1309151649&4294967295,O=C+(R<<21&4294967295|R>>>11),R=k+(C^(O|~D))+A[4]+4149444226&4294967295,k=O+(R<<6&4294967295|R>>>26),R=D+(O^(k|~C))+A[11]+3174756917&4294967295,D=k+(R<<10&4294967295|R>>>22),R=C+(k^(D|~O))+A[2]+718787259&4294967295,C=D+(R<<15&4294967295|R>>>17),R=O+(D^(C|~k))+A[9]+3951481745&4294967295,M.g[0]=M.g[0]+k&4294967295,M.g[1]=M.g[1]+(C+(R<<21&4294967295|R>>>11))&4294967295,M.g[2]=M.g[2]+C&4294967295,M.g[3]=M.g[3]+D&4294967295}r.prototype.v=function(M,k){k===void 0&&(k=M.length);const O=k-this.blockSize,A=this.C;let C=this.h,D=0;for(;D<k;){if(C==0)for(;D<=O;)a(this,M,D),D+=this.blockSize;if(typeof M=="string"){for(;D<k;)if(A[C++]=M.charCodeAt(D++),C==this.blockSize){a(this,A),C=0;break}}else for(;D<k;)if(A[C++]=M[D++],C==this.blockSize){a(this,A),C=0;break}}this.h=C,this.o+=k},r.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var k=1;k<M.length-8;++k)M[k]=0;k=this.o*8;for(var O=M.length-8;O<M.length;++O)M[O]=k&255,k/=256;for(this.v(M),M=Array(16),k=0,O=0;O<4;++O)for(let A=0;A<32;A+=8)M[k++]=this.g[O]>>>A&255;return M};function o(M,k){var O=h;return Object.prototype.hasOwnProperty.call(O,M)?O[M]:O[M]=k(M)}function u(M,k){this.h=k;const O=[];let A=!0;for(let C=M.length-1;C>=0;C--){const D=M[C]|0;A&&D==k||(O[C]=D,A=!1)}this.g=O}var h={};function m(M){return-128<=M&&M<128?o(M,function(k){return new u([k|0],k<0?-1:0)}):new u([M|0],M<0?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return x;if(M<0)return P(p(-M));const k=[];let O=1;for(let A=0;M>=O;A++)k[A]=M/O|0,O*=4294967296;return new u(k,0)}function v(M,k){if(M.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(M.charAt(0)=="-")return P(v(M.substring(1),k));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=p(Math.pow(k,8));let A=x;for(let D=0;D<M.length;D+=8){var C=Math.min(8,M.length-D);const R=parseInt(M.substring(D,D+C),k);C<8?(C=p(Math.pow(k,C)),A=A.j(C).add(p(R))):(A=A.j(O),A=A.add(p(R)))}return A}var x=m(0),E=m(1),w=m(16777216);t=u.prototype,t.m=function(){if(L(this))return-P(this).m();let M=0,k=1;for(let O=0;O<this.g.length;O++){const A=this.i(O);M+=(A>=0?A:4294967296+A)*k,k*=4294967296}return M},t.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(N(this))return"0";if(L(this))return"-"+P(this).toString(M);const k=p(Math.pow(M,6));var O=this;let A="";for(;;){const C=te(O,k).g;O=U(O,C.j(k));let D=((O.g.length>0?O.g[0]:O.h)>>>0).toString(M);if(O=C,N(O))return D+A;for(;D.length<6;)D="0"+D;A=D+A}},t.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function N(M){if(M.h!=0)return!1;for(let k=0;k<M.g.length;k++)if(M.g[k]!=0)return!1;return!0}function L(M){return M.h==-1}t.l=function(M){return M=U(this,M),L(M)?-1:N(M)?0:1};function P(M){const k=M.g.length,O=[];for(let A=0;A<k;A++)O[A]=~M.g[A];return new u(O,~M.h).add(E)}t.abs=function(){return L(this)?P(this):this},t.add=function(M){const k=Math.max(this.g.length,M.g.length),O=[];let A=0;for(let C=0;C<=k;C++){let D=A+(this.i(C)&65535)+(M.i(C)&65535),R=(D>>>16)+(this.i(C)>>>16)+(M.i(C)>>>16);A=R>>>16,D&=65535,R&=65535,O[C]=R<<16|D}return new u(O,O[O.length-1]&-2147483648?-1:0)};function U(M,k){return M.add(P(k))}t.j=function(M){if(N(this)||N(M))return x;if(L(this))return L(M)?P(this).j(P(M)):P(P(this).j(M));if(L(M))return P(this.j(P(M)));if(this.l(w)<0&&M.l(w)<0)return p(this.m()*M.m());const k=this.g.length+M.g.length,O=[];for(var A=0;A<2*k;A++)O[A]=0;for(A=0;A<this.g.length;A++)for(let C=0;C<M.g.length;C++){const D=this.i(A)>>>16,R=this.i(A)&65535,ue=M.i(C)>>>16,ae=M.i(C)&65535;O[2*A+2*C]+=R*ae,F(O,2*A+2*C),O[2*A+2*C+1]+=D*ae,F(O,2*A+2*C+1),O[2*A+2*C+1]+=R*ue,F(O,2*A+2*C+1),O[2*A+2*C+2]+=D*ue,F(O,2*A+2*C+2)}for(M=0;M<k;M++)O[M]=O[2*M+1]<<16|O[2*M];for(M=k;M<2*k;M++)O[M]=0;return new u(O,0)};function F(M,k){for(;(M[k]&65535)!=M[k];)M[k+1]+=M[k]>>>16,M[k]&=65535,k++}function q(M,k){this.g=M,this.h=k}function te(M,k){if(N(k))throw Error("division by zero");if(N(M))return new q(x,x);if(L(M))return k=te(P(M),k),new q(P(k.g),P(k.h));if(L(k))return k=te(M,P(k)),new q(P(k.g),k.h);if(M.g.length>30){if(L(M)||L(k))throw Error("slowDivide_ only works with positive integers.");for(var O=E,A=k;A.l(M)<=0;)O=ce(O),A=ce(A);var C=G(O,1),D=G(A,1);for(A=G(A,2),O=G(O,2);!N(A);){var R=D.add(A);R.l(M)<=0&&(C=C.add(O),D=R),A=G(A,1),O=G(O,1)}return k=U(M,C.j(k)),new q(C,k)}for(C=x;M.l(k)>=0;){for(O=Math.max(1,Math.floor(M.m()/k.m())),A=Math.ceil(Math.log(O)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),D=p(O),R=D.j(k);L(R)||R.l(M)>0;)O-=A,D=p(O),R=D.j(k);N(D)&&(D=E),C=C.add(D),M=U(M,R)}return new q(C,M)}t.B=function(M){return te(this,M).h},t.and=function(M){const k=Math.max(this.g.length,M.g.length),O=[];for(let A=0;A<k;A++)O[A]=this.i(A)&M.i(A);return new u(O,this.h&M.h)},t.or=function(M){const k=Math.max(this.g.length,M.g.length),O=[];for(let A=0;A<k;A++)O[A]=this.i(A)|M.i(A);return new u(O,this.h|M.h)},t.xor=function(M){const k=Math.max(this.g.length,M.g.length),O=[];for(let A=0;A<k;A++)O[A]=this.i(A)^M.i(A);return new u(O,this.h^M.h)};function ce(M){const k=M.g.length+1,O=[];for(let A=0;A<k;A++)O[A]=M.i(A)<<1|M.i(A-1)>>>31;return new u(O,M.h)}function G(M,k){const O=k>>5;k%=32;const A=M.g.length-O,C=[];for(let D=0;D<A;D++)C[D]=k>0?M.i(D+O)>>>k|M.i(D+O+1)<<32-k:M.i(D+O);return new u(C,M.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,cw=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,Ms=u}).apply(typeof Qb<"u"?Qb:typeof self<"u"?self:typeof window<"u"?window:{});var Lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hw,bu,fw,Wh,Wp,dw,mw,pw;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lh=="object"&&Lh];for(var b=0;b<f.length;++b){var T=f[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function a(f,b){if(b)e:{var T=r;f=f.split(".");for(var I=0;I<f.length-1;I++){var $=f[I];if(!($ in T))break e;T=T[$]}f=f[f.length-1],I=T[f],b=b(I),b!=I&&b!=null&&e(T,f,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(b){var T=[],I;for(I in b)Object.prototype.hasOwnProperty.call(b,I)&&T.push([I,b[I]]);return T}});var o=o||{},u=this||self;function h(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function m(f,b,T){return f.call.apply(f.bind,arguments)}function p(f,b,T){return p=m,p.apply(null,arguments)}function v(f,b){var T=Array.prototype.slice.call(arguments,1);return function(){var I=T.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function x(f,b){function T(){}T.prototype=b.prototype,f.Z=b.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(I,$,W){for(var de=Array(arguments.length-2),De=2;De<arguments.length;De++)de[De-2]=arguments[De];return b.prototype[$].apply(I,de)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function w(f){const b=f.length;if(b>0){const T=Array(b);for(let I=0;I<b;I++)T[I]=f[I];return T}return[]}function N(f,b){for(let I=1;I<arguments.length;I++){const $=arguments[I];var T=typeof $;if(T=T!="object"?T:$?Array.isArray($)?"array":T:"null",T=="array"||T=="object"&&typeof $.length=="number"){T=f.length||0;const W=$.length||0;f.length=T+W;for(let de=0;de<W;de++)f[T+de]=$[de]}else f.push($)}}class L{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function P(f){u.setTimeout(()=>{throw f},0)}function U(){var f=M;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class F{constructor(){this.h=this.g=null}add(b,T){const I=q.get();I.set(b,T),this.h?this.h.next=I:this.g=I,this.h=I}}var q=new L(()=>new te,f=>f.reset());class te{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,G=!1,M=new F,k=()=>{const f=Promise.resolve(void 0);ce=()=>{f.then(O)}};function O(){for(var f;f=U();){try{f.h.call(f.g)}catch(T){P(T)}var b=q;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}G=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};u.addEventListener("test",T,b),u.removeEventListener("test",T,b)}catch{}return f})();function R(f){return/^[\s\xa0]*$/.test(f)}function ue(f,b){C.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}x(ue,C),ue.prototype.init=function(f,b){const T=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(T=="mouseover"?b=f.fromElement:T=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),K=0;function le(f,b,T,I,$){this.listener=f,this.proxy=null,this.src=b,this.type=T,this.capture=!!I,this.ha=$,this.key=++K,this.da=this.fa=!1}function me(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Re(f,b,T){for(const I in f)b.call(T,f[I],I,f)}function V(f,b){for(const T in f)b.call(void 0,f[T],T,f)}function We(f){const b={};for(const T in f)b[T]=f[T];return b}const Le="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(f,b){let T,I;for(let $=1;$<arguments.length;$++){I=arguments[$];for(T in I)f[T]=I[T];for(let W=0;W<Le.length;W++)T=Le[W],Object.prototype.hasOwnProperty.call(I,T)&&(f[T]=I[T])}}function Ie(f){this.src=f,this.g={},this.h=0}Ie.prototype.add=function(f,b,T,I,$){const W=f.toString();f=this.g[W],f||(f=this.g[W]=[],this.h++);const de=Xe(f,b,I,$);return de>-1?(b=f[de],T||(b.fa=!1)):(b=new le(b,this.src,W,!!I,$),b.fa=T,f.push(b)),b};function tt(f,b){const T=b.type;if(T in f.g){var I=f.g[T],$=Array.prototype.indexOf.call(I,b,void 0),W;(W=$>=0)&&Array.prototype.splice.call(I,$,1),W&&(me(b),f.g[T].length==0&&(delete f.g[T],f.h--))}}function Xe(f,b,T,I){for(let $=0;$<f.length;++$){const W=f[$];if(!W.da&&W.listener==b&&W.capture==!!T&&W.ha==I)return $}return-1}var vt="closure_lm_"+(Math.random()*1e6|0),At={};function _t(f,b,T,I,$){if(Array.isArray(b)){for(let W=0;W<b.length;W++)_t(f,b[W],T,I,$);return null}return T=Xs(T),f&&f[ae]?f.J(b,T,h(I)?!!I.capture:!1,$):Qn(f,b,T,!1,I,$)}function Qn(f,b,T,I,$,W){if(!b)throw Error("Invalid event type");const de=h($)?!!$.capture:!!$;let De=Ii(f);if(De||(f[vt]=De=new Ie(f)),T=De.add(b,T,I,de,W),T.proxy)return T;if(I=di(),T.proxy=I,I.src=f,I.listener=T,f.addEventListener)D||($=de),$===void 0&&($=!1),f.addEventListener(b.toString(),I,$);else if(f.attachEvent)f.attachEvent(Xn(b.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return T}function di(){function f(T){return b.call(f.src,f.listener,T)}const b=$r;return f}function Hr(f,b,T,I,$){if(Array.isArray(b))for(var W=0;W<b.length;W++)Hr(f,b[W],T,I,$);else I=h(I)?!!I.capture:!!I,T=Xs(T),f&&f[ae]?(f=f.i,W=String(b).toString(),W in f.g&&(b=f.g[W],T=Xe(b,T,I,$),T>-1&&(me(b[T]),Array.prototype.splice.call(b,T,1),b.length==0&&(delete f.g[W],f.h--)))):f&&(f=Ii(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Xe(b,T,I,$)),(T=f>-1?b[f]:null)&&Gr(T))}function Gr(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[ae])tt(b.i,f);else{var T=f.type,I=f.proxy;b.removeEventListener?b.removeEventListener(T,I,f.capture):b.detachEvent?b.detachEvent(Xn(T),I):b.addListener&&b.removeListener&&b.removeListener(I),(T=Ii(b))?(tt(T,f),T.h==0&&(T.src=null,b[vt]=null)):me(f)}}}function Xn(f){return f in At?At[f]:At[f]="on"+f}function $r(f,b){if(f.da)f=!0;else{b=new ue(b,this);const T=f.listener,I=f.ha||f.src;f.fa&&Gr(f),f=T.call(I,b)}return f}function Ii(f){return f=f[vt],f instanceof Ie?f:null}var Yr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xs(f){return typeof f=="function"?f:(f[Yr]||(f[Yr]=function(b){return f.handleEvent(b)}),f[Yr])}function Et(){A.call(this),this.i=new Ie(this),this.M=this,this.G=null}x(Et,A),Et.prototype[ae]=!0,Et.prototype.removeEventListener=function(f,b,T,I){Hr(this,f,b,T,I)};function Ct(f,b){var T,I=f.G;if(I)for(T=[];I;I=I.G)T.push(I);if(f=f.M,I=b.type||b,typeof b=="string")b=new C(b,f);else if(b instanceof C)b.target=b.target||f;else{var $=b;b=new C(I,f),j(b,$)}$=!0;let W,de;if(T)for(de=T.length-1;de>=0;de--)W=b.g=T[de],$=ki(W,I,!0,b)&&$;if(W=b.g=f,$=ki(W,I,!0,b)&&$,$=ki(W,I,!1,b)&&$,T)for(de=0;de<T.length;de++)W=b.g=T[de],$=ki(W,I,!1,b)&&$}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const T=f.g[b];for(let I=0;I<T.length;I++)me(T[I]);delete f.g[b],f.h--}}this.G=null},Et.prototype.J=function(f,b,T,I){return this.i.add(String(f),b,!1,T,I)},Et.prototype.K=function(f,b,T,I){return this.i.add(String(f),b,!0,T,I)};function ki(f,b,T,I){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let $=!0;for(let W=0;W<b.length;++W){const de=b[W];if(de&&!de.da&&de.capture==T){const De=de.listener,Rt=de.ha||de.src;de.fa&&tt(f.i,de),$=De.call(Rt,I)!==!1&&$}}return $&&!I.defaultPrevented}function ho(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:u.setTimeout(f,b||0)}function qa(f){f.g=ho(()=>{f.g=null,f.i&&(f.i=!1,qa(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class nn extends A{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:qa(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(f){A.call(this),this.h=f,this.g={}}x(ur,A);var ne=[];function fe(f){Re(f.g,function(b,T){this.g.hasOwnProperty(T)&&Gr(b)},f),f.g={}}ur.prototype.N=function(){ur.Z.N.call(this),fe(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _e=u.JSON.stringify,Pe=u.JSON.parse,Je=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function dn(){}function Wn(){}var kt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function wt(){C.call(this,"d")}x(wt,C);function Wt(){C.call(this,"c")}x(Wt,C);var $e={},mi=null;function mn(){return mi=mi||new Et}$e.Ia="serverreachability";function fc(f){C.call(this,$e.Ia,f)}x(fc,C);function Ri(f){const b=mn();Ct(b,new fc(b))}$e.STAT_EVENT="statevent";function Ws(f,b){C.call(this,$e.STAT_EVENT,f),this.stat=b}x(Ws,C);function Mt(f){const b=mn();Ct(b,new Ws(b,f))}$e.Ja="timingevent";function Di(f,b){C.call(this,$e.Ja,f),this.size=b}x(Di,C);function Oi(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},b)}function pi(){this.g=!0}pi.prototype.ua=function(){this.g=!1};function ld(f,b,T,I,$,W){f.info(function(){if(f.g)if(W){var de="",De=W.split("&");for(let nt=0;nt<De.length;nt++){var Rt=De[nt].split("=");if(Rt.length>1){const xt=Rt[0];Rt=Rt[1];const ti=xt.split("_");de=ti.length>=2&&ti[1]=="type"?de+(xt+"="+Rt+"&"):de+(xt+"=redacted&")}}}else de=null;else de=W;return"XMLHTTP REQ ("+I+") [attempt "+$+"]: "+b+`
`+T+`
`+de})}function dc(f,b,T,I,$,W,de){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+$+"]: "+b+`
`+T+`
`+W+" "+de})}function ji(f,b,T,I){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+od(f,T)+(I?" "+I:"")})}function Js(f,b){f.info(function(){return"TIMEOUT: "+b})}pi.prototype.info=function(){};function od(f,b){if(!f.g)return b;if(!b)return null;try{const W=JSON.parse(b);if(W){for(f=0;f<W.length;f++)if(Array.isArray(W[f])){var T=W[f];if(!(T.length<2)){var I=T[1];if(Array.isArray(I)&&!(I.length<1)){var $=I[0];if($!="noop"&&$!="stop"&&$!="close")for(let de=1;de<I.length;de++)I[de]=""}}}}return _e(W)}catch{return b}}var Zs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},mo;function ea(){}x(ea,dn),ea.prototype.g=function(){return new XMLHttpRequest},mo=new ea;function cr(f){return encodeURIComponent(String(f))}function mc(f){var b=1;f=f.split(":");const T=[];for(;b>0&&f.length;)T.push(f.shift()),b--;return f.length&&T.push(f.join(":")),T}function gi(f,b,T,I){this.j=f,this.i=b,this.l=T,this.S=I||1,this.V=new ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yi}function yi(){this.i=null,this.g="",this.h=!1}var Pt={},Jt={};function Mi(f,b,T){f.M=1,f.A=ta(Vt(b)),f.u=T,f.R=!0,Ha(f,null)}function Ha(f,b){f.F=Date.now(),Pi(f),f.B=Vt(f.A);var T=f.B,I=f.S;Array.isArray(I)||(I=[String(I)]),Ka(T.i,"t",I),f.C=0,T=f.j.L,f.h=new yi,f.g=Ic(f.j,T?b:null,!f.u),f.P>0&&(f.O=new nn(p(f.Y,f,f.g),f.P)),b=f.V,T=f.g,I=f.ba;var $="readystatechange";Array.isArray($)||($&&(ne[0]=$.toString()),$=ne);for(let W=0;W<$.length;W++){const de=_t(T,$[W],I||b.handleEvent,!1,b.h||b);if(!de)break;b.g[de.key]=de}b=f.J?We(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),Ri(),ld(f.i,f.v,f.B,f.l,f.S,f.u)}gi.prototype.ba=function(f){f=f.target;const b=this.O;b&&bi(f)==3?b.j():this.Y(f)},gi.prototype.Y=function(f){try{if(f==this.g)e:{const De=bi(this.g),Rt=this.g.ya(),nt=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||rn(this.g)))){this.K||De!=4||Rt==7||(Rt==8||nt<=0?Ri(3):Ri(2)),Li(this);var b=this.g.ca();this.X=b;var T=ud(this);if(this.o=b==200,dc(this.i,this.v,this.B,this.l,this.S,De,b),this.o){if(this.U&&!this.L){t:{if(this.g){var I,$=this.g;if((I=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(I)){var W=I;break t}}W=null}if(f=W)ji(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vi(this,f);else{this.o=!1,this.m=3,Mt(12),Pn(this),Jn(this);break e}}if(this.R){f=!0;let xt;for(;!this.K&&this.C<T.length;)if(xt=gc(this,T),xt==Jt){De==4&&(this.m=4,Mt(14),f=!1),ji(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==Pt){this.m=4,Mt(15),ji(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else ji(this.i,this.l,xt,null),Vi(this,xt);if(pc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||T.length!=0||this.h.h||(this.m=1,Mt(16),f=!1),this.o=this.o&&f,!f)ji(this.i,this.l,T,"[Invalid Chunked Response]"),Pn(this),Jn(this);else if(T.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Io(de),de.P=!0,Mt(11))}}else ji(this.i,this.l,T,null),Vi(this,T);De==4&&Pn(this),this.o&&!this.K&&(De==4?Sc(this.j,this):(this.o=!1,Pi(this)))}else fr(this.g),b==400&&T.indexOf("Unknown SID")>0?(this.m=3,Mt(12)):(this.m=0,Mt(13)),Pn(this),Jn(this)}}}catch{}finally{}};function ud(f){if(!pc(f))return f.g.la();const b=rn(f.g);if(b==="")return"";let T="";const I=b.length,$=bi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Pn(f),Jn(f),"";f.h.i=new u.TextDecoder}for(let W=0;W<I;W++)f.h.h=!0,T+=f.h.i.decode(b[W],{stream:!($&&W==I-1)});return b.length=0,f.h.g+=T,f.C=0,f.h.g}function pc(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function gc(f,b){var T=f.C,I=b.indexOf(`
`,T);return I==-1?Jt:(T=Number(b.substring(T,I)),isNaN(T)?Pt:(I+=1,I+T>b.length?Jt:(b=b.slice(I,I+T),f.C=I+T,b)))}gi.prototype.cancel=function(){this.K=!0,Pn(this)};function Pi(f){f.T=Date.now()+f.H,Ga(f,f.H)}function Ga(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Oi(p(f.aa,f),b)}function Li(f){f.D&&(u.clearTimeout(f.D),f.D=null)}gi.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Js(this.i,this.B),this.M!=2&&(Ri(),Mt(17)),Pn(this),this.m=2,Jn(this)):Ga(this,this.T-f)};function Jn(f){f.j.I==0||f.K||Sc(f.j,f)}function Pn(f){Li(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,fe(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function Vi(f,b){try{var T=f.j;if(T.I!=0&&(T.g==f||Ui(T.h,f))){if(!f.L&&Ui(T.h,f)&&T.I==3){try{var I=T.Ba.g.parse(b)}catch{I=null}if(Array.isArray(I)&&I.length==3){var $=I;if($[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)Za(T),ts(T);else break e;oa(T),Mt(18)}}else T.xa=$[1],0<T.xa-T.K&&$[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Oi(p(T.Va,T),6e3));zi(T.h)<=1&&T.ta&&(T.ta=void 0)}else $i(T,11)}else if((f.L||T.g==f)&&Za(T),!R(b))for($=T.Ba.g.parse(b),b=0;b<$.length;b++){let nt=$[b];const xt=nt[0];if(!(xt<=T.K))if(T.K=xt,nt=nt[1],T.I==2)if(nt[0]=="c"){T.M=nt[1],T.ba=nt[2];const ti=nt[3];ti!=null&&(T.ka=ti,T.j.info("VER="+T.ka));const Yi=nt[4];Yi!=null&&(T.za=Yi,T.j.info("SVER="+T.za));const _i=nt[5];_i!=null&&typeof _i=="number"&&_i>0&&(I=1.5*_i,T.O=I,T.j.info("backChannelRequestTimeoutMs_="+I)),I=T;const Ei=f.g;if(Ei){const ua=Ei.g?Ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ua){var W=I.h;W.g||ua.indexOf("spdy")==-1&&ua.indexOf("quic")==-1&&ua.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(yo(W,W.h),W.h=null))}if(I.G){const el=Ei.g?Ei.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(I.wa=el,st(I.J,I.G,el))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),I=T;var de=f;if(I.na=Nc(I,I.L?I.ba:null,I.W),de.L){vo(I.h,de);var De=de,Rt=I.O;Rt&&(De.H=Rt),De.D&&(Li(De),Pi(De)),I.g=de}else wc(I);T.i.length>0&&Gi(T)}else nt[0]!="stop"&&nt[0]!="close"||$i(T,7);else T.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?$i(T,7):Co(T):nt[0]!="noop"&&T.l&&T.l.qa(nt),T.A=0)}}Ri(4)}catch{}}var Lt=class{constructor(f,b){this.g=f,this.map=b}};function po(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function go(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function zi(f){return f.h?1:f.g?f.g.size:0}function Ui(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function yo(f,b){f.g?f.g.add(b):f.h=b}function vo(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}po.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function xo(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const T of f.g.values())b=b.concat(T.G);return b}return w(f.i)}var yc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $a(f,b){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const I=f[T].indexOf("=");let $,W=null;I>=0?($=f[T].substring(0,I),W=f[T].substring(I+1)):$=f[T],b($,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Ln(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof Ln?(this.l=f.l,Zt(this,f.j),this.o=f.o,this.g=f.g,Kr(this,f.u),this.h=f.h,bo(this,_c(f.i)),this.m=f.m):f&&(b=String(f).match(yc))?(this.l=!1,Zt(this,b[1]||"",!0),this.o=Bi(b[2]||""),this.g=Bi(b[3]||"",!0),Kr(this,b[4]),this.h=Bi(b[5]||"",!0),bo(this,b[6]||"",!0),this.m=Bi(b[7]||"")):(this.l=!1,this.i=new Xr(null,this.l))}Ln.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(na(b,Ya,!0),":");var T=this.g;return(T||b=="file")&&(f.push("//"),(b=this.o)&&f.push(na(b,Ya,!0),"@"),f.push(cr(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(na(T,T.charAt(0)=="/"?_o:vc,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",na(T,xc)),f.join("")},Ln.prototype.resolve=function(f){const b=Vt(this);let T=!!f.j;T?Zt(b,f.j):T=!!f.o,T?b.o=f.o:T=!!f.g,T?b.g=f.g:T=f.u!=null;var I=f.h;if(T)Kr(b,f.u);else if(T=!!f.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var $=b.h.lastIndexOf("/");$!=-1&&(I=b.h.slice(0,$+1)+I)}if($=I,$==".."||$==".")I="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){I=$.lastIndexOf("/",0)==0,$=$.split("/");const W=[];for(let de=0;de<$.length;){const De=$[de++];De=="."?I&&de==$.length&&W.push(""):De==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),I&&de==$.length&&W.push("")):(W.push(De),I=!0)}I=W.join("/")}else I=$}return T?b.h=I:T=f.i.toString()!=="",T?bo(b,_c(f.i)):T=!!f.m,T&&(b.m=f.m),b};function Vt(f){return new Ln(f)}function Zt(f,b,T){f.j=T?Bi(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function Kr(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function bo(f,b,T){b instanceof Xr?(f.i=b,Qa(f.i,f.l)):(T||(b=na(b,Qr)),f.i=new Xr(b,f.l))}function st(f,b,T){f.i.set(b,T)}function ta(f){return st(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Bi(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function na(f,b,T){return typeof f=="string"?(f=encodeURI(f).replace(b,Sn),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Sn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ya=/[#\/\?@]/g,vc=/[#\?:]/g,_o=/[#\?]/g,Qr=/[#\?@]/g,xc=/#/g;function Xr(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function An(f){f.g||(f.g=new Map,f.h=0,f.i&&$a(f.i,function(b,T){f.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}t=Xr.prototype,t.add=function(f,b){An(this),this.i=null,f=Wr(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(b),this.h+=1,this};function bc(f,b){An(f),b=Wr(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Eo(f,b){return An(f),b=Wr(f,b),f.g.has(b)}t.forEach=function(f,b){An(this),this.g.forEach(function(T,I){T.forEach(function($){f.call(b,$,I,this)},this)},this)};function wo(f,b){An(f);let T=[];if(typeof b=="string")Eo(f,b)&&(T=T.concat(f.g.get(Wr(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)T=T.concat(f[b]);return T}t.set=function(f,b){return An(this),this.i=null,f=Wr(this,f),Eo(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=wo(this,f),f.length>0?String(f[0]):b):b};function Ka(f,b,T){bc(f,b),T.length>0&&(f.i=null,f.g.set(Wr(f,b),w(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let I=0;I<b.length;I++){var T=b[I];const $=cr(T);T=wo(this,T);for(let W=0;W<T.length;W++){let de=$;T[W]!==""&&(de+="="+cr(T[W])),f.push(de)}}return this.i=f.join("&")};function _c(f){const b=new Xr;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function Wr(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Qa(f,b){b&&!f.j&&(An(f),f.i=null,f.g.forEach(function(T,I){const $=I.toLowerCase();I!=$&&(bc(this,I),Ka(this,$,T))},f)),f.j=b}function vi(f,b){const T=new pi;if(u.Image){const I=new Image;I.onload=v(Zn,T,"TestLoadImage: loaded",!0,b,I),I.onerror=v(Zn,T,"TestLoadImage: error",!1,b,I),I.onabort=v(Zn,T,"TestLoadImage: abort",!1,b,I),I.ontimeout=v(Zn,T,"TestLoadImage: timeout",!1,b,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else b(!1)}function To(f,b){const T=new pi,I=new AbortController,$=setTimeout(()=>{I.abort(),Zn(T,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:I.signal}).then(W=>{clearTimeout($),W.ok?Zn(T,"TestPingServer: ok",!0,b):Zn(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout($),Zn(T,"TestPingServer: error",!1,b)})}function Zn(f,b,T,I,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),I(T)}catch{}}function Jr(){this.g=new Je}function Fi(f){this.i=f.Sb||null,this.h=f.ab||!1}x(Fi,dn),Fi.prototype.g=function(){return new ia(this.i,this.h)};function ia(f,b){Et.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(ia,Et),t=ia.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,xi(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||u).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zr(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,xi(this)),this.g&&(this.readyState=3,xi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xa(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xa(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?Zr(this):xi(this),this.readyState==3&&Xa(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,Zr(this))},t.Na=function(f){this.g&&(this.response=f,Zr(this))},t.ga=function(){this.g&&Zr(this)};function Zr(f){f.readyState=4,f.l=null,f.j=null,f.B=null,xi(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=b.next();return f.join(`\r
`)};function xi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ia.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ei(f){let b="";return Re(f,function(T,I){b+=I,b+=":",b+=T,b+=`\r
`}),b}function ra(f,b,T){e:{for(I in T){var I=!1;break e}I=!0}I||(T=ei(T),typeof f=="string"?T!=null&&cr(T):st(f,b,T))}function ot(f){Et.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(ot,Et);var qi=/^https?$/i,So=["POST","PUT"];t=ot.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,T,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():mo.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(W){sa(this,W);return}if(f=T||"",T=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var $ in I)T.set($,I[$]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const W of I.keys())T.set(W,I.get(W));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(T.keys()).find(W=>W.toLowerCase()=="content-type"),$=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(So,b,void 0)>=0)||I||$||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,de]of T)this.g.setRequestHeader(W,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(W){sa(this,W)}};function sa(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,Ao(f),hr(f)}function Ao(f){f.A||(f.A=!0,Ct(f,"complete"),Ct(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ct(this,"complete"),Ct(this,"abort"),hr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hr(this,!0)),ot.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?aa(this):this.Xa())},t.Xa=function(){aa(this)};function aa(f){if(f.h&&typeof o<"u"){if(f.v&&bi(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ct(f,"readystatechange"),bi(f)==4){f.h=!1;try{const W=f.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var I;if(I=W===0){let de=String(f.D).match(yc)[1]||null;!de&&u.self&&u.self.location&&(de=u.self.location.protocol.slice(0,-1)),I=!qi.test(de?de.toLowerCase():"")}T=I}if(T)Ct(f,"complete"),Ct(f,"success");else{f.o=6;try{var $=bi(f)>2?f.g.statusText:""}catch{$=""}f.l=$+" ["+f.ca()+"]",Ao(f)}}finally{hr(f)}}}}function hr(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,b||Ct(f,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function bi(f){return f.g?f.g.readyState:0}t.ca=function(){try{return bi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),Pe(b)}};function rn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function fr(f){const b={};f=(f.g&&bi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(R(f[I]))continue;var T=mc(f[I]);const $=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const W=b[$]||[];b[$]=W,W.push(T)}V(b,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(f,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||b}function es(f){this.za=0,this.i=[],this.j=new pi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hi("baseRetryDelayMs",5e3,f),this.Za=Hi("retryDelaySeedMs",1e4,f),this.Ta=Hi("forwardChannelMaxRetries",2,f),this.va=Hi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new po(f&&f.concurrentRequestLimit),this.Ba=new Jr,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=es.prototype,t.ka=8,t.I=1,t.connect=function(f,b,T,I){Mt(0),this.W=f,this.H=b||{},T&&I!==void 0&&(this.H.OSID=T,this.H.OAID=I),this.F=this.X,this.J=Nc(this,null,this.W),Gi(this)};function Co(f){if(Wa(f),f.I==3){var b=f.V++,T=Vt(f.J);if(st(T,"SID",f.M),st(T,"RID",b),st(T,"TYPE","terminate"),la(f,T),b=new gi(f,f.j,b),b.M=2,b.A=ta(Vt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(b.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=b.A,T=!0),T||(b.g=Ic(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Pi(b)}Cc(f)}function ts(f){f.g&&(Io(f),f.g.cancel(),f.g=null)}function Wa(f){ts(f),f.v&&(u.clearTimeout(f.v),f.v=null),Za(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function Gi(f){if(!go(f.h)&&!f.m){f.m=!0;var b=f.Ea;ce||k(),G||(ce(),G=!0),M.add(b,f),f.D=0}}function Ja(f,b){return zi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Oi(p(f.Ea,f,b),Ac(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const $=new gi(this,this.j,f);let W=this.o;if(this.U&&(W?(W=We(W),j(W,this.U)):W=this.U),this.u!==null||this.R||($.J=W,W=null),this.S)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var I=this.i[T];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(b+=I,b>4096){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=Ec(this,$,b),T=Vt(this.J),st(T,"RID",f),st(T,"CVER",22),this.G&&st(T,"X-HTTP-Session-Id",this.G),la(this,T),W&&(this.R?b="headers="+cr(ei(W))+"&"+b:this.u&&ra(T,this.u,W)),yo(this.h,$),this.Ra&&st(T,"TYPE","init"),this.S?(st(T,"$req",b),st(T,"SID","null"),$.U=!0,Mi($,T,null)):Mi($,T,b),this.I=2}}else this.I==3&&(f?No(this,f):this.i.length==0||go(this.h)||No(this))};function No(f,b){var T;b?T=b.l:T=f.V++;const I=Vt(f.J);st(I,"SID",f.M),st(I,"RID",T),st(I,"AID",f.K),la(f,I),f.u&&f.o&&ra(I,f.u,f.o),T=new gi(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),b&&(f.i=b.G.concat(f.i)),b=Ec(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),yo(f.h,T),Mi(T,I,b)}function la(f,b){f.H&&Re(f.H,function(T,I){st(b,I,T)}),f.l&&Re({},function(T,I){st(b,I,T)})}function Ec(f,b,T){T=Math.min(f.i.length,T);const I=f.l?p(f.l.Ka,f.l,f):null;e:{var $=f.i;let De=-1;for(;;){const Rt=["count="+T];De==-1?T>0?(De=$[0].g,Rt.push("ofs="+De)):De=0:Rt.push("ofs="+De);let nt=!0;for(let xt=0;xt<T;xt++){var W=$[xt].g;const ti=$[xt].map;if(W-=De,W<0)De=Math.max(0,$[xt].g-100),nt=!1;else try{W="req"+W+"_"||"";try{var de=ti instanceof Map?ti:Object.entries(ti);for(const[Yi,_i]of de){let Ei=_i;h(_i)&&(Ei=_e(_i)),Rt.push(W+Yi+"="+encodeURIComponent(Ei))}}catch(Yi){throw Rt.push(W+"type="+encodeURIComponent("_badmap")),Yi}}catch{I&&I(ti)}}if(nt){de=Rt.join("&");break e}}de=void 0}return f=f.i.splice(0,T),b.G=f,de}function wc(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;ce||k(),G||(ce(),G=!0),M.add(b,f),f.A=0}}function oa(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Oi(p(f.Da,f),Ac(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Tc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Oi(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Mt(10),ts(this),Tc(this))};function Io(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function Tc(f){f.g=new gi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=Vt(f.na);st(b,"RID","rpc"),st(b,"SID",f.M),st(b,"AID",f.K),st(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&st(b,"TO",f.ia),st(b,"TYPE","xmlhttp"),la(f,b),f.u&&f.o&&ra(b,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=ta(Vt(b)),T.u=null,T.R=!0,Ha(T,f)}t.Va=function(){this.C!=null&&(this.C=null,ts(this),oa(this),Mt(19))};function Za(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Sc(f,b){var T=null;if(f.g==b){Za(f),Io(f),f.g=null;var I=2}else if(Ui(f.h,b))T=b.G,vo(f.h,b),I=1;else return;if(f.I!=0){if(b.o)if(I==1){T=b.u?b.u.length:0,b=Date.now()-b.F;var $=f.D;I=mn(),Ct(I,new Di(I,T)),Gi(f)}else wc(f);else if($=b.m,$==3||$==0&&b.X>0||!(I==1&&Ja(f,b)||I==2&&oa(f)))switch(T&&T.length>0&&(b=f.h,b.i=b.i.concat(T)),$){case 1:$i(f,5);break;case 4:$i(f,10);break;case 3:$i(f,6);break;default:$i(f,2)}}}function Ac(f,b){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*b}function $i(f,b){if(f.j.info("Error code "+b),b==2){var T=p(f.bb,f),I=f.Ua;const $=!I;I=new Ln(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Zt(I,"https"),ta(I),$?vi(I.toString(),T):To(I.toString(),T)}else Mt(2);f.I=0,f.l&&f.l.pa(b),Cc(f),Wa(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function Cc(f){if(f.I=0,f.ja=[],f.l){const b=xo(f.h);(b.length!=0||f.i.length!=0)&&(N(f.ja,b),N(f.ja,f.i),f.h.i.length=0,w(f.i),f.i.length=0),f.l.oa()}}function Nc(f,b,T){var I=T instanceof Ln?Vt(T):new Ln(T);if(I.g!="")b&&(I.g=b+"."+I.g),Kr(I,I.u);else{var $=u.location;I=$.protocol,b=b?b+"."+$.hostname:$.hostname,$=+$.port;const W=new Ln(null);I&&Zt(W,I),b&&(W.g=b),$&&Kr(W,$),T&&(W.h=T),I=W}return T=f.G,b=f.wa,T&&b&&st(I,T,b),st(I,"VER",f.ka),la(f,I),I}function Ic(f,b,T){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new ot(new Fi({ab:T})):new ot(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function kc(){}t=kc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ns(){}ns.prototype.g=function(f,b){return new En(f,b)};function En(f,b){Et.call(this),this.g=new es(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!R(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!R(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new dr(this)}x(En,Et),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Co(this.g)},En.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=_e(f),f=T);b.i.push(new Lt(b.Ya++,f)),b.I==3&&Gi(b)},En.prototype.N=function(){this.g.l=null,delete this.j,Co(this.g),delete this.g,En.Z.N.call(this)};function Rc(f){wt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const T in b){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}x(Rc,wt);function Dc(){Wt.call(this),this.status=1}x(Dc,Wt);function dr(f){this.g=f}x(dr,kc),dr.prototype.ra=function(){Ct(this.g,"a")},dr.prototype.qa=function(f){Ct(this.g,new Rc(f))},dr.prototype.pa=function(f){Ct(this.g,new Dc)},dr.prototype.oa=function(){Ct(this.g,"b")},ns.prototype.createWebChannel=ns.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,pw=function(){return new ns},mw=function(){return mn()},dw=$e,Wp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zs.NO_ERROR=0,Zs.TIMEOUT=8,Zs.HTTP_ERROR=6,Wh=Zs,fo.COMPLETE="complete",fw=fo,Wn.EventType=kt,kt.OPEN="a",kt.CLOSE="b",kt.ERROR="c",kt.MESSAGE="d",Et.prototype.listen=Et.prototype.J,bu=Wn,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,hw=ot}).apply(typeof Lh<"u"?Lh:typeof self<"u"?self:typeof window<"u"?window:{});const Xb="@firebase/firestore",Wb="4.9.2";class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");let io="12.3.0";const ja=new Rg("@firebase/firestore");function Ol(){return ja.logLevel}function pe(t,...e){if(ja.logLevel<=qe.DEBUG){const n=e.map(Hg);ja.debug(`Firestore (${io}): ${t}`,...n)}}function Lr(t,...e){if(ja.logLevel<=qe.ERROR){const n=e.map(Hg);ja.error(`Firestore (${io}): ${t}`,...n)}}function Gl(t,...e){if(ja.logLevel<=qe.WARN){const n=e.map(Hg);ja.warn(`Firestore (${io}): ${t}`,...n)}}function Hg(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,gw(t,r,n)}function gw(t,e,n){let r=`FIRESTORE (${io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Lr(r),new Error(r)}function rt(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||gw(e,a,r)}function Ne(t,e){return t}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Ur{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ps{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class yw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class h4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gn.UNAUTHENTICATED)))}shutdown(){}}class f4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class d4{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rt(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let o=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ps,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=o;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},h=m=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ps)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string",31837,{l:r}),new yw(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class m4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class p4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new m4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Jb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){rt(this.o===void 0,3512);const r=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Jb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Jb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function y4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Gg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=y4(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function Jp(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),o=e.charAt(r);if(a!==o)return mp(a)===mp(o)?He(a,o):mp(a)?1:-1}return He(t.length,e.length)}const v4=55296,x4=57343;function mp(t){const e=t.charCodeAt(0);return e>=v4&&e<=x4}function $l(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}const Zb="__name__";class Zi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=Zi.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return He(e.length,n.length)}static compareSegments(e,n){const r=Zi.isNumericId(e),a=Zi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Zi.extractNumericId(e).compare(Zi.extractNumericId(n)):Jp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ms.fromString(e.substring(4,e.length-2))}}class Tt extends Zi{construct(e,n,r){return new Tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Tt(n)}static emptyPath(){return new Tt([])}}const b4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Zi{construct(e,n,r){return new cn(e,n,r)}static isValidIdentifier(e){return b4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Zb}static keyField(){return new cn([Zb])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new ve(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ve(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(o(),a++)}if(o(),u)throw new ve(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}class we{constructor(e){this.path=e}static fromPath(e){return new we(Tt.fromString(e))}static fromName(e){return new we(Tt.fromString(e).popFirst(5))}static empty(){return new we(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new Tt(e.slice()))}}function _4(t,e,n){if(!n)throw new ve(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function E4(t,e,n,r){if(e===!0&&r===!0)throw new ve(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function e1(t){if(!we.isDocumentKey(t))throw new ve(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vw(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function $g(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae(12329,{type:typeof t})}function Ma(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$g(t);throw new ve(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function $t(t,e){const n={typeString:t};return e&&(n.value=e),n}function nc(t,e){if(!vw(t))throw new ve(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(a&&typeof u!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ve(oe.INVALID_ARGUMENT,n);return!0}const t1=-62135596800,n1=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*n1);return new yt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<t1)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n1}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nc(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-t1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:$t("string",yt._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new yt(0,0))}static max(){return new Ce(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zu=-1;function w4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Ce.fromTimestamp(r===1e9?new yt(n+1,0):new yt(n,r));return new zs(a,we.empty(),e)}function T4(t){return new zs(t.readTime,t.key,zu)}class zs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zs(Ce.min(),we.empty(),zu)}static max(){return new zs(Ce.max(),we.empty(),zu)}}function S4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}const A4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ro(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==A4)throw t;pe("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,r)=>{n(e)}))}static reject(e){return new se(((n,r)=>{r(e)}))}static waitFor(e){return new se(((n,r)=>{let a=0,o=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++o,u&&o===a&&n()}),(m=>r(m)))})),u=!0,o===a&&n()}))}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next((a=>a?se.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,o)=>{r.push(n.call(this,a,o))})),this.waitFor(r)}static mapArray(e,n){return new se(((r,a)=>{const o=e.length,u=new Array(o);let h=0;for(let m=0;m<o;m++){const p=m;n(e[p]).next((v=>{u[p]=v,++h,h===o&&r(u)}),(v=>a(v)))}}))}static doWhile(e,n){return new se(((r,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):r()};o()}))}}function N4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function so(t){return t.name==="IndexedDbTransactionError"}class zf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zf.ce=-1;const Yg=-1;function Uf(t){return t==null}function gf(t){return t===0&&1/t==-1/0}function I4(t){return typeof t=="number"&&Number.isInteger(t)&&!gf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const xw="";function k4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=i1(e)),e=R4(t.get(n),e);return i1(e)}function R4(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case xw:n+="";break;default:n+=o}}return n}function i1(t){return t+xw+""}function r1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ys(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class St{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vh(this.root,e,this.comparator,!0)}}class Vh{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??un.RED,this.left=a??un.EMPTY,this.right=o??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new un(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return un.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,r,a,o){return this}insert(e,n,r){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new s1(this.data.getIterator())}getIteratorFrom(e){return new s1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class s1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yn{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new Yn([])}unionWith(e){let n=new Xt(cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $l(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class _w extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new _w("Invalid base64 string: "+o):o}})(e);return new fn(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o})(e);return new fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const D4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(t){if(rt(!!t,39018),typeof t=="string"){let e=0;const n=D4.exec(t);if(rt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jt(t.seconds),nanos:jt(t.nanos)}}function jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bs(t){return typeof t=="string"?fn.fromBase64String(t):fn.fromUint8Array(t)}const Ew="server_timestamp",ww="__type__",Tw="__previous_value__",Sw="__local_write_time__";function Kg(t){return(t?.mapValue?.fields||{})[ww]?.stringValue===Ew}function Bf(t){const e=t.mapValue.fields[Tw];return Kg(e)?Bf(e):e}function Uu(t){const e=Us(t.mapValue.fields[Sw].timestampValue);return new yt(e.seconds,e.nanos)}class O4{constructor(e,n,r,a,o,u,h,m,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v}}const yf="(default)";class Bu{constructor(e,n){this.projectId=e,this.database=n||yf}static empty(){return new Bu("","")}get isDefaultDatabase(){return this.database===yf}isEqual(e){return e instanceof Bu&&e.projectId===this.projectId&&e.database===this.database}}const Aw="__type__",j4="__max__",zh={mapValue:{}},Cw="__vector__",vf="value";function Fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kg(t)?4:P4(t)?9007199254740991:M4(t)?10:11:Ae(28295,{value:t})}function ar(t,e){if(t===e)return!0;const n=Fs(t);if(n!==Fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uu(t).isEqual(Uu(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Us(a.timestampValue),h=Us(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return Bs(a.bytesValue).isEqual(Bs(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return jt(a.geoPointValue.latitude)===jt(o.geoPointValue.latitude)&&jt(a.geoPointValue.longitude)===jt(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return jt(a.integerValue)===jt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=jt(a.doubleValue),h=jt(o.doubleValue);return u===h?gf(u)===gf(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return $l(t.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:case 11:return(function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(r1(u)!==r1(h))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(h[m]===void 0||!ar(u[m],h[m])))return!1;return!0})(t,e);default:return Ae(52216,{left:t})}}function Fu(t,e){return(t.values||[]).find((n=>ar(n,e)))!==void 0}function Yl(t,e){if(t===e)return 0;const n=Fs(t),r=Fs(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=jt(o.integerValue||o.doubleValue),m=jt(u.integerValue||u.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(t,e);case 3:return a1(t.timestampValue,e.timestampValue);case 4:return a1(Uu(t),Uu(e));case 5:return Jp(t.stringValue,e.stringValue);case 6:return(function(o,u){const h=Bs(o),m=Bs(u);return h.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),m=u.split("/");for(let p=0;p<h.length&&p<m.length;p++){const v=He(h[p],m[p]);if(v!==0)return v}return He(h.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=He(jt(o.latitude),jt(u.latitude));return h!==0?h:He(jt(o.longitude),jt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return l1(t.arrayValue,e.arrayValue);case 10:return(function(o,u){const h=o.fields||{},m=u.fields||{},p=h[vf]?.arrayValue,v=m[vf]?.arrayValue,x=He(p?.values?.length||0,v?.values?.length||0);return x!==0?x:l1(p,v)})(t.mapValue,e.mapValue);case 11:return(function(o,u){if(o===zh.mapValue&&u===zh.mapValue)return 0;if(o===zh.mapValue)return 1;if(u===zh.mapValue)return-1;const h=o.fields||{},m=Object.keys(h),p=u.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let x=0;x<m.length&&x<v.length;++x){const E=Jp(m[x],v[x]);if(E!==0)return E;const w=Yl(h[m[x]],p[v[x]]);if(w!==0)return w}return He(m.length,v.length)})(t.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function a1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=Us(t),r=Us(e),a=He(n.seconds,r.seconds);return a!==0?a:He(n.nanos,r.nanos)}function l1(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=Yl(n[a],r[a]);if(o)return o}return He(n.length,r.length)}function Kl(t){return Zp(t)}function Zp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Us(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Bs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return we.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=Zp(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${Zp(n.fields[u])}`;return a+"}"})(t.mapValue):Ae(61005,{value:t})}function Jh(t){switch(Fs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bf(t);return e?16+Jh(e):16;case 5:return 2*t.stringValue.length;case 6:return Bs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+Jh(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return Ys(r.fields,((o,u)=>{a+=o.length+Jh(u)})),a})(t.mapValue);default:throw Ae(13486,{value:t})}}function eg(t){return!!t&&"integerValue"in t}function Qg(t){return!!t&&"arrayValue"in t}function o1(t){return!!t&&"nullValue"in t}function u1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zh(t){return!!t&&"mapValue"in t}function M4(t){return(t?.mapValue?.fields||{})[Aw]?.stringValue===Cw}function Au(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ys(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Au(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Au(t.arrayValue.values[n]);return e}return{...t}}function P4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===j4}class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Au(n)}setAll(e){let n=cn.emptyPath(),r={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const m=this.getFieldsMap(n);this.applyChanges(m,r,a),r={},a=[],n=h.popLast()}u?r[h.lastSegment()]=Au(u):a.push(h.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());Zh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Zh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Ys(n,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new jn(Au(this.value))}}function Nw(t){const e=[];return Ys(t.fields,((n,r)=>{const a=new cn([n]);if(Zh(r)){const o=Nw(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)})),new Yn(e)}class yn{constructor(e,n,r,a,o,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new yn(e,0,Ce.min(),Ce.min(),Ce.min(),jn.empty(),0)}static newFoundDocument(e,n,r,a){return new yn(e,1,n,Ce.min(),r,a,0)}static newNoDocument(e,n){return new yn(e,2,n,Ce.min(),Ce.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new yn(e,3,n,Ce.min(),Ce.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xf{constructor(e,n){this.position=e,this.inclusive=n}}function c1(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],u=t.position[a];if(o.field.isKeyField()?r=we.comparator(we.fromName(u.referenceValue),n.key):r=Yl(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function h1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ar(t.position[n],e.position[n]))return!1;return!0}class bf{constructor(e,n="asc"){this.field=e,this.dir=n}}function L4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Iw{}class Kt extends Iw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new z4(e,n,r):n==="array-contains"?new F4(e,r):n==="in"?new q4(e,r):n==="not-in"?new H4(e,r):n==="array-contains-any"?new G4(e,r):new Kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new U4(e,r):new B4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Yl(n,this.value)):n!==null&&Fs(this.value)===Fs(n)&&this.matchesComparison(Yl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lr extends Iw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new lr(e,n)}matches(e){return kw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kw(t){return t.op==="and"}function Rw(t){return V4(t)&&kw(t)}function V4(t){for(const e of t.filters)if(e instanceof lr)return!1;return!0}function tg(t){if(t instanceof Kt)return t.field.canonicalString()+t.op.toString()+Kl(t.value);if(Rw(t))return t.filters.map((e=>tg(e))).join(",");{const e=t.filters.map((n=>tg(n))).join(",");return`${t.op}(${e})`}}function Dw(t,e){return t instanceof Kt?(function(r,a){return a instanceof Kt&&r.op===a.op&&r.field.isEqual(a.field)&&ar(r.value,a.value)})(t,e):t instanceof lr?(function(r,a){return a instanceof lr&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,u,h)=>o&&Dw(u,a.filters[h])),!0):!1})(t,e):void Ae(19439)}function Ow(t){return t instanceof Kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Kl(n.value)}`})(t):t instanceof lr?(function(n){return n.op.toString()+" {"+n.getFilters().map(Ow).join(" ,")+"}"})(t):"Filter"}class z4 extends Kt{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class U4 extends Kt{constructor(e,n){super(e,"in",n),this.keys=jw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class B4 extends Kt{constructor(e,n){super(e,"not-in",n),this.keys=jw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function jw(t,e){return(e.arrayValue?.values||[]).map((n=>we.fromName(n.referenceValue)))}class F4 extends Kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qg(n)&&Fu(n.arrayValue,this.value)}}class q4 extends Kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fu(this.value.arrayValue,n)}}class H4 extends Kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fu(this.value.arrayValue,n)}}class G4 extends Kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Fu(this.value.arrayValue,r)))}}class $4{constructor(e,n=null,r=[],a=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function f1(t,e=null,n=[],r=[],a=null,o=null,u=null){return new $4(t,e,n,r,a,o,u)}function Xg(t){const e=Ne(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>tg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Uf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Kl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Kl(r))).join(",")),e.Te=n}return e.Te}function Wg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!L4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Dw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!h1(t.startAt,e.startAt)&&h1(t.endAt,e.endAt)}function ng(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Ff{constructor(e,n=null,r=[],a=[],o=null,u="F",h=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Y4(t,e,n,r,a,o,u,h){return new Ff(t,e,n,r,a,o,u,h)}function Jg(t){return new Ff(t)}function d1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function K4(t){return t.collectionGroup!==null}function Cu(t){const e=Ne(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Xt(cn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new bf(o,r))})),n.has(cn.keyField().canonicalString())||e.Ie.push(new bf(cn.keyField(),r))}return e.Ie}function tr(t){const e=Ne(t);return e.Ee||(e.Ee=Q4(e,Cu(t))),e.Ee}function Q4(t,e){if(t.limitType==="F")return f1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new bf(a.field,o)}));const n=t.endAt?new xf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xf(t.startAt.position,t.startAt.inclusive):null;return f1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ig(t,e,n){return new Ff(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qf(t,e){return Wg(tr(t),tr(e))&&t.limitType===e.limitType}function Mw(t){return`${Xg(tr(t))}|lt:${t.limitType}`}function jl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>Ow(a))).join(", ")}]`),Uf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Kl(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Kl(a))).join(",")),`Target(${r})`})(tr(t))}; limitType=${t.limitType})`}function Hf(t,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):we.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,a){for(const o of Cu(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(u,h,m){const p=c1(u,h,m);return u.inclusive?p<=0:p<0})(r.startAt,Cu(r),a)||r.endAt&&!(function(u,h,m){const p=c1(u,h,m);return u.inclusive?p>=0:p>0})(r.endAt,Cu(r),a))})(t,e)}function X4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Pw(t){return(e,n)=>{let r=!1;for(const a of Cu(t)){const o=W4(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function W4(t,e,n){const r=t.field.isKeyField()?we.comparator(e.key,n.key):(function(o,u,h){const m=u.data.field(o),p=h.data.field(o);return m!==null&&p!==null?Yl(m,p):Ae(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:t.dir})}}class za{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ys(this.inner,((n,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return bw(this.inner)}size(){return this.innerSize}}const J4=new St(we.comparator);function Vr(){return J4}const Lw=new St(we.comparator);function _u(...t){let e=Lw;for(const n of t)e=e.insert(n.key,n);return e}function Vw(t){let e=Lw;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Na(){return Nu()}function zw(){return Nu()}function Nu(){return new za((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Z4=new St(we.comparator),e5=new Xt(we.comparator);function Ge(...t){let e=e5;for(const n of t)e=e.add(n);return e}const t5=new Xt(He);function n5(){return t5}function Zg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gf(e)?"-0":e}}function Uw(t){return{integerValue:""+t}}function i5(t,e){return I4(e)?Uw(e):Zg(t,e)}class Gf{constructor(){this._=void 0}}function r5(t,e,n){return t instanceof _f?(function(a,o){const u={fields:{[ww]:{stringValue:Ew},[Sw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Kg(o)&&(o=Bf(o)),o&&(u.fields[Tw]=o),{mapValue:u}})(n,e):t instanceof qu?Fw(t,e):t instanceof Hu?qw(t,e):(function(a,o){const u=Bw(a,o),h=m1(u)+m1(a.Ae);return eg(u)&&eg(a.Ae)?Uw(h):Zg(a.serializer,h)})(t,e)}function s5(t,e,n){return t instanceof qu?Fw(t,e):t instanceof Hu?qw(t,e):n}function Bw(t,e){return t instanceof Ef?(function(r){return eg(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class _f extends Gf{}class qu extends Gf{constructor(e){super(),this.elements=e}}function Fw(t,e){const n=Hw(e);for(const r of t.elements)n.some((a=>ar(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Hu extends Gf{constructor(e){super(),this.elements=e}}function qw(t,e){let n=Hw(e);for(const r of t.elements)n=n.filter((a=>!ar(a,r)));return{arrayValue:{values:n}}}class Ef extends Gf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function m1(t){return jt(t.integerValue||t.doubleValue)}function Hw(t){return Qg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function a5(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof qu&&a instanceof qu||r instanceof Hu&&a instanceof Hu?$l(r.elements,a.elements,ar):r instanceof Ef&&a instanceof Ef?ar(r.Ae,a.Ae):r instanceof _f&&a instanceof _f})(t.transform,e.transform)}class l5{constructor(e,n){this.version=e,this.transformResults=n}}class nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ef(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $f{}function Gw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Yw(t.key,nr.none()):new ic(t.key,t.data,nr.none());{const n=t.data,r=jn.empty();let a=new Xt(cn.comparator);for(let o of e.fields)if(!a.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new Ks(t.key,r,new Yn(a.toArray()),nr.none())}}function o5(t,e,n){t instanceof ic?(function(a,o,u){const h=a.value.clone(),m=g1(a.fieldTransforms,o,u.transformResults);h.setAll(m),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Ks?(function(a,o,u){if(!ef(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=g1(a.fieldTransforms,o,u.transformResults),m=o.data;m.setAll($w(a)),m.setAll(h),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Iu(t,e,n,r){return t instanceof ic?(function(o,u,h,m){if(!ef(o.precondition,u))return h;const p=o.value.clone(),v=y1(o.fieldTransforms,m,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ks?(function(o,u,h,m){if(!ef(o.precondition,u))return h;const p=y1(o.fieldTransforms,m,u),v=u.data;return v.setAll($w(o)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((x=>x.field)))})(t,e,n,r):(function(o,u,h){return ef(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function u5(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=Bw(r.transform,a||null);o!=null&&(n===null&&(n=jn.empty()),n.set(r.field,o))}return n||null}function p1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&$l(r,a,((o,u)=>a5(o,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ic extends $f{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ks extends $f{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function $w(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function g1(t,e,n){const r=new Map;rt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],u=o.transform,h=e.data.field(o.field);r.set(o.field,s5(u,h,n[a]))}return r}function y1(t,e,n){const r=new Map;for(const a of t){const o=a.transform,u=n.data.field(a.field);r.set(a.field,r5(o,u,e))}return r}class Yw extends $f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class c5 extends $f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class h5{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&o5(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Iu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Iu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zw();return this.mutations.forEach((a=>{const o=e.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=n.has(a.key)?null:h;const m=Gw(u,h);m!==null&&r.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Ce.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&$l(this.mutations,e.mutations,((n,r)=>p1(n,r)))&&$l(this.baseMutations,e.baseMutations,((n,r)=>p1(n,r)))}}class ey{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){rt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return Z4})();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new ey(e,n,r,a)}}class f5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class d5{constructor(e,n){this.count=e,this.unchangedNames=n}}var qt,Ke;function m5(t){switch(t){case oe.OK:return Ae(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ae(15467,{code:t})}}function Kw(t){if(t===void 0)return Lr("GRPC error has no .code"),oe.UNKNOWN;switch(t){case qt.OK:return oe.OK;case qt.CANCELLED:return oe.CANCELLED;case qt.UNKNOWN:return oe.UNKNOWN;case qt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case qt.INTERNAL:return oe.INTERNAL;case qt.UNAVAILABLE:return oe.UNAVAILABLE;case qt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case qt.NOT_FOUND:return oe.NOT_FOUND;case qt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case qt.ABORTED:return oe.ABORTED;case qt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case qt.DATA_LOSS:return oe.DATA_LOSS;default:return Ae(39323,{code:t})}}(Ke=qt||(qt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function p5(){return new TextEncoder}const g5=new Ms([4294967295,4294967295],0);function v1(t){const e=p5().encode(t),n=new cw;return n.update(e),new Uint8Array(n.digest())}function x1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ms([n,r],0),new Ms([a,o],0)]}class ty{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Eu(`Invalid padding: ${n}`);if(r<0)throw new Eu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Eu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Eu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ms.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Ms.fromNumber(r)));return a.compare(g5)===1&&(a=new Ms([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=v1(e),[r,a]=x1(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);if(!this.we(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new ty(o,a,n);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=v1(e),[r,a]=x1(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yf{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,rc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Yf(Ce.min(),a,new St(He),Vr(),Ge())}}class rc{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new rc(r,n,Ge(),Ge(),Ge())}}class tf{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class Qw{constructor(e,n){this.targetId=e,this.Ce=n}}class Xw{constructor(e,n,r=fn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class b1{constructor(){this.ve=0,this.Fe=_1(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),r=Ge();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Ae(38017,{changeType:o})}})),new rc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=_1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class y5{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vr(),this.Je=Uh(),this.He=Uh(),this.Ye=new St(He)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(ng(o))if(r===0){const u=new we(o.path);this.et(n,u,yn.newNoDocument(u,Ce.min()))}else rt(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const h=this.ut(e),m=h?this.ct(h,e,u):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let u,h;try{u=Bs(r).toUint8Array()}catch(m){if(m instanceof _w)return Gl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new ty(u,a,o)}catch(m){return Gl(m instanceof Eu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&ng(h.target)){const m=new we(h.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,yn.newNoDocument(m,e))}o.Be&&(n.set(u,o.ke()),o.qe())}}));let r=Ge();this.He.forEach(((o,u)=>{let h=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const a=new Yf(e,n,this.Ye,this.je,r);return this.je=Vr(),this.Je=Uh(),this.He=Uh(),this.Ye=new St(He),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new b1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Xt(He),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Xt(He),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new b1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Uh(){return new St(we.comparator)}function _1(){return new St(we.comparator)}const v5={asc:"ASCENDING",desc:"DESCENDING"},x5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b5={and:"AND",or:"OR"};class _5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rg(t,e){return t.useProto3Json||Uf(e)?e:{value:e}}function wf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ww(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function E5(t,e){return wf(t,e.toTimestamp())}function ir(t){return rt(!!t,49232),Ce.fromTimestamp((function(n){const r=Us(n);return new yt(r.seconds,r.nanos)})(t))}function ny(t,e){return sg(t,e).canonicalString()}function sg(t,e){const n=(function(a){return new Tt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Jw(t){const e=Tt.fromString(t);return rt(iT(e),10190,{key:e.toString()}),e}function ag(t,e){return ny(t.databaseId,e.path)}function pp(t,e){const n=Jw(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(eT(n))}function Zw(t,e){return ny(t.databaseId,e)}function w5(t){const e=Jw(t);return e.length===4?Tt.emptyPath():eT(e)}function lg(t){return new Tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eT(t){return rt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function E1(t,e,n){return{name:ag(t,e),fields:n.value.mapValue.fields}}function T5(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(p,v){return p.useProto3Json?(rt(v===void 0||typeof v=="string",58123),fn.fromBase64String(v||"")):(rt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),fn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const v=p.code===void 0?oe.UNKNOWN:Kw(p.code);return new ve(v,p.message||"")})(u);n=new Xw(r,a,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=pp(t,r.document.name),o=ir(r.document.updateTime),u=r.document.createTime?ir(r.document.createTime):Ce.min(),h=new jn({mapValue:{fields:r.document.fields}}),m=yn.newFoundDocument(a,o,u,h),p=r.targetIds||[],v=r.removedTargetIds||[];n=new tf(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=pp(t,r.document),o=r.readTime?ir(r.readTime):Ce.min(),u=yn.newNoDocument(a,o),h=r.removedTargetIds||[];n=new tf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=pp(t,r.document),o=r.removedTargetIds||[];n=new tf([],o,a,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new d5(a,o),h=r.targetId;n=new Qw(h,u)}}return n}function S5(t,e){let n;if(e instanceof ic)n={update:E1(t,e.key,e.value)};else if(e instanceof Yw)n={delete:ag(t,e.key)};else if(e instanceof Ks)n={update:E1(t,e.key,e.data),updateMask:j5(e.fieldMask)};else{if(!(e instanceof c5))return Ae(16599,{Vt:e.type});n={verify:ag(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const h=u.transform;if(h instanceof _f)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof qu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Hu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Ef)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Ae(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:E5(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ae(27497)})(t,e.precondition)),n}function A5(t,e){return t&&t.length>0?(rt(e!==void 0,14353),t.map((n=>(function(a,o){let u=a.updateTime?ir(a.updateTime):ir(o);return u.isEqual(Ce.min())&&(u=ir(o)),new l5(u,a.transformResults||[])})(n,e)))):[]}function C5(t,e){return{documents:[Zw(t,e.path)]}}function N5(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Zw(t,a);const o=(function(p){if(p.length!==0)return nT(lr.create(p,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const u=(function(p){if(p.length!==0)return p.map((v=>(function(E){return{field:Ml(E.field),direction:R5(E.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=rg(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function I5(t){let e=w5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){rt(r===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let o=[];n.where&&(o=(function(x){const E=tT(x);return E instanceof lr&&Rw(E)?E.getFilters():[E]})(n.where));let u=[];n.orderBy&&(u=(function(x){return x.map((E=>(function(N){return new bf(Pl(N.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(E)))})(n.orderBy));let h=null;n.limit&&(h=(function(x){let E;return E=typeof x=="object"?x.value:x,Uf(E)?null:E})(n.limit));let m=null;n.startAt&&(m=(function(x){const E=!!x.before,w=x.values||[];return new xf(w,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(x){const E=!x.before,w=x.values||[];return new xf(w,E)})(n.endAt)),Y4(e,a,u,o,h,"F",m,p)}function k5(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tT(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Pl(n.unaryFilter.field);return Kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Pl(n.unaryFilter.field);return Kt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Pl(n.unaryFilter.field);return Kt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Pl(n.unaryFilter.field);return Kt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Kt.create(Pl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return lr.create(n.compositeFilter.filters.map((r=>tT(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(t):Ae(30097,{filter:t})}function R5(t){return v5[t]}function D5(t){return x5[t]}function O5(t){return b5[t]}function Ml(t){return{fieldPath:t.canonicalString()}}function Pl(t){return cn.fromServerFormat(t.fieldPath)}function nT(t){return t instanceof Kt?(function(n){if(n.op==="=="){if(u1(n.value))return{unaryFilter:{field:Ml(n.field),op:"IS_NAN"}};if(o1(n.value))return{unaryFilter:{field:Ml(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(u1(n.value))return{unaryFilter:{field:Ml(n.field),op:"IS_NOT_NAN"}};if(o1(n.value))return{unaryFilter:{field:Ml(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ml(n.field),op:D5(n.op),value:n.value}}})(t):t instanceof lr?(function(n){const r=n.getFilters().map((a=>nT(a)));return r.length===1?r[0]:{compositeFilter:{op:O5(n.op),filters:r}}})(t):Ae(54877,{filter:t})}function j5(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function iT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Rs{constructor(e,n,r,a,o=Ce.min(),u=Ce.min(),h=fn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new Rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class M5{constructor(e){this.yt=e}}function P5(t){const e=I5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ig(e,e.limit,"L"):e}class L5{constructor(){this.Cn=new V5}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(zs.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(zs.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class V5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Xt(Tt.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Xt(Tt.comparator)).toArray()}}const w1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rT=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(rT,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);class Ql{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ql(0)}static cr(){return new Ql(-1)}}const T1="LruGarbageCollector",z5=1048576;function S1([t,e],[n,r]){const a=He(t,n);return a===0?He(e,r):a}class U5{constructor(e){this.Ir=e,this.buffer=new Xt(S1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();S1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class B5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(T1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){so(n)?pe(T1,"Ignoring IndexedDB error during garbage collection: ",n):await ro(n)}await this.Vr(3e5)}))}}class F5{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(zf.ce);const r=new U5(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(w1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),w1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,o,u,h,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,u=Date.now(),this.nthSequenceNumber(e,a)))).next((x=>(r=x,h=Date.now(),this.removeTargets(e,r,n)))).next((x=>(o=x,m=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(p=Date.now(),Ol()<=qe.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(m-h)+`ms
	Removed ${x} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:x}))))}}function q5(t,e){return new F5(t,e)}class H5{constructor(){this.changes=new za((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class G5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class $5{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Iu(r.mutation,a,Yn.empty(),yt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ge()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ge()){const a=Na();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((o=>{let u=_u();return o.forEach(((h,m)=>{u=u.insert(h,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=Na();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ge())))}populateOverlays(e,n,r){const a=[];return r.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,r,a){let o=Vr();const u=Nu(),h=(function(){return Nu()})();return n.forEach(((m,p)=>{const v=r.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Ks)?o=o.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),Iu(v.mutation,p,v.mutation.getFieldMask(),yt.now())):u.set(p.key,Yn.empty())})),this.recalculateAndSaveOverlays(e,o).next((m=>(m.forEach(((p,v)=>u.set(p,v))),n.forEach(((p,v)=>h.set(p,new G5(v,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Nu();let a=new St(((u,h)=>u-h)),o=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let v=r.get(m)||Yn.empty();v=h.applyToLocalView(p,v),r.set(m,v);const x=(a.get(h.batchId)||Ge()).add(m);a=a.insert(h.batchId,x)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),p=m.key,v=m.value,x=zw();v.forEach((E=>{if(!o.has(E)){const w=Gw(n.get(E),r.get(E));w!==null&&x.set(E,w),o=o.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,x))}return se.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(u){return we.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):K4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):se.resolve(Na());let h=zu,m=o;return u.next((p=>se.forEach(p,((v,x)=>(h<x.largestBatchId&&(h=x.largestBatchId),o.get(v)?se.resolve():this.remoteDocumentCache.getEntry(e,v).next((E=>{m=m.insert(v,E)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,m,p,Ge()))).next((v=>({batchId:h,changes:Vw(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next((r=>{let a=_u();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let u=_u();return this.indexManager.getCollectionParents(e,o).next((h=>se.forEach(h,(m=>{const p=(function(x,E){return new Ff(E,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,m.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((v=>{v.forEach(((x,E)=>{u=u.insert(x,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a)))).next((u=>{o.forEach(((m,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,yn.newInvalidDocument(v)))}));let h=_u();return u.forEach(((m,p)=>{const v=o.get(m);v!==void 0&&Iu(v.mutation,p,Yn.empty(),yt.now()),Hf(n,p)&&(h=h.insert(m,p))})),h}))}}class Y5{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ir(a.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:P5(a.bundledQuery),readTime:ir(a.readTime)}})(n)),se.resolve()}}class K5{constructor(){this.overlays=new St(we.comparator),this.qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Na();return se.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,o)=>{this.St(e,n,o)})),se.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const a=Na(),o=n.length+1,u=new we(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const m=h.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&m.largestBatchId>r&&a.set(m.getKey(),m)}return se.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new St(((p,v)=>p-v));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let v=o.get(p.largestBatchId);v===null&&(v=Na(),o=o.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const h=Na(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,v)=>h.set(p,v))),!(h.size()>=a)););return se.resolve(h)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new f5(n,r));let o=this.qr.get(n);o===void 0&&(o=Ge(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}class Q5{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}class iy{constructor(){this.Qr=new Xt(tn.$r),this.Ur=new Xt(tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new tn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new tn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new we(new Tt([])),r=new tn(n,e),a=new tn(n,e+1),o=[];return this.Ur.forEachInRange([r,a],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new we(new Tt([])),r=new tn(n,e),a=new tn(n,e+1);let o=Ge();return this.Ur.forEachInRange([r,a],(u=>{o=o.add(u.key)})),o}containsKey(e){const n=new tn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return we.comparator(e.key,n.key)||He(e.Yr,n.Yr)}static Kr(e,n){return He(e.Yr,n.Yr)||we.comparator(e.key,n.key)}}class X5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Xt(tn.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new h5(o,n,r,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new tn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,n){return se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),o=a<0?0:a;return se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Yg:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tn(n,0),a=new tn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(u=>{const h=this.Xr(u.Yr);o.push(h)})),se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xt(He);return n.forEach((a=>{const o=new tn(a,0),u=new tn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(h=>{r=r.add(h.Yr)}))})),se.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;we.isDocumentKey(o)||(o=o.child(""));const u=new tn(new we(o),0);let h=new Xt(He);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(h=h.add(m.Yr)),!0)}),u),se.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){rt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return se.forEach(n.mutations,(a=>{const o=new tn(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new tn(n,0),a=this.Zr.firstAfterOrEqual(r);return se.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class W5{constructor(e){this.ri=e,this.docs=(function(){return new St(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let r=Vr();return n.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():yn.newInvalidDocument(a))})),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=Vr();const u=n.path,h=new we(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||S4(T4(v),r)<=0||(a.has(v.key)||Hf(n,v))&&(o=o.insert(v.key,v.mutableCopy()))}return se.resolve(o)}getAllFromCollectionGroup(e,n,r,a){Ae(9500)}ii(e,n){return se.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new J5(this)}getSize(e){return se.resolve(this.size)}}class J5 extends H5{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class Z5{constructor(e){this.persistence=e,this.si=new za((n=>Xg(n)),Wg),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new iy,this.targetCount=0,this.ai=Ql.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ql(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Pr(n),se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),se.waitFor(o).next((()=>a))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((u=>{o.push(a.markPotentiallyOrphaned(e,u))})),se.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this._i.containsKey(n))}}class sT{constructor(e,n){this.ui={},this.overlays={},this.ci=new zf(0),this.li=!1,this.li=!0,this.hi=new Q5,this.referenceDelegate=e(this),this.Pi=new Z5(this),this.indexManager=new L5,this.remoteDocumentCache=(function(a){return new W5(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new M5(n),this.Ii=new Y5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new K5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new X5(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const a=new eD(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return se.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class eD extends C4{constructor(e){super(),this.currentSequenceNumber=e}}class ry{constructor(e){this.persistence=e,this.Ri=new iy,this.Vi=null}static mi(e){return new ry(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(r=>{const a=we.fromPath(r);return this.gi(e,a).next((o=>{o||n.removeEntry(a,Ce.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Tf{constructor(e,n){this.persistence=e,this.pi=new za((r=>k4(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=q5(this,n)}static mi(e,n){return new Tf(e,n)}Ei(){}di(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return se.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?se.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((h=>{h||(r++,o.removeEntry(u,Ce.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jh(e.data.value)),n}br(e,n,r){return se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return se.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sy{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=Ge(),a=Ge();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new sy(e,n.fromCache,r,a)}}class tD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class nD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return AN()?8:N4(bn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.ys(e,n).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,n,a,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new tD;return this.Ss(e,n,u).next((h=>{if(o.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>o.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(Ol()<=qe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",jl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(Ol()<=qe.DEBUG&&pe("QueryEngine","Query:",jl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(Ol()<=qe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",jl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(n))):se.resolve())}ys(e,n){if(d1(n))return se.resolve(null);let r=tr(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=ig(n,null,"F"),r=tr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=Ge(...o);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((m=>{const p=this.Ds(n,h);return this.Cs(n,p,u,m.readTime)?this.ys(e,ig(n,null,"F")):this.vs(e,p,n,m)}))))})))))}ws(e,n,r,a){return d1(n)||a.isEqual(Ce.min())?se.resolve(null):this.ps.getDocuments(e,r).next((o=>{const u=this.Ds(n,o);return this.Cs(n,u,r,a)?se.resolve(null):(Ol()<=qe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),jl(n)),this.vs(e,u,n,w4(a,zu)).next((h=>h)))}))}Ds(e,n){let r=new Xt(Pw(e));return n.forEach(((a,o)=>{Hf(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,r){return Ol()<=qe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",jl(n)),this.ps.getDocumentsMatchingQuery(e,n,zs.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(n.forEach((u=>{o=o.insert(u.key,u)})),o)))}}const ay="LocalStore",iD=3e8;class rD{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new St(He),this.xs=new za((o=>Xg(o)),Wg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function sD(t,e,n,r){return new rD(t,e,n,r)}async function aT(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],h=[];let m=Ge();for(const p of a){u.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of o){h.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(r,m).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function aD(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,m,p,v){const x=p.batch,E=x.keys();let w=se.resolve();return E.forEach((N=>{w=w.next((()=>v.getEntry(m,N))).next((L=>{const P=p.docVersions.get(N);rt(P!==null,48541),L.version.compareTo(P)<0&&(x.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),v.addEntry(L)))}))})),w.next((()=>h.mutationQueue.removeMutationBatch(m,x)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let m=Ge();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(m=m.add(h.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function lT(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function lD(t,e){const n=Ne(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((v,x)=>{const E=a.get(x);if(!E)return;h.push(n.Pi.removeMatchingKeys(o,v.removedDocuments,x).next((()=>n.Pi.addMatchingKeys(o,v.addedDocuments,x))));let w=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(x)!==null?w=w.withResumeToken(fn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,r)),a=a.insert(x,w),(function(L,P,U){return L.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=iD?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(E,w,v)&&h.push(n.Pi.updateTargetData(o,w))}));let m=Vr(),p=Ge();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,v))})),h.push(oD(o,u,e.documentUpdates).next((v=>{m=v.ks,p=v.qs}))),!r.isEqual(Ce.min())){const v=n.Pi.getLastRemoteSnapshotVersion(o).next((x=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(v)}return se.waitFor(h).next((()=>u.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,m,p))).next((()=>m))})).then((o=>(n.Ms=a,o)))}function oD(t,e,n){let r=Ge(),a=Ge();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let u=Vr();return n.forEach(((h,m)=>{const p=o.get(h);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),m.isNoDocument()&&m.version.isEqual(Ce.min())?(e.removeEntry(h,m.readTime),u=u.insert(h,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(h,m)):pe(ay,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function uD(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Yg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function cD(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((o=>o?(a=o,se.resolve(a)):n.Pi.allocateTargetId(r).next((u=>(a=new Rs(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function og(t,e,n){const r=Ne(t),a=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!so(u))throw u;pe(ay,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function A1(t,e,n){const r=Ne(t);let a=Ce.min(),o=Ge();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,v){const x=Ne(m),E=x.xs.get(v);return E!==void 0?se.resolve(x.Ms.get(E)):x.Pi.getTargetData(p,v)})(r,u,tr(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((m=>{o=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,n?a:Ce.min(),n?o:Ge()))).next((h=>(hD(r,X4(e),h),{documents:h,Qs:o})))))}function hD(t,e,n){let r=t.Os.get(e)||Ce.min();n.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class C1{constructor(){this.activeTargetIds=n5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fD{constructor(){this.Mo=new C1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new C1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dD{Oo(e){}shutdown(){}}const N1="ConnectivityMonitor";class I1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(N1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(N1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Bh=null;function ug(){return Bh===null?Bh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bh++,"0x"+Bh.toString(16)}const gp="RestConnection",mD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===yf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,o){const u=ug(),h=this.zo(e,n.toUriEncodedString());pe(gp,`Sending RPC '${e}' ${u}:`,h,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,o);const{host:p}=new URL(h),v=eo(p);return this.Jo(e,h,m,r,v).then((x=>(pe(gp,`Received RPC '${e}' ${u}: `,x),x)),(x=>{throw Gl(gp,`RPC '${e}' ${u} failed with error: `,x,"url: ",h,"request:",r),x}))}Ho(e,n,r,a,o,u){return this.Go(e,n,r,a,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+io})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const r=mD[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class gD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const pn="WebChannelConnection";class yD extends pD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,o){const u=ug();return new Promise(((h,m)=>{const p=new hw;p.setWithCredentials(!0),p.listenOnce(fw.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Wh.NO_ERROR:const x=p.getResponseJson();pe(pn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(x)),h(x);break;case Wh.TIMEOUT:pe(pn,`RPC '${e}' ${u} timed out`),m(new ve(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Wh.HTTP_ERROR:const E=p.getStatus();if(pe(pn,`RPC '${e}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const N=w?.error;if(N&&N.status&&N.message){const L=(function(U){const F=U.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(F)>=0?F:oe.UNKNOWN})(N.status);m(new ve(L,N.message))}else m(new ve(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ve(oe.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{pe(pn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);pe(pn,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",v,r,15)}))}T_(e,n,r){const a=ug(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=pw(),h=mw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const v=o.join("");pe(pn,`Creating RPC '${e}' stream ${a}: ${v}`,m);const x=u.createWebChannel(v,m);this.I_(x);let E=!1,w=!1;const N=new gD({Yo:P=>{w?pe(pn,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(E||(pe(pn,`Opening RPC '${e}' stream ${a} transport.`),x.open(),E=!0),pe(pn,`RPC '${e}' stream ${a} sending:`,P),x.send(P))},Zo:()=>x.close()}),L=(P,U,F)=>{P.listen(U,(q=>{try{F(q)}catch(te){setTimeout((()=>{throw te}),0)}}))};return L(x,bu.EventType.OPEN,(()=>{w||(pe(pn,`RPC '${e}' stream ${a} transport opened.`),N.o_())})),L(x,bu.EventType.CLOSE,(()=>{w||(w=!0,pe(pn,`RPC '${e}' stream ${a} transport closed`),N.a_(),this.E_(x))})),L(x,bu.EventType.ERROR,(P=>{w||(w=!0,Gl(pn,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),N.a_(new ve(oe.UNAVAILABLE,"The operation could not be completed")))})),L(x,bu.EventType.MESSAGE,(P=>{if(!w){const U=P.data[0];rt(!!U,16349);const F=U,q=F?.error||F[0]?.error;if(q){pe(pn,`RPC '${e}' stream ${a} received error:`,q);const te=q.status;let ce=(function(k){const O=qt[k];if(O!==void 0)return Kw(O)})(te),G=q.message;ce===void 0&&(ce=oe.INTERNAL,G="Unknown error status: "+te+" with message "+q.message),w=!0,N.a_(new ve(ce,G)),x.close()}else pe(pn,`RPC '${e}' stream ${a} received:`,U),N.u_(U)}})),L(h,dw.STAT_EVENT,(P=>{P.stat===Wp.PROXY?pe(pn,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===Wp.NOPROXY&&pe(pn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function yp(){return typeof document<"u"?document:null}function Kf(t){return new _5(t,!0)}class oT{constructor(e,n,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const k1="PersistentStream";class uT{constructor(e,n,r,a,o,u,h,m){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Lr(n.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new ve(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(k1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(k1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vD extends uT{constructor(e,n,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=T5(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ce.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?ir(u.readTime):Ce.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=lg(this.serializer),n.addTarget=(function(o,u){let h;const m=u.target;if(h=ng(m)?{documents:C5(o,m)}:{query:N5(o,m).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Ww(o,u.resumeToken);const p=rg(o,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ce.min())>0){h.readTime=wf(o,u.snapshotVersion.toTimestamp());const p=rg(o,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=k5(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=lg(this.serializer),n.removeTarget=e,this.q_(n)}}class xD extends uT{constructor(e,n,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=A5(e.writeResults,e.commitTime),r=ir(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=lg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>S5(this.serializer,r)))};this.q_(n)}}class bD{}class _D extends bD{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,sg(n,r),a,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(oe.UNKNOWN,o.toString())}))}Ho(e,n,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,sg(n,r),a,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(oe.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ED{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Lr(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Pa="RemoteStore";class wD{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Ua(this)&&(pe(Pa,"Restarting streams for network reachability change."),await(async function(m){const p=Ne(m);p.Ea.add(4),await sc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Qf(p)})(this))}))})),this.Ra=new ED(r,a)}}async function Qf(t){if(Ua(t))for(const e of t.da)await e(!0)}async function sc(t){for(const e of t.da)await e(!1)}function cT(t,e){const n=Ne(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),cy(n)?uy(n):ao(n).O_()&&oy(n,e))}function ly(t,e){const n=Ne(t),r=ao(n);n.Ia.delete(e),r.O_()&&hT(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ua(n)&&n.Ra.set("Unknown"))}function oy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ao(t).Y_(e)}function hT(t,e){t.Va.Ue(e),ao(t).Z_(e)}function uy(t){t.Va=new y5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ao(t).start(),t.Ra.ua()}function cy(t){return Ua(t)&&!ao(t).x_()&&t.Ia.size>0}function Ua(t){return Ne(t).Ea.size===0}function fT(t){t.Va=void 0}async function TD(t){t.Ra.set("Online")}async function SD(t){t.Ia.forEach(((e,n)=>{oy(t,e)}))}async function AD(t,e){fT(t),cy(t)?(t.Ra.ha(e),uy(t)):t.Ra.set("Unknown")}async function CD(t,e,n){if(t.Ra.set("Online"),e instanceof Xw&&e.state===2&&e.cause)try{await(async function(a,o){const u=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(r){pe(Pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sf(t,r)}else if(e instanceof tf?t.Va.Ze(e):e instanceof Qw?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ce.min()))try{const r=await lT(t.localStore);n.compareTo(r)>=0&&await(function(o,u){const h=o.Va.Tt(u);return h.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=o.Ia.get(p);v&&o.Ia.set(p,v.withResumeToken(m.resumeToken,u))}})),h.targetMismatches.forEach(((m,p)=>{const v=o.Ia.get(m);if(!v)return;o.Ia.set(m,v.withResumeToken(fn.EMPTY_BYTE_STRING,v.snapshotVersion)),hT(o,m);const x=new Rs(v.target,m,p,v.sequenceNumber);oy(o,x)})),o.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){pe(Pa,"Failed to raise snapshot:",r),await Sf(t,r)}}async function Sf(t,e,n){if(!so(e))throw e;t.Ea.add(1),await sc(t),t.Ra.set("Offline"),n||(n=()=>lT(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pe(Pa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Qf(t)}))}function dT(t,e){return e().catch((n=>Sf(t,n,e)))}async function Xf(t){const e=Ne(t),n=qs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Yg;for(;ND(e);)try{const a=await uD(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,ID(e,a)}catch(a){await Sf(e,a)}mT(e)&&pT(e)}function ND(t){return Ua(t)&&t.Ta.length<10}function ID(t,e){t.Ta.push(e);const n=qs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function mT(t){return Ua(t)&&!qs(t).x_()&&t.Ta.length>0}function pT(t){qs(t).start()}async function kD(t){qs(t).ra()}async function RD(t){const e=qs(t);for(const n of t.Ta)e.ea(n.mutations)}async function DD(t,e,n){const r=t.Ta.shift(),a=ey.from(r,e,n);await dT(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Xf(t)}async function OD(t,e){e&&qs(t).X_&&await(async function(r,a){if((function(u){return m5(u)&&u!==oe.ABORTED})(a.code)){const o=r.Ta.shift();qs(r).B_(),await dT(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Xf(r)}})(t,e),mT(t)&&pT(t)}async function R1(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),pe(Pa,"RemoteStore received new credentials");const r=Ua(n);n.Ea.add(3),await sc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Qf(n)}async function jD(t,e){const n=Ne(t);e?(n.Ea.delete(2),await Qf(n)):e||(n.Ea.add(2),await sc(n),n.Ra.set("Unknown"))}function ao(t){return t.ma||(t.ma=(function(n,r,a){const o=Ne(n);return o.sa(),new vD(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:TD.bind(null,t),t_:SD.bind(null,t),r_:AD.bind(null,t),H_:CD.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),cy(t)?uy(t):t.Ra.set("Unknown")):(await t.ma.stop(),fT(t))}))),t.ma}function qs(t){return t.fa||(t.fa=(function(n,r,a){const o=Ne(n);return o.sa(),new xD(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:kD.bind(null,t),r_:OD.bind(null,t),ta:RD.bind(null,t),na:DD.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Xf(t)):(await t.fa.stop(),t.Ta.length>0&&(pe(Pa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class hy{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const u=Date.now()+r,h=new hy(e,n,u,a,o);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fy(t,e){if(Lr("AsyncQueue",`${e}: ${t}`),so(t))return new ve(oe.UNAVAILABLE,`${e}: ${t}`);throw t}class Bl{static emptySet(e){return new Bl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=_u(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class D1{constructor(){this.ga=new St(we.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Xl{constructor(e,n,r,a,o,u,h,m,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,o){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Xl(e,n,Bl.emptySet(n),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class MD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class PD{constructor(){this.queries=O1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Ne(n),o=a.queries;a.queries=O1(),o.forEach(((u,h)=>{for(const m of h.Sa)m.onError(r)}))})(this,new ve(oe.ABORTED,"Firestore shutting down"))}}function O1(){return new za((t=>Mw(t)),qf)}async function LD(t,e){const n=Ne(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new MD,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=fy(u,`Initialization of query '${jl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&dy(n)}async function VD(t,e){const n=Ne(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zD(t,e){const n=Ne(t);let r=!1;for(const a of e){const o=a.query,u=n.queries.get(o);if(u){for(const h of u.Sa)h.Fa(a)&&(r=!0);u.wa=a}}r&&dy(n)}function UD(t,e,n){const r=Ne(t),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);r.queries.delete(e)}function dy(t){t.Ca.forEach((e=>{e.next()}))}var cg,j1;(j1=cg||(cg={})).Ma="default",j1.Cache="cache";class BD{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Xl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cg.Cache}}class gT{constructor(e){this.key=e}}class yT{constructor(e){this.key=e}}class FD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=Pw(e),this.tu=new Bl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new D1,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,x)=>{const E=a.get(v),w=Hf(this.query,x)?x:null,N=!!E&&this.mutatedKeys.has(E.key),L=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let P=!1;E&&w?E.data.isEqual(w.data)?N!==L&&(r.track({type:3,doc:w}),P=!0):this.su(E,w)||(r.track({type:2,doc:w}),P=!0,(m&&this.eu(w,m)>0||p&&this.eu(w,p)<0)&&(h=!0)):!E&&w?(r.track({type:0,doc:w}),P=!0):E&&!w&&(r.track({type:1,doc:E}),P=!0,(m||p)&&(h=!0)),P&&(w?(u=u.add(w),o=L?o.add(v):o.delete(v)):(u=u.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:h,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,x)=>(function(w,N){const L=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:P})}};return L(w)-L(N)})(v.type,x.type)||this.eu(v.doc,x.doc))),this.ou(r),a=a??!1;const h=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,u.length!==0||p?{snapshot:new Xl(this.query,e.tu,o,u,e.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new yT(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new gT(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Xl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const my="SyncEngine";class qD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class HD{constructor(e){this.key=e,this.hu=!1}}class GD{constructor(e,n,r,a,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new za((h=>Mw(h)),qf),this.Iu=new Map,this.Eu=new Set,this.du=new St(we.comparator),this.Au=new Map,this.Ru=new iy,this.Vu={},this.mu=new Map,this.fu=Ql.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $D(t,e,n=!0){const r=wT(t);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await vT(r,e,n,!0),a}async function YD(t,e){const n=wT(t);await vT(n,e,!0,!1)}async function vT(t,e,n,r){const a=await cD(t.localStore,tr(e)),o=a.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let h;return r&&(h=await KD(t,e,o,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&cT(t.remoteStore,a),h}async function KD(t,e,n,r,a){t.pu=(x,E,w)=>(async function(L,P,U,F){let q=P.view.ru(U);q.Cs&&(q=await A1(L.localStore,P.query,!1).then((({documents:M})=>P.view.ru(M,q))));const te=F&&F.targetChanges.get(P.targetId),ce=F&&F.targetMismatches.get(P.targetId)!=null,G=P.view.applyChanges(q,L.isPrimaryClient,te,ce);return P1(L,P.targetId,G.au),G.snapshot})(t,x,E,w);const o=await A1(t.localStore,e,!0),u=new FD(e,o.Qs),h=u.ru(o.documents),m=rc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,m);P1(t,n,p.au);const v=new qD(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function QD(t,e,n){const r=Ne(t),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((u=>!qf(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await og(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&ly(r.remoteStore,a.targetId),hg(r,a.targetId)})).catch(ro)):(hg(r,a.targetId),await og(r.localStore,a.targetId,!0))}async function XD(t,e){const n=Ne(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ly(n.remoteStore,r.targetId))}async function WD(t,e,n){const r=rO(t);try{const a=await(function(u,h){const m=Ne(u),p=yt.now(),v=h.reduce(((w,N)=>w.add(N.key)),Ge());let x,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let N=Vr(),L=Ge();return m.Ns.getEntries(w,v).next((P=>{N=P,N.forEach(((U,F)=>{F.isValidDocument()||(L=L.add(U))}))})).next((()=>m.localDocuments.getOverlayedDocuments(w,N))).next((P=>{x=P;const U=[];for(const F of h){const q=u5(F,x.get(F.key).overlayedDocument);q!=null&&U.push(new Ks(F.key,q,Nw(q.value.mapValue),nr.exists(!0)))}return m.mutationQueue.addMutationBatch(w,p,U,h)})).next((P=>{E=P;const U=P.applyToLocalDocumentSet(x,L);return m.documentOverlayCache.saveOverlays(w,P.batchId,U)}))})).then((()=>({batchId:E.batchId,changes:Vw(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,h,m){let p=u.Vu[u.currentUser.toKey()];p||(p=new St(He)),p=p.insert(h,m),u.Vu[u.currentUser.toKey()]=p})(r,a.batchId,n),await ac(r,a.changes),await Xf(r.remoteStore)}catch(a){const o=fy(a,"Failed to persist write");n.reject(o)}}async function xT(t,e){const n=Ne(t);try{const r=await lD(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const u=n.Au.get(o);u&&(rt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?rt(u.hu,14607):a.removedDocuments.size>0&&(rt(u.hu,42227),u.hu=!1))})),await ac(n,r,e)}catch(r){await ro(r)}}function M1(t,e,n){const r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((o,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const m=Ne(u);m.onlineState=h;let p=!1;m.queries.forEach(((v,x)=>{for(const E of x.Sa)E.va(h)&&(p=!0)})),p&&dy(m)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JD(t,e,n){const r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),o=a&&a.key;if(o){let u=new St(we.comparator);u=u.insert(o,yn.newNoDocument(o,Ce.min()));const h=Ge().add(o),m=new Yf(Ce.min(),new Map,new St(He),u,h);await xT(r,m),r.du=r.du.remove(o),r.Au.delete(e),py(r)}else await og(r.localStore,e,!1).then((()=>hg(r,e,n))).catch(ro)}async function ZD(t,e){const n=Ne(t),r=e.batch.batchId;try{const a=await aD(n.localStore,e);_T(n,r,null),bT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ac(n,a)}catch(a){await ro(a)}}async function eO(t,e,n){const r=Ne(t);try{const a=await(function(u,h){const m=Ne(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return m.mutationQueue.lookupMutationBatch(p,h).next((x=>(rt(x!==null,37113),v=x.keys(),m.mutationQueue.removeMutationBatch(p,x)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>m.localDocuments.getDocuments(p,v)))}))})(r.localStore,e);_T(r,e,n),bT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ac(r,a)}catch(a){await ro(a)}}function bT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function _T(t,e,n){const r=Ne(t);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function hg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||ET(t,r)}))}function ET(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ly(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),py(t))}function P1(t,e,n){for(const r of n)r instanceof gT?(t.Ru.addReference(r.key,e),tO(t,r)):r instanceof yT?(pe(my,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||ET(t,r.key)):Ae(19791,{wu:r})}function tO(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(pe(my,"New document in limbo: "+n),t.Eu.add(r),py(t))}function py(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new we(Tt.fromString(e)),r=t.fu.next();t.Au.set(r,new HD(n)),t.du=t.du.insert(n,r),cT(t.remoteStore,new Rs(tr(Jg(n.path)),r,"TargetPurposeLimboResolution",zf.ce))}}async function ac(t,e,n){const r=Ne(t),a=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,m)=>{u.push(r.pu(m,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(p){a.push(p);const v=sy.As(m.targetId,p);o.push(v)}})))})),await Promise.all(u),r.Pu.H_(a),await(async function(m,p){const v=Ne(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>se.forEach(p,(E=>se.forEach(E.Es,(w=>v.persistence.referenceDelegate.addReference(x,E.targetId,w))).next((()=>se.forEach(E.ds,(w=>v.persistence.referenceDelegate.removeReference(x,E.targetId,w)))))))))}catch(x){if(!so(x))throw x;pe(ay,"Failed to update sequence numbers: "+x)}for(const x of p){const E=x.targetId;if(!x.fromCache){const w=v.Ms.get(E),N=w.snapshotVersion,L=w.withLastLimboFreeSnapshotVersion(N);v.Ms=v.Ms.insert(E,L)}}})(r.localStore,o))}async function nO(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){pe(my,"User change. New user:",e.toKey());const r=await aT(n.localStore,e);n.currentUser=e,(function(o,u){o.mu.forEach((h=>{h.forEach((m=>{m.reject(new ve(oe.CANCELLED,u))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ac(n,r.Ls)}}function iO(t,e){const n=Ne(t),r=n.Au.get(e);if(r&&r.hu)return Ge().add(r.key);{let a=Ge();const o=n.Iu.get(e);if(!o)return a;for(const u of o){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function wT(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JD.bind(null,e),e.Pu.H_=zD.bind(null,e.eventManager),e.Pu.yu=UD.bind(null,e.eventManager),e}function rO(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eO.bind(null,e),e}class Af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return sD(this.persistence,new nD,e.initialUser,this.serializer)}Cu(e){return new sT(ry.mi,this.serializer)}Du(e){return new fD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Af.provider={build:()=>new Af};class sO extends Af{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){rt(this.persistence.referenceDelegate instanceof Tf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new B5(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new sT((r=>Tf.mi(r,n)),this.serializer)}}class fg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>M1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nO.bind(null,this.syncEngine),await jD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new PD})()}createDatastore(e){const n=Kf(e.databaseInfo.databaseId),r=(function(o){return new yD(o)})(e.databaseInfo);return(function(o,u,h,m){return new _D(o,u,h,m)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,o,u,h){return new wD(r,a,o,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>M1(this.syncEngine,n,0)),(function(){return I1.v()?new I1:new dD})())}createSyncEngine(e,n){return(function(a,o,u,h,m,p,v){const x=new GD(a,o,u,h,m,p);return v&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ne(n);pe(Pa,"RemoteStore shutting down."),r.Ea.add(5),await sc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fg.provider={build:()=>new fg};class aO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Lr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Hs="FirestoreClient";class lO{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=gn.UNAUTHENTICATED,this.clientId=Gg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{pe(Hs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(pe(Hs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=fy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function vp(t,e){t.asyncQueue.verifyOperationInProgress(),pe(Hs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await aT(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function L1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await oO(t);pe(Hs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>R1(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>R1(e.remoteStore,a))),t._onlineComponents=e}async function oO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(Hs,"Using user provided OfflineComponentProvider");try{await vp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Gl("Error using user provided cache. Falling back to memory cache: "+n),await vp(t,new Af)}}else pe(Hs,"Using default OfflineComponentProvider"),await vp(t,new sO(void 0));return t._offlineComponents}async function TT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(Hs,"Using user provided OnlineComponentProvider"),await L1(t,t._uninitializedComponentsProvider._online)):(pe(Hs,"Using default OnlineComponentProvider"),await L1(t,new fg))),t._onlineComponents}function uO(t){return TT(t).then((e=>e.syncEngine))}async function cO(t){const e=await TT(t),n=e.eventManager;return n.onListen=$D.bind(null,e.syncEngine),n.onUnlisten=QD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=YD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XD.bind(null,e.syncEngine),n}function hO(t,e,n={}){const r=new Ps;return t.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,m,p){const v=new aO({next:E=>{v.Nu(),u.enqueueAndForget((()=>VD(o,x)));const w=E.docs.has(h);!w&&E.fromCache?p.reject(new ve(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&E.fromCache&&m&&m.source==="server"?p.reject(new ve(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),x=new BD(Jg(h.path),v,{includeMetadataChanges:!0,qa:!0});return LD(o,x)})(await cO(t),t.asyncQueue,e,n,r))),r.promise}function ST(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const V1=new Map;const AT="firestore.googleapis.com",z1=!0;class U1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AT,this.ssl=z1}else this.host=e.host,this.ssl=e.ssl??z1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<z5)throw new ve(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}E4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ST(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gy{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new h4;switch(r.type){case"firstParty":return new p4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=V1.get(n);r&&(pe("ComponentProvider","Removing Datastore"),V1.delete(n),r.terminate())})(this),Promise.resolve()}}function fO(t,e,n,r={}){t=Ma(t,gy);const a=eo(e),o=t._getSettings(),u={...o,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(wE(`https://${h}`),TE("Firestore",!0)),o.host!==AT&&o.host!==h&&Gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...o,host:h,ssl:a,emulatorOptions:r};if(!ka(m,u)&&(t._setSettings(m),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=gn.MOCK_USER;else{p=yN(r.mockUserToken,t._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new ve(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new gn(x)}t._authCredentials=new f4(new yw(p,v))}}class yy{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yy(this.firestore,e,this._query)}}class Qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(nc(n,Qt._jsonSchema))return new Qt(e,r||null,new we(Tt.fromString(n.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:$t("string",Qt._jsonSchemaVersion),referencePath:$t("string")};class Gu extends yy{constructor(e,n,r){super(e,n,Jg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new we(e))}withConverter(e){return new Gu(this.firestore,e,this._path)}}function vy(t,e,...n){if(t=hn(t),arguments.length===1&&(e=Gg.newId()),_4("doc","path",e),t instanceof gy){const r=Tt.fromString(e,...n);return e1(r),new Qt(t,null,new we(r))}{if(!(t instanceof Qt||t instanceof Gu))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tt.fromString(e,...n));return e1(r),new Qt(t.firestore,t instanceof Gu?t.converter:null,new we(r))}}const B1="AsyncQueue";class F1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oT(this,"async_queue_retry"),this._c=()=>{const r=yp();r&&pe(B1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=yp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=yp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ps;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!so(e))throw e;pe(B1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Lr("INTERNAL UNHANDLED ERROR: ",q1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=hy.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Ae(47125,{Pc:q1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function q1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Wf extends gy{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new F1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F1(e),this._firestoreClient=void 0,await e}}}function dO(t,e){const n=typeof t=="object"?t:NE(),r=typeof t=="string"?t:yf,a=Og(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=pN("firestore");o&&fO(a,...o)}return a}function CT(t){if(t._terminated)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||mO(t),t._firestoreClient}function mO(t){const e=t._freezeSettings(),n=(function(a,o,u,h){return new O4(a,o,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,ST(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new lO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}class hi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hi(fn.fromBase64String(e))}catch(n){throw new ve(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hi(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nc(e,hi._jsonSchema))return hi.fromBase64String(e.bytes)}}hi._jsonSchemaVersion="firestore/bytes/1.0",hi._jsonSchema={type:$t("string",hi._jsonSchemaVersion),bytes:$t("string")};class Jf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xy{constructor(e){this._methodName=e}}class rr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rr._jsonSchemaVersion}}static fromJSON(e){if(nc(e,rr._jsonSchema))return new rr(e.latitude,e.longitude)}}rr._jsonSchemaVersion="firestore/geoPoint/1.0",rr._jsonSchema={type:$t("string",rr._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};class sr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:sr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nc(e,sr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new sr(e.vectorValues);throw new ve(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}sr._jsonSchemaVersion="firestore/vectorValue/1.0",sr._jsonSchema={type:$t("string",sr._jsonSchemaVersion),vectorValues:$t("object")};const pO=/^__.*__$/;class gO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new ic(e,this.data,n,this.fieldTransforms)}}class NT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function IT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:t})}}class by{constructor(e,n,r,a,o,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new by({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Cf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(IT(this.Ac)&&pO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class yO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kf(e)}Cc(e,n,r,a=!1){return new by({Ac:e,methodName:n,Dc:r,path:cn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kT(t){const e=t._freezeSettings(),n=Kf(t._databaseId);return new yO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vO(t,e,n,r,a,o={}){const u=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);_y("Data must be an object, but it was:",u,r);const h=RT(r,u);let m,p;if(o.merge)m=new Yn(u.fieldMask),p=u.fieldTransforms;else if(o.mergeFields){const v=[];for(const x of o.mergeFields){const E=dg(e,x,n);if(!u.contains(E))throw new ve(oe.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);OT(v,E)||v.push(E)}m=new Yn(v),p=u.fieldTransforms.filter((x=>m.covers(x.field)))}else m=null,p=u.fieldTransforms;return new gO(new jn(h),m,p)}class Zf extends xy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zf}}function xO(t,e,n,r){const a=t.Cc(1,e,n);_y("Data must be an object, but it was:",a,r);const o=[],u=jn.empty();Ys(r,((m,p)=>{const v=Ey(e,m,n);p=hn(p);const x=a.yc(v);if(p instanceof Zf)o.push(v);else{const E=ed(p,x);E!=null&&(o.push(v),u.set(v,E))}}));const h=new Yn(o);return new NT(u,h,a.fieldTransforms)}function bO(t,e,n,r,a,o){const u=t.Cc(1,e,n),h=[dg(e,r,n)],m=[a];if(o.length%2!=0)throw new ve(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)h.push(dg(e,o[E])),m.push(o[E+1]);const p=[],v=jn.empty();for(let E=h.length-1;E>=0;--E)if(!OT(p,h[E])){const w=h[E];let N=m[E];N=hn(N);const L=u.yc(w);if(N instanceof Zf)p.push(w);else{const P=ed(N,L);P!=null&&(p.push(w),v.set(w,P))}}const x=new Yn(p);return new NT(v,x,u.fieldTransforms)}function ed(t,e){if(DT(t=hn(t)))return _y("Unsupported field value:",e,t),RT(t,e);if(t instanceof xy)return(function(r,a){if(!IT(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let u=0;for(const h of r){let m=ed(h,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}})(t,e)}return(function(r,a){if((r=hn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return i5(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=yt.fromDate(r);return{timestampValue:wf(a.serializer,o)}}if(r instanceof yt){const o=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wf(a.serializer,o)}}if(r instanceof rr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hi)return{bytesValue:Ww(a.serializer,r._byteString)};if(r instanceof Qt){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ny(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof sr)return(function(u,h){return{mapValue:{fields:{[Aw]:{stringValue:Cw},[vf]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return Zg(h.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${$g(r)}`)})(t,e)}function RT(t,e){const n={};return bw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ys(t,((r,a)=>{const o=ed(a,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function DT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof rr||t instanceof hi||t instanceof Qt||t instanceof xy||t instanceof sr)}function _y(t,e,n){if(!DT(n)||!vw(n)){const r=$g(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function dg(t,e,n){if((e=hn(e))instanceof Jf)return e._internalPath;if(typeof e=="string")return Ey(t,e);throw Cf("Field path arguments must be of type string or ",t,!1,void 0,n)}const _O=new RegExp("[~\\*/\\[\\]]");function Ey(t,e,n){if(e.search(_O)>=0)throw Cf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jf(...e.split("."))._internalPath}catch{throw Cf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cf(t,e,n,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(o||u)&&(m+=" (found",o&&(m+=` in field ${r}`),u&&(m+=` in document ${a}`),m+=")"),new ve(oe.INVALID_ARGUMENT,h+t+m)}function OT(t,e){return t.some((n=>n.isEqual(e)))}class jT{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(MT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class EO extends jT{data(){return super.data()}}function MT(t,e){return typeof e=="string"?Ey(t,e):e instanceof Jf?e._internalPath:e._delegate._internalPath}class wO{convertValue(e,n="none"){switch(Fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ys(e,((a,o)=>{r[a]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[vf].arrayValue?.values?.map((r=>jt(r.doubleValue)));return new sr(n)}convertGeoPoint(e){return new rr(jt(e.latitude),jt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Bf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Uu(e));default:return null}}convertTimestamp(e){const n=Us(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Tt.fromString(e);rt(iT(r),9688,{name:e});const a=new Bu(r.get(1),r.get(3)),o=new we(r.popFirst(5));return a.isEqual(n)||Lr(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function TO(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class wu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ia extends jT{constructor(e,n,r,a,o,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(MT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ia._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ia._jsonSchema={type:$t("string",Ia._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};class nf extends Ia{data(e={}){return super.data(e)}}class ku{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new wu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new nf(this._firestore,this._userDataWriter,r.key,r,new wu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const m=new nf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new wu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const m=new nf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new wu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:SO(h.type),doc:m,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ku._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function SO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:t})}}function AO(t){t=Ma(t,Qt);const e=Ma(t.firestore,Wf);return hO(CT(e),t._key).then((n=>kO(e,t,n)))}ku._jsonSchemaVersion="firestore/querySnapshot/1.0",ku._jsonSchema={type:$t("string",ku._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};class CO extends wO{constructor(e){super(),this.firestore=e}convertBytes(e){return new hi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,n)}}function NO(t,e,n){t=Ma(t,Qt);const r=Ma(t.firestore,Wf),a=TO(t.converter,e,n);return PT(r,[vO(kT(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,nr.none())])}function IO(t,e,n,...r){t=Ma(t,Qt);const a=Ma(t.firestore,Wf),o=kT(a);let u;return u=typeof(e=hn(e))=="string"||e instanceof Jf?bO(o,"updateDoc",t._key,e,n,r):xO(o,"updateDoc",t._key,e),PT(a,[u.toMutation(t._key,nr.exists(!0))])}function PT(t,e){return(function(r,a){const o=new Ps;return r.asyncQueue.enqueueAndForget((async()=>WD(await uO(r),a,o))),o.promise})(CT(t),e)}function kO(t,e,n){const r=n.docs.get(e._key),a=new CO(t);return new Ia(t,a,e._key,r,new wu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){io=a})(to),Hl(new Ra("firestore",((r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Wf(new d4(r.getProvider("auth-internal")),new g4(u,r.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ve(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(p.options.projectId,v)})(u,a),u);return o={useFetchStreams:n,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),js(Xb,Wb,e),js(Xb,Wb,"esm2020")})();const RO={apiKey:"AIzaSyAgGkHhRcdGatNvRsm5BQv_RerjG8qt70M",authDomain:"adjucator-ai.firebaseapp.com",projectId:"adjucator-ai",storageBucket:"adjucator-ai.firebasestorage.app",messagingSenderId:"82725691768",appId:"1:82725691768:web:6186a5b41b8a0aa1e7688d",measurementId:"G-N92VEHSKDE"},LT=CE(RO),lc=u4(LT),wy=dO(LT),DO=new Ir,OO=async(t,e)=>{const n=await $k(lc,t,e);return await Kk(n.user),n},jO=async(t,e)=>await Yk(lc,t,e),MO=async()=>await vR(lc,DO),PO=async()=>await Jk(lc),LO=t=>Wk(lc,t),xp=async(t,e)=>{const n=vy(wy,"users",t);await NO(n,{...e,createdAt:new Date().toISOString(),history:[]},{merge:!0})},H1=async t=>{const e=vy(wy,"users",t),n=await AO(e);return n.exists()?n.data():null},VO=async(t,e)=>{const n=vy(wy,"users",t);await IO(n,e)},VT=ee.createContext(null),Ty=()=>{const t=ee.useContext(VT);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},zO=({children:t})=>{const[e,n]=ee.useState(null),[r,a]=ee.useState(null),[o,u]=ee.useState(!0),[h,m]=ee.useState(null);ee.useEffect(()=>{const P=LO(async U=>{if(n(U),U)try{let F=await H1(U.uid);F||(F={email:U.email,displayName:U.displayName||"",photoURL:U.photoURL||"",preferredEvents:[],settings:{theme:"dark",autoSaveHistory:!0}},await xp(U.uid,F)),a(F)}catch(F){console.error("Error fetching user profile:",F)}else a(null);u(!1)});return()=>P()},[]);const L={user:e,userProfile:r,loading:o,error:h,login:async(P,U)=>{m(null);try{return await jO(P,U)}catch(F){throw m(Fh(F.code)),F}},register:async(P,U,F)=>{m(null);try{const q=await OO(P,U);return await xp(q.user.uid,{email:P,displayName:F,photoURL:"",preferredEvents:[],settings:{theme:"dark",autoSaveHistory:!0}}),q}catch(q){throw m(Fh(q.code)),q}},loginWithGoogle:async()=>{m(null);try{const P=await MO();return await H1(P.user.uid)||await xp(P.user.uid,{email:P.user.email,displayName:P.user.displayName||"",photoURL:P.user.photoURL||"",preferredEvents:[],settings:{theme:"dark",autoSaveHistory:!0}}),P}catch(P){throw m(Fh(P.code)),P}},logout:async()=>{m(null);try{await PO()}catch(P){throw m(Fh(P.code)),P}},updateProfile:async P=>{if(e)try{await VO(e.uid,P),a(U=>({...U,...P}))}catch(U){throw m("Failed to update profile"),U}},clearError:()=>m(null),isAuthenticated:!!e};return g.jsx(VT.Provider,{value:L,children:t})};function Fh(t){return{"auth/email-already-in-use":"This email is already registered. Try logging in instead.","auth/invalid-email":"Please enter a valid email address.","auth/operation-not-allowed":"This sign-in method is not enabled.","auth/weak-password":"Password should be at least 6 characters.","auth/user-disabled":"This account has been disabled.","auth/user-not-found":"No account found with this email.","auth/wrong-password":"Incorrect password. Please try again.","auth/invalid-credential":"Invalid credentials. Please check your email and password.","auth/too-many-requests":"Too many failed attempts. Please try again later.","auth/popup-closed-by-user":"Sign-in popup was closed. Please try again.","auth/popup-blocked":"Sign-in popup was blocked. Please enable popups.","auth/network-request-failed":"Network error. Please check your connection."}[t]||"An error occurred. Please try again."}const du={dark:{id:"dark",name:"Dark",icon:"",colors:{bgPrimary:"#020617",bgSecondary:"#0f172a",bgTertiary:"#1e293b",textPrimary:"#f8fafc",textSecondary:"#94a3b8",textMuted:"#64748b",primary:"#06b6d4",primaryHover:"#22d3ee",accent:"#a855f7",border:"rgba(51, 65, 85, 0.5)",glass:"rgba(15, 23, 42, 0.8)",cardBg:"rgba(15, 23, 42, 0.5)",inputBg:"#020617",success:"#22c55e",warning:"#f59e0b",error:"#ef4444"}},light:{id:"light",name:"Light",icon:"",colors:{bgPrimary:"#ffffff",bgSecondary:"#f8fafc",bgTertiary:"#e2e8f0",textPrimary:"#0f172a",textSecondary:"#334155",textMuted:"#64748b",primary:"#0891b2",primaryHover:"#0e7490",accent:"#7c3aed",border:"rgba(15, 23, 42, 0.15)",glass:"rgba(255, 255, 255, 0.95)",cardBg:"rgba(248, 250, 252, 0.9)",inputBg:"#ffffff",success:"#16a34a",warning:"#d97706",error:"#dc2626"}}},zT=ee.createContext(null),UO=()=>{const t=ee.useContext(zT);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},BO=({children:t})=>{const[e,n]=ee.useState(()=>localStorage.getItem("theme")||"dark"),r=du[e]||du.dark;ee.useEffect(()=>{const h=document.documentElement,m=r.colors;h.style.setProperty("--bg-primary",m.bgPrimary),h.style.setProperty("--bg-secondary",m.bgSecondary),h.style.setProperty("--bg-tertiary",m.bgTertiary),h.style.setProperty("--text-primary",m.textPrimary),h.style.setProperty("--text-secondary",m.textSecondary),h.style.setProperty("--text-muted",m.textMuted),h.style.setProperty("--primary",m.primary),h.style.setProperty("--primary-hover",m.primaryHover),h.style.setProperty("--accent",m.accent),h.style.setProperty("--border",m.border),h.style.setProperty("--glass",m.glass),h.style.setProperty("--card-bg",m.cardBg),h.style.setProperty("--input-bg",m.inputBg),h.style.setProperty("--success",m.success),h.style.setProperty("--warning",m.warning),h.style.setProperty("--error",m.error),h.className=`theme-${e}`,localStorage.setItem("theme",e)},[e,r]);const u={theme:r,themeId:e,setTheme:h=>{du[h]&&n(h)},cycleTheme:()=>{const h=Object.keys(du),p=(h.indexOf(e)+1)%h.length;n(h[p])},themes:du};return g.jsx(zT.Provider,{value:u,children:t})},FO=({activeTab:t,setActiveTab:e,onSettingsClick:n})=>{const[r,a]=ee.useState(!1),[o,u]=ee.useState(!1),{user:h,logout:m,isAuthenticated:p}=Ty(),{theme:v,setTheme:x}=UO(),E=[{id:"dashboard",label:"Dashboard"},{id:"judge",label:"Analyze"},{id:"coach",label:"Live Coach"},{id:"strategy",label:"Strategy"},{id:"extemp",label:"Extemp"},{id:"tone",label:"Tone Analysis"},{id:"history",label:"History"}],w=[{id:1,title:"Analysis Complete",message:"Your PF speech analysis is ready",time:"2m ago",unread:!0},{id:2,title:"New Feature",message:"Team collaboration now available",time:"1h ago",unread:!0},{id:3,title:"Weekly Report",message:"Your performance summary is ready",time:"1d ago",unread:!1}],N=w.filter(L=>L.unread).length;return g.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 h-16 border-b border-slate-800/60 bg-slate-950/95 backdrop-blur-xl",children:[g.jsxs("div",{className:"h-full max-w-[1800px] mx-auto px-6 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-8",children:[g.jsxs("button",{onClick:()=>e("dashboard"),className:"flex items-center gap-3 group",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-xl blur opacity-40 group-hover:opacity-60 transition-opacity"}),g.jsx("div",{className:"relative w-9 h-9 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:g.jsx(ql,{className:"w-5 h-5 text-white"})})]}),g.jsxs("div",{className:"hidden sm:block",children:[g.jsx("span",{className:"text-lg font-bold text-white tracking-tight",children:"Adjudicator"}),g.jsx("span",{className:"text-lg font-light text-slate-400 ml-1",children:"AI"})]})]}),g.jsx("div",{className:"hidden lg:flex items-center",children:g.jsx("div",{className:"flex items-center bg-slate-900/50 rounded-xl p-1 border border-slate-800/50",children:E.map(L=>g.jsx("button",{onClick:()=>e(L.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${t===L.id?"bg-slate-800 text-white shadow-sm":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,children:L.label},L.id))})})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{className:"hidden md:flex items-center gap-2 px-3 py-2 rounded-lg bg-slate-900/50 border border-slate-800/50 text-slate-500 hover:text-slate-300 hover:border-slate-700 transition-all",children:[g.jsx(Bp,{className:"w-4 h-4"}),g.jsx("span",{className:"text-sm",children:"Search..."}),g.jsx("kbd",{className:"ml-2 px-1.5 py-0.5 text-xs bg-slate-800 rounded border border-slate-700",children:"K"})]}),g.jsxs("div",{className:"relative",children:[g.jsxs("button",{onClick:()=>u(!o),className:"relative p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",children:[g.jsx(G2,{className:"w-5 h-5"}),N>0&&g.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-cyan-500 rounded-full ring-2 ring-slate-950"})]}),o&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>u(!1)}),g.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-slate-900 border border-slate-800 rounded-xl shadow-2xl shadow-black/50 overflow-hidden z-50",children:[g.jsx("div",{className:"p-4 border-b border-slate-800",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h3",{className:"font-semibold text-white",children:"Notifications"}),N>0&&g.jsxs("span",{className:"px-2 py-0.5 text-xs font-medium bg-cyan-500/10 text-cyan-400 rounded-full",children:[N," new"]})]})}),g.jsx("div",{className:"max-h-80 overflow-y-auto",children:w.map(L=>g.jsx("div",{className:`p-4 border-b border-slate-800/50 hover:bg-slate-800/30 transition-colors cursor-pointer ${L.unread?"bg-slate-800/20":""}`,children:g.jsxs("div",{className:"flex items-start gap-3",children:[L.unread&&g.jsx("span",{className:"w-2 h-2 mt-2 bg-cyan-500 rounded-full flex-shrink-0"}),g.jsxs("div",{className:L.unread?"":"ml-5",children:[g.jsx("p",{className:"text-sm font-medium text-white",children:L.title}),g.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:L.message}),g.jsx("p",{className:"text-xs text-slate-500 mt-1",children:L.time})]})]})},L.id))}),g.jsx("div",{className:"p-3 border-t border-slate-800",children:g.jsx("button",{className:"w-full py-2 text-sm text-cyan-400 hover:text-cyan-300 transition-colors",children:"View all notifications"})})]})]})]}),g.jsx("button",{onClick:n,className:"p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",children:g.jsx(fE,{className:"w-5 h-5"})}),g.jsxs("div",{className:"relative ml-2",children:[g.jsxs("button",{onClick:()=>a(!r),className:"flex items-center gap-3 p-1.5 pr-3 rounded-xl hover:bg-slate-800/50 transition-all",children:[g.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center text-white font-semibold text-sm shadow-lg",children:h?.displayName?.[0]||h?.email?.[0]?.toUpperCase()||"G"}),g.jsx(lE,{className:"w-4 h-4 text-slate-400"})]}),r&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)}),g.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-slate-900 border border-slate-800 rounded-xl shadow-2xl shadow-black/50 overflow-hidden z-50",children:[g.jsx("div",{className:"p-4 border-b border-slate-800",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center text-white font-semibold shadow-lg",children:h?.displayName?.[0]||h?.email?.[0]?.toUpperCase()||"G"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-sm font-medium text-white truncate",children:h?.displayName||"Guest User"}),g.jsx("p",{className:"text-xs text-slate-500 truncate",children:h?.email||"guest@adjudicator.ai"})]})]})}),g.jsxs("div",{className:"p-2",children:[g.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-300 hover:text-white hover:bg-slate-800/50 transition-all text-left",children:[g.jsx(gE,{className:"w-4 h-4"}),g.jsx("span",{className:"text-sm",children:"Profile Settings"})]}),g.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-300 hover:text-white hover:bg-slate-800/50 transition-all text-left",children:[g.jsx(aC,{className:"w-4 h-4"}),g.jsx("span",{className:"text-sm",children:"Subscription"})]}),g.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-300 hover:text-white hover:bg-slate-800/50 transition-all text-left",children:[g.jsx(oE,{className:"w-4 h-4"}),g.jsx("span",{className:"text-sm",children:"Help & Support"})]}),g.jsx("div",{className:"px-3 py-2.5",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-sm text-slate-300",children:"Dark Mode"}),g.jsx("button",{onClick:()=>x(v==="dark"?"light":"dark"),className:`relative w-11 h-6 rounded-full transition-colors ${v==="dark"?"bg-cyan-500":"bg-slate-700"}`,children:g.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${v==="dark"?"left-6":"left-1"}`})})]})})]}),p&&g.jsx("div",{className:"p-2 border-t border-slate-800",children:g.jsxs("button",{onClick:m,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-all text-left",children:[g.jsx(SC,{className:"w-4 h-4"}),g.jsx("span",{className:"text-sm",children:"Sign Out"})]})})]})]})]})]})]}),g.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-slate-950/95 backdrop-blur-xl border-t border-slate-800/60 px-2 py-2 z-50",children:g.jsx("div",{className:"flex items-center justify-around",children:E.slice(0,5).map(L=>g.jsx("button",{onClick:()=>e(L.id),className:`flex flex-col items-center gap-1 px-3 py-2 rounded-lg transition-all ${t===L.id?"text-cyan-400":"text-slate-500 hover:text-slate-300"}`,children:g.jsx("span",{className:"text-xs font-medium",children:L.label})},L.id))})})]})},qO=({children:t,activeTab:e,setActiveTab:n,onSettingsClick:r})=>g.jsxs("div",{className:"min-h-screen bg-slate-950",children:[g.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[g.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[600px] bg-cyan-500/5 rounded-full blur-[120px]"}),g.jsx("div",{className:"absolute bottom-0 right-1/4 w-[600px] h-[600px] bg-purple-500/5 rounded-full blur-[120px]"}),g.jsx("div",{className:"absolute inset-0 opacity-[0.015]",style:{backgroundImage:`
              linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
              linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)
            `,backgroundSize:"64px 64px"}})]}),g.jsx(FO,{activeTab:e,setActiveTab:n,onSettingsClick:r}),g.jsx("main",{className:"relative pt-16 pb-20 lg:pb-8 min-h-screen",children:g.jsx("div",{className:"max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t})})]}),HO=({setActiveTab:t})=>{const e=[{label:"Speech Analysis",icon:lf,color:"cyan",title:"No speeches analyzed yet",description:"Upload or record a speech to get AI-powered feedback on delivery, structure, and argumentation.",action:"Analyze First Speech",tab:"judge"},{label:"Live Coaching",icon:Vp,color:"purple",title:"No coaching sessions yet",description:"Start a live session to get real-time feedback as you practice your speech or debate.",action:"Start Coaching",tab:"coach"},{label:"Strategy Builder",icon:Mu,color:"orange",title:"No strategies created yet",description:"Build winning debate strategies with AI-powered case analysis and argument mapping.",action:"Build Strategy",tab:"strategy"},{label:"Tone Analysis",icon:uE,color:"emerald",title:"No tone analyses yet",description:"Analyze the rhetorical tone and persuasive elements of your speeches.",action:"Analyze Tone",tab:"tone"}],n=[{label:"New Analysis",icon:pb,tab:"judge",color:"from-cyan-500 to-blue-500"},{label:"Start Coaching",icon:cE,tab:"coach",color:"from-purple-500 to-pink-500"},{label:"Build Strategy",icon:Mu,tab:"strategy",color:"from-orange-500 to-red-500"},{label:"View History",icon:jr,tab:"history",color:"from-emerald-500 to-teal-500"}];return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"Dashboard"}),g.jsx("p",{className:"text-slate-400 mt-1",children:"Welcome! Let's get started on improving your debate skills."})]}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.map((r,a)=>{const o=r.icon;return g.jsxs(Ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},className:"relative group",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl"}),g.jsxs("div",{className:"relative p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm hover:border-slate-700/60 transition-all h-full flex flex-col",children:[g.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[g.jsx("div",{className:`p-3 rounded-xl bg-${r.color}-500/10 border border-${r.color}-500/20`,children:g.jsx(o,{className:`w-6 h-6 text-${r.color}-400`})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"text-sm text-slate-500 font-medium",children:r.label}),g.jsx("p",{className:"text-lg font-semibold text-white mt-0.5",children:r.title})]})]}),g.jsx("p",{className:"text-slate-400 text-sm flex-1 mb-4",children:r.description}),g.jsxs("button",{onClick:()=>t(r.tab),className:`w-full py-2.5 px-4 rounded-lg bg-${r.color}-500/10 border border-${r.color}-500/30 text-${r.color}-400 font-medium hover:bg-${r.color}-500/20 transition-all flex items-center justify-center gap-2`,children:[g.jsx(jf,{className:"w-4 h-4"}),r.action]})]})]},r.label)})}),g.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[g.jsx("div",{className:"lg:col-span-2",children:g.jsxs(Ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm h-full",children:[g.jsx("div",{className:"flex items-center justify-between mb-6",children:g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-semibold text-white",children:"Performance Trend"}),g.jsx("p",{className:"text-sm text-slate-400",children:"Track your improvement over time"})]})}),g.jsxs("div",{className:"relative h-48 mt-4 flex flex-col items-center justify-center",children:[g.jsx("div",{className:"absolute inset-0 flex items-end justify-between gap-2 px-2 opacity-20",children:[40,55,45,60,50,65,58,70,63,75,68,80].map((r,a)=>g.jsx("div",{className:"flex-1 flex flex-col items-center gap-2",children:g.jsx("div",{style:{height:`${r}%`},className:"w-full bg-gradient-to-t from-slate-700/50 to-slate-600/30 rounded-t-lg"})},a))}),g.jsxs("div",{className:"relative z-10 text-center",children:[g.jsx("div",{className:"p-4 rounded-full bg-slate-800/50 border border-slate-700/50 mb-4 mx-auto w-fit",children:g.jsx(af,{className:"w-8 h-8 text-slate-500"})}),g.jsx("p",{className:"text-slate-400 font-medium",children:"No performance data yet"}),g.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Complete your first analysis to start tracking progress"})]})]})]})}),g.jsx("div",{children:g.jsxs(Ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm h-full",children:[g.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Quick Actions"}),g.jsx("div",{className:"space-y-3",children:n.map((r,a)=>{const o=r.icon;return g.jsxs("button",{onClick:()=>t(r.tab),className:"w-full flex items-center gap-4 p-4 rounded-xl border border-slate-800/60 bg-slate-900/50 hover:bg-slate-800/50 hover:border-slate-700 transition-all group",children:[g.jsx("div",{className:`p-2.5 rounded-lg bg-gradient-to-br ${r.color} shadow-lg`,children:g.jsx(o,{className:"w-5 h-5 text-white"})}),g.jsx("span",{className:"flex-1 text-left text-white font-medium",children:r.label}),g.jsx(Ng,{className:"w-5 h-5 text-slate-500 group-hover:text-slate-300 group-hover:translate-x-1 transition-all"})]},r.label)})})]})})]}),g.jsxs(Ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm",children:[g.jsx("div",{className:"flex items-center justify-between mb-6",children:g.jsx("h2",{className:"text-lg font-semibold text-white",children:"Recent Activity"})}),g.jsxs("div",{className:"py-12 flex flex-col items-center justify-center",children:[g.jsx("div",{className:"p-4 rounded-full bg-slate-800/50 border border-slate-700/50 mb-4",children:g.jsx(jr,{className:"w-8 h-8 text-slate-500"})}),g.jsx("p",{className:"text-slate-400 font-medium",children:"No recent activity"}),g.jsx("p",{className:"text-slate-500 text-sm mt-1 text-center max-w-md",children:"Your recent analyses, coaching sessions, and strategies will appear here as you use the platform."}),g.jsxs("button",{onClick:()=>t("judge"),className:"mt-6 px-5 py-2.5 rounded-lg bg-cyan-500/10 border border-cyan-500/30 text-cyan-400 font-medium hover:bg-cyan-500/20 transition-all flex items-center gap-2",children:[g.jsx(pb,{className:"w-4 h-4"}),"Start Your First Analysis"]})]})]}),g.jsxs(Ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"relative overflow-hidden rounded-2xl border border-slate-800/60",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 via-purple-500/10 to-cyan-500/10"}),g.jsxs("div",{className:"relative p-6 flex items-center gap-6",children:[g.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-cyan-500 to-purple-600 shadow-lg",children:g.jsx(Of,{className:"w-6 h-6 text-white"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h3",{className:"text-white font-semibold",children:"Getting Started"}),g.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Start by analyzing your first speech. Upload a recording or paste your speech text to get detailed AI-powered feedback."})]}),g.jsx("button",{onClick:()=>t("judge"),className:"px-5 py-2.5 rounded-lg bg-white text-slate-900 font-semibold hover:bg-slate-100 transition-colors",children:"Get Started"})]})]})]})};function GO(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const $O=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,YO=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,KO={};function G1(t,e){return(KO.jsx?YO:$O).test(t)}const QO=/[ \t\n\f\r]/g;function XO(t){return typeof t=="object"?t.type==="text"?$1(t.value):!1:$1(t)}function $1(t){return t.replace(QO,"")===""}class oc{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}oc.prototype.normal={};oc.prototype.property={};oc.prototype.space=void 0;function UT(t,e){const n={},r={};for(const a of t)Object.assign(n,a.property),Object.assign(r,a.normal);return new oc(n,r,e)}function mg(t){return t.toLowerCase()}class Mn{constructor(e,n){this.attribute=n,this.property=e}}Mn.prototype.attribute="";Mn.prototype.booleanish=!1;Mn.prototype.boolean=!1;Mn.prototype.commaOrSpaceSeparated=!1;Mn.prototype.commaSeparated=!1;Mn.prototype.defined=!1;Mn.prototype.mustUseProperty=!1;Mn.prototype.number=!1;Mn.prototype.overloadedBoolean=!1;Mn.prototype.property="";Mn.prototype.spaceSeparated=!1;Mn.prototype.space=void 0;let WO=0;const Me=Ba(),Gt=Ba(),pg=Ba(),he=Ba(),mt=Ba(),Fl=Ba(),Gn=Ba();function Ba(){return 2**++WO}const gg=Object.freeze(Object.defineProperty({__proto__:null,boolean:Me,booleanish:Gt,commaOrSpaceSeparated:Gn,commaSeparated:Fl,number:he,overloadedBoolean:pg,spaceSeparated:mt},Symbol.toStringTag,{value:"Module"})),bp=Object.keys(gg);class Sy extends Mn{constructor(e,n,r,a){let o=-1;if(super(e,n),Y1(this,"space",a),typeof r=="number")for(;++o<bp.length;){const u=bp[o];Y1(this,bp[o],(r&gg[u])===gg[u])}}}Sy.prototype.defined=!0;function Y1(t,e,n){n&&(t[e]=n)}function lo(t){const e={},n={};for(const[r,a]of Object.entries(t.properties)){const o=new Sy(r,t.transform(t.attributes||{},r),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[mg(r)]=r,n[mg(o.attribute)]=r}return new oc(e,n,t.space)}const BT=lo({properties:{ariaActiveDescendant:null,ariaAtomic:Gt,ariaAutoComplete:null,ariaBusy:Gt,ariaChecked:Gt,ariaColCount:he,ariaColIndex:he,ariaColSpan:he,ariaControls:mt,ariaCurrent:null,ariaDescribedBy:mt,ariaDetails:null,ariaDisabled:Gt,ariaDropEffect:mt,ariaErrorMessage:null,ariaExpanded:Gt,ariaFlowTo:mt,ariaGrabbed:Gt,ariaHasPopup:null,ariaHidden:Gt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:mt,ariaLevel:he,ariaLive:null,ariaModal:Gt,ariaMultiLine:Gt,ariaMultiSelectable:Gt,ariaOrientation:null,ariaOwns:mt,ariaPlaceholder:null,ariaPosInSet:he,ariaPressed:Gt,ariaReadOnly:Gt,ariaRelevant:null,ariaRequired:Gt,ariaRoleDescription:mt,ariaRowCount:he,ariaRowIndex:he,ariaRowSpan:he,ariaSelected:Gt,ariaSetSize:he,ariaSort:null,ariaValueMax:he,ariaValueMin:he,ariaValueNow:he,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function FT(t,e){return e in t?t[e]:e}function qT(t,e){return FT(t,e.toLowerCase())}const JO=lo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Fl,acceptCharset:mt,accessKey:mt,action:null,allow:null,allowFullScreen:Me,allowPaymentRequest:Me,allowUserMedia:Me,alt:null,as:null,async:Me,autoCapitalize:null,autoComplete:mt,autoFocus:Me,autoPlay:Me,blocking:mt,capture:null,charSet:null,checked:Me,cite:null,className:mt,cols:he,colSpan:null,content:null,contentEditable:Gt,controls:Me,controlsList:mt,coords:he|Fl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Me,defer:Me,dir:null,dirName:null,disabled:Me,download:pg,draggable:Gt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Me,formTarget:null,headers:mt,height:he,hidden:pg,high:he,href:null,hrefLang:null,htmlFor:mt,httpEquiv:mt,id:null,imageSizes:null,imageSrcSet:null,inert:Me,inputMode:null,integrity:null,is:null,isMap:Me,itemId:null,itemProp:mt,itemRef:mt,itemScope:Me,itemType:mt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Me,low:he,manifest:null,max:null,maxLength:he,media:null,method:null,min:null,minLength:he,multiple:Me,muted:Me,name:null,nonce:null,noModule:Me,noValidate:Me,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Me,optimum:he,pattern:null,ping:mt,placeholder:null,playsInline:Me,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Me,referrerPolicy:null,rel:mt,required:Me,reversed:Me,rows:he,rowSpan:he,sandbox:mt,scope:null,scoped:Me,seamless:Me,selected:Me,shadowRootClonable:Me,shadowRootDelegatesFocus:Me,shadowRootMode:null,shape:null,size:he,sizes:null,slot:null,span:he,spellCheck:Gt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:he,step:null,style:null,tabIndex:he,target:null,title:null,translate:null,type:null,typeMustMatch:Me,useMap:null,value:Gt,width:he,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:mt,axis:null,background:null,bgColor:null,border:he,borderColor:null,bottomMargin:he,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Me,declare:Me,event:null,face:null,frame:null,frameBorder:null,hSpace:he,leftMargin:he,link:null,longDesc:null,lowSrc:null,marginHeight:he,marginWidth:he,noResize:Me,noHref:Me,noShade:Me,noWrap:Me,object:null,profile:null,prompt:null,rev:null,rightMargin:he,rules:null,scheme:null,scrolling:Gt,standby:null,summary:null,text:null,topMargin:he,valueType:null,version:null,vAlign:null,vLink:null,vSpace:he,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Me,disableRemotePlayback:Me,prefix:null,property:null,results:he,security:null,unselectable:null},space:"html",transform:qT}),ZO=lo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Gn,accentHeight:he,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:he,amplitude:he,arabicForm:null,ascent:he,attributeName:null,attributeType:null,azimuth:he,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:he,by:null,calcMode:null,capHeight:he,className:mt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:he,diffuseConstant:he,direction:null,display:null,dur:null,divisor:he,dominantBaseline:null,download:Me,dx:null,dy:null,edgeMode:null,editable:null,elevation:he,enableBackground:null,end:null,event:null,exponent:he,externalResourcesRequired:null,fill:null,fillOpacity:he,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Fl,g2:Fl,glyphName:Fl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:he,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:he,horizOriginX:he,horizOriginY:he,id:null,ideographic:he,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:he,k:he,k1:he,k2:he,k3:he,k4:he,kernelMatrix:Gn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:he,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:he,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:he,overlineThickness:he,paintOrder:null,panose1:null,path:null,pathLength:he,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:mt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:he,pointsAtY:he,pointsAtZ:he,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Gn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Gn,rev:Gn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Gn,requiredFeatures:Gn,requiredFonts:Gn,requiredFormats:Gn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:he,specularExponent:he,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:he,strikethroughThickness:he,string:null,stroke:null,strokeDashArray:Gn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:he,strokeOpacity:he,strokeWidth:null,style:null,surfaceScale:he,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Gn,tabIndex:he,tableValues:null,target:null,targetX:he,targetY:he,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Gn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:he,underlineThickness:he,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:he,values:null,vAlphabetic:he,vMathematical:he,vectorEffect:null,vHanging:he,vIdeographic:he,version:null,vertAdvY:he,vertOriginX:he,vertOriginY:he,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:he,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:FT}),HT=lo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),GT=lo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:qT}),$T=lo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),e3={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},t3=/[A-Z]/g,K1=/-[a-z]/g,n3=/^data[-\w.:]+$/i;function i3(t,e){const n=mg(e);let r=e,a=Mn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&n3.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(K1,s3);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!K1.test(o)){let u=o.replace(t3,r3);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}a=Sy}return new a(r,e)}function r3(t){return"-"+t.toLowerCase()}function s3(t){return t.charAt(1).toUpperCase()}const a3=UT([BT,JO,HT,GT,$T],"html"),Ay=UT([BT,ZO,HT,GT,$T],"svg");function l3(t){return t.join(" ").trim()}var kl={},_p,Q1;function o3(){if(Q1)return _p;Q1=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,h=/^\s+|\s+$/g,m=`
`,p="/",v="*",x="",E="comment",w="declaration";function N(P,U){if(typeof P!="string")throw new TypeError("First argument must be a string");if(!P)return[];U=U||{};var F=1,q=1;function te(ue){var ae=ue.match(e);ae&&(F+=ae.length);var K=ue.lastIndexOf(m);q=~K?ue.length-K:q+ue.length}function ce(){var ue={line:F,column:q};return function(ae){return ae.position=new G(ue),O(),ae}}function G(ue){this.start=ue,this.end={line:F,column:q},this.source=U.source}G.prototype.content=P;function M(ue){var ae=new Error(U.source+":"+F+":"+q+": "+ue);if(ae.reason=ue,ae.filename=U.source,ae.line=F,ae.column=q,ae.source=P,!U.silent)throw ae}function k(ue){var ae=ue.exec(P);if(ae){var K=ae[0];return te(K),P=P.slice(K.length),ae}}function O(){k(n)}function A(ue){var ae;for(ue=ue||[];ae=C();)ae!==!1&&ue.push(ae);return ue}function C(){var ue=ce();if(!(p!=P.charAt(0)||v!=P.charAt(1))){for(var ae=2;x!=P.charAt(ae)&&(v!=P.charAt(ae)||p!=P.charAt(ae+1));)++ae;if(ae+=2,x===P.charAt(ae-1))return M("End of comment missing");var K=P.slice(2,ae-2);return q+=2,te(K),P=P.slice(ae),q+=2,ue({type:E,comment:K})}}function D(){var ue=ce(),ae=k(r);if(ae){if(C(),!k(a))return M("property missing ':'");var K=k(o),le=ue({type:w,property:L(ae[0].replace(t,x)),value:K?L(K[0].replace(t,x)):x});return k(u),le}}function R(){var ue=[];A(ue);for(var ae;ae=D();)ae!==!1&&(ue.push(ae),A(ue));return ue}return O(),R()}function L(P){return P?P.replace(h,x):x}return _p=N,_p}var X1;function u3(){if(X1)return kl;X1=1;var t=kl&&kl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(kl,"__esModule",{value:!0}),kl.default=n;const e=t(o3());function n(r,a){let o=null;if(!r||typeof r!="string")return o;const u=(0,e.default)(r),h=typeof a=="function";return u.forEach(m=>{if(m.type!=="declaration")return;const{property:p,value:v}=m;h?a(p,v,m):v&&(o=o||{},o[p]=v)}),o}return kl}var mu={},W1;function c3(){if(W1)return mu;W1=1,Object.defineProperty(mu,"__esModule",{value:!0}),mu.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,o=function(p){return!p||n.test(p)||t.test(p)},u=function(p,v){return v.toUpperCase()},h=function(p,v){return"".concat(v,"-")},m=function(p,v){return v===void 0&&(v={}),o(p)?p:(p=p.toLowerCase(),v.reactCompat?p=p.replace(a,h):p=p.replace(r,h),p.replace(e,u))};return mu.camelCase=m,mu}var pu,J1;function h3(){if(J1)return pu;J1=1;var t=pu&&pu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},e=t(u3()),n=c3();function r(a,o){var u={};return!a||typeof a!="string"||(0,e.default)(a,function(h,m){h&&m&&(u[(0,n.camelCase)(h,o)]=m)}),u}return r.default=r,pu=r,pu}var f3=h3();const d3=Cg(f3),YT=KT("end"),Cy=KT("start");function KT(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function m3(t){const e=Cy(t),n=YT(t);if(e&&n)return{start:e,end:n}}function Ru(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Z1(t.position):"start"in t||"end"in t?Z1(t):"line"in t||"column"in t?yg(t):""}function yg(t){return e_(t&&t.line)+":"+e_(t&&t.column)}function Z1(t){return yg(t&&t.start)+"-"+yg(t&&t.end)}function e_(t){return t&&typeof t=="number"?t:1}class _n extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",o={},u=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?a=e:!o.cause&&e&&(u=!0,a=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const m=r.indexOf(":");m===-1?o.ruleId=r:(o.source=r.slice(0,m),o.ruleId=r.slice(m+1))}if(!o.place&&o.ancestors&&o.ancestors){const m=o.ancestors[o.ancestors.length-1];m&&(o.place=m.position)}const h=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=h?h.line:void 0,this.name=Ru(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}_n.prototype.file="";_n.prototype.name="";_n.prototype.reason="";_n.prototype.message="";_n.prototype.stack="";_n.prototype.column=void 0;_n.prototype.line=void 0;_n.prototype.ancestors=void 0;_n.prototype.cause=void 0;_n.prototype.fatal=void 0;_n.prototype.place=void 0;_n.prototype.ruleId=void 0;_n.prototype.source=void 0;const Ny={}.hasOwnProperty,p3=new Map,g3=/[A-Z]/g,y3=new Set(["table","tbody","thead","tfoot","tr"]),v3=new Set(["td","th"]),QT="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function x3(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=C3(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=A3(n,e.jsx,e.jsxs)}const a={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Ay:a3,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=XT(a,t,void 0);return o&&typeof o!="string"?o:a.create(t,a.Fragment,{children:o||void 0},void 0)}function XT(t,e,n){if(e.type==="element")return b3(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return _3(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return w3(t,e,n);if(e.type==="mdxjsEsm")return E3(t,e);if(e.type==="root")return T3(t,e,n);if(e.type==="text")return S3(t,e)}function b3(t,e,n){const r=t.schema;let a=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=Ay,t.schema=a),t.ancestors.push(e);const o=JT(t,e.tagName,!1),u=N3(t,e);let h=ky(t,e);return y3.has(e.tagName)&&(h=h.filter(function(m){return typeof m=="string"?!XO(m):!0})),WT(t,u,o,e),Iy(u,h),t.ancestors.pop(),t.schema=r,t.create(e,o,u,n)}function _3(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}$u(t,e.position)}function E3(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);$u(t,e.position)}function w3(t,e,n){const r=t.schema;let a=r;e.name==="svg"&&r.space==="html"&&(a=Ay,t.schema=a),t.ancestors.push(e);const o=e.name===null?t.Fragment:JT(t,e.name,!0),u=I3(t,e),h=ky(t,e);return WT(t,u,o,e),Iy(u,h),t.ancestors.pop(),t.schema=r,t.create(e,o,u,n)}function T3(t,e,n){const r={};return Iy(r,ky(t,e)),t.create(e,t.Fragment,r,n)}function S3(t,e){return e.value}function WT(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function Iy(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function A3(t,e,n){return r;function r(a,o,u,h){const p=Array.isArray(u.children)?n:e;return h?p(o,u,h):p(o,u)}}function C3(t,e){return n;function n(r,a,o,u){const h=Array.isArray(o.children),m=Cy(r);return e(a,o,u,h,{columnNumber:m?m.column-1:void 0,fileName:t,lineNumber:m?m.line:void 0},void 0)}}function N3(t,e){const n={};let r,a;for(a in e.properties)if(a!=="children"&&Ny.call(e.properties,a)){const o=k3(t,a,e.properties[a]);if(o){const[u,h]=o;t.tableCellAlignToStyle&&u==="align"&&typeof h=="string"&&v3.has(e.tagName)?r=h:n[u]=h}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function I3(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const u=o.expression;u.type;const h=u.properties[0];h.type,Object.assign(n,t.evaluater.evaluateExpression(h.argument))}else $u(t,e.position);else{const a=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const h=r.value.data.estree.body[0];h.type,o=t.evaluater.evaluateExpression(h.expression)}else $u(t,e.position);else o=r.value===null?!0:r.value;n[a]=o}return n}function ky(t,e){const n=[];let r=-1;const a=t.passKeys?new Map:p3;for(;++r<e.children.length;){const o=e.children[r];let u;if(t.passKeys){const m=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(m){const p=a.get(m)||0;u=m+"-"+p,a.set(m,p+1)}}const h=XT(t,o,u);h!==void 0&&n.push(h)}return n}function k3(t,e,n){const r=i3(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?GO(n):l3(n)),r.property==="style"){let a=typeof n=="object"?n:R3(t,String(n));return t.stylePropertyNameCase==="css"&&(a=D3(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&r.space?e3[r.property]||r.property:r.attribute,n]}}function R3(t,e){try{return d3(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,a=new _n("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=QT+"#cannot-parse-style-attribute",a}}function JT(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const a=e.split(".");let o=-1,u;for(;++o<a.length;){const h=G1(a[o])?{type:"Identifier",name:a[o]}:{type:"Literal",value:a[o]};u=u?{type:"MemberExpression",object:u,property:h,computed:!!(o&&h.type==="Literal"),optional:!1}:h}r=u}else r=G1(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const a=r.value;return Ny.call(t.components,a)?t.components[a]:a}if(t.evaluater)return t.evaluater.evaluateExpression(r);$u(t)}function $u(t,e){const n=new _n("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=QT+"#cannot-handle-mdx-estrees-without-createevaluater",n}function D3(t){const e={};let n;for(n in t)Ny.call(t,n)&&(e[O3(n)]=t[n]);return e}function O3(t){let e=t.replace(g3,j3);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function j3(t){return"-"+t.toLowerCase()}const Ep={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},M3={};function Ry(t,e){const n=M3,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return ZT(t,r,a)}function ZT(t,e,n){if(P3(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return t_(t.children,e,n)}return Array.isArray(t)?t_(t,e,n):""}function t_(t,e,n){const r=[];let a=-1;for(;++a<t.length;)r[a]=ZT(t[a],e,n);return r.join("")}function P3(t){return!!(t&&typeof t=="object")}const n_=document.createElement("i");function Dy(t){const e="&"+t+";";n_.innerHTML=e;const n=n_.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Kn(t,e,n,r){const a=t.length;let o=0,u;if(e<0?e=-e>a?0:a+e:e=e>a?a:e,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);o<r.length;)u=r.slice(o,o+1e4),u.unshift(e,0),t.splice(...u),o+=1e4,e+=1e4}function ci(t,e){return t.length>0?(Kn(t,t.length,0,e),t):e}const i_={}.hasOwnProperty;function eS(t){const e={};let n=-1;for(;++n<t.length;)L3(e,t[n]);return e}function L3(t,e){let n;for(n in e){const a=(i_.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let u;if(o)for(u in o){i_.call(a,u)||(a[u]=[]);const h=o[u];V3(a[u],Array.isArray(h)?h:h?[h]:[])}}}function V3(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Kn(t,0,0,r)}function tS(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Ni(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Tn=Qs(/[A-Za-z]/),xn=Qs(/[\dA-Za-z]/),z3=Qs(/[#-'*+\--9=?A-Z^-~]/);function Nf(t){return t!==null&&(t<32||t===127)}const vg=Qs(/\d/),U3=Qs(/[\dA-Fa-f]/),B3=Qs(/[!-/:-@[-`{-~]/);function Ee(t){return t!==null&&t<-2}function dt(t){return t!==null&&(t<0||t===32)}function Ue(t){return t===-2||t===-1||t===32}const td=Qs(new RegExp("\\p{P}|\\p{S}","u")),La=Qs(/\s/);function Qs(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function oo(t){const e=[];let n=-1,r=0,a=0;for(;++n<t.length;){const o=t.charCodeAt(n);let u="";if(o===37&&xn(t.charCodeAt(n+1))&&xn(t.charCodeAt(n+2)))a=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const h=t.charCodeAt(n+1);o<56320&&h>56319&&h<57344?(u=String.fromCharCode(o,h),a=1):u=""}else u=String.fromCharCode(o);u&&(e.push(t.slice(r,n),encodeURIComponent(u)),r=n+a+1,u=""),a&&(n+=a,a=0)}return e.join("")+t.slice(r)}function Qe(t,e,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(m){return Ue(m)?(t.enter(n),h(m)):e(m)}function h(m){return Ue(m)&&o++<a?(t.consume(m),h):(t.exit(n),e(m))}}const F3={tokenize:q3};function q3(t){const e=t.attempt(this.parser.constructs.contentInitial,r,a);let n;return e;function r(h){if(h===null){t.consume(h);return}return t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),Qe(t,e,"linePrefix")}function a(h){return t.enter("paragraph"),o(h)}function o(h){const m=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=m),n=m,u(h)}function u(h){if(h===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(h);return}return Ee(h)?(t.consume(h),t.exit("chunkText"),o):(t.consume(h),u)}}const H3={tokenize:G3},r_={tokenize:$3};function G3(t){const e=this,n=[];let r=0,a,o,u;return h;function h(q){if(r<n.length){const te=n[r];return e.containerState=te[1],t.attempt(te[0].continuation,m,p)(q)}return p(q)}function m(q){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,a&&F();const te=e.events.length;let ce=te,G;for(;ce--;)if(e.events[ce][0]==="exit"&&e.events[ce][1].type==="chunkFlow"){G=e.events[ce][1].end;break}U(r);let M=te;for(;M<e.events.length;)e.events[M][1].end={...G},M++;return Kn(e.events,ce+1,0,e.events.slice(te)),e.events.length=M,p(q)}return h(q)}function p(q){if(r===n.length){if(!a)return E(q);if(a.currentConstruct&&a.currentConstruct.concrete)return N(q);e.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(r_,v,x)(q)}function v(q){return a&&F(),U(r),E(q)}function x(q){return e.parser.lazy[e.now().line]=r!==n.length,u=e.now().offset,N(q)}function E(q){return e.containerState={},t.attempt(r_,w,N)(q)}function w(q){return r++,n.push([e.currentConstruct,e.containerState]),E(q)}function N(q){if(q===null){a&&F(),U(0),t.consume(q);return}return a=a||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:o}),L(q)}function L(q){if(q===null){P(t.exit("chunkFlow"),!0),U(0),t.consume(q);return}return Ee(q)?(t.consume(q),P(t.exit("chunkFlow")),r=0,e.interrupt=void 0,h):(t.consume(q),L)}function P(q,te){const ce=e.sliceStream(q);if(te&&ce.push(null),q.previous=o,o&&(o.next=q),o=q,a.defineSkip(q.start),a.write(ce),e.parser.lazy[q.start.line]){let G=a.events.length;for(;G--;)if(a.events[G][1].start.offset<u&&(!a.events[G][1].end||a.events[G][1].end.offset>u))return;const M=e.events.length;let k=M,O,A;for(;k--;)if(e.events[k][0]==="exit"&&e.events[k][1].type==="chunkFlow"){if(O){A=e.events[k][1].end;break}O=!0}for(U(r),G=M;G<e.events.length;)e.events[G][1].end={...A},G++;Kn(e.events,k+1,0,e.events.slice(M)),e.events.length=G}}function U(q){let te=n.length;for(;te-- >q;){const ce=n[te];e.containerState=ce[1],ce[0].exit.call(e,t)}n.length=q}function F(){a.write([null]),o=void 0,a=void 0,e.containerState._closeFlow=void 0}}function $3(t,e,n){return Qe(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Wl(t){if(t===null||dt(t)||La(t))return 1;if(td(t))return 2}function nd(t,e,n){const r=[];let a=-1;for(;++a<t.length;){const o=t[a].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const xg={name:"attention",resolveAll:Y3,tokenize:K3};function Y3(t,e){let n=-1,r,a,o,u,h,m,p,v;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;m=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const x={...t[r][1].end},E={...t[n][1].start};s_(x,-m),s_(E,m),u={type:m>1?"strongSequence":"emphasisSequence",start:x,end:{...t[r][1].end}},h={type:m>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:E},o={type:m>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},a={type:m>1?"strong":"emphasis",start:{...u.start},end:{...h.end}},t[r][1].end={...u.start},t[n][1].start={...h.end},p=[],t[r][1].end.offset-t[r][1].start.offset&&(p=ci(p,[["enter",t[r][1],e],["exit",t[r][1],e]])),p=ci(p,[["enter",a,e],["enter",u,e],["exit",u,e],["enter",o,e]]),p=ci(p,nd(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),p=ci(p,[["exit",o,e],["enter",h,e],["exit",h,e],["exit",a,e]]),t[n][1].end.offset-t[n][1].start.offset?(v=2,p=ci(p,[["enter",t[n][1],e],["exit",t[n][1],e]])):v=0,Kn(t,r-1,n-r+3,p),n=r+p.length-v-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function K3(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Wl(r);let o;return u;function u(m){return o=m,t.enter("attentionSequence"),h(m)}function h(m){if(m===o)return t.consume(m),h;const p=t.exit("attentionSequence"),v=Wl(m),x=!v||v===2&&a||n.includes(m),E=!a||a===2&&v||n.includes(r);return p._open=!!(o===42?x:x&&(a||!E)),p._close=!!(o===42?E:E&&(v||!x)),e(m)}}function s_(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Q3={name:"autolink",tokenize:X3};function X3(t,e,n){let r=0;return a;function a(w){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(w){return Tn(w)?(t.consume(w),u):w===64?n(w):p(w)}function u(w){return w===43||w===45||w===46||xn(w)?(r=1,h(w)):p(w)}function h(w){return w===58?(t.consume(w),r=0,m):(w===43||w===45||w===46||xn(w))&&r++<32?(t.consume(w),h):(r=0,p(w))}function m(w){return w===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):w===null||w===32||w===60||Nf(w)?n(w):(t.consume(w),m)}function p(w){return w===64?(t.consume(w),v):z3(w)?(t.consume(w),p):n(w)}function v(w){return xn(w)?x(w):n(w)}function x(w){return w===46?(t.consume(w),r=0,v):w===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):E(w)}function E(w){if((w===45||xn(w))&&r++<63){const N=w===45?E:x;return t.consume(w),N}return n(w)}}const uc={partial:!0,tokenize:W3};function W3(t,e,n){return r;function r(o){return Ue(o)?Qe(t,a,"linePrefix")(o):a(o)}function a(o){return o===null||Ee(o)?e(o):n(o)}}const nS={continuation:{tokenize:Z3},exit:ej,name:"blockQuote",tokenize:J3};function J3(t,e,n){const r=this;return a;function a(u){if(u===62){const h=r.containerState;return h.open||(t.enter("blockQuote",{_container:!0}),h.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),o}return n(u)}function o(u){return Ue(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function Z3(t,e,n){const r=this;return a;function a(u){return Ue(u)?Qe(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return t.attempt(nS,e,n)(u)}}function ej(t){t.exit("blockQuote")}const iS={name:"characterEscape",tokenize:tj};function tj(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),a}function a(o){return B3(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const rS={name:"characterReference",tokenize:nj};function nj(t,e,n){const r=this;let a=0,o,u;return h;function h(x){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(x),t.exit("characterReferenceMarker"),m}function m(x){return x===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(x),t.exit("characterReferenceMarkerNumeric"),p):(t.enter("characterReferenceValue"),o=31,u=xn,v(x))}function p(x){return x===88||x===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(x),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,u=U3,v):(t.enter("characterReferenceValue"),o=7,u=vg,v(x))}function v(x){if(x===59&&a){const E=t.exit("characterReferenceValue");return u===xn&&!Dy(r.sliceSerialize(E))?n(x):(t.enter("characterReferenceMarker"),t.consume(x),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(x)&&a++<o?(t.consume(x),v):n(x)}}const a_={partial:!0,tokenize:rj},l_={concrete:!0,name:"codeFenced",tokenize:ij};function ij(t,e,n){const r=this,a={partial:!0,tokenize:ce};let o=0,u=0,h;return m;function m(G){return p(G)}function p(G){const M=r.events[r.events.length-1];return o=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,h=G,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),v(G)}function v(G){return G===h?(u++,t.consume(G),v):u<3?n(G):(t.exit("codeFencedFenceSequence"),Ue(G)?Qe(t,x,"whitespace")(G):x(G))}function x(G){return G===null||Ee(G)?(t.exit("codeFencedFence"),r.interrupt?e(G):t.check(a_,L,te)(G)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),E(G))}function E(G){return G===null||Ee(G)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),x(G)):Ue(G)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Qe(t,w,"whitespace")(G)):G===96&&G===h?n(G):(t.consume(G),E)}function w(G){return G===null||Ee(G)?x(G):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),N(G))}function N(G){return G===null||Ee(G)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),x(G)):G===96&&G===h?n(G):(t.consume(G),N)}function L(G){return t.attempt(a,te,P)(G)}function P(G){return t.enter("lineEnding"),t.consume(G),t.exit("lineEnding"),U}function U(G){return o>0&&Ue(G)?Qe(t,F,"linePrefix",o+1)(G):F(G)}function F(G){return G===null||Ee(G)?t.check(a_,L,te)(G):(t.enter("codeFlowValue"),q(G))}function q(G){return G===null||Ee(G)?(t.exit("codeFlowValue"),F(G)):(t.consume(G),q)}function te(G){return t.exit("codeFenced"),e(G)}function ce(G,M,k){let O=0;return A;function A(ae){return G.enter("lineEnding"),G.consume(ae),G.exit("lineEnding"),C}function C(ae){return G.enter("codeFencedFence"),Ue(ae)?Qe(G,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ae):D(ae)}function D(ae){return ae===h?(G.enter("codeFencedFenceSequence"),R(ae)):k(ae)}function R(ae){return ae===h?(O++,G.consume(ae),R):O>=u?(G.exit("codeFencedFenceSequence"),Ue(ae)?Qe(G,ue,"whitespace")(ae):ue(ae)):k(ae)}function ue(ae){return ae===null||Ee(ae)?(G.exit("codeFencedFence"),M(ae)):k(ae)}}}function rj(t,e,n){const r=this;return a;function a(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o)}function o(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}const wp={name:"codeIndented",tokenize:aj},sj={partial:!0,tokenize:lj};function aj(t,e,n){const r=this;return a;function a(p){return t.enter("codeIndented"),Qe(t,o,"linePrefix",5)(p)}function o(p){const v=r.events[r.events.length-1];return v&&v[1].type==="linePrefix"&&v[2].sliceSerialize(v[1],!0).length>=4?u(p):n(p)}function u(p){return p===null?m(p):Ee(p)?t.attempt(sj,u,m)(p):(t.enter("codeFlowValue"),h(p))}function h(p){return p===null||Ee(p)?(t.exit("codeFlowValue"),u(p)):(t.consume(p),h)}function m(p){return t.exit("codeIndented"),e(p)}}function lj(t,e,n){const r=this;return a;function a(u){return r.parser.lazy[r.now().line]?n(u):Ee(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),a):Qe(t,o,"linePrefix",5)(u)}function o(u){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):Ee(u)?a(u):n(u)}}const oj={name:"codeText",previous:cj,resolve:uj,tokenize:hj};function uj(t){let e=t.length-4,n=3,r,a;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)a===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(a=r):(r===e||t[r][1].type==="lineEnding")&&(t[a][1].type="codeTextData",r!==a+2&&(t[a][1].end=t[r-1][1].end,t.splice(a+2,r-a-2),e-=r-a-2,r=a+2),a=void 0);return t}function cj(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function hj(t,e,n){let r=0,a,o;return u;function u(x){return t.enter("codeText"),t.enter("codeTextSequence"),h(x)}function h(x){return x===96?(t.consume(x),r++,h):(t.exit("codeTextSequence"),m(x))}function m(x){return x===null?n(x):x===32?(t.enter("space"),t.consume(x),t.exit("space"),m):x===96?(o=t.enter("codeTextSequence"),a=0,v(x)):Ee(x)?(t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),m):(t.enter("codeTextData"),p(x))}function p(x){return x===null||x===32||x===96||Ee(x)?(t.exit("codeTextData"),m(x)):(t.consume(x),p)}function v(x){return x===96?(t.consume(x),a++,v):a===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(x)):(o.type="codeTextData",p(x))}}class fj{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const a=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&gu(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),gu(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),gu(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);gu(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);gu(this.left,n.reverse())}}}function gu(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function sS(t){const e={};let n=-1,r,a,o,u,h,m,p;const v=new fj(t);for(;++n<v.length;){for(;n in e;)n=e[n];if(r=v.get(n),n&&r[1].type==="chunkFlow"&&v.get(n-1)[1].type==="listItemPrefix"&&(m=r[1]._tokenizer.events,o=0,o<m.length&&m[o][1].type==="lineEndingBlank"&&(o+=2),o<m.length&&m[o][1].type==="content"))for(;++o<m.length&&m[o][1].type!=="content";)m[o][1].type==="chunkText"&&(m[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,dj(v,n)),n=e[n],p=!0);else if(r[1]._container){for(o=n,a=void 0;o--;)if(u=v.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(a&&(v.get(a)[1].type="lineEndingBlank"),u[1].type="lineEnding",a=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;a&&(r[1].end={...v.get(a)[1].start},h=v.slice(a,n),h.unshift(r),v.splice(a,n-a+1,h))}}return Kn(t,0,Number.POSITIVE_INFINITY,v.slice(0)),!p}function dj(t,e){const n=t.get(e)[1],r=t.get(e)[2];let a=e-1;const o=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const h=u.events,m=[],p={};let v,x,E=-1,w=n,N=0,L=0;const P=[L];for(;w;){for(;t.get(++a)[1]!==w;);o.push(a),w._tokenizer||(v=r.sliceStream(w),w.next||v.push(null),x&&u.defineSkip(w.start),w._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(v),w._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),x=w,w=w.next}for(w=n;++E<h.length;)h[E][0]==="exit"&&h[E-1][0]==="enter"&&h[E][1].type===h[E-1][1].type&&h[E][1].start.line!==h[E][1].end.line&&(L=E+1,P.push(L),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(u.events=[],w?(w._tokenizer=void 0,w.previous=void 0):P.pop(),E=P.length;E--;){const U=h.slice(P[E],P[E+1]),F=o.pop();m.push([F,F+U.length-1]),t.splice(F,2,U)}for(m.reverse(),E=-1;++E<m.length;)p[N+m[E][0]]=N+m[E][1],N+=m[E][1]-m[E][0]-1;return p}const mj={resolve:gj,tokenize:yj},pj={partial:!0,tokenize:vj};function gj(t){return sS(t),t}function yj(t,e){let n;return r;function r(h){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),a(h)}function a(h){return h===null?o(h):Ee(h)?t.check(pj,u,o)(h):(t.consume(h),a)}function o(h){return t.exit("chunkContent"),t.exit("content"),e(h)}function u(h){return t.consume(h),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function vj(t,e,n){const r=this;return a;function a(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),Qe(t,o,"linePrefix")}function o(u){if(u===null||Ee(u))return n(u);const h=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):t.interrupt(r.parser.constructs.flow,n,e)(u)}}function aS(t,e,n,r,a,o,u,h,m){const p=m||Number.POSITIVE_INFINITY;let v=0;return x;function x(U){return U===60?(t.enter(r),t.enter(a),t.enter(o),t.consume(U),t.exit(o),E):U===null||U===32||U===41||Nf(U)?n(U):(t.enter(r),t.enter(u),t.enter(h),t.enter("chunkString",{contentType:"string"}),L(U))}function E(U){return U===62?(t.enter(o),t.consume(U),t.exit(o),t.exit(a),t.exit(r),e):(t.enter(h),t.enter("chunkString",{contentType:"string"}),w(U))}function w(U){return U===62?(t.exit("chunkString"),t.exit(h),E(U)):U===null||U===60||Ee(U)?n(U):(t.consume(U),U===92?N:w)}function N(U){return U===60||U===62||U===92?(t.consume(U),w):w(U)}function L(U){return!v&&(U===null||U===41||dt(U))?(t.exit("chunkString"),t.exit(h),t.exit(u),t.exit(r),e(U)):v<p&&U===40?(t.consume(U),v++,L):U===41?(t.consume(U),v--,L):U===null||U===32||U===40||Nf(U)?n(U):(t.consume(U),U===92?P:L)}function P(U){return U===40||U===41||U===92?(t.consume(U),L):L(U)}}function lS(t,e,n,r,a,o){const u=this;let h=0,m;return p;function p(w){return t.enter(r),t.enter(a),t.consume(w),t.exit(a),t.enter(o),v}function v(w){return h>999||w===null||w===91||w===93&&!m||w===94&&!h&&"_hiddenFootnoteSupport"in u.parser.constructs?n(w):w===93?(t.exit(o),t.enter(a),t.consume(w),t.exit(a),t.exit(r),e):Ee(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),v):(t.enter("chunkString",{contentType:"string"}),x(w))}function x(w){return w===null||w===91||w===93||Ee(w)||h++>999?(t.exit("chunkString"),v(w)):(t.consume(w),m||(m=!Ue(w)),w===92?E:x)}function E(w){return w===91||w===92||w===93?(t.consume(w),h++,x):x(w)}}function oS(t,e,n,r,a,o){let u;return h;function h(E){return E===34||E===39||E===40?(t.enter(r),t.enter(a),t.consume(E),t.exit(a),u=E===40?41:E,m):n(E)}function m(E){return E===u?(t.enter(a),t.consume(E),t.exit(a),t.exit(r),e):(t.enter(o),p(E))}function p(E){return E===u?(t.exit(o),m(u)):E===null?n(E):Ee(E)?(t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),Qe(t,p,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),v(E))}function v(E){return E===u||E===null||Ee(E)?(t.exit("chunkString"),p(E)):(t.consume(E),E===92?x:v)}function x(E){return E===u||E===92?(t.consume(E),v):v(E)}}function Du(t,e){let n;return r;function r(a){return Ee(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),n=!0,r):Ue(a)?Qe(t,r,n?"linePrefix":"lineSuffix")(a):e(a)}}const xj={name:"definition",tokenize:_j},bj={partial:!0,tokenize:Ej};function _j(t,e,n){const r=this;let a;return o;function o(w){return t.enter("definition"),u(w)}function u(w){return lS.call(r,t,h,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function h(w){return a=Ni(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),m):n(w)}function m(w){return dt(w)?Du(t,p)(w):p(w)}function p(w){return aS(t,v,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function v(w){return t.attempt(bj,x,x)(w)}function x(w){return Ue(w)?Qe(t,E,"whitespace")(w):E(w)}function E(w){return w===null||Ee(w)?(t.exit("definition"),r.parser.defined.push(a),e(w)):n(w)}}function Ej(t,e,n){return r;function r(h){return dt(h)?Du(t,a)(h):n(h)}function a(h){return oS(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function o(h){return Ue(h)?Qe(t,u,"whitespace")(h):u(h)}function u(h){return h===null||Ee(h)?e(h):n(h)}}const wj={name:"hardBreakEscape",tokenize:Tj};function Tj(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),a}function a(o){return Ee(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const Sj={name:"headingAtx",resolve:Aj,tokenize:Cj};function Aj(t,e){let n=t.length-2,r=3,a,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Kn(t,r,n-r+1,[["enter",a,e],["enter",o,e],["exit",o,e],["exit",a,e]])),t}function Cj(t,e,n){let r=0;return a;function a(v){return t.enter("atxHeading"),o(v)}function o(v){return t.enter("atxHeadingSequence"),u(v)}function u(v){return v===35&&r++<6?(t.consume(v),u):v===null||dt(v)?(t.exit("atxHeadingSequence"),h(v)):n(v)}function h(v){return v===35?(t.enter("atxHeadingSequence"),m(v)):v===null||Ee(v)?(t.exit("atxHeading"),e(v)):Ue(v)?Qe(t,h,"whitespace")(v):(t.enter("atxHeadingText"),p(v))}function m(v){return v===35?(t.consume(v),m):(t.exit("atxHeadingSequence"),h(v))}function p(v){return v===null||v===35||dt(v)?(t.exit("atxHeadingText"),h(v)):(t.consume(v),p)}}const Nj=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],o_=["pre","script","style","textarea"],Ij={concrete:!0,name:"htmlFlow",resolveTo:Dj,tokenize:Oj},kj={partial:!0,tokenize:Mj},Rj={partial:!0,tokenize:jj};function Dj(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Oj(t,e,n){const r=this;let a,o,u,h,m;return p;function p(j){return v(j)}function v(j){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(j),x}function x(j){return j===33?(t.consume(j),E):j===47?(t.consume(j),o=!0,L):j===63?(t.consume(j),a=3,r.interrupt?e:V):Tn(j)?(t.consume(j),u=String.fromCharCode(j),P):n(j)}function E(j){return j===45?(t.consume(j),a=2,w):j===91?(t.consume(j),a=5,h=0,N):Tn(j)?(t.consume(j),a=4,r.interrupt?e:V):n(j)}function w(j){return j===45?(t.consume(j),r.interrupt?e:V):n(j)}function N(j){const Ie="CDATA[";return j===Ie.charCodeAt(h++)?(t.consume(j),h===Ie.length?r.interrupt?e:D:N):n(j)}function L(j){return Tn(j)?(t.consume(j),u=String.fromCharCode(j),P):n(j)}function P(j){if(j===null||j===47||j===62||dt(j)){const Ie=j===47,tt=u.toLowerCase();return!Ie&&!o&&o_.includes(tt)?(a=1,r.interrupt?e(j):D(j)):Nj.includes(u.toLowerCase())?(a=6,Ie?(t.consume(j),U):r.interrupt?e(j):D(j)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(j):o?F(j):q(j))}return j===45||xn(j)?(t.consume(j),u+=String.fromCharCode(j),P):n(j)}function U(j){return j===62?(t.consume(j),r.interrupt?e:D):n(j)}function F(j){return Ue(j)?(t.consume(j),F):A(j)}function q(j){return j===47?(t.consume(j),A):j===58||j===95||Tn(j)?(t.consume(j),te):Ue(j)?(t.consume(j),q):A(j)}function te(j){return j===45||j===46||j===58||j===95||xn(j)?(t.consume(j),te):ce(j)}function ce(j){return j===61?(t.consume(j),G):Ue(j)?(t.consume(j),ce):q(j)}function G(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(t.consume(j),m=j,M):Ue(j)?(t.consume(j),G):k(j)}function M(j){return j===m?(t.consume(j),m=null,O):j===null||Ee(j)?n(j):(t.consume(j),M)}function k(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||dt(j)?ce(j):(t.consume(j),k)}function O(j){return j===47||j===62||Ue(j)?q(j):n(j)}function A(j){return j===62?(t.consume(j),C):n(j)}function C(j){return j===null||Ee(j)?D(j):Ue(j)?(t.consume(j),C):n(j)}function D(j){return j===45&&a===2?(t.consume(j),K):j===60&&a===1?(t.consume(j),le):j===62&&a===4?(t.consume(j),We):j===63&&a===3?(t.consume(j),V):j===93&&a===5?(t.consume(j),Re):Ee(j)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(kj,Le,R)(j)):j===null||Ee(j)?(t.exit("htmlFlowData"),R(j)):(t.consume(j),D)}function R(j){return t.check(Rj,ue,Le)(j)}function ue(j){return t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),ae}function ae(j){return j===null||Ee(j)?R(j):(t.enter("htmlFlowData"),D(j))}function K(j){return j===45?(t.consume(j),V):D(j)}function le(j){return j===47?(t.consume(j),u="",me):D(j)}function me(j){if(j===62){const Ie=u.toLowerCase();return o_.includes(Ie)?(t.consume(j),We):D(j)}return Tn(j)&&u.length<8?(t.consume(j),u+=String.fromCharCode(j),me):D(j)}function Re(j){return j===93?(t.consume(j),V):D(j)}function V(j){return j===62?(t.consume(j),We):j===45&&a===2?(t.consume(j),V):D(j)}function We(j){return j===null||Ee(j)?(t.exit("htmlFlowData"),Le(j)):(t.consume(j),We)}function Le(j){return t.exit("htmlFlow"),e(j)}}function jj(t,e,n){const r=this;return a;function a(u){return Ee(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o):n(u)}function o(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}function Mj(t,e,n){return r;function r(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(uc,e,n)}}const Pj={name:"htmlText",tokenize:Lj};function Lj(t,e,n){const r=this;let a,o,u;return h;function h(V){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(V),m}function m(V){return V===33?(t.consume(V),p):V===47?(t.consume(V),ce):V===63?(t.consume(V),q):Tn(V)?(t.consume(V),k):n(V)}function p(V){return V===45?(t.consume(V),v):V===91?(t.consume(V),o=0,N):Tn(V)?(t.consume(V),F):n(V)}function v(V){return V===45?(t.consume(V),w):n(V)}function x(V){return V===null?n(V):V===45?(t.consume(V),E):Ee(V)?(u=x,le(V)):(t.consume(V),x)}function E(V){return V===45?(t.consume(V),w):x(V)}function w(V){return V===62?K(V):V===45?E(V):x(V)}function N(V){const We="CDATA[";return V===We.charCodeAt(o++)?(t.consume(V),o===We.length?L:N):n(V)}function L(V){return V===null?n(V):V===93?(t.consume(V),P):Ee(V)?(u=L,le(V)):(t.consume(V),L)}function P(V){return V===93?(t.consume(V),U):L(V)}function U(V){return V===62?K(V):V===93?(t.consume(V),U):L(V)}function F(V){return V===null||V===62?K(V):Ee(V)?(u=F,le(V)):(t.consume(V),F)}function q(V){return V===null?n(V):V===63?(t.consume(V),te):Ee(V)?(u=q,le(V)):(t.consume(V),q)}function te(V){return V===62?K(V):q(V)}function ce(V){return Tn(V)?(t.consume(V),G):n(V)}function G(V){return V===45||xn(V)?(t.consume(V),G):M(V)}function M(V){return Ee(V)?(u=M,le(V)):Ue(V)?(t.consume(V),M):K(V)}function k(V){return V===45||xn(V)?(t.consume(V),k):V===47||V===62||dt(V)?O(V):n(V)}function O(V){return V===47?(t.consume(V),K):V===58||V===95||Tn(V)?(t.consume(V),A):Ee(V)?(u=O,le(V)):Ue(V)?(t.consume(V),O):K(V)}function A(V){return V===45||V===46||V===58||V===95||xn(V)?(t.consume(V),A):C(V)}function C(V){return V===61?(t.consume(V),D):Ee(V)?(u=C,le(V)):Ue(V)?(t.consume(V),C):O(V)}function D(V){return V===null||V===60||V===61||V===62||V===96?n(V):V===34||V===39?(t.consume(V),a=V,R):Ee(V)?(u=D,le(V)):Ue(V)?(t.consume(V),D):(t.consume(V),ue)}function R(V){return V===a?(t.consume(V),a=void 0,ae):V===null?n(V):Ee(V)?(u=R,le(V)):(t.consume(V),R)}function ue(V){return V===null||V===34||V===39||V===60||V===61||V===96?n(V):V===47||V===62||dt(V)?O(V):(t.consume(V),ue)}function ae(V){return V===47||V===62||dt(V)?O(V):n(V)}function K(V){return V===62?(t.consume(V),t.exit("htmlTextData"),t.exit("htmlText"),e):n(V)}function le(V){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(V),t.exit("lineEnding"),me}function me(V){return Ue(V)?Qe(t,Re,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):Re(V)}function Re(V){return t.enter("htmlTextData"),u(V)}}const Oy={name:"labelEnd",resolveAll:Bj,resolveTo:Fj,tokenize:qj},Vj={tokenize:Hj},zj={tokenize:Gj},Uj={tokenize:$j};function Bj(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",e+=a}}return t.length!==n.length&&Kn(t,0,t.length,n),t}function Fj(t,e){let n=t.length,r=0,a,o,u,h;for(;n--;)if(a=t[n][1],o){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(o=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(u=n);const m={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},p={type:"label",start:{...t[o][1].start},end:{...t[u][1].end}},v={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[u-2][1].start}};return h=[["enter",m,e],["enter",p,e]],h=ci(h,t.slice(o+1,o+r+3)),h=ci(h,[["enter",v,e]]),h=ci(h,nd(e.parser.constructs.insideSpan.null,t.slice(o+r+4,u-3),e)),h=ci(h,[["exit",v,e],t[u-2],t[u-1],["exit",p,e]]),h=ci(h,t.slice(u+1)),h=ci(h,[["exit",m,e]]),Kn(t,o,t.length,h),t}function qj(t,e,n){const r=this;let a=r.events.length,o,u;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){o=r.events[a][1];break}return h;function h(E){return o?o._inactive?x(E):(u=r.parser.defined.includes(Ni(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(E),t.exit("labelMarker"),t.exit("labelEnd"),m):n(E)}function m(E){return E===40?t.attempt(Vj,v,u?v:x)(E):E===91?t.attempt(zj,v,u?p:x)(E):u?v(E):x(E)}function p(E){return t.attempt(Uj,v,x)(E)}function v(E){return e(E)}function x(E){return o._balanced=!0,n(E)}}function Hj(t,e,n){return r;function r(x){return t.enter("resource"),t.enter("resourceMarker"),t.consume(x),t.exit("resourceMarker"),a}function a(x){return dt(x)?Du(t,o)(x):o(x)}function o(x){return x===41?v(x):aS(t,u,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(x)}function u(x){return dt(x)?Du(t,m)(x):v(x)}function h(x){return n(x)}function m(x){return x===34||x===39||x===40?oS(t,p,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(x):v(x)}function p(x){return dt(x)?Du(t,v)(x):v(x)}function v(x){return x===41?(t.enter("resourceMarker"),t.consume(x),t.exit("resourceMarker"),t.exit("resource"),e):n(x)}}function Gj(t,e,n){const r=this;return a;function a(h){return lS.call(r,t,o,u,"reference","referenceMarker","referenceString")(h)}function o(h){return r.parser.defined.includes(Ni(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(h):n(h)}function u(h){return n(h)}}function $j(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),a}function a(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const Yj={name:"labelStartImage",resolveAll:Oy.resolveAll,tokenize:Kj};function Kj(t,e,n){const r=this;return a;function a(h){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(h),t.exit("labelImageMarker"),o}function o(h){return h===91?(t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelImage"),u):n(h)}function u(h){return h===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(h):e(h)}}const Qj={name:"labelStartLink",resolveAll:Oy.resolveAll,tokenize:Xj};function Xj(t,e,n){const r=this;return a;function a(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const Tp={name:"lineEnding",tokenize:Wj};function Wj(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Qe(t,e,"linePrefix")}}const rf={name:"thematicBreak",tokenize:Jj};function Jj(t,e,n){let r=0,a;return o;function o(p){return t.enter("thematicBreak"),u(p)}function u(p){return a=p,h(p)}function h(p){return p===a?(t.enter("thematicBreakSequence"),m(p)):r>=3&&(p===null||Ee(p))?(t.exit("thematicBreak"),e(p)):n(p)}function m(p){return p===a?(t.consume(p),r++,m):(t.exit("thematicBreakSequence"),Ue(p)?Qe(t,h,"whitespace")(p):h(p))}}const Dn={continuation:{tokenize:nM},exit:rM,name:"list",tokenize:tM},Zj={partial:!0,tokenize:sM},eM={partial:!0,tokenize:iM};function tM(t,e,n){const r=this,a=r.events[r.events.length-1];let o=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,u=0;return h;function h(w){const N=r.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(N==="listUnordered"?!r.containerState.marker||w===r.containerState.marker:vg(w)){if(r.containerState.type||(r.containerState.type=N,t.enter(N,{_container:!0})),N==="listUnordered")return t.enter("listItemPrefix"),w===42||w===45?t.check(rf,n,p)(w):p(w);if(!r.interrupt||w===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),m(w)}return n(w)}function m(w){return vg(w)&&++u<10?(t.consume(w),m):(!r.interrupt||u<2)&&(r.containerState.marker?w===r.containerState.marker:w===41||w===46)?(t.exit("listItemValue"),p(w)):n(w)}function p(w){return t.enter("listItemMarker"),t.consume(w),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||w,t.check(uc,r.interrupt?n:v,t.attempt(Zj,E,x))}function v(w){return r.containerState.initialBlankLine=!0,o++,E(w)}function x(w){return Ue(w)?(t.enter("listItemPrefixWhitespace"),t.consume(w),t.exit("listItemPrefixWhitespace"),E):n(w)}function E(w){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(w)}}function nM(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(uc,a,o);function a(h){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Qe(t,e,"listItemIndent",r.containerState.size+1)(h)}function o(h){return r.containerState.furtherBlankLines||!Ue(h)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(h)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(eM,e,u)(h))}function u(h){return r.containerState._closeFlow=!0,r.interrupt=void 0,Qe(t,t.attempt(Dn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function iM(t,e,n){const r=this;return Qe(t,a,"listItemIndent",r.containerState.size+1);function a(o){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?e(o):n(o)}}function rM(t){t.exit(this.containerState.type)}function sM(t,e,n){const r=this;return Qe(t,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(o){const u=r.events[r.events.length-1];return!Ue(o)&&u&&u[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const u_={name:"setextUnderline",resolveTo:aM,tokenize:lM};function aM(t,e){let n=t.length,r,a,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(a=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const u={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[a][1].type="setextHeadingText",o?(t.splice(a,0,["enter",u,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=u,t.push(["exit",u,e]),t}function lM(t,e,n){const r=this;let a;return o;function o(p){let v=r.events.length,x;for(;v--;)if(r.events[v][1].type!=="lineEnding"&&r.events[v][1].type!=="linePrefix"&&r.events[v][1].type!=="content"){x=r.events[v][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||x)?(t.enter("setextHeadingLine"),a=p,u(p)):n(p)}function u(p){return t.enter("setextHeadingLineSequence"),h(p)}function h(p){return p===a?(t.consume(p),h):(t.exit("setextHeadingLineSequence"),Ue(p)?Qe(t,m,"lineSuffix")(p):m(p))}function m(p){return p===null||Ee(p)?(t.exit("setextHeadingLine"),e(p)):n(p)}}const oM={tokenize:uM};function uM(t){const e=this,n=t.attempt(uc,r,t.attempt(this.parser.constructs.flowInitial,a,Qe(t,t.attempt(this.parser.constructs.flow,a,t.attempt(mj,a)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function a(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const cM={resolveAll:cS()},hM=uS("string"),fM=uS("text");function uS(t){return{resolveAll:cS(t==="text"?dM:void 0),tokenize:e};function e(n){const r=this,a=this.parser.constructs[t],o=n.attempt(a,u,h);return u;function u(v){return p(v)?o(v):h(v)}function h(v){if(v===null){n.consume(v);return}return n.enter("data"),n.consume(v),m}function m(v){return p(v)?(n.exit("data"),o(v)):(n.consume(v),m)}function p(v){if(v===null)return!0;const x=a[v];let E=-1;if(x)for(;++E<x.length;){const w=x[E];if(!w.previous||w.previous.call(r,r.previous))return!0}return!1}}}function cS(t){return e;function e(n,r){let a=-1,o;for(;++a<=n.length;)o===void 0?n[a]&&n[a][1].type==="data"&&(o=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==o+2&&(n[o][1].end=n[a-1][1].end,n.splice(o+2,a-o-2),a=o+2),o=void 0);return t?t(n,r):n}}function dM(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],a=e.sliceStream(r);let o=a.length,u=-1,h=0,m;for(;o--;){const p=a[o];if(typeof p=="string"){for(u=p.length;p.charCodeAt(u-1)===32;)h++,u--;if(u)break;u=-1}else if(p===-2)m=!0,h++;else if(p!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(h=0),h){const p={type:n===t.length||m||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:r.start._bufferIndex+u,_index:r.start._index+o,line:r.end.line,column:r.end.column-h,offset:r.end.offset-h},end:{...r.end}};r.end={...p.start},r.start.offset===r.end.offset?Object.assign(r,p):(t.splice(n,0,["enter",p,e],["exit",p,e]),n+=2)}n++}return t}const mM={42:Dn,43:Dn,45:Dn,48:Dn,49:Dn,50:Dn,51:Dn,52:Dn,53:Dn,54:Dn,55:Dn,56:Dn,57:Dn,62:nS},pM={91:xj},gM={[-2]:wp,[-1]:wp,32:wp},yM={35:Sj,42:rf,45:[u_,rf],60:Ij,61:u_,95:rf,96:l_,126:l_},vM={38:rS,92:iS},xM={[-5]:Tp,[-4]:Tp,[-3]:Tp,33:Yj,38:rS,42:xg,60:[Q3,Pj],91:Qj,92:[wj,iS],93:Oy,95:xg,96:oj},bM={null:[xg,cM]},_M={null:[42,95]},EM={null:[]},wM=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:_M,contentInitial:pM,disable:EM,document:mM,flow:yM,flowInitial:gM,insideSpan:bM,string:vM,text:xM},Symbol.toStringTag,{value:"Module"}));function TM(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},o=[];let u=[],h=[];const m={attempt:M(ce),check:M(G),consume:F,enter:q,exit:te,interrupt:M(G,{interrupt:!0})},p={code:null,containerState:{},defineSkip:L,events:[],now:N,parser:t,previous:null,sliceSerialize:E,sliceStream:w,write:x};let v=e.tokenize.call(p,m);return e.resolveAll&&o.push(e),p;function x(C){return u=ci(u,C),P(),u[u.length-1]!==null?[]:(k(e,0),p.events=nd(o,p.events,p),p.events)}function E(C,D){return AM(w(C),D)}function w(C){return SM(u,C)}function N(){const{_bufferIndex:C,_index:D,line:R,column:ue,offset:ae}=r;return{_bufferIndex:C,_index:D,line:R,column:ue,offset:ae}}function L(C){a[C.line]=C.column,A()}function P(){let C;for(;r._index<u.length;){const D=u[r._index];if(typeof D=="string")for(C=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===C&&r._bufferIndex<D.length;)U(D.charCodeAt(r._bufferIndex));else U(D)}}function U(C){v=v(C)}function F(C){Ee(C)?(r.line++,r.column=1,r.offset+=C===-3?2:1,A()):C!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),p.previous=C}function q(C,D){const R=D||{};return R.type=C,R.start=N(),p.events.push(["enter",R,p]),h.push(R),R}function te(C){const D=h.pop();return D.end=N(),p.events.push(["exit",D,p]),D}function ce(C,D){k(C,D.from)}function G(C,D){D.restore()}function M(C,D){return R;function R(ue,ae,K){let le,me,Re,V;return Array.isArray(ue)?Le(ue):"tokenize"in ue?Le([ue]):We(ue);function We(Xe){return vt;function vt(At){const _t=At!==null&&Xe[At],Qn=At!==null&&Xe.null,di=[...Array.isArray(_t)?_t:_t?[_t]:[],...Array.isArray(Qn)?Qn:Qn?[Qn]:[]];return Le(di)(At)}}function Le(Xe){return le=Xe,me=0,Xe.length===0?K:j(Xe[me])}function j(Xe){return vt;function vt(At){return V=O(),Re=Xe,Xe.partial||(p.currentConstruct=Xe),Xe.name&&p.parser.constructs.disable.null.includes(Xe.name)?tt():Xe.tokenize.call(D?Object.assign(Object.create(p),D):p,m,Ie,tt)(At)}}function Ie(Xe){return C(Re,V),ae}function tt(Xe){return V.restore(),++me<le.length?j(le[me]):K}}}function k(C,D){C.resolveAll&&!o.includes(C)&&o.push(C),C.resolve&&Kn(p.events,D,p.events.length-D,C.resolve(p.events.slice(D),p)),C.resolveTo&&(p.events=C.resolveTo(p.events,p))}function O(){const C=N(),D=p.previous,R=p.currentConstruct,ue=p.events.length,ae=Array.from(h);return{from:ue,restore:K};function K(){r=C,p.previous=D,p.currentConstruct=R,p.events.length=ue,h=ae,A()}}function A(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function SM(t,e){const n=e.start._index,r=e.start._bufferIndex,a=e.end._index,o=e.end._bufferIndex;let u;if(n===a)u=[t[n].slice(r,o)];else{if(u=t.slice(n,a),r>-1){const h=u[0];typeof h=="string"?u[0]=h.slice(r):u.shift()}o>0&&u.push(t[a].slice(0,o))}return u}function AM(t,e){let n=-1;const r=[];let a;for(;++n<t.length;){const o=t[n];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&a)continue;u=" ";break}default:u=String.fromCharCode(o)}a=o===-2,r.push(u)}return r.join("")}function CM(t){const r={constructs:eS([wM,...(t||{}).extensions||[]]),content:a(F3),defined:[],document:a(H3),flow:a(oM),lazy:{},string:a(hM),text:a(fM)};return r;function a(o){return u;function u(h){return TM(r,o,h)}}}function NM(t){for(;!sS(t););return t}const c_=/[\0\t\n\r]/g;function IM(){let t=1,e="",n=!0,r;return a;function a(o,u,h){const m=[];let p,v,x,E,w;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),x=0,e="",n&&(o.charCodeAt(0)===65279&&x++,n=void 0);x<o.length;){if(c_.lastIndex=x,p=c_.exec(o),E=p&&p.index!==void 0?p.index:o.length,w=o.charCodeAt(E),!p){e=o.slice(x);break}if(w===10&&x===E&&r)m.push(-3),r=void 0;else switch(r&&(m.push(-5),r=void 0),x<E&&(m.push(o.slice(x,E)),t+=E-x),w){case 0:{m.push(65533),t++;break}case 9:{for(v=Math.ceil(t/4)*4,m.push(-2);t++<v;)m.push(-1);break}case 10:{m.push(-4),t=1;break}default:r=!0,t=1}x=E+1}return h&&(r&&m.push(-5),e&&m.push(e),m.push(null)),m}}const kM=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function RM(t){return t.replace(kM,DM)}function DM(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),o=a===120||a===88;return tS(n.slice(o?2:1),o?16:10)}return Dy(n)||t}const hS={}.hasOwnProperty;function OM(t,e,n){return typeof e!="string"&&(n=e,e=void 0),jM(n)(NM(CM(n).document().write(IM()(t,e,!0))))}function jM(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Et),autolinkProtocol:O,autolinkEmail:O,atxHeading:o($r),blockQuote:o(Qn),characterEscape:O,characterReference:O,codeFenced:o(di),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(di,u),codeText:o(Hr,u),codeTextData:O,data:O,codeFlowValue:O,definition:o(Gr),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(Xn),hardBreakEscape:o(Ii),hardBreakTrailing:o(Ii),htmlFlow:o(Yr,u),htmlFlowData:O,htmlText:o(Yr,u),htmlTextData:O,image:o(Xs),label:u,link:o(Et),listItem:o(ki),listItemValue:E,listOrdered:o(Ct,x),listUnordered:o(Ct),paragraph:o(ho),reference:j,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o($r),strong:o(qa),thematicBreak:o(ur)},exit:{atxHeading:m(),atxHeadingSequence:ce,autolink:m(),autolinkEmail:_t,autolinkProtocol:At,blockQuote:m(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:tt,characterReferenceMarkerNumeric:tt,characterReferenceValue:Xe,characterReference:vt,codeFenced:m(P),codeFencedFence:L,codeFencedFenceInfo:w,codeFencedFenceMeta:N,codeFlowValue:A,codeIndented:m(U),codeText:m(ae),codeTextData:A,data:A,definition:m(),definitionDestinationString:te,definitionLabelString:F,definitionTitleString:q,emphasis:m(),hardBreakEscape:m(D),hardBreakTrailing:m(D),htmlFlow:m(R),htmlFlowData:A,htmlText:m(ue),htmlTextData:A,image:m(le),label:Re,labelText:me,lineEnding:C,link:m(K),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:Ie,resourceDestinationString:V,resourceTitleString:We,resource:Le,setextHeading:m(k),setextHeadingLineSequence:M,setextHeadingText:G,strong:m(),thematicBreak:m()}};fS(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ne){let fe={type:"root",children:[]};const _e={stack:[fe],tokenStack:[],config:e,enter:h,exit:p,buffer:u,resume:v,data:n},Pe=[];let Je=-1;for(;++Je<ne.length;)if(ne[Je][1].type==="listOrdered"||ne[Je][1].type==="listUnordered")if(ne[Je][0]==="enter")Pe.push(Je);else{const dn=Pe.pop();Je=a(ne,dn,Je)}for(Je=-1;++Je<ne.length;){const dn=e[ne[Je][0]];hS.call(dn,ne[Je][1].type)&&dn[ne[Je][1].type].call(Object.assign({sliceSerialize:ne[Je][2].sliceSerialize},_e),ne[Je][1])}if(_e.tokenStack.length>0){const dn=_e.tokenStack[_e.tokenStack.length-1];(dn[1]||h_).call(_e,void 0,dn[0])}for(fe.position={start:As(ne.length>0?ne[0][1].start:{line:1,column:1,offset:0}),end:As(ne.length>0?ne[ne.length-2][1].end:{line:1,column:1,offset:0})},Je=-1;++Je<e.transforms.length;)fe=e.transforms[Je](fe)||fe;return fe}function a(ne,fe,_e){let Pe=fe-1,Je=-1,dn=!1,Wn,kt,wt,Wt;for(;++Pe<=_e;){const $e=ne[Pe];switch($e[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{$e[0]==="enter"?Je++:Je--,Wt=void 0;break}case"lineEndingBlank":{$e[0]==="enter"&&(Wn&&!Wt&&!Je&&!wt&&(wt=Pe),Wt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Wt=void 0}if(!Je&&$e[0]==="enter"&&$e[1].type==="listItemPrefix"||Je===-1&&$e[0]==="exit"&&($e[1].type==="listUnordered"||$e[1].type==="listOrdered")){if(Wn){let mi=Pe;for(kt=void 0;mi--;){const mn=ne[mi];if(mn[1].type==="lineEnding"||mn[1].type==="lineEndingBlank"){if(mn[0]==="exit")continue;kt&&(ne[kt][1].type="lineEndingBlank",dn=!0),mn[1].type="lineEnding",kt=mi}else if(!(mn[1].type==="linePrefix"||mn[1].type==="blockQuotePrefix"||mn[1].type==="blockQuotePrefixWhitespace"||mn[1].type==="blockQuoteMarker"||mn[1].type==="listItemIndent"))break}wt&&(!kt||wt<kt)&&(Wn._spread=!0),Wn.end=Object.assign({},kt?ne[kt][1].start:$e[1].end),ne.splice(kt||Pe,0,["exit",Wn,$e[2]]),Pe++,_e++}if($e[1].type==="listItemPrefix"){const mi={type:"listItem",_spread:!1,start:Object.assign({},$e[1].start),end:void 0};Wn=mi,ne.splice(Pe,0,["enter",mi,$e[2]]),Pe++,_e++,wt=void 0,Wt=!0}}}return ne[fe][1]._spread=dn,_e}function o(ne,fe){return _e;function _e(Pe){h.call(this,ne(Pe),Pe),fe&&fe.call(this,Pe)}}function u(){this.stack.push({type:"fragment",children:[]})}function h(ne,fe,_e){this.stack[this.stack.length-1].children.push(ne),this.stack.push(ne),this.tokenStack.push([fe,_e||void 0]),ne.position={start:As(fe.start),end:void 0}}function m(ne){return fe;function fe(_e){ne&&ne.call(this,_e),p.call(this,_e)}}function p(ne,fe){const _e=this.stack.pop(),Pe=this.tokenStack.pop();if(Pe)Pe[0].type!==ne.type&&(fe?fe.call(this,ne,Pe[0]):(Pe[1]||h_).call(this,ne,Pe[0]));else throw new Error("Cannot close `"+ne.type+"` ("+Ru({start:ne.start,end:ne.end})+"): its not open");_e.position.end=As(ne.end)}function v(){return Ry(this.stack.pop())}function x(){this.data.expectingFirstListItemValue=!0}function E(ne){if(this.data.expectingFirstListItemValue){const fe=this.stack[this.stack.length-2];fe.start=Number.parseInt(this.sliceSerialize(ne),10),this.data.expectingFirstListItemValue=void 0}}function w(){const ne=this.resume(),fe=this.stack[this.stack.length-1];fe.lang=ne}function N(){const ne=this.resume(),fe=this.stack[this.stack.length-1];fe.meta=ne}function L(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function P(){const ne=this.resume(),fe=this.stack[this.stack.length-1];fe.value=ne.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function U(){const ne=this.resume(),fe=this.stack[this.stack.length-1];fe.value=ne.replace(/(\r?\n|\r)$/g,"")}function F(ne){const fe=this.resume(),_e=this.stack[this.stack.length-1];_e.label=fe,_e.identifier=Ni(this.sliceSerialize(ne)).toLowerCase()}function q(){const ne=this.resume(),fe=this.stack[this.stack.length-1];fe.title=ne}function te(){const ne=this.resume(),fe=this.stack[this.stack.length-1];fe.url=ne}function ce(ne){const fe=this.stack[this.stack.length-1];if(!fe.depth){const _e=this.sliceSerialize(ne).length;fe.depth=_e}}function G(){this.data.setextHeadingSlurpLineEnding=!0}function M(ne){const fe=this.stack[this.stack.length-1];fe.depth=this.sliceSerialize(ne).codePointAt(0)===61?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function O(ne){const _e=this.stack[this.stack.length-1].children;let Pe=_e[_e.length-1];(!Pe||Pe.type!=="text")&&(Pe=nn(),Pe.position={start:As(ne.start),end:void 0},_e.push(Pe)),this.stack.push(Pe)}function A(ne){const fe=this.stack.pop();fe.value+=this.sliceSerialize(ne),fe.position.end=As(ne.end)}function C(ne){const fe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const _e=fe.children[fe.children.length-1];_e.position.end=As(ne.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(fe.type)&&(O.call(this,ne),A.call(this,ne))}function D(){this.data.atHardBreak=!0}function R(){const ne=this.resume(),fe=this.stack[this.stack.length-1];fe.value=ne}function ue(){const ne=this.resume(),fe=this.stack[this.stack.length-1];fe.value=ne}function ae(){const ne=this.resume(),fe=this.stack[this.stack.length-1];fe.value=ne}function K(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const fe=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=fe,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function le(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const fe=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=fe,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function me(ne){const fe=this.sliceSerialize(ne),_e=this.stack[this.stack.length-2];_e.label=RM(fe),_e.identifier=Ni(fe).toLowerCase()}function Re(){const ne=this.stack[this.stack.length-1],fe=this.resume(),_e=this.stack[this.stack.length-1];if(this.data.inReference=!0,_e.type==="link"){const Pe=ne.children;_e.children=Pe}else _e.alt=fe}function V(){const ne=this.resume(),fe=this.stack[this.stack.length-1];fe.url=ne}function We(){const ne=this.resume(),fe=this.stack[this.stack.length-1];fe.title=ne}function Le(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function Ie(ne){const fe=this.resume(),_e=this.stack[this.stack.length-1];_e.label=fe,_e.identifier=Ni(this.sliceSerialize(ne)).toLowerCase(),this.data.referenceType="full"}function tt(ne){this.data.characterReferenceType=ne.type}function Xe(ne){const fe=this.sliceSerialize(ne),_e=this.data.characterReferenceType;let Pe;_e?(Pe=tS(fe,_e==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Pe=Dy(fe);const Je=this.stack[this.stack.length-1];Je.value+=Pe}function vt(ne){const fe=this.stack.pop();fe.position.end=As(ne.end)}function At(ne){A.call(this,ne);const fe=this.stack[this.stack.length-1];fe.url=this.sliceSerialize(ne)}function _t(ne){A.call(this,ne);const fe=this.stack[this.stack.length-1];fe.url="mailto:"+this.sliceSerialize(ne)}function Qn(){return{type:"blockquote",children:[]}}function di(){return{type:"code",lang:null,meta:null,value:""}}function Hr(){return{type:"inlineCode",value:""}}function Gr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Xn(){return{type:"emphasis",children:[]}}function $r(){return{type:"heading",depth:0,children:[]}}function Ii(){return{type:"break"}}function Yr(){return{type:"html",value:""}}function Xs(){return{type:"image",title:null,url:"",alt:null}}function Et(){return{type:"link",title:null,url:"",children:[]}}function Ct(ne){return{type:"list",ordered:ne.type==="listOrdered",start:null,spread:ne._spread,children:[]}}function ki(ne){return{type:"listItem",spread:ne._spread,checked:null,children:[]}}function ho(){return{type:"paragraph",children:[]}}function qa(){return{type:"strong",children:[]}}function nn(){return{type:"text",value:""}}function ur(){return{type:"thematicBreak"}}}function As(t){return{line:t.line,column:t.column,offset:t.offset}}function fS(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?fS(t,r):MM(t,r)}}function MM(t,e){let n;for(n in e)if(hS.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function h_(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Ru({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Ru({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Ru({start:e.start,end:e.end})+") is still open")}function PM(t){const e=this;e.parser=n;function n(r){return OM(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function LM(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function VM(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function zM(t,e){const n=e.value?e.value+`
`:"",r={},a=e.lang?e.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(o.data={meta:e.meta}),t.patch(e,o),o=t.applyData(e,o),o={type:"element",tagName:"pre",properties:{},children:[o]},t.patch(e,o),o}function UM(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function BM(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function FM(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),a=oo(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let u,h=t.footnoteCounts.get(r);h===void 0?(h=0,t.footnoteOrder.push(r),u=t.footnoteOrder.length):u=o+1,h+=1,t.footnoteCounts.set(r,h);const m={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,m);const p={type:"element",tagName:"sup",properties:{},children:[m]};return t.patch(e,p),t.applyData(e,p)}function qM(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function HM(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function dS(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const a=t.all(e),o=a[0];o&&o.type==="text"?o.value="["+o.value:a.unshift({type:"text",value:"["});const u=a[a.length-1];return u&&u.type==="text"?u.value+=r:a.push({type:"text",value:r}),a}function GM(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return dS(t,e);const a={src:oo(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const o={type:"element",tagName:"img",properties:a,children:[]};return t.patch(e,o),t.applyData(e,o)}function $M(t,e){const n={src:oo(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function YM(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function KM(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return dS(t,e);const a={href:oo(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const o={type:"element",tagName:"a",properties:a,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function QM(t,e){const n={href:oo(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function XM(t,e,n){const r=t.all(e),a=n?WM(n):mS(e),o={},u=[];if(typeof e.checked=="boolean"){const v=r[0];let x;v&&v.type==="element"&&v.tagName==="p"?x=v:(x={type:"element",tagName:"p",properties:{},children:[]},r.unshift(x)),x.children.length>0&&x.children.unshift({type:"text",value:" "}),x.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let h=-1;for(;++h<r.length;){const v=r[h];(a||h!==0||v.type!=="element"||v.tagName!=="p")&&u.push({type:"text",value:`
`}),v.type==="element"&&v.tagName==="p"&&!a?u.push(...v.children):u.push(v)}const m=r[r.length-1];m&&(a||m.type!=="element"||m.tagName!=="p")&&u.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:o,children:u};return t.patch(e,p),t.applyData(e,p)}function WM(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=mS(n[r])}return e}function mS(t){const e=t.spread;return e??t.children.length>1}function JM(t,e){const n={},r=t.all(e);let a=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++a<r.length;){const u=r[a];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function ZM(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function e6(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function t6(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function n6(t,e){const n=t.all(e),r=n.shift(),a=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],u),a.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},h=Cy(e.children[1]),m=YT(e.children[e.children.length-1]);h&&m&&(u.position={start:h,end:m}),a.push(u)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(e,o),t.applyData(e,o)}function i6(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,h=u?u.length:e.children.length;let m=-1;const p=[];for(;++m<h;){const x=e.children[m],E={},w=u?u[m]:void 0;w&&(E.align=w);let N={type:"element",tagName:o,properties:E,children:[]};x&&(N.children=t.all(x),t.patch(x,N),N=t.applyData(x,N)),p.push(N)}const v={type:"element",tagName:"tr",properties:{},children:t.wrap(p,!0)};return t.patch(e,v),t.applyData(e,v)}function r6(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const f_=9,d_=32;function s6(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),a=0;const o=[];for(;r;)o.push(m_(e.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(e);return o.push(m_(e.slice(a),a>0,!1)),o.join("")}function m_(t,e,n){let r=0,a=t.length;if(e){let o=t.codePointAt(r);for(;o===f_||o===d_;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(a-1);for(;o===f_||o===d_;)a--,o=t.codePointAt(a-1)}return a>r?t.slice(r,a):""}function a6(t,e){const n={type:"text",value:s6(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function l6(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const o6={blockquote:LM,break:VM,code:zM,delete:UM,emphasis:BM,footnoteReference:FM,heading:qM,html:HM,imageReference:GM,image:$M,inlineCode:YM,linkReference:KM,link:QM,listItem:XM,list:JM,paragraph:ZM,root:e6,strong:t6,table:n6,tableCell:r6,tableRow:i6,text:a6,thematicBreak:l6,toml:qh,yaml:qh,definition:qh,footnoteDefinition:qh};function qh(){}const pS=-1,id=0,Ou=1,If=2,jy=3,My=4,Py=5,Ly=6,gS=7,yS=8,p_=typeof self=="object"?self:globalThis,u6=(t,e)=>{const n=(a,o)=>(t.set(o,a),a),r=a=>{if(t.has(a))return t.get(a);const[o,u]=e[a];switch(o){case id:case pS:return n(u,a);case Ou:{const h=n([],a);for(const m of u)h.push(r(m));return h}case If:{const h=n({},a);for(const[m,p]of u)h[r(m)]=r(p);return h}case jy:return n(new Date(u),a);case My:{const{source:h,flags:m}=u;return n(new RegExp(h,m),a)}case Py:{const h=n(new Map,a);for(const[m,p]of u)h.set(r(m),r(p));return h}case Ly:{const h=n(new Set,a);for(const m of u)h.add(r(m));return h}case gS:{const{name:h,message:m}=u;return n(new p_[h](m),a)}case yS:return n(BigInt(u),a);case"BigInt":return n(Object(BigInt(u)),a);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:h}=new Uint8Array(u);return n(new DataView(h),u)}}return n(new p_[o](u),a)};return r},g_=t=>u6(new Map,t)(0),Rl="",{toString:c6}={},{keys:h6}=Object,yu=t=>{const e=typeof t;if(e!=="object"||!t)return[id,e];const n=c6.call(t).slice(8,-1);switch(n){case"Array":return[Ou,Rl];case"Object":return[If,Rl];case"Date":return[jy,Rl];case"RegExp":return[My,Rl];case"Map":return[Py,Rl];case"Set":return[Ly,Rl];case"DataView":return[Ou,n]}return n.includes("Array")?[Ou,n]:n.includes("Error")?[gS,n]:[If,n]},Hh=([t,e])=>t===id&&(e==="function"||e==="symbol"),f6=(t,e,n,r)=>{const a=(u,h)=>{const m=r.push(u)-1;return n.set(h,m),m},o=u=>{if(n.has(u))return n.get(u);let[h,m]=yu(u);switch(h){case id:{let v=u;switch(m){case"bigint":h=yS,v=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+m);v=null;break;case"undefined":return a([pS],u)}return a([h,v],u)}case Ou:{if(m){let E=u;return m==="DataView"?E=new Uint8Array(u.buffer):m==="ArrayBuffer"&&(E=new Uint8Array(u)),a([m,[...E]],u)}const v=[],x=a([h,v],u);for(const E of u)v.push(o(E));return x}case If:{if(m)switch(m){case"BigInt":return a([m,u.toString()],u);case"Boolean":case"Number":case"String":return a([m,u.valueOf()],u)}if(e&&"toJSON"in u)return o(u.toJSON());const v=[],x=a([h,v],u);for(const E of h6(u))(t||!Hh(yu(u[E])))&&v.push([o(E),o(u[E])]);return x}case jy:return a([h,u.toISOString()],u);case My:{const{source:v,flags:x}=u;return a([h,{source:v,flags:x}],u)}case Py:{const v=[],x=a([h,v],u);for(const[E,w]of u)(t||!(Hh(yu(E))||Hh(yu(w))))&&v.push([o(E),o(w)]);return x}case Ly:{const v=[],x=a([h,v],u);for(const E of u)(t||!Hh(yu(E)))&&v.push(o(E));return x}}const{message:p}=u;return a([h,{name:m,message:p}],u)};return o},y_=(t,{json:e,lossy:n}={})=>{const r=[];return f6(!(e||n),!!e,new Map,r)(t),r},kf=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?g_(y_(t,e)):structuredClone(t):(t,e)=>g_(y_(t,e));function d6(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function m6(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function p6(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||d6,r=t.options.footnoteBackLabel||m6,a=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let m=-1;for(;++m<t.footnoteOrder.length;){const p=t.footnoteById.get(t.footnoteOrder[m]);if(!p)continue;const v=t.all(p),x=String(p.identifier).toUpperCase(),E=oo(x.toLowerCase());let w=0;const N=[],L=t.footnoteCounts.get(x);for(;L!==void 0&&++w<=L;){N.length>0&&N.push({type:"text",value:" "});let F=typeof n=="string"?n:n(m,w);typeof F=="string"&&(F={type:"text",value:F}),N.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+E+(w>1?"-"+w:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(m,w),className:["data-footnote-backref"]},children:Array.isArray(F)?F:[F]})}const P=v[v.length-1];if(P&&P.type==="element"&&P.tagName==="p"){const F=P.children[P.children.length-1];F&&F.type==="text"?F.value+=" ":P.children.push({type:"text",value:" "}),P.children.push(...N)}else v.push(...N);const U={type:"element",tagName:"li",properties:{id:e+"fn-"+E},children:t.wrap(v,!0)};t.patch(p,U),h.push(U)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...kf(u),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(h,!0)},{type:"text",value:`
`}]}}const rd=(function(t){if(t==null)return x6;if(typeof t=="function")return sd(t);if(typeof t=="object")return Array.isArray(t)?g6(t):y6(t);if(typeof t=="string")return v6(t);throw new Error("Expected function, string, or object as test")});function g6(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=rd(t[n]);return sd(r);function r(...a){let o=-1;for(;++o<e.length;)if(e[o].apply(this,a))return!0;return!1}}function y6(t){const e=t;return sd(n);function n(r){const a=r;let o;for(o in t)if(a[o]!==e[o])return!1;return!0}}function v6(t){return sd(e);function e(n){return n&&n.type===t}}function sd(t){return e;function e(n,r,a){return!!(b6(n)&&t.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function x6(){return!0}function b6(t){return t!==null&&typeof t=="object"&&"type"in t}const vS=[],_6=!0,bg=!1,E6="skip";function xS(t,e,n,r){let a;typeof e=="function"&&typeof n!="function"?(r=n,n=e):a=e;const o=rd(a),u=r?-1:1;h(t,void 0,[])();function h(m,p,v){const x=m&&typeof m=="object"?m:{};if(typeof x.type=="string"){const w=typeof x.tagName=="string"?x.tagName:typeof x.name=="string"?x.name:void 0;Object.defineProperty(E,"name",{value:"node ("+(m.type+(w?"<"+w+">":""))+")"})}return E;function E(){let w=vS,N,L,P;if((!e||o(m,p,v[v.length-1]||void 0))&&(w=w6(n(m,v)),w[0]===bg))return w;if("children"in m&&m.children){const U=m;if(U.children&&w[0]!==E6)for(L=(r?U.children.length:-1)+u,P=v.concat(U);L>-1&&L<U.children.length;){const F=U.children[L];if(N=h(F,L,P)(),N[0]===bg)return N;L=typeof N[1]=="number"?N[1]:L+u}}return w}}}function w6(t){return Array.isArray(t)?t:typeof t=="number"?[_6,t]:t==null?vS:[t]}function Vy(t,e,n,r){let a,o,u;typeof e=="function"&&typeof n!="function"?(o=void 0,u=e,a=n):(o=e,u=n,a=r),xS(t,o,h,a);function h(m,p){const v=p[p.length-1],x=v?v.children.indexOf(m):void 0;return u(m,x,v)}}const _g={}.hasOwnProperty,T6={};function S6(t,e){const n=e||T6,r=new Map,a=new Map,o=new Map,u={...o6,...n.handlers},h={all:p,applyData:C6,definitionById:r,footnoteById:a,footnoteCounts:o,footnoteOrder:[],handlers:u,one:m,options:n,patch:A6,wrap:I6};return Vy(t,function(v){if(v.type==="definition"||v.type==="footnoteDefinition"){const x=v.type==="definition"?r:a,E=String(v.identifier).toUpperCase();x.has(E)||x.set(E,v)}}),h;function m(v,x){const E=v.type,w=h.handlers[E];if(_g.call(h.handlers,E)&&w)return w(h,v,x);if(h.options.passThrough&&h.options.passThrough.includes(E)){if("children"in v){const{children:L,...P}=v,U=kf(P);return U.children=h.all(v),U}return kf(v)}return(h.options.unknownHandler||N6)(h,v,x)}function p(v){const x=[];if("children"in v){const E=v.children;let w=-1;for(;++w<E.length;){const N=h.one(E[w],v);if(N){if(w&&E[w-1].type==="break"&&(!Array.isArray(N)&&N.type==="text"&&(N.value=v_(N.value)),!Array.isArray(N)&&N.type==="element")){const L=N.children[0];L&&L.type==="text"&&(L.value=v_(L.value))}Array.isArray(N)?x.push(...N):x.push(N)}}}return x}}function A6(t,e){t.position&&(e.position=m3(t))}function C6(t,e){let n=e;if(t&&t.data){const r=t.data.hName,a=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&o&&Object.assign(n.properties,kf(o)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function N6(t,e){const n=e.data||{},r="value"in e&&!(_g.call(n,"hProperties")||_g.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function I6(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function v_(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function x_(t,e){const n=S6(t,e),r=n.one(t,void 0),a=p6(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&o.children.push({type:"text",value:`
`},a),o}function k6(t,e){return t&&"run"in t?async function(n,r){const a=x_(n,{file:r,...e});await t.run(a,r)}:function(n,r){return x_(n,{file:r,...t||e})}}function b_(t){if(t)throw t}var Sp,__;function R6(){if(__)return Sp;__=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(p){return typeof Array.isArray=="function"?Array.isArray(p):e.call(p)==="[object Array]"},o=function(p){if(!p||e.call(p)!=="[object Object]")return!1;var v=t.call(p,"constructor"),x=p.constructor&&p.constructor.prototype&&t.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!v&&!x)return!1;var E;for(E in p);return typeof E>"u"||t.call(p,E)},u=function(p,v){n&&v.name==="__proto__"?n(p,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):p[v.name]=v.newValue},h=function(p,v){if(v==="__proto__")if(t.call(p,v)){if(r)return r(p,v).value}else return;return p[v]};return Sp=function m(){var p,v,x,E,w,N,L=arguments[0],P=1,U=arguments.length,F=!1;for(typeof L=="boolean"&&(F=L,L=arguments[1]||{},P=2),(L==null||typeof L!="object"&&typeof L!="function")&&(L={});P<U;++P)if(p=arguments[P],p!=null)for(v in p)x=h(L,v),E=h(p,v),L!==E&&(F&&E&&(o(E)||(w=a(E)))?(w?(w=!1,N=x&&a(x)?x:[]):N=x&&o(x)?x:{},u(L,{name:v,newValue:m(F,N,E)})):typeof E<"u"&&u(L,{name:v,newValue:E}));return L},Sp}var D6=R6();const Ap=Cg(D6);function Eg(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function O6(){const t=[],e={run:n,use:r};return e;function n(...a){let o=-1;const u=a.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);h(null,...a);function h(m,...p){const v=t[++o];let x=-1;if(m){u(m);return}for(;++x<a.length;)(p[x]===null||p[x]===void 0)&&(p[x]=a[x]);a=p,v?j6(v,h)(...p):u(null,...p)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),e}}function j6(t,e){let n;return r;function r(...u){const h=t.length>u.length;let m;h&&u.push(a);try{m=t.apply(this,u)}catch(p){const v=p;if(h&&n)throw v;return a(v)}h||(m&&m.then&&typeof m.then=="function"?m.then(o,a):m instanceof Error?a(m):o(m))}function a(u,...h){n||(n=!0,e(u,...h))}function o(u){a(null,u)}}const Ji={basename:M6,dirname:P6,extname:L6,join:V6,sep:"/"};function M6(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');cc(t);let n=0,r=-1,a=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;a--;)if(t.codePointAt(a)===47){if(o){n=a+1;break}}else r<0&&(o=!0,r=a+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let u=-1,h=e.length-1;for(;a--;)if(t.codePointAt(a)===47){if(o){n=a+1;break}}else u<0&&(o=!0,u=a+1),h>-1&&(t.codePointAt(a)===e.codePointAt(h--)?h<0&&(r=a):(h=-1,r=u));return n===r?r=u:r<0&&(r=t.length),t.slice(n,r)}function P6(t){if(cc(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function L6(t){cc(t);let e=t.length,n=-1,r=0,a=-1,o=0,u;for(;e--;){const h=t.codePointAt(e);if(h===47){if(u){r=e+1;break}continue}n<0&&(u=!0,n=e+1),h===46?a<0?a=e:o!==1&&(o=1):a>-1&&(o=-1)}return a<0||n<0||o===0||o===1&&a===n-1&&a===r+1?"":t.slice(a,n)}function V6(...t){let e=-1,n;for(;++e<t.length;)cc(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":z6(n)}function z6(t){cc(t);const e=t.codePointAt(0)===47;let n=U6(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function U6(t,e){let n="",r=0,a=-1,o=0,u=-1,h,m;for(;++u<=t.length;){if(u<t.length)h=t.codePointAt(u);else{if(h===47)break;h=47}if(h===47){if(!(a===u-1||o===1))if(a!==u-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(m=n.lastIndexOf("/"),m!==n.length-1){m<0?(n="",r=0):(n=n.slice(0,m),r=n.length-1-n.lastIndexOf("/")),a=u,o=0;continue}}else if(n.length>0){n="",r=0,a=u,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(a+1,u):n=t.slice(a+1,u),r=u-a-1;a=u,o=0}else h===46&&o>-1?o++:o=-1}return n}function cc(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const B6={cwd:F6};function F6(){return"/"}function wg(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function q6(t){if(typeof t=="string")t=new URL(t);else if(!wg(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return H6(t)}function H6(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(e)}const Cp=["history","path","basename","stem","extname","dirname"];class bS{constructor(e){let n;e?wg(e)?n={path:e}:typeof e=="string"||G6(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":B6.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Cp.length;){const o=Cp[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let a;for(a in n)Cp.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Ji.basename(this.path):void 0}set basename(e){Ip(e,"basename"),Np(e,"basename"),this.path=Ji.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Ji.dirname(this.path):void 0}set dirname(e){E_(this.basename,"dirname"),this.path=Ji.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Ji.extname(this.path):void 0}set extname(e){if(Np(e,"extname"),E_(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ji.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){wg(e)&&(e=q6(e)),Ip(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Ji.basename(this.path,this.extname):void 0}set stem(e){Ip(e,"stem"),Np(e,"stem"),this.path=Ji.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const a=this.message(e,n,r);throw a.fatal=!0,a}info(e,n,r){const a=this.message(e,n,r);return a.fatal=void 0,a}message(e,n,r){const a=new _n(e,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Np(t,e){if(t&&t.includes(Ji.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ji.sep+"`")}function Ip(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function E_(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function G6(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const $6=(function(t){const r=this.constructor.prototype,a=r[t],o=function(){return a.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),Y6={}.hasOwnProperty;class zy extends $6{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=O6()}copy(){const e=new zy;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Ap(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Dp("data",this.frozen),this.namespace[e]=n,this):Y6.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Dp("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(e,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Gh(e),r=this.parser||this.Parser;return kp("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),kp("process",this.parser||this.Parser),Rp("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(o,u){const h=Gh(e),m=r.parse(h);r.run(m,h,function(v,x,E){if(v||!x||!E)return p(v);const w=x,N=r.stringify(w,E);X6(N)?E.value=N:E.result=N,p(v,E)});function p(v,x){v||!x?u(v):o?o(x):n(void 0,x)}}}processSync(e){let n=!1,r;return this.freeze(),kp("processSync",this.parser||this.Parser),Rp("processSync",this.compiler||this.Compiler),this.process(e,a),T_("processSync","process",n),r;function a(o,u){n=!0,b_(o),r=u}}run(e,n,r){w_(e),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(u,h){const m=Gh(n);a.run(e,m,p);function p(v,x,E){const w=x||e;v?h(v):u?u(w):r(void 0,w,E)}}}runSync(e,n){let r=!1,a;return this.run(e,n,o),T_("runSync","run",r),a;function o(u,h){b_(u),a=h,r=!0}}stringify(e,n){this.freeze();const r=Gh(n),a=this.compiler||this.Compiler;return Rp("stringify",a),w_(e),a(e,r)}use(e,...n){const r=this.attachers,a=this.namespace;if(Dp("use",this.frozen),e!=null)if(typeof e=="function")m(e,n);else if(typeof e=="object")Array.isArray(e)?h(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(p){if(typeof p=="function")m(p,[]);else if(typeof p=="object")if(Array.isArray(p)){const[v,...x]=p;m(v,x)}else u(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function u(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(p.plugins),p.settings&&(a.settings=Ap(!0,a.settings,p.settings))}function h(p){let v=-1;if(p!=null)if(Array.isArray(p))for(;++v<p.length;){const x=p[v];o(x)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function m(p,v){let x=-1,E=-1;for(;++x<r.length;)if(r[x][0]===p){E=x;break}if(E===-1)r.push([p,...v]);else if(v.length>0){let[w,...N]=v;const L=r[E][1];Eg(L)&&Eg(w)&&(w=Ap(!0,L,w)),r[E]=[p,w,...N]}}}}const K6=new zy().freeze();function kp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Rp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Dp(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function w_(t){if(!Eg(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function T_(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Gh(t){return Q6(t)?t:new bS(t)}function Q6(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function X6(t){return typeof t=="string"||W6(t)}function W6(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const J6="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",S_=[],A_={allowDangerousHtml:!0},Z6=/^(https?|ircs?|mailto|xmpp)$/i,eP=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function uo(t){const e=tP(t),n=nP(t);return iP(e.runSync(e.parse(n),n),t)}function tP(t){const e=t.rehypePlugins||S_,n=t.remarkPlugins||S_,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...A_}:A_;return K6().use(PM).use(n).use(k6,r).use(e)}function nP(t){const e=t.children||"",n=new bS;return typeof e=="string"&&(n.value=e),n}function iP(t,e){const n=e.allowedElements,r=e.allowElement,a=e.components,o=e.disallowedElements,u=e.skipHtml,h=e.unwrapDisallowed,m=e.urlTransform||rP;for(const v of eP)Object.hasOwn(e,v.from)&&(""+v.from+(v.to?"use `"+v.to+"` instead":"remove it")+J6+v.id,void 0);return Vy(t,p),x3(t,{Fragment:g.Fragment,components:a,ignoreInvalidStyle:!0,jsx:g.jsx,jsxs:g.jsxs,passKeys:!0,passNode:!0});function p(v,x,E){if(v.type==="raw"&&E&&typeof x=="number")return u?E.children.splice(x,1):E.children[x]={type:"text",value:v.value},x;if(v.type==="element"){let w;for(w in Ep)if(Object.hasOwn(Ep,w)&&Object.hasOwn(v.properties,w)){const N=v.properties[w],L=Ep[w];(L===null||L.includes(v.tagName))&&(v.properties[w]=m(String(N||""),w,v))}}if(v.type==="element"){let w=n?!n.includes(v.tagName):o?o.includes(v.tagName):!1;if(!w&&r&&typeof x=="number"&&(w=!r(v,x,E)),w&&E&&typeof x=="number")return h&&v.children?E.children.splice(x,1,...v.children):E.children.splice(x,1),x}}}function rP(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),a=t.indexOf("/");return e===-1||a!==-1&&e>a||n!==-1&&e>n||r!==-1&&e>r||Z6.test(t.slice(0,e))?t:""}function C_(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(e);for(;a!==-1;)r++,a=n.indexOf(e,a+e.length);return r}function sP(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function aP(t,e,n){const a=rd((n||{}).ignore||[]),o=lP(e);let u=-1;for(;++u<o.length;)xS(t,"text",h);function h(p,v){let x=-1,E;for(;++x<v.length;){const w=v[x],N=E?E.children:void 0;if(a(w,N?N.indexOf(w):void 0,E))return;E=w}if(E)return m(p,v)}function m(p,v){const x=v[v.length-1],E=o[u][0],w=o[u][1];let N=0;const P=x.children.indexOf(p);let U=!1,F=[];E.lastIndex=0;let q=E.exec(p.value);for(;q;){const te=q.index,ce={index:q.index,input:q.input,stack:[...v,p]};let G=w(...q,ce);if(typeof G=="string"&&(G=G.length>0?{type:"text",value:G}:void 0),G===!1?E.lastIndex=te+1:(N!==te&&F.push({type:"text",value:p.value.slice(N,te)}),Array.isArray(G)?F.push(...G):G&&F.push(G),N=te+q[0].length,U=!0),!E.global)break;q=E.exec(p.value)}return U?(N<p.value.length&&F.push({type:"text",value:p.value.slice(N)}),x.children.splice(P,1,...F)):F=[p],P+F.length}}function lP(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const a=n[r];e.push([oP(a[0]),uP(a[1])])}return e}function oP(t){return typeof t=="string"?new RegExp(sP(t),"g"):t}function uP(t){return typeof t=="function"?t:function(){return t}}const Op="phrasing",jp=["autolink","link","image","label"];function cP(){return{transforms:[yP],enter:{literalAutolink:fP,literalAutolinkEmail:Mp,literalAutolinkHttp:Mp,literalAutolinkWww:Mp},exit:{literalAutolink:gP,literalAutolinkEmail:pP,literalAutolinkHttp:dP,literalAutolinkWww:mP}}}function hP(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Op,notInConstruct:jp},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Op,notInConstruct:jp},{character:":",before:"[ps]",after:"\\/",inConstruct:Op,notInConstruct:jp}]}}function fP(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Mp(t){this.config.enter.autolinkProtocol.call(this,t)}function dP(t){this.config.exit.autolinkProtocol.call(this,t)}function mP(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function pP(t){this.config.exit.autolinkEmail.call(this,t)}function gP(t){this.exit(t)}function yP(t){aP(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,vP],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),xP]],{ignore:["link","linkReference"]})}function vP(t,e,n,r,a){let o="";if(!_S(a)||(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!bP(n)))return!1;const u=_P(n+r);if(!u[0])return!1;const h={type:"link",title:null,url:o+e+u[0],children:[{type:"text",value:e+u[0]}]};return u[1]?[h,{type:"text",value:u[1]}]:h}function xP(t,e,n,r){return!_S(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function bP(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function _P(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const a=C_(t,"(");let o=C_(t,")");for(;r!==-1&&a>o;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[t,n]}function _S(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||La(n)||td(n))&&(!e||n!==47)}ES.peek=kP;function EP(){this.buffer()}function wP(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function TP(){this.buffer()}function SP(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function AP(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ni(this.sliceSerialize(t)).toLowerCase(),n.label=e}function CP(t){this.exit(t)}function NP(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ni(this.sliceSerialize(t)).toLowerCase(),n.label=e}function IP(t){this.exit(t)}function kP(){return"["}function ES(t,e,n,r){const a=n.createTracker(r);let o=a.move("[^");const u=n.enter("footnoteReference"),h=n.enter("reference");return o+=a.move(n.safe(n.associationId(t),{after:"]",before:o})),h(),u(),o+=a.move("]"),o}function RP(){return{enter:{gfmFootnoteCallString:EP,gfmFootnoteCall:wP,gfmFootnoteDefinitionLabelString:TP,gfmFootnoteDefinition:SP},exit:{gfmFootnoteCallString:AP,gfmFootnoteCall:CP,gfmFootnoteDefinitionLabelString:NP,gfmFootnoteDefinition:IP}}}function DP(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:ES},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,o,u){const h=o.createTracker(u);let m=h.move("[^");const p=o.enter("footnoteDefinition"),v=o.enter("label");return m+=h.move(o.safe(o.associationId(r),{before:m,after:"]"})),v(),m+=h.move("]:"),r.children&&r.children.length>0&&(h.shift(4),m+=h.move((e?`
`:" ")+o.indentLines(o.containerFlow(r,h.current()),e?wS:OP))),p(),m}}function OP(t,e,n){return e===0?t:wS(t,e,n)}function wS(t,e,n){return(n?"":"    ")+t}const jP=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];TS.peek=zP;function MP(){return{canContainEols:["delete"],enter:{strikethrough:LP},exit:{strikethrough:VP}}}function PP(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:jP}],handlers:{delete:TS}}}function LP(t){this.enter({type:"delete",children:[]},t)}function VP(t){this.exit(t)}function TS(t,e,n,r){const a=n.createTracker(r),o=n.enter("strikethrough");let u=a.move("~~");return u+=n.containerPhrasing(t,{...a.current(),before:u,after:"~"}),u+=a.move("~~"),o(),u}function zP(){return"~"}function UP(t){return t.length}function BP(t,e){const n=e||{},r=(n.align||[]).concat(),a=n.stringLength||UP,o=[],u=[],h=[],m=[];let p=0,v=-1;for(;++v<t.length;){const L=[],P=[];let U=-1;for(t[v].length>p&&(p=t[v].length);++U<t[v].length;){const F=FP(t[v][U]);if(n.alignDelimiters!==!1){const q=a(F);P[U]=q,(m[U]===void 0||q>m[U])&&(m[U]=q)}L.push(F)}u[v]=L,h[v]=P}let x=-1;if(typeof r=="object"&&"length"in r)for(;++x<p;)o[x]=N_(r[x]);else{const L=N_(r);for(;++x<p;)o[x]=L}x=-1;const E=[],w=[];for(;++x<p;){const L=o[x];let P="",U="";L===99?(P=":",U=":"):L===108?P=":":L===114&&(U=":");let F=n.alignDelimiters===!1?1:Math.max(1,m[x]-P.length-U.length);const q=P+"-".repeat(F)+U;n.alignDelimiters!==!1&&(F=P.length+F+U.length,F>m[x]&&(m[x]=F),w[x]=F),E[x]=q}u.splice(1,0,E),h.splice(1,0,w),v=-1;const N=[];for(;++v<u.length;){const L=u[v],P=h[v];x=-1;const U=[];for(;++x<p;){const F=L[x]||"";let q="",te="";if(n.alignDelimiters!==!1){const ce=m[x]-(P[x]||0),G=o[x];G===114?q=" ".repeat(ce):G===99?ce%2?(q=" ".repeat(ce/2+.5),te=" ".repeat(ce/2-.5)):(q=" ".repeat(ce/2),te=q):te=" ".repeat(ce)}n.delimiterStart!==!1&&!x&&U.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&F==="")&&(n.delimiterStart!==!1||x)&&U.push(" "),n.alignDelimiters!==!1&&U.push(q),U.push(F),n.alignDelimiters!==!1&&U.push(te),n.padding!==!1&&U.push(" "),(n.delimiterEnd!==!1||x!==p-1)&&U.push("|")}N.push(n.delimiterEnd===!1?U.join("").replace(/ +$/,""):U.join(""))}return N.join(`
`)}function FP(t){return t==null?"":String(t)}function N_(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function qP(t,e,n,r){const a=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const u=n.indentLines(n.containerFlow(t,o.current()),HP);return a(),u}function HP(t,e,n){return">"+(n?"":" ")+t}function GP(t,e){return I_(t,e.inConstruct,!0)&&!I_(t,e.notInConstruct,!1)}function I_(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function k_(t,e,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&GP(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function $P(t,e){const n=String(t);let r=n.indexOf(e),a=r,o=0,u=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++o>u&&(u=o):o=1,a=r+e.length,r=n.indexOf(e,a);return u}function YP(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function KP(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function QP(t,e,n,r){const a=KP(n),o=t.value||"",u=a==="`"?"GraveAccent":"Tilde";if(YP(t,n)){const x=n.enter("codeIndented"),E=n.indentLines(o,XP);return x(),E}const h=n.createTracker(r),m=a.repeat(Math.max($P(o,a)+1,3)),p=n.enter("codeFenced");let v=h.move(m);if(t.lang){const x=n.enter(`codeFencedLang${u}`);v+=h.move(n.safe(t.lang,{before:v,after:" ",encode:["`"],...h.current()})),x()}if(t.lang&&t.meta){const x=n.enter(`codeFencedMeta${u}`);v+=h.move(" "),v+=h.move(n.safe(t.meta,{before:v,after:`
`,encode:["`"],...h.current()})),x()}return v+=h.move(`
`),o&&(v+=h.move(o+`
`)),v+=h.move(m),p(),v}function XP(t,e,n){return(n?"":"    ")+t}function Uy(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function WP(t,e,n,r){const a=Uy(n),o=a==='"'?"Quote":"Apostrophe",u=n.enter("definition");let h=n.enter("label");const m=n.createTracker(r);let p=m.move("[");return p+=m.move(n.safe(n.associationId(t),{before:p,after:"]",...m.current()})),p+=m.move("]: "),h(),!t.url||/[\0- \u007F]/.test(t.url)?(h=n.enter("destinationLiteral"),p+=m.move("<"),p+=m.move(n.safe(t.url,{before:p,after:">",...m.current()})),p+=m.move(">")):(h=n.enter("destinationRaw"),p+=m.move(n.safe(t.url,{before:p,after:t.title?" ":`
`,...m.current()}))),h(),t.title&&(h=n.enter(`title${o}`),p+=m.move(" "+a),p+=m.move(n.safe(t.title,{before:p,after:a,...m.current()})),p+=m.move(a),h()),u(),p}function JP(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Yu(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Rf(t,e,n){const r=Wl(t),a=Wl(e);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}SS.peek=ZP;function SS(t,e,n,r){const a=JP(n),o=n.enter("emphasis"),u=n.createTracker(r),h=u.move(a);let m=u.move(n.containerPhrasing(t,{after:a,before:h,...u.current()}));const p=m.charCodeAt(0),v=Rf(r.before.charCodeAt(r.before.length-1),p,a);v.inside&&(m=Yu(p)+m.slice(1));const x=m.charCodeAt(m.length-1),E=Rf(r.after.charCodeAt(0),x,a);E.inside&&(m=m.slice(0,-1)+Yu(x));const w=u.move(a);return o(),n.attentionEncodeSurroundingInfo={after:E.outside,before:v.outside},h+m+w}function ZP(t,e,n){return n.options.emphasis||"*"}function e9(t,e){let n=!1;return Vy(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,bg}),!!((!t.depth||t.depth<3)&&Ry(t)&&(e.options.setext||n))}function t9(t,e,n,r){const a=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(r);if(e9(t,n)){const v=n.enter("headingSetext"),x=n.enter("phrasing"),E=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return x(),v(),E+`
`+(a===1?"=":"-").repeat(E.length-(Math.max(E.lastIndexOf("\r"),E.lastIndexOf(`
`))+1))}const u="#".repeat(a),h=n.enter("headingAtx"),m=n.enter("phrasing");o.move(u+" ");let p=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(p)&&(p=Yu(p.charCodeAt(0))+p.slice(1)),p=p?u+" "+p:u,n.options.closeAtx&&(p+=" "+u),m(),h(),p}AS.peek=n9;function AS(t){return t.value||""}function n9(){return"<"}CS.peek=i9;function CS(t,e,n,r){const a=Uy(n),o=a==='"'?"Quote":"Apostrophe",u=n.enter("image");let h=n.enter("label");const m=n.createTracker(r);let p=m.move("![");return p+=m.move(n.safe(t.alt,{before:p,after:"]",...m.current()})),p+=m.move("]("),h(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(h=n.enter("destinationLiteral"),p+=m.move("<"),p+=m.move(n.safe(t.url,{before:p,after:">",...m.current()})),p+=m.move(">")):(h=n.enter("destinationRaw"),p+=m.move(n.safe(t.url,{before:p,after:t.title?" ":")",...m.current()}))),h(),t.title&&(h=n.enter(`title${o}`),p+=m.move(" "+a),p+=m.move(n.safe(t.title,{before:p,after:a,...m.current()})),p+=m.move(a),h()),p+=m.move(")"),u(),p}function i9(){return"!"}NS.peek=r9;function NS(t,e,n,r){const a=t.referenceType,o=n.enter("imageReference");let u=n.enter("label");const h=n.createTracker(r);let m=h.move("![");const p=n.safe(t.alt,{before:m,after:"]",...h.current()});m+=h.move(p+"]["),u();const v=n.stack;n.stack=[],u=n.enter("reference");const x=n.safe(n.associationId(t),{before:m,after:"]",...h.current()});return u(),n.stack=v,o(),a==="full"||!p||p!==x?m+=h.move(x+"]"):a==="shortcut"?m=m.slice(0,-1):m+=h.move("]"),m}function r9(){return"!"}IS.peek=s9;function IS(t,e,n){let r=t.value||"",a="`",o=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const u=n.unsafe[o],h=n.compilePattern(u);let m;if(u.atBreak)for(;m=h.exec(r);){let p=m.index;r.charCodeAt(p)===10&&r.charCodeAt(p-1)===13&&p--,r=r.slice(0,p)+" "+r.slice(m.index+1)}}return a+r+a}function s9(){return"`"}function kS(t,e){const n=Ry(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}RS.peek=a9;function RS(t,e,n,r){const a=Uy(n),o=a==='"'?"Quote":"Apostrophe",u=n.createTracker(r);let h,m;if(kS(t,n)){const v=n.stack;n.stack=[],h=n.enter("autolink");let x=u.move("<");return x+=u.move(n.containerPhrasing(t,{before:x,after:">",...u.current()})),x+=u.move(">"),h(),n.stack=v,x}h=n.enter("link"),m=n.enter("label");let p=u.move("[");return p+=u.move(n.containerPhrasing(t,{before:p,after:"](",...u.current()})),p+=u.move("]("),m(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(m=n.enter("destinationLiteral"),p+=u.move("<"),p+=u.move(n.safe(t.url,{before:p,after:">",...u.current()})),p+=u.move(">")):(m=n.enter("destinationRaw"),p+=u.move(n.safe(t.url,{before:p,after:t.title?" ":")",...u.current()}))),m(),t.title&&(m=n.enter(`title${o}`),p+=u.move(" "+a),p+=u.move(n.safe(t.title,{before:p,after:a,...u.current()})),p+=u.move(a),m()),p+=u.move(")"),h(),p}function a9(t,e,n){return kS(t,n)?"<":"["}DS.peek=l9;function DS(t,e,n,r){const a=t.referenceType,o=n.enter("linkReference");let u=n.enter("label");const h=n.createTracker(r);let m=h.move("[");const p=n.containerPhrasing(t,{before:m,after:"]",...h.current()});m+=h.move(p+"]["),u();const v=n.stack;n.stack=[],u=n.enter("reference");const x=n.safe(n.associationId(t),{before:m,after:"]",...h.current()});return u(),n.stack=v,o(),a==="full"||!p||p!==x?m+=h.move(x+"]"):a==="shortcut"?m=m.slice(0,-1):m+=h.move("]"),m}function l9(){return"["}function By(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function o9(t){const e=By(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function u9(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function OS(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function c9(t,e,n,r){const a=n.enter("list"),o=n.bulletCurrent;let u=t.ordered?u9(n):By(n);const h=t.ordered?u==="."?")":".":o9(n);let m=e&&n.bulletLastUsed?u===n.bulletLastUsed:!1;if(!t.ordered){const v=t.children?t.children[0]:void 0;if((u==="*"||u==="-")&&v&&(!v.children||!v.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(m=!0),OS(n)===u&&v){let x=-1;for(;++x<t.children.length;){const E=t.children[x];if(E&&E.type==="listItem"&&E.children&&E.children[0]&&E.children[0].type==="thematicBreak"){m=!0;break}}}}m&&(u=h),n.bulletCurrent=u;const p=n.containerFlow(t,r);return n.bulletLastUsed=u,n.bulletCurrent=o,a(),p}function h9(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function f9(t,e,n,r){const a=h9(n);let o=n.bulletCurrent||By(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let u=o.length+1;(a==="tab"||a==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(u=Math.ceil(u/4)*4);const h=n.createTracker(r);h.move(o+" ".repeat(u-o.length)),h.shift(u);const m=n.enter("listItem"),p=n.indentLines(n.containerFlow(t,h.current()),v);return m(),p;function v(x,E,w){return E?(w?"":" ".repeat(u))+x:(w?o:o+" ".repeat(u-o.length))+x}}function d9(t,e,n,r){const a=n.enter("paragraph"),o=n.enter("phrasing"),u=n.containerPhrasing(t,r);return o(),a(),u}const m9=rd(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function p9(t,e,n,r){return(t.children.some(function(u){return m9(u)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function g9(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}jS.peek=y9;function jS(t,e,n,r){const a=g9(n),o=n.enter("strong"),u=n.createTracker(r),h=u.move(a+a);let m=u.move(n.containerPhrasing(t,{after:a,before:h,...u.current()}));const p=m.charCodeAt(0),v=Rf(r.before.charCodeAt(r.before.length-1),p,a);v.inside&&(m=Yu(p)+m.slice(1));const x=m.charCodeAt(m.length-1),E=Rf(r.after.charCodeAt(0),x,a);E.inside&&(m=m.slice(0,-1)+Yu(x));const w=u.move(a+a);return o(),n.attentionEncodeSurroundingInfo={after:E.outside,before:v.outside},h+m+w}function y9(t,e,n){return n.options.strong||"*"}function v9(t,e,n,r){return n.safe(t.value,r)}function x9(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function b9(t,e,n){const r=(OS(n)+(n.options.ruleSpaces?" ":"")).repeat(x9(n));return n.options.ruleSpaces?r.slice(0,-1):r}const MS={blockquote:qP,break:k_,code:QP,definition:WP,emphasis:SS,hardBreak:k_,heading:t9,html:AS,image:CS,imageReference:NS,inlineCode:IS,link:RS,linkReference:DS,list:c9,listItem:f9,paragraph:d9,root:p9,strong:jS,text:v9,thematicBreak:b9};function _9(){return{enter:{table:E9,tableData:R_,tableHeader:R_,tableRow:T9},exit:{codeText:S9,table:w9,tableData:Pp,tableHeader:Pp,tableRow:Pp}}}function E9(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function w9(t){this.exit(t),this.data.inTable=void 0}function T9(t){this.enter({type:"tableRow",children:[]},t)}function Pp(t){this.exit(t)}function R_(t){this.enter({type:"tableCell",children:[]},t)}function S9(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,A9));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function A9(t,e){return e==="|"?e:t}function C9(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,a=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:E,table:u,tableCell:m,tableRow:h}};function u(w,N,L,P){return p(v(w,L,P),w.align)}function h(w,N,L,P){const U=x(w,L,P),F=p([U]);return F.slice(0,F.indexOf(`
`))}function m(w,N,L,P){const U=L.enter("tableCell"),F=L.enter("phrasing"),q=L.containerPhrasing(w,{...P,before:o,after:o});return F(),U(),q}function p(w,N){return BP(w,{align:N,alignDelimiters:r,padding:n,stringLength:a})}function v(w,N,L){const P=w.children;let U=-1;const F=[],q=N.enter("table");for(;++U<P.length;)F[U]=x(P[U],N,L);return q(),F}function x(w,N,L){const P=w.children;let U=-1;const F=[],q=N.enter("tableRow");for(;++U<P.length;)F[U]=m(P[U],w,N,L);return q(),F}function E(w,N,L){let P=MS.inlineCode(w,N,L);return L.stack.includes("tableCell")&&(P=P.replace(/\|/g,"\\$&")),P}}function N9(){return{exit:{taskListCheckValueChecked:D_,taskListCheckValueUnchecked:D_,paragraph:k9}}}function I9(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:R9}}}function D_(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function k9(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=e.children;let o=-1,u;for(;++o<a.length;){const h=a[o];if(h.type==="paragraph"){u=h;break}}u===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function R9(t,e,n,r){const a=t.children[0],o=typeof t.checked=="boolean"&&a&&a.type==="paragraph",u="["+(t.checked?"x":" ")+"] ",h=n.createTracker(r);o&&h.move(u);let m=MS.listItem(t,e,n,{...r,...h.current()});return o&&(m=m.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,p)),m;function p(v){return v+u}}function D9(){return[cP(),RP(),MP(),_9(),N9()]}function O9(t){return{extensions:[hP(),DP(t),PP(),C9(t),I9()]}}const j9={tokenize:U9,partial:!0},PS={tokenize:B9,partial:!0},LS={tokenize:F9,partial:!0},VS={tokenize:q9,partial:!0},M9={tokenize:H9,partial:!0},zS={name:"wwwAutolink",tokenize:V9,previous:BS},US={name:"protocolAutolink",tokenize:z9,previous:FS},qr={name:"emailAutolink",tokenize:L9,previous:qS},or={};function P9(){return{text:or}}let Sa=48;for(;Sa<123;)or[Sa]=qr,Sa++,Sa===58?Sa=65:Sa===91&&(Sa=97);or[43]=qr;or[45]=qr;or[46]=qr;or[95]=qr;or[72]=[qr,US];or[104]=[qr,US];or[87]=[qr,zS];or[119]=[qr,zS];function L9(t,e,n){const r=this;let a,o;return u;function u(x){return!Tg(x)||!qS.call(r,r.previous)||Fy(r.events)?n(x):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),h(x))}function h(x){return Tg(x)?(t.consume(x),h):x===64?(t.consume(x),m):n(x)}function m(x){return x===46?t.check(M9,v,p)(x):x===45||x===95||xn(x)?(o=!0,t.consume(x),m):v(x)}function p(x){return t.consume(x),a=!0,m}function v(x){return o&&a&&Tn(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(x)):n(x)}}function V9(t,e,n){const r=this;return a;function a(u){return u!==87&&u!==119||!BS.call(r,r.previous)||Fy(r.events)?n(u):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(j9,t.attempt(PS,t.attempt(LS,o),n),n)(u))}function o(u){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(u)}}function z9(t,e,n){const r=this;let a="",o=!1;return u;function u(x){return(x===72||x===104)&&FS.call(r,r.previous)&&!Fy(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),a+=String.fromCodePoint(x),t.consume(x),h):n(x)}function h(x){if(Tn(x)&&a.length<5)return a+=String.fromCodePoint(x),t.consume(x),h;if(x===58){const E=a.toLowerCase();if(E==="http"||E==="https")return t.consume(x),m}return n(x)}function m(x){return x===47?(t.consume(x),o?p:(o=!0,m)):n(x)}function p(x){return x===null||Nf(x)||dt(x)||La(x)||td(x)?n(x):t.attempt(PS,t.attempt(LS,v),n)(x)}function v(x){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(x)}}function U9(t,e,n){let r=0;return a;function a(u){return(u===87||u===119)&&r<3?(r++,t.consume(u),a):u===46&&r===3?(t.consume(u),o):n(u)}function o(u){return u===null?n(u):e(u)}}function B9(t,e,n){let r,a,o;return u;function u(p){return p===46||p===95?t.check(VS,m,h)(p):p===null||dt(p)||La(p)||p!==45&&td(p)?m(p):(o=!0,t.consume(p),u)}function h(p){return p===95?r=!0:(a=r,r=void 0),t.consume(p),u}function m(p){return a||r||!o?n(p):e(p)}}function F9(t,e){let n=0,r=0;return a;function a(u){return u===40?(n++,t.consume(u),a):u===41&&r<n?o(u):u===33||u===34||u===38||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===60||u===63||u===93||u===95||u===126?t.check(VS,e,o)(u):u===null||dt(u)||La(u)?e(u):(t.consume(u),a)}function o(u){return u===41&&r++,t.consume(u),a}}function q9(t,e,n){return r;function r(h){return h===33||h===34||h===39||h===41||h===42||h===44||h===46||h===58||h===59||h===63||h===95||h===126?(t.consume(h),r):h===38?(t.consume(h),o):h===93?(t.consume(h),a):h===60||h===null||dt(h)||La(h)?e(h):n(h)}function a(h){return h===null||h===40||h===91||dt(h)||La(h)?e(h):r(h)}function o(h){return Tn(h)?u(h):n(h)}function u(h){return h===59?(t.consume(h),r):Tn(h)?(t.consume(h),u):n(h)}}function H9(t,e,n){return r;function r(o){return t.consume(o),a}function a(o){return xn(o)?n(o):e(o)}}function BS(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||dt(t)}function FS(t){return!Tn(t)}function qS(t){return!(t===47||Tg(t))}function Tg(t){return t===43||t===45||t===46||t===95||xn(t)}function Fy(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const G9={tokenize:Z9,partial:!0};function $9(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:X9,continuation:{tokenize:W9},exit:J9}},text:{91:{name:"gfmFootnoteCall",tokenize:Q9},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Y9,resolveTo:K9}}}}function Y9(t,e,n){const r=this;let a=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let u;for(;a--;){const m=r.events[a][1];if(m.type==="labelImage"){u=m;break}if(m.type==="gfmFootnoteCall"||m.type==="labelLink"||m.type==="label"||m.type==="image"||m.type==="link")break}return h;function h(m){if(!u||!u._balanced)return n(m);const p=Ni(r.sliceSerialize({start:u.end,end:r.now()}));return p.codePointAt(0)!==94||!o.includes(p.slice(1))?n(m):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),e(m))}}function K9(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},t[t.length-1][1].start)},u={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},h=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",a,e],["exit",a,e],["enter",o,e],["enter",u,e],["exit",u,e],["exit",o,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...h),t}function Q9(t,e,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,u;return h;function h(x){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(x),t.exit("gfmFootnoteCallLabelMarker"),m}function m(x){return x!==94?n(x):(t.enter("gfmFootnoteCallMarker"),t.consume(x),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",p)}function p(x){if(o>999||x===93&&!u||x===null||x===91||dt(x))return n(x);if(x===93){t.exit("chunkString");const E=t.exit("gfmFootnoteCallString");return a.includes(Ni(r.sliceSerialize(E)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(x),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(x)}return dt(x)||(u=!0),o++,t.consume(x),x===92?v:p}function v(x){return x===91||x===92||x===93?(t.consume(x),o++,p):p(x)}}function X9(t,e,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,u=0,h;return m;function m(N){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(N),t.exit("gfmFootnoteDefinitionLabelMarker"),p}function p(N){return N===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(N),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",v):n(N)}function v(N){if(u>999||N===93&&!h||N===null||N===91||dt(N))return n(N);if(N===93){t.exit("chunkString");const L=t.exit("gfmFootnoteDefinitionLabelString");return o=Ni(r.sliceSerialize(L)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(N),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),E}return dt(N)||(h=!0),u++,t.consume(N),N===92?x:v}function x(N){return N===91||N===92||N===93?(t.consume(N),u++,v):v(N)}function E(N){return N===58?(t.enter("definitionMarker"),t.consume(N),t.exit("definitionMarker"),a.includes(o)||a.push(o),Qe(t,w,"gfmFootnoteDefinitionWhitespace")):n(N)}function w(N){return e(N)}}function W9(t,e,n){return t.check(uc,e,t.attempt(G9,e,n))}function J9(t){t.exit("gfmFootnoteDefinition")}function Z9(t,e,n){const r=this;return Qe(t,a,"gfmFootnoteDefinitionIndent",5);function a(o){const u=r.events[r.events.length-1];return u&&u[1].type==="gfmFootnoteDefinitionIndent"&&u[2].sliceSerialize(u[1],!0).length===4?e(o):n(o)}}function eL(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:a};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function a(u,h){let m=-1;for(;++m<u.length;)if(u[m][0]==="enter"&&u[m][1].type==="strikethroughSequenceTemporary"&&u[m][1]._close){let p=m;for(;p--;)if(u[p][0]==="exit"&&u[p][1].type==="strikethroughSequenceTemporary"&&u[p][1]._open&&u[m][1].end.offset-u[m][1].start.offset===u[p][1].end.offset-u[p][1].start.offset){u[m][1].type="strikethroughSequence",u[p][1].type="strikethroughSequence";const v={type:"strikethrough",start:Object.assign({},u[p][1].start),end:Object.assign({},u[m][1].end)},x={type:"strikethroughText",start:Object.assign({},u[p][1].end),end:Object.assign({},u[m][1].start)},E=[["enter",v,h],["enter",u[p][1],h],["exit",u[p][1],h],["enter",x,h]],w=h.parser.constructs.insideSpan.null;w&&Kn(E,E.length,0,nd(w,u.slice(p+1,m),h)),Kn(E,E.length,0,[["exit",x,h],["enter",u[m][1],h],["exit",u[m][1],h],["exit",v,h]]),Kn(u,p-1,m-p+3,E),m=p+E.length-2;break}}for(m=-1;++m<u.length;)u[m][1].type==="strikethroughSequenceTemporary"&&(u[m][1].type="data");return u}function o(u,h,m){const p=this.previous,v=this.events;let x=0;return E;function E(N){return p===126&&v[v.length-1][1].type!=="characterEscape"?m(N):(u.enter("strikethroughSequenceTemporary"),w(N))}function w(N){const L=Wl(p);if(N===126)return x>1?m(N):(u.consume(N),x++,w);if(x<2&&!n)return m(N);const P=u.exit("strikethroughSequenceTemporary"),U=Wl(N);return P._open=!U||U===2&&!!L,P._close=!L||L===2&&!!U,h(N)}}}class tL{constructor(){this.map=[]}add(e,n,r){nL(this,e,n,r)}consume(e){if(this.map.sort(function(o,u){return o[0]-u[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let a=r.pop();for(;a;){for(const o of a)e.push(o);a=r.pop()}this.map.length=0}}function nL(t,e,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<t.map.length;){if(t.map[a][0]===e){t.map[a][1]+=n,t.map[a][2].push(...r);return}a+=1}t.map.push([e,n,r])}}function iL(t,e){let n=!1;const r=[];for(;e<t.length;){const a=t[e];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function rL(){return{flow:{null:{name:"table",tokenize:sL,resolveAll:aL}}}}function sL(t,e,n){const r=this;let a=0,o=0,u;return h;function h(A){let C=r.events.length-1;for(;C>-1;){const ue=r.events[C][1].type;if(ue==="lineEnding"||ue==="linePrefix")C--;else break}const D=C>-1?r.events[C][1].type:null,R=D==="tableHead"||D==="tableRow"?G:m;return R===G&&r.parser.lazy[r.now().line]?n(A):R(A)}function m(A){return t.enter("tableHead"),t.enter("tableRow"),p(A)}function p(A){return A===124||(u=!0,o+=1),v(A)}function v(A){return A===null?n(A):Ee(A)?o>1?(o=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),w):n(A):Ue(A)?Qe(t,v,"whitespace")(A):(o+=1,u&&(u=!1,a+=1),A===124?(t.enter("tableCellDivider"),t.consume(A),t.exit("tableCellDivider"),u=!0,v):(t.enter("data"),x(A)))}function x(A){return A===null||A===124||dt(A)?(t.exit("data"),v(A)):(t.consume(A),A===92?E:x)}function E(A){return A===92||A===124?(t.consume(A),x):x(A)}function w(A){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(A):(t.enter("tableDelimiterRow"),u=!1,Ue(A)?Qe(t,N,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):N(A))}function N(A){return A===45||A===58?P(A):A===124?(u=!0,t.enter("tableCellDivider"),t.consume(A),t.exit("tableCellDivider"),L):ce(A)}function L(A){return Ue(A)?Qe(t,P,"whitespace")(A):P(A)}function P(A){return A===58?(o+=1,u=!0,t.enter("tableDelimiterMarker"),t.consume(A),t.exit("tableDelimiterMarker"),U):A===45?(o+=1,U(A)):A===null||Ee(A)?te(A):ce(A)}function U(A){return A===45?(t.enter("tableDelimiterFiller"),F(A)):ce(A)}function F(A){return A===45?(t.consume(A),F):A===58?(u=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(A),t.exit("tableDelimiterMarker"),q):(t.exit("tableDelimiterFiller"),q(A))}function q(A){return Ue(A)?Qe(t,te,"whitespace")(A):te(A)}function te(A){return A===124?N(A):A===null||Ee(A)?!u||a!==o?ce(A):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(A)):ce(A)}function ce(A){return n(A)}function G(A){return t.enter("tableRow"),M(A)}function M(A){return A===124?(t.enter("tableCellDivider"),t.consume(A),t.exit("tableCellDivider"),M):A===null||Ee(A)?(t.exit("tableRow"),e(A)):Ue(A)?Qe(t,M,"whitespace")(A):(t.enter("data"),k(A))}function k(A){return A===null||A===124||dt(A)?(t.exit("data"),M(A)):(t.consume(A),A===92?O:k)}function O(A){return A===92||A===124?(t.consume(A),k):k(A)}}function aL(t,e){let n=-1,r=!0,a=0,o=[0,0,0,0],u=[0,0,0,0],h=!1,m=0,p,v,x;const E=new tL;for(;++n<t.length;){const w=t[n],N=w[1];w[0]==="enter"?N.type==="tableHead"?(h=!1,m!==0&&(O_(E,e,m,p,v),v=void 0,m=0),p={type:"table",start:Object.assign({},N.start),end:Object.assign({},N.end)},E.add(n,0,[["enter",p,e]])):N.type==="tableRow"||N.type==="tableDelimiterRow"?(r=!0,x=void 0,o=[0,0,0,0],u=[0,n+1,0,0],h&&(h=!1,v={type:"tableBody",start:Object.assign({},N.start),end:Object.assign({},N.end)},E.add(n,0,[["enter",v,e]])),a=N.type==="tableDelimiterRow"?2:v?3:1):a&&(N.type==="data"||N.type==="tableDelimiterMarker"||N.type==="tableDelimiterFiller")?(r=!1,u[2]===0&&(o[1]!==0&&(u[0]=u[1],x=$h(E,e,o,a,void 0,x),o=[0,0,0,0]),u[2]=n)):N.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(u[0]=u[1],x=$h(E,e,o,a,void 0,x)),o=u,u=[o[1],n,0,0])):N.type==="tableHead"?(h=!0,m=n):N.type==="tableRow"||N.type==="tableDelimiterRow"?(m=n,o[1]!==0?(u[0]=u[1],x=$h(E,e,o,a,n,x)):u[1]!==0&&(x=$h(E,e,u,a,n,x)),a=0):a&&(N.type==="data"||N.type==="tableDelimiterMarker"||N.type==="tableDelimiterFiller")&&(u[3]=n)}for(m!==0&&O_(E,e,m,p,v),E.consume(e.events),n=-1;++n<e.events.length;){const w=e.events[n];w[0]==="enter"&&w[1].type==="table"&&(w[1]._align=iL(e.events,n))}return t}function $h(t,e,n,r,a,o){const u=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",h="tableContent";n[0]!==0&&(o.end=Object.assign({},Ll(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const m=Ll(e.events,n[1]);if(o={type:u,start:Object.assign({},m),end:Object.assign({},m)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const p=Ll(e.events,n[2]),v=Ll(e.events,n[3]),x={type:h,start:Object.assign({},p),end:Object.assign({},v)};if(t.add(n[2],0,[["enter",x,e]]),r!==2){const E=e.events[n[2]],w=e.events[n[3]];if(E[1].end=Object.assign({},w[1].end),E[1].type="chunkText",E[1].contentType="text",n[3]>n[2]+1){const N=n[2]+1,L=n[3]-n[2]-1;t.add(N,L,[])}}t.add(n[3]+1,0,[["exit",x,e]])}return a!==void 0&&(o.end=Object.assign({},Ll(e.events,a)),t.add(a,0,[["exit",o,e]]),o=void 0),o}function O_(t,e,n,r,a){const o=[],u=Ll(e.events,n);a&&(a.end=Object.assign({},u),o.push(["exit",a,e])),r.end=Object.assign({},u),o.push(["exit",r,e]),t.add(n+1,0,o)}function Ll(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const lL={name:"tasklistCheck",tokenize:uL};function oL(){return{text:{91:lL}}}function uL(t,e,n){const r=this;return a;function a(m){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(m):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(m),t.exit("taskListCheckMarker"),o)}function o(m){return dt(m)?(t.enter("taskListCheckValueUnchecked"),t.consume(m),t.exit("taskListCheckValueUnchecked"),u):m===88||m===120?(t.enter("taskListCheckValueChecked"),t.consume(m),t.exit("taskListCheckValueChecked"),u):n(m)}function u(m){return m===93?(t.enter("taskListCheckMarker"),t.consume(m),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),h):n(m)}function h(m){return Ee(m)?e(m):Ue(m)?t.check({tokenize:cL},e,n)(m):n(m)}}function cL(t,e,n){return Qe(t,r,"whitespace");function r(a){return a===null?n(a):e(a)}}function hL(t){return eS([P9(),$9(),eL(t),rL(),oL()])}const fL={};function co(t){const e=this,n=t||fL,r=e.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),u=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(hL(n)),o.push(D9()),u.push(O9(n))}const ad=["Public Forum (PF)","Lincoln-Douglas (LD)","Policy Debate (CX)","Big Questions Debate","World Schools Debate","Congressional Debate","Original Oratory (OO)","Informative Speaking (INFO)","United States Extemp (USX)","International Extemp (IX)","Dramatic Interpretation (DI)","Humorous Interpretation (HI)","Duo Interpretation","Program Oral Interpretation (POI)","Impromptu","Extemporaneous Commentary","Expository","Storytelling","Prose/Poetry","Parliamentary (British)","Parliamentary (Asian)","Model UN Speech","After Dinner Speaking","Toast/Ceremonial"],HS=["Proposition/Affirmative","Opposition/Negative","Government","Opposition","Pro","Con","Opening Member","Closing Member/Whip","Sponsor (Congress)","Individual/Solo","Neutral/Evaluator"],ke={DEBATE:"debate",INDIVIDUAL_SPEAKING:"individual",INTERP:"interp",EXTEMP:"extemp",LIMITED_PREP:"limited_prep"},Jl={"Public Forum (PF)":ke.DEBATE,"Lincoln-Douglas (LD)":ke.DEBATE,"Policy Debate (CX)":ke.DEBATE,"Big Questions Debate":ke.DEBATE,"World Schools Debate":ke.DEBATE,"Congressional Debate":ke.DEBATE,"Parliamentary (British)":ke.DEBATE,"Parliamentary (Asian)":ke.DEBATE,"Original Oratory (OO)":ke.INDIVIDUAL_SPEAKING,"Informative Speaking (INFO)":ke.INDIVIDUAL_SPEAKING,Expository:ke.INDIVIDUAL_SPEAKING,"After Dinner Speaking":ke.INDIVIDUAL_SPEAKING,"Toast/Ceremonial":ke.INDIVIDUAL_SPEAKING,"Model UN Speech":ke.INDIVIDUAL_SPEAKING,"Dramatic Interpretation (DI)":ke.INTERP,"Humorous Interpretation (HI)":ke.INTERP,"Duo Interpretation":ke.INTERP,"Program Oral Interpretation (POI)":ke.INTERP,"Prose/Poetry":ke.INTERP,Storytelling:ke.INTERP,"United States Extemp (USX)":ke.EXTEMP,"International Extemp (IX)":ke.EXTEMP,"Extemporaneous Commentary":ke.EXTEMP,Impromptu:ke.LIMITED_PREP},dL={[ke.DEBATE]:{name:"Debate",description:"Competitive debate formats with opposing sides",showOpposingArguments:!0,showClash:!0,showRebuttals:!0,showCrossEx:!0,rubric:`
## Debate Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Argumentation & Evidence** | 30% | Quality of arguments, evidence strength, logical warrants |
| **Clash & Engagement** | 25% | Direct responses to opponent, refutation quality |
| **Impact Analysis** | 20% | Magnitude, probability, timeframe of impacts |
| **Strategy & Organization** | 15% | Speech structure, time allocation, flow |
| **Delivery** | 10% | Clarity, persuasion, pace (speed okay if clear) |
    `,focusAreas:["Arguments for your position","Responses to opposing arguments","Evidence quality and sources","Impact calculus","Clash and refutation","Cross-examination presence"]},[ke.INDIVIDUAL_SPEAKING]:{name:"Individual Speaking",description:"Platform speaking events focused on original content",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Individual Speaking Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Content & Research** | 30% | Depth of information, accuracy, relevance |
| **Organization** | 25% | Structure, transitions, logical flow |
| **Delivery** | 25% | Vocal variety, eye contact, gestures, presence |
| **Analysis & Insight** | 15% | Original thought, depth of understanding |
| **Impact & Memorability** | 5% | Audience engagement, lasting impression |
    `,focusAreas:["Content clarity and accuracy","Speech organization and structure","Vocal delivery and variety","Physical presence and gestures","Audience engagement","Use of evidence and examples"]},[ke.INTERP]:{name:"Interpretation",description:"Performance events with scripted or literary material",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Interpretation Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Characterization** | 30% | Distinct, consistent, believable characters |
| **Emotional Range** | 25% | Depth of emotion, appropriate intensity |
| **Technical Skill** | 20% | Blocking, pops, timing, focus |
| **Material Selection** | 15% | Quality of cutting, thematic unity |
| **Overall Impact** | 10% | Audience connection, memorability |
    `,focusAreas:["Character development and distinction","Emotional authenticity","Physical performance (blocking, gestures)","Vocal variety and character voices","Timing and pacing","Thematic development"]},[ke.EXTEMP]:{name:"Extemporaneous Speaking",description:"Current events analysis with limited prep time",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Extemporaneous Speaking Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Analysis Depth** | 30% | Quality of reasoning, insight into topic |
| **Evidence & Sources** | 25% | Citation quality, recency, variety |
| **Organization** | 20% | Clear structure, strong transitions |
| **Answering the Question** | 15% | Directly addresses the prompt |
| **Delivery** | 10% | Conversational, engaging, minimal notes |
    `,focusAreas:["Direct answer to the question","Analysis depth and insight","Evidence and source citations","Current events knowledge","Logical organization","Conversational delivery"]},[ke.LIMITED_PREP]:{name:"Limited Preparation",description:"Impromptu speaking with minimal prep time",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Impromptu Speaking Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Quick Thinking** | 30% | Ability to form coherent thoughts rapidly |
| **Relevance** | 25% | Staying on topic, addressing the prompt |
| **Organization** | 20% | Clear structure despite limited prep |
| **Creativity** | 15% | Original examples, unique perspectives |
| **Delivery** | 10% | Confident, fluid despite improvisation |
    `,focusAreas:["Response relevance to prompt","Quick organization of thoughts","Creative examples and analogies","Confident delivery","Time management","Coherent structure"]}},GS=t=>{const e=Jl[t]||ke.INDIVIDUAL_SPEAKING;return dL[e]},Sg=t=>Jl[t]===ke.DEBATE?["Proposition/Affirmative","Opposition/Negative","Government","Opposition","Pro","Con","Opening Member","Closing Member/Whip","Sponsor (Congress)"]:["Individual/Solo","Neutral/Evaluator"],j_=(t,e,n,r)=>{const a=GS(t),o=Jl[t];let u=`You are an expert ${t} coach and judge with years of experience evaluating this specific event type.`;return e&&(u+=`
Topic/Prompt: ${e}`),a.showOpposingArguments&&n&&(u+=`
Side/Position: ${n}`),u+=`

Evaluate the following speech based on this event-specific rubric:
${a.rubric}`,o===ke.DEBATE?u+=`

### DEBATE-SPECIFIC ANALYSIS:
- Analyze the strength and clarity of each argument presented
- Identify potential opposing arguments and how well they were preempted or addressed
- Evaluate evidence quality and proper citation
- Assess impact calculus (magnitude, probability, timeframe)
- Note clash quality and direct engagement with opposing points
- Consider cross-examination strategy if applicable`:o===ke.INDIVIDUAL_SPEAKING?u+=`

### INDIVIDUAL SPEAKING-SPECIFIC ANALYSIS:
- Focus on content clarity and information accuracy
- Do NOT analyze opposing arguments (this is not a debate event)
- Evaluate speech organization and flow
- Assess delivery techniques (vocal variety, gestures, eye contact)
- Consider audience engagement and persuasive techniques
- NOTE: Do not penalize for missing visual aids or props (text-only evaluation)`:o===ke.INTERP?u+=`

### INTERPRETATION-SPECIFIC ANALYSIS:
- Evaluate character development and distinction between characters
- Assess emotional authenticity and range
- Analyze physical performance elements described
- Consider pacing and timing
- Note thematic development and material selection quality
- Do NOT analyze arguments or debate elements (this is a performance event)`:o===ke.EXTEMP?u+=`

### EXTEMP-SPECIFIC ANALYSIS:
- Evaluate how directly the question/prompt is answered
- Assess depth of analysis on current events
- Check quality and recency of evidence cited
- Consider organization and structure
- Note delivery style (should be conversational, not memorized)
- Do NOT analyze debate clash (this is not a debate event)`:o===ke.LIMITED_PREP&&(u+=`

### IMPROMPTU-SPECIFIC ANALYSIS:
- Evaluate quick thinking and coherent thought formation
- Assess relevance to the prompt given
- Consider organization despite limited preparation time
- Note creative examples and unique perspectives
- Evaluate confidence and delivery fluidity
- Be understanding of minor hesitations given the time constraints`),u+=`

Please provide the output in the following Markdown format:

## Executive Summary
(Brief 2-3 sentence overview of overall performance)

## Scorecard
| Category | Score (0-10) | Notes |
| --- | --- | --- |
(Fill based on the rubric above)
| **Total** | **(Average/Sum)** | |

## Key ${o===ke.DEBATE?"Argument":"Content"} Analysis
(Detailed breakdown of main points made)
${a.showOpposingArguments?`
## Opposing Arguments & Clash
(Analysis of responses to opponent arguments and missed clash opportunities)`:""}

## Constructive Feedback
- **Strengths**: ...
- **Areas for Improvement**: ...

## Recommended Drills
(3-5 specific exercises to improve weak areas, tailored to this event type)

## Quick Tips for Next Round
(2-3 actionable items for immediate improvement)

SPEECH TEXT:
${r}`,u},M_={[ke.DEBATE]:{label:"Debate Events",icon:"",color:"text-red-400"},[ke.INDIVIDUAL_SPEAKING]:{label:"Individual Speaking",icon:"",color:"text-blue-400"},[ke.INTERP]:{label:"Interpretation",icon:"",color:"text-purple-400"},[ke.EXTEMP]:{label:"Extemporaneous",icon:"",color:"text-green-400"},[ke.LIMITED_PREP]:{label:"Limited Prep",icon:"",color:"text-yellow-400"}};var P_;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(P_||(P_={}));var L_;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(L_||(L_={}));var V_;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(V_||(V_={}));const z_=["user","model","function","system"];var U_;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(U_||(U_={}));var B_;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(B_||(B_={}));var F_;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(F_||(F_={}));var q_;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(q_||(q_={}));var ju;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(ju||(ju={}));var H_;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(H_||(H_={}));var G_;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(G_||(G_={}));var $_;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})($_||($_={}));class vn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Dl extends vn{constructor(e,n){super(e),this.response=n}}class $S extends vn{constructor(e,n,r,a){super(e),this.status=n,this.statusText=r,this.errorDetails=a}}class Ls extends vn{}class YS extends vn{}const mL="https://generativelanguage.googleapis.com",pL="v1beta",gL="0.24.1",yL="genai-js";var Va;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Va||(Va={}));class vL{constructor(e,n,r,a,o){this.model=e,this.task=n,this.apiKey=r,this.stream=a,this.requestOptions=o}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||pL;let o=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||mL}/${r}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}}function xL(t){const e=[];return t?.apiClient&&e.push(t.apiClient),e.push(`${yL}/${gL}`),e.join(" ")}async function bL(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",xL(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(a){throw new Ls(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${a.message}`)}for(const[a,o]of r.entries()){if(a==="x-goog-api-key")throw new Ls(`Cannot set reserved header name ${a}`);if(a==="x-goog-api-client")throw new Ls(`Header name ${a} can only be set using the apiClient field`);n.append(a,o)}}return n}async function _L(t,e,n,r,a,o){const u=new vL(t,e,n,r,o);return{url:u.toString(),fetchOptions:Object.assign(Object.assign({},SL(o)),{method:"POST",headers:await bL(u),body:a})}}async function hc(t,e,n,r,a,o={},u=fetch){const{url:h,fetchOptions:m}=await _L(t,e,n,r,a,o);return EL(h,m,u)}async function EL(t,e,n=fetch){let r;try{r=await n(t,e)}catch(a){wL(a,t)}return r.ok||await TL(r,t),r}function wL(t,e){let n=t;throw n.name==="AbortError"?(n=new YS(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof $S||t instanceof Ls||(n=new vn(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function TL(t,e){let n="",r;try{const a=await t.json();n=a.error.message,a.error.details&&(n+=` ${JSON.stringify(a.error.details)}`,r=a.error.details)}catch{}throw new $S(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function SL(t){const e={};if(t?.signal!==void 0||t?.timeout>=0){const n=new AbortController;t?.timeout>=0&&setTimeout(()=>n.abort(),t.timeout),t?.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}function qy(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),sf(t.candidates[0]))throw new Dl(`${Cs(t)}`,t);return AL(t)}else if(t.promptFeedback)throw new Dl(`Text not available. ${Cs(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),sf(t.candidates[0]))throw new Dl(`${Cs(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Y_(t)[0]}else if(t.promptFeedback)throw new Dl(`Function call not available. ${Cs(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),sf(t.candidates[0]))throw new Dl(`${Cs(t)}`,t);return Y_(t)}else if(t.promptFeedback)throw new Dl(`Function call not available. ${Cs(t)}`,t)},t}function AL(t){var e,n,r,a;const o=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const u of(a=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||a===void 0?void 0:a.parts)u.text&&o.push(u.text),u.executableCode&&o.push("\n```"+u.executableCode.language+`
`+u.executableCode.code+"\n```\n"),u.codeExecutionResult&&o.push("\n```\n"+u.codeExecutionResult.output+"\n```\n");return o.length>0?o.join(""):""}function Y_(t){var e,n,r,a;const o=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const u of(a=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||a===void 0?void 0:a.parts)u.functionCall&&o.push(u.functionCall);if(o.length>0)return o}const CL=[ju.RECITATION,ju.SAFETY,ju.LANGUAGE];function sf(t){return!!t.finishReason&&CL.includes(t.finishReason)}function Cs(t){var e,n,r;let a="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)a+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(a+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(a+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const o=t.candidates[0];sf(o)&&(a+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(a+=`: ${o.finishMessage}`))}return a}function Ku(t){return this instanceof Ku?(this.v=t,this):new Ku(t)}function NL(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),a,o=[];return a={},u("next"),u("throw"),u("return"),a[Symbol.asyncIterator]=function(){return this},a;function u(E){r[E]&&(a[E]=function(w){return new Promise(function(N,L){o.push([E,w,N,L])>1||h(E,w)})})}function h(E,w){try{m(r[E](w))}catch(N){x(o[0][3],N)}}function m(E){E.value instanceof Ku?Promise.resolve(E.value.v).then(p,v):x(o[0][2],E)}function p(E){h("next",E)}function v(E){h("throw",E)}function x(E,w){E(w),o.shift(),o.length&&h(o[0][0],o[0][1])}}const K_=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function IL(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=DL(e),[r,a]=n.tee();return{stream:RL(r),response:kL(a)}}async function kL(t){const e=[],n=t.getReader();for(;;){const{done:r,value:a}=await n.read();if(r)return qy(OL(e));e.push(a)}}function RL(t){return NL(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:a}=yield Ku(n.read());if(a)break;yield yield Ku(qy(r))}})}function DL(t){const e=t.getReader();return new ReadableStream({start(r){let a="";return o();function o(){return e.read().then(({value:u,done:h})=>{if(h){if(a.trim()){r.error(new vn("Failed to parse stream"));return}r.close();return}a+=u;let m=a.match(K_),p;for(;m;){try{p=JSON.parse(m[1])}catch{r.error(new vn(`Error parsing JSON response: "${m[1]}"`));return}r.enqueue(p),a=a.substring(m[0].length),m=a.match(K_)}return o()}).catch(u=>{let h=u;throw h.stack=u.stack,h.name==="AbortError"?h=new YS("Request aborted when reading from the stream"):h=new vn("Error reading from the stream"),h})}}})}function OL(t){const e=t[t.length-1],n={promptFeedback:e?.promptFeedback};for(const r of t){if(r.candidates){let a=0;for(const o of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[a]||(n.candidates[a]={index:a}),n.candidates[a].citationMetadata=o.citationMetadata,n.candidates[a].groundingMetadata=o.groundingMetadata,n.candidates[a].finishReason=o.finishReason,n.candidates[a].finishMessage=o.finishMessage,n.candidates[a].safetyRatings=o.safetyRatings,o.content&&o.content.parts){n.candidates[a].content||(n.candidates[a].content={role:o.content.role||"user",parts:[]});const u={};for(const h of o.content.parts)h.text&&(u.text=h.text),h.functionCall&&(u.functionCall=h.functionCall),h.executableCode&&(u.executableCode=h.executableCode),h.codeExecutionResult&&(u.codeExecutionResult=h.codeExecutionResult),Object.keys(u).length===0&&(u.text=""),n.candidates[a].content.parts.push(u)}a++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}async function KS(t,e,n,r){const a=await hc(e,Va.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return IL(a)}async function QS(t,e,n,r){const o=await(await hc(e,Va.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:qy(o)}}function XS(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Qu(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return jL(e)}function jL(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,a=!1;for(const o of t)"functionResponse"in o?(n.parts.push(o),a=!0):(e.parts.push(o),r=!0);if(r&&a)throw new vn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!a)throw new vn("No content is provided for sending chat message.");return r?e:n}function ML(t,e){var n;let r={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(n=e?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const a=t.generateContentRequest!=null;if(t.contents){if(a)throw new Ls("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(a)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const o=Qu(t);r.contents=[o]}return{generateContentRequest:r}}function Q_(t){let e;return t.contents?e=t:e={contents:[Qu(t)]},t.systemInstruction&&(e.systemInstruction=XS(t.systemInstruction)),e}function PL(t){return typeof t=="string"||Array.isArray(t)?{content:Qu(t)}:t}const X_=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],LL={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function VL(t){let e=!1;for(const n of t){const{role:r,parts:a}=n;if(!e&&r!=="user")throw new vn(`First content should be with role 'user', got ${r}`);if(!z_.includes(r))throw new vn(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(z_)}`);if(!Array.isArray(a))throw new vn("Content should have 'parts' property with an array of Parts");if(a.length===0)throw new vn("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const h of a)for(const m of X_)m in h&&(o[m]+=1);const u=LL[r];for(const h of X_)if(!u.includes(h)&&o[h]>0)throw new vn(`Content with role '${r}' can't contain '${h}' part`);e=!0}}function W_(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}const J_="SILENT_ERROR";class zL{constructor(e,n,r,a={}){this.model=n,this.params=r,this._requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r?.history&&(VL(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,a,o,u,h,m;await this._sendPromise;const p=Qu(e),v={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(u=this.params)===null||u===void 0?void 0:u.toolConfig,systemInstruction:(h=this.params)===null||h===void 0?void 0:h.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,p]},x=Object.assign(Object.assign({},this._requestOptions),n);let E;return this._sendPromise=this._sendPromise.then(()=>QS(this._apiKey,this.model,v,x)).then(w=>{var N;if(W_(w.response)){this._history.push(p);const L=Object.assign({parts:[],role:"model"},(N=w.response.candidates)===null||N===void 0?void 0:N[0].content);this._history.push(L)}else{const L=Cs(w.response);L&&console.warn(`sendMessage() was unsuccessful. ${L}. Inspect response object for details.`)}E=w}).catch(w=>{throw this._sendPromise=Promise.resolve(),w}),await this._sendPromise,E}async sendMessageStream(e,n={}){var r,a,o,u,h,m;await this._sendPromise;const p=Qu(e),v={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(u=this.params)===null||u===void 0?void 0:u.toolConfig,systemInstruction:(h=this.params)===null||h===void 0?void 0:h.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,p]},x=Object.assign(Object.assign({},this._requestOptions),n),E=KS(this._apiKey,this.model,v,x);return this._sendPromise=this._sendPromise.then(()=>E).catch(w=>{throw new Error(J_)}).then(w=>w.response).then(w=>{if(W_(w)){this._history.push(p);const N=Object.assign({},w.candidates[0].content);N.role||(N.role="model"),this._history.push(N)}else{const N=Cs(w);N&&console.warn(`sendMessageStream() was unsuccessful. ${N}. Inspect response object for details.`)}}).catch(w=>{w.message!==J_&&console.error(w)}),E}}async function UL(t,e,n,r){return(await hc(e,Va.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}async function BL(t,e,n,r){return(await hc(e,Va.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function FL(t,e,n,r){const a=n.requests.map(u=>Object.assign(Object.assign({},u),{model:e}));return(await hc(e,Va.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:a}),r)).json()}class Z_{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=XS(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const a=Q_(e),o=Object.assign(Object.assign({},this._requestOptions),n);return QS(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},a),o)}async generateContentStream(e,n={}){var r;const a=Q_(e),o=Object.assign(Object.assign({},this._requestOptions),n);return KS(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},a),o)}startChat(e){var n;return new zL(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=ML(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),a=Object.assign(Object.assign({},this._requestOptions),n);return UL(this.apiKey,this.model,r,a)}async embedContent(e,n={}){const r=PL(e),a=Object.assign(Object.assign({},this._requestOptions),n);return BL(this.apiKey,this.model,r,a)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return FL(this.apiKey,this.model,e,r)}}class zr{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new vn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Z_(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new Ls("Cached content must contain a `name` field.");if(!e.model)throw new Ls("Cached content must contain a `model` field.");const a=["model","systemInstruction"];for(const u of a)if(n?.[u]&&e[u]&&n?.[u]!==e[u]){if(u==="model"){const h=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,m=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(h===m)continue}throw new Ls(`Different value for "${u}" specified in modelParams (${n[u]}) and cachedContent (${e[u]})`)}const o=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new Z_(this.apiKey,o,r)}}function WS(t){return new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function qL(t){const e=new Date(t),r=new Date-e,a=Math.floor(r/6e4),o=Math.floor(r/36e5),u=Math.floor(r/864e5);return a<1?"Just now":a<60?`${a}m ago`:o<24?`${o}h ago`:u<7?`${u}d ago`:WS(t)}function HL(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}const eE={get:(t,e=null)=>{try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch{return e}},set:(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(n){console.error("Storage error:",n)}},remove:t=>{try{localStorage.removeItem(t)}catch(e){console.error("Storage error:",e)}}},tE="adjudicator_history",nE=50;function Fa(){const[t,e]=ee.useState([]),[n,r]=ee.useState(!0);ee.useEffect(()=>{const w=eE.get(tE,[]);e(w),r(!1)},[]),ee.useEffect(()=>{n||eE.set(tE,t)},[t,n]);const a=ee.useCallback(w=>{const N={id:HL(),createdAt:new Date().toISOString(),...w};return e(L=>[N,...L].slice(0,nE)),N.id},[]),o=ee.useCallback(w=>{e(N=>N.filter(L=>L.id!==w))},[]),u=ee.useCallback(()=>{e([])},[]),h=ee.useCallback(w=>t.find(N=>N.id===w),[t]),m=ee.useCallback(w=>t.filter(N=>N.type===w),[t]),p=ee.useCallback((w,N)=>{e(L=>L.map(P=>P.id===w?{...P,...N,updatedAt:new Date().toISOString()}:P))},[]),v=ee.useCallback(()=>{const w=JSON.stringify(t,null,2),N=new Blob([w],{type:"application/json"}),L=URL.createObjectURL(N),P=document.createElement("a");P.href=L,P.download=`adjudicator-history-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(L)},[t]),x=ee.useCallback(async w=>{try{const N=await w.text(),L=JSON.parse(N);return Array.isArray(L)?(e(P=>{const U=new Set(P.map(q=>q.id));return[...L.filter(q=>!U.has(q.id)),...P].slice(0,nE)}),{success:!0,count:L.length}):{success:!1,error:"Invalid format"}}catch(N){return{success:!1,error:N.message}}},[]),E={total:t.length,byType:{judge:t.filter(w=>w.type==="judge").length,board:t.filter(w=>w.type==="board").length,coach:t.filter(w=>w.type==="coach").length,strategy:t.filter(w=>w.type==="strategy").length,extemp:t.filter(w=>w.type==="extemp").length,tone:t.filter(w=>w.type==="tone").length},lastSession:t[0]||null};return{history:t,isLoading:n,stats:E,addSession:a,deleteSession:o,clearHistory:u,getSession:h,getSessionsByType:m,updateSession:p,exportHistory:v,importHistory:x}}const GL=({apiKey:t})=>{const[e,n]=ee.useState("Public Forum (PF)"),[r,a]=ee.useState("Proposition/Affirmative"),[o,u]=ee.useState(""),[h,m]=ee.useState(""),[p,v]=ee.useState(!1),[x,E]=ee.useState(null),[w,N]=ee.useState(""),[L,P]=ee.useState(!1),[U,F]=ee.useState(!1),{addSession:q}=Fa(),te=ee.useMemo(()=>GS(e),[e]),ce=ee.useMemo(()=>Sg(e),[e]),G=Jl[e],M=M_[G],k=D=>{n(D);const R=Sg(D);R.includes(r)||a(R[0])},O=async()=>{if(!t){N("Please enter a valid Gemini API Key in Settings.");return}if(!h.trim()){N("Please enter the speech transcript.");return}v(!0),N(""),E(null);try{const R=new zr(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),ue=j_(e,o,r,h),le=(await(await R.generateContent(ue)).response).text();E(le),q({type:"judge",title:o||`${e} Analysis`,input:{transcript:h.substring(0,500)+(h.length>500?"...":"")},result:le,metadata:{speechType:e,side:te.showOpposingArguments?r:null,topic:o,eventCategory:G}}),F(!0),setTimeout(()=>F(!1),2e3)}catch(D){console.error("Gemini Error:",D);try{const ue=new zr(t).getGenerativeModel({model:"gemini-1.5-flash"}),ae=j_(e,o,r,h),me=(await(await ue.generateContent(ae)).response).text();E(me)}catch{N(`Error: ${D.message}. Please try again.`)}}finally{v(!1)}},A=()=>{x&&(navigator.clipboard.writeText(x),P(!0),setTimeout(()=>P(!1),2e3))},C=ee.useMemo(()=>{const D={};return ad.forEach(R=>{const ue=Jl[R];D[ue]||(D[ue]=[]),D[ue].push(R)}),D},[]);return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Speech Analysis"}),g.jsx("p",{className:"text-slate-400 mt-1",children:"Get AI-powered feedback on your speeches"})]}),M&&g.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-slate-900/50 border border-slate-800/60",children:[g.jsx("span",{className:"text-lg",children:M.icon}),g.jsx("span",{className:`text-sm font-medium ${M.color}`,children:M.label})]})]}),g.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[g.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[g.jsxs("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Event Format"}),g.jsx("select",{value:e,onChange:D=>k(D.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all",children:Object.entries(C).map(([D,R])=>{const ue=M_[D];return g.jsx("optgroup",{label:`${ue?.icon||""} ${ue?.label||D}`,children:R.map(ae=>g.jsx("option",{value:ae,children:ae},ae))},D)})})]}),te.showOpposingArguments?g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Side/Position"}),g.jsx("select",{value:r,onChange:D=>a(D.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all",children:ce.map(D=>g.jsx("option",{value:D,children:D},D))})]}):g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Speaker Role"}),g.jsx("select",{value:r,onChange:D=>a(D.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all",children:ce.map(D=>g.jsx("option",{value:D,children:D},D))})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:te.showOpposingArguments?"Resolution/Topic":"Speech Topic/Prompt"}),g.jsx("input",{type:"text",value:o,onChange:D=>u(D.target.value),placeholder:te.showOpposingArguments?"Resolved: The United States should...":"Enter the topic or prompt...",className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all"})]}),g.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/30",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[g.jsx(Ig,{className:"w-4 h-4 text-cyan-400"}),g.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Analysis Focus Areas"})]}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[te.focusAreas.slice(0,4).map((D,R)=>g.jsx("span",{className:"px-3 py-1.5 text-xs font-medium bg-slate-900/50 text-slate-400 rounded-lg border border-slate-700/50",children:D},R)),te.focusAreas.length>4&&g.jsxs("span",{className:"px-3 py-1.5 text-xs text-slate-500",children:["+",te.focusAreas.length-4," more"]})]})]})]}),g.jsxs("div",{className:"flex-1 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[g.jsx("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50",children:g.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Speech Transcript"})}),g.jsx("textarea",{value:h,onChange:D=>m(D.target.value),placeholder:"Paste your speech text here...",className:"flex-1 w-full bg-transparent p-4 resize-none focus:outline-none font-mono text-sm text-slate-200 placeholder-slate-600 min-h-[200px]"}),g.jsxs("div",{className:"p-4 border-t border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[g.jsxs("span",{className:"text-xs text-slate-500 font-medium",children:[h.length.toLocaleString()," characters"]}),g.jsxs("button",{onClick:O,disabled:p,className:"px-6 py-2.5 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-semibold shadow-lg shadow-cyan-500/25 hover:shadow-cyan-500/40 hover:scale-[1.02] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center gap-2",children:[p?g.jsx(Gs,{className:"w-4 h-4 animate-spin"}):g.jsx(kg,{className:"w-4 h-4"}),p?"Analyzing...":"Analyze Speech"]})]})]}),w&&g.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 text-red-400",children:[g.jsx(Or,{className:"w-5 h-5 flex-shrink-0"}),g.jsx("span",{className:"text-sm",children:w})]})]}),g.jsxs("div",{className:"w-full lg:w-1/2 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[g.jsxs("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[g.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[g.jsx(ql,{className:"w-5 h-5 text-cyan-400"}),te.name," Evaluation"]}),x&&g.jsxs("div",{className:"flex items-center gap-3",children:[U&&g.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1 font-medium",children:[g.jsx(jr,{className:"w-3 h-3"})," Saved"]}),g.jsx("button",{onClick:A,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Copy to clipboard",children:L?g.jsx(Vs,{className:"w-4 h-4 text-emerald-500"}):g.jsx(Zl,{className:"w-4 h-4"})})]})]}),g.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:x?g.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-cyan-400 prose-headings:font-semibold prose-a:text-cyan-400 prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-3 prose-td:p-3 prose-th:bg-slate-800/50 prose-th:text-left",children:g.jsx(uo,{remarkPlugins:[co],children:x})}):g.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 py-16",children:[g.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-3xl",children:M?.icon||""})}),g.jsxs("p",{className:"text-center max-w-xs",children:["Ready to evaluate your ",te.name.toLowerCase()," speech.",g.jsx("br",{}),g.jsx("span",{className:"text-sm text-slate-600",children:"Enter your speech and click Analyze."})]})]})})]})]})]})},$L=({apiKey:t})=>{const[e,n]=ee.useState("Public Forum (PF)"),[r,a]=ee.useState("Proposition/Affirmative"),[o,u]=ee.useState(""),[h,m]=ee.useState(""),[p,v]=ee.useState([]),[x,E]=ee.useState(!1),[w,N]=ee.useState(null),[L,P]=ee.useState(""),[U,F]=ee.useState(!1),[q,te]=ee.useState(!1),ce=ee.useRef(null),{addSession:G}=Fa(),M=C=>{const D=Array.from(C.target.files);D.length!==0&&(D.forEach(R=>{if(R.size>4*1024*1024){P(ae=>(ae?`${ae} `:"")+`Skipped ${R.name} (too large).`);return}const ue=new FileReader;ue.onloadend=()=>{const ae=ue.result.split(",")[1];v(K=>[...K,{id:Math.random().toString(36).substr(2,9),url:ue.result,raw:ae,mimeType:R.type,name:R.name}])},ue.readAsDataURL(R)}),ce.current&&(ce.current.value=""))},k=C=>{v(D=>D.filter(R=>R.id!==C))},O=async()=>{if(!t){P("Please enter a valid Gemini API Key in Settings.");return}if(p.length===0&&!h.trim()){P("Please upload images of the board or provide a description.");return}E(!0),P(""),N(null);try{const D=new zr(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),R=`
        Expert Debate Coach (Flowing). Evaluate board/flow. 
        Context: ${e}, ${r}, Topic: ${o}. 
        Assess Organization, Grouping, Legibility, Suggestions. 
        User Notes: ${h}. 
        
        Please provide the output in the following Markdown format:
        ## Executive Summary
        (Brief overview)

        ## Scorecard
        | Category | Score (0-10) | Notes |
        | --- | --- | --- |
        | Organization | | |
        | Grouping | | |
        | Legibility | | |
        | Strategy | | |
        | **Total** | **(Sum)** | |

        ## Detailed Feedback
        ...
      `,ue=p.map(me=>({inlineData:{data:me.raw,mimeType:me.mimeType}})),le=(await(await D.generateContent([R,...ue])).response).text();N(le),G({type:"board",title:o||"Board Evaluation",input:{imageCount:p.length,description:h.substring(0,200)},result:le,metadata:{speechType:e,side:r,topic:o}}),te(!0),setTimeout(()=>te(!1),2e3)}catch(C){console.error("Gemini Error:",C);try{const R=new zr(t).getGenerativeModel({model:"gemini-1.5-flash"}),ue="... (same prompt) ...";P(`Error: ${C.message}. Please try again.`)}catch{P(`Error: ${C.message}`)}}finally{E(!1)}},A=()=>{w&&(navigator.clipboard.writeText(w),F(!0),setTimeout(()=>F(!1),2e3))};return g.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-[calc(100vh-8rem)]",children:[g.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[g.jsxs("div",{className:"glass-card space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Format"}),g.jsx("select",{value:e,onChange:C=>n(C.target.value),className:"input-field",children:ad.map(C=>g.jsx("option",{value:C,children:C},C))})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Side"}),g.jsx("select",{value:r,onChange:C=>a(C.target.value),className:"input-field",children:HS.map(C=>g.jsx("option",{value:C,children:C},C))})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Topic"}),g.jsx("input",{type:"text",value:o,onChange:C=>u(C.target.value),placeholder:"Resolved: The United States should...",className:"input-field"})]})]}),g.jsxs("div",{className:"flex-1 glass-card flex flex-col p-0 overflow-hidden",children:[g.jsx("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50",children:g.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Board Images & Notes"})}),g.jsxs("div",{className:"flex-1 p-4 overflow-y-auto custom-scrollbar space-y-4",children:[p.length>0&&g.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:p.map(C=>g.jsxs("div",{className:"relative group aspect-video bg-slate-800 rounded-lg overflow-hidden border border-slate-700",children:[g.jsx("img",{src:C.url,alt:"Board",className:"w-full h-full object-cover"}),g.jsx("button",{onClick:()=>k(C.id),className:"absolute top-1 right-1 p-1 bg-red-500/80 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:g.jsx(sN,{className:"w-3 h-3"})})]},C.id))}),g.jsxs("div",{onClick:()=>ce.current?.click(),className:"border-2 border-dashed border-slate-700 rounded-xl p-8 flex flex-col items-center justify-center text-slate-500 hover:border-primary hover:text-primary hover:bg-primary/5 transition-all cursor-pointer",children:[g.jsx(pE,{className:"w-8 h-8 mb-2"}),g.jsx("span",{className:"text-sm font-medium",children:"Click to upload images"}),g.jsx("span",{className:"text-xs opacity-70",children:"Max 4MB per file"}),g.jsx("input",{type:"file",ref:ce,onChange:M,multiple:!0,accept:"image/*",className:"hidden"})]}),g.jsx("textarea",{value:h,onChange:C=>m(C.target.value),placeholder:"Add any specific notes or questions about the flow...",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg p-3 text-sm text-text-primary focus:outline-none focus:border-primary resize-none h-24"})]}),g.jsxs("div",{className:"p-4 border-t border-slate-700/50 bg-slate-900/50 flex justify-between items-center",children:[g.jsxs("span",{className:"text-xs text-text-muted",children:[p.length," images"]}),g.jsxs("button",{onClick:O,disabled:x,className:"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[x?g.jsx(Gs,{className:"w-4 h-4 animate-spin"}):g.jsx(kg,{className:"w-4 h-4"}),x?"Analyzing...":"Evaluate Board"]})]})]}),L&&g.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-2 text-red-400 text-sm",children:[g.jsx(Or,{className:"w-4 h-4"}),L]})]}),g.jsxs("div",{className:"w-full lg:w-1/2 glass-card overflow-hidden flex flex-col p-0",children:[g.jsxs("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50 flex justify-between items-center",children:[g.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[g.jsx(Up,{className:"w-4 h-4 text-primary"}),"Evaluation"]}),w&&g.jsxs("div",{className:"flex items-center gap-2",children:[q&&g.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1",children:[g.jsx(jr,{className:"w-3 h-3"})," Saved"]}),g.jsx("button",{onClick:A,className:"text-text-secondary hover:text-white transition-colors",title:"Copy to clipboard",children:U?g.jsx(Vs,{className:"w-4 h-4 text-green-500"}):g.jsx(Zl,{className:"w-4 h-4"})})]})]}),g.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:w?g.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-cyan-400 prose-a:text-accent prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-2 prose-td:p-2 prose-th:bg-slate-800/50",children:g.jsx(uo,{remarkPlugins:[co],children:w})}):g.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-text-muted opacity-50",children:[g.jsx(Up,{className:"w-16 h-16 mb-4"}),g.jsx("p",{children:"Upload board images and click Evaluate."})]})})]})]})},YL=({analyser:t,isRecording:e})=>{const n=ee.useRef(null);return ee.useEffect(()=>{if(!t||!e||!n.current)return;const r=n.current,a=r.getContext("2d"),o=t.frequencyBinCount,u=new Uint8Array(o);let h;const m=()=>{h=requestAnimationFrame(m),t.getByteFrequencyData(u),a.clearRect(0,0,r.width,r.height);const p=r.width/o*2.5;let v,x=0;for(let E=0;E<o;E++){v=u[E]/2;const w=a.createLinearGradient(0,r.height,0,0);w.addColorStop(0,"#06b6d4"),w.addColorStop(1,"#8b5cf6"),a.fillStyle=w,a.fillRect(x,r.height-v,p,v),x+=p+1}};return m(),()=>cancelAnimationFrame(h)},[t,e]),e?g.jsx("canvas",{ref:n,width:300,height:100,className:"w-full h-24 rounded-lg bg-slate-900/50"}):g.jsx("div",{className:"w-full h-24 bg-slate-900/50 rounded-lg flex items-center justify-center text-slate-700 text-xs",children:"Visualizer Ready"})},KL=({analyser:t,isRecording:e})=>{const[n,r]=ee.useState({volume:0,brightness:0}),[a,o]=ee.useState({label:"Ready",color:"text-slate-500"}),u=ee.useRef({volume:0,brightness:0});return ee.useEffect(()=>{if(!t||!e)return;const h=t.frequencyBinCount,m=new Uint8Array(h),p=new Uint8Array(t.fftSize);let v;const x=()=>{t.getByteFrequencyData(m),t.getByteTimeDomainData(p);let E=0;for(let te=0;te<p.length;te++){const ce=(p[te]-128)/128;E+=ce*ce}const w=Math.sqrt(E/p.length);let N=0,L=0;for(let te=0;te<h;te++)N+=te*m[te],L+=m[te];const P=L===0?0:N/L/h,U=.15;u.current.volume=u.current.volume*(1-U)+w*U,u.current.brightness=u.current.brightness*(1-U)+P*U;const{volume:F,brightness:q}=u.current;r({volume:F,brightness:q}),F<.01?o({label:"Listening...",color:"text-slate-500"}):F<.05?o({label:"Too Quiet",color:"text-amber-500"}):F>.6?o({label:"Too Loud",color:"text-red-500"}):q>.5?o({label:"Urgent / Intense",color:"text-orange-500"}):q<.2?o({label:"Serious",color:"text-indigo-500"}):o({label:"Balanced",color:"text-green-500"}),v=requestAnimationFrame(x)};return x(),()=>cancelAnimationFrame(v)},[t,e]),e?g.jsxs("div",{className:"flex flex-col items-center space-y-2 mt-4 animate-in fade-in",children:[g.jsx("div",{className:`text-lg font-bold ${a.color} transition-colors duration-300`,children:a.label}),g.jsxs("div",{className:"flex space-x-4 text-xs text-slate-400",children:[g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx("div",{className:"h-16 w-4 bg-slate-800 rounded-full overflow-hidden relative",children:g.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-cyan-500 transition-all duration-100",style:{height:`${Math.min(n.volume*200,100)}%`}})}),g.jsx("span",{className:"mt-1",children:"Vol"})]}),g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx("div",{className:"h-16 w-4 bg-slate-800 rounded-full overflow-hidden relative",children:g.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-purple-500 transition-all duration-100",style:{height:`${Math.min(n.brightness*300,100)}%`}})}),g.jsx("span",{className:"mt-1",children:"Tone"})]})]})]}):null},QL=({apiKey:t})=>{const[e,n]=ee.useState("Public Forum (PF)"),[r,a]=ee.useState("Proposition/Affirmative"),[o,u]=ee.useState(""),[h,m]=ee.useState(!1),[p,v]=ee.useState(0),[x,E]=ee.useState(null),[w,N]=ee.useState(null),[L,P]=ee.useState(null),[U,F]=ee.useState(!1),[q,te]=ee.useState(null),[ce,G]=ee.useState(""),[M,k]=ee.useState(!1),[O,A]=ee.useState(!1),{addSession:C}=Fa(),D=ee.useRef(null),R=ee.useRef(null),ue=ee.useRef([]),ae=ee.useRef(null),K=ee.useRef(null),le=j=>{const Ie=Math.floor(j/60),tt=j%60;return`${Ie}:${tt<10?"0":""}${tt}`},me=async()=>{G("");try{const j=await navigator.mediaDevices.getUserMedia({audio:!0});K.current=j;const Ie=new(window.AudioContext||window.webkitAudioContext),tt=Ie.createAnalyser();Ie.createMediaStreamSource(j).connect(tt),tt.fftSize=256,ae.current=Ie,P(tt),D.current=new MediaRecorder(j),ue.current=[],D.current.ondataavailable=vt=>{vt.data.size>0&&ue.current.push(vt.data)},D.current.onstop=()=>{const vt=new Blob(ue.current,{type:"audio/webm"});E(vt);const At=new FileReader;At.readAsDataURL(vt),At.onloadend=()=>{const _t=At.result.split(",")[1];N({raw:_t,mimeType:vt.type})},K.current&&K.current.getTracks().forEach(_t=>_t.stop()),ae.current&&(ae.current.close(),ae.current=null,P(null))},D.current.start(),m(!0),v(0),N(null),E(null),te(null),R.current=setInterval(()=>v(vt=>vt+1),1e3)}catch(j){G("Could not access microphone. Ensure permissions are granted."),console.error(j)}},Re=()=>{D.current&&h&&(D.current.stop(),m(!1),clearInterval(R.current))},V=()=>{N(null),E(null),v(0),te(null),G("")},We=async()=>{if(!t){G("Please enter a valid Gemini API Key in Settings.");return}if(!w){G("Please record audio first.");return}F(!0),G(""),te(null);try{const Ie=new zr(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),tt=`
        Expert Speech Coach. Listen to audio. 
        Context: ${e}, ${r}, Topic: ${o}. 
        Evaluate: 
        1. Vocal Delivery (Pace, Tone, Fluency, Emotion). 
        2. Content (Clarity, Persuasion). 
        3. Score (0-100).
        
        Please provide the output in the following Markdown format:
        ## Executive Summary
        (Brief overview)

        ## Scorecard
        | Category | Score (0-10) | Notes |
        | --- | --- | --- |
        | Vocal Delivery | | |
        | Content | | |
        | Persuasion | | |
        | **Total** | **(Sum)** | |

        ## Detailed Feedback
        ...
      `,Xe={inlineData:{data:w.raw,mimeType:w.mimeType}},_t=(await(await Ie.generateContent([tt,Xe])).response).text();te(_t),C({type:"coach",title:o||"Live Coaching Session",input:{duration:le(p)},result:_t,metadata:{speechType:e,side:r,topic:o,recordingDuration:p}}),A(!0),setTimeout(()=>A(!1),2e3)}catch(j){console.error("Gemini Error:",j),G(`Error: ${j.message}. Please try again.`)}finally{F(!1)}},Le=()=>{q&&(navigator.clipboard.writeText(q),k(!0),setTimeout(()=>k(!1),2e3))};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Live Coaching"}),g.jsx("p",{className:"text-slate-400 mt-1",children:"Record and analyze your speech in real-time"})]}),g.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[g.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[g.jsxs("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Format"}),g.jsx("select",{value:e,onChange:j=>n(j.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all",children:ad.map(j=>g.jsx("option",{value:j,children:j},j))})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Side"}),g.jsx("select",{value:r,onChange:j=>a(j.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all",children:HS.map(j=>g.jsx("option",{value:j,children:j},j))})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Topic"}),g.jsx("input",{type:"text",value:o,onChange:j=>u(j.target.value),placeholder:"Topic or Resolution...",className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all"})]})]}),g.jsxs("div",{className:"flex-1 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[g.jsx("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50",children:g.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Live Recording"})}),g.jsxs("div",{className:"flex-1 p-8 flex flex-col items-center justify-center space-y-8",children:[g.jsx("div",{className:`text-6xl font-mono font-bold tracking-tighter ${h?"text-red-500 animate-pulse":"text-white"}`,children:le(p)}),g.jsxs("div",{className:"w-full max-w-md",children:[g.jsx(YL,{analyser:L,isRecording:h}),g.jsx(KL,{analyser:L,isRecording:h})]}),g.jsx("div",{className:"flex items-center gap-4",children:h?g.jsx("button",{onClick:Re,className:"w-20 h-20 rounded-full bg-slate-700 hover:bg-slate-600 flex items-center justify-center shadow-lg transition-all hover:scale-110 active:scale-95",children:g.jsx(HC,{className:"w-6 h-6 text-white fill-current"})}):g.jsx("button",{onClick:me,className:"w-20 h-20 rounded-full bg-gradient-to-br from-red-500 to-red-600 hover:from-red-400 hover:to-red-500 flex items-center justify-center shadow-lg shadow-red-500/30 transition-all hover:scale-110 active:scale-95",children:g.jsx(lf,{className:"w-8 h-8 text-white"})})}),x&&!h&&g.jsxs("div",{className:"flex items-center gap-4 animate-in fade-in",children:[g.jsx("audio",{controls:!0,src:URL.createObjectURL(x),className:"h-12 rounded-xl"}),g.jsx("button",{onClick:V,className:"p-3 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:g.jsx(PC,{className:"w-5 h-5"})})]})]}),g.jsxs("div",{className:"p-4 border-t border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[g.jsx("span",{className:"text-xs text-slate-500 font-medium",children:x?"Audio recorded":"Ready to record"}),g.jsxs("button",{onClick:We,disabled:U||!w,className:"px-6 py-2.5 rounded-xl bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold shadow-lg shadow-purple-500/25 hover:shadow-purple-500/40 hover:scale-[1.02] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center gap-2",children:[U?g.jsx(Gs,{className:"w-4 h-4 animate-spin"}):g.jsx(Vp,{className:"w-4 h-4"}),U?"Analyzing...":"Analyze Audio"]})]})]}),ce&&g.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 text-red-400",children:[g.jsx(Or,{className:"w-5 h-5 flex-shrink-0"}),g.jsx("span",{className:"text-sm",children:ce})]})]}),g.jsxs("div",{className:"w-full lg:w-1/2 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[g.jsxs("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[g.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[g.jsx(Vp,{className:"w-5 h-5 text-purple-400"}),"Coaching Feedback"]}),q&&g.jsxs("div",{className:"flex items-center gap-3",children:[O&&g.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1 font-medium",children:[g.jsx(jr,{className:"w-3 h-3"})," Saved"]}),g.jsx("button",{onClick:Le,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Copy to clipboard",children:M?g.jsx(Vs,{className:"w-4 h-4 text-emerald-500"}):g.jsx(Zl,{className:"w-4 h-4"})})]})]}),g.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:q?g.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-purple-400 prose-headings:font-semibold prose-a:text-purple-400 prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-3 prose-td:p-3 prose-th:bg-slate-800/50 prose-th:text-left",children:g.jsx(uo,{remarkPlugins:[co],children:q})}):g.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 py-16",children:[g.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:g.jsx(lf,{className:"w-8 h-8"})}),g.jsx("p",{className:"text-center max-w-xs",children:"Record your speech and click Analyze to get AI coaching feedback."})]})})]})]})]})},XL=({apiKey:t})=>{const[e,n]=ee.useState("DX"),[r,a]=ee.useState("Medium"),[o,u]=ee.useState(""),[h,m]=ee.useState(!1),[p,v]=ee.useState(""),[x,E]=ee.useState(!1),[w,N]=ee.useState(!1),{addSession:L}=Fa(),P=async()=>{if(!t){v("Please enter a valid Gemini API Key in Settings.");return}m(!0),u(""),v("");try{const q=new zr(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),te=`Generate a single ${r} difficulty Extemporaneous Speaking question for the category ${e==="DX"?"United States Domestic Extemp (DX)":"International Extemp (NX)"}. The question should be current, relevant to 2024-2025 events, and formatted as a question. Do not include any other text.`,k=(await(await q.generateContent(te)).response).text().trim().replace(/^"|"$/g,"");u(k),L({type:"extemp",title:`${e} Question - ${r}`,input:{question:k},result:k,metadata:{category:e,difficulty:r}}),N(!0),setTimeout(()=>N(!1),2e3)}catch(F){console.error("Gemini Error:",F);try{const te=new zr(t).getGenerativeModel({model:"gemini-1.5-flash"});v(`Error: ${F.message}. Please try again.`)}catch{v(`Error: ${F.message}`)}}finally{m(!1)}},U=()=>{o&&(navigator.clipboard.writeText(o),E(!0),setTimeout(()=>E(!1),2e3))};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Extemp Generator"}),g.jsx("p",{className:"text-slate-400 mt-1",children:"Generate practice questions for extemporaneous speaking"})]}),g.jsx("div",{className:"max-w-2xl mx-auto",children:g.jsxs("div",{className:"p-8 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm space-y-8",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Category"}),g.jsxs("div",{className:"flex bg-slate-900/50 rounded-xl p-1 border border-slate-800",children:[g.jsx("button",{onClick:()=>n("DX"),className:`px-5 py-2.5 rounded-lg text-sm font-medium transition-all ${e==="DX"?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:"Domestic (DX)"}),g.jsx("button",{onClick:()=>n("NX"),className:`px-5 py-2.5 rounded-lg text-sm font-medium transition-all ${e==="NX"?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:"International (NX)"})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Difficulty Level"}),g.jsx("div",{className:"grid grid-cols-3 gap-4",children:["Easy","Medium","Hard"].map(F=>g.jsx("button",{onClick:()=>a(F),className:`py-4 rounded-xl border transition-all font-medium ${r===F?"bg-cyan-500/10 border-cyan-500/30 text-cyan-400 shadow-lg shadow-cyan-500/10":"bg-slate-900/30 border-slate-800 text-slate-400 hover:border-slate-700 hover:bg-slate-800/50"}`,children:F},F))})]}),g.jsxs("button",{onClick:P,disabled:h,className:"w-full py-4 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white text-lg font-semibold shadow-lg shadow-cyan-500/25 hover:shadow-cyan-500/40 hover:scale-[1.01] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center gap-3",children:[h?g.jsx(Gs,{className:"w-6 h-6 animate-spin"}):g.jsx(jC,{className:"w-6 h-6"}),h?"Generating Question...":"Generate New Question"]}),p&&g.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 text-red-400",children:[g.jsx(Or,{className:"w-5 h-5 flex-shrink-0"}),g.jsx("span",{className:"text-sm",children:p})]}),o&&g.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4",children:g.jsxs("div",{className:"bg-slate-900/80 border border-slate-700 rounded-2xl p-8 relative group",children:[g.jsxs("p",{className:"text-xl md:text-2xl font-serif text-center text-white leading-relaxed",children:['"',o,'"']}),g.jsx("button",{onClick:U,className:"absolute top-4 right-4 p-2.5 text-slate-400 hover:text-white bg-slate-800/50 hover:bg-slate-700 rounded-xl transition-all opacity-0 group-hover:opacity-100",title:"Copy to clipboard",children:x?g.jsx(Vs,{className:"w-5 h-5 text-emerald-500"}):g.jsx(Zl,{className:"w-5 h-5"})}),w&&g.jsxs("span",{className:"absolute top-4 left-4 text-xs text-emerald-400 flex items-center gap-1 bg-emerald-500/10 px-3 py-1.5 rounded-lg font-medium",children:[g.jsx(jr,{className:"w-3 h-3"})," Saved to history"]})]})})]})})]})},WL=({apiKey:t})=>{const e=ee.useMemo(()=>ad.filter(C=>Jl[C]===ke.DEBATE),[]),[n,r]=ee.useState(e[0]||"Public Forum (PF)"),[a,o]=ee.useState("Proposition/Affirmative"),[u,h]=ee.useState(""),[m,p]=ee.useState(""),[v,x]=ee.useState("comprehensive"),[E,w]=ee.useState(!1),[N,L]=ee.useState(null),[P,U]=ee.useState(""),[F,q]=ee.useState(!1),[te,ce]=ee.useState(!1),{addSession:G}=Fa(),M=ee.useMemo(()=>Sg(n),[n]),k=[{id:"comprehensive",label:"Full Strategy",icon:Mu,description:"Complete debate strategy with arguments, rebuttals, and flow"},{id:"arguments",label:"Argument Builder",icon:Of,description:"Focus on constructing strong arguments"},{id:"rebuttals",label:"Rebuttal Prep",icon:dE,description:"Anticipate and counter opponent arguments"},{id:"crossfire",label:"Cross-Ex Prep",icon:YC,description:"Strategic questions and responses"}],O=async()=>{if(!t){U("Please enter a valid Gemini API Key in Settings.");return}if(!u.trim()){U("Please enter the debate topic or resolution.");return}w(!0),U(""),L(null);try{const D=new zr(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),R={comprehensive:`You are an expert Debate Coach preparing a student for a ${n} debate.

**Topic/Resolution:** ${u}
**Side:** ${a}
${m?`**Additional Context:** ${m}`:""}

Generate a COMPREHENSIVE DEBATE STRATEGY. Include:

##  Strategic Overview
A brief (2-3 sentence) overview of the best approach for this position.

##  Core Framework
The central theme/value/criterion that should anchor all arguments.

##  Main Arguments (3-4)
For each argument provide:
### Argument 1: [Compelling Title]
- **Claim**: The main assertion (1 sentence)
- **Warrant**: The logical reasoning (2-3 sentences)
- **Impact**: Why this matters - include magnitude, timeframe, probability
- **Evidence Needed**: Specific types of sources/data to find
- **Tag Line**: A memorable 5-7 word summary

##  Anticipated Opponent Arguments
For the top 3 likely opponent arguments:
### Counter to: [Their Argument]
- **Their likely claim**: What they'll say
- **Your response strategy**: How to refute it
- **Turn potential**: Can you flip this to your advantage?

##  Cross-Examination Strategy
### Questions to Ask
1. [Strategic question with goal]
2. [Strategic question with goal]
3. [Strategic question with goal]

### Likely Questions You'll Face
- [Question]  [Prepared response]
- [Question]  [Prepared response]

##  Flow Visualization
\`\`\`

                      ${a.toUpperCase()} FLOW                 

 CONSTRUCTIVE  REBUTTAL      SUMMARY       FINAL FOCUS       

 [Arg 1]      [Extend]     [Voters]     [Key takeaway]       

 [Arg 2]      [Respond]    [Weigh]      [Emotional close]    

\`\`\`

##  Time Allocation
| Speech | Time | Focus |
|--------|------|-------|
| Constructive | X min | ... |
| Rebuttal | X min | ... |
| Summary | X min | ... |
| Final Focus | X min | ... |

##  Win Conditions
The 2-3 things that MUST happen to win this round:
1. ...
2. ...
3. ...

##  Power Phrases
5 memorable phrases to use during the round:
1. "..."
2. "..."
3. "..."
4. "..."
5. "..."
`,arguments:`You are an expert Debate Coach specializing in argument construction for ${n}.

**Topic/Resolution:** ${u}
**Side:** ${a}
${m?`**Additional Context:** ${m}`:""}

Generate 4-5 STRONG ARGUMENTS for this position:

## Argument Analysis Framework

For EACH argument, provide:

###  Argument [N]: [Compelling Title]

#### The Claim
A clear, assertive 1-sentence statement.

#### Logical Structure
- **Premise 1**: ...
- **Premise 2**: ...
- **Conclusion**: ...

#### Warrant Deep-Dive
Explain the logical reasoning in 3-4 sentences. Why does the claim follow from the evidence?

#### Impact Calculus
| Factor | Assessment |
|--------|------------|
| **Magnitude** | How big is the impact? |
| **Probability** | How likely? |
| **Timeframe** | When does it occur? |
| **Reversibility** | Can it be undone? |

#### Evidence Guide
- **Statistics needed**: ...
- **Expert quotes**: Types of experts to cite
- **Case studies**: Historical/current examples to find
- **Logical backing**: Philosophical/theoretical support

#### Delivery Tips
- Opening hook: "..."
- Key transition phrases
- Powerful conclusion line

#### Vulnerability Analysis
- Weakest point of this argument
- How opponents might attack
- Pre-emptive defense strategy

---

## Argument Hierarchy
Rank arguments by strength and when to deploy them:
1. **Strongest** (Lead with this): Argument X
2. **Most Emotional** (Final Focus): Argument Y
3. **Technical** (For experienced judges): Argument Z
`,rebuttals:`You are an expert Debate Coach specializing in rebuttal strategy for ${n}.

**Topic/Resolution:** ${u}
**Your Side:** ${a}
**Opponent's Side:** ${a.includes("Affirmative")||a.includes("Pro")?"Opposition/Negative":"Proposition/Affirmative"}
${m?`**Additional Context:** ${m}`:""}

Generate a COMPREHENSIVE REBUTTAL PREPARATION guide:

##  Opponent Argument Predictions

### Predicted Argument 1: [Title]
**What they'll likely say:**
> [Their argument in their words]

**Why this is flawed:**
- Logical flaw: ...
- Evidence problem: ...
- Impact overreach: ...

**Your Rebuttal Response:**
"[Exact words to say - 30-45 seconds]"

**The Turn (flip it to your advantage):**
"Actually, this argument supports OUR side because..."

---

### Predicted Argument 2: [Title]
[Same structure]

---

### Predicted Argument 3: [Title]
[Same structure]

---

##  Defense Blocks

### If They Attack Your [Argument 1]:
**Their likely attack:** ...
**Your defense:** "[30-second response]"

### If They Attack Your [Argument 2]:
**Their likely attack:** ...
**Your defense:** "[30-second response]"

##  Quick-Fire Responses
One-liner responses to common attacks:

| If they say... | You respond... |
|----------------|----------------|
| "..." | "..." |
| "..." | "..." |
| "..." | "..." |

##  Weighing Mechanisms
How to compare impacts when both sides have valid points:

### Magnitude Weighing
"Even if they win X, our impact of Y is larger because..."

### Probability Weighing
"Their impact is speculative, while ours is empirically proven..."

### Timeframe Weighing
"Their impact is long-term and uncertain, our harm is happening now..."

##  Kill Shots
Arguments that completely devastate common opponent positions:

1. **Against [common position]:** ...
2. **Against [common position]:** ...
`,crossfire:`You are an expert Debate Coach specializing in Cross-Examination/Crossfire strategy for ${n}.

**Topic/Resolution:** ${u}
**Your Side:** ${a}
${m?`**Additional Context:** ${m}`:""}

Generate a COMPREHENSIVE CROSS-EXAMINATION STRATEGY:

##  Your Questioning Strategy

### Goal-Oriented Questions
Each question should serve a strategic purpose:

#### Setup Questions (Establish facts)
1. **Question:** "..."
   - **Goal:** Get them to admit X
   - **Follow-up if yes:** "..."
   - **Follow-up if no:** "..."

2. **Question:** "..."
   - **Goal:** ...

#### Trap Questions (Expose contradictions)
1. **Question:** "..."
   - **The trap:** If they say X, point out Y
   - **Delivery:** Stay calm, don't telegraph

2. **Question:** "..."
   - **The trap:** ...

#### Concession Questions (Get admissions)
1. **Question:** "..."
   - **Looking for:** Them to admit your framing
   - **Use in later speeches:** "They agreed that..."

### Question Sequences
**To undermine their Argument 1:**
1. First ask: "..."
2. Then: "..."
3. Finish with: "..."

**To support your Argument 1:**
1. First ask: "..."
2. Then: "..."
3. Finish with: "..."

##  Defending in Cross-Ex

### Likely Questions You'll Face
| Their Question | Your Response Strategy |
|----------------|----------------------|
| "..." | [Don't concede X, instead say...] |
| "..." | [Bridge to your argument...] |
| "..." | [Ask for clarification to buy time...] |

### Deflection Techniques
- **"That's not the right framing..."** then reframe
- **"The real question is..."** pivot to your ground
- **"We can discuss that, but first..."** delay and redirect

### Trap Avoidance
Common traps and how to spot/avoid them:
1. **The false dichotomy:** They present only two options. Response: "Those aren't the only options..."
2. **The hypothetical spiral:** They create unrealistic scenarios. Response: "In the real world..."
3. **The quote trap:** They try to get quotable admissions. Response: "What I'm saying is..." (reframe)

##  Power Moves

### Taking Control
- "Let me finish this point..."
- "That's a different question, I'm asking about..."
- "With respect, that doesn't answer the question..."

### Memorable Moments
Crossfire zingers (use sparingly):
- "So you're agreeing with us that..."
- "If that's true, then your entire case falls apart..."
- "You've just proven our point..."

##  Time Management
| Phase | Your Goals |
|-------|------------|
| First 30 sec | Establish one key admission |
| Middle | Build your trap sequence |
| Final 30 sec | Land your strongest point |
`},K=(await(await D.generateContent(R[v])).response).text();L(K),G({type:"strategy",title:`${k.find(le=>le.id===v)?.label}: ${u.substring(0,50)}`,input:{topic:u,context:m},result:K,metadata:{speechType:n,side:a,topic:u,strategyType:v}}),ce(!0),setTimeout(()=>ce(!1),2e3)}catch(C){console.error("Gemini Error:",C),U(`Error: ${C.message}. Please try again.`)}finally{w(!1)}},A=()=>{N&&(navigator.clipboard.writeText(N),q(!0),setTimeout(()=>q(!1),2e3))};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Strategy Generator"}),g.jsx("p",{className:"text-slate-400 mt-1",children:"Build winning debate strategies with AI"})]}),g.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[g.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[g.jsxs("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Debate Format"}),g.jsx("select",{value:n,onChange:C=>r(C.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-all",children:e.map(C=>g.jsx("option",{value:C,children:C},C))})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Side"}),g.jsx("select",{value:a,onChange:C=>o(C.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-all",children:M.map(C=>g.jsx("option",{value:C,children:C},C))})]})]}),g.jsx("div",{className:"p-4 rounded-xl bg-blue-500/10 border border-blue-500/20",children:g.jsxs("div",{className:"flex items-center gap-3 text-blue-400 text-sm",children:[g.jsx(Ig,{className:"w-5 h-5 flex-shrink-0"}),g.jsx("span",{children:"Strategy Generator is optimized for competitive debate events."})]})}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Topic / Resolution"}),g.jsx("input",{type:"text",value:u,onChange:C=>h(C.target.value),placeholder:"Resolved: The United States should substantially increase...",className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-all"})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:["Additional Context ",g.jsx("span",{className:"text-slate-600",children:"(optional)"})]}),g.jsx("textarea",{value:m,onChange:C=>p(C.target.value),placeholder:"E.g., specific arguments you want to focus on, your opponent's known style...",className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-all resize-none h-24"})]})]}),g.jsxs("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-4",children:"Strategy Type"}),g.jsx("div",{className:"grid grid-cols-2 gap-3",children:k.map(C=>{const D=C.icon;return g.jsxs("button",{onClick:()=>x(C.id),className:`p-4 rounded-xl border text-left transition-all ${v===C.id?"bg-orange-500/10 border-orange-500/30 shadow-lg shadow-orange-500/10":"bg-slate-900/30 border-slate-800 hover:border-slate-700 hover:bg-slate-800/50"}`,children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx(D,{className:`w-5 h-5 ${v===C.id?"text-orange-400":"text-slate-500"}`}),g.jsx("span",{className:`font-medium ${v===C.id?"text-white":"text-slate-400"}`,children:C.label})]}),g.jsx("p",{className:"text-xs text-slate-500",children:C.description})]},C.id)})})]}),g.jsx("button",{onClick:O,disabled:E||!u.trim(),className:"w-full py-4 rounded-xl bg-gradient-to-r from-orange-500 to-red-500 text-white text-lg font-semibold shadow-lg shadow-orange-500/25 hover:shadow-orange-500/40 hover:scale-[1.01] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center gap-3",children:E?g.jsxs(g.Fragment,{children:[g.jsx(Gs,{className:"w-5 h-5 animate-spin"}),"Generating Strategy..."]}):g.jsxs(g.Fragment,{children:[g.jsx(jf,{className:"w-5 h-5"}),"Generate Strategy"]})}),P&&g.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 text-red-400",children:[g.jsx(Or,{className:"w-5 h-5 flex-shrink-0"}),g.jsx("span",{className:"text-sm",children:P})]})]}),g.jsxs("div",{className:"w-full lg:w-1/2 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[g.jsxs("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[g.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[g.jsx(sE,{className:"w-5 h-5 text-orange-400"}),"Strategy Playbook"]}),N&&g.jsxs("div",{className:"flex items-center gap-3",children:[te&&g.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1 font-medium",children:[g.jsx(jr,{className:"w-3 h-3"})," Saved"]}),g.jsx("button",{onClick:A,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Copy to clipboard",children:F?g.jsx(Vs,{className:"w-4 h-4 text-emerald-500"}):g.jsx(Zl,{className:"w-4 h-4"})})]})]}),g.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:N?g.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-orange-400 prose-headings:font-semibold prose-a:text-orange-400 prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-3 prose-td:p-3 prose-th:bg-slate-800/50 prose-th:text-left prose-code:bg-slate-800 prose-code:px-1.5 prose-code:rounded prose-pre:bg-slate-900 prose-pre:border prose-pre:border-slate-700 prose-blockquote:border-l-orange-500 prose-blockquote:bg-slate-900/50 prose-blockquote:py-1",children:g.jsx(uo,{remarkPlugins:[co],children:N})}):g.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 py-16",children:[g.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:g.jsx(Mu,{className:"w-8 h-8"})}),g.jsx("p",{className:"text-center max-w-xs",children:"Enter your debate topic and select a strategy type to generate your personalized playbook."})]})})]})]})]})},Df={judge:{icon:ql,label:"Speech Analysis",color:"text-cyan-400",bg:"bg-cyan-500/10 border-cyan-500/20"},board:{icon:Up,label:"Board Evaluation",color:"text-purple-400",bg:"bg-purple-500/10 border-purple-500/20"},coach:{icon:lf,label:"Live Coaching",color:"text-emerald-400",bg:"bg-emerald-500/10 border-emerald-500/20"},strategy:{icon:Mu,label:"Strategy",color:"text-orange-400",bg:"bg-orange-500/10 border-orange-500/20"},extemp:{icon:oE,label:"Extemp Question",color:"text-amber-400",bg:"bg-amber-500/10 border-amber-500/20"},tone:{icon:aE,label:"Tone Analysis",color:"text-pink-400",bg:"bg-pink-500/10 border-pink-500/20"}},JL=({session:t,onView:e,onDelete:n})=>{const[r,a]=ee.useState(!1),o=Df[t.type]||Df.judge,u=o.icon;return g.jsxs("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden group",children:[g.jsx("div",{className:"p-4 cursor-pointer hover:bg-slate-800/30 transition-colors",onClick:()=>a(!r),children:g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx("div",{className:`p-2.5 rounded-xl border ${o.bg}`,children:g.jsx(u,{className:`w-5 h-5 ${o.color}`})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-lg ${o.bg} ${o.color}`,children:o.label}),t.metadata?.speechType&&g.jsx("span",{className:"text-xs text-slate-500",children:t.metadata.speechType})]}),g.jsx("h3",{className:"font-medium text-white truncate",children:t.title||t.metadata?.topic||"Untitled Session"}),g.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-slate-500",children:[g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(Q2,{className:"w-3 h-3"}),WS(t.createdAt)]}),g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(iC,{className:"w-3 h-3"}),qL(t.createdAt)]})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:h=>{h.stopPropagation(),n(t.id)},className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:"Delete session",children:g.jsx(mE,{className:"w-4 h-4"})}),r?g.jsx(lE,{className:"w-5 h-5 text-slate-500"}):g.jsx(Ng,{className:"w-5 h-5 text-slate-500"})]})]})}),r&&g.jsxs("div",{className:"border-t border-slate-800/60 p-4 animate-in slide-in-from-top-2",children:[t.metadata&&g.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[t.metadata.side&&g.jsx("span",{className:"text-xs px-2.5 py-1 bg-slate-800/50 rounded-lg text-slate-400 border border-slate-700/50",children:t.metadata.side}),t.metadata.difficulty&&g.jsxs("span",{className:"text-xs px-2.5 py-1 bg-slate-800/50 rounded-lg text-slate-400 border border-slate-700/50",children:[t.metadata.difficulty," difficulty"]})]}),g.jsx("div",{className:"bg-slate-900/50 rounded-xl p-4 max-h-[400px] overflow-y-auto border border-slate-800/50",children:g.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-cyan-400 prose-headings:font-semibold prose-a:text-cyan-400 prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-3 prose-td:p-3 prose-th:bg-slate-800/50",children:g.jsx(uo,{remarkPlugins:[co],children:t.result||"No analysis result available"})})}),t.type==="extemp"&&t.input?.question&&g.jsxs("div",{className:"mt-4 p-4 bg-slate-800/30 rounded-xl border border-slate-700/50",children:[g.jsx("h4",{className:"text-xs font-medium text-slate-500 mb-2",children:"Generated Question"}),g.jsxs("p",{className:"text-white font-serif text-lg",children:['"',t.input.question,'"']})]})]})]})},ZL=()=>{const{history:t,isLoading:e,stats:n,deleteSession:r,clearHistory:a,exportHistory:o,importHistory:u}=Fa(),[h,m]=ee.useState(""),[p,v]=ee.useState("all"),[x,E]=ee.useState(!1),[w,N]=ee.useState(null),L=iE.useRef(null),P=t.filter(F=>{const q=p==="all"||F.type===p,te=!h||F.title?.toLowerCase().includes(h.toLowerCase())||F.metadata?.topic?.toLowerCase().includes(h.toLowerCase())||F.result?.toLowerCase().includes(h.toLowerCase());return q&&te}),U=async F=>{const q=F.target.files?.[0];if(q){const te=await u(q);N(te),setTimeout(()=>N(null),3e3),L.current&&(L.current.value="")}};return e?g.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:g.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full"})}):g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Session History"}),g.jsxs("p",{className:"text-slate-400 mt-1",children:[n.total," ",n.total===1?"session":"sessions"," recorded"]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:o,disabled:t.length===0,className:"p-2.5 text-slate-400 hover:text-white hover:bg-slate-800 rounded-xl transition-colors disabled:opacity-50 border border-slate-800",title:"Export history",children:g.jsx(oC,{className:"w-5 h-5"})}),g.jsx("button",{onClick:()=>L.current?.click(),className:"p-2.5 text-slate-400 hover:text-white hover:bg-slate-800 rounded-xl transition-colors border border-slate-800",title:"Import history",children:g.jsx(pE,{className:"w-5 h-5"})}),g.jsx("input",{ref:L,type:"file",accept:".json",onChange:U,className:"hidden"}),t.length>0&&g.jsx("button",{onClick:()=>E(!0),className:"p-2.5 text-slate-400 hover:text-red-400 hover:bg-red-500/10 rounded-xl transition-colors border border-slate-800",title:"Clear all history",children:g.jsx(mE,{className:"w-5 h-5"})})]})]}),w&&g.jsx("div",{className:`p-4 rounded-xl flex items-center gap-3 text-sm animate-in fade-in ${w.success?"bg-emerald-500/10 border border-emerald-500/20 text-emerald-400":"bg-red-500/10 border border-red-500/20 text-red-400"}`,children:w.success?g.jsxs(g.Fragment,{children:[g.jsx(Vs,{className:"w-5 h-5"}),"Imported ",w.count," sessions successfully"]}):g.jsxs(g.Fragment,{children:[g.jsx(Or,{className:"w-5 h-5"}),"Import failed: ",w.error]})}),g.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:Object.entries(Df).map(([F,q])=>{const te=q.icon,ce=n.byType[F]||0;return g.jsx("button",{onClick:()=>v(p===F?"all":F),className:`p-4 rounded-xl border text-left transition-all ${p===F?"border-cyan-500/30 bg-cyan-500/10 shadow-lg shadow-cyan-500/10":"border-slate-800/60 bg-slate-900/30 hover:bg-slate-800/30 hover:border-slate-700"}`,children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(te,{className:`w-5 h-5 ${q.color}`}),g.jsxs("div",{children:[g.jsx("div",{className:"text-xl font-bold text-white",children:ce}),g.jsx("div",{className:"text-xs text-slate-500",children:q.label})]})]})},F)})}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[g.jsxs("div",{className:"relative flex-1",children:[g.jsx(Bp,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),g.jsx("input",{type:"text",value:h,onChange:F=>m(F.target.value),placeholder:"Search sessions...",className:"w-full pl-11 pr-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all"})]}),g.jsxs("select",{value:p,onChange:F=>v(F.target.value),className:"px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all w-full sm:w-48",children:[g.jsx("option",{value:"all",children:"All Types"}),Object.entries(Df).map(([F,q])=>g.jsx("option",{value:F,children:q.label},F))]})]}),P.length>0?g.jsx("div",{className:"space-y-4",children:P.map(F=>g.jsx(JL,{session:F,onDelete:r},F.id))}):g.jsx("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm flex flex-col items-center justify-center min-h-[40vh] text-center p-8",children:t.length===0?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:g.jsx(jr,{className:"w-8 h-8 text-slate-600"})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Sessions Yet"}),g.jsx("p",{className:"text-slate-500 max-w-md",children:"Your analysis sessions will appear here. Try analyzing a speech, using the live coach, or generating a strategy to get started!"})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:g.jsx(Bp,{className:"w-8 h-8 text-slate-600"})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Results Found"}),g.jsx("p",{className:"text-slate-500",children:"No sessions match your search criteria."}),g.jsx("button",{onClick:()=>{m(""),v("all")},className:"mt-4 text-cyan-400 hover:text-cyan-300 font-medium",children:"Clear filters"})]})}),x&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",children:g.jsxs("div",{className:"w-full max-w-md p-6 rounded-2xl border border-slate-800 bg-slate-900 shadow-2xl animate-in zoom-in-95",children:[g.jsxs("div",{className:"flex items-center gap-3 text-red-400 mb-4",children:[g.jsx(Or,{className:"w-6 h-6"}),g.jsx("h2",{className:"text-xl font-bold",children:"Clear All History?"})]}),g.jsxs("p",{className:"text-slate-400 mb-6",children:["This will permanently delete all ",n.total," sessions. This action cannot be undone."]}),g.jsxs("div",{className:"flex justify-end gap-3",children:[g.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2.5 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-colors",children:"Cancel"}),g.jsx("button",{onClick:()=>{a(),E(!1)},className:"px-4 py-2.5 rounded-xl bg-red-500 hover:bg-red-600 text-white font-medium transition-colors",children:"Delete All"})]})]})})]})},eV={uncertain:{label:"Uncertain",color:"text-yellow-400",bgColor:"bg-yellow-500/20",icon:WC},moderate:{label:"Moderate",color:"text-blue-400",bgColor:"bg-blue-500/20",icon:RC},strong:{label:"Strong",color:"text-green-400",bgColor:"bg-green-500/20",icon:ZC}},Ag={passionate:{label:"Passionate",color:"text-red-400",bgColor:"bg-red-500/20",emoji:""},neutral:{label:"Neutral",color:"text-gray-400",bgColor:"bg-gray-500/20",emoji:""},analytical:{label:"Analytical",color:"text-cyan-400",bgColor:"bg-cyan-500/20",emoji:""},inspiring:{label:"Inspiring",color:"text-purple-400",bgColor:"bg-purple-500/20",emoji:""},urgent:{label:"Urgent",color:"text-orange-400",bgColor:"bg-orange-500/20",emoji:""}},tV={ethos:{label:"Ethos",description:"Credibility & Authority",color:"from-blue-500 to-indigo-500",icon:hE},pathos:{label:"Pathos",description:"Emotional Appeal",color:"from-red-500 to-pink-500",icon:gC},logos:{label:"Logos",description:"Logic & Reasoning",color:"from-green-500 to-emerald-500",icon:Of}},nV=({sections:t})=>!t||t.length===0?null:g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-secondary mb-3",children:[g.jsx(af,{className:"w-4 h-4"}),g.jsx("span",{children:"Tone Progression"})]}),g.jsx("div",{className:"flex h-8 rounded-lg overflow-hidden",children:t.map((e,n)=>{const r=Ag[e.tone]||Ag.neutral;return g.jsxs("div",{className:`flex-1 ${r.bgColor} flex items-center justify-center text-xs font-medium ${r.color} border-r border-bg-primary last:border-r-0 transition-all hover:brightness-125`,title:`${e.label}: ${r.label}`,children:[g.jsx("span",{className:"hidden sm:inline",children:e.label}),g.jsx("span",{className:"sm:hidden",children:r.emoji})]},n)})}),g.jsxs("div",{className:"flex justify-between text-xs text-text-muted",children:[g.jsx("span",{children:"Opening"}),g.jsx("span",{children:"Closing"})]})]}),Lp=({type:t,score:e})=>{const n=tV[t];if(!n)return null;const r=n.icon;return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:`w-8 h-8 rounded-lg bg-gradient-to-br ${n.color} flex items-center justify-center`,children:g.jsx(r,{className:"w-4 h-4 text-white"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm font-medium text-white",children:n.label}),g.jsx("div",{className:"text-xs text-text-muted",children:n.description})]})]}),g.jsxs("span",{className:"text-lg font-bold text-white",children:[e,"%"]})]}),g.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:g.jsx("div",{className:`h-full bg-gradient-to-r ${n.color} transition-all duration-1000 ease-out`,style:{width:`${e}%`}})})]})},iV=({apiKey:t})=>{const[e,n]=ee.useState(""),[r,a]=ee.useState(!1),[o,u]=ee.useState(null),[h,m]=ee.useState(null),[p,v]=ee.useState(""),[x,E]=ee.useState(!1),[w,N]=ee.useState(!1),{addSession:L}=Fa(),P=async()=>{if(!t){v("Please enter a valid Gemini API Key in Settings.");return}if(!e.trim()){v("Please enter the speech transcript.");return}a(!0),v(""),u(null),m(null);try{const ce=new zr(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),G=`You are an expert rhetorical analyst and speech coach. Analyze the following speech for tone, rhetorical techniques, and emotional impact.

SPEECH TEXT:
${e}

Provide your analysis in the following JSON format (ONLY output valid JSON, no markdown):
{
  "overallConfidence": "uncertain" | "moderate" | "strong",
  "dominantTone": "passionate" | "neutral" | "analytical" | "inspiring" | "urgent",
  "rhetoricalAppeals": {
    "ethos": <number 0-100>,
    "pathos": <number 0-100>,
    "logos": <number 0-100>
  },
  "toneProgression": [
    { "label": "Intro", "tone": "neutral" },
    { "label": "Build", "tone": "analytical" },
    { "label": "Peak", "tone": "passionate" },
    { "label": "Close", "tone": "inspiring" }
  ],
  "confidenceIndicators": {
    "hedgingPhrases": ["maybe", "perhaps", "I think"],
    "assertivePhrases": ["clearly", "undoubtedly", "must"],
    "hedgeCount": <number>,
    "assertiveCount": <number>
  },
  "techniques": [
    {
      "name": "Anaphora",
      "description": "Repetition at the beginning of sentences",
      "example": "We will fight... We will win...",
      "effectiveness": "high" | "medium" | "low"
    }
  ],
  "emotionalArc": {
    "opening": { "emotion": "hopeful", "intensity": 60 },
    "middle": { "emotion": "determined", "intensity": 80 },
    "closing": { "emotion": "triumphant", "intensity": 95 }
  },
  "recommendations": [
    "Add more concrete evidence to strengthen logos appeal",
    "Consider varying sentence length for better rhythm"
  ],
  "summary": "A two-sentence summary of the overall rhetorical effectiveness."
}`,O=(await(await ce.generateContent(G)).response).text();let A;try{const C=O.match(/\{[\s\S]*\}/);if(C)A=JSON.parse(C[0]);else throw new Error("No JSON found in response")}catch(C){console.error("JSON parse error:",C),u(O);return}m(A),L({type:"tone",title:"Tone Analysis",input:{transcript:e.substring(0,500)+(e.length>500?"...":"")},result:JSON.stringify(A,null,2),metadata:{confidence:A.overallConfidence,dominantTone:A.dominantTone}}),N(!0),setTimeout(()=>N(!1),2e3)}catch(te){console.error("Gemini Error:",te),v(`Error: ${te.message}. Please try again.`)}finally{a(!1)}},U=()=>{h&&(navigator.clipboard.writeText(JSON.stringify(h,null,2)),E(!0),setTimeout(()=>E(!1),2e3))},F=h?.overallConfidence?eV[h.overallConfidence]:null,q=h?.dominantTone?Ag[h.dominantTone]:null;return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Tone Analysis"}),g.jsx("p",{className:"text-slate-400 mt-1",children:"Analyze rhetorical impact and emotional tone"})]}),g.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[g.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[g.jsx("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm space-y-4",children:g.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/30",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[g.jsx(Ig,{className:"w-4 h-4 text-purple-400"}),g.jsx("span",{className:"text-sm font-medium text-slate-300",children:"This analysis detects:"})]}),g.jsx("div",{className:"flex flex-wrap gap-2",children:["Confidence Level","Emotional Tone","Ethos/Pathos/Logos","Rhetorical Techniques"].map((te,ce)=>g.jsx("span",{className:"px-3 py-1.5 text-xs font-medium bg-slate-900/50 text-slate-400 rounded-lg border border-slate-700/50",children:te},ce))})]})}),g.jsxs("div",{className:"flex-1 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[g.jsx("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50",children:g.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Speech Transcript"})}),g.jsx("textarea",{value:e,onChange:te=>n(te.target.value),placeholder:"Paste your speech text here for detailed tone and rhetorical analysis...",className:"flex-1 w-full bg-transparent p-4 resize-none focus:outline-none font-mono text-sm text-slate-200 placeholder-slate-600 min-h-[300px]"}),g.jsxs("div",{className:"p-4 border-t border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[g.jsxs("span",{className:"text-xs text-slate-500 font-medium",children:[e.length.toLocaleString()," characters"]}),g.jsxs("button",{onClick:P,disabled:r,className:"px-6 py-2.5 rounded-xl bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold shadow-lg shadow-purple-500/25 hover:shadow-purple-500/40 hover:scale-[1.02] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center gap-2",children:[r?g.jsx(Gs,{className:"w-4 h-4 animate-spin"}):g.jsx(kg,{className:"w-4 h-4"}),r?"Analyzing...":"Analyze Tone"]})]})]}),p&&g.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 text-red-400",children:[g.jsx(Or,{className:"w-5 h-5 flex-shrink-0"}),g.jsx("span",{className:"text-sm",children:p})]})]}),g.jsxs("div",{className:"w-full lg:w-1/2 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[g.jsxs("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[g.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[g.jsx(jf,{className:"w-5 h-5 text-purple-400"}),"Rhetorical Analysis"]}),h&&g.jsxs("div",{className:"flex items-center gap-3",children:[w&&g.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1 font-medium",children:[g.jsx(jr,{className:"w-3 h-3"})," Saved"]}),g.jsx("button",{onClick:U,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Copy to clipboard",children:x?g.jsx(Vs,{className:"w-4 h-4 text-emerald-500"}):g.jsx(Zl,{className:"w-4 h-4"})})]})]}),g.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:h?g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[F&&g.jsxs("div",{className:`p-4 rounded-xl ${F.bgColor} border border-slate-700/50`,children:[g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx(F.icon,{className:`w-5 h-5 ${F.color}`}),g.jsx("span",{className:"text-sm text-slate-400",children:"Confidence"})]}),g.jsx("div",{className:`text-xl font-bold ${F.color}`,children:F.label})]}),q&&g.jsxs("div",{className:`p-4 rounded-xl ${q.bgColor} border border-slate-700/50`,children:[g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx("span",{className:"text-xl",children:q.emoji}),g.jsx("span",{className:"text-sm text-slate-400",children:"Dominant Tone"})]}),g.jsx("div",{className:`text-xl font-bold ${q.color}`,children:q.label})]})]}),g.jsxs("div",{className:"p-5 rounded-xl bg-slate-800/30 border border-slate-700/30 space-y-4",children:[g.jsxs("h4",{className:"font-semibold text-white flex items-center gap-2",children:[g.jsx(hE,{className:"w-4 h-4 text-purple-400"}),"Rhetorical Appeals"]}),h.rhetoricalAppeals&&g.jsxs("div",{className:"space-y-4",children:[g.jsx(Lp,{type:"ethos",score:h.rhetoricalAppeals.ethos}),g.jsx(Lp,{type:"pathos",score:h.rhetoricalAppeals.pathos}),g.jsx(Lp,{type:"logos",score:h.rhetoricalAppeals.logos})]})]}),h.toneProgression&&g.jsx("div",{className:"p-5 rounded-xl bg-slate-800/30 border border-slate-700/30",children:g.jsx(nV,{sections:h.toneProgression})}),h.techniques&&h.techniques.length>0&&g.jsxs("div",{className:"p-5 rounded-xl bg-slate-800/30 border border-slate-700/30 space-y-3",children:[g.jsx("h4",{className:"font-semibold text-white",children:"Rhetorical Techniques"}),g.jsx("div",{className:"space-y-3",children:h.techniques.map((te,ce)=>g.jsxs("div",{className:"p-3 bg-slate-900/50 rounded-lg border border-slate-800",children:[g.jsxs("div",{className:"flex items-center justify-between mb-1",children:[g.jsx("span",{className:"font-medium text-white",children:te.name}),g.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${te.effectiveness==="high"?"bg-emerald-500/20 text-emerald-400":te.effectiveness==="medium"?"bg-amber-500/20 text-amber-400":"bg-red-500/20 text-red-400"}`,children:te.effectiveness})]}),g.jsx("p",{className:"text-sm text-slate-500",children:te.description})]},ce))})]}),h.recommendations&&g.jsxs("div",{className:"p-5 rounded-xl bg-slate-800/30 border border-slate-700/30 space-y-3",children:[g.jsxs("h4",{className:"font-semibold text-white flex items-center gap-2",children:[g.jsx(Of,{className:"w-4 h-4 text-amber-400"}),"Recommendations"]}),g.jsx("ul",{className:"space-y-2",children:h.recommendations.map((te,ce)=>g.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-400",children:[g.jsx(Vs,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),te]},ce))})]}),h.summary&&g.jsxs("div",{className:"p-5 rounded-xl bg-purple-500/10 border border-purple-500/20",children:[g.jsx("h4",{className:"font-semibold text-purple-400 mb-2",children:"Summary"}),g.jsx("p",{className:"text-slate-300",children:h.summary})]})]}):o?g.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:g.jsx(uo,{remarkPlugins:[co],children:o})}):g.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 py-16",children:[g.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:g.jsx(aE,{className:"w-8 h-8"})}),g.jsx("p",{className:"text-center max-w-xs",children:"Paste your speech transcript to analyze rhetorical impact and emotional tone."})]})})]})]})]})},rV=({onSkip:t})=>{const[e,n]=ee.useState(!0),[r,a]=ee.useState(""),[o,u]=ee.useState(""),[h,m]=ee.useState(""),[p,v]=ee.useState(!1),[x,E]=ee.useState(!1),[w,N]=ee.useState(""),{login:L,register:P,loginWithGoogle:U,error:F,clearError:q}=Ty(),te=async k=>{if(k.preventDefault(),N(""),q(),!r||!o){N("Please fill in all required fields.");return}if(!e&&!h){N("Please enter your name.");return}if(o.length<6){N("Password must be at least 6 characters.");return}E(!0);try{e?await L(r,o):await P(r,o,h)}catch{}finally{E(!1)}},ce=async()=>{N(""),q(),E(!0);try{await U()}catch{}finally{E(!1)}},G=()=>{n(!e),N(""),q()},M=w||F;return g.jsxs("div",{className:"min-h-screen bg-bg-primary flex items-center justify-center p-4",children:[g.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[g.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-full h-full bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-3xl"}),g.jsx("div",{className:"absolute -bottom-1/2 -right-1/2 w-full h-full bg-gradient-to-tl from-accent/10 to-transparent rounded-full blur-3xl"})]}),g.jsxs("div",{className:"w-full max-w-md relative z-10",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-accent shadow-lg shadow-primary/25 mb-4",children:g.jsx(ql,{className:"w-8 h-8 text-white"})}),g.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Adjudicator AI"}),g.jsx("p",{className:"text-text-secondary",children:"Your AI-powered debate coaching platform"})]}),g.jsxs("div",{className:"glass-card space-y-6",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-xl font-bold text-white",children:e?"Welcome back":"Create your account"}),g.jsx("p",{className:"text-text-muted text-sm mt-1",children:e?"Sign in to continue to your dashboard":"Start your debate coaching journey"})]}),g.jsxs("button",{onClick:ce,disabled:x,className:"w-full flex items-center justify-center gap-3 px-4 py-3 bg-white hover:bg-gray-100 text-gray-800 font-medium rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[g.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[g.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),g.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),g.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),g.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 flex items-center",children:g.jsx("div",{className:"w-full border-t border-slate-700"})}),g.jsx("div",{className:"relative flex justify-center text-sm",children:g.jsx("span",{className:"px-4 bg-bg-secondary text-text-muted",children:"or continue with email"})})]}),g.jsxs("form",{onSubmit:te,className:"space-y-4",children:[!e&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Full Name"}),g.jsxs("div",{className:"relative",children:[g.jsx(gE,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),g.jsx("input",{type:"text",value:h,onChange:k=>m(k.target.value),placeholder:"John Doe",className:"input-field pl-10",disabled:x})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Email Address"}),g.jsxs("div",{className:"relative",children:[g.jsx(CC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),g.jsx("input",{type:"email",value:r,onChange:k=>a(k.target.value),placeholder:"you@example.com",className:"input-field pl-10",disabled:x})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Password"}),g.jsxs("div",{className:"relative",children:[g.jsx(wC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),g.jsx("input",{type:p?"text":"password",value:o,onChange:k=>u(k.target.value),placeholder:"",className:"input-field pl-10 pr-10",disabled:x}),g.jsx("button",{type:"button",onClick:()=>v(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-muted hover:text-text-secondary",children:p?g.jsx(cC,{className:"w-5 h-5"}):g.jsx(fC,{className:"w-5 h-5"})})]})]}),M&&g.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-start gap-2 text-red-400 text-sm",children:[g.jsx(Or,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),g.jsx("span",{children:M})]}),g.jsx("button",{type:"submit",disabled:x,className:"btn-primary w-full flex items-center justify-center gap-2 py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:x?g.jsx(Gs,{className:"w-5 h-5 animate-spin"}):g.jsxs(g.Fragment,{children:[e?"Sign In":"Create Account",g.jsx(zp,{className:"w-4 h-4"})]})})]}),g.jsxs("p",{className:"text-center text-text-secondary text-sm",children:[e?"Don't have an account? ":"Already have an account? ",g.jsx("button",{onClick:G,className:"text-primary hover:text-primary/80 font-medium transition-colors",disabled:x,children:e?"Sign up":"Sign in"})]})]}),g.jsx("div",{className:"text-center mt-6",children:g.jsx("button",{onClick:t,className:"text-text-muted hover:text-text-secondary text-sm transition-colors underline underline-offset-2",children:"Continue as guest (limited features)"})})]})]})},sV=({onGetStarted:t,onContinueAsGuest:e})=>{const[n,r]=ee.useState(0),a=[{icon:vb,title:"Real-time Analysis",description:"Get instant AI feedback on speeches with event-specific rubrics. Identify strengths, weaknesses, and actionable improvements in seconds.",color:"from-cyan-500 to-blue-500",delay:.1},{icon:yb,title:"Team Collaboration",description:"Manage your entire debate squad in one place. Share strategies, track individual progress, and coordinate team preparation.",color:"from-purple-500 to-pink-500",delay:.2},{icon:af,title:"Performance Insights",description:"Deep analytics on speaking patterns, argument effectiveness, and improvement trends. Data-driven coaching for measurable results.",color:"from-orange-500 to-red-500",delay:.3},{icon:ap,title:"Tournament Tracking",description:"Log competition results, monitor rankings, and analyze performance across events. See what strategies win at the highest levels.",color:"from-green-500 to-emerald-500",delay:.4}],o=[{icon:vb,text:"Instant AI feedback in seconds"},{icon:dE,text:"Event-specific evaluation rubrics"},{icon:af,text:"Track progress over time"},{icon:sE,text:"Personalized improvement drills"}],u=[{quote:"This completely transformed how I prepare for tournaments. My speaker points jumped 2 points!",author:"Sarah M.",role:"Public Forum Debater",avatar:""},{quote:"The strategy generator helped me anticipate every argument my opponents made at State.",author:"Marcus T.",role:"Lincoln-Douglas Champion",avatar:""},{quote:"Finally, feedback that understands the difference between Informative and Extemp. Game changer.",author:"Emily R.",role:"Speech Coach",avatar:""}];ee.useEffect(()=>{const p=setInterval(()=>{r(v=>(v+1)%u.length)},5e3);return()=>clearInterval(p)},[]);const h={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},m={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return g.jsxs("div",{className:"min-h-screen bg-bg-primary overflow-hidden",children:[g.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[g.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-full h-full bg-gradient-to-br from-primary/20 via-transparent to-transparent rounded-full blur-3xl animate-pulse"}),g.jsx("div",{className:"absolute -bottom-1/2 -right-1/2 w-full h-full bg-gradient-to-tl from-accent/20 via-transparent to-transparent rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),g.jsx("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-gradient-to-br from-cyan-500/10 to-purple-500/10 rounded-full blur-3xl animate-float"})]}),g.jsx("nav",{className:"relative z-10 px-6 py-4",children:g.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[g.jsxs(Ht.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary to-accent flex items-center justify-center shadow-lg shadow-primary/25",children:g.jsx(ql,{className:"w-5 h-5 text-white"})}),g.jsx("span",{className:"text-xl font-bold text-white",children:"Adjudicator AI"})]}),g.jsxs(Ht.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex items-center gap-4",children:[g.jsx("button",{onClick:e,className:"text-text-secondary hover:text-white transition-colors px-4 py-2",children:"Try Free"}),g.jsxs("button",{onClick:t,className:"btn-primary flex items-center gap-2",children:["Sign In",g.jsx(zp,{className:"w-4 h-4"})]})]})]})}),g.jsx("section",{className:"relative z-10 px-6 pt-16 pb-24",children:g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsxs(Ht.div,{initial:"hidden",animate:"visible",variants:h,className:"text-center max-w-4xl mx-auto",children:[g.jsxs(Ht.div,{variants:m,className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/20 mb-8",children:[g.jsx(jf,{className:"w-4 h-4 text-primary"}),g.jsx("span",{className:"text-sm text-primary font-medium",children:"Trusted by 500+ Competitive Teams"})]}),g.jsxs(Ht.h1,{variants:m,className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",children:[g.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary via-cyan-400 to-accent",children:"AI-Powered"}),g.jsx("span",{className:"text-white",children:" Debate Coaching"}),g.jsx("br",{}),g.jsx("span",{className:"text-white",children:"for "}),g.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-accent",children:"Competitive Teams"})]}),g.jsx(Ht.p,{variants:m,className:"text-xl text-text-secondary mb-10 max-w-2xl mx-auto",children:"Elite debate programs use Adjudicator AI to analyze speeches in real-time, track team performance, and gain competitive insights that win tournaments."}),g.jsxs(Ht.div,{variants:m,className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-12",children:[g.jsx("button",{onClick:t,className:"group relative px-8 py-4 bg-gradient-to-r from-primary to-cyan-400 rounded-xl font-semibold text-white shadow-lg shadow-primary/25 hover:shadow-xl hover:shadow-primary/30 transition-all hover:scale-105",children:g.jsxs("span",{className:"flex items-center gap-2",children:["Start Free Trial",g.jsx(zp,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})}),g.jsxs("button",{onClick:e,className:"group px-8 py-4 rounded-xl font-semibold text-text-secondary hover:text-white border border-slate-700 hover:border-slate-600 hover:bg-slate-800/50 transition-all flex items-center gap-2",children:[g.jsx(cE,{className:"w-5 h-5"}),"Watch Demo"]})]}),g.jsxs(Ht.div,{variants:m,className:"flex flex-col sm:flex-row items-center justify-center gap-6 sm:gap-12 text-text-muted",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center",children:g.jsx(yb,{className:"w-5 h-5 text-cyan-400"})}),g.jsxs("div",{className:"text-left",children:[g.jsx("div",{className:"text-lg font-bold text-white",children:"10,000+"}),g.jsx("div",{className:"text-xs text-text-muted",children:"Active Debaters"})]})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center",children:g.jsx(ap,{className:"w-5 h-5 text-yellow-500"})}),g.jsxs("div",{className:"text-left",children:[g.jsx("div",{className:"text-lg font-bold text-white",children:"500+"}),g.jsx("div",{className:"text-xs text-text-muted",children:"Teams & Schools"})]})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center",children:g.jsx(uE,{className:"w-5 h-5 text-green-400"})}),g.jsxs("div",{className:"text-left",children:[g.jsx("div",{className:"text-lg font-bold text-white",children:"1M+"}),g.jsx("div",{className:"text-xs text-text-muted",children:"Speeches Analyzed"})]})]})]})]})})}),g.jsx("section",{className:"relative z-10 px-6 py-24 bg-gradient-to-b from-transparent via-slate-900/50 to-transparent",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs(Ht.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Everything You Need to Excel"}),g.jsx("p",{className:"text-text-secondary max-w-2xl mx-auto",children:"From speech analysis to strategy building, we've got every aspect of your debate prep covered."})]}),g.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((p,v)=>g.jsx(Ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:p.delay},whileHover:{y:-5,scale:1.02},className:"group relative",children:g.jsxs("div",{className:"glass-card h-full cursor-pointer",children:[g.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${p.color} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform shadow-lg`,children:g.jsx(p.icon,{className:"w-6 h-6 text-white"})}),g.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:p.title}),g.jsx("p",{className:"text-text-secondary text-sm",children:p.description})]})},p.title))})]})}),g.jsx("section",{className:"relative z-10 px-6 py-24",children:g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[g.jsxs(Ht.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Why Debaters Choose Us"}),g.jsx("p",{className:"text-text-secondary mb-8",children:"We built this for debaters, by debaters. Every feature is designed to give you a competitive edge."}),g.jsx("div",{className:"space-y-4",children:o.map((p,v)=>g.jsxs(Ht.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:v*.1},className:"flex items-center gap-4 p-4 rounded-xl bg-slate-900/50 border border-slate-800 hover:border-primary/30 transition-colors",children:[g.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:g.jsx(p.icon,{className:"w-5 h-5 text-primary"})}),g.jsx("span",{className:"text-text-primary font-medium",children:p.text})]},v))})]}),g.jsx(Ht.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"relative",children:g.jsxs("div",{className:"glass-card relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/20 to-accent/20 rounded-full blur-3xl"}),g.jsx(N2,{mode:"wait",children:g.jsxs(Ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"relative z-10",children:[g.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((p,v)=>g.jsx(gb,{className:"w-5 h-5 fill-yellow-500 text-yellow-500"},v))}),g.jsxs("blockquote",{className:"text-xl text-white font-medium mb-6 leading-relaxed",children:['"',u[n].quote,'"']}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center text-2xl",children:u[n].avatar}),g.jsxs("div",{children:[g.jsx("div",{className:"text-white font-semibold",children:u[n].author}),g.jsx("div",{className:"text-text-muted text-sm",children:u[n].role})]})]})]},n)}),g.jsx("div",{className:"flex items-center gap-2 mt-6",children:u.map((p,v)=>g.jsx("button",{onClick:()=>r(v),className:`w-2 h-2 rounded-full transition-all ${v===n?"w-6 bg-primary":"bg-slate-700 hover:bg-slate-600"}`},v))})]})})]})})}),g.jsx("section",{className:"relative z-10 px-6 py-24",children:g.jsx(Ht.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"max-w-4xl mx-auto",children:g.jsxs("div",{className:"relative rounded-3xl overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 via-accent/20 to-primary/20"}),g.jsx("div",{className:"absolute inset-0 bg-slate-900/80 backdrop-blur-xl"}),g.jsxs("div",{className:"relative z-10 p-12 text-center",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-accent mb-6 shadow-lg shadow-primary/25",children:g.jsx(ap,{className:"w-8 h-8 text-white"})}),g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Ready to Win Your Next Round?"}),g.jsx("p",{className:"text-text-secondary mb-8 max-w-lg mx-auto",children:"Join thousands of debaters already using AI to sharpen their skills and dominate competitions."}),g.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[g.jsxs("button",{onClick:t,className:"group px-8 py-4 bg-white text-slate-900 rounded-xl font-semibold hover:bg-gray-100 transition-all hover:scale-105 flex items-center gap-2",children:["Start Free Today",g.jsx(Ng,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),g.jsx("button",{onClick:e,className:"px-8 py-4 text-white font-semibold hover:underline underline-offset-4",children:"Continue as Guest"})]})]})]})})}),g.jsx("footer",{className:"relative z-10 px-6 py-16 border-t border-slate-800 bg-slate-900/50",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-12",children:[g.jsxs("div",{className:"col-span-2 md:col-span-1",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary to-accent flex items-center justify-center shadow-lg shadow-primary/25",children:g.jsx(ql,{className:"w-5 h-5 text-white"})}),g.jsx("span",{className:"text-lg font-bold text-white",children:"Adjudicator AI"})]}),g.jsx("p",{className:"text-text-muted text-sm mb-4",children:"AI-powered debate coaching platform for competitive teams and speech programs."}),g.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[[...Array(5)].map((p,v)=>g.jsx(gb,{className:"w-4 h-4 fill-yellow-500 text-yellow-500"},v)),g.jsx("span",{className:"text-sm text-text-muted ml-2",children:"4.9/5"})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-white font-semibold mb-4",children:"Product"}),g.jsxs("ul",{className:"space-y-3",children:[g.jsx("li",{children:g.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Speech Analysis"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Strategy Generator"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Live Coaching"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Team Analytics"})})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-white font-semibold mb-4",children:"Resources"}),g.jsxs("ul",{className:"space-y-3",children:[g.jsx("li",{children:g.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Documentation"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Debate Guides"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Event Rubrics"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"API Access"})})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-white font-semibold mb-4",children:"Company"}),g.jsxs("ul",{className:"space-y-3",children:[g.jsx("li",{children:g.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"About Us"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Contact"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Privacy Policy"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Terms of Service"})})]})]})]}),g.jsxs("div",{className:"pt-8 border-t border-slate-800 flex flex-col md:flex-row items-center justify-between gap-4",children:[g.jsx("div",{className:"text-text-muted text-sm",children:" 2025 Adjudicator AI. All rights reserved."}),g.jsx("div",{className:"flex items-center gap-6",children:g.jsx("span",{className:"text-text-muted text-sm",children:"Built for debaters, by debaters."})})]})]})})]})},aV=()=>g.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--bg-primary)"},children:g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx(Gs,{className:"w-12 h-12 animate-spin mx-auto",style:{color:"var(--primary)"}}),g.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading Adjudicator AI..."})]})}),lV=({isOpen:t,onClose:e,apiKey:n,setApiKey:r,openaiKey:a,setOpenaiKey:o})=>t?g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",children:g.jsxs("div",{className:"glass-card w-full max-w-md space-y-6 animate-in zoom-in-95",children:[g.jsxs("h2",{className:"text-xl font-bold flex items-center",style:{color:"var(--text-primary)"},children:[g.jsx(fE,{className:"w-5 h-5 mr-2",style:{color:"var(--primary)"}}),"Configuration"]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Google Gemini API Key"}),g.jsx("input",{type:"password",value:n,onChange:u=>r(u.target.value),placeholder:"AIzaSy...",className:"input-field"}),g.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"Required for most features."})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:"OpenAI API Key (Optional)"}),g.jsx("input",{type:"password",value:a,onChange:u=>o(u.target.value),placeholder:"sk-...",className:"input-field"})]})]}),g.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[g.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg transition-colors",style:{color:"var(--text-secondary)"},children:"Close"}),g.jsx("button",{onClick:e,className:"btn-primary",children:"Save Changes"})]})]})}):null;function oV(){const[t,e]=ee.useState("dashboard"),[n,r]=ee.useState(!1),[a,o]=ee.useState(!0),[u,h]=ee.useState(localStorage.getItem("gemini_key")||""),[m,p]=ee.useState(localStorage.getItem("openai_key")||""),[v,x]=ee.useState(localStorage.getItem("guest_mode")==="true"),{user:E,loading:w,isAuthenticated:N}=Ty();return ee.useEffect(()=>{localStorage.setItem("gemini_key",u)},[u]),ee.useEffect(()=>{localStorage.setItem("openai_key",m)},[m]),ee.useEffect(()=>{(N||v)&&o(!1)},[N,v]),w?g.jsx(aV,{}):a&&!N&&!v?g.jsx(sV,{onGetStarted:()=>o(!1),onContinueAsGuest:()=>{x(!0),localStorage.setItem("guest_mode","true"),o(!1)}}):!N&&!v?g.jsx(rV,{onSkip:()=>{x(!0),localStorage.setItem("guest_mode","true")}}):g.jsxs(qO,{activeTab:t,setActiveTab:e,onSettingsClick:()=>r(!0),children:[t==="dashboard"&&g.jsx(HO,{setActiveTab:e}),t==="judge"&&g.jsx(GL,{apiKey:u}),t==="board"&&g.jsx($L,{apiKey:u}),t==="coach"&&g.jsx(QL,{apiKey:u}),t==="strategy"&&g.jsx(WL,{apiKey:u}),t==="extemp"&&g.jsx(XL,{apiKey:u}),t==="tone"&&g.jsx(iV,{apiKey:u}),t==="history"&&g.jsx(ZL,{}),g.jsx(lV,{isOpen:n,onClose:()=>r(!1),apiKey:u,setApiKey:h,openaiKey:m,setOpenaiKey:p})]})}function uV(){return g.jsx(BO,{children:g.jsx(zO,{children:g.jsx(oV,{})})})}P2.createRoot(document.getElementById("root")).render(g.jsx(iE.StrictMode,{children:g.jsx(uV,{})}));
