import{j as b}from"./animations-RqmReqmK.js";import{r as ie,R as qE}from"./charts-BqTqP0xP.js";import{r as lC,a as uC,g as _g}from"./react-vendor-OvXVS5lI.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var ep={exports:{}},lu={},tp={exports:{}},np={};var Jv;function cC(){return Jv||(Jv=1,(function(t){function e(Y,oe){var me=Y.length;Y.push(oe);e:for(;0<me;){var Re=me-1>>>1,V=Y[Re];if(0<a(V,oe))Y[Re]=oe,Y[me]=V,me=Re;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var oe=Y[0],me=Y.pop();if(me!==oe){Y[0]=me;e:for(var Re=0,V=Y.length,We=V>>>1;Re<We;){var Ve=2*(Re+1)-1,M=Y[Ve],Ie=Ve+1,tt=Y[Ie];if(0>a(M,me))Ie<V&&0>a(tt,M)?(Y[Re]=tt,Y[Ie]=me,Re=Ie):(Y[Re]=M,Y[Ve]=me,Re=Ve);else if(Ie<V&&0>a(tt,me))Y[Re]=tt,Y[Ie]=me,Re=Ie;else break e}}return oe}function a(Y,oe){var me=Y.sortIndex-oe.sortIndex;return me!==0?me:Y.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var m=[],p=[],_=1,y=null,E=3,T=!1,I=!1,U=!1,L=!1,z=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function se(Y){for(var oe=n(p);oe!==null;){if(oe.callback===null)r(p);else if(oe.startTime<=Y)r(p),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=n(p)}}function he(Y){if(U=!1,se(Y),!I)if(n(m)!==null)I=!0,K||(K=!0,D());else{var oe=n(p);oe!==null&&ae(he,oe.startTime-Y)}}var K=!1,P=-1,R=5,O=-1;function A(){return L?!0:!(t.unstable_now()-O<R)}function C(){if(L=!1,K){var Y=t.unstable_now();O=Y;var oe=!0;try{e:{I=!1,U&&(U=!1,F(P),P=-1),T=!0;var me=E;try{t:{for(se(Y),y=n(m);y!==null&&!(y.expirationTime>Y&&A());){var Re=y.callback;if(typeof Re=="function"){y.callback=null,E=y.priorityLevel;var V=Re(y.expirationTime<=Y);if(Y=t.unstable_now(),typeof V=="function"){y.callback=V,se(Y),oe=!0;break t}y===n(m)&&r(m),se(Y)}else r(m);y=n(m)}if(y!==null)oe=!0;else{var We=n(p);We!==null&&ae(he,We.startTime-Y),oe=!1}}break e}finally{y=null,E=me,T=!1}oe=void 0}}finally{oe?D():K=!1}}}var D;if(typeof q=="function")D=function(){q(C)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ue=N.port2;N.port1.onmessage=C,D=function(){ue.postMessage(null)}}else D=function(){z(C,0)};function ae(Y,oe){P=z(function(){Y(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(Y){switch(E){case 1:case 2:case 3:var oe=3;break;default:oe=E}var me=E;E=oe;try{return Y()}finally{E=me}},t.unstable_requestPaint=function(){L=!0},t.unstable_runWithPriority=function(Y,oe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=E;E=Y;try{return oe()}finally{E=me}},t.unstable_scheduleCallback=function(Y,oe,me){var Re=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Re+me:Re):me=Re,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=me+V,Y={id:_++,callback:oe,priorityLevel:Y,startTime:me,expirationTime:V,sortIndex:-1},me>Re?(Y.sortIndex=me,e(p,Y),n(m)===null&&Y===n(p)&&(U?(F(P),P=-1):U=!0,ae(he,me-Re))):(Y.sortIndex=V,e(m,Y),I||T||(I=!0,K||(K=!0,D()))),Y},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(Y){var oe=E;return function(){var me=E;E=oe;try{return Y.apply(this,arguments)}finally{E=me}}}})(np)),np}var Zv;function hC(){return Zv||(Zv=1,tp.exports=cC()),tp.exports}var e1;function fC(){if(e1)return lu;e1=1;var t=hC(),e=lC(),n=uC();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,c=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),i;if(g===c)return m(d),s;g=g.sibling}throw Error(r(188))}if(o.return!==c.return)o=d,c=g;else{for(var x=!1,S=d.child;S;){if(S===o){x=!0,o=d,c=g;break}if(S===c){x=!0,c=d,o=g;break}S=S.sibling}if(!x){for(S=g.child;S;){if(S===o){x=!0,o=g,c=d;break}if(S===c){x=!0,c=g,o=d;break}S=S.sibling}if(!x)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function _(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=_(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),q=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function D(i){return i===null||typeof i!="object"?null:(i=C&&i[C]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function ue(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case U:return"Fragment";case z:return"Profiler";case L:return"StrictMode";case he:return"Suspense";case K:return"SuspenseList";case O:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case I:return"Portal";case q:return i.displayName||"Context";case F:return(i._context.displayName||"Context")+".Consumer";case se:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return s=i.displayName||null,s!==null?s:ue(i.type)||"Memo";case R:s=i._payload,i=i._init;try{return ue(i(s))}catch{}}return null}var ae=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Re=[],V=-1;function We(i){return{current:i}}function Ve(i){0>V||(i.current=Re[V],Re[V]=null,V--)}function M(i,s){V++,Re[V]=i.current,i.current=s}var Ie=We(null),tt=We(null),Xe=We(null),_t=We(null);function At(i,s){switch(M(Xe,s),M(tt,i),M(Ie,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Ev(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Ev(s),i=xv(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Ve(Ie),M(Ie,i)}function Et(){Ve(Ie),Ve(tt),Ve(Xe)}function Yn(i){i.memoizedState!==null&&M(_t,i);var s=Ie.current,o=xv(s,i.type);s!==o&&(M(tt,i),M(Ie,o))}function fi(i){tt.current===i&&(Ve(Ie),Ve(tt)),_t.current===i&&(Ve(_t),ru._currentValue=me)}var Ur,Br;function $n(i){if(Ur===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ur=s&&s[1]||"",Br=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ur+i+Br}var Fr=!1;function Ii(i,s){if(!i||Fr)return"";Fr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(J){var X=J}Reflect.construct(i,[],ne)}else{try{ne.call()}catch(J){X=J}i.call(ne.prototype)}}else{try{throw Error()}catch(J){X=J}(ne=i())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(J){if(J&&X&&typeof J.stack=="string")return[J.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),x=g[0],S=g[1];if(x&&S){var j=x.split(`
`),$=S.split(`
`);for(d=c=0;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;for(;d<$.length&&!$[d].includes("DetermineComponentFrameRoot");)d++;if(c===j.length||d===$.length)for(c=j.length-1,d=$.length-1;1<=c&&0<=d&&j[c]!==$[d];)d--;for(;1<=c&&0<=d;c--,d--)if(j[c]!==$[d]){if(c!==1||d!==1)do if(c--,d--,0>d||j[c]!==$[d]){var Z=`
`+j[c].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=c&&0<=d);break}}}finally{Fr=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?$n(o):""}function qr(i,s){switch(i.tag){case 26:case 27:case 5:return $n(i.type);case 16:return $n("Lazy");case 13:return i.child!==s&&s!==null?$n("Suspense Fallback"):$n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return Ii(i.type,!1);case 11:return Ii(i.type.render,!1);case 1:return Ii(i.type,!0);case 31:return $n("Activity");default:return""}}function Ys(i){try{var s="",o=null;do s+=qr(i,o),o=i,i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var xt=Object.prototype.hasOwnProperty,Ct=t.unstable_scheduleCallback,ki=t.unstable_cancelCallback,ll=t.unstable_shouldYield,Ua=t.unstable_requestPaint,tn=t.unstable_now,lr=t.unstable_getCurrentPriorityLevel,ee=t.unstable_ImmediatePriority,fe=t.unstable_UserBlockingPriority,be=t.unstable_NormalPriority,Le=t.unstable_LowPriority,Je=t.unstable_IdlePriority,fn=t.log,Xn=t.unstable_setDisableYieldValue,Rt=null,Tt=null;function Xt(i){if(typeof fn=="function"&&Xn(i),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(Rt,i)}catch{}}var Ke=Math.clz32?Math.clz32:cc,di=Math.log,dn=Math.LN2;function cc(i){return i>>>=0,i===0?32:31-(di(i)/dn|0)|0}var Ri=256,$s=262144,Pt=4194304;function Ni(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Di(i,s,o){var c=i.pendingLanes;if(c===0)return 0;var d=0,g=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?d=Ni(c):(x&=S,x!==0?d=Ni(x):o||(o=S&~i,o!==0&&(d=Ni(o))))):(S=c&~g,S!==0?d=Ni(S):x!==0?d=Ni(x):o||(o=c&~i,o!==0&&(d=Ni(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function mi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function rd(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hc(){var i=Pt;return Pt<<=1,(Pt&62914560)===0&&(Pt=4194304),i}function Oi(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Xs(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function sd(i,s,o,c,d,g){var x=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,j=i.expirationTimes,$=i.hiddenUpdates;for(o=x&~o;0<o;){var Z=31-Ke(o),ne=1<<Z;S[Z]=0,j[Z]=-1;var X=$[Z];if(X!==null)for($[Z]=null,Z=0;Z<X.length;Z++){var J=X[Z];J!==null&&(J.lane&=-536870913)}o&=~ne}c!==0&&Ws(i,c,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(x&~s))}function Ws(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-Ke(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function ul(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var c=31-Ke(o),d=1<<c;d&s|i[c]&s&&(i[c]|=s),o&=~d}}function cl(i,s){var o=s&-s;return o=(o&42)!==0?1:Js(o),(o&(i.suspendedLanes|s))!==0?0:o}function Js(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ur(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function fc(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:Gv(i.type))}function pi(i,s){var o=oe.p;try{return oe.p=i,s()}finally{oe.p=o}}var gi=Math.random().toString(36).slice(2),Lt="__reactFiber$"+gi,Wt="__reactProps$"+gi,Mi="__reactContainer$"+gi,Ba="__reactEvents$"+gi,ad="__reactListeners$"+gi,dc="__reactHandles$"+gi,mc="__reactResources$"+gi,Pi="__reactMarker$"+gi;function Fa(i){delete i[Lt],delete i[Wt],delete i[Ba],delete i[ad],delete i[dc]}function Li(i){var s=i[Lt];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Mi]||o[Lt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=kv(i);i!==null;){if(o=i[Lt])return o;i=kv(i)}return s}i=o,o=i.parentNode}return null}function Wn(i){if(i=i[Lt]||i[Mi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Pn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Vi(i){var s=i[mc];return s||(s=i[mc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Vt(i){i[Pi]=!0}var hl=new Set,fl={};function ji(i,s){zi(i,s),zi(i+"Capture",s)}function zi(i,s){for(fl[i]=s,i=0;i<s.length;i++)hl.add(s[i])}var dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ml={},pl={};function pc(i){return xt.call(pl,i)?!0:xt.call(ml,i)?!1:dl.test(i)?pl[i]=!0:(ml[i]=!0,!1)}function qa(i,s,o){if(pc(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Ln(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function jt(i,s,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+c)}}function Jt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Hr(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function gl(i,s,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,g=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(x){o=""+x,g.call(this,x)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function st(i){if(!i._valueTracker){var s=Hr(i)?"checked":"value";i._valueTracker=gl(i,s,""+i[s])}}function Zs(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return i&&(c=Hr(i)?i.checked?"true":"false":i.value),i=c,i!==o?(s.setValue(i),!0):!1}function Ui(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ea=/[\n"\\]/g;function wn(i){return i.replace(ea,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ha(i,s,o,c,d,g,x,S){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),s!=null?x==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Jt(s)):i.value!==""+Jt(s)&&(i.value=""+Jt(s)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),s!=null?yl(i,x,Jt(s)):o!=null?yl(i,x,Jt(o)):c!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Jt(S):i.removeAttribute("name")}function gc(i,s,o,c,d,g,x,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){st(i);return}o=o!=null?""+Jt(o):"",s=s!=null?""+Jt(s):o,S||s===i.value||(i.value=s),i.defaultValue=s}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=S?i.checked:!!c,i.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x),st(i)}function yl(i,s,o){s==="number"&&Ui(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Gr(i,s,o,c){if(i=i.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=s.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Jt(o),s=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,c&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function yc(i,s,o){if(s!=null&&(s=""+Jt(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+Jt(o):""}function Kr(i,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(r(92));if(ae(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Jt(s),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),st(i)}function Sn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var _c=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _l(i,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,o):typeof o!="number"||o===0||_c.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function vl(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var d in s)c=s[d],s.hasOwnProperty(d)&&o[d]!==c&&_l(i,d,c)}else for(var g in s)s.hasOwnProperty(g)&&_l(i,g,s[g])}function Ga(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(i){return Qr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function yi(){}var bl=null;function Jn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Yr=null,Bi=null;function ta(i){var s=Wn(i);if(s&&(i=s.stateNode)){var o=i[Wt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Ha(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+wn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==i&&c.form===i.form){var d=c[Wt]||null;if(!d)throw Error(r(90));Ha(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===i.form&&Zs(c)}break e;case"textarea":yc(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Gr(i,!!o.multiple,s,!1)}}}var Qa=!1;function $r(i,s,o){if(Qa)return i(s,o);Qa=!0;try{var c=i(s);return c}finally{if(Qa=!1,(Yr!==null||Bi!==null)&&(fh(),Yr&&(s=Yr,i=Bi,Bi=Yr=null,ta(s),i)))for(s=0;s<i.length;s++)ta(i[s])}}function _i(i,s){var o=i.stateNode;if(o===null)return null;var c=o[Wt]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),na=!1;if(Zn)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){na=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{na=!1}var Fi=null,El=null,ia=null;function xl(){if(ia)return ia;var i,s=El,o=s.length,c,d="value"in Fi?Fi.value:Fi.textContent,g=d.length;for(i=0;i<o&&s[i]===d[i];i++);var x=o-i;for(c=1;c<=x&&s[o-c]===d[g-c];c++);return ia=d.slice(i,1<c?1-c:void 0)}function ra(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function cr(){return!0}function vi(){return!1}function nn(i){function s(o,c,d,g,x){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?cr:vi,this.isPropagationStopped=vi,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),s}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=nn(hr),Xr=y({},hr,{view:0,detail:0}),Tl=nn(Xr),Wr,Ya,Hi,$a=y({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Hi&&(Hi&&i.type==="mousemove"?(Wr=i.screenX-Hi.screenX,Ya=i.screenY-Hi.screenY):Ya=Wr=0,Hi=i),Wr)},movementY:function(i){return"movementY"in i?i.movementY:Ya}}),wl=nn($a),sa=y({},$a,{dataTransfer:0}),bc=nn(sa),Ec=y({},Xr,{relatedTarget:0}),aa=nn(Ec),Sl=y({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),xc=nn(Sl),Xa=y({},hr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Tc=nn(Xa),wc=y({},hr,{data:0}),Gi=nn(wc),Sc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ac={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ic(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Cc[i])?!!s[i]:!1}function Jr(){return Ic}var En=y({},Xr,{key:function(i){if(i.key){var s=Sc[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ra(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ac[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jr,charCode:function(i){return i.type==="keypress"?ra(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ra(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),kc=nn(En),Rc=y({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fr=nn(Rc),f=y({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jr}),v=nn(f),w=y({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=nn(w),G=y({},$a,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),W=nn(G),de=y({},hr,{newState:0,oldState:0}),Ne=nn(de),Nt=[9,13,27,32],nt=Zn&&"CompositionEvent"in window,vt=null;Zn&&"documentMode"in document&&(vt=document.documentMode);var ei=Zn&&"TextEvent"in window&&!vt,Ki=Zn&&(!nt||vt&&8<vt&&11>=vt),bi=" ",Ei=!1;function oa(i,s){switch(i){case"keyup":return Nt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wa(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ja=!1;function DS(i,s){switch(i){case"compositionend":return Wa(s);case"keypress":return s.which!==32?null:(Ei=!0,bi);case"textInput":return i=s.data,i===bi&&Ei?null:i;default:return null}}function OS(i,s){if(Ja)return i==="compositionend"||!nt&&oa(i,s)?(i=xl(),ia=El=Fi=null,Ja=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ki&&s.locale!=="ko"?null:s.data;default:return null}}var MS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dy(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!MS[i.type]:s==="textarea"}function Oy(i,s,o,c){Yr?Bi?Bi.push(c):Bi=[c]:Yr=c,s=vh(s,"onChange"),0<s.length&&(o=new qi("onChange","change",null,o,c),i.push({event:o,listeners:s}))}var Al=null,Cl=null;function PS(i){pv(i,0)}function Nc(i){var s=Pn(i);if(Zs(s))return i}function My(i,s){if(i==="change")return s}var Py=!1;if(Zn){var od;if(Zn){var ld="oninput"in document;if(!ld){var Ly=document.createElement("div");Ly.setAttribute("oninput","return;"),ld=typeof Ly.oninput=="function"}od=ld}else od=!1;Py=od&&(!document.documentMode||9<document.documentMode)}function Vy(){Al&&(Al.detachEvent("onpropertychange",jy),Cl=Al=null)}function jy(i){if(i.propertyName==="value"&&Nc(Cl)){var s=[];Oy(s,Cl,i,Jn(i)),$r(PS,s)}}function LS(i,s,o){i==="focusin"?(Vy(),Al=s,Cl=o,Al.attachEvent("onpropertychange",jy)):i==="focusout"&&Vy()}function VS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Nc(Cl)}function jS(i,s){if(i==="click")return Nc(s)}function zS(i,s){if(i==="input"||i==="change")return Nc(s)}function US(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Vn=typeof Object.is=="function"?Object.is:US;function Il(i,s){if(Vn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!xt.call(s,d)||!Vn(i[d],s[d]))return!1}return!0}function zy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Uy(i,s){var o=zy(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=s&&c>=s)return{node:o,offset:s-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=zy(o)}}function By(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?By(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Fy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Ui(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Ui(i.document)}return s}function ud(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var BS=Zn&&"documentMode"in document&&11>=document.documentMode,Za=null,cd=null,kl=null,hd=!1;function qy(i,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;hd||Za==null||Za!==Ui(c)||(c=Za,"selectionStart"in c&&ud(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),kl&&Il(kl,c)||(kl=c,c=vh(cd,"onSelect"),0<c.length&&(s=new qi("onSelect","select",null,s,o),i.push({event:s,listeners:c}),s.target=Za)))}function la(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var eo={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},fd={},Hy={};Zn&&(Hy=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function ua(i){if(fd[i])return fd[i];if(!eo[i])return i;var s=eo[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in Hy)return fd[i]=s[o];return i}var Gy=ua("animationend"),Ky=ua("animationiteration"),Qy=ua("animationstart"),FS=ua("transitionrun"),qS=ua("transitionstart"),HS=ua("transitioncancel"),Yy=ua("transitionend"),$y=new Map,dd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dd.push("scrollEnd");function xi(i,s){$y.set(i,s),ji(s,[i])}var Dc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ti=[],to=0,md=0;function Oc(){for(var i=to,s=md=to=0;s<i;){var o=ti[s];ti[s++]=null;var c=ti[s];ti[s++]=null;var d=ti[s];ti[s++]=null;var g=ti[s];if(ti[s++]=null,c!==null&&d!==null){var x=c.pending;x===null?d.next=d:(d.next=x.next,x.next=d),c.pending=d}g!==0&&Xy(o,d,g)}}function Mc(i,s,o,c){ti[to++]=i,ti[to++]=s,ti[to++]=o,ti[to++]=c,md|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function pd(i,s,o,c){return Mc(i,s,o,c),Pc(i)}function ca(i,s){return Mc(i,null,null,s),Pc(i)}function Xy(i,s,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&s!==null&&(d=31-Ke(o),i=g.hiddenUpdates,c=i[d],c===null?i[d]=[s]:c.push(s),s.lane=o|536870912),g):null}function Pc(i){if(50<Wl)throw Wl=0,wm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var no={};function GS(i,s,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(i,s,o,c){return new GS(i,s,o,c)}function gd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function dr(i,s){var o=i.alternate;return o===null?(o=jn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Wy(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Lc(i,s,o,c,d,g){var x=0;if(c=i,typeof i=="function")gd(i)&&(x=1);else if(typeof i=="string")x=XA(i,o,Ie.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case O:return i=jn(31,o,s,d),i.elementType=O,i.lanes=g,i;case U:return ha(o.children,d,g,s);case L:x=8,d|=24;break;case z:return i=jn(12,o,s,d|2),i.elementType=z,i.lanes=g,i;case he:return i=jn(13,o,s,d),i.elementType=he,i.lanes=g,i;case K:return i=jn(19,o,s,d),i.elementType=K,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case q:x=10;break e;case F:x=9;break e;case se:x=11;break e;case P:x=14;break e;case R:x=16,c=null;break e}x=29,o=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=jn(x,o,s,d),s.elementType=i,s.type=c,s.lanes=g,s}function ha(i,s,o,c){return i=jn(7,i,c,s),i.lanes=o,i}function yd(i,s,o){return i=jn(6,i,null,s),i.lanes=o,i}function Jy(i){var s=jn(18,null,null,0);return s.stateNode=i,s}function _d(i,s,o){return s=jn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Zy=new WeakMap;function ni(i,s){if(typeof i=="object"&&i!==null){var o=Zy.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Ys(s)},Zy.set(i,s),s)}return{value:i,source:s,stack:Ys(s)}}var io=[],ro=0,Vc=null,Rl=0,ii=[],ri=0,Zr=null,Qi=1,Yi="";function mr(i,s){io[ro++]=Rl,io[ro++]=Vc,Vc=i,Rl=s}function e_(i,s,o){ii[ri++]=Qi,ii[ri++]=Yi,ii[ri++]=Zr,Zr=i;var c=Qi;i=Yi;var d=32-Ke(c)-1;c&=~(1<<d),o+=1;var g=32-Ke(s)+d;if(30<g){var x=d-d%5;g=(c&(1<<x)-1).toString(32),c>>=x,d-=x,Qi=1<<32-Ke(s)+d|o<<d|c,Yi=g+i}else Qi=1<<g|o<<d|c,Yi=i}function vd(i){i.return!==null&&(mr(i,1),e_(i,1,0))}function bd(i){for(;i===Vc;)Vc=io[--ro],io[ro]=null,Rl=io[--ro],io[ro]=null;for(;i===Zr;)Zr=ii[--ri],ii[ri]=null,Yi=ii[--ri],ii[ri]=null,Qi=ii[--ri],ii[ri]=null}function t_(i,s){ii[ri++]=Qi,ii[ri++]=Yi,ii[ri++]=Zr,Qi=s.id,Yi=s.overflow,Zr=i}var rn=null,pt=null,Qe=!1,es=null,si=!1,Ed=Error(r(519));function ts(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nl(ni(s,i)),Ed}function n_(i){var s=i.stateNode,o=i.type,c=i.memoizedProps;switch(s[Lt]=i,s[Wt]=c,o){case"dialog":ze("cancel",s),ze("close",s);break;case"iframe":case"object":case"embed":ze("load",s);break;case"video":case"audio":for(o=0;o<Zl.length;o++)ze(Zl[o],s);break;case"source":ze("error",s);break;case"img":case"image":case"link":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"input":ze("invalid",s),gc(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ze("invalid",s);break;case"textarea":ze("invalid",s),Kr(s,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||vv(s.textContent,o)?(c.popover!=null&&(ze("beforetoggle",s),ze("toggle",s)),c.onScroll!=null&&ze("scroll",s),c.onScrollEnd!=null&&ze("scrollend",s),c.onClick!=null&&(s.onclick=yi),s=!0):s=!1,s||ts(i,!0)}function i_(i){for(rn=i.return;rn;)switch(rn.tag){case 5:case 31:case 13:si=!1;return;case 27:case 3:si=!0;return;default:rn=rn.return}}function so(i){if(i!==rn)return!1;if(!Qe)return i_(i),Qe=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||zm(i.type,i.memoizedProps)),o=!o),o&&pt&&ts(i),i_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));pt=Iv(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));pt=Iv(i)}else s===27?(s=pt,ps(i.type)?(i=Hm,Hm=null,pt=i):pt=s):pt=rn?oi(i.stateNode.nextSibling):null;return!0}function fa(){pt=rn=null,Qe=!1}function xd(){var i=es;return i!==null&&(kn===null?kn=i:kn.push.apply(kn,i),es=null),i}function Nl(i){es===null?es=[i]:es.push(i)}var Td=We(null),da=null,pr=null;function ns(i,s,o){M(Td,s._currentValue),s._currentValue=o}function gr(i){i._currentValue=Td.current,Ve(Td)}function wd(i,s,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===o)break;i=i.return}}function Sd(i,s,o,c){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var x=d.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=d;for(var j=0;j<s.length;j++)if(S.context===s[j]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),wd(g.return,o,i),c||(x=null);break e}g=S.next}}else if(d.tag===18){if(x=d.return,x===null)throw Error(r(341));x.lanes|=o,g=x.alternate,g!==null&&(g.lanes|=o),wd(x,o,i),x=null}else x=d.child;if(x!==null)x.return=d;else for(x=d;x!==null;){if(x===i){x=null;break}if(d=x.sibling,d!==null){d.return=x.return,x=d;break}x=x.return}d=x}}function ao(i,s,o,c){i=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var x=d.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var S=d.type;Vn(d.pendingProps.value,x.value)||(i!==null?i.push(S):i=[S])}}else if(d===_t.current){if(x=d.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(ru):i=[ru])}d=d.return}i!==null&&Sd(s,i,o,c),s.flags|=262144}function jc(i){for(i=i.firstContext;i!==null;){if(!Vn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ma(i){da=i,pr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function sn(i){return r_(da,i)}function zc(i,s){return da===null&&ma(i),r_(i,s)}function r_(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},pr===null){if(i===null)throw Error(r(308));pr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else pr=pr.next=s;return o}var KS=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},QS=t.unstable_scheduleCallback,YS=t.unstable_NormalPriority,zt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ad(){return{controller:new KS,data:new Map,refCount:0}}function Dl(i){i.refCount--,i.refCount===0&&QS(YS,function(){i.controller.abort()})}var Ol=null,Cd=0,oo=0,lo=null;function $S(i,s){if(Ol===null){var o=Ol=[];Cd=0,oo=Rm(),lo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Cd++,s.then(s_,s_),s}function s_(){if(--Cd===0&&Ol!==null){lo!==null&&(lo.status="fulfilled");var i=Ol;Ol=null,oo=0,lo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function XS(i,s){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var a_=Y.S;Y.S=function(i,s){q0=tn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&$S(i,s),a_!==null&&a_(i,s)};var pa=We(null);function Id(){var i=pa.current;return i!==null?i:ft.pooledCache}function Uc(i,s){s===null?M(pa,pa.current):M(pa,s.pool)}function o_(){var i=Id();return i===null?null:{parent:zt._currentValue,pool:i}}var uo=Error(r(460)),kd=Error(r(474)),Bc=Error(r(542)),Fc={then:function(){}};function l_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function u_(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(yi,yi),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,h_(i),i;default:if(typeof s.status=="string")s.then(yi,yi);else{if(i=ft,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=c}},function(c){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,h_(i),i}throw ya=s,uo}}function ga(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ya=o,uo):o}}var ya=null;function c_(){if(ya===null)throw Error(r(459));var i=ya;return ya=null,i}function h_(i){if(i===uo||i===Bc)throw Error(r(483))}var co=null,Ml=0;function qc(i){var s=Ml;return Ml+=1,co===null&&(co=[]),u_(co,i,s)}function Pl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Hc(i,s){throw s.$$typeof===E?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function f_(i){function s(H,B){if(i){var Q=H.deletions;Q===null?(H.deletions=[B],H.flags|=16):Q.push(B)}}function o(H,B){if(!i)return null;for(;B!==null;)s(H,B),B=B.sibling;return null}function c(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function d(H,B){return H=dr(H,B),H.index=0,H.sibling=null,H}function g(H,B,Q){return H.index=Q,i?(Q=H.alternate,Q!==null?(Q=Q.index,Q<B?(H.flags|=67108866,B):Q):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function x(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function S(H,B,Q,te){return B===null||B.tag!==6?(B=yd(Q,H.mode,te),B.return=H,B):(B=d(B,Q),B.return=H,B)}function j(H,B,Q,te){var ve=Q.type;return ve===U?Z(H,B,Q.props.children,te,Q.key):B!==null&&(B.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===R&&ga(ve)===B.type)?(B=d(B,Q.props),Pl(B,Q),B.return=H,B):(B=Lc(Q.type,Q.key,Q.props,null,H.mode,te),Pl(B,Q),B.return=H,B)}function $(H,B,Q,te){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=_d(Q,H.mode,te),B.return=H,B):(B=d(B,Q.children||[]),B.return=H,B)}function Z(H,B,Q,te,ve){return B===null||B.tag!==7?(B=ha(Q,H.mode,te,ve),B.return=H,B):(B=d(B,Q),B.return=H,B)}function ne(H,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=yd(""+B,H.mode,Q),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case T:return Q=Lc(B.type,B.key,B.props,null,H.mode,Q),Pl(Q,B),Q.return=H,Q;case I:return B=_d(B,H.mode,Q),B.return=H,B;case R:return B=ga(B),ne(H,B,Q)}if(ae(B)||D(B))return B=ha(B,H.mode,Q,null),B.return=H,B;if(typeof B.then=="function")return ne(H,qc(B),Q);if(B.$$typeof===q)return ne(H,zc(H,B),Q);Hc(H,B)}return null}function X(H,B,Q,te){var ve=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return ve!==null?null:S(H,B,""+Q,te);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case T:return Q.key===ve?j(H,B,Q,te):null;case I:return Q.key===ve?$(H,B,Q,te):null;case R:return Q=ga(Q),X(H,B,Q,te)}if(ae(Q)||D(Q))return ve!==null?null:Z(H,B,Q,te,null);if(typeof Q.then=="function")return X(H,B,qc(Q),te);if(Q.$$typeof===q)return X(H,B,zc(H,Q),te);Hc(H,Q)}return null}function J(H,B,Q,te,ve){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return H=H.get(Q)||null,S(B,H,""+te,ve);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case T:return H=H.get(te.key===null?Q:te.key)||null,j(B,H,te,ve);case I:return H=H.get(te.key===null?Q:te.key)||null,$(B,H,te,ve);case R:return te=ga(te),J(H,B,Q,te,ve)}if(ae(te)||D(te))return H=H.get(Q)||null,Z(B,H,te,ve,null);if(typeof te.then=="function")return J(H,B,Q,qc(te),ve);if(te.$$typeof===q)return J(H,B,Q,zc(B,te),ve);Hc(B,te)}return null}function ge(H,B,Q,te){for(var ve=null,Ze=null,ye=B,Me=B=0,Fe=null;ye!==null&&Me<Q.length;Me++){ye.index>Me?(Fe=ye,ye=null):Fe=ye.sibling;var et=X(H,ye,Q[Me],te);if(et===null){ye===null&&(ye=Fe);break}i&&ye&&et.alternate===null&&s(H,ye),B=g(et,B,Me),Ze===null?ve=et:Ze.sibling=et,Ze=et,ye=Fe}if(Me===Q.length)return o(H,ye),Qe&&mr(H,Me),ve;if(ye===null){for(;Me<Q.length;Me++)ye=ne(H,Q[Me],te),ye!==null&&(B=g(ye,B,Me),Ze===null?ve=ye:Ze.sibling=ye,Ze=ye);return Qe&&mr(H,Me),ve}for(ye=c(ye);Me<Q.length;Me++)Fe=J(ye,H,Me,Q[Me],te),Fe!==null&&(i&&Fe.alternate!==null&&ye.delete(Fe.key===null?Me:Fe.key),B=g(Fe,B,Me),Ze===null?ve=Fe:Ze.sibling=Fe,Ze=Fe);return i&&ye.forEach(function(bs){return s(H,bs)}),Qe&&mr(H,Me),ve}function Te(H,B,Q,te){if(Q==null)throw Error(r(151));for(var ve=null,Ze=null,ye=B,Me=B=0,Fe=null,et=Q.next();ye!==null&&!et.done;Me++,et=Q.next()){ye.index>Me?(Fe=ye,ye=null):Fe=ye.sibling;var bs=X(H,ye,et.value,te);if(bs===null){ye===null&&(ye=Fe);break}i&&ye&&bs.alternate===null&&s(H,ye),B=g(bs,B,Me),Ze===null?ve=bs:Ze.sibling=bs,Ze=bs,ye=Fe}if(et.done)return o(H,ye),Qe&&mr(H,Me),ve;if(ye===null){for(;!et.done;Me++,et=Q.next())et=ne(H,et.value,te),et!==null&&(B=g(et,B,Me),Ze===null?ve=et:Ze.sibling=et,Ze=et);return Qe&&mr(H,Me),ve}for(ye=c(ye);!et.done;Me++,et=Q.next())et=J(ye,H,Me,et.value,te),et!==null&&(i&&et.alternate!==null&&ye.delete(et.key===null?Me:et.key),B=g(et,B,Me),Ze===null?ve=et:Ze.sibling=et,Ze=et);return i&&ye.forEach(function(oC){return s(H,oC)}),Qe&&mr(H,Me),ve}function ht(H,B,Q,te){if(typeof Q=="object"&&Q!==null&&Q.type===U&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case T:e:{for(var ve=Q.key;B!==null;){if(B.key===ve){if(ve=Q.type,ve===U){if(B.tag===7){o(H,B.sibling),te=d(B,Q.props.children),te.return=H,H=te;break e}}else if(B.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===R&&ga(ve)===B.type){o(H,B.sibling),te=d(B,Q.props),Pl(te,Q),te.return=H,H=te;break e}o(H,B);break}else s(H,B);B=B.sibling}Q.type===U?(te=ha(Q.props.children,H.mode,te,Q.key),te.return=H,H=te):(te=Lc(Q.type,Q.key,Q.props,null,H.mode,te),Pl(te,Q),te.return=H,H=te)}return x(H);case I:e:{for(ve=Q.key;B!==null;){if(B.key===ve)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){o(H,B.sibling),te=d(B,Q.children||[]),te.return=H,H=te;break e}else{o(H,B);break}else s(H,B);B=B.sibling}te=_d(Q,H.mode,te),te.return=H,H=te}return x(H);case R:return Q=ga(Q),ht(H,B,Q,te)}if(ae(Q))return ge(H,B,Q,te);if(D(Q)){if(ve=D(Q),typeof ve!="function")throw Error(r(150));return Q=ve.call(Q),Te(H,B,Q,te)}if(typeof Q.then=="function")return ht(H,B,qc(Q),te);if(Q.$$typeof===q)return ht(H,B,zc(H,Q),te);Hc(H,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,B!==null&&B.tag===6?(o(H,B.sibling),te=d(B,Q),te.return=H,H=te):(o(H,B),te=yd(Q,H.mode,te),te.return=H,H=te),x(H)):o(H,B)}return function(H,B,Q,te){try{Ml=0;var ve=ht(H,B,Q,te);return co=null,ve}catch(ye){if(ye===uo||ye===Bc)throw ye;var Ze=jn(29,ye,null,H.mode);return Ze.lanes=te,Ze.return=H,Ze}finally{}}}var _a=f_(!0),d_=f_(!1),is=!1;function Rd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nd(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function rs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ss(i,s,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(it&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,s=Pc(i),Xy(i,null,o),s}return Mc(i,c,s,o),Pc(i)}function Ll(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,ul(i,o)}}function Dd(i,s){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=x:g=g.next=x,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Od=!1;function Vl(){if(Od){var i=lo;if(i!==null)throw i}}function jl(i,s,o,c){Od=!1;var d=i.updateQueue;is=!1;var g=d.firstBaseUpdate,x=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var j=S,$=j.next;j.next=null,x===null?g=$:x.next=$,x=j;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==x&&(S===null?Z.firstBaseUpdate=$:S.next=$,Z.lastBaseUpdate=j))}if(g!==null){var ne=d.baseState;x=0,Z=$=j=null,S=g;do{var X=S.lane&-536870913,J=X!==S.lane;if(J?(Be&X)===X:(c&X)===X){X!==0&&X===oo&&(Od=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ge=i,Te=S;X=s;var ht=o;switch(Te.tag){case 1:if(ge=Te.payload,typeof ge=="function"){ne=ge.call(ht,ne,X);break e}ne=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Te.payload,X=typeof ge=="function"?ge.call(ht,ne,X):ge,X==null)break e;ne=y({},ne,X);break e;case 2:is=!0}}X=S.callback,X!==null&&(i.flags|=64,J&&(i.flags|=8192),J=d.callbacks,J===null?d.callbacks=[X]:J.push(X))}else J={lane:X,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?($=Z=J,j=ne):Z=Z.next=J,x|=X;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;J=S,S=J.next,J.next=null,d.lastBaseUpdate=J,d.shared.pending=null}}while(!0);Z===null&&(j=ne),d.baseState=j,d.firstBaseUpdate=$,d.lastBaseUpdate=Z,g===null&&(d.shared.lanes=0),cs|=x,i.lanes=x,i.memoizedState=ne}}function m_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function p_(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)m_(o[i],s)}var ho=We(null),Gc=We(0);function g_(i,s){i=Sr,M(Gc,i),M(ho,s),Sr=i|s.baseLanes}function Md(){M(Gc,Sr),M(ho,ho.current)}function Pd(){Sr=Gc.current,Ve(ho),Ve(Gc)}var zn=We(null),ai=null;function as(i){var s=i.alternate;M(Dt,Dt.current&1),M(zn,i),ai===null&&(s===null||ho.current!==null||s.memoizedState!==null)&&(ai=i)}function Ld(i){M(Dt,Dt.current),M(zn,i),ai===null&&(ai=i)}function y_(i){i.tag===22?(M(Dt,Dt.current),M(zn,i),ai===null&&(ai=i)):os()}function os(){M(Dt,Dt.current),M(zn,zn.current)}function Un(i){Ve(zn),ai===i&&(ai=null),Ve(Dt)}var Dt=We(0);function Kc(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Fm(o)||qm(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var yr=0,De=null,ut=null,Ut=null,Qc=!1,fo=!1,va=!1,Yc=0,zl=0,mo=null,WS=0;function It(){throw Error(r(321))}function Vd(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Vn(i[o],s[o]))return!1;return!0}function jd(i,s,o,c,d,g){return yr=g,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=i===null||i.memoizedState===null?e0:Zd,va=!1,g=o(c,d),va=!1,fo&&(g=v_(s,o,c,d)),__(i),g}function __(i){Y.H=Fl;var s=ut!==null&&ut.next!==null;if(yr=0,Ut=ut=De=null,Qc=!1,zl=0,mo=null,s)throw Error(r(300));i===null||Bt||(i=i.dependencies,i!==null&&jc(i)&&(Bt=!0))}function v_(i,s,o,c){De=i;var d=0;do{if(fo&&(mo=null),zl=0,fo=!1,25<=d)throw Error(r(301));if(d+=1,Ut=ut=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Y.H=t0,g=s(o,c)}while(fo);return g}function JS(){var i=Y.H,s=i.useState()[0];return s=typeof s.then=="function"?Ul(s):s,i=i.useState()[0],(ut!==null?ut.memoizedState:null)!==i&&(De.flags|=1024),s}function zd(){var i=Yc!==0;return Yc=0,i}function Ud(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Bd(i){if(Qc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Qc=!1}yr=0,Ut=ut=De=null,fo=!1,zl=Yc=0,mo=null}function xn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?De.memoizedState=Ut=i:Ut=Ut.next=i,Ut}function Ot(){if(ut===null){var i=De.alternate;i=i!==null?i.memoizedState:null}else i=ut.next;var s=Ut===null?De.memoizedState:Ut.next;if(s!==null)Ut=s,ut=i;else{if(i===null)throw De.alternate===null?Error(r(467)):Error(r(310));ut=i,i={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Ut===null?De.memoizedState=Ut=i:Ut=Ut.next=i}return Ut}function $c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ul(i){var s=zl;return zl+=1,mo===null&&(mo=[]),i=u_(mo,i,s),s=De,(Ut===null?s.memoizedState:Ut.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?e0:Zd),i}function Xc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ul(i);if(i.$$typeof===q)return sn(i)}throw Error(r(438,String(i)))}function Fd(i){var s=null,o=De.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=De.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=$c(),De.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),c=0;c<i;c++)o[c]=A;return s.index++,o}function _r(i,s){return typeof s=="function"?s(i):s}function Wc(i){var s=Ot();return qd(s,ut,i)}function qd(i,s,o){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var d=i.baseQueue,g=c.pending;if(g!==null){if(d!==null){var x=d.next;d.next=g.next,g.next=x}s.baseQueue=d=g,c.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{s=d.next;var S=x=null,j=null,$=s,Z=!1;do{var ne=$.lane&-536870913;if(ne!==$.lane?(Be&ne)===ne:(yr&ne)===ne){var X=$.revertLane;if(X===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ne===oo&&(Z=!0);else if((yr&X)===X){$=$.next,X===oo&&(Z=!0);continue}else ne={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},j===null?(S=j=ne,x=g):j=j.next=ne,De.lanes|=X,cs|=X;ne=$.action,va&&o(g,ne),g=$.hasEagerState?$.eagerState:o(g,ne)}else X={lane:ne,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},j===null?(S=j=X,x=g):j=j.next=X,De.lanes|=ne,cs|=ne;$=$.next}while($!==null&&$!==s);if(j===null?x=g:j.next=S,!Vn(g,i.memoizedState)&&(Bt=!0,Z&&(o=lo,o!==null)))throw o;i.memoizedState=g,i.baseState=x,i.baseQueue=j,c.lastRenderedState=g}return d===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Hd(i){var s=Ot(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var c=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var x=d=d.next;do g=i(g,x.action),x=x.next;while(x!==d);Vn(g,s.memoizedState)||(Bt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function b_(i,s,o){var c=De,d=Ot(),g=Qe;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var x=!Vn((ut||d).memoizedState,o);if(x&&(d.memoizedState=o,Bt=!0),d=d.queue,Qd(T_.bind(null,c,d,i),[i]),d.getSnapshot!==s||x||Ut!==null&&Ut.memoizedState.tag&1){if(c.flags|=2048,po(9,{destroy:void 0},x_.bind(null,c,d,o,s),null),ft===null)throw Error(r(349));g||(yr&127)!==0||E_(c,s,o)}return o}function E_(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=De.updateQueue,s===null?(s=$c(),De.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function x_(i,s,o,c){s.value=o,s.getSnapshot=c,w_(s)&&S_(i)}function T_(i,s,o){return o(function(){w_(s)&&S_(i)})}function w_(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Vn(i,o)}catch{return!0}}function S_(i){var s=ca(i,2);s!==null&&Rn(s,i,2)}function Gd(i){var s=xn();if(typeof i=="function"){var o=i;if(i=o(),va){Xt(!0);try{o()}finally{Xt(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:i},s}function A_(i,s,o,c){return i.baseState=o,qd(i,ut,typeof c=="function"?c:_r)}function ZS(i,s,o,c,d){if(eh(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};Y.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,C_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function C_(i,s){var o=s.action,c=s.payload,d=i.state;if(s.isTransition){var g=Y.T,x={};Y.T=x;try{var S=o(d,c),j=Y.S;j!==null&&j(x,S),I_(i,s,S)}catch($){Kd(i,s,$)}finally{g!==null&&x.types!==null&&(g.types=x.types),Y.T=g}}else try{g=o(d,c),I_(i,s,g)}catch($){Kd(i,s,$)}}function I_(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){k_(i,s,c)},function(c){return Kd(i,s,c)}):k_(i,s,o)}function k_(i,s,o){s.status="fulfilled",s.value=o,R_(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,C_(i,o)))}function Kd(i,s,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,R_(s),s=s.next;while(s!==c)}i.action=null}function R_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function N_(i,s){return s}function D_(i,s){if(Qe){var o=ft.formState;if(o!==null){e:{var c=De;if(Qe){if(pt){t:{for(var d=pt,g=si;d.nodeType!==8;){if(!g){d=null;break t}if(d=oi(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){pt=oi(d.nextSibling),c=d.data==="F!";break e}}ts(c)}c=!1}c&&(s=o[0])}}return o=xn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:N_,lastRenderedState:s},o.queue=c,o=W_.bind(null,De,c),c.dispatch=o,c=Gd(!1),g=Jd.bind(null,De,!1,c.queue),c=xn(),d={state:s,dispatch:null,action:i,pending:null},c.queue=d,o=ZS.bind(null,De,d,g,o),d.dispatch=o,c.memoizedState=i,[s,o,!1]}function O_(i){var s=Ot();return M_(s,ut,i)}function M_(i,s,o){if(s=qd(i,s,N_)[0],i=Wc(_r)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Ul(s)}catch(x){throw x===uo?Bc:x}else c=s;s=Ot();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(De.flags|=2048,po(9,{destroy:void 0},eA.bind(null,d,o),null)),[c,g,i]}function eA(i,s){i.action=s}function P_(i){var s=Ot(),o=ut;if(o!==null)return M_(s,o,i);Ot(),s=s.memoizedState,o=Ot();var c=o.queue.dispatch;return o.memoizedState=i,[s,c,!1]}function po(i,s,o,c){return i={tag:i,create:o,deps:c,inst:s,next:null},s=De.updateQueue,s===null&&(s=$c(),De.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,s.lastEffect=i),i}function L_(){return Ot().memoizedState}function Jc(i,s,o,c){var d=xn();De.flags|=i,d.memoizedState=po(1|s,{destroy:void 0},o,c===void 0?null:c)}function Zc(i,s,o,c){var d=Ot();c=c===void 0?null:c;var g=d.memoizedState.inst;ut!==null&&c!==null&&Vd(c,ut.memoizedState.deps)?d.memoizedState=po(s,g,o,c):(De.flags|=i,d.memoizedState=po(1|s,g,o,c))}function V_(i,s){Jc(8390656,8,i,s)}function Qd(i,s){Zc(2048,8,i,s)}function tA(i){De.flags|=4;var s=De.updateQueue;if(s===null)s=$c(),De.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function j_(i){var s=Ot().memoizedState;return tA({ref:s,nextImpl:i}),function(){if((it&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function z_(i,s){return Zc(4,2,i,s)}function U_(i,s){return Zc(4,4,i,s)}function B_(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function F_(i,s,o){o=o!=null?o.concat([i]):null,Zc(4,4,B_.bind(null,s,i),o)}function Yd(){}function q_(i,s){var o=Ot();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Vd(s,c[1])?c[0]:(o.memoizedState=[i,s],i)}function H_(i,s){var o=Ot();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Vd(s,c[1]))return c[0];if(c=i(),va){Xt(!0);try{i()}finally{Xt(!1)}}return o.memoizedState=[c,s],c}function $d(i,s,o){return o===void 0||(yr&1073741824)!==0&&(Be&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=G0(),De.lanes|=i,cs|=i,o)}function G_(i,s,o,c){return Vn(o,s)?o:ho.current!==null?(i=$d(i,o,c),Vn(i,s)||(Bt=!0),i):(yr&42)===0||(yr&1073741824)!==0&&(Be&261930)===0?(Bt=!0,i.memoizedState=o):(i=G0(),De.lanes|=i,cs|=i,s)}function K_(i,s,o,c,d){var g=oe.p;oe.p=g!==0&&8>g?g:8;var x=Y.T,S={};Y.T=S,Jd(i,!1,s,o);try{var j=d(),$=Y.S;if($!==null&&$(S,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var Z=XS(j,c);Bl(i,s,Z,qn(i))}else Bl(i,s,c,qn(i))}catch(ne){Bl(i,s,{then:function(){},status:"rejected",reason:ne},qn())}finally{oe.p=g,x!==null&&S.types!==null&&(x.types=S.types),Y.T=x}}function nA(){}function Xd(i,s,o,c){if(i.tag!==5)throw Error(r(476));var d=Q_(i).queue;K_(i,d,s,me,o===null?nA:function(){return Y_(i),o(c)})}function Q_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:me},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Y_(i){var s=Q_(i);s.next===null&&(s=i.alternate.memoizedState),Bl(i,s.next.queue,{},qn())}function Wd(){return sn(ru)}function $_(){return Ot().memoizedState}function X_(){return Ot().memoizedState}function iA(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=qn();i=rs(o);var c=ss(s,i,o);c!==null&&(Rn(c,s,o),Ll(c,s,o)),s={cache:Ad()},i.payload=s;return}s=s.return}}function rA(i,s,o){var c=qn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},eh(i)?J_(s,o):(o=pd(i,s,o,c),o!==null&&(Rn(o,i,c),Z_(o,s,c)))}function W_(i,s,o){var c=qn();Bl(i,s,o,c)}function Bl(i,s,o,c){var d={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(eh(i))J_(s,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var x=s.lastRenderedState,S=g(x,o);if(d.hasEagerState=!0,d.eagerState=S,Vn(S,x))return Mc(i,s,d,0),ft===null&&Oc(),!1}catch{}finally{}if(o=pd(i,s,d,c),o!==null)return Rn(o,i,c),Z_(o,s,c),!0}return!1}function Jd(i,s,o,c){if(c={lane:2,revertLane:Rm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},eh(i)){if(s)throw Error(r(479))}else s=pd(i,o,c,2),s!==null&&Rn(s,i,2)}function eh(i){var s=i.alternate;return i===De||s!==null&&s===De}function J_(i,s){fo=Qc=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function Z_(i,s,o){if((o&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,ul(i,o)}}var Fl={readContext:sn,use:Xc,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};Fl.useEffectEvent=It;var e0={readContext:sn,use:Xc,useCallback:function(i,s){return xn().memoizedState=[i,s===void 0?null:s],i},useContext:sn,useEffect:V_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Jc(4194308,4,B_.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Jc(4194308,4,i,s)},useInsertionEffect:function(i,s){Jc(4,2,i,s)},useMemo:function(i,s){var o=xn();s=s===void 0?null:s;var c=i();if(va){Xt(!0);try{i()}finally{Xt(!1)}}return o.memoizedState=[c,s],c},useReducer:function(i,s,o){var c=xn();if(o!==void 0){var d=o(s);if(va){Xt(!0);try{o(s)}finally{Xt(!1)}}}else d=s;return c.memoizedState=c.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},c.queue=i,i=i.dispatch=rA.bind(null,De,i),[c.memoizedState,i]},useRef:function(i){var s=xn();return i={current:i},s.memoizedState=i},useState:function(i){i=Gd(i);var s=i.queue,o=W_.bind(null,De,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Yd,useDeferredValue:function(i,s){var o=xn();return $d(o,i,s)},useTransition:function(){var i=Gd(!1);return i=K_.bind(null,De,i.queue,!0,!1),xn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var c=De,d=xn();if(Qe){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),ft===null)throw Error(r(349));(Be&127)!==0||E_(c,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,V_(T_.bind(null,c,g,i),[i]),c.flags|=2048,po(9,{destroy:void 0},x_.bind(null,c,g,o,s),null),o},useId:function(){var i=xn(),s=ft.identifierPrefix;if(Qe){var o=Yi,c=Qi;o=(c&~(1<<32-Ke(c)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Yc++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=WS++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Wd,useFormState:D_,useActionState:D_,useOptimistic:function(i){var s=xn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Jd.bind(null,De,!0,o),o.dispatch=s,[i,s]},useMemoCache:Fd,useCacheRefresh:function(){return xn().memoizedState=iA.bind(null,De)},useEffectEvent:function(i){var s=xn(),o={impl:i};return s.memoizedState=o,function(){if((it&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},Zd={readContext:sn,use:Xc,useCallback:q_,useContext:sn,useEffect:Qd,useImperativeHandle:F_,useInsertionEffect:z_,useLayoutEffect:U_,useMemo:H_,useReducer:Wc,useRef:L_,useState:function(){return Wc(_r)},useDebugValue:Yd,useDeferredValue:function(i,s){var o=Ot();return G_(o,ut.memoizedState,i,s)},useTransition:function(){var i=Wc(_r)[0],s=Ot().memoizedState;return[typeof i=="boolean"?i:Ul(i),s]},useSyncExternalStore:b_,useId:$_,useHostTransitionStatus:Wd,useFormState:O_,useActionState:O_,useOptimistic:function(i,s){var o=Ot();return A_(o,ut,i,s)},useMemoCache:Fd,useCacheRefresh:X_};Zd.useEffectEvent=j_;var t0={readContext:sn,use:Xc,useCallback:q_,useContext:sn,useEffect:Qd,useImperativeHandle:F_,useInsertionEffect:z_,useLayoutEffect:U_,useMemo:H_,useReducer:Hd,useRef:L_,useState:function(){return Hd(_r)},useDebugValue:Yd,useDeferredValue:function(i,s){var o=Ot();return ut===null?$d(o,i,s):G_(o,ut.memoizedState,i,s)},useTransition:function(){var i=Hd(_r)[0],s=Ot().memoizedState;return[typeof i=="boolean"?i:Ul(i),s]},useSyncExternalStore:b_,useId:$_,useHostTransitionStatus:Wd,useFormState:P_,useActionState:P_,useOptimistic:function(i,s){var o=Ot();return ut!==null?A_(o,ut,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Fd,useCacheRefresh:X_};t0.useEffectEvent=j_;function em(i,s,o,c){s=i.memoizedState,o=o(c,s),o=o==null?s:y({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var tm={enqueueSetState:function(i,s,o){i=i._reactInternals;var c=qn(),d=rs(c);d.payload=s,o!=null&&(d.callback=o),s=ss(i,d,c),s!==null&&(Rn(s,i,c),Ll(s,i,c))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var c=qn(),d=rs(c);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=ss(i,d,c),s!==null&&(Rn(s,i,c),Ll(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=qn(),c=rs(o);c.tag=2,s!=null&&(c.callback=s),s=ss(i,c,o),s!==null&&(Rn(s,i,o),Ll(s,i,o))}};function n0(i,s,o,c,d,g,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,x):s.prototype&&s.prototype.isPureReactComponent?!Il(o,c)||!Il(d,g):!0}function i0(i,s,o,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==i&&tm.enqueueReplaceState(s,s.state,null)}function ba(i,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(i=i.defaultProps){o===s&&(o=y({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function r0(i){Dc(i)}function s0(i){console.error(i)}function a0(i){Dc(i)}function th(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function o0(i,s,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function nm(i,s,o){return o=rs(o),o.tag=3,o.payload={element:null},o.callback=function(){th(i,s)},o}function l0(i){return i=rs(i),i.tag=3,i}function u0(i,s,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;i.payload=function(){return d(g)},i.callback=function(){o0(s,o,c)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){o0(s,o,c),typeof d!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function sA(i,s,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&ao(s,o,d,!0),o=zn.current,o!==null){switch(o.tag){case 31:case 13:return ai===null?dh():o.alternate===null&&kt===0&&(kt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===Fc?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Cm(i,c,d)),!1;case 22:return o.flags|=65536,c===Fc?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Cm(i,c,d)),!1}throw Error(r(435,o.tag))}return Cm(i,c,d),dh(),!1}if(Qe)return s=zn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,c!==Ed&&(i=Error(r(422),{cause:c}),Nl(ni(i,o)))):(c!==Ed&&(s=Error(r(423),{cause:c}),Nl(ni(s,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,c=ni(c,o),d=nm(i.stateNode,c,d),Dd(i,d),kt!==4&&(kt=2)),!1;var g=Error(r(520),{cause:c});if(g=ni(g,o),Xl===null?Xl=[g]:Xl.push(g),kt!==4&&(kt=2),s===null)return!0;c=ni(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=nm(o.stateNode,c,i),Dd(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(hs===null||!hs.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=l0(d),u0(d,i,o,c),Dd(o,d),!1}o=o.return}while(o!==null);return!1}var im=Error(r(461)),Bt=!1;function an(i,s,o,c){s.child=i===null?d_(s,null,o,c):_a(s,i.child,o,c)}function c0(i,s,o,c,d){o=o.render;var g=s.ref;if("ref"in c){var x={};for(var S in c)S!=="ref"&&(x[S]=c[S])}else x=c;return ma(s),c=jd(i,s,o,x,g,d),S=zd(),i!==null&&!Bt?(Ud(i,s,d),vr(i,s,d)):(Qe&&S&&vd(s),s.flags|=1,an(i,s,c,d),s.child)}function h0(i,s,o,c,d){if(i===null){var g=o.type;return typeof g=="function"&&!gd(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,f0(i,s,g,c,d)):(i=Lc(o.type,null,c,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!hm(i,d)){var x=g.memoizedProps;if(o=o.compare,o=o!==null?o:Il,o(x,c)&&i.ref===s.ref)return vr(i,s,d)}return s.flags|=1,i=dr(g,c),i.ref=s.ref,i.return=s,s.child=i}function f0(i,s,o,c,d){if(i!==null){var g=i.memoizedProps;if(Il(g,c)&&i.ref===s.ref)if(Bt=!1,s.pendingProps=c=g,hm(i,d))(i.flags&131072)!==0&&(Bt=!0);else return s.lanes=i.lanes,vr(i,s,d)}return rm(i,s,o,c,d)}function d0(i,s,o,c){var d=c.children,g=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=s.child=i.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~g}else c=0,s.child=null;return m0(i,s,g,o,c)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Uc(s,g!==null?g.cachePool:null),g!==null?g_(s,g):Md(),y_(s);else return c=s.lanes=536870912,m0(i,s,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Uc(s,g.cachePool),g_(s,g),os(),s.memoizedState=null):(i!==null&&Uc(s,null),Md(),os());return an(i,s,d,o),s.child}function ql(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function m0(i,s,o,c,d){var g=Id();return g=g===null?null:{parent:zt._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},i!==null&&Uc(s,null),Md(),y_(s),i!==null&&ao(i,s,c,!0),s.childLanes=d,null}function nh(i,s){return s=rh({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function p0(i,s,o){return _a(s,i.child,null,o),i=nh(s,s.pendingProps),i.flags|=2,Un(s),s.memoizedState=null,i}function aA(i,s,o){var c=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Qe){if(c.mode==="hidden")return i=nh(s,c),s.lanes=536870912,ql(null,i);if(Ld(s),(i=pt)?(i=Cv(i,si),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Zr!==null?{id:Qi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},o=Jy(i),o.return=s,s.child=o,rn=s,pt=null)):i=null,i===null)throw ts(s);return s.lanes=536870912,null}return nh(s,c)}var g=i.memoizedState;if(g!==null){var x=g.dehydrated;if(Ld(s),d)if(s.flags&256)s.flags&=-257,s=p0(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Bt||ao(i,s,o,!1),d=(o&i.childLanes)!==0,Bt||d){if(c=ft,c!==null&&(x=cl(c,o),x!==0&&x!==g.retryLane))throw g.retryLane=x,ca(i,x),Rn(c,i,x),im;dh(),s=p0(i,s,o)}else i=g.treeContext,pt=oi(x.nextSibling),rn=s,Qe=!0,es=null,si=!1,i!==null&&t_(s,i),s=nh(s,c),s.flags|=4096;return s}return i=dr(i.child,{mode:c.mode,children:c.children}),i.ref=s.ref,s.child=i,i.return=s,i}function ih(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function rm(i,s,o,c,d){return ma(s),o=jd(i,s,o,c,void 0,d),c=zd(),i!==null&&!Bt?(Ud(i,s,d),vr(i,s,d)):(Qe&&c&&vd(s),s.flags|=1,an(i,s,o,d),s.child)}function g0(i,s,o,c,d,g){return ma(s),s.updateQueue=null,o=v_(s,c,o,d),__(i),c=zd(),i!==null&&!Bt?(Ud(i,s,g),vr(i,s,g)):(Qe&&c&&vd(s),s.flags|=1,an(i,s,o,g),s.child)}function y0(i,s,o,c,d){if(ma(s),s.stateNode===null){var g=no,x=o.contextType;typeof x=="object"&&x!==null&&(g=sn(x)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=tm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Rd(s),x=o.contextType,g.context=typeof x=="object"&&x!==null?sn(x):no,g.state=s.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(em(s,o,x,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&tm.enqueueReplaceState(g,g.state,null),jl(s,c,g,d),Vl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){g=s.stateNode;var S=s.memoizedProps,j=ba(o,S);g.props=j;var $=g.context,Z=o.contextType;x=no,typeof Z=="object"&&Z!==null&&(x=sn(Z));var ne=o.getDerivedStateFromProps;Z=typeof ne=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||$!==x)&&i0(s,g,c,x),is=!1;var X=s.memoizedState;g.state=X,jl(s,c,g,d),Vl(),$=s.memoizedState,S||X!==$||is?(typeof ne=="function"&&(em(s,o,ne,c),$=s.memoizedState),(j=is||n0(s,o,j,c,X,$,x))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=$),g.props=c,g.state=$,g.context=x,c=j):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Nd(i,s),x=s.memoizedProps,Z=ba(o,x),g.props=Z,ne=s.pendingProps,X=g.context,$=o.contextType,j=no,typeof $=="object"&&$!==null&&(j=sn($)),S=o.getDerivedStateFromProps,($=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==ne||X!==j)&&i0(s,g,c,j),is=!1,X=s.memoizedState,g.state=X,jl(s,c,g,d),Vl();var J=s.memoizedState;x!==ne||X!==J||is||i!==null&&i.dependencies!==null&&jc(i.dependencies)?(typeof S=="function"&&(em(s,o,S,c),J=s.memoizedState),(Z=is||n0(s,o,Z,c,X,J,j)||i!==null&&i.dependencies!==null&&jc(i.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,J,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,J,j)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=J),g.props=c,g.state=J,g.context=j,c=Z):(typeof g.componentDidUpdate!="function"||x===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),c=!1)}return g=c,ih(i,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&c?(s.child=_a(s,i.child,null,d),s.child=_a(s,null,o,d)):an(i,s,o,d),s.memoizedState=g.state,i=s.child):i=vr(i,s,d),i}function _0(i,s,o,c){return fa(),s.flags|=256,an(i,s,o,c),s.child}var sm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function am(i){return{baseLanes:i,cachePool:o_()}}function om(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Fn),i}function v0(i,s,o){var c=s.pendingProps,d=!1,g=(s.flags&128)!==0,x;if((x=g)||(x=i!==null&&i.memoizedState===null?!1:(Dt.current&2)!==0),x&&(d=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,i===null){if(Qe){if(d?as(s):os(),(i=pt)?(i=Cv(i,si),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Zr!==null?{id:Qi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},o=Jy(i),o.return=s,s.child=o,rn=s,pt=null)):i=null,i===null)throw ts(s);return qm(i)?s.lanes=32:s.lanes=536870912,null}var S=c.children;return c=c.fallback,d?(os(),d=s.mode,S=rh({mode:"hidden",children:S},d),c=ha(c,d,o,null),S.return=s,c.return=s,S.sibling=c,s.child=S,c=s.child,c.memoizedState=am(o),c.childLanes=om(i,x,o),s.memoizedState=sm,ql(null,c)):(as(s),lm(s,S))}var j=i.memoizedState;if(j!==null&&(S=j.dehydrated,S!==null)){if(g)s.flags&256?(as(s),s.flags&=-257,s=um(i,s,o)):s.memoizedState!==null?(os(),s.child=i.child,s.flags|=128,s=null):(os(),S=c.fallback,d=s.mode,c=rh({mode:"visible",children:c.children},d),S=ha(S,d,o,null),S.flags|=2,c.return=s,S.return=s,c.sibling=S,s.child=c,_a(s,i.child,null,o),c=s.child,c.memoizedState=am(o),c.childLanes=om(i,x,o),s.memoizedState=sm,s=ql(null,c));else if(as(s),qm(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var $=x.dgst;x=$,c=Error(r(419)),c.stack="",c.digest=x,Nl({value:c,source:null,stack:null}),s=um(i,s,o)}else if(Bt||ao(i,s,o,!1),x=(o&i.childLanes)!==0,Bt||x){if(x=ft,x!==null&&(c=cl(x,o),c!==0&&c!==j.retryLane))throw j.retryLane=c,ca(i,c),Rn(x,i,c),im;Fm(S)||dh(),s=um(i,s,o)}else Fm(S)?(s.flags|=192,s.child=i.child,s=null):(i=j.treeContext,pt=oi(S.nextSibling),rn=s,Qe=!0,es=null,si=!1,i!==null&&t_(s,i),s=lm(s,c.children),s.flags|=4096);return s}return d?(os(),S=c.fallback,d=s.mode,j=i.child,$=j.sibling,c=dr(j,{mode:"hidden",children:c.children}),c.subtreeFlags=j.subtreeFlags&65011712,$!==null?S=dr($,S):(S=ha(S,d,o,null),S.flags|=2),S.return=s,c.return=s,c.sibling=S,s.child=c,ql(null,c),c=s.child,S=i.child.memoizedState,S===null?S=am(o):(d=S.cachePool,d!==null?(j=zt._currentValue,d=d.parent!==j?{parent:j,pool:j}:d):d=o_(),S={baseLanes:S.baseLanes|o,cachePool:d}),c.memoizedState=S,c.childLanes=om(i,x,o),s.memoizedState=sm,ql(i.child,c)):(as(s),o=i.child,i=o.sibling,o=dr(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,i!==null&&(x=s.deletions,x===null?(s.deletions=[i],s.flags|=16):x.push(i)),s.child=o,s.memoizedState=null,o)}function lm(i,s){return s=rh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function rh(i,s){return i=jn(22,i,null,s),i.lanes=0,i}function um(i,s,o){return _a(s,i.child,null,o),i=lm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function b0(i,s,o){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),wd(i.return,s,o)}function cm(i,s,o,c,d,g){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d,treeForkCount:g}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=o,x.tailMode=d,x.treeForkCount=g)}function E0(i,s,o){var c=s.pendingProps,d=c.revealOrder,g=c.tail;c=c.children;var x=Dt.current,S=(x&2)!==0;if(S?(x=x&1|2,s.flags|=128):x&=1,M(Dt,x),an(i,s,c,o),c=Qe?Rl:0,!S&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&b0(i,o,s);else if(i.tag===19)b0(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=s.child,d=null;o!==null;)i=o.alternate,i!==null&&Kc(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),cm(s,!1,d,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&Kc(i)===null){s.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}cm(s,!0,o,null,g,c);break;case"together":cm(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function vr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),cs|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(ao(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=dr(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=dr(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function hm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&jc(i)))}function oA(i,s,o){switch(s.tag){case 3:At(s,s.stateNode.containerInfo),ns(s,zt,i.memoizedState.cache),fa();break;case 27:case 5:Yn(s);break;case 4:At(s,s.stateNode.containerInfo);break;case 10:ns(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Ld(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(as(s),s.flags|=128,null):(o&s.child.childLanes)!==0?v0(i,s,o):(as(s),i=vr(i,s,o),i!==null?i.sibling:null);as(s);break;case 19:var d=(i.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(ao(i,s,o,!1),c=(o&s.childLanes)!==0),d){if(c)return E0(i,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),M(Dt,Dt.current),c)break;return null;case 22:return s.lanes=0,d0(i,s,o,s.pendingProps);case 24:ns(s,zt,i.memoizedState.cache)}return vr(i,s,o)}function x0(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Bt=!0;else{if(!hm(i,o)&&(s.flags&128)===0)return Bt=!1,oA(i,s,o);Bt=(i.flags&131072)!==0}else Bt=!1,Qe&&(s.flags&1048576)!==0&&e_(s,Rl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(i=ga(s.elementType),s.type=i,typeof i=="function")gd(i)?(c=ba(i,c),s.tag=1,s=y0(null,s,i,c,o)):(s.tag=0,s=rm(null,s,i,c,o));else{if(i!=null){var d=i.$$typeof;if(d===se){s.tag=11,s=c0(null,s,i,c,o);break e}else if(d===P){s.tag=14,s=h0(null,s,i,c,o);break e}}throw s=ue(i)||i,Error(r(306,s,""))}}return s;case 0:return rm(i,s,s.type,s.pendingProps,o);case 1:return c=s.type,d=ba(c,s.pendingProps),y0(i,s,c,d,o);case 3:e:{if(At(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var g=s.memoizedState;d=g.element,Nd(i,s),jl(s,c,null,o);var x=s.memoizedState;if(c=x.cache,ns(s,zt,c),c!==g.cache&&Sd(s,[zt],o,!0),Vl(),c=x.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=_0(i,s,c,o);break e}else if(c!==d){d=ni(Error(r(424)),s),Nl(d),s=_0(i,s,c,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(pt=oi(i.firstChild),rn=s,Qe=!0,es=null,si=!0,o=d_(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(fa(),c===d){s=vr(i,s,o);break e}an(i,s,c,o)}s=s.child}return s;case 26:return ih(i,s),i===null?(o=Ov(s.type,null,s.pendingProps,null))?s.memoizedState=o:Qe||(o=s.type,i=s.pendingProps,c=bh(Xe.current).createElement(o),c[Lt]=s,c[Wt]=i,on(c,o,i),Vt(c),s.stateNode=c):s.memoizedState=Ov(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Yn(s),i===null&&Qe&&(c=s.stateNode=Rv(s.type,s.pendingProps,Xe.current),rn=s,si=!0,d=pt,ps(s.type)?(Hm=d,pt=oi(c.firstChild)):pt=d),an(i,s,s.pendingProps.children,o),ih(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Qe&&((d=c=pt)&&(c=VA(c,s.type,s.pendingProps,si),c!==null?(s.stateNode=c,rn=s,pt=oi(c.firstChild),si=!1,d=!0):d=!1),d||ts(s)),Yn(s),d=s.type,g=s.pendingProps,x=i!==null?i.memoizedProps:null,c=g.children,zm(d,g)?c=null:x!==null&&zm(d,x)&&(s.flags|=32),s.memoizedState!==null&&(d=jd(i,s,JS,null,null,o),ru._currentValue=d),ih(i,s),an(i,s,c,o),s.child;case 6:return i===null&&Qe&&((i=o=pt)&&(o=jA(o,s.pendingProps,si),o!==null?(s.stateNode=o,rn=s,pt=null,i=!0):i=!1),i||ts(s)),null;case 13:return v0(i,s,o);case 4:return At(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=_a(s,null,c,o):an(i,s,c,o),s.child;case 11:return c0(i,s,s.type,s.pendingProps,o);case 7:return an(i,s,s.pendingProps,o),s.child;case 8:return an(i,s,s.pendingProps.children,o),s.child;case 12:return an(i,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,ns(s,s.type,c.value),an(i,s,c.children,o),s.child;case 9:return d=s.type._context,c=s.pendingProps.children,ma(s),d=sn(d),c=c(d),s.flags|=1,an(i,s,c,o),s.child;case 14:return h0(i,s,s.type,s.pendingProps,o);case 15:return f0(i,s,s.type,s.pendingProps,o);case 19:return E0(i,s,o);case 31:return aA(i,s,o);case 22:return d0(i,s,o,s.pendingProps);case 24:return ma(s),c=sn(zt),i===null?(d=Id(),d===null&&(d=ft,g=Ad(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:c,cache:d},Rd(s),ns(s,zt,d)):((i.lanes&o)!==0&&(Nd(i,s),jl(s,null,null,o),Vl()),d=i.memoizedState,g=s.memoizedState,d.parent!==c?(d={parent:c,cache:c},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),ns(s,zt,c)):(c=g.cache,ns(s,zt,c),c!==d.cache&&Sd(s,[zt],o,!0))),an(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function br(i){i.flags|=4}function fm(i,s,o,c,d){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if($0())i.flags|=8192;else throw ya=Fc,kd}else i.flags&=-16777217}function T0(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!jv(s))if($0())i.flags|=8192;else throw ya=Fc,kd}function sh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?hc():536870912,i.lanes|=s,vo|=s)}function Hl(i,s){if(!Qe)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function gt(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(s)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=c,i.childLanes=o,s}function lA(i,s,o){var c=s.pendingProps;switch(bd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return o=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),gr(zt),Et(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(so(s)?br(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,xd())),gt(s),null;case 26:var d=s.type,g=s.memoizedState;return i===null?(br(s),g!==null?(gt(s),T0(s,g)):(gt(s),fm(s,d,null,c,o))):g?g!==i.memoizedState?(br(s),gt(s),T0(s,g)):(gt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==c&&br(s),gt(s),fm(s,d,i,c,o)),null;case 27:if(fi(s),o=Xe.current,d=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&br(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return gt(s),null}i=Ie.current,so(s)?n_(s):(i=Rv(d,c,o),s.stateNode=i,br(s))}return gt(s),null;case 5:if(fi(s),d=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&br(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return gt(s),null}if(g=Ie.current,so(s))n_(s);else{var x=bh(Xe.current);switch(g){case 1:g=x.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=x.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=x.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?x.createElement("select",{is:c.is}):x.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?x.createElement(d,{is:c.is}):x.createElement(d)}}g[Lt]=s,g[Wt]=c;e:for(x=s.child;x!==null;){if(x.tag===5||x.tag===6)g.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===s)break e;for(;x.sibling===null;){if(x.return===null||x.return===s)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}s.stateNode=g;e:switch(on(g,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&br(s)}}return gt(s),fm(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&br(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=Xe.current,so(s)){if(i=s.stateNode,o=s.memoizedProps,c=null,d=rn,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}i[Lt]=s,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||vv(i.nodeValue,o)),i||ts(s,!0)}else i=bh(i).createTextNode(c),i[Lt]=s,s.stateNode=i}return gt(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(c=so(s),o!==null){if(i===null){if(!c)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Lt]=s}else fa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),i=!1}else o=xd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(Un(s),s):(Un(s),null);if((s.flags&128)!==0)throw Error(r(558))}return gt(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=so(s),c!==null&&c.dehydrated!==null){if(i===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Lt]=s}else fa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),d=!1}else d=xd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Un(s),s):(Un(s),null)}return Un(s),(s.flags&128)!==0?(s.lanes=o,s):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=s.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),sh(s,s.updateQueue),gt(s),null);case 4:return Et(),i===null&&Mm(s.stateNode.containerInfo),gt(s),null;case 10:return gr(s.type),gt(s),null;case 19:if(Ve(Dt),c=s.memoizedState,c===null)return gt(s),null;if(d=(s.flags&128)!==0,g=c.rendering,g===null)if(d)Hl(c,!1);else{if(kt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=Kc(i),g!==null){for(s.flags|=128,Hl(c,!1),i=g.updateQueue,s.updateQueue=i,sh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)Wy(o,i),o=o.sibling;return M(Dt,Dt.current&1|2),Qe&&mr(s,c.treeForkCount),s.child}i=i.sibling}c.tail!==null&&tn()>ch&&(s.flags|=128,d=!0,Hl(c,!1),s.lanes=4194304)}else{if(!d)if(i=Kc(g),i!==null){if(s.flags|=128,d=!0,i=i.updateQueue,s.updateQueue=i,sh(s,i),Hl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Qe)return gt(s),null}else 2*tn()-c.renderingStartTime>ch&&o!==536870912&&(s.flags|=128,d=!0,Hl(c,!1),s.lanes=4194304);c.isBackwards?(g.sibling=s.child,s.child=g):(i=c.last,i!==null?i.sibling=g:s.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=tn(),i.sibling=null,o=Dt.current,M(Dt,d?o&1|2:o&1),Qe&&mr(s,c.treeForkCount),i):(gt(s),null);case 22:case 23:return Un(s),Pd(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),o=s.updateQueue,o!==null&&sh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),i!==null&&Ve(pa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),gr(zt),gt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function uA(i,s){switch(bd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return gr(zt),Et(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return fi(s),null;case 31:if(s.memoizedState!==null){if(Un(s),s.alternate===null)throw Error(r(340));fa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Un(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));fa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Ve(Dt),null;case 4:return Et(),null;case 10:return gr(s.type),null;case 22:case 23:return Un(s),Pd(),i!==null&&Ve(pa),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return gr(zt),null;case 25:return null;default:return null}}function w0(i,s){switch(bd(s),s.tag){case 3:gr(zt),Et();break;case 26:case 27:case 5:fi(s);break;case 4:Et();break;case 31:s.memoizedState!==null&&Un(s);break;case 13:Un(s);break;case 19:Ve(Dt);break;case 10:gr(s.type);break;case 22:case 23:Un(s),Pd(),i!==null&&Ve(pa);break;case 24:gr(zt)}}function Gl(i,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&i)===i){c=void 0;var g=o.create,x=o.inst;c=g(),x.destroy=c}o=o.next}while(o!==d)}}catch(S){ot(s,s.return,S)}}function ls(i,s,o){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&i)===i){var x=c.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,d=s;var j=o,$=S;try{$()}catch(Z){ot(d,j,Z)}}}c=c.next}while(c!==g)}}catch(Z){ot(s,s.return,Z)}}function S0(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{p_(s,o)}catch(c){ot(i,i.return,c)}}}function A0(i,s,o){o.props=ba(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){ot(i,s,c)}}function Kl(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(d){ot(i,s,d)}}function $i(i,s){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){ot(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){ot(i,s,d)}else o.current=null}function C0(i){var s=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){ot(i,i.return,d)}}function dm(i,s,o){try{var c=i.stateNode;NA(c,i.type,o,s),c[Wt]=s}catch(d){ot(i,i.return,d)}}function I0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ps(i.type)||i.tag===4}function mm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||I0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ps(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function pm(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=yi));else if(c!==4&&(c===27&&ps(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(pm(i,s,o),i=i.sibling;i!==null;)pm(i,s,o),i=i.sibling}function ah(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(c!==4&&(c===27&&ps(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(ah(i,s,o),i=i.sibling;i!==null;)ah(i,s,o),i=i.sibling}function k0(i){var s=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);on(s,c,o),s[Lt]=i,s[Wt]=o}catch(g){ot(i,i.return,g)}}var Er=!1,Ft=!1,gm=!1,R0=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function cA(i,s){if(i=i.containerInfo,Vm=Ch,i=Fy(i),ud(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var x=0,S=-1,j=-1,$=0,Z=0,ne=i,X=null;t:for(;;){for(var J;ne!==o||d!==0&&ne.nodeType!==3||(S=x+d),ne!==g||c!==0&&ne.nodeType!==3||(j=x+c),ne.nodeType===3&&(x+=ne.nodeValue.length),(J=ne.firstChild)!==null;)X=ne,ne=J;for(;;){if(ne===i)break t;if(X===o&&++$===d&&(S=x),X===g&&++Z===c&&(j=x),(J=ne.nextSibling)!==null)break;ne=X,X=ne.parentNode}ne=J}o=S===-1||j===-1?null:{start:S,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(jm={focusedElem:i,selectionRange:o},Ch=!1,Zt=s;Zt!==null;)if(s=Zt,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Zt=i;else for(;Zt!==null;){switch(s=Zt,g=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var ge=ba(o.type,d);i=c.getSnapshotBeforeUpdate(ge,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(Te){ot(o,o.return,Te)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Bm(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Bm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Zt=i;break}Zt=s.return}}function N0(i,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Tr(i,o),c&4&&Gl(5,o);break;case 1:if(Tr(i,o),c&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(x){ot(o,o.return,x)}else{var d=ba(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(x){ot(o,o.return,x)}}c&64&&S0(o),c&512&&Kl(o,o.return);break;case 3:if(Tr(i,o),c&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{p_(i,s)}catch(x){ot(o,o.return,x)}}break;case 27:s===null&&c&4&&k0(o);case 26:case 5:Tr(i,o),s===null&&c&4&&C0(o),c&512&&Kl(o,o.return);break;case 12:Tr(i,o);break;case 31:Tr(i,o),c&4&&M0(i,o);break;case 13:Tr(i,o),c&4&&P0(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=vA.bind(null,o),zA(i,o))));break;case 22:if(c=o.memoizedState!==null||Er,!c){s=s!==null&&s.memoizedState!==null||Ft,d=Er;var g=Ft;Er=c,(Ft=s)&&!g?wr(i,o,(o.subtreeFlags&8772)!==0):Tr(i,o),Er=d,Ft=g}break;case 30:break;default:Tr(i,o)}}function D0(i){var s=i.alternate;s!==null&&(i.alternate=null,D0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Fa(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var bt=null,An=!1;function xr(i,s,o){for(o=o.child;o!==null;)O0(i,s,o),o=o.sibling}function O0(i,s,o){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Rt,o)}catch{}switch(o.tag){case 26:Ft||$i(o,s),xr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ft||$i(o,s);var c=bt,d=An;ps(o.type)&&(bt=o.stateNode,An=!1),xr(i,s,o),tu(o.stateNode),bt=c,An=d;break;case 5:Ft||$i(o,s);case 6:if(c=bt,d=An,bt=null,xr(i,s,o),bt=c,An=d,bt!==null)if(An)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(o.stateNode)}catch(g){ot(o,s,g)}else try{bt.removeChild(o.stateNode)}catch(g){ot(o,s,g)}break;case 18:bt!==null&&(An?(i=bt,Sv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Co(i)):Sv(bt,o.stateNode));break;case 4:c=bt,d=An,bt=o.stateNode.containerInfo,An=!0,xr(i,s,o),bt=c,An=d;break;case 0:case 11:case 14:case 15:ls(2,o,s),Ft||ls(4,o,s),xr(i,s,o);break;case 1:Ft||($i(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&A0(o,s,c)),xr(i,s,o);break;case 21:xr(i,s,o);break;case 22:Ft=(c=Ft)||o.memoizedState!==null,xr(i,s,o),Ft=c;break;default:xr(i,s,o)}}function M0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Co(i)}catch(o){ot(s,s.return,o)}}}function P0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Co(i)}catch(o){ot(s,s.return,o)}}function hA(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new R0),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new R0),s;default:throw Error(r(435,i.tag))}}function oh(i,s){var o=hA(i);s.forEach(function(c){if(!o.has(c)){o.add(c);var d=bA.bind(null,i,c);c.then(d,d)}})}function Cn(i,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],g=i,x=s,S=x;e:for(;S!==null;){switch(S.tag){case 27:if(ps(S.type)){bt=S.stateNode,An=!1;break e}break;case 5:bt=S.stateNode,An=!1;break e;case 3:case 4:bt=S.stateNode.containerInfo,An=!0;break e}S=S.return}if(bt===null)throw Error(r(160));O0(g,x,d),bt=null,An=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)L0(s,i),s=s.sibling}var Ti=null;function L0(i,s){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Cn(s,i),In(i),c&4&&(ls(3,i,i.return),Gl(3,i),ls(5,i,i.return));break;case 1:Cn(s,i),In(i),c&512&&(Ft||o===null||$i(o,o.return)),c&64&&Er&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=Ti;if(Cn(s,i),In(i),c&512&&(Ft||o===null||$i(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Pi]||g[Lt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),on(g,c,o),g[Lt]=i,Vt(g),c=g;break e;case"link":var x=Lv("link","href",d).get(c+(o.href||""));if(x){for(var S=0;S<x.length;S++)if(g=x[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(S,1);break t}}g=d.createElement(c),on(g,c,o),d.head.appendChild(g);break;case"meta":if(x=Lv("meta","content",d).get(c+(o.content||""))){for(S=0;S<x.length;S++)if(g=x[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(S,1);break t}}g=d.createElement(c),on(g,c,o),d.head.appendChild(g);break;default:throw Error(r(468,c))}g[Lt]=i,Vt(g),c=g}i.stateNode=c}else Vv(d,i.type,i.stateNode);else i.stateNode=Pv(d,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?Vv(d,i.type,i.stateNode):Pv(d,c,i.memoizedProps)):c===null&&i.stateNode!==null&&dm(i,i.memoizedProps,o.memoizedProps)}break;case 27:Cn(s,i),In(i),c&512&&(Ft||o===null||$i(o,o.return)),o!==null&&c&4&&dm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Cn(s,i),In(i),c&512&&(Ft||o===null||$i(o,o.return)),i.flags&32){d=i.stateNode;try{Sn(d,"")}catch(ge){ot(i,i.return,ge)}}c&4&&i.stateNode!=null&&(d=i.memoizedProps,dm(i,d,o!==null?o.memoizedProps:d)),c&1024&&(gm=!0);break;case 6:if(Cn(s,i),In(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(ge){ot(i,i.return,ge)}}break;case 3:if(Th=null,d=Ti,Ti=Eh(s.containerInfo),Cn(s,i),Ti=d,In(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Co(s.containerInfo)}catch(ge){ot(i,i.return,ge)}gm&&(gm=!1,V0(i));break;case 4:c=Ti,Ti=Eh(i.stateNode.containerInfo),Cn(s,i),In(i),Ti=c;break;case 12:Cn(s,i),In(i);break;case 31:Cn(s,i),In(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,oh(i,c)));break;case 13:Cn(s,i),In(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(uh=tn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,oh(i,c)));break;case 22:d=i.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,$=Er,Z=Ft;if(Er=$||d,Ft=Z||j,Cn(s,i),Ft=Z,Er=$,In(i),c&8192)e:for(s=i.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||j||Er||Ft||Ea(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){j=o=s;try{if(g=j.stateNode,d)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=j.stateNode;var ne=j.memoizedProps.style,X=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;S.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(ge){ot(j,j.return,ge)}}}else if(s.tag===6){if(o===null){j=s;try{j.stateNode.nodeValue=d?"":j.memoizedProps}catch(ge){ot(j,j.return,ge)}}}else if(s.tag===18){if(o===null){j=s;try{var J=j.stateNode;d?Av(J,!0):Av(j.stateNode,!1)}catch(ge){ot(j,j.return,ge)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,oh(i,o))));break;case 19:Cn(s,i),In(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,oh(i,c)));break;case 30:break;case 21:break;default:Cn(s,i),In(i)}}function In(i){var s=i.flags;if(s&2){try{for(var o,c=i.return;c!==null;){if(I0(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var d=o.stateNode,g=mm(i);ah(i,g,d);break;case 5:var x=o.stateNode;o.flags&32&&(Sn(x,""),o.flags&=-33);var S=mm(i);ah(i,S,x);break;case 3:case 4:var j=o.stateNode.containerInfo,$=mm(i);pm(i,$,j);break;default:throw Error(r(161))}}catch(Z){ot(i,i.return,Z)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function V0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;V0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Tr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)N0(i,s.alternate,s),s=s.sibling}function Ea(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ls(4,s,s.return),Ea(s);break;case 1:$i(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&A0(s,s.return,o),Ea(s);break;case 27:tu(s.stateNode);case 26:case 5:$i(s,s.return),Ea(s);break;case 22:s.memoizedState===null&&Ea(s);break;case 30:Ea(s);break;default:Ea(s)}i=i.sibling}}function wr(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,d=i,g=s,x=g.flags;switch(g.tag){case 0:case 11:case 15:wr(d,g,o),Gl(4,g);break;case 1:if(wr(d,g,o),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch($){ot(c,c.return,$)}if(c=g,d=c.updateQueue,d!==null){var S=c.stateNode;try{var j=d.shared.hiddenCallbacks;if(j!==null)for(d.shared.hiddenCallbacks=null,d=0;d<j.length;d++)m_(j[d],S)}catch($){ot(c,c.return,$)}}o&&x&64&&S0(g),Kl(g,g.return);break;case 27:k0(g);case 26:case 5:wr(d,g,o),o&&c===null&&x&4&&C0(g),Kl(g,g.return);break;case 12:wr(d,g,o);break;case 31:wr(d,g,o),o&&x&4&&M0(d,g);break;case 13:wr(d,g,o),o&&x&4&&P0(d,g);break;case 22:g.memoizedState===null&&wr(d,g,o),Kl(g,g.return);break;case 30:break;default:wr(d,g,o)}s=s.sibling}}function ym(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Dl(o))}function _m(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Dl(i))}function wi(i,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)j0(i,s,o,c),s=s.sibling}function j0(i,s,o,c){var d=s.flags;switch(s.tag){case 0:case 11:case 15:wi(i,s,o,c),d&2048&&Gl(9,s);break;case 1:wi(i,s,o,c);break;case 3:wi(i,s,o,c),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Dl(i)));break;case 12:if(d&2048){wi(i,s,o,c),i=s.stateNode;try{var g=s.memoizedProps,x=g.id,S=g.onPostCommit;typeof S=="function"&&S(x,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(j){ot(s,s.return,j)}}else wi(i,s,o,c);break;case 31:wi(i,s,o,c);break;case 13:wi(i,s,o,c);break;case 23:break;case 22:g=s.stateNode,x=s.alternate,s.memoizedState!==null?g._visibility&2?wi(i,s,o,c):Ql(i,s):g._visibility&2?wi(i,s,o,c):(g._visibility|=2,go(i,s,o,c,(s.subtreeFlags&10256)!==0||!1)),d&2048&&ym(x,s);break;case 24:wi(i,s,o,c),d&2048&&_m(s.alternate,s);break;default:wi(i,s,o,c)}}function go(i,s,o,c,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=i,x=s,S=o,j=c,$=x.flags;switch(x.tag){case 0:case 11:case 15:go(g,x,S,j,d),Gl(8,x);break;case 23:break;case 22:var Z=x.stateNode;x.memoizedState!==null?Z._visibility&2?go(g,x,S,j,d):Ql(g,x):(Z._visibility|=2,go(g,x,S,j,d)),d&&$&2048&&ym(x.alternate,x);break;case 24:go(g,x,S,j,d),d&&$&2048&&_m(x.alternate,x);break;default:go(g,x,S,j,d)}s=s.sibling}}function Ql(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,c=s,d=c.flags;switch(c.tag){case 22:Ql(o,c),d&2048&&ym(c.alternate,c);break;case 24:Ql(o,c),d&2048&&_m(c.alternate,c);break;default:Ql(o,c)}s=s.sibling}}var Yl=8192;function yo(i,s,o){if(i.subtreeFlags&Yl)for(i=i.child;i!==null;)z0(i,s,o),i=i.sibling}function z0(i,s,o){switch(i.tag){case 26:yo(i,s,o),i.flags&Yl&&i.memoizedState!==null&&WA(o,Ti,i.memoizedState,i.memoizedProps);break;case 5:yo(i,s,o);break;case 3:case 4:var c=Ti;Ti=Eh(i.stateNode.containerInfo),yo(i,s,o),Ti=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Yl,Yl=16777216,yo(i,s,o),Yl=c):yo(i,s,o));break;default:yo(i,s,o)}}function U0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function $l(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Zt=c,F0(c,i)}U0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)B0(i),i=i.sibling}function B0(i){switch(i.tag){case 0:case 11:case 15:$l(i),i.flags&2048&&ls(9,i,i.return);break;case 3:$l(i);break;case 12:$l(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,lh(i)):$l(i);break;default:$l(i)}}function lh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Zt=c,F0(c,i)}U0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ls(8,s,s.return),lh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,lh(s));break;default:lh(s)}i=i.sibling}}function F0(i,s){for(;Zt!==null;){var o=Zt;switch(o.tag){case 0:case 11:case 15:ls(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Dl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Zt=c;else e:for(o=i;Zt!==null;){c=Zt;var d=c.sibling,g=c.return;if(D0(c),c===o){Zt=null;break e}if(d!==null){d.return=g,Zt=d;break e}Zt=g}}}var fA={getCacheForType:function(i){var s=sn(zt),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return sn(zt).controller.signal}},dA=typeof WeakMap=="function"?WeakMap:Map,it=0,ft=null,je=null,Be=0,at=0,Bn=null,us=!1,_o=!1,vm=!1,Sr=0,kt=0,cs=0,xa=0,bm=0,Fn=0,vo=0,Xl=null,kn=null,Em=!1,uh=0,q0=0,ch=1/0,hh=null,hs=null,Kt=0,fs=null,bo=null,Ar=0,xm=0,Tm=null,H0=null,Wl=0,wm=null;function qn(){return(it&2)!==0&&Be!==0?Be&-Be:Y.T!==null?Rm():fc()}function G0(){if(Fn===0)if((Be&536870912)===0||Qe){var i=$s;$s<<=1,($s&3932160)===0&&($s=262144),Fn=i}else Fn=536870912;return i=zn.current,i!==null&&(i.flags|=32),Fn}function Rn(i,s,o){(i===ft&&(at===2||at===9)||i.cancelPendingCommit!==null)&&(Eo(i,0),ds(i,Be,Fn,!1)),Xs(i,o),((it&2)===0||i!==ft)&&(i===ft&&((it&2)===0&&(xa|=o),kt===4&&ds(i,Be,Fn,!1)),Xi(i))}function K0(i,s,o){if((it&6)!==0)throw Error(r(327));var c=!o&&(s&127)===0&&(s&i.expiredLanes)===0||mi(i,s),d=c?gA(i,s):Am(i,s,!0),g=c;do{if(d===0){_o&&!c&&ds(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!mA(o)){d=Am(i,s,!1),g=!1;continue}if(d===2){if(g=s,i.errorRecoveryDisabledLanes&g)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var S=i;d=Xl;var j=S.current.memoizedState.isDehydrated;if(j&&(Eo(S,x).flags|=256),x=Am(S,x,!1),x!==2){if(vm&&!j){S.errorRecoveryDisabledLanes|=g,xa|=g,d=4;break e}g=kn,kn=d,g!==null&&(kn===null?kn=g:kn.push.apply(kn,g))}d=x}if(g=!1,d!==2)continue}}if(d===1){Eo(i,0),ds(i,s,0,!0);break}e:{switch(c=i,g=d,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ds(c,s,Fn,!us);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=uh+300-tn(),10<d)){if(ds(c,s,Fn,!us),Di(c,0,!0)!==0)break e;Ar=s,c.timeoutHandle=Tv(Q0.bind(null,c,o,kn,hh,Em,s,Fn,xa,vo,us,g,"Throttled",-0,0),d);break e}Q0(c,o,kn,hh,Em,s,Fn,xa,vo,us,g,null,-0,0)}}break}while(!0);Xi(i)}function Q0(i,s,o,c,d,g,x,S,j,$,Z,ne,X,J){if(i.timeoutHandle=-1,ne=s.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yi},z0(s,g,ne);var ge=(g&62914560)===g?uh-tn():(g&4194048)===g?q0-tn():0;if(ge=JA(ne,ge),ge!==null){Ar=g,i.cancelPendingCommit=ge(tv.bind(null,i,s,g,o,c,d,x,S,j,Z,ne,null,X,J)),ds(i,g,x,!$);return}}tv(i,s,g,o,c,d,x,S,j)}function mA(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],g=d.getSnapshot;d=d.value;try{if(!Vn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ds(i,s,o,c){s&=~bm,s&=~xa,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var d=s;0<d;){var g=31-Ke(d),x=1<<g;c[g]=-1,d&=~x}o!==0&&Ws(i,o,s)}function fh(){return(it&6)===0?(Jl(0),!1):!0}function Sm(){if(je!==null){if(at===0)var i=je.return;else i=je,pr=da=null,Bd(i),co=null,Ml=0,i=je;for(;i!==null;)w0(i.alternate,i),i=i.return;je=null}}function Eo(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,MA(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Ar=0,Sm(),ft=i,je=o=dr(i.current,null),Be=s,at=0,Bn=null,us=!1,_o=mi(i,s),vm=!1,vo=Fn=bm=xa=cs=kt=0,kn=Xl=null,Em=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var d=31-Ke(c),g=1<<d;s|=i[d],c&=~g}return Sr=s,Oc(),o}function Y0(i,s){De=null,Y.H=Fl,s===uo||s===Bc?(s=c_(),at=3):s===kd?(s=c_(),at=4):at=s===im?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Bn=s,je===null&&(kt=1,th(i,ni(s,i.current)))}function $0(){var i=zn.current;return i===null?!0:(Be&4194048)===Be?ai===null:(Be&62914560)===Be||(Be&536870912)!==0?i===ai:!1}function X0(){var i=Y.H;return Y.H=Fl,i===null?Fl:i}function W0(){var i=Y.A;return Y.A=fA,i}function dh(){kt=4,us||(Be&4194048)!==Be&&zn.current!==null||(_o=!0),(cs&134217727)===0&&(xa&134217727)===0||ft===null||ds(ft,Be,Fn,!1)}function Am(i,s,o){var c=it;it|=2;var d=X0(),g=W0();(ft!==i||Be!==s)&&(hh=null,Eo(i,s)),s=!1;var x=kt;e:do try{if(at!==0&&je!==null){var S=je,j=Bn;switch(at){case 8:Sm(),x=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(s=!0);var $=at;if(at=0,Bn=null,xo(i,S,j,$),o&&_o){x=0;break e}break;default:$=at,at=0,Bn=null,xo(i,S,j,$)}}pA(),x=kt;break}catch(Z){Y0(i,Z)}while(!0);return s&&i.shellSuspendCounter++,pr=da=null,it=c,Y.H=d,Y.A=g,je===null&&(ft=null,Be=0,Oc()),x}function pA(){for(;je!==null;)J0(je)}function gA(i,s){var o=it;it|=2;var c=X0(),d=W0();ft!==i||Be!==s?(hh=null,ch=tn()+500,Eo(i,s)):_o=mi(i,s);e:do try{if(at!==0&&je!==null){s=je;var g=Bn;t:switch(at){case 1:at=0,Bn=null,xo(i,s,g,1);break;case 2:case 9:if(l_(g)){at=0,Bn=null,Z0(s);break}s=function(){at!==2&&at!==9||ft!==i||(at=7),Xi(i)},g.then(s,s);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:l_(g)?(at=0,Bn=null,Z0(s)):(at=0,Bn=null,xo(i,s,g,7));break;case 5:var x=null;switch(je.tag){case 26:x=je.memoizedState;case 5:case 27:var S=je;if(x?jv(x):S.stateNode.complete){at=0,Bn=null;var j=S.sibling;if(j!==null)je=j;else{var $=S.return;$!==null?(je=$,mh($)):je=null}break t}}at=0,Bn=null,xo(i,s,g,5);break;case 6:at=0,Bn=null,xo(i,s,g,6);break;case 8:Sm(),kt=6;break e;default:throw Error(r(462))}}yA();break}catch(Z){Y0(i,Z)}while(!0);return pr=da=null,Y.H=c,Y.A=d,it=o,je!==null?0:(ft=null,Be=0,Oc(),kt)}function yA(){for(;je!==null&&!ll();)J0(je)}function J0(i){var s=x0(i.alternate,i,Sr);i.memoizedProps=i.pendingProps,s===null?mh(i):je=s}function Z0(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=g0(o,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=g0(o,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:Bd(s);default:w0(o,s),s=je=Wy(s,Sr),s=x0(o,s,Sr)}i.memoizedProps=i.pendingProps,s===null?mh(i):je=s}function xo(i,s,o,c){pr=da=null,Bd(s),co=null,Ml=0;var d=s.return;try{if(sA(i,d,s,o,Be)){kt=1,th(i,ni(o,i.current)),je=null;return}}catch(g){if(d!==null)throw je=d,g;kt=1,th(i,ni(o,i.current)),je=null;return}s.flags&32768?(Qe||c===1?i=!0:_o||(Be&536870912)!==0?i=!1:(us=i=!0,(c===2||c===9||c===3||c===6)&&(c=zn.current,c!==null&&c.tag===13&&(c.flags|=16384))),ev(s,i)):mh(s)}function mh(i){var s=i;do{if((s.flags&32768)!==0){ev(s,us);return}i=s.return;var o=lA(s.alternate,s,Sr);if(o!==null){je=o;return}if(s=s.sibling,s!==null){je=s;return}je=s=i}while(s!==null);kt===0&&(kt=5)}function ev(i,s){do{var o=uA(i.alternate,i);if(o!==null){o.flags&=32767,je=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){je=i;return}je=i=o}while(i!==null);kt=6,je=null}function tv(i,s,o,c,d,g,x,S,j){i.cancelPendingCommit=null;do ph();while(Kt!==0);if((it&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=md,sd(i,o,g,x,S,j),i===ft&&(je=ft=null,Be=0),bo=s,fs=i,Ar=o,xm=g,Tm=d,H0=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,EA(be,function(){return av(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null,d=oe.p,oe.p=2,x=it,it|=4;try{cA(i,s,o)}finally{it=x,oe.p=d,Y.T=c}}Kt=1,nv(),iv(),rv()}}function nv(){if(Kt===1){Kt=0;var i=fs,s=bo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null;var c=oe.p;oe.p=2;var d=it;it|=4;try{L0(s,i);var g=jm,x=Fy(i.containerInfo),S=g.focusedElem,j=g.selectionRange;if(x!==S&&S&&S.ownerDocument&&By(S.ownerDocument.documentElement,S)){if(j!==null&&ud(S)){var $=j.start,Z=j.end;if(Z===void 0&&(Z=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(Z,S.value.length);else{var ne=S.ownerDocument||document,X=ne&&ne.defaultView||window;if(X.getSelection){var J=X.getSelection(),ge=S.textContent.length,Te=Math.min(j.start,ge),ht=j.end===void 0?Te:Math.min(j.end,ge);!J.extend&&Te>ht&&(x=ht,ht=Te,Te=x);var H=Uy(S,Te),B=Uy(S,ht);if(H&&B&&(J.rangeCount!==1||J.anchorNode!==H.node||J.anchorOffset!==H.offset||J.focusNode!==B.node||J.focusOffset!==B.offset)){var Q=ne.createRange();Q.setStart(H.node,H.offset),J.removeAllRanges(),Te>ht?(J.addRange(Q),J.extend(B.node,B.offset)):(Q.setEnd(B.node,B.offset),J.addRange(Q))}}}}for(ne=[],J=S;J=J.parentNode;)J.nodeType===1&&ne.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ne.length;S++){var te=ne[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Ch=!!Vm,jm=Vm=null}finally{it=d,oe.p=c,Y.T=o}}i.current=s,Kt=2}}function iv(){if(Kt===2){Kt=0;var i=fs,s=bo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Y.T,Y.T=null;var c=oe.p;oe.p=2;var d=it;it|=4;try{N0(i,s.alternate,s)}finally{it=d,oe.p=c,Y.T=o}}Kt=3}}function rv(){if(Kt===4||Kt===3){Kt=0,Ua();var i=fs,s=bo,o=Ar,c=H0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Kt=5:(Kt=0,bo=fs=null,sv(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(hs=null),ur(o),s=s.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Rt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=Y.T,d=oe.p,oe.p=2,Y.T=null;try{for(var g=i.onRecoverableError,x=0;x<c.length;x++){var S=c[x];g(S.value,{componentStack:S.stack})}}finally{Y.T=s,oe.p=d}}(Ar&3)!==0&&ph(),Xi(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===wm?Wl++:(Wl=0,wm=i):Wl=0,Jl(0)}}function sv(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Dl(s)))}function ph(){return nv(),iv(),rv(),av()}function av(){if(Kt!==5)return!1;var i=fs,s=xm;xm=0;var o=ur(Ar),c=Y.T,d=oe.p;try{oe.p=32>o?32:o,Y.T=null,o=Tm,Tm=null;var g=fs,x=Ar;if(Kt=0,bo=fs=null,Ar=0,(it&6)!==0)throw Error(r(331));var S=it;if(it|=4,B0(g.current),j0(g,g.current,x,o),it=S,Jl(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Rt,g)}catch{}return!0}finally{oe.p=d,Y.T=c,sv(i,s)}}function ov(i,s,o){s=ni(o,s),s=nm(i.stateNode,s,2),i=ss(i,s,2),i!==null&&(Xs(i,2),Xi(i))}function ot(i,s,o){if(i.tag===3)ov(i,i,o);else for(;s!==null;){if(s.tag===3){ov(s,i,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(hs===null||!hs.has(c))){i=ni(o,i),o=l0(2),c=ss(s,o,2),c!==null&&(u0(o,c,s,i),Xs(c,2),Xi(c));break}}s=s.return}}function Cm(i,s,o){var c=i.pingCache;if(c===null){c=i.pingCache=new dA;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(o)||(vm=!0,d.add(o),i=_A.bind(null,i,s,o),s.then(i,i))}function _A(i,s,o){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ft===i&&(Be&o)===o&&(kt===4||kt===3&&(Be&62914560)===Be&&300>tn()-uh?(it&2)===0&&Eo(i,0):bm|=o,vo===Be&&(vo=0)),Xi(i)}function lv(i,s){s===0&&(s=hc()),i=ca(i,s),i!==null&&(Xs(i,s),Xi(i))}function vA(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),lv(i,o)}function bA(i,s){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),lv(i,o)}function EA(i,s){return Ct(i,s)}var gh=null,To=null,Im=!1,yh=!1,km=!1,ms=0;function Xi(i){i!==To&&i.next===null&&(To===null?gh=To=i:To=To.next=i),yh=!0,Im||(Im=!0,TA())}function Jl(i,s){if(!km&&yh){km=!0;do for(var o=!1,c=gh;c!==null;){if(i!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var x=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-Ke(42|i)+1)-1,g&=d&~(x&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,fv(c,g))}else g=Be,g=Di(c,c===ft?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||mi(c,g)||(o=!0,fv(c,g));c=c.next}while(o);km=!1}}function xA(){uv()}function uv(){yh=Im=!1;var i=0;ms!==0&&OA()&&(i=ms);for(var s=tn(),o=null,c=gh;c!==null;){var d=c.next,g=cv(c,s);g===0?(c.next=null,o===null?gh=d:o.next=d,d===null&&(To=o)):(o=c,(i!==0||(g&3)!==0)&&(yh=!0)),c=d}Kt!==0&&Kt!==5||Jl(i),ms!==0&&(ms=0)}function cv(i,s){for(var o=i.suspendedLanes,c=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var x=31-Ke(g),S=1<<x,j=d[x];j===-1?((S&o)===0||(S&c)!==0)&&(d[x]=rd(S,s)):j<=s&&(i.expiredLanes|=S),g&=~S}if(s=ft,o=Be,o=Di(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===s&&(at===2||at===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&ki(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||mi(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(c!==null&&ki(c),ur(o)){case 2:case 8:o=fe;break;case 32:o=be;break;case 268435456:o=Je;break;default:o=be}return c=hv.bind(null,i),o=Ct(o,c),i.callbackPriority=s,i.callbackNode=o,s}return c!==null&&c!==null&&ki(c),i.callbackPriority=2,i.callbackNode=null,2}function hv(i,s){if(Kt!==0&&Kt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(ph()&&i.callbackNode!==o)return null;var c=Be;return c=Di(i,i===ft?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(K0(i,c,s),cv(i,tn()),i.callbackNode!=null&&i.callbackNode===o?hv.bind(null,i):null)}function fv(i,s){if(ph())return null;K0(i,s,!0)}function TA(){PA(function(){(it&6)!==0?Ct(ee,xA):uv()})}function Rm(){if(ms===0){var i=oo;i===0&&(i=Ri,Ri<<=1,(Ri&261888)===0&&(Ri=256)),ms=i}return ms}function dv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ka(""+i)}function mv(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function wA(i,s,o,c,d){if(s==="submit"&&o&&o.stateNode===d){var g=dv((d[Wt]||null).action),x=c.submitter;x&&(s=(s=x[Wt]||null)?dv(s.formAction):x.getAttribute("formAction"),s!==null&&(g=s,x=null));var S=new qi("action","action",null,c,d);i.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ms!==0){var j=x?mv(d,x):new FormData(d);Xd(o,{pending:!0,data:j,method:d.method,action:g},null,j)}}else typeof g=="function"&&(S.preventDefault(),j=x?mv(d,x):new FormData(d),Xd(o,{pending:!0,data:j,method:d.method,action:g},g,j))},currentTarget:d}]})}}for(var Nm=0;Nm<dd.length;Nm++){var Dm=dd[Nm],SA=Dm.toLowerCase(),AA=Dm[0].toUpperCase()+Dm.slice(1);xi(SA,"on"+AA)}xi(Gy,"onAnimationEnd"),xi(Ky,"onAnimationIteration"),xi(Qy,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(FS,"onTransitionRun"),xi(qS,"onTransitionStart"),xi(HS,"onTransitionCancel"),xi(Yy,"onTransitionEnd"),zi("onMouseEnter",["mouseout","mouseover"]),zi("onMouseLeave",["mouseout","mouseover"]),zi("onPointerEnter",["pointerout","pointerover"]),zi("onPointerLeave",["pointerout","pointerover"]),ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function pv(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],d=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var x=c.length-1;0<=x;x--){var S=c[x],j=S.instance,$=S.currentTarget;if(S=S.listener,j!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=$;try{g(d)}catch(Z){Dc(Z)}d.currentTarget=null,g=j}else for(x=0;x<c.length;x++){if(S=c[x],j=S.instance,$=S.currentTarget,S=S.listener,j!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=$;try{g(d)}catch(Z){Dc(Z)}d.currentTarget=null,g=j}}}}function ze(i,s){var o=s[Ba];o===void 0&&(o=s[Ba]=new Set);var c=i+"__bubble";o.has(c)||(gv(s,i,2,!1),o.add(c))}function Om(i,s,o){var c=0;s&&(c|=4),gv(o,i,c,s)}var _h="_reactListening"+Math.random().toString(36).slice(2);function Mm(i){if(!i[_h]){i[_h]=!0,hl.forEach(function(o){o!=="selectionchange"&&(CA.has(o)||Om(o,!1,i),Om(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[_h]||(s[_h]=!0,Om("selectionchange",!1,s))}}function gv(i,s,o,c){switch(Gv(s)){case 2:var d=tC;break;case 8:d=nC;break;default:d=$m}o=d.bind(null,s,o,i),d=void 0,!na||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?i.addEventListener(s,o,{capture:!0,passive:d}):i.addEventListener(s,o,!0):d!==void 0?i.addEventListener(s,o,{passive:d}):i.addEventListener(s,o,!1)}function Pm(i,s,o,c,d){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var S=c.stateNode.containerInfo;if(S===d)break;if(x===4)for(x=c.return;x!==null;){var j=x.tag;if((j===3||j===4)&&x.stateNode.containerInfo===d)return;x=x.return}for(;S!==null;){if(x=Li(S),x===null)return;if(j=x.tag,j===5||j===6||j===26||j===27){c=g=x;continue e}S=S.parentNode}}c=c.return}$r(function(){var $=g,Z=Jn(o),ne=[];e:{var X=$y.get(i);if(X!==void 0){var J=qi,ge=i;switch(i){case"keypress":if(ra(o)===0)break e;case"keydown":case"keyup":J=kc;break;case"focusin":ge="focus",J=aa;break;case"focusout":ge="blur",J=aa;break;case"beforeblur":case"afterblur":J=aa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=bc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=v;break;case Gy:case Ky:case Qy:J=xc;break;case Yy:J=k;break;case"scroll":case"scrollend":J=Tl;break;case"wheel":J=W;break;case"copy":case"cut":case"paste":J=Tc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=fr;break;case"toggle":case"beforetoggle":J=Ne}var Te=(s&4)!==0,ht=!Te&&(i==="scroll"||i==="scrollend"),H=Te?X!==null?X+"Capture":null:X;Te=[];for(var B=$,Q;B!==null;){var te=B;if(Q=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||Q===null||H===null||(te=_i(B,H),te!=null&&Te.push(eu(B,te,Q))),ht)break;B=B.return}0<Te.length&&(X=new J(X,ge,null,o,Z),ne.push({event:X,listeners:Te}))}}if((s&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",X&&o!==bl&&(ge=o.relatedTarget||o.fromElement)&&(Li(ge)||ge[Mi]))break e;if((J||X)&&(X=Z.window===Z?Z:(X=Z.ownerDocument)?X.defaultView||X.parentWindow:window,J?(ge=o.relatedTarget||o.toElement,J=$,ge=ge?Li(ge):null,ge!==null&&(ht=l(ge),Te=ge.tag,ge!==ht||Te!==5&&Te!==27&&Te!==6)&&(ge=null)):(J=null,ge=$),J!==ge)){if(Te=wl,te="onMouseLeave",H="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(Te=fr,te="onPointerLeave",H="onPointerEnter",B="pointer"),ht=J==null?X:Pn(J),Q=ge==null?X:Pn(ge),X=new Te(te,B+"leave",J,o,Z),X.target=ht,X.relatedTarget=Q,te=null,Li(Z)===$&&(Te=new Te(H,B+"enter",ge,o,Z),Te.target=Q,Te.relatedTarget=ht,te=Te),ht=te,J&&ge)t:{for(Te=IA,H=J,B=ge,Q=0,te=H;te;te=Te(te))Q++;te=0;for(var ve=B;ve;ve=Te(ve))te++;for(;0<Q-te;)H=Te(H),Q--;for(;0<te-Q;)B=Te(B),te--;for(;Q--;){if(H===B||B!==null&&H===B.alternate){Te=H;break t}H=Te(H),B=Te(B)}Te=null}else Te=null;J!==null&&yv(ne,X,J,Te,!1),ge!==null&&ht!==null&&yv(ne,ht,ge,Te,!0)}}e:{if(X=$?Pn($):window,J=X.nodeName&&X.nodeName.toLowerCase(),J==="select"||J==="input"&&X.type==="file")var Ze=My;else if(Dy(X))if(Py)Ze=zS;else{Ze=VS;var ye=LS}else J=X.nodeName,!J||J.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?$&&Ga($.elementType)&&(Ze=My):Ze=jS;if(Ze&&(Ze=Ze(i,$))){Oy(ne,Ze,o,Z);break e}ye&&ye(i,X,$),i==="focusout"&&$&&X.type==="number"&&$.memoizedProps.value!=null&&yl(X,"number",X.value)}switch(ye=$?Pn($):window,i){case"focusin":(Dy(ye)||ye.contentEditable==="true")&&(Za=ye,cd=$,kl=null);break;case"focusout":kl=cd=Za=null;break;case"mousedown":hd=!0;break;case"contextmenu":case"mouseup":case"dragend":hd=!1,qy(ne,o,Z);break;case"selectionchange":if(BS)break;case"keydown":case"keyup":qy(ne,o,Z)}var Me;if(nt)e:{switch(i){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Ja?oa(i,o)&&(Fe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Fe="onCompositionStart");Fe&&(Ki&&o.locale!=="ko"&&(Ja||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Ja&&(Me=xl()):(Fi=Z,El="value"in Fi?Fi.value:Fi.textContent,Ja=!0)),ye=vh($,Fe),0<ye.length&&(Fe=new Gi(Fe,i,null,o,Z),ne.push({event:Fe,listeners:ye}),Me?Fe.data=Me:(Me=Wa(o),Me!==null&&(Fe.data=Me)))),(Me=ei?DS(i,o):OS(i,o))&&(Fe=vh($,"onBeforeInput"),0<Fe.length&&(ye=new Gi("onBeforeInput","beforeinput",null,o,Z),ne.push({event:ye,listeners:Fe}),ye.data=Me)),wA(ne,i,$,o,Z)}pv(ne,s)})}function eu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function vh(i,s){for(var o=s+"Capture",c=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=_i(i,o),d!=null&&c.unshift(eu(i,d,g)),d=_i(i,s),d!=null&&c.push(eu(i,d,g))),i.tag===3)return c;i=i.return}return[]}function IA(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function yv(i,s,o,c,d){for(var g=s._reactName,x=[];o!==null&&o!==c;){var S=o,j=S.alternate,$=S.stateNode;if(S=S.tag,j!==null&&j===c)break;S!==5&&S!==26&&S!==27||$===null||(j=$,d?($=_i(o,g),$!=null&&x.unshift(eu(o,$,j))):d||($=_i(o,g),$!=null&&x.push(eu(o,$,j)))),o=o.return}x.length!==0&&i.push({event:s,listeners:x})}var kA=/\r\n?/g,RA=/\u0000|\uFFFD/g;function _v(i){return(typeof i=="string"?i:""+i).replace(kA,`
`).replace(RA,"")}function vv(i,s){return s=_v(s),_v(i)===s}function ct(i,s,o,c,d,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Sn(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Sn(i,""+c);break;case"className":Ln(i,"class",c);break;case"tabIndex":Ln(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(i,o,c);break;case"style":vl(i,c,g);break;case"data":if(s!=="object"){Ln(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ka(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&ct(i,s,"name",d.name,d,null),ct(i,s,"formEncType",d.formEncType,d,null),ct(i,s,"formMethod",d.formMethod,d,null),ct(i,s,"formTarget",d.formTarget,d,null)):(ct(i,s,"encType",d.encType,d,null),ct(i,s,"method",d.method,d,null),ct(i,s,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ka(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=yi);break;case"onScroll":c!=null&&ze("scroll",i);break;case"onScrollEnd":c!=null&&ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Ka(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":ze("beforetoggle",i),ze("toggle",i),qa(i,"popover",c);break;case"xlinkActuate":jt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":jt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":jt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":jt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":jt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":jt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":jt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":jt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":jt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":qa(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=vc.get(o)||o,qa(i,o,c))}}function Lm(i,s,o,c,d,g){switch(o){case"style":vl(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Sn(i,c):(typeof c=="number"||typeof c=="bigint")&&Sn(i,""+c);break;case"onScroll":c!=null&&ze("scroll",i);break;case"onScrollEnd":c!=null&&ze("scrollend",i);break;case"onClick":c!=null&&(i.onclick=yi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=i[Wt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,c,d);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):qa(i,o,c)}}}function on(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",i),ze("load",i);var c=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var x=o[g];if(x!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ct(i,s,g,x,o,null)}}d&&ct(i,s,"srcSet",o.srcSet,o,null),c&&ct(i,s,"src",o.src,o,null);return;case"input":ze("invalid",i);var S=g=x=d=null,j=null,$=null;for(c in o)if(o.hasOwnProperty(c)){var Z=o[c];if(Z!=null)switch(c){case"name":d=Z;break;case"type":x=Z;break;case"checked":j=Z;break;case"defaultChecked":$=Z;break;case"value":g=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:ct(i,s,c,Z,o,null)}}gc(i,g,S,j,$,x,d,!1);return;case"select":ze("invalid",i),c=x=g=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":g=S;break;case"defaultValue":x=S;break;case"multiple":c=S;default:ct(i,s,d,S,o,null)}s=g,o=x,i.multiple=!!c,s!=null?Gr(i,!!c,s,!1):o!=null&&Gr(i,!!c,o,!0);return;case"textarea":ze("invalid",i),g=d=c=null;for(x in o)if(o.hasOwnProperty(x)&&(S=o[x],S!=null))switch(x){case"value":c=S;break;case"defaultValue":d=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:ct(i,s,x,S,o,null)}Kr(i,c,d,g);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(c=o[j],c!=null))switch(j){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ct(i,s,j,c,o,null)}return;case"dialog":ze("beforetoggle",i),ze("toggle",i),ze("cancel",i),ze("close",i);break;case"iframe":case"object":ze("load",i);break;case"video":case"audio":for(c=0;c<Zl.length;c++)ze(Zl[c],i);break;case"image":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"embed":case"source":case"link":ze("error",i),ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(c=o[$],c!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ct(i,s,$,c,o,null)}return;default:if(Ga(s)){for(Z in o)o.hasOwnProperty(Z)&&(c=o[Z],c!==void 0&&Lm(i,s,Z,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&ct(i,s,S,c,o,null))}function NA(i,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,x=null,S=null,j=null,$=null,Z=null;for(J in o){var ne=o[J];if(o.hasOwnProperty(J)&&ne!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":j=ne;default:c.hasOwnProperty(J)||ct(i,s,J,null,c,ne)}}for(var X in c){var J=c[X];if(ne=o[X],c.hasOwnProperty(X)&&(J!=null||ne!=null))switch(X){case"type":g=J;break;case"name":d=J;break;case"checked":$=J;break;case"defaultChecked":Z=J;break;case"value":x=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:J!==ne&&ct(i,s,X,J,c,ne)}}Ha(i,x,S,j,$,Z,g,d);return;case"select":J=x=S=X=null;for(g in o)if(j=o[g],o.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":J=j;default:c.hasOwnProperty(g)||ct(i,s,g,null,c,j)}for(d in c)if(g=c[d],j=o[d],c.hasOwnProperty(d)&&(g!=null||j!=null))switch(d){case"value":X=g;break;case"defaultValue":S=g;break;case"multiple":x=g;default:g!==j&&ct(i,s,d,g,c,j)}s=S,o=x,c=J,X!=null?Gr(i,!!o,X,!1):!!c!=!!o&&(s!=null?Gr(i,!!o,s,!0):Gr(i,!!o,o?[]:"",!1));return;case"textarea":J=X=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ct(i,s,S,null,c,d)}for(x in c)if(d=c[x],g=o[x],c.hasOwnProperty(x)&&(d!=null||g!=null))switch(x){case"value":X=d;break;case"defaultValue":J=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==g&&ct(i,s,x,d,c,g)}yc(i,X,J);return;case"option":for(var ge in o)if(X=o[ge],o.hasOwnProperty(ge)&&X!=null&&!c.hasOwnProperty(ge))switch(ge){case"selected":i.selected=!1;break;default:ct(i,s,ge,null,c,X)}for(j in c)if(X=c[j],J=o[j],c.hasOwnProperty(j)&&X!==J&&(X!=null||J!=null))switch(j){case"selected":i.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ct(i,s,j,X,c,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)X=o[Te],o.hasOwnProperty(Te)&&X!=null&&!c.hasOwnProperty(Te)&&ct(i,s,Te,null,c,X);for($ in c)if(X=c[$],J=o[$],c.hasOwnProperty($)&&X!==J&&(X!=null||J!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:ct(i,s,$,X,c,J)}return;default:if(Ga(s)){for(var ht in o)X=o[ht],o.hasOwnProperty(ht)&&X!==void 0&&!c.hasOwnProperty(ht)&&Lm(i,s,ht,void 0,c,X);for(Z in c)X=c[Z],J=o[Z],!c.hasOwnProperty(Z)||X===J||X===void 0&&J===void 0||Lm(i,s,Z,X,c,J);return}}for(var H in o)X=o[H],o.hasOwnProperty(H)&&X!=null&&!c.hasOwnProperty(H)&&ct(i,s,H,null,c,X);for(ne in c)X=c[ne],J=o[ne],!c.hasOwnProperty(ne)||X===J||X==null&&J==null||ct(i,s,ne,X,c,J)}function bv(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DA(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var d=o[c],g=d.transferSize,x=d.initiatorType,S=d.duration;if(g&&S&&bv(x)){for(x=0,S=d.responseEnd,c+=1;c<o.length;c++){var j=o[c],$=j.startTime;if($>S)break;var Z=j.transferSize,ne=j.initiatorType;Z&&bv(ne)&&(j=j.responseEnd,x+=Z*(j<S?1:(S-$)/(j-$)))}if(--c,s+=8*(g+x)/(d.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Vm=null,jm=null;function bh(i){return i.nodeType===9?i:i.ownerDocument}function Ev(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xv(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function zm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Um=null;function OA(){var i=window.event;return i&&i.type==="popstate"?i===Um?!1:(Um=i,!0):(Um=null,!1)}var Tv=typeof setTimeout=="function"?setTimeout:void 0,MA=typeof clearTimeout=="function"?clearTimeout:void 0,wv=typeof Promise=="function"?Promise:void 0,PA=typeof queueMicrotask=="function"?queueMicrotask:typeof wv<"u"?function(i){return wv.resolve(null).then(i).catch(LA)}:Tv;function LA(i){setTimeout(function(){throw i})}function ps(i){return i==="head"}function Sv(i,s){var o=s,c=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(d),Co(s);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")tu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,tu(o);for(var g=o.firstChild;g;){var x=g.nextSibling,S=g.nodeName;g[Pi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=x}}else o==="body"&&tu(i.ownerDocument.body);o=d}while(o);Co(s)}function Av(i,s){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Bm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Bm(o),Fa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function VA(i,s,o,c){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Pi])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=oi(i.nextSibling),i===null)break}return null}function jA(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=oi(i.nextSibling),i===null))return null;return i}function Cv(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=oi(i.nextSibling),i===null))return null;return i}function Fm(i){return i.data==="$?"||i.data==="$~"}function qm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function zA(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function oi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Hm=null;function Iv(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return oi(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function kv(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function Rv(i,s,o){switch(s=bh(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function tu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Fa(i)}var li=new Map,Nv=new Set;function Eh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Cr=oe.d;oe.d={f:UA,r:BA,D:FA,C:qA,L:HA,m:GA,X:QA,S:KA,M:YA};function UA(){var i=Cr.f(),s=fh();return i||s}function BA(i){var s=Wn(i);s!==null&&s.tag===5&&s.type==="form"?Y_(s):Cr.r(i)}var wo=typeof document>"u"?null:document;function Dv(i,s,o){var c=wo;if(c&&typeof s=="string"&&s){var d=wn(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Nv.has(d)||(Nv.add(d),i={rel:i,crossOrigin:o,href:s},c.querySelector(d)===null&&(s=c.createElement("link"),on(s,"link",i),Vt(s),c.head.appendChild(s)))}}function FA(i){Cr.D(i),Dv("dns-prefetch",i,null)}function qA(i,s){Cr.C(i,s),Dv("preconnect",i,s)}function HA(i,s,o){Cr.L(i,s,o);var c=wo;if(c&&i&&s){var d='link[rel="preload"][as="'+wn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+wn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+wn(o.imageSizes)+'"]')):d+='[href="'+wn(i)+'"]';var g=d;switch(s){case"style":g=So(i);break;case"script":g=Ao(i)}li.has(g)||(i=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),li.set(g,i),c.querySelector(d)!==null||s==="style"&&c.querySelector(nu(g))||s==="script"&&c.querySelector(iu(g))||(s=c.createElement("link"),on(s,"link",i),Vt(s),c.head.appendChild(s)))}}function GA(i,s){Cr.m(i,s);var o=wo;if(o&&i){var c=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+wn(c)+'"][href="'+wn(i)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ao(i)}if(!li.has(g)&&(i=y({rel:"modulepreload",href:i},s),li.set(g,i),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(iu(g)))return}c=o.createElement("link"),on(c,"link",i),Vt(c),o.head.appendChild(c)}}}function KA(i,s,o){Cr.S(i,s,o);var c=wo;if(c&&i){var d=Vi(c).hoistableStyles,g=So(i);s=s||"default";var x=d.get(g);if(!x){var S={loading:0,preload:null};if(x=c.querySelector(nu(g)))S.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},o),(o=li.get(g))&&Gm(i,o);var j=x=c.createElement("link");Vt(j),on(j,"link",i),j._p=new Promise(function($,Z){j.onload=$,j.onerror=Z}),j.addEventListener("load",function(){S.loading|=1}),j.addEventListener("error",function(){S.loading|=2}),S.loading|=4,xh(x,s,c)}x={type:"stylesheet",instance:x,count:1,state:S},d.set(g,x)}}}function QA(i,s){Cr.X(i,s);var o=wo;if(o&&i){var c=Vi(o).hoistableScripts,d=Ao(i),g=c.get(d);g||(g=o.querySelector(iu(d)),g||(i=y({src:i,async:!0},s),(s=li.get(d))&&Km(i,s),g=o.createElement("script"),Vt(g),on(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function YA(i,s){Cr.M(i,s);var o=wo;if(o&&i){var c=Vi(o).hoistableScripts,d=Ao(i),g=c.get(d);g||(g=o.querySelector(iu(d)),g||(i=y({src:i,async:!0,type:"module"},s),(s=li.get(d))&&Km(i,s),g=o.createElement("script"),Vt(g),on(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function Ov(i,s,o,c){var d=(d=Xe.current)?Eh(d):null;if(!d)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=So(o.href),o=Vi(d).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=So(o.href);var g=Vi(d).hoistableStyles,x=g.get(i);if(x||(d=d.ownerDocument||d,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,x),(g=d.querySelector(nu(i)))&&!g._p&&(x.instance=g,x.state.loading=5),li.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},li.set(i,o),g||$A(d,i,o,x.state))),s&&c===null)throw Error(r(528,""));return x}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ao(o),o=Vi(d).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function So(i){return'href="'+wn(i)+'"'}function nu(i){return'link[rel="stylesheet"]['+i+"]"}function Mv(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function $A(i,s,o,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),on(s,"link",o),Vt(s),i.head.appendChild(s))}function Ao(i){return'[src="'+wn(i)+'"]'}function iu(i){return"script[async]"+i}function Pv(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+wn(o.href)+'"]');if(c)return s.instance=c,Vt(c),c;var d=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Vt(c),on(c,"style",d),xh(c,o.precedence,i),s.instance=c;case"stylesheet":d=So(o.href);var g=i.querySelector(nu(d));if(g)return s.state.loading|=4,s.instance=g,Vt(g),g;c=Mv(o),(d=li.get(d))&&Gm(c,d),g=(i.ownerDocument||i).createElement("link"),Vt(g);var x=g;return x._p=new Promise(function(S,j){x.onload=S,x.onerror=j}),on(g,"link",c),s.state.loading|=4,xh(g,o.precedence,i),s.instance=g;case"script":return g=Ao(o.src),(d=i.querySelector(iu(g)))?(s.instance=d,Vt(d),d):(c=o,(d=li.get(g))&&(c=y({},o),Km(c,d)),i=i.ownerDocument||i,d=i.createElement("script"),Vt(d),on(d,"link",c),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,xh(c,o.precedence,i));return s.instance}function xh(i,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,x=0;x<c.length;x++){var S=c[x];if(S.dataset.precedence===s)g=S;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Gm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Km(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Th=null;function Lv(i,s,o){if(Th===null){var c=new Map,d=Th=new Map;d.set(o,c)}else d=Th,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Pi]||g[Lt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(s)||"";x=i+x;var S=c.get(x);S?S.push(g):c.set(x,[g])}}return c}function Vv(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function XA(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function jv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function WA(i,s,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=So(c.href),g=s.querySelector(nu(d));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=wh.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=g,Vt(g);return}g=s.ownerDocument||s,c=Mv(c),(d=li.get(d))&&Gm(c,d),g=g.createElement("link"),Vt(g);var x=g;x._p=new Promise(function(S,j){x.onload=S,x.onerror=j}),on(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=wh.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var Qm=0;function JA(i,s){return i.stylesheets&&i.count===0&&Ah(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&Ah(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+s);0<i.imgBytes&&Qm===0&&(Qm=62500*DA());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ah(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Qm?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function wh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ah(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Sh=null;function Ah(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Sh=new Map,s.forEach(ZA,i),Sh=null,wh.call(i))}function ZA(i,s){if(!(s.state.loading&4)){var o=Sh.get(i);if(o)var c=o.get(null);else{o=new Map,Sh.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var x=d[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),c=x)}c&&o.set(null,c)}d=s.instance,x=d.getAttribute("data-precedence"),g=o.get(x)||c,g===c&&o.set(null,d),o.set(x,d),this.count++,c=wh.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var ru={$$typeof:q,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function eC(i,s,o,c,d,g,x,S,j){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.hiddenUpdates=Oi(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function zv(i,s,o,c,d,g,x,S,j,$,Z,ne){return i=new eC(i,s,o,x,j,$,Z,ne,S),s=1,g===!0&&(s|=24),g=jn(3,null,null,s),i.current=g,g.stateNode=i,s=Ad(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},Rd(g),i}function Uv(i){return i?(i=no,i):no}function Bv(i,s,o,c,d,g){d=Uv(d),c.context===null?c.context=d:c.pendingContext=d,c=rs(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ss(i,c,s),o!==null&&(Rn(o,i,s),Ll(o,i,s))}function Fv(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Ym(i,s){Fv(i,s),(i=i.alternate)&&Fv(i,s)}function qv(i){if(i.tag===13||i.tag===31){var s=ca(i,67108864);s!==null&&Rn(s,i,67108864),Ym(i,67108864)}}function Hv(i){if(i.tag===13||i.tag===31){var s=qn();s=Js(s);var o=ca(i,s);o!==null&&Rn(o,i,s),Ym(i,s)}}var Ch=!0;function tC(i,s,o,c){var d=Y.T;Y.T=null;var g=oe.p;try{oe.p=2,$m(i,s,o,c)}finally{oe.p=g,Y.T=d}}function nC(i,s,o,c){var d=Y.T;Y.T=null;var g=oe.p;try{oe.p=8,$m(i,s,o,c)}finally{oe.p=g,Y.T=d}}function $m(i,s,o,c){if(Ch){var d=Xm(c);if(d===null)Pm(i,s,c,Ih,o),Kv(i,c);else if(rC(d,i,s,o,c))c.stopPropagation();else if(Kv(i,c),s&4&&-1<iC.indexOf(i)){for(;d!==null;){var g=Wn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=Ni(g.pendingLanes);if(x!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var j=1<<31-Ke(x);S.entanglements[1]|=j,x&=~j}Xi(g),(it&6)===0&&(ch=tn()+500,Jl(0))}}break;case 31:case 13:S=ca(g,2),S!==null&&Rn(S,g,2),fh(),Ym(g,2)}if(g=Xm(c),g===null&&Pm(i,s,c,Ih,o),g===d)break;d=g}d!==null&&c.stopPropagation()}else Pm(i,s,c,null,o)}}function Xm(i){return i=Jn(i),Wm(i)}var Ih=null;function Wm(i){if(Ih=null,i=Li(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=u(s),i!==null)return i;i=null}else if(o===31){if(i=h(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Ih=i,null}function Gv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lr()){case ee:return 2;case fe:return 8;case be:case Le:return 32;case Je:return 268435456;default:return 32}default:return 32}}var Jm=!1,gs=null,ys=null,_s=null,su=new Map,au=new Map,vs=[],iC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kv(i,s){switch(i){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":su.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(s.pointerId)}}function ou(i,s,o,c,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},s!==null&&(s=Wn(s),s!==null&&qv(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function rC(i,s,o,c,d){switch(s){case"focusin":return gs=ou(gs,i,s,o,c,d),!0;case"dragenter":return ys=ou(ys,i,s,o,c,d),!0;case"mouseover":return _s=ou(_s,i,s,o,c,d),!0;case"pointerover":var g=d.pointerId;return su.set(g,ou(su.get(g)||null,i,s,o,c,d)),!0;case"gotpointercapture":return g=d.pointerId,au.set(g,ou(au.get(g)||null,i,s,o,c,d)),!0}return!1}function Qv(i){var s=Li(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){i.blockedOn=s,pi(i.priority,function(){Hv(o)});return}}else if(s===31){if(s=h(o),s!==null){i.blockedOn=s,pi(i.priority,function(){Hv(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function kh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Xm(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);bl=c,o.target.dispatchEvent(c),bl=null}else return s=Wn(o),s!==null&&qv(s),i.blockedOn=o,!1;s.shift()}return!0}function Yv(i,s,o){kh(i)&&o.delete(s)}function sC(){Jm=!1,gs!==null&&kh(gs)&&(gs=null),ys!==null&&kh(ys)&&(ys=null),_s!==null&&kh(_s)&&(_s=null),su.forEach(Yv),au.forEach(Yv)}function Rh(i,s){i.blockedOn===s&&(i.blockedOn=null,Jm||(Jm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,sC)))}var Nh=null;function $v(i){Nh!==i&&(Nh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Nh===i&&(Nh=null);for(var s=0;s<i.length;s+=3){var o=i[s],c=i[s+1],d=i[s+2];if(typeof c!="function"){if(Wm(c||o)===null)continue;break}var g=Wn(o);g!==null&&(i.splice(s,3),s-=3,Xd(g,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function Co(i){function s(j){return Rh(j,i)}gs!==null&&Rh(gs,i),ys!==null&&Rh(ys,i),_s!==null&&Rh(_s,i),su.forEach(s),au.forEach(s);for(var o=0;o<vs.length;o++){var c=vs[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<vs.length&&(o=vs[0],o.blockedOn===null);)Qv(o),o.blockedOn===null&&vs.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],g=o[c+1],x=d[Wt]||null;if(typeof g=="function")x||$v(o);else if(x){var S=null;if(g&&g.hasAttribute("formAction")){if(d=g,x=g[Wt]||null)S=x.formAction;else if(Wm(d)!==null)continue}else S=x.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),$v(o)}}}function Xv(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(x){return d=x})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function Zm(i){this._internalRoot=i}Dh.prototype.render=Zm.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,c=qn();Bv(o,c,i,s,null,null)},Dh.prototype.unmount=Zm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Bv(i.current,2,null,i,null,null),fh(),s[Mi]=null}};function Dh(i){this._internalRoot=i}Dh.prototype.unstable_scheduleHydration=function(i){if(i){var s=fc();i={blockedOn:null,target:i,priority:s};for(var o=0;o<vs.length&&s!==0&&s<vs[o].priority;o++);vs.splice(o,0,i),o===0&&Qv(i)}};var Wv=e.version;if(Wv!=="19.2.0")throw Error(r(527,Wv,"19.2.0"));oe.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?_(i):null,i=i===null?null:i.stateNode,i};var aC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{Rt=Oh.inject(aC),Tt=Oh}catch{}}return lu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,c="",d=r0,g=s0,x=a0;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=zv(i,1,!1,null,null,o,c,null,d,g,x,Xv),i[Mi]=s.current,Mm(i),new Zm(s)},lu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var c=!1,d="",g=r0,x=s0,S=a0,j=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(j=o.formState)),s=zv(i,1,!0,s,o??null,c,d,j,g,x,S,Xv),s.context=Uv(null),o=s.current,c=qn(),c=Js(c),d=rs(c),d.callback=null,ss(o,d,c),o=c,s.current.lanes=o,Xs(s,o),Xi(s),i[Mi]=s.current,Mm(i),new Dh(s)},lu.version="19.2.0",lu}var t1;function dC(){if(t1)return ep.exports;t1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ep.exports=fC(),ep.exports}var mC=dC();const pC=_g(mC);const gC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),n1=t=>{const e=yC(t);return e.charAt(0).toUpperCase()+e.slice(1)},HE=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),_C=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var vC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const bC=ie.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:u,...h},m)=>ie.createElement("svg",{ref:m,...vC,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:HE("lucide",a),...!l&&!_C(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,_])=>ie.createElement(p,_)),...Array.isArray(l)?l:[l]]));const Oe=(t,e)=>{const n=ie.forwardRef(({className:r,...a},l)=>ie.createElement(bC,{ref:l,iconNode:e,className:HE(`lucide-${gC(n1(t))}`,`lucide-${t}`,r),...a}));return n.displayName=n1(t),n};const EC=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],i1=Oe("activity",EC);const xC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],TC=Oe("arrow-right",xC);const wC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],SC=Oe("book-open",wC);const AC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],CC=Oe("calendar",AC);const IC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],GE=Oe("chevron-down",IC);const kC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],RC=Oe("chevron-right",kC);const NC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ms=Oe("circle-alert",NC);const DC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Wo=Oe("circle-check",DC);const OC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],vg=Oe("circle-question-mark",OC);const MC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],PC=Oe("clock",MC);const LC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Gu=Oe("copy",LC);const VC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],jC=Oe("download",VC);const zC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],UC=Oe("eye-off",zC);const BC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],FC=Oe("eye",BC);const qC=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],Lo=Oe("gavel",qC);const HC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Ps=Oe("history",HC);const GC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Op=Oe("image",GC);const KC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],KE=Oe("info",KC);const QC=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],YC=Oe("lightbulb",QC);const $C=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],qs=Oe("loader-circle",$C);const XC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],WC=Oe("lock",XC);const JC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ZC=Oe("log-out",JC);const eI=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],tI=Oe("mail",eI);const nI=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],iI=Oe("menu",nI);const rI=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],rf=Oe("mic",rI);const sI=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],aI=Oe("moon",sI);const oI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],lI=Oe("panels-top-left",oI);const uI=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],cI=Oe("refresh-cw",uI);const hI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],fI=Oe("rotate-ccw",hI);const dI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],r1=Oe("search",dI);const mI=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],QE=Oe("send",mI);const pI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sf=Oe("settings",pI);const gI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],yI=Oe("shield",gI);const _I=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],vI=Oe("sparkles",_I);const bI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],EI=Oe("square",bI);const xI=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],TI=Oe("sun",xI);const wI=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],SI=Oe("swords",wI);const AI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],vu=Oe("target",AI);const CI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],YE=Oe("trash-2",CI);const II=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],$E=Oe("upload",II);const kI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],XE=Oe("user",kI);const RI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],WE=Oe("x",RI),NI=()=>{};var s1={};const JE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},DI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},ZE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,_=l>>2,y=(l&3)<<4|h>>4;let E=(h&15)<<2|p>>6,T=p&63;m||(T=64,u||(E=64)),r.push(n[_],n[y],n[E],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const y=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||y==null)throw new OI;const E=l<<2|h>>4;if(r.push(E),p!==64){const T=h<<4&240|p>>2;if(r.push(T),y!==64){const I=p<<6&192|y;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class OI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MI=function(t){const e=JE(t);return ZE.encodeByteArray(e,!0)},af=function(t){return MI(t).replace(/\./g,"")},ex=function(t){try{return ZE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function PI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const LI=()=>PI().__FIREBASE_DEFAULTS__,VI=()=>{if(typeof process>"u"||typeof s1>"u")return;const t=s1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ex(t[1]);return e&&JSON.parse(e)},Nf=()=>{try{return NI()||LI()||VI()||jI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tx=t=>Nf()?.emulatorHosts?.[t],zI=t=>{const e=tx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nx=()=>Nf()?.config,ix=t=>Nf()?.[`_${t}`];class UI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Jo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rx(t){return(await fetch(t,{credentials:"include"})).ok}function BI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[af(JSON.stringify(n)),af(JSON.stringify(u)),""].join(".")}const bu={};function FI(){const t={prod:[],emulator:[]};for(const e of Object.keys(bu))bu[e]?t.emulator.push(e):t.prod.push(e);return t}function qI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let a1=!1;function sx(t,e){if(typeof window>"u"||typeof document>"u"||!Jo(window.location.host)||bu[t]===e||bu[t]||a1)return;bu[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",l=FI().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,T){E.setAttribute("width","24"),E.setAttribute("id",T),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{a1=!0,u()},E}function _(E,T){E.setAttribute("id",T),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function y(){const E=qI(r),T=n("text"),I=document.getElementById(T)||document.createElement("span"),U=n("learnmore"),L=document.getElementById(U)||document.createElement("a"),z=n("preprendIcon"),F=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const q=E.element;h(q),_(L,U);const se=p();m(F,z),q.append(F,I,L,se),document.body.appendChild(q)}l?(I.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function GI(){const t=Nf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $I(){const t=vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function XI(){return!GI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WI(){try{return typeof indexedDB=="object"}catch{return!1}}function JI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const ZI="FirebaseError";class Lr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ZI,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ku.prototype.create)}}class Ku{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?e2(l,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Lr(a,h,r)}}function e2(t,e){return t.replace(t2,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const t2=/\{\$([^}]+)}/g;function n2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ia(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],u=e[a];if(o1(l)&&o1(u)){if(!Ia(l,u))return!1}else if(l!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function o1(t){return t!==null&&typeof t=="object"}function Qu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function du(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function mu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function i2(t,e){const n=new r2(t,e);return n.subscribe.bind(n)}class r2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");s2(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=ip),a.error===void 0&&(a.error=ip),a.complete===void 0&&(a.complete=ip);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ip(){}function cn(t){return t&&t._delegate?t._delegate:t}class ka{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const wa="[DEFAULT]";class a2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new UI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l2(e))try{this.getOrInitializeService({instanceIdentifier:wa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wa){return this.instances.has(e)}getOptions(e=wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&u.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:o2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wa){return this.component?this.component.multipleInstances?e:wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o2(t){return t===wa?void 0:t}function l2(t){return t.instantiationMode==="EAGER"}class u2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new a2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const c2={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},h2=qe.INFO,f2={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},d2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=f2[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bg{constructor(e){this.name=e,this._logLevel=h2,this._logHandler=d2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const m2=(t,e)=>e.some(n=>t instanceof n);let l1,u1;function p2(){return l1||(l1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g2(){return u1||(u1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ax=new WeakMap,Mp=new WeakMap,ox=new WeakMap,rp=new WeakMap,Eg=new WeakMap;function y2(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Is(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&ax.set(n,t)}).catch(()=>{}),Eg.set(e,t),e}function _2(t){if(Mp.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Mp.set(t,e)}let Pp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ox.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Is(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function v2(t){Pp=t(Pp)}function b2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sp(this),e,...n);return ox.set(r,e.sort?e.sort():[e]),Is(r)}:g2().includes(t)?function(...e){return t.apply(sp(this),e),Is(ax.get(this))}:function(...e){return Is(t.apply(sp(this),e))}}function E2(t){return typeof t=="function"?b2(t):(t instanceof IDBTransaction&&_2(t),m2(t,p2())?new Proxy(t,Pp):t)}function Is(t){if(t instanceof IDBRequest)return y2(t);if(rp.has(t))return rp.get(t);const e=E2(t);return e!==t&&(rp.set(t,e),Eg.set(e,t)),e}const sp=t=>Eg.get(t);function x2(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=Is(u);return r&&u.addEventListener("upgradeneeded",m=>{r(Is(u.result),m.oldVersion,m.newVersion,Is(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),h.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const T2=["get","getKey","getAll","getAllKeys","count"],w2=["put","add","delete","clear"],ap=new Map;function c1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ap.get(e))return ap.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=w2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||T2.includes(n)))return;const l=async function(u,...h){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&m.done]))[0]};return ap.set(e,l),l}v2(t=>({...t,get:(e,n,r)=>c1(e,n)||t.get(e,n,r),has:(e,n)=>!!c1(e,n)||t.has(e,n)}));class S2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(A2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function A2(t){return t.getComponent()?.type==="VERSION"}const Lp="@firebase/app",h1="0.14.6";const Dr=new bg("@firebase/app"),C2="@firebase/app-compat",I2="@firebase/analytics-compat",k2="@firebase/analytics",R2="@firebase/app-check-compat",N2="@firebase/app-check",D2="@firebase/auth",O2="@firebase/auth-compat",M2="@firebase/database",P2="@firebase/data-connect",L2="@firebase/database-compat",V2="@firebase/functions",j2="@firebase/functions-compat",z2="@firebase/installations",U2="@firebase/installations-compat",B2="@firebase/messaging",F2="@firebase/messaging-compat",q2="@firebase/performance",H2="@firebase/performance-compat",G2="@firebase/remote-config",K2="@firebase/remote-config-compat",Q2="@firebase/storage",Y2="@firebase/storage-compat",$2="@firebase/firestore",X2="@firebase/ai",W2="@firebase/firestore-compat",J2="firebase",Z2="12.6.0";const Vp="[DEFAULT]",ek={[Lp]:"fire-core",[C2]:"fire-core-compat",[k2]:"fire-analytics",[I2]:"fire-analytics-compat",[N2]:"fire-app-check",[R2]:"fire-app-check-compat",[D2]:"fire-auth",[O2]:"fire-auth-compat",[M2]:"fire-rtdb",[P2]:"fire-data-connect",[L2]:"fire-rtdb-compat",[V2]:"fire-fn",[j2]:"fire-fn-compat",[z2]:"fire-iid",[U2]:"fire-iid-compat",[B2]:"fire-fcm",[F2]:"fire-fcm-compat",[q2]:"fire-perf",[H2]:"fire-perf-compat",[G2]:"fire-rc",[K2]:"fire-rc-compat",[Q2]:"fire-gcs",[Y2]:"fire-gcs-compat",[$2]:"fire-fst",[W2]:"fire-fst-compat",[X2]:"fire-vertex","fire-js":"fire-js",[J2]:"fire-js-all"};const of=new Map,tk=new Map,jp=new Map;function f1(t,e){try{t.container.addComponent(e)}catch(n){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fo(t){const e=t.name;if(jp.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;jp.set(e,t);for(const n of of.values())f1(n,t);for(const n of tk.values())f1(n,t);return!0}function xg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gn(t){return t==null?!1:t.settings!==void 0}const nk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ks=new Ku("app","Firebase",nk);class ik{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ka("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ks.create("app-deleted",{appName:this._name})}}const Zo=Z2;function lx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Vp,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw ks.create("bad-app-name",{appName:String(a)});if(n||(n=nx()),!n)throw ks.create("no-options");const l=of.get(a);if(l){if(Ia(n,l.options)&&Ia(r,l.config))return l;throw ks.create("duplicate-app",{appName:a})}const u=new u2(a);for(const m of jp.values())u.addComponent(m);const h=new ik(n,r,u);return of.set(a,h),h}function ux(t=Vp){const e=of.get(t);if(!e&&t===Vp&&nx())return lx();if(!e)throw ks.create("no-app",{appName:t});return e}function Rs(t,e,n){let r=ek[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(u.join(" "));return}Fo(new ka(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const rk="firebase-heartbeat-database",sk=1,Nu="firebase-heartbeat-store";let op=null;function cx(){return op||(op=x2(rk,sk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ks.create("idb-open",{originalErrorMessage:t.message})})),op}async function ak(t){try{const n=(await cx()).transaction(Nu),r=await n.objectStore(Nu).get(hx(t));return await n.done,r}catch(e){if(e instanceof Lr)Dr.warn(e.message);else{const n=ks.create("idb-get",{originalErrorMessage:e?.message});Dr.warn(n.message)}}}async function d1(t,e){try{const r=(await cx()).transaction(Nu,"readwrite");await r.objectStore(Nu).put(e,hx(t)),await r.done}catch(n){if(n instanceof Lr)Dr.warn(n.message);else{const r=ks.create("idb-set",{originalErrorMessage:n?.message});Dr.warn(r.message)}}}function hx(t){return`${t.name}!${t.options.appId}`}const ok=1024,lk=30;class uk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=m1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>lk){const a=fk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Dr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=m1(),{heartbeatsToSend:n,unsentEntries:r}=ck(this._heartbeatsCache.heartbeats),a=af(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Dr.warn(e),""}}}function m1(){return new Date().toISOString().substring(0,10)}function ck(t,e=ok){const n=[];let r=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),p1(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),p1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WI()?JI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ak(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return d1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return d1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function p1(t){return af(JSON.stringify({version:2,heartbeats:t})).length}function fk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function dk(t){Fo(new ka("platform-logger",e=>new S2(e),"PRIVATE")),Fo(new ka("heartbeat",e=>new uk(e),"PRIVATE")),Rs(Lp,h1,t),Rs(Lp,h1,"esm2020"),Rs("fire-js","")}dk("");var mk="firebase",pk="12.6.0";Rs(mk,pk,"app");function fx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gk=fx,dx=new Ku("auth","Firebase",fx());const lf=new bg("@firebase/auth");function yk(t,...e){lf.logLevel<=qe.WARN&&lf.warn(`Auth (${Zo}): ${t}`,...e)}function Gh(t,...e){lf.logLevel<=qe.ERROR&&lf.error(`Auth (${Zo}): ${t}`,...e)}function hi(t,...e){throw wg(t,...e)}function Ai(t,...e){return wg(t,...e)}function Tg(t,e,n){const r={...gk(),[e]:n};return new Ku("auth","Firebase",r).create(e,{appName:t.name})}function Nr(t){return Tg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _k(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&hi(t,"argument-error"),Tg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return dx.create(t,...e)}function we(t,e,...n){if(!t)throw wg(e,...n)}function kr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gh(e),new Error(e)}function Or(t,e){t||kr(e)}function zp(){return typeof self<"u"&&self.location?.href||""}function vk(){return g1()==="http:"||g1()==="https:"}function g1(){return typeof self<"u"&&self.location?.protocol||null}function bk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vk()||QI()||"connection"in navigator)?navigator.onLine:!0}function Ek(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Or(n>e,"Short delay should be less than long delay!"),this.isMobile=HI()||YI()}get(){return bk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sg(t,e){Or(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class mx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Tk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wk=new Yu(3e4,6e4);function Vr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function jr(t,e,n,r,a={}){return px(t,a,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const h=Qu({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return KI()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Jo(t.emulatorConfig.host)&&(p.credentials="include"),mx.fetch()(await gx(t,t.config.apiHost,n,h),p)})}async function px(t,e,n){t._canInitEmulator=!1;const r={...xk,...e};try{const a=new Ak(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Mh(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[m,p]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mh(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Mh(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw Mh(t,"user-disabled",u);const _=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Tg(t,_,p);hi(t,_)}}catch(a){if(a instanceof Lr)throw a;hi(t,"network-request-failed",{message:String(a)})}}async function $u(t,e,n,r,a={}){const l=await jr(t,e,n,r,a);return"mfaPendingCredential"in l&&hi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function gx(t,e,n,r){const a=`${e}${n}?${r}`,l=t,u=l.config.emulator?Sg(t.config,a):`${t.config.apiScheme}://${a}`;return Tk.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function Sk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ak{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ai(this.auth,"network-request-failed")),wk.get())})}}function Mh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Ai(t,e,r);return a.customData._tokenResponse=n,a}function y1(t){return t!==void 0&&t.enterprise!==void 0}class Ck{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Sk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ik(t,e){return jr(t,"GET","/v2/recaptchaConfig",Vr(t,e))}async function kk(t,e){return jr(t,"POST","/v1/accounts:delete",e)}async function uf(t,e){return jr(t,"POST","/v1/accounts:lookup",e)}function Eu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Rk(t,e=!1){const n=cn(t),r=await n.getIdToken(e),a=Ag(r);we(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:r,authTime:Eu(lp(a.auth_time)),issuedAtTime:Eu(lp(a.iat)),expirationTime:Eu(lp(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function lp(t){return Number(t)*1e3}function Ag(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gh("JWT malformed, contained fewer than 3 sections"),null;try{const a=ex(n);return a?JSON.parse(a):(Gh("Failed to decode base64 JWT payload"),null)}catch(a){return Gh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function _1(t){const e=Ag(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Du(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Lr&&Nk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Nk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class Dk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Up{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function cf(t){const e=t.auth,n=await t.getIdToken(),r=await Du(t,uf(e,{idToken:n}));we(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?yx(a.providerUserInfo):[],u=Mk(t.providerData,l),h=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,p=h?m:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Up(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,_)}async function Ok(t){const e=cn(t);await cf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Mk(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function yx(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Pk(t,e){const n=await px(t,{},async()=>{const r=Qu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await gx(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:r};return t.emulatorConfig&&Jo(t.emulatorConfig.host)&&(m.credentials="include"),mx.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Lk(t,e){return jr(t,"POST","/v2/accounts:revokeToken",Vr(t,e))}class Vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=_1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await Pk(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,u=new Vo;return r&&(we(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(we(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(we(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vo,this.toJSON())}_performRefresh(){return kr("not implemented")}}function Es(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Si{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new Dk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Up(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Du(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Rk(this,e)}reload(){return Ok(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(Nr(this.auth));const e=await this.getIdToken();return await Du(this,kk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:y,emailVerified:E,isAnonymous:T,providerData:I,stsTokenManager:U}=n;we(y&&U,e,"internal-error");const L=Vo.fromJSON(this.name,U);we(typeof y=="string",e,"internal-error"),Es(r,e.name),Es(a,e.name),we(typeof E=="boolean",e,"internal-error"),we(typeof T=="boolean",e,"internal-error"),Es(l,e.name),Es(u,e.name),Es(h,e.name),Es(m,e.name),Es(p,e.name),Es(_,e.name);const z=new Si({uid:y,auth:e,email:a,emailVerified:E,displayName:r,isAnonymous:T,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:L,createdAt:p,lastLoginAt:_});return I&&Array.isArray(I)&&(z.providerData=I.map(F=>({...F}))),m&&(z._redirectEventId=m),z}static async _fromIdTokenResponse(e,n,r=!1){const a=new Vo;a.updateFromServerResponse(n);const l=new Si({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await cf(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];we(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?yx(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new Vo;h.updateFromIdToken(r);const m=new Si({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Up(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const v1=new Map;function Rr(t){Or(t instanceof Function,"Expected a class definition");let e=v1.get(t);return e?(Or(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,v1.set(t,e),e)}class _x{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_x.type="NONE";const b1=_x;function Kh(t,e,n){return`firebase:${t}:${e}:${n}`}class jo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Kh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Kh("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await uf(this.auth,{idToken:e}).catch(()=>{});return n?Si._fromGetAccountInfoResponse(this.auth,n,e):null}return Si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new jo(Rr(b1),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Rr(b1);const u=Kh(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const _=await p._get(u);if(_){let y;if(typeof _=="string"){const E=await uf(e,{idToken:_}).catch(()=>{});if(!E)break;y=await Si._fromGetAccountInfoResponse(e,E,_)}else y=Si._fromJSON(e,_);p!==l&&(h=y),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new jo(l,e,r):(l=m[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new jo(l,e,r))}}function E1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wx(e))return"Blackberry";if(Sx(e))return"Webos";if(bx(e))return"Safari";if((e.includes("chrome/")||Ex(e))&&!e.includes("edge/"))return"Chrome";if(Tx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function vx(t=vn()){return/firefox\//i.test(t)}function bx(t=vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ex(t=vn()){return/crios\//i.test(t)}function xx(t=vn()){return/iemobile/i.test(t)}function Tx(t=vn()){return/android/i.test(t)}function wx(t=vn()){return/blackberry/i.test(t)}function Sx(t=vn()){return/webos/i.test(t)}function Cg(t=vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Vk(t=vn()){return Cg(t)&&!!window.navigator?.standalone}function jk(){return $I()&&document.documentMode===10}function Ax(t=vn()){return Cg(t)||Tx(t)||Sx(t)||wx(t)||/windows phone/i.test(t)||xx(t)}function Cx(t,e=[]){let n;switch(t){case"Browser":n=E1(vn());break;case"Worker":n=`${E1(vn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zo}/${r}`}class zk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((u,h)=>{try{const m=e(l);u(m)}catch(m){h(m)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Uk(t,e={}){return jr(t,"GET","/v2/passwordPolicy",Vr(t,e))}const Bk=6;class Fk{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Bk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class qk{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x1(this),this.idTokenSubscription=new x1(this),this.beforeStateQueue=new zk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await jo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uf(this,{idToken:e}),r=await Si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ek()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(Nr(this));const n=e?cn(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(Nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(Nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Uk(this),n=new Fk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ku("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Lk(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rr(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await jo.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,r,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&yk(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Hs(t){return cn(t)}class x1{constructor(e){this.auth=e,this.observer=null,this.addObserver=i2(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Df={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hk(t){Df=t}function Ix(t){return Df.loadJS(t)}function Gk(){return Df.recaptchaEnterpriseScript}function Kk(){return Df.gapiScript}function Qk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Yk{constructor(){this.enterprise=new $k}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class $k{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Xk="recaptcha-enterprise",kx="NO_RECAPTCHA";class Wk{constructor(e){this.type=Xk,this.auth=Hs(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{Ik(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new Ck(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(m=>{h(m)})})}function a(l,u,h){const m=window.grecaptcha;y1(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(kx)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Yk().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{r(this.auth).then(h=>{if(!n&&y1(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=Gk();m.length!==0&&(m+=h),Ix(m).then(()=>{a(h,l,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function T1(t,e,n,r=!1,a=!1){const l=new Wk(t);let u;if(a)u=kx;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const m=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const m=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Bp(t,e,n,r,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await T1(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await T1(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(l)})}function Jk(t,e){const n=xg(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ia(l,e??{}))return a;hi(a,"already-initialized")}return n.initialize({options:e})}function Zk(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Rr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function eR(t,e,n){const r=Hs(t);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=Rx(e),{host:u,port:h}=tR(e),m=h===null?"":`:${h}`,p={url:`${l}//${u}${m}/`},_=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(Ia(p,r.config.emulator)&&Ia(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,Jo(u)?(rx(`${l}//${u}${m}`),sx("Auth",!0)):nR()}function Rx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tR(t){const e=Rx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:w1(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:w1(u)}}}function w1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function nR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Ig{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return kr("not implemented")}_getIdTokenResponse(e){return kr("not implemented")}_linkToIdToken(e,n){return kr("not implemented")}_getReauthenticationResolver(e){return kr("not implemented")}}async function iR(t,e){return jr(t,"POST","/v1/accounts:signUp",e)}async function rR(t,e){return $u(t,"POST","/v1/accounts:signInWithPassword",Vr(t,e))}async function sR(t,e){return jr(t,"POST","/v1/accounts:sendOobCode",Vr(t,e))}async function aR(t,e){return sR(t,e)}async function oR(t,e){return $u(t,"POST","/v1/accounts:signInWithEmailLink",Vr(t,e))}async function lR(t,e){return $u(t,"POST","/v1/accounts:signInWithEmailLink",Vr(t,e))}class Ou extends Ig{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Ou(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ou(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bp(e,n,"signInWithPassword",rR);case"emailLink":return oR(e,{email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bp(e,r,"signUpPassword",iR);case"emailLink":return lR(e,{idToken:n,email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function zo(t,e){return $u(t,"POST","/v1/accounts:signInWithIdp",Vr(t,e))}const uR="http://localhost";class Ra extends Ig{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=n;if(!r||!a)return null;const u=new Ra(r,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return zo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zo(e,n)}buildRequest(){const e={requestUri:uR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qu(n)}return e}}function cR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hR(t){const e=du(mu(t)).link,n=e?du(mu(e)).deep_link_id:null,r=du(mu(t)).deep_link_id;return(r?du(mu(r)).link:null)||r||n||e||t}class kg{constructor(e){const n=du(mu(e)),r=n.apiKey??null,a=n.oobCode??null,l=cR(n.mode??null);we(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=hR(e);try{return new kg(n)}catch{return null}}}class el{constructor(){this.providerId=el.PROVIDER_ID}static credential(e,n){return Ou._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=kg.parseLink(n);return we(r,"argument-error"),Ou._fromEmailAndCode(e,r.code,r.tenantId)}}el.PROVIDER_ID="password";el.EMAIL_PASSWORD_SIGN_IN_METHOD="password";el.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Rg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Xu extends Rg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ws extends Xu{constructor(){super("facebook.com")}static credential(e){return Ra._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";ws.PROVIDER_ID="facebook.com";class Ir extends Xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ra._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ir.credential(n,r)}catch{return null}}}Ir.GOOGLE_SIGN_IN_METHOD="google.com";Ir.PROVIDER_ID="google.com";class Ss extends Xu{constructor(){super("github.com")}static credential(e){return Ra._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.GITHUB_SIGN_IN_METHOD="github.com";Ss.PROVIDER_ID="github.com";class As extends Xu{constructor(){super("twitter.com")}static credential(e,n){return Ra._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return As.credential(n,r)}catch{return null}}}As.TWITTER_SIGN_IN_METHOD="twitter.com";As.PROVIDER_ID="twitter.com";async function fR(t,e){return $u(t,"POST","/v1/accounts:signUp",Vr(t,e))}class Na{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await Si._fromIdTokenResponse(e,r,a),u=S1(r);return new Na({user:l,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=S1(r);return new Na({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function S1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class hf extends Lr{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,hf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new hf(e,n,r,a)}}function Nx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?hf._fromErrorAndOperation(t,l,e,r):l})}async function dR(t,e,n=!1){const r=await Du(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Na._forOperation(t,"link",r)}async function mR(t,e,n=!1){const{auth:r}=t;if(Gn(r.app))return Promise.reject(Nr(r));const a="reauthenticate";try{const l=await Du(t,Nx(r,a,e,t),n);we(l.idToken,r,"internal-error");const u=Ag(l.idToken);we(u,r,"internal-error");const{sub:h}=u;return we(t.uid===h,r,"user-mismatch"),Na._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&hi(r,"user-mismatch"),l}}async function Dx(t,e,n=!1){if(Gn(t.app))return Promise.reject(Nr(t));const r="signIn",a=await Nx(t,r,e),l=await Na._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}async function pR(t,e){return Dx(Hs(t),e)}async function Ox(t){const e=Hs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gR(t,e,n){if(Gn(t.app))return Promise.reject(Nr(t));const r=Hs(t),u=await Bp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fR).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Ox(t),m}),h=await Na._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function yR(t,e,n){return Gn(t.app)?Promise.reject(Nr(t)):pR(cn(t),el.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ox(t),r})}async function _R(t,e){const n=cn(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:l}=await aR(n.auth,a);l!==t.email&&await t.reload()}function vR(t,e,n,r){return cn(t).onIdTokenChanged(e,n,r)}function bR(t,e,n){return cn(t).beforeAuthStateChanged(e,n)}function ER(t,e,n,r){return cn(t).onAuthStateChanged(e,n,r)}function xR(t){return cn(t).signOut()}const ff="__sak";class Mx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ff,"1"),this.storage.removeItem(ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const TR=1e3,wR=10;class Px extends Mx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ax(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,m)=>{this.notifyListeners(u,m)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);jk()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,wR):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},TR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Px.type="LOCAL";const SR=Px;class Lx extends Mx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Lx.type="SESSION";const Vx=Lx;function AR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Of{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Of(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,l)),m=await AR(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Of.receivers=[];function Ng(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class CR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,m)=>{const p=Ng("",20);a.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(y){const E=y;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(E.data.response);break;default:clearTimeout(_),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Zi(){return window}function IR(t){Zi().location.href=t}function jx(){return typeof Zi().WorkerGlobalScope<"u"&&typeof Zi().importScripts=="function"}async function kR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RR(){return navigator?.serviceWorker?.controller||null}function NR(){return jx()?self:null}const zx="firebaseLocalStorageDb",DR=1,df="firebaseLocalStorage",Ux="fbase_key";class Wu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mf(t,e){return t.transaction([df],e?"readwrite":"readonly").objectStore(df)}function OR(){const t=indexedDB.deleteDatabase(zx);return new Wu(t).toPromise()}function Fp(){const t=indexedDB.open(zx,DR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(df,{keyPath:Ux})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(df)?e(r):(r.close(),await OR(),e(await Fp()))})})}async function A1(t,e,n){const r=Mf(t,!0).put({[Ux]:e,value:n});return new Wu(r).toPromise()}async function MR(t,e){const n=Mf(t,!1).get(e),r=await new Wu(n).toPromise();return r===void 0?null:r.value}function C1(t,e){const n=Mf(t,!0).delete(e);return new Wu(n).toPromise()}const PR=800,LR=3;class Bx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>LR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Of._getInstance(NR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await kR(),!this.activeServiceWorker)return;this.sender=new CR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fp();return await A1(e,ff,"1"),await C1(e,ff),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>A1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>MR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>C1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Mf(a,!1).getAll();return new Wu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Bx.type="LOCAL";const VR=Bx;new Yu(3e4,6e4);function Fx(t,e){return e?Rr(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Dg extends Ig{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jR(t){return Dx(t.auth,new Dg(t),t.bypassAuthState)}function zR(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),mR(n,new Dg(t),t.bypassAuthState)}async function UR(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),dR(n,new Dg(t),t.bypassAuthState)}class qx{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jR;case"linkViaPopup":case"linkViaRedirect":return UR;case"reauthViaPopup":case"reauthViaRedirect":return zR;default:hi(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const BR=new Yu(2e3,1e4);async function FR(t,e,n){if(Gn(t.app))return Promise.reject(Ai(t,"operation-not-supported-in-this-environment"));const r=Hs(t);_k(t,e,Rg);const a=Fx(r,n);return new Sa(r,"signInViaPopup",e,a).executeNotNull()}class Sa extends qx{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Sa.currentPopupAction&&Sa.currentPopupAction.cancel(),Sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Or(this.filter.length===1,"Popup operations only handle one event");const e=Ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BR.get())};e()}}Sa.currentPopupAction=null;const qR="pendingRedirect",Qh=new Map;class HR extends qx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qh.get(this.auth._key());if(!e){try{const r=await GR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qh.set(this.auth._key(),e)}return this.bypassAuthState||Qh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GR(t,e){const n=YR(e),r=QR(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function KR(t,e){Qh.set(t._key(),e)}function QR(t){return Rr(t._redirectPersistence)}function YR(t){return Kh(qR,t.config.apiKey,t.name)}async function $R(t,e,n=!1){if(Gn(t.app))return Promise.reject(Nr(t));const r=Hs(t),a=Fx(r,e),u=await new HR(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const XR=600*1e3;class WR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Hx(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ai(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XR&&this.cachedEventUids.clear(),this.cachedEventUids.has(I1(e))}saveEventToCache(e){this.cachedEventUids.add(I1(e)),this.lastProcessedEventTime=Date.now()}}function I1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Hx({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function JR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hx(t);default:return!1}}async function ZR(t,e={}){return jr(t,"GET","/v1/projects",e)}const eN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tN=/^https?/;async function nN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ZR(t);for(const n of e)try{if(iN(n))return}catch{}hi(t,"unauthorized-domain")}function iN(t){const e=zp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!tN.test(n))return!1;if(eN.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const rN=new Yu(3e4,6e4);function k1(){const t=Zi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function sN(t){return new Promise((e,n)=>{function r(){k1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k1(),n(Ai(t,"network-request-failed"))},timeout:rN.get()})}if(Zi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Zi().gapi?.load)r();else{const a=Qk("iframefcb");return Zi()[a]=()=>{gapi.load?r():n(Ai(t,"network-request-failed"))},Ix(`${Kk()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Yh=null,e})}let Yh=null;function aN(t){return Yh=Yh||sN(t),Yh}const oN=new Yu(5e3,15e3),lN="__/auth/iframe",uN="emulator/auth/iframe",cN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fN(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Sg(e,uN):`https://${t.config.authDomain}/${lN}`,r={apiKey:e.apiKey,appName:t.name,v:Zo},a=hN.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Qu(r).slice(1)}`}async function dN(t){const e=await aN(t),n=Zi().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:fN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cN,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const u=Ai(t,"network-request-failed"),h=Zi().setTimeout(()=>{l(u)},oN.get());function m(){Zi().clearTimeout(h),a(r)}r.ping(m).then(m,()=>{l(u)})}))}const mN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pN=500,gN=600,yN="_blank",_N="http://localhost";class R1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vN(t,e,n,r=pN,a=gN){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const m={...mN,width:r.toString(),height:a.toString(),top:l,left:u},p=vn().toLowerCase();n&&(h=Ex(p)?yN:n),vx(p)&&(e=e||_N,m.scrollbars="yes");const _=Object.entries(m).reduce((E,[T,I])=>`${E}${T}=${I},`,"");if(Vk(p)&&h!=="_self")return bN(e||"",h),new R1(null);const y=window.open(e||"",h,_);we(y,t,"popup-blocked");try{y.focus()}catch{}return new R1(y)}function bN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const EN="__/auth/handler",xN="emulator/auth/handler",TN=encodeURIComponent("fac");async function N1(t,e,n,r,a,l){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zo,eventId:a};if(e instanceof Rg){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",n2(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,y]of Object.entries({}))u[_]=y}if(e instanceof Xu){const _=e.getScopes().filter(y=>y!=="");_.length>0&&(u.scopes=_.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const m=await t._getAppCheckToken(),p=m?`#${TN}=${encodeURIComponent(m)}`:"";return`${wN(t)}?${Qu(h).slice(1)}${p}`}function wN({config:t}){return t.emulator?Sg(t,xN):`https://${t.authDomain}/${EN}`}const up="webStorageSupport";class SN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vx,this._completeRedirectFn=$R,this._overrideRedirectResult=KR}async _openPopup(e,n,r,a){Or(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await N1(e,n,r,zp(),a);return vN(e,l,Ng())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await N1(e,n,r,zp(),a);return IR(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Or(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await dN(e),r=new WR(e);return n.register("authEvent",a=>(we(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(up,{type:up},a=>{const l=a?.[0]?.[up];l!==void 0&&n(!!l),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ax()||bx()||Cg()}}const AN=SN;var D1="@firebase/auth",O1="1.11.1";class CN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function IN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kN(t){Fo(new ka("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cx(t)},p=new qk(r,a,l,m);return Zk(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fo(new ka("auth-internal",e=>{const n=Hs(e.getProvider("auth").getImmediate());return(r=>new CN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rs(D1,O1,IN(t)),Rs(D1,O1,"esm2020")}const RN=300,NN=ix("authIdTokenMaxAge")||RN;let M1=null;const DN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>NN)return;const a=n?.token;M1!==a&&(M1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function ON(t=ux()){const e=xg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Jk(t,{popupRedirectResolver:AN,persistence:[VR,SR,Vx]}),r=ix("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=DN(l.toString());bR(n,u,()=>u(n.currentUser)),vR(n,h=>u(h))}}const a=tx("auth");return a&&eR(n,`http://${a}`),n}function MN(){return document.getElementsByTagName("head")?.[0]??document}Hk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=Ai("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",MN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kN("Browser");var P1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ns,Gx;(function(){var t;function e(P,R){function O(){}O.prototype=R.prototype,P.F=R.prototype,P.prototype=new O,P.prototype.constructor=P,P.D=function(A,C,D){for(var N=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)N[ue-2]=arguments[ue];return R.prototype[C].apply(A,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,R,O){O||(O=0);const A=Array(16);if(typeof R=="string")for(var C=0;C<16;++C)A[C]=R.charCodeAt(O++)|R.charCodeAt(O++)<<8|R.charCodeAt(O++)<<16|R.charCodeAt(O++)<<24;else for(C=0;C<16;++C)A[C]=R[O++]|R[O++]<<8|R[O++]<<16|R[O++]<<24;R=P.g[0],O=P.g[1],C=P.g[2];let D=P.g[3],N;N=R+(D^O&(C^D))+A[0]+3614090360&4294967295,R=O+(N<<7&4294967295|N>>>25),N=D+(C^R&(O^C))+A[1]+3905402710&4294967295,D=R+(N<<12&4294967295|N>>>20),N=C+(O^D&(R^O))+A[2]+606105819&4294967295,C=D+(N<<17&4294967295|N>>>15),N=O+(R^C&(D^R))+A[3]+3250441966&4294967295,O=C+(N<<22&4294967295|N>>>10),N=R+(D^O&(C^D))+A[4]+4118548399&4294967295,R=O+(N<<7&4294967295|N>>>25),N=D+(C^R&(O^C))+A[5]+1200080426&4294967295,D=R+(N<<12&4294967295|N>>>20),N=C+(O^D&(R^O))+A[6]+2821735955&4294967295,C=D+(N<<17&4294967295|N>>>15),N=O+(R^C&(D^R))+A[7]+4249261313&4294967295,O=C+(N<<22&4294967295|N>>>10),N=R+(D^O&(C^D))+A[8]+1770035416&4294967295,R=O+(N<<7&4294967295|N>>>25),N=D+(C^R&(O^C))+A[9]+2336552879&4294967295,D=R+(N<<12&4294967295|N>>>20),N=C+(O^D&(R^O))+A[10]+4294925233&4294967295,C=D+(N<<17&4294967295|N>>>15),N=O+(R^C&(D^R))+A[11]+2304563134&4294967295,O=C+(N<<22&4294967295|N>>>10),N=R+(D^O&(C^D))+A[12]+1804603682&4294967295,R=O+(N<<7&4294967295|N>>>25),N=D+(C^R&(O^C))+A[13]+4254626195&4294967295,D=R+(N<<12&4294967295|N>>>20),N=C+(O^D&(R^O))+A[14]+2792965006&4294967295,C=D+(N<<17&4294967295|N>>>15),N=O+(R^C&(D^R))+A[15]+1236535329&4294967295,O=C+(N<<22&4294967295|N>>>10),N=R+(C^D&(O^C))+A[1]+4129170786&4294967295,R=O+(N<<5&4294967295|N>>>27),N=D+(O^C&(R^O))+A[6]+3225465664&4294967295,D=R+(N<<9&4294967295|N>>>23),N=C+(R^O&(D^R))+A[11]+643717713&4294967295,C=D+(N<<14&4294967295|N>>>18),N=O+(D^R&(C^D))+A[0]+3921069994&4294967295,O=C+(N<<20&4294967295|N>>>12),N=R+(C^D&(O^C))+A[5]+3593408605&4294967295,R=O+(N<<5&4294967295|N>>>27),N=D+(O^C&(R^O))+A[10]+38016083&4294967295,D=R+(N<<9&4294967295|N>>>23),N=C+(R^O&(D^R))+A[15]+3634488961&4294967295,C=D+(N<<14&4294967295|N>>>18),N=O+(D^R&(C^D))+A[4]+3889429448&4294967295,O=C+(N<<20&4294967295|N>>>12),N=R+(C^D&(O^C))+A[9]+568446438&4294967295,R=O+(N<<5&4294967295|N>>>27),N=D+(O^C&(R^O))+A[14]+3275163606&4294967295,D=R+(N<<9&4294967295|N>>>23),N=C+(R^O&(D^R))+A[3]+4107603335&4294967295,C=D+(N<<14&4294967295|N>>>18),N=O+(D^R&(C^D))+A[8]+1163531501&4294967295,O=C+(N<<20&4294967295|N>>>12),N=R+(C^D&(O^C))+A[13]+2850285829&4294967295,R=O+(N<<5&4294967295|N>>>27),N=D+(O^C&(R^O))+A[2]+4243563512&4294967295,D=R+(N<<9&4294967295|N>>>23),N=C+(R^O&(D^R))+A[7]+1735328473&4294967295,C=D+(N<<14&4294967295|N>>>18),N=O+(D^R&(C^D))+A[12]+2368359562&4294967295,O=C+(N<<20&4294967295|N>>>12),N=R+(O^C^D)+A[5]+4294588738&4294967295,R=O+(N<<4&4294967295|N>>>28),N=D+(R^O^C)+A[8]+2272392833&4294967295,D=R+(N<<11&4294967295|N>>>21),N=C+(D^R^O)+A[11]+1839030562&4294967295,C=D+(N<<16&4294967295|N>>>16),N=O+(C^D^R)+A[14]+4259657740&4294967295,O=C+(N<<23&4294967295|N>>>9),N=R+(O^C^D)+A[1]+2763975236&4294967295,R=O+(N<<4&4294967295|N>>>28),N=D+(R^O^C)+A[4]+1272893353&4294967295,D=R+(N<<11&4294967295|N>>>21),N=C+(D^R^O)+A[7]+4139469664&4294967295,C=D+(N<<16&4294967295|N>>>16),N=O+(C^D^R)+A[10]+3200236656&4294967295,O=C+(N<<23&4294967295|N>>>9),N=R+(O^C^D)+A[13]+681279174&4294967295,R=O+(N<<4&4294967295|N>>>28),N=D+(R^O^C)+A[0]+3936430074&4294967295,D=R+(N<<11&4294967295|N>>>21),N=C+(D^R^O)+A[3]+3572445317&4294967295,C=D+(N<<16&4294967295|N>>>16),N=O+(C^D^R)+A[6]+76029189&4294967295,O=C+(N<<23&4294967295|N>>>9),N=R+(O^C^D)+A[9]+3654602809&4294967295,R=O+(N<<4&4294967295|N>>>28),N=D+(R^O^C)+A[12]+3873151461&4294967295,D=R+(N<<11&4294967295|N>>>21),N=C+(D^R^O)+A[15]+530742520&4294967295,C=D+(N<<16&4294967295|N>>>16),N=O+(C^D^R)+A[2]+3299628645&4294967295,O=C+(N<<23&4294967295|N>>>9),N=R+(C^(O|~D))+A[0]+4096336452&4294967295,R=O+(N<<6&4294967295|N>>>26),N=D+(O^(R|~C))+A[7]+1126891415&4294967295,D=R+(N<<10&4294967295|N>>>22),N=C+(R^(D|~O))+A[14]+2878612391&4294967295,C=D+(N<<15&4294967295|N>>>17),N=O+(D^(C|~R))+A[5]+4237533241&4294967295,O=C+(N<<21&4294967295|N>>>11),N=R+(C^(O|~D))+A[12]+1700485571&4294967295,R=O+(N<<6&4294967295|N>>>26),N=D+(O^(R|~C))+A[3]+2399980690&4294967295,D=R+(N<<10&4294967295|N>>>22),N=C+(R^(D|~O))+A[10]+4293915773&4294967295,C=D+(N<<15&4294967295|N>>>17),N=O+(D^(C|~R))+A[1]+2240044497&4294967295,O=C+(N<<21&4294967295|N>>>11),N=R+(C^(O|~D))+A[8]+1873313359&4294967295,R=O+(N<<6&4294967295|N>>>26),N=D+(O^(R|~C))+A[15]+4264355552&4294967295,D=R+(N<<10&4294967295|N>>>22),N=C+(R^(D|~O))+A[6]+2734768916&4294967295,C=D+(N<<15&4294967295|N>>>17),N=O+(D^(C|~R))+A[13]+1309151649&4294967295,O=C+(N<<21&4294967295|N>>>11),N=R+(C^(O|~D))+A[4]+4149444226&4294967295,R=O+(N<<6&4294967295|N>>>26),N=D+(O^(R|~C))+A[11]+3174756917&4294967295,D=R+(N<<10&4294967295|N>>>22),N=C+(R^(D|~O))+A[2]+718787259&4294967295,C=D+(N<<15&4294967295|N>>>17),N=O+(D^(C|~R))+A[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(C+(N<<21&4294967295|N>>>11))&4294967295,P.g[2]=P.g[2]+C&4294967295,P.g[3]=P.g[3]+D&4294967295}r.prototype.v=function(P,R){R===void 0&&(R=P.length);const O=R-this.blockSize,A=this.C;let C=this.h,D=0;for(;D<R;){if(C==0)for(;D<=O;)a(this,P,D),D+=this.blockSize;if(typeof P=="string"){for(;D<R;)if(A[C++]=P.charCodeAt(D++),C==this.blockSize){a(this,A),C=0;break}}else for(;D<R;)if(A[C++]=P[D++],C==this.blockSize){a(this,A),C=0;break}}this.h=C,this.o+=R},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;R=this.o*8;for(var O=P.length-8;O<P.length;++O)P[O]=R&255,R/=256;for(this.v(P),P=Array(16),R=0,O=0;O<4;++O)for(let A=0;A<32;A+=8)P[R++]=this.g[O]>>>A&255;return P};function l(P,R){var O=h;return Object.prototype.hasOwnProperty.call(O,P)?O[P]:O[P]=R(P)}function u(P,R){this.h=R;const O=[];let A=!0;for(let C=P.length-1;C>=0;C--){const D=P[C]|0;A&&D==R||(O[C]=D,A=!1)}this.g=O}var h={};function m(P){return-128<=P&&P<128?l(P,function(R){return new u([R|0],R<0?-1:0)}):new u([P|0],P<0?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return y;if(P<0)return L(p(-P));const R=[];let O=1;for(let A=0;P>=O;A++)R[A]=P/O|0,O*=4294967296;return new u(R,0)}function _(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return L(_(P.substring(1),R));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=p(Math.pow(R,8));let A=y;for(let D=0;D<P.length;D+=8){var C=Math.min(8,P.length-D);const N=parseInt(P.substring(D,D+C),R);C<8?(C=p(Math.pow(R,C)),A=A.j(C).add(p(N))):(A=A.j(O),A=A.add(p(N)))}return A}var y=m(0),E=m(1),T=m(16777216);t=u.prototype,t.m=function(){if(U(this))return-L(this).m();let P=0,R=1;for(let O=0;O<this.g.length;O++){const A=this.i(O);P+=(A>=0?A:4294967296+A)*R,R*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(I(this))return"0";if(U(this))return"-"+L(this).toString(P);const R=p(Math.pow(P,6));var O=this;let A="";for(;;){const C=se(O,R).g;O=z(O,C.j(R));let D=((O.g.length>0?O.g[0]:O.h)>>>0).toString(P);if(O=C,I(O))return D+A;for(;D.length<6;)D="0"+D;A=D+A}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function I(P){if(P.h!=0)return!1;for(let R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function U(P){return P.h==-1}t.l=function(P){return P=z(this,P),U(P)?-1:I(P)?0:1};function L(P){const R=P.g.length,O=[];for(let A=0;A<R;A++)O[A]=~P.g[A];return new u(O,~P.h).add(E)}t.abs=function(){return U(this)?L(this):this},t.add=function(P){const R=Math.max(this.g.length,P.g.length),O=[];let A=0;for(let C=0;C<=R;C++){let D=A+(this.i(C)&65535)+(P.i(C)&65535),N=(D>>>16)+(this.i(C)>>>16)+(P.i(C)>>>16);A=N>>>16,D&=65535,N&=65535,O[C]=N<<16|D}return new u(O,O[O.length-1]&-2147483648?-1:0)};function z(P,R){return P.add(L(R))}t.j=function(P){if(I(this)||I(P))return y;if(U(this))return U(P)?L(this).j(L(P)):L(L(this).j(P));if(U(P))return L(this.j(L(P)));if(this.l(T)<0&&P.l(T)<0)return p(this.m()*P.m());const R=this.g.length+P.g.length,O=[];for(var A=0;A<2*R;A++)O[A]=0;for(A=0;A<this.g.length;A++)for(let C=0;C<P.g.length;C++){const D=this.i(A)>>>16,N=this.i(A)&65535,ue=P.i(C)>>>16,ae=P.i(C)&65535;O[2*A+2*C]+=N*ae,F(O,2*A+2*C),O[2*A+2*C+1]+=D*ae,F(O,2*A+2*C+1),O[2*A+2*C+1]+=N*ue,F(O,2*A+2*C+1),O[2*A+2*C+2]+=D*ue,F(O,2*A+2*C+2)}for(P=0;P<R;P++)O[P]=O[2*P+1]<<16|O[2*P];for(P=R;P<2*R;P++)O[P]=0;return new u(O,0)};function F(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function q(P,R){this.g=P,this.h=R}function se(P,R){if(I(R))throw Error("division by zero");if(I(P))return new q(y,y);if(U(P))return R=se(L(P),R),new q(L(R.g),L(R.h));if(U(R))return R=se(P,L(R)),new q(L(R.g),R.h);if(P.g.length>30){if(U(P)||U(R))throw Error("slowDivide_ only works with positive integers.");for(var O=E,A=R;A.l(P)<=0;)O=he(O),A=he(A);var C=K(O,1),D=K(A,1);for(A=K(A,2),O=K(O,2);!I(A);){var N=D.add(A);N.l(P)<=0&&(C=C.add(O),D=N),A=K(A,1),O=K(O,1)}return R=z(P,C.j(R)),new q(C,R)}for(C=y;P.l(R)>=0;){for(O=Math.max(1,Math.floor(P.m()/R.m())),A=Math.ceil(Math.log(O)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),D=p(O),N=D.j(R);U(N)||N.l(P)>0;)O-=A,D=p(O),N=D.j(R);I(D)&&(D=E),C=C.add(D),P=z(P,N)}return new q(C,P)}t.B=function(P){return se(this,P).h},t.and=function(P){const R=Math.max(this.g.length,P.g.length),O=[];for(let A=0;A<R;A++)O[A]=this.i(A)&P.i(A);return new u(O,this.h&P.h)},t.or=function(P){const R=Math.max(this.g.length,P.g.length),O=[];for(let A=0;A<R;A++)O[A]=this.i(A)|P.i(A);return new u(O,this.h|P.h)},t.xor=function(P){const R=Math.max(this.g.length,P.g.length),O=[];for(let A=0;A<R;A++)O[A]=this.i(A)^P.i(A);return new u(O,this.h^P.h)};function he(P){const R=P.g.length+1,O=[];for(let A=0;A<R;A++)O[A]=P.i(A)<<1|P.i(A-1)>>>31;return new u(O,P.h)}function K(P,R){const O=R>>5;R%=32;const A=P.g.length-O,C=[];for(let D=0;D<A;D++)C[D]=R>0?P.i(D+O)>>>R|P.i(D+O+1)<<32-R:P.i(D+O);return new u(C,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Gx=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=_,Ns=u}).apply(typeof P1<"u"?P1:typeof self<"u"?self:typeof window<"u"?window:{});var Ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Kx,pu,Qx,$h,qp,Yx,$x,Xx;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ph=="object"&&Ph];for(var v=0;v<f.length;++v){var w=f[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function a(f,v){if(v)e:{var w=r;f=f.split(".");for(var k=0;k<f.length-1;k++){var G=f[k];if(!(G in w))break e;w=w[G]}f=f[f.length-1],k=w[f],v=v(k),v!=k&&v!=null&&e(w,f,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(v){var w=[],k;for(k in v)Object.prototype.hasOwnProperty.call(v,k)&&w.push([k,v[k]]);return w}});var l=l||{},u=this||self;function h(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function m(f,v,w){return f.call.apply(f.bind,arguments)}function p(f,v,w){return p=m,p.apply(null,arguments)}function _(f,v){var w=Array.prototype.slice.call(arguments,1);return function(){var k=w.slice();return k.push.apply(k,arguments),f.apply(this,k)}}function y(f,v){function w(){}w.prototype=v.prototype,f.Z=v.prototype,f.prototype=new w,f.prototype.constructor=f,f.Ob=function(k,G,W){for(var de=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)de[Ne-2]=arguments[Ne];return v.prototype[G].apply(k,de)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function T(f){const v=f.length;if(v>0){const w=Array(v);for(let k=0;k<v;k++)w[k]=f[k];return w}return[]}function I(f,v){for(let k=1;k<arguments.length;k++){const G=arguments[k];var w=typeof G;if(w=w!="object"?w:G?Array.isArray(G)?"array":w:"null",w=="array"||w=="object"&&typeof G.length=="number"){w=f.length||0;const W=G.length||0;f.length=w+W;for(let de=0;de<W;de++)f[w+de]=G[de]}else f.push(G)}}class U{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(f){u.setTimeout(()=>{throw f},0)}function z(){var f=P;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class F{constructor(){this.h=this.g=null}add(v,w){const k=q.get();k.set(v,w),this.h?this.h.next=k:this.g=k,this.h=k}}var q=new U(()=>new se,f=>f.reset());class se{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let he,K=!1,P=new F,R=()=>{const f=Promise.resolve(void 0);he=()=>{f.then(O)}};function O(){for(var f;f=z();){try{f.h.call(f.g)}catch(w){L(w)}var v=q;v.j(f),v.h<100&&(v.h++,f.next=v.g,v.g=f)}K=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};u.addEventListener("test",w,v),u.removeEventListener("test",w,v)}catch{}return f})();function N(f){return/^[\s\xa0]*$/.test(f)}function ue(f,v){C.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,v)}y(ue,C),ue.prototype.init=function(f,v){const w=this.type=f.type,k=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget,v||(w=="mouseover"?v=f.fromElement:w=="mouseout"&&(v=f.toElement)),this.relatedTarget=v,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),Y=0;function oe(f,v,w,k,G){this.listener=f,this.proxy=null,this.src=v,this.type=w,this.capture=!!k,this.ha=G,this.key=++Y,this.da=this.fa=!1}function me(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Re(f,v,w){for(const k in f)v.call(w,f[k],k,f)}function V(f,v){for(const w in f)v.call(void 0,f[w],w,f)}function We(f){const v={};for(const w in f)v[w]=f[w];return v}const Ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(f,v){let w,k;for(let G=1;G<arguments.length;G++){k=arguments[G];for(w in k)f[w]=k[w];for(let W=0;W<Ve.length;W++)w=Ve[W],Object.prototype.hasOwnProperty.call(k,w)&&(f[w]=k[w])}}function Ie(f){this.src=f,this.g={},this.h=0}Ie.prototype.add=function(f,v,w,k,G){const W=f.toString();f=this.g[W],f||(f=this.g[W]=[],this.h++);const de=Xe(f,v,k,G);return de>-1?(v=f[de],w||(v.fa=!1)):(v=new oe(v,this.src,W,!!k,G),v.fa=w,f.push(v)),v};function tt(f,v){const w=v.type;if(w in f.g){var k=f.g[w],G=Array.prototype.indexOf.call(k,v,void 0),W;(W=G>=0)&&Array.prototype.splice.call(k,G,1),W&&(me(v),f.g[w].length==0&&(delete f.g[w],f.h--))}}function Xe(f,v,w,k){for(let G=0;G<f.length;++G){const W=f[G];if(!W.da&&W.listener==v&&W.capture==!!w&&W.ha==k)return G}return-1}var _t="closure_lm_"+(Math.random()*1e6|0),At={};function Et(f,v,w,k,G){if(Array.isArray(v)){for(let W=0;W<v.length;W++)Et(f,v[W],w,k,G);return null}return w=Ys(w),f&&f[ae]?f.J(v,w,h(k)?!!k.capture:!1,G):Yn(f,v,w,!1,k,G)}function Yn(f,v,w,k,G,W){if(!v)throw Error("Invalid event type");const de=h(G)?!!G.capture:!!G;let Ne=Ii(f);if(Ne||(f[_t]=Ne=new Ie(f)),w=Ne.add(v,w,k,de,W),w.proxy)return w;if(k=fi(),w.proxy=k,k.src=f,k.listener=w,f.addEventListener)D||(G=de),G===void 0&&(G=!1),f.addEventListener(v.toString(),k,G);else if(f.attachEvent)f.attachEvent($n(v.toString()),k);else if(f.addListener&&f.removeListener)f.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return w}function fi(){function f(w){return v.call(f.src,f.listener,w)}const v=Fr;return f}function Ur(f,v,w,k,G){if(Array.isArray(v))for(var W=0;W<v.length;W++)Ur(f,v[W],w,k,G);else k=h(k)?!!k.capture:!!k,w=Ys(w),f&&f[ae]?(f=f.i,W=String(v).toString(),W in f.g&&(v=f.g[W],w=Xe(v,w,k,G),w>-1&&(me(v[w]),Array.prototype.splice.call(v,w,1),v.length==0&&(delete f.g[W],f.h--)))):f&&(f=Ii(f))&&(v=f.g[v.toString()],f=-1,v&&(f=Xe(v,w,k,G)),(w=f>-1?v[f]:null)&&Br(w))}function Br(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[ae])tt(v.i,f);else{var w=f.type,k=f.proxy;v.removeEventListener?v.removeEventListener(w,k,f.capture):v.detachEvent?v.detachEvent($n(w),k):v.addListener&&v.removeListener&&v.removeListener(k),(w=Ii(v))?(tt(w,f),w.h==0&&(w.src=null,v[_t]=null)):me(f)}}}function $n(f){return f in At?At[f]:At[f]="on"+f}function Fr(f,v){if(f.da)f=!0;else{v=new ue(v,this);const w=f.listener,k=f.ha||f.src;f.fa&&Br(f),f=w.call(k,v)}return f}function Ii(f){return f=f[_t],f instanceof Ie?f:null}var qr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ys(f){return typeof f=="function"?f:(f[qr]||(f[qr]=function(v){return f.handleEvent(v)}),f[qr])}function xt(){A.call(this),this.i=new Ie(this),this.M=this,this.G=null}y(xt,A),xt.prototype[ae]=!0,xt.prototype.removeEventListener=function(f,v,w,k){Ur(this,f,v,w,k)};function Ct(f,v){var w,k=f.G;if(k)for(w=[];k;k=k.G)w.push(k);if(f=f.M,k=v.type||v,typeof v=="string")v=new C(v,f);else if(v instanceof C)v.target=v.target||f;else{var G=v;v=new C(k,f),M(v,G)}G=!0;let W,de;if(w)for(de=w.length-1;de>=0;de--)W=v.g=w[de],G=ki(W,k,!0,v)&&G;if(W=v.g=f,G=ki(W,k,!0,v)&&G,G=ki(W,k,!1,v)&&G,w)for(de=0;de<w.length;de++)W=v.g=w[de],G=ki(W,k,!1,v)&&G}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var f=this.i;for(const v in f.g){const w=f.g[v];for(let k=0;k<w.length;k++)me(w[k]);delete f.g[v],f.h--}}this.G=null},xt.prototype.J=function(f,v,w,k){return this.i.add(String(f),v,!1,w,k)},xt.prototype.K=function(f,v,w,k){return this.i.add(String(f),v,!0,w,k)};function ki(f,v,w,k){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();let G=!0;for(let W=0;W<v.length;++W){const de=v[W];if(de&&!de.da&&de.capture==w){const Ne=de.listener,Nt=de.ha||de.src;de.fa&&tt(f.i,de),G=Ne.call(Nt,k)!==!1&&G}}return G&&!k.defaultPrevented}function ll(f,v){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(f,v||0)}function Ua(f){f.g=ll(()=>{f.g=null,f.i&&(f.i=!1,Ua(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class tn extends A{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ua(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lr(f){A.call(this),this.h=f,this.g={}}y(lr,A);var ee=[];function fe(f){Re(f.g,function(v,w){this.g.hasOwnProperty(w)&&Br(v)},f),f.g={}}lr.prototype.N=function(){lr.Z.N.call(this),fe(this)},lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var be=u.JSON.stringify,Le=u.JSON.parse,Je=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function fn(){}function Xn(){}var Rt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Tt(){C.call(this,"d")}y(Tt,C);function Xt(){C.call(this,"c")}y(Xt,C);var Ke={},di=null;function dn(){return di=di||new xt}Ke.Ia="serverreachability";function cc(f){C.call(this,Ke.Ia,f)}y(cc,C);function Ri(f){const v=dn();Ct(v,new cc(v))}Ke.STAT_EVENT="statevent";function $s(f,v){C.call(this,Ke.STAT_EVENT,f),this.stat=v}y($s,C);function Pt(f){const v=dn();Ct(v,new $s(v,f))}Ke.Ja="timingevent";function Ni(f,v){C.call(this,Ke.Ja,f),this.size=v}y(Ni,C);function Di(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},v)}function mi(){this.g=!0}mi.prototype.ua=function(){this.g=!1};function rd(f,v,w,k,G,W){f.info(function(){if(f.g)if(W){var de="",Ne=W.split("&");for(let nt=0;nt<Ne.length;nt++){var Nt=Ne[nt].split("=");if(Nt.length>1){const vt=Nt[0];Nt=Nt[1];const ei=vt.split("_");de=ei.length>=2&&ei[1]=="type"?de+(vt+"="+Nt+"&"):de+(vt+"=redacted&")}}}else de=null;else de=W;return"XMLHTTP REQ ("+k+") [attempt "+G+"]: "+v+`
`+w+`
`+de})}function hc(f,v,w,k,G,W,de){f.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+G+"]: "+v+`
`+w+`
`+W+" "+de})}function Oi(f,v,w,k){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+sd(f,w)+(k?" "+k:"")})}function Xs(f,v){f.info(function(){return"TIMEOUT: "+v})}mi.prototype.info=function(){};function sd(f,v){if(!f.g)return v;if(!v)return null;try{const W=JSON.parse(v);if(W){for(f=0;f<W.length;f++)if(Array.isArray(W[f])){var w=W[f];if(!(w.length<2)){var k=w[1];if(Array.isArray(k)&&!(k.length<1)){var G=k[0];if(G!="noop"&&G!="stop"&&G!="close")for(let de=1;de<k.length;de++)k[de]=""}}}}return be(W)}catch{return v}}var Ws={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ul={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},cl;function Js(){}y(Js,fn),Js.prototype.g=function(){return new XMLHttpRequest},cl=new Js;function ur(f){return encodeURIComponent(String(f))}function fc(f){var v=1;f=f.split(":");const w=[];for(;v>0&&f.length;)w.push(f.shift()),v--;return f.length&&w.push(f.join(":")),w}function pi(f,v,w,k){this.j=f,this.i=v,this.l=w,this.S=k||1,this.V=new lr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new gi}function gi(){this.i=null,this.g="",this.h=!1}var Lt={},Wt={};function Mi(f,v,w){f.M=1,f.A=Zs(jt(v)),f.u=w,f.R=!0,Ba(f,null)}function Ba(f,v){f.F=Date.now(),Pi(f),f.B=jt(f.A);var w=f.B,k=f.S;Array.isArray(k)||(k=[String(k)]),Ga(w.i,"t",k),f.C=0,w=f.j.L,f.h=new gi,f.g=Cc(f.j,w?v:null,!f.u),f.P>0&&(f.O=new tn(p(f.Y,f,f.g),f.P)),v=f.V,w=f.g,k=f.ba;var G="readystatechange";Array.isArray(G)||(G&&(ee[0]=G.toString()),G=ee);for(let W=0;W<G.length;W++){const de=Et(w,G[W],k||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=f.J?We(f.J):{},f.u?(f.v||(f.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,v)):(f.v="GET",f.g.ea(f.B,f.v,null,v)),Ri(),rd(f.i,f.v,f.B,f.l,f.S,f.u)}pi.prototype.ba=function(f){f=f.target;const v=this.O;v&&vi(f)==3?v.j():this.Y(f)},pi.prototype.Y=function(f){try{if(f==this.g)e:{const Ne=vi(this.g),Nt=this.g.ya(),nt=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||Ne!=4||Nt==7||(Nt==8||nt<=0?Ri(3):Ri(2)),Li(this);var v=this.g.ca();this.X=v;var w=ad(this);if(this.o=v==200,hc(this.i,this.v,this.B,this.l,this.S,Ne,v),this.o){if(this.U&&!this.L){t:{if(this.g){var k,G=this.g;if((k=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(k)){var W=k;break t}}W=null}if(f=W)Oi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vi(this,f);else{this.o=!1,this.m=3,Pt(12),Pn(this),Wn(this);break e}}if(this.R){f=!0;let vt;for(;!this.K&&this.C<w.length;)if(vt=mc(this,w),vt==Wt){Ne==4&&(this.m=4,Pt(14),f=!1),Oi(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==Lt){this.m=4,Pt(15),Oi(this.i,this.l,w,"[Invalid Chunk]"),f=!1;break}else Oi(this.i,this.l,vt,null),Vi(this,vt);if(dc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||w.length!=0||this.h.h||(this.m=1,Pt(16),f=!1),this.o=this.o&&f,!f)Oi(this.i,this.l,w,"[Invalid Chunked Response]"),Pn(this),Wn(this);else if(w.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Sl(de),de.P=!0,Pt(11))}}else Oi(this.i,this.l,w,null),Vi(this,w);Ne==4&&Pn(this),this.o&&!this.K&&(Ne==4?Tc(this.j,this):(this.o=!1,Pi(this)))}else hr(this.g),v==400&&w.indexOf("Unknown SID")>0?(this.m=3,Pt(12)):(this.m=0,Pt(13)),Pn(this),Wn(this)}}}catch{}finally{}};function ad(f){if(!dc(f))return f.g.la();const v=nn(f.g);if(v==="")return"";let w="";const k=v.length,G=vi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Pn(f),Wn(f),"";f.h.i=new u.TextDecoder}for(let W=0;W<k;W++)f.h.h=!0,w+=f.h.i.decode(v[W],{stream:!(G&&W==k-1)});return v.length=0,f.h.g+=w,f.C=0,f.h.g}function dc(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function mc(f,v){var w=f.C,k=v.indexOf(`
`,w);return k==-1?Wt:(w=Number(v.substring(w,k)),isNaN(w)?Lt:(k+=1,k+w>v.length?Wt:(v=v.slice(k,k+w),f.C=k+w,v)))}pi.prototype.cancel=function(){this.K=!0,Pn(this)};function Pi(f){f.T=Date.now()+f.H,Fa(f,f.H)}function Fa(f,v){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Di(p(f.aa,f),v)}function Li(f){f.D&&(u.clearTimeout(f.D),f.D=null)}pi.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Xs(this.i,this.B),this.M!=2&&(Ri(),Pt(17)),Pn(this),this.m=2,Wn(this)):Fa(this,this.T-f)};function Wn(f){f.j.I==0||f.K||Tc(f.j,f)}function Pn(f){Li(f);var v=f.O;v&&typeof v.dispose=="function"&&v.dispose(),f.O=null,fe(f.V),f.g&&(v=f.g,f.g=null,v.abort(),v.dispose())}function Vi(f,v){try{var w=f.j;if(w.I!=0&&(w.g==f||zi(w.h,f))){if(!f.L&&zi(w.h,f)&&w.I==3){try{var k=w.Ba.g.parse(v)}catch{k=null}if(Array.isArray(k)&&k.length==3){var G=k;if(G[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<f.F)Xa(w),Wr(w);else break e;aa(w),Pt(18)}}else w.xa=G[1],0<w.xa-w.K&&G[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Di(p(w.Va,w),6e3));ji(w.h)<=1&&w.ta&&(w.ta=void 0)}else Gi(w,11)}else if((f.L||w.g==f)&&Xa(w),!N(v))for(G=w.Ba.g.parse(v),v=0;v<G.length;v++){let nt=G[v];const vt=nt[0];if(!(vt<=w.K))if(w.K=vt,nt=nt[1],w.I==2)if(nt[0]=="c"){w.M=nt[1],w.ba=nt[2];const ei=nt[3];ei!=null&&(w.ka=ei,w.j.info("VER="+w.ka));const Ki=nt[4];Ki!=null&&(w.za=Ki,w.j.info("SVER="+w.za));const bi=nt[5];bi!=null&&typeof bi=="number"&&bi>0&&(k=1.5*bi,w.O=k,w.j.info("backChannelRequestTimeoutMs_="+k)),k=w;const Ei=f.g;if(Ei){const oa=Ei.g?Ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oa){var W=k.h;W.g||oa.indexOf("spdy")==-1&&oa.indexOf("quic")==-1&&oa.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(dl(W,W.h),W.h=null))}if(k.G){const Wa=Ei.g?Ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Wa&&(k.wa=Wa,st(k.J,k.G,Wa))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-f.F,w.j.info("Handshake RTT: "+w.T+"ms")),k=w;var de=f;if(k.na=Ac(k,k.L?k.ba:null,k.W),de.L){ml(k.h,de);var Ne=de,Nt=k.O;Nt&&(Ne.H=Nt),Ne.D&&(Li(Ne),Pi(Ne)),k.g=de}else Ec(k);w.i.length>0&&Hi(w)}else nt[0]!="stop"&&nt[0]!="close"||Gi(w,7);else w.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?Gi(w,7):Tl(w):nt[0]!="noop"&&w.l&&w.l.qa(nt),w.A=0)}}Ri(4)}catch{}}var Vt=class{constructor(f,v){this.g=f,this.map=v}};function hl(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ji(f){return f.h?1:f.g?f.g.size:0}function zi(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function dl(f,v){f.g?f.g.add(v):f.h=v}function ml(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}hl.prototype.cancel=function(){if(this.i=pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function pl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const w of f.g.values())v=v.concat(w.G);return v}return T(f.i)}var pc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qa(f,v){if(f){f=f.split("&");for(let w=0;w<f.length;w++){const k=f[w].indexOf("=");let G,W=null;k>=0?(G=f[w].substring(0,k),W=f[w].substring(k+1)):G=f[w],v(G,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Ln(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;f instanceof Ln?(this.l=f.l,Jt(this,f.j),this.o=f.o,this.g=f.g,Hr(this,f.u),this.h=f.h,gl(this,vc(f.i)),this.m=f.m):f&&(v=String(f).match(pc))?(this.l=!1,Jt(this,v[1]||"",!0),this.o=Ui(v[2]||""),this.g=Ui(v[3]||"",!0),Hr(this,v[4]),this.h=Ui(v[5]||"",!0),gl(this,v[6]||"",!0),this.m=Ui(v[7]||"")):(this.l=!1,this.i=new Kr(null,this.l))}Ln.prototype.toString=function(){const f=[];var v=this.j;v&&f.push(ea(v,Ha,!0),":");var w=this.g;return(w||v=="file")&&(f.push("//"),(v=this.o)&&f.push(ea(v,Ha,!0),"@"),f.push(ur(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&f.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push(ea(w,w.charAt(0)=="/"?yl:gc,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",ea(w,yc)),f.join("")},Ln.prototype.resolve=function(f){const v=jt(this);let w=!!f.j;w?Jt(v,f.j):w=!!f.o,w?v.o=f.o:w=!!f.g,w?v.g=f.g:w=f.u!=null;var k=f.h;if(w)Hr(v,f.u);else if(w=!!f.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var G=v.h.lastIndexOf("/");G!=-1&&(k=v.h.slice(0,G+1)+k)}if(G=k,G==".."||G==".")k="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){k=G.lastIndexOf("/",0)==0,G=G.split("/");const W=[];for(let de=0;de<G.length;){const Ne=G[de++];Ne=="."?k&&de==G.length&&W.push(""):Ne==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),k&&de==G.length&&W.push("")):(W.push(Ne),k=!0)}k=W.join("/")}else k=G}return w?v.h=k:w=f.i.toString()!=="",w?gl(v,vc(f.i)):w=!!f.m,w&&(v.m=f.m),v};function jt(f){return new Ln(f)}function Jt(f,v,w){f.j=w?Ui(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function Hr(f,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);f.u=v}else f.u=null}function gl(f,v,w){v instanceof Kr?(f.i=v,Ka(f.i,f.l)):(w||(v=ea(v,Gr)),f.i=new Kr(v,f.l))}function st(f,v,w){f.i.set(v,w)}function Zs(f){return st(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Ui(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ea(f,v,w){return typeof f=="string"?(f=encodeURI(f).replace(v,wn),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function wn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ha=/[#\/\?@]/g,gc=/[#\?:]/g,yl=/[#\?]/g,Gr=/[#\?@]/g,yc=/#/g;function Kr(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Sn(f){f.g||(f.g=new Map,f.h=0,f.i&&qa(f.i,function(v,w){f.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}t=Kr.prototype,t.add=function(f,v){Sn(this),this.i=null,f=Qr(this,f);let w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(v),this.h+=1,this};function _c(f,v){Sn(f),v=Qr(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function _l(f,v){return Sn(f),v=Qr(f,v),f.g.has(v)}t.forEach=function(f,v){Sn(this),this.g.forEach(function(w,k){w.forEach(function(G){f.call(v,G,k,this)},this)},this)};function vl(f,v){Sn(f);let w=[];if(typeof v=="string")_l(f,v)&&(w=w.concat(f.g.get(Qr(f,v))));else for(f=Array.from(f.g.values()),v=0;v<f.length;v++)w=w.concat(f[v]);return w}t.set=function(f,v){return Sn(this),this.i=null,f=Qr(this,f),_l(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},t.get=function(f,v){return f?(f=vl(this,f),f.length>0?String(f[0]):v):v};function Ga(f,v,w){_c(f,v),w.length>0&&(f.i=null,f.g.set(Qr(f,v),T(w)),f.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(let k=0;k<v.length;k++){var w=v[k];const G=ur(w);w=vl(this,w);for(let W=0;W<w.length;W++){let de=G;w[W]!==""&&(de+="="+ur(w[W])),f.push(de)}}return this.i=f.join("&")};function vc(f){const v=new Kr;return v.i=f.i,f.g&&(v.g=new Map(f.g),v.h=f.h),v}function Qr(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function Ka(f,v){v&&!f.j&&(Sn(f),f.i=null,f.g.forEach(function(w,k){const G=k.toLowerCase();k!=G&&(_c(this,k),Ga(this,G,w))},f)),f.j=v}function yi(f,v){const w=new mi;if(u.Image){const k=new Image;k.onload=_(Jn,w,"TestLoadImage: loaded",!0,v,k),k.onerror=_(Jn,w,"TestLoadImage: error",!1,v,k),k.onabort=_(Jn,w,"TestLoadImage: abort",!1,v,k),k.ontimeout=_(Jn,w,"TestLoadImage: timeout",!1,v,k),u.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=f}else v(!1)}function bl(f,v){const w=new mi,k=new AbortController,G=setTimeout(()=>{k.abort(),Jn(w,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:k.signal}).then(W=>{clearTimeout(G),W.ok?Jn(w,"TestPingServer: ok",!0,v):Jn(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),Jn(w,"TestPingServer: error",!1,v)})}function Jn(f,v,w,k,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),k(w)}catch{}}function Yr(){this.g=new Je}function Bi(f){this.i=f.Sb||null,this.h=f.ab||!1}y(Bi,fn),Bi.prototype.g=function(){return new ta(this.i,this.h)};function ta(f,v){xt.call(this),this.H=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(ta,xt),t=ta.prototype,t.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=v,this.readyState=1,_i(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(v.body=f),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$r(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,_i(this)),this.g&&(this.readyState=3,_i(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qa(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qa(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?$r(this):_i(this),this.readyState==3&&Qa(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,$r(this))},t.Na=function(f){this.g&&(this.response=f,$r(this))},t.ga=function(){this.g&&$r(this)};function $r(f){f.readyState=4,f.l=null,f.j=null,f.B=null,_i(f)}t.setRequestHeader=function(f,v){this.A.append(f,v)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=v.next();return f.join(`\r
`)};function _i(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Zn(f){let v="";return Re(f,function(w,k){v+=k,v+=":",v+=w,v+=`\r
`}),v}function na(f,v,w){e:{for(k in w){var k=!1;break e}k=!0}k||(w=Zn(w),typeof f=="string"?w!=null&&ur(w):st(f,v,w))}function lt(f){xt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(lt,xt);var Fi=/^https?$/i,El=["POST","PUT"];t=lt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,v,w,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():cl.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(W){ia(this,W);return}if(f=w||"",w=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var G in k)w.set(G,k[G]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const W of k.keys())w.set(W,k.get(W));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(w.keys()).find(W=>W.toLowerCase()=="content-type"),G=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(El,v,void 0)>=0)||k||G||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,de]of w)this.g.setRequestHeader(W,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(W){ia(this,W)}};function ia(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.o=5,xl(f),cr(f)}function xl(f){f.A||(f.A=!0,Ct(f,"complete"),Ct(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ct(this,"complete"),Ct(this,"abort"),cr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cr(this,!0)),lt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ra(this):this.Xa())},t.Xa=function(){ra(this)};function ra(f){if(f.h&&typeof l<"u"){if(f.v&&vi(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ct(f,"readystatechange"),vi(f)==4){f.h=!1;try{const W=f.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var k;if(k=W===0){let de=String(f.D).match(pc)[1]||null;!de&&u.self&&u.self.location&&(de=u.self.location.protocol.slice(0,-1)),k=!Fi.test(de?de.toLowerCase():"")}w=k}if(w)Ct(f,"complete"),Ct(f,"success");else{f.o=6;try{var G=vi(f)>2?f.g.statusText:""}catch{G=""}f.l=G+" ["+f.ca()+"]",xl(f)}}finally{cr(f)}}}}function cr(f,v){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const w=f.g;f.g=null,v||Ct(f,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function vi(f){return f.g?f.g.readyState:0}t.ca=function(){try{return vi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Le(v)}};function nn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function hr(f){const v={};f=(f.g&&vi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<f.length;k++){if(N(f[k]))continue;var w=fc(f[k]);const G=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const W=v[G]||[];v[G]=W,W.push(w)}V(v,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qi(f,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||v}function Xr(f){this.za=0,this.i=[],this.j=new mi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qi("baseRetryDelayMs",5e3,f),this.Za=qi("retryDelaySeedMs",1e4,f),this.Ta=qi("forwardChannelMaxRetries",2,f),this.va=qi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new hl(f&&f.concurrentRequestLimit),this.Ba=new Yr,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Xr.prototype,t.ka=8,t.I=1,t.connect=function(f,v,w,k){Pt(0),this.W=f,this.H=v||{},w&&k!==void 0&&(this.H.OSID=w,this.H.OAID=k),this.F=this.X,this.J=Ac(this,null,this.W),Hi(this)};function Tl(f){if(Ya(f),f.I==3){var v=f.V++,w=jt(f.J);if(st(w,"SID",f.M),st(w,"RID",v),st(w,"TYPE","terminate"),sa(f,w),v=new pi(f,f.j,v),v.M=2,v.A=Zs(jt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=v.A,w=!0),w||(v.g=Cc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Pi(v)}Sc(f)}function Wr(f){f.g&&(Sl(f),f.g.cancel(),f.g=null)}function Ya(f){Wr(f),f.v&&(u.clearTimeout(f.v),f.v=null),Xa(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function Hi(f){if(!fl(f.h)&&!f.m){f.m=!0;var v=f.Ea;he||R(),K||(he(),K=!0),P.add(v,f),f.D=0}}function $a(f,v){return ji(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=v.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Di(p(f.Ea,f,v),wc(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const G=new pi(this,this.j,f);let W=this.o;if(this.U&&(W?(W=We(W),M(W,this.U)):W=this.U),this.u!==null||this.R||(G.J=W,W=null),this.S)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var k=this.i[w];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(v+=k,v>4096){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=bc(this,G,v),w=jt(this.J),st(w,"RID",f),st(w,"CVER",22),this.G&&st(w,"X-HTTP-Session-Id",this.G),sa(this,w),W&&(this.R?v="headers="+ur(Zn(W))+"&"+v:this.u&&na(w,this.u,W)),dl(this.h,G),this.Ra&&st(w,"TYPE","init"),this.S?(st(w,"$req",v),st(w,"SID","null"),G.U=!0,Mi(G,w,null)):Mi(G,w,v),this.I=2}}else this.I==3&&(f?wl(this,f):this.i.length==0||fl(this.h)||wl(this))};function wl(f,v){var w;v?w=v.l:w=f.V++;const k=jt(f.J);st(k,"SID",f.M),st(k,"RID",w),st(k,"AID",f.K),sa(f,k),f.u&&f.o&&na(k,f.u,f.o),w=new pi(f,f.j,w,f.D+1),f.u===null&&(w.J=f.o),v&&(f.i=v.G.concat(f.i)),v=bc(f,w,1e3),w.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),dl(f.h,w),Mi(w,k,v)}function sa(f,v){f.H&&Re(f.H,function(w,k){st(v,k,w)}),f.l&&Re({},function(w,k){st(v,k,w)})}function bc(f,v,w){w=Math.min(f.i.length,w);const k=f.l?p(f.l.Ka,f.l,f):null;e:{var G=f.i;let Ne=-1;for(;;){const Nt=["count="+w];Ne==-1?w>0?(Ne=G[0].g,Nt.push("ofs="+Ne)):Ne=0:Nt.push("ofs="+Ne);let nt=!0;for(let vt=0;vt<w;vt++){var W=G[vt].g;const ei=G[vt].map;if(W-=Ne,W<0)Ne=Math.max(0,G[vt].g-100),nt=!1;else try{W="req"+W+"_"||"";try{var de=ei instanceof Map?ei:Object.entries(ei);for(const[Ki,bi]of de){let Ei=bi;h(bi)&&(Ei=be(bi)),Nt.push(W+Ki+"="+encodeURIComponent(Ei))}}catch(Ki){throw Nt.push(W+"type="+encodeURIComponent("_badmap")),Ki}}catch{k&&k(ei)}}if(nt){de=Nt.join("&");break e}}de=void 0}return f=f.i.splice(0,w),v.G=f,de}function Ec(f){if(!f.g&&!f.v){f.Y=1;var v=f.Da;he||R(),K||(he(),K=!0),P.add(v,f),f.A=0}}function aa(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Di(p(f.Da,f),wc(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,xc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Di(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pt(10),Wr(this),xc(this))};function Sl(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function xc(f){f.g=new pi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var v=jt(f.na);st(v,"RID","rpc"),st(v,"SID",f.M),st(v,"AID",f.K),st(v,"CI",f.F?"0":"1"),!f.F&&f.ia&&st(v,"TO",f.ia),st(v,"TYPE","xmlhttp"),sa(f,v),f.u&&f.o&&na(v,f.u,f.o),f.O&&(f.g.H=f.O);var w=f.g;f=f.ba,w.M=1,w.A=Zs(jt(v)),w.u=null,w.R=!0,Ba(w,f)}t.Va=function(){this.C!=null&&(this.C=null,Wr(this),aa(this),Pt(19))};function Xa(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Tc(f,v){var w=null;if(f.g==v){Xa(f),Sl(f),f.g=null;var k=2}else if(zi(f.h,v))w=v.G,ml(f.h,v),k=1;else return;if(f.I!=0){if(v.o)if(k==1){w=v.u?v.u.length:0,v=Date.now()-v.F;var G=f.D;k=dn(),Ct(k,new Ni(k,w)),Hi(f)}else Ec(f);else if(G=v.m,G==3||G==0&&v.X>0||!(k==1&&$a(f,v)||k==2&&aa(f)))switch(w&&w.length>0&&(v=f.h,v.i=v.i.concat(w)),G){case 1:Gi(f,5);break;case 4:Gi(f,10);break;case 3:Gi(f,6);break;default:Gi(f,2)}}}function wc(f,v){let w=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(w*=2),w*v}function Gi(f,v){if(f.j.info("Error code "+v),v==2){var w=p(f.bb,f),k=f.Ua;const G=!k;k=new Ln(k||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Jt(k,"https"),Zs(k),G?yi(k.toString(),w):bl(k.toString(),w)}else Pt(2);f.I=0,f.l&&f.l.pa(v),Sc(f),Ya(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function Sc(f){if(f.I=0,f.ja=[],f.l){const v=pl(f.h);(v.length!=0||f.i.length!=0)&&(I(f.ja,v),I(f.ja,f.i),f.h.i.length=0,T(f.i),f.i.length=0),f.l.oa()}}function Ac(f,v,w){var k=w instanceof Ln?jt(w):new Ln(w);if(k.g!="")v&&(k.g=v+"."+k.g),Hr(k,k.u);else{var G=u.location;k=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;const W=new Ln(null);k&&Jt(W,k),v&&(W.g=v),G&&Hr(W,G),w&&(W.h=w),k=W}return w=f.G,v=f.wa,w&&v&&st(k,w,v),st(k,"VER",f.ka),sa(f,k),k}function Cc(f,v,w){if(v&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Aa&&!f.ma?new lt(new Bi({ab:w})):new lt(f.ma),v.Fa(f.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ic(){}t=Ic.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Jr(){}Jr.prototype.g=function(f,v){return new En(f,v)};function En(f,v){xt.call(this),this.g=new Xr(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(f?f["X-WebChannel-Client-Profile"]=v.sa:f={"X-WebChannel-Client-Profile":v.sa}),this.g.U=f,(f=v&&v.Qb)&&!N(f)&&(this.g.u=f),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.G=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new fr(this)}y(En,xt),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Tl(this.g)},En.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.v&&(w={},w.__data__=be(f),f=w);v.i.push(new Vt(v.Ya++,f)),v.I==3&&Hi(v)},En.prototype.N=function(){this.g.l=null,delete this.j,Tl(this.g),delete this.g,En.Z.N.call(this)};function kc(f){Tt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const w in v){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}y(kc,Tt);function Rc(){Xt.call(this),this.status=1}y(Rc,Xt);function fr(f){this.g=f}y(fr,Ic),fr.prototype.ra=function(){Ct(this.g,"a")},fr.prototype.qa=function(f){Ct(this.g,new kc(f))},fr.prototype.pa=function(f){Ct(this.g,new Rc)},fr.prototype.oa=function(){Ct(this.g,"b")},Jr.prototype.createWebChannel=Jr.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,Xx=function(){return new Jr},$x=function(){return dn()},Yx=Ke,qp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ws.NO_ERROR=0,Ws.TIMEOUT=8,Ws.HTTP_ERROR=6,$h=Ws,ul.COMPLETE="complete",Qx=ul,Xn.EventType=Rt,Rt.OPEN="a",Rt.CLOSE="b",Rt.ERROR="c",Rt.MESSAGE="d",xt.prototype.listen=xt.prototype.J,pu=Xn,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,Kx=lt}).apply(typeof Ph<"u"?Ph:typeof self<"u"?self:typeof window<"u"?window:{});const L1="@firebase/firestore",V1="4.9.2";class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let tl="12.3.0";const Da=new bg("@firebase/firestore");function No(){return Da.logLevel}function pe(t,...e){if(Da.logLevel<=qe.DEBUG){const n=e.map(Og);Da.debug(`Firestore (${tl}): ${t}`,...n)}}function Mr(t,...e){if(Da.logLevel<=qe.ERROR){const n=e.map(Og);Da.error(`Firestore (${tl}): ${t}`,...n)}}function qo(t,...e){if(Da.logLevel<=qe.WARN){const n=e.map(Og);Da.warn(`Firestore (${tl}): ${t}`,...n)}}function Og(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Wx(t,r,n)}function Wx(t,e,n){let r=`FIRESTORE (${tl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Mr(r),new Error(r)}function rt(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||Wx(e,a,r)}function Ce(t,e){return t}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ds{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Jx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pn.UNAUTHENTICATED)))}shutdown(){}}class LN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class VN{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rt(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let l=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ds,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},h=m=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ds)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string",31837,{l:r}),new Jx(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class jN{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zN{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new jN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class j1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){rt(this.o===void 0,3512);const r=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new j1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new j1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function BN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Mg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=BN(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function Hp(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),l=e.charAt(r);if(a!==l)return cp(a)===cp(l)?He(a,l):cp(a)?1:-1}return He(t.length,e.length)}const FN=55296,qN=57343;function cp(t){const e=t.charCodeAt(0);return e>=FN&&e<=qN}function Ho(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}const z1="__name__";class Ji{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ji.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ji?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=Ji.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return He(e.length,n.length)}static compareSegments(e,n){const r=Ji.isNumericId(e),a=Ji.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Ji.extractNumericId(e).compare(Ji.extractNumericId(n)):Hp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ns.fromString(e.substring(4,e.length-2))}}class wt extends Ji{construct(e,n,r){return new wt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new wt(n)}static emptyPath(){return new wt([])}}const HN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Ji{construct(e,n,r){return new un(e,n,r)}static isValidIdentifier(e){return HN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===z1}static keyField(){return new un([z1])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new _e(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new _e(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new _e(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(l(),a++)}if(l(),u)throw new _e(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}class xe{constructor(e){this.path=e}static fromPath(e){return new xe(wt.fromString(e))}static fromName(e){return new xe(wt.fromString(e).popFirst(5))}static empty(){return new xe(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new wt(e.slice()))}}function GN(t,e,n){if(!n)throw new _e(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KN(t,e,n,r){if(e===!0&&r===!0)throw new _e(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function U1(t){if(!xe.isDocumentKey(t))throw new _e(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Zx(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Pg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function Oa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pg(t);throw new _e(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Gt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ju(t,e){if(!Zx(t))throw new _e(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(a&&typeof u!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new _e(le.INVALID_ARGUMENT,n);return!0}const B1=-62135596800,F1=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*F1);return new yt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<B1)throw new _e(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F1}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ju(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-B1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Gt("string",yt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new yt(0,0))}static max(){return new Ae(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Mu=-1;function QN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Ae.fromTimestamp(r===1e9?new yt(n+1,0):new yt(n,r));return new Ls(a,xe.empty(),e)}function YN(t){return new Ls(t.readTime,t.key,Mu)}class Ls{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ls(Ae.min(),xe.empty(),Mu)}static max(){return new Ls(Ae.max(),xe.empty(),Mu)}}function $N(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}const XN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function nl(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==XN)throw t;pe("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,r)=>{n(e)}))}static reject(e){return new re(((n,r)=>{r(e)}))}static waitFor(e){return new re(((n,r)=>{let a=0,l=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&n()}),(m=>r(m)))})),u=!0,l===a&&n()}))}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next((a=>a?re.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,l)=>{r.push(n.call(this,a,l))})),this.waitFor(r)}static mapArray(e,n){return new re(((r,a)=>{const l=e.length,u=new Array(l);let h=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((_=>{u[p]=_,++h,h===l&&r(u)}),(_=>a(_)))}}))}static doWhile(e,n){return new re(((r,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):r()};l()}))}}function JN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function il(t){return t.name==="IndexedDbTransactionError"}class Pf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pf.ce=-1;const Lg=-1;function Lf(t){return t==null}function mf(t){return t===0&&1/t==-1/0}function ZN(t){return typeof t=="number"&&Number.isInteger(t)&&!mf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const eT="";function eD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=q1(e)),e=tD(t.get(n),e);return q1(e)}function tD(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case eT:n+="";break;default:n+=l}}return n}function q1(t){return t+eT+""}function H1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class St{constructor(e,n){this.comparator=e,this.root=n||ln.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lh(this.root,e,this.comparator,!0)}}class Lh{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??ln.RED,this.left=a??ln.EMPTY,this.right=l??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new ln(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return ln.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,r,a,l){return this}insert(e,n,r){return new ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new G1(this.data.getIterator())}getIteratorFrom(e){return new G1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class G1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Kn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Kn([])}unionWith(e){let n=new $t(un.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ho(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class nT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new nT("Invalid base64 string: "+l):l}})(e);return new hn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const nD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(t){if(rt(!!t,39018),typeof t=="string"){let e=0;const n=nD.exec(t);if(rt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function js(t){return typeof t=="string"?hn.fromBase64String(t):hn.fromUint8Array(t)}const iT="server_timestamp",rT="__type__",sT="__previous_value__",aT="__local_write_time__";function Vg(t){return(t?.mapValue?.fields||{})[rT]?.stringValue===iT}function Vf(t){const e=t.mapValue.fields[sT];return Vg(e)?Vf(e):e}function Pu(t){const e=Vs(t.mapValue.fields[aT].timestampValue);return new yt(e.seconds,e.nanos)}class iD{constructor(e,n,r,a,l,u,h,m,p,_){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=_}}const pf="(default)";class Lu{constructor(e,n){this.projectId=e,this.database=n||pf}static empty(){return new Lu("","")}get isDefaultDatabase(){return this.database===pf}isEqual(e){return e instanceof Lu&&e.projectId===this.projectId&&e.database===this.database}}const oT="__type__",rD="__max__",Vh={mapValue:{}},lT="__vector__",gf="value";function zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vg(t)?4:aD(t)?9007199254740991:sD(t)?10:11:Se(28295,{value:t})}function sr(t,e){if(t===e)return!0;const n=zs(t);if(n!==zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pu(t).isEqual(Pu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Vs(a.timestampValue),h=Vs(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return js(a.bytesValue).isEqual(js(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Mt(a.geoPointValue.latitude)===Mt(l.geoPointValue.latitude)&&Mt(a.geoPointValue.longitude)===Mt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Mt(a.integerValue)===Mt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Mt(a.doubleValue),h=Mt(l.doubleValue);return u===h?mf(u)===mf(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return Ho(t.arrayValue.values||[],e.arrayValue.values||[],sr);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(H1(u)!==H1(h))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(h[m]===void 0||!sr(u[m],h[m])))return!1;return!0})(t,e);default:return Se(52216,{left:t})}}function Vu(t,e){return(t.values||[]).find((n=>sr(n,e)))!==void 0}function Go(t,e){if(t===e)return 0;const n=zs(t),r=zs(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=Mt(l.integerValue||l.doubleValue),m=Mt(u.integerValue||u.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(t,e);case 3:return K1(t.timestampValue,e.timestampValue);case 4:return K1(Pu(t),Pu(e));case 5:return Hp(t.stringValue,e.stringValue);case 6:return(function(l,u){const h=js(l),m=js(u);return h.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),m=u.split("/");for(let p=0;p<h.length&&p<m.length;p++){const _=He(h[p],m[p]);if(_!==0)return _}return He(h.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=He(Mt(l.latitude),Mt(u.latitude));return h!==0?h:He(Mt(l.longitude),Mt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Q1(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},m=u.fields||{},p=h[gf]?.arrayValue,_=m[gf]?.arrayValue,y=He(p?.values?.length||0,_?.values?.length||0);return y!==0?y:Q1(p,_)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Vh.mapValue&&u===Vh.mapValue)return 0;if(l===Vh.mapValue)return 1;if(u===Vh.mapValue)return-1;const h=l.fields||{},m=Object.keys(h),p=u.fields||{},_=Object.keys(p);m.sort(),_.sort();for(let y=0;y<m.length&&y<_.length;++y){const E=Hp(m[y],_[y]);if(E!==0)return E;const T=Go(h[m[y]],p[_[y]]);if(T!==0)return T}return He(m.length,_.length)})(t.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function K1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=Vs(t),r=Vs(e),a=He(n.seconds,r.seconds);return a!==0?a:He(n.nanos,r.nanos)}function Q1(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=Go(n[a],r[a]);if(l)return l}return He(n.length,r.length)}function Ko(t){return Gp(t)}function Gp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Vs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return js(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return xe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=Gp(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of r)l?l=!1:a+=",",a+=`${u}:${Gp(n.fields[u])}`;return a+"}"})(t.mapValue):Se(61005,{value:t})}function Xh(t){switch(zs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vf(t);return e?16+Xh(e):16;case 5:return 2*t.stringValue.length;case 6:return js(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+Xh(l)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return Gs(r.fields,((l,u)=>{a+=l.length+Xh(u)})),a})(t.mapValue);default:throw Se(13486,{value:t})}}function Kp(t){return!!t&&"integerValue"in t}function jg(t){return!!t&&"arrayValue"in t}function Y1(t){return!!t&&"nullValue"in t}function $1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wh(t){return!!t&&"mapValue"in t}function sD(t){return(t?.mapValue?.fields||{})[oT]?.stringValue===lT}function xu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Gs(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=xu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xu(t.arrayValue.values[n]);return e}return{...t}}function aD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===rD}class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xu(n)}setAll(e){let n=un.emptyPath(),r={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const m=this.getFieldsMap(n);this.applyChanges(m,r,a),r={},a=[],n=h.popLast()}u?r[h.lastSegment()]=xu(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());Wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Wh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Gs(n,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new On(xu(this.value))}}function uT(t){const e=[];return Gs(t.fields,((n,r)=>{const a=new un([n]);if(Wh(r)){const l=uT(r.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Kn(e)}class gn{constructor(e,n,r,a,l,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new gn(e,0,Ae.min(),Ae.min(),Ae.min(),On.empty(),0)}static newFoundDocument(e,n,r,a){return new gn(e,1,n,Ae.min(),r,a,0)}static newNoDocument(e,n){return new gn(e,2,n,Ae.min(),Ae.min(),On.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,Ae.min(),Ae.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yf{constructor(e,n){this.position=e,this.inclusive=n}}function X1(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?r=xe.comparator(xe.fromName(u.referenceValue),n.key):r=Go(u,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function W1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!sr(t.position[n],e.position[n]))return!1;return!0}class _f{constructor(e,n="asc"){this.field=e,this.dir=n}}function oD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class cT{}class Qt extends cT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uD(e,n,r):n==="array-contains"?new fD(e,r):n==="in"?new dD(e,r):n==="not-in"?new mD(e,r):n==="array-contains-any"?new pD(e,r):new Qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cD(e,r):new hD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Go(n,this.value)):n!==null&&zs(this.value)===zs(n)&&this.matchesComparison(Go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ar extends cT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ar(e,n)}matches(e){return hT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hT(t){return t.op==="and"}function fT(t){return lD(t)&&hT(t)}function lD(t){for(const e of t.filters)if(e instanceof ar)return!1;return!0}function Qp(t){if(t instanceof Qt)return t.field.canonicalString()+t.op.toString()+Ko(t.value);if(fT(t))return t.filters.map((e=>Qp(e))).join(",");{const e=t.filters.map((n=>Qp(n))).join(",");return`${t.op}(${e})`}}function dT(t,e){return t instanceof Qt?(function(r,a){return a instanceof Qt&&r.op===a.op&&r.field.isEqual(a.field)&&sr(r.value,a.value)})(t,e):t instanceof ar?(function(r,a){return a instanceof ar&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,u,h)=>l&&dT(u,a.filters[h])),!0):!1})(t,e):void Se(19439)}function mT(t){return t instanceof Qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ko(n.value)}`})(t):t instanceof ar?(function(n){return n.op.toString()+" {"+n.getFilters().map(mT).join(" ,")+"}"})(t):"Filter"}class uD extends Qt{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class cD extends Qt{constructor(e,n){super(e,"in",n),this.keys=pT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class hD extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=pT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function pT(t,e){return(e.arrayValue?.values||[]).map((n=>xe.fromName(n.referenceValue)))}class fD extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jg(n)&&Vu(n.arrayValue,this.value)}}class dD extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vu(this.value.arrayValue,n)}}class mD extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Vu(this.value.arrayValue,n)}}class pD extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Vu(this.value.arrayValue,r)))}}class gD{constructor(e,n=null,r=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function J1(t,e=null,n=[],r=[],a=null,l=null,u=null){return new gD(t,e,n,r,a,l,u)}function zg(t){const e=Ce(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Qp(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Lf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ko(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ko(r))).join(",")),e.Te=n}return e.Te}function Ug(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!dT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!W1(t.startAt,e.startAt)&&W1(t.endAt,e.endAt)}function Yp(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class jf{constructor(e,n=null,r=[],a=[],l=null,u="F",h=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yD(t,e,n,r,a,l,u,h){return new jf(t,e,n,r,a,l,u,h)}function Bg(t){return new jf(t)}function Z1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _D(t){return t.collectionGroup!==null}function Tu(t){const e=Ce(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new $t(un.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new _f(l,r))})),n.has(un.keyField().canonicalString())||e.Ie.push(new _f(un.keyField(),r))}return e.Ie}function er(t){const e=Ce(t);return e.Ee||(e.Ee=vD(e,Tu(t))),e.Ee}function vD(t,e){if(t.limitType==="F")return J1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new _f(a.field,l)}));const n=t.endAt?new yf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yf(t.startAt.position,t.startAt.inclusive):null;return J1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $p(t,e,n){return new jf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zf(t,e){return Ug(er(t),er(e))&&t.limitType===e.limitType}function gT(t){return`${zg(er(t))}|lt:${t.limitType}`}function Do(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>mT(a))).join(", ")}]`),Lf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Ko(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Ko(a))).join(",")),`Target(${r})`})(er(t))}; limitType=${t.limitType})`}function Uf(t,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):xe.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,a){for(const l of Tu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(u,h,m){const p=X1(u,h,m);return u.inclusive?p<=0:p<0})(r.startAt,Tu(r),a)||r.endAt&&!(function(u,h,m){const p=X1(u,h,m);return u.inclusive?p>=0:p>0})(r.endAt,Tu(r),a))})(t,e)}function bD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yT(t){return(e,n)=>{let r=!1;for(const a of Tu(t)){const l=ED(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function ED(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):(function(l,u,h){const m=u.data.field(l),p=h.data.field(l);return m!==null&&p!==null?Go(m,p):Se(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:t.dir})}}class Va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,((n,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return tT(this.inner)}size(){return this.innerSize}}const xD=new St(xe.comparator);function Pr(){return xD}const _T=new St(xe.comparator);function gu(...t){let e=_T;for(const n of t)e=e.insert(n.key,n);return e}function vT(t){let e=_T;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Aa(){return wu()}function bT(){return wu()}function wu(){return new Va((t=>t.toString()),((t,e)=>t.isEqual(e)))}const TD=new St(xe.comparator),wD=new $t(xe.comparator);function Ge(...t){let e=wD;for(const n of t)e=e.add(n);return e}const SD=new $t(He);function AD(){return SD}function Fg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mf(e)?"-0":e}}function ET(t){return{integerValue:""+t}}function CD(t,e){return ZN(e)?ET(e):Fg(t,e)}class Bf{constructor(){this._=void 0}}function ID(t,e,n){return t instanceof vf?(function(a,l){const u={fields:{[rT]:{stringValue:iT},[aT]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Vg(l)&&(l=Vf(l)),l&&(u.fields[sT]=l),{mapValue:u}})(n,e):t instanceof ju?TT(t,e):t instanceof zu?wT(t,e):(function(a,l){const u=xT(a,l),h=eb(u)+eb(a.Ae);return Kp(u)&&Kp(a.Ae)?ET(h):Fg(a.serializer,h)})(t,e)}function kD(t,e,n){return t instanceof ju?TT(t,e):t instanceof zu?wT(t,e):n}function xT(t,e){return t instanceof bf?(function(r){return Kp(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class vf extends Bf{}class ju extends Bf{constructor(e){super(),this.elements=e}}function TT(t,e){const n=ST(e);for(const r of t.elements)n.some((a=>sr(a,r)))||n.push(r);return{arrayValue:{values:n}}}class zu extends Bf{constructor(e){super(),this.elements=e}}function wT(t,e){let n=ST(e);for(const r of t.elements)n=n.filter((a=>!sr(a,r)));return{arrayValue:{values:n}}}class bf extends Bf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function eb(t){return Mt(t.integerValue||t.doubleValue)}function ST(t){return jg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function RD(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof ju&&a instanceof ju||r instanceof zu&&a instanceof zu?Ho(r.elements,a.elements,sr):r instanceof bf&&a instanceof bf?sr(r.Ae,a.Ae):r instanceof vf&&a instanceof vf})(t.transform,e.transform)}class ND{constructor(e,n){this.version=e,this.transformResults=n}}class tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ff{}function AT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new IT(t.key,tr.none()):new Zu(t.key,t.data,tr.none());{const n=t.data,r=On.empty();let a=new $t(un.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?r.delete(l):r.set(l,u),a=a.add(l)}return new Ks(t.key,r,new Kn(a.toArray()),tr.none())}}function DD(t,e,n){t instanceof Zu?(function(a,l,u){const h=a.value.clone(),m=nb(a.fieldTransforms,l,u.transformResults);h.setAll(m),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Ks?(function(a,l,u){if(!Jh(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=nb(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(CT(a)),m.setAll(h),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Su(t,e,n,r){return t instanceof Zu?(function(l,u,h,m){if(!Jh(l.precondition,u))return h;const p=l.value.clone(),_=ib(l.fieldTransforms,m,u);return p.setAll(_),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ks?(function(l,u,h,m){if(!Jh(l.precondition,u))return h;const p=ib(l.fieldTransforms,m,u),_=u.data;return _.setAll(CT(l)),_.setAll(p),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(l,u,h){return Jh(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function OD(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=xT(r.transform,a||null);l!=null&&(n===null&&(n=On.empty()),n.set(r.field,l))}return n||null}function tb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Ho(r,a,((l,u)=>RD(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zu extends Ff{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ks extends Ff{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function CT(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function nb(t,e,n){const r=new Map;rt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);r.set(l.field,kD(u,h,n[a]))}return r}function ib(t,e,n){const r=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);r.set(a.field,ID(l,u,e))}return r}class IT extends Ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MD extends Ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class PD{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&DD(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Su(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Su(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bT();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const m=AT(u,h);m!==null&&r.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&Ho(this.mutations,e.mutations,((n,r)=>tb(n,r)))&&Ho(this.baseMutations,e.baseMutations,((n,r)=>tb(n,r)))}}class qg{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){rt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return TD})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,r[u].version);return new qg(e,n,r,a)}}class LD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class VD{constructor(e,n){this.count=e,this.unchangedNames=n}}var qt,Ye;function jD(t){switch(t){case le.OK:return Se(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function kT(t){if(t===void 0)return Mr("GRPC error has no .code"),le.UNKNOWN;switch(t){case qt.OK:return le.OK;case qt.CANCELLED:return le.CANCELLED;case qt.UNKNOWN:return le.UNKNOWN;case qt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case qt.INTERNAL:return le.INTERNAL;case qt.UNAVAILABLE:return le.UNAVAILABLE;case qt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case qt.NOT_FOUND:return le.NOT_FOUND;case qt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case qt.ABORTED:return le.ABORTED;case qt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case qt.DATA_LOSS:return le.DATA_LOSS;default:return Se(39323,{code:t})}}(Ye=qt||(qt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function zD(){return new TextEncoder}const UD=new Ns([4294967295,4294967295],0);function rb(t){const e=zD().encode(t),n=new Gx;return n.update(e),new Uint8Array(n.digest())}function sb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ns([n,r],0),new Ns([a,l],0)]}class Hg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yu(`Invalid padding: ${n}`);if(r<0)throw new yu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ns.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Ns.fromNumber(r)));return a.compare(UD)===1&&(a=new Ns([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=rb(e),[r,a]=sb(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);if(!this.we(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Hg(l,a,n);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=rb(e),[r,a]=sb(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qf{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,ec.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qf(Ae.min(),a,new St(He),Pr(),Ge())}}class ec{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ec(r,n,Ge(),Ge(),Ge())}}class Zh{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class RT{constructor(e,n){this.targetId=e,this.Ce=n}}class NT{constructor(e,n,r=hn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class ab{constructor(){this.ve=0,this.Fe=ob(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),r=Ge();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Se(38017,{changeType:l})}})),new ec(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=ob()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class BD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Pr(),this.Je=jh(),this.He=jh(),this.Ye=new St(He)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Yp(l))if(r===0){const u=new xe(l.path);this.et(n,u,gn.newNoDocument(u,Ae.min()))}else rt(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const h=this.ut(e),m=h?this.ct(h,e,u):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=js(r).toUint8Array()}catch(m){if(m instanceof nT)return qo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new Hg(u,a,l)}catch(m){return qo(m instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Yp(h.target)){const m=new xe(h.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,gn.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let r=Ge();this.He.forEach(((l,u)=>{let h=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new qf(e,n,this.Ye,this.je,r);return this.je=Pr(),this.Je=jh(),this.He=jh(),this.Ye=new St(He),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new ab,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new $t(He),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new $t(He),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ab),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function jh(){return new St(xe.comparator)}function ob(){return new St(xe.comparator)}const FD={asc:"ASCENDING",desc:"DESCENDING"},qD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HD={and:"AND",or:"OR"};class GD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xp(t,e){return t.useProto3Json||Lf(e)?e:{value:e}}function Ef(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function KD(t,e){return Ef(t,e.toTimestamp())}function nr(t){return rt(!!t,49232),Ae.fromTimestamp((function(n){const r=Vs(n);return new yt(r.seconds,r.nanos)})(t))}function Gg(t,e){return Wp(t,e).canonicalString()}function Wp(t,e){const n=(function(a){return new wt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function OT(t){const e=wt.fromString(t);return rt(jT(e),10190,{key:e.toString()}),e}function Jp(t,e){return Gg(t.databaseId,e.path)}function hp(t,e){const n=OT(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(PT(n))}function MT(t,e){return Gg(t.databaseId,e)}function QD(t){const e=OT(t);return e.length===4?wt.emptyPath():PT(e)}function Zp(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PT(t){return rt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function lb(t,e,n){return{name:Jp(t,e),fields:n.value.mapValue.fields}}function YD(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,_){return p.useProto3Json?(rt(_===void 0||typeof _=="string",58123),hn.fromBase64String(_||"")):(rt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),hn.fromUint8Array(_||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const _=p.code===void 0?le.UNKNOWN:kT(p.code);return new _e(_,p.message||"")})(u);n=new NT(r,a,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=hp(t,r.document.name),l=nr(r.document.updateTime),u=r.document.createTime?nr(r.document.createTime):Ae.min(),h=new On({mapValue:{fields:r.document.fields}}),m=gn.newFoundDocument(a,l,u,h),p=r.targetIds||[],_=r.removedTargetIds||[];n=new Zh(p,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=hp(t,r.document),l=r.readTime?nr(r.readTime):Ae.min(),u=gn.newNoDocument(a,l),h=r.removedTargetIds||[];n=new Zh([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=hp(t,r.document),l=r.removedTargetIds||[];n=new Zh([],l,a,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,u=new VD(a,l),h=r.targetId;n=new RT(h,u)}}return n}function $D(t,e){let n;if(e instanceof Zu)n={update:lb(t,e.key,e.value)};else if(e instanceof IT)n={delete:Jp(t,e.key)};else if(e instanceof Ks)n={update:lb(t,e.key,e.data),updateMask:r4(e.fieldMask)};else{if(!(e instanceof MD))return Se(16599,{Vt:e.type});n={verify:Jp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,u){const h=u.transform;if(h instanceof vf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ju)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof zu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof bf)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Se(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:KD(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)})(t,e.precondition)),n}function XD(t,e){return t&&t.length>0?(rt(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?nr(a.updateTime):nr(l);return u.isEqual(Ae.min())&&(u=nr(l)),new ND(u,a.transformResults||[])})(n,e)))):[]}function WD(t,e){return{documents:[MT(t,e.path)]}}function JD(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=MT(t,a);const l=(function(p){if(p.length!==0)return VT(ar.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((_=>(function(E){return{field:Oo(E.field),direction:t4(E.dir)}})(_)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Xp(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function ZD(t){let e=QD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){rt(r===1,65062);const _=n.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];n.where&&(l=(function(y){const E=LT(y);return E instanceof ar&&fT(E)?E.getFilters():[E]})(n.where));let u=[];n.orderBy&&(u=(function(y){return y.map((E=>(function(I){return new _f(Mo(I.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(E)))})(n.orderBy));let h=null;n.limit&&(h=(function(y){let E;return E=typeof y=="object"?y.value:y,Lf(E)?null:E})(n.limit));let m=null;n.startAt&&(m=(function(y){const E=!!y.before,T=y.values||[];return new yf(T,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(y){const E=!y.before,T=y.values||[];return new yf(T,E)})(n.endAt)),yD(e,a,u,l,h,"F",m,p)}function e4(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LT(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Mo(n.unaryFilter.field);return Qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Mo(n.unaryFilter.field);return Qt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Mo(n.unaryFilter.field);return Qt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Mo(n.unaryFilter.field);return Qt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Qt.create(Mo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ar.create(n.compositeFilter.filters.map((r=>LT(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(t):Se(30097,{filter:t})}function t4(t){return FD[t]}function n4(t){return qD[t]}function i4(t){return HD[t]}function Oo(t){return{fieldPath:t.canonicalString()}}function Mo(t){return un.fromServerFormat(t.fieldPath)}function VT(t){return t instanceof Qt?(function(n){if(n.op==="=="){if($1(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NAN"}};if(Y1(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($1(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NOT_NAN"}};if(Y1(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(n.field),op:n4(n.op),value:n.value}}})(t):t instanceof ar?(function(n){const r=n.getFilters().map((a=>VT(a)));return r.length===1?r[0]:{compositeFilter:{op:i4(n.op),filters:r}}})(t):Se(54877,{filter:t})}function r4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function jT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Cs{constructor(e,n,r,a,l=Ae.min(),u=Ae.min(),h=hn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new Cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class s4{constructor(e){this.yt=e}}function a4(t){const e=ZD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$p(e,e.limit,"L"):e}class o4{constructor(){this.Cn=new l4}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Ls.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Ls.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class l4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new $t(wt.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new $t(wt.comparator)).toArray()}}const ub={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zT=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(zT,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class Qo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Qo(0)}static cr(){return new Qo(-1)}}const cb="LruGarbageCollector",u4=1048576;function hb([t,e],[n,r]){const a=He(t,n);return a===0?He(e,r):a}class c4{constructor(e){this.Ir=e,this.buffer=new $t(hb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class h4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(cb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){il(n)?pe(cb,"Ignoring IndexedDB error during garbage collection: ",n):await nl(n)}await this.Vr(3e5)}))}}class f4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Pf.ce);const r=new c4(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(ub)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ub):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,l,u,h,m,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),a=this.params.maximumSequenceNumbersToCollect):a=y,u=Date.now(),this.nthSequenceNumber(e,a)))).next((y=>(r=y,h=Date.now(),this.removeTargets(e,r,n)))).next((y=>(l=y,m=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(p=Date.now(),No()<=qe.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(m-h)+`ms
	Removed ${y} documents in `+(p-m)+`ms
Total Duration: ${p-_}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:y}))))}}function d4(t,e){return new f4(t,e)}class m4{constructor(){this.changes=new Va((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class p4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class g4{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Su(r.mutation,a,Kn.empty(),yt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ge()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ge()){const a=Aa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((l=>{let u=gu();return l.forEach(((h,m)=>{u=u.insert(h,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=Aa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ge())))}populateOverlays(e,n,r){const a=[];return r.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,r,a){let l=Pr();const u=wu(),h=(function(){return wu()})();return n.forEach(((m,p)=>{const _=r.get(p.key);a.has(p.key)&&(_===void 0||_.mutation instanceof Ks)?l=l.insert(p.key,p):_!==void 0?(u.set(p.key,_.mutation.getFieldMask()),Su(_.mutation,p,_.mutation.getFieldMask(),yt.now())):u.set(p.key,Kn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,_)=>u.set(p,_))),n.forEach(((p,_)=>h.set(p,new p4(_,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=wu();let a=new St(((u,h)=>u-h)),l=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let _=r.get(m)||Kn.empty();_=h.applyToLocalView(p,_),r.set(m,_);const y=(a.get(h.batchId)||Ge()).add(m);a=a.insert(h.batchId,y)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),p=m.key,_=m.value,y=bT();_.forEach((E=>{if(!l.has(E)){const T=AT(n.get(E),r.get(E));T!==null&&y.set(E,T),l=l.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,y))}return re.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(u){return xe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_D(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):re.resolve(Aa());let h=Mu,m=l;return u.next((p=>re.forEach(p,((_,y)=>(h<y.largestBatchId&&(h=y.largestBatchId),l.get(_)?re.resolve():this.remoteDocumentCache.getEntry(e,_).next((E=>{m=m.insert(_,E)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Ge()))).next((_=>({batchId:h,changes:vT(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next((r=>{let a=gu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let u=gu();return this.indexManager.getCollectionParents(e,l).next((h=>re.forEach(h,(m=>{const p=(function(y,E){return new jf(E,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((_=>{_.forEach(((y,E)=>{u=u.insert(y,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a)))).next((u=>{l.forEach(((m,p)=>{const _=p.getKey();u.get(_)===null&&(u=u.insert(_,gn.newInvalidDocument(_)))}));let h=gu();return u.forEach(((m,p)=>{const _=l.get(m);_!==void 0&&Su(_.mutation,p,Kn.empty(),yt.now()),Uf(n,p)&&(h=h.insert(m,p))})),h}))}}class y4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:nr(a.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:a4(a.bundledQuery),readTime:nr(a.readTime)}})(n)),re.resolve()}}class _4{constructor(){this.overlays=new St(xe.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Aa();return re.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,l)=>{this.St(e,n,l)})),re.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const a=Aa(),l=n.length+1,u=new xe(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const m=h.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return re.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new St(((p,_)=>p-_));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let _=l.get(p.largestBatchId);_===null&&(_=Aa(),l=l.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const h=Aa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,_)=>h.set(p,_))),!(h.size()>=a)););return re.resolve(h)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new LD(n,r));let l=this.qr.get(n);l===void 0&&(l=Ge(),this.qr.set(n,l)),this.qr.set(n,l.add(r.key))}}class v4{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}class Kg{constructor(){this.Qr=new $t(en.$r),this.Ur=new $t(en.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new en(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new en(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new xe(new wt([])),r=new en(n,e),a=new en(n,e+1),l=[];return this.Ur.forEachInRange([r,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new xe(new wt([])),r=new en(n,e),a=new en(n,e+1);let l=Ge();return this.Ur.forEachInRange([r,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new en(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class en{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return xe.comparator(e.key,n.key)||He(e.Yr,n.Yr)}static Kr(e,n){return He(e.Yr,n.Yr)||xe.comparator(e.key,n.key)}}class b4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new $t(en.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new PD(l,n,r,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new en(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),l=a<0?0:a;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Lg:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new en(n,0),a=new en(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(u=>{const h=this.Xr(u.Yr);l.push(h)})),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $t(He);return n.forEach((a=>{const l=new en(a,0),u=new en(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(h=>{r=r.add(h.Yr)}))})),re.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;xe.isDocumentKey(l)||(l=l.child(""));const u=new en(new xe(l),0);let h=new $t(He);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(h=h.add(m.Yr)),!0)}),u),re.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){rt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return re.forEach(n.mutations,(a=>{const l=new en(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new en(n,0),a=this.Zr.firstAfterOrEqual(r);return re.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class E4{constructor(e){this.ri=e,this.docs=(function(){return new St(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let r=Pr();return n.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():gn.newInvalidDocument(a))})),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=Pr();const u=n.path,h=new xe(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:p,value:{document:_}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||$N(YN(_),r)<=0||(a.has(_.key)||Uf(n,_))&&(l=l.insert(_.key,_.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,n,r,a){Se(9500)}ii(e,n){return re.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new x4(this)}getSize(e){return re.resolve(this.size)}}class x4 extends m4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class T4{constructor(e){this.persistence=e,this.si=new Va((n=>zg(n)),Ug),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Kg,this.targetCount=0,this.ai=Qo.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Qo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),re.waitFor(l).next((()=>a))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}class UT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Pf(0),this.li=!1,this.li=!0,this.hi=new v4,this.referenceDelegate=e(this),this.Pi=new T4(this),this.indexManager=new o4,this.remoteDocumentCache=(function(a){return new E4(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new s4(n),this.Ii=new y4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new b4(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const a=new w4(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return re.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class w4 extends WN{constructor(e){super(),this.currentSequenceNumber=e}}class Qg{constructor(e){this.persistence=e,this.Ri=new Kg,this.Vi=null}static mi(e){return new Qg(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(r=>{const a=xe.fromPath(r);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class xf{constructor(e,n){this.persistence=e,this.pi=new Va((r=>eD(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=d4(this,n)}static mi(e,n){return new xf(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return re.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?re.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((h=>{h||(r++,l.removeEntry(u,Ae.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xh(e.data.value)),n}br(e,n,r){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return re.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Yg{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=Ge(),a=Ge();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Yg(e,n.fromCache,r,a)}}class S4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class A4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return XI()?8:JN(vn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,r).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new S4;return this.Ss(e,n,u).next((h=>{if(l.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>l.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(No()<=qe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Do(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(No()<=qe.DEBUG&&pe("QueryEngine","Query:",Do(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(No()<=qe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Do(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,er(n))):re.resolve())}ys(e,n){if(Z1(n))return re.resolve(null);let r=er(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=$p(n,null,"F"),r=er(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const u=Ge(...l);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((m=>{const p=this.Ds(n,h);return this.Cs(n,p,u,m.readTime)?this.ys(e,$p(n,null,"F")):this.vs(e,p,n,m)}))))})))))}ws(e,n,r,a){return Z1(n)||a.isEqual(Ae.min())?re.resolve(null):this.ps.getDocuments(e,r).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,r,a)?re.resolve(null):(No()<=qe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Do(n)),this.vs(e,u,n,QN(a,Mu)).next((h=>h)))}))}Ds(e,n){let r=new $t(yT(e));return n.forEach(((a,l)=>{Uf(e,l)&&(r=r.add(l))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,r){return No()<=qe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Do(n)),this.ps.getDocumentsMatchingQuery(e,n,Ls.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const $g="LocalStore",C4=3e8;class I4{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new St(He),this.xs=new Va((l=>zg(l)),Ug),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function k4(t,e,n,r){return new I4(t,e,n,r)}async function BT(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const u=[],h=[];let m=Ge();for(const p of a){u.push(p.batchId);for(const _ of p.mutations)m=m.add(_.key)}for(const p of l){h.push(p.batchId);for(const _ of p.mutations)m=m.add(_.key)}return n.localDocuments.getDocuments(r,m).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function R4(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,m,p,_){const y=p.batch,E=y.keys();let T=re.resolve();return E.forEach((I=>{T=T.next((()=>_.getEntry(m,I))).next((U=>{const L=p.docVersions.get(I);rt(L!==null,48541),U.version.compareTo(L)<0&&(y.applyToRemoteDocument(U,p),U.isValidDocument()&&(U.setReadTime(p.commitVersion),_.addEntry(U)))}))})),T.next((()=>h.mutationQueue.removeMutationBatch(m,y)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let m=Ge();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(m=m.add(h.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function FT(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function N4(t,e){const n=Ce(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((_,y)=>{const E=a.get(y);if(!E)return;h.push(n.Pi.removeMatchingKeys(l,_.removedDocuments,y).next((()=>n.Pi.addMatchingKeys(l,_.addedDocuments,y))));let T=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(y)!==null?T=T.withResumeToken(hn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):_.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(_.resumeToken,r)),a=a.insert(y,T),(function(U,L,z){return U.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=C4?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(E,T,_)&&h.push(n.Pi.updateTargetData(l,T))}));let m=Pr(),p=Ge();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,_))})),h.push(D4(l,u,e.documentUpdates).next((_=>{m=_.ks,p=_.qs}))),!r.isEqual(Ae.min())){const _=n.Pi.getLastRemoteSnapshotVersion(l).next((y=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));h.push(_)}return re.waitFor(h).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function D4(t,e,n){let r=Ge(),a=Ge();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let u=Pr();return n.forEach(((h,m)=>{const p=l.get(h);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),m.isNoDocument()&&m.version.isEqual(Ae.min())?(e.removeEntry(h,m.readTime),u=u.insert(h,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(h,m)):pe($g,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function O4(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Lg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function M4(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((l=>l?(a=l,re.resolve(a)):n.Pi.allocateTargetId(r).next((u=>(a=new Cs(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function eg(t,e,n){const r=Ce(t),a=r.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!il(u))throw u;pe($g,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function fb(t,e,n){const r=Ce(t);let a=Ae.min(),l=Ge();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,_){const y=Ce(m),E=y.xs.get(_);return E!==void 0?re.resolve(y.Ms.get(E)):y.Pi.getTargetData(p,_)})(r,u,er(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((m=>{l=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,n?a:Ae.min(),n?l:Ge()))).next((h=>(P4(r,bD(e),h),{documents:h,Qs:l})))))}function P4(t,e,n){let r=t.Os.get(e)||Ae.min();n.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.Os.set(e,r)}class db{constructor(){this.activeTargetIds=AD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L4{constructor(){this.Mo=new db,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new db,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class V4{Oo(e){}shutdown(){}}const mb="ConnectivityMonitor";class pb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(mb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(mb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let zh=null;function tg(){return zh===null?zh=(function(){return 268435456+Math.round(2147483648*Math.random())})():zh++,"0x"+zh.toString(16)}const fp="RestConnection",j4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class z4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===pf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,l){const u=tg(),h=this.zo(e,n.toUriEncodedString());pe(fp,`Sending RPC '${e}' ${u}:`,h,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(h),_=Jo(p);return this.Jo(e,h,m,r,_).then((y=>(pe(fp,`Received RPC '${e}' ${u}: `,y),y)),(y=>{throw qo(fp,`RPC '${e}' ${u} failed with error: `,y,"url: ",h,"request:",r),y}))}Ho(e,n,r,a,l,u){return this.Go(e,n,r,a,l)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+tl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const r=j4[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class U4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const mn="WebChannelConnection";class B4 extends z4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,l){const u=tg();return new Promise(((h,m)=>{const p=new Kx;p.setWithCredentials(!0),p.listenOnce(Qx.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case $h.NO_ERROR:const y=p.getResponseJson();pe(mn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(y)),h(y);break;case $h.TIMEOUT:pe(mn,`RPC '${e}' ${u} timed out`),m(new _e(le.DEADLINE_EXCEEDED,"Request time out"));break;case $h.HTTP_ERROR:const E=p.getStatus();if(pe(mn,`RPC '${e}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const I=T?.error;if(I&&I.status&&I.message){const U=(function(z){const F=z.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(F)>=0?F:le.UNKNOWN})(I.status);m(new _e(U,I.message))}else m(new _e(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new _e(le.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{pe(mn,`RPC '${e}' ${u} completed.`)}}));const _=JSON.stringify(a);pe(mn,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",_,r,15)}))}T_(e,n,r){const a=tg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Xx(),h=$x(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const _=l.join("");pe(mn,`Creating RPC '${e}' stream ${a}: ${_}`,m);const y=u.createWebChannel(_,m);this.I_(y);let E=!1,T=!1;const I=new U4({Yo:L=>{T?pe(mn,`Not sending because RPC '${e}' stream ${a} is closed:`,L):(E||(pe(mn,`Opening RPC '${e}' stream ${a} transport.`),y.open(),E=!0),pe(mn,`RPC '${e}' stream ${a} sending:`,L),y.send(L))},Zo:()=>y.close()}),U=(L,z,F)=>{L.listen(z,(q=>{try{F(q)}catch(se){setTimeout((()=>{throw se}),0)}}))};return U(y,pu.EventType.OPEN,(()=>{T||(pe(mn,`RPC '${e}' stream ${a} transport opened.`),I.o_())})),U(y,pu.EventType.CLOSE,(()=>{T||(T=!0,pe(mn,`RPC '${e}' stream ${a} transport closed`),I.a_(),this.E_(y))})),U(y,pu.EventType.ERROR,(L=>{T||(T=!0,qo(mn,`RPC '${e}' stream ${a} transport errored. Name:`,L.name,"Message:",L.message),I.a_(new _e(le.UNAVAILABLE,"The operation could not be completed")))})),U(y,pu.EventType.MESSAGE,(L=>{if(!T){const z=L.data[0];rt(!!z,16349);const F=z,q=F?.error||F[0]?.error;if(q){pe(mn,`RPC '${e}' stream ${a} received error:`,q);const se=q.status;let he=(function(R){const O=qt[R];if(O!==void 0)return kT(O)})(se),K=q.message;he===void 0&&(he=le.INTERNAL,K="Unknown error status: "+se+" with message "+q.message),T=!0,I.a_(new _e(he,K)),y.close()}else pe(mn,`RPC '${e}' stream ${a} received:`,z),I.u_(z)}})),U(h,Yx.STAT_EVENT,(L=>{L.stat===qp.PROXY?pe(mn,`RPC '${e}' stream ${a} detected buffering proxy`):L.stat===qp.NOPROXY&&pe(mn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function dp(){return typeof document<"u"?document:null}function Hf(t){return new GD(t,!0)}class qT{constructor(e,n,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const gb="PersistentStream";class HT{constructor(e,n,r,a,l,u,h,m){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(Mr(n.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new _e(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(gb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(gb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class F4 extends HT{constructor(e,n,r,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=YD(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Ae.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ae.min():u.readTime?nr(u.readTime):Ae.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Zp(this.serializer),n.addTarget=(function(l,u){let h;const m=u.target;if(h=Yp(m)?{documents:WD(l,m)}:{query:JD(l,m).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=DT(l,u.resumeToken);const p=Xp(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ae.min())>0){h.readTime=Ef(l,u.snapshotVersion.toTimestamp());const p=Xp(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=e4(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Zp(this.serializer),n.removeTarget=e,this.q_(n)}}class q4 extends HT{constructor(e,n,r,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=XD(e.writeResults,e.commitTime),r=nr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Zp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>$D(this.serializer,r)))};this.q_(n)}}class H4{}class G4 extends H4{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new _e(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Wp(n,r),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(le.UNKNOWN,l.toString())}))}Ho(e,n,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,Wp(n,r),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(le.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class K4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Mr(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ma="RemoteStore";class Q4{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{ja(this)&&(pe(Ma,"Restarting streams for network reachability change."),await(async function(m){const p=Ce(m);p.Ea.add(4),await tc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Gf(p)})(this))}))})),this.Ra=new K4(r,a)}}async function Gf(t){if(ja(t))for(const e of t.da)await e(!0)}async function tc(t){for(const e of t.da)await e(!1)}function GT(t,e){const n=Ce(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Zg(n)?Jg(n):rl(n).O_()&&Wg(n,e))}function Xg(t,e){const n=Ce(t),r=rl(n);n.Ia.delete(e),r.O_()&&KT(n,e),n.Ia.size===0&&(r.O_()?r.L_():ja(n)&&n.Ra.set("Unknown"))}function Wg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rl(t).Y_(e)}function KT(t,e){t.Va.Ue(e),rl(t).Z_(e)}function Jg(t){t.Va=new BD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),rl(t).start(),t.Ra.ua()}function Zg(t){return ja(t)&&!rl(t).x_()&&t.Ia.size>0}function ja(t){return Ce(t).Ea.size===0}function QT(t){t.Va=void 0}async function Y4(t){t.Ra.set("Online")}async function $4(t){t.Ia.forEach(((e,n)=>{Wg(t,e)}))}async function X4(t,e){QT(t),Zg(t)?(t.Ra.ha(e),Jg(t)):t.Ra.set("Unknown")}async function W4(t,e,n){if(t.Ra.set("Online"),e instanceof NT&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(r){pe(Ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Tf(t,r)}else if(e instanceof Zh?t.Va.Ze(e):e instanceof RT?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ae.min()))try{const r=await FT(t.localStore);n.compareTo(r)>=0&&await(function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const _=l.Ia.get(p);_&&l.Ia.set(p,_.withResumeToken(m.resumeToken,u))}})),h.targetMismatches.forEach(((m,p)=>{const _=l.Ia.get(m);if(!_)return;l.Ia.set(m,_.withResumeToken(hn.EMPTY_BYTE_STRING,_.snapshotVersion)),KT(l,m);const y=new Cs(_.target,m,p,_.sequenceNumber);Wg(l,y)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){pe(Ma,"Failed to raise snapshot:",r),await Tf(t,r)}}async function Tf(t,e,n){if(!il(e))throw e;t.Ea.add(1),await tc(t),t.Ra.set("Offline"),n||(n=()=>FT(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pe(Ma,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Gf(t)}))}function YT(t,e){return e().catch((n=>Tf(t,n,e)))}async function Kf(t){const e=Ce(t),n=Us(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lg;for(;J4(e);)try{const a=await O4(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,Z4(e,a)}catch(a){await Tf(e,a)}$T(e)&&XT(e)}function J4(t){return ja(t)&&t.Ta.length<10}function Z4(t,e){t.Ta.push(e);const n=Us(t);n.O_()&&n.X_&&n.ea(e.mutations)}function $T(t){return ja(t)&&!Us(t).x_()&&t.Ta.length>0}function XT(t){Us(t).start()}async function eO(t){Us(t).ra()}async function tO(t){const e=Us(t);for(const n of t.Ta)e.ea(n.mutations)}async function nO(t,e,n){const r=t.Ta.shift(),a=qg.from(r,e,n);await YT(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Kf(t)}async function iO(t,e){e&&Us(t).X_&&await(async function(r,a){if((function(u){return jD(u)&&u!==le.ABORTED})(a.code)){const l=r.Ta.shift();Us(r).B_(),await YT(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Kf(r)}})(t,e),$T(t)&&XT(t)}async function yb(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),pe(Ma,"RemoteStore received new credentials");const r=ja(n);n.Ea.add(3),await tc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gf(n)}async function rO(t,e){const n=Ce(t);e?(n.Ea.delete(2),await Gf(n)):e||(n.Ea.add(2),await tc(n),n.Ra.set("Unknown"))}function rl(t){return t.ma||(t.ma=(function(n,r,a){const l=Ce(n);return l.sa(),new F4(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:Y4.bind(null,t),t_:$4.bind(null,t),r_:X4.bind(null,t),H_:W4.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Zg(t)?Jg(t):t.Ra.set("Unknown")):(await t.ma.stop(),QT(t))}))),t.ma}function Us(t){return t.fa||(t.fa=(function(n,r,a){const l=Ce(n);return l.sa(),new q4(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:eO.bind(null,t),r_:iO.bind(null,t),ta:tO.bind(null,t),na:nO.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Kf(t)):(await t.fa.stop(),t.Ta.length>0&&(pe(Ma,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class ey{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const u=Date.now()+r,h=new ey(e,n,u,a,l);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ty(t,e){if(Mr("AsyncQueue",`${e}: ${t}`),il(t))return new _e(le.UNAVAILABLE,`${e}: ${t}`);throw t}class Uo{static emptySet(e){return new Uo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=gu(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Uo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class _b{constructor(){this.ga=new St(xe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Yo{constructor(e,n,r,a,l,u,h,m,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,l){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Yo(e,n,Uo.emptySet(n),u,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class sO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class aO{constructor(){this.queries=vb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Ce(n),l=a.queries;a.queries=vb(),l.forEach(((u,h)=>{for(const m of h.Sa)m.onError(r)}))})(this,new _e(le.ABORTED,"Firestore shutting down"))}}function vb(){return new Va((t=>gT(t)),zf)}async function oO(t,e){const n=Ce(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new sO,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=ty(u,`Initialization of query '${Do(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&ny(n)}async function lO(t,e){const n=Ce(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function uO(t,e){const n=Ce(t);let r=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.Sa)h.Fa(a)&&(r=!0);u.wa=a}}r&&ny(n)}function cO(t,e,n){const r=Ce(t),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);r.queries.delete(e)}function ny(t){t.Ca.forEach((e=>{e.next()}))}var ng,bb;(bb=ng||(ng={})).Ma="default",bb.Cache="cache";class hO{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Yo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ng.Cache}}class WT{constructor(e){this.key=e}}class JT{constructor(e){this.key=e}}class fO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=yT(e),this.tu=new Uo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new _b,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((_,y)=>{const E=a.get(_),T=Uf(this.query,y)?y:null,I=!!E&&this.mutatedKeys.has(E.key),U=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let L=!1;E&&T?E.data.isEqual(T.data)?I!==U&&(r.track({type:3,doc:T}),L=!0):this.su(E,T)||(r.track({type:2,doc:T}),L=!0,(m&&this.eu(T,m)>0||p&&this.eu(T,p)<0)&&(h=!0)):!E&&T?(r.track({type:0,doc:T}),L=!0):E&&!T&&(r.track({type:1,doc:E}),L=!0,(m||p)&&(h=!0)),L&&(T?(u=u.add(T),l=U?l.add(_):l.delete(_)):(u=u.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),l=l.delete(_.key),r.track({type:1,doc:_})}return{tu:u,iu:r,Cs:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((_,y)=>(function(T,I){const U=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:L})}};return U(T)-U(I)})(_.type,y.type)||this.eu(_.doc,y.doc))),this.ou(r),a=a??!1;const h=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,u.length!==0||p?{snapshot:new Yo(this.query,e.tu,l,u,e.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _b,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new JT(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new WT(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const iy="SyncEngine";class dO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mO{constructor(e){this.key=e,this.hu=!1}}class pO{constructor(e,n,r,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Va((h=>gT(h)),zf),this.Iu=new Map,this.Eu=new Set,this.du=new St(xe.comparator),this.Au=new Map,this.Ru=new Kg,this.Vu={},this.mu=new Map,this.fu=Qo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gO(t,e,n=!0){const r=rw(t);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await ZT(r,e,n,!0),a}async function yO(t,e){const n=rw(t);await ZT(n,e,!0,!1)}async function ZT(t,e,n,r){const a=await M4(t.localStore,er(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return r&&(h=await _O(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&GT(t.remoteStore,a),h}async function _O(t,e,n,r,a){t.pu=(y,E,T)=>(async function(U,L,z,F){let q=L.view.ru(z);q.Cs&&(q=await fb(U.localStore,L.query,!1).then((({documents:P})=>L.view.ru(P,q))));const se=F&&F.targetChanges.get(L.targetId),he=F&&F.targetMismatches.get(L.targetId)!=null,K=L.view.applyChanges(q,U.isPrimaryClient,se,he);return xb(U,L.targetId,K.au),K.snapshot})(t,y,E,T);const l=await fb(t.localStore,e,!0),u=new fO(e,l.Qs),h=u.ru(l.documents),m=ec.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,m);xb(t,n,p.au);const _=new dO(e,n,u);return t.Tu.set(e,_),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function vO(t,e,n){const r=Ce(t),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((u=>!zf(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await eg(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Xg(r.remoteStore,a.targetId),ig(r,a.targetId)})).catch(nl)):(ig(r,a.targetId),await eg(r.localStore,a.targetId,!0))}async function bO(t,e){const n=Ce(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xg(n.remoteStore,r.targetId))}async function EO(t,e,n){const r=IO(t);try{const a=await(function(u,h){const m=Ce(u),p=yt.now(),_=h.reduce(((T,I)=>T.add(I.key)),Ge());let y,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let I=Pr(),U=Ge();return m.Ns.getEntries(T,_).next((L=>{I=L,I.forEach(((z,F)=>{F.isValidDocument()||(U=U.add(z))}))})).next((()=>m.localDocuments.getOverlayedDocuments(T,I))).next((L=>{y=L;const z=[];for(const F of h){const q=OD(F,y.get(F.key).overlayedDocument);q!=null&&z.push(new Ks(F.key,q,uT(q.value.mapValue),tr.exists(!0)))}return m.mutationQueue.addMutationBatch(T,p,z,h)})).next((L=>{E=L;const z=L.applyToLocalDocumentSet(y,U);return m.documentOverlayCache.saveOverlays(T,L.batchId,z)}))})).then((()=>({batchId:E.batchId,changes:vT(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,h,m){let p=u.Vu[u.currentUser.toKey()];p||(p=new St(He)),p=p.insert(h,m),u.Vu[u.currentUser.toKey()]=p})(r,a.batchId,n),await nc(r,a.changes),await Kf(r.remoteStore)}catch(a){const l=ty(a,"Failed to persist write");n.reject(l)}}async function ew(t,e){const n=Ce(t);try{const r=await N4(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(rt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?rt(u.hu,14607):a.removedDocuments.size>0&&(rt(u.hu,42227),u.hu=!1))})),await nc(n,r,e)}catch(r){await nl(r)}}function Eb(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const m=Ce(u);m.onlineState=h;let p=!1;m.queries.forEach(((_,y)=>{for(const E of y.Sa)E.va(h)&&(p=!0)})),p&&ny(m)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xO(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),l=a&&a.key;if(l){let u=new St(xe.comparator);u=u.insert(l,gn.newNoDocument(l,Ae.min()));const h=Ge().add(l),m=new qf(Ae.min(),new Map,new St(He),u,h);await ew(r,m),r.du=r.du.remove(l),r.Au.delete(e),ry(r)}else await eg(r.localStore,e,!1).then((()=>ig(r,e,n))).catch(nl)}async function TO(t,e){const n=Ce(t),r=e.batch.batchId;try{const a=await R4(n.localStore,e);nw(n,r,null),tw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nc(n,a)}catch(a){await nl(a)}}async function wO(t,e,n){const r=Ce(t);try{const a=await(function(u,h){const m=Ce(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let _;return m.mutationQueue.lookupMutationBatch(p,h).next((y=>(rt(y!==null,37113),_=y.keys(),m.mutationQueue.removeMutationBatch(p,y)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,_,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_))).next((()=>m.localDocuments.getDocuments(p,_)))}))})(r.localStore,e);nw(r,e,n),tw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await nc(r,a)}catch(a){await nl(a)}}function tw(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function nw(t,e,n){const r=Ce(t);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function ig(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||iw(t,r)}))}function iw(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Xg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ry(t))}function xb(t,e,n){for(const r of n)r instanceof WT?(t.Ru.addReference(r.key,e),SO(t,r)):r instanceof JT?(pe(iy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||iw(t,r.key)):Se(19791,{wu:r})}function SO(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(pe(iy,"New document in limbo: "+n),t.Eu.add(r),ry(t))}function ry(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new xe(wt.fromString(e)),r=t.fu.next();t.Au.set(r,new mO(n)),t.du=t.du.insert(n,r),GT(t.remoteStore,new Cs(er(Bg(n.path)),r,"TargetPurposeLimboResolution",Pf.ce))}}async function nc(t,e,n){const r=Ce(t),a=[],l=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,m)=>{u.push(r.pu(m,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=Yg.As(m.targetId,p);l.push(_)}})))})),await Promise.all(u),r.Pu.H_(a),await(async function(m,p){const _=Ce(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>re.forEach(p,(E=>re.forEach(E.Es,(T=>_.persistence.referenceDelegate.addReference(y,E.targetId,T))).next((()=>re.forEach(E.ds,(T=>_.persistence.referenceDelegate.removeReference(y,E.targetId,T)))))))))}catch(y){if(!il(y))throw y;pe($g,"Failed to update sequence numbers: "+y)}for(const y of p){const E=y.targetId;if(!y.fromCache){const T=_.Ms.get(E),I=T.snapshotVersion,U=T.withLastLimboFreeSnapshotVersion(I);_.Ms=_.Ms.insert(E,U)}}})(r.localStore,l))}async function AO(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){pe(iy,"User change. New user:",e.toKey());const r=await BT(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((m=>{m.reject(new _e(le.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await nc(n,r.Ls)}}function CO(t,e){const n=Ce(t),r=n.Au.get(e);if(r&&r.hu)return Ge().add(r.key);{let a=Ge();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function rw(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ew.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xO.bind(null,e),e.Pu.H_=uO.bind(null,e.eventManager),e.Pu.yu=cO.bind(null,e.eventManager),e}function IO(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wO.bind(null,e),e}class wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return k4(this.persistence,new A4,e.initialUser,this.serializer)}Cu(e){return new UT(Qg.mi,this.serializer)}Du(e){return new L4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wf.provider={build:()=>new wf};class kO extends wf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){rt(this.persistence.referenceDelegate instanceof xf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new h4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new UT((r=>xf.mi(r,n)),this.serializer)}}class rg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Eb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AO.bind(null,this.syncEngine),await rO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new aO})()}createDatastore(e){const n=Hf(e.databaseInfo.databaseId),r=(function(l){return new B4(l)})(e.databaseInfo);return(function(l,u,h,m){return new G4(l,u,h,m)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,l,u,h){return new Q4(r,a,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>Eb(this.syncEngine,n,0)),(function(){return pb.v()?new pb:new V4})())}createSyncEngine(e,n){return(function(a,l,u,h,m,p,_){const y=new pO(a,l,u,h,m,p);return _&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ce(n);pe(Ma,"RemoteStore shutting down."),r.Ea.add(5),await tc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rg.provider={build:()=>new rg};class RO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Bs="FirestoreClient";class NO{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=pn.UNAUTHENTICATED,this.clientId=Mg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async u=>{pe(Bs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(pe(Bs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ty(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function mp(t,e){t.asyncQueue.verifyOperationInProgress(),pe(Bs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await BT(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Tb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await DO(t);pe(Bs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>yb(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>yb(e.remoteStore,a))),t._onlineComponents=e}async function DO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(Bs,"Using user provided OfflineComponentProvider");try{await mp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;qo("Error using user provided cache. Falling back to memory cache: "+n),await mp(t,new wf)}}else pe(Bs,"Using default OfflineComponentProvider"),await mp(t,new kO(void 0));return t._offlineComponents}async function sw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(Bs,"Using user provided OnlineComponentProvider"),await Tb(t,t._uninitializedComponentsProvider._online)):(pe(Bs,"Using default OnlineComponentProvider"),await Tb(t,new rg))),t._onlineComponents}function OO(t){return sw(t).then((e=>e.syncEngine))}async function MO(t){const e=await sw(t),n=e.eventManager;return n.onListen=gO.bind(null,e.syncEngine),n.onUnlisten=vO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bO.bind(null,e.syncEngine),n}function PO(t,e,n={}){const r=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,m,p){const _=new RO({next:E=>{_.Nu(),u.enqueueAndForget((()=>lO(l,y)));const T=E.docs.has(h);!T&&E.fromCache?p.reject(new _e(le.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&E.fromCache&&m&&m.source==="server"?p.reject(new _e(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),y=new hO(Bg(h.path),_,{includeMetadataChanges:!0,qa:!0});return oO(l,y)})(await MO(t),t.asyncQueue,e,n,r))),r.promise}function aw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const wb=new Map;const ow="firestore.googleapis.com",Sb=!0;class Ab{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ow,this.ssl=Sb}else this.host=e.host,this.ssl=e.ssl??Sb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<u4)throw new _e(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aw(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new _e(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new _e(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new _e(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sy{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ab({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ab(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new PN;switch(r.type){case"firstParty":return new zN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=wb.get(n);r&&(pe("ComponentProvider","Removing Datastore"),wb.delete(n),r.terminate())})(this),Promise.resolve()}}function LO(t,e,n,r={}){t=Oa(t,sy);const a=Jo(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(rx(`https://${h}`),sx("Firestore",!0)),l.host!==ow&&l.host!==h&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:h,ssl:a,emulatorOptions:r};if(!Ia(m,u)&&(t._setSettings(m),r.mockUserToken)){let p,_;if(typeof r.mockUserToken=="string")p=r.mockUserToken,_=pn.MOCK_USER;else{p=BI(r.mockUserToken,t._app?.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new _e(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new pn(y)}t._authCredentials=new LN(new Jx(p,_))}}class ay{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ay(this.firestore,e,this._query)}}class Yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ju(n,Yt._jsonSchema))return new Yt(e,r||null,new xe(wt.fromString(n.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:Gt("string",Yt._jsonSchemaVersion),referencePath:Gt("string")};class Uu extends ay{constructor(e,n,r){super(e,n,Bg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new xe(e))}withConverter(e){return new Uu(this.firestore,e,this._path)}}function oy(t,e,...n){if(t=cn(t),arguments.length===1&&(e=Mg.newId()),GN("doc","path",e),t instanceof sy){const r=wt.fromString(e,...n);return U1(r),new Yt(t,null,new xe(r))}{if(!(t instanceof Yt||t instanceof Uu))throw new _e(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return U1(r),new Yt(t.firestore,t instanceof Uu?t.converter:null,new xe(r))}}const Cb="AsyncQueue";class Ib{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qT(this,"async_queue_retry"),this._c=()=>{const r=dp();r&&pe(Cb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=dp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=dp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!il(e))throw e;pe(Cb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Mr("INTERNAL UNHANDLED ERROR: ",kb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=ey.createAndSchedule(this,e,n,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Se(47125,{Pc:kb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function kb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Qf extends sy{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new Ib,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ib(e),this._firestoreClient=void 0,await e}}}function VO(t,e){const n=typeof t=="object"?t:ux(),r=typeof t=="string"?t:pf,a=xg(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=zI("firestore");l&&LO(a,...l)}return a}function lw(t){if(t._terminated)throw new _e(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||jO(t),t._firestoreClient}function jO(t){const e=t._freezeSettings(),n=(function(a,l,u,h){return new iD(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,aw(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new NO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ci{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ci(hn.fromBase64String(e))}catch(n){throw new _e(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ci(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ju(e,ci._jsonSchema))return ci.fromBase64String(e.bytes)}}ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:Gt("string",ci._jsonSchemaVersion),bytes:Gt("string")};class Yf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ly{constructor(e){this._methodName=e}}class ir{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ir._jsonSchemaVersion}}static fromJSON(e){if(Ju(e,ir._jsonSchema))return new ir(e.latitude,e.longitude)}}ir._jsonSchemaVersion="firestore/geoPoint/1.0",ir._jsonSchema={type:Gt("string",ir._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class rr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ju(e,rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new rr(e.vectorValues);throw new _e(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rr._jsonSchemaVersion="firestore/vectorValue/1.0",rr._jsonSchema={type:Gt("string",rr._jsonSchemaVersion),vectorValues:Gt("object")};const zO=/^__.*__$/;class UO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zu(e,this.data,n,this.fieldTransforms)}}class uw{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:t})}}class uy{constructor(e,n,r,a,l,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new uy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Sf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(cw(this.Ac)&&zO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class BO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hf(e)}Cc(e,n,r,a=!1){return new uy({Ac:e,methodName:n,Dc:r,path:un.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hw(t){const e=t._freezeSettings(),n=Hf(t._databaseId);return new BO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function FO(t,e,n,r,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);cy("Data must be an object, but it was:",u,r);const h=fw(r,u);let m,p;if(l.merge)m=new Kn(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const _=[];for(const y of l.mergeFields){const E=sg(e,y,n);if(!u.contains(E))throw new _e(le.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);mw(_,E)||_.push(E)}m=new Kn(_),p=u.fieldTransforms.filter((y=>m.covers(y.field)))}else m=null,p=u.fieldTransforms;return new UO(new On(h),m,p)}class $f extends ly{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $f}}function qO(t,e,n,r){const a=t.Cc(1,e,n);cy("Data must be an object, but it was:",a,r);const l=[],u=On.empty();Gs(r,((m,p)=>{const _=hy(e,m,n);p=cn(p);const y=a.yc(_);if(p instanceof $f)l.push(_);else{const E=Xf(p,y);E!=null&&(l.push(_),u.set(_,E))}}));const h=new Kn(l);return new uw(u,h,a.fieldTransforms)}function HO(t,e,n,r,a,l){const u=t.Cc(1,e,n),h=[sg(e,r,n)],m=[a];if(l.length%2!=0)throw new _e(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)h.push(sg(e,l[E])),m.push(l[E+1]);const p=[],_=On.empty();for(let E=h.length-1;E>=0;--E)if(!mw(p,h[E])){const T=h[E];let I=m[E];I=cn(I);const U=u.yc(T);if(I instanceof $f)p.push(T);else{const L=Xf(I,U);L!=null&&(p.push(T),_.set(T,L))}}const y=new Kn(p);return new uw(_,y,u.fieldTransforms)}function Xf(t,e){if(dw(t=cn(t)))return cy("Unsupported field value:",e,t),fw(t,e);if(t instanceof ly)return(function(r,a){if(!cw(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let u=0;for(const h of r){let m=Xf(h,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(r,a){if((r=cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CD(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=yt.fromDate(r);return{timestampValue:Ef(a.serializer,l)}}if(r instanceof yt){const l=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ef(a.serializer,l)}}if(r instanceof ir)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ci)return{bytesValue:DT(a.serializer,r._byteString)};if(r instanceof Yt){const l=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Gg(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof rr)return(function(u,h){return{mapValue:{fields:{[oT]:{stringValue:lT},[gf]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return Fg(h.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Pg(r)}`)})(t,e)}function fw(t,e){const n={};return tT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(t,((r,a)=>{const l=Xf(a,e.mc(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function dw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof ir||t instanceof ci||t instanceof Yt||t instanceof ly||t instanceof rr)}function cy(t,e,n){if(!dw(n)||!Zx(n)){const r=Pg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function sg(t,e,n){if((e=cn(e))instanceof Yf)return e._internalPath;if(typeof e=="string")return hy(t,e);throw Sf("Field path arguments must be of type string or ",t,!1,void 0,n)}const GO=new RegExp("[~\\*/\\[\\]]");function hy(t,e,n){if(e.search(GO)>=0)throw Sf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yf(...e.split("."))._internalPath}catch{throw Sf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sf(t,e,n,r,a){const l=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${r}`),u&&(m+=` in document ${a}`),m+=")"),new _e(le.INVALID_ARGUMENT,h+t+m)}function mw(t,e){return t.some((n=>n.isEqual(e)))}class pw{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KO extends pw{data(){return super.data()}}function gw(t,e){return typeof e=="string"?hy(t,e):e instanceof Yf?e._internalPath:e._delegate._internalPath}class QO{convertValue(e,n="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Gs(e,((a,l)=>{r[a]=this.convertValue(l,n)})),r}convertVectorValue(e){const n=e.fields?.[gf].arrayValue?.values?.map((r=>Mt(r.doubleValue)));return new rr(n)}convertGeoPoint(e){return new ir(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pu(e));default:return null}}convertTimestamp(e){const n=Vs(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=wt.fromString(e);rt(jT(r),9688,{name:e});const a=new Lu(r.get(1),r.get(3)),l=new xe(r.popFirst(5));return a.isEqual(n)||Mr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function YO(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class _u{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ca extends pw{constructor(e,n,r,a,l,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ef(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ca._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ca._jsonSchema={type:Gt("string",Ca._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class ef extends Ca{data(e={}){return super.data(e)}}class Au{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new _u(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ef(this._firestore,this._userDataWriter,r.key,r,new _u(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const m=new ef(a._firestore,a._userDataWriter,h.doc.key,h.doc,new _u(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const m=new ef(a._firestore,a._userDataWriter,h.doc.key,h.doc,new _u(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,_=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),_=u.indexOf(h.doc.key)),{type:$O(h.type),doc:m,oldIndex:p,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Au._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $O(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}function XO(t){t=Oa(t,Yt);const e=Oa(t.firestore,Qf);return PO(lw(e),t._key).then((n=>eM(e,t,n)))}Au._jsonSchemaVersion="firestore/querySnapshot/1.0",Au._jsonSchema={type:Gt("string",Au._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class WO extends QO{constructor(e){super(),this.firestore=e}convertBytes(e){return new ci(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function JO(t,e,n){t=Oa(t,Yt);const r=Oa(t.firestore,Qf),a=YO(t.converter,e,n);return yw(r,[FO(hw(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,tr.none())])}function ZO(t,e,n,...r){t=Oa(t,Yt);const a=Oa(t.firestore,Qf),l=hw(a);let u;return u=typeof(e=cn(e))=="string"||e instanceof Yf?HO(l,"updateDoc",t._key,e,n,r):qO(l,"updateDoc",t._key,e),yw(a,[u.toMutation(t._key,tr.exists(!0))])}function yw(t,e){return(function(r,a){const l=new Ds;return r.asyncQueue.enqueueAndForget((async()=>EO(await OO(r),a,l))),l.promise})(lw(t),e)}function eM(t,e,n){const r=n.docs.get(e._key),a=new WO(t);return new Ca(t,a,e._key,r,new _u(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){tl=a})(Zo),Fo(new ka("firestore",((r,{instanceIdentifier:a,options:l})=>{const u=r.getProvider("app").getImmediate(),h=new Qf(new VN(r.getProvider("auth-internal")),new UN(u,r.getProvider("app-check-internal")),(function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new _e(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lu(p.options.projectId,_)})(u,a),u);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Rs(L1,V1,e),Rs(L1,V1,"esm2020")})();const tM={apiKey:"AIzaSyAgGkHhRcdGatNvRsm5BQv_RerjG8qt70M",authDomain:"adjucator-ai.firebaseapp.com",projectId:"adjucator-ai",storageBucket:"adjucator-ai.firebasestorage.app",messagingSenderId:"82725691768",appId:"1:82725691768:web:6186a5b41b8a0aa1e7688d",measurementId:"G-N92VEHSKDE"},_w=lx(tM),ic=ON(_w),fy=VO(_w),nM=new Ir,iM=async(t,e)=>{const n=await gR(ic,t,e);return await _R(n.user),n},rM=async(t,e)=>await yR(ic,t,e),sM=async()=>await FR(ic,nM),aM=async()=>await xR(ic),oM=t=>ER(ic,t),pp=async(t,e)=>{const n=oy(fy,"users",t);await JO(n,{...e,createdAt:new Date().toISOString(),history:[]},{merge:!0})},Rb=async t=>{const e=oy(fy,"users",t),n=await XO(e);return n.exists()?n.data():null},lM=async(t,e)=>{const n=oy(fy,"users",t);await ZO(n,e)},vw=ie.createContext(null),Wf=()=>{const t=ie.useContext(vw);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},uM=({children:t})=>{const[e,n]=ie.useState(null),[r,a]=ie.useState(null),[l,u]=ie.useState(!0),[h,m]=ie.useState(null);ie.useEffect(()=>{const L=oM(async z=>{if(n(z),z)try{let F=await Rb(z.uid);F||(F={email:z.email,displayName:z.displayName||"",photoURL:z.photoURL||"",preferredEvents:[],settings:{theme:"dark",autoSaveHistory:!0}},await pp(z.uid,F)),a(F)}catch(F){console.error("Error fetching user profile:",F)}else a(null);u(!1)});return()=>L()},[]);const U={user:e,userProfile:r,loading:l,error:h,login:async(L,z)=>{m(null);try{return await rM(L,z)}catch(F){throw m(Uh(F.code)),F}},register:async(L,z,F)=>{m(null);try{const q=await iM(L,z);return await pp(q.user.uid,{email:L,displayName:F,photoURL:"",preferredEvents:[],settings:{theme:"dark",autoSaveHistory:!0}}),q}catch(q){throw m(Uh(q.code)),q}},loginWithGoogle:async()=>{m(null);try{const L=await sM();return await Rb(L.user.uid)||await pp(L.user.uid,{email:L.user.email,displayName:L.user.displayName||"",photoURL:L.user.photoURL||"",preferredEvents:[],settings:{theme:"dark",autoSaveHistory:!0}}),L}catch(L){throw m(Uh(L.code)),L}},logout:async()=>{m(null);try{await aM()}catch(L){throw m(Uh(L.code)),L}},updateProfile:async L=>{if(e)try{await lM(e.uid,L),a(z=>({...z,...L}))}catch(z){throw m("Failed to update profile"),z}},clearError:()=>m(null),isAuthenticated:!!e};return b.jsx(vw.Provider,{value:U,children:t})};function Uh(t){return{"auth/email-already-in-use":"This email is already registered. Try logging in instead.","auth/invalid-email":"Please enter a valid email address.","auth/operation-not-allowed":"This sign-in method is not enabled.","auth/weak-password":"Password should be at least 6 characters.","auth/user-disabled":"This account has been disabled.","auth/user-not-found":"No account found with this email.","auth/wrong-password":"Incorrect password. Please try again.","auth/invalid-credential":"Invalid credentials. Please check your email and password.","auth/too-many-requests":"Too many failed attempts. Please try again later.","auth/popup-closed-by-user":"Sign-in popup was closed. Please try again.","auth/popup-blocked":"Sign-in popup was blocked. Please enable popups.","auth/network-request-failed":"Network error. Please check your connection."}[t]||"An error occurred. Please try again."}const cM=({onSettingsClick:t})=>{const[e,n]=ie.useState(!1),[r,a]=ie.useState(!1),l=ie.useRef(null),{user:u,userProfile:h,logout:m}=Wf();ie.useEffect(()=>{const T=I=>{l.current&&!l.current.contains(I.target)&&n(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const p=async()=>{a(!0);try{await m()}catch(T){console.error("Logout error:",T)}a(!1)},_=h?.displayName||u?.displayName||u?.email?.split("@")[0]||"User",y=h?.photoURL||u?.photoURL,E=u?.email;return b.jsxs("div",{className:"relative",ref:l,children:[b.jsxs("button",{onClick:()=>n(!e),className:"flex items-center gap-2 px-3 py-2 rounded-xl hover:bg-slate-800/50 transition-all group",children:[y?b.jsx("img",{src:y,alt:_,className:"w-8 h-8 rounded-full object-cover border-2 border-primary/30"}):b.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center",children:b.jsx("span",{className:"text-white text-sm font-medium",children:_.charAt(0).toUpperCase()})}),b.jsx("span",{className:"hidden lg:block text-sm font-medium text-text-secondary group-hover:text-white transition-colors",children:_}),b.jsx(GE,{className:`w-4 h-4 text-text-muted transition-transform ${e?"rotate-180":""}`})]}),e&&b.jsxs("div",{className:"absolute right-0 mt-2 w-64 glass-card p-0 overflow-hidden animate-in fade-in slide-in-from-top-2 z-50",children:[b.jsx("div",{className:"p-4 bg-slate-900/50 border-b border-slate-700/50",children:b.jsxs("div",{className:"flex items-center gap-3",children:[y?b.jsx("img",{src:y,alt:_,className:"w-10 h-10 rounded-full object-cover"}):b.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center",children:b.jsx("span",{className:"text-white font-medium",children:_.charAt(0).toUpperCase()})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("p",{className:"text-sm font-medium text-white truncate",children:_}),b.jsx("p",{className:"text-xs text-text-muted truncate",children:E})]})]})}),b.jsxs("div",{className:"p-2",children:[b.jsxs("button",{onClick:()=>{n(!1),t?.()},className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-text-secondary hover:bg-slate-800/50 hover:text-white transition-all",children:[b.jsx(sf,{className:"w-4 h-4"}),b.jsx("span",{className:"text-sm",children:"Settings"})]}),b.jsxs("button",{onClick:()=>{n(!1),t?.()},className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-text-secondary hover:bg-slate-800/50 hover:text-white transition-all",children:[b.jsx(XE,{className:"w-4 h-4"}),b.jsx("span",{className:"text-sm",children:"Edit Profile"})]}),b.jsx("div",{className:"my-2 border-t border-slate-700/50"}),b.jsxs("button",{onClick:p,disabled:r,className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-red-400 hover:bg-red-500/10 transition-all disabled:opacity-50",children:[r?b.jsx(qs,{className:"w-4 h-4 animate-spin"}):b.jsx(ZC,{className:"w-4 h-4"}),b.jsx("span",{className:"text-sm",children:"Sign Out"})]})]})]})]})},hM=({children:t,activeTab:e,setActiveTab:n,showSettings:r,setShowSettings:a})=>{const[l,u]=ie.useState(!1),[h,m]=ie.useState(!0),{isAuthenticated:p}=Wf(),_=()=>{m(!h),h?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark")},y=[{id:"judge",label:"Judge Speech",icon:Lo},{id:"board",label:"Evaluate Board",icon:lI},{id:"coach",label:"Live Coach",icon:rf},{id:"strategy",label:"Strategy",icon:vu},{id:"extemp",label:"Extemp Gen",icon:vg},{id:"history",label:"History",icon:Ps}];return b.jsxs("div",{className:`min-h-screen flex bg-bg-primary text-text-primary ${h?"dark":""}`,children:[b.jsxs("aside",{className:"hidden md:flex flex-col w-64 border-r border-slate-800 bg-bg-secondary/50 backdrop-blur-xl fixed h-full z-20",children:[b.jsxs("div",{className:"p-6 flex items-center space-x-3 border-b border-slate-800/50",children:[b.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary to-accent flex items-center justify-center shadow-lg shadow-primary/20",children:b.jsx(Lo,{className:"w-5 h-5 text-white"})}),b.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-slate-400",children:"Adjudicator"})]}),b.jsx("nav",{className:"flex-1 p-4 space-y-2",children:y.map(E=>b.jsxs("button",{onClick:()=>n(E.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-200 group ${e===E.id?"bg-primary/10 text-primary border border-primary/20 shadow-lg shadow-primary/5":"text-text-secondary hover:bg-slate-800/50 hover:text-white"}`,children:[b.jsx(E.icon,{className:`w-5 h-5 ${e===E.id?"animate-pulse-glow":"group-hover:scale-110 transition-transform"}`}),b.jsx("span",{className:"font-medium",children:E.label})]},E.id))}),b.jsxs("div",{className:"p-4 border-t border-slate-800/50 space-y-2",children:[b.jsxs("button",{onClick:()=>a(!r),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all ${r?"bg-accent/10 text-accent":"text-text-secondary hover:bg-slate-800/50 hover:text-white"}`,children:[b.jsx(sf,{className:"w-5 h-5"}),b.jsx("span",{className:"font-medium",children:"Settings"})]}),b.jsxs("button",{onClick:_,className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-text-secondary hover:bg-slate-800/50 hover:text-white transition-all",children:[h?b.jsx(TI,{className:"w-5 h-5"}):b.jsx(aI,{className:"w-5 h-5"}),b.jsx("span",{className:"font-medium",children:h?"Light Mode":"Dark Mode"})]}),p&&b.jsx("div",{className:"pt-2 border-t border-slate-800/50 mt-2",children:b.jsx(cM,{onSettingsClick:()=>a(!0)})})]})]}),b.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 z-30 bg-bg-secondary/80 backdrop-blur-lg border-b border-slate-800 px-4 py-3 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary to-accent flex items-center justify-center",children:b.jsx(Lo,{className:"w-5 h-5 text-white"})}),b.jsx("span",{className:"font-bold text-lg",children:"Adjudicator"})]}),b.jsx("button",{onClick:()=>u(!l),className:"p-2 text-text-secondary",children:l?b.jsx(WE,{}):b.jsx(iI,{})})]}),l&&b.jsxs("div",{className:"fixed inset-0 z-20 bg-bg-primary/95 backdrop-blur-xl pt-20 px-6 space-y-4 md:hidden animate-in slide-in-from-top-10",children:[y.map(E=>b.jsxs("button",{onClick:()=>{n(E.id),u(!1)},className:`w-full flex items-center space-x-4 p-4 rounded-xl border ${e===E.id?"bg-primary/10 border-primary/20 text-primary":"border-slate-800 text-text-secondary"}`,children:[b.jsx(E.icon,{className:"w-6 h-6"}),b.jsx("span",{className:"text-lg font-medium",children:E.label})]},E.id)),b.jsxs("button",{onClick:()=>{a(!0),u(!1)},className:"w-full flex items-center space-x-4 p-4 rounded-xl border border-slate-800 text-text-secondary",children:[b.jsx(sf,{className:"w-6 h-6"}),b.jsx("span",{className:"text-lg font-medium",children:"Settings"})]})]}),b.jsx("main",{className:"flex-1 md:ml-64 p-4 md:p-8 pt-20 md:pt-8 overflow-y-auto h-screen scroll-smooth",children:b.jsx("div",{className:"max-w-7xl mx-auto",children:t})})]})};function fM(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const dM=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,mM=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,pM={};function Nb(t,e){return(pM.jsx?mM:dM).test(t)}const gM=/[ \t\n\f\r]/g;function yM(t){return typeof t=="object"?t.type==="text"?Db(t.value):!1:Db(t)}function Db(t){return t.replace(gM,"")===""}class rc{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}rc.prototype.normal={};rc.prototype.property={};rc.prototype.space=void 0;function bw(t,e){const n={},r={};for(const a of t)Object.assign(n,a.property),Object.assign(r,a.normal);return new rc(n,r,e)}function ag(t){return t.toLowerCase()}class Mn{constructor(e,n){this.attribute=n,this.property=e}}Mn.prototype.attribute="";Mn.prototype.booleanish=!1;Mn.prototype.boolean=!1;Mn.prototype.commaOrSpaceSeparated=!1;Mn.prototype.commaSeparated=!1;Mn.prototype.defined=!1;Mn.prototype.mustUseProperty=!1;Mn.prototype.number=!1;Mn.prototype.overloadedBoolean=!1;Mn.prototype.property="";Mn.prototype.spaceSeparated=!1;Mn.prototype.space=void 0;let _M=0;const Pe=za(),Ht=za(),og=za(),ce=za(),mt=za(),Bo=za(),Hn=za();function za(){return 2**++_M}const lg=Object.freeze(Object.defineProperty({__proto__:null,boolean:Pe,booleanish:Ht,commaOrSpaceSeparated:Hn,commaSeparated:Bo,number:ce,overloadedBoolean:og,spaceSeparated:mt},Symbol.toStringTag,{value:"Module"})),gp=Object.keys(lg);class dy extends Mn{constructor(e,n,r,a){let l=-1;if(super(e,n),Ob(this,"space",a),typeof r=="number")for(;++l<gp.length;){const u=gp[l];Ob(this,gp[l],(r&lg[u])===lg[u])}}}dy.prototype.defined=!0;function Ob(t,e,n){n&&(t[e]=n)}function sl(t){const e={},n={};for(const[r,a]of Object.entries(t.properties)){const l=new dy(r,t.transform(t.attributes||{},r),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),e[r]=l,n[ag(r)]=r,n[ag(l.attribute)]=r}return new rc(e,n,t.space)}const Ew=sl({properties:{ariaActiveDescendant:null,ariaAtomic:Ht,ariaAutoComplete:null,ariaBusy:Ht,ariaChecked:Ht,ariaColCount:ce,ariaColIndex:ce,ariaColSpan:ce,ariaControls:mt,ariaCurrent:null,ariaDescribedBy:mt,ariaDetails:null,ariaDisabled:Ht,ariaDropEffect:mt,ariaErrorMessage:null,ariaExpanded:Ht,ariaFlowTo:mt,ariaGrabbed:Ht,ariaHasPopup:null,ariaHidden:Ht,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:mt,ariaLevel:ce,ariaLive:null,ariaModal:Ht,ariaMultiLine:Ht,ariaMultiSelectable:Ht,ariaOrientation:null,ariaOwns:mt,ariaPlaceholder:null,ariaPosInSet:ce,ariaPressed:Ht,ariaReadOnly:Ht,ariaRelevant:null,ariaRequired:Ht,ariaRoleDescription:mt,ariaRowCount:ce,ariaRowIndex:ce,ariaRowSpan:ce,ariaSelected:Ht,ariaSetSize:ce,ariaSort:null,ariaValueMax:ce,ariaValueMin:ce,ariaValueNow:ce,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function xw(t,e){return e in t?t[e]:e}function Tw(t,e){return xw(t,e.toLowerCase())}const vM=sl({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Bo,acceptCharset:mt,accessKey:mt,action:null,allow:null,allowFullScreen:Pe,allowPaymentRequest:Pe,allowUserMedia:Pe,alt:null,as:null,async:Pe,autoCapitalize:null,autoComplete:mt,autoFocus:Pe,autoPlay:Pe,blocking:mt,capture:null,charSet:null,checked:Pe,cite:null,className:mt,cols:ce,colSpan:null,content:null,contentEditable:Ht,controls:Pe,controlsList:mt,coords:ce|Bo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Pe,defer:Pe,dir:null,dirName:null,disabled:Pe,download:og,draggable:Ht,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Pe,formTarget:null,headers:mt,height:ce,hidden:og,high:ce,href:null,hrefLang:null,htmlFor:mt,httpEquiv:mt,id:null,imageSizes:null,imageSrcSet:null,inert:Pe,inputMode:null,integrity:null,is:null,isMap:Pe,itemId:null,itemProp:mt,itemRef:mt,itemScope:Pe,itemType:mt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Pe,low:ce,manifest:null,max:null,maxLength:ce,media:null,method:null,min:null,minLength:ce,multiple:Pe,muted:Pe,name:null,nonce:null,noModule:Pe,noValidate:Pe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Pe,optimum:ce,pattern:null,ping:mt,placeholder:null,playsInline:Pe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Pe,referrerPolicy:null,rel:mt,required:Pe,reversed:Pe,rows:ce,rowSpan:ce,sandbox:mt,scope:null,scoped:Pe,seamless:Pe,selected:Pe,shadowRootClonable:Pe,shadowRootDelegatesFocus:Pe,shadowRootMode:null,shape:null,size:ce,sizes:null,slot:null,span:ce,spellCheck:Ht,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ce,step:null,style:null,tabIndex:ce,target:null,title:null,translate:null,type:null,typeMustMatch:Pe,useMap:null,value:Ht,width:ce,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:mt,axis:null,background:null,bgColor:null,border:ce,borderColor:null,bottomMargin:ce,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Pe,declare:Pe,event:null,face:null,frame:null,frameBorder:null,hSpace:ce,leftMargin:ce,link:null,longDesc:null,lowSrc:null,marginHeight:ce,marginWidth:ce,noResize:Pe,noHref:Pe,noShade:Pe,noWrap:Pe,object:null,profile:null,prompt:null,rev:null,rightMargin:ce,rules:null,scheme:null,scrolling:Ht,standby:null,summary:null,text:null,topMargin:ce,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ce,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Pe,disableRemotePlayback:Pe,prefix:null,property:null,results:ce,security:null,unselectable:null},space:"html",transform:Tw}),bM=sl({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Hn,accentHeight:ce,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ce,amplitude:ce,arabicForm:null,ascent:ce,attributeName:null,attributeType:null,azimuth:ce,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ce,by:null,calcMode:null,capHeight:ce,className:mt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ce,diffuseConstant:ce,direction:null,display:null,dur:null,divisor:ce,dominantBaseline:null,download:Pe,dx:null,dy:null,edgeMode:null,editable:null,elevation:ce,enableBackground:null,end:null,event:null,exponent:ce,externalResourcesRequired:null,fill:null,fillOpacity:ce,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Bo,g2:Bo,glyphName:Bo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ce,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ce,horizOriginX:ce,horizOriginY:ce,id:null,ideographic:ce,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ce,k:ce,k1:ce,k2:ce,k3:ce,k4:ce,kernelMatrix:Hn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ce,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ce,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ce,overlineThickness:ce,paintOrder:null,panose1:null,path:null,pathLength:ce,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:mt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ce,pointsAtY:ce,pointsAtZ:ce,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Hn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Hn,rev:Hn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Hn,requiredFeatures:Hn,requiredFonts:Hn,requiredFormats:Hn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ce,specularExponent:ce,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ce,strikethroughThickness:ce,string:null,stroke:null,strokeDashArray:Hn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ce,strokeOpacity:ce,strokeWidth:null,style:null,surfaceScale:ce,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Hn,tabIndex:ce,tableValues:null,target:null,targetX:ce,targetY:ce,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Hn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ce,underlineThickness:ce,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ce,values:null,vAlphabetic:ce,vMathematical:ce,vectorEffect:null,vHanging:ce,vIdeographic:ce,version:null,vertAdvY:ce,vertOriginX:ce,vertOriginY:ce,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ce,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:xw}),ww=sl({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Sw=sl({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Tw}),Aw=sl({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),EM={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},xM=/[A-Z]/g,Mb=/-[a-z]/g,TM=/^data[-\w.:]+$/i;function wM(t,e){const n=ag(e);let r=e,a=Mn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&TM.test(e)){if(e.charAt(4)==="-"){const l=e.slice(5).replace(Mb,AM);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=e.slice(4);if(!Mb.test(l)){let u=l.replace(xM,SM);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}a=dy}return new a(r,e)}function SM(t){return"-"+t.toLowerCase()}function AM(t){return t.charAt(1).toUpperCase()}const CM=bw([Ew,vM,ww,Sw,Aw],"html"),my=bw([Ew,bM,ww,Sw,Aw],"svg");function IM(t){return t.join(" ").trim()}var Io={},yp,Pb;function kM(){if(Pb)return yp;Pb=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,h=/^\s+|\s+$/g,m=`
`,p="/",_="*",y="",E="comment",T="declaration";function I(L,z){if(typeof L!="string")throw new TypeError("First argument must be a string");if(!L)return[];z=z||{};var F=1,q=1;function se(ue){var ae=ue.match(e);ae&&(F+=ae.length);var Y=ue.lastIndexOf(m);q=~Y?ue.length-Y:q+ue.length}function he(){var ue={line:F,column:q};return function(ae){return ae.position=new K(ue),O(),ae}}function K(ue){this.start=ue,this.end={line:F,column:q},this.source=z.source}K.prototype.content=L;function P(ue){var ae=new Error(z.source+":"+F+":"+q+": "+ue);if(ae.reason=ue,ae.filename=z.source,ae.line=F,ae.column=q,ae.source=L,!z.silent)throw ae}function R(ue){var ae=ue.exec(L);if(ae){var Y=ae[0];return se(Y),L=L.slice(Y.length),ae}}function O(){R(n)}function A(ue){var ae;for(ue=ue||[];ae=C();)ae!==!1&&ue.push(ae);return ue}function C(){var ue=he();if(!(p!=L.charAt(0)||_!=L.charAt(1))){for(var ae=2;y!=L.charAt(ae)&&(_!=L.charAt(ae)||p!=L.charAt(ae+1));)++ae;if(ae+=2,y===L.charAt(ae-1))return P("End of comment missing");var Y=L.slice(2,ae-2);return q+=2,se(Y),L=L.slice(ae),q+=2,ue({type:E,comment:Y})}}function D(){var ue=he(),ae=R(r);if(ae){if(C(),!R(a))return P("property missing ':'");var Y=R(l),oe=ue({type:T,property:U(ae[0].replace(t,y)),value:Y?U(Y[0].replace(t,y)):y});return R(u),oe}}function N(){var ue=[];A(ue);for(var ae;ae=D();)ae!==!1&&(ue.push(ae),A(ue));return ue}return O(),N()}function U(L){return L?L.replace(h,y):y}return yp=I,yp}var Lb;function RM(){if(Lb)return Io;Lb=1;var t=Io&&Io.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Io,"__esModule",{value:!0}),Io.default=n;const e=t(kM());function n(r,a){let l=null;if(!r||typeof r!="string")return l;const u=(0,e.default)(r),h=typeof a=="function";return u.forEach(m=>{if(m.type!=="declaration")return;const{property:p,value:_}=m;h?a(p,_,m):_&&(l=l||{},l[p]=_)}),l}return Io}var uu={},Vb;function NM(){if(Vb)return uu;Vb=1,Object.defineProperty(uu,"__esModule",{value:!0}),uu.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,l=function(p){return!p||n.test(p)||t.test(p)},u=function(p,_){return _.toUpperCase()},h=function(p,_){return"".concat(_,"-")},m=function(p,_){return _===void 0&&(_={}),l(p)?p:(p=p.toLowerCase(),_.reactCompat?p=p.replace(a,h):p=p.replace(r,h),p.replace(e,u))};return uu.camelCase=m,uu}var cu,jb;function DM(){if(jb)return cu;jb=1;var t=cu&&cu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},e=t(RM()),n=NM();function r(a,l){var u={};return!a||typeof a!="string"||(0,e.default)(a,function(h,m){h&&m&&(u[(0,n.camelCase)(h,l)]=m)}),u}return r.default=r,cu=r,cu}var OM=DM();const MM=_g(OM),Cw=Iw("end"),py=Iw("start");function Iw(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function PM(t){const e=py(t),n=Cw(t);if(e&&n)return{start:e,end:n}}function Cu(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?zb(t.position):"start"in t||"end"in t?zb(t):"line"in t||"column"in t?ug(t):""}function ug(t){return Ub(t&&t.line)+":"+Ub(t&&t.column)}function zb(t){return ug(t&&t.start)+"-"+ug(t&&t.end)}function Ub(t){return t&&typeof t=="number"?t:1}class bn extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",l={},u=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof e=="string"?a=e:!l.cause&&e&&(u=!0,a=e.message,l.cause=e),!l.ruleId&&!l.source&&typeof r=="string"){const m=r.indexOf(":");m===-1?l.ruleId=r:(l.source=r.slice(0,m),l.ruleId=r.slice(m+1))}if(!l.place&&l.ancestors&&l.ancestors){const m=l.ancestors[l.ancestors.length-1];m&&(l.place=m.position)}const h=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=h?h.line:void 0,this.name=Cu(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=u&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}bn.prototype.file="";bn.prototype.name="";bn.prototype.reason="";bn.prototype.message="";bn.prototype.stack="";bn.prototype.column=void 0;bn.prototype.line=void 0;bn.prototype.ancestors=void 0;bn.prototype.cause=void 0;bn.prototype.fatal=void 0;bn.prototype.place=void 0;bn.prototype.ruleId=void 0;bn.prototype.source=void 0;const gy={}.hasOwnProperty,LM=new Map,VM=/[A-Z]/g,jM=new Set(["table","tbody","thead","tfoot","tr"]),zM=new Set(["td","th"]),kw="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function UM(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=YM(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=QM(n,e.jsx,e.jsxs)}const a={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?my:CM,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},l=Rw(a,t,void 0);return l&&typeof l!="string"?l:a.create(t,a.Fragment,{children:l||void 0},void 0)}function Rw(t,e,n){if(e.type==="element")return BM(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return FM(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return HM(t,e,n);if(e.type==="mdxjsEsm")return qM(t,e);if(e.type==="root")return GM(t,e,n);if(e.type==="text")return KM(t,e)}function BM(t,e,n){const r=t.schema;let a=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=my,t.schema=a),t.ancestors.push(e);const l=Dw(t,e.tagName,!1),u=$M(t,e);let h=_y(t,e);return jM.has(e.tagName)&&(h=h.filter(function(m){return typeof m=="string"?!yM(m):!0})),Nw(t,u,l,e),yy(u,h),t.ancestors.pop(),t.schema=r,t.create(e,l,u,n)}function FM(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Bu(t,e.position)}function qM(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Bu(t,e.position)}function HM(t,e,n){const r=t.schema;let a=r;e.name==="svg"&&r.space==="html"&&(a=my,t.schema=a),t.ancestors.push(e);const l=e.name===null?t.Fragment:Dw(t,e.name,!0),u=XM(t,e),h=_y(t,e);return Nw(t,u,l,e),yy(u,h),t.ancestors.pop(),t.schema=r,t.create(e,l,u,n)}function GM(t,e,n){const r={};return yy(r,_y(t,e)),t.create(e,t.Fragment,r,n)}function KM(t,e){return e.value}function Nw(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function yy(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function QM(t,e,n){return r;function r(a,l,u,h){const p=Array.isArray(u.children)?n:e;return h?p(l,u,h):p(l,u)}}function YM(t,e){return n;function n(r,a,l,u){const h=Array.isArray(l.children),m=py(r);return e(a,l,u,h,{columnNumber:m?m.column-1:void 0,fileName:t,lineNumber:m?m.line:void 0},void 0)}}function $M(t,e){const n={};let r,a;for(a in e.properties)if(a!=="children"&&gy.call(e.properties,a)){const l=WM(t,a,e.properties[a]);if(l){const[u,h]=l;t.tableCellAlignToStyle&&u==="align"&&typeof h=="string"&&zM.has(e.tagName)?r=h:n[u]=h}}if(r){const l=n.style||(n.style={});l[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function XM(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const l=r.data.estree.body[0];l.type;const u=l.expression;u.type;const h=u.properties[0];h.type,Object.assign(n,t.evaluater.evaluateExpression(h.argument))}else Bu(t,e.position);else{const a=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const h=r.value.data.estree.body[0];h.type,l=t.evaluater.evaluateExpression(h.expression)}else Bu(t,e.position);else l=r.value===null?!0:r.value;n[a]=l}return n}function _y(t,e){const n=[];let r=-1;const a=t.passKeys?new Map:LM;for(;++r<e.children.length;){const l=e.children[r];let u;if(t.passKeys){const m=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(m){const p=a.get(m)||0;u=m+"-"+p,a.set(m,p+1)}}const h=Rw(t,l,u);h!==void 0&&n.push(h)}return n}function WM(t,e,n){const r=wM(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?fM(n):IM(n)),r.property==="style"){let a=typeof n=="object"?n:JM(t,String(n));return t.stylePropertyNameCase==="css"&&(a=ZM(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&r.space?EM[r.property]||r.property:r.attribute,n]}}function JM(t,e){try{return MM(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,a=new bn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=kw+"#cannot-parse-style-attribute",a}}function Dw(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const a=e.split(".");let l=-1,u;for(;++l<a.length;){const h=Nb(a[l])?{type:"Identifier",name:a[l]}:{type:"Literal",value:a[l]};u=u?{type:"MemberExpression",object:u,property:h,computed:!!(l&&h.type==="Literal"),optional:!1}:h}r=u}else r=Nb(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const a=r.value;return gy.call(t.components,a)?t.components[a]:a}if(t.evaluater)return t.evaluater.evaluateExpression(r);Bu(t)}function Bu(t,e){const n=new bn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=kw+"#cannot-handle-mdx-estrees-without-createevaluater",n}function ZM(t){const e={};let n;for(n in t)gy.call(t,n)&&(e[e3(n)]=t[n]);return e}function e3(t){let e=t.replace(VM,t3);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function t3(t){return"-"+t.toLowerCase()}const _p={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},n3={};function vy(t,e){const n=n3,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Ow(t,r,a)}function Ow(t,e,n){if(i3(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Bb(t.children,e,n)}return Array.isArray(t)?Bb(t,e,n):""}function Bb(t,e,n){const r=[];let a=-1;for(;++a<t.length;)r[a]=Ow(t[a],e,n);return r.join("")}function i3(t){return!!(t&&typeof t=="object")}const Fb=document.createElement("i");function by(t){const e="&"+t+";";Fb.innerHTML=e;const n=Fb.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Qn(t,e,n,r){const a=t.length;let l=0,u;if(e<0?e=-e>a?0:a+e:e=e>a?a:e,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);l<r.length;)u=r.slice(l,l+1e4),u.unshift(e,0),t.splice(...u),l+=1e4,e+=1e4}function ui(t,e){return t.length>0?(Qn(t,t.length,0,e),t):e}const qb={}.hasOwnProperty;function Mw(t){const e={};let n=-1;for(;++n<t.length;)r3(e,t[n]);return e}function r3(t,e){let n;for(n in e){const a=(qb.call(t,n)?t[n]:void 0)||(t[n]={}),l=e[n];let u;if(l)for(u in l){qb.call(a,u)||(a[u]=[]);const h=l[u];s3(a[u],Array.isArray(h)?h:h?[h]:[])}}}function s3(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Qn(t,0,0,r)}function Pw(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Ci(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Tn=Qs(/[A-Za-z]/),_n=Qs(/[\dA-Za-z]/),a3=Qs(/[#-'*+\--9=?A-Z^-~]/);function Af(t){return t!==null&&(t<32||t===127)}const cg=Qs(/\d/),o3=Qs(/[\dA-Fa-f]/),l3=Qs(/[!-/:-@[-`{-~]/);function Ee(t){return t!==null&&t<-2}function dt(t){return t!==null&&(t<0||t===32)}function Ue(t){return t===-2||t===-1||t===32}const Jf=Qs(new RegExp("\\p{P}|\\p{S}","u")),Pa=Qs(/\s/);function Qs(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function al(t){const e=[];let n=-1,r=0,a=0;for(;++n<t.length;){const l=t.charCodeAt(n);let u="";if(l===37&&_n(t.charCodeAt(n+1))&&_n(t.charCodeAt(n+2)))a=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(u=String.fromCharCode(l));else if(l>55295&&l<57344){const h=t.charCodeAt(n+1);l<56320&&h>56319&&h<57344?(u=String.fromCharCode(l,h),a=1):u=""}else u=String.fromCharCode(l);u&&(e.push(t.slice(r,n),encodeURIComponent(u)),r=n+a+1,u=""),a&&(n+=a,a=0)}return e.join("")+t.slice(r)}function $e(t,e,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let l=0;return u;function u(m){return Ue(m)?(t.enter(n),h(m)):e(m)}function h(m){return Ue(m)&&l++<a?(t.consume(m),h):(t.exit(n),e(m))}}const u3={tokenize:c3};function c3(t){const e=t.attempt(this.parser.constructs.contentInitial,r,a);let n;return e;function r(h){if(h===null){t.consume(h);return}return t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),$e(t,e,"linePrefix")}function a(h){return t.enter("paragraph"),l(h)}function l(h){const m=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=m),n=m,u(h)}function u(h){if(h===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(h);return}return Ee(h)?(t.consume(h),t.exit("chunkText"),l):(t.consume(h),u)}}const h3={tokenize:f3},Hb={tokenize:d3};function f3(t){const e=this,n=[];let r=0,a,l,u;return h;function h(q){if(r<n.length){const se=n[r];return e.containerState=se[1],t.attempt(se[0].continuation,m,p)(q)}return p(q)}function m(q){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,a&&F();const se=e.events.length;let he=se,K;for(;he--;)if(e.events[he][0]==="exit"&&e.events[he][1].type==="chunkFlow"){K=e.events[he][1].end;break}z(r);let P=se;for(;P<e.events.length;)e.events[P][1].end={...K},P++;return Qn(e.events,he+1,0,e.events.slice(se)),e.events.length=P,p(q)}return h(q)}function p(q){if(r===n.length){if(!a)return E(q);if(a.currentConstruct&&a.currentConstruct.concrete)return I(q);e.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Hb,_,y)(q)}function _(q){return a&&F(),z(r),E(q)}function y(q){return e.parser.lazy[e.now().line]=r!==n.length,u=e.now().offset,I(q)}function E(q){return e.containerState={},t.attempt(Hb,T,I)(q)}function T(q){return r++,n.push([e.currentConstruct,e.containerState]),E(q)}function I(q){if(q===null){a&&F(),z(0),t.consume(q);return}return a=a||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:l}),U(q)}function U(q){if(q===null){L(t.exit("chunkFlow"),!0),z(0),t.consume(q);return}return Ee(q)?(t.consume(q),L(t.exit("chunkFlow")),r=0,e.interrupt=void 0,h):(t.consume(q),U)}function L(q,se){const he=e.sliceStream(q);if(se&&he.push(null),q.previous=l,l&&(l.next=q),l=q,a.defineSkip(q.start),a.write(he),e.parser.lazy[q.start.line]){let K=a.events.length;for(;K--;)if(a.events[K][1].start.offset<u&&(!a.events[K][1].end||a.events[K][1].end.offset>u))return;const P=e.events.length;let R=P,O,A;for(;R--;)if(e.events[R][0]==="exit"&&e.events[R][1].type==="chunkFlow"){if(O){A=e.events[R][1].end;break}O=!0}for(z(r),K=P;K<e.events.length;)e.events[K][1].end={...A},K++;Qn(e.events,R+1,0,e.events.slice(P)),e.events.length=K}}function z(q){let se=n.length;for(;se-- >q;){const he=n[se];e.containerState=he[1],he[0].exit.call(e,t)}n.length=q}function F(){a.write([null]),l=void 0,a=void 0,e.containerState._closeFlow=void 0}}function d3(t,e,n){return $e(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function $o(t){if(t===null||dt(t)||Pa(t))return 1;if(Jf(t))return 2}function Zf(t,e,n){const r=[];let a=-1;for(;++a<t.length;){const l=t[a].resolveAll;l&&!r.includes(l)&&(e=l(e,n),r.push(l))}return e}const hg={name:"attention",resolveAll:m3,tokenize:p3};function m3(t,e){let n=-1,r,a,l,u,h,m,p,_;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;m=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const y={...t[r][1].end},E={...t[n][1].start};Gb(y,-m),Gb(E,m),u={type:m>1?"strongSequence":"emphasisSequence",start:y,end:{...t[r][1].end}},h={type:m>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:E},l={type:m>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},a={type:m>1?"strong":"emphasis",start:{...u.start},end:{...h.end}},t[r][1].end={...u.start},t[n][1].start={...h.end},p=[],t[r][1].end.offset-t[r][1].start.offset&&(p=ui(p,[["enter",t[r][1],e],["exit",t[r][1],e]])),p=ui(p,[["enter",a,e],["enter",u,e],["exit",u,e],["enter",l,e]]),p=ui(p,Zf(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),p=ui(p,[["exit",l,e],["enter",h,e],["exit",h,e],["exit",a,e]]),t[n][1].end.offset-t[n][1].start.offset?(_=2,p=ui(p,[["enter",t[n][1],e],["exit",t[n][1],e]])):_=0,Qn(t,r-1,n-r+3,p),n=r+p.length-_-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function p3(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=$o(r);let l;return u;function u(m){return l=m,t.enter("attentionSequence"),h(m)}function h(m){if(m===l)return t.consume(m),h;const p=t.exit("attentionSequence"),_=$o(m),y=!_||_===2&&a||n.includes(m),E=!a||a===2&&_||n.includes(r);return p._open=!!(l===42?y:y&&(a||!E)),p._close=!!(l===42?E:E&&(_||!y)),e(m)}}function Gb(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const g3={name:"autolink",tokenize:y3};function y3(t,e,n){let r=0;return a;function a(T){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(T),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),l}function l(T){return Tn(T)?(t.consume(T),u):T===64?n(T):p(T)}function u(T){return T===43||T===45||T===46||_n(T)?(r=1,h(T)):p(T)}function h(T){return T===58?(t.consume(T),r=0,m):(T===43||T===45||T===46||_n(T))&&r++<32?(t.consume(T),h):(r=0,p(T))}function m(T){return T===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(T),t.exit("autolinkMarker"),t.exit("autolink"),e):T===null||T===32||T===60||Af(T)?n(T):(t.consume(T),m)}function p(T){return T===64?(t.consume(T),_):a3(T)?(t.consume(T),p):n(T)}function _(T){return _n(T)?y(T):n(T)}function y(T){return T===46?(t.consume(T),r=0,_):T===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(T),t.exit("autolinkMarker"),t.exit("autolink"),e):E(T)}function E(T){if((T===45||_n(T))&&r++<63){const I=T===45?E:y;return t.consume(T),I}return n(T)}}const sc={partial:!0,tokenize:_3};function _3(t,e,n){return r;function r(l){return Ue(l)?$e(t,a,"linePrefix")(l):a(l)}function a(l){return l===null||Ee(l)?e(l):n(l)}}const Lw={continuation:{tokenize:b3},exit:E3,name:"blockQuote",tokenize:v3};function v3(t,e,n){const r=this;return a;function a(u){if(u===62){const h=r.containerState;return h.open||(t.enter("blockQuote",{_container:!0}),h.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),l}return n(u)}function l(u){return Ue(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function b3(t,e,n){const r=this;return a;function a(u){return Ue(u)?$e(t,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):l(u)}function l(u){return t.attempt(Lw,e,n)(u)}}function E3(t){t.exit("blockQuote")}const Vw={name:"characterEscape",tokenize:x3};function x3(t,e,n){return r;function r(l){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(l),t.exit("escapeMarker"),a}function a(l){return l3(l)?(t.enter("characterEscapeValue"),t.consume(l),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(l)}}const jw={name:"characterReference",tokenize:T3};function T3(t,e,n){const r=this;let a=0,l,u;return h;function h(y){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(y),t.exit("characterReferenceMarker"),m}function m(y){return y===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(y),t.exit("characterReferenceMarkerNumeric"),p):(t.enter("characterReferenceValue"),l=31,u=_n,_(y))}function p(y){return y===88||y===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(y),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),l=6,u=o3,_):(t.enter("characterReferenceValue"),l=7,u=cg,_(y))}function _(y){if(y===59&&a){const E=t.exit("characterReferenceValue");return u===_n&&!by(r.sliceSerialize(E))?n(y):(t.enter("characterReferenceMarker"),t.consume(y),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(y)&&a++<l?(t.consume(y),_):n(y)}}const Kb={partial:!0,tokenize:S3},Qb={concrete:!0,name:"codeFenced",tokenize:w3};function w3(t,e,n){const r=this,a={partial:!0,tokenize:he};let l=0,u=0,h;return m;function m(K){return p(K)}function p(K){const P=r.events[r.events.length-1];return l=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,h=K,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),_(K)}function _(K){return K===h?(u++,t.consume(K),_):u<3?n(K):(t.exit("codeFencedFenceSequence"),Ue(K)?$e(t,y,"whitespace")(K):y(K))}function y(K){return K===null||Ee(K)?(t.exit("codeFencedFence"),r.interrupt?e(K):t.check(Kb,U,se)(K)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),E(K))}function E(K){return K===null||Ee(K)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),y(K)):Ue(K)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),$e(t,T,"whitespace")(K)):K===96&&K===h?n(K):(t.consume(K),E)}function T(K){return K===null||Ee(K)?y(K):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),I(K))}function I(K){return K===null||Ee(K)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),y(K)):K===96&&K===h?n(K):(t.consume(K),I)}function U(K){return t.attempt(a,se,L)(K)}function L(K){return t.enter("lineEnding"),t.consume(K),t.exit("lineEnding"),z}function z(K){return l>0&&Ue(K)?$e(t,F,"linePrefix",l+1)(K):F(K)}function F(K){return K===null||Ee(K)?t.check(Kb,U,se)(K):(t.enter("codeFlowValue"),q(K))}function q(K){return K===null||Ee(K)?(t.exit("codeFlowValue"),F(K)):(t.consume(K),q)}function se(K){return t.exit("codeFenced"),e(K)}function he(K,P,R){let O=0;return A;function A(ae){return K.enter("lineEnding"),K.consume(ae),K.exit("lineEnding"),C}function C(ae){return K.enter("codeFencedFence"),Ue(ae)?$e(K,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ae):D(ae)}function D(ae){return ae===h?(K.enter("codeFencedFenceSequence"),N(ae)):R(ae)}function N(ae){return ae===h?(O++,K.consume(ae),N):O>=u?(K.exit("codeFencedFenceSequence"),Ue(ae)?$e(K,ue,"whitespace")(ae):ue(ae)):R(ae)}function ue(ae){return ae===null||Ee(ae)?(K.exit("codeFencedFence"),P(ae)):R(ae)}}}function S3(t,e,n){const r=this;return a;function a(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),l)}function l(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}const vp={name:"codeIndented",tokenize:C3},A3={partial:!0,tokenize:I3};function C3(t,e,n){const r=this;return a;function a(p){return t.enter("codeIndented"),$e(t,l,"linePrefix",5)(p)}function l(p){const _=r.events[r.events.length-1];return _&&_[1].type==="linePrefix"&&_[2].sliceSerialize(_[1],!0).length>=4?u(p):n(p)}function u(p){return p===null?m(p):Ee(p)?t.attempt(A3,u,m)(p):(t.enter("codeFlowValue"),h(p))}function h(p){return p===null||Ee(p)?(t.exit("codeFlowValue"),u(p)):(t.consume(p),h)}function m(p){return t.exit("codeIndented"),e(p)}}function I3(t,e,n){const r=this;return a;function a(u){return r.parser.lazy[r.now().line]?n(u):Ee(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),a):$e(t,l,"linePrefix",5)(u)}function l(u){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):Ee(u)?a(u):n(u)}}const k3={name:"codeText",previous:N3,resolve:R3,tokenize:D3};function R3(t){let e=t.length-4,n=3,r,a;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)a===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(a=r):(r===e||t[r][1].type==="lineEnding")&&(t[a][1].type="codeTextData",r!==a+2&&(t[a][1].end=t[r-1][1].end,t.splice(a+2,r-a-2),e-=r-a-2,r=a+2),a=void 0);return t}function N3(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function D3(t,e,n){let r=0,a,l;return u;function u(y){return t.enter("codeText"),t.enter("codeTextSequence"),h(y)}function h(y){return y===96?(t.consume(y),r++,h):(t.exit("codeTextSequence"),m(y))}function m(y){return y===null?n(y):y===32?(t.enter("space"),t.consume(y),t.exit("space"),m):y===96?(l=t.enter("codeTextSequence"),a=0,_(y)):Ee(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),m):(t.enter("codeTextData"),p(y))}function p(y){return y===null||y===32||y===96||Ee(y)?(t.exit("codeTextData"),m(y)):(t.consume(y),p)}function _(y){return y===96?(t.consume(y),a++,_):a===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(y)):(l.type="codeTextData",p(y))}}class O3{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const a=n||0;this.setCursor(Math.trunc(e));const l=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&hu(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),hu(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),hu(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);hu(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);hu(this.left,n.reverse())}}}function hu(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function zw(t){const e={};let n=-1,r,a,l,u,h,m,p;const _=new O3(t);for(;++n<_.length;){for(;n in e;)n=e[n];if(r=_.get(n),n&&r[1].type==="chunkFlow"&&_.get(n-1)[1].type==="listItemPrefix"&&(m=r[1]._tokenizer.events,l=0,l<m.length&&m[l][1].type==="lineEndingBlank"&&(l+=2),l<m.length&&m[l][1].type==="content"))for(;++l<m.length&&m[l][1].type!=="content";)m[l][1].type==="chunkText"&&(m[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,M3(_,n)),n=e[n],p=!0);else if(r[1]._container){for(l=n,a=void 0;l--;)if(u=_.get(l),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(a&&(_.get(a)[1].type="lineEndingBlank"),u[1].type="lineEnding",a=l);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;a&&(r[1].end={..._.get(a)[1].start},h=_.slice(a,n),h.unshift(r),_.splice(a,n-a+1,h))}}return Qn(t,0,Number.POSITIVE_INFINITY,_.slice(0)),!p}function M3(t,e){const n=t.get(e)[1],r=t.get(e)[2];let a=e-1;const l=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const h=u.events,m=[],p={};let _,y,E=-1,T=n,I=0,U=0;const L=[U];for(;T;){for(;t.get(++a)[1]!==T;);l.push(a),T._tokenizer||(_=r.sliceStream(T),T.next||_.push(null),y&&u.defineSkip(T.start),T._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(_),T._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),y=T,T=T.next}for(T=n;++E<h.length;)h[E][0]==="exit"&&h[E-1][0]==="enter"&&h[E][1].type===h[E-1][1].type&&h[E][1].start.line!==h[E][1].end.line&&(U=E+1,L.push(U),T._tokenizer=void 0,T.previous=void 0,T=T.next);for(u.events=[],T?(T._tokenizer=void 0,T.previous=void 0):L.pop(),E=L.length;E--;){const z=h.slice(L[E],L[E+1]),F=l.pop();m.push([F,F+z.length-1]),t.splice(F,2,z)}for(m.reverse(),E=-1;++E<m.length;)p[I+m[E][0]]=I+m[E][1],I+=m[E][1]-m[E][0]-1;return p}const P3={resolve:V3,tokenize:j3},L3={partial:!0,tokenize:z3};function V3(t){return zw(t),t}function j3(t,e){let n;return r;function r(h){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),a(h)}function a(h){return h===null?l(h):Ee(h)?t.check(L3,u,l)(h):(t.consume(h),a)}function l(h){return t.exit("chunkContent"),t.exit("content"),e(h)}function u(h){return t.consume(h),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function z3(t,e,n){const r=this;return a;function a(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),$e(t,l,"linePrefix")}function l(u){if(u===null||Ee(u))return n(u);const h=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):t.interrupt(r.parser.constructs.flow,n,e)(u)}}function Uw(t,e,n,r,a,l,u,h,m){const p=m||Number.POSITIVE_INFINITY;let _=0;return y;function y(z){return z===60?(t.enter(r),t.enter(a),t.enter(l),t.consume(z),t.exit(l),E):z===null||z===32||z===41||Af(z)?n(z):(t.enter(r),t.enter(u),t.enter(h),t.enter("chunkString",{contentType:"string"}),U(z))}function E(z){return z===62?(t.enter(l),t.consume(z),t.exit(l),t.exit(a),t.exit(r),e):(t.enter(h),t.enter("chunkString",{contentType:"string"}),T(z))}function T(z){return z===62?(t.exit("chunkString"),t.exit(h),E(z)):z===null||z===60||Ee(z)?n(z):(t.consume(z),z===92?I:T)}function I(z){return z===60||z===62||z===92?(t.consume(z),T):T(z)}function U(z){return!_&&(z===null||z===41||dt(z))?(t.exit("chunkString"),t.exit(h),t.exit(u),t.exit(r),e(z)):_<p&&z===40?(t.consume(z),_++,U):z===41?(t.consume(z),_--,U):z===null||z===32||z===40||Af(z)?n(z):(t.consume(z),z===92?L:U)}function L(z){return z===40||z===41||z===92?(t.consume(z),U):U(z)}}function Bw(t,e,n,r,a,l){const u=this;let h=0,m;return p;function p(T){return t.enter(r),t.enter(a),t.consume(T),t.exit(a),t.enter(l),_}function _(T){return h>999||T===null||T===91||T===93&&!m||T===94&&!h&&"_hiddenFootnoteSupport"in u.parser.constructs?n(T):T===93?(t.exit(l),t.enter(a),t.consume(T),t.exit(a),t.exit(r),e):Ee(T)?(t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),_):(t.enter("chunkString",{contentType:"string"}),y(T))}function y(T){return T===null||T===91||T===93||Ee(T)||h++>999?(t.exit("chunkString"),_(T)):(t.consume(T),m||(m=!Ue(T)),T===92?E:y)}function E(T){return T===91||T===92||T===93?(t.consume(T),h++,y):y(T)}}function Fw(t,e,n,r,a,l){let u;return h;function h(E){return E===34||E===39||E===40?(t.enter(r),t.enter(a),t.consume(E),t.exit(a),u=E===40?41:E,m):n(E)}function m(E){return E===u?(t.enter(a),t.consume(E),t.exit(a),t.exit(r),e):(t.enter(l),p(E))}function p(E){return E===u?(t.exit(l),m(u)):E===null?n(E):Ee(E)?(t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),$e(t,p,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),_(E))}function _(E){return E===u||E===null||Ee(E)?(t.exit("chunkString"),p(E)):(t.consume(E),E===92?y:_)}function y(E){return E===u||E===92?(t.consume(E),_):_(E)}}function Iu(t,e){let n;return r;function r(a){return Ee(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),n=!0,r):Ue(a)?$e(t,r,n?"linePrefix":"lineSuffix")(a):e(a)}}const U3={name:"definition",tokenize:F3},B3={partial:!0,tokenize:q3};function F3(t,e,n){const r=this;let a;return l;function l(T){return t.enter("definition"),u(T)}function u(T){return Bw.call(r,t,h,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(T)}function h(T){return a=Ci(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),T===58?(t.enter("definitionMarker"),t.consume(T),t.exit("definitionMarker"),m):n(T)}function m(T){return dt(T)?Iu(t,p)(T):p(T)}function p(T){return Uw(t,_,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(T)}function _(T){return t.attempt(B3,y,y)(T)}function y(T){return Ue(T)?$e(t,E,"whitespace")(T):E(T)}function E(T){return T===null||Ee(T)?(t.exit("definition"),r.parser.defined.push(a),e(T)):n(T)}}function q3(t,e,n){return r;function r(h){return dt(h)?Iu(t,a)(h):n(h)}function a(h){return Fw(t,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function l(h){return Ue(h)?$e(t,u,"whitespace")(h):u(h)}function u(h){return h===null||Ee(h)?e(h):n(h)}}const H3={name:"hardBreakEscape",tokenize:G3};function G3(t,e,n){return r;function r(l){return t.enter("hardBreakEscape"),t.consume(l),a}function a(l){return Ee(l)?(t.exit("hardBreakEscape"),e(l)):n(l)}}const K3={name:"headingAtx",resolve:Q3,tokenize:Y3};function Q3(t,e){let n=t.length-2,r=3,a,l;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},l={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Qn(t,r,n-r+1,[["enter",a,e],["enter",l,e],["exit",l,e],["exit",a,e]])),t}function Y3(t,e,n){let r=0;return a;function a(_){return t.enter("atxHeading"),l(_)}function l(_){return t.enter("atxHeadingSequence"),u(_)}function u(_){return _===35&&r++<6?(t.consume(_),u):_===null||dt(_)?(t.exit("atxHeadingSequence"),h(_)):n(_)}function h(_){return _===35?(t.enter("atxHeadingSequence"),m(_)):_===null||Ee(_)?(t.exit("atxHeading"),e(_)):Ue(_)?$e(t,h,"whitespace")(_):(t.enter("atxHeadingText"),p(_))}function m(_){return _===35?(t.consume(_),m):(t.exit("atxHeadingSequence"),h(_))}function p(_){return _===null||_===35||dt(_)?(t.exit("atxHeadingText"),h(_)):(t.consume(_),p)}}const $3=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Yb=["pre","script","style","textarea"],X3={concrete:!0,name:"htmlFlow",resolveTo:Z3,tokenize:e5},W3={partial:!0,tokenize:n5},J3={partial:!0,tokenize:t5};function Z3(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function e5(t,e,n){const r=this;let a,l,u,h,m;return p;function p(M){return _(M)}function _(M){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(M),y}function y(M){return M===33?(t.consume(M),E):M===47?(t.consume(M),l=!0,U):M===63?(t.consume(M),a=3,r.interrupt?e:V):Tn(M)?(t.consume(M),u=String.fromCharCode(M),L):n(M)}function E(M){return M===45?(t.consume(M),a=2,T):M===91?(t.consume(M),a=5,h=0,I):Tn(M)?(t.consume(M),a=4,r.interrupt?e:V):n(M)}function T(M){return M===45?(t.consume(M),r.interrupt?e:V):n(M)}function I(M){const Ie="CDATA[";return M===Ie.charCodeAt(h++)?(t.consume(M),h===Ie.length?r.interrupt?e:D:I):n(M)}function U(M){return Tn(M)?(t.consume(M),u=String.fromCharCode(M),L):n(M)}function L(M){if(M===null||M===47||M===62||dt(M)){const Ie=M===47,tt=u.toLowerCase();return!Ie&&!l&&Yb.includes(tt)?(a=1,r.interrupt?e(M):D(M)):$3.includes(u.toLowerCase())?(a=6,Ie?(t.consume(M),z):r.interrupt?e(M):D(M)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(M):l?F(M):q(M))}return M===45||_n(M)?(t.consume(M),u+=String.fromCharCode(M),L):n(M)}function z(M){return M===62?(t.consume(M),r.interrupt?e:D):n(M)}function F(M){return Ue(M)?(t.consume(M),F):A(M)}function q(M){return M===47?(t.consume(M),A):M===58||M===95||Tn(M)?(t.consume(M),se):Ue(M)?(t.consume(M),q):A(M)}function se(M){return M===45||M===46||M===58||M===95||_n(M)?(t.consume(M),se):he(M)}function he(M){return M===61?(t.consume(M),K):Ue(M)?(t.consume(M),he):q(M)}function K(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(t.consume(M),m=M,P):Ue(M)?(t.consume(M),K):R(M)}function P(M){return M===m?(t.consume(M),m=null,O):M===null||Ee(M)?n(M):(t.consume(M),P)}function R(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||dt(M)?he(M):(t.consume(M),R)}function O(M){return M===47||M===62||Ue(M)?q(M):n(M)}function A(M){return M===62?(t.consume(M),C):n(M)}function C(M){return M===null||Ee(M)?D(M):Ue(M)?(t.consume(M),C):n(M)}function D(M){return M===45&&a===2?(t.consume(M),Y):M===60&&a===1?(t.consume(M),oe):M===62&&a===4?(t.consume(M),We):M===63&&a===3?(t.consume(M),V):M===93&&a===5?(t.consume(M),Re):Ee(M)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(W3,Ve,N)(M)):M===null||Ee(M)?(t.exit("htmlFlowData"),N(M)):(t.consume(M),D)}function N(M){return t.check(J3,ue,Ve)(M)}function ue(M){return t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),ae}function ae(M){return M===null||Ee(M)?N(M):(t.enter("htmlFlowData"),D(M))}function Y(M){return M===45?(t.consume(M),V):D(M)}function oe(M){return M===47?(t.consume(M),u="",me):D(M)}function me(M){if(M===62){const Ie=u.toLowerCase();return Yb.includes(Ie)?(t.consume(M),We):D(M)}return Tn(M)&&u.length<8?(t.consume(M),u+=String.fromCharCode(M),me):D(M)}function Re(M){return M===93?(t.consume(M),V):D(M)}function V(M){return M===62?(t.consume(M),We):M===45&&a===2?(t.consume(M),V):D(M)}function We(M){return M===null||Ee(M)?(t.exit("htmlFlowData"),Ve(M)):(t.consume(M),We)}function Ve(M){return t.exit("htmlFlow"),e(M)}}function t5(t,e,n){const r=this;return a;function a(u){return Ee(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),l):n(u)}function l(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}function n5(t,e,n){return r;function r(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(sc,e,n)}}const i5={name:"htmlText",tokenize:r5};function r5(t,e,n){const r=this;let a,l,u;return h;function h(V){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(V),m}function m(V){return V===33?(t.consume(V),p):V===47?(t.consume(V),he):V===63?(t.consume(V),q):Tn(V)?(t.consume(V),R):n(V)}function p(V){return V===45?(t.consume(V),_):V===91?(t.consume(V),l=0,I):Tn(V)?(t.consume(V),F):n(V)}function _(V){return V===45?(t.consume(V),T):n(V)}function y(V){return V===null?n(V):V===45?(t.consume(V),E):Ee(V)?(u=y,oe(V)):(t.consume(V),y)}function E(V){return V===45?(t.consume(V),T):y(V)}function T(V){return V===62?Y(V):V===45?E(V):y(V)}function I(V){const We="CDATA[";return V===We.charCodeAt(l++)?(t.consume(V),l===We.length?U:I):n(V)}function U(V){return V===null?n(V):V===93?(t.consume(V),L):Ee(V)?(u=U,oe(V)):(t.consume(V),U)}function L(V){return V===93?(t.consume(V),z):U(V)}function z(V){return V===62?Y(V):V===93?(t.consume(V),z):U(V)}function F(V){return V===null||V===62?Y(V):Ee(V)?(u=F,oe(V)):(t.consume(V),F)}function q(V){return V===null?n(V):V===63?(t.consume(V),se):Ee(V)?(u=q,oe(V)):(t.consume(V),q)}function se(V){return V===62?Y(V):q(V)}function he(V){return Tn(V)?(t.consume(V),K):n(V)}function K(V){return V===45||_n(V)?(t.consume(V),K):P(V)}function P(V){return Ee(V)?(u=P,oe(V)):Ue(V)?(t.consume(V),P):Y(V)}function R(V){return V===45||_n(V)?(t.consume(V),R):V===47||V===62||dt(V)?O(V):n(V)}function O(V){return V===47?(t.consume(V),Y):V===58||V===95||Tn(V)?(t.consume(V),A):Ee(V)?(u=O,oe(V)):Ue(V)?(t.consume(V),O):Y(V)}function A(V){return V===45||V===46||V===58||V===95||_n(V)?(t.consume(V),A):C(V)}function C(V){return V===61?(t.consume(V),D):Ee(V)?(u=C,oe(V)):Ue(V)?(t.consume(V),C):O(V)}function D(V){return V===null||V===60||V===61||V===62||V===96?n(V):V===34||V===39?(t.consume(V),a=V,N):Ee(V)?(u=D,oe(V)):Ue(V)?(t.consume(V),D):(t.consume(V),ue)}function N(V){return V===a?(t.consume(V),a=void 0,ae):V===null?n(V):Ee(V)?(u=N,oe(V)):(t.consume(V),N)}function ue(V){return V===null||V===34||V===39||V===60||V===61||V===96?n(V):V===47||V===62||dt(V)?O(V):(t.consume(V),ue)}function ae(V){return V===47||V===62||dt(V)?O(V):n(V)}function Y(V){return V===62?(t.consume(V),t.exit("htmlTextData"),t.exit("htmlText"),e):n(V)}function oe(V){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(V),t.exit("lineEnding"),me}function me(V){return Ue(V)?$e(t,Re,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):Re(V)}function Re(V){return t.enter("htmlTextData"),u(V)}}const Ey={name:"labelEnd",resolveAll:l5,resolveTo:u5,tokenize:c5},s5={tokenize:h5},a5={tokenize:f5},o5={tokenize:d5};function l5(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",e+=a}}return t.length!==n.length&&Qn(t,0,t.length,n),t}function u5(t,e){let n=t.length,r=0,a,l,u,h;for(;n--;)if(a=t[n][1],l){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(l=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(u=n);const m={type:t[l][1].type==="labelLink"?"link":"image",start:{...t[l][1].start},end:{...t[t.length-1][1].end}},p={type:"label",start:{...t[l][1].start},end:{...t[u][1].end}},_={type:"labelText",start:{...t[l+r+2][1].end},end:{...t[u-2][1].start}};return h=[["enter",m,e],["enter",p,e]],h=ui(h,t.slice(l+1,l+r+3)),h=ui(h,[["enter",_,e]]),h=ui(h,Zf(e.parser.constructs.insideSpan.null,t.slice(l+r+4,u-3),e)),h=ui(h,[["exit",_,e],t[u-2],t[u-1],["exit",p,e]]),h=ui(h,t.slice(u+1)),h=ui(h,[["exit",m,e]]),Qn(t,l,t.length,h),t}function c5(t,e,n){const r=this;let a=r.events.length,l,u;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){l=r.events[a][1];break}return h;function h(E){return l?l._inactive?y(E):(u=r.parser.defined.includes(Ci(r.sliceSerialize({start:l.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(E),t.exit("labelMarker"),t.exit("labelEnd"),m):n(E)}function m(E){return E===40?t.attempt(s5,_,u?_:y)(E):E===91?t.attempt(a5,_,u?p:y)(E):u?_(E):y(E)}function p(E){return t.attempt(o5,_,y)(E)}function _(E){return e(E)}function y(E){return l._balanced=!0,n(E)}}function h5(t,e,n){return r;function r(y){return t.enter("resource"),t.enter("resourceMarker"),t.consume(y),t.exit("resourceMarker"),a}function a(y){return dt(y)?Iu(t,l)(y):l(y)}function l(y){return y===41?_(y):Uw(t,u,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function u(y){return dt(y)?Iu(t,m)(y):_(y)}function h(y){return n(y)}function m(y){return y===34||y===39||y===40?Fw(t,p,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):_(y)}function p(y){return dt(y)?Iu(t,_)(y):_(y)}function _(y){return y===41?(t.enter("resourceMarker"),t.consume(y),t.exit("resourceMarker"),t.exit("resource"),e):n(y)}}function f5(t,e,n){const r=this;return a;function a(h){return Bw.call(r,t,l,u,"reference","referenceMarker","referenceString")(h)}function l(h){return r.parser.defined.includes(Ci(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(h):n(h)}function u(h){return n(h)}}function d5(t,e,n){return r;function r(l){return t.enter("reference"),t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),a}function a(l){return l===93?(t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),t.exit("reference"),e):n(l)}}const m5={name:"labelStartImage",resolveAll:Ey.resolveAll,tokenize:p5};function p5(t,e,n){const r=this;return a;function a(h){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(h),t.exit("labelImageMarker"),l}function l(h){return h===91?(t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelImage"),u):n(h)}function u(h){return h===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(h):e(h)}}const g5={name:"labelStartLink",resolveAll:Ey.resolveAll,tokenize:y5};function y5(t,e,n){const r=this;return a;function a(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),l}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const bp={name:"lineEnding",tokenize:_5};function _5(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),$e(t,e,"linePrefix")}}const tf={name:"thematicBreak",tokenize:v5};function v5(t,e,n){let r=0,a;return l;function l(p){return t.enter("thematicBreak"),u(p)}function u(p){return a=p,h(p)}function h(p){return p===a?(t.enter("thematicBreakSequence"),m(p)):r>=3&&(p===null||Ee(p))?(t.exit("thematicBreak"),e(p)):n(p)}function m(p){return p===a?(t.consume(p),r++,m):(t.exit("thematicBreakSequence"),Ue(p)?$e(t,h,"whitespace")(p):h(p))}}const Nn={continuation:{tokenize:T5},exit:S5,name:"list",tokenize:x5},b5={partial:!0,tokenize:A5},E5={partial:!0,tokenize:w5};function x5(t,e,n){const r=this,a=r.events[r.events.length-1];let l=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,u=0;return h;function h(T){const I=r.containerState.type||(T===42||T===43||T===45?"listUnordered":"listOrdered");if(I==="listUnordered"?!r.containerState.marker||T===r.containerState.marker:cg(T)){if(r.containerState.type||(r.containerState.type=I,t.enter(I,{_container:!0})),I==="listUnordered")return t.enter("listItemPrefix"),T===42||T===45?t.check(tf,n,p)(T):p(T);if(!r.interrupt||T===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),m(T)}return n(T)}function m(T){return cg(T)&&++u<10?(t.consume(T),m):(!r.interrupt||u<2)&&(r.containerState.marker?T===r.containerState.marker:T===41||T===46)?(t.exit("listItemValue"),p(T)):n(T)}function p(T){return t.enter("listItemMarker"),t.consume(T),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||T,t.check(sc,r.interrupt?n:_,t.attempt(b5,E,y))}function _(T){return r.containerState.initialBlankLine=!0,l++,E(T)}function y(T){return Ue(T)?(t.enter("listItemPrefixWhitespace"),t.consume(T),t.exit("listItemPrefixWhitespace"),E):n(T)}function E(T){return r.containerState.size=l+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(T)}}function T5(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(sc,a,l);function a(h){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,$e(t,e,"listItemIndent",r.containerState.size+1)(h)}function l(h){return r.containerState.furtherBlankLines||!Ue(h)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(h)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(E5,e,u)(h))}function u(h){return r.containerState._closeFlow=!0,r.interrupt=void 0,$e(t,t.attempt(Nn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function w5(t,e,n){const r=this;return $e(t,a,"listItemIndent",r.containerState.size+1);function a(l){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?e(l):n(l)}}function S5(t){t.exit(this.containerState.type)}function A5(t,e,n){const r=this;return $e(t,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(l){const u=r.events[r.events.length-1];return!Ue(l)&&u&&u[1].type==="listItemPrefixWhitespace"?e(l):n(l)}}const $b={name:"setextUnderline",resolveTo:C5,tokenize:I5};function C5(t,e){let n=t.length,r,a,l;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(a=n)}else t[n][1].type==="content"&&t.splice(n,1),!l&&t[n][1].type==="definition"&&(l=n);const u={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[a][1].type="setextHeadingText",l?(t.splice(a,0,["enter",u,e]),t.splice(l+1,0,["exit",t[r][1],e]),t[r][1].end={...t[l][1].end}):t[r][1]=u,t.push(["exit",u,e]),t}function I5(t,e,n){const r=this;let a;return l;function l(p){let _=r.events.length,y;for(;_--;)if(r.events[_][1].type!=="lineEnding"&&r.events[_][1].type!=="linePrefix"&&r.events[_][1].type!=="content"){y=r.events[_][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||y)?(t.enter("setextHeadingLine"),a=p,u(p)):n(p)}function u(p){return t.enter("setextHeadingLineSequence"),h(p)}function h(p){return p===a?(t.consume(p),h):(t.exit("setextHeadingLineSequence"),Ue(p)?$e(t,m,"lineSuffix")(p):m(p))}function m(p){return p===null||Ee(p)?(t.exit("setextHeadingLine"),e(p)):n(p)}}const k5={tokenize:R5};function R5(t){const e=this,n=t.attempt(sc,r,t.attempt(this.parser.constructs.flowInitial,a,$e(t,t.attempt(this.parser.constructs.flow,a,t.attempt(P3,a)),"linePrefix")));return n;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEndingBlank"),t.consume(l),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function a(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const N5={resolveAll:Hw()},D5=qw("string"),O5=qw("text");function qw(t){return{resolveAll:Hw(t==="text"?M5:void 0),tokenize:e};function e(n){const r=this,a=this.parser.constructs[t],l=n.attempt(a,u,h);return u;function u(_){return p(_)?l(_):h(_)}function h(_){if(_===null){n.consume(_);return}return n.enter("data"),n.consume(_),m}function m(_){return p(_)?(n.exit("data"),l(_)):(n.consume(_),m)}function p(_){if(_===null)return!0;const y=a[_];let E=-1;if(y)for(;++E<y.length;){const T=y[E];if(!T.previous||T.previous.call(r,r.previous))return!0}return!1}}}function Hw(t){return e;function e(n,r){let a=-1,l;for(;++a<=n.length;)l===void 0?n[a]&&n[a][1].type==="data"&&(l=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==l+2&&(n[l][1].end=n[a-1][1].end,n.splice(l+2,a-l-2),a=l+2),l=void 0);return t?t(n,r):n}}function M5(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],a=e.sliceStream(r);let l=a.length,u=-1,h=0,m;for(;l--;){const p=a[l];if(typeof p=="string"){for(u=p.length;p.charCodeAt(u-1)===32;)h++,u--;if(u)break;u=-1}else if(p===-2)m=!0,h++;else if(p!==-1){l++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(h=0),h){const p={type:n===t.length||m||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?u:r.start._bufferIndex+u,_index:r.start._index+l,line:r.end.line,column:r.end.column-h,offset:r.end.offset-h},end:{...r.end}};r.end={...p.start},r.start.offset===r.end.offset?Object.assign(r,p):(t.splice(n,0,["enter",p,e],["exit",p,e]),n+=2)}n++}return t}const P5={42:Nn,43:Nn,45:Nn,48:Nn,49:Nn,50:Nn,51:Nn,52:Nn,53:Nn,54:Nn,55:Nn,56:Nn,57:Nn,62:Lw},L5={91:U3},V5={[-2]:vp,[-1]:vp,32:vp},j5={35:K3,42:tf,45:[$b,tf],60:X3,61:$b,95:tf,96:Qb,126:Qb},z5={38:jw,92:Vw},U5={[-5]:bp,[-4]:bp,[-3]:bp,33:m5,38:jw,42:hg,60:[g3,i5],91:g5,92:[H3,Vw],93:Ey,95:hg,96:k3},B5={null:[hg,N5]},F5={null:[42,95]},q5={null:[]},H5=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:F5,contentInitial:L5,disable:q5,document:P5,flow:j5,flowInitial:V5,insideSpan:B5,string:z5,text:U5},Symbol.toStringTag,{value:"Module"}));function G5(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},l=[];let u=[],h=[];const m={attempt:P(he),check:P(K),consume:F,enter:q,exit:se,interrupt:P(K,{interrupt:!0})},p={code:null,containerState:{},defineSkip:U,events:[],now:I,parser:t,previous:null,sliceSerialize:E,sliceStream:T,write:y};let _=e.tokenize.call(p,m);return e.resolveAll&&l.push(e),p;function y(C){return u=ui(u,C),L(),u[u.length-1]!==null?[]:(R(e,0),p.events=Zf(l,p.events,p),p.events)}function E(C,D){return Q5(T(C),D)}function T(C){return K5(u,C)}function I(){const{_bufferIndex:C,_index:D,line:N,column:ue,offset:ae}=r;return{_bufferIndex:C,_index:D,line:N,column:ue,offset:ae}}function U(C){a[C.line]=C.column,A()}function L(){let C;for(;r._index<u.length;){const D=u[r._index];if(typeof D=="string")for(C=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===C&&r._bufferIndex<D.length;)z(D.charCodeAt(r._bufferIndex));else z(D)}}function z(C){_=_(C)}function F(C){Ee(C)?(r.line++,r.column=1,r.offset+=C===-3?2:1,A()):C!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),p.previous=C}function q(C,D){const N=D||{};return N.type=C,N.start=I(),p.events.push(["enter",N,p]),h.push(N),N}function se(C){const D=h.pop();return D.end=I(),p.events.push(["exit",D,p]),D}function he(C,D){R(C,D.from)}function K(C,D){D.restore()}function P(C,D){return N;function N(ue,ae,Y){let oe,me,Re,V;return Array.isArray(ue)?Ve(ue):"tokenize"in ue?Ve([ue]):We(ue);function We(Xe){return _t;function _t(At){const Et=At!==null&&Xe[At],Yn=At!==null&&Xe.null,fi=[...Array.isArray(Et)?Et:Et?[Et]:[],...Array.isArray(Yn)?Yn:Yn?[Yn]:[]];return Ve(fi)(At)}}function Ve(Xe){return oe=Xe,me=0,Xe.length===0?Y:M(Xe[me])}function M(Xe){return _t;function _t(At){return V=O(),Re=Xe,Xe.partial||(p.currentConstruct=Xe),Xe.name&&p.parser.constructs.disable.null.includes(Xe.name)?tt():Xe.tokenize.call(D?Object.assign(Object.create(p),D):p,m,Ie,tt)(At)}}function Ie(Xe){return C(Re,V),ae}function tt(Xe){return V.restore(),++me<oe.length?M(oe[me]):Y}}}function R(C,D){C.resolveAll&&!l.includes(C)&&l.push(C),C.resolve&&Qn(p.events,D,p.events.length-D,C.resolve(p.events.slice(D),p)),C.resolveTo&&(p.events=C.resolveTo(p.events,p))}function O(){const C=I(),D=p.previous,N=p.currentConstruct,ue=p.events.length,ae=Array.from(h);return{from:ue,restore:Y};function Y(){r=C,p.previous=D,p.currentConstruct=N,p.events.length=ue,h=ae,A()}}function A(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function K5(t,e){const n=e.start._index,r=e.start._bufferIndex,a=e.end._index,l=e.end._bufferIndex;let u;if(n===a)u=[t[n].slice(r,l)];else{if(u=t.slice(n,a),r>-1){const h=u[0];typeof h=="string"?u[0]=h.slice(r):u.shift()}l>0&&u.push(t[a].slice(0,l))}return u}function Q5(t,e){let n=-1;const r=[];let a;for(;++n<t.length;){const l=t[n];let u;if(typeof l=="string")u=l;else switch(l){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&a)continue;u=" ";break}default:u=String.fromCharCode(l)}a=l===-2,r.push(u)}return r.join("")}function Y5(t){const r={constructs:Mw([H5,...(t||{}).extensions||[]]),content:a(u3),defined:[],document:a(h3),flow:a(k5),lazy:{},string:a(D5),text:a(O5)};return r;function a(l){return u;function u(h){return G5(r,l,h)}}}function $5(t){for(;!zw(t););return t}const Xb=/[\0\t\n\r]/g;function X5(){let t=1,e="",n=!0,r;return a;function a(l,u,h){const m=[];let p,_,y,E,T;for(l=e+(typeof l=="string"?l.toString():new TextDecoder(u||void 0).decode(l)),y=0,e="",n&&(l.charCodeAt(0)===65279&&y++,n=void 0);y<l.length;){if(Xb.lastIndex=y,p=Xb.exec(l),E=p&&p.index!==void 0?p.index:l.length,T=l.charCodeAt(E),!p){e=l.slice(y);break}if(T===10&&y===E&&r)m.push(-3),r=void 0;else switch(r&&(m.push(-5),r=void 0),y<E&&(m.push(l.slice(y,E)),t+=E-y),T){case 0:{m.push(65533),t++;break}case 9:{for(_=Math.ceil(t/4)*4,m.push(-2);t++<_;)m.push(-1);break}case 10:{m.push(-4),t=1;break}default:r=!0,t=1}y=E+1}return h&&(r&&m.push(-5),e&&m.push(e),m.push(null)),m}}const W5=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function J5(t){return t.replace(W5,Z5)}function Z5(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),l=a===120||a===88;return Pw(n.slice(l?2:1),l?16:10)}return by(n)||t}const Gw={}.hasOwnProperty;function e6(t,e,n){return typeof e!="string"&&(n=e,e=void 0),t6(n)($5(Y5(n).document().write(X5()(t,e,!0))))}function t6(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(xt),autolinkProtocol:O,autolinkEmail:O,atxHeading:l(Fr),blockQuote:l(Yn),characterEscape:O,characterReference:O,codeFenced:l(fi),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(fi,u),codeText:l(Ur,u),codeTextData:O,data:O,codeFlowValue:O,definition:l(Br),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l($n),hardBreakEscape:l(Ii),hardBreakTrailing:l(Ii),htmlFlow:l(qr,u),htmlFlowData:O,htmlText:l(qr,u),htmlTextData:O,image:l(Ys),label:u,link:l(xt),listItem:l(ki),listItemValue:E,listOrdered:l(Ct,y),listUnordered:l(Ct),paragraph:l(ll),reference:M,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(Fr),strong:l(Ua),thematicBreak:l(lr)},exit:{atxHeading:m(),atxHeadingSequence:he,autolink:m(),autolinkEmail:Et,autolinkProtocol:At,blockQuote:m(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:tt,characterReferenceMarkerNumeric:tt,characterReferenceValue:Xe,characterReference:_t,codeFenced:m(L),codeFencedFence:U,codeFencedFenceInfo:T,codeFencedFenceMeta:I,codeFlowValue:A,codeIndented:m(z),codeText:m(ae),codeTextData:A,data:A,definition:m(),definitionDestinationString:se,definitionLabelString:F,definitionTitleString:q,emphasis:m(),hardBreakEscape:m(D),hardBreakTrailing:m(D),htmlFlow:m(N),htmlFlowData:A,htmlText:m(ue),htmlTextData:A,image:m(oe),label:Re,labelText:me,lineEnding:C,link:m(Y),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:Ie,resourceDestinationString:V,resourceTitleString:We,resource:Ve,setextHeading:m(R),setextHeadingLineSequence:P,setextHeadingText:K,strong:m(),thematicBreak:m()}};Kw(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ee){let fe={type:"root",children:[]};const be={stack:[fe],tokenStack:[],config:e,enter:h,exit:p,buffer:u,resume:_,data:n},Le=[];let Je=-1;for(;++Je<ee.length;)if(ee[Je][1].type==="listOrdered"||ee[Je][1].type==="listUnordered")if(ee[Je][0]==="enter")Le.push(Je);else{const fn=Le.pop();Je=a(ee,fn,Je)}for(Je=-1;++Je<ee.length;){const fn=e[ee[Je][0]];Gw.call(fn,ee[Je][1].type)&&fn[ee[Je][1].type].call(Object.assign({sliceSerialize:ee[Je][2].sliceSerialize},be),ee[Je][1])}if(be.tokenStack.length>0){const fn=be.tokenStack[be.tokenStack.length-1];(fn[1]||Wb).call(be,void 0,fn[0])}for(fe.position={start:xs(ee.length>0?ee[0][1].start:{line:1,column:1,offset:0}),end:xs(ee.length>0?ee[ee.length-2][1].end:{line:1,column:1,offset:0})},Je=-1;++Je<e.transforms.length;)fe=e.transforms[Je](fe)||fe;return fe}function a(ee,fe,be){let Le=fe-1,Je=-1,fn=!1,Xn,Rt,Tt,Xt;for(;++Le<=be;){const Ke=ee[Le];switch(Ke[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ke[0]==="enter"?Je++:Je--,Xt=void 0;break}case"lineEndingBlank":{Ke[0]==="enter"&&(Xn&&!Xt&&!Je&&!Tt&&(Tt=Le),Xt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Xt=void 0}if(!Je&&Ke[0]==="enter"&&Ke[1].type==="listItemPrefix"||Je===-1&&Ke[0]==="exit"&&(Ke[1].type==="listUnordered"||Ke[1].type==="listOrdered")){if(Xn){let di=Le;for(Rt=void 0;di--;){const dn=ee[di];if(dn[1].type==="lineEnding"||dn[1].type==="lineEndingBlank"){if(dn[0]==="exit")continue;Rt&&(ee[Rt][1].type="lineEndingBlank",fn=!0),dn[1].type="lineEnding",Rt=di}else if(!(dn[1].type==="linePrefix"||dn[1].type==="blockQuotePrefix"||dn[1].type==="blockQuotePrefixWhitespace"||dn[1].type==="blockQuoteMarker"||dn[1].type==="listItemIndent"))break}Tt&&(!Rt||Tt<Rt)&&(Xn._spread=!0),Xn.end=Object.assign({},Rt?ee[Rt][1].start:Ke[1].end),ee.splice(Rt||Le,0,["exit",Xn,Ke[2]]),Le++,be++}if(Ke[1].type==="listItemPrefix"){const di={type:"listItem",_spread:!1,start:Object.assign({},Ke[1].start),end:void 0};Xn=di,ee.splice(Le,0,["enter",di,Ke[2]]),Le++,be++,Tt=void 0,Xt=!0}}}return ee[fe][1]._spread=fn,be}function l(ee,fe){return be;function be(Le){h.call(this,ee(Le),Le),fe&&fe.call(this,Le)}}function u(){this.stack.push({type:"fragment",children:[]})}function h(ee,fe,be){this.stack[this.stack.length-1].children.push(ee),this.stack.push(ee),this.tokenStack.push([fe,be||void 0]),ee.position={start:xs(fe.start),end:void 0}}function m(ee){return fe;function fe(be){ee&&ee.call(this,be),p.call(this,be)}}function p(ee,fe){const be=this.stack.pop(),Le=this.tokenStack.pop();if(Le)Le[0].type!==ee.type&&(fe?fe.call(this,ee,Le[0]):(Le[1]||Wb).call(this,ee,Le[0]));else throw new Error("Cannot close `"+ee.type+"` ("+Cu({start:ee.start,end:ee.end})+"): its not open");be.position.end=xs(ee.end)}function _(){return vy(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function E(ee){if(this.data.expectingFirstListItemValue){const fe=this.stack[this.stack.length-2];fe.start=Number.parseInt(this.sliceSerialize(ee),10),this.data.expectingFirstListItemValue=void 0}}function T(){const ee=this.resume(),fe=this.stack[this.stack.length-1];fe.lang=ee}function I(){const ee=this.resume(),fe=this.stack[this.stack.length-1];fe.meta=ee}function U(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function L(){const ee=this.resume(),fe=this.stack[this.stack.length-1];fe.value=ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function z(){const ee=this.resume(),fe=this.stack[this.stack.length-1];fe.value=ee.replace(/(\r?\n|\r)$/g,"")}function F(ee){const fe=this.resume(),be=this.stack[this.stack.length-1];be.label=fe,be.identifier=Ci(this.sliceSerialize(ee)).toLowerCase()}function q(){const ee=this.resume(),fe=this.stack[this.stack.length-1];fe.title=ee}function se(){const ee=this.resume(),fe=this.stack[this.stack.length-1];fe.url=ee}function he(ee){const fe=this.stack[this.stack.length-1];if(!fe.depth){const be=this.sliceSerialize(ee).length;fe.depth=be}}function K(){this.data.setextHeadingSlurpLineEnding=!0}function P(ee){const fe=this.stack[this.stack.length-1];fe.depth=this.sliceSerialize(ee).codePointAt(0)===61?1:2}function R(){this.data.setextHeadingSlurpLineEnding=void 0}function O(ee){const be=this.stack[this.stack.length-1].children;let Le=be[be.length-1];(!Le||Le.type!=="text")&&(Le=tn(),Le.position={start:xs(ee.start),end:void 0},be.push(Le)),this.stack.push(Le)}function A(ee){const fe=this.stack.pop();fe.value+=this.sliceSerialize(ee),fe.position.end=xs(ee.end)}function C(ee){const fe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const be=fe.children[fe.children.length-1];be.position.end=xs(ee.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(fe.type)&&(O.call(this,ee),A.call(this,ee))}function D(){this.data.atHardBreak=!0}function N(){const ee=this.resume(),fe=this.stack[this.stack.length-1];fe.value=ee}function ue(){const ee=this.resume(),fe=this.stack[this.stack.length-1];fe.value=ee}function ae(){const ee=this.resume(),fe=this.stack[this.stack.length-1];fe.value=ee}function Y(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const fe=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=fe,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function oe(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const fe=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=fe,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function me(ee){const fe=this.sliceSerialize(ee),be=this.stack[this.stack.length-2];be.label=J5(fe),be.identifier=Ci(fe).toLowerCase()}function Re(){const ee=this.stack[this.stack.length-1],fe=this.resume(),be=this.stack[this.stack.length-1];if(this.data.inReference=!0,be.type==="link"){const Le=ee.children;be.children=Le}else be.alt=fe}function V(){const ee=this.resume(),fe=this.stack[this.stack.length-1];fe.url=ee}function We(){const ee=this.resume(),fe=this.stack[this.stack.length-1];fe.title=ee}function Ve(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function Ie(ee){const fe=this.resume(),be=this.stack[this.stack.length-1];be.label=fe,be.identifier=Ci(this.sliceSerialize(ee)).toLowerCase(),this.data.referenceType="full"}function tt(ee){this.data.characterReferenceType=ee.type}function Xe(ee){const fe=this.sliceSerialize(ee),be=this.data.characterReferenceType;let Le;be?(Le=Pw(fe,be==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Le=by(fe);const Je=this.stack[this.stack.length-1];Je.value+=Le}function _t(ee){const fe=this.stack.pop();fe.position.end=xs(ee.end)}function At(ee){A.call(this,ee);const fe=this.stack[this.stack.length-1];fe.url=this.sliceSerialize(ee)}function Et(ee){A.call(this,ee);const fe=this.stack[this.stack.length-1];fe.url="mailto:"+this.sliceSerialize(ee)}function Yn(){return{type:"blockquote",children:[]}}function fi(){return{type:"code",lang:null,meta:null,value:""}}function Ur(){return{type:"inlineCode",value:""}}function Br(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $n(){return{type:"emphasis",children:[]}}function Fr(){return{type:"heading",depth:0,children:[]}}function Ii(){return{type:"break"}}function qr(){return{type:"html",value:""}}function Ys(){return{type:"image",title:null,url:"",alt:null}}function xt(){return{type:"link",title:null,url:"",children:[]}}function Ct(ee){return{type:"list",ordered:ee.type==="listOrdered",start:null,spread:ee._spread,children:[]}}function ki(ee){return{type:"listItem",spread:ee._spread,checked:null,children:[]}}function ll(){return{type:"paragraph",children:[]}}function Ua(){return{type:"strong",children:[]}}function tn(){return{type:"text",value:""}}function lr(){return{type:"thematicBreak"}}}function xs(t){return{line:t.line,column:t.column,offset:t.offset}}function Kw(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?Kw(t,r):n6(t,r)}}function n6(t,e){let n;for(n in e)if(Gw.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function Wb(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Cu({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Cu({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Cu({start:e.start,end:e.end})+") is still open")}function i6(t){const e=this;e.parser=n;function n(r){return e6(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function r6(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function s6(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function a6(t,e){const n=e.value?e.value+`
`:"",r={},a=e.lang?e.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let l={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(l.data={meta:e.meta}),t.patch(e,l),l=t.applyData(e,l),l={type:"element",tagName:"pre",properties:{},children:[l]},t.patch(e,l),l}function o6(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function l6(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function u6(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),a=al(r.toLowerCase()),l=t.footnoteOrder.indexOf(r);let u,h=t.footnoteCounts.get(r);h===void 0?(h=0,t.footnoteOrder.push(r),u=t.footnoteOrder.length):u=l+1,h+=1,t.footnoteCounts.set(r,h);const m={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,m);const p={type:"element",tagName:"sup",properties:{},children:[m]};return t.patch(e,p),t.applyData(e,p)}function c6(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function h6(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function Qw(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const a=t.all(e),l=a[0];l&&l.type==="text"?l.value="["+l.value:a.unshift({type:"text",value:"["});const u=a[a.length-1];return u&&u.type==="text"?u.value+=r:a.push({type:"text",value:r}),a}function f6(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Qw(t,e);const a={src:al(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const l={type:"element",tagName:"img",properties:a,children:[]};return t.patch(e,l),t.applyData(e,l)}function d6(t,e){const n={src:al(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function m6(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function p6(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Qw(t,e);const a={href:al(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const l={type:"element",tagName:"a",properties:a,children:t.all(e)};return t.patch(e,l),t.applyData(e,l)}function g6(t,e){const n={href:al(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function y6(t,e,n){const r=t.all(e),a=n?_6(n):Yw(e),l={},u=[];if(typeof e.checked=="boolean"){const _=r[0];let y;_&&_.type==="element"&&_.tagName==="p"?y=_:(y={type:"element",tagName:"p",properties:{},children:[]},r.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let h=-1;for(;++h<r.length;){const _=r[h];(a||h!==0||_.type!=="element"||_.tagName!=="p")&&u.push({type:"text",value:`
`}),_.type==="element"&&_.tagName==="p"&&!a?u.push(..._.children):u.push(_)}const m=r[r.length-1];m&&(a||m.type!=="element"||m.tagName!=="p")&&u.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:l,children:u};return t.patch(e,p),t.applyData(e,p)}function _6(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=Yw(n[r])}return e}function Yw(t){const e=t.spread;return e??t.children.length>1}function v6(t,e){const n={},r=t.all(e);let a=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++a<r.length;){const u=r[a];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,l),t.applyData(e,l)}function b6(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function E6(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function x6(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function T6(t,e){const n=t.all(e),r=n.shift(),a=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],u),a.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},h=py(e.children[1]),m=Cw(e.children[e.children.length-1]);h&&m&&(u.position={start:h,end:m}),a.push(u)}const l={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(e,l),t.applyData(e,l)}function w6(t,e,n){const r=n?n.children:void 0,l=(r?r.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,h=u?u.length:e.children.length;let m=-1;const p=[];for(;++m<h;){const y=e.children[m],E={},T=u?u[m]:void 0;T&&(E.align=T);let I={type:"element",tagName:l,properties:E,children:[]};y&&(I.children=t.all(y),t.patch(y,I),I=t.applyData(y,I)),p.push(I)}const _={type:"element",tagName:"tr",properties:{},children:t.wrap(p,!0)};return t.patch(e,_),t.applyData(e,_)}function S6(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Jb=9,Zb=32;function A6(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),a=0;const l=[];for(;r;)l.push(eE(e.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(e);return l.push(eE(e.slice(a),a>0,!1)),l.join("")}function eE(t,e,n){let r=0,a=t.length;if(e){let l=t.codePointAt(r);for(;l===Jb||l===Zb;)r++,l=t.codePointAt(r)}if(n){let l=t.codePointAt(a-1);for(;l===Jb||l===Zb;)a--,l=t.codePointAt(a-1)}return a>r?t.slice(r,a):""}function C6(t,e){const n={type:"text",value:A6(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function I6(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const k6={blockquote:r6,break:s6,code:a6,delete:o6,emphasis:l6,footnoteReference:u6,heading:c6,html:h6,imageReference:f6,image:d6,inlineCode:m6,linkReference:p6,link:g6,listItem:y6,list:v6,paragraph:b6,root:E6,strong:x6,table:T6,tableCell:S6,tableRow:w6,text:C6,thematicBreak:I6,toml:Bh,yaml:Bh,definition:Bh,footnoteDefinition:Bh};function Bh(){}const $w=-1,ed=0,ku=1,Cf=2,xy=3,Ty=4,wy=5,Sy=6,Xw=7,Ww=8,tE=typeof self=="object"?self:globalThis,R6=(t,e)=>{const n=(a,l)=>(t.set(l,a),a),r=a=>{if(t.has(a))return t.get(a);const[l,u]=e[a];switch(l){case ed:case $w:return n(u,a);case ku:{const h=n([],a);for(const m of u)h.push(r(m));return h}case Cf:{const h=n({},a);for(const[m,p]of u)h[r(m)]=r(p);return h}case xy:return n(new Date(u),a);case Ty:{const{source:h,flags:m}=u;return n(new RegExp(h,m),a)}case wy:{const h=n(new Map,a);for(const[m,p]of u)h.set(r(m),r(p));return h}case Sy:{const h=n(new Set,a);for(const m of u)h.add(r(m));return h}case Xw:{const{name:h,message:m}=u;return n(new tE[h](m),a)}case Ww:return n(BigInt(u),a);case"BigInt":return n(Object(BigInt(u)),a);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:h}=new Uint8Array(u);return n(new DataView(h),u)}}return n(new tE[l](u),a)};return r},nE=t=>R6(new Map,t)(0),ko="",{toString:N6}={},{keys:D6}=Object,fu=t=>{const e=typeof t;if(e!=="object"||!t)return[ed,e];const n=N6.call(t).slice(8,-1);switch(n){case"Array":return[ku,ko];case"Object":return[Cf,ko];case"Date":return[xy,ko];case"RegExp":return[Ty,ko];case"Map":return[wy,ko];case"Set":return[Sy,ko];case"DataView":return[ku,n]}return n.includes("Array")?[ku,n]:n.includes("Error")?[Xw,n]:[Cf,n]},Fh=([t,e])=>t===ed&&(e==="function"||e==="symbol"),O6=(t,e,n,r)=>{const a=(u,h)=>{const m=r.push(u)-1;return n.set(h,m),m},l=u=>{if(n.has(u))return n.get(u);let[h,m]=fu(u);switch(h){case ed:{let _=u;switch(m){case"bigint":h=Ww,_=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+m);_=null;break;case"undefined":return a([$w],u)}return a([h,_],u)}case ku:{if(m){let E=u;return m==="DataView"?E=new Uint8Array(u.buffer):m==="ArrayBuffer"&&(E=new Uint8Array(u)),a([m,[...E]],u)}const _=[],y=a([h,_],u);for(const E of u)_.push(l(E));return y}case Cf:{if(m)switch(m){case"BigInt":return a([m,u.toString()],u);case"Boolean":case"Number":case"String":return a([m,u.valueOf()],u)}if(e&&"toJSON"in u)return l(u.toJSON());const _=[],y=a([h,_],u);for(const E of D6(u))(t||!Fh(fu(u[E])))&&_.push([l(E),l(u[E])]);return y}case xy:return a([h,u.toISOString()],u);case Ty:{const{source:_,flags:y}=u;return a([h,{source:_,flags:y}],u)}case wy:{const _=[],y=a([h,_],u);for(const[E,T]of u)(t||!(Fh(fu(E))||Fh(fu(T))))&&_.push([l(E),l(T)]);return y}case Sy:{const _=[],y=a([h,_],u);for(const E of u)(t||!Fh(fu(E)))&&_.push(l(E));return y}}const{message:p}=u;return a([h,{name:m,message:p}],u)};return l},iE=(t,{json:e,lossy:n}={})=>{const r=[];return O6(!(e||n),!!e,new Map,r)(t),r},If=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?nE(iE(t,e)):structuredClone(t):(t,e)=>nE(iE(t,e));function M6(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function P6(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function L6(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||M6,r=t.options.footnoteBackLabel||P6,a=t.options.footnoteLabel||"Footnotes",l=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let m=-1;for(;++m<t.footnoteOrder.length;){const p=t.footnoteById.get(t.footnoteOrder[m]);if(!p)continue;const _=t.all(p),y=String(p.identifier).toUpperCase(),E=al(y.toLowerCase());let T=0;const I=[],U=t.footnoteCounts.get(y);for(;U!==void 0&&++T<=U;){I.length>0&&I.push({type:"text",value:" "});let F=typeof n=="string"?n:n(m,T);typeof F=="string"&&(F={type:"text",value:F}),I.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+E+(T>1?"-"+T:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(m,T),className:["data-footnote-backref"]},children:Array.isArray(F)?F:[F]})}const L=_[_.length-1];if(L&&L.type==="element"&&L.tagName==="p"){const F=L.children[L.children.length-1];F&&F.type==="text"?F.value+=" ":L.children.push({type:"text",value:" "}),L.children.push(...I)}else _.push(...I);const z={type:"element",tagName:"li",properties:{id:e+"fn-"+E},children:t.wrap(_,!0)};t.patch(p,z),h.push(z)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...If(u),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(h,!0)},{type:"text",value:`
`}]}}const td=(function(t){if(t==null)return U6;if(typeof t=="function")return nd(t);if(typeof t=="object")return Array.isArray(t)?V6(t):j6(t);if(typeof t=="string")return z6(t);throw new Error("Expected function, string, or object as test")});function V6(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=td(t[n]);return nd(r);function r(...a){let l=-1;for(;++l<e.length;)if(e[l].apply(this,a))return!0;return!1}}function j6(t){const e=t;return nd(n);function n(r){const a=r;let l;for(l in t)if(a[l]!==e[l])return!1;return!0}}function z6(t){return nd(e);function e(n){return n&&n.type===t}}function nd(t){return e;function e(n,r,a){return!!(B6(n)&&t.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function U6(){return!0}function B6(t){return t!==null&&typeof t=="object"&&"type"in t}const Jw=[],F6=!0,fg=!1,q6="skip";function Zw(t,e,n,r){let a;typeof e=="function"&&typeof n!="function"?(r=n,n=e):a=e;const l=td(a),u=r?-1:1;h(t,void 0,[])();function h(m,p,_){const y=m&&typeof m=="object"?m:{};if(typeof y.type=="string"){const T=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(E,"name",{value:"node ("+(m.type+(T?"<"+T+">":""))+")"})}return E;function E(){let T=Jw,I,U,L;if((!e||l(m,p,_[_.length-1]||void 0))&&(T=H6(n(m,_)),T[0]===fg))return T;if("children"in m&&m.children){const z=m;if(z.children&&T[0]!==q6)for(U=(r?z.children.length:-1)+u,L=_.concat(z);U>-1&&U<z.children.length;){const F=z.children[U];if(I=h(F,U,L)(),I[0]===fg)return I;U=typeof I[1]=="number"?I[1]:U+u}}return T}}}function H6(t){return Array.isArray(t)?t:typeof t=="number"?[F6,t]:t==null?Jw:[t]}function Ay(t,e,n,r){let a,l,u;typeof e=="function"&&typeof n!="function"?(l=void 0,u=e,a=n):(l=e,u=n,a=r),Zw(t,l,h,a);function h(m,p){const _=p[p.length-1],y=_?_.children.indexOf(m):void 0;return u(m,y,_)}}const dg={}.hasOwnProperty,G6={};function K6(t,e){const n=e||G6,r=new Map,a=new Map,l=new Map,u={...k6,...n.handlers},h={all:p,applyData:Y6,definitionById:r,footnoteById:a,footnoteCounts:l,footnoteOrder:[],handlers:u,one:m,options:n,patch:Q6,wrap:X6};return Ay(t,function(_){if(_.type==="definition"||_.type==="footnoteDefinition"){const y=_.type==="definition"?r:a,E=String(_.identifier).toUpperCase();y.has(E)||y.set(E,_)}}),h;function m(_,y){const E=_.type,T=h.handlers[E];if(dg.call(h.handlers,E)&&T)return T(h,_,y);if(h.options.passThrough&&h.options.passThrough.includes(E)){if("children"in _){const{children:U,...L}=_,z=If(L);return z.children=h.all(_),z}return If(_)}return(h.options.unknownHandler||$6)(h,_,y)}function p(_){const y=[];if("children"in _){const E=_.children;let T=-1;for(;++T<E.length;){const I=h.one(E[T],_);if(I){if(T&&E[T-1].type==="break"&&(!Array.isArray(I)&&I.type==="text"&&(I.value=rE(I.value)),!Array.isArray(I)&&I.type==="element")){const U=I.children[0];U&&U.type==="text"&&(U.value=rE(U.value))}Array.isArray(I)?y.push(...I):y.push(I)}}}return y}}function Q6(t,e){t.position&&(e.position=PM(t))}function Y6(t,e){let n=e;if(t&&t.data){const r=t.data.hName,a=t.data.hChildren,l=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&l&&Object.assign(n.properties,If(l)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function $6(t,e){const n=e.data||{},r="value"in e&&!(dg.call(n,"hProperties")||dg.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function X6(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function rE(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function sE(t,e){const n=K6(t,e),r=n.one(t,void 0),a=L6(n),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&l.children.push({type:"text",value:`
`},a),l}function W6(t,e){return t&&"run"in t?async function(n,r){const a=sE(n,{file:r,...e});await t.run(a,r)}:function(n,r){return sE(n,{file:r,...t||e})}}function aE(t){if(t)throw t}var Ep,oE;function J6(){if(oE)return Ep;oE=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(p){return typeof Array.isArray=="function"?Array.isArray(p):e.call(p)==="[object Array]"},l=function(p){if(!p||e.call(p)!=="[object Object]")return!1;var _=t.call(p,"constructor"),y=p.constructor&&p.constructor.prototype&&t.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!_&&!y)return!1;var E;for(E in p);return typeof E>"u"||t.call(p,E)},u=function(p,_){n&&_.name==="__proto__"?n(p,_.name,{enumerable:!0,configurable:!0,value:_.newValue,writable:!0}):p[_.name]=_.newValue},h=function(p,_){if(_==="__proto__")if(t.call(p,_)){if(r)return r(p,_).value}else return;return p[_]};return Ep=function m(){var p,_,y,E,T,I,U=arguments[0],L=1,z=arguments.length,F=!1;for(typeof U=="boolean"&&(F=U,U=arguments[1]||{},L=2),(U==null||typeof U!="object"&&typeof U!="function")&&(U={});L<z;++L)if(p=arguments[L],p!=null)for(_ in p)y=h(U,_),E=h(p,_),U!==E&&(F&&E&&(l(E)||(T=a(E)))?(T?(T=!1,I=y&&a(y)?y:[]):I=y&&l(y)?y:{},u(U,{name:_,newValue:m(F,I,E)})):typeof E<"u"&&u(U,{name:_,newValue:E}));return U},Ep}var Z6=J6();const xp=_g(Z6);function mg(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function eP(){const t=[],e={run:n,use:r};return e;function n(...a){let l=-1;const u=a.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);h(null,...a);function h(m,...p){const _=t[++l];let y=-1;if(m){u(m);return}for(;++y<a.length;)(p[y]===null||p[y]===void 0)&&(p[y]=a[y]);a=p,_?tP(_,h)(...p):u(null,...p)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),e}}function tP(t,e){let n;return r;function r(...u){const h=t.length>u.length;let m;h&&u.push(a);try{m=t.apply(this,u)}catch(p){const _=p;if(h&&n)throw _;return a(_)}h||(m&&m.then&&typeof m.then=="function"?m.then(l,a):m instanceof Error?a(m):l(m))}function a(u,...h){n||(n=!0,e(u,...h))}function l(u){a(null,u)}}const Wi={basename:nP,dirname:iP,extname:rP,join:sP,sep:"/"};function nP(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');ac(t);let n=0,r=-1,a=t.length,l;if(e===void 0||e.length===0||e.length>t.length){for(;a--;)if(t.codePointAt(a)===47){if(l){n=a+1;break}}else r<0&&(l=!0,r=a+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let u=-1,h=e.length-1;for(;a--;)if(t.codePointAt(a)===47){if(l){n=a+1;break}}else u<0&&(l=!0,u=a+1),h>-1&&(t.codePointAt(a)===e.codePointAt(h--)?h<0&&(r=a):(h=-1,r=u));return n===r?r=u:r<0&&(r=t.length),t.slice(n,r)}function iP(t){if(ac(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function rP(t){ac(t);let e=t.length,n=-1,r=0,a=-1,l=0,u;for(;e--;){const h=t.codePointAt(e);if(h===47){if(u){r=e+1;break}continue}n<0&&(u=!0,n=e+1),h===46?a<0?a=e:l!==1&&(l=1):a>-1&&(l=-1)}return a<0||n<0||l===0||l===1&&a===n-1&&a===r+1?"":t.slice(a,n)}function sP(...t){let e=-1,n;for(;++e<t.length;)ac(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":aP(n)}function aP(t){ac(t);const e=t.codePointAt(0)===47;let n=oP(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function oP(t,e){let n="",r=0,a=-1,l=0,u=-1,h,m;for(;++u<=t.length;){if(u<t.length)h=t.codePointAt(u);else{if(h===47)break;h=47}if(h===47){if(!(a===u-1||l===1))if(a!==u-1&&l===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(m=n.lastIndexOf("/"),m!==n.length-1){m<0?(n="",r=0):(n=n.slice(0,m),r=n.length-1-n.lastIndexOf("/")),a=u,l=0;continue}}else if(n.length>0){n="",r=0,a=u,l=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(a+1,u):n=t.slice(a+1,u),r=u-a-1;a=u,l=0}else h===46&&l>-1?l++:l=-1}return n}function ac(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const lP={cwd:uP};function uP(){return"/"}function pg(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function cP(t){if(typeof t=="string")t=new URL(t);else if(!pg(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return hP(t)}function hP(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(e)}const Tp=["history","path","basename","stem","extname","dirname"];class eS{constructor(e){let n;e?pg(e)?n={path:e}:typeof e=="string"||fP(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":lP.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Tp.length;){const l=Tp[r];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let a;for(a in n)Tp.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Wi.basename(this.path):void 0}set basename(e){Sp(e,"basename"),wp(e,"basename"),this.path=Wi.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Wi.dirname(this.path):void 0}set dirname(e){lE(this.basename,"dirname"),this.path=Wi.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Wi.extname(this.path):void 0}set extname(e){if(wp(e,"extname"),lE(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Wi.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){pg(e)&&(e=cP(e)),Sp(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Wi.basename(this.path,this.extname):void 0}set stem(e){Sp(e,"stem"),wp(e,"stem"),this.path=Wi.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const a=this.message(e,n,r);throw a.fatal=!0,a}info(e,n,r){const a=this.message(e,n,r);return a.fatal=void 0,a}message(e,n,r){const a=new bn(e,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function wp(t,e){if(t&&t.includes(Wi.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Wi.sep+"`")}function Sp(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function lE(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function fP(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const dP=(function(t){const r=this.constructor.prototype,a=r[t],l=function(){return a.apply(l,arguments)};return Object.setPrototypeOf(l,r),l}),mP={}.hasOwnProperty;class Cy extends dP{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=eP()}copy(){const e=new Cy;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(xp(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Ip("data",this.frozen),this.namespace[e]=n,this):mP.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Ip("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(e,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=qh(e),r=this.parser||this.Parser;return Ap("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Ap("process",this.parser||this.Parser),Cp("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(l,u){const h=qh(e),m=r.parse(h);r.run(m,h,function(_,y,E){if(_||!y||!E)return p(_);const T=y,I=r.stringify(T,E);yP(I)?E.value=I:E.result=I,p(_,E)});function p(_,y){_||!y?u(_):l?l(y):n(void 0,y)}}}processSync(e){let n=!1,r;return this.freeze(),Ap("processSync",this.parser||this.Parser),Cp("processSync",this.compiler||this.Compiler),this.process(e,a),cE("processSync","process",n),r;function a(l,u){n=!0,aE(l),r=u}}run(e,n,r){uE(e),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?l(void 0,r):new Promise(l);function l(u,h){const m=qh(n);a.run(e,m,p);function p(_,y,E){const T=y||e;_?h(_):u?u(T):r(void 0,T,E)}}}runSync(e,n){let r=!1,a;return this.run(e,n,l),cE("runSync","run",r),a;function l(u,h){aE(u),a=h,r=!0}}stringify(e,n){this.freeze();const r=qh(n),a=this.compiler||this.Compiler;return Cp("stringify",a),uE(e),a(e,r)}use(e,...n){const r=this.attachers,a=this.namespace;if(Ip("use",this.frozen),e!=null)if(typeof e=="function")m(e,n);else if(typeof e=="object")Array.isArray(e)?h(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function l(p){if(typeof p=="function")m(p,[]);else if(typeof p=="object")if(Array.isArray(p)){const[_,...y]=p;m(_,y)}else u(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function u(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(p.plugins),p.settings&&(a.settings=xp(!0,a.settings,p.settings))}function h(p){let _=-1;if(p!=null)if(Array.isArray(p))for(;++_<p.length;){const y=p[_];l(y)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function m(p,_){let y=-1,E=-1;for(;++y<r.length;)if(r[y][0]===p){E=y;break}if(E===-1)r.push([p,..._]);else if(_.length>0){let[T,...I]=_;const U=r[E][1];mg(U)&&mg(T)&&(T=xp(!0,U,T)),r[E]=[p,T,...I]}}}}const pP=new Cy().freeze();function Ap(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Cp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Ip(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function uE(t){if(!mg(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function cE(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function qh(t){return gP(t)?t:new eS(t)}function gP(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function yP(t){return typeof t=="string"||_P(t)}function _P(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const vP="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",hE=[],fE={allowDangerousHtml:!0},bP=/^(https?|ircs?|mailto|xmpp)$/i,EP=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function oc(t){const e=xP(t),n=TP(t);return wP(e.runSync(e.parse(n),n),t)}function xP(t){const e=t.rehypePlugins||hE,n=t.remarkPlugins||hE,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...fE}:fE;return pP().use(i6).use(n).use(W6,r).use(e)}function TP(t){const e=t.children||"",n=new eS;return typeof e=="string"&&(n.value=e),n}function wP(t,e){const n=e.allowedElements,r=e.allowElement,a=e.components,l=e.disallowedElements,u=e.skipHtml,h=e.unwrapDisallowed,m=e.urlTransform||SP;for(const _ of EP)Object.hasOwn(e,_.from)&&(""+_.from+(_.to?"use `"+_.to+"` instead":"remove it")+vP+_.id,void 0);return Ay(t,p),UM(t,{Fragment:b.Fragment,components:a,ignoreInvalidStyle:!0,jsx:b.jsx,jsxs:b.jsxs,passKeys:!0,passNode:!0});function p(_,y,E){if(_.type==="raw"&&E&&typeof y=="number")return u?E.children.splice(y,1):E.children[y]={type:"text",value:_.value},y;if(_.type==="element"){let T;for(T in _p)if(Object.hasOwn(_p,T)&&Object.hasOwn(_.properties,T)){const I=_.properties[T],U=_p[T];(U===null||U.includes(_.tagName))&&(_.properties[T]=m(String(I||""),T,_))}}if(_.type==="element"){let T=n?!n.includes(_.tagName):l?l.includes(_.tagName):!1;if(!T&&r&&typeof y=="number"&&(T=!r(_,y,E)),T&&E&&typeof y=="number")return h&&_.children?E.children.splice(y,1,..._.children):E.children.splice(y,1),y}}}function SP(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),a=t.indexOf("/");return e===-1||a!==-1&&e>a||n!==-1&&e>n||r!==-1&&e>r||bP.test(t.slice(0,e))?t:""}function dE(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(e);for(;a!==-1;)r++,a=n.indexOf(e,a+e.length);return r}function AP(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function CP(t,e,n){const a=td((n||{}).ignore||[]),l=IP(e);let u=-1;for(;++u<l.length;)Zw(t,"text",h);function h(p,_){let y=-1,E;for(;++y<_.length;){const T=_[y],I=E?E.children:void 0;if(a(T,I?I.indexOf(T):void 0,E))return;E=T}if(E)return m(p,_)}function m(p,_){const y=_[_.length-1],E=l[u][0],T=l[u][1];let I=0;const L=y.children.indexOf(p);let z=!1,F=[];E.lastIndex=0;let q=E.exec(p.value);for(;q;){const se=q.index,he={index:q.index,input:q.input,stack:[..._,p]};let K=T(...q,he);if(typeof K=="string"&&(K=K.length>0?{type:"text",value:K}:void 0),K===!1?E.lastIndex=se+1:(I!==se&&F.push({type:"text",value:p.value.slice(I,se)}),Array.isArray(K)?F.push(...K):K&&F.push(K),I=se+q[0].length,z=!0),!E.global)break;q=E.exec(p.value)}return z?(I<p.value.length&&F.push({type:"text",value:p.value.slice(I)}),y.children.splice(L,1,...F)):F=[p],L+F.length}}function IP(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const a=n[r];e.push([kP(a[0]),RP(a[1])])}return e}function kP(t){return typeof t=="string"?new RegExp(AP(t),"g"):t}function RP(t){return typeof t=="function"?t:function(){return t}}const kp="phrasing",Rp=["autolink","link","image","label"];function NP(){return{transforms:[jP],enter:{literalAutolink:OP,literalAutolinkEmail:Np,literalAutolinkHttp:Np,literalAutolinkWww:Np},exit:{literalAutolink:VP,literalAutolinkEmail:LP,literalAutolinkHttp:MP,literalAutolinkWww:PP}}}function DP(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:kp,notInConstruct:Rp},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:kp,notInConstruct:Rp},{character:":",before:"[ps]",after:"\\/",inConstruct:kp,notInConstruct:Rp}]}}function OP(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Np(t){this.config.enter.autolinkProtocol.call(this,t)}function MP(t){this.config.exit.autolinkProtocol.call(this,t)}function PP(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function LP(t){this.config.exit.autolinkEmail.call(this,t)}function VP(t){this.exit(t)}function jP(t){CP(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,zP],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),UP]],{ignore:["link","linkReference"]})}function zP(t,e,n,r,a){let l="";if(!tS(a)||(/^w/i.test(e)&&(n=e+n,e="",l="http://"),!BP(n)))return!1;const u=FP(n+r);if(!u[0])return!1;const h={type:"link",title:null,url:l+e+u[0],children:[{type:"text",value:e+u[0]}]};return u[1]?[h,{type:"text",value:u[1]}]:h}function UP(t,e,n,r){return!tS(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function BP(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function FP(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const a=dE(t,"(");let l=dE(t,")");for(;r!==-1&&a>l;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),l++;return[t,n]}function tS(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Pa(n)||Jf(n))&&(!e||n!==47)}nS.peek=WP;function qP(){this.buffer()}function HP(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function GP(){this.buffer()}function KP(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function QP(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ci(this.sliceSerialize(t)).toLowerCase(),n.label=e}function YP(t){this.exit(t)}function $P(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ci(this.sliceSerialize(t)).toLowerCase(),n.label=e}function XP(t){this.exit(t)}function WP(){return"["}function nS(t,e,n,r){const a=n.createTracker(r);let l=a.move("[^");const u=n.enter("footnoteReference"),h=n.enter("reference");return l+=a.move(n.safe(n.associationId(t),{after:"]",before:l})),h(),u(),l+=a.move("]"),l}function JP(){return{enter:{gfmFootnoteCallString:qP,gfmFootnoteCall:HP,gfmFootnoteDefinitionLabelString:GP,gfmFootnoteDefinition:KP},exit:{gfmFootnoteCallString:QP,gfmFootnoteCall:YP,gfmFootnoteDefinitionLabelString:$P,gfmFootnoteDefinition:XP}}}function ZP(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:nS},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,l,u){const h=l.createTracker(u);let m=h.move("[^");const p=l.enter("footnoteDefinition"),_=l.enter("label");return m+=h.move(l.safe(l.associationId(r),{before:m,after:"]"})),_(),m+=h.move("]:"),r.children&&r.children.length>0&&(h.shift(4),m+=h.move((e?`
`:" ")+l.indentLines(l.containerFlow(r,h.current()),e?iS:eL))),p(),m}}function eL(t,e,n){return e===0?t:iS(t,e,n)}function iS(t,e,n){return(n?"":"    ")+t}const tL=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];rS.peek=aL;function nL(){return{canContainEols:["delete"],enter:{strikethrough:rL},exit:{strikethrough:sL}}}function iL(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:tL}],handlers:{delete:rS}}}function rL(t){this.enter({type:"delete",children:[]},t)}function sL(t){this.exit(t)}function rS(t,e,n,r){const a=n.createTracker(r),l=n.enter("strikethrough");let u=a.move("~~");return u+=n.containerPhrasing(t,{...a.current(),before:u,after:"~"}),u+=a.move("~~"),l(),u}function aL(){return"~"}function oL(t){return t.length}function lL(t,e){const n=e||{},r=(n.align||[]).concat(),a=n.stringLength||oL,l=[],u=[],h=[],m=[];let p=0,_=-1;for(;++_<t.length;){const U=[],L=[];let z=-1;for(t[_].length>p&&(p=t[_].length);++z<t[_].length;){const F=uL(t[_][z]);if(n.alignDelimiters!==!1){const q=a(F);L[z]=q,(m[z]===void 0||q>m[z])&&(m[z]=q)}U.push(F)}u[_]=U,h[_]=L}let y=-1;if(typeof r=="object"&&"length"in r)for(;++y<p;)l[y]=mE(r[y]);else{const U=mE(r);for(;++y<p;)l[y]=U}y=-1;const E=[],T=[];for(;++y<p;){const U=l[y];let L="",z="";U===99?(L=":",z=":"):U===108?L=":":U===114&&(z=":");let F=n.alignDelimiters===!1?1:Math.max(1,m[y]-L.length-z.length);const q=L+"-".repeat(F)+z;n.alignDelimiters!==!1&&(F=L.length+F+z.length,F>m[y]&&(m[y]=F),T[y]=F),E[y]=q}u.splice(1,0,E),h.splice(1,0,T),_=-1;const I=[];for(;++_<u.length;){const U=u[_],L=h[_];y=-1;const z=[];for(;++y<p;){const F=U[y]||"";let q="",se="";if(n.alignDelimiters!==!1){const he=m[y]-(L[y]||0),K=l[y];K===114?q=" ".repeat(he):K===99?he%2?(q=" ".repeat(he/2+.5),se=" ".repeat(he/2-.5)):(q=" ".repeat(he/2),se=q):se=" ".repeat(he)}n.delimiterStart!==!1&&!y&&z.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&F==="")&&(n.delimiterStart!==!1||y)&&z.push(" "),n.alignDelimiters!==!1&&z.push(q),z.push(F),n.alignDelimiters!==!1&&z.push(se),n.padding!==!1&&z.push(" "),(n.delimiterEnd!==!1||y!==p-1)&&z.push("|")}I.push(n.delimiterEnd===!1?z.join("").replace(/ +$/,""):z.join(""))}return I.join(`
`)}function uL(t){return t==null?"":String(t)}function mE(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function cL(t,e,n,r){const a=n.enter("blockquote"),l=n.createTracker(r);l.move("> "),l.shift(2);const u=n.indentLines(n.containerFlow(t,l.current()),hL);return a(),u}function hL(t,e,n){return">"+(n?"":" ")+t}function fL(t,e){return pE(t,e.inConstruct,!0)&&!pE(t,e.notInConstruct,!1)}function pE(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function gE(t,e,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&fL(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function dL(t,e){const n=String(t);let r=n.indexOf(e),a=r,l=0,u=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++l>u&&(u=l):l=1,a=r+e.length,r=n.indexOf(e,a);return u}function mL(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function pL(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function gL(t,e,n,r){const a=pL(n),l=t.value||"",u=a==="`"?"GraveAccent":"Tilde";if(mL(t,n)){const y=n.enter("codeIndented"),E=n.indentLines(l,yL);return y(),E}const h=n.createTracker(r),m=a.repeat(Math.max(dL(l,a)+1,3)),p=n.enter("codeFenced");let _=h.move(m);if(t.lang){const y=n.enter(`codeFencedLang${u}`);_+=h.move(n.safe(t.lang,{before:_,after:" ",encode:["`"],...h.current()})),y()}if(t.lang&&t.meta){const y=n.enter(`codeFencedMeta${u}`);_+=h.move(" "),_+=h.move(n.safe(t.meta,{before:_,after:`
`,encode:["`"],...h.current()})),y()}return _+=h.move(`
`),l&&(_+=h.move(l+`
`)),_+=h.move(m),p(),_}function yL(t,e,n){return(n?"":"    ")+t}function Iy(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function _L(t,e,n,r){const a=Iy(n),l=a==='"'?"Quote":"Apostrophe",u=n.enter("definition");let h=n.enter("label");const m=n.createTracker(r);let p=m.move("[");return p+=m.move(n.safe(n.associationId(t),{before:p,after:"]",...m.current()})),p+=m.move("]: "),h(),!t.url||/[\0- \u007F]/.test(t.url)?(h=n.enter("destinationLiteral"),p+=m.move("<"),p+=m.move(n.safe(t.url,{before:p,after:">",...m.current()})),p+=m.move(">")):(h=n.enter("destinationRaw"),p+=m.move(n.safe(t.url,{before:p,after:t.title?" ":`
`,...m.current()}))),h(),t.title&&(h=n.enter(`title${l}`),p+=m.move(" "+a),p+=m.move(n.safe(t.title,{before:p,after:a,...m.current()})),p+=m.move(a),h()),u(),p}function vL(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Fu(t){return"&#x"+t.toString(16).toUpperCase()+";"}function kf(t,e,n){const r=$o(t),a=$o(e);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}sS.peek=bL;function sS(t,e,n,r){const a=vL(n),l=n.enter("emphasis"),u=n.createTracker(r),h=u.move(a);let m=u.move(n.containerPhrasing(t,{after:a,before:h,...u.current()}));const p=m.charCodeAt(0),_=kf(r.before.charCodeAt(r.before.length-1),p,a);_.inside&&(m=Fu(p)+m.slice(1));const y=m.charCodeAt(m.length-1),E=kf(r.after.charCodeAt(0),y,a);E.inside&&(m=m.slice(0,-1)+Fu(y));const T=u.move(a);return l(),n.attentionEncodeSurroundingInfo={after:E.outside,before:_.outside},h+m+T}function bL(t,e,n){return n.options.emphasis||"*"}function EL(t,e){let n=!1;return Ay(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,fg}),!!((!t.depth||t.depth<3)&&vy(t)&&(e.options.setext||n))}function xL(t,e,n,r){const a=Math.max(Math.min(6,t.depth||1),1),l=n.createTracker(r);if(EL(t,n)){const _=n.enter("headingSetext"),y=n.enter("phrasing"),E=n.containerPhrasing(t,{...l.current(),before:`
`,after:`
`});return y(),_(),E+`
`+(a===1?"=":"-").repeat(E.length-(Math.max(E.lastIndexOf("\r"),E.lastIndexOf(`
`))+1))}const u="#".repeat(a),h=n.enter("headingAtx"),m=n.enter("phrasing");l.move(u+" ");let p=n.containerPhrasing(t,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(p)&&(p=Fu(p.charCodeAt(0))+p.slice(1)),p=p?u+" "+p:u,n.options.closeAtx&&(p+=" "+u),m(),h(),p}aS.peek=TL;function aS(t){return t.value||""}function TL(){return"<"}oS.peek=wL;function oS(t,e,n,r){const a=Iy(n),l=a==='"'?"Quote":"Apostrophe",u=n.enter("image");let h=n.enter("label");const m=n.createTracker(r);let p=m.move("![");return p+=m.move(n.safe(t.alt,{before:p,after:"]",...m.current()})),p+=m.move("]("),h(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(h=n.enter("destinationLiteral"),p+=m.move("<"),p+=m.move(n.safe(t.url,{before:p,after:">",...m.current()})),p+=m.move(">")):(h=n.enter("destinationRaw"),p+=m.move(n.safe(t.url,{before:p,after:t.title?" ":")",...m.current()}))),h(),t.title&&(h=n.enter(`title${l}`),p+=m.move(" "+a),p+=m.move(n.safe(t.title,{before:p,after:a,...m.current()})),p+=m.move(a),h()),p+=m.move(")"),u(),p}function wL(){return"!"}lS.peek=SL;function lS(t,e,n,r){const a=t.referenceType,l=n.enter("imageReference");let u=n.enter("label");const h=n.createTracker(r);let m=h.move("![");const p=n.safe(t.alt,{before:m,after:"]",...h.current()});m+=h.move(p+"]["),u();const _=n.stack;n.stack=[],u=n.enter("reference");const y=n.safe(n.associationId(t),{before:m,after:"]",...h.current()});return u(),n.stack=_,l(),a==="full"||!p||p!==y?m+=h.move(y+"]"):a==="shortcut"?m=m.slice(0,-1):m+=h.move("]"),m}function SL(){return"!"}uS.peek=AL;function uS(t,e,n){let r=t.value||"",a="`",l=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++l<n.unsafe.length;){const u=n.unsafe[l],h=n.compilePattern(u);let m;if(u.atBreak)for(;m=h.exec(r);){let p=m.index;r.charCodeAt(p)===10&&r.charCodeAt(p-1)===13&&p--,r=r.slice(0,p)+" "+r.slice(m.index+1)}}return a+r+a}function AL(){return"`"}function cS(t,e){const n=vy(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}hS.peek=CL;function hS(t,e,n,r){const a=Iy(n),l=a==='"'?"Quote":"Apostrophe",u=n.createTracker(r);let h,m;if(cS(t,n)){const _=n.stack;n.stack=[],h=n.enter("autolink");let y=u.move("<");return y+=u.move(n.containerPhrasing(t,{before:y,after:">",...u.current()})),y+=u.move(">"),h(),n.stack=_,y}h=n.enter("link"),m=n.enter("label");let p=u.move("[");return p+=u.move(n.containerPhrasing(t,{before:p,after:"](",...u.current()})),p+=u.move("]("),m(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(m=n.enter("destinationLiteral"),p+=u.move("<"),p+=u.move(n.safe(t.url,{before:p,after:">",...u.current()})),p+=u.move(">")):(m=n.enter("destinationRaw"),p+=u.move(n.safe(t.url,{before:p,after:t.title?" ":")",...u.current()}))),m(),t.title&&(m=n.enter(`title${l}`),p+=u.move(" "+a),p+=u.move(n.safe(t.title,{before:p,after:a,...u.current()})),p+=u.move(a),m()),p+=u.move(")"),h(),p}function CL(t,e,n){return cS(t,n)?"<":"["}fS.peek=IL;function fS(t,e,n,r){const a=t.referenceType,l=n.enter("linkReference");let u=n.enter("label");const h=n.createTracker(r);let m=h.move("[");const p=n.containerPhrasing(t,{before:m,after:"]",...h.current()});m+=h.move(p+"]["),u();const _=n.stack;n.stack=[],u=n.enter("reference");const y=n.safe(n.associationId(t),{before:m,after:"]",...h.current()});return u(),n.stack=_,l(),a==="full"||!p||p!==y?m+=h.move(y+"]"):a==="shortcut"?m=m.slice(0,-1):m+=h.move("]"),m}function IL(){return"["}function ky(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function kL(t){const e=ky(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function RL(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function dS(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function NL(t,e,n,r){const a=n.enter("list"),l=n.bulletCurrent;let u=t.ordered?RL(n):ky(n);const h=t.ordered?u==="."?")":".":kL(n);let m=e&&n.bulletLastUsed?u===n.bulletLastUsed:!1;if(!t.ordered){const _=t.children?t.children[0]:void 0;if((u==="*"||u==="-")&&_&&(!_.children||!_.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(m=!0),dS(n)===u&&_){let y=-1;for(;++y<t.children.length;){const E=t.children[y];if(E&&E.type==="listItem"&&E.children&&E.children[0]&&E.children[0].type==="thematicBreak"){m=!0;break}}}}m&&(u=h),n.bulletCurrent=u;const p=n.containerFlow(t,r);return n.bulletLastUsed=u,n.bulletCurrent=l,a(),p}function DL(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function OL(t,e,n,r){const a=DL(n);let l=n.bulletCurrent||ky(n);e&&e.type==="list"&&e.ordered&&(l=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+l);let u=l.length+1;(a==="tab"||a==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(u=Math.ceil(u/4)*4);const h=n.createTracker(r);h.move(l+" ".repeat(u-l.length)),h.shift(u);const m=n.enter("listItem"),p=n.indentLines(n.containerFlow(t,h.current()),_);return m(),p;function _(y,E,T){return E?(T?"":" ".repeat(u))+y:(T?l:l+" ".repeat(u-l.length))+y}}function ML(t,e,n,r){const a=n.enter("paragraph"),l=n.enter("phrasing"),u=n.containerPhrasing(t,r);return l(),a(),u}const PL=td(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function LL(t,e,n,r){return(t.children.some(function(u){return PL(u)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function VL(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}mS.peek=jL;function mS(t,e,n,r){const a=VL(n),l=n.enter("strong"),u=n.createTracker(r),h=u.move(a+a);let m=u.move(n.containerPhrasing(t,{after:a,before:h,...u.current()}));const p=m.charCodeAt(0),_=kf(r.before.charCodeAt(r.before.length-1),p,a);_.inside&&(m=Fu(p)+m.slice(1));const y=m.charCodeAt(m.length-1),E=kf(r.after.charCodeAt(0),y,a);E.inside&&(m=m.slice(0,-1)+Fu(y));const T=u.move(a+a);return l(),n.attentionEncodeSurroundingInfo={after:E.outside,before:_.outside},h+m+T}function jL(t,e,n){return n.options.strong||"*"}function zL(t,e,n,r){return n.safe(t.value,r)}function UL(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function BL(t,e,n){const r=(dS(n)+(n.options.ruleSpaces?" ":"")).repeat(UL(n));return n.options.ruleSpaces?r.slice(0,-1):r}const pS={blockquote:cL,break:gE,code:gL,definition:_L,emphasis:sS,hardBreak:gE,heading:xL,html:aS,image:oS,imageReference:lS,inlineCode:uS,link:hS,linkReference:fS,list:NL,listItem:OL,paragraph:ML,root:LL,strong:mS,text:zL,thematicBreak:BL};function FL(){return{enter:{table:qL,tableData:yE,tableHeader:yE,tableRow:GL},exit:{codeText:KL,table:HL,tableData:Dp,tableHeader:Dp,tableRow:Dp}}}function qL(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function HL(t){this.exit(t),this.data.inTable=void 0}function GL(t){this.enter({type:"tableRow",children:[]},t)}function Dp(t){this.exit(t)}function yE(t){this.enter({type:"tableCell",children:[]},t)}function KL(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,QL));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function QL(t,e){return e==="|"?e:t}function YL(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,a=e.stringLength,l=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:E,table:u,tableCell:m,tableRow:h}};function u(T,I,U,L){return p(_(T,U,L),T.align)}function h(T,I,U,L){const z=y(T,U,L),F=p([z]);return F.slice(0,F.indexOf(`
`))}function m(T,I,U,L){const z=U.enter("tableCell"),F=U.enter("phrasing"),q=U.containerPhrasing(T,{...L,before:l,after:l});return F(),z(),q}function p(T,I){return lL(T,{align:I,alignDelimiters:r,padding:n,stringLength:a})}function _(T,I,U){const L=T.children;let z=-1;const F=[],q=I.enter("table");for(;++z<L.length;)F[z]=y(L[z],I,U);return q(),F}function y(T,I,U){const L=T.children;let z=-1;const F=[],q=I.enter("tableRow");for(;++z<L.length;)F[z]=m(L[z],T,I,U);return q(),F}function E(T,I,U){let L=pS.inlineCode(T,I,U);return U.stack.includes("tableCell")&&(L=L.replace(/\|/g,"\\$&")),L}}function $L(){return{exit:{taskListCheckValueChecked:_E,taskListCheckValueUnchecked:_E,paragraph:WL}}}function XL(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:JL}}}function _E(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function WL(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=e.children;let l=-1,u;for(;++l<a.length;){const h=a[l];if(h.type==="paragraph"){u=h;break}}u===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function JL(t,e,n,r){const a=t.children[0],l=typeof t.checked=="boolean"&&a&&a.type==="paragraph",u="["+(t.checked?"x":" ")+"] ",h=n.createTracker(r);l&&h.move(u);let m=pS.listItem(t,e,n,{...r,...h.current()});return l&&(m=m.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,p)),m;function p(_){return _+u}}function ZL(){return[NP(),JP(),nL(),FL(),$L()]}function eV(t){return{extensions:[DP(),ZP(t),iL(),YL(t),XL()]}}const tV={tokenize:oV,partial:!0},gS={tokenize:lV,partial:!0},yS={tokenize:uV,partial:!0},_S={tokenize:cV,partial:!0},nV={tokenize:hV,partial:!0},vS={name:"wwwAutolink",tokenize:sV,previous:ES},bS={name:"protocolAutolink",tokenize:aV,previous:xS},zr={name:"emailAutolink",tokenize:rV,previous:TS},or={};function iV(){return{text:or}}let Ta=48;for(;Ta<123;)or[Ta]=zr,Ta++,Ta===58?Ta=65:Ta===91&&(Ta=97);or[43]=zr;or[45]=zr;or[46]=zr;or[95]=zr;or[72]=[zr,bS];or[104]=[zr,bS];or[87]=[zr,vS];or[119]=[zr,vS];function rV(t,e,n){const r=this;let a,l;return u;function u(y){return!gg(y)||!TS.call(r,r.previous)||Ry(r.events)?n(y):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),h(y))}function h(y){return gg(y)?(t.consume(y),h):y===64?(t.consume(y),m):n(y)}function m(y){return y===46?t.check(nV,_,p)(y):y===45||y===95||_n(y)?(l=!0,t.consume(y),m):_(y)}function p(y){return t.consume(y),a=!0,m}function _(y){return l&&a&&Tn(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(y)):n(y)}}function sV(t,e,n){const r=this;return a;function a(u){return u!==87&&u!==119||!ES.call(r,r.previous)||Ry(r.events)?n(u):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(tV,t.attempt(gS,t.attempt(yS,l),n),n)(u))}function l(u){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(u)}}function aV(t,e,n){const r=this;let a="",l=!1;return u;function u(y){return(y===72||y===104)&&xS.call(r,r.previous)&&!Ry(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),a+=String.fromCodePoint(y),t.consume(y),h):n(y)}function h(y){if(Tn(y)&&a.length<5)return a+=String.fromCodePoint(y),t.consume(y),h;if(y===58){const E=a.toLowerCase();if(E==="http"||E==="https")return t.consume(y),m}return n(y)}function m(y){return y===47?(t.consume(y),l?p:(l=!0,m)):n(y)}function p(y){return y===null||Af(y)||dt(y)||Pa(y)||Jf(y)?n(y):t.attempt(gS,t.attempt(yS,_),n)(y)}function _(y){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(y)}}function oV(t,e,n){let r=0;return a;function a(u){return(u===87||u===119)&&r<3?(r++,t.consume(u),a):u===46&&r===3?(t.consume(u),l):n(u)}function l(u){return u===null?n(u):e(u)}}function lV(t,e,n){let r,a,l;return u;function u(p){return p===46||p===95?t.check(_S,m,h)(p):p===null||dt(p)||Pa(p)||p!==45&&Jf(p)?m(p):(l=!0,t.consume(p),u)}function h(p){return p===95?r=!0:(a=r,r=void 0),t.consume(p),u}function m(p){return a||r||!l?n(p):e(p)}}function uV(t,e){let n=0,r=0;return a;function a(u){return u===40?(n++,t.consume(u),a):u===41&&r<n?l(u):u===33||u===34||u===38||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===60||u===63||u===93||u===95||u===126?t.check(_S,e,l)(u):u===null||dt(u)||Pa(u)?e(u):(t.consume(u),a)}function l(u){return u===41&&r++,t.consume(u),a}}function cV(t,e,n){return r;function r(h){return h===33||h===34||h===39||h===41||h===42||h===44||h===46||h===58||h===59||h===63||h===95||h===126?(t.consume(h),r):h===38?(t.consume(h),l):h===93?(t.consume(h),a):h===60||h===null||dt(h)||Pa(h)?e(h):n(h)}function a(h){return h===null||h===40||h===91||dt(h)||Pa(h)?e(h):r(h)}function l(h){return Tn(h)?u(h):n(h)}function u(h){return h===59?(t.consume(h),r):Tn(h)?(t.consume(h),u):n(h)}}function hV(t,e,n){return r;function r(l){return t.consume(l),a}function a(l){return _n(l)?n(l):e(l)}}function ES(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||dt(t)}function xS(t){return!Tn(t)}function TS(t){return!(t===47||gg(t))}function gg(t){return t===43||t===45||t===46||t===95||_n(t)}function Ry(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const fV={tokenize:bV,partial:!0};function dV(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:yV,continuation:{tokenize:_V},exit:vV}},text:{91:{name:"gfmFootnoteCall",tokenize:gV},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:mV,resolveTo:pV}}}}function mV(t,e,n){const r=this;let a=r.events.length;const l=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let u;for(;a--;){const m=r.events[a][1];if(m.type==="labelImage"){u=m;break}if(m.type==="gfmFootnoteCall"||m.type==="labelLink"||m.type==="label"||m.type==="image"||m.type==="link")break}return h;function h(m){if(!u||!u._balanced)return n(m);const p=Ci(r.sliceSerialize({start:u.end,end:r.now()}));return p.codePointAt(0)!==94||!l.includes(p.slice(1))?n(m):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),e(m))}}function pV(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},t[t.length-1][1].start)},u={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},h=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",a,e],["exit",a,e],["enter",l,e],["enter",u,e],["exit",u,e],["exit",l,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...h),t}function gV(t,e,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l=0,u;return h;function h(y){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(y),t.exit("gfmFootnoteCallLabelMarker"),m}function m(y){return y!==94?n(y):(t.enter("gfmFootnoteCallMarker"),t.consume(y),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",p)}function p(y){if(l>999||y===93&&!u||y===null||y===91||dt(y))return n(y);if(y===93){t.exit("chunkString");const E=t.exit("gfmFootnoteCallString");return a.includes(Ci(r.sliceSerialize(E)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(y),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(y)}return dt(y)||(u=!0),l++,t.consume(y),y===92?_:p}function _(y){return y===91||y===92||y===93?(t.consume(y),l++,p):p(y)}}function yV(t,e,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l,u=0,h;return m;function m(I){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(I),t.exit("gfmFootnoteDefinitionLabelMarker"),p}function p(I){return I===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(I),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",_):n(I)}function _(I){if(u>999||I===93&&!h||I===null||I===91||dt(I))return n(I);if(I===93){t.exit("chunkString");const U=t.exit("gfmFootnoteDefinitionLabelString");return l=Ci(r.sliceSerialize(U)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(I),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),E}return dt(I)||(h=!0),u++,t.consume(I),I===92?y:_}function y(I){return I===91||I===92||I===93?(t.consume(I),u++,_):_(I)}function E(I){return I===58?(t.enter("definitionMarker"),t.consume(I),t.exit("definitionMarker"),a.includes(l)||a.push(l),$e(t,T,"gfmFootnoteDefinitionWhitespace")):n(I)}function T(I){return e(I)}}function _V(t,e,n){return t.check(sc,e,t.attempt(fV,e,n))}function vV(t){t.exit("gfmFootnoteDefinition")}function bV(t,e,n){const r=this;return $e(t,a,"gfmFootnoteDefinitionIndent",5);function a(l){const u=r.events[r.events.length-1];return u&&u[1].type==="gfmFootnoteDefinitionIndent"&&u[2].sliceSerialize(u[1],!0).length===4?e(l):n(l)}}function EV(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:l,resolveAll:a};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function a(u,h){let m=-1;for(;++m<u.length;)if(u[m][0]==="enter"&&u[m][1].type==="strikethroughSequenceTemporary"&&u[m][1]._close){let p=m;for(;p--;)if(u[p][0]==="exit"&&u[p][1].type==="strikethroughSequenceTemporary"&&u[p][1]._open&&u[m][1].end.offset-u[m][1].start.offset===u[p][1].end.offset-u[p][1].start.offset){u[m][1].type="strikethroughSequence",u[p][1].type="strikethroughSequence";const _={type:"strikethrough",start:Object.assign({},u[p][1].start),end:Object.assign({},u[m][1].end)},y={type:"strikethroughText",start:Object.assign({},u[p][1].end),end:Object.assign({},u[m][1].start)},E=[["enter",_,h],["enter",u[p][1],h],["exit",u[p][1],h],["enter",y,h]],T=h.parser.constructs.insideSpan.null;T&&Qn(E,E.length,0,Zf(T,u.slice(p+1,m),h)),Qn(E,E.length,0,[["exit",y,h],["enter",u[m][1],h],["exit",u[m][1],h],["exit",_,h]]),Qn(u,p-1,m-p+3,E),m=p+E.length-2;break}}for(m=-1;++m<u.length;)u[m][1].type==="strikethroughSequenceTemporary"&&(u[m][1].type="data");return u}function l(u,h,m){const p=this.previous,_=this.events;let y=0;return E;function E(I){return p===126&&_[_.length-1][1].type!=="characterEscape"?m(I):(u.enter("strikethroughSequenceTemporary"),T(I))}function T(I){const U=$o(p);if(I===126)return y>1?m(I):(u.consume(I),y++,T);if(y<2&&!n)return m(I);const L=u.exit("strikethroughSequenceTemporary"),z=$o(I);return L._open=!z||z===2&&!!U,L._close=!U||U===2&&!!z,h(I)}}}class xV{constructor(){this.map=[]}add(e,n,r){TV(this,e,n,r)}consume(e){if(this.map.sort(function(l,u){return l[0]-u[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let a=r.pop();for(;a;){for(const l of a)e.push(l);a=r.pop()}this.map.length=0}}function TV(t,e,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<t.map.length;){if(t.map[a][0]===e){t.map[a][1]+=n,t.map[a][2].push(...r);return}a+=1}t.map.push([e,n,r])}}function wV(t,e){let n=!1;const r=[];for(;e<t.length;){const a=t[e];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const l=r.length-1;r[l]=r[l]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function SV(){return{flow:{null:{name:"table",tokenize:AV,resolveAll:CV}}}}function AV(t,e,n){const r=this;let a=0,l=0,u;return h;function h(A){let C=r.events.length-1;for(;C>-1;){const ue=r.events[C][1].type;if(ue==="lineEnding"||ue==="linePrefix")C--;else break}const D=C>-1?r.events[C][1].type:null,N=D==="tableHead"||D==="tableRow"?K:m;return N===K&&r.parser.lazy[r.now().line]?n(A):N(A)}function m(A){return t.enter("tableHead"),t.enter("tableRow"),p(A)}function p(A){return A===124||(u=!0,l+=1),_(A)}function _(A){return A===null?n(A):Ee(A)?l>1?(l=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),T):n(A):Ue(A)?$e(t,_,"whitespace")(A):(l+=1,u&&(u=!1,a+=1),A===124?(t.enter("tableCellDivider"),t.consume(A),t.exit("tableCellDivider"),u=!0,_):(t.enter("data"),y(A)))}function y(A){return A===null||A===124||dt(A)?(t.exit("data"),_(A)):(t.consume(A),A===92?E:y)}function E(A){return A===92||A===124?(t.consume(A),y):y(A)}function T(A){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(A):(t.enter("tableDelimiterRow"),u=!1,Ue(A)?$e(t,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):I(A))}function I(A){return A===45||A===58?L(A):A===124?(u=!0,t.enter("tableCellDivider"),t.consume(A),t.exit("tableCellDivider"),U):he(A)}function U(A){return Ue(A)?$e(t,L,"whitespace")(A):L(A)}function L(A){return A===58?(l+=1,u=!0,t.enter("tableDelimiterMarker"),t.consume(A),t.exit("tableDelimiterMarker"),z):A===45?(l+=1,z(A)):A===null||Ee(A)?se(A):he(A)}function z(A){return A===45?(t.enter("tableDelimiterFiller"),F(A)):he(A)}function F(A){return A===45?(t.consume(A),F):A===58?(u=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(A),t.exit("tableDelimiterMarker"),q):(t.exit("tableDelimiterFiller"),q(A))}function q(A){return Ue(A)?$e(t,se,"whitespace")(A):se(A)}function se(A){return A===124?I(A):A===null||Ee(A)?!u||a!==l?he(A):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(A)):he(A)}function he(A){return n(A)}function K(A){return t.enter("tableRow"),P(A)}function P(A){return A===124?(t.enter("tableCellDivider"),t.consume(A),t.exit("tableCellDivider"),P):A===null||Ee(A)?(t.exit("tableRow"),e(A)):Ue(A)?$e(t,P,"whitespace")(A):(t.enter("data"),R(A))}function R(A){return A===null||A===124||dt(A)?(t.exit("data"),P(A)):(t.consume(A),A===92?O:R)}function O(A){return A===92||A===124?(t.consume(A),R):R(A)}}function CV(t,e){let n=-1,r=!0,a=0,l=[0,0,0,0],u=[0,0,0,0],h=!1,m=0,p,_,y;const E=new xV;for(;++n<t.length;){const T=t[n],I=T[1];T[0]==="enter"?I.type==="tableHead"?(h=!1,m!==0&&(vE(E,e,m,p,_),_=void 0,m=0),p={type:"table",start:Object.assign({},I.start),end:Object.assign({},I.end)},E.add(n,0,[["enter",p,e]])):I.type==="tableRow"||I.type==="tableDelimiterRow"?(r=!0,y=void 0,l=[0,0,0,0],u=[0,n+1,0,0],h&&(h=!1,_={type:"tableBody",start:Object.assign({},I.start),end:Object.assign({},I.end)},E.add(n,0,[["enter",_,e]])),a=I.type==="tableDelimiterRow"?2:_?3:1):a&&(I.type==="data"||I.type==="tableDelimiterMarker"||I.type==="tableDelimiterFiller")?(r=!1,u[2]===0&&(l[1]!==0&&(u[0]=u[1],y=Hh(E,e,l,a,void 0,y),l=[0,0,0,0]),u[2]=n)):I.type==="tableCellDivider"&&(r?r=!1:(l[1]!==0&&(u[0]=u[1],y=Hh(E,e,l,a,void 0,y)),l=u,u=[l[1],n,0,0])):I.type==="tableHead"?(h=!0,m=n):I.type==="tableRow"||I.type==="tableDelimiterRow"?(m=n,l[1]!==0?(u[0]=u[1],y=Hh(E,e,l,a,n,y)):u[1]!==0&&(y=Hh(E,e,u,a,n,y)),a=0):a&&(I.type==="data"||I.type==="tableDelimiterMarker"||I.type==="tableDelimiterFiller")&&(u[3]=n)}for(m!==0&&vE(E,e,m,p,_),E.consume(e.events),n=-1;++n<e.events.length;){const T=e.events[n];T[0]==="enter"&&T[1].type==="table"&&(T[1]._align=wV(e.events,n))}return t}function Hh(t,e,n,r,a,l){const u=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",h="tableContent";n[0]!==0&&(l.end=Object.assign({},Po(e.events,n[0])),t.add(n[0],0,[["exit",l,e]]));const m=Po(e.events,n[1]);if(l={type:u,start:Object.assign({},m),end:Object.assign({},m)},t.add(n[1],0,[["enter",l,e]]),n[2]!==0){const p=Po(e.events,n[2]),_=Po(e.events,n[3]),y={type:h,start:Object.assign({},p),end:Object.assign({},_)};if(t.add(n[2],0,[["enter",y,e]]),r!==2){const E=e.events[n[2]],T=e.events[n[3]];if(E[1].end=Object.assign({},T[1].end),E[1].type="chunkText",E[1].contentType="text",n[3]>n[2]+1){const I=n[2]+1,U=n[3]-n[2]-1;t.add(I,U,[])}}t.add(n[3]+1,0,[["exit",y,e]])}return a!==void 0&&(l.end=Object.assign({},Po(e.events,a)),t.add(a,0,[["exit",l,e]]),l=void 0),l}function vE(t,e,n,r,a){const l=[],u=Po(e.events,n);a&&(a.end=Object.assign({},u),l.push(["exit",a,e])),r.end=Object.assign({},u),l.push(["exit",r,e]),t.add(n+1,0,l)}function Po(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const IV={name:"tasklistCheck",tokenize:RV};function kV(){return{text:{91:IV}}}function RV(t,e,n){const r=this;return a;function a(m){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(m):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(m),t.exit("taskListCheckMarker"),l)}function l(m){return dt(m)?(t.enter("taskListCheckValueUnchecked"),t.consume(m),t.exit("taskListCheckValueUnchecked"),u):m===88||m===120?(t.enter("taskListCheckValueChecked"),t.consume(m),t.exit("taskListCheckValueChecked"),u):n(m)}function u(m){return m===93?(t.enter("taskListCheckMarker"),t.consume(m),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),h):n(m)}function h(m){return Ee(m)?e(m):Ue(m)?t.check({tokenize:NV},e,n)(m):n(m)}}function NV(t,e,n){return $e(t,r,"whitespace");function r(a){return a===null?n(a):e(a)}}function DV(t){return Mw([iV(),dV(),EV(t),SV(),kV()])}const OV={};function lc(t){const e=this,n=t||OV,r=e.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),l=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),u=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(DV(n)),l.push(ZL()),u.push(eV(n))}const id=["Public Forum (PF)","Lincoln-Douglas (LD)","Policy Debate (CX)","Big Questions Debate","World Schools Debate","Congressional Debate","Original Oratory (OO)","Informative Speaking (INFO)","United States Extemp (USX)","International Extemp (IX)","Dramatic Interpretation (DI)","Humorous Interpretation (HI)","Duo Interpretation","Program Oral Interpretation (POI)","Impromptu","Extemporaneous Commentary","Expository","Storytelling","Prose/Poetry","Parliamentary (British)","Parliamentary (Asian)","Model UN Speech","After Dinner Speaking","Toast/Ceremonial"],wS=["Proposition/Affirmative","Opposition/Negative","Government","Opposition","Pro","Con","Opening Member","Closing Member/Whip","Sponsor (Congress)","Individual/Solo","Neutral/Evaluator"],ke={DEBATE:"debate",INDIVIDUAL_SPEAKING:"individual",INTERP:"interp",EXTEMP:"extemp",LIMITED_PREP:"limited_prep"},Xo={"Public Forum (PF)":ke.DEBATE,"Lincoln-Douglas (LD)":ke.DEBATE,"Policy Debate (CX)":ke.DEBATE,"Big Questions Debate":ke.DEBATE,"World Schools Debate":ke.DEBATE,"Congressional Debate":ke.DEBATE,"Parliamentary (British)":ke.DEBATE,"Parliamentary (Asian)":ke.DEBATE,"Original Oratory (OO)":ke.INDIVIDUAL_SPEAKING,"Informative Speaking (INFO)":ke.INDIVIDUAL_SPEAKING,Expository:ke.INDIVIDUAL_SPEAKING,"After Dinner Speaking":ke.INDIVIDUAL_SPEAKING,"Toast/Ceremonial":ke.INDIVIDUAL_SPEAKING,"Model UN Speech":ke.INDIVIDUAL_SPEAKING,"Dramatic Interpretation (DI)":ke.INTERP,"Humorous Interpretation (HI)":ke.INTERP,"Duo Interpretation":ke.INTERP,"Program Oral Interpretation (POI)":ke.INTERP,"Prose/Poetry":ke.INTERP,Storytelling:ke.INTERP,"United States Extemp (USX)":ke.EXTEMP,"International Extemp (IX)":ke.EXTEMP,"Extemporaneous Commentary":ke.EXTEMP,Impromptu:ke.LIMITED_PREP},MV={[ke.DEBATE]:{name:"Debate",description:"Competitive debate formats with opposing sides",showOpposingArguments:!0,showClash:!0,showRebuttals:!0,showCrossEx:!0,rubric:`
## Debate Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Argumentation & Evidence** | 30% | Quality of arguments, evidence strength, logical warrants |
| **Clash & Engagement** | 25% | Direct responses to opponent, refutation quality |
| **Impact Analysis** | 20% | Magnitude, probability, timeframe of impacts |
| **Strategy & Organization** | 15% | Speech structure, time allocation, flow |
| **Delivery** | 10% | Clarity, persuasion, pace (speed okay if clear) |
    `,focusAreas:["Arguments for your position","Responses to opposing arguments","Evidence quality and sources","Impact calculus","Clash and refutation","Cross-examination presence"]},[ke.INDIVIDUAL_SPEAKING]:{name:"Individual Speaking",description:"Platform speaking events focused on original content",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Individual Speaking Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Content & Research** | 30% | Depth of information, accuracy, relevance |
| **Organization** | 25% | Structure, transitions, logical flow |
| **Delivery** | 25% | Vocal variety, eye contact, gestures, presence |
| **Analysis & Insight** | 15% | Original thought, depth of understanding |
| **Impact & Memorability** | 5% | Audience engagement, lasting impression |
    `,focusAreas:["Content clarity and accuracy","Speech organization and structure","Vocal delivery and variety","Physical presence and gestures","Audience engagement","Use of evidence and examples"]},[ke.INTERP]:{name:"Interpretation",description:"Performance events with scripted or literary material",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Interpretation Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Characterization** | 30% | Distinct, consistent, believable characters |
| **Emotional Range** | 25% | Depth of emotion, appropriate intensity |
| **Technical Skill** | 20% | Blocking, pops, timing, focus |
| **Material Selection** | 15% | Quality of cutting, thematic unity |
| **Overall Impact** | 10% | Audience connection, memorability |
    `,focusAreas:["Character development and distinction","Emotional authenticity","Physical performance (blocking, gestures)","Vocal variety and character voices","Timing and pacing","Thematic development"]},[ke.EXTEMP]:{name:"Extemporaneous Speaking",description:"Current events analysis with limited prep time",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Extemporaneous Speaking Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Analysis Depth** | 30% | Quality of reasoning, insight into topic |
| **Evidence & Sources** | 25% | Citation quality, recency, variety |
| **Organization** | 20% | Clear structure, strong transitions |
| **Answering the Question** | 15% | Directly addresses the prompt |
| **Delivery** | 10% | Conversational, engaging, minimal notes |
    `,focusAreas:["Direct answer to the question","Analysis depth and insight","Evidence and source citations","Current events knowledge","Logical organization","Conversational delivery"]},[ke.LIMITED_PREP]:{name:"Limited Preparation",description:"Impromptu speaking with minimal prep time",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Impromptu Speaking Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Quick Thinking** | 30% | Ability to form coherent thoughts rapidly |
| **Relevance** | 25% | Staying on topic, addressing the prompt |
| **Organization** | 20% | Clear structure despite limited prep |
| **Creativity** | 15% | Original examples, unique perspectives |
| **Delivery** | 10% | Confident, fluid despite improvisation |
    `,focusAreas:["Response relevance to prompt","Quick organization of thoughts","Creative examples and analogies","Confident delivery","Time management","Coherent structure"]}},SS=t=>{const e=Xo[t]||ke.INDIVIDUAL_SPEAKING;return MV[e]},yg=t=>Xo[t]===ke.DEBATE?["Proposition/Affirmative","Opposition/Negative","Government","Opposition","Pro","Con","Opening Member","Closing Member/Whip","Sponsor (Congress)"]:["Individual/Solo","Neutral/Evaluator"],bE=(t,e,n,r)=>{const a=SS(t),l=Xo[t];let u=`You are an expert ${t} coach and judge with years of experience evaluating this specific event type.`;return e&&(u+=`
Topic/Prompt: ${e}`),a.showOpposingArguments&&n&&(u+=`
Side/Position: ${n}`),u+=`

Evaluate the following speech based on this event-specific rubric:
${a.rubric}`,l===ke.DEBATE?u+=`

### DEBATE-SPECIFIC ANALYSIS:
- Analyze the strength and clarity of each argument presented
- Identify potential opposing arguments and how well they were preempted or addressed
- Evaluate evidence quality and proper citation
- Assess impact calculus (magnitude, probability, timeframe)
- Note clash quality and direct engagement with opposing points
- Consider cross-examination strategy if applicable`:l===ke.INDIVIDUAL_SPEAKING?u+=`

### INDIVIDUAL SPEAKING-SPECIFIC ANALYSIS:
- Focus on content clarity and information accuracy
- Do NOT analyze opposing arguments (this is not a debate event)
- Evaluate speech organization and flow
- Assess delivery techniques (vocal variety, gestures, eye contact)
- Consider audience engagement and persuasive techniques
- NOTE: Do not penalize for missing visual aids or props (text-only evaluation)`:l===ke.INTERP?u+=`

### INTERPRETATION-SPECIFIC ANALYSIS:
- Evaluate character development and distinction between characters
- Assess emotional authenticity and range
- Analyze physical performance elements described
- Consider pacing and timing
- Note thematic development and material selection quality
- Do NOT analyze arguments or debate elements (this is a performance event)`:l===ke.EXTEMP?u+=`

### EXTEMP-SPECIFIC ANALYSIS:
- Evaluate how directly the question/prompt is answered
- Assess depth of analysis on current events
- Check quality and recency of evidence cited
- Consider organization and structure
- Note delivery style (should be conversational, not memorized)
- Do NOT analyze debate clash (this is not a debate event)`:l===ke.LIMITED_PREP&&(u+=`

### IMPROMPTU-SPECIFIC ANALYSIS:
- Evaluate quick thinking and coherent thought formation
- Assess relevance to the prompt given
- Consider organization despite limited preparation time
- Note creative examples and unique perspectives
- Evaluate confidence and delivery fluidity
- Be understanding of minor hesitations given the time constraints`),u+=`

Please provide the output in the following Markdown format:

## Executive Summary
(Brief 2-3 sentence overview of overall performance)

## Scorecard
| Category | Score (0-10) | Notes |
| --- | --- | --- |
(Fill based on the rubric above)
| **Total** | **(Average/Sum)** | |

## Key ${l===ke.DEBATE?"Argument":"Content"} Analysis
(Detailed breakdown of main points made)
${a.showOpposingArguments?`
## Opposing Arguments & Clash
(Analysis of responses to opponent arguments and missed clash opportunities)`:""}

## Constructive Feedback
- **Strengths**: ...
- **Areas for Improvement**: ...

## Recommended Drills
(3-5 specific exercises to improve weak areas, tailored to this event type)

## Quick Tips for Next Round
(2-3 actionable items for immediate improvement)

SPEECH TEXT:
${r}`,u},EE={[ke.DEBATE]:{label:"Debate Events",icon:"",color:"text-red-400"},[ke.INDIVIDUAL_SPEAKING]:{label:"Individual Speaking",icon:"",color:"text-blue-400"},[ke.INTERP]:{label:"Interpretation",icon:"",color:"text-purple-400"},[ke.EXTEMP]:{label:"Extemporaneous",icon:"",color:"text-green-400"},[ke.LIMITED_PREP]:{label:"Limited Prep",icon:"",color:"text-yellow-400"}};var xE;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(xE||(xE={}));var TE;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(TE||(TE={}));var wE;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(wE||(wE={}));const SE=["user","model","function","system"];var AE;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(AE||(AE={}));var CE;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(CE||(CE={}));var IE;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(IE||(IE={}));var kE;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(kE||(kE={}));var Ru;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(Ru||(Ru={}));var RE;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(RE||(RE={}));var NE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(NE||(NE={}));var DE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(DE||(DE={}));class yn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Ro extends yn{constructor(e,n){super(e),this.response=n}}class AS extends yn{constructor(e,n,r,a){super(e),this.status=n,this.statusText=r,this.errorDetails=a}}class Os extends yn{}class CS extends yn{}const PV="https://generativelanguage.googleapis.com",LV="v1beta",VV="0.24.1",jV="genai-js";var La;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(La||(La={}));class zV{constructor(e,n,r,a,l){this.model=e,this.task=n,this.apiKey=r,this.stream=a,this.requestOptions=l}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||LV;let l=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||PV}/${r}/${this.model}:${this.task}`;return this.stream&&(l+="?alt=sse"),l}}function UV(t){const e=[];return t?.apiClient&&e.push(t.apiClient),e.push(`${jV}/${VV}`),e.join(" ")}async function BV(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",UV(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(a){throw new Os(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${a.message}`)}for(const[a,l]of r.entries()){if(a==="x-goog-api-key")throw new Os(`Cannot set reserved header name ${a}`);if(a==="x-goog-api-client")throw new Os(`Header name ${a} can only be set using the apiClient field`);n.append(a,l)}}return n}async function FV(t,e,n,r,a,l){const u=new zV(t,e,n,r,l);return{url:u.toString(),fetchOptions:Object.assign(Object.assign({},KV(l)),{method:"POST",headers:await BV(u),body:a})}}async function uc(t,e,n,r,a,l={},u=fetch){const{url:h,fetchOptions:m}=await FV(t,e,n,r,a,l);return qV(h,m,u)}async function qV(t,e,n=fetch){let r;try{r=await n(t,e)}catch(a){HV(a,t)}return r.ok||await GV(r,t),r}function HV(t,e){let n=t;throw n.name==="AbortError"?(n=new CS(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof AS||t instanceof Os||(n=new yn(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function GV(t,e){let n="",r;try{const a=await t.json();n=a.error.message,a.error.details&&(n+=` ${JSON.stringify(a.error.details)}`,r=a.error.details)}catch{}throw new AS(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function KV(t){const e={};if(t?.signal!==void 0||t?.timeout>=0){const n=new AbortController;t?.timeout>=0&&setTimeout(()=>n.abort(),t.timeout),t?.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}function Ny(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),nf(t.candidates[0]))throw new Ro(`${Ts(t)}`,t);return QV(t)}else if(t.promptFeedback)throw new Ro(`Text not available. ${Ts(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),nf(t.candidates[0]))throw new Ro(`${Ts(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),OE(t)[0]}else if(t.promptFeedback)throw new Ro(`Function call not available. ${Ts(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),nf(t.candidates[0]))throw new Ro(`${Ts(t)}`,t);return OE(t)}else if(t.promptFeedback)throw new Ro(`Function call not available. ${Ts(t)}`,t)},t}function QV(t){var e,n,r,a;const l=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const u of(a=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||a===void 0?void 0:a.parts)u.text&&l.push(u.text),u.executableCode&&l.push("\n```"+u.executableCode.language+`
`+u.executableCode.code+"\n```\n"),u.codeExecutionResult&&l.push("\n```\n"+u.codeExecutionResult.output+"\n```\n");return l.length>0?l.join(""):""}function OE(t){var e,n,r,a;const l=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const u of(a=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||a===void 0?void 0:a.parts)u.functionCall&&l.push(u.functionCall);if(l.length>0)return l}const YV=[Ru.RECITATION,Ru.SAFETY,Ru.LANGUAGE];function nf(t){return!!t.finishReason&&YV.includes(t.finishReason)}function Ts(t){var e,n,r;let a="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)a+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(a+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(a+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const l=t.candidates[0];nf(l)&&(a+=`Candidate was blocked due to ${l.finishReason}`,l.finishMessage&&(a+=`: ${l.finishMessage}`))}return a}function qu(t){return this instanceof qu?(this.v=t,this):new qu(t)}function $V(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),a,l=[];return a={},u("next"),u("throw"),u("return"),a[Symbol.asyncIterator]=function(){return this},a;function u(E){r[E]&&(a[E]=function(T){return new Promise(function(I,U){l.push([E,T,I,U])>1||h(E,T)})})}function h(E,T){try{m(r[E](T))}catch(I){y(l[0][3],I)}}function m(E){E.value instanceof qu?Promise.resolve(E.value.v).then(p,_):y(l[0][2],E)}function p(E){h("next",E)}function _(E){h("throw",E)}function y(E,T){E(T),l.shift(),l.length&&h(l[0][0],l[0][1])}}const ME=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function XV(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=ZV(e),[r,a]=n.tee();return{stream:JV(r),response:WV(a)}}async function WV(t){const e=[],n=t.getReader();for(;;){const{done:r,value:a}=await n.read();if(r)return Ny(ej(e));e.push(a)}}function JV(t){return $V(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:a}=yield qu(n.read());if(a)break;yield yield qu(Ny(r))}})}function ZV(t){const e=t.getReader();return new ReadableStream({start(r){let a="";return l();function l(){return e.read().then(({value:u,done:h})=>{if(h){if(a.trim()){r.error(new yn("Failed to parse stream"));return}r.close();return}a+=u;let m=a.match(ME),p;for(;m;){try{p=JSON.parse(m[1])}catch{r.error(new yn(`Error parsing JSON response: "${m[1]}"`));return}r.enqueue(p),a=a.substring(m[0].length),m=a.match(ME)}return l()}).catch(u=>{let h=u;throw h.stack=u.stack,h.name==="AbortError"?h=new CS("Request aborted when reading from the stream"):h=new yn("Error reading from the stream"),h})}}})}function ej(t){const e=t[t.length-1],n={promptFeedback:e?.promptFeedback};for(const r of t){if(r.candidates){let a=0;for(const l of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[a]||(n.candidates[a]={index:a}),n.candidates[a].citationMetadata=l.citationMetadata,n.candidates[a].groundingMetadata=l.groundingMetadata,n.candidates[a].finishReason=l.finishReason,n.candidates[a].finishMessage=l.finishMessage,n.candidates[a].safetyRatings=l.safetyRatings,l.content&&l.content.parts){n.candidates[a].content||(n.candidates[a].content={role:l.content.role||"user",parts:[]});const u={};for(const h of l.content.parts)h.text&&(u.text=h.text),h.functionCall&&(u.functionCall=h.functionCall),h.executableCode&&(u.executableCode=h.executableCode),h.codeExecutionResult&&(u.codeExecutionResult=h.codeExecutionResult),Object.keys(u).length===0&&(u.text=""),n.candidates[a].content.parts.push(u)}a++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}async function IS(t,e,n,r){const a=await uc(e,La.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return XV(a)}async function kS(t,e,n,r){const l=await(await uc(e,La.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:Ny(l)}}function RS(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Hu(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return tj(e)}function tj(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,a=!1;for(const l of t)"functionResponse"in l?(n.parts.push(l),a=!0):(e.parts.push(l),r=!0);if(r&&a)throw new yn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!a)throw new yn("No content is provided for sending chat message.");return r?e:n}function nj(t,e){var n;let r={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(n=e?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const a=t.generateContentRequest!=null;if(t.contents){if(a)throw new Os("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(a)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const l=Hu(t);r.contents=[l]}return{generateContentRequest:r}}function PE(t){let e;return t.contents?e=t:e={contents:[Hu(t)]},t.systemInstruction&&(e.systemInstruction=RS(t.systemInstruction)),e}function ij(t){return typeof t=="string"||Array.isArray(t)?{content:Hu(t)}:t}const LE=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],rj={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function sj(t){let e=!1;for(const n of t){const{role:r,parts:a}=n;if(!e&&r!=="user")throw new yn(`First content should be with role 'user', got ${r}`);if(!SE.includes(r))throw new yn(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(SE)}`);if(!Array.isArray(a))throw new yn("Content should have 'parts' property with an array of Parts");if(a.length===0)throw new yn("Each Content should have at least one part");const l={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const h of a)for(const m of LE)m in h&&(l[m]+=1);const u=rj[r];for(const h of LE)if(!u.includes(h)&&l[h]>0)throw new yn(`Content with role '${r}' can't contain '${h}' part`);e=!0}}function VE(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}const jE="SILENT_ERROR";class aj{constructor(e,n,r,a={}){this.model=n,this.params=r,this._requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r?.history&&(sj(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,a,l,u,h,m;await this._sendPromise;const p=Hu(e),_={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(u=this.params)===null||u===void 0?void 0:u.toolConfig,systemInstruction:(h=this.params)===null||h===void 0?void 0:h.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,p]},y=Object.assign(Object.assign({},this._requestOptions),n);let E;return this._sendPromise=this._sendPromise.then(()=>kS(this._apiKey,this.model,_,y)).then(T=>{var I;if(VE(T.response)){this._history.push(p);const U=Object.assign({parts:[],role:"model"},(I=T.response.candidates)===null||I===void 0?void 0:I[0].content);this._history.push(U)}else{const U=Ts(T.response);U&&console.warn(`sendMessage() was unsuccessful. ${U}. Inspect response object for details.`)}E=T}).catch(T=>{throw this._sendPromise=Promise.resolve(),T}),await this._sendPromise,E}async sendMessageStream(e,n={}){var r,a,l,u,h,m;await this._sendPromise;const p=Hu(e),_={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(u=this.params)===null||u===void 0?void 0:u.toolConfig,systemInstruction:(h=this.params)===null||h===void 0?void 0:h.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,p]},y=Object.assign(Object.assign({},this._requestOptions),n),E=IS(this._apiKey,this.model,_,y);return this._sendPromise=this._sendPromise.then(()=>E).catch(T=>{throw new Error(jE)}).then(T=>T.response).then(T=>{if(VE(T)){this._history.push(p);const I=Object.assign({},T.candidates[0].content);I.role||(I.role="model"),this._history.push(I)}else{const I=Ts(T);I&&console.warn(`sendMessageStream() was unsuccessful. ${I}. Inspect response object for details.`)}}).catch(T=>{T.message!==jE&&console.error(T)}),E}}async function oj(t,e,n,r){return(await uc(e,La.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}async function lj(t,e,n,r){return(await uc(e,La.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function uj(t,e,n,r){const a=n.requests.map(u=>Object.assign(Object.assign({},u),{model:e}));return(await uc(e,La.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:a}),r)).json()}class zE{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=RS(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const a=PE(e),l=Object.assign(Object.assign({},this._requestOptions),n);return kS(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},a),l)}async generateContentStream(e,n={}){var r;const a=PE(e),l=Object.assign(Object.assign({},this._requestOptions),n);return IS(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},a),l)}startChat(e){var n;return new aj(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=nj(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),a=Object.assign(Object.assign({},this._requestOptions),n);return oj(this.apiKey,this.model,r,a)}async embedContent(e,n={}){const r=ij(e),a=Object.assign(Object.assign({},this._requestOptions),n);return lj(this.apiKey,this.model,r,a)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return uj(this.apiKey,this.model,e,r)}}class Fs{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new yn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new zE(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new Os("Cached content must contain a `name` field.");if(!e.model)throw new Os("Cached content must contain a `model` field.");const a=["model","systemInstruction"];for(const u of a)if(n?.[u]&&e[u]&&n?.[u]!==e[u]){if(u==="model"){const h=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,m=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(h===m)continue}throw new Os(`Different value for "${u}" specified in modelParams (${n[u]}) and cachedContent (${e[u]})`)}const l=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new zE(this.apiKey,l,r)}}function NS(t){return new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function cj(t){const e=new Date(t),r=new Date-e,a=Math.floor(r/6e4),l=Math.floor(r/36e5),u=Math.floor(r/864e5);return a<1?"Just now":a<60?`${a}m ago`:l<24?`${l}h ago`:u<7?`${u}d ago`:NS(t)}function hj(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}const UE={get:(t,e=null)=>{try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch{return e}},set:(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(n){console.error("Storage error:",n)}},remove:t=>{try{localStorage.removeItem(t)}catch(e){console.error("Storage error:",e)}}},BE="adjudicator_history",FE=50;function ol(){const[t,e]=ie.useState([]),[n,r]=ie.useState(!0);ie.useEffect(()=>{const T=UE.get(BE,[]);e(T),r(!1)},[]),ie.useEffect(()=>{n||UE.set(BE,t)},[t,n]);const a=ie.useCallback(T=>{const I={id:hj(),createdAt:new Date().toISOString(),...T};return e(U=>[I,...U].slice(0,FE)),I.id},[]),l=ie.useCallback(T=>{e(I=>I.filter(U=>U.id!==T))},[]),u=ie.useCallback(()=>{e([])},[]),h=ie.useCallback(T=>t.find(I=>I.id===T),[t]),m=ie.useCallback(T=>t.filter(I=>I.type===T),[t]),p=ie.useCallback((T,I)=>{e(U=>U.map(L=>L.id===T?{...L,...I,updatedAt:new Date().toISOString()}:L))},[]),_=ie.useCallback(()=>{const T=JSON.stringify(t,null,2),I=new Blob([T],{type:"application/json"}),U=URL.createObjectURL(I),L=document.createElement("a");L.href=U,L.download=`adjudicator-history-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL(U)},[t]),y=ie.useCallback(async T=>{try{const I=await T.text(),U=JSON.parse(I);return Array.isArray(U)?(e(L=>{const z=new Set(L.map(q=>q.id));return[...U.filter(q=>!z.has(q.id)),...L].slice(0,FE)}),{success:!0,count:U.length}):{success:!1,error:"Invalid format"}}catch(I){return{success:!1,error:I.message}}},[]),E={total:t.length,byType:{judge:t.filter(T=>T.type==="judge").length,board:t.filter(T=>T.type==="board").length,coach:t.filter(T=>T.type==="coach").length,strategy:t.filter(T=>T.type==="strategy").length,extemp:t.filter(T=>T.type==="extemp").length},lastSession:t[0]||null};return{history:t,isLoading:n,stats:E,addSession:a,deleteSession:l,clearHistory:u,getSession:h,getSessionsByType:m,updateSession:p,exportHistory:_,importHistory:y}}const fj=({apiKey:t})=>{const[e,n]=ie.useState("Public Forum (PF)"),[r,a]=ie.useState("Proposition/Affirmative"),[l,u]=ie.useState(""),[h,m]=ie.useState(""),[p,_]=ie.useState(!1),[y,E]=ie.useState(null),[T,I]=ie.useState(""),[U,L]=ie.useState(!1),[z,F]=ie.useState(!1),{addSession:q}=ol(),se=ie.useMemo(()=>SS(e),[e]),he=ie.useMemo(()=>yg(e),[e]),K=Xo[e],P=EE[K],R=D=>{n(D);const N=yg(D);N.includes(r)||a(N[0])},O=async()=>{if(!t){I("Please enter a valid Gemini API Key in Settings.");return}if(!h.trim()){I("Please enter the speech transcript.");return}_(!0),I(""),E(null);try{const N=new Fs(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),ue=bE(e,l,r,h),oe=(await(await N.generateContent(ue)).response).text();E(oe),q({type:"judge",title:l||`${e} Analysis`,input:{transcript:h.substring(0,500)+(h.length>500?"...":"")},result:oe,metadata:{speechType:e,side:se.showOpposingArguments?r:null,topic:l,eventCategory:K}}),F(!0),setTimeout(()=>F(!1),2e3)}catch(D){console.error("Gemini Error:",D);try{const ue=new Fs(t).getGenerativeModel({model:"gemini-1.5-flash"}),ae=bE(e,l,r,h),me=(await(await ue.generateContent(ae)).response).text();E(me)}catch{I(`Error: ${D.message}. Please try again.`)}}finally{_(!1)}},A=()=>{y&&(navigator.clipboard.writeText(y),L(!0),setTimeout(()=>L(!1),2e3))},C=ie.useMemo(()=>{const D={};return id.forEach(N=>{const ue=Xo[N];D[ue]||(D[ue]=[]),D[ue].push(N)}),D},[]);return b.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-[calc(100vh-8rem)]",children:[b.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[b.jsxs("div",{className:"glass-card space-y-4",children:[P&&b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("span",{className:"text-lg",children:P.icon}),b.jsx("span",{className:`text-sm font-medium ${P.color}`,children:P.label}),se.showOpposingArguments&&b.jsx("span",{className:"px-2 py-0.5 text-xs bg-red-500/20 text-red-400 rounded-full",children:"Includes Clash Analysis"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Event Format"}),b.jsx("select",{value:e,onChange:D=>R(D.target.value),className:"input-field",children:Object.entries(C).map(([D,N])=>{const ue=EE[D];return b.jsx("optgroup",{label:`${ue?.icon||""} ${ue?.label||D}`,children:N.map(ae=>b.jsx("option",{value:ae,children:ae},ae))},D)})})]}),se.showOpposingArguments?b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Side/Position"}),b.jsx("select",{value:r,onChange:D=>a(D.target.value),className:"input-field",children:he.map(D=>b.jsx("option",{value:D,children:D},D))})]}):b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Speaker Role"}),b.jsx("select",{value:r,onChange:D=>a(D.target.value),className:"input-field",children:he.map(D=>b.jsx("option",{value:D,children:D},D))})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:se.showOpposingArguments?"Resolution/Topic":"Speech Topic/Prompt"}),b.jsx("input",{type:"text",value:l,onChange:D=>u(D.target.value),placeholder:se.showOpposingArguments?"Resolved: The United States should...":"Enter the topic or prompt...",className:"input-field"})]}),b.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx(KE,{className:"w-4 h-4 text-primary"}),b.jsx("span",{className:"text-sm font-medium text-text-secondary",children:"This analysis will focus on:"})]}),b.jsxs("div",{className:"flex flex-wrap gap-2",children:[se.focusAreas.slice(0,4).map((D,N)=>b.jsx("span",{className:"px-2 py-1 text-xs bg-slate-700/50 text-text-secondary rounded-full",children:D},N)),se.focusAreas.length>4&&b.jsxs("span",{className:"px-2 py-1 text-xs text-text-muted",children:["+",se.focusAreas.length-4," more"]})]})]})]}),b.jsxs("div",{className:"flex-1 glass-card flex flex-col p-0 overflow-hidden",children:[b.jsx("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50",children:b.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Speech Transcript"})}),b.jsx("textarea",{value:h,onChange:D=>m(D.target.value),placeholder:"Paste the speech text here...",className:"flex-1 w-full bg-transparent p-4 resize-none focus:outline-none font-mono text-sm text-text-primary"}),b.jsxs("div",{className:"p-4 border-t border-slate-700/50 bg-slate-900/50 flex justify-between items-center",children:[b.jsxs("span",{className:"text-xs text-text-muted",children:[h.length," chars"]}),b.jsxs("button",{onClick:O,disabled:p,className:"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[p?b.jsx(qs,{className:"w-4 h-4 animate-spin"}):b.jsx(QE,{className:"w-4 h-4"}),p?"Analyzing...":`Judge ${se.name}`]})]})]}),T&&b.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-2 text-red-400 text-sm",children:[b.jsx(Ms,{className:"w-4 h-4"}),T]})]}),b.jsxs("div",{className:"w-full lg:w-1/2 glass-card overflow-hidden flex flex-col p-0",children:[b.jsxs("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50 flex justify-between items-center",children:[b.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[b.jsx(Lo,{className:"w-4 h-4 text-primary"}),se.name," Evaluation"]}),y&&b.jsxs("div",{className:"flex items-center gap-2",children:[z&&b.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1",children:[b.jsx(Ps,{className:"w-3 h-3"})," Saved"]}),b.jsx("button",{onClick:A,className:"text-text-secondary hover:text-white transition-colors",title:"Copy to clipboard",children:U?b.jsx(Wo,{className:"w-4 h-4 text-green-500"}):b.jsx(Gu,{className:"w-4 h-4"})})]})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:y?b.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-cyan-400 prose-a:text-accent prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-2 prose-td:p-2 prose-th:bg-slate-800/50",children:b.jsx(oc,{remarkPlugins:[lc],children:y})}):b.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-text-muted opacity-50",children:[b.jsx("span",{className:"text-5xl mb-4",children:P?.icon||""}),b.jsxs("p",{className:"text-center",children:["Ready to evaluate your ",se.name.toLowerCase()," speech.",b.jsx("br",{}),b.jsx("span",{className:"text-xs",children:"Enter details and click Analyze."})]})]})})]})]})},dj=({apiKey:t})=>{const[e,n]=ie.useState("Public Forum (PF)"),[r,a]=ie.useState("Proposition/Affirmative"),[l,u]=ie.useState(""),[h,m]=ie.useState(""),[p,_]=ie.useState([]),[y,E]=ie.useState(!1),[T,I]=ie.useState(null),[U,L]=ie.useState(""),[z,F]=ie.useState(!1),[q,se]=ie.useState(!1),he=ie.useRef(null),{addSession:K}=ol(),P=C=>{const D=Array.from(C.target.files);D.length!==0&&(D.forEach(N=>{if(N.size>4*1024*1024){L(ae=>(ae?`${ae} `:"")+`Skipped ${N.name} (too large).`);return}const ue=new FileReader;ue.onloadend=()=>{const ae=ue.result.split(",")[1];_(Y=>[...Y,{id:Math.random().toString(36).substr(2,9),url:ue.result,raw:ae,mimeType:N.type,name:N.name}])},ue.readAsDataURL(N)}),he.current&&(he.current.value=""))},R=C=>{_(D=>D.filter(N=>N.id!==C))},O=async()=>{if(!t){L("Please enter a valid Gemini API Key in Settings.");return}if(p.length===0&&!h.trim()){L("Please upload images of the board or provide a description.");return}E(!0),L(""),I(null);try{const D=new Fs(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),N=`
        Expert Debate Coach (Flowing). Evaluate board/flow. 
        Context: ${e}, ${r}, Topic: ${l}. 
        Assess Organization, Grouping, Legibility, Suggestions. 
        User Notes: ${h}. 
        
        Please provide the output in the following Markdown format:
        ## Executive Summary
        (Brief overview)

        ## Scorecard
        | Category | Score (0-10) | Notes |
        | --- | --- | --- |
        | Organization | | |
        | Grouping | | |
        | Legibility | | |
        | Strategy | | |
        | **Total** | **(Sum)** | |

        ## Detailed Feedback
        ...
      `,ue=p.map(me=>({inlineData:{data:me.raw,mimeType:me.mimeType}})),oe=(await(await D.generateContent([N,...ue])).response).text();I(oe),K({type:"board",title:l||"Board Evaluation",input:{imageCount:p.length,description:h.substring(0,200)},result:oe,metadata:{speechType:e,side:r,topic:l}}),se(!0),setTimeout(()=>se(!1),2e3)}catch(C){console.error("Gemini Error:",C);try{const N=new Fs(t).getGenerativeModel({model:"gemini-1.5-flash"}),ue="... (same prompt) ...";L(`Error: ${C.message}. Please try again.`)}catch{L(`Error: ${C.message}`)}}finally{E(!1)}},A=()=>{T&&(navigator.clipboard.writeText(T),F(!0),setTimeout(()=>F(!1),2e3))};return b.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-[calc(100vh-8rem)]",children:[b.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[b.jsxs("div",{className:"glass-card space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Format"}),b.jsx("select",{value:e,onChange:C=>n(C.target.value),className:"input-field",children:id.map(C=>b.jsx("option",{value:C,children:C},C))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Side"}),b.jsx("select",{value:r,onChange:C=>a(C.target.value),className:"input-field",children:wS.map(C=>b.jsx("option",{value:C,children:C},C))})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Topic"}),b.jsx("input",{type:"text",value:l,onChange:C=>u(C.target.value),placeholder:"Resolved: The United States should...",className:"input-field"})]})]}),b.jsxs("div",{className:"flex-1 glass-card flex flex-col p-0 overflow-hidden",children:[b.jsx("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50",children:b.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Board Images & Notes"})}),b.jsxs("div",{className:"flex-1 p-4 overflow-y-auto custom-scrollbar space-y-4",children:[p.length>0&&b.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:p.map(C=>b.jsxs("div",{className:"relative group aspect-video bg-slate-800 rounded-lg overflow-hidden border border-slate-700",children:[b.jsx("img",{src:C.url,alt:"Board",className:"w-full h-full object-cover"}),b.jsx("button",{onClick:()=>R(C.id),className:"absolute top-1 right-1 p-1 bg-red-500/80 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:b.jsx(WE,{className:"w-3 h-3"})})]},C.id))}),b.jsxs("div",{onClick:()=>he.current?.click(),className:"border-2 border-dashed border-slate-700 rounded-xl p-8 flex flex-col items-center justify-center text-slate-500 hover:border-primary hover:text-primary hover:bg-primary/5 transition-all cursor-pointer",children:[b.jsx($E,{className:"w-8 h-8 mb-2"}),b.jsx("span",{className:"text-sm font-medium",children:"Click to upload images"}),b.jsx("span",{className:"text-xs opacity-70",children:"Max 4MB per file"}),b.jsx("input",{type:"file",ref:he,onChange:P,multiple:!0,accept:"image/*",className:"hidden"})]}),b.jsx("textarea",{value:h,onChange:C=>m(C.target.value),placeholder:"Add any specific notes or questions about the flow...",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg p-3 text-sm text-text-primary focus:outline-none focus:border-primary resize-none h-24"})]}),b.jsxs("div",{className:"p-4 border-t border-slate-700/50 bg-slate-900/50 flex justify-between items-center",children:[b.jsxs("span",{className:"text-xs text-text-muted",children:[p.length," images"]}),b.jsxs("button",{onClick:O,disabled:y,className:"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[y?b.jsx(qs,{className:"w-4 h-4 animate-spin"}):b.jsx(QE,{className:"w-4 h-4"}),y?"Analyzing...":"Evaluate Board"]})]})]}),U&&b.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-2 text-red-400 text-sm",children:[b.jsx(Ms,{className:"w-4 h-4"}),U]})]}),b.jsxs("div",{className:"w-full lg:w-1/2 glass-card overflow-hidden flex flex-col p-0",children:[b.jsxs("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50 flex justify-between items-center",children:[b.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[b.jsx(Op,{className:"w-4 h-4 text-primary"}),"Evaluation"]}),T&&b.jsxs("div",{className:"flex items-center gap-2",children:[q&&b.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1",children:[b.jsx(Ps,{className:"w-3 h-3"})," Saved"]}),b.jsx("button",{onClick:A,className:"text-text-secondary hover:text-white transition-colors",title:"Copy to clipboard",children:z?b.jsx(Wo,{className:"w-4 h-4 text-green-500"}):b.jsx(Gu,{className:"w-4 h-4"})})]})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:T?b.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-cyan-400 prose-a:text-accent prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-2 prose-td:p-2 prose-th:bg-slate-800/50",children:b.jsx(oc,{remarkPlugins:[lc],children:T})}):b.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-text-muted opacity-50",children:[b.jsx(Op,{className:"w-16 h-16 mb-4"}),b.jsx("p",{children:"Upload board images and click Evaluate."})]})})]})]})},mj=({analyser:t,isRecording:e})=>{const n=ie.useRef(null);return ie.useEffect(()=>{if(!t||!e||!n.current)return;const r=n.current,a=r.getContext("2d"),l=t.frequencyBinCount,u=new Uint8Array(l);let h;const m=()=>{h=requestAnimationFrame(m),t.getByteFrequencyData(u),a.clearRect(0,0,r.width,r.height);const p=r.width/l*2.5;let _,y=0;for(let E=0;E<l;E++){_=u[E]/2;const T=a.createLinearGradient(0,r.height,0,0);T.addColorStop(0,"#06b6d4"),T.addColorStop(1,"#8b5cf6"),a.fillStyle=T,a.fillRect(y,r.height-_,p,_),y+=p+1}};return m(),()=>cancelAnimationFrame(h)},[t,e]),e?b.jsx("canvas",{ref:n,width:300,height:100,className:"w-full h-24 rounded-lg bg-slate-900/50"}):b.jsx("div",{className:"w-full h-24 bg-slate-900/50 rounded-lg flex items-center justify-center text-slate-700 text-xs",children:"Visualizer Ready"})},pj=({analyser:t,isRecording:e})=>{const[n,r]=ie.useState({volume:0,brightness:0}),[a,l]=ie.useState({label:"Ready",color:"text-slate-500"}),u=ie.useRef({volume:0,brightness:0});return ie.useEffect(()=>{if(!t||!e)return;const h=t.frequencyBinCount,m=new Uint8Array(h),p=new Uint8Array(t.fftSize);let _;const y=()=>{t.getByteFrequencyData(m),t.getByteTimeDomainData(p);let E=0;for(let se=0;se<p.length;se++){const he=(p[se]-128)/128;E+=he*he}const T=Math.sqrt(E/p.length);let I=0,U=0;for(let se=0;se<h;se++)I+=se*m[se],U+=m[se];const L=U===0?0:I/U/h,z=.15;u.current.volume=u.current.volume*(1-z)+T*z,u.current.brightness=u.current.brightness*(1-z)+L*z;const{volume:F,brightness:q}=u.current;r({volume:F,brightness:q}),F<.01?l({label:"Listening...",color:"text-slate-500"}):F<.05?l({label:"Too Quiet",color:"text-amber-500"}):F>.6?l({label:"Too Loud",color:"text-red-500"}):q>.5?l({label:"Urgent / Intense",color:"text-orange-500"}):q<.2?l({label:"Serious",color:"text-indigo-500"}):l({label:"Balanced",color:"text-green-500"}),_=requestAnimationFrame(y)};return y(),()=>cancelAnimationFrame(_)},[t,e]),e?b.jsxs("div",{className:"flex flex-col items-center space-y-2 mt-4 animate-in fade-in",children:[b.jsx("div",{className:`text-lg font-bold ${a.color} transition-colors duration-300`,children:a.label}),b.jsxs("div",{className:"flex space-x-4 text-xs text-slate-400",children:[b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("div",{className:"h-16 w-4 bg-slate-800 rounded-full overflow-hidden relative",children:b.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-cyan-500 transition-all duration-100",style:{height:`${Math.min(n.volume*200,100)}%`}})}),b.jsx("span",{className:"mt-1",children:"Vol"})]}),b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("div",{className:"h-16 w-4 bg-slate-800 rounded-full overflow-hidden relative",children:b.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-purple-500 transition-all duration-100",style:{height:`${Math.min(n.brightness*300,100)}%`}})}),b.jsx("span",{className:"mt-1",children:"Tone"})]})]})]}):null},gj=({apiKey:t})=>{const[e,n]=ie.useState("Public Forum (PF)"),[r,a]=ie.useState("Proposition/Affirmative"),[l,u]=ie.useState(""),[h,m]=ie.useState(!1),[p,_]=ie.useState(0),[y,E]=ie.useState(null),[T,I]=ie.useState(null),[U,L]=ie.useState(null),[z,F]=ie.useState(!1),[q,se]=ie.useState(null),[he,K]=ie.useState(""),[P,R]=ie.useState(!1),[O,A]=ie.useState(!1),{addSession:C}=ol(),D=ie.useRef(null),N=ie.useRef(null),ue=ie.useRef([]),ae=ie.useRef(null),Y=ie.useRef(null),oe=M=>{const Ie=Math.floor(M/60),tt=M%60;return`${Ie}:${tt<10?"0":""}${tt}`},me=async()=>{K("");try{const M=await navigator.mediaDevices.getUserMedia({audio:!0});Y.current=M;const Ie=new(window.AudioContext||window.webkitAudioContext),tt=Ie.createAnalyser();Ie.createMediaStreamSource(M).connect(tt),tt.fftSize=256,ae.current=Ie,L(tt),D.current=new MediaRecorder(M),ue.current=[],D.current.ondataavailable=_t=>{_t.data.size>0&&ue.current.push(_t.data)},D.current.onstop=()=>{const _t=new Blob(ue.current,{type:"audio/webm"});E(_t);const At=new FileReader;At.readAsDataURL(_t),At.onloadend=()=>{const Et=At.result.split(",")[1];I({raw:Et,mimeType:_t.type})},Y.current&&Y.current.getTracks().forEach(Et=>Et.stop()),ae.current&&(ae.current.close(),ae.current=null,L(null))},D.current.start(),m(!0),_(0),I(null),E(null),se(null),N.current=setInterval(()=>_(_t=>_t+1),1e3)}catch(M){K("Could not access microphone. Ensure permissions are granted."),console.error(M)}},Re=()=>{D.current&&h&&(D.current.stop(),m(!1),clearInterval(N.current))},V=()=>{I(null),E(null),_(0),se(null),K("")},We=async()=>{if(!t){K("Please enter a valid Gemini API Key in Settings.");return}if(!T){K("Please record audio first.");return}F(!0),K(""),se(null);try{const Ie=new Fs(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),tt=`
        Expert Speech Coach. Listen to audio. 
        Context: ${e}, ${r}, Topic: ${l}. 
        Evaluate: 
        1. Vocal Delivery (Pace, Tone, Fluency, Emotion). 
        2. Content (Clarity, Persuasion). 
        3. Score (0-100).
        
        Please provide the output in the following Markdown format:
        ## Executive Summary
        (Brief overview)

        ## Scorecard
        | Category | Score (0-10) | Notes |
        | --- | --- | --- |
        | Vocal Delivery | | |
        | Content | | |
        | Persuasion | | |
        | **Total** | **(Sum)** | |

        ## Detailed Feedback
        ...
      `,Xe={inlineData:{data:T.raw,mimeType:T.mimeType}},Et=(await(await Ie.generateContent([tt,Xe])).response).text();se(Et),C({type:"coach",title:l||"Live Coaching Session",input:{duration:oe(p)},result:Et,metadata:{speechType:e,side:r,topic:l,recordingDuration:p}}),A(!0),setTimeout(()=>A(!1),2e3)}catch(M){console.error("Gemini Error:",M),K(`Error: ${M.message}. Please try again.`)}finally{F(!1)}},Ve=()=>{q&&(navigator.clipboard.writeText(q),R(!0),setTimeout(()=>R(!1),2e3))};return b.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-[calc(100vh-8rem)]",children:[b.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[b.jsxs("div",{className:"glass-card space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Format"}),b.jsx("select",{value:e,onChange:M=>n(M.target.value),className:"input-field",children:id.map(M=>b.jsx("option",{value:M,children:M},M))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Side"}),b.jsx("select",{value:r,onChange:M=>a(M.target.value),className:"input-field",children:wS.map(M=>b.jsx("option",{value:M,children:M},M))})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Topic"}),b.jsx("input",{type:"text",value:l,onChange:M=>u(M.target.value),placeholder:"Topic or Resolution...",className:"input-field"})]})]}),b.jsxs("div",{className:"flex-1 glass-card flex flex-col p-0 overflow-hidden",children:[b.jsx("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50",children:b.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Live Recording"})}),b.jsxs("div",{className:"flex-1 p-8 flex flex-col items-center justify-center space-y-8",children:[b.jsx("div",{className:`text-6xl font-mono font-bold tracking-tighter ${h?"text-red-500 animate-pulse":"text-text-primary"}`,children:oe(p)}),b.jsxs("div",{className:"w-full max-w-md",children:[b.jsx(mj,{analyser:U,isRecording:h}),b.jsx(pj,{analyser:U,isRecording:h})]}),b.jsx("div",{className:"flex items-center gap-4",children:h?b.jsx("button",{onClick:Re,className:"w-16 h-16 rounded-full bg-slate-700 hover:bg-slate-600 flex items-center justify-center shadow-lg transition-all hover:scale-110 active:scale-95",children:b.jsx(EI,{className:"w-6 h-6 text-white fill-current"})}):b.jsx("button",{onClick:me,className:"w-16 h-16 rounded-full bg-red-500 hover:bg-red-600 flex items-center justify-center shadow-lg shadow-red-500/30 transition-all hover:scale-110 active:scale-95",children:b.jsx(rf,{className:"w-8 h-8 text-white"})})}),y&&!h&&b.jsxs("div",{className:"flex items-center gap-4 animate-in fade-in",children:[b.jsx("audio",{controls:!0,src:URL.createObjectURL(y),className:"h-10 rounded-lg"}),b.jsx("button",{onClick:V,className:"p-2 text-text-muted hover:text-white transition-colors",children:b.jsx(fI,{className:"w-5 h-5"})})]})]}),b.jsxs("div",{className:"p-4 border-t border-slate-700/50 bg-slate-900/50 flex justify-between items-center",children:[b.jsx("span",{className:"text-xs text-text-muted",children:y?"Audio recorded":"Ready to record"}),b.jsxs("button",{onClick:We,disabled:z||!T,className:"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[z?b.jsx(qs,{className:"w-4 h-4 animate-spin"}):b.jsx(i1,{className:"w-4 h-4"}),z?"Analyzing...":"Analyze Audio"]})]})]}),he&&b.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-2 text-red-400 text-sm",children:[b.jsx(Ms,{className:"w-4 h-4"}),he]})]}),b.jsxs("div",{className:"w-full lg:w-1/2 glass-card overflow-hidden flex flex-col p-0",children:[b.jsxs("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50 flex justify-between items-center",children:[b.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[b.jsx(i1,{className:"w-4 h-4 text-primary"}),"Coaching Feedback"]}),q&&b.jsxs("div",{className:"flex items-center gap-2",children:[O&&b.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1",children:[b.jsx(Ps,{className:"w-3 h-3"})," Saved"]}),b.jsx("button",{onClick:Ve,className:"text-text-secondary hover:text-white transition-colors",title:"Copy to clipboard",children:P?b.jsx(Wo,{className:"w-4 h-4 text-green-500"}):b.jsx(Gu,{className:"w-4 h-4"})})]})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:q?b.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-cyan-400 prose-a:text-accent prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-2 prose-td:p-2 prose-th:bg-slate-800/50",children:b.jsx(oc,{remarkPlugins:[lc],children:q})}):b.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-text-muted opacity-50",children:[b.jsx(rf,{className:"w-16 h-16 mb-4"}),b.jsx("p",{children:"Record speech and click Analyze."})]})})]})]})},yj=({apiKey:t})=>{const[e,n]=ie.useState("DX"),[r,a]=ie.useState("Medium"),[l,u]=ie.useState(""),[h,m]=ie.useState(!1),[p,_]=ie.useState(""),[y,E]=ie.useState(!1),[T,I]=ie.useState(!1),{addSession:U}=ol(),L=async()=>{if(!t){_("Please enter a valid Gemini API Key in Settings.");return}m(!0),u(""),_("");try{const q=new Fs(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),se=`Generate a single ${r} difficulty Extemporaneous Speaking question for the category ${e==="DX"?"United States Domestic Extemp (DX)":"International Extemp (NX)"}. The question should be current, relevant to 2024-2025 events, and formatted as a question. Do not include any other text.`,R=(await(await q.generateContent(se)).response).text().trim().replace(/^"|"$/g,"");u(R),U({type:"extemp",title:`${e} Question - ${r}`,input:{question:R},result:R,metadata:{category:e,difficulty:r}}),I(!0),setTimeout(()=>I(!1),2e3)}catch(F){console.error("Gemini Error:",F);try{const se=new Fs(t).getGenerativeModel({model:"gemini-1.5-flash"});_(`Error: ${F.message}. Please try again.`)}catch{_(`Error: ${F.message}`)}}finally{m(!1)}},z=()=>{l&&(navigator.clipboard.writeText(l),E(!0),setTimeout(()=>E(!1),2e3))};return b.jsx("div",{className:"max-w-2xl mx-auto mt-10",children:b.jsxs("div",{className:"glass-card space-y-8",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[b.jsx(vg,{className:"w-8 h-8 text-primary"}),"Extemp Generator"]}),b.jsxs("div",{className:"flex bg-slate-900/50 rounded-lg p-1 border border-slate-700",children:[b.jsx("button",{onClick:()=>n("DX"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${e==="DX"?"bg-primary text-white shadow-lg":"text-text-secondary hover:text-white"}`,children:"Domestic (DX)"}),b.jsx("button",{onClick:()=>n("NX"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${e==="NX"?"bg-primary text-white shadow-lg":"text-text-secondary hover:text-white"}`,children:"International (NX)"})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:"Difficulty Level"}),b.jsx("div",{className:"grid grid-cols-3 gap-4",children:["Easy","Medium","Hard"].map(F=>b.jsx("button",{onClick:()=>a(F),className:`py-3 rounded-xl border transition-all ${r===F?"bg-primary/10 border-primary text-primary shadow-lg shadow-primary/10":"bg-slate-900/30 border-slate-700 text-text-secondary hover:border-slate-500 hover:bg-slate-800"}`,children:F},F))})]}),b.jsxs("button",{onClick:L,disabled:h,className:"w-full btn-primary py-4 text-lg flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:[h?b.jsx(qs,{className:"w-6 h-6 animate-spin"}):b.jsx(cI,{className:"w-6 h-6"}),h?"Generating Question...":"Generate New Question"]}),p&&b.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-xl flex items-center gap-3 text-red-400",children:[b.jsx(Ms,{className:"w-5 h-5 flex-shrink-0"}),p]}),l&&b.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4",children:b.jsxs("div",{className:"bg-slate-900/80 border border-slate-700 rounded-2xl p-8 relative group",children:[b.jsxs("p",{className:"text-xl md:text-2xl font-serif text-center text-white leading-relaxed",children:['"',l,'"']}),b.jsx("button",{onClick:z,className:"absolute top-4 right-4 p-2 text-text-secondary hover:text-white bg-slate-800/50 hover:bg-slate-700 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Copy to clipboard",children:y?b.jsx(Wo,{className:"w-5 h-5 text-green-500"}):b.jsx(Gu,{className:"w-5 h-5"})}),T&&b.jsxs("span",{className:"absolute top-4 left-4 text-xs text-emerald-400 flex items-center gap-1 bg-emerald-500/10 px-2 py-1 rounded-full",children:[b.jsx(Ps,{className:"w-3 h-3"})," Saved to history"]})]})})]})})},_j=({apiKey:t})=>{const e=ie.useMemo(()=>id.filter(C=>Xo[C]===ke.DEBATE),[]),[n,r]=ie.useState(e[0]||"Public Forum (PF)"),[a,l]=ie.useState("Proposition/Affirmative"),[u,h]=ie.useState(""),[m,p]=ie.useState(""),[_,y]=ie.useState("comprehensive"),[E,T]=ie.useState(!1),[I,U]=ie.useState(null),[L,z]=ie.useState(""),[F,q]=ie.useState(!1),[se,he]=ie.useState(!1),{addSession:K}=ol(),P=ie.useMemo(()=>yg(n),[n]),R=[{id:"comprehensive",label:"Full Strategy",icon:vu,description:"Complete debate strategy with arguments, rebuttals, and flow"},{id:"arguments",label:"Argument Builder",icon:YC,description:"Focus on constructing strong arguments"},{id:"rebuttals",label:"Rebuttal Prep",icon:yI,description:"Anticipate and counter opponent arguments"},{id:"crossfire",label:"Cross-Ex Prep",icon:SI,description:"Strategic questions and responses"}],O=async()=>{if(!t){z("Please enter a valid Gemini API Key in Settings.");return}if(!u.trim()){z("Please enter the debate topic or resolution.");return}T(!0),z(""),U(null);try{const D=new Fs(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),N={comprehensive:`You are an expert Debate Coach preparing a student for a ${n} debate.

**Topic/Resolution:** ${u}
**Side:** ${a}
${m?`**Additional Context:** ${m}`:""}

Generate a COMPREHENSIVE DEBATE STRATEGY. Include:

##  Strategic Overview
A brief (2-3 sentence) overview of the best approach for this position.

##  Core Framework
The central theme/value/criterion that should anchor all arguments.

##  Main Arguments (3-4)
For each argument provide:
### Argument 1: [Compelling Title]
- **Claim**: The main assertion (1 sentence)
- **Warrant**: The logical reasoning (2-3 sentences)
- **Impact**: Why this matters - include magnitude, timeframe, probability
- **Evidence Needed**: Specific types of sources/data to find
- **Tag Line**: A memorable 5-7 word summary

##  Anticipated Opponent Arguments
For the top 3 likely opponent arguments:
### Counter to: [Their Argument]
- **Their likely claim**: What they'll say
- **Your response strategy**: How to refute it
- **Turn potential**: Can you flip this to your advantage?

##  Cross-Examination Strategy
### Questions to Ask
1. [Strategic question with goal]
2. [Strategic question with goal]
3. [Strategic question with goal]

### Likely Questions You'll Face
- [Question]  [Prepared response]
- [Question]  [Prepared response]

##  Flow Visualization
\`\`\`

                      ${a.toUpperCase()} FLOW                 

 CONSTRUCTIVE  REBUTTAL      SUMMARY       FINAL FOCUS       

 [Arg 1]      [Extend]     [Voters]     [Key takeaway]       

 [Arg 2]      [Respond]    [Weigh]      [Emotional close]    

\`\`\`

##  Time Allocation
| Speech | Time | Focus |
|--------|------|-------|
| Constructive | X min | ... |
| Rebuttal | X min | ... |
| Summary | X min | ... |
| Final Focus | X min | ... |

##  Win Conditions
The 2-3 things that MUST happen to win this round:
1. ...
2. ...
3. ...

##  Power Phrases
5 memorable phrases to use during the round:
1. "..."
2. "..."
3. "..."
4. "..."
5. "..."
`,arguments:`You are an expert Debate Coach specializing in argument construction for ${n}.

**Topic/Resolution:** ${u}
**Side:** ${a}
${m?`**Additional Context:** ${m}`:""}

Generate 4-5 STRONG ARGUMENTS for this position:

## Argument Analysis Framework

For EACH argument, provide:

###  Argument [N]: [Compelling Title]

#### The Claim
A clear, assertive 1-sentence statement.

#### Logical Structure
- **Premise 1**: ...
- **Premise 2**: ...
- **Conclusion**: ...

#### Warrant Deep-Dive
Explain the logical reasoning in 3-4 sentences. Why does the claim follow from the evidence?

#### Impact Calculus
| Factor | Assessment |
|--------|------------|
| **Magnitude** | How big is the impact? |
| **Probability** | How likely? |
| **Timeframe** | When does it occur? |
| **Reversibility** | Can it be undone? |

#### Evidence Guide
- **Statistics needed**: ...
- **Expert quotes**: Types of experts to cite
- **Case studies**: Historical/current examples to find
- **Logical backing**: Philosophical/theoretical support

#### Delivery Tips
- Opening hook: "..."
- Key transition phrases
- Powerful conclusion line

#### Vulnerability Analysis
- Weakest point of this argument
- How opponents might attack
- Pre-emptive defense strategy

---

## Argument Hierarchy
Rank arguments by strength and when to deploy them:
1. **Strongest** (Lead with this): Argument X
2. **Most Emotional** (Final Focus): Argument Y
3. **Technical** (For experienced judges): Argument Z
`,rebuttals:`You are an expert Debate Coach specializing in rebuttal strategy for ${n}.

**Topic/Resolution:** ${u}
**Your Side:** ${a}
**Opponent's Side:** ${a.includes("Affirmative")||a.includes("Pro")?"Opposition/Negative":"Proposition/Affirmative"}
${m?`**Additional Context:** ${m}`:""}

Generate a COMPREHENSIVE REBUTTAL PREPARATION guide:

##  Opponent Argument Predictions

### Predicted Argument 1: [Title]
**What they'll likely say:**
> [Their argument in their words]

**Why this is flawed:**
- Logical flaw: ...
- Evidence problem: ...
- Impact overreach: ...

**Your Rebuttal Response:**
"[Exact words to say - 30-45 seconds]"

**The Turn (flip it to your advantage):**
"Actually, this argument supports OUR side because..."

---

### Predicted Argument 2: [Title]
[Same structure]

---

### Predicted Argument 3: [Title]
[Same structure]

---

##  Defense Blocks

### If They Attack Your [Argument 1]:
**Their likely attack:** ...
**Your defense:** "[30-second response]"

### If They Attack Your [Argument 2]:
**Their likely attack:** ...
**Your defense:** "[30-second response]"

##  Quick-Fire Responses
One-liner responses to common attacks:

| If they say... | You respond... |
|----------------|----------------|
| "..." | "..." |
| "..." | "..." |
| "..." | "..." |

##  Weighing Mechanisms
How to compare impacts when both sides have valid points:

### Magnitude Weighing
"Even if they win X, our impact of Y is larger because..."

### Probability Weighing
"Their impact is speculative, while ours is empirically proven..."

### Timeframe Weighing
"Their impact is long-term and uncertain, our harm is happening now..."

##  Kill Shots
Arguments that completely devastate common opponent positions:

1. **Against [common position]:** ...
2. **Against [common position]:** ...
`,crossfire:`You are an expert Debate Coach specializing in Cross-Examination/Crossfire strategy for ${n}.

**Topic/Resolution:** ${u}
**Your Side:** ${a}
${m?`**Additional Context:** ${m}`:""}

Generate a COMPREHENSIVE CROSS-EXAMINATION STRATEGY:

##  Your Questioning Strategy

### Goal-Oriented Questions
Each question should serve a strategic purpose:

#### Setup Questions (Establish facts)
1. **Question:** "..."
   - **Goal:** Get them to admit X
   - **Follow-up if yes:** "..."
   - **Follow-up if no:** "..."

2. **Question:** "..."
   - **Goal:** ...

#### Trap Questions (Expose contradictions)
1. **Question:** "..."
   - **The trap:** If they say X, point out Y
   - **Delivery:** Stay calm, don't telegraph

2. **Question:** "..."
   - **The trap:** ...

#### Concession Questions (Get admissions)
1. **Question:** "..."
   - **Looking for:** Them to admit your framing
   - **Use in later speeches:** "They agreed that..."

### Question Sequences
**To undermine their Argument 1:**
1. First ask: "..."
2. Then: "..."
3. Finish with: "..."

**To support your Argument 1:**
1. First ask: "..."
2. Then: "..."
3. Finish with: "..."

##  Defending in Cross-Ex

### Likely Questions You'll Face
| Their Question | Your Response Strategy |
|----------------|----------------------|
| "..." | [Don't concede X, instead say...] |
| "..." | [Bridge to your argument...] |
| "..." | [Ask for clarification to buy time...] |

### Deflection Techniques
- **"That's not the right framing..."** then reframe
- **"The real question is..."** pivot to your ground
- **"We can discuss that, but first..."** delay and redirect

### Trap Avoidance
Common traps and how to spot/avoid them:
1. **The false dichotomy:** They present only two options. Response: "Those aren't the only options..."
2. **The hypothetical spiral:** They create unrealistic scenarios. Response: "In the real world..."
3. **The quote trap:** They try to get quotable admissions. Response: "What I'm saying is..." (reframe)

##  Power Moves

### Taking Control
- "Let me finish this point..."
- "That's a different question, I'm asking about..."
- "With respect, that doesn't answer the question..."

### Memorable Moments
Crossfire zingers (use sparingly):
- "So you're agreeing with us that..."
- "If that's true, then your entire case falls apart..."
- "You've just proven our point..."

##  Time Management
| Phase | Your Goals |
|-------|------------|
| First 30 sec | Establish one key admission |
| Middle | Build your trap sequence |
| Final 30 sec | Land your strongest point |
`},Y=(await(await D.generateContent(N[_])).response).text();U(Y),K({type:"strategy",title:`${R.find(oe=>oe.id===_)?.label}: ${u.substring(0,50)}`,input:{topic:u,context:m},result:Y,metadata:{speechType:n,side:a,topic:u,strategyType:_}}),he(!0),setTimeout(()=>he(!1),2e3)}catch(C){console.error("Gemini Error:",C),z(`Error: ${C.message}. Please try again.`)}finally{T(!1)}},A=()=>{I&&(navigator.clipboard.writeText(I),q(!0),setTimeout(()=>q(!1),2e3))};return b.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-[calc(100vh-8rem)]",children:[b.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[b.jsxs("div",{className:"glass-card space-y-4",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[b.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-primary/20 to-accent/20 border border-primary/30",children:b.jsx(vu,{className:"w-5 h-5 text-primary"})}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-lg font-bold text-white",children:"Strategy Generator"}),b.jsx("p",{className:"text-xs text-text-muted",children:"AI-powered debate preparation"})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Debate Format"}),b.jsx("select",{value:n,onChange:C=>r(C.target.value),className:"input-field",children:e.map(C=>b.jsx("option",{value:C,children:C},C))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Side"}),b.jsx("select",{value:a,onChange:C=>l(C.target.value),className:"input-field",children:P.map(C=>b.jsx("option",{value:C,children:C},C))})]})]}),b.jsx("div",{className:"p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:b.jsxs("div",{className:"flex items-center gap-2 text-blue-400 text-sm",children:[b.jsx(KE,{className:"w-4 h-4 flex-shrink-0"}),b.jsx("span",{children:"Strategy Generator is designed for competitive debate events. For individual speaking events, use Judge Speech."})]})}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Topic / Resolution"}),b.jsx("input",{type:"text",value:u,onChange:C=>h(C.target.value),placeholder:"Resolved: The United States should substantially increase...",className:"input-field"})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:["Additional Context ",b.jsx("span",{className:"text-text-muted",children:"(optional)"})]}),b.jsx("textarea",{value:m,onChange:C=>p(C.target.value),placeholder:"E.g., specific arguments you want to focus on, your opponent's known style, judge preferences...",className:"input-field resize-none h-20"})]})]}),b.jsxs("div",{className:"glass-card p-4",children:[b.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-3",children:"Strategy Type"}),b.jsx("div",{className:"grid grid-cols-2 gap-3",children:R.map(C=>{const D=C.icon;return b.jsxs("button",{onClick:()=>y(C.id),className:`p-4 rounded-xl border text-left transition-all ${_===C.id?"bg-primary/10 border-primary/30 shadow-lg shadow-primary/10":"bg-slate-900/30 border-slate-700 hover:border-slate-600 hover:bg-slate-800/50"}`,children:[b.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[b.jsx(D,{className:`w-5 h-5 ${_===C.id?"text-primary":"text-text-muted"}`}),b.jsx("span",{className:`font-medium ${_===C.id?"text-white":"text-text-secondary"}`,children:C.label})]}),b.jsx("p",{className:"text-xs text-text-muted",children:C.description})]},C.id)})})]}),b.jsx("button",{onClick:O,disabled:E||!u.trim(),className:"btn-primary py-4 text-lg flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:E?b.jsxs(b.Fragment,{children:[b.jsx(qs,{className:"w-5 h-5 animate-spin"}),"Generating Strategy..."]}):b.jsxs(b.Fragment,{children:[b.jsx(vI,{className:"w-5 h-5"}),"Generate Strategy"]})}),L&&b.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-2 text-red-400 text-sm",children:[b.jsx(Ms,{className:"w-4 h-4 flex-shrink-0"}),L]})]}),b.jsxs("div",{className:"w-full lg:w-1/2 glass-card overflow-hidden flex flex-col p-0",children:[b.jsxs("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50 flex justify-between items-center",children:[b.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[b.jsx(SC,{className:"w-4 h-4 text-primary"}),"Strategy Playbook"]}),I&&b.jsxs("div",{className:"flex items-center gap-2",children:[se&&b.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1",children:[b.jsx(Ps,{className:"w-3 h-3"})," Saved"]}),b.jsx("button",{onClick:A,className:"text-text-secondary hover:text-white transition-colors",title:"Copy to clipboard",children:F?b.jsx(Wo,{className:"w-4 h-4 text-green-500"}):b.jsx(Gu,{className:"w-4 h-4"})})]})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:I?b.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-cyan-400 prose-a:text-accent prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-2 prose-td:p-2 prose-th:bg-slate-800/50 prose-code:bg-slate-800 prose-code:px-1 prose-code:rounded prose-pre:bg-slate-900 prose-pre:border prose-pre:border-slate-700 prose-blockquote:border-l-primary prose-blockquote:bg-slate-900/50 prose-blockquote:py-1",children:b.jsx(oc,{remarkPlugins:[lc],children:I})}):b.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-text-muted opacity-50",children:[b.jsx(vu,{className:"w-16 h-16 mb-4"}),b.jsx("p",{className:"text-center max-w-xs",children:"Enter your debate topic and select a strategy type to generate your personalized playbook."})]})})]})]})},Rf={judge:{icon:Lo,label:"Speech Analysis",color:"text-cyan-400",bg:"bg-cyan-500/10 border-cyan-500/20"},board:{icon:Op,label:"Board Evaluation",color:"text-purple-400",bg:"bg-purple-500/10 border-purple-500/20"},coach:{icon:rf,label:"Live Coaching",color:"text-emerald-400",bg:"bg-emerald-500/10 border-emerald-500/20"},strategy:{icon:vu,label:"Strategy",color:"text-orange-400",bg:"bg-orange-500/10 border-orange-500/20"},extemp:{icon:vg,label:"Extemp Question",color:"text-amber-400",bg:"bg-amber-500/10 border-amber-500/20"}},vj=({session:t,onView:e,onDelete:n})=>{const[r,a]=ie.useState(!1),l=Rf[t.type]||Rf.judge,u=l.icon;return b.jsxs("div",{className:"glass-card p-0 overflow-hidden group",children:[b.jsx("div",{className:"p-4 cursor-pointer hover:bg-slate-800/30 transition-colors",onClick:()=>a(!r),children:b.jsxs("div",{className:"flex items-start gap-4",children:[b.jsx("div",{className:`p-2 rounded-lg border ${l.bg}`,children:b.jsx(u,{className:`w-5 h-5 ${l.color}`})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[b.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full ${l.bg} ${l.color}`,children:l.label}),t.metadata?.speechType&&b.jsx("span",{className:"text-xs text-text-muted",children:t.metadata.speechType})]}),b.jsx("h3",{className:"font-medium text-white truncate",children:t.title||t.metadata?.topic||"Untitled Session"}),b.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-text-muted",children:[b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(CC,{className:"w-3 h-3"}),NS(t.createdAt)]}),b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(PC,{className:"w-3 h-3"}),cj(t.createdAt)]})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:h=>{h.stopPropagation(),n(t.id)},className:"p-2 text-text-muted hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:"Delete session",children:b.jsx(YE,{className:"w-4 h-4"})}),r?b.jsx(GE,{className:"w-5 h-5 text-text-muted"}):b.jsx(RC,{className:"w-5 h-5 text-text-muted"})]})]})}),r&&b.jsxs("div",{className:"border-t border-slate-700/50 p-4 animate-in slide-in-from-top-2",children:[t.metadata&&b.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[t.metadata.side&&b.jsx("span",{className:"text-xs px-2 py-1 bg-slate-800 rounded-lg text-text-secondary",children:t.metadata.side}),t.metadata.difficulty&&b.jsxs("span",{className:"text-xs px-2 py-1 bg-slate-800 rounded-lg text-text-secondary",children:[t.metadata.difficulty," difficulty"]})]}),b.jsx("div",{className:"bg-slate-900/50 rounded-lg p-4 max-h-[400px] overflow-y-auto custom-scrollbar",children:b.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-cyan-400 prose-a:text-accent prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-2 prose-td:p-2 prose-th:bg-slate-800/50",children:b.jsx(oc,{remarkPlugins:[lc],children:t.result||"No analysis result available"})})}),t.type==="extemp"&&t.input?.question&&b.jsxs("div",{className:"mt-4 p-4 bg-slate-800/50 rounded-lg border border-slate-700/50",children:[b.jsx("h4",{className:"text-xs font-medium text-text-muted mb-2",children:"Generated Question"}),b.jsxs("p",{className:"text-white font-serif text-lg",children:['"',t.input.question,'"']})]})]})]})},bj=()=>{const{history:t,isLoading:e,stats:n,deleteSession:r,clearHistory:a,exportHistory:l,importHistory:u}=ol(),[h,m]=ie.useState(""),[p,_]=ie.useState("all"),[y,E]=ie.useState(!1),[T,I]=ie.useState(null),U=qE.useRef(null),L=t.filter(F=>{const q=p==="all"||F.type===p,se=!h||F.title?.toLowerCase().includes(h.toLowerCase())||F.metadata?.topic?.toLowerCase().includes(h.toLowerCase())||F.result?.toLowerCase().includes(h.toLowerCase());return q&&se}),z=async F=>{const q=F.target.files?.[0];if(q){const se=await u(q);I(se),setTimeout(()=>I(null),3e3),U.current&&(U.current.value="")}};return e?b.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:b.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full"})}):b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[b.jsxs("div",{children:[b.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[b.jsx(Ps,{className:"w-7 h-7 text-primary"}),"Session History"]}),b.jsxs("p",{className:"text-text-secondary mt-1",children:[n.total," ",n.total===1?"session":"sessions"," recorded"]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:l,disabled:t.length===0,className:"p-2 text-text-secondary hover:text-white hover:bg-slate-800 rounded-lg transition-colors disabled:opacity-50",title:"Export history",children:b.jsx(jC,{className:"w-5 h-5"})}),b.jsx("button",{onClick:()=>U.current?.click(),className:"p-2 text-text-secondary hover:text-white hover:bg-slate-800 rounded-lg transition-colors",title:"Import history",children:b.jsx($E,{className:"w-5 h-5"})}),b.jsx("input",{ref:U,type:"file",accept:".json",onChange:z,className:"hidden"}),t.length>0&&b.jsx("button",{onClick:()=>E(!0),className:"p-2 text-text-secondary hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Clear all history",children:b.jsx(YE,{className:"w-5 h-5"})})]})]}),T&&b.jsx("div",{className:`p-3 rounded-lg flex items-center gap-2 text-sm animate-in fade-in ${T.success?"bg-emerald-500/10 border border-emerald-500/20 text-emerald-400":"bg-red-500/10 border border-red-500/20 text-red-400"}`,children:T.success?b.jsxs(b.Fragment,{children:[b.jsx(Wo,{className:"w-4 h-4"}),"Imported ",T.count," sessions successfully"]}):b.jsxs(b.Fragment,{children:[b.jsx(Ms,{className:"w-4 h-4"}),"Import failed: ",T.error]})}),b.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:Object.entries(Rf).map(([F,q])=>{const se=q.icon,he=n.byType[F]||0;return b.jsx("button",{onClick:()=>_(p===F?"all":F),className:`glass-card p-4 text-left transition-all ${p===F?"ring-2 ring-primary":""}`,children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(se,{className:`w-5 h-5 ${q.color}`}),b.jsxs("div",{children:[b.jsx("div",{className:"text-2xl font-bold text-white",children:he}),b.jsx("div",{className:"text-xs text-text-muted",children:q.label})]})]})},F)})}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[b.jsxs("div",{className:"relative flex-1",children:[b.jsx(r1,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"}),b.jsx("input",{type:"text",value:h,onChange:F=>m(F.target.value),placeholder:"Search sessions...",className:"input-field pl-10"})]}),b.jsxs("select",{value:p,onChange:F=>_(F.target.value),className:"input-field w-full sm:w-48",children:[b.jsx("option",{value:"all",children:"All Types"}),Object.entries(Rf).map(([F,q])=>b.jsx("option",{value:F,children:q.label},F))]})]}),L.length>0?b.jsx("div",{className:"space-y-4",children:L.map(F=>b.jsx(vj,{session:F,onDelete:r},F.id))}):b.jsx("div",{className:"glass-card flex flex-col items-center justify-center min-h-[40vh] text-center",children:t.length===0?b.jsxs(b.Fragment,{children:[b.jsx(Ps,{className:"w-16 h-16 text-slate-700 mb-4"}),b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Sessions Yet"}),b.jsx("p",{className:"text-text-secondary max-w-md",children:"Your analysis sessions will appear here. Try judging a speech, evaluating a board, or using the live coach to get started!"})]}):b.jsxs(b.Fragment,{children:[b.jsx(r1,{className:"w-16 h-16 text-slate-700 mb-4"}),b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Results Found"}),b.jsx("p",{className:"text-text-secondary",children:"No sessions match your search criteria. Try adjusting your filters."}),b.jsx("button",{onClick:()=>{m(""),_("all")},className:"mt-4 text-primary hover:underline",children:"Clear filters"})]})}),y&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",children:b.jsxs("div",{className:"glass-card w-full max-w-md space-y-4 animate-in zoom-in-95",children:[b.jsxs("div",{className:"flex items-center gap-3 text-red-400",children:[b.jsx(Ms,{className:"w-6 h-6"}),b.jsx("h2",{className:"text-xl font-bold",children:"Clear All History?"})]}),b.jsxs("p",{className:"text-text-secondary",children:["This will permanently delete all ",n.total," sessions. This action cannot be undone."]}),b.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[b.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 rounded-lg text-text-secondary hover:bg-slate-800 transition-colors",children:"Cancel"}),b.jsx("button",{onClick:()=>{a(),E(!1)},className:"px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white transition-colors",children:"Delete All"})]})]})})]})},Ej=({onSkip:t})=>{const[e,n]=ie.useState(!0),[r,a]=ie.useState(""),[l,u]=ie.useState(""),[h,m]=ie.useState(""),[p,_]=ie.useState(!1),[y,E]=ie.useState(!1),[T,I]=ie.useState(""),{login:U,register:L,loginWithGoogle:z,error:F,clearError:q}=Wf(),se=async R=>{if(R.preventDefault(),I(""),q(),!r||!l){I("Please fill in all required fields.");return}if(!e&&!h){I("Please enter your name.");return}if(l.length<6){I("Password must be at least 6 characters.");return}E(!0);try{e?await U(r,l):await L(r,l,h)}catch{}finally{E(!1)}},he=async()=>{I(""),q(),E(!0);try{await z()}catch{}finally{E(!1)}},K=()=>{n(!e),I(""),q()},P=T||F;return b.jsxs("div",{className:"min-h-screen bg-bg-primary flex items-center justify-center p-4",children:[b.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[b.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-full h-full bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-3xl"}),b.jsx("div",{className:"absolute -bottom-1/2 -right-1/2 w-full h-full bg-gradient-to-tl from-accent/10 to-transparent rounded-full blur-3xl"})]}),b.jsxs("div",{className:"w-full max-w-md relative z-10",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-accent shadow-lg shadow-primary/25 mb-4",children:b.jsx(Lo,{className:"w-8 h-8 text-white"})}),b.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Adjudicator AI"}),b.jsx("p",{className:"text-text-secondary",children:"Your AI-powered debate coaching platform"})]}),b.jsxs("div",{className:"glass-card space-y-6",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("h2",{className:"text-xl font-bold text-white",children:e?"Welcome back":"Create your account"}),b.jsx("p",{className:"text-text-muted text-sm mt-1",children:e?"Sign in to continue to your dashboard":"Start your debate coaching journey"})]}),b.jsxs("button",{onClick:he,disabled:y,className:"w-full flex items-center justify-center gap-3 px-4 py-3 bg-white hover:bg-gray-100 text-gray-800 font-medium rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[b.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[b.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),b.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),b.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),b.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-0 flex items-center",children:b.jsx("div",{className:"w-full border-t border-slate-700"})}),b.jsx("div",{className:"relative flex justify-center text-sm",children:b.jsx("span",{className:"px-4 bg-bg-secondary text-text-muted",children:"or continue with email"})})]}),b.jsxs("form",{onSubmit:se,className:"space-y-4",children:[!e&&b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Full Name"}),b.jsxs("div",{className:"relative",children:[b.jsx(XE,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),b.jsx("input",{type:"text",value:h,onChange:R=>m(R.target.value),placeholder:"John Doe",className:"input-field pl-10",disabled:y})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Email Address"}),b.jsxs("div",{className:"relative",children:[b.jsx(tI,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),b.jsx("input",{type:"email",value:r,onChange:R=>a(R.target.value),placeholder:"you@example.com",className:"input-field pl-10",disabled:y})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Password"}),b.jsxs("div",{className:"relative",children:[b.jsx(WC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),b.jsx("input",{type:p?"text":"password",value:l,onChange:R=>u(R.target.value),placeholder:"",className:"input-field pl-10 pr-10",disabled:y}),b.jsx("button",{type:"button",onClick:()=>_(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-muted hover:text-text-secondary",children:p?b.jsx(UC,{className:"w-5 h-5"}):b.jsx(FC,{className:"w-5 h-5"})})]})]}),P&&b.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-start gap-2 text-red-400 text-sm",children:[b.jsx(Ms,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),b.jsx("span",{children:P})]}),b.jsx("button",{type:"submit",disabled:y,className:"btn-primary w-full flex items-center justify-center gap-2 py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:y?b.jsx(qs,{className:"w-5 h-5 animate-spin"}):b.jsxs(b.Fragment,{children:[e?"Sign In":"Create Account",b.jsx(TC,{className:"w-4 h-4"})]})})]}),b.jsxs("p",{className:"text-center text-text-secondary text-sm",children:[e?"Don't have an account? ":"Already have an account? ",b.jsx("button",{onClick:K,className:"text-primary hover:text-primary/80 font-medium transition-colors",disabled:y,children:e?"Sign up":"Sign in"})]})]}),b.jsx("div",{className:"text-center mt-6",children:b.jsx("button",{onClick:t,className:"text-text-muted hover:text-text-secondary text-sm transition-colors underline underline-offset-2",children:"Continue as guest (limited features)"})})]})]})},xj=()=>b.jsx("div",{className:"min-h-screen bg-bg-primary flex items-center justify-center",children:b.jsxs("div",{className:"text-center space-y-4",children:[b.jsx(qs,{className:"w-12 h-12 text-primary animate-spin mx-auto"}),b.jsx("p",{className:"text-text-secondary",children:"Loading Adjudicator AI..."})]})}),Tj=({isOpen:t,onClose:e,apiKey:n,setApiKey:r,openaiKey:a,setOpenaiKey:l})=>t?b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",children:b.jsxs("div",{className:"glass-card w-full max-w-md space-y-6 animate-in zoom-in-95",children:[b.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[b.jsx(sf,{className:"w-5 h-5 mr-2 text-primary"}),"Configuration"]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Google Gemini API Key"}),b.jsx("input",{type:"password",value:n,onChange:u=>r(u.target.value),placeholder:"AIzaSy...",className:"input-field"}),b.jsx("p",{className:"text-xs text-text-muted mt-1",children:"Required for most features."})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"OpenAI API Key (Optional)"}),b.jsx("input",{type:"password",value:a,onChange:u=>l(u.target.value),placeholder:"sk-...",className:"input-field"})]})]}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[b.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg text-text-secondary hover:bg-slate-800 transition-colors",children:"Close"}),b.jsx("button",{onClick:e,className:"btn-primary",children:"Save Changes"})]})]})}):null;function wj(){const[t,e]=ie.useState("judge"),[n,r]=ie.useState(!1),[a,l]=ie.useState(localStorage.getItem("gemini_key")||""),[u,h]=ie.useState(localStorage.getItem("openai_key")||""),[m,p]=ie.useState(localStorage.getItem("guest_mode")==="true"),{user:_,loading:y,isAuthenticated:E}=Wf();return ie.useEffect(()=>{localStorage.setItem("gemini_key",a)},[a]),ie.useEffect(()=>{localStorage.setItem("openai_key",u)},[u]),y?b.jsx(xj,{}):!E&&!m?b.jsx(Ej,{onSkip:()=>{p(!0),localStorage.setItem("guest_mode","true")}}):b.jsxs(hM,{activeTab:t,setActiveTab:e,showSettings:n,setShowSettings:r,children:[t==="judge"&&b.jsx(fj,{apiKey:a}),t==="board"&&b.jsx(dj,{apiKey:a}),t==="coach"&&b.jsx(gj,{apiKey:a}),t==="strategy"&&b.jsx(_j,{apiKey:a}),t==="extemp"&&b.jsx(yj,{apiKey:a}),t==="history"&&b.jsx(bj,{}),b.jsx(Tj,{isOpen:n,onClose:()=>r(!1),apiKey:a,setApiKey:l,openaiKey:u,setOpenaiKey:h})]})}function Sj(){return b.jsx(uM,{children:b.jsx(wj,{})})}pC.createRoot(document.getElementById("root")).render(b.jsx(qE.StrictMode,{children:b.jsx(Sj,{})}));
