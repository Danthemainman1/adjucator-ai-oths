import{j as a,m as F,A as ot,R as sj,a as aj}from"./animations-BI2268eO.js";import{r as A,R as ox}from"./charts-BqTqP0xP.js";import{r as KE,a as XE,g as cx}from"./react-vendor-OvXVS5lI.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();var Vp={exports:{}},hu={},Up={exports:{}},zp={};var nw;function WE(){return nw||(nw=1,(function(t){function e($,W){var he=$.length;$.push(W);e:for(;0<he;){var be=he-1>>>1,B=$[be];if(0<l(B,W))$[be]=W,$[he]=B,he=be;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var W=$[0],he=$.pop();if(he!==W){$[0]=he;e:for(var be=0,B=$.length,ie=B>>>1;be<ie;){var ge=2*(be+1)-1,P=$[ge],Ee=ge+1,Ve=$[Ee];if(0>l(P,he))Ee<B&&0>l(Ve,P)?($[be]=Ve,$[Ee]=he,be=Ee):($[be]=P,$[ge]=he,be=ge);else if(Ee<B&&0>l(Ve,he))$[be]=Ve,$[Ee]=he,be=Ee;else break e}}return W}function l($,W){var he=$.sortIndex-W.sortIndex;return he!==0?he:$.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var m=[],f=[],x=1,y=null,v=3,w=!1,S=!1,U=!1,I=!1,z=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function K($){for(var W=n(f);W!==null;){if(W.callback===null)s(f);else if(W.startTime<=$)s(f),W.sortIndex=W.expirationTime,e(m,W);else break;W=n(f)}}function se($){if(U=!1,K($),!S)if(n(m)!==null)S=!0,G||(G=!0,M());else{var W=n(f);W!==null&&J(se,W.startTime-$)}}var G=!1,D=-1,C=5,O=-1;function E(){return I?!0:!(t.unstable_now()-O<C)}function T(){if(I=!1,G){var $=t.unstable_now();O=$;var W=!0;try{e:{S=!1,U&&(U=!1,L(D),D=-1),w=!0;var he=v;try{t:{for(K($),y=n(m);y!==null&&!(y.expirationTime>$&&E());){var be=y.callback;if(typeof be=="function"){y.callback=null,v=y.priorityLevel;var B=be(y.expirationTime<=$);if($=t.unstable_now(),typeof B=="function"){y.callback=B,K($),W=!0;break t}y===n(m)&&s(m),K($)}else s(m);y=n(m)}if(y!==null)W=!0;else{var ie=n(f);ie!==null&&J(se,ie.startTime-$),W=!1}}break e}finally{y=null,v=he,w=!1}W=void 0}}finally{W?M():G=!1}}}var M;if(typeof q=="function")M=function(){q(T)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,te=R.port2;R.port1.onmessage=T,M=function(){te.postMessage(null)}}else M=function(){z(T,0)};function J($,W){D=z(function(){$(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function($){switch(v){case 1:case 2:case 3:var W=3;break;default:W=v}var he=v;v=W;try{return $()}finally{v=he}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var he=v;v=$;try{return W()}finally{v=he}},t.unstable_scheduleCallback=function($,W,he){var be=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?be+he:be):he=be,$){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=he+B,$={id:x++,callback:W,priorityLevel:$,startTime:he,expirationTime:B,sortIndex:-1},he>be?($.sortIndex=he,e(f,$),n(m)===null&&$===n(f)&&(U?(L(D),D=-1):U=!0,J(se,he-be))):($.sortIndex=B,e(m,$),S||w||(S=!0,G||(G=!0,M()))),$},t.unstable_shouldYield=E,t.unstable_wrapCallback=function($){var W=v;return function(){var he=v;v=W;try{return $.apply(this,arguments)}finally{v=he}}}})(zp)),zp}var sw;function JE(){return sw||(sw=1,Up.exports=WE()),Up.exports}var aw;function ZE(){if(aw)return hu;aw=1;var t=JE(),e=KE(),n=XE();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var i=r,u=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(u=i.return),r=i.return;while(r)}return i.tag===3?u:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function h(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function m(r){if(o(r)!==r)throw Error(s(188))}function f(r){var i=r.alternate;if(!i){if(i=o(r),i===null)throw Error(s(188));return i!==r?null:r}for(var u=r,d=i;;){var g=u.return;if(g===null)break;var b=g.alternate;if(b===null){if(d=g.return,d!==null){u=d;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===u)return m(g),r;if(b===d)return m(g),i;b=b.sibling}throw Error(s(188))}if(u.return!==d.return)u=g,d=b;else{for(var j=!1,k=g.child;k;){if(k===u){j=!0,u=g,d=b;break}if(k===d){j=!0,d=g,u=b;break}k=k.sibling}if(!j){for(k=b.child;k;){if(k===u){j=!0,u=b,d=g;break}if(k===d){j=!0,d=b,u=g;break}k=k.sibling}if(!j)throw Error(s(189))}}if(u.alternate!==d)throw Error(s(190))}if(u.tag!==3)throw Error(s(188));return u.stateNode.current===u?r:i}function x(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=x(r),i!==null)return i;r=r.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),q=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),E=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function M(r){return r===null||typeof r!="object"?null:(r=T&&r[T]||r["@@iterator"],typeof r=="function"?r:null)}var R=Symbol.for("react.client.reference");function te(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===R?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case U:return"Fragment";case z:return"Profiler";case I:return"StrictMode";case se:return"Suspense";case G:return"SuspenseList";case O:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case q:return r.displayName||"Context";case L:return(r._context.displayName||"Context")+".Consumer";case K:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return i=r.displayName||null,i!==null?i:te(r.type)||"Memo";case C:i=r._payload,r=r._init;try{return te(r(i))}catch{}}return null}var J=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},be=[],B=-1;function ie(r){return{current:r}}function ge(r){0>B||(r.current=be[B],be[B]=null,B--)}function P(r,i){B++,be[B]=r.current,r.current=i}var Ee=ie(null),Ve=ie(null),Be=ie(null),ct=ie(null);function wt(r,i){switch(P(Be,i),P(Ve,r),P(Ee,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?S1(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=S1(i),r=E1(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ge(Ee),P(Ee,r)}function xt(){ge(Ee),ge(Ve),ge(Be)}function pn(r){r.memoizedState!==null&&P(ct,r);var i=Ee.current,u=E1(i,r.type);i!==u&&(P(Ve,r),P(Ee,u))}function gn(r){Ve.current===r&&(ge(Ee),ge(Ve)),ct.current===r&&(ge(ct),ou._currentValue=he)}var jn,pe;function ye(r){if(jn===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);jn=i&&i[1]||"",pe=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jn+r+pe}var ke=!1;function $e(r,i){if(!r||ke)return"";ke=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(i){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(re){var ne=re}Reflect.construct(r,[],me)}else{try{me.call()}catch(re){ne=re}r.call(me.prototype)}}else{try{throw Error()}catch(re){ne=re}(me=r())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(re){if(re&&ne&&typeof re.stack=="string")return[re.stack,ne.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),j=b[0],k=b[1];if(j&&k){var H=j.split(`
`),ee=k.split(`
`);for(g=d=0;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;for(;g<ee.length&&!ee[g].includes("DetermineComponentFrameRoot");)g++;if(d===H.length||g===ee.length)for(d=H.length-1,g=ee.length-1;1<=d&&0<=g&&H[d]!==ee[g];)g--;for(;1<=d&&0<=g;d--,g--)if(H[d]!==ee[g]){if(d!==1||g!==1)do if(d--,g--,0>g||H[d]!==ee[g]){var le=`
`+H[d].replace(" at new "," at ");return r.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",r.displayName)),le}while(1<=d&&0<=g);break}}}finally{ke=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?ye(u):""}function Qt(r,i){switch(r.tag){case 26:case 27:case 5:return ye(r.type);case 16:return ye("Lazy");case 13:return r.child!==i&&i!==null?ye("Suspense Fallback"):ye("Suspense");case 19:return ye("SuspenseList");case 0:case 15:return $e(r.type,!1);case 11:return $e(r.type.render,!1);case 1:return $e(r.type,!0);case 31:return ye("Activity");default:return""}}function we(r){try{var i="",u=null;do i+=Qt(r,u),u=r,r=r.return;while(r);return i}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var je=Object.prototype.hasOwnProperty,Ae=t.unstable_scheduleCallback,Ke=t.unstable_cancelCallback,_n=t.unstable_shouldYield,cn=t.unstable_requestPaint,Pt=t.unstable_now,qa=t.unstable_getCurrentPriorityLevel,oe=t.unstable_ImmediatePriority,ve=t.unstable_UserBlockingPriority,De=t.unstable_NormalPriority,Qe=t.unstable_LowPriority,ut=t.unstable_IdlePriority,On=t.log,js=t.unstable_setDisableYieldValue,Ft=null,Lt=null;function xn(r){if(typeof On=="function"&&js(r),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(Ft,r)}catch{}}var at=Math.clz32?Math.clz32:jd,qs=Math.log,Pn=Math.LN2;function jd(r){return r>>>=0,r===0?32:31-(qs(r)/Pn|0)|0}var ha=256,Li=262144,Kt=4194304;function ma(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function fa(r,i,u){var d=r.pendingLanes;if(d===0)return 0;var g=0,b=r.suspendedLanes,j=r.pingedLanes;r=r.warmLanes;var k=d&134217727;return k!==0?(d=k&~b,d!==0?g=ma(d):(j&=k,j!==0?g=ma(j):u||(u=k&~r,u!==0&&(g=ma(u))))):(k=d&~b,k!==0?g=ma(k):j!==0?g=ma(j):u||(u=d&~r,u!==0&&(g=ma(u)))),g===0?0:i!==0&&i!==g&&(i&b)===0&&(b=g&-g,u=i&-i,b>=u||b===32&&(u&4194048)!==0)?i:g}function Hs(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Bf(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _d(){var r=Kt;return Kt<<=1,(Kt&62914560)===0&&(Kt=4194304),r}function pa(r){for(var i=[],u=0;31>u;u++)i.push(r);return i}function Vi(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function $f(r,i,u,d,g,b){var j=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var k=r.entanglements,H=r.expirationTimes,ee=r.hiddenUpdates;for(u=j&~u;0<u;){var le=31-at(u),me=1<<le;k[le]=0,H[le]=-1;var ne=ee[le];if(ne!==null)for(ee[le]=null,le=0;le<ne.length;le++){var re=ne[le];re!==null&&(re.lane&=-536870913)}u&=~me}d!==0&&Ui(r,d,0),b!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=b&~(j&~i))}function Ui(r,i,u){r.pendingLanes|=i,r.suspendedLanes&=~i;var d=31-at(i);r.entangledLanes|=i,r.entanglements[d]=r.entanglements[d]|1073741824|u&261930}function mc(r,i){var u=r.entangledLanes|=i;for(r=r.entanglements;u;){var d=31-at(u),g=1<<d;g&i|r[d]&i&&(r[d]|=i),u&=~g}}function fc(r,i){var u=i&-i;return u=(u&42)!==0?1:zi(u),(u&(r.suspendedLanes|i))!==0?0:u}function zi(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ha(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Sd(){var r=W.p;return r!==0?r:(r=window.event,r===void 0?32:K1(r.type))}function Gs(r,i){var u=W.p;try{return W.p=r,i()}finally{W.p=u}}var Ys=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Ys,yn="__reactProps$"+Ys,ga="__reactContainer$"+Ys,Vl="__reactEvents$"+Ys,qf="__reactListeners$"+Ys,Ed="__reactHandles$"+Ys,Td="__reactResources$"+Ys,xa="__reactMarker$"+Ys;function Ul(r){delete r[Xt],delete r[yn],delete r[Vl],delete r[qf],delete r[Ed]}function ya(r){var i=r[Xt];if(i)return i;for(var u=r.parentNode;u;){if(i=u[ga]||u[Xt]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(r=D1(r);r!==null;){if(u=r[Xt])return u;r=D1(r)}return i}r=u,u=r.parentNode}return null}function _s(r){if(r=r[Xt]||r[ga]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function us(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function ba(r){var i=r[Td];return i||(i=r[Td]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Wt(r){r[xa]=!0}var pc=new Set,gc={};function va(r,i){wa(r,i),wa(r+"Capture",i)}function wa(r,i){for(gc[r]=i,r=0;r<i.length;r++)pc.add(i[r])}var xc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yc={},bc={};function Cd(r){return je.call(bc,r)?!0:je.call(yc,r)?!1:xc.test(r)?bc[r]=!0:(yc[r]=!0,!1)}function zl(r,i,u){if(Cd(i))if(u===null)r.removeAttribute(i);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var d=i.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+u)}}function ds(r,i,u){if(u===null)r.removeAttribute(i);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+u)}}function Jt(r,i,u,d){if(d===null)r.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(i,u,""+d)}}function bn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ar(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function vc(r,i,u){var d=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var g=d.get,b=d.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return g.call(this)},set:function(j){u=""+j,b.call(this,j)}}),Object.defineProperty(r,i,{enumerable:d.enumerable}),{getValue:function(){return u},setValue:function(j){u=""+j},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function yt(r){if(!r._valueTracker){var i=Ar(r)?"checked":"value";r._valueTracker=vc(r,i,""+r[i])}}function Fi(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var u=i.getValue(),d="";return r&&(d=Ar(r)?r.checked?"true":"false":r.value),r=d,r!==u?(i.setValue(r),!0):!1}function Na(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Bi=/[\n"\\]/g;function Kn(r){return r.replace(Bi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Fl(r,i,u,d,g,b,j,k){r.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?r.type=j:r.removeAttribute("type"),i!=null?j==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+bn(i)):r.value!==""+bn(i)&&(r.value=""+bn(i)):j!=="submit"&&j!=="reset"||r.removeAttribute("value"),i!=null?wc(r,j,bn(i)):u!=null?wc(r,j,bn(u)):d!=null&&r.removeAttribute("value"),g==null&&b!=null&&(r.defaultChecked=!!b),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?r.name=""+bn(k):r.removeAttribute("name")}function Ad(r,i,u,d,g,b,j,k){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.type=b),i!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||i!=null)){yt(r);return}u=u!=null?""+bn(u):"",i=i!=null?""+bn(i):u,k||i===r.value||(r.value=i),r.defaultValue=i}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=k?r.checked:!!d,r.defaultChecked=!!d,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(r.name=j),yt(r)}function wc(r,i,u){i==="number"&&Na(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function kr(r,i,u,d){if(r=r.options,i){i={};for(var g=0;g<u.length;g++)i["$"+u[g]]=!0;for(u=0;u<r.length;u++)g=i.hasOwnProperty("$"+r[u].value),r[u].selected!==g&&(r[u].selected=g),g&&d&&(r[u].defaultSelected=!0)}else{for(u=""+bn(u),i=null,g=0;g<r.length;g++){if(r[g].value===u){r[g].selected=!0,d&&(r[g].defaultSelected=!0);return}i!==null||r[g].disabled||(i=r[g])}i!==null&&(i.selected=!0)}}function kd(r,i,u){if(i!=null&&(i=""+bn(i),i!==r.value&&(r.value=i),u==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=u!=null?""+bn(u):""}function Ir(r,i,u,d){if(i==null){if(d!=null){if(u!=null)throw Error(s(92));if(J(d)){if(1<d.length)throw Error(s(93));d=d[0]}u=d}u==null&&(u=""),i=u}u=bn(i),r.defaultValue=u,d=r.textContent,d===u&&d!==""&&d!==null&&(r.value=d),yt(r)}function Xn(r,i){if(i){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=i;return}}r.textContent=i}var Id=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nc(r,i,u){var d=i.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":d?r.setProperty(i,u):typeof u!="number"||u===0||Id.has(i)?i==="float"?r.cssFloat=u:r[i]=(""+u).trim():r[i]=u+"px"}function jc(r,i,u){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||i!=null&&i.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var g in i)d=i[g],i.hasOwnProperty(g)&&u[g]!==d&&Nc(r,g,d)}else for(var b in i)i.hasOwnProperty(b)&&Nc(r,b,i[b])}function Bl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $l(r){return Rr.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Qs(){}var _c=null;function Ss(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Dr=null,ja=null;function $i(r){var i=_s(r);if(i&&(r=i.stateNode)){var u=r[yn]||null;e:switch(r=i.stateNode,i.type){case"input":if(Fl(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),i=u.name,u.type==="radio"&&i!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Kn(""+i)+'"][type="radio"]'),i=0;i<u.length;i++){var d=u[i];if(d!==r&&d.form===r.form){var g=d[yn]||null;if(!g)throw Error(s(90));Fl(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<u.length;i++)d=u[i],d.form===r.form&&Fi(d)}break e;case"textarea":kd(r,u.value,u.defaultValue);break e;case"select":i=u.value,i!=null&&kr(r,!!u.multiple,i,!1)}}}var ql=!1;function Mr(r,i,u){if(ql)return r(i,u);ql=!0;try{var d=r(i);return d}finally{if(ql=!1,(Dr!==null||ja!==null)&&(Sh(),Dr&&(i=Dr,r=ja,ja=Dr=null,$i(i),r)))for(i=0;i<r.length;i++)$i(r[i])}}function Ks(r,i){var u=r.stateNode;if(u===null)return null;var d=u[yn]||null;if(d===null)return null;u=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(s(231,i,typeof u));return u}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qi=!1;if(Es)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){qi=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch{qi=!1}var _a=null,Sc=null,Hi=null;function Ec(){if(Hi)return Hi;var r,i=Sc,u=i.length,d,g="value"in _a?_a.value:_a.textContent,b=g.length;for(r=0;r<u&&i[r]===g[r];r++);var j=u-r;for(d=1;d<=j&&i[u-d]===g[b-d];d++);return Hi=g.slice(r,1<d?1-d:void 0)}function Gi(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Ga(){return!0}function Xs(){return!1}function Sn(r){function i(u,d,g,b,j){this._reactName=u,this._targetInst=g,this.type=d,this.nativeEvent=b,this.target=j,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(u=r[k],this[k]=u?u(b):b[k]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ga:Xs,this.isPropagationStopped=Xs,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ga)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ga)},persist:function(){},isPersistent:Ga}),i}var Ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=Sn(Ya),Or=y({},Ya,{view:0,detail:0}),Tc=Sn(Or),Pr,Hl,Ea,Gl=y({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ea&&(Ea&&r.type==="mousemove"?(Pr=r.screenX-Ea.screenX,Hl=r.screenY-Ea.screenY):Hl=Pr=0,Ea=r),Pr)},movementY:function(r){return"movementY"in r?r.movementY:Hl}}),Cc=Sn(Gl),Yi=y({},Gl,{dataTransfer:0}),Dd=Sn(Yi),Md=y({},Or,{relatedTarget:0}),Qi=Sn(Md),Ac=y({},Ya,{animationName:0,elapsedTime:0,pseudoElement:0}),Od=Sn(Ac),Yl=y({},Ya,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Pd=Sn(Yl),Ld=y({},Ya,{data:0}),Ta=Sn(Ld),Vd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ud={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fd(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=zd[r])?!!i[r]:!1}function Lr(){return Fd}var Hn=y({},Or,{key:function(r){if(r.key){var i=Vd[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Gi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ud[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lr,charCode:function(r){return r.type==="keypress"?Gi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Gi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Bd=Sn(Hn),$d=y({},Gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qa=Sn($d),p=y({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lr}),N=Sn(p),_=y({},Ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),V=Sn(_),X=y({},Gl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ae=Sn(X),Ne=y({},Ya,{newState:0,oldState:0}),qe=Sn(Ne),Bt=[9,13,27,32],ft=Es&&"CompositionEvent"in window,Dt=null;Es&&"documentMode"in document&&(Dt=document.documentMode);var Ts=Es&&"TextEvent"in window&&!Dt,Ca=Es&&(!ft||Dt&&8<Dt&&11>=Dt),Ws=" ",Js=!1;function Ki(r,i){switch(r){case"keyup":return Bt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ql(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Kl=!1;function bS(r,i){switch(r){case"compositionend":return Ql(i);case"keypress":return i.which!==32?null:(Js=!0,Ws);case"textInput":return r=i.data,r===Ws&&Js?null:r;default:return null}}function vS(r,i){if(Kl)return r==="compositionend"||!ft&&Ki(r,i)?(r=Ec(),Hi=Sc=_a=null,Kl=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ca&&i.locale!=="ko"?null:i.data;default:return null}}var wS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Py(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!wS[r.type]:i==="textarea"}function Ly(r,i,u,d){Dr?ja?ja.push(d):ja=[d]:Dr=d,i=Rh(i,"onChange"),0<i.length&&(u=new Sa("onChange","change",null,u,d),r.push({event:u,listeners:i}))}var kc=null,Ic=null;function NS(r){b1(r,0)}function qd(r){var i=us(r);if(Fi(i))return r}function Vy(r,i){if(r==="change")return i}var Uy=!1;if(Es){var Hf;if(Es){var Gf="oninput"in document;if(!Gf){var zy=document.createElement("div");zy.setAttribute("oninput","return;"),Gf=typeof zy.oninput=="function"}Hf=Gf}else Hf=!1;Uy=Hf&&(!document.documentMode||9<document.documentMode)}function Fy(){kc&&(kc.detachEvent("onpropertychange",By),Ic=kc=null)}function By(r){if(r.propertyName==="value"&&qd(Ic)){var i=[];Ly(i,Ic,r,Ss(r)),Mr(NS,i)}}function jS(r,i,u){r==="focusin"?(Fy(),kc=i,Ic=u,kc.attachEvent("onpropertychange",By)):r==="focusout"&&Fy()}function _S(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return qd(Ic)}function SS(r,i){if(r==="click")return qd(i)}function ES(r,i){if(r==="input"||r==="change")return qd(i)}function TS(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var hs=typeof Object.is=="function"?Object.is:TS;function Rc(r,i){if(hs(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var u=Object.keys(r),d=Object.keys(i);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var g=u[d];if(!je.call(i,g)||!hs(r[g],i[g]))return!1}return!0}function $y(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function qy(r,i){var u=$y(r);r=0;for(var d;u;){if(u.nodeType===3){if(d=r+u.textContent.length,r<=i&&d>=i)return{node:u,offset:i-r};r=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=$y(u)}}function Hy(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Hy(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Gy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Na(r.document);i instanceof r.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch{u=!1}if(u)r=i.contentWindow;else break;i=Na(r.document)}return i}function Yf(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var CS=Es&&"documentMode"in document&&11>=document.documentMode,Xl=null,Qf=null,Dc=null,Kf=!1;function Yy(r,i,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Kf||Xl==null||Xl!==Na(d)||(d=Xl,"selectionStart"in d&&Yf(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Dc&&Rc(Dc,d)||(Dc=d,d=Rh(Qf,"onSelect"),0<d.length&&(i=new Sa("onSelect","select",null,i,u),r.push({event:i,listeners:d}),i.target=Xl)))}function Xi(r,i){var u={};return u[r.toLowerCase()]=i.toLowerCase(),u["Webkit"+r]="webkit"+i,u["Moz"+r]="moz"+i,u}var Wl={animationend:Xi("Animation","AnimationEnd"),animationiteration:Xi("Animation","AnimationIteration"),animationstart:Xi("Animation","AnimationStart"),transitionrun:Xi("Transition","TransitionRun"),transitionstart:Xi("Transition","TransitionStart"),transitioncancel:Xi("Transition","TransitionCancel"),transitionend:Xi("Transition","TransitionEnd")},Xf={},Qy={};Es&&(Qy=document.createElement("div").style,"AnimationEvent"in window||(delete Wl.animationend.animation,delete Wl.animationiteration.animation,delete Wl.animationstart.animation),"TransitionEvent"in window||delete Wl.transitionend.transition);function Wi(r){if(Xf[r])return Xf[r];if(!Wl[r])return r;var i=Wl[r],u;for(u in i)if(i.hasOwnProperty(u)&&u in Qy)return Xf[r]=i[u];return r}var Ky=Wi("animationend"),Xy=Wi("animationiteration"),Wy=Wi("animationstart"),AS=Wi("transitionrun"),kS=Wi("transitionstart"),IS=Wi("transitioncancel"),Jy=Wi("transitionend"),Zy=new Map,Wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wf.push("scrollEnd");function Zs(r,i){Zy.set(r,i),va(i,[r])}var Hd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Cs=[],Jl=0,Jf=0;function Gd(){for(var r=Jl,i=Jf=Jl=0;i<r;){var u=Cs[i];Cs[i++]=null;var d=Cs[i];Cs[i++]=null;var g=Cs[i];Cs[i++]=null;var b=Cs[i];if(Cs[i++]=null,d!==null&&g!==null){var j=d.pending;j===null?g.next=g:(g.next=j.next,j.next=g),d.pending=g}b!==0&&eb(u,g,b)}}function Yd(r,i,u,d){Cs[Jl++]=r,Cs[Jl++]=i,Cs[Jl++]=u,Cs[Jl++]=d,Jf|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function Zf(r,i,u,d){return Yd(r,i,u,d),Qd(r)}function Ji(r,i){return Yd(r,null,null,i),Qd(r)}function eb(r,i,u){r.lanes|=u;var d=r.alternate;d!==null&&(d.lanes|=u);for(var g=!1,b=r.return;b!==null;)b.childLanes|=u,d=b.alternate,d!==null&&(d.childLanes|=u),b.tag===22&&(r=b.stateNode,r===null||r._visibility&1||(g=!0)),r=b,b=b.return;return r.tag===3?(b=r.stateNode,g&&i!==null&&(g=31-at(u),r=b.hiddenUpdates,d=r[g],d===null?r[g]=[i]:d.push(i),i.lane=u|536870912),b):null}function Qd(r){if(50<tu)throw tu=0,op=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Zl={};function RS(r,i,u,d){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ms(r,i,u,d){return new RS(r,i,u,d)}function e0(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ka(r,i){var u=r.alternate;return u===null?(u=ms(r.tag,i,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=i,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,i=r.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function tb(r,i){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,i=u.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Kd(r,i,u,d,g,b){var j=0;if(d=r,typeof r=="function")e0(r)&&(j=1);else if(typeof r=="string")j=LE(r,u,Ee.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case O:return r=ms(31,u,i,g),r.elementType=O,r.lanes=b,r;case U:return Zi(u.children,g,b,i);case I:j=8,g|=24;break;case z:return r=ms(12,u,i,g|2),r.elementType=z,r.lanes=b,r;case se:return r=ms(13,u,i,g),r.elementType=se,r.lanes=b,r;case G:return r=ms(19,u,i,g),r.elementType=G,r.lanes=b,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case q:j=10;break e;case L:j=9;break e;case K:j=11;break e;case D:j=14;break e;case C:j=16,d=null;break e}j=29,u=Error(s(130,r===null?"null":typeof r,"")),d=null}return i=ms(j,u,i,g),i.elementType=r,i.type=d,i.lanes=b,i}function Zi(r,i,u,d){return r=ms(7,r,d,i),r.lanes=u,r}function t0(r,i,u){return r=ms(6,r,null,i),r.lanes=u,r}function nb(r){var i=ms(18,null,null,0);return i.stateNode=r,i}function n0(r,i,u){return i=ms(4,r.children!==null?r.children:[],r.key,i),i.lanes=u,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var sb=new WeakMap;function As(r,i){if(typeof r=="object"&&r!==null){var u=sb.get(r);return u!==void 0?u:(i={value:r,source:i,stack:we(i)},sb.set(r,i),i)}return{value:r,source:i,stack:we(i)}}var eo=[],to=0,Xd=null,Mc=0,ks=[],Is=0,Vr=null,Aa=1,ka="";function Xa(r,i){eo[to++]=Mc,eo[to++]=Xd,Xd=r,Mc=i}function ab(r,i,u){ks[Is++]=Aa,ks[Is++]=ka,ks[Is++]=Vr,Vr=r;var d=Aa;r=ka;var g=32-at(d)-1;d&=~(1<<g),u+=1;var b=32-at(i)+g;if(30<b){var j=g-g%5;b=(d&(1<<j)-1).toString(32),d>>=j,g-=j,Aa=1<<32-at(i)+g|u<<g|d,ka=b+r}else Aa=1<<b|u<<g|d,ka=r}function s0(r){r.return!==null&&(Xa(r,1),ab(r,1,0))}function a0(r){for(;r===Xd;)Xd=eo[--to],eo[to]=null,Mc=eo[--to],eo[to]=null;for(;r===Vr;)Vr=ks[--Is],ks[Is]=null,ka=ks[--Is],ks[Is]=null,Aa=ks[--Is],ks[Is]=null}function rb(r,i){ks[Is++]=Aa,ks[Is++]=ka,ks[Is++]=Vr,Aa=i.id,ka=i.overflow,Vr=r}var En=null,kt=null,rt=!1,Ur=null,Rs=!1,r0=Error(s(519));function zr(r){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Oc(As(i,r)),r0}function ib(r){var i=r.stateNode,u=r.type,d=r.memoizedProps;switch(i[Xt]=r,i[yn]=d,u){case"dialog":We("cancel",i),We("close",i);break;case"iframe":case"object":case"embed":We("load",i);break;case"video":case"audio":for(u=0;u<su.length;u++)We(su[u],i);break;case"source":We("error",i);break;case"img":case"image":case"link":We("error",i),We("load",i);break;case"details":We("toggle",i);break;case"input":We("invalid",i),Ad(i,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":We("invalid",i);break;case"textarea":We("invalid",i),Ir(i,d.value,d.defaultValue,d.children)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||i.textContent===""+u||d.suppressHydrationWarning===!0||j1(i.textContent,u)?(d.popover!=null&&(We("beforetoggle",i),We("toggle",i)),d.onScroll!=null&&We("scroll",i),d.onScrollEnd!=null&&We("scrollend",i),d.onClick!=null&&(i.onclick=Qs),i=!0):i=!1,i||zr(r,!0)}function lb(r){for(En=r.return;En;)switch(En.tag){case 5:case 31:case 13:Rs=!1;return;case 27:case 3:Rs=!0;return;default:En=En.return}}function no(r){if(r!==En)return!1;if(!rt)return lb(r),rt=!0,!1;var i=r.tag,u;if((u=i!==3&&i!==27)&&((u=i===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||jp(r.type,r.memoizedProps)),u=!u),u&&kt&&zr(r),lb(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));kt=R1(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));kt=R1(r)}else i===27?(i=kt,ei(r.type)?(r=Cp,Cp=null,kt=r):kt=i):kt=En?Ms(r.stateNode.nextSibling):null;return!0}function el(){kt=En=null,rt=!1}function i0(){var r=Ur;return r!==null&&(es===null?es=r:es.push.apply(es,r),Ur=null),r}function Oc(r){Ur===null?Ur=[r]:Ur.push(r)}var l0=ie(null),tl=null,Wa=null;function Fr(r,i,u){P(l0,i._currentValue),i._currentValue=u}function Ja(r){r._currentValue=l0.current,ge(l0)}function o0(r,i,u){for(;r!==null;){var d=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),r===u)break;r=r.return}}function c0(r,i,u,d){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var b=g.dependencies;if(b!==null){var j=g.child;b=b.firstContext;e:for(;b!==null;){var k=b;b=g;for(var H=0;H<i.length;H++)if(k.context===i[H]){b.lanes|=u,k=b.alternate,k!==null&&(k.lanes|=u),o0(b.return,u,r),d||(j=null);break e}b=k.next}}else if(g.tag===18){if(j=g.return,j===null)throw Error(s(341));j.lanes|=u,b=j.alternate,b!==null&&(b.lanes|=u),o0(j,u,r),j=null}else j=g.child;if(j!==null)j.return=g;else for(j=g;j!==null;){if(j===r){j=null;break}if(g=j.sibling,g!==null){g.return=j.return,j=g;break}j=j.return}g=j}}function so(r,i,u,d){r=null;for(var g=i,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var j=g.alternate;if(j===null)throw Error(s(387));if(j=j.memoizedProps,j!==null){var k=g.type;hs(g.pendingProps.value,j.value)||(r!==null?r.push(k):r=[k])}}else if(g===ct.current){if(j=g.alternate,j===null)throw Error(s(387));j.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(ou):r=[ou])}g=g.return}r!==null&&c0(i,r,u,d),i.flags|=262144}function Wd(r){for(r=r.firstContext;r!==null;){if(!hs(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function nl(r){tl=r,Wa=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Tn(r){return ob(tl,r)}function Jd(r,i){return tl===null&&nl(r),ob(r,i)}function ob(r,i){var u=i._currentValue;if(i={context:i,memoizedValue:u,next:null},Wa===null){if(r===null)throw Error(s(308));Wa=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Wa=Wa.next=i;return u}var DS=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(u,d){r.push(d)}};this.abort=function(){i.aborted=!0,r.forEach(function(u){return u()})}},MS=t.unstable_scheduleCallback,OS=t.unstable_NormalPriority,Zt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function u0(){return{controller:new DS,data:new Map,refCount:0}}function Pc(r){r.refCount--,r.refCount===0&&MS(OS,function(){r.controller.abort()})}var Lc=null,d0=0,ao=0,ro=null;function PS(r,i){if(Lc===null){var u=Lc=[];d0=0,ao=fp(),ro={status:"pending",value:void 0,then:function(d){u.push(d)}}}return d0++,i.then(cb,cb),i}function cb(){if(--d0===0&&Lc!==null){ro!==null&&(ro.status="fulfilled");var r=Lc;Lc=null,ao=0,ro=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function LS(r,i){var u=[],d={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return r.then(function(){d.status="fulfilled",d.value=i;for(var g=0;g<u.length;g++)(0,u[g])(i)},function(g){for(d.status="rejected",d.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),d}var ub=$.S;$.S=function(r,i){Yv=Pt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&PS(r,i),ub!==null&&ub(r,i)};var sl=ie(null);function h0(){var r=sl.current;return r!==null?r:Et.pooledCache}function Zd(r,i){i===null?P(sl,sl.current):P(sl,i.pool)}function db(){var r=h0();return r===null?null:{parent:Zt._currentValue,pool:r}}var io=Error(s(460)),m0=Error(s(474)),eh=Error(s(542)),th={then:function(){}};function hb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function mb(r,i,u){switch(u=r[u],u===void 0?r.push(i):u!==i&&(i.then(Qs,Qs),i=u),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,pb(r),r;default:if(typeof i.status=="string")i.then(Qs,Qs);else{if(r=Et,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(d){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=d}},function(d){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=d}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,pb(r),r}throw rl=i,io}}function al(r){try{var i=r._init;return i(r._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(rl=u,io):u}}var rl=null;function fb(){if(rl===null)throw Error(s(459));var r=rl;return rl=null,r}function pb(r){if(r===io||r===eh)throw Error(s(483))}var lo=null,Vc=0;function nh(r){var i=Vc;return Vc+=1,lo===null&&(lo=[]),mb(lo,r,i)}function Uc(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function sh(r,i){throw i.$$typeof===v?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function gb(r){function i(Q,Y){if(r){var Z=Q.deletions;Z===null?(Q.deletions=[Y],Q.flags|=16):Z.push(Y)}}function u(Q,Y){if(!r)return null;for(;Y!==null;)i(Q,Y),Y=Y.sibling;return null}function d(Q){for(var Y=new Map;Q!==null;)Q.key!==null?Y.set(Q.key,Q):Y.set(Q.index,Q),Q=Q.sibling;return Y}function g(Q,Y){return Q=Ka(Q,Y),Q.index=0,Q.sibling=null,Q}function b(Q,Y,Z){return Q.index=Z,r?(Z=Q.alternate,Z!==null?(Z=Z.index,Z<Y?(Q.flags|=67108866,Y):Z):(Q.flags|=67108866,Y)):(Q.flags|=1048576,Y)}function j(Q){return r&&Q.alternate===null&&(Q.flags|=67108866),Q}function k(Q,Y,Z,ue){return Y===null||Y.tag!==6?(Y=t0(Z,Q.mode,ue),Y.return=Q,Y):(Y=g(Y,Z),Y.return=Q,Y)}function H(Q,Y,Z,ue){var Ie=Z.type;return Ie===U?le(Q,Y,Z.props.children,ue,Z.key):Y!==null&&(Y.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===C&&al(Ie)===Y.type)?(Y=g(Y,Z.props),Uc(Y,Z),Y.return=Q,Y):(Y=Kd(Z.type,Z.key,Z.props,null,Q.mode,ue),Uc(Y,Z),Y.return=Q,Y)}function ee(Q,Y,Z,ue){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==Z.containerInfo||Y.stateNode.implementation!==Z.implementation?(Y=n0(Z,Q.mode,ue),Y.return=Q,Y):(Y=g(Y,Z.children||[]),Y.return=Q,Y)}function le(Q,Y,Z,ue,Ie){return Y===null||Y.tag!==7?(Y=Zi(Z,Q.mode,ue,Ie),Y.return=Q,Y):(Y=g(Y,Z),Y.return=Q,Y)}function me(Q,Y,Z){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=t0(""+Y,Q.mode,Z),Y.return=Q,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return Z=Kd(Y.type,Y.key,Y.props,null,Q.mode,Z),Uc(Z,Y),Z.return=Q,Z;case S:return Y=n0(Y,Q.mode,Z),Y.return=Q,Y;case C:return Y=al(Y),me(Q,Y,Z)}if(J(Y)||M(Y))return Y=Zi(Y,Q.mode,Z,null),Y.return=Q,Y;if(typeof Y.then=="function")return me(Q,nh(Y),Z);if(Y.$$typeof===q)return me(Q,Jd(Q,Y),Z);sh(Q,Y)}return null}function ne(Q,Y,Z,ue){var Ie=Y!==null?Y.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ie!==null?null:k(Q,Y,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return Z.key===Ie?H(Q,Y,Z,ue):null;case S:return Z.key===Ie?ee(Q,Y,Z,ue):null;case C:return Z=al(Z),ne(Q,Y,Z,ue)}if(J(Z)||M(Z))return Ie!==null?null:le(Q,Y,Z,ue,null);if(typeof Z.then=="function")return ne(Q,Y,nh(Z),ue);if(Z.$$typeof===q)return ne(Q,Y,Jd(Q,Z),ue);sh(Q,Z)}return null}function re(Q,Y,Z,ue,Ie){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Q=Q.get(Z)||null,k(Y,Q,""+ue,Ie);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case w:return Q=Q.get(ue.key===null?Z:ue.key)||null,H(Y,Q,ue,Ie);case S:return Q=Q.get(ue.key===null?Z:ue.key)||null,ee(Y,Q,ue,Ie);case C:return ue=al(ue),re(Q,Y,Z,ue,Ie)}if(J(ue)||M(ue))return Q=Q.get(Z)||null,le(Y,Q,ue,Ie,null);if(typeof ue.then=="function")return re(Q,Y,Z,nh(ue),Ie);if(ue.$$typeof===q)return re(Q,Y,Z,Jd(Y,ue),Ie);sh(Y,ue)}return null}function Te(Q,Y,Z,ue){for(var Ie=null,dt=null,Ce=Y,Ge=Y=0,et=null;Ce!==null&&Ge<Z.length;Ge++){Ce.index>Ge?(et=Ce,Ce=null):et=Ce.sibling;var ht=ne(Q,Ce,Z[Ge],ue);if(ht===null){Ce===null&&(Ce=et);break}r&&Ce&&ht.alternate===null&&i(Q,Ce),Y=b(ht,Y,Ge),dt===null?Ie=ht:dt.sibling=ht,dt=ht,Ce=et}if(Ge===Z.length)return u(Q,Ce),rt&&Xa(Q,Ge),Ie;if(Ce===null){for(;Ge<Z.length;Ge++)Ce=me(Q,Z[Ge],ue),Ce!==null&&(Y=b(Ce,Y,Ge),dt===null?Ie=Ce:dt.sibling=Ce,dt=Ce);return rt&&Xa(Q,Ge),Ie}for(Ce=d(Ce);Ge<Z.length;Ge++)et=re(Ce,Q,Ge,Z[Ge],ue),et!==null&&(r&&et.alternate!==null&&Ce.delete(et.key===null?Ge:et.key),Y=b(et,Y,Ge),dt===null?Ie=et:dt.sibling=et,dt=et);return r&&Ce.forEach(function(ri){return i(Q,ri)}),rt&&Xa(Q,Ge),Ie}function Oe(Q,Y,Z,ue){if(Z==null)throw Error(s(151));for(var Ie=null,dt=null,Ce=Y,Ge=Y=0,et=null,ht=Z.next();Ce!==null&&!ht.done;Ge++,ht=Z.next()){Ce.index>Ge?(et=Ce,Ce=null):et=Ce.sibling;var ri=ne(Q,Ce,ht.value,ue);if(ri===null){Ce===null&&(Ce=et);break}r&&Ce&&ri.alternate===null&&i(Q,Ce),Y=b(ri,Y,Ge),dt===null?Ie=ri:dt.sibling=ri,dt=ri,Ce=et}if(ht.done)return u(Q,Ce),rt&&Xa(Q,Ge),Ie;if(Ce===null){for(;!ht.done;Ge++,ht=Z.next())ht=me(Q,ht.value,ue),ht!==null&&(Y=b(ht,Y,Ge),dt===null?Ie=ht:dt.sibling=ht,dt=ht);return rt&&Xa(Q,Ge),Ie}for(Ce=d(Ce);!ht.done;Ge++,ht=Z.next())ht=re(Ce,Q,Ge,ht.value,ue),ht!==null&&(r&&ht.alternate!==null&&Ce.delete(ht.key===null?Ge:ht.key),Y=b(ht,Y,Ge),dt===null?Ie=ht:dt.sibling=ht,dt=ht);return r&&Ce.forEach(function(QE){return i(Q,QE)}),rt&&Xa(Q,Ge),Ie}function St(Q,Y,Z,ue){if(typeof Z=="object"&&Z!==null&&Z.type===U&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:e:{for(var Ie=Z.key;Y!==null;){if(Y.key===Ie){if(Ie=Z.type,Ie===U){if(Y.tag===7){u(Q,Y.sibling),ue=g(Y,Z.props.children),ue.return=Q,Q=ue;break e}}else if(Y.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===C&&al(Ie)===Y.type){u(Q,Y.sibling),ue=g(Y,Z.props),Uc(ue,Z),ue.return=Q,Q=ue;break e}u(Q,Y);break}else i(Q,Y);Y=Y.sibling}Z.type===U?(ue=Zi(Z.props.children,Q.mode,ue,Z.key),ue.return=Q,Q=ue):(ue=Kd(Z.type,Z.key,Z.props,null,Q.mode,ue),Uc(ue,Z),ue.return=Q,Q=ue)}return j(Q);case S:e:{for(Ie=Z.key;Y!==null;){if(Y.key===Ie)if(Y.tag===4&&Y.stateNode.containerInfo===Z.containerInfo&&Y.stateNode.implementation===Z.implementation){u(Q,Y.sibling),ue=g(Y,Z.children||[]),ue.return=Q,Q=ue;break e}else{u(Q,Y);break}else i(Q,Y);Y=Y.sibling}ue=n0(Z,Q.mode,ue),ue.return=Q,Q=ue}return j(Q);case C:return Z=al(Z),St(Q,Y,Z,ue)}if(J(Z))return Te(Q,Y,Z,ue);if(M(Z)){if(Ie=M(Z),typeof Ie!="function")throw Error(s(150));return Z=Ie.call(Z),Oe(Q,Y,Z,ue)}if(typeof Z.then=="function")return St(Q,Y,nh(Z),ue);if(Z.$$typeof===q)return St(Q,Y,Jd(Q,Z),ue);sh(Q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,Y!==null&&Y.tag===6?(u(Q,Y.sibling),ue=g(Y,Z),ue.return=Q,Q=ue):(u(Q,Y),ue=t0(Z,Q.mode,ue),ue.return=Q,Q=ue),j(Q)):u(Q,Y)}return function(Q,Y,Z,ue){try{Vc=0;var Ie=St(Q,Y,Z,ue);return lo=null,Ie}catch(Ce){if(Ce===io||Ce===eh)throw Ce;var dt=ms(29,Ce,null,Q.mode);return dt.lanes=ue,dt.return=Q,dt}finally{}}}var il=gb(!0),xb=gb(!1),Br=!1;function f0(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function p0(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function $r(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function qr(r,i,u){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(pt&2)!==0){var g=d.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),d.pending=i,i=Qd(r),eb(r,null,u),i}return Yd(r,d,i,u),Qd(r)}function zc(r,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194048)!==0)){var d=i.lanes;d&=r.pendingLanes,u|=d,i.lanes=u,mc(r,u)}}function g0(r,i){var u=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var g=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var j={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?g=b=j:b=b.next=j,u=u.next}while(u!==null);b===null?g=b=i:b=b.next=i}else g=b=i;u={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=i:r.next=i,u.lastBaseUpdate=i}var x0=!1;function Fc(){if(x0){var r=ro;if(r!==null)throw r}}function Bc(r,i,u,d){x0=!1;var g=r.updateQueue;Br=!1;var b=g.firstBaseUpdate,j=g.lastBaseUpdate,k=g.shared.pending;if(k!==null){g.shared.pending=null;var H=k,ee=H.next;H.next=null,j===null?b=ee:j.next=ee,j=H;var le=r.alternate;le!==null&&(le=le.updateQueue,k=le.lastBaseUpdate,k!==j&&(k===null?le.firstBaseUpdate=ee:k.next=ee,le.lastBaseUpdate=H))}if(b!==null){var me=g.baseState;j=0,le=ee=H=null,k=b;do{var ne=k.lane&-536870913,re=ne!==k.lane;if(re?(Ze&ne)===ne:(d&ne)===ne){ne!==0&&ne===ao&&(x0=!0),le!==null&&(le=le.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Te=r,Oe=k;ne=i;var St=u;switch(Oe.tag){case 1:if(Te=Oe.payload,typeof Te=="function"){me=Te.call(St,me,ne);break e}me=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Oe.payload,ne=typeof Te=="function"?Te.call(St,me,ne):Te,ne==null)break e;me=y({},me,ne);break e;case 2:Br=!0}}ne=k.callback,ne!==null&&(r.flags|=64,re&&(r.flags|=8192),re=g.callbacks,re===null?g.callbacks=[ne]:re.push(ne))}else re={lane:ne,tag:k.tag,payload:k.payload,callback:k.callback,next:null},le===null?(ee=le=re,H=me):le=le.next=re,j|=ne;if(k=k.next,k===null){if(k=g.shared.pending,k===null)break;re=k,k=re.next,re.next=null,g.lastBaseUpdate=re,g.shared.pending=null}}while(!0);le===null&&(H=me),g.baseState=H,g.firstBaseUpdate=ee,g.lastBaseUpdate=le,b===null&&(g.shared.lanes=0),Kr|=j,r.lanes=j,r.memoizedState=me}}function yb(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function bb(r,i){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)yb(u[r],i)}var oo=ie(null),ah=ie(0);function vb(r,i){r=lr,P(ah,r),P(oo,i),lr=r|i.baseLanes}function y0(){P(ah,lr),P(oo,oo.current)}function b0(){lr=ah.current,ge(oo),ge(ah)}var fs=ie(null),Ds=null;function Hr(r){var i=r.alternate;P($t,$t.current&1),P(fs,r),Ds===null&&(i===null||oo.current!==null||i.memoizedState!==null)&&(Ds=r)}function v0(r){P($t,$t.current),P(fs,r),Ds===null&&(Ds=r)}function wb(r){r.tag===22?(P($t,$t.current),P(fs,r),Ds===null&&(Ds=r)):Gr()}function Gr(){P($t,$t.current),P(fs,fs.current)}function ps(r){ge(fs),Ds===r&&(Ds=null),ge($t)}var $t=ie(0);function rh(r){for(var i=r;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Ep(u)||Tp(u)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Za=0,He=null,jt=null,en=null,ih=!1,co=!1,ll=!1,lh=0,$c=0,uo=null,VS=0;function Ut(){throw Error(s(321))}function w0(r,i){if(i===null)return!1;for(var u=0;u<i.length&&u<r.length;u++)if(!hs(r[u],i[u]))return!1;return!0}function N0(r,i,u,d,g,b){return Za=b,He=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=r===null||r.memoizedState===null?av:L0,ll=!1,b=u(d,g),ll=!1,co&&(b=jb(i,u,d,g)),Nb(r),b}function Nb(r){$.H=Gc;var i=jt!==null&&jt.next!==null;if(Za=0,en=jt=He=null,ih=!1,$c=0,uo=null,i)throw Error(s(300));r===null||tn||(r=r.dependencies,r!==null&&Wd(r)&&(tn=!0))}function jb(r,i,u,d){He=r;var g=0;do{if(co&&(uo=null),$c=0,co=!1,25<=g)throw Error(s(301));if(g+=1,en=jt=null,r.updateQueue!=null){var b=r.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}$.H=rv,b=i(u,d)}while(co);return b}function US(){var r=$.H,i=r.useState()[0];return i=typeof i.then=="function"?qc(i):i,r=r.useState()[0],(jt!==null?jt.memoizedState:null)!==r&&(He.flags|=1024),i}function j0(){var r=lh!==0;return lh=0,r}function _0(r,i,u){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~u}function S0(r){if(ih){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ih=!1}Za=0,en=jt=He=null,co=!1,$c=lh=0,uo=null}function Gn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?He.memoizedState=en=r:en=en.next=r,en}function qt(){if(jt===null){var r=He.alternate;r=r!==null?r.memoizedState:null}else r=jt.next;var i=en===null?He.memoizedState:en.next;if(i!==null)en=i,jt=r;else{if(r===null)throw He.alternate===null?Error(s(467)):Error(s(310));jt=r,r={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},en===null?He.memoizedState=en=r:en=en.next=r}return en}function oh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qc(r){var i=$c;return $c+=1,uo===null&&(uo=[]),r=mb(uo,r,i),i=He,(en===null?i.memoizedState:en.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?av:L0),r}function ch(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return qc(r);if(r.$$typeof===q)return Tn(r)}throw Error(s(438,String(r)))}function E0(r){var i=null,u=He.updateQueue;if(u!==null&&(i=u.memoCache),i==null){var d=He.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(i={data:d.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),u===null&&(u=oh(),He.updateQueue=u),u.memoCache=i,u=i.data[i.index],u===void 0)for(u=i.data[i.index]=Array(r),d=0;d<r;d++)u[d]=E;return i.index++,u}function er(r,i){return typeof i=="function"?i(r):i}function uh(r){var i=qt();return T0(i,jt,r)}function T0(r,i,u){var d=r.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=u;var g=r.baseQueue,b=d.pending;if(b!==null){if(g!==null){var j=g.next;g.next=b.next,b.next=j}i.baseQueue=g=b,d.pending=null}if(b=r.baseState,g===null)r.memoizedState=b;else{i=g.next;var k=j=null,H=null,ee=i,le=!1;do{var me=ee.lane&-536870913;if(me!==ee.lane?(Ze&me)===me:(Za&me)===me){var ne=ee.revertLane;if(ne===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),me===ao&&(le=!0);else if((Za&ne)===ne){ee=ee.next,ne===ao&&(le=!0);continue}else me={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(k=H=me,j=b):H=H.next=me,He.lanes|=ne,Kr|=ne;me=ee.action,ll&&u(b,me),b=ee.hasEagerState?ee.eagerState:u(b,me)}else ne={lane:me,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(k=H=ne,j=b):H=H.next=ne,He.lanes|=me,Kr|=me;ee=ee.next}while(ee!==null&&ee!==i);if(H===null?j=b:H.next=k,!hs(b,r.memoizedState)&&(tn=!0,le&&(u=ro,u!==null)))throw u;r.memoizedState=b,r.baseState=j,r.baseQueue=H,d.lastRenderedState=b}return g===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function C0(r){var i=qt(),u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=r;var d=u.dispatch,g=u.pending,b=i.memoizedState;if(g!==null){u.pending=null;var j=g=g.next;do b=r(b,j.action),j=j.next;while(j!==g);hs(b,i.memoizedState)||(tn=!0),i.memoizedState=b,i.baseQueue===null&&(i.baseState=b),u.lastRenderedState=b}return[b,d]}function _b(r,i,u){var d=He,g=qt(),b=rt;if(b){if(u===void 0)throw Error(s(407));u=u()}else u=i();var j=!hs((jt||g).memoizedState,u);if(j&&(g.memoizedState=u,tn=!0),g=g.queue,I0(Tb.bind(null,d,g,r),[r]),g.getSnapshot!==i||j||en!==null&&en.memoizedState.tag&1){if(d.flags|=2048,ho(9,{destroy:void 0},Eb.bind(null,d,g,u,i),null),Et===null)throw Error(s(349));b||(Za&127)!==0||Sb(d,i,u)}return u}function Sb(r,i,u){r.flags|=16384,r={getSnapshot:i,value:u},i=He.updateQueue,i===null?(i=oh(),He.updateQueue=i,i.stores=[r]):(u=i.stores,u===null?i.stores=[r]:u.push(r))}function Eb(r,i,u,d){i.value=u,i.getSnapshot=d,Cb(i)&&Ab(r)}function Tb(r,i,u){return u(function(){Cb(i)&&Ab(r)})}function Cb(r){var i=r.getSnapshot;r=r.value;try{var u=i();return!hs(r,u)}catch{return!0}}function Ab(r){var i=Ji(r,2);i!==null&&ts(i,r,2)}function A0(r){var i=Gn();if(typeof r=="function"){var u=r;if(r=u(),ll){xn(!0);try{u()}finally{xn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:r},i}function kb(r,i,u,d){return r.baseState=u,T0(r,jt,typeof d=="function"?d:er)}function zS(r,i,u,d,g){if(mh(r))throw Error(s(485));if(r=i.action,r!==null){var b={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){b.listeners.push(j)}};$.T!==null?u(!0):b.isTransition=!1,d(b),u=i.pending,u===null?(b.next=i.pending=b,Ib(i,b)):(b.next=u.next,i.pending=u.next=b)}}function Ib(r,i){var u=i.action,d=i.payload,g=r.state;if(i.isTransition){var b=$.T,j={};$.T=j;try{var k=u(g,d),H=$.S;H!==null&&H(j,k),Rb(r,i,k)}catch(ee){k0(r,i,ee)}finally{b!==null&&j.types!==null&&(b.types=j.types),$.T=b}}else try{b=u(g,d),Rb(r,i,b)}catch(ee){k0(r,i,ee)}}function Rb(r,i,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){Db(r,i,d)},function(d){return k0(r,i,d)}):Db(r,i,u)}function Db(r,i,u){i.status="fulfilled",i.value=u,Mb(i),r.state=u,i=r.pending,i!==null&&(u=i.next,u===i?r.pending=null:(u=u.next,i.next=u,Ib(r,u)))}function k0(r,i,u){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do i.status="rejected",i.reason=u,Mb(i),i=i.next;while(i!==d)}r.action=null}function Mb(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function Ob(r,i){return i}function Pb(r,i){if(rt){var u=Et.formState;if(u!==null){e:{var d=He;if(rt){if(kt){t:{for(var g=kt,b=Rs;g.nodeType!==8;){if(!b){g=null;break t}if(g=Ms(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){kt=Ms(g.nextSibling),d=g.data==="F!";break e}}zr(d)}d=!1}d&&(i=u[0])}}return u=Gn(),u.memoizedState=u.baseState=i,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ob,lastRenderedState:i},u.queue=d,u=tv.bind(null,He,d),d.dispatch=u,d=A0(!1),b=P0.bind(null,He,!1,d.queue),d=Gn(),g={state:i,dispatch:null,action:r,pending:null},d.queue=g,u=zS.bind(null,He,g,b,u),g.dispatch=u,d.memoizedState=r,[i,u,!1]}function Lb(r){var i=qt();return Vb(i,jt,r)}function Vb(r,i,u){if(i=T0(r,i,Ob)[0],r=uh(er)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var d=qc(i)}catch(j){throw j===io?eh:j}else d=i;i=qt();var g=i.queue,b=g.dispatch;return u!==i.memoizedState&&(He.flags|=2048,ho(9,{destroy:void 0},FS.bind(null,g,u),null)),[d,b,r]}function FS(r,i){r.action=i}function Ub(r){var i=qt(),u=jt;if(u!==null)return Vb(i,u,r);qt(),i=i.memoizedState,u=qt();var d=u.queue.dispatch;return u.memoizedState=r,[i,d,!1]}function ho(r,i,u,d){return r={tag:r,create:u,deps:d,inst:i,next:null},i=He.updateQueue,i===null&&(i=oh(),He.updateQueue=i),u=i.lastEffect,u===null?i.lastEffect=r.next=r:(d=u.next,u.next=r,r.next=d,i.lastEffect=r),r}function zb(){return qt().memoizedState}function dh(r,i,u,d){var g=Gn();He.flags|=r,g.memoizedState=ho(1|i,{destroy:void 0},u,d===void 0?null:d)}function hh(r,i,u,d){var g=qt();d=d===void 0?null:d;var b=g.memoizedState.inst;jt!==null&&d!==null&&w0(d,jt.memoizedState.deps)?g.memoizedState=ho(i,b,u,d):(He.flags|=r,g.memoizedState=ho(1|i,b,u,d))}function Fb(r,i){dh(8390656,8,r,i)}function I0(r,i){hh(2048,8,r,i)}function BS(r){He.flags|=4;var i=He.updateQueue;if(i===null)i=oh(),He.updateQueue=i,i.events=[r];else{var u=i.events;u===null?i.events=[r]:u.push(r)}}function Bb(r){var i=qt().memoizedState;return BS({ref:i,nextImpl:r}),function(){if((pt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function $b(r,i){return hh(4,2,r,i)}function qb(r,i){return hh(4,4,r,i)}function Hb(r,i){if(typeof i=="function"){r=r();var u=i(r);return function(){typeof u=="function"?u():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Gb(r,i,u){u=u!=null?u.concat([r]):null,hh(4,4,Hb.bind(null,i,r),u)}function R0(){}function Yb(r,i){var u=qt();i=i===void 0?null:i;var d=u.memoizedState;return i!==null&&w0(i,d[1])?d[0]:(u.memoizedState=[r,i],r)}function Qb(r,i){var u=qt();i=i===void 0?null:i;var d=u.memoizedState;if(i!==null&&w0(i,d[1]))return d[0];if(d=r(),ll){xn(!0);try{r()}finally{xn(!1)}}return u.memoizedState=[d,i],d}function D0(r,i,u){return u===void 0||(Za&1073741824)!==0&&(Ze&261930)===0?r.memoizedState=i:(r.memoizedState=u,r=Kv(),He.lanes|=r,Kr|=r,u)}function Kb(r,i,u,d){return hs(u,i)?u:oo.current!==null?(r=D0(r,u,d),hs(r,i)||(tn=!0),r):(Za&42)===0||(Za&1073741824)!==0&&(Ze&261930)===0?(tn=!0,r.memoizedState=u):(r=Kv(),He.lanes|=r,Kr|=r,i)}function Xb(r,i,u,d,g){var b=W.p;W.p=b!==0&&8>b?b:8;var j=$.T,k={};$.T=k,P0(r,!1,i,u);try{var H=g(),ee=$.S;if(ee!==null&&ee(k,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var le=LS(H,d);Hc(r,i,le,ys(r))}else Hc(r,i,d,ys(r))}catch(me){Hc(r,i,{then:function(){},status:"rejected",reason:me},ys())}finally{W.p=b,j!==null&&k.types!==null&&(j.types=k.types),$.T=j}}function $S(){}function M0(r,i,u,d){if(r.tag!==5)throw Error(s(476));var g=Wb(r).queue;Xb(r,g,i,he,u===null?$S:function(){return Jb(r),u(d)})}function Wb(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:he},next:null};var u={};return i.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:u},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Jb(r){var i=Wb(r);i.next===null&&(i=r.alternate.memoizedState),Hc(r,i.next.queue,{},ys())}function O0(){return Tn(ou)}function Zb(){return qt().memoizedState}function ev(){return qt().memoizedState}function qS(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var u=ys();r=$r(u);var d=qr(i,r,u);d!==null&&(ts(d,i,u),zc(d,i,u)),i={cache:u0()},r.payload=i;return}i=i.return}}function HS(r,i,u){var d=ys();u={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},mh(r)?nv(i,u):(u=Zf(r,i,u,d),u!==null&&(ts(u,r,d),sv(u,i,d)))}function tv(r,i,u){var d=ys();Hc(r,i,u,d)}function Hc(r,i,u,d){var g={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(mh(r))nv(i,g);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=i.lastRenderedReducer,b!==null))try{var j=i.lastRenderedState,k=b(j,u);if(g.hasEagerState=!0,g.eagerState=k,hs(k,j))return Yd(r,i,g,0),Et===null&&Gd(),!1}catch{}finally{}if(u=Zf(r,i,g,d),u!==null)return ts(u,r,d),sv(u,i,d),!0}return!1}function P0(r,i,u,d){if(d={lane:2,revertLane:fp(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},mh(r)){if(i)throw Error(s(479))}else i=Zf(r,u,d,2),i!==null&&ts(i,r,2)}function mh(r){var i=r.alternate;return r===He||i!==null&&i===He}function nv(r,i){co=ih=!0;var u=r.pending;u===null?i.next=i:(i.next=u.next,u.next=i),r.pending=i}function sv(r,i,u){if((u&4194048)!==0){var d=i.lanes;d&=r.pendingLanes,u|=d,i.lanes=u,mc(r,u)}}var Gc={readContext:Tn,use:ch,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut};Gc.useEffectEvent=Ut;var av={readContext:Tn,use:ch,useCallback:function(r,i){return Gn().memoizedState=[r,i===void 0?null:i],r},useContext:Tn,useEffect:Fb,useImperativeHandle:function(r,i,u){u=u!=null?u.concat([r]):null,dh(4194308,4,Hb.bind(null,i,r),u)},useLayoutEffect:function(r,i){return dh(4194308,4,r,i)},useInsertionEffect:function(r,i){dh(4,2,r,i)},useMemo:function(r,i){var u=Gn();i=i===void 0?null:i;var d=r();if(ll){xn(!0);try{r()}finally{xn(!1)}}return u.memoizedState=[d,i],d},useReducer:function(r,i,u){var d=Gn();if(u!==void 0){var g=u(i);if(ll){xn(!0);try{u(i)}finally{xn(!1)}}}else g=i;return d.memoizedState=d.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},d.queue=r,r=r.dispatch=HS.bind(null,He,r),[d.memoizedState,r]},useRef:function(r){var i=Gn();return r={current:r},i.memoizedState=r},useState:function(r){r=A0(r);var i=r.queue,u=tv.bind(null,He,i);return i.dispatch=u,[r.memoizedState,u]},useDebugValue:R0,useDeferredValue:function(r,i){var u=Gn();return D0(u,r,i)},useTransition:function(){var r=A0(!1);return r=Xb.bind(null,He,r.queue,!0,!1),Gn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,u){var d=He,g=Gn();if(rt){if(u===void 0)throw Error(s(407));u=u()}else{if(u=i(),Et===null)throw Error(s(349));(Ze&127)!==0||Sb(d,i,u)}g.memoizedState=u;var b={value:u,getSnapshot:i};return g.queue=b,Fb(Tb.bind(null,d,b,r),[r]),d.flags|=2048,ho(9,{destroy:void 0},Eb.bind(null,d,b,u,i),null),u},useId:function(){var r=Gn(),i=Et.identifierPrefix;if(rt){var u=ka,d=Aa;u=(d&~(1<<32-at(d)-1)).toString(32)+u,i="_"+i+"R_"+u,u=lh++,0<u&&(i+="H"+u.toString(32)),i+="_"}else u=VS++,i="_"+i+"r_"+u.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:O0,useFormState:Pb,useActionState:Pb,useOptimistic:function(r){var i=Gn();i.memoizedState=i.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=u,i=P0.bind(null,He,!0,u),u.dispatch=i,[r,i]},useMemoCache:E0,useCacheRefresh:function(){return Gn().memoizedState=qS.bind(null,He)},useEffectEvent:function(r){var i=Gn(),u={impl:r};return i.memoizedState=u,function(){if((pt&2)!==0)throw Error(s(440));return u.impl.apply(void 0,arguments)}}},L0={readContext:Tn,use:ch,useCallback:Yb,useContext:Tn,useEffect:I0,useImperativeHandle:Gb,useInsertionEffect:$b,useLayoutEffect:qb,useMemo:Qb,useReducer:uh,useRef:zb,useState:function(){return uh(er)},useDebugValue:R0,useDeferredValue:function(r,i){var u=qt();return Kb(u,jt.memoizedState,r,i)},useTransition:function(){var r=uh(er)[0],i=qt().memoizedState;return[typeof r=="boolean"?r:qc(r),i]},useSyncExternalStore:_b,useId:Zb,useHostTransitionStatus:O0,useFormState:Lb,useActionState:Lb,useOptimistic:function(r,i){var u=qt();return kb(u,jt,r,i)},useMemoCache:E0,useCacheRefresh:ev};L0.useEffectEvent=Bb;var rv={readContext:Tn,use:ch,useCallback:Yb,useContext:Tn,useEffect:I0,useImperativeHandle:Gb,useInsertionEffect:$b,useLayoutEffect:qb,useMemo:Qb,useReducer:C0,useRef:zb,useState:function(){return C0(er)},useDebugValue:R0,useDeferredValue:function(r,i){var u=qt();return jt===null?D0(u,r,i):Kb(u,jt.memoizedState,r,i)},useTransition:function(){var r=C0(er)[0],i=qt().memoizedState;return[typeof r=="boolean"?r:qc(r),i]},useSyncExternalStore:_b,useId:Zb,useHostTransitionStatus:O0,useFormState:Ub,useActionState:Ub,useOptimistic:function(r,i){var u=qt();return jt!==null?kb(u,jt,r,i):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:E0,useCacheRefresh:ev};rv.useEffectEvent=Bb;function V0(r,i,u,d){i=r.memoizedState,u=u(d,i),u=u==null?i:y({},i,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var U0={enqueueSetState:function(r,i,u){r=r._reactInternals;var d=ys(),g=$r(d);g.payload=i,u!=null&&(g.callback=u),i=qr(r,g,d),i!==null&&(ts(i,r,d),zc(i,r,d))},enqueueReplaceState:function(r,i,u){r=r._reactInternals;var d=ys(),g=$r(d);g.tag=1,g.payload=i,u!=null&&(g.callback=u),i=qr(r,g,d),i!==null&&(ts(i,r,d),zc(i,r,d))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var u=ys(),d=$r(u);d.tag=2,i!=null&&(d.callback=i),i=qr(r,d,u),i!==null&&(ts(i,r,u),zc(i,r,u))}};function iv(r,i,u,d,g,b,j){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,b,j):i.prototype&&i.prototype.isPureReactComponent?!Rc(u,d)||!Rc(g,b):!0}function lv(r,i,u,d){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,d),i.state!==r&&U0.enqueueReplaceState(i,i.state,null)}function ol(r,i){var u=i;if("ref"in i){u={};for(var d in i)d!=="ref"&&(u[d]=i[d])}if(r=r.defaultProps){u===i&&(u=y({},u));for(var g in r)u[g]===void 0&&(u[g]=r[g])}return u}function ov(r){Hd(r)}function cv(r){console.error(r)}function uv(r){Hd(r)}function fh(r,i){try{var u=r.onUncaughtError;u(i.value,{componentStack:i.stack})}catch(d){setTimeout(function(){throw d})}}function dv(r,i,u){try{var d=r.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function z0(r,i,u){return u=$r(u),u.tag=3,u.payload={element:null},u.callback=function(){fh(r,i)},u}function hv(r){return r=$r(r),r.tag=3,r}function mv(r,i,u,d){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var b=d.value;r.payload=function(){return g(b)},r.callback=function(){dv(i,u,d)}}var j=u.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(r.callback=function(){dv(i,u,d),typeof g!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var k=d.stack;this.componentDidCatch(d.value,{componentStack:k!==null?k:""})})}function GS(r,i,u,d,g){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(i=u.alternate,i!==null&&so(i,u,g,!0),u=fs.current,u!==null){switch(u.tag){case 31:case 13:return Ds===null?Eh():u.alternate===null&&zt===0&&(zt=3),u.flags&=-257,u.flags|=65536,u.lanes=g,d===th?u.flags|=16384:(i=u.updateQueue,i===null?u.updateQueue=new Set([d]):i.add(d),dp(r,d,g)),!1;case 22:return u.flags|=65536,d===th?u.flags|=16384:(i=u.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=i):(u=i.retryQueue,u===null?i.retryQueue=new Set([d]):u.add(d)),dp(r,d,g)),!1}throw Error(s(435,u.tag))}return dp(r,d,g),Eh(),!1}if(rt)return i=fs.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,d!==r0&&(r=Error(s(422),{cause:d}),Oc(As(r,u)))):(d!==r0&&(i=Error(s(423),{cause:d}),Oc(As(i,u))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,d=As(d,u),g=z0(r.stateNode,d,g),g0(r,g),zt!==4&&(zt=2)),!1;var b=Error(s(520),{cause:d});if(b=As(b,u),eu===null?eu=[b]:eu.push(b),zt!==4&&(zt=2),i===null)return!0;d=As(d,u),u=i;do{switch(u.tag){case 3:return u.flags|=65536,r=g&-g,u.lanes|=r,r=z0(u.stateNode,d,r),g0(u,r),!1;case 1:if(i=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Xr===null||!Xr.has(b))))return u.flags|=65536,g&=-g,u.lanes|=g,g=hv(g),mv(g,r,u,d),g0(u,g),!1}u=u.return}while(u!==null);return!1}var F0=Error(s(461)),tn=!1;function Cn(r,i,u,d){i.child=r===null?xb(i,null,u,d):il(i,r.child,u,d)}function fv(r,i,u,d,g){u=u.render;var b=i.ref;if("ref"in d){var j={};for(var k in d)k!=="ref"&&(j[k]=d[k])}else j=d;return nl(i),d=N0(r,i,u,j,b,g),k=j0(),r!==null&&!tn?(_0(r,i,g),tr(r,i,g)):(rt&&k&&s0(i),i.flags|=1,Cn(r,i,d,g),i.child)}function pv(r,i,u,d,g){if(r===null){var b=u.type;return typeof b=="function"&&!e0(b)&&b.defaultProps===void 0&&u.compare===null?(i.tag=15,i.type=b,gv(r,i,b,d,g)):(r=Kd(u.type,null,d,i,i.mode,g),r.ref=i.ref,r.return=i,i.child=r)}if(b=r.child,!K0(r,g)){var j=b.memoizedProps;if(u=u.compare,u=u!==null?u:Rc,u(j,d)&&r.ref===i.ref)return tr(r,i,g)}return i.flags|=1,r=Ka(b,d),r.ref=i.ref,r.return=i,i.child=r}function gv(r,i,u,d,g){if(r!==null){var b=r.memoizedProps;if(Rc(b,d)&&r.ref===i.ref)if(tn=!1,i.pendingProps=d=b,K0(r,g))(r.flags&131072)!==0&&(tn=!0);else return i.lanes=r.lanes,tr(r,i,g)}return B0(r,i,u,d,g)}function xv(r,i,u,d){var g=d.children,b=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((i.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,r!==null){for(d=i.child=r.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;d=g&~b}else d=0,i.child=null;return yv(r,i,b,u,d)}if((u&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Zd(i,b!==null?b.cachePool:null),b!==null?vb(i,b):y0(),wb(i);else return d=i.lanes=536870912,yv(r,i,b!==null?b.baseLanes|u:u,u,d)}else b!==null?(Zd(i,b.cachePool),vb(i,b),Gr(),i.memoizedState=null):(r!==null&&Zd(i,null),y0(),Gr());return Cn(r,i,g,u),i.child}function Yc(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function yv(r,i,u,d,g){var b=h0();return b=b===null?null:{parent:Zt._currentValue,pool:b},i.memoizedState={baseLanes:u,cachePool:b},r!==null&&Zd(i,null),y0(),wb(i),r!==null&&so(r,i,d,!0),i.childLanes=g,null}function ph(r,i){return i=xh({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function bv(r,i,u){return il(i,r.child,null,u),r=ph(i,i.pendingProps),r.flags|=2,ps(i),i.memoizedState=null,r}function YS(r,i,u){var d=i.pendingProps,g=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(rt){if(d.mode==="hidden")return r=ph(i,d),i.lanes=536870912,Yc(null,r);if(v0(i),(r=kt)?(r=I1(r,Rs),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Vr!==null?{id:Aa,overflow:ka}:null,retryLane:536870912,hydrationErrors:null},u=nb(r),u.return=i,i.child=u,En=i,kt=null)):r=null,r===null)throw zr(i);return i.lanes=536870912,null}return ph(i,d)}var b=r.memoizedState;if(b!==null){var j=b.dehydrated;if(v0(i),g)if(i.flags&256)i.flags&=-257,i=bv(r,i,u);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(s(558));else if(tn||so(r,i,u,!1),g=(u&r.childLanes)!==0,tn||g){if(d=Et,d!==null&&(j=fc(d,u),j!==0&&j!==b.retryLane))throw b.retryLane=j,Ji(r,j),ts(d,r,j),F0;Eh(),i=bv(r,i,u)}else r=b.treeContext,kt=Ms(j.nextSibling),En=i,rt=!0,Ur=null,Rs=!1,r!==null&&rb(i,r),i=ph(i,d),i.flags|=4096;return i}return r=Ka(r.child,{mode:d.mode,children:d.children}),r.ref=i.ref,i.child=r,r.return=i,r}function gh(r,i){var u=i.ref;if(u===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(s(284));(r===null||r.ref!==u)&&(i.flags|=4194816)}}function B0(r,i,u,d,g){return nl(i),u=N0(r,i,u,d,void 0,g),d=j0(),r!==null&&!tn?(_0(r,i,g),tr(r,i,g)):(rt&&d&&s0(i),i.flags|=1,Cn(r,i,u,g),i.child)}function vv(r,i,u,d,g,b){return nl(i),i.updateQueue=null,u=jb(i,d,u,g),Nb(r),d=j0(),r!==null&&!tn?(_0(r,i,b),tr(r,i,b)):(rt&&d&&s0(i),i.flags|=1,Cn(r,i,u,b),i.child)}function wv(r,i,u,d,g){if(nl(i),i.stateNode===null){var b=Zl,j=u.contextType;typeof j=="object"&&j!==null&&(b=Tn(j)),b=new u(d,b),i.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=U0,i.stateNode=b,b._reactInternals=i,b=i.stateNode,b.props=d,b.state=i.memoizedState,b.refs={},f0(i),j=u.contextType,b.context=typeof j=="object"&&j!==null?Tn(j):Zl,b.state=i.memoizedState,j=u.getDerivedStateFromProps,typeof j=="function"&&(V0(i,u,j,d),b.state=i.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(j=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),j!==b.state&&U0.enqueueReplaceState(b,b.state,null),Bc(i,d,b,g),Fc(),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308),d=!0}else if(r===null){b=i.stateNode;var k=i.memoizedProps,H=ol(u,k);b.props=H;var ee=b.context,le=u.contextType;j=Zl,typeof le=="object"&&le!==null&&(j=Tn(le));var me=u.getDerivedStateFromProps;le=typeof me=="function"||typeof b.getSnapshotBeforeUpdate=="function",k=i.pendingProps!==k,le||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k||ee!==j)&&lv(i,b,d,j),Br=!1;var ne=i.memoizedState;b.state=ne,Bc(i,d,b,g),Fc(),ee=i.memoizedState,k||ne!==ee||Br?(typeof me=="function"&&(V0(i,u,me,d),ee=i.memoizedState),(H=Br||iv(i,u,H,d,ne,ee,j))?(le||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=ee),b.props=d,b.state=ee,b.context=j,d=H):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{b=i.stateNode,p0(r,i),j=i.memoizedProps,le=ol(u,j),b.props=le,me=i.pendingProps,ne=b.context,ee=u.contextType,H=Zl,typeof ee=="object"&&ee!==null&&(H=Tn(ee)),k=u.getDerivedStateFromProps,(ee=typeof k=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(j!==me||ne!==H)&&lv(i,b,d,H),Br=!1,ne=i.memoizedState,b.state=ne,Bc(i,d,b,g),Fc();var re=i.memoizedState;j!==me||ne!==re||Br||r!==null&&r.dependencies!==null&&Wd(r.dependencies)?(typeof k=="function"&&(V0(i,u,k,d),re=i.memoizedState),(le=Br||iv(i,u,le,d,ne,re,H)||r!==null&&r.dependencies!==null&&Wd(r.dependencies))?(ee||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,re,H),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,re,H)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||j===r.memoizedProps&&ne===r.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||j===r.memoizedProps&&ne===r.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=re),b.props=d,b.state=re,b.context=H,d=le):(typeof b.componentDidUpdate!="function"||j===r.memoizedProps&&ne===r.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||j===r.memoizedProps&&ne===r.memoizedState||(i.flags|=1024),d=!1)}return b=d,gh(r,i),d=(i.flags&128)!==0,b||d?(b=i.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:b.render(),i.flags|=1,r!==null&&d?(i.child=il(i,r.child,null,g),i.child=il(i,null,u,g)):Cn(r,i,u,g),i.memoizedState=b.state,r=i.child):r=tr(r,i,g),r}function Nv(r,i,u,d){return el(),i.flags|=256,Cn(r,i,u,d),i.child}var $0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function q0(r){return{baseLanes:r,cachePool:db()}}function H0(r,i,u){return r=r!==null?r.childLanes&~u:0,i&&(r|=xs),r}function jv(r,i,u){var d=i.pendingProps,g=!1,b=(i.flags&128)!==0,j;if((j=b)||(j=r!==null&&r.memoizedState===null?!1:($t.current&2)!==0),j&&(g=!0,i.flags&=-129),j=(i.flags&32)!==0,i.flags&=-33,r===null){if(rt){if(g?Hr(i):Gr(),(r=kt)?(r=I1(r,Rs),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Vr!==null?{id:Aa,overflow:ka}:null,retryLane:536870912,hydrationErrors:null},u=nb(r),u.return=i,i.child=u,En=i,kt=null)):r=null,r===null)throw zr(i);return Tp(r)?i.lanes=32:i.lanes=536870912,null}var k=d.children;return d=d.fallback,g?(Gr(),g=i.mode,k=xh({mode:"hidden",children:k},g),d=Zi(d,g,u,null),k.return=i,d.return=i,k.sibling=d,i.child=k,d=i.child,d.memoizedState=q0(u),d.childLanes=H0(r,j,u),i.memoizedState=$0,Yc(null,d)):(Hr(i),G0(i,k))}var H=r.memoizedState;if(H!==null&&(k=H.dehydrated,k!==null)){if(b)i.flags&256?(Hr(i),i.flags&=-257,i=Y0(r,i,u)):i.memoizedState!==null?(Gr(),i.child=r.child,i.flags|=128,i=null):(Gr(),k=d.fallback,g=i.mode,d=xh({mode:"visible",children:d.children},g),k=Zi(k,g,u,null),k.flags|=2,d.return=i,k.return=i,d.sibling=k,i.child=d,il(i,r.child,null,u),d=i.child,d.memoizedState=q0(u),d.childLanes=H0(r,j,u),i.memoizedState=$0,i=Yc(null,d));else if(Hr(i),Tp(k)){if(j=k.nextSibling&&k.nextSibling.dataset,j)var ee=j.dgst;j=ee,d=Error(s(419)),d.stack="",d.digest=j,Oc({value:d,source:null,stack:null}),i=Y0(r,i,u)}else if(tn||so(r,i,u,!1),j=(u&r.childLanes)!==0,tn||j){if(j=Et,j!==null&&(d=fc(j,u),d!==0&&d!==H.retryLane))throw H.retryLane=d,Ji(r,d),ts(j,r,d),F0;Ep(k)||Eh(),i=Y0(r,i,u)}else Ep(k)?(i.flags|=192,i.child=r.child,i=null):(r=H.treeContext,kt=Ms(k.nextSibling),En=i,rt=!0,Ur=null,Rs=!1,r!==null&&rb(i,r),i=G0(i,d.children),i.flags|=4096);return i}return g?(Gr(),k=d.fallback,g=i.mode,H=r.child,ee=H.sibling,d=Ka(H,{mode:"hidden",children:d.children}),d.subtreeFlags=H.subtreeFlags&65011712,ee!==null?k=Ka(ee,k):(k=Zi(k,g,u,null),k.flags|=2),k.return=i,d.return=i,d.sibling=k,i.child=d,Yc(null,d),d=i.child,k=r.child.memoizedState,k===null?k=q0(u):(g=k.cachePool,g!==null?(H=Zt._currentValue,g=g.parent!==H?{parent:H,pool:H}:g):g=db(),k={baseLanes:k.baseLanes|u,cachePool:g}),d.memoizedState=k,d.childLanes=H0(r,j,u),i.memoizedState=$0,Yc(r.child,d)):(Hr(i),u=r.child,r=u.sibling,u=Ka(u,{mode:"visible",children:d.children}),u.return=i,u.sibling=null,r!==null&&(j=i.deletions,j===null?(i.deletions=[r],i.flags|=16):j.push(r)),i.child=u,i.memoizedState=null,u)}function G0(r,i){return i=xh({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function xh(r,i){return r=ms(22,r,null,i),r.lanes=0,r}function Y0(r,i,u){return il(i,r.child,null,u),r=G0(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function _v(r,i,u){r.lanes|=i;var d=r.alternate;d!==null&&(d.lanes|=i),o0(r.return,i,u)}function Q0(r,i,u,d,g,b){var j=r.memoizedState;j===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:g,treeForkCount:b}:(j.isBackwards=i,j.rendering=null,j.renderingStartTime=0,j.last=d,j.tail=u,j.tailMode=g,j.treeForkCount=b)}function Sv(r,i,u){var d=i.pendingProps,g=d.revealOrder,b=d.tail;d=d.children;var j=$t.current,k=(j&2)!==0;if(k?(j=j&1|2,i.flags|=128):j&=1,P($t,j),Cn(r,i,d,u),d=rt?Mc:0,!k&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&_v(r,u,i);else if(r.tag===19)_v(r,u,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(g){case"forwards":for(u=i.child,g=null;u!==null;)r=u.alternate,r!==null&&rh(r)===null&&(g=u),u=u.sibling;u=g,u===null?(g=i.child,i.child=null):(g=u.sibling,u.sibling=null),Q0(i,!1,g,u,b,d);break;case"backwards":case"unstable_legacy-backwards":for(u=null,g=i.child,i.child=null;g!==null;){if(r=g.alternate,r!==null&&rh(r)===null){i.child=g;break}r=g.sibling,g.sibling=u,u=g,g=r}Q0(i,!0,u,null,b,d);break;case"together":Q0(i,!1,null,null,void 0,d);break;default:i.memoizedState=null}return i.child}function tr(r,i,u){if(r!==null&&(i.dependencies=r.dependencies),Kr|=i.lanes,(u&i.childLanes)===0)if(r!==null){if(so(r,i,u,!1),(u&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,u=Ka(r,r.pendingProps),i.child=u,u.return=i;r.sibling!==null;)r=r.sibling,u=u.sibling=Ka(r,r.pendingProps),u.return=i;u.sibling=null}return i.child}function K0(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Wd(r)))}function QS(r,i,u){switch(i.tag){case 3:wt(i,i.stateNode.containerInfo),Fr(i,Zt,r.memoizedState.cache),el();break;case 27:case 5:pn(i);break;case 4:wt(i,i.stateNode.containerInfo);break;case 10:Fr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,v0(i),null;break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(Hr(i),i.flags|=128,null):(u&i.child.childLanes)!==0?jv(r,i,u):(Hr(i),r=tr(r,i,u),r!==null?r.sibling:null);Hr(i);break;case 19:var g=(r.flags&128)!==0;if(d=(u&i.childLanes)!==0,d||(so(r,i,u,!1),d=(u&i.childLanes)!==0),g){if(d)return Sv(r,i,u);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),P($t,$t.current),d)break;return null;case 22:return i.lanes=0,xv(r,i,u,i.pendingProps);case 24:Fr(i,Zt,r.memoizedState.cache)}return tr(r,i,u)}function Ev(r,i,u){if(r!==null)if(r.memoizedProps!==i.pendingProps)tn=!0;else{if(!K0(r,u)&&(i.flags&128)===0)return tn=!1,QS(r,i,u);tn=(r.flags&131072)!==0}else tn=!1,rt&&(i.flags&1048576)!==0&&ab(i,Mc,i.index);switch(i.lanes=0,i.tag){case 16:e:{var d=i.pendingProps;if(r=al(i.elementType),i.type=r,typeof r=="function")e0(r)?(d=ol(r,d),i.tag=1,i=wv(null,i,r,d,u)):(i.tag=0,i=B0(null,i,r,d,u));else{if(r!=null){var g=r.$$typeof;if(g===K){i.tag=11,i=fv(null,i,r,d,u);break e}else if(g===D){i.tag=14,i=pv(null,i,r,d,u);break e}}throw i=te(r)||r,Error(s(306,i,""))}}return i;case 0:return B0(r,i,i.type,i.pendingProps,u);case 1:return d=i.type,g=ol(d,i.pendingProps),wv(r,i,d,g,u);case 3:e:{if(wt(i,i.stateNode.containerInfo),r===null)throw Error(s(387));d=i.pendingProps;var b=i.memoizedState;g=b.element,p0(r,i),Bc(i,d,null,u);var j=i.memoizedState;if(d=j.cache,Fr(i,Zt,d),d!==b.cache&&c0(i,[Zt],u,!0),Fc(),d=j.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:j.cache},i.updateQueue.baseState=b,i.memoizedState=b,i.flags&256){i=Nv(r,i,d,u);break e}else if(d!==g){g=As(Error(s(424)),i),Oc(g),i=Nv(r,i,d,u);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(kt=Ms(r.firstChild),En=i,rt=!0,Ur=null,Rs=!0,u=xb(i,null,d,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(el(),d===g){i=tr(r,i,u);break e}Cn(r,i,d,u)}i=i.child}return i;case 26:return gh(r,i),r===null?(u=L1(i.type,null,i.pendingProps,null))?i.memoizedState=u:rt||(u=i.type,r=i.pendingProps,d=Dh(Be.current).createElement(u),d[Xt]=i,d[yn]=r,An(d,u,r),Wt(d),i.stateNode=d):i.memoizedState=L1(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return pn(i),r===null&&rt&&(d=i.stateNode=M1(i.type,i.pendingProps,Be.current),En=i,Rs=!0,g=kt,ei(i.type)?(Cp=g,kt=Ms(d.firstChild)):kt=g),Cn(r,i,i.pendingProps.children,u),gh(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&rt&&((g=d=kt)&&(d=_E(d,i.type,i.pendingProps,Rs),d!==null?(i.stateNode=d,En=i,kt=Ms(d.firstChild),Rs=!1,g=!0):g=!1),g||zr(i)),pn(i),g=i.type,b=i.pendingProps,j=r!==null?r.memoizedProps:null,d=b.children,jp(g,b)?d=null:j!==null&&jp(g,j)&&(i.flags|=32),i.memoizedState!==null&&(g=N0(r,i,US,null,null,u),ou._currentValue=g),gh(r,i),Cn(r,i,d,u),i.child;case 6:return r===null&&rt&&((r=u=kt)&&(u=SE(u,i.pendingProps,Rs),u!==null?(i.stateNode=u,En=i,kt=null,r=!0):r=!1),r||zr(i)),null;case 13:return jv(r,i,u);case 4:return wt(i,i.stateNode.containerInfo),d=i.pendingProps,r===null?i.child=il(i,null,d,u):Cn(r,i,d,u),i.child;case 11:return fv(r,i,i.type,i.pendingProps,u);case 7:return Cn(r,i,i.pendingProps,u),i.child;case 8:return Cn(r,i,i.pendingProps.children,u),i.child;case 12:return Cn(r,i,i.pendingProps.children,u),i.child;case 10:return d=i.pendingProps,Fr(i,i.type,d.value),Cn(r,i,d.children,u),i.child;case 9:return g=i.type._context,d=i.pendingProps.children,nl(i),g=Tn(g),d=d(g),i.flags|=1,Cn(r,i,d,u),i.child;case 14:return pv(r,i,i.type,i.pendingProps,u);case 15:return gv(r,i,i.type,i.pendingProps,u);case 19:return Sv(r,i,u);case 31:return YS(r,i,u);case 22:return xv(r,i,u,i.pendingProps);case 24:return nl(i),d=Tn(Zt),r===null?(g=h0(),g===null&&(g=Et,b=u0(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=u),g=b),i.memoizedState={parent:d,cache:g},f0(i),Fr(i,Zt,g)):((r.lanes&u)!==0&&(p0(r,i),Bc(i,null,null,u),Fc()),g=r.memoizedState,b=i.memoizedState,g.parent!==d?(g={parent:d,cache:d},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Fr(i,Zt,d)):(d=b.cache,Fr(i,Zt,d),d!==g.cache&&c0(i,[Zt],u,!0))),Cn(r,i,i.pendingProps.children,u),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function nr(r){r.flags|=4}function X0(r,i,u,d,g){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(g&335544128)===g)if(r.stateNode.complete)r.flags|=8192;else if(Zv())r.flags|=8192;else throw rl=th,m0}else r.flags&=-16777217}function Tv(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!B1(i))if(Zv())r.flags|=8192;else throw rl=th,m0}function yh(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?_d():536870912,r.lanes|=i,go|=i)}function Qc(r,i){if(!rt)switch(r.tailMode){case"hidden":i=r.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function It(r){var i=r.alternate!==null&&r.alternate.child===r.child,u=0,d=0;if(i)for(var g=r.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=d,r.childLanes=u,i}function KS(r,i,u){var d=i.pendingProps;switch(a0(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(i),null;case 1:return It(i),null;case 3:return u=i.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),Ja(Zt),xt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(no(i)?nr(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,i0())),It(i),null;case 26:var g=i.type,b=i.memoizedState;return r===null?(nr(i),b!==null?(It(i),Tv(i,b)):(It(i),X0(i,g,null,d,u))):b?b!==r.memoizedState?(nr(i),It(i),Tv(i,b)):(It(i),i.flags&=-16777217):(r=r.memoizedProps,r!==d&&nr(i),It(i),X0(i,g,r,d,u)),null;case 27:if(gn(i),u=Be.current,g=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==d&&nr(i);else{if(!d){if(i.stateNode===null)throw Error(s(166));return It(i),null}r=Ee.current,no(i)?ib(i):(r=M1(g,d,u),i.stateNode=r,nr(i))}return It(i),null;case 5:if(gn(i),g=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==d&&nr(i);else{if(!d){if(i.stateNode===null)throw Error(s(166));return It(i),null}if(b=Ee.current,no(i))ib(i);else{var j=Dh(Be.current);switch(b){case 1:b=j.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:b=j.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":b=j.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":b=j.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":b=j.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof d.is=="string"?j.createElement("select",{is:d.is}):j.createElement("select"),d.multiple?b.multiple=!0:d.size&&(b.size=d.size);break;default:b=typeof d.is=="string"?j.createElement(g,{is:d.is}):j.createElement(g)}}b[Xt]=i,b[yn]=d;e:for(j=i.child;j!==null;){if(j.tag===5||j.tag===6)b.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===i)break e;for(;j.sibling===null;){if(j.return===null||j.return===i)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}i.stateNode=b;e:switch(An(b,g,d),g){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&nr(i)}}return It(i),X0(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,u),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==d&&nr(i);else{if(typeof d!="string"&&i.stateNode===null)throw Error(s(166));if(r=Be.current,no(i)){if(r=i.stateNode,u=i.memoizedProps,d=null,g=En,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}r[Xt]=i,r=!!(r.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||j1(r.nodeValue,u)),r||zr(i,!0)}else r=Dh(r).createTextNode(d),r[Xt]=i,i.stateNode=r}return It(i),null;case 31:if(u=i.memoizedState,r===null||r.memoizedState!==null){if(d=no(i),u!==null){if(r===null){if(!d)throw Error(s(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(557));r[Xt]=i}else el(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;It(i),r=!1}else u=i0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=u),r=!0;if(!r)return i.flags&256?(ps(i),i):(ps(i),null);if((i.flags&128)!==0)throw Error(s(558))}return It(i),null;case 13:if(d=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=no(i),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(s(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[Xt]=i}else el(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;It(i),g=!1}else g=i0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(ps(i),i):(ps(i),null)}return ps(i),(i.flags&128)!==0?(i.lanes=u,i):(u=d!==null,r=r!==null&&r.memoizedState!==null,u&&(d=i.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==g&&(d.flags|=2048)),u!==r&&u&&(i.child.flags|=8192),yh(i,i.updateQueue),It(i),null);case 4:return xt(),r===null&&yp(i.stateNode.containerInfo),It(i),null;case 10:return Ja(i.type),It(i),null;case 19:if(ge($t),d=i.memoizedState,d===null)return It(i),null;if(g=(i.flags&128)!==0,b=d.rendering,b===null)if(g)Qc(d,!1);else{if(zt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(b=rh(r),b!==null){for(i.flags|=128,Qc(d,!1),r=b.updateQueue,i.updateQueue=r,yh(i,r),i.subtreeFlags=0,r=u,u=i.child;u!==null;)tb(u,r),u=u.sibling;return P($t,$t.current&1|2),rt&&Xa(i,d.treeForkCount),i.child}r=r.sibling}d.tail!==null&&Pt()>jh&&(i.flags|=128,g=!0,Qc(d,!1),i.lanes=4194304)}else{if(!g)if(r=rh(b),r!==null){if(i.flags|=128,g=!0,r=r.updateQueue,i.updateQueue=r,yh(i,r),Qc(d,!0),d.tail===null&&d.tailMode==="hidden"&&!b.alternate&&!rt)return It(i),null}else 2*Pt()-d.renderingStartTime>jh&&u!==536870912&&(i.flags|=128,g=!0,Qc(d,!1),i.lanes=4194304);d.isBackwards?(b.sibling=i.child,i.child=b):(r=d.last,r!==null?r.sibling=b:i.child=b,d.last=b)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=Pt(),r.sibling=null,u=$t.current,P($t,g?u&1|2:u&1),rt&&Xa(i,d.treeForkCount),r):(It(i),null);case 22:case 23:return ps(i),b0(),d=i.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(i.flags|=8192):d&&(i.flags|=8192),d?(u&536870912)!==0&&(i.flags&128)===0&&(It(i),i.subtreeFlags&6&&(i.flags|=8192)):It(i),u=i.updateQueue,u!==null&&yh(i,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==u&&(i.flags|=2048),r!==null&&ge(sl),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Ja(Zt),It(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function XS(r,i){switch(a0(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Ja(Zt),xt(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return gn(i),null;case 31:if(i.memoizedState!==null){if(ps(i),i.alternate===null)throw Error(s(340));el()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(ps(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));el()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ge($t),null;case 4:return xt(),null;case 10:return Ja(i.type),null;case 22:case 23:return ps(i),b0(),r!==null&&ge(sl),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Ja(Zt),null;case 25:return null;default:return null}}function Cv(r,i){switch(a0(i),i.tag){case 3:Ja(Zt),xt();break;case 26:case 27:case 5:gn(i);break;case 4:xt();break;case 31:i.memoizedState!==null&&ps(i);break;case 13:ps(i);break;case 19:ge($t);break;case 10:Ja(i.type);break;case 22:case 23:ps(i),b0(),r!==null&&ge(sl);break;case 24:Ja(Zt)}}function Kc(r,i){try{var u=i.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&r)===r){d=void 0;var b=u.create,j=u.inst;d=b(),j.destroy=d}u=u.next}while(u!==g)}}catch(k){vt(i,i.return,k)}}function Yr(r,i,u){try{var d=i.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var b=g.next;d=b;do{if((d.tag&r)===r){var j=d.inst,k=j.destroy;if(k!==void 0){j.destroy=void 0,g=i;var H=u,ee=k;try{ee()}catch(le){vt(g,H,le)}}}d=d.next}while(d!==b)}}catch(le){vt(i,i.return,le)}}function Av(r){var i=r.updateQueue;if(i!==null){var u=r.stateNode;try{bb(i,u)}catch(d){vt(r,r.return,d)}}}function kv(r,i,u){u.props=ol(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(d){vt(r,i,d)}}function Xc(r,i){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof u=="function"?r.refCleanup=u(d):u.current=d}}catch(g){vt(r,i,g)}}function Ia(r,i){var u=r.ref,d=r.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(g){vt(r,i,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){vt(r,i,g)}else u.current=null}function Iv(r){var i=r.type,u=r.memoizedProps,d=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(g){vt(r,r.return,g)}}function W0(r,i,u){try{var d=r.stateNode;yE(d,r.type,u,i),d[yn]=i}catch(g){vt(r,r.return,g)}}function Rv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ei(r.type)||r.tag===4}function J0(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Rv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ei(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Z0(r,i,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,i):(i=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,i.appendChild(r),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=Qs));else if(d!==4&&(d===27&&ei(r.type)&&(u=r.stateNode,i=null),r=r.child,r!==null))for(Z0(r,i,u),r=r.sibling;r!==null;)Z0(r,i,u),r=r.sibling}function bh(r,i,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?u.insertBefore(r,i):u.appendChild(r);else if(d!==4&&(d===27&&ei(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(bh(r,i,u),r=r.sibling;r!==null;)bh(r,i,u),r=r.sibling}function Dv(r){var i=r.stateNode,u=r.memoizedProps;try{for(var d=r.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);An(i,d,u),i[Xt]=r,i[yn]=u}catch(b){vt(r,r.return,b)}}var sr=!1,nn=!1,ep=!1,Mv=typeof WeakSet=="function"?WeakSet:Set,vn=null;function WS(r,i){if(r=r.containerInfo,wp=zh,r=Gy(r),Yf(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var g=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var j=0,k=-1,H=-1,ee=0,le=0,me=r,ne=null;t:for(;;){for(var re;me!==u||g!==0&&me.nodeType!==3||(k=j+g),me!==b||d!==0&&me.nodeType!==3||(H=j+d),me.nodeType===3&&(j+=me.nodeValue.length),(re=me.firstChild)!==null;)ne=me,me=re;for(;;){if(me===r)break t;if(ne===u&&++ee===g&&(k=j),ne===b&&++le===d&&(H=j),(re=me.nextSibling)!==null)break;me=ne,ne=me.parentNode}me=re}u=k===-1||H===-1?null:{start:k,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(Np={focusedElem:r,selectionRange:u},zh=!1,vn=i;vn!==null;)if(i=vn,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,vn=r;else for(;vn!==null;){switch(i=vn,b=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(u=0;u<r.length;u++)g=r[u],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&b!==null){r=void 0,u=i,g=b.memoizedProps,b=b.memoizedState,d=u.stateNode;try{var Te=ol(u.type,g);r=d.getSnapshotBeforeUpdate(Te,b),d.__reactInternalSnapshotBeforeUpdate=r}catch(Oe){vt(u,u.return,Oe)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,u=r.nodeType,u===9)Sp(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Sp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,vn=r;break}vn=i.return}}function Ov(r,i,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:rr(r,u),d&4&&Kc(5,u);break;case 1:if(rr(r,u),d&4)if(r=u.stateNode,i===null)try{r.componentDidMount()}catch(j){vt(u,u.return,j)}else{var g=ol(u.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(g,i,r.__reactInternalSnapshotBeforeUpdate)}catch(j){vt(u,u.return,j)}}d&64&&Av(u),d&512&&Xc(u,u.return);break;case 3:if(rr(r,u),d&64&&(r=u.updateQueue,r!==null)){if(i=null,u.child!==null)switch(u.child.tag){case 27:case 5:i=u.child.stateNode;break;case 1:i=u.child.stateNode}try{bb(r,i)}catch(j){vt(u,u.return,j)}}break;case 27:i===null&&d&4&&Dv(u);case 26:case 5:rr(r,u),i===null&&d&4&&Iv(u),d&512&&Xc(u,u.return);break;case 12:rr(r,u);break;case 31:rr(r,u),d&4&&Vv(r,u);break;case 13:rr(r,u),d&4&&Uv(r,u),d&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=iE.bind(null,u),EE(r,u))));break;case 22:if(d=u.memoizedState!==null||sr,!d){i=i!==null&&i.memoizedState!==null||nn,g=sr;var b=nn;sr=d,(nn=i)&&!b?ir(r,u,(u.subtreeFlags&8772)!==0):rr(r,u),sr=g,nn=b}break;case 30:break;default:rr(r,u)}}function Pv(r){var i=r.alternate;i!==null&&(r.alternate=null,Pv(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Ul(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Mt=null,Wn=!1;function ar(r,i,u){for(u=u.child;u!==null;)Lv(r,i,u),u=u.sibling}function Lv(r,i,u){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Ft,u)}catch{}switch(u.tag){case 26:nn||Ia(u,i),ar(r,i,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:nn||Ia(u,i);var d=Mt,g=Wn;ei(u.type)&&(Mt=u.stateNode,Wn=!1),ar(r,i,u),ru(u.stateNode),Mt=d,Wn=g;break;case 5:nn||Ia(u,i);case 6:if(d=Mt,g=Wn,Mt=null,ar(r,i,u),Mt=d,Wn=g,Mt!==null)if(Wn)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(u.stateNode)}catch(b){vt(u,i,b)}else try{Mt.removeChild(u.stateNode)}catch(b){vt(u,i,b)}break;case 18:Mt!==null&&(Wn?(r=Mt,A1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),_o(r)):A1(Mt,u.stateNode));break;case 4:d=Mt,g=Wn,Mt=u.stateNode.containerInfo,Wn=!0,ar(r,i,u),Mt=d,Wn=g;break;case 0:case 11:case 14:case 15:Yr(2,u,i),nn||Yr(4,u,i),ar(r,i,u);break;case 1:nn||(Ia(u,i),d=u.stateNode,typeof d.componentWillUnmount=="function"&&kv(u,i,d)),ar(r,i,u);break;case 21:ar(r,i,u);break;case 22:nn=(d=nn)||u.memoizedState!==null,ar(r,i,u),nn=d;break;default:ar(r,i,u)}}function Vv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{_o(r)}catch(u){vt(i,i.return,u)}}}function Uv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{_o(r)}catch(u){vt(i,i.return,u)}}function JS(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new Mv),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new Mv),i;default:throw Error(s(435,r.tag))}}function vh(r,i){var u=JS(r);i.forEach(function(d){if(!u.has(d)){u.add(d);var g=lE.bind(null,r,d);d.then(g,g)}})}function Jn(r,i){var u=i.deletions;if(u!==null)for(var d=0;d<u.length;d++){var g=u[d],b=r,j=i,k=j;e:for(;k!==null;){switch(k.tag){case 27:if(ei(k.type)){Mt=k.stateNode,Wn=!1;break e}break;case 5:Mt=k.stateNode,Wn=!1;break e;case 3:case 4:Mt=k.stateNode.containerInfo,Wn=!0;break e}k=k.return}if(Mt===null)throw Error(s(160));Lv(b,j,g),Mt=null,Wn=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)zv(i,r),i=i.sibling}var ea=null;function zv(r,i){var u=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Jn(i,r),Zn(r),d&4&&(Yr(3,r,r.return),Kc(3,r),Yr(5,r,r.return));break;case 1:Jn(i,r),Zn(r),d&512&&(nn||u===null||Ia(u,u.return)),d&64&&sr&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var g=ea;if(Jn(i,r),Zn(r),d&512&&(nn||u===null||Ia(u,u.return)),d&4){var b=u!==null?u.memoizedState:null;if(d=r.memoizedState,u===null)if(d===null)if(r.stateNode===null){e:{d=r.type,u=r.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":b=g.getElementsByTagName("title")[0],(!b||b[xa]||b[Xt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(d),g.head.insertBefore(b,g.querySelector("head > title"))),An(b,d,u),b[Xt]=r,Wt(b),d=b;break e;case"link":var j=z1("link","href",g).get(d+(u.href||""));if(j){for(var k=0;k<j.length;k++)if(b=j[k],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){j.splice(k,1);break t}}b=g.createElement(d),An(b,d,u),g.head.appendChild(b);break;case"meta":if(j=z1("meta","content",g).get(d+(u.content||""))){for(k=0;k<j.length;k++)if(b=j[k],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){j.splice(k,1);break t}}b=g.createElement(d),An(b,d,u),g.head.appendChild(b);break;default:throw Error(s(468,d))}b[Xt]=r,Wt(b),d=b}r.stateNode=d}else F1(g,r.type,r.stateNode);else r.stateNode=U1(g,d,r.memoizedProps);else b!==d?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,d===null?F1(g,r.type,r.stateNode):U1(g,d,r.memoizedProps)):d===null&&r.stateNode!==null&&W0(r,r.memoizedProps,u.memoizedProps)}break;case 27:Jn(i,r),Zn(r),d&512&&(nn||u===null||Ia(u,u.return)),u!==null&&d&4&&W0(r,r.memoizedProps,u.memoizedProps);break;case 5:if(Jn(i,r),Zn(r),d&512&&(nn||u===null||Ia(u,u.return)),r.flags&32){g=r.stateNode;try{Xn(g,"")}catch(Te){vt(r,r.return,Te)}}d&4&&r.stateNode!=null&&(g=r.memoizedProps,W0(r,g,u!==null?u.memoizedProps:g)),d&1024&&(ep=!0);break;case 6:if(Jn(i,r),Zn(r),d&4){if(r.stateNode===null)throw Error(s(162));d=r.memoizedProps,u=r.stateNode;try{u.nodeValue=d}catch(Te){vt(r,r.return,Te)}}break;case 3:if(Ph=null,g=ea,ea=Mh(i.containerInfo),Jn(i,r),ea=g,Zn(r),d&4&&u!==null&&u.memoizedState.isDehydrated)try{_o(i.containerInfo)}catch(Te){vt(r,r.return,Te)}ep&&(ep=!1,Fv(r));break;case 4:d=ea,ea=Mh(r.stateNode.containerInfo),Jn(i,r),Zn(r),ea=d;break;case 12:Jn(i,r),Zn(r);break;case 31:Jn(i,r),Zn(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,vh(r,d)));break;case 13:Jn(i,r),Zn(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Nh=Pt()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,vh(r,d)));break;case 22:g=r.memoizedState!==null;var H=u!==null&&u.memoizedState!==null,ee=sr,le=nn;if(sr=ee||g,nn=le||H,Jn(i,r),nn=le,sr=ee,Zn(r),d&8192)e:for(i=r.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(u===null||H||sr||nn||cl(r)),u=null,i=r;;){if(i.tag===5||i.tag===26){if(u===null){H=u=i;try{if(b=H.stateNode,g)j=b.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{k=H.stateNode;var me=H.memoizedProps.style,ne=me!=null&&me.hasOwnProperty("display")?me.display:null;k.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(Te){vt(H,H.return,Te)}}}else if(i.tag===6){if(u===null){H=i;try{H.stateNode.nodeValue=g?"":H.memoizedProps}catch(Te){vt(H,H.return,Te)}}}else if(i.tag===18){if(u===null){H=i;try{var re=H.stateNode;g?k1(re,!0):k1(H.stateNode,!1)}catch(Te){vt(H,H.return,Te)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;u===i&&(u=null),i=i.return}u===i&&(u=null),i.sibling.return=i.return,i=i.sibling}d&4&&(d=r.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,vh(r,u))));break;case 19:Jn(i,r),Zn(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,vh(r,d)));break;case 30:break;case 21:break;default:Jn(i,r),Zn(r)}}function Zn(r){var i=r.flags;if(i&2){try{for(var u,d=r.return;d!==null;){if(Rv(d)){u=d;break}d=d.return}if(u==null)throw Error(s(160));switch(u.tag){case 27:var g=u.stateNode,b=J0(r);bh(r,b,g);break;case 5:var j=u.stateNode;u.flags&32&&(Xn(j,""),u.flags&=-33);var k=J0(r);bh(r,k,j);break;case 3:case 4:var H=u.stateNode.containerInfo,ee=J0(r);Z0(r,ee,H);break;default:throw Error(s(161))}}catch(le){vt(r,r.return,le)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Fv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Fv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function rr(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ov(r,i.alternate,i),i=i.sibling}function cl(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Yr(4,i,i.return),cl(i);break;case 1:Ia(i,i.return);var u=i.stateNode;typeof u.componentWillUnmount=="function"&&kv(i,i.return,u),cl(i);break;case 27:ru(i.stateNode);case 26:case 5:Ia(i,i.return),cl(i);break;case 22:i.memoizedState===null&&cl(i);break;case 30:cl(i);break;default:cl(i)}r=r.sibling}}function ir(r,i,u){for(u=u&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var d=i.alternate,g=r,b=i,j=b.flags;switch(b.tag){case 0:case 11:case 15:ir(g,b,u),Kc(4,b);break;case 1:if(ir(g,b,u),d=b,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ee){vt(d,d.return,ee)}if(d=b,g=d.updateQueue,g!==null){var k=d.stateNode;try{var H=g.shared.hiddenCallbacks;if(H!==null)for(g.shared.hiddenCallbacks=null,g=0;g<H.length;g++)yb(H[g],k)}catch(ee){vt(d,d.return,ee)}}u&&j&64&&Av(b),Xc(b,b.return);break;case 27:Dv(b);case 26:case 5:ir(g,b,u),u&&d===null&&j&4&&Iv(b),Xc(b,b.return);break;case 12:ir(g,b,u);break;case 31:ir(g,b,u),u&&j&4&&Vv(g,b);break;case 13:ir(g,b,u),u&&j&4&&Uv(g,b);break;case 22:b.memoizedState===null&&ir(g,b,u),Xc(b,b.return);break;case 30:break;default:ir(g,b,u)}i=i.sibling}}function tp(r,i){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Pc(u))}function np(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Pc(r))}function ta(r,i,u,d){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Bv(r,i,u,d),i=i.sibling}function Bv(r,i,u,d){var g=i.flags;switch(i.tag){case 0:case 11:case 15:ta(r,i,u,d),g&2048&&Kc(9,i);break;case 1:ta(r,i,u,d);break;case 3:ta(r,i,u,d),g&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Pc(r)));break;case 12:if(g&2048){ta(r,i,u,d),r=i.stateNode;try{var b=i.memoizedProps,j=b.id,k=b.onPostCommit;typeof k=="function"&&k(j,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(H){vt(i,i.return,H)}}else ta(r,i,u,d);break;case 31:ta(r,i,u,d);break;case 13:ta(r,i,u,d);break;case 23:break;case 22:b=i.stateNode,j=i.alternate,i.memoizedState!==null?b._visibility&2?ta(r,i,u,d):Wc(r,i):b._visibility&2?ta(r,i,u,d):(b._visibility|=2,mo(r,i,u,d,(i.subtreeFlags&10256)!==0||!1)),g&2048&&tp(j,i);break;case 24:ta(r,i,u,d),g&2048&&np(i.alternate,i);break;default:ta(r,i,u,d)}}function mo(r,i,u,d,g){for(g=g&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var b=r,j=i,k=u,H=d,ee=j.flags;switch(j.tag){case 0:case 11:case 15:mo(b,j,k,H,g),Kc(8,j);break;case 23:break;case 22:var le=j.stateNode;j.memoizedState!==null?le._visibility&2?mo(b,j,k,H,g):Wc(b,j):(le._visibility|=2,mo(b,j,k,H,g)),g&&ee&2048&&tp(j.alternate,j);break;case 24:mo(b,j,k,H,g),g&&ee&2048&&np(j.alternate,j);break;default:mo(b,j,k,H,g)}i=i.sibling}}function Wc(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var u=r,d=i,g=d.flags;switch(d.tag){case 22:Wc(u,d),g&2048&&tp(d.alternate,d);break;case 24:Wc(u,d),g&2048&&np(d.alternate,d);break;default:Wc(u,d)}i=i.sibling}}var Jc=8192;function fo(r,i,u){if(r.subtreeFlags&Jc)for(r=r.child;r!==null;)$v(r,i,u),r=r.sibling}function $v(r,i,u){switch(r.tag){case 26:fo(r,i,u),r.flags&Jc&&r.memoizedState!==null&&VE(u,ea,r.memoizedState,r.memoizedProps);break;case 5:fo(r,i,u);break;case 3:case 4:var d=ea;ea=Mh(r.stateNode.containerInfo),fo(r,i,u),ea=d;break;case 22:r.memoizedState===null&&(d=r.alternate,d!==null&&d.memoizedState!==null?(d=Jc,Jc=16777216,fo(r,i,u),Jc=d):fo(r,i,u));break;default:fo(r,i,u)}}function qv(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Zc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var u=0;u<i.length;u++){var d=i[u];vn=d,Gv(d,r)}qv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Hv(r),r=r.sibling}function Hv(r){switch(r.tag){case 0:case 11:case 15:Zc(r),r.flags&2048&&Yr(9,r,r.return);break;case 3:Zc(r);break;case 12:Zc(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,wh(r)):Zc(r);break;default:Zc(r)}}function wh(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var u=0;u<i.length;u++){var d=i[u];vn=d,Gv(d,r)}qv(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Yr(8,i,i.return),wh(i);break;case 22:u=i.stateNode,u._visibility&2&&(u._visibility&=-3,wh(i));break;default:wh(i)}r=r.sibling}}function Gv(r,i){for(;vn!==null;){var u=vn;switch(u.tag){case 0:case 11:case 15:Yr(8,u,i);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Pc(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,vn=d;else e:for(u=r;vn!==null;){d=vn;var g=d.sibling,b=d.return;if(Pv(d),d===u){vn=null;break e}if(g!==null){g.return=b,vn=g;break e}vn=b}}}var ZS={getCacheForType:function(r){var i=Tn(Zt),u=i.data.get(r);return u===void 0&&(u=r(),i.data.set(r,u)),u},cacheSignal:function(){return Tn(Zt).controller.signal}},eE=typeof WeakMap=="function"?WeakMap:Map,pt=0,Et=null,Xe=null,Ze=0,bt=0,gs=null,Qr=!1,po=!1,sp=!1,lr=0,zt=0,Kr=0,ul=0,ap=0,xs=0,go=0,eu=null,es=null,rp=!1,Nh=0,Yv=0,jh=1/0,_h=null,Xr=null,un=0,Wr=null,xo=null,or=0,ip=0,lp=null,Qv=null,tu=0,op=null;function ys(){return(pt&2)!==0&&Ze!==0?Ze&-Ze:$.T!==null?fp():Sd()}function Kv(){if(xs===0)if((Ze&536870912)===0||rt){var r=Li;Li<<=1,(Li&3932160)===0&&(Li=262144),xs=r}else xs=536870912;return r=fs.current,r!==null&&(r.flags|=32),xs}function ts(r,i,u){(r===Et&&(bt===2||bt===9)||r.cancelPendingCommit!==null)&&(yo(r,0),Jr(r,Ze,xs,!1)),Vi(r,u),((pt&2)===0||r!==Et)&&(r===Et&&((pt&2)===0&&(ul|=u),zt===4&&Jr(r,Ze,xs,!1)),Ra(r))}function Xv(r,i,u){if((pt&6)!==0)throw Error(s(327));var d=!u&&(i&127)===0&&(i&r.expiredLanes)===0||Hs(r,i),g=d?sE(r,i):up(r,i,!0),b=d;do{if(g===0){po&&!d&&Jr(r,i,0,!1);break}else{if(u=r.current.alternate,b&&!tE(u)){g=up(r,i,!1),b=!1;continue}if(g===2){if(b=i,r.errorRecoveryDisabledLanes&b)var j=0;else j=r.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){i=j;e:{var k=r;g=eu;var H=k.current.memoizedState.isDehydrated;if(H&&(yo(k,j).flags|=256),j=up(k,j,!1),j!==2){if(sp&&!H){k.errorRecoveryDisabledLanes|=b,ul|=b,g=4;break e}b=es,es=g,b!==null&&(es===null?es=b:es.push.apply(es,b))}g=j}if(b=!1,g!==2)continue}}if(g===1){yo(r,0),Jr(r,i,0,!0);break}e:{switch(d=r,b=g,b){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Jr(d,i,xs,!Qr);break e;case 2:es=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(g=Nh+300-Pt(),10<g)){if(Jr(d,i,xs,!Qr),fa(d,0,!0)!==0)break e;or=i,d.timeoutHandle=T1(Wv.bind(null,d,u,es,_h,rp,i,xs,ul,go,Qr,b,"Throttled",-0,0),g);break e}Wv(d,u,es,_h,rp,i,xs,ul,go,Qr,b,null,-0,0)}}break}while(!0);Ra(r)}function Wv(r,i,u,d,g,b,j,k,H,ee,le,me,ne,re){if(r.timeoutHandle=-1,me=i.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qs},$v(i,b,me);var Te=(b&62914560)===b?Nh-Pt():(b&4194048)===b?Yv-Pt():0;if(Te=UE(me,Te),Te!==null){or=b,r.cancelPendingCommit=Te(r1.bind(null,r,i,b,u,d,g,j,k,H,le,me,null,ne,re)),Jr(r,b,j,!ee);return}}r1(r,i,b,u,d,g,j,k,H)}function tE(r){for(var i=r;;){var u=i.tag;if((u===0||u===11||u===15)&&i.flags&16384&&(u=i.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var g=u[d],b=g.getSnapshot;g=g.value;try{if(!hs(b(),g))return!1}catch{return!1}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Jr(r,i,u,d){i&=~ap,i&=~ul,r.suspendedLanes|=i,r.pingedLanes&=~i,d&&(r.warmLanes|=i),d=r.expirationTimes;for(var g=i;0<g;){var b=31-at(g),j=1<<b;d[b]=-1,g&=~j}u!==0&&Ui(r,u,i)}function Sh(){return(pt&6)===0?(nu(0),!1):!0}function cp(){if(Xe!==null){if(bt===0)var r=Xe.return;else r=Xe,Wa=tl=null,S0(r),lo=null,Vc=0,r=Xe;for(;r!==null;)Cv(r.alternate,r),r=r.return;Xe=null}}function yo(r,i){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,wE(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),or=0,cp(),Et=r,Xe=u=Ka(r.current,null),Ze=i,bt=0,gs=null,Qr=!1,po=Hs(r,i),sp=!1,go=xs=ap=ul=Kr=zt=0,es=eu=null,rp=!1,(i&8)!==0&&(i|=i&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=i;0<d;){var g=31-at(d),b=1<<g;i|=r[g],d&=~b}return lr=i,Gd(),u}function Jv(r,i){He=null,$.H=Gc,i===io||i===eh?(i=fb(),bt=3):i===m0?(i=fb(),bt=4):bt=i===F0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,gs=i,Xe===null&&(zt=1,fh(r,As(i,r.current)))}function Zv(){var r=fs.current;return r===null?!0:(Ze&4194048)===Ze?Ds===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?r===Ds:!1}function e1(){var r=$.H;return $.H=Gc,r===null?Gc:r}function t1(){var r=$.A;return $.A=ZS,r}function Eh(){zt=4,Qr||(Ze&4194048)!==Ze&&fs.current!==null||(po=!0),(Kr&134217727)===0&&(ul&134217727)===0||Et===null||Jr(Et,Ze,xs,!1)}function up(r,i,u){var d=pt;pt|=2;var g=e1(),b=t1();(Et!==r||Ze!==i)&&(_h=null,yo(r,i)),i=!1;var j=zt;e:do try{if(bt!==0&&Xe!==null){var k=Xe,H=gs;switch(bt){case 8:cp(),j=6;break e;case 3:case 2:case 9:case 6:fs.current===null&&(i=!0);var ee=bt;if(bt=0,gs=null,bo(r,k,H,ee),u&&po){j=0;break e}break;default:ee=bt,bt=0,gs=null,bo(r,k,H,ee)}}nE(),j=zt;break}catch(le){Jv(r,le)}while(!0);return i&&r.shellSuspendCounter++,Wa=tl=null,pt=d,$.H=g,$.A=b,Xe===null&&(Et=null,Ze=0,Gd()),j}function nE(){for(;Xe!==null;)n1(Xe)}function sE(r,i){var u=pt;pt|=2;var d=e1(),g=t1();Et!==r||Ze!==i?(_h=null,jh=Pt()+500,yo(r,i)):po=Hs(r,i);e:do try{if(bt!==0&&Xe!==null){i=Xe;var b=gs;t:switch(bt){case 1:bt=0,gs=null,bo(r,i,b,1);break;case 2:case 9:if(hb(b)){bt=0,gs=null,s1(i);break}i=function(){bt!==2&&bt!==9||Et!==r||(bt=7),Ra(r)},b.then(i,i);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:hb(b)?(bt=0,gs=null,s1(i)):(bt=0,gs=null,bo(r,i,b,7));break;case 5:var j=null;switch(Xe.tag){case 26:j=Xe.memoizedState;case 5:case 27:var k=Xe;if(j?B1(j):k.stateNode.complete){bt=0,gs=null;var H=k.sibling;if(H!==null)Xe=H;else{var ee=k.return;ee!==null?(Xe=ee,Th(ee)):Xe=null}break t}}bt=0,gs=null,bo(r,i,b,5);break;case 6:bt=0,gs=null,bo(r,i,b,6);break;case 8:cp(),zt=6;break e;default:throw Error(s(462))}}aE();break}catch(le){Jv(r,le)}while(!0);return Wa=tl=null,$.H=d,$.A=g,pt=u,Xe!==null?0:(Et=null,Ze=0,Gd(),zt)}function aE(){for(;Xe!==null&&!_n();)n1(Xe)}function n1(r){var i=Ev(r.alternate,r,lr);r.memoizedProps=r.pendingProps,i===null?Th(r):Xe=i}function s1(r){var i=r,u=i.alternate;switch(i.tag){case 15:case 0:i=vv(u,i,i.pendingProps,i.type,void 0,Ze);break;case 11:i=vv(u,i,i.pendingProps,i.type.render,i.ref,Ze);break;case 5:S0(i);default:Cv(u,i),i=Xe=tb(i,lr),i=Ev(u,i,lr)}r.memoizedProps=r.pendingProps,i===null?Th(r):Xe=i}function bo(r,i,u,d){Wa=tl=null,S0(i),lo=null,Vc=0;var g=i.return;try{if(GS(r,g,i,u,Ze)){zt=1,fh(r,As(u,r.current)),Xe=null;return}}catch(b){if(g!==null)throw Xe=g,b;zt=1,fh(r,As(u,r.current)),Xe=null;return}i.flags&32768?(rt||d===1?r=!0:po||(Ze&536870912)!==0?r=!1:(Qr=r=!0,(d===2||d===9||d===3||d===6)&&(d=fs.current,d!==null&&d.tag===13&&(d.flags|=16384))),a1(i,r)):Th(i)}function Th(r){var i=r;do{if((i.flags&32768)!==0){a1(i,Qr);return}r=i.return;var u=KS(i.alternate,i,lr);if(u!==null){Xe=u;return}if(i=i.sibling,i!==null){Xe=i;return}Xe=i=r}while(i!==null);zt===0&&(zt=5)}function a1(r,i){do{var u=XS(r.alternate,r);if(u!==null){u.flags&=32767,Xe=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!i&&(r=r.sibling,r!==null)){Xe=r;return}Xe=r=u}while(r!==null);zt=6,Xe=null}function r1(r,i,u,d,g,b,j,k,H){r.cancelPendingCommit=null;do Ch();while(un!==0);if((pt&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(b=i.lanes|i.childLanes,b|=Jf,$f(r,u,b,j,k,H),r===Et&&(Xe=Et=null,Ze=0),xo=i,Wr=r,or=u,ip=b,lp=g,Qv=d,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,oE(De,function(){return u1(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||d){d=$.T,$.T=null,g=W.p,W.p=2,j=pt,pt|=4;try{WS(r,i,u)}finally{pt=j,W.p=g,$.T=d}}un=1,i1(),l1(),o1()}}function i1(){if(un===1){un=0;var r=Wr,i=xo,u=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||u){u=$.T,$.T=null;var d=W.p;W.p=2;var g=pt;pt|=4;try{zv(i,r);var b=Np,j=Gy(r.containerInfo),k=b.focusedElem,H=b.selectionRange;if(j!==k&&k&&k.ownerDocument&&Hy(k.ownerDocument.documentElement,k)){if(H!==null&&Yf(k)){var ee=H.start,le=H.end;if(le===void 0&&(le=ee),"selectionStart"in k)k.selectionStart=ee,k.selectionEnd=Math.min(le,k.value.length);else{var me=k.ownerDocument||document,ne=me&&me.defaultView||window;if(ne.getSelection){var re=ne.getSelection(),Te=k.textContent.length,Oe=Math.min(H.start,Te),St=H.end===void 0?Oe:Math.min(H.end,Te);!re.extend&&Oe>St&&(j=St,St=Oe,Oe=j);var Q=qy(k,Oe),Y=qy(k,St);if(Q&&Y&&(re.rangeCount!==1||re.anchorNode!==Q.node||re.anchorOffset!==Q.offset||re.focusNode!==Y.node||re.focusOffset!==Y.offset)){var Z=me.createRange();Z.setStart(Q.node,Q.offset),re.removeAllRanges(),Oe>St?(re.addRange(Z),re.extend(Y.node,Y.offset)):(Z.setEnd(Y.node,Y.offset),re.addRange(Z))}}}}for(me=[],re=k;re=re.parentNode;)re.nodeType===1&&me.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<me.length;k++){var ue=me[k];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}zh=!!wp,Np=wp=null}finally{pt=g,W.p=d,$.T=u}}r.current=i,un=2}}function l1(){if(un===2){un=0;var r=Wr,i=xo,u=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||u){u=$.T,$.T=null;var d=W.p;W.p=2;var g=pt;pt|=4;try{Ov(r,i.alternate,i)}finally{pt=g,W.p=d,$.T=u}}un=3}}function o1(){if(un===4||un===3){un=0,cn();var r=Wr,i=xo,u=or,d=Qv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?un=5:(un=0,xo=Wr=null,c1(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(Xr=null),Ha(u),i=i.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Ft,i,void 0,(i.current.flags&128)===128)}catch{}if(d!==null){i=$.T,g=W.p,W.p=2,$.T=null;try{for(var b=r.onRecoverableError,j=0;j<d.length;j++){var k=d[j];b(k.value,{componentStack:k.stack})}}finally{$.T=i,W.p=g}}(or&3)!==0&&Ch(),Ra(r),g=r.pendingLanes,(u&261930)!==0&&(g&42)!==0?r===op?tu++:(tu=0,op=r):tu=0,nu(0)}}function c1(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Pc(i)))}function Ch(){return i1(),l1(),o1(),u1()}function u1(){if(un!==5)return!1;var r=Wr,i=ip;ip=0;var u=Ha(or),d=$.T,g=W.p;try{W.p=32>u?32:u,$.T=null,u=lp,lp=null;var b=Wr,j=or;if(un=0,xo=Wr=null,or=0,(pt&6)!==0)throw Error(s(331));var k=pt;if(pt|=4,Hv(b.current),Bv(b,b.current,j,u),pt=k,nu(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Ft,b)}catch{}return!0}finally{W.p=g,$.T=d,c1(r,i)}}function d1(r,i,u){i=As(u,i),i=z0(r.stateNode,i,2),r=qr(r,i,2),r!==null&&(Vi(r,2),Ra(r))}function vt(r,i,u){if(r.tag===3)d1(r,r,u);else for(;i!==null;){if(i.tag===3){d1(i,r,u);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Xr===null||!Xr.has(d))){r=As(u,r),u=hv(2),d=qr(i,u,2),d!==null&&(mv(u,d,i,r),Vi(d,2),Ra(d));break}}i=i.return}}function dp(r,i,u){var d=r.pingCache;if(d===null){d=r.pingCache=new eE;var g=new Set;d.set(i,g)}else g=d.get(i),g===void 0&&(g=new Set,d.set(i,g));g.has(u)||(sp=!0,g.add(u),r=rE.bind(null,r,i,u),i.then(r,r))}function rE(r,i,u){var d=r.pingCache;d!==null&&d.delete(i),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,Et===r&&(Ze&u)===u&&(zt===4||zt===3&&(Ze&62914560)===Ze&&300>Pt()-Nh?(pt&2)===0&&yo(r,0):ap|=u,go===Ze&&(go=0)),Ra(r)}function h1(r,i){i===0&&(i=_d()),r=Ji(r,i),r!==null&&(Vi(r,i),Ra(r))}function iE(r){var i=r.memoizedState,u=0;i!==null&&(u=i.retryLane),h1(r,u)}function lE(r,i){var u=0;switch(r.tag){case 31:case 13:var d=r.stateNode,g=r.memoizedState;g!==null&&(u=g.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(s(314))}d!==null&&d.delete(i),h1(r,u)}function oE(r,i){return Ae(r,i)}var Ah=null,vo=null,hp=!1,kh=!1,mp=!1,Zr=0;function Ra(r){r!==vo&&r.next===null&&(vo===null?Ah=vo=r:vo=vo.next=r),kh=!0,hp||(hp=!0,uE())}function nu(r,i){if(!mp&&kh){mp=!0;do for(var u=!1,d=Ah;d!==null;){if(r!==0){var g=d.pendingLanes;if(g===0)var b=0;else{var j=d.suspendedLanes,k=d.pingedLanes;b=(1<<31-at(42|r)+1)-1,b&=g&~(j&~k),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,g1(d,b))}else b=Ze,b=fa(d,d===Et?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||Hs(d,b)||(u=!0,g1(d,b));d=d.next}while(u);mp=!1}}function cE(){m1()}function m1(){kh=hp=!1;var r=0;Zr!==0&&vE()&&(r=Zr);for(var i=Pt(),u=null,d=Ah;d!==null;){var g=d.next,b=f1(d,i);b===0?(d.next=null,u===null?Ah=g:u.next=g,g===null&&(vo=u)):(u=d,(r!==0||(b&3)!==0)&&(kh=!0)),d=g}un!==0&&un!==5||nu(r),Zr!==0&&(Zr=0)}function f1(r,i){for(var u=r.suspendedLanes,d=r.pingedLanes,g=r.expirationTimes,b=r.pendingLanes&-62914561;0<b;){var j=31-at(b),k=1<<j,H=g[j];H===-1?((k&u)===0||(k&d)!==0)&&(g[j]=Bf(k,i)):H<=i&&(r.expiredLanes|=k),b&=~k}if(i=Et,u=Ze,u=fa(r,r===i?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,u===0||r===i&&(bt===2||bt===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&Ke(d),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||Hs(r,u)){if(i=u&-u,i===r.callbackPriority)return i;switch(d!==null&&Ke(d),Ha(u)){case 2:case 8:u=ve;break;case 32:u=De;break;case 268435456:u=ut;break;default:u=De}return d=p1.bind(null,r),u=Ae(u,d),r.callbackPriority=i,r.callbackNode=u,i}return d!==null&&d!==null&&Ke(d),r.callbackPriority=2,r.callbackNode=null,2}function p1(r,i){if(un!==0&&un!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(Ch()&&r.callbackNode!==u)return null;var d=Ze;return d=fa(r,r===Et?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(Xv(r,d,i),f1(r,Pt()),r.callbackNode!=null&&r.callbackNode===u?p1.bind(null,r):null)}function g1(r,i){if(Ch())return null;Xv(r,i,!0)}function uE(){NE(function(){(pt&6)!==0?Ae(oe,cE):m1()})}function fp(){if(Zr===0){var r=ao;r===0&&(r=ha,ha<<=1,(ha&261888)===0&&(ha=256)),Zr=r}return Zr}function x1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:$l(""+r)}function y1(r,i){var u=i.ownerDocument.createElement("input");return u.name=i.name,u.value=i.value,r.id&&u.setAttribute("form",r.id),i.parentNode.insertBefore(u,i),r=new FormData(r),u.parentNode.removeChild(u),r}function dE(r,i,u,d,g){if(i==="submit"&&u&&u.stateNode===g){var b=x1((g[yn]||null).action),j=d.submitter;j&&(i=(i=j[yn]||null)?x1(i.formAction):j.getAttribute("formAction"),i!==null&&(b=i,j=null));var k=new Sa("action","action",null,d,g);r.push({event:k,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Zr!==0){var H=j?y1(g,j):new FormData(g);M0(u,{pending:!0,data:H,method:g.method,action:b},null,H)}}else typeof b=="function"&&(k.preventDefault(),H=j?y1(g,j):new FormData(g),M0(u,{pending:!0,data:H,method:g.method,action:b},b,H))},currentTarget:g}]})}}for(var pp=0;pp<Wf.length;pp++){var gp=Wf[pp],hE=gp.toLowerCase(),mE=gp[0].toUpperCase()+gp.slice(1);Zs(hE,"on"+mE)}Zs(Ky,"onAnimationEnd"),Zs(Xy,"onAnimationIteration"),Zs(Wy,"onAnimationStart"),Zs("dblclick","onDoubleClick"),Zs("focusin","onFocus"),Zs("focusout","onBlur"),Zs(AS,"onTransitionRun"),Zs(kS,"onTransitionStart"),Zs(IS,"onTransitionCancel"),Zs(Jy,"onTransitionEnd"),wa("onMouseEnter",["mouseout","mouseover"]),wa("onMouseLeave",["mouseout","mouseover"]),wa("onPointerEnter",["pointerout","pointerover"]),wa("onPointerLeave",["pointerout","pointerover"]),va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),va("onBeforeInput",["compositionend","keypress","textInput","paste"]),va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(su));function b1(r,i){i=(i&4)!==0;for(var u=0;u<r.length;u++){var d=r[u],g=d.event;d=d.listeners;e:{var b=void 0;if(i)for(var j=d.length-1;0<=j;j--){var k=d[j],H=k.instance,ee=k.currentTarget;if(k=k.listener,H!==b&&g.isPropagationStopped())break e;b=k,g.currentTarget=ee;try{b(g)}catch(le){Hd(le)}g.currentTarget=null,b=H}else for(j=0;j<d.length;j++){if(k=d[j],H=k.instance,ee=k.currentTarget,k=k.listener,H!==b&&g.isPropagationStopped())break e;b=k,g.currentTarget=ee;try{b(g)}catch(le){Hd(le)}g.currentTarget=null,b=H}}}}function We(r,i){var u=i[Vl];u===void 0&&(u=i[Vl]=new Set);var d=r+"__bubble";u.has(d)||(v1(i,r,2,!1),u.add(d))}function xp(r,i,u){var d=0;i&&(d|=4),v1(u,r,d,i)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function yp(r){if(!r[Ih]){r[Ih]=!0,pc.forEach(function(u){u!=="selectionchange"&&(fE.has(u)||xp(u,!1,r),xp(u,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Ih]||(i[Ih]=!0,xp("selectionchange",!1,i))}}function v1(r,i,u,d){switch(K1(i)){case 2:var g=BE;break;case 8:g=$E;break;default:g=Dp}u=g.bind(null,i,u,r),g=void 0,!qi||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),d?g!==void 0?r.addEventListener(i,u,{capture:!0,passive:g}):r.addEventListener(i,u,!0):g!==void 0?r.addEventListener(i,u,{passive:g}):r.addEventListener(i,u,!1)}function bp(r,i,u,d,g){var b=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var j=d.tag;if(j===3||j===4){var k=d.stateNode.containerInfo;if(k===g)break;if(j===4)for(j=d.return;j!==null;){var H=j.tag;if((H===3||H===4)&&j.stateNode.containerInfo===g)return;j=j.return}for(;k!==null;){if(j=ya(k),j===null)return;if(H=j.tag,H===5||H===6||H===26||H===27){d=b=j;continue e}k=k.parentNode}}d=d.return}Mr(function(){var ee=b,le=Ss(u),me=[];e:{var ne=Zy.get(r);if(ne!==void 0){var re=Sa,Te=r;switch(r){case"keypress":if(Gi(u)===0)break e;case"keydown":case"keyup":re=Bd;break;case"focusin":Te="focus",re=Qi;break;case"focusout":Te="blur",re=Qi;break;case"beforeblur":case"afterblur":re=Qi;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=N;break;case Ky:case Xy:case Wy:re=Od;break;case Jy:re=V;break;case"scroll":case"scrollend":re=Tc;break;case"wheel":re=ae;break;case"copy":case"cut":case"paste":re=Pd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Qa;break;case"toggle":case"beforetoggle":re=qe}var Oe=(i&4)!==0,St=!Oe&&(r==="scroll"||r==="scrollend"),Q=Oe?ne!==null?ne+"Capture":null:ne;Oe=[];for(var Y=ee,Z;Y!==null;){var ue=Y;if(Z=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Z===null||Q===null||(ue=Ks(Y,Q),ue!=null&&Oe.push(au(Y,ue,Z))),St)break;Y=Y.return}0<Oe.length&&(ne=new re(ne,Te,null,u,le),me.push({event:ne,listeners:Oe}))}}if((i&7)===0){e:{if(ne=r==="mouseover"||r==="pointerover",re=r==="mouseout"||r==="pointerout",ne&&u!==_c&&(Te=u.relatedTarget||u.fromElement)&&(ya(Te)||Te[ga]))break e;if((re||ne)&&(ne=le.window===le?le:(ne=le.ownerDocument)?ne.defaultView||ne.parentWindow:window,re?(Te=u.relatedTarget||u.toElement,re=ee,Te=Te?ya(Te):null,Te!==null&&(St=o(Te),Oe=Te.tag,Te!==St||Oe!==5&&Oe!==27&&Oe!==6)&&(Te=null)):(re=null,Te=ee),re!==Te)){if(Oe=Cc,ue="onMouseLeave",Q="onMouseEnter",Y="mouse",(r==="pointerout"||r==="pointerover")&&(Oe=Qa,ue="onPointerLeave",Q="onPointerEnter",Y="pointer"),St=re==null?ne:us(re),Z=Te==null?ne:us(Te),ne=new Oe(ue,Y+"leave",re,u,le),ne.target=St,ne.relatedTarget=Z,ue=null,ya(le)===ee&&(Oe=new Oe(Q,Y+"enter",Te,u,le),Oe.target=Z,Oe.relatedTarget=St,ue=Oe),St=ue,re&&Te)t:{for(Oe=pE,Q=re,Y=Te,Z=0,ue=Q;ue;ue=Oe(ue))Z++;ue=0;for(var Ie=Y;Ie;Ie=Oe(Ie))ue++;for(;0<Z-ue;)Q=Oe(Q),Z--;for(;0<ue-Z;)Y=Oe(Y),ue--;for(;Z--;){if(Q===Y||Y!==null&&Q===Y.alternate){Oe=Q;break t}Q=Oe(Q),Y=Oe(Y)}Oe=null}else Oe=null;re!==null&&w1(me,ne,re,Oe,!1),Te!==null&&St!==null&&w1(me,St,Te,Oe,!0)}}e:{if(ne=ee?us(ee):window,re=ne.nodeName&&ne.nodeName.toLowerCase(),re==="select"||re==="input"&&ne.type==="file")var dt=Vy;else if(Py(ne))if(Uy)dt=ES;else{dt=_S;var Ce=jS}else re=ne.nodeName,!re||re.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&Bl(ee.elementType)&&(dt=Vy):dt=SS;if(dt&&(dt=dt(r,ee))){Ly(me,dt,u,le);break e}Ce&&Ce(r,ne,ee),r==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&wc(ne,"number",ne.value)}switch(Ce=ee?us(ee):window,r){case"focusin":(Py(Ce)||Ce.contentEditable==="true")&&(Xl=Ce,Qf=ee,Dc=null);break;case"focusout":Dc=Qf=Xl=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,Yy(me,u,le);break;case"selectionchange":if(CS)break;case"keydown":case"keyup":Yy(me,u,le)}var Ge;if(ft)e:{switch(r){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else Kl?Ki(r,u)&&(et="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(et="onCompositionStart");et&&(Ca&&u.locale!=="ko"&&(Kl||et!=="onCompositionStart"?et==="onCompositionEnd"&&Kl&&(Ge=Ec()):(_a=le,Sc="value"in _a?_a.value:_a.textContent,Kl=!0)),Ce=Rh(ee,et),0<Ce.length&&(et=new Ta(et,r,null,u,le),me.push({event:et,listeners:Ce}),Ge?et.data=Ge:(Ge=Ql(u),Ge!==null&&(et.data=Ge)))),(Ge=Ts?bS(r,u):vS(r,u))&&(et=Rh(ee,"onBeforeInput"),0<et.length&&(Ce=new Ta("onBeforeInput","beforeinput",null,u,le),me.push({event:Ce,listeners:et}),Ce.data=Ge)),dE(me,r,ee,u,le)}b1(me,i)})}function au(r,i,u){return{instance:r,listener:i,currentTarget:u}}function Rh(r,i){for(var u=i+"Capture",d=[];r!==null;){var g=r,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=Ks(r,u),g!=null&&d.unshift(au(r,g,b)),g=Ks(r,i),g!=null&&d.push(au(r,g,b))),r.tag===3)return d;r=r.return}return[]}function pE(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function w1(r,i,u,d,g){for(var b=i._reactName,j=[];u!==null&&u!==d;){var k=u,H=k.alternate,ee=k.stateNode;if(k=k.tag,H!==null&&H===d)break;k!==5&&k!==26&&k!==27||ee===null||(H=ee,g?(ee=Ks(u,b),ee!=null&&j.unshift(au(u,ee,H))):g||(ee=Ks(u,b),ee!=null&&j.push(au(u,ee,H)))),u=u.return}j.length!==0&&r.push({event:i,listeners:j})}var gE=/\r\n?/g,xE=/\u0000|\uFFFD/g;function N1(r){return(typeof r=="string"?r:""+r).replace(gE,`
`).replace(xE,"")}function j1(r,i){return i=N1(i),N1(r)===i}function _t(r,i,u,d,g,b){switch(u){case"children":typeof d=="string"?i==="body"||i==="textarea"&&d===""||Xn(r,d):(typeof d=="number"||typeof d=="bigint")&&i!=="body"&&Xn(r,""+d);break;case"className":ds(r,"class",d);break;case"tabIndex":ds(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ds(r,u,d);break;case"style":jc(r,d,b);break;case"data":if(i!=="object"){ds(r,"data",d);break}case"src":case"href":if(d===""&&(i!=="a"||u!=="href")){r.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=$l(""+d),r.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(i!=="input"&&_t(r,i,"name",g.name,g,null),_t(r,i,"formEncType",g.formEncType,g,null),_t(r,i,"formMethod",g.formMethod,g,null),_t(r,i,"formTarget",g.formTarget,g,null)):(_t(r,i,"encType",g.encType,g,null),_t(r,i,"method",g.method,g,null),_t(r,i,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=$l(""+d),r.setAttribute(u,d);break;case"onClick":d!=null&&(r.onclick=Qs);break;case"onScroll":d!=null&&We("scroll",r);break;case"onScrollEnd":d!=null&&We("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(u=d.__html,u!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=u}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}u=$l(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""+d):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":d===!0?r.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,d):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(u,d):r.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(u):r.setAttribute(u,d);break;case"popover":We("beforetoggle",r),We("toggle",r),zl(r,"popover",d);break;case"xlinkActuate":Jt(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Jt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Jt(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Jt(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Jt(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Jt(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Jt(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Jt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Jt(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":zl(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Rd.get(u)||u,zl(r,u,d))}}function vp(r,i,u,d,g,b){switch(u){case"style":jc(r,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(u=d.__html,u!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=u}}break;case"children":typeof d=="string"?Xn(r,d):(typeof d=="number"||typeof d=="bigint")&&Xn(r,""+d);break;case"onScroll":d!=null&&We("scroll",r);break;case"onScrollEnd":d!=null&&We("scrollend",r);break;case"onClick":d!=null&&(r.onclick=Qs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gc.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),i=u.slice(2,g?u.length-7:void 0),b=r[yn]||null,b=b!=null?b[u]:null,typeof b=="function"&&r.removeEventListener(i,b,g),typeof d=="function")){typeof b!="function"&&b!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(i,d,g);break e}u in r?r[u]=d:d===!0?r.setAttribute(u,""):zl(r,u,d)}}}function An(r,i,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",r),We("load",r);var d=!1,g=!1,b;for(b in u)if(u.hasOwnProperty(b)){var j=u[b];if(j!=null)switch(b){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:_t(r,i,b,j,u,null)}}g&&_t(r,i,"srcSet",u.srcSet,u,null),d&&_t(r,i,"src",u.src,u,null);return;case"input":We("invalid",r);var k=b=j=g=null,H=null,ee=null;for(d in u)if(u.hasOwnProperty(d)){var le=u[d];if(le!=null)switch(d){case"name":g=le;break;case"type":j=le;break;case"checked":H=le;break;case"defaultChecked":ee=le;break;case"value":b=le;break;case"defaultValue":k=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(s(137,i));break;default:_t(r,i,d,le,u,null)}}Ad(r,b,k,H,ee,j,g,!1);return;case"select":We("invalid",r),d=j=b=null;for(g in u)if(u.hasOwnProperty(g)&&(k=u[g],k!=null))switch(g){case"value":b=k;break;case"defaultValue":j=k;break;case"multiple":d=k;default:_t(r,i,g,k,u,null)}i=b,u=j,r.multiple=!!d,i!=null?kr(r,!!d,i,!1):u!=null&&kr(r,!!d,u,!0);return;case"textarea":We("invalid",r),b=g=d=null;for(j in u)if(u.hasOwnProperty(j)&&(k=u[j],k!=null))switch(j){case"value":d=k;break;case"defaultValue":g=k;break;case"children":b=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(91));break;default:_t(r,i,j,k,u,null)}Ir(r,d,g,b);return;case"option":for(H in u)if(u.hasOwnProperty(H)&&(d=u[H],d!=null))switch(H){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:_t(r,i,H,d,u,null)}return;case"dialog":We("beforetoggle",r),We("toggle",r),We("cancel",r),We("close",r);break;case"iframe":case"object":We("load",r);break;case"video":case"audio":for(d=0;d<su.length;d++)We(su[d],r);break;case"image":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"embed":case"source":case"link":We("error",r),We("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in u)if(u.hasOwnProperty(ee)&&(d=u[ee],d!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:_t(r,i,ee,d,u,null)}return;default:if(Bl(i)){for(le in u)u.hasOwnProperty(le)&&(d=u[le],d!==void 0&&vp(r,i,le,d,u,void 0));return}}for(k in u)u.hasOwnProperty(k)&&(d=u[k],d!=null&&_t(r,i,k,d,u,null))}function yE(r,i,u,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,j=null,k=null,H=null,ee=null,le=null;for(re in u){var me=u[re];if(u.hasOwnProperty(re)&&me!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":H=me;default:d.hasOwnProperty(re)||_t(r,i,re,null,d,me)}}for(var ne in d){var re=d[ne];if(me=u[ne],d.hasOwnProperty(ne)&&(re!=null||me!=null))switch(ne){case"type":b=re;break;case"name":g=re;break;case"checked":ee=re;break;case"defaultChecked":le=re;break;case"value":j=re;break;case"defaultValue":k=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,i));break;default:re!==me&&_t(r,i,ne,re,d,me)}}Fl(r,j,k,H,ee,le,b,g);return;case"select":re=j=k=ne=null;for(b in u)if(H=u[b],u.hasOwnProperty(b)&&H!=null)switch(b){case"value":break;case"multiple":re=H;default:d.hasOwnProperty(b)||_t(r,i,b,null,d,H)}for(g in d)if(b=d[g],H=u[g],d.hasOwnProperty(g)&&(b!=null||H!=null))switch(g){case"value":ne=b;break;case"defaultValue":k=b;break;case"multiple":j=b;default:b!==H&&_t(r,i,g,b,d,H)}i=k,u=j,d=re,ne!=null?kr(r,!!u,ne,!1):!!d!=!!u&&(i!=null?kr(r,!!u,i,!0):kr(r,!!u,u?[]:"",!1));return;case"textarea":re=ne=null;for(k in u)if(g=u[k],u.hasOwnProperty(k)&&g!=null&&!d.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:_t(r,i,k,null,d,g)}for(j in d)if(g=d[j],b=u[j],d.hasOwnProperty(j)&&(g!=null||b!=null))switch(j){case"value":ne=g;break;case"defaultValue":re=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==b&&_t(r,i,j,g,d,b)}kd(r,ne,re);return;case"option":for(var Te in u)if(ne=u[Te],u.hasOwnProperty(Te)&&ne!=null&&!d.hasOwnProperty(Te))switch(Te){case"selected":r.selected=!1;break;default:_t(r,i,Te,null,d,ne)}for(H in d)if(ne=d[H],re=u[H],d.hasOwnProperty(H)&&ne!==re&&(ne!=null||re!=null))switch(H){case"selected":r.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:_t(r,i,H,ne,d,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in u)ne=u[Oe],u.hasOwnProperty(Oe)&&ne!=null&&!d.hasOwnProperty(Oe)&&_t(r,i,Oe,null,d,ne);for(ee in d)if(ne=d[ee],re=u[ee],d.hasOwnProperty(ee)&&ne!==re&&(ne!=null||re!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,i));break;default:_t(r,i,ee,ne,d,re)}return;default:if(Bl(i)){for(var St in u)ne=u[St],u.hasOwnProperty(St)&&ne!==void 0&&!d.hasOwnProperty(St)&&vp(r,i,St,void 0,d,ne);for(le in d)ne=d[le],re=u[le],!d.hasOwnProperty(le)||ne===re||ne===void 0&&re===void 0||vp(r,i,le,ne,d,re);return}}for(var Q in u)ne=u[Q],u.hasOwnProperty(Q)&&ne!=null&&!d.hasOwnProperty(Q)&&_t(r,i,Q,null,d,ne);for(me in d)ne=d[me],re=u[me],!d.hasOwnProperty(me)||ne===re||ne==null&&re==null||_t(r,i,me,ne,d,re)}function _1(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bE(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,u=performance.getEntriesByType("resource"),d=0;d<u.length;d++){var g=u[d],b=g.transferSize,j=g.initiatorType,k=g.duration;if(b&&k&&_1(j)){for(j=0,k=g.responseEnd,d+=1;d<u.length;d++){var H=u[d],ee=H.startTime;if(ee>k)break;var le=H.transferSize,me=H.initiatorType;le&&_1(me)&&(H=H.responseEnd,j+=le*(H<k?1:(k-ee)/(H-ee)))}if(--d,i+=8*(b+j)/(g.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var wp=null,Np=null;function Dh(r){return r.nodeType===9?r:r.ownerDocument}function S1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E1(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function jp(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var _p=null;function vE(){var r=window.event;return r&&r.type==="popstate"?r===_p?!1:(_p=r,!0):(_p=null,!1)}var T1=typeof setTimeout=="function"?setTimeout:void 0,wE=typeof clearTimeout=="function"?clearTimeout:void 0,C1=typeof Promise=="function"?Promise:void 0,NE=typeof queueMicrotask=="function"?queueMicrotask:typeof C1<"u"?function(r){return C1.resolve(null).then(r).catch(jE)}:T1;function jE(r){setTimeout(function(){throw r})}function ei(r){return r==="head"}function A1(r,i){var u=i,d=0;do{var g=u.nextSibling;if(r.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"||u==="/&"){if(d===0){r.removeChild(g),_o(i);return}d--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")d++;else if(u==="html")ru(r.ownerDocument.documentElement);else if(u==="head"){u=r.ownerDocument.head,ru(u);for(var b=u.firstChild;b;){var j=b.nextSibling,k=b.nodeName;b[xa]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=j}}else u==="body"&&ru(r.ownerDocument.body);u=g}while(u);_o(i)}function k1(r,i){var u=r;r=0;do{var d=u.nextSibling;if(u.nodeType===1?i?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(i?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),d&&d.nodeType===8)if(u=d.data,u==="/$"){if(r===0)break;r--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||r++;u=d}while(u)}function Sp(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var u=i;switch(i=i.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Sp(u),Ul(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function _E(r,i,u,d){for(;r.nodeType===1;){var g=u;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[xa])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(b=r.getAttribute("rel"),b==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(b!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(b=r.getAttribute("src"),(b!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===b)return r}else return r;if(r=Ms(r.nextSibling),r===null)break}return null}function SE(r,i,u){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=Ms(r.nextSibling),r===null))return null;return r}function I1(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=Ms(r.nextSibling),r===null))return null;return r}function Ep(r){return r.data==="$?"||r.data==="$~"}function Tp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function EE(r,i){var u=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||u.readyState!=="loading")i();else{var d=function(){i(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function Ms(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var Cp=null;function R1(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"||u==="/&"){if(i===0)return Ms(r.nextSibling);i--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||i++}r=r.nextSibling}return null}function D1(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(i===0)return r;i--}else u!=="/$"&&u!=="/&"||i++}r=r.previousSibling}return null}function M1(r,i,u){switch(i=Dh(u),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function ru(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Ul(r)}var Os=new Map,O1=new Set;function Mh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var cr=W.d;W.d={f:TE,r:CE,D:AE,C:kE,L:IE,m:RE,X:ME,S:DE,M:OE};function TE(){var r=cr.f(),i=Sh();return r||i}function CE(r){var i=_s(r);i!==null&&i.tag===5&&i.type==="form"?Jb(i):cr.r(r)}var wo=typeof document>"u"?null:document;function P1(r,i,u){var d=wo;if(d&&typeof i=="string"&&i){var g=Kn(i);g='link[rel="'+r+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),O1.has(g)||(O1.add(g),r={rel:r,crossOrigin:u,href:i},d.querySelector(g)===null&&(i=d.createElement("link"),An(i,"link",r),Wt(i),d.head.appendChild(i)))}}function AE(r){cr.D(r),P1("dns-prefetch",r,null)}function kE(r,i){cr.C(r,i),P1("preconnect",r,i)}function IE(r,i,u){cr.L(r,i,u);var d=wo;if(d&&r&&i){var g='link[rel="preload"][as="'+Kn(i)+'"]';i==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+Kn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+Kn(u.imageSizes)+'"]')):g+='[href="'+Kn(r)+'"]';var b=g;switch(i){case"style":b=No(r);break;case"script":b=jo(r)}Os.has(b)||(r=y({rel:"preload",href:i==="image"&&u&&u.imageSrcSet?void 0:r,as:i},u),Os.set(b,r),d.querySelector(g)!==null||i==="style"&&d.querySelector(iu(b))||i==="script"&&d.querySelector(lu(b))||(i=d.createElement("link"),An(i,"link",r),Wt(i),d.head.appendChild(i)))}}function RE(r,i){cr.m(r,i);var u=wo;if(u&&r){var d=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+Kn(d)+'"][href="'+Kn(r)+'"]',b=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=jo(r)}if(!Os.has(b)&&(r=y({rel:"modulepreload",href:r},i),Os.set(b,r),u.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(lu(b)))return}d=u.createElement("link"),An(d,"link",r),Wt(d),u.head.appendChild(d)}}}function DE(r,i,u){cr.S(r,i,u);var d=wo;if(d&&r){var g=ba(d).hoistableStyles,b=No(r);i=i||"default";var j=g.get(b);if(!j){var k={loading:0,preload:null};if(j=d.querySelector(iu(b)))k.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":i},u),(u=Os.get(b))&&Ap(r,u);var H=j=d.createElement("link");Wt(H),An(H,"link",r),H._p=new Promise(function(ee,le){H.onload=ee,H.onerror=le}),H.addEventListener("load",function(){k.loading|=1}),H.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Oh(j,i,d)}j={type:"stylesheet",instance:j,count:1,state:k},g.set(b,j)}}}function ME(r,i){cr.X(r,i);var u=wo;if(u&&r){var d=ba(u).hoistableScripts,g=jo(r),b=d.get(g);b||(b=u.querySelector(lu(g)),b||(r=y({src:r,async:!0},i),(i=Os.get(g))&&kp(r,i),b=u.createElement("script"),Wt(b),An(b,"link",r),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(g,b))}}function OE(r,i){cr.M(r,i);var u=wo;if(u&&r){var d=ba(u).hoistableScripts,g=jo(r),b=d.get(g);b||(b=u.querySelector(lu(g)),b||(r=y({src:r,async:!0,type:"module"},i),(i=Os.get(g))&&kp(r,i),b=u.createElement("script"),Wt(b),An(b,"link",r),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(g,b))}}function L1(r,i,u,d){var g=(g=Be.current)?Mh(g):null;if(!g)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(i=No(u.href),u=ba(g).hoistableStyles,d=u.get(i),d||(d={type:"style",instance:null,count:0,state:null},u.set(i,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=No(u.href);var b=ba(g).hoistableStyles,j=b.get(r);if(j||(g=g.ownerDocument||g,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(r,j),(b=g.querySelector(iu(r)))&&!b._p&&(j.instance=b,j.state.loading=5),Os.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Os.set(r,u),b||PE(g,r,u,j.state))),i&&d===null)throw Error(s(528,""));return j}if(i&&d!==null)throw Error(s(529,""));return null;case"script":return i=u.async,u=u.src,typeof u=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=jo(u),u=ba(g).hoistableScripts,d=u.get(i),d||(d={type:"script",instance:null,count:0,state:null},u.set(i,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function No(r){return'href="'+Kn(r)+'"'}function iu(r){return'link[rel="stylesheet"]['+r+"]"}function V1(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function PE(r,i,u,d){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?d.loading=1:(i=r.createElement("link"),d.preload=i,i.addEventListener("load",function(){return d.loading|=1}),i.addEventListener("error",function(){return d.loading|=2}),An(i,"link",u),Wt(i),r.head.appendChild(i))}function jo(r){return'[src="'+Kn(r)+'"]'}function lu(r){return"script[async]"+r}function U1(r,i,u){if(i.count++,i.instance===null)switch(i.type){case"style":var d=r.querySelector('style[data-href~="'+Kn(u.href)+'"]');if(d)return i.instance=d,Wt(d),d;var g=y({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),Wt(d),An(d,"style",g),Oh(d,u.precedence,r),i.instance=d;case"stylesheet":g=No(u.href);var b=r.querySelector(iu(g));if(b)return i.state.loading|=4,i.instance=b,Wt(b),b;d=V1(u),(g=Os.get(g))&&Ap(d,g),b=(r.ownerDocument||r).createElement("link"),Wt(b);var j=b;return j._p=new Promise(function(k,H){j.onload=k,j.onerror=H}),An(b,"link",d),i.state.loading|=4,Oh(b,u.precedence,r),i.instance=b;case"script":return b=jo(u.src),(g=r.querySelector(lu(b)))?(i.instance=g,Wt(g),g):(d=u,(g=Os.get(b))&&(d=y({},u),kp(d,g)),r=r.ownerDocument||r,g=r.createElement("script"),Wt(g),An(g,"link",d),r.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(d=i.instance,i.state.loading|=4,Oh(d,u.precedence,r));return i.instance}function Oh(r,i,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,b=g,j=0;j<d.length;j++){var k=d[j];if(k.dataset.precedence===i)b=k;else if(b!==g)break}b?b.parentNode.insertBefore(r,b.nextSibling):(i=u.nodeType===9?u.head:u,i.insertBefore(r,i.firstChild))}function Ap(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function kp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Ph=null;function z1(r,i,u){if(Ph===null){var d=new Map,g=Ph=new Map;g.set(u,d)}else g=Ph,d=g.get(u),d||(d=new Map,g.set(u,d));if(d.has(r))return d;for(d.set(r,null),u=u.getElementsByTagName(r),g=0;g<u.length;g++){var b=u[g];if(!(b[xa]||b[Xt]||r==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var j=b.getAttribute(i)||"";j=r+j;var k=d.get(j);k?k.push(b):d.set(j,[b])}}return d}function F1(r,i,u){r=r.ownerDocument||r,r.head.insertBefore(u,i==="title"?r.querySelector("head > title"):null)}function LE(r,i,u){if(u===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function B1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function VE(r,i,u,d){if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var g=No(d.href),b=i.querySelector(iu(g));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=Lh.bind(r),i.then(r,r)),u.state.loading|=4,u.instance=b,Wt(b);return}b=i.ownerDocument||i,d=V1(d),(g=Os.get(g))&&Ap(d,g),b=b.createElement("link"),Wt(b);var j=b;j._p=new Promise(function(k,H){j.onload=k,j.onerror=H}),An(b,"link",d),u.instance=b}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(u,i),(i=u.state.preload)&&(u.state.loading&3)===0&&(r.count++,u=Lh.bind(r),i.addEventListener("load",u),i.addEventListener("error",u))}}var Ip=0;function UE(r,i){return r.stylesheets&&r.count===0&&Uh(r,r.stylesheets),0<r.count||0<r.imgCount?function(u){var d=setTimeout(function(){if(r.stylesheets&&Uh(r,r.stylesheets),r.unsuspend){var b=r.unsuspend;r.unsuspend=null,b()}},6e4+i);0<r.imgBytes&&Ip===0&&(Ip=62500*bE());var g=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Uh(r,r.stylesheets),r.unsuspend)){var b=r.unsuspend;r.unsuspend=null,b()}},(r.imgBytes>Ip?50:800)+i);return r.unsuspend=u,function(){r.unsuspend=null,clearTimeout(d),clearTimeout(g)}}:null}function Lh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uh(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Vh=null;function Uh(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Vh=new Map,i.forEach(zE,r),Vh=null,Lh.call(r))}function zE(r,i){if(!(i.state.loading&4)){var u=Vh.get(r);if(u)var d=u.get(null);else{u=new Map,Vh.set(r,u);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var j=g[b];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(u.set(j.dataset.precedence,j),d=j)}d&&u.set(null,d)}g=i.instance,j=g.getAttribute("data-precedence"),b=u.get(j)||d,b===d&&u.set(null,g),u.set(j,g),this.count++,d=Lh.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),b?b.parentNode.insertBefore(g,b.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),i.state.loading|=4}}var ou={$$typeof:q,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function FE(r,i,u,d,g,b,j,k,H){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pa(0),this.hiddenUpdates=pa(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function $1(r,i,u,d,g,b,j,k,H,ee,le,me){return r=new FE(r,i,u,j,H,ee,le,me,k),i=1,b===!0&&(i|=24),b=ms(3,null,null,i),r.current=b,b.stateNode=r,i=u0(),i.refCount++,r.pooledCache=i,i.refCount++,b.memoizedState={element:d,isDehydrated:u,cache:i},f0(b),r}function q1(r){return r?(r=Zl,r):Zl}function H1(r,i,u,d,g,b){g=q1(g),d.context===null?d.context=g:d.pendingContext=g,d=$r(i),d.payload={element:u},b=b===void 0?null:b,b!==null&&(d.callback=b),u=qr(r,d,i),u!==null&&(ts(u,r,i),zc(u,r,i))}function G1(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<i?u:i}}function Rp(r,i){G1(r,i),(r=r.alternate)&&G1(r,i)}function Y1(r){if(r.tag===13||r.tag===31){var i=Ji(r,67108864);i!==null&&ts(i,r,67108864),Rp(r,67108864)}}function Q1(r){if(r.tag===13||r.tag===31){var i=ys();i=zi(i);var u=Ji(r,i);u!==null&&ts(u,r,i),Rp(r,i)}}var zh=!0;function BE(r,i,u,d){var g=$.T;$.T=null;var b=W.p;try{W.p=2,Dp(r,i,u,d)}finally{W.p=b,$.T=g}}function $E(r,i,u,d){var g=$.T;$.T=null;var b=W.p;try{W.p=8,Dp(r,i,u,d)}finally{W.p=b,$.T=g}}function Dp(r,i,u,d){if(zh){var g=Mp(d);if(g===null)bp(r,i,d,Fh,u),X1(r,d);else if(HE(g,r,i,u,d))d.stopPropagation();else if(X1(r,d),i&4&&-1<qE.indexOf(r)){for(;g!==null;){var b=_s(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var j=ma(b.pendingLanes);if(j!==0){var k=b;for(k.pendingLanes|=2,k.entangledLanes|=2;j;){var H=1<<31-at(j);k.entanglements[1]|=H,j&=~H}Ra(b),(pt&6)===0&&(jh=Pt()+500,nu(0))}}break;case 31:case 13:k=Ji(b,2),k!==null&&ts(k,b,2),Sh(),Rp(b,2)}if(b=Mp(d),b===null&&bp(r,i,d,Fh,u),b===g)break;g=b}g!==null&&d.stopPropagation()}else bp(r,i,d,null,u)}}function Mp(r){return r=Ss(r),Op(r)}var Fh=null;function Op(r){if(Fh=null,r=ya(r),r!==null){var i=o(r);if(i===null)r=null;else{var u=i.tag;if(u===13){if(r=c(i),r!==null)return r;r=null}else if(u===31){if(r=h(i),r!==null)return r;r=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Fh=r,null}function K1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qa()){case oe:return 2;case ve:return 8;case De:case Qe:return 32;case ut:return 268435456;default:return 32}default:return 32}}var Pp=!1,ti=null,ni=null,si=null,cu=new Map,uu=new Map,ai=[],qE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function X1(r,i){switch(r){case"focusin":case"focusout":ti=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":si=null;break;case"pointerover":case"pointerout":cu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":uu.delete(i.pointerId)}}function du(r,i,u,d,g,b){return r===null||r.nativeEvent!==b?(r={blockedOn:i,domEventName:u,eventSystemFlags:d,nativeEvent:b,targetContainers:[g]},i!==null&&(i=_s(i),i!==null&&Y1(i)),r):(r.eventSystemFlags|=d,i=r.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),r)}function HE(r,i,u,d,g){switch(i){case"focusin":return ti=du(ti,r,i,u,d,g),!0;case"dragenter":return ni=du(ni,r,i,u,d,g),!0;case"mouseover":return si=du(si,r,i,u,d,g),!0;case"pointerover":var b=g.pointerId;return cu.set(b,du(cu.get(b)||null,r,i,u,d,g)),!0;case"gotpointercapture":return b=g.pointerId,uu.set(b,du(uu.get(b)||null,r,i,u,d,g)),!0}return!1}function W1(r){var i=ya(r.target);if(i!==null){var u=o(i);if(u!==null){if(i=u.tag,i===13){if(i=c(u),i!==null){r.blockedOn=i,Gs(r.priority,function(){Q1(u)});return}}else if(i===31){if(i=h(u),i!==null){r.blockedOn=i,Gs(r.priority,function(){Q1(u)});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Bh(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var u=Mp(r.nativeEvent);if(u===null){u=r.nativeEvent;var d=new u.constructor(u.type,u);_c=d,u.target.dispatchEvent(d),_c=null}else return i=_s(u),i!==null&&Y1(i),r.blockedOn=u,!1;i.shift()}return!0}function J1(r,i,u){Bh(r)&&u.delete(i)}function GE(){Pp=!1,ti!==null&&Bh(ti)&&(ti=null),ni!==null&&Bh(ni)&&(ni=null),si!==null&&Bh(si)&&(si=null),cu.forEach(J1),uu.forEach(J1)}function $h(r,i){r.blockedOn===i&&(r.blockedOn=null,Pp||(Pp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,GE)))}var qh=null;function Z1(r){qh!==r&&(qh=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){qh===r&&(qh=null);for(var i=0;i<r.length;i+=3){var u=r[i],d=r[i+1],g=r[i+2];if(typeof d!="function"){if(Op(d||u)===null)continue;break}var b=_s(u);b!==null&&(r.splice(i,3),i-=3,M0(b,{pending:!0,data:g,method:u.method,action:d},d,g))}}))}function _o(r){function i(H){return $h(H,r)}ti!==null&&$h(ti,r),ni!==null&&$h(ni,r),si!==null&&$h(si,r),cu.forEach(i),uu.forEach(i);for(var u=0;u<ai.length;u++){var d=ai[u];d.blockedOn===r&&(d.blockedOn=null)}for(;0<ai.length&&(u=ai[0],u.blockedOn===null);)W1(u),u.blockedOn===null&&ai.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var g=u[d],b=u[d+1],j=g[yn]||null;if(typeof b=="function")j||Z1(u);else if(j){var k=null;if(b&&b.hasAttribute("formAction")){if(g=b,j=b[yn]||null)k=j.formAction;else if(Op(g)!==null)continue}else k=j.action;typeof k=="function"?u[d+1]=k:(u.splice(d,3),d-=3),Z1(u)}}}function ew(){function r(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(j){return g=j})},focusReset:"manual",scroll:"manual"})}function i(){g!==null&&(g(),g=null),d||setTimeout(u,20)}function u(){if(!d&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,g=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(u,100),function(){d=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),g!==null&&(g(),g=null)}}}function Lp(r){this._internalRoot=r}Hh.prototype.render=Lp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var u=i.current,d=ys();H1(u,d,r,i,null,null)},Hh.prototype.unmount=Lp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;H1(r.current,2,null,r,null,null),Sh(),i[ga]=null}};function Hh(r){this._internalRoot=r}Hh.prototype.unstable_scheduleHydration=function(r){if(r){var i=Sd();r={blockedOn:null,target:r,priority:i};for(var u=0;u<ai.length&&i!==0&&i<ai[u].priority;u++);ai.splice(u,0,r),u===0&&W1(r)}};var tw=e.version;if(tw!=="19.2.0")throw Error(s(527,tw,"19.2.0"));W.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=f(i),r=r!==null?x(r):null,r=r===null?null:r.stateNode,r};var YE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gh.isDisabled&&Gh.supportsFiber)try{Ft=Gh.inject(YE),Lt=Gh}catch{}}return hu.createRoot=function(r,i){if(!l(r))throw Error(s(299));var u=!1,d="",g=ov,b=cv,j=uv;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(j=i.onRecoverableError)),i=$1(r,1,!1,null,null,u,d,null,g,b,j,ew),r[ga]=i.current,yp(r),new Lp(i)},hu.hydrateRoot=function(r,i,u){if(!l(r))throw Error(s(299));var d=!1,g="",b=ov,j=cv,k=uv,H=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(j=u.onCaughtError),u.onRecoverableError!==void 0&&(k=u.onRecoverableError),u.formState!==void 0&&(H=u.formState)),i=$1(r,1,!0,i,u??null,d,g,H,b,j,k,ew),i.context=q1(null),u=i.current,d=ys(),d=zi(d),g=$r(d),g.callback=null,qr(u,g,d),u=d,i.current.lanes=u,Vi(i,u),Ra(i),r[ga]=i.current,yp(r),new Hh(i)},hu.version="19.2.0",hu}var rw;function eT(){if(rw)return Vp.exports;rw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vp.exports=ZE(),Vp.exports}var tT=eT();const nT=cx(tT);const sT=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aT=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),iw=t=>{const e=aT(t);return e.charAt(0).toUpperCase()+e.slice(1)},rj=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),rT=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var iT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const lT=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:o,iconNode:c,...h},m)=>A.createElement("svg",{ref:m,...iT,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:rj("lucide",l),...!o&&!rT(h)&&{"aria-hidden":"true"},...h},[...c.map(([f,x])=>A.createElement(f,x)),...Array.isArray(o)?o:[o]]));const ce=(t,e)=>{const n=A.forwardRef(({className:s,...l},o)=>A.createElement(lT,{ref:o,iconNode:e,className:rj(`lucide-${sT(iw(t))}`,`lucide-${t}`,s),...l}));return n.displayName=iw(t),n};const oT=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],vi=ce("activity",oT);const cT=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],uT=ce("arrow-down",cT);const dT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Nm=ce("arrow-right",dT);const hT=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],mT=ce("arrow-up",hT);const fT=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ux=ce("award",fT);const pT=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],gT=ce("bell",pT);const xT=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],yT=ce("book-marked",xT);const bT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],yr=ce("book-open",bT);const vT=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],yl=ce("brain",vT);const wT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pr=ce("calendar",wT);const NT=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Qn=ce("chart-column",NT);const jT=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Ng=ce("chart-pie",jT);const _T=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],sa=ce("check",_T);const ST=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],wi=ce("chevron-down",ST);const ET=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Nn=ce("chevron-right",ET);const TT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ij=ce("chevron-left",TT);const CT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],is=ce("circle-alert",CT);const AT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jm=ce("circle-check-big",AT);const kT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],br=ce("circle-check",kT);const IT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],dx=ce("circle-question-mark",IT);const RT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],DT=ce("circle",RT);const MT=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],OT=ce("clipboard-check",MT);const PT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Dn=ce("clock",PT);const LT=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],oa=ce("copy",LT);const VT=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],UT=ce("credit-card",VT);const zT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ef=ce("crown",zT);const FT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Wo=ce("download",FT);const BT=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],$T=ce("dumbbell",BT);const qT=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],HT=ce("ellipsis-vertical",qT);const GT=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],lw=ce("ellipsis",GT);const YT=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],lj=ce("external-link",YT);const QT=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],KT=ce("eye-off",QT);const XT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hx=ce("eye",XT);const WT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],JT=ce("file-down",WT);const ZT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],rs=ce("file-text",ZT);const eC=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],tf=ce("flame",eC);const tC=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],mx=ce("folder-open",tC);const nC=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],sC=ce("funnel",nC);const aC=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],za=ce("gavel",aC);const rC=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],nf=ce("git-branch",rC);const iC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],lC=ce("globe",iC);const oC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],fx=ce("grid-3x3",oC);const cC=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],oj=ce("grip-vertical",cC);const uC=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],dC=ce("hand",uC);const hC=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],cj=ce("hash",hC);const mC=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],fC=ce("heart",mC);const pC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Fa=ce("history",pC);const gC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],xC=ce("house",gC);const yC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],_m=ce("image",yC);const bC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ed=ce("info",bC);const vC=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],uj=ce("keyboard",vC);const wC=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],NC=ce("layers",wC);const jC=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],kl=ce("lightbulb",jC);const _C=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],sf=ce("link-2",_C);const SC=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],px=ce("list",SC);const EC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ki=ce("loader-circle",EC);const TC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],CC=ce("lock",TC);const AC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],kC=ce("log-out",AC);const IC=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],RC=ce("mail",IC);const DC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Jo=ce("map-pin",DC);const MC=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],dj=ce("maximize-2",MC);const OC=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Sm=ce("medal",OC);const PC=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Ii=ce("message-square",PC);const LC=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],VC=ce("mic-off",LC);const UC=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],ra=ce("mic",UC);const zC=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],FC=ce("minimize-2",zC);const BC=[["path",{d:"M5 12h14",key:"1ays0h"}]],af=ce("minus",BC);const $C=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],qC=ce("mouse-pointer",$C);const HC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],GC=ce("panels-top-left",HC);const YC=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],QC=ce("paperclip",YC);const KC=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],rf=ce("pause",KC);const XC=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],td=ce("pen-line",XC);const WC=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],JC=ce("pen-tool",WC);const ZC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],eA=ce("pen",ZC);const tA=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],nA=ce("phone",tA);const sA=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],hj=ce("plane",sA);const aA=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Ni=ce("play",aA);const rA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hn=ce("plus",rA);const iA=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],mj=ce("printer",iA);const lA=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],oA=ce("quote",lA);const cA=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],fj=ce("radio",cA);const uA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ou=ce("refresh-cw",uA);const dA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],bl=ce("rotate-ccw",dA);const hA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],lf=ce("save",hA);const mA=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],of=ce("scale",mA);const fA=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],pA=ce("scroll-text",fA);const gA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],vl=ce("search",gA);const xA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],cf=ce("send",xA);const yA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nd=ce("settings",yA);const bA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],sd=ce("shield",bA);const vA=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],pj=ce("shuffle",vA);const wA=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Fs=ce("sparkles",wA);const NA=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],gj=ce("square-check-big",NA);const jA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],xj=ce("square",jA);const _A=[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],ow=ce("star-off",_A);const SA=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Bn=ce("star",SA);const EA=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],TA=ce("sticky-note",EA);const CA=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],AA=ce("sword",CA);const kA=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],IA=ce("swords",kA);const RA=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],gx=ce("tag",RA);const DA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ot=ce("target",DA);const MA=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],OA=ce("thumbs-down",MA);const PA=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],LA=ce("thumbs-up",PA);const VA=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],yj=ce("timer",VA);const UA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$s=ce("trash-2",UA);const zA=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],uf=ce("trending-down",zA);const FA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],wl=ce("trending-up",FA);const BA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mi=ce("triangle-alert",BA);const $A=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],on=ce("trophy",$A);const qA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ad=ce("upload",qA);const HA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],GA=ce("user-minus",HA);const YA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],cw=ce("user-plus",YA);const QA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],rd=ce("user",QA);const KA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Vs=ce("users",KA);const XA=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],WA=ce("video",XA);const JA=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],bj=ce("volume-2",JA);const ZA=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],ek=ce("volume-x",ZA);const tk=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],nk=ce("wand-sparkles",tk);const sk=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],ak=ce("waves",sk);const rk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ls=ce("x",rk);const ik=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],lk=ce("zoom-in",ik);const ok=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Pu=ce("zap",ok);const ck=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],uk=ce("zoom-out",ck),dk=()=>{};var uw={};const vj=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let l=t.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},hk=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const l=t[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const o=t[n++];e[s++]=String.fromCharCode((l&31)<<6|o&63)}else if(l>239&&l<365){const o=t[n++],c=t[n++],h=t[n++],m=((l&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const o=t[n++],c=t[n++];e[s++]=String.fromCharCode((l&15)<<12|(o&63)<<6|c&63)}}return e.join("")},wj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<t.length;l+=3){const o=t[l],c=l+1<t.length,h=c?t[l+1]:0,m=l+2<t.length,f=m?t[l+2]:0,x=o>>2,y=(o&3)<<4|h>>4;let v=(h&15)<<2|f>>6,w=f&63;m||(w=64,c||(v=64)),s.push(n[x],n[y],n[v],n[w])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<t.length;){const o=n[t.charAt(l++)],h=l<t.length?n[t.charAt(l)]:0;++l;const f=l<t.length?n[t.charAt(l)]:64;++l;const y=l<t.length?n[t.charAt(l)]:64;if(++l,o==null||h==null||f==null||y==null)throw new mk;const v=o<<2|h>>4;if(s.push(v),f!==64){const w=h<<4&240|f>>2;if(s.push(w),y!==64){const S=f<<6&192|y;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fk=function(t){const e=vj(t);return wj.encodeByteArray(e,!0)},Em=function(t){return fk(t).replace(/\./g,"")},Nj=function(t){try{return wj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const gk=()=>pk().__FIREBASE_DEFAULTS__,xk=()=>{if(typeof process>"u"||typeof uw>"u")return;const t=uw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Nj(t[1]);return e&&JSON.parse(e)},df=()=>{try{return dk()||gk()||xk()||yk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jj=t=>df()?.emulatorHosts?.[t],bk=t=>{const e=jj(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},_j=()=>df()?.config,Sj=t=>df()?.[`_${t}`];class vk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Zo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ej(t){return(await fetch(t,{credentials:"include"})).ok}function wk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Em(JSON.stringify(n)),Em(JSON.stringify(c)),""].join(".")}const Su={};function Nk(){const t={prod:[],emulator:[]};for(const e of Object.keys(Su))Su[e]?t.emulator.push(e):t.prod.push(e);return t}function jk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let dw=!1;function Tj(t,e){if(typeof window>"u"||typeof document>"u"||!Zo(window.location.host)||Su[t]===e||Su[t]||dw)return;Su[t]=e;function n(v){return`__firebase__banner__${v}`}const s="__firebase__banner",o=Nk().prod.length>0;function c(){const v=document.getElementById(s);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function m(v,w){v.setAttribute("width","24"),v.setAttribute("id",w),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{dw=!0,c()},v}function x(v,w){v.setAttribute("id",w),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=jk(s),w=n("text"),S=document.getElementById(w)||document.createElement("span"),U=n("learnmore"),I=document.getElementById(U)||document.createElement("a"),z=n("preprendIcon"),L=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const q=v.element;h(q),x(I,U);const K=f();m(L,z),q.append(L,S,I,K),document.body.appendChild(q)}o?(S.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function $n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _k(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($n())}function Sk(){const t=df()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ek(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Tk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ck(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ak(){const t=$n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kk(){return!Sk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ik(){try{return typeof indexedDB=="object"}catch{return!1}}function Rk(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const Dk="FirebaseError";class Sr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Dk,Object.setPrototypeOf(this,Sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,id.prototype.create)}}class id{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,o=this.errors[e],c=o?Mk(o,s):"Error",h=`${this.serviceName}: ${c} (${l}).`;return new Sr(l,h,s)}}function Mk(t,e){return t.replace(Ok,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const Ok=/\{\$([^}]+)}/g;function Pk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ji(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const o=t[l],c=e[l];if(hw(o)&&hw(c)){if(!ji(o,c))return!1}else if(o!==c)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function hw(t){return t!==null&&typeof t=="object"}function ld(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function bu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,o]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(o)}}),e}function vu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Lk(t,e){const n=new Vk(t,e);return n.subscribe.bind(n)}class Vk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Uk(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=Fp),l.error===void 0&&(l.error=Fp),l.complete===void 0&&(l.complete=Fp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Uk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fp(){}function mn(t){return t&&t._delegate?t._delegate:t}class Nl{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const fl="[DEFAULT]";class zk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new vk;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Bk(e))try{this.getOrInitializeService({instanceIdentifier:fl})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:l});s.resolve(o)}catch{}}}}clearInstance(e=fl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fl){return this.instances.has(e)}getOptions(e=fl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);s===h&&c.resolve(l)}return l}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const o=this.instances.get(s);return o&&e(o,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Fk(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=fl){return this.component?this.component.multipleInstances?e:fl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Fk(t){return t===fl?void 0:t}function Bk(t){return t.instantiationMode==="EAGER"}class $k{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const qk={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},Hk=tt.INFO,Gk={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},Yk=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),l=Gk[e];if(l)console[l](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xx{constructor(e){this.name=e,this._logLevel=Hk,this._logHandler=Yk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const Qk=(t,e)=>e.some(n=>t instanceof n);let mw,fw;function Kk(){return mw||(mw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xk(){return fw||(fw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cj=new WeakMap,jg=new WeakMap,Aj=new WeakMap,Bp=new WeakMap,yx=new WeakMap;function Wk(t){const e=new Promise((n,s)=>{const l=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(fi(t.result)),l()},c=()=>{s(t.error),l()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Cj.set(n,t)}).catch(()=>{}),yx.set(e,t),e}function Jk(t){if(jg.has(t))return;const e=new Promise((n,s)=>{const l=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),l()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),l()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});jg.set(t,e)}let _g={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Aj.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Zk(t){_g=t(_g)}function e3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call($p(this),e,...n);return Aj.set(s,e.sort?e.sort():[e]),fi(s)}:Xk().includes(t)?function(...e){return t.apply($p(this),e),fi(Cj.get(this))}:function(...e){return fi(t.apply($p(this),e))}}function t3(t){return typeof t=="function"?e3(t):(t instanceof IDBTransaction&&Jk(t),Qk(t,Kk())?new Proxy(t,_g):t)}function fi(t){if(t instanceof IDBRequest)return Wk(t);if(Bp.has(t))return Bp.get(t);const e=t3(t);return e!==t&&(Bp.set(t,e),yx.set(e,t)),e}const $p=t=>yx.get(t);function n3(t,e,{blocked:n,upgrade:s,blocking:l,terminated:o}={}){const c=indexedDB.open(t,e),h=fi(c);return s&&c.addEventListener("upgradeneeded",m=>{s(fi(c.result),m.oldVersion,m.newVersion,fi(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),h.then(m=>{o&&m.addEventListener("close",()=>o()),l&&m.addEventListener("versionchange",f=>l(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const s3=["get","getKey","getAll","getAllKeys","count"],a3=["put","add","delete","clear"],qp=new Map;function pw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qp.get(e))return qp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=a3.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||s3.includes(n)))return;const o=async function(c,...h){const m=this.transaction(c,l?"readwrite":"readonly");let f=m.store;return s&&(f=f.index(h.shift())),(await Promise.all([f[n](...h),l&&m.done]))[0]};return qp.set(e,o),o}Zk(t=>({...t,get:(e,n,s)=>pw(e,n)||t.get(e,n,s),has:(e,n)=>!!pw(e,n)||t.has(e,n)}));class r3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(i3(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function i3(t){return t.getComponent()?.type==="VERSION"}const Sg="@firebase/app",gw="0.14.6";const vr=new xx("@firebase/app"),l3="@firebase/app-compat",o3="@firebase/analytics-compat",c3="@firebase/analytics",u3="@firebase/app-check-compat",d3="@firebase/app-check",h3="@firebase/auth",m3="@firebase/auth-compat",f3="@firebase/database",p3="@firebase/data-connect",g3="@firebase/database-compat",x3="@firebase/functions",y3="@firebase/functions-compat",b3="@firebase/installations",v3="@firebase/installations-compat",w3="@firebase/messaging",N3="@firebase/messaging-compat",j3="@firebase/performance",_3="@firebase/performance-compat",S3="@firebase/remote-config",E3="@firebase/remote-config-compat",T3="@firebase/storage",C3="@firebase/storage-compat",A3="@firebase/firestore",k3="@firebase/ai",I3="@firebase/firestore-compat",R3="firebase",D3="12.6.0";const Eg="[DEFAULT]",M3={[Sg]:"fire-core",[l3]:"fire-core-compat",[c3]:"fire-analytics",[o3]:"fire-analytics-compat",[d3]:"fire-app-check",[u3]:"fire-app-check-compat",[h3]:"fire-auth",[m3]:"fire-auth-compat",[f3]:"fire-rtdb",[p3]:"fire-data-connect",[g3]:"fire-rtdb-compat",[x3]:"fire-fn",[y3]:"fire-fn-compat",[b3]:"fire-iid",[v3]:"fire-iid-compat",[w3]:"fire-fcm",[N3]:"fire-fcm-compat",[j3]:"fire-perf",[_3]:"fire-perf-compat",[S3]:"fire-rc",[E3]:"fire-rc-compat",[T3]:"fire-gcs",[C3]:"fire-gcs-compat",[A3]:"fire-fst",[I3]:"fire-fst-compat",[k3]:"fire-vertex","fire-js":"fire-js",[R3]:"fire-js-all"};const Tm=new Map,O3=new Map,Tg=new Map;function xw(t,e){try{t.container.addComponent(e)}catch(n){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zo(t){const e=t.name;if(Tg.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;Tg.set(e,t);for(const n of Tm.values())xw(n,t);for(const n of O3.values())xw(n,t);return!0}function bx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function vs(t){return t==null?!1:t.settings!==void 0}const P3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pi=new id("app","Firebase",P3);class L3{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Nl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}}const ec=D3;function kj(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Eg,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw pi.create("bad-app-name",{appName:String(l)});if(n||(n=_j()),!n)throw pi.create("no-options");const o=Tm.get(l);if(o){if(ji(n,o.options)&&ji(s,o.config))return o;throw pi.create("duplicate-app",{appName:l})}const c=new $k(l);for(const m of Tg.values())c.addComponent(m);const h=new L3(n,s,c);return Tm.set(l,h),h}function Ij(t=Eg){const e=Tm.get(t);if(!e&&t===Eg&&_j())return kj();if(!e)throw pi.create("no-app",{appName:t});return e}function gi(t,e,n){let s=M3[t]??t;n&&(s+=`-${n}`);const l=s.match(/\s|\//),o=e.match(/\s|\//);if(l||o){const c=[`Unable to register library "${s}" with version "${e}":`];l&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(c.join(" "));return}zo(new Nl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const V3="firebase-heartbeat-database",U3=1,Lu="firebase-heartbeat-store";let Hp=null;function Rj(){return Hp||(Hp=n3(V3,U3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lu)}catch(n){console.warn(n)}}}}).catch(t=>{throw pi.create("idb-open",{originalErrorMessage:t.message})})),Hp}async function z3(t){try{const n=(await Rj()).transaction(Lu),s=await n.objectStore(Lu).get(Dj(t));return await n.done,s}catch(e){if(e instanceof Sr)vr.warn(e.message);else{const n=pi.create("idb-get",{originalErrorMessage:e?.message});vr.warn(n.message)}}}async function yw(t,e){try{const s=(await Rj()).transaction(Lu,"readwrite");await s.objectStore(Lu).put(e,Dj(t)),await s.done}catch(n){if(n instanceof Sr)vr.warn(n.message);else{const s=pi.create("idb-set",{originalErrorMessage:n?.message});vr.warn(s.message)}}}function Dj(t){return`${t.name}!${t.options.appId}`}const F3=1024,B3=30;class $3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new H3(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=bw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>B3){const l=G3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=bw(),{heartbeatsToSend:n,unsentEntries:s}=q3(this._heartbeatsCache.heartbeats),l=Em(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return vr.warn(e),""}}}function bw(){return new Date().toISOString().substring(0,10)}function q3(t,e=F3){const n=[];let s=t.slice();for(const l of t){const o=n.find(c=>c.agent===l.agent);if(o){if(o.dates.push(l.date),vw(n)>e){o.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),vw(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class H3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ik()?Rk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await z3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return yw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return yw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function vw(t){return Em(JSON.stringify({version:2,heartbeats:t})).length}function G3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function Y3(t){zo(new Nl("platform-logger",e=>new r3(e),"PRIVATE")),zo(new Nl("heartbeat",e=>new $3(e),"PRIVATE")),gi(Sg,gw,t),gi(Sg,gw,"esm2020"),gi("fire-js","")}Y3("");var Q3="firebase",K3="12.6.0";gi(Q3,K3,"app");function Mj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const X3=Mj,Oj=new id("auth","Firebase",Mj());const Cm=new xx("@firebase/auth");function W3(t,...e){Cm.logLevel<=tt.WARN&&Cm.warn(`Auth (${ec}): ${t}`,...e)}function cm(t,...e){Cm.logLevel<=tt.ERROR&&Cm.error(`Auth (${ec}): ${t}`,...e)}function Bs(t,...e){throw wx(t,...e)}function ia(t,...e){return wx(t,...e)}function vx(t,e,n){const s={...X3(),[e]:n};return new id("auth","Firebase",s).create(e,{appName:t.name})}function gr(t){return vx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function J3(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Bs(t,"argument-error"),vx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wx(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return Oj.create(t,...e)}function Pe(t,e,...n){if(!t)throw wx(e,...n)}function mr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cm(e),new Error(e)}function wr(t,e){t||mr(e)}function Cg(){return typeof self<"u"&&self.location?.href||""}function Z3(){return ww()==="http:"||ww()==="https:"}function ww(){return typeof self<"u"&&self.location?.protocol||null}function eI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Z3()||Tk()||"connection"in navigator)?navigator.onLine:!0}function tI(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class od{constructor(e,n){this.shortDelay=e,this.longDelay=n,wr(n>e,"Short delay should be less than long delay!"),this.isMobile=_k()||Ck()}get(){return eI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nx(t,e){wr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Pj{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const sI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aI=new od(3e4,6e4);function Er(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Tr(t,e,n,s,l={}){return Lj(t,l,async()=>{let o={},c={};s&&(e==="GET"?c=s:o={body:JSON.stringify(s)});const h=ld({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:m,...o};return Ek()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Zo(t.emulatorConfig.host)&&(f.credentials="include"),Pj.fetch()(await Vj(t,t.config.apiHost,n,h),f)})}async function Lj(t,e,n){t._canInitEmulator=!1;const s={...nI,...e};try{const l=new iI(t),o=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Yh(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[m,f]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yh(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Yh(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Yh(t,"user-disabled",c);const x=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw vx(t,x,f);Bs(t,x)}}catch(l){if(l instanceof Sr)throw l;Bs(t,"network-request-failed",{message:String(l)})}}async function cd(t,e,n,s,l={}){const o=await Tr(t,e,n,s,l);return"mfaPendingCredential"in o&&Bs(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function Vj(t,e,n,s){const l=`${e}${n}?${s}`,o=t,c=o.config.emulator?Nx(t.config,l):`${t.config.apiScheme}://${l}`;return sI.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function rI(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ia(this.auth,"network-request-failed")),aI.get())})}}function Yh(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=ia(t,e,s);return l.customData._tokenResponse=n,l}function Nw(t){return t!==void 0&&t.enterprise!==void 0}class lI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oI(t,e){return Tr(t,"GET","/v2/recaptchaConfig",Er(t,e))}async function cI(t,e){return Tr(t,"POST","/v1/accounts:delete",e)}async function Am(t,e){return Tr(t,"POST","/v1/accounts:lookup",e)}function Eu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uI(t,e=!1){const n=mn(t),s=await n.getIdToken(e),l=jx(s);Pe(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const o=typeof l.firebase=="object"?l.firebase:void 0,c=o?.sign_in_provider;return{claims:l,token:s,authTime:Eu(Gp(l.auth_time)),issuedAtTime:Eu(Gp(l.iat)),expirationTime:Eu(Gp(l.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Gp(t){return Number(t)*1e3}function jx(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return cm("JWT malformed, contained fewer than 3 sections"),null;try{const l=Nj(n);return l?JSON.parse(l):(cm("Failed to decode base64 JWT payload"),null)}catch(l){return cm("Caught error parsing JWT payload as JSON",l?.toString()),null}}function jw(t){const e=jx(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Vu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Sr&&dI(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function dI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class hI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ag{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function km(t){const e=t.auth,n=await t.getIdToken(),s=await Vu(t,Am(e,{idToken:n}));Pe(s?.users.length,e,"internal-error");const l=s.users[0];t._notifyReloadListener(l);const o=l.providerUserInfo?.length?Uj(l.providerUserInfo):[],c=fI(t.providerData,o),h=t.isAnonymous,m=!(t.email&&l.passwordHash)&&!c?.length,f=h?m:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Ag(l.createdAt,l.lastLoginAt),isAnonymous:f};Object.assign(t,x)}async function mI(t){const e=mn(t);await km(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fI(t,e){return[...t.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function Uj(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function pI(t,e){const n=await Lj(t,{},async()=>{const s=ld({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:o}=t.config,c=await Vj(t,l,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:s};return t.emulatorConfig&&Zo(t.emulatorConfig.host)&&(m.credentials="include"),Pj.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gI(t,e){return Tr(t,"POST","/v2/accounts:revokeToken",Er(t,e))}class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=jw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:o}=await pI(e,n);this.updateTokensAndExpiration(s,l,Number(o))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:o}=n,c=new Mo;return s&&(Pe(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),l&&(Pe(typeof l=="string","internal-error",{appName:e}),c.accessToken=l),o&&(Pe(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return mr("not implemented")}}function ii(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class aa{constructor({uid:e,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new hI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Ag(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Vu(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uI(this,e)}reload(){return mI(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new aa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await km(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vs(this.auth.app))return Promise.reject(gr(this.auth));const e=await this.getIdToken();return await Vu(this,cI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,l=n.email??void 0,o=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,m=n._redirectEventId??void 0,f=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:y,emailVerified:v,isAnonymous:w,providerData:S,stsTokenManager:U}=n;Pe(y&&U,e,"internal-error");const I=Mo.fromJSON(this.name,U);Pe(typeof y=="string",e,"internal-error"),ii(s,e.name),ii(l,e.name),Pe(typeof v=="boolean",e,"internal-error"),Pe(typeof w=="boolean",e,"internal-error"),ii(o,e.name),ii(c,e.name),ii(h,e.name),ii(m,e.name),ii(f,e.name),ii(x,e.name);const z=new aa({uid:y,auth:e,email:l,emailVerified:v,displayName:s,isAnonymous:w,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:I,createdAt:f,lastLoginAt:x});return S&&Array.isArray(S)&&(z.providerData=S.map(L=>({...L}))),m&&(z._redirectEventId=m),z}static async _fromIdTokenResponse(e,n,s=!1){const l=new Mo;l.updateFromServerResponse(n);const o=new aa({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await km(o),o}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];Pe(l.localId!==void 0,"internal-error");const o=l.providerUserInfo!==void 0?Uj(l.providerUserInfo):[],c=!(l.email&&l.passwordHash)&&!o?.length,h=new Mo;h.updateFromIdToken(s);const m=new aa({uid:l.localId,auth:e,stsTokenManager:h,isAnonymous:c}),f={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:o,metadata:new Ag(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!o?.length};return Object.assign(m,f),m}}const _w=new Map;function fr(t){wr(t instanceof Function,"Expected a class definition");let e=_w.get(t);return e?(wr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_w.set(t,e),e)}class zj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zj.type="NONE";const Sw=zj;function um(t,e,n){return`firebase:${t}:${e}:${n}`}class Oo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:o}=this.auth;this.fullUserKey=um(this.userKey,l.apiKey,o),this.fullPersistenceKey=um("persistence",l.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Am(this.auth,{idToken:e}).catch(()=>{});return n?aa._fromGetAccountInfoResponse(this.auth,n,e):null}return aa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Oo(fr(Sw),e,s);const l=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=l[0]||fr(Sw);const c=um(s,e.config.apiKey,e.name);let h=null;for(const f of n)try{const x=await f._get(c);if(x){let y;if(typeof x=="string"){const v=await Am(e,{idToken:x}).catch(()=>{});if(!v)break;y=await aa._fromGetAccountInfoResponse(e,v,x)}else y=aa._fromJSON(e,x);f!==o&&(h=y),o=f;break}}catch{}const m=l.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!m.length?new Oo(o,e,s):(o=m[0],h&&await o._set(c,h.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(c)}catch{}})),new Oo(o,e,s))}}function Ew(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Gj(e))return"Blackberry";if(Yj(e))return"Webos";if(Bj(e))return"Safari";if((e.includes("chrome/")||$j(e))&&!e.includes("edge/"))return"Chrome";if(Hj(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function Fj(t=$n()){return/firefox\//i.test(t)}function Bj(t=$n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $j(t=$n()){return/crios\//i.test(t)}function qj(t=$n()){return/iemobile/i.test(t)}function Hj(t=$n()){return/android/i.test(t)}function Gj(t=$n()){return/blackberry/i.test(t)}function Yj(t=$n()){return/webos/i.test(t)}function _x(t=$n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xI(t=$n()){return _x(t)&&!!window.navigator?.standalone}function yI(){return Ak()&&document.documentMode===10}function Qj(t=$n()){return _x(t)||Hj(t)||Yj(t)||Gj(t)||/windows phone/i.test(t)||qj(t)}function Kj(t,e=[]){let n;switch(t){case"Browser":n=Ew($n());break;case"Worker":n=`${Ew($n())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ec}/${s}`}class bI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=o=>new Promise((c,h)=>{try{const m=e(o);c(m)}catch(m){h(m)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function vI(t,e={}){return Tr(t,"GET","/v2/passwordPolicy",Er(t,e))}const wI=6;class NI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??wI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class jI{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tw(this),this.idTokenSubscription=new Tw(this),this.beforeStateQueue=new bI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Oj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Oo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Am(this,{idToken:e}),s=await aa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(vs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===c)&&h?.user&&(s=h.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await km(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vs(this.app))return Promise.reject(gr(this));const n=e?mn(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vs(this.app)?Promise.reject(gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vs(this.app)?Promise.reject(gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vI(this),n=new NI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new id("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await gI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fr(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,l);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(vs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&W3(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ri(t){return mn(t)}class Tw{constructor(e){this.auth=e,this.observer=null,this.addObserver=Lk(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _I(t){hf=t}function Xj(t){return hf.loadJS(t)}function SI(){return hf.recaptchaEnterpriseScript}function EI(){return hf.gapiScript}function TI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class CI{constructor(){this.enterprise=new AI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class AI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const kI="recaptcha-enterprise",Wj="NO_RECAPTCHA";class II{constructor(e){this.type=kI,this.auth=Ri(e)}async verify(e="verify",n=!1){async function s(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{oI(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const f=new lI(m);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,c(f.siteKey)}}).catch(m=>{h(m)})})}function l(o,c,h){const m=window.grecaptcha;Nw(m)?m.enterprise.ready(()=>{m.enterprise.execute(o,{action:e}).then(f=>{c(f)}).catch(()=>{c(Wj)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CI().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{s(this.auth).then(h=>{if(!n&&Nw(window.grecaptcha))l(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=SI();m.length!==0&&(m+=h),Xj(m).then(()=>{l(h,o,c)}).catch(f=>{c(f)})}}).catch(h=>{c(h)})})}}async function Cw(t,e,n,s=!1,l=!1){const o=new II(t);let c;if(l)c=Wj;else try{c=await o.verify(n)}catch{c=await o.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const m=h.phoneEnrollmentInfo.phoneNumber,f=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const m=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function kg(t,e,n,s,l){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Cw(t,e,n,n==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Cw(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(o)})}function RI(t,e){const n=bx(t,"auth");if(n.isInitialized()){const l=n.getImmediate(),o=n.getOptions();if(ji(o,e??{}))return l;Bs(l,"already-initialized")}return n.initialize({options:e})}function DI(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(fr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function MI(t,e,n){const s=Ri(t);Pe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,o=Jj(e),{host:c,port:h}=OI(e),m=h===null?"":`:${h}`,f={url:`${o}//${c}${m}/`},x=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Pe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Pe(ji(f,s.config.emulator)&&ji(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=f,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,Zo(c)?(Ej(`${o}//${c}${m}`),Tj("Auth",!0)):PI()}function Jj(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function OI(t){const e=Jj(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const o=l[1];return{host:o,port:Aw(s.substr(o.length+1))}}else{const[o,c]=s.split(":");return{host:o,port:Aw(c)}}}function Aw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function PI(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Sx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mr("not implemented")}_getIdTokenResponse(e){return mr("not implemented")}_linkToIdToken(e,n){return mr("not implemented")}_getReauthenticationResolver(e){return mr("not implemented")}}async function LI(t,e){return Tr(t,"POST","/v1/accounts:signUp",e)}async function VI(t,e){return cd(t,"POST","/v1/accounts:signInWithPassword",Er(t,e))}async function UI(t,e){return Tr(t,"POST","/v1/accounts:sendOobCode",Er(t,e))}async function zI(t,e){return UI(t,e)}async function FI(t,e){return cd(t,"POST","/v1/accounts:signInWithEmailLink",Er(t,e))}async function BI(t,e){return cd(t,"POST","/v1/accounts:signInWithEmailLink",Er(t,e))}class Uu extends Sx{constructor(e,n,s,l=null){super("password",s),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new Uu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Uu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kg(e,n,"signInWithPassword",VI);case"emailLink":return FI(e,{email:this._email,oobCode:this._password});default:Bs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kg(e,s,"signUpPassword",LI);case"emailLink":return BI(e,{idToken:n,email:this._email,oobCode:this._password});default:Bs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Po(t,e){return cd(t,"POST","/v1/accounts:signInWithIdp",Er(t,e))}const $I="http://localhost";class jl extends Sx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new jl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...o}=n;if(!s||!l)return null;const c=new jl(s,l);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Po(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Po(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Po(e,n)}buildRequest(){const e={requestUri:$I,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ld(n)}return e}}function qI(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HI(t){const e=bu(vu(t)).link,n=e?bu(vu(e)).deep_link_id:null,s=bu(vu(t)).deep_link_id;return(s?bu(vu(s)).link:null)||s||n||e||t}class Ex{constructor(e){const n=bu(vu(e)),s=n.apiKey??null,l=n.oobCode??null,o=qI(n.mode??null);Pe(s&&l&&o,"argument-error"),this.apiKey=s,this.operation=o,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=HI(e);try{return new Ex(n)}catch{return null}}}class tc{constructor(){this.providerId=tc.PROVIDER_ID}static credential(e,n){return Uu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Ex.parseLink(n);return Pe(s,"argument-error"),Uu._fromEmailAndCode(e,s.code,s.tenantId)}}tc.PROVIDER_ID="password";tc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Tx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ud extends Tx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ci extends ud{constructor(){super("facebook.com")}static credential(e){return jl._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";class hr extends ud{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return jl._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return hr.credential(n,s)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";class ui extends ud{constructor(){super("github.com")}static credential(e){return jl._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com";ui.PROVIDER_ID="github.com";class di extends ud{constructor(){super("twitter.com")}static credential(e,n){return jl._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return di.credential(n,s)}catch{return null}}}di.TWITTER_SIGN_IN_METHOD="twitter.com";di.PROVIDER_ID="twitter.com";async function GI(t,e){return cd(t,"POST","/v1/accounts:signUp",Er(t,e))}class _l{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const o=await aa._fromIdTokenResponse(e,s,l),c=kw(s);return new _l({user:o,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=kw(s);return new _l({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function kw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Im extends Sr{constructor(e,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Im.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new Im(e,n,s,l)}}function Zj(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Im._fromErrorAndOperation(t,o,e,s):o})}async function YI(t,e,n=!1){const s=await Vu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _l._forOperation(t,"link",s)}async function QI(t,e,n=!1){const{auth:s}=t;if(vs(s.app))return Promise.reject(gr(s));const l="reauthenticate";try{const o=await Vu(t,Zj(s,l,e,t),n);Pe(o.idToken,s,"internal-error");const c=jx(o.idToken);Pe(c,s,"internal-error");const{sub:h}=c;return Pe(t.uid===h,s,"user-mismatch"),_l._forOperation(t,l,o)}catch(o){throw o?.code==="auth/user-not-found"&&Bs(s,"user-mismatch"),o}}async function e5(t,e,n=!1){if(vs(t.app))return Promise.reject(gr(t));const s="signIn",l=await Zj(t,s,e),o=await _l._fromIdTokenResponse(t,s,l);return n||await t._updateCurrentUser(o.user),o}async function KI(t,e){return e5(Ri(t),e)}async function t5(t){const e=Ri(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function XI(t,e,n){if(vs(t.app))return Promise.reject(gr(t));const s=Ri(t),c=await kg(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GI).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&t5(t),m}),h=await _l._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(h.user),h}function WI(t,e,n){return vs(t.app)?Promise.reject(gr(t)):KI(mn(t),tc.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&t5(t),s})}async function JI(t,e){const n=mn(t),l={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:o}=await zI(n.auth,l);o!==t.email&&await t.reload()}function ZI(t,e,n,s){return mn(t).onIdTokenChanged(e,n,s)}function eR(t,e,n){return mn(t).beforeAuthStateChanged(e,n)}function tR(t,e,n,s){return mn(t).onAuthStateChanged(e,n,s)}function nR(t){return mn(t).signOut()}const Rm="__sak";class n5{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rm,"1"),this.storage.removeItem(Rm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const sR=1e3,aR=10;class s5 extends n5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Qj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},o=this.storage.getItem(s);yI()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,aR):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},sR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}s5.type="LOCAL";const rR=s5;class a5 extends n5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}a5.type="SESSION";const r5=a5;function iR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new mf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:o}=n.data,c=this.handlersMap[l];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const h=Array.from(c).map(async f=>f(n.origin,o)),m=await iR(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mf.receivers=[];function Cx(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class lR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let o,c;return new Promise((h,m)=>{const f=Cx("",20);l.port1.start();const x=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:l,onMessage(y){const v=y;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(x),o=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(v.data.response);break;default:clearTimeout(x),clearTimeout(o),m(new Error("invalid_response"));break}}},this.handlers.add(c),l.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[l.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Oa(){return window}function oR(t){Oa().location.href=t}function i5(){return typeof Oa().WorkerGlobalScope<"u"&&typeof Oa().importScripts=="function"}async function cR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uR(){return navigator?.serviceWorker?.controller||null}function dR(){return i5()?self:null}const l5="firebaseLocalStorageDb",hR=1,Dm="firebaseLocalStorage",o5="fbase_key";class dd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ff(t,e){return t.transaction([Dm],e?"readwrite":"readonly").objectStore(Dm)}function mR(){const t=indexedDB.deleteDatabase(l5);return new dd(t).toPromise()}function Ig(){const t=indexedDB.open(l5,hR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Dm,{keyPath:o5})}catch(l){n(l)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Dm)?e(s):(s.close(),await mR(),e(await Ig()))})})}async function Iw(t,e,n){const s=ff(t,!0).put({[o5]:e,value:n});return new dd(s).toPromise()}async function fR(t,e){const n=ff(t,!1).get(e),s=await new dd(n).toPromise();return s===void 0?null:s.value}function Rw(t,e){const n=ff(t,!0).delete(e);return new dd(n).toPromise()}const pR=800,gR=3;class c5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ig(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>gR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return i5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mf._getInstance(dR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await cR(),!this.activeServiceWorker)return;this.sender=new lR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ig();return await Iw(e,Rm,"1"),await Rw(e,Rm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Iw(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>fR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Rw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const o=ff(l,!1).getAll();return new dd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:o}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(o)&&(this.notifyListeners(l,o),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}c5.type="LOCAL";const xR=c5;new od(3e4,6e4);function u5(t,e){return e?fr(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Ax extends Sx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yR(t){return e5(t.auth,new Ax(t),t.bypassAuthState)}function bR(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),QI(n,new Ax(t),t.bypassAuthState)}async function vR(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),YI(n,new Ax(t),t.bypassAuthState)}class d5{constructor(e,n,s,l,o=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:o||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yR;case"linkViaPopup":case"linkViaRedirect":return vR;case"reauthViaPopup":case"reauthViaRedirect":return bR;default:Bs(this.auth,"internal-error")}}resolve(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wR=new od(2e3,1e4);async function NR(t,e,n){if(vs(t.app))return Promise.reject(ia(t,"operation-not-supported-in-this-environment"));const s=Ri(t);J3(t,e,Tx);const l=u5(s,n);return new pl(s,"signInViaPopup",e,l).executeNotNull()}class pl extends d5{constructor(e,n,s,l,o){super(e,n,l,o),this.provider=s,this.authWindow=null,this.pollId=null,pl.currentPopupAction&&pl.currentPopupAction.cancel(),pl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){wr(this.filter.length===1,"Popup operations only handle one event");const e=Cx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ia(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ia(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ia(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wR.get())};e()}}pl.currentPopupAction=null;const jR="pendingRedirect",dm=new Map;class _R extends d5{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=dm.get(this.auth._key());if(!e){try{const s=await SR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}dm.set(this.auth._key(),e)}return this.bypassAuthState||dm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SR(t,e){const n=CR(e),s=TR(t);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function ER(t,e){dm.set(t._key(),e)}function TR(t){return fr(t._redirectPersistence)}function CR(t){return um(jR,t.config.apiKey,t.name)}async function AR(t,e,n=!1){if(vs(t.app))return Promise.reject(gr(t));const s=Ri(t),l=u5(s,e),c=await new _R(s,l,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const kR=600*1e3;class IR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!h5(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ia(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dw(e))}saveEventToCache(e){this.cachedEventUids.add(Dw(e)),this.lastProcessedEventTime=Date.now()}}function Dw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function h5({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function RR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return h5(t);default:return!1}}async function DR(t,e={}){return Tr(t,"GET","/v1/projects",e)}const MR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OR=/^https?/;async function PR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await DR(t);for(const n of e)try{if(LR(n))return}catch{}Bs(t,"unauthorized-domain")}function LR(t){const e=Cg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!OR.test(n))return!1;if(MR.test(t))return s===t;const l=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const VR=new od(3e4,6e4);function Mw(){const t=Oa().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UR(t){return new Promise((e,n)=>{function s(){Mw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Mw(),n(ia(t,"network-request-failed"))},timeout:VR.get()})}if(Oa().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Oa().gapi?.load)s();else{const l=TI("iframefcb");return Oa()[l]=()=>{gapi.load?s():n(ia(t,"network-request-failed"))},Xj(`${EI()}?onload=${l}`).catch(o=>n(o))}}).catch(e=>{throw hm=null,e})}let hm=null;function zR(t){return hm=hm||UR(t),hm}const FR=new od(5e3,15e3),BR="__/auth/iframe",$R="emulator/auth/iframe",qR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GR(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Nx(e,$R):`https://${t.config.authDomain}/${BR}`,s={apiKey:e.apiKey,appName:t.name,v:ec},l=HR.get(t.config.apiHost);l&&(s.eid=l);const o=t._getFrameworks();return o.length&&(s.fw=o.join(",")),`${n}?${ld(s).slice(1)}`}async function YR(t){const e=await zR(t),n=Oa().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:GR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qR,dontclear:!0},s=>new Promise(async(l,o)=>{await s.restyle({setHideOnLeave:!1});const c=ia(t,"network-request-failed"),h=Oa().setTimeout(()=>{o(c)},FR.get());function m(){Oa().clearTimeout(h),l(s)}s.ping(m).then(m,()=>{o(c)})}))}const QR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KR=500,XR=600,WR="_blank",JR="http://localhost";class Ow{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZR(t,e,n,s=KR,l=XR){const o=Math.max((window.screen.availHeight-l)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const m={...QR,width:s.toString(),height:l.toString(),top:o,left:c},f=$n().toLowerCase();n&&(h=$j(f)?WR:n),Fj(f)&&(e=e||JR,m.scrollbars="yes");const x=Object.entries(m).reduce((v,[w,S])=>`${v}${w}=${S},`,"");if(xI(f)&&h!=="_self")return e6(e||"",h),new Ow(null);const y=window.open(e||"",h,x);Pe(y,t,"popup-blocked");try{y.focus()}catch{}return new Ow(y)}function e6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const t6="__/auth/handler",n6="emulator/auth/handler",s6=encodeURIComponent("fac");async function Pw(t,e,n,s,l,o){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:ec,eventId:l};if(e instanceof Tx){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",Pk(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,y]of Object.entries({}))c[x]=y}if(e instanceof ud){const x=e.getScopes().filter(y=>y!=="");x.length>0&&(c.scopes=x.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const x of Object.keys(h))h[x]===void 0&&delete h[x];const m=await t._getAppCheckToken(),f=m?`#${s6}=${encodeURIComponent(m)}`:"";return`${a6(t)}?${ld(h).slice(1)}${f}`}function a6({config:t}){return t.emulator?Nx(t,n6):`https://${t.authDomain}/${t6}`}const Yp="webStorageSupport";class r6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=r5,this._completeRedirectFn=AR,this._overrideRedirectResult=ER}async _openPopup(e,n,s,l){wr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Pw(e,n,s,Cg(),l);return ZR(e,o,Cx())}async _openRedirect(e,n,s,l){await this._originValidation(e);const o=await Pw(e,n,s,Cg(),l);return oR(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:o}=this.eventManagers[n];return l?Promise.resolve(l):(wr(o,"If manager is not set, promise should be"),o)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await YR(e),s=new IR(e);return n.register("authEvent",l=>(Pe(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yp,{type:Yp},l=>{const o=l?.[0]?.[Yp];o!==void 0&&n(!!o),Bs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Qj()||Bj()||_x()}}const i6=r6;var Lw="@firebase/auth",Vw="1.11.1";class l6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function o6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c6(t){zo(new Nl("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=s.options;Pe(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kj(t)},f=new jI(s,l,o,m);return DI(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),zo(new Nl("auth-internal",e=>{const n=Ri(e.getProvider("auth").getImmediate());return(s=>new l6(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gi(Lw,Vw,o6(t)),gi(Lw,Vw,"esm2020")}const u6=300,d6=Sj("authIdTokenMaxAge")||u6;let Uw=null;const h6=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>d6)return;const l=n?.token;Uw!==l&&(Uw=l,await fetch(t,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function m6(t=Ij()){const e=bx(t,"auth");if(e.isInitialized())return e.getImmediate();const n=RI(t,{popupRedirectResolver:i6,persistence:[xR,rR,r5]}),s=Sj("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(s,location.origin);if(location.origin===o.origin){const c=h6(o.toString());eR(n,c,()=>c(n.currentUser)),ZI(n,h=>c(h))}}const l=jj("auth");return l&&MI(n,`http://${l}`),n}function f6(){return document.getElementsByTagName("head")?.[0]??document}_I({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=l=>{const o=ia("internal-error");o.customData=l,n(o)},s.type="text/javascript",s.charset="UTF-8",f6().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c6("Browser");var zw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xi,m5;(function(){var t;function e(D,C){function O(){}O.prototype=C.prototype,D.F=C.prototype,D.prototype=new O,D.prototype.constructor=D,D.D=function(E,T,M){for(var R=Array(arguments.length-2),te=2;te<arguments.length;te++)R[te-2]=arguments[te];return C.prototype[T].apply(E,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,C,O){O||(O=0);const E=Array(16);if(typeof C=="string")for(var T=0;T<16;++T)E[T]=C.charCodeAt(O++)|C.charCodeAt(O++)<<8|C.charCodeAt(O++)<<16|C.charCodeAt(O++)<<24;else for(T=0;T<16;++T)E[T]=C[O++]|C[O++]<<8|C[O++]<<16|C[O++]<<24;C=D.g[0],O=D.g[1],T=D.g[2];let M=D.g[3],R;R=C+(M^O&(T^M))+E[0]+3614090360&4294967295,C=O+(R<<7&4294967295|R>>>25),R=M+(T^C&(O^T))+E[1]+3905402710&4294967295,M=C+(R<<12&4294967295|R>>>20),R=T+(O^M&(C^O))+E[2]+606105819&4294967295,T=M+(R<<17&4294967295|R>>>15),R=O+(C^T&(M^C))+E[3]+3250441966&4294967295,O=T+(R<<22&4294967295|R>>>10),R=C+(M^O&(T^M))+E[4]+4118548399&4294967295,C=O+(R<<7&4294967295|R>>>25),R=M+(T^C&(O^T))+E[5]+1200080426&4294967295,M=C+(R<<12&4294967295|R>>>20),R=T+(O^M&(C^O))+E[6]+2821735955&4294967295,T=M+(R<<17&4294967295|R>>>15),R=O+(C^T&(M^C))+E[7]+4249261313&4294967295,O=T+(R<<22&4294967295|R>>>10),R=C+(M^O&(T^M))+E[8]+1770035416&4294967295,C=O+(R<<7&4294967295|R>>>25),R=M+(T^C&(O^T))+E[9]+2336552879&4294967295,M=C+(R<<12&4294967295|R>>>20),R=T+(O^M&(C^O))+E[10]+4294925233&4294967295,T=M+(R<<17&4294967295|R>>>15),R=O+(C^T&(M^C))+E[11]+2304563134&4294967295,O=T+(R<<22&4294967295|R>>>10),R=C+(M^O&(T^M))+E[12]+1804603682&4294967295,C=O+(R<<7&4294967295|R>>>25),R=M+(T^C&(O^T))+E[13]+4254626195&4294967295,M=C+(R<<12&4294967295|R>>>20),R=T+(O^M&(C^O))+E[14]+2792965006&4294967295,T=M+(R<<17&4294967295|R>>>15),R=O+(C^T&(M^C))+E[15]+1236535329&4294967295,O=T+(R<<22&4294967295|R>>>10),R=C+(T^M&(O^T))+E[1]+4129170786&4294967295,C=O+(R<<5&4294967295|R>>>27),R=M+(O^T&(C^O))+E[6]+3225465664&4294967295,M=C+(R<<9&4294967295|R>>>23),R=T+(C^O&(M^C))+E[11]+643717713&4294967295,T=M+(R<<14&4294967295|R>>>18),R=O+(M^C&(T^M))+E[0]+3921069994&4294967295,O=T+(R<<20&4294967295|R>>>12),R=C+(T^M&(O^T))+E[5]+3593408605&4294967295,C=O+(R<<5&4294967295|R>>>27),R=M+(O^T&(C^O))+E[10]+38016083&4294967295,M=C+(R<<9&4294967295|R>>>23),R=T+(C^O&(M^C))+E[15]+3634488961&4294967295,T=M+(R<<14&4294967295|R>>>18),R=O+(M^C&(T^M))+E[4]+3889429448&4294967295,O=T+(R<<20&4294967295|R>>>12),R=C+(T^M&(O^T))+E[9]+568446438&4294967295,C=O+(R<<5&4294967295|R>>>27),R=M+(O^T&(C^O))+E[14]+3275163606&4294967295,M=C+(R<<9&4294967295|R>>>23),R=T+(C^O&(M^C))+E[3]+4107603335&4294967295,T=M+(R<<14&4294967295|R>>>18),R=O+(M^C&(T^M))+E[8]+1163531501&4294967295,O=T+(R<<20&4294967295|R>>>12),R=C+(T^M&(O^T))+E[13]+2850285829&4294967295,C=O+(R<<5&4294967295|R>>>27),R=M+(O^T&(C^O))+E[2]+4243563512&4294967295,M=C+(R<<9&4294967295|R>>>23),R=T+(C^O&(M^C))+E[7]+1735328473&4294967295,T=M+(R<<14&4294967295|R>>>18),R=O+(M^C&(T^M))+E[12]+2368359562&4294967295,O=T+(R<<20&4294967295|R>>>12),R=C+(O^T^M)+E[5]+4294588738&4294967295,C=O+(R<<4&4294967295|R>>>28),R=M+(C^O^T)+E[8]+2272392833&4294967295,M=C+(R<<11&4294967295|R>>>21),R=T+(M^C^O)+E[11]+1839030562&4294967295,T=M+(R<<16&4294967295|R>>>16),R=O+(T^M^C)+E[14]+4259657740&4294967295,O=T+(R<<23&4294967295|R>>>9),R=C+(O^T^M)+E[1]+2763975236&4294967295,C=O+(R<<4&4294967295|R>>>28),R=M+(C^O^T)+E[4]+1272893353&4294967295,M=C+(R<<11&4294967295|R>>>21),R=T+(M^C^O)+E[7]+4139469664&4294967295,T=M+(R<<16&4294967295|R>>>16),R=O+(T^M^C)+E[10]+3200236656&4294967295,O=T+(R<<23&4294967295|R>>>9),R=C+(O^T^M)+E[13]+681279174&4294967295,C=O+(R<<4&4294967295|R>>>28),R=M+(C^O^T)+E[0]+3936430074&4294967295,M=C+(R<<11&4294967295|R>>>21),R=T+(M^C^O)+E[3]+3572445317&4294967295,T=M+(R<<16&4294967295|R>>>16),R=O+(T^M^C)+E[6]+76029189&4294967295,O=T+(R<<23&4294967295|R>>>9),R=C+(O^T^M)+E[9]+3654602809&4294967295,C=O+(R<<4&4294967295|R>>>28),R=M+(C^O^T)+E[12]+3873151461&4294967295,M=C+(R<<11&4294967295|R>>>21),R=T+(M^C^O)+E[15]+530742520&4294967295,T=M+(R<<16&4294967295|R>>>16),R=O+(T^M^C)+E[2]+3299628645&4294967295,O=T+(R<<23&4294967295|R>>>9),R=C+(T^(O|~M))+E[0]+4096336452&4294967295,C=O+(R<<6&4294967295|R>>>26),R=M+(O^(C|~T))+E[7]+1126891415&4294967295,M=C+(R<<10&4294967295|R>>>22),R=T+(C^(M|~O))+E[14]+2878612391&4294967295,T=M+(R<<15&4294967295|R>>>17),R=O+(M^(T|~C))+E[5]+4237533241&4294967295,O=T+(R<<21&4294967295|R>>>11),R=C+(T^(O|~M))+E[12]+1700485571&4294967295,C=O+(R<<6&4294967295|R>>>26),R=M+(O^(C|~T))+E[3]+2399980690&4294967295,M=C+(R<<10&4294967295|R>>>22),R=T+(C^(M|~O))+E[10]+4293915773&4294967295,T=M+(R<<15&4294967295|R>>>17),R=O+(M^(T|~C))+E[1]+2240044497&4294967295,O=T+(R<<21&4294967295|R>>>11),R=C+(T^(O|~M))+E[8]+1873313359&4294967295,C=O+(R<<6&4294967295|R>>>26),R=M+(O^(C|~T))+E[15]+4264355552&4294967295,M=C+(R<<10&4294967295|R>>>22),R=T+(C^(M|~O))+E[6]+2734768916&4294967295,T=M+(R<<15&4294967295|R>>>17),R=O+(M^(T|~C))+E[13]+1309151649&4294967295,O=T+(R<<21&4294967295|R>>>11),R=C+(T^(O|~M))+E[4]+4149444226&4294967295,C=O+(R<<6&4294967295|R>>>26),R=M+(O^(C|~T))+E[11]+3174756917&4294967295,M=C+(R<<10&4294967295|R>>>22),R=T+(C^(M|~O))+E[2]+718787259&4294967295,T=M+(R<<15&4294967295|R>>>17),R=O+(M^(T|~C))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(T+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+M&4294967295}s.prototype.v=function(D,C){C===void 0&&(C=D.length);const O=C-this.blockSize,E=this.C;let T=this.h,M=0;for(;M<C;){if(T==0)for(;M<=O;)l(this,D,M),M+=this.blockSize;if(typeof D=="string"){for(;M<C;)if(E[T++]=D.charCodeAt(M++),T==this.blockSize){l(this,E),T=0;break}}else for(;M<C;)if(E[T++]=D[M++],T==this.blockSize){l(this,E),T=0;break}}this.h=T,this.o+=C},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;C=this.o*8;for(var O=D.length-8;O<D.length;++O)D[O]=C&255,C/=256;for(this.v(D),D=Array(16),C=0,O=0;O<4;++O)for(let E=0;E<32;E+=8)D[C++]=this.g[O]>>>E&255;return D};function o(D,C){var O=h;return Object.prototype.hasOwnProperty.call(O,D)?O[D]:O[D]=C(D)}function c(D,C){this.h=C;const O=[];let E=!0;for(let T=D.length-1;T>=0;T--){const M=D[T]|0;E&&M==C||(O[T]=M,E=!1)}this.g=O}var h={};function m(D){return-128<=D&&D<128?o(D,function(C){return new c([C|0],C<0?-1:0)}):new c([D|0],D<0?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return y;if(D<0)return I(f(-D));const C=[];let O=1;for(let E=0;D>=O;E++)C[E]=D/O|0,O*=4294967296;return new c(C,0)}function x(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return I(x(D.substring(1),C));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=f(Math.pow(C,8));let E=y;for(let M=0;M<D.length;M+=8){var T=Math.min(8,D.length-M);const R=parseInt(D.substring(M,M+T),C);T<8?(T=f(Math.pow(C,T)),E=E.j(T).add(f(R))):(E=E.j(O),E=E.add(f(R)))}return E}var y=m(0),v=m(1),w=m(16777216);t=c.prototype,t.m=function(){if(U(this))return-I(this).m();let D=0,C=1;for(let O=0;O<this.g.length;O++){const E=this.i(O);D+=(E>=0?E:4294967296+E)*C,C*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(U(this))return"-"+I(this).toString(D);const C=f(Math.pow(D,6));var O=this;let E="";for(;;){const T=K(O,C).g;O=z(O,T.j(C));let M=((O.g.length>0?O.g[0]:O.h)>>>0).toString(D);if(O=T,S(O))return M+E;for(;M.length<6;)M="0"+M;E=M+E}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(let C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function U(D){return D.h==-1}t.l=function(D){return D=z(this,D),U(D)?-1:S(D)?0:1};function I(D){const C=D.g.length,O=[];for(let E=0;E<C;E++)O[E]=~D.g[E];return new c(O,~D.h).add(v)}t.abs=function(){return U(this)?I(this):this},t.add=function(D){const C=Math.max(this.g.length,D.g.length),O=[];let E=0;for(let T=0;T<=C;T++){let M=E+(this.i(T)&65535)+(D.i(T)&65535),R=(M>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);E=R>>>16,M&=65535,R&=65535,O[T]=R<<16|M}return new c(O,O[O.length-1]&-2147483648?-1:0)};function z(D,C){return D.add(I(C))}t.j=function(D){if(S(this)||S(D))return y;if(U(this))return U(D)?I(this).j(I(D)):I(I(this).j(D));if(U(D))return I(this.j(I(D)));if(this.l(w)<0&&D.l(w)<0)return f(this.m()*D.m());const C=this.g.length+D.g.length,O=[];for(var E=0;E<2*C;E++)O[E]=0;for(E=0;E<this.g.length;E++)for(let T=0;T<D.g.length;T++){const M=this.i(E)>>>16,R=this.i(E)&65535,te=D.i(T)>>>16,J=D.i(T)&65535;O[2*E+2*T]+=R*J,L(O,2*E+2*T),O[2*E+2*T+1]+=M*J,L(O,2*E+2*T+1),O[2*E+2*T+1]+=R*te,L(O,2*E+2*T+1),O[2*E+2*T+2]+=M*te,L(O,2*E+2*T+2)}for(D=0;D<C;D++)O[D]=O[2*D+1]<<16|O[2*D];for(D=C;D<2*C;D++)O[D]=0;return new c(O,0)};function L(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function q(D,C){this.g=D,this.h=C}function K(D,C){if(S(C))throw Error("division by zero");if(S(D))return new q(y,y);if(U(D))return C=K(I(D),C),new q(I(C.g),I(C.h));if(U(C))return C=K(D,I(C)),new q(I(C.g),C.h);if(D.g.length>30){if(U(D)||U(C))throw Error("slowDivide_ only works with positive integers.");for(var O=v,E=C;E.l(D)<=0;)O=se(O),E=se(E);var T=G(O,1),M=G(E,1);for(E=G(E,2),O=G(O,2);!S(E);){var R=M.add(E);R.l(D)<=0&&(T=T.add(O),M=R),E=G(E,1),O=G(O,1)}return C=z(D,T.j(C)),new q(T,C)}for(T=y;D.l(C)>=0;){for(O=Math.max(1,Math.floor(D.m()/C.m())),E=Math.ceil(Math.log(O)/Math.LN2),E=E<=48?1:Math.pow(2,E-48),M=f(O),R=M.j(C);U(R)||R.l(D)>0;)O-=E,M=f(O),R=M.j(C);S(M)&&(M=v),T=T.add(M),D=z(D,R)}return new q(T,D)}t.B=function(D){return K(this,D).h},t.and=function(D){const C=Math.max(this.g.length,D.g.length),O=[];for(let E=0;E<C;E++)O[E]=this.i(E)&D.i(E);return new c(O,this.h&D.h)},t.or=function(D){const C=Math.max(this.g.length,D.g.length),O=[];for(let E=0;E<C;E++)O[E]=this.i(E)|D.i(E);return new c(O,this.h|D.h)},t.xor=function(D){const C=Math.max(this.g.length,D.g.length),O=[];for(let E=0;E<C;E++)O[E]=this.i(E)^D.i(E);return new c(O,this.h^D.h)};function se(D){const C=D.g.length+1,O=[];for(let E=0;E<C;E++)O[E]=D.i(E)<<1|D.i(E-1)>>>31;return new c(O,D.h)}function G(D,C){const O=C>>5;C%=32;const E=D.g.length-O,T=[];for(let M=0;M<E;M++)T[M]=C>0?D.i(M+O)>>>C|D.i(M+O+1)<<32-C:D.i(M+O);return new c(T,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,m5=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=x,xi=c}).apply(typeof zw<"u"?zw:typeof self<"u"?self:typeof window<"u"?window:{});var Qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var f5,wu,p5,mm,Rg,g5,x5,y5;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qh=="object"&&Qh];for(var N=0;N<p.length;++N){var _=p[N];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function l(p,N){if(N)e:{var _=s;p=p.split(".");for(var V=0;V<p.length-1;V++){var X=p[V];if(!(X in _))break e;_=_[X]}p=p[p.length-1],V=_[p],N=N(V),N!=V&&N!=null&&e(_,p,{configurable:!0,writable:!0,value:N})}}l("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(p){return p||function(N){var _=[],V;for(V in N)Object.prototype.hasOwnProperty.call(N,V)&&_.push([V,N[V]]);return _}});var o=o||{},c=this||self;function h(p){var N=typeof p;return N=="object"&&p!=null||N=="function"}function m(p,N,_){return p.call.apply(p.bind,arguments)}function f(p,N,_){return f=m,f.apply(null,arguments)}function x(p,N){var _=Array.prototype.slice.call(arguments,1);return function(){var V=_.slice();return V.push.apply(V,arguments),p.apply(this,V)}}function y(p,N){function _(){}_.prototype=N.prototype,p.Z=N.prototype,p.prototype=new _,p.prototype.constructor=p,p.Ob=function(V,X,ae){for(var Ne=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)Ne[qe-2]=arguments[qe];return N.prototype[X].apply(V,Ne)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function w(p){const N=p.length;if(N>0){const _=Array(N);for(let V=0;V<N;V++)_[V]=p[V];return _}return[]}function S(p,N){for(let V=1;V<arguments.length;V++){const X=arguments[V];var _=typeof X;if(_=_!="object"?_:X?Array.isArray(X)?"array":_:"null",_=="array"||_=="object"&&typeof X.length=="number"){_=p.length||0;const ae=X.length||0;p.length=_+ae;for(let Ne=0;Ne<ae;Ne++)p[_+Ne]=X[Ne]}else p.push(X)}}class U{constructor(N,_){this.i=N,this.j=_,this.h=0,this.g=null}get(){let N;return this.h>0?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function I(p){c.setTimeout(()=>{throw p},0)}function z(){var p=D;let N=null;return p.g&&(N=p.g,p.g=p.g.next,p.g||(p.h=null),N.next=null),N}class L{constructor(){this.h=this.g=null}add(N,_){const V=q.get();V.set(N,_),this.h?this.h.next=V:this.g=V,this.h=V}}var q=new U(()=>new K,p=>p.reset());class K{constructor(){this.next=this.g=this.h=null}set(N,_){this.h=N,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let se,G=!1,D=new L,C=()=>{const p=Promise.resolve(void 0);se=()=>{p.then(O)}};function O(){for(var p;p=z();){try{p.h.call(p.g)}catch(_){I(_)}var N=q;N.j(p),N.h<100&&(N.h++,p.next=N.g,N.g=p)}G=!1}function E(){this.u=this.u,this.C=this.C}E.prototype.u=!1,E.prototype.dispose=function(){this.u||(this.u=!0,this.N())},E.prototype[Symbol.dispose]=function(){this.dispose()},E.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(p,N){this.type=p,this.g=this.target=N,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,N=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const _=()=>{};c.addEventListener("test",_,N),c.removeEventListener("test",_,N)}catch{}return p})();function R(p){return/^[\s\xa0]*$/.test(p)}function te(p,N){T.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,N)}y(te,T),te.prototype.init=function(p,N){const _=this.type=p.type,V=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=N,N=p.relatedTarget,N||(_=="mouseover"?N=p.fromElement:_=="mouseout"&&(N=p.toElement)),this.relatedTarget=N,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var J="closure_listenable_"+(Math.random()*1e6|0),$=0;function W(p,N,_,V,X){this.listener=p,this.proxy=null,this.src=N,this.type=_,this.capture=!!V,this.ha=X,this.key=++$,this.da=this.fa=!1}function he(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function be(p,N,_){for(const V in p)N.call(_,p[V],V,p)}function B(p,N){for(const _ in p)N.call(void 0,p[_],_,p)}function ie(p){const N={};for(const _ in p)N[_]=p[_];return N}const ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(p,N){let _,V;for(let X=1;X<arguments.length;X++){V=arguments[X];for(_ in V)p[_]=V[_];for(let ae=0;ae<ge.length;ae++)_=ge[ae],Object.prototype.hasOwnProperty.call(V,_)&&(p[_]=V[_])}}function Ee(p){this.src=p,this.g={},this.h=0}Ee.prototype.add=function(p,N,_,V,X){const ae=p.toString();p=this.g[ae],p||(p=this.g[ae]=[],this.h++);const Ne=Be(p,N,V,X);return Ne>-1?(N=p[Ne],_||(N.fa=!1)):(N=new W(N,this.src,ae,!!V,X),N.fa=_,p.push(N)),N};function Ve(p,N){const _=N.type;if(_ in p.g){var V=p.g[_],X=Array.prototype.indexOf.call(V,N,void 0),ae;(ae=X>=0)&&Array.prototype.splice.call(V,X,1),ae&&(he(N),p.g[_].length==0&&(delete p.g[_],p.h--))}}function Be(p,N,_,V){for(let X=0;X<p.length;++X){const ae=p[X];if(!ae.da&&ae.listener==N&&ae.capture==!!_&&ae.ha==V)return X}return-1}var ct="closure_lm_"+(Math.random()*1e6|0),wt={};function xt(p,N,_,V,X){if(Array.isArray(N)){for(let ae=0;ae<N.length;ae++)xt(p,N[ae],_,V,X);return null}return _=we(_),p&&p[J]?p.J(N,_,h(V)?!!V.capture:!1,X):pn(p,N,_,!1,V,X)}function pn(p,N,_,V,X,ae){if(!N)throw Error("Invalid event type");const Ne=h(X)?!!X.capture:!!X;let qe=$e(p);if(qe||(p[ct]=qe=new Ee(p)),_=qe.add(N,_,V,Ne,ae),_.proxy)return _;if(V=gn(),_.proxy=V,V.src=p,V.listener=_,p.addEventListener)M||(X=Ne),X===void 0&&(X=!1),p.addEventListener(N.toString(),V,X);else if(p.attachEvent)p.attachEvent(ye(N.toString()),V);else if(p.addListener&&p.removeListener)p.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return _}function gn(){function p(_){return N.call(p.src,p.listener,_)}const N=ke;return p}function jn(p,N,_,V,X){if(Array.isArray(N))for(var ae=0;ae<N.length;ae++)jn(p,N[ae],_,V,X);else V=h(V)?!!V.capture:!!V,_=we(_),p&&p[J]?(p=p.i,ae=String(N).toString(),ae in p.g&&(N=p.g[ae],_=Be(N,_,V,X),_>-1&&(he(N[_]),Array.prototype.splice.call(N,_,1),N.length==0&&(delete p.g[ae],p.h--)))):p&&(p=$e(p))&&(N=p.g[N.toString()],p=-1,N&&(p=Be(N,_,V,X)),(_=p>-1?N[p]:null)&&pe(_))}function pe(p){if(typeof p!="number"&&p&&!p.da){var N=p.src;if(N&&N[J])Ve(N.i,p);else{var _=p.type,V=p.proxy;N.removeEventListener?N.removeEventListener(_,V,p.capture):N.detachEvent?N.detachEvent(ye(_),V):N.addListener&&N.removeListener&&N.removeListener(V),(_=$e(N))?(Ve(_,p),_.h==0&&(_.src=null,N[ct]=null)):he(p)}}}function ye(p){return p in wt?wt[p]:wt[p]="on"+p}function ke(p,N){if(p.da)p=!0;else{N=new te(N,this);const _=p.listener,V=p.ha||p.src;p.fa&&pe(p),p=_.call(V,N)}return p}function $e(p){return p=p[ct],p instanceof Ee?p:null}var Qt="__closure_events_fn_"+(Math.random()*1e9>>>0);function we(p){return typeof p=="function"?p:(p[Qt]||(p[Qt]=function(N){return p.handleEvent(N)}),p[Qt])}function je(){E.call(this),this.i=new Ee(this),this.M=this,this.G=null}y(je,E),je.prototype[J]=!0,je.prototype.removeEventListener=function(p,N,_,V){jn(this,p,N,_,V)};function Ae(p,N){var _,V=p.G;if(V)for(_=[];V;V=V.G)_.push(V);if(p=p.M,V=N.type||N,typeof N=="string")N=new T(N,p);else if(N instanceof T)N.target=N.target||p;else{var X=N;N=new T(V,p),P(N,X)}X=!0;let ae,Ne;if(_)for(Ne=_.length-1;Ne>=0;Ne--)ae=N.g=_[Ne],X=Ke(ae,V,!0,N)&&X;if(ae=N.g=p,X=Ke(ae,V,!0,N)&&X,X=Ke(ae,V,!1,N)&&X,_)for(Ne=0;Ne<_.length;Ne++)ae=N.g=_[Ne],X=Ke(ae,V,!1,N)&&X}je.prototype.N=function(){if(je.Z.N.call(this),this.i){var p=this.i;for(const N in p.g){const _=p.g[N];for(let V=0;V<_.length;V++)he(_[V]);delete p.g[N],p.h--}}this.G=null},je.prototype.J=function(p,N,_,V){return this.i.add(String(p),N,!1,_,V)},je.prototype.K=function(p,N,_,V){return this.i.add(String(p),N,!0,_,V)};function Ke(p,N,_,V){if(N=p.i.g[String(N)],!N)return!0;N=N.concat();let X=!0;for(let ae=0;ae<N.length;++ae){const Ne=N[ae];if(Ne&&!Ne.da&&Ne.capture==_){const qe=Ne.listener,Bt=Ne.ha||Ne.src;Ne.fa&&Ve(p.i,Ne),X=qe.call(Bt,V)!==!1&&X}}return X&&!V.defaultPrevented}function _n(p,N){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(N)>2147483647?-1:c.setTimeout(p,N||0)}function cn(p){p.g=_n(()=>{p.g=null,p.i&&(p.i=!1,cn(p))},p.l);const N=p.h;p.h=null,p.m.apply(null,N)}class Pt extends E{constructor(N,_){super(),this.m=N,this.l=_,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:cn(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qa(p){E.call(this),this.h=p,this.g={}}y(qa,E);var oe=[];function ve(p){be(p.g,function(N,_){this.g.hasOwnProperty(_)&&pe(N)},p),p.g={}}qa.prototype.N=function(){qa.Z.N.call(this),ve(this)},qa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var De=c.JSON.stringify,Qe=c.JSON.parse,ut=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function On(){}function js(){}var Ft={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Lt(){T.call(this,"d")}y(Lt,T);function xn(){T.call(this,"c")}y(xn,T);var at={},qs=null;function Pn(){return qs=qs||new je}at.Ia="serverreachability";function jd(p){T.call(this,at.Ia,p)}y(jd,T);function ha(p){const N=Pn();Ae(N,new jd(N))}at.STAT_EVENT="statevent";function Li(p,N){T.call(this,at.STAT_EVENT,p),this.stat=N}y(Li,T);function Kt(p){const N=Pn();Ae(N,new Li(N,p))}at.Ja="timingevent";function ma(p,N){T.call(this,at.Ja,p),this.size=N}y(ma,T);function fa(p,N){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},N)}function Hs(){this.g=!0}Hs.prototype.ua=function(){this.g=!1};function Bf(p,N,_,V,X,ae){p.info(function(){if(p.g)if(ae){var Ne="",qe=ae.split("&");for(let ft=0;ft<qe.length;ft++){var Bt=qe[ft].split("=");if(Bt.length>1){const Dt=Bt[0];Bt=Bt[1];const Ts=Dt.split("_");Ne=Ts.length>=2&&Ts[1]=="type"?Ne+(Dt+"="+Bt+"&"):Ne+(Dt+"=redacted&")}}}else Ne=null;else Ne=ae;return"XMLHTTP REQ ("+V+") [attempt "+X+"]: "+N+`
`+_+`
`+Ne})}function _d(p,N,_,V,X,ae,Ne){p.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+X+"]: "+N+`
`+_+`
`+ae+" "+Ne})}function pa(p,N,_,V){p.info(function(){return"XMLHTTP TEXT ("+N+"): "+$f(p,_)+(V?" "+V:"")})}function Vi(p,N){p.info(function(){return"TIMEOUT: "+N})}Hs.prototype.info=function(){};function $f(p,N){if(!p.g)return N;if(!N)return null;try{const ae=JSON.parse(N);if(ae){for(p=0;p<ae.length;p++)if(Array.isArray(ae[p])){var _=ae[p];if(!(_.length<2)){var V=_[1];if(Array.isArray(V)&&!(V.length<1)){var X=V[0];if(X!="noop"&&X!="stop"&&X!="close")for(let Ne=1;Ne<V.length;Ne++)V[Ne]=""}}}}return De(ae)}catch{return N}}var Ui={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fc;function zi(){}y(zi,On),zi.prototype.g=function(){return new XMLHttpRequest},fc=new zi;function Ha(p){return encodeURIComponent(String(p))}function Sd(p){var N=1;p=p.split(":");const _=[];for(;N>0&&p.length;)_.push(p.shift()),N--;return p.length&&_.push(p.join(":")),_}function Gs(p,N,_,V){this.j=p,this.i=N,this.l=_,this.S=V||1,this.V=new qa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ys}function Ys(){this.i=null,this.g="",this.h=!1}var Xt={},yn={};function ga(p,N,_){p.M=1,p.A=Fi(Jt(N)),p.u=_,p.R=!0,Vl(p,null)}function Vl(p,N){p.F=Date.now(),xa(p),p.B=Jt(p.A);var _=p.B,V=p.S;Array.isArray(V)||(V=[String(V)]),Bl(_.i,"t",V),p.C=0,_=p.j.L,p.h=new Ys,p.g=zd(p.j,_?N:null,!p.u),p.P>0&&(p.O=new Pt(f(p.Y,p,p.g),p.P)),N=p.V,_=p.g,V=p.ba;var X="readystatechange";Array.isArray(X)||(X&&(oe[0]=X.toString()),X=oe);for(let ae=0;ae<X.length;ae++){const Ne=xt(_,X[ae],V||N.handleEvent,!1,N.h||N);if(!Ne)break;N.g[Ne.key]=Ne}N=p.J?ie(p.J):{},p.u?(p.v||(p.v="POST"),N["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,N)):(p.v="GET",p.g.ea(p.B,p.v,null,N)),ha(),Bf(p.i,p.v,p.B,p.l,p.S,p.u)}Gs.prototype.ba=function(p){p=p.target;const N=this.O;N&&Xs(p)==3?N.j():this.Y(p)},Gs.prototype.Y=function(p){try{if(p==this.g)e:{const qe=Xs(this.g),Bt=this.g.ya(),ft=this.g.ca();if(!(qe<3)&&(qe!=3||this.g&&(this.h.h||this.g.la()||Sn(this.g)))){this.K||qe!=4||Bt==7||(Bt==8||ft<=0?ha(3):ha(2)),ya(this);var N=this.g.ca();this.X=N;var _=qf(this);if(this.o=N==200,_d(this.i,this.v,this.B,this.l,this.S,qe,N),this.o){if(this.U&&!this.L){t:{if(this.g){var V,X=this.g;if((V=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(V)){var ae=V;break t}}ae=null}if(p=ae)pa(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ba(this,p);else{this.o=!1,this.m=3,Kt(12),us(this),_s(this);break e}}if(this.R){p=!0;let Dt;for(;!this.K&&this.C<_.length;)if(Dt=Td(this,_),Dt==yn){qe==4&&(this.m=4,Kt(14),p=!1),pa(this.i,this.l,null,"[Incomplete Response]");break}else if(Dt==Xt){this.m=4,Kt(15),pa(this.i,this.l,_,"[Invalid Chunk]"),p=!1;break}else pa(this.i,this.l,Dt,null),ba(this,Dt);if(Ed(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||_.length!=0||this.h.h||(this.m=1,Kt(16),p=!1),this.o=this.o&&p,!p)pa(this.i,this.l,_,"[Invalid Chunked Response]"),us(this),_s(this);else if(_.length>0&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.aa&&!Ne.P&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Ac(Ne),Ne.P=!0,Kt(11))}}else pa(this.i,this.l,_,null),ba(this,_);qe==4&&us(this),this.o&&!this.K&&(qe==4?Pd(this.j,this):(this.o=!1,xa(this)))}else Ya(this.g),N==400&&_.indexOf("Unknown SID")>0?(this.m=3,Kt(12)):(this.m=0,Kt(13)),us(this),_s(this)}}}catch{}finally{}};function qf(p){if(!Ed(p))return p.g.la();const N=Sn(p.g);if(N==="")return"";let _="";const V=N.length,X=Xs(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return us(p),_s(p),"";p.h.i=new c.TextDecoder}for(let ae=0;ae<V;ae++)p.h.h=!0,_+=p.h.i.decode(N[ae],{stream:!(X&&ae==V-1)});return N.length=0,p.h.g+=_,p.C=0,p.h.g}function Ed(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function Td(p,N){var _=p.C,V=N.indexOf(`
`,_);return V==-1?yn:(_=Number(N.substring(_,V)),isNaN(_)?Xt:(V+=1,V+_>N.length?yn:(N=N.slice(V,V+_),p.C=V+_,N)))}Gs.prototype.cancel=function(){this.K=!0,us(this)};function xa(p){p.T=Date.now()+p.H,Ul(p,p.H)}function Ul(p,N){if(p.D!=null)throw Error("WatchDog timer not null");p.D=fa(f(p.aa,p),N)}function ya(p){p.D&&(c.clearTimeout(p.D),p.D=null)}Gs.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(Vi(this.i,this.B),this.M!=2&&(ha(),Kt(17)),us(this),this.m=2,_s(this)):Ul(this,this.T-p)};function _s(p){p.j.I==0||p.K||Pd(p.j,p)}function us(p){ya(p);var N=p.O;N&&typeof N.dispose=="function"&&N.dispose(),p.O=null,ve(p.V),p.g&&(N=p.g,p.g=null,N.abort(),N.dispose())}function ba(p,N){try{var _=p.j;if(_.I!=0&&(_.g==p||wa(_.h,p))){if(!p.L&&wa(_.h,p)&&_.I==3){try{var V=_.Ba.g.parse(N)}catch{V=null}if(Array.isArray(V)&&V.length==3){var X=V;if(X[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<p.F)Yl(_),Pr(_);else break e;Qi(_),Kt(18)}}else _.xa=X[1],0<_.xa-_.K&&X[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=fa(f(_.Va,_),6e3));va(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ta(_,11)}else if((p.L||_.g==p)&&Yl(_),!R(N))for(X=_.Ba.g.parse(N),N=0;N<X.length;N++){let ft=X[N];const Dt=ft[0];if(!(Dt<=_.K))if(_.K=Dt,ft=ft[1],_.I==2)if(ft[0]=="c"){_.M=ft[1],_.ba=ft[2];const Ts=ft[3];Ts!=null&&(_.ka=Ts,_.j.info("VER="+_.ka));const Ca=ft[4];Ca!=null&&(_.za=Ca,_.j.info("SVER="+_.za));const Ws=ft[5];Ws!=null&&typeof Ws=="number"&&Ws>0&&(V=1.5*Ws,_.O=V,_.j.info("backChannelRequestTimeoutMs_="+V)),V=_;const Js=p.g;if(Js){const Ki=Js.g?Js.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ki){var ae=V.h;ae.g||Ki.indexOf("spdy")==-1&&Ki.indexOf("quic")==-1&&Ki.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(xc(ae,ae.h),ae.h=null))}if(V.G){const Ql=Js.g?Js.g.getResponseHeader("X-HTTP-Session-Id"):null;Ql&&(V.wa=Ql,yt(V.J,V.G,Ql))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-p.F,_.j.info("Handshake RTT: "+_.T+"ms")),V=_;var Ne=p;if(V.na=Ud(V,V.L?V.ba:null,V.W),Ne.L){yc(V.h,Ne);var qe=Ne,Bt=V.O;Bt&&(qe.H=Bt),qe.D&&(ya(qe),xa(qe)),V.g=Ne}else Md(V);_.i.length>0&&Ea(_)}else ft[0]!="stop"&&ft[0]!="close"||Ta(_,7);else _.I==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?Ta(_,7):Tc(_):ft[0]!="noop"&&_.l&&_.l.qa(ft),_.A=0)}}ha(4)}catch{}}var Wt=class{constructor(p,N){this.g=p,this.map=N}};function pc(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gc(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function va(p){return p.h?1:p.g?p.g.size:0}function wa(p,N){return p.h?p.h==N:p.g?p.g.has(N):!1}function xc(p,N){p.g?p.g.add(N):p.h=N}function yc(p,N){p.h&&p.h==N?p.h=null:p.g&&p.g.has(N)&&p.g.delete(N)}pc.prototype.cancel=function(){if(this.i=bc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function bc(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let N=p.i;for(const _ of p.g.values())N=N.concat(_.G);return N}return w(p.i)}var Cd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zl(p,N){if(p){p=p.split("&");for(let _=0;_<p.length;_++){const V=p[_].indexOf("=");let X,ae=null;V>=0?(X=p[_].substring(0,V),ae=p[_].substring(V+1)):X=p[_],N(X,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function ds(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let N;p instanceof ds?(this.l=p.l,bn(this,p.j),this.o=p.o,this.g=p.g,Ar(this,p.u),this.h=p.h,vc(this,Rd(p.i)),this.m=p.m):p&&(N=String(p).match(Cd))?(this.l=!1,bn(this,N[1]||"",!0),this.o=Na(N[2]||""),this.g=Na(N[3]||"",!0),Ar(this,N[4]),this.h=Na(N[5]||"",!0),vc(this,N[6]||"",!0),this.m=Na(N[7]||"")):(this.l=!1,this.i=new Ir(null,this.l))}ds.prototype.toString=function(){const p=[];var N=this.j;N&&p.push(Bi(N,Fl,!0),":");var _=this.g;return(_||N=="file")&&(p.push("//"),(N=this.o)&&p.push(Bi(N,Fl,!0),"@"),p.push(Ha(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&p.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&p.push("/"),p.push(Bi(_,_.charAt(0)=="/"?wc:Ad,!0))),(_=this.i.toString())&&p.push("?",_),(_=this.m)&&p.push("#",Bi(_,kd)),p.join("")},ds.prototype.resolve=function(p){const N=Jt(this);let _=!!p.j;_?bn(N,p.j):_=!!p.o,_?N.o=p.o:_=!!p.g,_?N.g=p.g:_=p.u!=null;var V=p.h;if(_)Ar(N,p.u);else if(_=!!p.h){if(V.charAt(0)!="/")if(this.g&&!this.h)V="/"+V;else{var X=N.h.lastIndexOf("/");X!=-1&&(V=N.h.slice(0,X+1)+V)}if(X=V,X==".."||X==".")V="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){V=X.lastIndexOf("/",0)==0,X=X.split("/");const ae=[];for(let Ne=0;Ne<X.length;){const qe=X[Ne++];qe=="."?V&&Ne==X.length&&ae.push(""):qe==".."?((ae.length>1||ae.length==1&&ae[0]!="")&&ae.pop(),V&&Ne==X.length&&ae.push("")):(ae.push(qe),V=!0)}V=ae.join("/")}else V=X}return _?N.h=V:_=p.i.toString()!=="",_?vc(N,Rd(p.i)):_=!!p.m,_&&(N.m=p.m),N};function Jt(p){return new ds(p)}function bn(p,N,_){p.j=_?Na(N,!0):N,p.j&&(p.j=p.j.replace(/:$/,""))}function Ar(p,N){if(N){if(N=Number(N),isNaN(N)||N<0)throw Error("Bad port number "+N);p.u=N}else p.u=null}function vc(p,N,_){N instanceof Ir?(p.i=N,$l(p.i,p.l)):(_||(N=Bi(N,kr)),p.i=new Ir(N,p.l))}function yt(p,N,_){p.i.set(N,_)}function Fi(p){return yt(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Na(p,N){return p?N?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Bi(p,N,_){return typeof p=="string"?(p=encodeURI(p).replace(N,Kn),_&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Kn(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Fl=/[#\/\?@]/g,Ad=/[#\?:]/g,wc=/[#\?]/g,kr=/[#\?@]/g,kd=/#/g;function Ir(p,N){this.h=this.g=null,this.i=p||null,this.j=!!N}function Xn(p){p.g||(p.g=new Map,p.h=0,p.i&&zl(p.i,function(N,_){p.add(decodeURIComponent(N.replace(/\+/g," ")),_)}))}t=Ir.prototype,t.add=function(p,N){Xn(this),this.i=null,p=Rr(this,p);let _=this.g.get(p);return _||this.g.set(p,_=[]),_.push(N),this.h+=1,this};function Id(p,N){Xn(p),N=Rr(p,N),p.g.has(N)&&(p.i=null,p.h-=p.g.get(N).length,p.g.delete(N))}function Nc(p,N){return Xn(p),N=Rr(p,N),p.g.has(N)}t.forEach=function(p,N){Xn(this),this.g.forEach(function(_,V){_.forEach(function(X){p.call(N,X,V,this)},this)},this)};function jc(p,N){Xn(p);let _=[];if(typeof N=="string")Nc(p,N)&&(_=_.concat(p.g.get(Rr(p,N))));else for(p=Array.from(p.g.values()),N=0;N<p.length;N++)_=_.concat(p[N]);return _}t.set=function(p,N){return Xn(this),this.i=null,p=Rr(this,p),Nc(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[N]),this.h+=1,this},t.get=function(p,N){return p?(p=jc(this,p),p.length>0?String(p[0]):N):N};function Bl(p,N,_){Id(p,N),_.length>0&&(p.i=null,p.g.set(Rr(p,N),w(_)),p.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],N=Array.from(this.g.keys());for(let V=0;V<N.length;V++){var _=N[V];const X=Ha(_);_=jc(this,_);for(let ae=0;ae<_.length;ae++){let Ne=X;_[ae]!==""&&(Ne+="="+Ha(_[ae])),p.push(Ne)}}return this.i=p.join("&")};function Rd(p){const N=new Ir;return N.i=p.i,p.g&&(N.g=new Map(p.g),N.h=p.h),N}function Rr(p,N){return N=String(N),p.j&&(N=N.toLowerCase()),N}function $l(p,N){N&&!p.j&&(Xn(p),p.i=null,p.g.forEach(function(_,V){const X=V.toLowerCase();V!=X&&(Id(this,V),Bl(this,X,_))},p)),p.j=N}function Qs(p,N){const _=new Hs;if(c.Image){const V=new Image;V.onload=x(Ss,_,"TestLoadImage: loaded",!0,N,V),V.onerror=x(Ss,_,"TestLoadImage: error",!1,N,V),V.onabort=x(Ss,_,"TestLoadImage: abort",!1,N,V),V.ontimeout=x(Ss,_,"TestLoadImage: timeout",!1,N,V),c.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=p}else N(!1)}function _c(p,N){const _=new Hs,V=new AbortController,X=setTimeout(()=>{V.abort(),Ss(_,"TestPingServer: timeout",!1,N)},1e4);fetch(p,{signal:V.signal}).then(ae=>{clearTimeout(X),ae.ok?Ss(_,"TestPingServer: ok",!0,N):Ss(_,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(X),Ss(_,"TestPingServer: error",!1,N)})}function Ss(p,N,_,V,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),V(_)}catch{}}function Dr(){this.g=new ut}function ja(p){this.i=p.Sb||null,this.h=p.ab||!1}y(ja,On),ja.prototype.g=function(){return new $i(this.i,this.h)};function $i(p,N){je.call(this),this.H=p,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y($i,je),t=$i.prototype,t.open=function(p,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=N,this.readyState=1,Ks(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const N={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(N.body=p),(this.H||c).fetch(new Request(this.D,N)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Mr(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Ks(this)),this.g&&(this.readyState=3,Ks(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ql(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function ql(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var N=p.value?p.value:new Uint8Array(0);(N=this.B.decode(N,{stream:!p.done}))&&(this.response=this.responseText+=N)}p.done?Mr(this):Ks(this),this.readyState==3&&ql(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,Mr(this))},t.Na=function(p){this.g&&(this.response=p,Mr(this))},t.ga=function(){this.g&&Mr(this)};function Mr(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Ks(p)}t.setRequestHeader=function(p,N){this.A.append(p,N)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],N=this.h.entries();for(var _=N.next();!_.done;)_=_.value,p.push(_[0]+": "+_[1]),_=N.next();return p.join(`\r
`)};function Ks(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty($i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Es(p){let N="";return be(p,function(_,V){N+=V,N+=":",N+=_,N+=`\r
`}),N}function qi(p,N,_){e:{for(V in _){var V=!1;break e}V=!0}V||(_=Es(_),typeof p=="string"?_!=null&&Ha(_):yt(p,N,_))}function Nt(p){je.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(Nt,je);var _a=/^https?$/i,Sc=["POST","PUT"];t=Nt.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,N,_,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);N=N?N.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fc.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(N,String(p),!0),this.B=!1}catch(ae){Hi(this,ae);return}if(p=_||"",_=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var X in V)_.set(X,V[X]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ae of V.keys())_.set(ae,V.get(ae));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(_.keys()).find(ae=>ae.toLowerCase()=="content-type"),X=c.FormData&&p instanceof c.FormData,!(Array.prototype.indexOf.call(Sc,N,void 0)>=0)||V||X||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,Ne]of _)this.g.setRequestHeader(ae,Ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(ae){Hi(this,ae)}};function Hi(p,N){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=N,p.o=5,Ec(p),Ga(p)}function Ec(p){p.A||(p.A=!0,Ae(p,"complete"),Ae(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Ae(this,"complete"),Ae(this,"abort"),Ga(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ga(this,!0)),Nt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Gi(this):this.Xa())},t.Xa=function(){Gi(this)};function Gi(p){if(p.h&&typeof o<"u"){if(p.v&&Xs(p)==4)setTimeout(p.Ca.bind(p),0);else if(Ae(p,"readystatechange"),Xs(p)==4){p.h=!1;try{const ae=p.ca();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var _;if(!(_=N)){var V;if(V=ae===0){let Ne=String(p.D).match(Cd)[1]||null;!Ne&&c.self&&c.self.location&&(Ne=c.self.location.protocol.slice(0,-1)),V=!_a.test(Ne?Ne.toLowerCase():"")}_=V}if(_)Ae(p,"complete"),Ae(p,"success");else{p.o=6;try{var X=Xs(p)>2?p.g.statusText:""}catch{X=""}p.l=X+" ["+p.ca()+"]",Ec(p)}}finally{Ga(p)}}}}function Ga(p,N){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const _=p.g;p.g=null,N||Ae(p,"ready");try{_.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Xs(p){return p.g?p.g.readyState:0}t.ca=function(){try{return Xs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var N=this.g.responseText;return p&&N.indexOf(p)==0&&(N=N.substring(p.length)),Qe(N)}};function Sn(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Ya(p){const N={};p=(p.g&&Xs(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<p.length;V++){if(R(p[V]))continue;var _=Sd(p[V]);const X=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const ae=N[X]||[];N[X]=ae,ae.push(_)}B(N,function(V){return V.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sa(p,N,_){return _&&_.internalChannelParams&&_.internalChannelParams[p]||N}function Or(p){this.za=0,this.i=[],this.j=new Hs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Sa("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Sa("baseRetryDelayMs",5e3,p),this.Za=Sa("retryDelaySeedMs",1e4,p),this.Ta=Sa("forwardChannelMaxRetries",2,p),this.va=Sa("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new pc(p&&p.concurrentRequestLimit),this.Ba=new Dr,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Or.prototype,t.ka=8,t.I=1,t.connect=function(p,N,_,V){Kt(0),this.W=p,this.H=N||{},_&&V!==void 0&&(this.H.OSID=_,this.H.OAID=V),this.F=this.X,this.J=Ud(this,null,this.W),Ea(this)};function Tc(p){if(Hl(p),p.I==3){var N=p.V++,_=Jt(p.J);if(yt(_,"SID",p.M),yt(_,"RID",N),yt(_,"TYPE","terminate"),Yi(p,_),N=new Gs(p,p.j,N),N.M=2,N.A=Fi(Jt(_)),_=!1,c.navigator&&c.navigator.sendBeacon)try{_=c.navigator.sendBeacon(N.A.toString(),"")}catch{}!_&&c.Image&&(new Image().src=N.A,_=!0),_||(N.g=zd(N.j,null),N.g.ea(N.A)),N.F=Date.now(),xa(N)}Vd(p)}function Pr(p){p.g&&(Ac(p),p.g.cancel(),p.g=null)}function Hl(p){Pr(p),p.v&&(c.clearTimeout(p.v),p.v=null),Yl(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&c.clearTimeout(p.m),p.m=null)}function Ea(p){if(!gc(p.h)&&!p.m){p.m=!0;var N=p.Ea;se||C(),G||(se(),G=!0),D.add(N,p),p.D=0}}function Gl(p,N){return va(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=N.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=fa(f(p.Ea,p,N),Ld(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const X=new Gs(this,this.j,p);let ae=this.o;if(this.U&&(ae?(ae=ie(ae),P(ae,this.U)):ae=this.U),this.u!==null||this.R||(X.J=ae,ae=null),this.S)e:{for(var N=0,_=0;_<this.i.length;_++){t:{var V=this.i[_];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(N+=V,N>4096){N=_;break e}if(N===4096||_===this.i.length-1){N=_+1;break e}}N=1e3}else N=1e3;N=Dd(this,X,N),_=Jt(this.J),yt(_,"RID",p),yt(_,"CVER",22),this.G&&yt(_,"X-HTTP-Session-Id",this.G),Yi(this,_),ae&&(this.R?N="headers="+Ha(Es(ae))+"&"+N:this.u&&qi(_,this.u,ae)),xc(this.h,X),this.Ra&&yt(_,"TYPE","init"),this.S?(yt(_,"$req",N),yt(_,"SID","null"),X.U=!0,ga(X,_,null)):ga(X,_,N),this.I=2}}else this.I==3&&(p?Cc(this,p):this.i.length==0||gc(this.h)||Cc(this))};function Cc(p,N){var _;N?_=N.l:_=p.V++;const V=Jt(p.J);yt(V,"SID",p.M),yt(V,"RID",_),yt(V,"AID",p.K),Yi(p,V),p.u&&p.o&&qi(V,p.u,p.o),_=new Gs(p,p.j,_,p.D+1),p.u===null&&(_.J=p.o),N&&(p.i=N.G.concat(p.i)),N=Dd(p,_,1e3),_.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),xc(p.h,_),ga(_,V,N)}function Yi(p,N){p.H&&be(p.H,function(_,V){yt(N,V,_)}),p.l&&be({},function(_,V){yt(N,V,_)})}function Dd(p,N,_){_=Math.min(p.i.length,_);const V=p.l?f(p.l.Ka,p.l,p):null;e:{var X=p.i;let qe=-1;for(;;){const Bt=["count="+_];qe==-1?_>0?(qe=X[0].g,Bt.push("ofs="+qe)):qe=0:Bt.push("ofs="+qe);let ft=!0;for(let Dt=0;Dt<_;Dt++){var ae=X[Dt].g;const Ts=X[Dt].map;if(ae-=qe,ae<0)qe=Math.max(0,X[Dt].g-100),ft=!1;else try{ae="req"+ae+"_"||"";try{var Ne=Ts instanceof Map?Ts:Object.entries(Ts);for(const[Ca,Ws]of Ne){let Js=Ws;h(Ws)&&(Js=De(Ws)),Bt.push(ae+Ca+"="+encodeURIComponent(Js))}}catch(Ca){throw Bt.push(ae+"type="+encodeURIComponent("_badmap")),Ca}}catch{V&&V(Ts)}}if(ft){Ne=Bt.join("&");break e}}Ne=void 0}return p=p.i.splice(0,_),N.G=p,Ne}function Md(p){if(!p.g&&!p.v){p.Y=1;var N=p.Da;se||C(),G||(se(),G=!0),D.add(N,p),p.A=0}}function Qi(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=fa(f(p.Da,p),Ld(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,Od(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=fa(f(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Kt(10),Pr(this),Od(this))};function Ac(p){p.B!=null&&(c.clearTimeout(p.B),p.B=null)}function Od(p){p.g=new Gs(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var N=Jt(p.na);yt(N,"RID","rpc"),yt(N,"SID",p.M),yt(N,"AID",p.K),yt(N,"CI",p.F?"0":"1"),!p.F&&p.ia&&yt(N,"TO",p.ia),yt(N,"TYPE","xmlhttp"),Yi(p,N),p.u&&p.o&&qi(N,p.u,p.o),p.O&&(p.g.H=p.O);var _=p.g;p=p.ba,_.M=1,_.A=Fi(Jt(N)),_.u=null,_.R=!0,Vl(_,p)}t.Va=function(){this.C!=null&&(this.C=null,Pr(this),Qi(this),Kt(19))};function Yl(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function Pd(p,N){var _=null;if(p.g==N){Yl(p),Ac(p),p.g=null;var V=2}else if(wa(p.h,N))_=N.G,yc(p.h,N),V=1;else return;if(p.I!=0){if(N.o)if(V==1){_=N.u?N.u.length:0,N=Date.now()-N.F;var X=p.D;V=Pn(),Ae(V,new ma(V,_)),Ea(p)}else Md(p);else if(X=N.m,X==3||X==0&&N.X>0||!(V==1&&Gl(p,N)||V==2&&Qi(p)))switch(_&&_.length>0&&(N=p.h,N.i=N.i.concat(_)),X){case 1:Ta(p,5);break;case 4:Ta(p,10);break;case 3:Ta(p,6);break;default:Ta(p,2)}}}function Ld(p,N){let _=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(_*=2),_*N}function Ta(p,N){if(p.j.info("Error code "+N),N==2){var _=f(p.bb,p),V=p.Ua;const X=!V;V=new ds(V||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||bn(V,"https"),Fi(V),X?Qs(V.toString(),_):_c(V.toString(),_)}else Kt(2);p.I=0,p.l&&p.l.pa(N),Vd(p),Hl(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function Vd(p){if(p.I=0,p.ja=[],p.l){const N=bc(p.h);(N.length!=0||p.i.length!=0)&&(S(p.ja,N),S(p.ja,p.i),p.h.i.length=0,w(p.i),p.i.length=0),p.l.oa()}}function Ud(p,N,_){var V=_ instanceof ds?Jt(_):new ds(_);if(V.g!="")N&&(V.g=N+"."+V.g),Ar(V,V.u);else{var X=c.location;V=X.protocol,N=N?N+"."+X.hostname:X.hostname,X=+X.port;const ae=new ds(null);V&&bn(ae,V),N&&(ae.g=N),X&&Ar(ae,X),_&&(ae.h=_),V=ae}return _=p.G,N=p.wa,_&&N&&yt(V,_,N),yt(V,"VER",p.ka),Yi(p,V),V}function zd(p,N,_){if(N&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return N=p.Aa&&!p.ma?new Nt(new ja({ab:_})):new Nt(p.ma),N.Fa(p.L),N}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fd(){}t=Fd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Lr(){}Lr.prototype.g=function(p,N){return new Hn(p,N)};function Hn(p,N){je.call(this),this.g=new Or(N),this.l=p,this.h=N&&N.messageUrlParams||null,p=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(p?p["X-WebChannel-Content-Type"]=N.messageContentType:p={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.sa&&(p?p["X-WebChannel-Client-Profile"]=N.sa:p={"X-WebChannel-Client-Profile":N.sa}),this.g.U=p,(p=N&&N.Qb)&&!R(p)&&(this.g.u=p),this.A=N&&N.supportsCrossDomainXhr||!1,this.v=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!R(N)&&(this.g.G=N,p=this.h,p!==null&&N in p&&(p=this.h,N in p&&delete p[N])),this.j=new Qa(this)}y(Hn,je),Hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){Tc(this.g)},Hn.prototype.o=function(p){var N=this.g;if(typeof p=="string"){var _={};_.__data__=p,p=_}else this.v&&(_={},_.__data__=De(p),p=_);N.i.push(new Wt(N.Ya++,p)),N.I==3&&Ea(N)},Hn.prototype.N=function(){this.g.l=null,delete this.j,Tc(this.g),delete this.g,Hn.Z.N.call(this)};function Bd(p){Lt.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var N=p.__sm__;if(N){e:{for(const _ in N){p=_;break e}p=void 0}(this.i=p)&&(p=this.i,N=N!==null&&p in N?N[p]:void 0),this.data=N}else this.data=p}y(Bd,Lt);function $d(){xn.call(this),this.status=1}y($d,xn);function Qa(p){this.g=p}y(Qa,Fd),Qa.prototype.ra=function(){Ae(this.g,"a")},Qa.prototype.qa=function(p){Ae(this.g,new Bd(p))},Qa.prototype.pa=function(p){Ae(this.g,new $d)},Qa.prototype.oa=function(){Ae(this.g,"b")},Lr.prototype.createWebChannel=Lr.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,y5=function(){return new Lr},x5=function(){return Pn()},g5=at,Rg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ui.NO_ERROR=0,Ui.TIMEOUT=8,Ui.HTTP_ERROR=6,mm=Ui,mc.COMPLETE="complete",p5=mc,js.EventType=Ft,Ft.OPEN="a",Ft.CLOSE="b",Ft.ERROR="c",Ft.MESSAGE="d",je.prototype.listen=je.prototype.J,wu=js,Nt.prototype.listenOnce=Nt.prototype.K,Nt.prototype.getLastError=Nt.prototype.Ha,Nt.prototype.getLastErrorCode=Nt.prototype.ya,Nt.prototype.getStatus=Nt.prototype.ca,Nt.prototype.getResponseJson=Nt.prototype.La,Nt.prototype.getResponseText=Nt.prototype.la,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Fa,f5=Nt}).apply(typeof Qh<"u"?Qh:typeof self<"u"?self:typeof window<"u"?window:{});const Fw="@firebase/firestore",Bw="4.9.2";class Vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vn.UNAUTHENTICATED=new Vn(null),Vn.GOOGLE_CREDENTIALS=new Vn("google-credentials-uid"),Vn.FIRST_PARTY=new Vn("first-party-uid"),Vn.MOCK_USER=new Vn("mock-user");let nc="12.3.0";const Sl=new xx("@firebase/firestore");function Ao(){return Sl.logLevel}function Se(t,...e){if(Sl.logLevel<=tt.DEBUG){const n=e.map(kx);Sl.debug(`Firestore (${nc}): ${t}`,...n)}}function Nr(t,...e){if(Sl.logLevel<=tt.ERROR){const n=e.map(kx);Sl.error(`Firestore (${nc}): ${t}`,...n)}}function Fo(t,...e){if(Sl.logLevel<=tt.WARN){const n=e.map(kx);Sl.warn(`Firestore (${nc}): ${t}`,...n)}}function kx(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Le(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,b5(t,s,n)}function b5(t,e,n){let s=`FIRESTORE (${nc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Nr(s),new Error(s)}function gt(t,e,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,t||b5(e,l,s)}function ze(t,e){return t}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Sr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class v5{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Vn.UNAUTHENTICATED)))}shutdown(){}}class g6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class x6{constructor(e){this.t=e,this.currentUser=Vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){gt(this.o===void 0,42304);let s=this.i;const l=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let o=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new xr,e.enqueueRetryable((()=>l(this.currentUser)))};const c=()=>{const m=o;e.enqueueRetryable((async()=>{await m.promise,await l(this.currentUser)}))},h=m=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new xr)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(gt(typeof s.accessToken=="string",31837,{l:s}),new v5(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string",2055,{h:e}),new Vn(e)}}class y6{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class b6{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new y6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $w{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){gt(this.o===void 0,3512);const s=o=>{o.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,Se("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>s(o)))};const l=o=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>l(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?l(o):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $w(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(gt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $w(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function w6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Ix{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=w6(40);for(let o=0;o<l.length;++o)s.length<20&&l[o]<n&&(s+=e.charAt(l[o]%62))}return s}}function nt(t,e){return t<e?-1:t>e?1:0}function Dg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const l=t.charAt(s),o=e.charAt(s);if(l!==o)return Qp(l)===Qp(o)?nt(l,o):Qp(l)?1:-1}return nt(t.length,e.length)}const N6=55296,j6=57343;function Qp(t){const e=t.charCodeAt(0);return e>=N6&&e<=j6}function Bo(t,e,n){return t.length===e.length&&t.every(((s,l)=>n(s,e[l])))}const qw="__name__";class Ma{constructor(e,n,s){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Le(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ma.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ma?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const o=Ma.compareSegments(e.get(l),n.get(l));if(o!==0)return o}return nt(e.length,n.length)}static compareSegments(e,n){const s=Ma.isNumericId(e),l=Ma.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?Ma.extractNumericId(e).compare(Ma.extractNumericId(n)):Dg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xi.fromString(e.substring(4,e.length-2))}}class At extends Ma{construct(e,n,s){return new At(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(de.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new At(n)}static emptyPath(){return new At([])}}const _6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class In extends Ma{construct(e,n,s){return new In(e,n,s)}static isValidIdentifier(e){return _6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),In.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qw}static keyField(){return new In([qw])}static fromServerFormat(e){const n=[];let s="",l=0;const o=()=>{if(s.length===0)throw new _e(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;l<e.length;){const h=e[l];if(h==="\\"){if(l+1===e.length)throw new _e(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[l+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new _e(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,l+=2}else h==="`"?(c=!c,l++):h!=="."||c?(s+=h,l++):(o(),l++)}if(o(),c)throw new _e(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new In(n)}static emptyPath(){return new In([])}}class Re{constructor(e){this.path=e}static fromPath(e){return new Re(At.fromString(e))}static fromName(e){return new Re(At.fromString(e).popFirst(5))}static empty(){return new Re(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return At.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new At(e.slice()))}}function w5(t,e,n){if(!n)throw new _e(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function S6(t,e,n,s){if(e===!0&&s===!0)throw new _e(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Hw(t){if(!Re.isDocumentKey(t))throw new _e(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Gw(t){if(Re.isDocumentKey(t))throw new _e(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function N5(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function pf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function ca(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pf(t);throw new _e(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function E6(t,e){if(e<=0)throw new _e(de.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function ln(t,e){const n={typeString:t};return e&&(n.value=e),n}function hd(t,e){if(!N5(t))throw new _e(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const l=e[s].typeString,o="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(l&&typeof c!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(o!==void 0&&c!==o.value){n=`Expected '${s}' field to equal '${o.value}'`;break}}if(n)throw new _e(de.INVALID_ARGUMENT,n);return!0}const Yw=-62135596800,Qw=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Qw);return new Rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Yw)throw new _e(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qw}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hd(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Yw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:ln("string",Rt._jsonSchemaVersion),seconds:ln("number"),nanoseconds:ln("number")};class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new Rt(0,0))}static max(){return new Ue(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zu=-1;function T6(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,l=Ue.fromTimestamp(s===1e9?new Rt(n+1,0):new Rt(n,s));return new _i(l,Re.empty(),e)}function C6(t){return new _i(t.readTime,t.key,zu)}class _i{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new _i(Ue.min(),Re.empty(),zu)}static max(){return new _i(Ue.max(),Re.empty(),zu)}}function A6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}const k6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function sc(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==k6)throw t;Se("LocalStore","Unexpectedly lost primary lease")}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe(((s,l)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(s,l)},this.catchCallback=o=>{this.wrapFailure(n,o).next(s,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.reject(n)}static resolve(e){return new fe(((n,s)=>{n(e)}))}static reject(e){return new fe(((n,s)=>{s(e)}))}static waitFor(e){return new fe(((n,s)=>{let l=0,o=0,c=!1;e.forEach((h=>{++l,h.next((()=>{++o,c&&o===l&&n()}),(m=>s(m)))})),c=!0,o===l&&n()}))}static or(e){let n=fe.resolve(!1);for(const s of e)n=n.next((l=>l?fe.resolve(l):s()));return n}static forEach(e,n){const s=[];return e.forEach(((l,o)=>{s.push(n.call(this,l,o))})),this.waitFor(s)}static mapArray(e,n){return new fe(((s,l)=>{const o=e.length,c=new Array(o);let h=0;for(let m=0;m<o;m++){const f=m;n(e[f]).next((x=>{c[f]=x,++h,h===o&&s(c)}),(x=>l(x)))}}))}static doWhile(e,n){return new fe(((s,l)=>{const o=()=>{e()===!0?n().next((()=>{o()}),l):s()};o()}))}}function R6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ac(t){return t.name==="IndexedDbTransactionError"}class gf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gf.ce=-1;const Rx=-1;function xf(t){return t==null}function Mm(t){return t===0&&1/t==-1/0}function D6(t){return typeof t=="number"&&Number.isInteger(t)&&!Mm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const j5="";function M6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Kw(e)),e=O6(t.get(n),e);return Kw(e)}function O6(t,e){let n=e;const s=t.length;for(let l=0;l<s;l++){const o=t.charAt(l);switch(o){case"\0":n+="";break;case j5:n+="";break;default:n+=o}}return n}function Kw(t){return t+j5+""}function Xw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Di(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Vt{constructor(e,n){this.comparator=e,this.root=n||kn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kh(this.root,e,this.comparator,!0)}}class Kh{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?s(e.key,n):1,n&&l&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,n,s,l,o){this.key=e,this.value=n,this.color=s??kn.RED,this.left=l??kn.EMPTY,this.right=o??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,o){return new kn(e??this.key,n??this.value,s??this.color,l??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const o=s(e,l.key);return l=o<0?l.copy(null,null,null,l.left.insert(e,n,s),null):o===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return kn.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,s,l,o){return this}insert(e,n,s){return new kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dn{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ww(this.data.getIterator())}getIteratorFrom(e){return new Ww(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,o=s.getNext().key;if(this.comparator(l,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new dn(this.comparator);return n.data=e,n}}class Ww{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ws{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new ws([])}unionWith(e){let n=new dn(In.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ws(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class S5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new S5("Invalid base64 string: "+o):o}})(e);return new Rn(n)}static fromUint8Array(e){const n=(function(l){let o="";for(let c=0;c<l.length;++c)o+=String.fromCharCode(l[c]);return o})(e);return new Rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const P6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(t){if(gt(!!t,39018),typeof t=="string"){let e=0;const n=P6.exec(t);if(gt(!!n,46558,{timestamp:t}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ei(t){return typeof t=="string"?Rn.fromBase64String(t):Rn.fromUint8Array(t)}const E5="server_timestamp",T5="__type__",C5="__previous_value__",A5="__local_write_time__";function Dx(t){return(t?.mapValue?.fields||{})[T5]?.stringValue===E5}function yf(t){const e=t.mapValue.fields[C5];return Dx(e)?yf(e):e}function Fu(t){const e=Si(t.mapValue.fields[A5].timestampValue);return new Rt(e.seconds,e.nanos)}class L6{constructor(e,n,s,l,o,c,h,m,f,x){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=f,this.isUsingEmulator=x}}const Om="(default)";class Bu{constructor(e,n){this.projectId=e,this.database=n||Om}static empty(){return new Bu("","")}get isDefaultDatabase(){return this.database===Om}isEqual(e){return e instanceof Bu&&e.projectId===this.projectId&&e.database===this.database}}const k5="__type__",V6="__max__",Xh={mapValue:{}},I5="__vector__",Pm="value";function Ti(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dx(t)?4:z6(t)?9007199254740991:U6(t)?10:11:Le(28295,{value:t})}function Ba(t,e){if(t===e)return!0;const n=Ti(t);if(n!==Ti(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fu(t).isEqual(Fu(e));case 3:return(function(l,o){if(typeof l.timestampValue=="string"&&typeof o.timestampValue=="string"&&l.timestampValue.length===o.timestampValue.length)return l.timestampValue===o.timestampValue;const c=Si(l.timestampValue),h=Si(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(l,o){return Ei(l.bytesValue).isEqual(Ei(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(l,o){return Ht(l.geoPointValue.latitude)===Ht(o.geoPointValue.latitude)&&Ht(l.geoPointValue.longitude)===Ht(o.geoPointValue.longitude)})(t,e);case 2:return(function(l,o){if("integerValue"in l&&"integerValue"in o)return Ht(l.integerValue)===Ht(o.integerValue);if("doubleValue"in l&&"doubleValue"in o){const c=Ht(l.doubleValue),h=Ht(o.doubleValue);return c===h?Mm(c)===Mm(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return Bo(t.arrayValue.values||[],e.arrayValue.values||[],Ba);case 10:case 11:return(function(l,o){const c=l.mapValue.fields||{},h=o.mapValue.fields||{};if(Xw(c)!==Xw(h))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(h[m]===void 0||!Ba(c[m],h[m])))return!1;return!0})(t,e);default:return Le(52216,{left:t})}}function $u(t,e){return(t.values||[]).find((n=>Ba(n,e)))!==void 0}function $o(t,e){if(t===e)return 0;const n=Ti(t),s=Ti(e);if(n!==s)return nt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const h=Ht(o.integerValue||o.doubleValue),m=Ht(c.integerValue||c.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(t,e);case 3:return Jw(t.timestampValue,e.timestampValue);case 4:return Jw(Fu(t),Fu(e));case 5:return Dg(t.stringValue,e.stringValue);case 6:return(function(o,c){const h=Ei(o),m=Ei(c);return h.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const h=o.split("/"),m=c.split("/");for(let f=0;f<h.length&&f<m.length;f++){const x=nt(h[f],m[f]);if(x!==0)return x}return nt(h.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const h=nt(Ht(o.latitude),Ht(c.latitude));return h!==0?h:nt(Ht(o.longitude),Ht(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Zw(t.arrayValue,e.arrayValue);case 10:return(function(o,c){const h=o.fields||{},m=c.fields||{},f=h[Pm]?.arrayValue,x=m[Pm]?.arrayValue,y=nt(f?.values?.length||0,x?.values?.length||0);return y!==0?y:Zw(f,x)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===Xh.mapValue&&c===Xh.mapValue)return 0;if(o===Xh.mapValue)return 1;if(c===Xh.mapValue)return-1;const h=o.fields||{},m=Object.keys(h),f=c.fields||{},x=Object.keys(f);m.sort(),x.sort();for(let y=0;y<m.length&&y<x.length;++y){const v=Dg(m[y],x[y]);if(v!==0)return v;const w=$o(h[m[y]],f[x[y]]);if(w!==0)return w}return nt(m.length,x.length)})(t.mapValue,e.mapValue);default:throw Le(23264,{he:n})}}function Jw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=Si(t),s=Si(e),l=nt(n.seconds,s.seconds);return l!==0?l:nt(n.nanos,s.nanos)}function Zw(t,e){const n=t.values||[],s=e.values||[];for(let l=0;l<n.length&&l<s.length;++l){const o=$o(n[l],s[l]);if(o)return o}return nt(n.length,s.length)}function qo(t){return Mg(t)}function Mg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Si(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ei(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Re.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",l=!0;for(const o of n.values||[])l?l=!1:s+=",",s+=Mg(o);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",o=!0;for(const c of s)o?o=!1:l+=",",l+=`${c}:${Mg(n.fields[c])}`;return l+"}"})(t.mapValue):Le(61005,{value:t})}function fm(t){switch(Ti(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yf(t);return e?16+fm(e):16;case 5:return 2*t.stringValue.length;case 6:return Ei(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,o)=>l+fm(o)),0)})(t.arrayValue);case 10:case 11:return(function(s){let l=0;return Di(s.fields,((o,c)=>{l+=o.length+fm(c)})),l})(t.mapValue);default:throw Le(13486,{value:t})}}function e2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Og(t){return!!t&&"integerValue"in t}function Mx(t){return!!t&&"arrayValue"in t}function t2(t){return!!t&&"nullValue"in t}function n2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pm(t){return!!t&&"mapValue"in t}function U6(t){return(t?.mapValue?.fields||{})[k5]?.stringValue===I5}function Tu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Di(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Tu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tu(t.arrayValue.values[n]);return e}return{...t}}function z6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===V6}class as{constructor(e){this.value=e}static empty(){return new as({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!pm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tu(n)}setAll(e){let n=In.emptyPath(),s={},l=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const m=this.getFieldsMap(n);this.applyChanges(m,s,l),s={},l=[],n=h.popLast()}c?s[h.lastSegment()]=Tu(c):l.push(h.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,s,l)}delete(e){const n=this.field(e.popLast());pm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ba(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];pm(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){Di(n,((l,o)=>e[l]=o));for(const l of s)delete e[l]}clone(){return new as(Tu(this.value))}}function R5(t){const e=[];return Di(t.fields,((n,s)=>{const l=new In([n]);if(pm(s)){const o=R5(s.mapValue).fields;if(o.length===0)e.push(l);else for(const c of o)e.push(l.child(c))}else e.push(l)})),new ws(e)}class Un{constructor(e,n,s,l,o,c,h){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Un(e,0,Ue.min(),Ue.min(),Ue.min(),as.empty(),0)}static newFoundDocument(e,n,s,l){return new Un(e,1,n,Ue.min(),s,l,0)}static newNoDocument(e,n){return new Un(e,2,n,Ue.min(),Ue.min(),as.empty(),0)}static newUnknownDocument(e,n){return new Un(e,3,n,Ue.min(),Ue.min(),as.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=as.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=as.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Lm{constructor(e,n){this.position=e,this.inclusive=n}}function s2(t,e,n){let s=0;for(let l=0;l<t.position.length;l++){const o=e[l],c=t.position[l];if(o.field.isKeyField()?s=Re.comparator(Re.fromName(c.referenceValue),n.key):s=$o(c,n.data.field(o.field)),o.dir==="desc"&&(s*=-1),s!==0)break}return s}function a2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ba(t.position[n],e.position[n]))return!1;return!0}class qu{constructor(e,n="asc"){this.field=e,this.dir=n}}function F6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class D5{}class rn extends D5{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new $6(e,n,s):n==="array-contains"?new G6(e,s):n==="in"?new Y6(e,s):n==="not-in"?new Q6(e,s):n==="array-contains-any"?new K6(e,s):new rn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new q6(e,s):new H6(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($o(n,this.value)):n!==null&&Ti(this.value)===Ti(n)&&this.matchesComparison($o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ua extends D5{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ua(e,n)}matches(e){return M5(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function M5(t){return t.op==="and"}function O5(t){return B6(t)&&M5(t)}function B6(t){for(const e of t.filters)if(e instanceof ua)return!1;return!0}function Pg(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+qo(t.value);if(O5(t))return t.filters.map((e=>Pg(e))).join(",");{const e=t.filters.map((n=>Pg(n))).join(",");return`${t.op}(${e})`}}function P5(t,e){return t instanceof rn?(function(s,l){return l instanceof rn&&s.op===l.op&&s.field.isEqual(l.field)&&Ba(s.value,l.value)})(t,e):t instanceof ua?(function(s,l){return l instanceof ua&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((o,c,h)=>o&&P5(c,l.filters[h])),!0):!1})(t,e):void Le(19439)}function L5(t){return t instanceof rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${qo(n.value)}`})(t):t instanceof ua?(function(n){return n.op.toString()+" {"+n.getFilters().map(L5).join(" ,")+"}"})(t):"Filter"}class $6 extends rn{constructor(e,n,s){super(e,n,s),this.key=Re.fromName(s.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class q6 extends rn{constructor(e,n){super(e,"in",n),this.keys=V5("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class H6 extends rn{constructor(e,n){super(e,"not-in",n),this.keys=V5("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function V5(t,e){return(e.arrayValue?.values||[]).map((n=>Re.fromName(n.referenceValue)))}class G6 extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mx(n)&&$u(n.arrayValue,this.value)}}class Y6 extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$u(this.value.arrayValue,n)}}class Q6 extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if($u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!$u(this.value.arrayValue,n)}}class K6 extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>$u(this.value.arrayValue,s)))}}class X6{constructor(e,n=null,s=[],l=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function r2(t,e=null,n=[],s=[],l=null,o=null,c=null){return new X6(t,e,n,s,l,o,c)}function Ox(t){const e=ze(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Pg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(o){return o.field.canonicalString()+o.dir})(s))).join(","),xf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>qo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>qo(s))).join(",")),e.Te=n}return e.Te}function Px(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!F6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!P5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!a2(t.startAt,e.startAt)&&a2(t.endAt,e.endAt)}function Lg(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class rc{constructor(e,n=null,s=[],l=[],o=null,c="F",h=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function W6(t,e,n,s,l,o,c,h){return new rc(t,e,n,s,l,o,c,h)}function Lx(t){return new rc(t)}function i2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function U5(t){return t.collectionGroup!==null}function Cu(t){const e=ze(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new dn(In.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((f=>{f.isInequality()&&(h=h.add(f.field))}))})),h})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new qu(o,s))})),n.has(In.keyField().canonicalString())||e.Ie.push(new qu(In.keyField(),s))}return e.Ie}function Pa(t){const e=ze(t);return e.Ee||(e.Ee=J6(e,Cu(t))),e.Ee}function J6(t,e){if(t.limitType==="F")return r2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((l=>{const o=l.dir==="desc"?"asc":"desc";return new qu(l.field,o)}));const n=t.endAt?new Lm(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Lm(t.startAt.position,t.startAt.inclusive):null;return r2(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Vg(t,e){const n=t.filters.concat([e]);return new rc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Vm(t,e,n){return new rc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bf(t,e){return Px(Pa(t),Pa(e))&&t.limitType===e.limitType}function z5(t){return`${Ox(Pa(t))}|lt:${t.limitType}`}function ko(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>L5(l))).join(", ")}]`),xf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>qo(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>qo(l))).join(",")),`Target(${s})`})(Pa(t))}; limitType=${t.limitType})`}function vf(t,e){return e.isFoundDocument()&&(function(s,l){const o=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(o):Re.isDocumentKey(s.path)?s.path.isEqual(o):s.path.isImmediateParentOf(o)})(t,e)&&(function(s,l){for(const o of Cu(s))if(!o.field.isKeyField()&&l.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(s,l){for(const o of s.filters)if(!o.matches(l))return!1;return!0})(t,e)&&(function(s,l){return!(s.startAt&&!(function(c,h,m){const f=s2(c,h,m);return c.inclusive?f<=0:f<0})(s.startAt,Cu(s),l)||s.endAt&&!(function(c,h,m){const f=s2(c,h,m);return c.inclusive?f>=0:f>0})(s.endAt,Cu(s),l))})(t,e)}function Z6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function F5(t){return(e,n)=>{let s=!1;for(const l of Cu(t)){const o=eD(l,e,n);if(o!==0)return o;s=s||l.field.isKeyField()}return 0}}function eD(t,e,n){const s=t.field.isKeyField()?Re.comparator(e.key,n.key):(function(o,c,h){const m=c.data.field(o),f=h.data.field(o);return m!==null&&f!==null?$o(m,f):Le(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Le(19790,{direction:t.dir})}}class Il{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[l,o]of s)if(this.equalsFn(l,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let o=0;o<l.length;o++)if(this.equalsFn(l[o][0],e))return void(l[o]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Di(this.inner,((n,s)=>{for(const[l,o]of s)e(l,o)}))}isEmpty(){return _5(this.inner)}size(){return this.innerSize}}const tD=new Vt(Re.comparator);function jr(){return tD}const B5=new Vt(Re.comparator);function Nu(...t){let e=B5;for(const n of t)e=e.insert(n.key,n);return e}function $5(t){let e=B5;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function gl(){return Au()}function q5(){return Au()}function Au(){return new Il((t=>t.toString()),((t,e)=>t.isEqual(e)))}const nD=new Vt(Re.comparator),sD=new dn(Re.comparator);function st(...t){let e=sD;for(const n of t)e=e.add(n);return e}const aD=new dn(nt);function rD(){return aD}function Vx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mm(e)?"-0":e}}function H5(t){return{integerValue:""+t}}function iD(t,e){return D6(e)?H5(e):Vx(t,e)}class wf{constructor(){this._=void 0}}function lD(t,e,n){return t instanceof Hu?(function(l,o){const c={fields:{[T5]:{stringValue:E5},[A5]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return o&&Dx(o)&&(o=yf(o)),o&&(c.fields[C5]=o),{mapValue:c}})(n,e):t instanceof Ho?Y5(t,e):t instanceof Gu?Q5(t,e):(function(l,o){const c=G5(l,o),h=l2(c)+l2(l.Ae);return Og(c)&&Og(l.Ae)?H5(h):Vx(l.serializer,h)})(t,e)}function oD(t,e,n){return t instanceof Ho?Y5(t,e):t instanceof Gu?Q5(t,e):n}function G5(t,e){return t instanceof Um?(function(s){return Og(s)||(function(o){return!!o&&"doubleValue"in o})(s)})(e)?e:{integerValue:0}:null}class Hu extends wf{}class Ho extends wf{constructor(e){super(),this.elements=e}}function Y5(t,e){const n=K5(e);for(const s of t.elements)n.some((l=>Ba(l,s)))||n.push(s);return{arrayValue:{values:n}}}class Gu extends wf{constructor(e){super(),this.elements=e}}function Q5(t,e){let n=K5(e);for(const s of t.elements)n=n.filter((l=>!Ba(l,s)));return{arrayValue:{values:n}}}class Um extends wf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function l2(t){return Ht(t.integerValue||t.doubleValue)}function K5(t){return Mx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class X5{constructor(e,n){this.field=e,this.transform=n}}function cD(t,e){return t.field.isEqual(e.field)&&(function(s,l){return s instanceof Ho&&l instanceof Ho||s instanceof Gu&&l instanceof Gu?Bo(s.elements,l.elements,Ba):s instanceof Um&&l instanceof Um?Ba(s.Ae,l.Ae):s instanceof Hu&&l instanceof Hu})(t.transform,e.transform)}class uD{constructor(e,n){this.version=e,this.transformResults=n}}class Us{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Us}static exists(e){return new Us(void 0,e)}static updateTime(e){return new Us(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nf{}function W5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ux(t.key,Us.none()):new md(t.key,t.data,Us.none());{const n=t.data,s=as.empty();let l=new dn(In.comparator);for(let o of e.fields)if(!l.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?s.delete(o):s.set(o,c),l=l.add(o)}return new Mi(t.key,s,new ws(l.toArray()),Us.none())}}function dD(t,e,n){t instanceof md?(function(l,o,c){const h=l.value.clone(),m=c2(l.fieldTransforms,o,c.transformResults);h.setAll(m),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Mi?(function(l,o,c){if(!gm(l.precondition,o))return void o.convertToUnknownDocument(c.version);const h=c2(l.fieldTransforms,o,c.transformResults),m=o.data;m.setAll(J5(l)),m.setAll(h),o.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(l,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function ku(t,e,n,s){return t instanceof md?(function(o,c,h,m){if(!gm(o.precondition,c))return h;const f=o.value.clone(),x=u2(o.fieldTransforms,m,c);return f.setAll(x),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null})(t,e,n,s):t instanceof Mi?(function(o,c,h,m){if(!gm(o.precondition,c))return h;const f=u2(o.fieldTransforms,m,c),x=c.data;return x.setAll(J5(o)),x.setAll(f),c.convertToFoundDocument(c.version,x).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(t,e,n,s):(function(o,c,h){return gm(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function hD(t,e){let n=null;for(const s of t.fieldTransforms){const l=e.data.field(s.field),o=G5(s.transform,l||null);o!=null&&(n===null&&(n=as.empty()),n.set(s.field,o))}return n||null}function o2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Bo(s,l,((o,c)=>cD(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class md extends Nf{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Mi extends Nf{constructor(e,n,s,l,o=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function J5(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function c2(t,e,n){const s=new Map;gt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let l=0;l<n.length;l++){const o=t[l],c=o.transform,h=e.data.field(o.field);s.set(o.field,oD(c,h,n[l]))}return s}function u2(t,e,n){const s=new Map;for(const l of t){const o=l.transform,c=n.data.field(l.field);s.set(l.field,lD(o,c,e))}return s}class Ux extends Nf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mD extends Nf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fD{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const o=this.mutations[l];o.key.isEqual(e.key)&&dD(o,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ku(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ku(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=q5();return this.mutations.forEach((l=>{const o=e.get(l.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=n.has(l.key)?null:h;const m=W5(c,h);m!==null&&s.set(l.key,m),c.isValidDocument()||c.convertToNoDocument(Ue.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),st())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,((n,s)=>o2(n,s)))&&Bo(this.baseMutations,e.baseMutations,((n,s)=>o2(n,s)))}}class zx{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){gt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return nD})();const o=e.mutations;for(let c=0;c<o.length;c++)l=l.insert(o[c].key,s[c].version);return new zx(e,n,s,l)}}class pD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class gD{constructor(e,n){this.count=e,this.unchangedNames=n}}var sn,it;function xD(t){switch(t){case de.OK:return Le(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function Z5(t){if(t===void 0)return Nr("GRPC error has no .code"),de.UNKNOWN;switch(t){case sn.OK:return de.OK;case sn.CANCELLED:return de.CANCELLED;case sn.UNKNOWN:return de.UNKNOWN;case sn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case sn.INTERNAL:return de.INTERNAL;case sn.UNAVAILABLE:return de.UNAVAILABLE;case sn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case sn.NOT_FOUND:return de.NOT_FOUND;case sn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case sn.ABORTED:return de.ABORTED;case sn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case sn.DATA_LOSS:return de.DATA_LOSS;default:return Le(39323,{code:t})}}(it=sn||(sn={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";function yD(){return new TextEncoder}const bD=new xi([4294967295,4294967295],0);function d2(t){const e=yD().encode(t),n=new m5;return n.update(e),new Uint8Array(n.digest())}function h2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new xi([n,s],0),new xi([l,o],0)]}class Fx{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ju(`Invalid padding: ${n}`);if(s<0)throw new ju(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ju(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ju(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=xi.fromNumber(this.ge)}ye(e,n,s){let l=e.add(n.multiply(xi.fromNumber(s)));return l.compare(bD)===1&&(l=new xi([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=d2(e),[s,l]=h2(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(s,l,o);if(!this.we(c))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Fx(o,l,n);return s.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=d2(e),[s,l]=h2(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(s,l,o);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ju extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jf{constructor(e,n,s,l,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,fd.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new jf(Ue.min(),l,new Vt(nt),jr(),st())}}class fd{constructor(e,n,s,l,o){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new fd(s,n,st(),st(),st())}}class xm{constructor(e,n,s,l){this.be=e,this.removedTargetIds=n,this.key=s,this.De=l}}class e_{constructor(e,n){this.targetId=e,this.Ce=n}}class t_{constructor(e,n,s=Rn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class m2{constructor(){this.ve=0,this.Fe=f2(),this.Me=Rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=st(),n=st(),s=st();return this.Fe.forEach(((l,o)=>{switch(o){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Le(38017,{changeType:o})}})),new fd(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=f2()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vD{constructor(e){this.Ge=e,this.ze=new Map,this.je=jr(),this.Je=Wh(),this.He=Wh(),this.Ye=new Vt(nt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,s=e.Ce.count,l=this.ot(n);if(l){const o=l.target;if(Lg(o))if(s===0){const c=new Re(o.path);this.et(n,c,Un.newNoDocument(c,Ue.min()))}else gt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const h=this.ut(e),m=h?this.ct(h,e,c):1;if(m!==0){this.it(n);const f=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:o=0}=n;let c,h;try{c=Ei(s).toUint8Array()}catch(m){if(m instanceof S5)return Fo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new Fx(c,l,o)}catch(m){return Fo(m instanceof ju?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(n,o,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&Lg(h.target)){const m=new Re(h.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,Un.newNoDocument(m,e))}o.Be&&(n.set(c,o.ke()),o.qe())}}));let s=st();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((m=>{const f=this.ot(m);return!f||f.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const l=new jf(e,n,this.Ye,this.je,s);return this.je=jr(),this.Je=Wh(),this.He=Wh(),this.Ye=new Vt(nt),l}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new m2,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new dn(nt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new dn(nt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new m2),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Wh(){return new Vt(Re.comparator)}function f2(){return new Vt(Re.comparator)}const wD={asc:"ASCENDING",desc:"DESCENDING"},ND={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jD={and:"AND",or:"OR"};class _D{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ug(t,e){return t.useProto3Json||xf(e)?e:{value:e}}function zm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function n_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function SD(t,e){return zm(t,e.toTimestamp())}function La(t){return gt(!!t,49232),Ue.fromTimestamp((function(n){const s=Si(n);return new Rt(s.seconds,s.nanos)})(t))}function Bx(t,e){return zg(t,e).canonicalString()}function zg(t,e){const n=(function(l){return new At(["projects",l.projectId,"databases",l.database])})(t).child("documents");return e===void 0?n:n.child(e)}function s_(t){const e=At.fromString(t);return gt(o_(e),10190,{key:e.toString()}),e}function Fg(t,e){return Bx(t.databaseId,e.path)}function Kp(t,e){const n=s_(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(r_(n))}function a_(t,e){return Bx(t.databaseId,e)}function ED(t){const e=s_(t);return e.length===4?At.emptyPath():r_(e)}function Bg(t){return new At(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function r_(t){return gt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function p2(t,e,n){return{name:Fg(t,e),fields:n.value.mapValue.fields}}function TD(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Le(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],o=(function(f,x){return f.useProto3Json?(gt(x===void 0||typeof x=="string",58123),Rn.fromBase64String(x||"")):(gt(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Rn.fromUint8Array(x||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(f){const x=f.code===void 0?de.UNKNOWN:Z5(f.code);return new _e(x,f.message||"")})(c);n=new t_(s,l,o,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Kp(t,s.document.name),o=La(s.document.updateTime),c=s.document.createTime?La(s.document.createTime):Ue.min(),h=new as({mapValue:{fields:s.document.fields}}),m=Un.newFoundDocument(l,o,c,h),f=s.targetIds||[],x=s.removedTargetIds||[];n=new xm(f,x,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Kp(t,s.document),o=s.readTime?La(s.readTime):Ue.min(),c=Un.newNoDocument(l,o),h=s.removedTargetIds||[];n=new xm([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Kp(t,s.document),o=s.removedTargetIds||[];n=new xm([],o,l,null)}else{if(!("filter"in e))return Le(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:o}=s,c=new gD(l,o),h=s.targetId;n=new e_(h,c)}}return n}function CD(t,e){let n;if(e instanceof md)n={update:p2(t,e.key,e.value)};else if(e instanceof Ux)n={delete:Fg(t,e.key)};else if(e instanceof Mi)n={update:p2(t,e.key,e.data),updateMask:LD(e.fieldMask)};else{if(!(e instanceof mD))return Le(16599,{Vt:e.type});n={verify:Fg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(o,c){const h=c.transform;if(h instanceof Hu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ho)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Gu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Um)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Le(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(l,o){return o.updateTime!==void 0?{updateTime:SD(l,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Le(27497)})(t,e.precondition)),n}function AD(t,e){return t&&t.length>0?(gt(e!==void 0,14353),t.map((n=>(function(l,o){let c=l.updateTime?La(l.updateTime):La(o);return c.isEqual(Ue.min())&&(c=La(o)),new uD(c,l.transformResults||[])})(n,e)))):[]}function kD(t,e){return{documents:[a_(t,e.path)]}}function ID(t,e){const n={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=a_(t,l);const o=(function(f){if(f.length!==0)return l_(ua.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(f){if(f.length!==0)return f.map((x=>(function(v){return{field:Io(v.field),direction:MD(v.dir)}})(x)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=Ug(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:l}}function RD(t){let e=ED(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){gt(s===1,65062);const x=n.from[0];x.allDescendants?l=x.collectionId:e=e.child(x.collectionId)}let o=[];n.where&&(o=(function(y){const v=i_(y);return v instanceof ua&&O5(v)?v.getFilters():[v]})(n.where));let c=[];n.orderBy&&(c=(function(y){return y.map((v=>(function(S){return new qu(Ro(S.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(v)))})(n.orderBy));let h=null;n.limit&&(h=(function(y){let v;return v=typeof y=="object"?y.value:y,xf(v)?null:v})(n.limit));let m=null;n.startAt&&(m=(function(y){const v=!!y.before,w=y.values||[];return new Lm(w,v)})(n.startAt));let f=null;return n.endAt&&(f=(function(y){const v=!y.before,w=y.values||[];return new Lm(w,v)})(n.endAt)),W6(e,l,c,o,h,"F",m,f)}function DD(t,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function i_(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ro(n.unaryFilter.field);return rn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ro(n.unaryFilter.field);return rn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ro(n.unaryFilter.field);return rn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ro(n.unaryFilter.field);return rn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}})(t):t.fieldFilter!==void 0?(function(n){return rn.create(Ro(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ua.create(n.compositeFilter.filters.map((s=>i_(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Le(1026)}})(n.compositeFilter.op))})(t):Le(30097,{filter:t})}function MD(t){return wD[t]}function OD(t){return ND[t]}function PD(t){return jD[t]}function Io(t){return{fieldPath:t.canonicalString()}}function Ro(t){return In.fromServerFormat(t.fieldPath)}function l_(t){return t instanceof rn?(function(n){if(n.op==="=="){if(n2(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NAN"}};if(t2(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(n2(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NAN"}};if(t2(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(n.field),op:OD(n.op),value:n.value}}})(t):t instanceof ua?(function(n){const s=n.getFilters().map((l=>l_(l)));return s.length===1?s[0]:{compositeFilter:{op:PD(n.op),filters:s}}})(t):Le(54877,{filter:t})}function LD(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function o_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class hi{constructor(e,n,s,l,o=Ue.min(),c=Ue.min(),h=Rn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class VD{constructor(e){this.yt=e}}function UD(t){const e=RD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vm(e,e.limit,"L"):e}class zD{constructor(){this.Cn=new FD}addToCollectionParentIndex(e,n){return this.Cn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(_i.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(_i.min())}updateCollectionGroup(e,n,s){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class FD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new dn(At.comparator),o=!l.has(s);return this.index[n]=l.add(s),o}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new dn(At.comparator)).toArray()}}const g2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},c_=41943040;class ss{static withCacheSize(e){return new ss(e,ss.DEFAULT_COLLECTION_PERCENTILE,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}ss.DEFAULT_COLLECTION_PERCENTILE=10,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ss.DEFAULT=new ss(c_,ss.DEFAULT_COLLECTION_PERCENTILE,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ss.DISABLED=new ss(-1,0,0);class Go{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Go(0)}static cr(){return new Go(-1)}}const x2="LruGarbageCollector",BD=1048576;function y2([t,e],[n,s]){const l=nt(t,n);return l===0?nt(e,s):l}class $D{constructor(e){this.Ir=e,this.buffer=new dn(y2),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();y2(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Se(x2,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ac(n)?Se(x2,"Ignoring IndexedDB error during garbage collection: ",n):await sc(n)}await this.Vr(3e5)}))}}class HD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(gf.ce);const s=new $D(n);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(g2)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g2):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,l,o,c,h,m,f;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),l=this.params.maximumSequenceNumbersToCollect):l=y,c=Date.now(),this.nthSequenceNumber(e,l)))).next((y=>(s=y,h=Date.now(),this.removeTargets(e,s,n)))).next((y=>(o=y,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((y=>(f=Date.now(),Ao()<=tt.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-x}ms
	Determined least recently used ${l} in `+(h-c)+`ms
	Removed ${o} targets in `+(m-h)+`ms
	Removed ${y} documents in `+(f-m)+`ms
Total Duration: ${f-x}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:o,documentsRemoved:y}))))}}function GD(t,e){return new HD(t,e)}class YD{constructor(){this.changes=new Il((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?fe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class QD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class KD{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(s!==null&&ku(s.mutation,l,ws.empty(),Rt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,st()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=st()){const l=gl();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,s).next((o=>{let c=Nu();return o.forEach(((h,m)=>{c=c.insert(h,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=gl();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,st())))}populateOverlays(e,n,s){const l=[];return s.forEach((o=>{n.has(o)||l.push(o)})),this.documentOverlayCache.getOverlays(e,l).next((o=>{o.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,s,l){let o=jr();const c=Au(),h=(function(){return Au()})();return n.forEach(((m,f)=>{const x=s.get(f.key);l.has(f.key)&&(x===void 0||x.mutation instanceof Mi)?o=o.insert(f.key,f):x!==void 0?(c.set(f.key,x.mutation.getFieldMask()),ku(x.mutation,f,x.mutation.getFieldMask(),Rt.now())):c.set(f.key,ws.empty())})),this.recalculateAndSaveOverlays(e,o).next((m=>(m.forEach(((f,x)=>c.set(f,x))),n.forEach(((f,x)=>h.set(f,new QD(x,c.get(f)??null)))),h)))}recalculateAndSaveOverlays(e,n){const s=Au();let l=new Vt(((c,h)=>c-h)),o=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((m=>{const f=n.get(m);if(f===null)return;let x=s.get(m)||ws.empty();x=h.applyToLocalView(f,x),s.set(m,x);const y=(l.get(h.batchId)||st()).add(m);l=l.insert(h.batchId,y)}))})).next((()=>{const c=[],h=l.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),f=m.key,x=m.value,y=q5();x.forEach((v=>{if(!o.has(v)){const w=W5(n.get(v),s.get(v));w!==null&&y.set(v,w),o=o.add(v)}})),c.push(this.documentOverlayCache.saveOverlays(e,f,y))}return fe.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,l){return(function(c){return Re.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):U5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l)}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next((o=>{const c=l-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-o.size):fe.resolve(gl());let h=zu,m=o;return c.next((f=>fe.forEach(f,((x,y)=>(h<y.largestBatchId&&(h=y.largestBatchId),o.get(x)?fe.resolve():this.remoteDocumentCache.getEntry(e,x).next((v=>{m=m.insert(x,v)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,m,f,st()))).next((x=>({batchId:h,changes:$5(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next((s=>{let l=Nu();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const o=n.collectionGroup;let c=Nu();return this.indexManager.getCollectionParents(e,o).next((h=>fe.forEach(h,(m=>{const f=(function(y,v){return new rc(v,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,m.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,s,l).next((x=>{x.forEach(((y,v)=>{c=c.insert(y,v)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,l){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,o,l)))).next((c=>{o.forEach(((m,f)=>{const x=f.getKey();c.get(x)===null&&(c=c.insert(x,Un.newInvalidDocument(x)))}));let h=Nu();return c.forEach(((m,f)=>{const x=o.get(m);x!==void 0&&ku(x.mutation,f,ws.empty(),Rt.now()),vf(n,f)&&(h=h.insert(m,f))})),h}))}}class XD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:La(l.createTime)}})(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:UD(l.bundledQuery),readTime:La(l.readTime)}})(n)),fe.resolve()}}class WD{constructor(){this.overlays=new Vt(Re.comparator),this.qr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=gl();return fe.forEach(n,(l=>this.getOverlay(e,l).next((o=>{o!==null&&s.set(l,o)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((l,o)=>{this.St(e,n,o)})),fe.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(s)),fe.resolve()}getOverlaysForCollection(e,n,s){const l=gl(),o=n.length+1,c=new Re(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const m=h.getNext().value,f=m.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&m.largestBatchId>s&&l.set(m.getKey(),m)}return fe.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let o=new Vt(((f,x)=>f-x));const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>s){let x=o.get(f.largestBatchId);x===null&&(x=gl(),o=o.insert(f.largestBatchId,x)),x.set(f.getKey(),f)}}const h=gl(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((f,x)=>h.set(f,x))),!(h.size()>=l)););return fe.resolve(h)}St(e,n,s){const l=this.overlays.get(s.key);if(l!==null){const c=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new pD(n,s));let o=this.qr.get(n);o===void 0&&(o=st(),this.qr.set(n,o)),this.qr.set(n,o.add(s.key))}}class JD{constructor(){this.sessionToken=Rn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}class $x{constructor(){this.Qr=new dn(wn.$r),this.Ur=new dn(wn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new wn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new wn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Re(new At([])),s=new wn(n,e),l=new wn(n,e+1),o=[];return this.Ur.forEachInRange([s,l],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Re(new At([])),s=new wn(n,e),l=new wn(n,e+1);let o=st();return this.Ur.forEachInRange([s,l],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new wn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class wn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Re.comparator(e.key,n.key)||nt(e.Yr,n.Yr)}static Kr(e,n){return nt(e.Yr,n.Yr)||Re.comparator(e.key,n.key)}}class ZD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new dn(wn.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,l){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new fD(o,n,s,l);this.mutationQueue.push(c);for(const h of l)this.Zr=this.Zr.add(new wn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return fe.resolve(c)}lookupMutationBatch(e,n){return fe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=this.ei(s),o=l<0?0:l;return fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?Rx:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new wn(n,0),l=new wn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([s,l],(c=>{const h=this.Xr(c.Yr);o.push(h)})),fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new dn(nt);return n.forEach((l=>{const o=new wn(l,0),c=new wn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{s=s.add(h.Yr)}))})),fe.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let o=s;Re.isDocumentKey(o)||(o=o.child(""));const c=new wn(new Re(o),0);let h=new dn(nt);return this.Zr.forEachWhile((m=>{const f=m.key.path;return!!s.isPrefixOf(f)&&(f.length===l&&(h=h.add(m.Yr)),!0)}),c),fe.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){gt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return fe.forEach(n.mutations,(l=>{const o=new wn(l.key,n.batchId);return s=s.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new wn(n,0),l=this.Zr.firstAfterOrEqual(s);return fe.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class e8{constructor(e){this.ri=e,this.docs=(function(){return new Vt(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),o=l?l.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return fe.resolve(s?s.document.mutableCopy():Un.newInvalidDocument(n))}getEntries(e,n){let s=jr();return n.forEach((l=>{const o=this.docs.get(l);s=s.insert(l,o?o.document.mutableCopy():Un.newInvalidDocument(l))})),fe.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let o=jr();const c=n.path,h=new Re(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:f,value:{document:x}}=m.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||A6(C6(x),s)<=0||(l.has(x.key)||vf(n,x))&&(o=o.insert(x.key,x.mutableCopy()))}return fe.resolve(o)}getAllFromCollectionGroup(e,n,s,l){Le(9500)}ii(e,n){return fe.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new t8(this)}getSize(e){return fe.resolve(this.size)}}class t8 extends YD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),fe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class n8{constructor(e){this.persistence=e,this.si=new Il((n=>Ox(n)),Px),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.oi=0,this._i=new $x,this.targetCount=0,this.ai=Go.ur()}forEachTarget(e,n){return this.si.forEach(((s,l)=>n(l))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),fe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Go(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Pr(n),fe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,s){let l=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=n&&s.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),l++)})),fe.waitFor(o).next((()=>l))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return fe.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),fe.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,o=[];return l&&n.forEach((c=>{o.push(l.markPotentiallyOrphaned(e,c))})),fe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return fe.resolve(s)}containsKey(e,n){return fe.resolve(this._i.containsKey(n))}}class u_{constructor(e,n){this.ui={},this.overlays={},this.ci=new gf(0),this.li=!1,this.li=!0,this.hi=new JD,this.referenceDelegate=e(this),this.Pi=new n8(this),this.indexManager=new zD,this.remoteDocumentCache=(function(l){return new e8(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new VD(n),this.Ii=new XD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new ZD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){Se("MemoryPersistence","Starting transaction:",e);const l=new s8(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((o=>this.referenceDelegate.di(l).next((()=>o)))).toPromise().then((o=>(l.raiseOnCommittedEvent(),o)))}Ai(e,n){return fe.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class s8 extends I6{constructor(e){super(),this.currentSequenceNumber=e}}class qx{constructor(e){this.persistence=e,this.Ri=new $x,this.Vi=null}static mi(e){return new qx(e)}get fi(){if(this.Vi)return this.Vi;throw Le(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),fe.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((o=>this.fi.add(o.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,(s=>{const l=Re.fromPath(s);return this.gi(e,l).next((o=>{o||n.removeEntry(l,Ue.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Fm{constructor(e,n){this.persistence=e,this.pi=new Il((s=>M6(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=GD(this,n)}static mi(e,n){return new Fm(e,n)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((l=>s+l))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return fe.forEach(this.pi,((s,l)=>this.br(e,s,l).next((o=>o?fe.resolve():n(l)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),o=l.newChangeBuffer();return l.ii(e,(c=>this.br(e,c,n).next((h=>{h||(s++,o.removeEntry(c,Ue.min()))})))).next((()=>o.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fm(e.data.value)),n}br(e,n,s){return fe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return fe.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Hx{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=l}static As(e,n){let s=st(),l=st();for(const o of n.docChanges)switch(o.type){case 0:s=s.add(o.doc.key);break;case 1:l=l.add(o.doc.key)}return new Hx(e,n.fromCache,s,l)}}class a8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class r8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return kk()?8:R6($n())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,l){const o={result:null};return this.ys(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,n,l,s).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new a8;return this.Ss(e,n,c).next((h=>{if(o.result=h,this.Vs)return this.bs(e,n,c,h.size)}))})).next((()=>o.result))}bs(e,n,s,l){return s.documentReadCount<this.fs?(Ao()<=tt.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",ko(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(Ao()<=tt.DEBUG&&Se("QueryEngine","Query:",ko(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Ao()<=tt.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",ko(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pa(n))):fe.resolve())}ys(e,n){if(i2(n))return fe.resolve(null);let s=Pa(n);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Vm(n,null,"F"),s=Pa(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((o=>{const c=st(...o);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,s).next((m=>{const f=this.Ds(n,h);return this.Cs(n,f,c,m.readTime)?this.ys(e,Vm(n,null,"F")):this.vs(e,f,n,m)}))))})))))}ws(e,n,s,l){return i2(n)||l.isEqual(Ue.min())?fe.resolve(null):this.ps.getDocuments(e,s).next((o=>{const c=this.Ds(n,o);return this.Cs(n,c,s,l)?fe.resolve(null):(Ao()<=tt.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ko(n)),this.vs(e,c,n,T6(l,zu)).next((h=>h)))}))}Ds(e,n){let s=new dn(F5(e));return n.forEach(((l,o)=>{vf(e,o)&&(s=s.add(o))})),s}Cs(e,n,s,l){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(l)>0)}Ss(e,n,s){return Ao()<=tt.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",ko(n)),this.ps.getDocumentsMatchingQuery(e,n,_i.min(),s)}vs(e,n,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const Gx="LocalStore",i8=3e8;class l8{constructor(e,n,s,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new Vt(nt),this.xs=new Il((o=>Ox(o)),Px),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function o8(t,e,n,s){return new l8(t,e,n,s)}async function d_(t,e){const n=ze(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((o=>(l=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((o=>{const c=[],h=[];let m=st();for(const f of l){c.push(f.batchId);for(const x of f.mutations)m=m.add(x.key)}for(const f of o){h.push(f.batchId);for(const x of f.mutations)m=m.add(x.key)}return n.localDocuments.getDocuments(s,m).next((f=>({Ls:f,removedBatchIds:c,addedBatchIds:h})))}))}))}function c8(t,e){const n=ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,m,f,x){const y=f.batch,v=y.keys();let w=fe.resolve();return v.forEach((S=>{w=w.next((()=>x.getEntry(m,S))).next((U=>{const I=f.docVersions.get(S);gt(I!==null,48541),U.version.compareTo(I)<0&&(y.applyToRemoteDocument(U,f),U.isValidDocument()&&(U.setReadTime(f.commitVersion),x.addEntry(U)))}))})),w.next((()=>h.mutationQueue.removeMutationBatch(m,y)))})(n,s,e,o).next((()=>o.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let m=st();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(m=m.add(h.batch.mutations[f].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function h_(t){const e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function u8(t,e){const n=ze(t),s=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const h=[];e.targetChanges.forEach(((x,y)=>{const v=l.get(y);if(!v)return;h.push(n.Pi.removeMatchingKeys(o,x.removedDocuments,y).next((()=>n.Pi.addMatchingKeys(o,x.addedDocuments,y))));let w=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?w=w.withResumeToken(Rn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):x.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(x.resumeToken,s)),l=l.insert(y,w),(function(U,I,z){return U.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=i8?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(v,w,x)&&h.push(n.Pi.updateTargetData(o,w))}));let m=jr(),f=st();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,x))})),h.push(d8(o,c,e.documentUpdates).next((x=>{m=x.ks,f=x.qs}))),!s.isEqual(Ue.min())){const x=n.Pi.getLastRemoteSnapshotVersion(o).next((y=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,s)));h.push(x)}return fe.waitFor(h).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,m,f))).next((()=>m))})).then((o=>(n.Ms=l,o)))}function d8(t,e,n){let s=st(),l=st();return n.forEach((o=>s=s.add(o))),e.getEntries(t,s).next((o=>{let c=jr();return n.forEach(((h,m)=>{const f=o.get(h);m.isFoundDocument()!==f.isFoundDocument()&&(l=l.add(h)),m.isNoDocument()&&m.version.isEqual(Ue.min())?(e.removeEntry(h,m.readTime),c=c.insert(h,m)):!f.isValidDocument()||m.version.compareTo(f.version)>0||m.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(m),c=c.insert(h,m)):Se(Gx,"Ignoring outdated watch update for ",h,". Current version:",f.version," Watch version:",m.version)})),{ks:c,qs:l}}))}function h8(t,e){const n=ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Rx),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function m8(t,e){const n=ze(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,e).next((o=>o?(l=o,fe.resolve(l)):n.Pi.allocateTargetId(s).next((c=>(l=new hi(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function $g(t,e,n){const s=ze(t),l=s.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",o,(c=>s.persistence.referenceDelegate.removeTarget(c,l)))}catch(c){if(!ac(c))throw c;Se(Gx,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function b2(t,e,n){const s=ze(t);let l=Ue.min(),o=st();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,f,x){const y=ze(m),v=y.xs.get(x);return v!==void 0?fe.resolve(y.Ms.get(v)):y.Pi.getTargetData(f,x)})(s,c,Pa(e)).next((h=>{if(h)return l=h.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,h.targetId).next((m=>{o=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?l:Ue.min(),n?o:st()))).next((h=>(f8(s,Z6(e),h),{documents:h,Qs:o})))))}function f8(t,e,n){let s=t.Os.get(e)||Ue.min();n.forEach(((l,o)=>{o.readTime.compareTo(s)>0&&(s=o.readTime)})),t.Os.set(e,s)}class v2{constructor(){this.activeTargetIds=rD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class p8{constructor(){this.Mo=new v2,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new v2,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class g8{Oo(e){}shutdown(){}}const w2="ConnectivityMonitor";class N2{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Se(w2,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Se(w2,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Jh=null;function qg(){return Jh===null?Jh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jh++,"0x"+Jh.toString(16)}const Xp="RestConnection",x8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class y8{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Om?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,n,s,l,o){const c=qg(),h=this.zo(e,n.toUriEncodedString());Se(Xp,`Sending RPC '${e}' ${c}:`,h,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,l,o);const{host:f}=new URL(h),x=Zo(f);return this.Jo(e,h,m,s,x).then((y=>(Se(Xp,`Received RPC '${e}' ${c}: `,y),y)),(y=>{throw Fo(Xp,`RPC '${e}' ${c} failed with error: `,y,"url: ",h,"request:",s),y}))}Ho(e,n,s,l,o,c){return this.Go(e,n,s,l,o)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+nc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,o)=>e[o]=l)),s&&s.headers.forEach(((l,o)=>e[o]=l))}zo(e,n){const s=x8[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class b8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Ln="WebChannelConnection";class v8 extends y8{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,l,o){const c=qg();return new Promise(((h,m)=>{const f=new f5;f.setWithCredentials(!0),f.listenOnce(p5.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case mm.NO_ERROR:const y=f.getResponseJson();Se(Ln,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(y)),h(y);break;case mm.TIMEOUT:Se(Ln,`RPC '${e}' ${c} timed out`),m(new _e(de.DEADLINE_EXCEEDED,"Request time out"));break;case mm.HTTP_ERROR:const v=f.getStatus();if(Se(Ln,`RPC '${e}' ${c} failed with status:`,v,"response text:",f.getResponseText()),v>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const S=w?.error;if(S&&S.status&&S.message){const U=(function(z){const L=z.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(L)>=0?L:de.UNKNOWN})(S.status);m(new _e(U,S.message))}else m(new _e(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else m(new _e(de.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:c,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Se(Ln,`RPC '${e}' ${c} completed.`)}}));const x=JSON.stringify(l);Se(Ln,`RPC '${e}' ${c} sending request:`,l),f.send(n,"POST",x,s,15)}))}T_(e,n,s){const l=qg(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=y5(),h=x5(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(m.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const x=o.join("");Se(Ln,`Creating RPC '${e}' stream ${l}: ${x}`,m);const y=c.createWebChannel(x,m);this.I_(y);let v=!1,w=!1;const S=new b8({Yo:I=>{w?Se(Ln,`Not sending because RPC '${e}' stream ${l} is closed:`,I):(v||(Se(Ln,`Opening RPC '${e}' stream ${l} transport.`),y.open(),v=!0),Se(Ln,`RPC '${e}' stream ${l} sending:`,I),y.send(I))},Zo:()=>y.close()}),U=(I,z,L)=>{I.listen(z,(q=>{try{L(q)}catch(K){setTimeout((()=>{throw K}),0)}}))};return U(y,wu.EventType.OPEN,(()=>{w||(Se(Ln,`RPC '${e}' stream ${l} transport opened.`),S.o_())})),U(y,wu.EventType.CLOSE,(()=>{w||(w=!0,Se(Ln,`RPC '${e}' stream ${l} transport closed`),S.a_(),this.E_(y))})),U(y,wu.EventType.ERROR,(I=>{w||(w=!0,Fo(Ln,`RPC '${e}' stream ${l} transport errored. Name:`,I.name,"Message:",I.message),S.a_(new _e(de.UNAVAILABLE,"The operation could not be completed")))})),U(y,wu.EventType.MESSAGE,(I=>{if(!w){const z=I.data[0];gt(!!z,16349);const L=z,q=L?.error||L[0]?.error;if(q){Se(Ln,`RPC '${e}' stream ${l} received error:`,q);const K=q.status;let se=(function(C){const O=sn[C];if(O!==void 0)return Z5(O)})(K),G=q.message;se===void 0&&(se=de.INTERNAL,G="Unknown error status: "+K+" with message "+q.message),w=!0,S.a_(new _e(se,G)),y.close()}else Se(Ln,`RPC '${e}' stream ${l} received:`,z),S.u_(z)}})),U(h,g5.STAT_EVENT,(I=>{I.stat===Rg.PROXY?Se(Ln,`RPC '${e}' stream ${l} detected buffering proxy`):I.stat===Rg.NOPROXY&&Se(Ln,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Wp(){return typeof document<"u"?document:null}function _f(t){return new _D(t,!0)}class m_{constructor(e,n,s=1e3,l=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=l,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&Se("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const j2="PersistentStream";class f_{constructor(e,n,s,l,o,c,h,m){this.Mi=e,this.S_=s,this.b_=l,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new m_(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(Nr(n.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{e((()=>{const l=new _e(de.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Se(j2,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Se(j2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class w8 extends f_{constructor(e,n,s,l,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,c),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=TD(this.serializer,e),s=(function(o){if(!("targetChange"in o))return Ue.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ue.min():c.readTime?La(c.readTime):Ue.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Bg(this.serializer),n.addTarget=(function(o,c){let h;const m=c.target;if(h=Lg(m)?{documents:kD(o,m)}:{query:ID(o,m).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=n_(o,c.resumeToken);const f=Ug(o,c.expectedCount);f!==null&&(h.expectedCount=f)}else if(c.snapshotVersion.compareTo(Ue.min())>0){h.readTime=zm(o,c.snapshotVersion.toTimestamp());const f=Ug(o,c.expectedCount);f!==null&&(h.expectedCount=f)}return h})(this.serializer,e);const s=DD(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Bg(this.serializer),n.removeTarget=e,this.q_(n)}}class N8 extends f_{constructor(e,n,s,l,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=AD(e.writeResults,e.commitTime),s=La(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Bg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>CD(this.serializer,s)))};this.q_(n)}}class j8{}class _8 extends j8{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new _e(de.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,zg(n,s),l,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(de.UNKNOWN,o.toString())}))}Ho(e,n,s,l,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,zg(n,s),l,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(de.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class S8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Nr(n),this.aa=!1):Se("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const El="RemoteStore";class E8{constructor(e,n,s,l,o){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Rl(this)&&(Se(El,"Restarting streams for network reachability change."),await(async function(m){const f=ze(m);f.Ea.add(4),await pd(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Sf(f)})(this))}))})),this.Ra=new S8(s,l)}}async function Sf(t){if(Rl(t))for(const e of t.da)await e(!0)}async function pd(t){for(const e of t.da)await e(!1)}function p_(t,e){const n=ze(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Xx(n)?Kx(n):ic(n).O_()&&Qx(n,e))}function Yx(t,e){const n=ze(t),s=ic(n);n.Ia.delete(e),s.O_()&&g_(n,e),n.Ia.size===0&&(s.O_()?s.L_():Rl(n)&&n.Ra.set("Unknown"))}function Qx(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ic(t).Y_(e)}function g_(t,e){t.Va.Ue(e),ic(t).Z_(e)}function Kx(t){t.Va=new vD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ic(t).start(),t.Ra.ua()}function Xx(t){return Rl(t)&&!ic(t).x_()&&t.Ia.size>0}function Rl(t){return ze(t).Ea.size===0}function x_(t){t.Va=void 0}async function T8(t){t.Ra.set("Online")}async function C8(t){t.Ia.forEach(((e,n)=>{Qx(t,e)}))}async function A8(t,e){x_(t),Xx(t)?(t.Ra.ha(e),Kx(t)):t.Ra.set("Unknown")}async function k8(t,e,n){if(t.Ra.set("Online"),e instanceof t_&&e.state===2&&e.cause)try{await(async function(l,o){const c=o.cause;for(const h of o.targetIds)l.Ia.has(h)&&(await l.remoteSyncer.rejectListen(h,c),l.Ia.delete(h),l.Va.removeTarget(h))})(t,e)}catch(s){Se(El,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Bm(t,s)}else if(e instanceof xm?t.Va.Ze(e):e instanceof e_?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ue.min()))try{const s=await h_(t.localStore);n.compareTo(s)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((m,f)=>{if(m.resumeToken.approximateByteSize()>0){const x=o.Ia.get(f);x&&o.Ia.set(f,x.withResumeToken(m.resumeToken,c))}})),h.targetMismatches.forEach(((m,f)=>{const x=o.Ia.get(m);if(!x)return;o.Ia.set(m,x.withResumeToken(Rn.EMPTY_BYTE_STRING,x.snapshotVersion)),g_(o,m);const y=new hi(x.target,m,f,x.sequenceNumber);Qx(o,y)})),o.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(s){Se(El,"Failed to raise snapshot:",s),await Bm(t,s)}}async function Bm(t,e,n){if(!ac(e))throw e;t.Ea.add(1),await pd(t),t.Ra.set("Offline"),n||(n=()=>h_(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Se(El,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Sf(t)}))}function y_(t,e){return e().catch((n=>Bm(t,n,e)))}async function Ef(t){const e=ze(t),n=Ci(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Rx;for(;I8(e);)try{const l=await h8(e.localStore,s);if(l===null){e.Ta.length===0&&n.L_();break}s=l.batchId,R8(e,l)}catch(l){await Bm(e,l)}b_(e)&&v_(e)}function I8(t){return Rl(t)&&t.Ta.length<10}function R8(t,e){t.Ta.push(e);const n=Ci(t);n.O_()&&n.X_&&n.ea(e.mutations)}function b_(t){return Rl(t)&&!Ci(t).x_()&&t.Ta.length>0}function v_(t){Ci(t).start()}async function D8(t){Ci(t).ra()}async function M8(t){const e=Ci(t);for(const n of t.Ta)e.ea(n.mutations)}async function O8(t,e,n){const s=t.Ta.shift(),l=zx.from(s,e,n);await y_(t,(()=>t.remoteSyncer.applySuccessfulWrite(l))),await Ef(t)}async function P8(t,e){e&&Ci(t).X_&&await(async function(s,l){if((function(c){return xD(c)&&c!==de.ABORTED})(l.code)){const o=s.Ta.shift();Ci(s).B_(),await y_(s,(()=>s.remoteSyncer.rejectFailedWrite(o.batchId,l))),await Ef(s)}})(t,e),b_(t)&&v_(t)}async function _2(t,e){const n=ze(t);n.asyncQueue.verifyOperationInProgress(),Se(El,"RemoteStore received new credentials");const s=Rl(n);n.Ea.add(3),await pd(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Sf(n)}async function L8(t,e){const n=ze(t);e?(n.Ea.delete(2),await Sf(n)):e||(n.Ea.add(2),await pd(n),n.Ra.set("Unknown"))}function ic(t){return t.ma||(t.ma=(function(n,s,l){const o=ze(n);return o.sa(),new w8(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,l)})(t.datastore,t.asyncQueue,{Xo:T8.bind(null,t),t_:C8.bind(null,t),r_:A8.bind(null,t),H_:k8.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Xx(t)?Kx(t):t.Ra.set("Unknown")):(await t.ma.stop(),x_(t))}))),t.ma}function Ci(t){return t.fa||(t.fa=(function(n,s,l){const o=ze(n);return o.sa(),new N8(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,l)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:D8.bind(null,t),r_:P8.bind(null,t),ta:M8.bind(null,t),na:O8.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Ef(t)):(await t.fa.stop(),t.Ta.length>0&&(Se(El,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Wx{constructor(e,n,s,l,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=o,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,o){const c=Date.now()+s,h=new Wx(e,n,c,l,o);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jx(t,e){if(Nr("AsyncQueue",`${e}: ${t}`),ac(t))return new _e(de.UNAVAILABLE,`${e}: ${t}`);throw t}class Lo{static emptySet(e){return new Lo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Re.comparator(n.key,s.key):(n,s)=>Re.comparator(n.key,s.key),this.keyedMap=Nu(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,o=s.getNext().key;if(!l.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Lo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class S2{constructor(){this.ga=new Vt(Re.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Le(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Yo{constructor(e,n,s,l,o,c,h,m,f){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=f}static fromInitialDocuments(e,n,s,l,o){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new Yo(e,n,Lo.emptySet(n),c,s,l,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class V8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class U8{constructor(){this.queries=E2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=ze(n),o=l.queries;l.queries=E2(),o.forEach(((c,h)=>{for(const m of h.Sa)m.onError(s)}))})(this,new _e(de.ABORTED,"Firestore shutting down"))}}function E2(){return new Il((t=>z5(t)),bf)}async function w_(t,e){const n=ze(t);let s=3;const l=e.query;let o=n.queries.get(l);o?!o.ba()&&e.Da()&&(s=2):(o=new V8,s=e.Da()?0:1);try{switch(s){case 0:o.wa=await n.onListen(l,!0);break;case 1:o.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(c){const h=Jx(c,`Initialization of query '${ko(e.query)}' failed`);return void e.onError(h)}n.queries.set(l,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Zx(n)}async function N_(t,e){const n=ze(t),s=e.query;let l=3;const o=n.queries.get(s);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?l=e.Da()?0:1:!o.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function z8(t,e){const n=ze(t);let s=!1;for(const l of e){const o=l.query,c=n.queries.get(o);if(c){for(const h of c.Sa)h.Fa(l)&&(s=!0);c.wa=l}}s&&Zx(n)}function F8(t,e,n){const s=ze(t),l=s.queries.get(e);if(l)for(const o of l.Sa)o.onError(n);s.queries.delete(e)}function Zx(t){t.Ca.forEach((e=>{e.next()}))}var Hg,T2;(T2=Hg||(Hg={})).Ma="default",T2.Cache="cache";class j_{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new Yo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Hg.Cache}}class __{constructor(e){this.key=e}}class S_{constructor(e){this.key=e}}class B8{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=st(),this.mutatedKeys=st(),this.eu=F5(e),this.tu=new Lo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new S2,l=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,c=l,h=!1;const m=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,f=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((x,y)=>{const v=l.get(x),w=vf(this.query,y)?y:null,S=!!v&&this.mutatedKeys.has(v.key),U=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let I=!1;v&&w?v.data.isEqual(w.data)?S!==U&&(s.track({type:3,doc:w}),I=!0):this.su(v,w)||(s.track({type:2,doc:w}),I=!0,(m&&this.eu(w,m)>0||f&&this.eu(w,f)<0)&&(h=!0)):!v&&w?(s.track({type:0,doc:w}),I=!0):v&&!w&&(s.track({type:1,doc:v}),I=!0,(m||f)&&(h=!0)),I&&(w?(c=c.add(w),o=U?o.add(x):o.delete(x)):(c=c.delete(x),o=o.delete(x)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const x=this.query.limitType==="F"?c.last():c.first();c=c.delete(x.key),o=o.delete(x.key),s.track({type:1,doc:x})}return{tu:c,iu:s,Cs:h,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((x,y)=>(function(w,S){const U=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Rt:I})}};return U(w)-U(S)})(x.type,y.type)||this.eu(x.doc,y.doc))),this.ou(s),l=l??!1;const h=n&&!l?this._u():[],m=this.Xa.size===0&&this.current&&!l?1:0,f=m!==this.Za;return this.Za=m,c.length!==0||f?{snapshot:new Yo(this.query,e.tu,o,c,e.mutatedKeys,m===0,f,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new S2,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=st(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new S_(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new __(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=st();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ey="SyncEngine";class $8{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class q8{constructor(e){this.key=e,this.hu=!1}}class H8{constructor(e,n,s,l,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Il((h=>z5(h)),bf),this.Iu=new Map,this.Eu=new Set,this.du=new Vt(Re.comparator),this.Au=new Map,this.Ru=new $x,this.Vu={},this.mu=new Map,this.fu=Go.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function G8(t,e,n=!0){const s=I_(t);let l;const o=s.Tu.get(e);return o?(s.sharedClientState.addLocalQueryTarget(o.targetId),l=o.view.lu()):l=await E_(s,e,n,!0),l}async function Y8(t,e){const n=I_(t);await E_(n,e,!0,!1)}async function E_(t,e,n,s){const l=await m8(t.localStore,Pa(e)),o=l.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let h;return s&&(h=await Q8(t,e,o,c==="current",l.resumeToken)),t.isPrimaryClient&&n&&p_(t.remoteStore,l),h}async function Q8(t,e,n,s,l){t.pu=(y,v,w)=>(async function(U,I,z,L){let q=I.view.ru(z);q.Cs&&(q=await b2(U.localStore,I.query,!1).then((({documents:D})=>I.view.ru(D,q))));const K=L&&L.targetChanges.get(I.targetId),se=L&&L.targetMismatches.get(I.targetId)!=null,G=I.view.applyChanges(q,U.isPrimaryClient,K,se);return A2(U,I.targetId,G.au),G.snapshot})(t,y,v,w);const o=await b2(t.localStore,e,!0),c=new B8(e,o.Qs),h=c.ru(o.documents),m=fd.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",l),f=c.applyChanges(h,t.isPrimaryClient,m);A2(t,n,f.au);const x=new $8(e,n,c);return t.Tu.set(e,x),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function K8(t,e,n){const s=ze(t),l=s.Tu.get(e),o=s.Iu.get(l.targetId);if(o.length>1)return s.Iu.set(l.targetId,o.filter((c=>!bf(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await $g(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Yx(s.remoteStore,l.targetId),Gg(s,l.targetId)})).catch(sc)):(Gg(s,l.targetId),await $g(s.localStore,l.targetId,!0))}async function X8(t,e){const n=ze(t),s=n.Tu.get(e),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Yx(n.remoteStore,s.targetId))}async function W8(t,e,n){const s=aM(t);try{const l=await(function(c,h){const m=ze(c),f=Rt.now(),x=h.reduce(((w,S)=>w.add(S.key)),st());let y,v;return m.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let S=jr(),U=st();return m.Ns.getEntries(w,x).next((I=>{S=I,S.forEach(((z,L)=>{L.isValidDocument()||(U=U.add(z))}))})).next((()=>m.localDocuments.getOverlayedDocuments(w,S))).next((I=>{y=I;const z=[];for(const L of h){const q=hD(L,y.get(L.key).overlayedDocument);q!=null&&z.push(new Mi(L.key,q,R5(q.value.mapValue),Us.exists(!0)))}return m.mutationQueue.addMutationBatch(w,f,z,h)})).next((I=>{v=I;const z=I.applyToLocalDocumentSet(y,U);return m.documentOverlayCache.saveOverlays(w,I.batchId,z)}))})).then((()=>({batchId:v.batchId,changes:$5(y)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(c,h,m){let f=c.Vu[c.currentUser.toKey()];f||(f=new Vt(nt)),f=f.insert(h,m),c.Vu[c.currentUser.toKey()]=f})(s,l.batchId,n),await gd(s,l.changes),await Ef(s.remoteStore)}catch(l){const o=Jx(l,"Failed to persist write");n.reject(o)}}async function T_(t,e){const n=ze(t);try{const s=await u8(n.localStore,e);e.targetChanges.forEach(((l,o)=>{const c=n.Au.get(o);c&&(gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?c.hu=!0:l.modifiedDocuments.size>0?gt(c.hu,14607):l.removedDocuments.size>0&&(gt(c.hu,42227),c.hu=!1))})),await gd(n,s,e)}catch(s){await sc(s)}}function C2(t,e,n){const s=ze(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((o,c)=>{const h=c.view.va(e);h.snapshot&&l.push(h.snapshot)})),(function(c,h){const m=ze(c);m.onlineState=h;let f=!1;m.queries.forEach(((x,y)=>{for(const v of y.Sa)v.va(h)&&(f=!0)})),f&&Zx(m)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function J8(t,e,n){const s=ze(t);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Au.get(e),o=l&&l.key;if(o){let c=new Vt(Re.comparator);c=c.insert(o,Un.newNoDocument(o,Ue.min()));const h=st().add(o),m=new jf(Ue.min(),new Map,new Vt(nt),c,h);await T_(s,m),s.du=s.du.remove(o),s.Au.delete(e),ty(s)}else await $g(s.localStore,e,!1).then((()=>Gg(s,e,n))).catch(sc)}async function Z8(t,e){const n=ze(t),s=e.batch.batchId;try{const l=await c8(n.localStore,e);A_(n,s,null),C_(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await gd(n,l)}catch(l){await sc(l)}}async function eM(t,e,n){const s=ze(t);try{const l=await(function(c,h){const m=ze(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let x;return m.mutationQueue.lookupMutationBatch(f,h).next((y=>(gt(y!==null,37113),x=y.keys(),m.mutationQueue.removeMutationBatch(f,y)))).next((()=>m.mutationQueue.performConsistencyCheck(f))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(f,x,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,x))).next((()=>m.localDocuments.getDocuments(f,x)))}))})(s.localStore,e);A_(s,e,n),C_(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await gd(s,l)}catch(l){await sc(l)}}function C_(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function A_(t,e,n){const s=ze(t);let l=s.Vu[s.currentUser.toKey()];if(l){const o=l.get(e);o&&(n?o.reject(n):o.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function Gg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||k_(t,s)}))}function k_(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Yx(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ty(t))}function A2(t,e,n){for(const s of n)s instanceof __?(t.Ru.addReference(s.key,e),tM(t,s)):s instanceof S_?(Se(ey,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||k_(t,s.key)):Le(19791,{wu:s})}function tM(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(Se(ey,"New document in limbo: "+n),t.Eu.add(s),ty(t))}function ty(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Re(At.fromString(e)),s=t.fu.next();t.Au.set(s,new q8(n)),t.du=t.du.insert(n,s),p_(t.remoteStore,new hi(Pa(Lx(n.path)),s,"TargetPurposeLimboResolution",gf.ce))}}async function gd(t,e,n){const s=ze(t),l=[],o=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,m)=>{c.push(s.pu(m,e,n).then((f=>{if((f||n)&&s.isPrimaryClient){const x=f?!f.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,x?"current":"not-current")}if(f){l.push(f);const x=Hx.As(m.targetId,f);o.push(x)}})))})),await Promise.all(c),s.Pu.H_(l),await(async function(m,f){const x=ze(m);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>fe.forEach(f,(v=>fe.forEach(v.Es,(w=>x.persistence.referenceDelegate.addReference(y,v.targetId,w))).next((()=>fe.forEach(v.ds,(w=>x.persistence.referenceDelegate.removeReference(y,v.targetId,w)))))))))}catch(y){if(!ac(y))throw y;Se(Gx,"Failed to update sequence numbers: "+y)}for(const y of f){const v=y.targetId;if(!y.fromCache){const w=x.Ms.get(v),S=w.snapshotVersion,U=w.withLastLimboFreeSnapshotVersion(S);x.Ms=x.Ms.insert(v,U)}}})(s.localStore,o))}async function nM(t,e){const n=ze(t);if(!n.currentUser.isEqual(e)){Se(ey,"User change. New user:",e.toKey());const s=await d_(n.localStore,e);n.currentUser=e,(function(o,c){o.mu.forEach((h=>{h.forEach((m=>{m.reject(new _e(de.CANCELLED,c))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await gd(n,s.Ls)}}function sM(t,e){const n=ze(t),s=n.Au.get(e);if(s&&s.hu)return st().add(s.key);{let l=st();const o=n.Iu.get(e);if(!o)return l;for(const c of o){const h=n.Tu.get(c);l=l.unionWith(h.view.nu)}return l}}function I_(t){const e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=T_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=J8.bind(null,e),e.Pu.H_=z8.bind(null,e.eventManager),e.Pu.yu=F8.bind(null,e.eventManager),e}function aM(t){const e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Z8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eM.bind(null,e),e}class $m{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_f(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return o8(this.persistence,new r8,e.initialUser,this.serializer)}Cu(e){return new u_(qx.mi,this.serializer)}Du(e){return new p8}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$m.provider={build:()=>new $m};class rM extends $m{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){gt(this.persistence.referenceDelegate instanceof Fm,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new qD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ss.withCacheSize(this.cacheSizeBytes):ss.DEFAULT;return new u_((s=>Fm.mi(s,n)),this.serializer)}}class Yg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>C2(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=nM.bind(null,this.syncEngine),await L8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new U8})()}createDatastore(e){const n=_f(e.databaseInfo.databaseId),s=(function(o){return new v8(o)})(e.databaseInfo);return(function(o,c,h,m){return new _8(o,c,h,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,l,o,c,h){return new E8(s,l,o,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>C2(this.syncEngine,n,0)),(function(){return N2.v()?new N2:new g8})())}createSyncEngine(e,n){return(function(l,o,c,h,m,f,x){const y=new H8(l,o,c,h,m,f);return x&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=ze(n);Se(El,"RemoteStore shutting down."),s.Ea.add(5),await pd(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Yg.provider={build:()=>new Yg};class R_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Nr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ai="FirestoreClient";class iM{constructor(e,n,s,l,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Vn.UNAUTHENTICATED,this.clientId=Ix.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(s,(async c=>{Se(Ai,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(Se(Ai,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Jx(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Jp(t,e){t.asyncQueue.verifyOperationInProgress(),Se(Ai,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async l=>{s.isEqual(l)||(await d_(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function k2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lM(t);Se(Ai,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>_2(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,l)=>_2(e.remoteStore,l))),t._onlineComponents=e}async function lM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se(Ai,"Using user provided OfflineComponentProvider");try{await Jp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===de.FAILED_PRECONDITION||l.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Fo("Error using user provided cache. Falling back to memory cache: "+n),await Jp(t,new $m)}}else Se(Ai,"Using default OfflineComponentProvider"),await Jp(t,new rM(void 0));return t._offlineComponents}async function D_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se(Ai,"Using user provided OnlineComponentProvider"),await k2(t,t._uninitializedComponentsProvider._online)):(Se(Ai,"Using default OnlineComponentProvider"),await k2(t,new Yg))),t._onlineComponents}function oM(t){return D_(t).then((e=>e.syncEngine))}async function M_(t){const e=await D_(t),n=e.eventManager;return n.onListen=G8.bind(null,e.syncEngine),n.onUnlisten=K8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Y8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=X8.bind(null,e.syncEngine),n}function cM(t,e,n={}){const s=new xr;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,m,f){const x=new R_({next:v=>{x.Nu(),c.enqueueAndForget((()=>N_(o,y)));const w=v.docs.has(h);!w&&v.fromCache?f.reject(new _e(de.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&v.fromCache&&m&&m.source==="server"?f.reject(new _e(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),y=new j_(Lx(h.path),x,{includeMetadataChanges:!0,qa:!0});return w_(o,y)})(await M_(t),t.asyncQueue,e,n,s))),s.promise}function uM(t,e,n={}){const s=new xr;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,m,f){const x=new R_({next:v=>{x.Nu(),c.enqueueAndForget((()=>N_(o,y))),v.fromCache&&m.source==="server"?f.reject(new _e(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),y=new j_(h,x,{includeMetadataChanges:!0,qa:!0});return w_(o,y)})(await M_(t),t.asyncQueue,e,n,s))),s.promise}function O_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const I2=new Map;const P_="firestore.googleapis.com",R2=!0;class D2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=P_,this.ssl=R2}else this.host=e.host,this.ssl=e.ssl??R2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=c_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BD)throw new _e(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}S6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O_(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _e(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _e(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _e(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tf{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new p6;switch(s.type){case"firstParty":return new b6(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=I2.get(n);s&&(Se("ComponentProvider","Removing Datastore"),I2.delete(n),s.terminate())})(this),Promise.resolve()}}function dM(t,e,n,s={}){t=ca(t,Tf);const l=Zo(e),o=t._getSettings(),c={...o,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;l&&(Ej(`https://${h}`),Tj("Firestore",!0)),o.host!==P_&&o.host!==h&&Fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...o,host:h,ssl:l,emulatorOptions:s};if(!ji(m,c)&&(t._setSettings(m),s.mockUserToken)){let f,x;if(typeof s.mockUserToken=="string")f=s.mockUserToken,x=Vn.MOCK_USER;else{f=wk(s.mockUserToken,t._app?.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new _e(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Vn(y)}t._authCredentials=new g6(new v5(f,x))}}class Oi{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Oi(this.firestore,e,this._query)}}class Gt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}toJSON(){return{type:Gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(hd(n,Gt._jsonSchema))return new Gt(e,s||null,new Re(At.fromString(n.referencePath)))}}Gt._jsonSchemaVersion="firestore/documentReference/1.0",Gt._jsonSchema={type:ln("string",Gt._jsonSchemaVersion),referencePath:ln("string")};class yi extends Oi{constructor(e,n,s){super(e,n,Lx(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new Re(e))}withConverter(e){return new yi(this.firestore,e,this._path)}}function os(t,e,...n){if(t=mn(t),w5("collection","path",e),t instanceof Tf){const s=At.fromString(e,...n);return Gw(s),new yi(t,null,s)}{if(!(t instanceof Gt||t instanceof yi))throw new _e(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(At.fromString(e,...n));return Gw(s),new yi(t.firestore,null,s)}}function fn(t,e,...n){if(t=mn(t),arguments.length===1&&(e=Ix.newId()),w5("doc","path",e),t instanceof Tf){const s=At.fromString(e,...n);return Hw(s),new Gt(t,null,new Re(s))}{if(!(t instanceof Gt||t instanceof yi))throw new _e(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(At.fromString(e,...n));return Hw(s),new Gt(t.firestore,t instanceof yi?t.converter:null,new Re(s))}}const M2="AsyncQueue";class O2{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new m_(this,"async_queue_retry"),this._c=()=>{const s=Wp();s&&Se(M2,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Wp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Wp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new xr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ac(e))throw e;Se(M2,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Nr("INTERNAL UNHANDLED ERROR: ",P2(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Wx.createAndSchedule(this,e,n,s,(o=>this.hc(o)));return this.tc.push(l),l}uc(){this.nc&&Le(47125,{Pc:P2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function P2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Dl extends Tf{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new O2,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O2(e),this._firestoreClient=void 0,await e}}}function hM(t,e){const n=typeof t=="object"?t:Ij(),s=typeof t=="string"?t:Om,l=bx(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const o=bk("firestore");o&&dM(l,...o)}return l}function ny(t){if(t._terminated)throw new _e(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||mM(t),t._firestoreClient}function mM(t){const e=t._freezeSettings(),n=(function(l,o,c,h){return new L6(l,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,O_(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new iM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(l){const o=l?._online.build();return{_offline:l?._offline.build(o),_online:o}})(t._componentsProvider))}class Ls{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ls(Rn.fromBase64String(e))}catch(n){throw new _e(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ls(Rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ls._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hd(e,Ls._jsonSchema))return Ls.fromBase64String(e.bytes)}}Ls._jsonSchemaVersion="firestore/bytes/1.0",Ls._jsonSchema={type:ln("string",Ls._jsonSchemaVersion),bytes:ln("string")};class Cf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xd{constructor(e){this._methodName=e}}class Va{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Va._jsonSchemaVersion}}static fromJSON(e){if(hd(e,Va._jsonSchema))return new Va(e.latitude,e.longitude)}}Va._jsonSchemaVersion="firestore/geoPoint/1.0",Va._jsonSchema={type:ln("string",Va._jsonSchemaVersion),latitude:ln("number"),longitude:ln("number")};class Ua{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let o=0;o<s.length;++o)if(s[o]!==l[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ua._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hd(e,Ua._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ua(e.vectorValues);throw new _e(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ua._jsonSchemaVersion="firestore/vectorValue/1.0",Ua._jsonSchema={type:ln("string",Ua._jsonSchemaVersion),vectorValues:ln("object")};const fM=/^__.*__$/;class pM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms):new md(e,this.data,n,this.fieldTransforms)}}class L_{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function V_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ac:t})}}class Af{constructor(e,n,s,l,o,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Af({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return qm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(V_(this.Ac)&&fM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||_f(e)}Cc(e,n,s,l=!1){return new Af({Ac:e,methodName:n,Dc:s,path:In.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kf(t){const e=t._freezeSettings(),n=_f(t._databaseId);return new gM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function U_(t,e,n,s,l,o={}){const c=t.Cc(o.merge||o.mergeFields?2:0,e,n,l);ry("Data must be an object, but it was:",c,s);const h=z_(s,c);let m,f;if(o.merge)m=new ws(c.fieldMask),f=c.fieldTransforms;else if(o.mergeFields){const x=[];for(const y of o.mergeFields){const v=Qg(e,y,n);if(!c.contains(v))throw new _e(de.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);B_(x,v)||x.push(v)}m=new ws(x),f=c.fieldTransforms.filter((y=>m.covers(y.field)))}else m=null,f=c.fieldTransforms;return new pM(new as(h),m,f)}class If extends xd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof If}}function xM(t,e,n){return new Af({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class sy extends xd{_toFieldTransform(e){return new X5(e.path,new Hu)}isEqual(e){return e instanceof sy}}class ay extends xd{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=xM(this,e,!0),s=this.vc.map((o=>lc(o,n))),l=new Ho(s);return new X5(e.path,l)}isEqual(e){return e instanceof ay&&ji(this.vc,e.vc)}}function yM(t,e,n,s){const l=t.Cc(1,e,n);ry("Data must be an object, but it was:",l,s);const o=[],c=as.empty();Di(s,((m,f)=>{const x=iy(e,m,n);f=mn(f);const y=l.yc(x);if(f instanceof If)o.push(x);else{const v=lc(f,y);v!=null&&(o.push(x),c.set(x,v))}}));const h=new ws(o);return new L_(c,h,l.fieldTransforms)}function bM(t,e,n,s,l,o){const c=t.Cc(1,e,n),h=[Qg(e,s,n)],m=[l];if(o.length%2!=0)throw new _e(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)h.push(Qg(e,o[v])),m.push(o[v+1]);const f=[],x=as.empty();for(let v=h.length-1;v>=0;--v)if(!B_(f,h[v])){const w=h[v];let S=m[v];S=mn(S);const U=c.yc(w);if(S instanceof If)f.push(w);else{const I=lc(S,U);I!=null&&(f.push(w),x.set(w,I))}}const y=new ws(f);return new L_(x,y,c.fieldTransforms)}function vM(t,e,n,s=!1){return lc(n,t.Cc(s?4:3,e))}function lc(t,e){if(F_(t=mn(t)))return ry("Unsupported field value:",e,t),z_(t,e);if(t instanceof xd)return(function(s,l){if(!V_(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const o=s._toFieldTransform(l);o&&l.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const o=[];let c=0;for(const h of s){let m=lc(h,l.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),o.push(m),c++}return{arrayValue:{values:o}}})(t,e)}return(function(s,l){if((s=mn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return iD(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const o=Rt.fromDate(s);return{timestampValue:zm(l.serializer,o)}}if(s instanceof Rt){const o=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:zm(l.serializer,o)}}if(s instanceof Va)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ls)return{bytesValue:n_(l.serializer,s._byteString)};if(s instanceof Gt){const o=l.databaseId,c=s.firestore._databaseId;if(!c.isEqual(o))throw l.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Bx(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Ua)return(function(c,h){return{mapValue:{fields:{[k5]:{stringValue:I5},[Pm]:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw h.Sc("VectorValues must only contain numeric values.");return Vx(h.serializer,f)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${pf(s)}`)})(t,e)}function z_(t,e){const n={};return _5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Di(t,((s,l)=>{const o=lc(l,e.mc(s));o!=null&&(n[s]=o)})),{mapValue:{fields:n}}}function F_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof Va||t instanceof Ls||t instanceof Gt||t instanceof xd||t instanceof Ua)}function ry(t,e,n){if(!F_(n)||!N5(n)){const s=pf(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function Qg(t,e,n){if((e=mn(e))instanceof Cf)return e._internalPath;if(typeof e=="string")return iy(t,e);throw qm("Field path arguments must be of type string or ",t,!1,void 0,n)}const wM=new RegExp("[~\\*/\\[\\]]");function iy(t,e,n){if(e.search(wM)>=0)throw qm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cf(...e.split("."))._internalPath}catch{throw qm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qm(t,e,n,s,l){const o=s&&!s.isEmpty(),c=l!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(o||c)&&(m+=" (found",o&&(m+=` in field ${s}`),c&&(m+=` in document ${l}`),m+=")"),new _e(de.INVALID_ARGUMENT,h+t+m)}function B_(t,e){return t.some((n=>n.isEqual(e)))}class $_{constructor(e,n,s,l,o){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NM extends $_{data(){return super.data()}}function Rf(t,e){return typeof e=="string"?iy(t,e):e instanceof Cf?e._internalPath:e._delegate._internalPath}function jM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ly{}class oy extends ly{}function zs(t,e,...n){let s=[];e instanceof ly&&s.push(e),s=s.concat(n),(function(o){const c=o.filter((m=>m instanceof uy)).length,h=o.filter((m=>m instanceof Df)).length;if(c>1||c>0&&h>0)throw new _e(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)t=l._apply(t);return t}class Df extends oy{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Df(e,n,s)}_apply(e){const n=this._parse(e);return q_(e._query,n),new Oi(e.firestore,e.converter,Vg(e._query,n))}_parse(e){const n=kf(e.firestore);return(function(o,c,h,m,f,x,y){let v;if(f.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new _e(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){V2(y,x);const S=[];for(const U of y)S.push(L2(m,o,U));v={arrayValue:{values:S}}}else v=L2(m,o,y)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||V2(y,x),v=vM(h,c,y,x==="in"||x==="not-in");return rn.create(f,x,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function cy(t,e,n){const s=e,l=Rf("where",t);return Df._create(l,s,n)}class uy extends ly{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new uy(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ua.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,o){let c=l;const h=o.getFlattenedFilters();for(const m of h)q_(c,m),c=Vg(c,m)})(e._query,n),new Oi(e.firestore,e.converter,Vg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dy extends oy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dy(e,n)}_apply(e){const n=(function(l,o,c){if(l.startAt!==null)throw new _e(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new _e(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qu(o,c)})(e._query,this._field,this._direction);return new Oi(e.firestore,e.converter,(function(l,o){const c=l.explicitOrderBy.concat([o]);return new rc(l.path,l.collectionGroup,c,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function oc(t,e="asc"){const n=e,s=Rf("orderBy",t);return dy._create(s,n)}class hy extends oy{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new hy(e,n,s)}_apply(e){return new Oi(e.firestore,e.converter,Vm(e._query,this._limit,this._limitType))}}function my(t){return E6("limit",t),hy._create("limit",t,"F")}function L2(t,e,n){if(typeof(n=mn(n))=="string"){if(n==="")throw new _e(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!U5(e)&&n.indexOf("/")!==-1)throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(At.fromString(n));if(!Re.isDocumentKey(s))throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return e2(t,new Re(s))}if(n instanceof Gt)return e2(t,n._key);throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pf(n)}.`)}function V2(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function q_(t,e){const n=(function(l,o){for(const c of l)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new _e(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _M{convertValue(e,n="none"){switch(Ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Di(e,((l,o)=>{s[l]=this.convertValue(o,n)})),s}convertVectorValue(e){const n=e.fields?.[Pm].arrayValue?.values?.map((s=>Ht(s.doubleValue)));return new Ua(n)}convertGeoPoint(e){return new Va(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=yf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Fu(e));default:return null}}convertTimestamp(e){const n=Si(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=At.fromString(e);gt(o_(s),9688,{name:e});const l=new Bu(s.get(1),s.get(3)),o=new Re(s.popFirst(5));return l.isEqual(n)||Nr(`Document ${o} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function H_(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class _u{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xl extends $_{constructor(e,n,s,l,o,c){super(e,n,s,l,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ym(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Rf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=xl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}xl._jsonSchemaVersion="firestore/documentSnapshot/1.0",xl._jsonSchema={type:ln("string",xl._jsonSchemaVersion),bundleSource:ln("string","DocumentSnapshot"),bundleName:ln("string"),bundle:ln("string")};class ym extends xl{data(e={}){return super.data(e)}}class Vo{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new _u(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new ym(this._firestore,this._userDataWriter,s.key,s,new _u(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,o){if(l._snapshot.oldDocs.isEmpty()){let c=0;return l._snapshot.docChanges.map((h=>{const m=new ym(l._firestore,l._userDataWriter,h.doc.key,h.doc,new _u(l._snapshot.mutatedKeys.has(h.doc.key),l._snapshot.fromCache),l.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const m=new ym(l._firestore,l._userDataWriter,h.doc.key,h.doc,new _u(l._snapshot.mutatedKeys.has(h.doc.key),l._snapshot.fromCache),l.query.converter);let f=-1,x=-1;return h.type!==0&&(f=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),x=c.indexOf(h.doc.key)),{type:SM(h.type),doc:m,oldIndex:f,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ix.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),s.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),l.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function SM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}function Mf(t){t=ca(t,Gt);const e=ca(t.firestore,Dl);return cM(ny(e),t._key).then((n=>TM(e,t,n)))}Vo._jsonSchemaVersion="firestore/querySnapshot/1.0",Vo._jsonSchema={type:ln("string",Vo._jsonSchemaVersion),bundleSource:ln("string","QuerySnapshot"),bundleName:ln("string"),bundle:ln("string")};class G_ extends _M{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ls(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}function Ml(t){t=ca(t,Oi);const e=ca(t.firestore,Dl),n=ny(e),s=new G_(e);return jM(t._query),uM(n,t._query).then((l=>new Vo(e,s,t,l)))}function EM(t,e,n){t=ca(t,Gt);const s=ca(t.firestore,Dl),l=H_(t.converter,e,n);return Of(s,[U_(kf(s),"setDoc",t._key,l,t.converter!==null,n).toMutation(t._key,Us.none())])}function da(t,e,n,...s){t=ca(t,Gt);const l=ca(t.firestore,Dl),o=kf(l);let c;return c=typeof(e=mn(e))=="string"||e instanceof Cf?bM(o,"updateDoc",t._key,e,n,s):yM(o,"updateDoc",t._key,e),Of(l,[c.toMutation(t._key,Us.exists(!0))])}function fy(t){return Of(ca(t.firestore,Dl),[new Ux(t._key,Us.none())])}function Ol(t,e){const n=ca(t.firestore,Dl),s=fn(t),l=H_(t.converter,e);return Of(n,[U_(kf(t.firestore),"addDoc",s._key,l,t.converter!==null,{}).toMutation(s._key,Us.exists(!1))]).then((()=>s))}function Of(t,e){return(function(s,l){const o=new xr;return s.asyncQueue.enqueueAndForget((async()=>W8(await oM(s),l,o))),o.promise})(ny(t),e)}function TM(t,e,n){const s=n.docs.get(e._key),l=new G_(t);return new xl(t,l,e._key,s,new _u(n.hasPendingWrites,n.fromCache),e.converter)}function Yt(){return new sy("serverTimestamp")}function Qo(...t){return new ay("arrayUnion",t)}(function(e,n=!0){(function(l){nc=l})(ec),zo(new Nl("firestore",((s,{instanceIdentifier:l,options:o})=>{const c=s.getProvider("app").getImmediate(),h=new Dl(new x6(s.getProvider("auth-internal")),new v6(c,s.getProvider("app-check-internal")),(function(f,x){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new _e(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(f.options.projectId,x)})(c,l),c);return o={useFetchStreams:n,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),gi(Fw,Bw,e),gi(Fw,Bw,"esm2020")})();const CM={apiKey:"AIzaSyAgGkHhRcdGatNvRsm5BQv_RerjG8qt70M",authDomain:"adjucator-ai.firebaseapp.com",projectId:"adjucator-ai",storageBucket:"adjucator-ai.firebasestorage.app",messagingSenderId:"82725691768",appId:"1:82725691768:web:6186a5b41b8a0aa1e7688d",measurementId:"G-N92VEHSKDE"},Y_=kj(CM),yd=m6(Y_),mt=hM(Y_),AM=new hr,kM=async(t,e)=>{const n=await XI(yd,t,e);return await JI(n.user),n},IM=async(t,e)=>await WI(yd,t,e),RM=async()=>await NR(yd,AM),DM=async()=>await nR(yd),MM=t=>tR(yd,t),Zp=async(t,e)=>{const n=fn(mt,"users",t);await EM(n,{...e,createdAt:new Date().toISOString(),history:[]},{merge:!0})},U2=async t=>{const e=fn(mt,"users",t),n=await Mf(e);return n.exists()?n.data():null},OM=async(t,e)=>{const n=fn(mt,"users",t);await da(n,e)},Q_=A.createContext(null),Mn=()=>{const t=A.useContext(Q_);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},PM=({children:t})=>{const[e,n]=A.useState(null),[s,l]=A.useState(null),[o,c]=A.useState(!0),[h,m]=A.useState(null);A.useEffect(()=>{const I=MM(async z=>{if(n(z),z)try{let L=await U2(z.uid);L||(L={email:z.email,displayName:z.displayName||"",photoURL:z.photoURL||"",preferredEvents:[],settings:{theme:"dark",autoSaveHistory:!0}},await Zp(z.uid,L)),l(L)}catch(L){console.error("Error fetching user profile:",L)}else l(null);c(!1)});return()=>I()},[]);const U={user:e,userProfile:s,loading:o,error:h,login:async(I,z)=>{m(null);try{return await IM(I,z)}catch(L){throw m(Zh(L.code)),L}},register:async(I,z,L)=>{m(null);try{const q=await kM(I,z);return await Zp(q.user.uid,{email:I,displayName:L,photoURL:"",preferredEvents:[],settings:{theme:"dark",autoSaveHistory:!0}}),q}catch(q){throw m(Zh(q.code)),q}},loginWithGoogle:async()=>{m(null);try{const I=await RM();return await U2(I.user.uid)||await Zp(I.user.uid,{email:I.user.email,displayName:I.user.displayName||"",photoURL:I.user.photoURL||"",preferredEvents:[],settings:{theme:"dark",autoSaveHistory:!0}}),I}catch(I){throw m(Zh(I.code)),I}},logout:async()=>{m(null);try{await DM()}catch(I){throw m(Zh(I.code)),I}},updateProfile:async I=>{if(e)try{await OM(e.uid,I),l(z=>({...z,...I}))}catch(z){throw m("Failed to update profile"),z}},clearError:()=>m(null),isAuthenticated:!!e};return a.jsx(Q_.Provider,{value:U,children:t})};function Zh(t){return{"auth/email-already-in-use":"This email is already registered. Try logging in instead.","auth/invalid-email":"Please enter a valid email address.","auth/operation-not-allowed":"This sign-in method is not enabled.","auth/weak-password":"Password should be at least 6 characters.","auth/user-disabled":"This account has been disabled.","auth/user-not-found":"No account found with this email.","auth/wrong-password":"Incorrect password. Please try again.","auth/invalid-credential":"Invalid credentials. Please check your email and password.","auth/too-many-requests":"Too many failed attempts. Please try again later.","auth/popup-closed-by-user":"Sign-in popup was closed. Please try again.","auth/popup-blocked":"Sign-in popup was blocked. Please enable popups.","auth/network-request-failed":"Network error. Please check your connection."}[t]||"An error occurred. Please try again."}const mu={dark:{id:"dark",name:"Dark",icon:"",colors:{bgPrimary:"#020617",bgSecondary:"#0f172a",bgTertiary:"#1e293b",textPrimary:"#f8fafc",textSecondary:"#94a3b8",textMuted:"#64748b",primary:"#06b6d4",primaryHover:"#22d3ee",accent:"#a855f7",border:"rgba(51, 65, 85, 0.5)",glass:"rgba(15, 23, 42, 0.8)",cardBg:"rgba(15, 23, 42, 0.5)",inputBg:"#020617",success:"#22c55e",warning:"#f59e0b",error:"#ef4444"}},light:{id:"light",name:"Light",icon:"",colors:{bgPrimary:"#ffffff",bgSecondary:"#f8fafc",bgTertiary:"#e2e8f0",textPrimary:"#0f172a",textSecondary:"#334155",textMuted:"#64748b",primary:"#0891b2",primaryHover:"#0e7490",accent:"#7c3aed",border:"rgba(15, 23, 42, 0.15)",glass:"rgba(255, 255, 255, 0.95)",cardBg:"rgba(248, 250, 252, 0.9)",inputBg:"#ffffff",success:"#16a34a",warning:"#d97706",error:"#dc2626"}}},K_=A.createContext(null),LM=()=>{const t=A.useContext(K_);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},VM=({children:t})=>{const[e,n]=A.useState(()=>localStorage.getItem("theme")||"dark"),s=mu[e]||mu.dark;A.useEffect(()=>{const h=document.documentElement,m=s.colors;h.style.setProperty("--bg-primary",m.bgPrimary),h.style.setProperty("--bg-secondary",m.bgSecondary),h.style.setProperty("--bg-tertiary",m.bgTertiary),h.style.setProperty("--text-primary",m.textPrimary),h.style.setProperty("--text-secondary",m.textSecondary),h.style.setProperty("--text-muted",m.textMuted),h.style.setProperty("--primary",m.primary),h.style.setProperty("--primary-hover",m.primaryHover),h.style.setProperty("--accent",m.accent),h.style.setProperty("--border",m.border),h.style.setProperty("--glass",m.glass),h.style.setProperty("--card-bg",m.cardBg),h.style.setProperty("--input-bg",m.inputBg),h.style.setProperty("--success",m.success),h.style.setProperty("--warning",m.warning),h.style.setProperty("--error",m.error),h.className=`theme-${e}`,localStorage.setItem("theme",e)},[e,s]);const c={theme:s,themeId:e,setTheme:h=>{mu[h]&&n(h)},cycleTheme:()=>{const h=Object.keys(mu),f=(h.indexOf(e)+1)%h.length;n(h[f])},themes:mu};return a.jsx(K_.Provider,{value:c,children:t})},UM=({activeTab:t,setActiveTab:e,onSettingsClick:n})=>{const[s,l]=A.useState(!1),[o,c]=A.useState(!1),[h,m]=A.useState(!1),{user:f,logout:x,isAuthenticated:y}=Mn(),{theme:v,setTheme:w}=LM(),S=[{id:"dashboard",label:"Dashboard",icon:Qn},{id:"analytics",label:"Analytics",icon:Qn},{id:"judge",label:"Analyze",icon:ra},{id:"coach",label:"Live Coach",icon:yl},{id:"practice",label:"Practice",icon:$T},{id:"tournaments",label:"Tournaments",icon:on}],U=[{id:"quickstats",label:"Quick Stats",icon:vi},{id:"motions",label:"Motion Library",icon:pA},{id:"ballot",label:"Ballot Generator",icon:OT},{id:"flowchart",label:"Flowchart",icon:nf},{id:"voice",label:"Voice Analysis",icon:ra},{id:"timer",label:"Debate Timer",icon:yj},{id:"outline",label:"Outline Builder",icon:px},{id:"scheduler",label:"Round Scheduler",icon:pr},{id:"opponents",label:"Opponents",icon:Ot},{id:"evidence",label:"Evidence Library",icon:yr},{id:"team",label:"Team",icon:Vs},{id:"strategy",label:"Strategy",icon:kl},{id:"extemp",label:"Extemp",icon:rs},{id:"tone",label:"Tone Analysis",icon:ra},{id:"history",label:"History",icon:Fa}],I=[{id:1,title:"Analysis Complete",message:"Your PF speech analysis is ready",time:"2m ago",unread:!0},{id:2,title:"New Feature",message:"Team collaboration now available",time:"1h ago",unread:!0},{id:3,title:"Weekly Report",message:"Your performance summary is ready",time:"1d ago",unread:!1}],z=I.filter(L=>L.unread).length;return a.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 h-16 border-b border-slate-800/60 bg-slate-950/95 backdrop-blur-xl",children:[a.jsxs("div",{className:"h-full max-w-[1800px] mx-auto px-6 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsxs("button",{onClick:()=>e("dashboard"),className:"flex items-center gap-3 group",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-xl blur opacity-40 group-hover:opacity-60 transition-opacity"}),a.jsx("div",{className:"relative w-9 h-9 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:a.jsx(za,{className:"w-5 h-5 text-white"})})]}),a.jsxs("div",{className:"hidden sm:block",children:[a.jsx("span",{className:"text-lg font-bold text-white tracking-tight",children:"Adjudicator"}),a.jsx("span",{className:"text-lg font-light text-slate-400 ml-1",children:"AI"})]})]}),a.jsxs("div",{className:"hidden lg:flex items-center gap-2",children:[a.jsx("div",{className:"flex items-center bg-slate-900/50 rounded-xl p-1 border border-slate-800/50",children:S.map(L=>a.jsxs("button",{onClick:()=>e(L.id),className:`flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${t===L.id?"bg-slate-800 text-white shadow-sm":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,children:[a.jsx(L.icon,{className:"w-4 h-4"}),L.label]},L.id))}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>m(!h),className:`flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 border ${U.some(L=>L.id===t)?"bg-slate-800 text-white border-slate-700":"text-slate-400 hover:text-white hover:bg-slate-800/50 border-slate-800/50"}`,children:[a.jsx(lw,{className:"w-4 h-4"}),"More",a.jsx(wi,{className:"w-3 h-3"})]}),h&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>m(!1)}),a.jsx("div",{className:"absolute left-0 top-full mt-2 w-56 bg-slate-900 border border-slate-800 rounded-xl shadow-2xl shadow-black/50 overflow-hidden z-50",children:a.jsx("div",{className:"p-2",children:U.map(L=>a.jsxs("button",{onClick:()=>{e(L.id),m(!1)},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all text-left ${t===L.id?"bg-cyan-500/10 text-cyan-400":"text-slate-300 hover:text-white hover:bg-slate-800/50"}`,children:[a.jsx(L.icon,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:L.label})]},L.id))})})]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{className:"hidden md:flex items-center gap-2 px-3 py-2 rounded-lg bg-slate-900/50 border border-slate-800/50 text-slate-500 hover:text-slate-300 hover:border-slate-700 transition-all",children:[a.jsx(vl,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Search..."}),a.jsx("kbd",{className:"ml-2 px-1.5 py-0.5 text-xs bg-slate-800 rounded border border-slate-700",children:"K"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>c(!o),className:"relative p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",children:[a.jsx(gT,{className:"w-5 h-5"}),z>0&&a.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-cyan-500 rounded-full ring-2 ring-slate-950"})]}),o&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>c(!1)}),a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-slate-900 border border-slate-800 rounded-xl shadow-2xl shadow-black/50 overflow-hidden z-50",children:[a.jsx("div",{className:"p-4 border-b border-slate-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-white",children:"Notifications"}),z>0&&a.jsxs("span",{className:"px-2 py-0.5 text-xs font-medium bg-cyan-500/10 text-cyan-400 rounded-full",children:[z," new"]})]})}),a.jsx("div",{className:"max-h-80 overflow-y-auto",children:I.map(L=>a.jsx("div",{className:`p-4 border-b border-slate-800/50 hover:bg-slate-800/30 transition-colors cursor-pointer ${L.unread?"bg-slate-800/20":""}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[L.unread&&a.jsx("span",{className:"w-2 h-2 mt-2 bg-cyan-500 rounded-full flex-shrink-0"}),a.jsxs("div",{className:L.unread?"":"ml-5",children:[a.jsx("p",{className:"text-sm font-medium text-white",children:L.title}),a.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:L.message}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:L.time})]})]})},L.id))}),a.jsx("div",{className:"p-3 border-t border-slate-800",children:a.jsx("button",{className:"w-full py-2 text-sm text-cyan-400 hover:text-cyan-300 transition-colors",children:"View all notifications"})})]})]})]}),a.jsx("button",{onClick:n,className:"p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",children:a.jsx(nd,{className:"w-5 h-5"})}),a.jsxs("div",{className:"relative ml-2",children:[a.jsxs("button",{onClick:()=>l(!s),className:"flex items-center gap-3 p-1.5 pr-3 rounded-xl hover:bg-slate-800/50 transition-all",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center text-white font-semibold text-sm shadow-lg",children:f?.displayName?.[0]||f?.email?.[0]?.toUpperCase()||"G"}),a.jsx(wi,{className:"w-4 h-4 text-slate-400"})]}),s&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>l(!1)}),a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-slate-900 border border-slate-800 rounded-xl shadow-2xl shadow-black/50 overflow-hidden z-50",children:[a.jsx("div",{className:"p-4 border-b border-slate-800",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center text-white font-semibold shadow-lg",children:f?.displayName?.[0]||f?.email?.[0]?.toUpperCase()||"G"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-white truncate",children:f?.displayName||"Guest User"}),a.jsx("p",{className:"text-xs text-slate-500 truncate",children:f?.email||"guest@adjudicator.ai"})]})]})}),a.jsxs("div",{className:"p-2",children:[a.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-300 hover:text-white hover:bg-slate-800/50 transition-all text-left",children:[a.jsx(rd,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Profile Settings"})]}),a.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-300 hover:text-white hover:bg-slate-800/50 transition-all text-left",children:[a.jsx(UT,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Subscription"})]}),a.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-300 hover:text-white hover:bg-slate-800/50 transition-all text-left",children:[a.jsx(dx,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Help & Support"})]}),a.jsx("div",{className:"px-3 py-2.5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-slate-300",children:"Dark Mode"}),a.jsx("button",{onClick:()=>w(v==="dark"?"light":"dark"),className:`relative w-11 h-6 rounded-full transition-colors ${v==="dark"?"bg-cyan-500":"bg-slate-700"}`,children:a.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${v==="dark"?"left-6":"left-1"}`})})]})})]}),y&&a.jsx("div",{className:"p-2 border-t border-slate-800",children:a.jsxs("button",{onClick:x,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-all text-left",children:[a.jsx(kC,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Sign Out"})]})})]})]})]})]})]}),a.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-slate-950/95 backdrop-blur-xl border-t border-slate-800/60 px-2 py-2 z-50",children:a.jsxs("div",{className:"flex items-center justify-around",children:[S.slice(0,5).map(L=>a.jsxs("button",{onClick:()=>e(L.id),className:`flex flex-col items-center gap-1 px-2 py-2 rounded-lg transition-all ${t===L.id?"text-cyan-400":"text-slate-500 hover:text-slate-300"}`,children:[a.jsx(L.icon,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[10px] font-medium",children:L.label})]},L.id)),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>m(!h),className:`flex flex-col items-center gap-1 px-2 py-2 rounded-lg transition-all ${U.some(L=>L.id===t)?"text-cyan-400":"text-slate-500 hover:text-slate-300"}`,children:[a.jsx(lw,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[10px] font-medium",children:"More"})]}),h&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>m(!1)}),a.jsx("div",{className:"absolute bottom-full right-0 mb-2 w-48 bg-slate-900 border border-slate-800 rounded-xl shadow-2xl shadow-black/50 overflow-hidden z-50",children:a.jsx("div",{className:"p-2 max-h-64 overflow-y-auto",children:U.map(L=>a.jsxs("button",{onClick:()=>{e(L.id),m(!1)},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all text-left ${t===L.id?"bg-cyan-500/10 text-cyan-400":"text-slate-300 hover:text-white hover:bg-slate-800/50"}`,children:[a.jsx(L.icon,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:L.label})]},L.id))})})]})]})]})})]})},zM=({children:t,activeTab:e,setActiveTab:n,onSettingsClick:s})=>a.jsxs("div",{className:"min-h-screen bg-slate-950",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[600px] bg-cyan-500/5 rounded-full blur-[120px]"}),a.jsx("div",{className:"absolute bottom-0 right-1/4 w-[600px] h-[600px] bg-purple-500/5 rounded-full blur-[120px]"}),a.jsx("div",{className:"absolute inset-0 opacity-[0.015]",style:{backgroundImage:`
              linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
              linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)
            `,backgroundSize:"64px 64px"}})]}),a.jsx(UM,{activeTab:e,setActiveTab:n,onSettingsClick:s}),a.jsx("main",{className:"relative pt-16 pb-20 lg:pb-8 min-h-screen",children:a.jsx("div",{className:"max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t})})]}),FM=({setActiveTab:t})=>{const e=[{label:"Speech Analysis",icon:ra,color:"cyan",title:"No speeches analyzed yet",description:"Upload or record a speech to get AI-powered feedback on delivery, structure, and argumentation.",action:"Analyze First Speech",tab:"judge"},{label:"Live Coaching",icon:vi,color:"purple",title:"No coaching sessions yet",description:"Start a live session to get real-time feedback as you practice your speech or debate.",action:"Start Coaching",tab:"coach"},{label:"Strategy Builder",icon:Ot,color:"orange",title:"No strategies created yet",description:"Build winning debate strategies with AI-powered case analysis and argument mapping.",action:"Build Strategy",tab:"strategy"},{label:"Tone Analysis",icon:Ii,color:"emerald",title:"No tone analyses yet",description:"Analyze the rhetorical tone and persuasive elements of your speeches.",action:"Analyze Tone",tab:"tone"}],n=[{label:"New Analysis",icon:rs,tab:"judge",color:"from-cyan-500 to-blue-500"},{label:"Start Coaching",icon:Ni,tab:"coach",color:"from-purple-500 to-pink-500"},{label:"Build Strategy",icon:Ot,tab:"strategy",color:"from-orange-500 to-red-500"},{label:"View History",icon:Fa,tab:"history",color:"from-emerald-500 to-teal-500"}];return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"Dashboard"}),a.jsx("p",{className:"text-slate-400 mt-1",children:"Welcome! Let's get started on improving your debate skills."})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.map((s,l)=>{const o=s.icon;return a.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},className:"relative group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-800/50 to-slate-900/50 rounded-2xl"}),a.jsxs("div",{className:"relative p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm hover:border-slate-700/60 transition-all h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[a.jsx("div",{className:`p-3 rounded-xl bg-${s.color}-500/10 border border-${s.color}-500/20`,children:a.jsx(o,{className:`w-6 h-6 text-${s.color}-400`})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:s.label}),a.jsx("p",{className:"text-lg font-semibold text-white mt-0.5",children:s.title})]})]}),a.jsx("p",{className:"text-slate-400 text-sm flex-1 mb-4",children:s.description}),a.jsxs("button",{onClick:()=>t(s.tab),className:`w-full py-2.5 px-4 rounded-lg bg-${s.color}-500/10 border border-${s.color}-500/30 text-${s.color}-400 font-medium hover:bg-${s.color}-500/20 transition-all flex items-center justify-center gap-2`,children:[a.jsx(Fs,{className:"w-4 h-4"}),s.action]})]})]},s.label)})}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm h-full",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"Performance Trend"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Track your improvement over time"})]})}),a.jsxs("div",{className:"relative h-48 mt-4 flex flex-col items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 flex items-end justify-between gap-2 px-2 opacity-20",children:[40,55,45,60,50,65,58,70,63,75,68,80].map((s,l)=>a.jsx("div",{className:"flex-1 flex flex-col items-center gap-2",children:a.jsx("div",{style:{height:`${s}%`},className:"w-full bg-gradient-to-t from-slate-700/50 to-slate-600/30 rounded-t-lg"})},l))}),a.jsxs("div",{className:"relative z-10 text-center",children:[a.jsx("div",{className:"p-4 rounded-full bg-slate-800/50 border border-slate-700/50 mb-4 mx-auto w-fit",children:a.jsx(Qn,{className:"w-8 h-8 text-slate-500"})}),a.jsx("p",{className:"text-slate-400 font-medium",children:"No performance data yet"}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Complete your first analysis to start tracking progress"})]})]})]})}),a.jsx("div",{children:a.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm h-full",children:[a.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Quick Actions"}),a.jsx("div",{className:"space-y-3",children:n.map((s,l)=>{const o=s.icon;return a.jsxs("button",{onClick:()=>t(s.tab),className:"w-full flex items-center gap-4 p-4 rounded-xl border border-slate-800/60 bg-slate-900/50 hover:bg-slate-800/50 hover:border-slate-700 transition-all group",children:[a.jsx("div",{className:`p-2.5 rounded-lg bg-gradient-to-br ${s.color} shadow-lg`,children:a.jsx(o,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"flex-1 text-left text-white font-medium",children:s.label}),a.jsx(Nn,{className:"w-5 h-5 text-slate-500 group-hover:text-slate-300 group-hover:translate-x-1 transition-all"})]},s.label)})})]})})]}),a.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsx("h2",{className:"text-lg font-semibold text-white",children:"Recent Activity"})}),a.jsxs("div",{className:"py-12 flex flex-col items-center justify-center",children:[a.jsx("div",{className:"p-4 rounded-full bg-slate-800/50 border border-slate-700/50 mb-4",children:a.jsx(Fa,{className:"w-8 h-8 text-slate-500"})}),a.jsx("p",{className:"text-slate-400 font-medium",children:"No recent activity"}),a.jsx("p",{className:"text-slate-500 text-sm mt-1 text-center max-w-md",children:"Your recent analyses, coaching sessions, and strategies will appear here as you use the platform."}),a.jsxs("button",{onClick:()=>t("judge"),className:"mt-6 px-5 py-2.5 rounded-lg bg-cyan-500/10 border border-cyan-500/30 text-cyan-400 font-medium hover:bg-cyan-500/20 transition-all flex items-center gap-2",children:[a.jsx(rs,{className:"w-4 h-4"}),"Start Your First Analysis"]})]})]}),a.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"relative overflow-hidden rounded-2xl border border-slate-800/60",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 via-purple-500/10 to-cyan-500/10"}),a.jsxs("div",{className:"relative p-6 flex items-center gap-6",children:[a.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-cyan-500 to-purple-600 shadow-lg",children:a.jsx(kl,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-white font-semibold",children:"Getting Started"}),a.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Start by analyzing your first speech. Upload a recording or paste your speech text to get detailed AI-powered feedback."})]}),a.jsx("button",{onClick:()=>t("judge"),className:"px-5 py-2.5 rounded-lg bg-white text-slate-900 font-semibold hover:bg-slate-100 transition-colors",children:"Get Started"})]})]})]})};function BM(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const $M=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,qM=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,HM={};function z2(t,e){return(HM.jsx?qM:$M).test(t)}const GM=/[ \t\n\f\r]/g;function YM(t){return typeof t=="object"?t.type==="text"?F2(t.value):!1:F2(t)}function F2(t){return t.replace(GM,"")===""}class bd{constructor(e,n,s){this.normal=n,this.property=e,s&&(this.space=s)}}bd.prototype.normal={};bd.prototype.property={};bd.prototype.space=void 0;function X_(t,e){const n={},s={};for(const l of t)Object.assign(n,l.property),Object.assign(s,l.normal);return new bd(n,s,e)}function Kg(t){return t.toLowerCase()}class cs{constructor(e,n){this.attribute=n,this.property=e}}cs.prototype.attribute="";cs.prototype.booleanish=!1;cs.prototype.boolean=!1;cs.prototype.commaOrSpaceSeparated=!1;cs.prototype.commaSeparated=!1;cs.prototype.defined=!1;cs.prototype.mustUseProperty=!1;cs.prototype.number=!1;cs.prototype.overloadedBoolean=!1;cs.prototype.property="";cs.prototype.spaceSeparated=!1;cs.prototype.space=void 0;let QM=0;const Ye=Pl(),an=Pl(),Xg=Pl(),xe=Pl(),Ct=Pl(),Uo=Pl(),bs=Pl();function Pl(){return 2**++QM}const Wg=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ye,booleanish:an,commaOrSpaceSeparated:bs,commaSeparated:Uo,number:xe,overloadedBoolean:Xg,spaceSeparated:Ct},Symbol.toStringTag,{value:"Module"})),eg=Object.keys(Wg);class py extends cs{constructor(e,n,s,l){let o=-1;if(super(e,n),B2(this,"space",l),typeof s=="number")for(;++o<eg.length;){const c=eg[o];B2(this,eg[o],(s&Wg[c])===Wg[c])}}}py.prototype.defined=!0;function B2(t,e,n){n&&(t[e]=n)}function cc(t){const e={},n={};for(const[s,l]of Object.entries(t.properties)){const o=new py(s,t.transform(t.attributes||{},s),l,t.space);t.mustUseProperty&&t.mustUseProperty.includes(s)&&(o.mustUseProperty=!0),e[s]=o,n[Kg(s)]=s,n[Kg(o.attribute)]=s}return new bd(e,n,t.space)}const W_=cc({properties:{ariaActiveDescendant:null,ariaAtomic:an,ariaAutoComplete:null,ariaBusy:an,ariaChecked:an,ariaColCount:xe,ariaColIndex:xe,ariaColSpan:xe,ariaControls:Ct,ariaCurrent:null,ariaDescribedBy:Ct,ariaDetails:null,ariaDisabled:an,ariaDropEffect:Ct,ariaErrorMessage:null,ariaExpanded:an,ariaFlowTo:Ct,ariaGrabbed:an,ariaHasPopup:null,ariaHidden:an,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ct,ariaLevel:xe,ariaLive:null,ariaModal:an,ariaMultiLine:an,ariaMultiSelectable:an,ariaOrientation:null,ariaOwns:Ct,ariaPlaceholder:null,ariaPosInSet:xe,ariaPressed:an,ariaReadOnly:an,ariaRelevant:null,ariaRequired:an,ariaRoleDescription:Ct,ariaRowCount:xe,ariaRowIndex:xe,ariaRowSpan:xe,ariaSelected:an,ariaSetSize:xe,ariaSort:null,ariaValueMax:xe,ariaValueMin:xe,ariaValueNow:xe,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function J_(t,e){return e in t?t[e]:e}function Z_(t,e){return J_(t,e.toLowerCase())}const KM=cc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Uo,acceptCharset:Ct,accessKey:Ct,action:null,allow:null,allowFullScreen:Ye,allowPaymentRequest:Ye,allowUserMedia:Ye,alt:null,as:null,async:Ye,autoCapitalize:null,autoComplete:Ct,autoFocus:Ye,autoPlay:Ye,blocking:Ct,capture:null,charSet:null,checked:Ye,cite:null,className:Ct,cols:xe,colSpan:null,content:null,contentEditable:an,controls:Ye,controlsList:Ct,coords:xe|Uo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ye,defer:Ye,dir:null,dirName:null,disabled:Ye,download:Xg,draggable:an,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ye,formTarget:null,headers:Ct,height:xe,hidden:Xg,high:xe,href:null,hrefLang:null,htmlFor:Ct,httpEquiv:Ct,id:null,imageSizes:null,imageSrcSet:null,inert:Ye,inputMode:null,integrity:null,is:null,isMap:Ye,itemId:null,itemProp:Ct,itemRef:Ct,itemScope:Ye,itemType:Ct,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ye,low:xe,manifest:null,max:null,maxLength:xe,media:null,method:null,min:null,minLength:xe,multiple:Ye,muted:Ye,name:null,nonce:null,noModule:Ye,noValidate:Ye,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ye,optimum:xe,pattern:null,ping:Ct,placeholder:null,playsInline:Ye,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ye,referrerPolicy:null,rel:Ct,required:Ye,reversed:Ye,rows:xe,rowSpan:xe,sandbox:Ct,scope:null,scoped:Ye,seamless:Ye,selected:Ye,shadowRootClonable:Ye,shadowRootDelegatesFocus:Ye,shadowRootMode:null,shape:null,size:xe,sizes:null,slot:null,span:xe,spellCheck:an,src:null,srcDoc:null,srcLang:null,srcSet:null,start:xe,step:null,style:null,tabIndex:xe,target:null,title:null,translate:null,type:null,typeMustMatch:Ye,useMap:null,value:an,width:xe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ct,axis:null,background:null,bgColor:null,border:xe,borderColor:null,bottomMargin:xe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ye,declare:Ye,event:null,face:null,frame:null,frameBorder:null,hSpace:xe,leftMargin:xe,link:null,longDesc:null,lowSrc:null,marginHeight:xe,marginWidth:xe,noResize:Ye,noHref:Ye,noShade:Ye,noWrap:Ye,object:null,profile:null,prompt:null,rev:null,rightMargin:xe,rules:null,scheme:null,scrolling:an,standby:null,summary:null,text:null,topMargin:xe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:xe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ye,disableRemotePlayback:Ye,prefix:null,property:null,results:xe,security:null,unselectable:null},space:"html",transform:Z_}),XM=cc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:bs,accentHeight:xe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:xe,amplitude:xe,arabicForm:null,ascent:xe,attributeName:null,attributeType:null,azimuth:xe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:xe,by:null,calcMode:null,capHeight:xe,className:Ct,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:xe,diffuseConstant:xe,direction:null,display:null,dur:null,divisor:xe,dominantBaseline:null,download:Ye,dx:null,dy:null,edgeMode:null,editable:null,elevation:xe,enableBackground:null,end:null,event:null,exponent:xe,externalResourcesRequired:null,fill:null,fillOpacity:xe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Uo,g2:Uo,glyphName:Uo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:xe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:xe,horizOriginX:xe,horizOriginY:xe,id:null,ideographic:xe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:xe,k:xe,k1:xe,k2:xe,k3:xe,k4:xe,kernelMatrix:bs,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:xe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:xe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:xe,overlineThickness:xe,paintOrder:null,panose1:null,path:null,pathLength:xe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ct,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:xe,pointsAtY:xe,pointsAtZ:xe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:bs,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:bs,rev:bs,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:bs,requiredFeatures:bs,requiredFonts:bs,requiredFormats:bs,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:xe,specularExponent:xe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:xe,strikethroughThickness:xe,string:null,stroke:null,strokeDashArray:bs,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:xe,strokeOpacity:xe,strokeWidth:null,style:null,surfaceScale:xe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:bs,tabIndex:xe,tableValues:null,target:null,targetX:xe,targetY:xe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:bs,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:xe,underlineThickness:xe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:xe,values:null,vAlphabetic:xe,vMathematical:xe,vectorEffect:null,vHanging:xe,vIdeographic:xe,version:null,vertAdvY:xe,vertOriginX:xe,vertOriginY:xe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:xe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:J_}),e4=cc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),t4=cc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Z_}),n4=cc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),WM={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},JM=/[A-Z]/g,$2=/-[a-z]/g,ZM=/^data[-\w.:]+$/i;function eO(t,e){const n=Kg(e);let s=e,l=cs;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&ZM.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace($2,nO);s="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!$2.test(o)){let c=o.replace(JM,tO);c.charAt(0)!=="-"&&(c="-"+c),e="data"+c}}l=py}return new l(s,e)}function tO(t){return"-"+t.toLowerCase()}function nO(t){return t.charAt(1).toUpperCase()}const sO=X_([W_,KM,e4,t4,n4],"html"),gy=X_([W_,XM,e4,t4,n4],"svg");function aO(t){return t.join(" ").trim()}var So={},tg,q2;function rO(){if(q2)return tg;q2=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,l=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,h=/^\s+|\s+$/g,m=`
`,f="/",x="*",y="",v="comment",w="declaration";function S(I,z){if(typeof I!="string")throw new TypeError("First argument must be a string");if(!I)return[];z=z||{};var L=1,q=1;function K(te){var J=te.match(e);J&&(L+=J.length);var $=te.lastIndexOf(m);q=~$?te.length-$:q+te.length}function se(){var te={line:L,column:q};return function(J){return J.position=new G(te),O(),J}}function G(te){this.start=te,this.end={line:L,column:q},this.source=z.source}G.prototype.content=I;function D(te){var J=new Error(z.source+":"+L+":"+q+": "+te);if(J.reason=te,J.filename=z.source,J.line=L,J.column=q,J.source=I,!z.silent)throw J}function C(te){var J=te.exec(I);if(J){var $=J[0];return K($),I=I.slice($.length),J}}function O(){C(n)}function E(te){var J;for(te=te||[];J=T();)J!==!1&&te.push(J);return te}function T(){var te=se();if(!(f!=I.charAt(0)||x!=I.charAt(1))){for(var J=2;y!=I.charAt(J)&&(x!=I.charAt(J)||f!=I.charAt(J+1));)++J;if(J+=2,y===I.charAt(J-1))return D("End of comment missing");var $=I.slice(2,J-2);return q+=2,K($),I=I.slice(J),q+=2,te({type:v,comment:$})}}function M(){var te=se(),J=C(s);if(J){if(T(),!C(l))return D("property missing ':'");var $=C(o),W=te({type:w,property:U(J[0].replace(t,y)),value:$?U($[0].replace(t,y)):y});return C(c),W}}function R(){var te=[];E(te);for(var J;J=M();)J!==!1&&(te.push(J),E(te));return te}return O(),R()}function U(I){return I?I.replace(h,y):y}return tg=S,tg}var H2;function iO(){if(H2)return So;H2=1;var t=So&&So.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(So,"__esModule",{value:!0}),So.default=n;const e=t(rO());function n(s,l){let o=null;if(!s||typeof s!="string")return o;const c=(0,e.default)(s),h=typeof l=="function";return c.forEach(m=>{if(m.type!=="declaration")return;const{property:f,value:x}=m;h?l(f,x,m):x&&(o=o||{},o[f]=x)}),o}return So}var fu={},G2;function lO(){if(G2)return fu;G2=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,l=/^-(ms)-/,o=function(f){return!f||n.test(f)||t.test(f)},c=function(f,x){return x.toUpperCase()},h=function(f,x){return"".concat(x,"-")},m=function(f,x){return x===void 0&&(x={}),o(f)?f:(f=f.toLowerCase(),x.reactCompat?f=f.replace(l,h):f=f.replace(s,h),f.replace(e,c))};return fu.camelCase=m,fu}var pu,Y2;function oO(){if(Y2)return pu;Y2=1;var t=pu&&pu.__importDefault||function(l){return l&&l.__esModule?l:{default:l}},e=t(iO()),n=lO();function s(l,o){var c={};return!l||typeof l!="string"||(0,e.default)(l,function(h,m){h&&m&&(c[(0,n.camelCase)(h,o)]=m)}),c}return s.default=s,pu=s,pu}var cO=oO();const uO=cx(cO),s4=a4("end"),xy=a4("start");function a4(t){return e;function e(n){const s=n&&n.position&&n.position[t]||{};if(typeof s.line=="number"&&s.line>0&&typeof s.column=="number"&&s.column>0)return{line:s.line,column:s.column,offset:typeof s.offset=="number"&&s.offset>-1?s.offset:void 0}}}function dO(t){const e=xy(t),n=s4(t);if(e&&n)return{start:e,end:n}}function Iu(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Q2(t.position):"start"in t||"end"in t?Q2(t):"line"in t||"column"in t?Jg(t):""}function Jg(t){return K2(t&&t.line)+":"+K2(t&&t.column)}function Q2(t){return Jg(t&&t.start)+"-"+Jg(t&&t.end)}function K2(t){return t&&typeof t=="number"?t:1}class qn extends Error{constructor(e,n,s){super(),typeof n=="string"&&(s=n,n=void 0);let l="",o={},c=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?l=e:!o.cause&&e&&(c=!0,l=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof s=="string"){const m=s.indexOf(":");m===-1?o.ruleId=s:(o.source=s.slice(0,m),o.ruleId=s.slice(m+1))}if(!o.place&&o.ancestors&&o.ancestors){const m=o.ancestors[o.ancestors.length-1];m&&(o.place=m.position)}const h=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file="",this.message=l,this.line=h?h.line:void 0,this.name=Iu(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=c&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}qn.prototype.file="";qn.prototype.name="";qn.prototype.reason="";qn.prototype.message="";qn.prototype.stack="";qn.prototype.column=void 0;qn.prototype.line=void 0;qn.prototype.ancestors=void 0;qn.prototype.cause=void 0;qn.prototype.fatal=void 0;qn.prototype.place=void 0;qn.prototype.ruleId=void 0;qn.prototype.source=void 0;const yy={}.hasOwnProperty,hO=new Map,mO=/[A-Z]/g,fO=new Set(["table","tbody","thead","tfoot","tr"]),pO=new Set(["td","th"]),r4="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function gO(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let s;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");s=_O(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");s=jO(n,e.jsx,e.jsxs)}const l={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:s,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?gy:sO,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=i4(l,t,void 0);return o&&typeof o!="string"?o:l.create(t,l.Fragment,{children:o||void 0},void 0)}function i4(t,e,n){if(e.type==="element")return xO(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return yO(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return vO(t,e,n);if(e.type==="mdxjsEsm")return bO(t,e);if(e.type==="root")return wO(t,e,n);if(e.type==="text")return NO(t,e)}function xO(t,e,n){const s=t.schema;let l=s;e.tagName.toLowerCase()==="svg"&&s.space==="html"&&(l=gy,t.schema=l),t.ancestors.push(e);const o=o4(t,e.tagName,!1),c=SO(t,e);let h=vy(t,e);return fO.has(e.tagName)&&(h=h.filter(function(m){return typeof m=="string"?!YM(m):!0})),l4(t,c,o,e),by(c,h),t.ancestors.pop(),t.schema=s,t.create(e,o,c,n)}function yO(t,e){if(e.data&&e.data.estree&&t.evaluater){const s=e.data.estree.body[0];return s.type,t.evaluater.evaluateExpression(s.expression)}Yu(t,e.position)}function bO(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Yu(t,e.position)}function vO(t,e,n){const s=t.schema;let l=s;e.name==="svg"&&s.space==="html"&&(l=gy,t.schema=l),t.ancestors.push(e);const o=e.name===null?t.Fragment:o4(t,e.name,!0),c=EO(t,e),h=vy(t,e);return l4(t,c,o,e),by(c,h),t.ancestors.pop(),t.schema=s,t.create(e,o,c,n)}function wO(t,e,n){const s={};return by(s,vy(t,e)),t.create(e,t.Fragment,s,n)}function NO(t,e){return e.value}function l4(t,e,n,s){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=s)}function by(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function jO(t,e,n){return s;function s(l,o,c,h){const f=Array.isArray(c.children)?n:e;return h?f(o,c,h):f(o,c)}}function _O(t,e){return n;function n(s,l,o,c){const h=Array.isArray(o.children),m=xy(s);return e(l,o,c,h,{columnNumber:m?m.column-1:void 0,fileName:t,lineNumber:m?m.line:void 0},void 0)}}function SO(t,e){const n={};let s,l;for(l in e.properties)if(l!=="children"&&yy.call(e.properties,l)){const o=TO(t,l,e.properties[l]);if(o){const[c,h]=o;t.tableCellAlignToStyle&&c==="align"&&typeof h=="string"&&pO.has(e.tagName)?s=h:n[c]=h}}if(s){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=s}return n}function EO(t,e){const n={};for(const s of e.attributes)if(s.type==="mdxJsxExpressionAttribute")if(s.data&&s.data.estree&&t.evaluater){const o=s.data.estree.body[0];o.type;const c=o.expression;c.type;const h=c.properties[0];h.type,Object.assign(n,t.evaluater.evaluateExpression(h.argument))}else Yu(t,e.position);else{const l=s.name;let o;if(s.value&&typeof s.value=="object")if(s.value.data&&s.value.data.estree&&t.evaluater){const h=s.value.data.estree.body[0];h.type,o=t.evaluater.evaluateExpression(h.expression)}else Yu(t,e.position);else o=s.value===null?!0:s.value;n[l]=o}return n}function vy(t,e){const n=[];let s=-1;const l=t.passKeys?new Map:hO;for(;++s<e.children.length;){const o=e.children[s];let c;if(t.passKeys){const m=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(m){const f=l.get(m)||0;c=m+"-"+f,l.set(m,f+1)}}const h=i4(t,o,c);h!==void 0&&n.push(h)}return n}function TO(t,e,n){const s=eO(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=s.commaSeparated?BM(n):aO(n)),s.property==="style"){let l=typeof n=="object"?n:CO(t,String(n));return t.stylePropertyNameCase==="css"&&(l=AO(l)),["style",l]}return[t.elementAttributeNameCase==="react"&&s.space?WM[s.property]||s.property:s.attribute,n]}}function CO(t,e){try{return uO(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const s=n,l=new qn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=t.filePath||void 0,l.url=r4+"#cannot-parse-style-attribute",l}}function o4(t,e,n){let s;if(!n)s={type:"Literal",value:e};else if(e.includes(".")){const l=e.split(".");let o=-1,c;for(;++o<l.length;){const h=z2(l[o])?{type:"Identifier",name:l[o]}:{type:"Literal",value:l[o]};c=c?{type:"MemberExpression",object:c,property:h,computed:!!(o&&h.type==="Literal"),optional:!1}:h}s=c}else s=z2(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(s.type==="Literal"){const l=s.value;return yy.call(t.components,l)?t.components[l]:l}if(t.evaluater)return t.evaluater.evaluateExpression(s);Yu(t)}function Yu(t,e){const n=new qn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=r4+"#cannot-handle-mdx-estrees-without-createevaluater",n}function AO(t){const e={};let n;for(n in t)yy.call(t,n)&&(e[kO(n)]=t[n]);return e}function kO(t){let e=t.replace(mO,IO);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function IO(t){return"-"+t.toLowerCase()}const ng={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},RO={};function wy(t,e){const n=RO,s=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,l=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return c4(t,s,l)}function c4(t,e,n){if(DO(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return X2(t.children,e,n)}return Array.isArray(t)?X2(t,e,n):""}function X2(t,e,n){const s=[];let l=-1;for(;++l<t.length;)s[l]=c4(t[l],e,n);return s.join("")}function DO(t){return!!(t&&typeof t=="object")}const W2=document.createElement("i");function Ny(t){const e="&"+t+";";W2.innerHTML=e;const n=W2.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Ns(t,e,n,s){const l=t.length;let o=0,c;if(e<0?e=-e>l?0:l+e:e=e>l?l:e,n=n>0?n:0,s.length<1e4)c=Array.from(s),c.unshift(e,n),t.splice(...c);else for(n&&t.splice(e,n);o<s.length;)c=s.slice(o,o+1e4),c.unshift(e,0),t.splice(...c),o+=1e4,e+=1e4}function Ps(t,e){return t.length>0?(Ns(t,t.length,0,e),t):e}const J2={}.hasOwnProperty;function u4(t){const e={};let n=-1;for(;++n<t.length;)MO(e,t[n]);return e}function MO(t,e){let n;for(n in e){const l=(J2.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let c;if(o)for(c in o){J2.call(l,c)||(l[c]=[]);const h=o[c];OO(l[c],Array.isArray(h)?h:h?[h]:[])}}}function OO(t,e){let n=-1;const s=[];for(;++n<e.length;)(e[n].add==="after"?t:s).push(e[n]);Ns(t,0,0,s)}function d4(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function la(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Yn=Pi(/[A-Za-z]/),Fn=Pi(/[\dA-Za-z]/),PO=Pi(/[#-'*+\--9=?A-Z^-~]/);function Hm(t){return t!==null&&(t<32||t===127)}const Zg=Pi(/\d/),LO=Pi(/[\dA-Fa-f]/),VO=Pi(/[!-/:-@[-`{-~]/);function Me(t){return t!==null&&t<-2}function Tt(t){return t!==null&&(t<0||t===32)}function Je(t){return t===-2||t===-1||t===32}const Pf=Pi(new RegExp("\\p{P}|\\p{S}","u")),Tl=Pi(/\s/);function Pi(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function uc(t){const e=[];let n=-1,s=0,l=0;for(;++n<t.length;){const o=t.charCodeAt(n);let c="";if(o===37&&Fn(t.charCodeAt(n+1))&&Fn(t.charCodeAt(n+2)))l=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(c=String.fromCharCode(o));else if(o>55295&&o<57344){const h=t.charCodeAt(n+1);o<56320&&h>56319&&h<57344?(c=String.fromCharCode(o,h),l=1):c=""}else c=String.fromCharCode(o);c&&(e.push(t.slice(s,n),encodeURIComponent(c)),s=n+l+1,c=""),l&&(n+=l,l=0)}return e.join("")+t.slice(s)}function lt(t,e,n,s){const l=s?s-1:Number.POSITIVE_INFINITY;let o=0;return c;function c(m){return Je(m)?(t.enter(n),h(m)):e(m)}function h(m){return Je(m)&&o++<l?(t.consume(m),h):(t.exit(n),e(m))}}const UO={tokenize:zO};function zO(t){const e=t.attempt(this.parser.constructs.contentInitial,s,l);let n;return e;function s(h){if(h===null){t.consume(h);return}return t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),lt(t,e,"linePrefix")}function l(h){return t.enter("paragraph"),o(h)}function o(h){const m=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=m),n=m,c(h)}function c(h){if(h===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(h);return}return Me(h)?(t.consume(h),t.exit("chunkText"),o):(t.consume(h),c)}}const FO={tokenize:BO},Z2={tokenize:$O};function BO(t){const e=this,n=[];let s=0,l,o,c;return h;function h(q){if(s<n.length){const K=n[s];return e.containerState=K[1],t.attempt(K[0].continuation,m,f)(q)}return f(q)}function m(q){if(s++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,l&&L();const K=e.events.length;let se=K,G;for(;se--;)if(e.events[se][0]==="exit"&&e.events[se][1].type==="chunkFlow"){G=e.events[se][1].end;break}z(s);let D=K;for(;D<e.events.length;)e.events[D][1].end={...G},D++;return Ns(e.events,se+1,0,e.events.slice(K)),e.events.length=D,f(q)}return h(q)}function f(q){if(s===n.length){if(!l)return v(q);if(l.currentConstruct&&l.currentConstruct.concrete)return S(q);e.interrupt=!!(l.currentConstruct&&!l._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Z2,x,y)(q)}function x(q){return l&&L(),z(s),v(q)}function y(q){return e.parser.lazy[e.now().line]=s!==n.length,c=e.now().offset,S(q)}function v(q){return e.containerState={},t.attempt(Z2,w,S)(q)}function w(q){return s++,n.push([e.currentConstruct,e.containerState]),v(q)}function S(q){if(q===null){l&&L(),z(0),t.consume(q);return}return l=l||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:l,contentType:"flow",previous:o}),U(q)}function U(q){if(q===null){I(t.exit("chunkFlow"),!0),z(0),t.consume(q);return}return Me(q)?(t.consume(q),I(t.exit("chunkFlow")),s=0,e.interrupt=void 0,h):(t.consume(q),U)}function I(q,K){const se=e.sliceStream(q);if(K&&se.push(null),q.previous=o,o&&(o.next=q),o=q,l.defineSkip(q.start),l.write(se),e.parser.lazy[q.start.line]){let G=l.events.length;for(;G--;)if(l.events[G][1].start.offset<c&&(!l.events[G][1].end||l.events[G][1].end.offset>c))return;const D=e.events.length;let C=D,O,E;for(;C--;)if(e.events[C][0]==="exit"&&e.events[C][1].type==="chunkFlow"){if(O){E=e.events[C][1].end;break}O=!0}for(z(s),G=D;G<e.events.length;)e.events[G][1].end={...E},G++;Ns(e.events,C+1,0,e.events.slice(D)),e.events.length=G}}function z(q){let K=n.length;for(;K-- >q;){const se=n[K];e.containerState=se[1],se[0].exit.call(e,t)}n.length=q}function L(){l.write([null]),o=void 0,l=void 0,e.containerState._closeFlow=void 0}}function $O(t,e,n){return lt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ko(t){if(t===null||Tt(t)||Tl(t))return 1;if(Pf(t))return 2}function Lf(t,e,n){const s=[];let l=-1;for(;++l<t.length;){const o=t[l].resolveAll;o&&!s.includes(o)&&(e=o(e,n),s.push(o))}return e}const ex={name:"attention",resolveAll:qO,tokenize:HO};function qO(t,e){let n=-1,s,l,o,c,h,m,f,x;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(s=n;s--;)if(t[s][0]==="exit"&&t[s][1].type==="attentionSequence"&&t[s][1]._open&&e.sliceSerialize(t[s][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[s][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[s][1].end.offset-t[s][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;m=t[s][1].end.offset-t[s][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const y={...t[s][1].end},v={...t[n][1].start};eN(y,-m),eN(v,m),c={type:m>1?"strongSequence":"emphasisSequence",start:y,end:{...t[s][1].end}},h={type:m>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:v},o={type:m>1?"strongText":"emphasisText",start:{...t[s][1].end},end:{...t[n][1].start}},l={type:m>1?"strong":"emphasis",start:{...c.start},end:{...h.end}},t[s][1].end={...c.start},t[n][1].start={...h.end},f=[],t[s][1].end.offset-t[s][1].start.offset&&(f=Ps(f,[["enter",t[s][1],e],["exit",t[s][1],e]])),f=Ps(f,[["enter",l,e],["enter",c,e],["exit",c,e],["enter",o,e]]),f=Ps(f,Lf(e.parser.constructs.insideSpan.null,t.slice(s+1,n),e)),f=Ps(f,[["exit",o,e],["enter",h,e],["exit",h,e],["exit",l,e]]),t[n][1].end.offset-t[n][1].start.offset?(x=2,f=Ps(f,[["enter",t[n][1],e],["exit",t[n][1],e]])):x=0,Ns(t,s-1,n-s+3,f),n=s+f.length-x-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function HO(t,e){const n=this.parser.constructs.attentionMarkers.null,s=this.previous,l=Ko(s);let o;return c;function c(m){return o=m,t.enter("attentionSequence"),h(m)}function h(m){if(m===o)return t.consume(m),h;const f=t.exit("attentionSequence"),x=Ko(m),y=!x||x===2&&l||n.includes(m),v=!l||l===2&&x||n.includes(s);return f._open=!!(o===42?y:y&&(l||!v)),f._close=!!(o===42?v:v&&(x||!y)),e(m)}}function eN(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const GO={name:"autolink",tokenize:YO};function YO(t,e,n){let s=0;return l;function l(w){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(w){return Yn(w)?(t.consume(w),c):w===64?n(w):f(w)}function c(w){return w===43||w===45||w===46||Fn(w)?(s=1,h(w)):f(w)}function h(w){return w===58?(t.consume(w),s=0,m):(w===43||w===45||w===46||Fn(w))&&s++<32?(t.consume(w),h):(s=0,f(w))}function m(w){return w===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):w===null||w===32||w===60||Hm(w)?n(w):(t.consume(w),m)}function f(w){return w===64?(t.consume(w),x):PO(w)?(t.consume(w),f):n(w)}function x(w){return Fn(w)?y(w):n(w)}function y(w){return w===46?(t.consume(w),s=0,x):w===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):v(w)}function v(w){if((w===45||Fn(w))&&s++<63){const S=w===45?v:y;return t.consume(w),S}return n(w)}}const vd={partial:!0,tokenize:QO};function QO(t,e,n){return s;function s(o){return Je(o)?lt(t,l,"linePrefix")(o):l(o)}function l(o){return o===null||Me(o)?e(o):n(o)}}const h4={continuation:{tokenize:XO},exit:WO,name:"blockQuote",tokenize:KO};function KO(t,e,n){const s=this;return l;function l(c){if(c===62){const h=s.containerState;return h.open||(t.enter("blockQuote",{_container:!0}),h.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(c),t.exit("blockQuoteMarker"),o}return n(c)}function o(c){return Je(c)?(t.enter("blockQuotePrefixWhitespace"),t.consume(c),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(c))}}function XO(t,e,n){const s=this;return l;function l(c){return Je(c)?lt(t,o,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):o(c)}function o(c){return t.attempt(h4,e,n)(c)}}function WO(t){t.exit("blockQuote")}const m4={name:"characterEscape",tokenize:JO};function JO(t,e,n){return s;function s(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),l}function l(o){return VO(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const f4={name:"characterReference",tokenize:ZO};function ZO(t,e,n){const s=this;let l=0,o,c;return h;function h(y){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(y),t.exit("characterReferenceMarker"),m}function m(y){return y===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(y),t.exit("characterReferenceMarkerNumeric"),f):(t.enter("characterReferenceValue"),o=31,c=Fn,x(y))}function f(y){return y===88||y===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(y),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,c=LO,x):(t.enter("characterReferenceValue"),o=7,c=Zg,x(y))}function x(y){if(y===59&&l){const v=t.exit("characterReferenceValue");return c===Fn&&!Ny(s.sliceSerialize(v))?n(y):(t.enter("characterReferenceMarker"),t.consume(y),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return c(y)&&l++<o?(t.consume(y),x):n(y)}}const tN={partial:!0,tokenize:t9},nN={concrete:!0,name:"codeFenced",tokenize:e9};function e9(t,e,n){const s=this,l={partial:!0,tokenize:se};let o=0,c=0,h;return m;function m(G){return f(G)}function f(G){const D=s.events[s.events.length-1];return o=D&&D[1].type==="linePrefix"?D[2].sliceSerialize(D[1],!0).length:0,h=G,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),x(G)}function x(G){return G===h?(c++,t.consume(G),x):c<3?n(G):(t.exit("codeFencedFenceSequence"),Je(G)?lt(t,y,"whitespace")(G):y(G))}function y(G){return G===null||Me(G)?(t.exit("codeFencedFence"),s.interrupt?e(G):t.check(tN,U,K)(G)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),v(G))}function v(G){return G===null||Me(G)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),y(G)):Je(G)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),lt(t,w,"whitespace")(G)):G===96&&G===h?n(G):(t.consume(G),v)}function w(G){return G===null||Me(G)?y(G):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),S(G))}function S(G){return G===null||Me(G)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),y(G)):G===96&&G===h?n(G):(t.consume(G),S)}function U(G){return t.attempt(l,K,I)(G)}function I(G){return t.enter("lineEnding"),t.consume(G),t.exit("lineEnding"),z}function z(G){return o>0&&Je(G)?lt(t,L,"linePrefix",o+1)(G):L(G)}function L(G){return G===null||Me(G)?t.check(tN,U,K)(G):(t.enter("codeFlowValue"),q(G))}function q(G){return G===null||Me(G)?(t.exit("codeFlowValue"),L(G)):(t.consume(G),q)}function K(G){return t.exit("codeFenced"),e(G)}function se(G,D,C){let O=0;return E;function E(J){return G.enter("lineEnding"),G.consume(J),G.exit("lineEnding"),T}function T(J){return G.enter("codeFencedFence"),Je(J)?lt(G,M,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):M(J)}function M(J){return J===h?(G.enter("codeFencedFenceSequence"),R(J)):C(J)}function R(J){return J===h?(O++,G.consume(J),R):O>=c?(G.exit("codeFencedFenceSequence"),Je(J)?lt(G,te,"whitespace")(J):te(J)):C(J)}function te(J){return J===null||Me(J)?(G.exit("codeFencedFence"),D(J)):C(J)}}}function t9(t,e,n){const s=this;return l;function l(c){return c===null?n(c):(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),o)}function o(c){return s.parser.lazy[s.now().line]?n(c):e(c)}}const sg={name:"codeIndented",tokenize:s9},n9={partial:!0,tokenize:a9};function s9(t,e,n){const s=this;return l;function l(f){return t.enter("codeIndented"),lt(t,o,"linePrefix",5)(f)}function o(f){const x=s.events[s.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?c(f):n(f)}function c(f){return f===null?m(f):Me(f)?t.attempt(n9,c,m)(f):(t.enter("codeFlowValue"),h(f))}function h(f){return f===null||Me(f)?(t.exit("codeFlowValue"),c(f)):(t.consume(f),h)}function m(f){return t.exit("codeIndented"),e(f)}}function a9(t,e,n){const s=this;return l;function l(c){return s.parser.lazy[s.now().line]?n(c):Me(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),l):lt(t,o,"linePrefix",5)(c)}function o(c){const h=s.events[s.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(c):Me(c)?l(c):n(c)}}const r9={name:"codeText",previous:l9,resolve:i9,tokenize:o9};function i9(t){let e=t.length-4,n=3,s,l;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(s=n;++s<e;)if(t[s][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(s=n-1,e++;++s<=e;)l===void 0?s!==e&&t[s][1].type!=="lineEnding"&&(l=s):(s===e||t[s][1].type==="lineEnding")&&(t[l][1].type="codeTextData",s!==l+2&&(t[l][1].end=t[s-1][1].end,t.splice(l+2,s-l-2),e-=s-l-2,s=l+2),l=void 0);return t}function l9(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function o9(t,e,n){let s=0,l,o;return c;function c(y){return t.enter("codeText"),t.enter("codeTextSequence"),h(y)}function h(y){return y===96?(t.consume(y),s++,h):(t.exit("codeTextSequence"),m(y))}function m(y){return y===null?n(y):y===32?(t.enter("space"),t.consume(y),t.exit("space"),m):y===96?(o=t.enter("codeTextSequence"),l=0,x(y)):Me(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),m):(t.enter("codeTextData"),f(y))}function f(y){return y===null||y===32||y===96||Me(y)?(t.exit("codeTextData"),m(y)):(t.consume(y),f)}function x(y){return y===96?(t.consume(y),l++,x):l===s?(t.exit("codeTextSequence"),t.exit("codeText"),e(y)):(o.type="codeTextData",f(y))}}class c9{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const s=n??Number.POSITIVE_INFINITY;return s<this.left.length?this.left.slice(e,s):e>this.left.length?this.right.slice(this.right.length-s+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-s+this.left.length).reverse())}splice(e,n,s){const l=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-l,Number.POSITIVE_INFINITY);return s&&gu(this.left,s),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),gu(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),gu(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);gu(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);gu(this.left,n.reverse())}}}function gu(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function p4(t){const e={};let n=-1,s,l,o,c,h,m,f;const x=new c9(t);for(;++n<x.length;){for(;n in e;)n=e[n];if(s=x.get(n),n&&s[1].type==="chunkFlow"&&x.get(n-1)[1].type==="listItemPrefix"&&(m=s[1]._tokenizer.events,o=0,o<m.length&&m[o][1].type==="lineEndingBlank"&&(o+=2),o<m.length&&m[o][1].type==="content"))for(;++o<m.length&&m[o][1].type!=="content";)m[o][1].type==="chunkText"&&(m[o][1]._isInFirstContentOfListItem=!0,o++);if(s[0]==="enter")s[1].contentType&&(Object.assign(e,u9(x,n)),n=e[n],f=!0);else if(s[1]._container){for(o=n,l=void 0;o--;)if(c=x.get(o),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(l&&(x.get(l)[1].type="lineEndingBlank"),c[1].type="lineEnding",l=o);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;l&&(s[1].end={...x.get(l)[1].start},h=x.slice(l,n),h.unshift(s),x.splice(l,n-l+1,h))}}return Ns(t,0,Number.POSITIVE_INFINITY,x.slice(0)),!f}function u9(t,e){const n=t.get(e)[1],s=t.get(e)[2];let l=e-1;const o=[];let c=n._tokenizer;c||(c=s.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const h=c.events,m=[],f={};let x,y,v=-1,w=n,S=0,U=0;const I=[U];for(;w;){for(;t.get(++l)[1]!==w;);o.push(l),w._tokenizer||(x=s.sliceStream(w),w.next||x.push(null),y&&c.defineSkip(w.start),w._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(x),w._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),y=w,w=w.next}for(w=n;++v<h.length;)h[v][0]==="exit"&&h[v-1][0]==="enter"&&h[v][1].type===h[v-1][1].type&&h[v][1].start.line!==h[v][1].end.line&&(U=v+1,I.push(U),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(c.events=[],w?(w._tokenizer=void 0,w.previous=void 0):I.pop(),v=I.length;v--;){const z=h.slice(I[v],I[v+1]),L=o.pop();m.push([L,L+z.length-1]),t.splice(L,2,z)}for(m.reverse(),v=-1;++v<m.length;)f[S+m[v][0]]=S+m[v][1],S+=m[v][1]-m[v][0]-1;return f}const d9={resolve:m9,tokenize:f9},h9={partial:!0,tokenize:p9};function m9(t){return p4(t),t}function f9(t,e){let n;return s;function s(h){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),l(h)}function l(h){return h===null?o(h):Me(h)?t.check(h9,c,o)(h):(t.consume(h),l)}function o(h){return t.exit("chunkContent"),t.exit("content"),e(h)}function c(h){return t.consume(h),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,l}}function p9(t,e,n){const s=this;return l;function l(c){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),lt(t,o,"linePrefix")}function o(c){if(c===null||Me(c))return n(c);const h=s.events[s.events.length-1];return!s.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(c):t.interrupt(s.parser.constructs.flow,n,e)(c)}}function g4(t,e,n,s,l,o,c,h,m){const f=m||Number.POSITIVE_INFINITY;let x=0;return y;function y(z){return z===60?(t.enter(s),t.enter(l),t.enter(o),t.consume(z),t.exit(o),v):z===null||z===32||z===41||Hm(z)?n(z):(t.enter(s),t.enter(c),t.enter(h),t.enter("chunkString",{contentType:"string"}),U(z))}function v(z){return z===62?(t.enter(o),t.consume(z),t.exit(o),t.exit(l),t.exit(s),e):(t.enter(h),t.enter("chunkString",{contentType:"string"}),w(z))}function w(z){return z===62?(t.exit("chunkString"),t.exit(h),v(z)):z===null||z===60||Me(z)?n(z):(t.consume(z),z===92?S:w)}function S(z){return z===60||z===62||z===92?(t.consume(z),w):w(z)}function U(z){return!x&&(z===null||z===41||Tt(z))?(t.exit("chunkString"),t.exit(h),t.exit(c),t.exit(s),e(z)):x<f&&z===40?(t.consume(z),x++,U):z===41?(t.consume(z),x--,U):z===null||z===32||z===40||Hm(z)?n(z):(t.consume(z),z===92?I:U)}function I(z){return z===40||z===41||z===92?(t.consume(z),U):U(z)}}function x4(t,e,n,s,l,o){const c=this;let h=0,m;return f;function f(w){return t.enter(s),t.enter(l),t.consume(w),t.exit(l),t.enter(o),x}function x(w){return h>999||w===null||w===91||w===93&&!m||w===94&&!h&&"_hiddenFootnoteSupport"in c.parser.constructs?n(w):w===93?(t.exit(o),t.enter(l),t.consume(w),t.exit(l),t.exit(s),e):Me(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),x):(t.enter("chunkString",{contentType:"string"}),y(w))}function y(w){return w===null||w===91||w===93||Me(w)||h++>999?(t.exit("chunkString"),x(w)):(t.consume(w),m||(m=!Je(w)),w===92?v:y)}function v(w){return w===91||w===92||w===93?(t.consume(w),h++,y):y(w)}}function y4(t,e,n,s,l,o){let c;return h;function h(v){return v===34||v===39||v===40?(t.enter(s),t.enter(l),t.consume(v),t.exit(l),c=v===40?41:v,m):n(v)}function m(v){return v===c?(t.enter(l),t.consume(v),t.exit(l),t.exit(s),e):(t.enter(o),f(v))}function f(v){return v===c?(t.exit(o),m(c)):v===null?n(v):Me(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),lt(t,f,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),x(v))}function x(v){return v===c||v===null||Me(v)?(t.exit("chunkString"),f(v)):(t.consume(v),v===92?y:x)}function y(v){return v===c||v===92?(t.consume(v),x):x(v)}}function Ru(t,e){let n;return s;function s(l){return Me(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),n=!0,s):Je(l)?lt(t,s,n?"linePrefix":"lineSuffix")(l):e(l)}}const g9={name:"definition",tokenize:y9},x9={partial:!0,tokenize:b9};function y9(t,e,n){const s=this;let l;return o;function o(w){return t.enter("definition"),c(w)}function c(w){return x4.call(s,t,h,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function h(w){return l=la(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)),w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),m):n(w)}function m(w){return Tt(w)?Ru(t,f)(w):f(w)}function f(w){return g4(t,x,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function x(w){return t.attempt(x9,y,y)(w)}function y(w){return Je(w)?lt(t,v,"whitespace")(w):v(w)}function v(w){return w===null||Me(w)?(t.exit("definition"),s.parser.defined.push(l),e(w)):n(w)}}function b9(t,e,n){return s;function s(h){return Tt(h)?Ru(t,l)(h):n(h)}function l(h){return y4(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function o(h){return Je(h)?lt(t,c,"whitespace")(h):c(h)}function c(h){return h===null||Me(h)?e(h):n(h)}}const v9={name:"hardBreakEscape",tokenize:w9};function w9(t,e,n){return s;function s(o){return t.enter("hardBreakEscape"),t.consume(o),l}function l(o){return Me(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const N9={name:"headingAtx",resolve:j9,tokenize:_9};function j9(t,e){let n=t.length-2,s=3,l,o;return t[s][1].type==="whitespace"&&(s+=2),n-2>s&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(s===n-1||n-4>s&&t[n-2][1].type==="whitespace")&&(n-=s+1===n?2:4),n>s&&(l={type:"atxHeadingText",start:t[s][1].start,end:t[n][1].end},o={type:"chunkText",start:t[s][1].start,end:t[n][1].end,contentType:"text"},Ns(t,s,n-s+1,[["enter",l,e],["enter",o,e],["exit",o,e],["exit",l,e]])),t}function _9(t,e,n){let s=0;return l;function l(x){return t.enter("atxHeading"),o(x)}function o(x){return t.enter("atxHeadingSequence"),c(x)}function c(x){return x===35&&s++<6?(t.consume(x),c):x===null||Tt(x)?(t.exit("atxHeadingSequence"),h(x)):n(x)}function h(x){return x===35?(t.enter("atxHeadingSequence"),m(x)):x===null||Me(x)?(t.exit("atxHeading"),e(x)):Je(x)?lt(t,h,"whitespace")(x):(t.enter("atxHeadingText"),f(x))}function m(x){return x===35?(t.consume(x),m):(t.exit("atxHeadingSequence"),h(x))}function f(x){return x===null||x===35||Tt(x)?(t.exit("atxHeadingText"),h(x)):(t.consume(x),f)}}const S9=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],sN=["pre","script","style","textarea"],E9={concrete:!0,name:"htmlFlow",resolveTo:A9,tokenize:k9},T9={partial:!0,tokenize:R9},C9={partial:!0,tokenize:I9};function A9(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function k9(t,e,n){const s=this;let l,o,c,h,m;return f;function f(P){return x(P)}function x(P){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(P),y}function y(P){return P===33?(t.consume(P),v):P===47?(t.consume(P),o=!0,U):P===63?(t.consume(P),l=3,s.interrupt?e:B):Yn(P)?(t.consume(P),c=String.fromCharCode(P),I):n(P)}function v(P){return P===45?(t.consume(P),l=2,w):P===91?(t.consume(P),l=5,h=0,S):Yn(P)?(t.consume(P),l=4,s.interrupt?e:B):n(P)}function w(P){return P===45?(t.consume(P),s.interrupt?e:B):n(P)}function S(P){const Ee="CDATA[";return P===Ee.charCodeAt(h++)?(t.consume(P),h===Ee.length?s.interrupt?e:M:S):n(P)}function U(P){return Yn(P)?(t.consume(P),c=String.fromCharCode(P),I):n(P)}function I(P){if(P===null||P===47||P===62||Tt(P)){const Ee=P===47,Ve=c.toLowerCase();return!Ee&&!o&&sN.includes(Ve)?(l=1,s.interrupt?e(P):M(P)):S9.includes(c.toLowerCase())?(l=6,Ee?(t.consume(P),z):s.interrupt?e(P):M(P)):(l=7,s.interrupt&&!s.parser.lazy[s.now().line]?n(P):o?L(P):q(P))}return P===45||Fn(P)?(t.consume(P),c+=String.fromCharCode(P),I):n(P)}function z(P){return P===62?(t.consume(P),s.interrupt?e:M):n(P)}function L(P){return Je(P)?(t.consume(P),L):E(P)}function q(P){return P===47?(t.consume(P),E):P===58||P===95||Yn(P)?(t.consume(P),K):Je(P)?(t.consume(P),q):E(P)}function K(P){return P===45||P===46||P===58||P===95||Fn(P)?(t.consume(P),K):se(P)}function se(P){return P===61?(t.consume(P),G):Je(P)?(t.consume(P),se):q(P)}function G(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(t.consume(P),m=P,D):Je(P)?(t.consume(P),G):C(P)}function D(P){return P===m?(t.consume(P),m=null,O):P===null||Me(P)?n(P):(t.consume(P),D)}function C(P){return P===null||P===34||P===39||P===47||P===60||P===61||P===62||P===96||Tt(P)?se(P):(t.consume(P),C)}function O(P){return P===47||P===62||Je(P)?q(P):n(P)}function E(P){return P===62?(t.consume(P),T):n(P)}function T(P){return P===null||Me(P)?M(P):Je(P)?(t.consume(P),T):n(P)}function M(P){return P===45&&l===2?(t.consume(P),$):P===60&&l===1?(t.consume(P),W):P===62&&l===4?(t.consume(P),ie):P===63&&l===3?(t.consume(P),B):P===93&&l===5?(t.consume(P),be):Me(P)&&(l===6||l===7)?(t.exit("htmlFlowData"),t.check(T9,ge,R)(P)):P===null||Me(P)?(t.exit("htmlFlowData"),R(P)):(t.consume(P),M)}function R(P){return t.check(C9,te,ge)(P)}function te(P){return t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),J}function J(P){return P===null||Me(P)?R(P):(t.enter("htmlFlowData"),M(P))}function $(P){return P===45?(t.consume(P),B):M(P)}function W(P){return P===47?(t.consume(P),c="",he):M(P)}function he(P){if(P===62){const Ee=c.toLowerCase();return sN.includes(Ee)?(t.consume(P),ie):M(P)}return Yn(P)&&c.length<8?(t.consume(P),c+=String.fromCharCode(P),he):M(P)}function be(P){return P===93?(t.consume(P),B):M(P)}function B(P){return P===62?(t.consume(P),ie):P===45&&l===2?(t.consume(P),B):M(P)}function ie(P){return P===null||Me(P)?(t.exit("htmlFlowData"),ge(P)):(t.consume(P),ie)}function ge(P){return t.exit("htmlFlow"),e(P)}}function I9(t,e,n){const s=this;return l;function l(c){return Me(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),o):n(c)}function o(c){return s.parser.lazy[s.now().line]?n(c):e(c)}}function R9(t,e,n){return s;function s(l){return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),t.attempt(vd,e,n)}}const D9={name:"htmlText",tokenize:M9};function M9(t,e,n){const s=this;let l,o,c;return h;function h(B){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(B),m}function m(B){return B===33?(t.consume(B),f):B===47?(t.consume(B),se):B===63?(t.consume(B),q):Yn(B)?(t.consume(B),C):n(B)}function f(B){return B===45?(t.consume(B),x):B===91?(t.consume(B),o=0,S):Yn(B)?(t.consume(B),L):n(B)}function x(B){return B===45?(t.consume(B),w):n(B)}function y(B){return B===null?n(B):B===45?(t.consume(B),v):Me(B)?(c=y,W(B)):(t.consume(B),y)}function v(B){return B===45?(t.consume(B),w):y(B)}function w(B){return B===62?$(B):B===45?v(B):y(B)}function S(B){const ie="CDATA[";return B===ie.charCodeAt(o++)?(t.consume(B),o===ie.length?U:S):n(B)}function U(B){return B===null?n(B):B===93?(t.consume(B),I):Me(B)?(c=U,W(B)):(t.consume(B),U)}function I(B){return B===93?(t.consume(B),z):U(B)}function z(B){return B===62?$(B):B===93?(t.consume(B),z):U(B)}function L(B){return B===null||B===62?$(B):Me(B)?(c=L,W(B)):(t.consume(B),L)}function q(B){return B===null?n(B):B===63?(t.consume(B),K):Me(B)?(c=q,W(B)):(t.consume(B),q)}function K(B){return B===62?$(B):q(B)}function se(B){return Yn(B)?(t.consume(B),G):n(B)}function G(B){return B===45||Fn(B)?(t.consume(B),G):D(B)}function D(B){return Me(B)?(c=D,W(B)):Je(B)?(t.consume(B),D):$(B)}function C(B){return B===45||Fn(B)?(t.consume(B),C):B===47||B===62||Tt(B)?O(B):n(B)}function O(B){return B===47?(t.consume(B),$):B===58||B===95||Yn(B)?(t.consume(B),E):Me(B)?(c=O,W(B)):Je(B)?(t.consume(B),O):$(B)}function E(B){return B===45||B===46||B===58||B===95||Fn(B)?(t.consume(B),E):T(B)}function T(B){return B===61?(t.consume(B),M):Me(B)?(c=T,W(B)):Je(B)?(t.consume(B),T):O(B)}function M(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(t.consume(B),l=B,R):Me(B)?(c=M,W(B)):Je(B)?(t.consume(B),M):(t.consume(B),te)}function R(B){return B===l?(t.consume(B),l=void 0,J):B===null?n(B):Me(B)?(c=R,W(B)):(t.consume(B),R)}function te(B){return B===null||B===34||B===39||B===60||B===61||B===96?n(B):B===47||B===62||Tt(B)?O(B):(t.consume(B),te)}function J(B){return B===47||B===62||Tt(B)?O(B):n(B)}function $(B){return B===62?(t.consume(B),t.exit("htmlTextData"),t.exit("htmlText"),e):n(B)}function W(B){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(B),t.exit("lineEnding"),he}function he(B){return Je(B)?lt(t,be,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):be(B)}function be(B){return t.enter("htmlTextData"),c(B)}}const jy={name:"labelEnd",resolveAll:V9,resolveTo:U9,tokenize:z9},O9={tokenize:F9},P9={tokenize:B9},L9={tokenize:$9};function V9(t){let e=-1;const n=[];for(;++e<t.length;){const s=t[e][1];if(n.push(t[e]),s.type==="labelImage"||s.type==="labelLink"||s.type==="labelEnd"){const l=s.type==="labelImage"?4:2;s.type="data",e+=l}}return t.length!==n.length&&Ns(t,0,t.length,n),t}function U9(t,e){let n=t.length,s=0,l,o,c,h;for(;n--;)if(l=t[n][1],o){if(l.type==="link"||l.type==="labelLink"&&l._inactive)break;t[n][0]==="enter"&&l.type==="labelLink"&&(l._inactive=!0)}else if(c){if(t[n][0]==="enter"&&(l.type==="labelImage"||l.type==="labelLink")&&!l._balanced&&(o=n,l.type!=="labelLink")){s=2;break}}else l.type==="labelEnd"&&(c=n);const m={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},f={type:"label",start:{...t[o][1].start},end:{...t[c][1].end}},x={type:"labelText",start:{...t[o+s+2][1].end},end:{...t[c-2][1].start}};return h=[["enter",m,e],["enter",f,e]],h=Ps(h,t.slice(o+1,o+s+3)),h=Ps(h,[["enter",x,e]]),h=Ps(h,Lf(e.parser.constructs.insideSpan.null,t.slice(o+s+4,c-3),e)),h=Ps(h,[["exit",x,e],t[c-2],t[c-1],["exit",f,e]]),h=Ps(h,t.slice(c+1)),h=Ps(h,[["exit",m,e]]),Ns(t,o,t.length,h),t}function z9(t,e,n){const s=this;let l=s.events.length,o,c;for(;l--;)if((s.events[l][1].type==="labelImage"||s.events[l][1].type==="labelLink")&&!s.events[l][1]._balanced){o=s.events[l][1];break}return h;function h(v){return o?o._inactive?y(v):(c=s.parser.defined.includes(la(s.sliceSerialize({start:o.end,end:s.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(v),t.exit("labelMarker"),t.exit("labelEnd"),m):n(v)}function m(v){return v===40?t.attempt(O9,x,c?x:y)(v):v===91?t.attempt(P9,x,c?f:y)(v):c?x(v):y(v)}function f(v){return t.attempt(L9,x,y)(v)}function x(v){return e(v)}function y(v){return o._balanced=!0,n(v)}}function F9(t,e,n){return s;function s(y){return t.enter("resource"),t.enter("resourceMarker"),t.consume(y),t.exit("resourceMarker"),l}function l(y){return Tt(y)?Ru(t,o)(y):o(y)}function o(y){return y===41?x(y):g4(t,c,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function c(y){return Tt(y)?Ru(t,m)(y):x(y)}function h(y){return n(y)}function m(y){return y===34||y===39||y===40?y4(t,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):x(y)}function f(y){return Tt(y)?Ru(t,x)(y):x(y)}function x(y){return y===41?(t.enter("resourceMarker"),t.consume(y),t.exit("resourceMarker"),t.exit("resource"),e):n(y)}}function B9(t,e,n){const s=this;return l;function l(h){return x4.call(s,t,o,c,"reference","referenceMarker","referenceString")(h)}function o(h){return s.parser.defined.includes(la(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)))?e(h):n(h)}function c(h){return n(h)}}function $9(t,e,n){return s;function s(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),l}function l(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const q9={name:"labelStartImage",resolveAll:jy.resolveAll,tokenize:H9};function H9(t,e,n){const s=this;return l;function l(h){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(h),t.exit("labelImageMarker"),o}function o(h){return h===91?(t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelImage"),c):n(h)}function c(h){return h===94&&"_hiddenFootnoteSupport"in s.parser.constructs?n(h):e(h)}}const G9={name:"labelStartLink",resolveAll:jy.resolveAll,tokenize:Y9};function Y9(t,e,n){const s=this;return l;function l(c){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelLink"),o}function o(c){return c===94&&"_hiddenFootnoteSupport"in s.parser.constructs?n(c):e(c)}}const ag={name:"lineEnding",tokenize:Q9};function Q9(t,e){return n;function n(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),lt(t,e,"linePrefix")}}const bm={name:"thematicBreak",tokenize:K9};function K9(t,e,n){let s=0,l;return o;function o(f){return t.enter("thematicBreak"),c(f)}function c(f){return l=f,h(f)}function h(f){return f===l?(t.enter("thematicBreakSequence"),m(f)):s>=3&&(f===null||Me(f))?(t.exit("thematicBreak"),e(f)):n(f)}function m(f){return f===l?(t.consume(f),s++,m):(t.exit("thematicBreakSequence"),Je(f)?lt(t,h,"whitespace")(f):h(f))}}const ns={continuation:{tokenize:Z9},exit:tP,name:"list",tokenize:J9},X9={partial:!0,tokenize:nP},W9={partial:!0,tokenize:eP};function J9(t,e,n){const s=this,l=s.events[s.events.length-1];let o=l&&l[1].type==="linePrefix"?l[2].sliceSerialize(l[1],!0).length:0,c=0;return h;function h(w){const S=s.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!s.containerState.marker||w===s.containerState.marker:Zg(w)){if(s.containerState.type||(s.containerState.type=S,t.enter(S,{_container:!0})),S==="listUnordered")return t.enter("listItemPrefix"),w===42||w===45?t.check(bm,n,f)(w):f(w);if(!s.interrupt||w===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),m(w)}return n(w)}function m(w){return Zg(w)&&++c<10?(t.consume(w),m):(!s.interrupt||c<2)&&(s.containerState.marker?w===s.containerState.marker:w===41||w===46)?(t.exit("listItemValue"),f(w)):n(w)}function f(w){return t.enter("listItemMarker"),t.consume(w),t.exit("listItemMarker"),s.containerState.marker=s.containerState.marker||w,t.check(vd,s.interrupt?n:x,t.attempt(X9,v,y))}function x(w){return s.containerState.initialBlankLine=!0,o++,v(w)}function y(w){return Je(w)?(t.enter("listItemPrefixWhitespace"),t.consume(w),t.exit("listItemPrefixWhitespace"),v):n(w)}function v(w){return s.containerState.size=o+s.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(w)}}function Z9(t,e,n){const s=this;return s.containerState._closeFlow=void 0,t.check(vd,l,o);function l(h){return s.containerState.furtherBlankLines=s.containerState.furtherBlankLines||s.containerState.initialBlankLine,lt(t,e,"listItemIndent",s.containerState.size+1)(h)}function o(h){return s.containerState.furtherBlankLines||!Je(h)?(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,c(h)):(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,t.attempt(W9,e,c)(h))}function c(h){return s.containerState._closeFlow=!0,s.interrupt=void 0,lt(t,t.attempt(ns,e,n),"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function eP(t,e,n){const s=this;return lt(t,l,"listItemIndent",s.containerState.size+1);function l(o){const c=s.events[s.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===s.containerState.size?e(o):n(o)}}function tP(t){t.exit(this.containerState.type)}function nP(t,e,n){const s=this;return lt(t,l,"listItemPrefixWhitespace",s.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function l(o){const c=s.events[s.events.length-1];return!Je(o)&&c&&c[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const aN={name:"setextUnderline",resolveTo:sP,tokenize:aP};function sP(t,e){let n=t.length,s,l,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){s=n;break}t[n][1].type==="paragraph"&&(l=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const c={type:"setextHeading",start:{...t[s][1].start},end:{...t[t.length-1][1].end}};return t[l][1].type="setextHeadingText",o?(t.splice(l,0,["enter",c,e]),t.splice(o+1,0,["exit",t[s][1],e]),t[s][1].end={...t[o][1].end}):t[s][1]=c,t.push(["exit",c,e]),t}function aP(t,e,n){const s=this;let l;return o;function o(f){let x=s.events.length,y;for(;x--;)if(s.events[x][1].type!=="lineEnding"&&s.events[x][1].type!=="linePrefix"&&s.events[x][1].type!=="content"){y=s.events[x][1].type==="paragraph";break}return!s.parser.lazy[s.now().line]&&(s.interrupt||y)?(t.enter("setextHeadingLine"),l=f,c(f)):n(f)}function c(f){return t.enter("setextHeadingLineSequence"),h(f)}function h(f){return f===l?(t.consume(f),h):(t.exit("setextHeadingLineSequence"),Je(f)?lt(t,m,"lineSuffix")(f):m(f))}function m(f){return f===null||Me(f)?(t.exit("setextHeadingLine"),e(f)):n(f)}}const rP={tokenize:iP};function iP(t){const e=this,n=t.attempt(vd,s,t.attempt(this.parser.constructs.flowInitial,l,lt(t,t.attempt(this.parser.constructs.flow,l,t.attempt(d9,l)),"linePrefix")));return n;function s(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function l(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const lP={resolveAll:v4()},oP=b4("string"),cP=b4("text");function b4(t){return{resolveAll:v4(t==="text"?uP:void 0),tokenize:e};function e(n){const s=this,l=this.parser.constructs[t],o=n.attempt(l,c,h);return c;function c(x){return f(x)?o(x):h(x)}function h(x){if(x===null){n.consume(x);return}return n.enter("data"),n.consume(x),m}function m(x){return f(x)?(n.exit("data"),o(x)):(n.consume(x),m)}function f(x){if(x===null)return!0;const y=l[x];let v=-1;if(y)for(;++v<y.length;){const w=y[v];if(!w.previous||w.previous.call(s,s.previous))return!0}return!1}}}function v4(t){return e;function e(n,s){let l=-1,o;for(;++l<=n.length;)o===void 0?n[l]&&n[l][1].type==="data"&&(o=l,l++):(!n[l]||n[l][1].type!=="data")&&(l!==o+2&&(n[o][1].end=n[l-1][1].end,n.splice(o+2,l-o-2),l=o+2),o=void 0);return t?t(n,s):n}}function uP(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const s=t[n-1][1],l=e.sliceStream(s);let o=l.length,c=-1,h=0,m;for(;o--;){const f=l[o];if(typeof f=="string"){for(c=f.length;f.charCodeAt(c-1)===32;)h++,c--;if(c)break;c=-1}else if(f===-2)m=!0,h++;else if(f!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(h=0),h){const f={type:n===t.length||m||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?c:s.start._bufferIndex+c,_index:s.start._index+o,line:s.end.line,column:s.end.column-h,offset:s.end.offset-h},end:{...s.end}};s.end={...f.start},s.start.offset===s.end.offset?Object.assign(s,f):(t.splice(n,0,["enter",f,e],["exit",f,e]),n+=2)}n++}return t}const dP={42:ns,43:ns,45:ns,48:ns,49:ns,50:ns,51:ns,52:ns,53:ns,54:ns,55:ns,56:ns,57:ns,62:h4},hP={91:g9},mP={[-2]:sg,[-1]:sg,32:sg},fP={35:N9,42:bm,45:[aN,bm],60:E9,61:aN,95:bm,96:nN,126:nN},pP={38:f4,92:m4},gP={[-5]:ag,[-4]:ag,[-3]:ag,33:q9,38:f4,42:ex,60:[GO,D9],91:G9,92:[v9,m4],93:jy,95:ex,96:r9},xP={null:[ex,lP]},yP={null:[42,95]},bP={null:[]},vP=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:yP,contentInitial:hP,disable:bP,document:dP,flow:fP,flowInitial:mP,insideSpan:xP,string:pP,text:gP},Symbol.toStringTag,{value:"Module"}));function wP(t,e,n){let s={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const l={},o=[];let c=[],h=[];const m={attempt:D(se),check:D(G),consume:L,enter:q,exit:K,interrupt:D(G,{interrupt:!0})},f={code:null,containerState:{},defineSkip:U,events:[],now:S,parser:t,previous:null,sliceSerialize:v,sliceStream:w,write:y};let x=e.tokenize.call(f,m);return e.resolveAll&&o.push(e),f;function y(T){return c=Ps(c,T),I(),c[c.length-1]!==null?[]:(C(e,0),f.events=Lf(o,f.events,f),f.events)}function v(T,M){return jP(w(T),M)}function w(T){return NP(c,T)}function S(){const{_bufferIndex:T,_index:M,line:R,column:te,offset:J}=s;return{_bufferIndex:T,_index:M,line:R,column:te,offset:J}}function U(T){l[T.line]=T.column,E()}function I(){let T;for(;s._index<c.length;){const M=c[s._index];if(typeof M=="string")for(T=s._index,s._bufferIndex<0&&(s._bufferIndex=0);s._index===T&&s._bufferIndex<M.length;)z(M.charCodeAt(s._bufferIndex));else z(M)}}function z(T){x=x(T)}function L(T){Me(T)?(s.line++,s.column=1,s.offset+=T===-3?2:1,E()):T!==-1&&(s.column++,s.offset++),s._bufferIndex<0?s._index++:(s._bufferIndex++,s._bufferIndex===c[s._index].length&&(s._bufferIndex=-1,s._index++)),f.previous=T}function q(T,M){const R=M||{};return R.type=T,R.start=S(),f.events.push(["enter",R,f]),h.push(R),R}function K(T){const M=h.pop();return M.end=S(),f.events.push(["exit",M,f]),M}function se(T,M){C(T,M.from)}function G(T,M){M.restore()}function D(T,M){return R;function R(te,J,$){let W,he,be,B;return Array.isArray(te)?ge(te):"tokenize"in te?ge([te]):ie(te);function ie(Be){return ct;function ct(wt){const xt=wt!==null&&Be[wt],pn=wt!==null&&Be.null,gn=[...Array.isArray(xt)?xt:xt?[xt]:[],...Array.isArray(pn)?pn:pn?[pn]:[]];return ge(gn)(wt)}}function ge(Be){return W=Be,he=0,Be.length===0?$:P(Be[he])}function P(Be){return ct;function ct(wt){return B=O(),be=Be,Be.partial||(f.currentConstruct=Be),Be.name&&f.parser.constructs.disable.null.includes(Be.name)?Ve():Be.tokenize.call(M?Object.assign(Object.create(f),M):f,m,Ee,Ve)(wt)}}function Ee(Be){return T(be,B),J}function Ve(Be){return B.restore(),++he<W.length?P(W[he]):$}}}function C(T,M){T.resolveAll&&!o.includes(T)&&o.push(T),T.resolve&&Ns(f.events,M,f.events.length-M,T.resolve(f.events.slice(M),f)),T.resolveTo&&(f.events=T.resolveTo(f.events,f))}function O(){const T=S(),M=f.previous,R=f.currentConstruct,te=f.events.length,J=Array.from(h);return{from:te,restore:$};function $(){s=T,f.previous=M,f.currentConstruct=R,f.events.length=te,h=J,E()}}function E(){s.line in l&&s.column<2&&(s.column=l[s.line],s.offset+=l[s.line]-1)}}function NP(t,e){const n=e.start._index,s=e.start._bufferIndex,l=e.end._index,o=e.end._bufferIndex;let c;if(n===l)c=[t[n].slice(s,o)];else{if(c=t.slice(n,l),s>-1){const h=c[0];typeof h=="string"?c[0]=h.slice(s):c.shift()}o>0&&c.push(t[l].slice(0,o))}return c}function jP(t,e){let n=-1;const s=[];let l;for(;++n<t.length;){const o=t[n];let c;if(typeof o=="string")c=o;else switch(o){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=e?" ":"	";break}case-1:{if(!e&&l)continue;c=" ";break}default:c=String.fromCharCode(o)}l=o===-2,s.push(c)}return s.join("")}function _P(t){const s={constructs:u4([vP,...(t||{}).extensions||[]]),content:l(UO),defined:[],document:l(FO),flow:l(rP),lazy:{},string:l(oP),text:l(cP)};return s;function l(o){return c;function c(h){return wP(s,o,h)}}}function SP(t){for(;!p4(t););return t}const rN=/[\0\t\n\r]/g;function EP(){let t=1,e="",n=!0,s;return l;function l(o,c,h){const m=[];let f,x,y,v,w;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(c||void 0).decode(o)),y=0,e="",n&&(o.charCodeAt(0)===65279&&y++,n=void 0);y<o.length;){if(rN.lastIndex=y,f=rN.exec(o),v=f&&f.index!==void 0?f.index:o.length,w=o.charCodeAt(v),!f){e=o.slice(y);break}if(w===10&&y===v&&s)m.push(-3),s=void 0;else switch(s&&(m.push(-5),s=void 0),y<v&&(m.push(o.slice(y,v)),t+=v-y),w){case 0:{m.push(65533),t++;break}case 9:{for(x=Math.ceil(t/4)*4,m.push(-2);t++<x;)m.push(-1);break}case 10:{m.push(-4),t=1;break}default:s=!0,t=1}y=v+1}return h&&(s&&m.push(-5),e&&m.push(e),m.push(null)),m}}const TP=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function CP(t){return t.replace(TP,AP)}function AP(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const l=n.charCodeAt(1),o=l===120||l===88;return d4(n.slice(o?2:1),o?16:10)}return Ny(n)||t}const w4={}.hasOwnProperty;function kP(t,e,n){return typeof e!="string"&&(n=e,e=void 0),IP(n)(SP(_P(n).document().write(EP()(t,e,!0))))}function IP(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(je),autolinkProtocol:O,autolinkEmail:O,atxHeading:o(ke),blockQuote:o(pn),characterEscape:O,characterReference:O,codeFenced:o(gn),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:o(gn,c),codeText:o(jn,c),codeTextData:O,data:O,codeFlowValue:O,definition:o(pe),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:o(ye),hardBreakEscape:o($e),hardBreakTrailing:o($e),htmlFlow:o(Qt,c),htmlFlowData:O,htmlText:o(Qt,c),htmlTextData:O,image:o(we),label:c,link:o(je),listItem:o(Ke),listItemValue:v,listOrdered:o(Ae,y),listUnordered:o(Ae),paragraph:o(_n),reference:P,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:o(ke),strong:o(cn),thematicBreak:o(qa)},exit:{atxHeading:m(),atxHeadingSequence:se,autolink:m(),autolinkEmail:xt,autolinkProtocol:wt,blockQuote:m(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:Ve,characterReferenceMarkerNumeric:Ve,characterReferenceValue:Be,characterReference:ct,codeFenced:m(I),codeFencedFence:U,codeFencedFenceInfo:w,codeFencedFenceMeta:S,codeFlowValue:E,codeIndented:m(z),codeText:m(J),codeTextData:E,data:E,definition:m(),definitionDestinationString:K,definitionLabelString:L,definitionTitleString:q,emphasis:m(),hardBreakEscape:m(M),hardBreakTrailing:m(M),htmlFlow:m(R),htmlFlowData:E,htmlText:m(te),htmlTextData:E,image:m(W),label:be,labelText:he,lineEnding:T,link:m($),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:Ee,resourceDestinationString:B,resourceTitleString:ie,resource:ge,setextHeading:m(C),setextHeadingLineSequence:D,setextHeadingText:G,strong:m(),thematicBreak:m()}};N4(e,(t||{}).mdastExtensions||[]);const n={};return s;function s(oe){let ve={type:"root",children:[]};const De={stack:[ve],tokenStack:[],config:e,enter:h,exit:f,buffer:c,resume:x,data:n},Qe=[];let ut=-1;for(;++ut<oe.length;)if(oe[ut][1].type==="listOrdered"||oe[ut][1].type==="listUnordered")if(oe[ut][0]==="enter")Qe.push(ut);else{const On=Qe.pop();ut=l(oe,On,ut)}for(ut=-1;++ut<oe.length;){const On=e[oe[ut][0]];w4.call(On,oe[ut][1].type)&&On[oe[ut][1].type].call(Object.assign({sliceSerialize:oe[ut][2].sliceSerialize},De),oe[ut][1])}if(De.tokenStack.length>0){const On=De.tokenStack[De.tokenStack.length-1];(On[1]||iN).call(De,void 0,On[0])}for(ve.position={start:li(oe.length>0?oe[0][1].start:{line:1,column:1,offset:0}),end:li(oe.length>0?oe[oe.length-2][1].end:{line:1,column:1,offset:0})},ut=-1;++ut<e.transforms.length;)ve=e.transforms[ut](ve)||ve;return ve}function l(oe,ve,De){let Qe=ve-1,ut=-1,On=!1,js,Ft,Lt,xn;for(;++Qe<=De;){const at=oe[Qe];switch(at[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{at[0]==="enter"?ut++:ut--,xn=void 0;break}case"lineEndingBlank":{at[0]==="enter"&&(js&&!xn&&!ut&&!Lt&&(Lt=Qe),xn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:xn=void 0}if(!ut&&at[0]==="enter"&&at[1].type==="listItemPrefix"||ut===-1&&at[0]==="exit"&&(at[1].type==="listUnordered"||at[1].type==="listOrdered")){if(js){let qs=Qe;for(Ft=void 0;qs--;){const Pn=oe[qs];if(Pn[1].type==="lineEnding"||Pn[1].type==="lineEndingBlank"){if(Pn[0]==="exit")continue;Ft&&(oe[Ft][1].type="lineEndingBlank",On=!0),Pn[1].type="lineEnding",Ft=qs}else if(!(Pn[1].type==="linePrefix"||Pn[1].type==="blockQuotePrefix"||Pn[1].type==="blockQuotePrefixWhitespace"||Pn[1].type==="blockQuoteMarker"||Pn[1].type==="listItemIndent"))break}Lt&&(!Ft||Lt<Ft)&&(js._spread=!0),js.end=Object.assign({},Ft?oe[Ft][1].start:at[1].end),oe.splice(Ft||Qe,0,["exit",js,at[2]]),Qe++,De++}if(at[1].type==="listItemPrefix"){const qs={type:"listItem",_spread:!1,start:Object.assign({},at[1].start),end:void 0};js=qs,oe.splice(Qe,0,["enter",qs,at[2]]),Qe++,De++,Lt=void 0,xn=!0}}}return oe[ve][1]._spread=On,De}function o(oe,ve){return De;function De(Qe){h.call(this,oe(Qe),Qe),ve&&ve.call(this,Qe)}}function c(){this.stack.push({type:"fragment",children:[]})}function h(oe,ve,De){this.stack[this.stack.length-1].children.push(oe),this.stack.push(oe),this.tokenStack.push([ve,De||void 0]),oe.position={start:li(ve.start),end:void 0}}function m(oe){return ve;function ve(De){oe&&oe.call(this,De),f.call(this,De)}}function f(oe,ve){const De=this.stack.pop(),Qe=this.tokenStack.pop();if(Qe)Qe[0].type!==oe.type&&(ve?ve.call(this,oe,Qe[0]):(Qe[1]||iN).call(this,oe,Qe[0]));else throw new Error("Cannot close `"+oe.type+"` ("+Iu({start:oe.start,end:oe.end})+"): its not open");De.position.end=li(oe.end)}function x(){return wy(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function v(oe){if(this.data.expectingFirstListItemValue){const ve=this.stack[this.stack.length-2];ve.start=Number.parseInt(this.sliceSerialize(oe),10),this.data.expectingFirstListItemValue=void 0}}function w(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.lang=oe}function S(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.meta=oe}function U(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function I(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.value=oe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function z(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.value=oe.replace(/(\r?\n|\r)$/g,"")}function L(oe){const ve=this.resume(),De=this.stack[this.stack.length-1];De.label=ve,De.identifier=la(this.sliceSerialize(oe)).toLowerCase()}function q(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.title=oe}function K(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.url=oe}function se(oe){const ve=this.stack[this.stack.length-1];if(!ve.depth){const De=this.sliceSerialize(oe).length;ve.depth=De}}function G(){this.data.setextHeadingSlurpLineEnding=!0}function D(oe){const ve=this.stack[this.stack.length-1];ve.depth=this.sliceSerialize(oe).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function O(oe){const De=this.stack[this.stack.length-1].children;let Qe=De[De.length-1];(!Qe||Qe.type!=="text")&&(Qe=Pt(),Qe.position={start:li(oe.start),end:void 0},De.push(Qe)),this.stack.push(Qe)}function E(oe){const ve=this.stack.pop();ve.value+=this.sliceSerialize(oe),ve.position.end=li(oe.end)}function T(oe){const ve=this.stack[this.stack.length-1];if(this.data.atHardBreak){const De=ve.children[ve.children.length-1];De.position.end=li(oe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ve.type)&&(O.call(this,oe),E.call(this,oe))}function M(){this.data.atHardBreak=!0}function R(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.value=oe}function te(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.value=oe}function J(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.value=oe}function $(){const oe=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";oe.type+="Reference",oe.referenceType=ve,delete oe.url,delete oe.title}else delete oe.identifier,delete oe.label;this.data.referenceType=void 0}function W(){const oe=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";oe.type+="Reference",oe.referenceType=ve,delete oe.url,delete oe.title}else delete oe.identifier,delete oe.label;this.data.referenceType=void 0}function he(oe){const ve=this.sliceSerialize(oe),De=this.stack[this.stack.length-2];De.label=CP(ve),De.identifier=la(ve).toLowerCase()}function be(){const oe=this.stack[this.stack.length-1],ve=this.resume(),De=this.stack[this.stack.length-1];if(this.data.inReference=!0,De.type==="link"){const Qe=oe.children;De.children=Qe}else De.alt=ve}function B(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.url=oe}function ie(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.title=oe}function ge(){this.data.inReference=void 0}function P(){this.data.referenceType="collapsed"}function Ee(oe){const ve=this.resume(),De=this.stack[this.stack.length-1];De.label=ve,De.identifier=la(this.sliceSerialize(oe)).toLowerCase(),this.data.referenceType="full"}function Ve(oe){this.data.characterReferenceType=oe.type}function Be(oe){const ve=this.sliceSerialize(oe),De=this.data.characterReferenceType;let Qe;De?(Qe=d4(ve,De==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Qe=Ny(ve);const ut=this.stack[this.stack.length-1];ut.value+=Qe}function ct(oe){const ve=this.stack.pop();ve.position.end=li(oe.end)}function wt(oe){E.call(this,oe);const ve=this.stack[this.stack.length-1];ve.url=this.sliceSerialize(oe)}function xt(oe){E.call(this,oe);const ve=this.stack[this.stack.length-1];ve.url="mailto:"+this.sliceSerialize(oe)}function pn(){return{type:"blockquote",children:[]}}function gn(){return{type:"code",lang:null,meta:null,value:""}}function jn(){return{type:"inlineCode",value:""}}function pe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ye(){return{type:"emphasis",children:[]}}function ke(){return{type:"heading",depth:0,children:[]}}function $e(){return{type:"break"}}function Qt(){return{type:"html",value:""}}function we(){return{type:"image",title:null,url:"",alt:null}}function je(){return{type:"link",title:null,url:"",children:[]}}function Ae(oe){return{type:"list",ordered:oe.type==="listOrdered",start:null,spread:oe._spread,children:[]}}function Ke(oe){return{type:"listItem",spread:oe._spread,checked:null,children:[]}}function _n(){return{type:"paragraph",children:[]}}function cn(){return{type:"strong",children:[]}}function Pt(){return{type:"text",value:""}}function qa(){return{type:"thematicBreak"}}}function li(t){return{line:t.line,column:t.column,offset:t.offset}}function N4(t,e){let n=-1;for(;++n<e.length;){const s=e[n];Array.isArray(s)?N4(t,s):RP(t,s)}}function RP(t,e){let n;for(n in e)if(w4.call(e,n))switch(n){case"canContainEols":{const s=e[n];s&&t[n].push(...s);break}case"transforms":{const s=e[n];s&&t[n].push(...s);break}case"enter":case"exit":{const s=e[n];s&&Object.assign(t[n],s);break}}}function iN(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Iu({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Iu({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Iu({start:e.start,end:e.end})+") is still open")}function DP(t){const e=this;e.parser=n;function n(s){return kP(s,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function MP(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function OP(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function PP(t,e){const n=e.value?e.value+`
`:"",s={},l=e.lang?e.lang.split(/\s+/):[];l.length>0&&(s.className=["language-"+l[0]]);let o={type:"element",tagName:"code",properties:s,children:[{type:"text",value:n}]};return e.meta&&(o.data={meta:e.meta}),t.patch(e,o),o=t.applyData(e,o),o={type:"element",tagName:"pre",properties:{},children:[o]},t.patch(e,o),o}function LP(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function VP(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function UP(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",s=String(e.identifier).toUpperCase(),l=uc(s.toLowerCase()),o=t.footnoteOrder.indexOf(s);let c,h=t.footnoteCounts.get(s);h===void 0?(h=0,t.footnoteOrder.push(s),c=t.footnoteOrder.length):c=o+1,h+=1,t.footnoteCounts.set(s,h);const m={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+l,id:n+"fnref-"+l+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};t.patch(e,m);const f={type:"element",tagName:"sup",properties:{},children:[m]};return t.patch(e,f),t.applyData(e,f)}function zP(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function FP(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function j4(t,e){const n=e.referenceType;let s="]";if(n==="collapsed"?s+="[]":n==="full"&&(s+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+s}];const l=t.all(e),o=l[0];o&&o.type==="text"?o.value="["+o.value:l.unshift({type:"text",value:"["});const c=l[l.length-1];return c&&c.type==="text"?c.value+=s:l.push({type:"text",value:s}),l}function BP(t,e){const n=String(e.identifier).toUpperCase(),s=t.definitionById.get(n);if(!s)return j4(t,e);const l={src:uc(s.url||""),alt:e.alt};s.title!==null&&s.title!==void 0&&(l.title=s.title);const o={type:"element",tagName:"img",properties:l,children:[]};return t.patch(e,o),t.applyData(e,o)}function $P(t,e){const n={src:uc(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const s={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,s),t.applyData(e,s)}function qP(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const s={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,s),t.applyData(e,s)}function HP(t,e){const n=String(e.identifier).toUpperCase(),s=t.definitionById.get(n);if(!s)return j4(t,e);const l={href:uc(s.url||"")};s.title!==null&&s.title!==void 0&&(l.title=s.title);const o={type:"element",tagName:"a",properties:l,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function GP(t,e){const n={href:uc(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const s={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function YP(t,e,n){const s=t.all(e),l=n?QP(n):_4(e),o={},c=[];if(typeof e.checked=="boolean"){const x=s[0];let y;x&&x.type==="element"&&x.tagName==="p"?y=x:(y={type:"element",tagName:"p",properties:{},children:[]},s.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let h=-1;for(;++h<s.length;){const x=s[h];(l||h!==0||x.type!=="element"||x.tagName!=="p")&&c.push({type:"text",value:`
`}),x.type==="element"&&x.tagName==="p"&&!l?c.push(...x.children):c.push(x)}const m=s[s.length-1];m&&(l||m.type!=="element"||m.tagName!=="p")&&c.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:c};return t.patch(e,f),t.applyData(e,f)}function QP(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let s=-1;for(;!e&&++s<n.length;)e=_4(n[s])}return e}function _4(t){const e=t.spread;return e??t.children.length>1}function KP(t,e){const n={},s=t.all(e);let l=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++l<s.length;){const c=s[l];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(s,!0)};return t.patch(e,o),t.applyData(e,o)}function XP(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function WP(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function JP(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function ZP(t,e){const n=t.all(e),s=n.shift(),l=[];if(s){const c={type:"element",tagName:"thead",properties:{},children:t.wrap([s],!0)};t.patch(e.children[0],c),l.push(c)}if(n.length>0){const c={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},h=xy(e.children[1]),m=s4(e.children[e.children.length-1]);h&&m&&(c.position={start:h,end:m}),l.push(c)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(l,!0)};return t.patch(e,o),t.applyData(e,o)}function eL(t,e,n){const s=n?n.children:void 0,o=(s?s.indexOf(e):1)===0?"th":"td",c=n&&n.type==="table"?n.align:void 0,h=c?c.length:e.children.length;let m=-1;const f=[];for(;++m<h;){const y=e.children[m],v={},w=c?c[m]:void 0;w&&(v.align=w);let S={type:"element",tagName:o,properties:v,children:[]};y&&(S.children=t.all(y),t.patch(y,S),S=t.applyData(y,S)),f.push(S)}const x={type:"element",tagName:"tr",properties:{},children:t.wrap(f,!0)};return t.patch(e,x),t.applyData(e,x)}function tL(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const lN=9,oN=32;function nL(t){const e=String(t),n=/\r?\n|\r/g;let s=n.exec(e),l=0;const o=[];for(;s;)o.push(cN(e.slice(l,s.index),l>0,!0),s[0]),l=s.index+s[0].length,s=n.exec(e);return o.push(cN(e.slice(l),l>0,!1)),o.join("")}function cN(t,e,n){let s=0,l=t.length;if(e){let o=t.codePointAt(s);for(;o===lN||o===oN;)s++,o=t.codePointAt(s)}if(n){let o=t.codePointAt(l-1);for(;o===lN||o===oN;)l--,o=t.codePointAt(l-1)}return l>s?t.slice(s,l):""}function sL(t,e){const n={type:"text",value:nL(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function aL(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const rL={blockquote:MP,break:OP,code:PP,delete:LP,emphasis:VP,footnoteReference:UP,heading:zP,html:FP,imageReference:BP,image:$P,inlineCode:qP,linkReference:HP,link:GP,listItem:YP,list:KP,paragraph:XP,root:WP,strong:JP,table:ZP,tableCell:tL,tableRow:eL,text:sL,thematicBreak:aL,toml:em,yaml:em,definition:em,footnoteDefinition:em};function em(){}const S4=-1,Vf=0,Du=1,Gm=2,_y=3,Sy=4,Ey=5,Ty=6,E4=7,T4=8,uN=typeof self=="object"?self:globalThis,iL=(t,e)=>{const n=(l,o)=>(t.set(o,l),l),s=l=>{if(t.has(l))return t.get(l);const[o,c]=e[l];switch(o){case Vf:case S4:return n(c,l);case Du:{const h=n([],l);for(const m of c)h.push(s(m));return h}case Gm:{const h=n({},l);for(const[m,f]of c)h[s(m)]=s(f);return h}case _y:return n(new Date(c),l);case Sy:{const{source:h,flags:m}=c;return n(new RegExp(h,m),l)}case Ey:{const h=n(new Map,l);for(const[m,f]of c)h.set(s(m),s(f));return h}case Ty:{const h=n(new Set,l);for(const m of c)h.add(s(m));return h}case E4:{const{name:h,message:m}=c;return n(new uN[h](m),l)}case T4:return n(BigInt(c),l);case"BigInt":return n(Object(BigInt(c)),l);case"ArrayBuffer":return n(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:h}=new Uint8Array(c);return n(new DataView(h),c)}}return n(new uN[o](c),l)};return s},dN=t=>iL(new Map,t)(0),Eo="",{toString:lL}={},{keys:oL}=Object,xu=t=>{const e=typeof t;if(e!=="object"||!t)return[Vf,e];const n=lL.call(t).slice(8,-1);switch(n){case"Array":return[Du,Eo];case"Object":return[Gm,Eo];case"Date":return[_y,Eo];case"RegExp":return[Sy,Eo];case"Map":return[Ey,Eo];case"Set":return[Ty,Eo];case"DataView":return[Du,n]}return n.includes("Array")?[Du,n]:n.includes("Error")?[E4,n]:[Gm,n]},tm=([t,e])=>t===Vf&&(e==="function"||e==="symbol"),cL=(t,e,n,s)=>{const l=(c,h)=>{const m=s.push(c)-1;return n.set(h,m),m},o=c=>{if(n.has(c))return n.get(c);let[h,m]=xu(c);switch(h){case Vf:{let x=c;switch(m){case"bigint":h=T4,x=c.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+m);x=null;break;case"undefined":return l([S4],c)}return l([h,x],c)}case Du:{if(m){let v=c;return m==="DataView"?v=new Uint8Array(c.buffer):m==="ArrayBuffer"&&(v=new Uint8Array(c)),l([m,[...v]],c)}const x=[],y=l([h,x],c);for(const v of c)x.push(o(v));return y}case Gm:{if(m)switch(m){case"BigInt":return l([m,c.toString()],c);case"Boolean":case"Number":case"String":return l([m,c.valueOf()],c)}if(e&&"toJSON"in c)return o(c.toJSON());const x=[],y=l([h,x],c);for(const v of oL(c))(t||!tm(xu(c[v])))&&x.push([o(v),o(c[v])]);return y}case _y:return l([h,c.toISOString()],c);case Sy:{const{source:x,flags:y}=c;return l([h,{source:x,flags:y}],c)}case Ey:{const x=[],y=l([h,x],c);for(const[v,w]of c)(t||!(tm(xu(v))||tm(xu(w))))&&x.push([o(v),o(w)]);return y}case Ty:{const x=[],y=l([h,x],c);for(const v of c)(t||!tm(xu(v)))&&x.push(o(v));return y}}const{message:f}=c;return l([h,{name:m,message:f}],c)};return o},hN=(t,{json:e,lossy:n}={})=>{const s=[];return cL(!(e||n),!!e,new Map,s)(t),s},Ym=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?dN(hN(t,e)):structuredClone(t):(t,e)=>dN(hN(t,e));function uL(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function dL(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function hL(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||uL,s=t.options.footnoteBackLabel||dL,l=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",c=t.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let m=-1;for(;++m<t.footnoteOrder.length;){const f=t.footnoteById.get(t.footnoteOrder[m]);if(!f)continue;const x=t.all(f),y=String(f.identifier).toUpperCase(),v=uc(y.toLowerCase());let w=0;const S=[],U=t.footnoteCounts.get(y);for(;U!==void 0&&++w<=U;){S.length>0&&S.push({type:"text",value:" "});let L=typeof n=="string"?n:n(m,w);typeof L=="string"&&(L={type:"text",value:L}),S.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+v+(w>1?"-"+w:""),dataFootnoteBackref:"",ariaLabel:typeof s=="string"?s:s(m,w),className:["data-footnote-backref"]},children:Array.isArray(L)?L:[L]})}const I=x[x.length-1];if(I&&I.type==="element"&&I.tagName==="p"){const L=I.children[I.children.length-1];L&&L.type==="text"?L.value+=" ":I.children.push({type:"text",value:" "}),I.children.push(...S)}else x.push(...S);const z={type:"element",tagName:"li",properties:{id:e+"fn-"+v},children:t.wrap(x,!0)};t.patch(f,z),h.push(z)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Ym(c),id:"footnote-label"},children:[{type:"text",value:l}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(h,!0)},{type:"text",value:`
`}]}}const Uf=(function(t){if(t==null)return gL;if(typeof t=="function")return zf(t);if(typeof t=="object")return Array.isArray(t)?mL(t):fL(t);if(typeof t=="string")return pL(t);throw new Error("Expected function, string, or object as test")});function mL(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Uf(t[n]);return zf(s);function s(...l){let o=-1;for(;++o<e.length;)if(e[o].apply(this,l))return!0;return!1}}function fL(t){const e=t;return zf(n);function n(s){const l=s;let o;for(o in t)if(l[o]!==e[o])return!1;return!0}}function pL(t){return zf(e);function e(n){return n&&n.type===t}}function zf(t){return e;function e(n,s,l){return!!(xL(n)&&t.call(this,n,typeof s=="number"?s:void 0,l||void 0))}}function gL(){return!0}function xL(t){return t!==null&&typeof t=="object"&&"type"in t}const C4=[],yL=!0,tx=!1,bL="skip";function A4(t,e,n,s){let l;typeof e=="function"&&typeof n!="function"?(s=n,n=e):l=e;const o=Uf(l),c=s?-1:1;h(t,void 0,[])();function h(m,f,x){const y=m&&typeof m=="object"?m:{};if(typeof y.type=="string"){const w=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(m.type+(w?"<"+w+">":""))+")"})}return v;function v(){let w=C4,S,U,I;if((!e||o(m,f,x[x.length-1]||void 0))&&(w=vL(n(m,x)),w[0]===tx))return w;if("children"in m&&m.children){const z=m;if(z.children&&w[0]!==bL)for(U=(s?z.children.length:-1)+c,I=x.concat(z);U>-1&&U<z.children.length;){const L=z.children[U];if(S=h(L,U,I)(),S[0]===tx)return S;U=typeof S[1]=="number"?S[1]:U+c}}return w}}}function vL(t){return Array.isArray(t)?t:typeof t=="number"?[yL,t]:t==null?C4:[t]}function Cy(t,e,n,s){let l,o,c;typeof e=="function"&&typeof n!="function"?(o=void 0,c=e,l=n):(o=e,c=n,l=s),A4(t,o,h,l);function h(m,f){const x=f[f.length-1],y=x?x.children.indexOf(m):void 0;return c(m,y,x)}}const nx={}.hasOwnProperty,wL={};function NL(t,e){const n=e||wL,s=new Map,l=new Map,o=new Map,c={...rL,...n.handlers},h={all:f,applyData:_L,definitionById:s,footnoteById:l,footnoteCounts:o,footnoteOrder:[],handlers:c,one:m,options:n,patch:jL,wrap:EL};return Cy(t,function(x){if(x.type==="definition"||x.type==="footnoteDefinition"){const y=x.type==="definition"?s:l,v=String(x.identifier).toUpperCase();y.has(v)||y.set(v,x)}}),h;function m(x,y){const v=x.type,w=h.handlers[v];if(nx.call(h.handlers,v)&&w)return w(h,x,y);if(h.options.passThrough&&h.options.passThrough.includes(v)){if("children"in x){const{children:U,...I}=x,z=Ym(I);return z.children=h.all(x),z}return Ym(x)}return(h.options.unknownHandler||SL)(h,x,y)}function f(x){const y=[];if("children"in x){const v=x.children;let w=-1;for(;++w<v.length;){const S=h.one(v[w],x);if(S){if(w&&v[w-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=mN(S.value)),!Array.isArray(S)&&S.type==="element")){const U=S.children[0];U&&U.type==="text"&&(U.value=mN(U.value))}Array.isArray(S)?y.push(...S):y.push(S)}}}return y}}function jL(t,e){t.position&&(e.position=dO(t))}function _L(t,e){let n=e;if(t&&t.data){const s=t.data.hName,l=t.data.hChildren,o=t.data.hProperties;if(typeof s=="string")if(n.type==="element")n.tagName=s;else{const c="children"in n?n.children:[n];n={type:"element",tagName:s,properties:{},children:c}}n.type==="element"&&o&&Object.assign(n.properties,Ym(o)),"children"in n&&n.children&&l!==null&&l!==void 0&&(n.children=l)}return n}function SL(t,e){const n=e.data||{},s="value"in e&&!(nx.call(n,"hProperties")||nx.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function EL(t,e){const n=[];let s=-1;for(e&&n.push({type:"text",value:`
`});++s<t.length;)s&&n.push({type:"text",value:`
`}),n.push(t[s]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function mN(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function fN(t,e){const n=NL(t,e),s=n.one(t,void 0),l=hL(n),o=Array.isArray(s)?{type:"root",children:s}:s||{type:"root",children:[]};return l&&o.children.push({type:"text",value:`
`},l),o}function TL(t,e){return t&&"run"in t?async function(n,s){const l=fN(n,{file:s,...e});await t.run(l,s)}:function(n,s){return fN(n,{file:s,...t||e})}}function pN(t){if(t)throw t}var rg,gN;function CL(){if(gN)return rg;gN=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},o=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var x=t.call(f,"constructor"),y=f.constructor&&f.constructor.prototype&&t.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!x&&!y)return!1;var v;for(v in f);return typeof v>"u"||t.call(f,v)},c=function(f,x){n&&x.name==="__proto__"?n(f,x.name,{enumerable:!0,configurable:!0,value:x.newValue,writable:!0}):f[x.name]=x.newValue},h=function(f,x){if(x==="__proto__")if(t.call(f,x)){if(s)return s(f,x).value}else return;return f[x]};return rg=function m(){var f,x,y,v,w,S,U=arguments[0],I=1,z=arguments.length,L=!1;for(typeof U=="boolean"&&(L=U,U=arguments[1]||{},I=2),(U==null||typeof U!="object"&&typeof U!="function")&&(U={});I<z;++I)if(f=arguments[I],f!=null)for(x in f)y=h(U,x),v=h(f,x),U!==v&&(L&&v&&(o(v)||(w=l(v)))?(w?(w=!1,S=y&&l(y)?y:[]):S=y&&o(y)?y:{},c(U,{name:x,newValue:m(L,S,v)})):typeof v<"u"&&c(U,{name:x,newValue:v}));return U},rg}var AL=CL();const ig=cx(AL);function sx(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function kL(){const t=[],e={run:n,use:s};return e;function n(...l){let o=-1;const c=l.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);h(null,...l);function h(m,...f){const x=t[++o];let y=-1;if(m){c(m);return}for(;++y<l.length;)(f[y]===null||f[y]===void 0)&&(f[y]=l[y]);l=f,x?IL(x,h)(...f):c(null,...f)}}function s(l){if(typeof l!="function")throw new TypeError("Expected `middelware` to be a function, not "+l);return t.push(l),e}}function IL(t,e){let n;return s;function s(...c){const h=t.length>c.length;let m;h&&c.push(l);try{m=t.apply(this,c)}catch(f){const x=f;if(h&&n)throw x;return l(x)}h||(m&&m.then&&typeof m.then=="function"?m.then(o,l):m instanceof Error?l(m):o(m))}function l(c,...h){n||(n=!0,e(c,...h))}function o(c){l(null,c)}}const Da={basename:RL,dirname:DL,extname:ML,join:OL,sep:"/"};function RL(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');wd(t);let n=0,s=-1,l=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;l--;)if(t.codePointAt(l)===47){if(o){n=l+1;break}}else s<0&&(o=!0,s=l+1);return s<0?"":t.slice(n,s)}if(e===t)return"";let c=-1,h=e.length-1;for(;l--;)if(t.codePointAt(l)===47){if(o){n=l+1;break}}else c<0&&(o=!0,c=l+1),h>-1&&(t.codePointAt(l)===e.codePointAt(h--)?h<0&&(s=l):(h=-1,s=c));return n===s?s=c:s<0&&(s=t.length),t.slice(n,s)}function DL(t){if(wd(t),t.length===0)return".";let e=-1,n=t.length,s;for(;--n;)if(t.codePointAt(n)===47){if(s){e=n;break}}else s||(s=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function ML(t){wd(t);let e=t.length,n=-1,s=0,l=-1,o=0,c;for(;e--;){const h=t.codePointAt(e);if(h===47){if(c){s=e+1;break}continue}n<0&&(c=!0,n=e+1),h===46?l<0?l=e:o!==1&&(o=1):l>-1&&(o=-1)}return l<0||n<0||o===0||o===1&&l===n-1&&l===s+1?"":t.slice(l,n)}function OL(...t){let e=-1,n;for(;++e<t.length;)wd(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":PL(n)}function PL(t){wd(t);const e=t.codePointAt(0)===47;let n=LL(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function LL(t,e){let n="",s=0,l=-1,o=0,c=-1,h,m;for(;++c<=t.length;){if(c<t.length)h=t.codePointAt(c);else{if(h===47)break;h=47}if(h===47){if(!(l===c-1||o===1))if(l!==c-1&&o===2){if(n.length<2||s!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(m=n.lastIndexOf("/"),m!==n.length-1){m<0?(n="",s=0):(n=n.slice(0,m),s=n.length-1-n.lastIndexOf("/")),l=c,o=0;continue}}else if(n.length>0){n="",s=0,l=c,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",s=2)}else n.length>0?n+="/"+t.slice(l+1,c):n=t.slice(l+1,c),s=c-l-1;l=c,o=0}else h===46&&o>-1?o++:o=-1}return n}function wd(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const VL={cwd:UL};function UL(){return"/"}function ax(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function zL(t){if(typeof t=="string")t=new URL(t);else if(!ax(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return FL(t)}function FL(t){if(t.hostname!==""){const s=new TypeError('File URL host must be "localhost" or empty on darwin');throw s.code="ERR_INVALID_FILE_URL_HOST",s}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const s=e.codePointAt(n+2);if(s===70||s===102){const l=new TypeError("File URL path must not include encoded / characters");throw l.code="ERR_INVALID_FILE_URL_PATH",l}}return decodeURIComponent(e)}const lg=["history","path","basename","stem","extname","dirname"];class k4{constructor(e){let n;e?ax(e)?n={path:e}:typeof e=="string"||BL(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":VL.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let s=-1;for(;++s<lg.length;){const o=lg[s];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let l;for(l in n)lg.includes(l)||(this[l]=n[l])}get basename(){return typeof this.path=="string"?Da.basename(this.path):void 0}set basename(e){cg(e,"basename"),og(e,"basename"),this.path=Da.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Da.dirname(this.path):void 0}set dirname(e){xN(this.basename,"dirname"),this.path=Da.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Da.extname(this.path):void 0}set extname(e){if(og(e,"extname"),xN(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Da.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){ax(e)&&(e=zL(e)),cg(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Da.basename(this.path,this.extname):void 0}set stem(e){cg(e,"stem"),og(e,"stem"),this.path=Da.join(this.dirname||"",e+(this.extname||""))}fail(e,n,s){const l=this.message(e,n,s);throw l.fatal=!0,l}info(e,n,s){const l=this.message(e,n,s);return l.fatal=void 0,l}message(e,n,s){const l=new qn(e,n,s);return this.path&&(l.name=this.path+":"+l.name,l.file=this.path),l.fatal=!1,this.messages.push(l),l}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function og(t,e){if(t&&t.includes(Da.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Da.sep+"`")}function cg(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function xN(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function BL(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const $L=(function(t){const s=this.constructor.prototype,l=s[t],o=function(){return l.apply(o,arguments)};return Object.setPrototypeOf(o,s),o}),qL={}.hasOwnProperty;class Ay extends $L{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=kL()}copy(){const e=new Ay;let n=-1;for(;++n<this.attachers.length;){const s=this.attachers[n];e.use(...s)}return e.data(ig(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(hg("data",this.frozen),this.namespace[e]=n,this):qL.call(this.namespace,e)&&this.namespace[e]||void 0:e?(hg("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...s]=this.attachers[this.freezeIndex];if(s[0]===!1)continue;s[0]===!0&&(s[0]=void 0);const l=n.call(e,...s);typeof l=="function"&&this.transformers.use(l)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=nm(e),s=this.parser||this.Parser;return ug("parse",s),s(String(n),n)}process(e,n){const s=this;return this.freeze(),ug("process",this.parser||this.Parser),dg("process",this.compiler||this.Compiler),n?l(void 0,n):new Promise(l);function l(o,c){const h=nm(e),m=s.parse(h);s.run(m,h,function(x,y,v){if(x||!y||!v)return f(x);const w=y,S=s.stringify(w,v);YL(S)?v.value=S:v.result=S,f(x,v)});function f(x,y){x||!y?c(x):o?o(y):n(void 0,y)}}}processSync(e){let n=!1,s;return this.freeze(),ug("processSync",this.parser||this.Parser),dg("processSync",this.compiler||this.Compiler),this.process(e,l),bN("processSync","process",n),s;function l(o,c){n=!0,pN(o),s=c}}run(e,n,s){yN(e),this.freeze();const l=this.transformers;return!s&&typeof n=="function"&&(s=n,n=void 0),s?o(void 0,s):new Promise(o);function o(c,h){const m=nm(n);l.run(e,m,f);function f(x,y,v){const w=y||e;x?h(x):c?c(w):s(void 0,w,v)}}}runSync(e,n){let s=!1,l;return this.run(e,n,o),bN("runSync","run",s),l;function o(c,h){pN(c),l=h,s=!0}}stringify(e,n){this.freeze();const s=nm(n),l=this.compiler||this.Compiler;return dg("stringify",l),yN(e),l(e,s)}use(e,...n){const s=this.attachers,l=this.namespace;if(hg("use",this.frozen),e!=null)if(typeof e=="function")m(e,n);else if(typeof e=="object")Array.isArray(e)?h(e):c(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(f){if(typeof f=="function")m(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[x,...y]=f;m(x,y)}else c(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function c(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(f.plugins),f.settings&&(l.settings=ig(!0,l.settings,f.settings))}function h(f){let x=-1;if(f!=null)if(Array.isArray(f))for(;++x<f.length;){const y=f[x];o(y)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function m(f,x){let y=-1,v=-1;for(;++y<s.length;)if(s[y][0]===f){v=y;break}if(v===-1)s.push([f,...x]);else if(x.length>0){let[w,...S]=x;const U=s[v][1];sx(U)&&sx(w)&&(w=ig(!0,U,w)),s[v]=[f,w,...S]}}}}const HL=new Ay().freeze();function ug(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function dg(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function hg(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function yN(t){if(!sx(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function bN(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function nm(t){return GL(t)?t:new k4(t)}function GL(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function YL(t){return typeof t=="string"||QL(t)}function QL(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const KL="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",vN=[],wN={allowDangerousHtml:!0},XL=/^(https?|ircs?|mailto|xmpp)$/i,WL=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function dc(t){const e=JL(t),n=ZL(t);return e7(e.runSync(e.parse(n),n),t)}function JL(t){const e=t.rehypePlugins||vN,n=t.remarkPlugins||vN,s=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...wN}:wN;return HL().use(DP).use(n).use(TL,s).use(e)}function ZL(t){const e=t.children||"",n=new k4;return typeof e=="string"&&(n.value=e),n}function e7(t,e){const n=e.allowedElements,s=e.allowElement,l=e.components,o=e.disallowedElements,c=e.skipHtml,h=e.unwrapDisallowed,m=e.urlTransform||t7;for(const x of WL)Object.hasOwn(e,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+KL+x.id,void 0);return Cy(t,f),gO(t,{Fragment:a.Fragment,components:l,ignoreInvalidStyle:!0,jsx:a.jsx,jsxs:a.jsxs,passKeys:!0,passNode:!0});function f(x,y,v){if(x.type==="raw"&&v&&typeof y=="number")return c?v.children.splice(y,1):v.children[y]={type:"text",value:x.value},y;if(x.type==="element"){let w;for(w in ng)if(Object.hasOwn(ng,w)&&Object.hasOwn(x.properties,w)){const S=x.properties[w],U=ng[w];(U===null||U.includes(x.tagName))&&(x.properties[w]=m(String(S||""),w,x))}}if(x.type==="element"){let w=n?!n.includes(x.tagName):o?o.includes(x.tagName):!1;if(!w&&s&&typeof y=="number"&&(w=!s(x,y,v)),w&&v&&typeof y=="number")return h&&x.children?v.children.splice(y,1,...x.children):v.children.splice(y,1),y}}}function t7(t){const e=t.indexOf(":"),n=t.indexOf("?"),s=t.indexOf("#"),l=t.indexOf("/");return e===-1||l!==-1&&e>l||n!==-1&&e>n||s!==-1&&e>s||XL.test(t.slice(0,e))?t:""}function NN(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let s=0,l=n.indexOf(e);for(;l!==-1;)s++,l=n.indexOf(e,l+e.length);return s}function n7(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function s7(t,e,n){const l=Uf((n||{}).ignore||[]),o=a7(e);let c=-1;for(;++c<o.length;)A4(t,"text",h);function h(f,x){let y=-1,v;for(;++y<x.length;){const w=x[y],S=v?v.children:void 0;if(l(w,S?S.indexOf(w):void 0,v))return;v=w}if(v)return m(f,x)}function m(f,x){const y=x[x.length-1],v=o[c][0],w=o[c][1];let S=0;const I=y.children.indexOf(f);let z=!1,L=[];v.lastIndex=0;let q=v.exec(f.value);for(;q;){const K=q.index,se={index:q.index,input:q.input,stack:[...x,f]};let G=w(...q,se);if(typeof G=="string"&&(G=G.length>0?{type:"text",value:G}:void 0),G===!1?v.lastIndex=K+1:(S!==K&&L.push({type:"text",value:f.value.slice(S,K)}),Array.isArray(G)?L.push(...G):G&&L.push(G),S=K+q[0].length,z=!0),!v.global)break;q=v.exec(f.value)}return z?(S<f.value.length&&L.push({type:"text",value:f.value.slice(S)}),y.children.splice(I,1,...L)):L=[f],I+L.length}}function a7(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let s=-1;for(;++s<n.length;){const l=n[s];e.push([r7(l[0]),i7(l[1])])}return e}function r7(t){return typeof t=="string"?new RegExp(n7(t),"g"):t}function i7(t){return typeof t=="function"?t:function(){return t}}const mg="phrasing",fg=["autolink","link","image","label"];function l7(){return{transforms:[f7],enter:{literalAutolink:c7,literalAutolinkEmail:pg,literalAutolinkHttp:pg,literalAutolinkWww:pg},exit:{literalAutolink:m7,literalAutolinkEmail:h7,literalAutolinkHttp:u7,literalAutolinkWww:d7}}}function o7(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:mg,notInConstruct:fg},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:mg,notInConstruct:fg},{character:":",before:"[ps]",after:"\\/",inConstruct:mg,notInConstruct:fg}]}}function c7(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function pg(t){this.config.enter.autolinkProtocol.call(this,t)}function u7(t){this.config.exit.autolinkProtocol.call(this,t)}function d7(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function h7(t){this.config.exit.autolinkEmail.call(this,t)}function m7(t){this.exit(t)}function f7(t){s7(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,p7],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),g7]],{ignore:["link","linkReference"]})}function p7(t,e,n,s,l){let o="";if(!I4(l)||(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!x7(n)))return!1;const c=y7(n+s);if(!c[0])return!1;const h={type:"link",title:null,url:o+e+c[0],children:[{type:"text",value:e+c[0]}]};return c[1]?[h,{type:"text",value:c[1]}]:h}function g7(t,e,n,s){return!I4(s,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function x7(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function y7(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],s=n.indexOf(")");const l=NN(t,"(");let o=NN(t,")");for(;s!==-1&&l>o;)t+=n.slice(0,s+1),n=n.slice(s+1),s=n.indexOf(")"),o++;return[t,n]}function I4(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Tl(n)||Pf(n))&&(!e||n!==47)}R4.peek=T7;function b7(){this.buffer()}function v7(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function w7(){this.buffer()}function N7(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function j7(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=la(this.sliceSerialize(t)).toLowerCase(),n.label=e}function _7(t){this.exit(t)}function S7(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=la(this.sliceSerialize(t)).toLowerCase(),n.label=e}function E7(t){this.exit(t)}function T7(){return"["}function R4(t,e,n,s){const l=n.createTracker(s);let o=l.move("[^");const c=n.enter("footnoteReference"),h=n.enter("reference");return o+=l.move(n.safe(n.associationId(t),{after:"]",before:o})),h(),c(),o+=l.move("]"),o}function C7(){return{enter:{gfmFootnoteCallString:b7,gfmFootnoteCall:v7,gfmFootnoteDefinitionLabelString:w7,gfmFootnoteDefinition:N7},exit:{gfmFootnoteCallString:j7,gfmFootnoteCall:_7,gfmFootnoteDefinitionLabelString:S7,gfmFootnoteDefinition:E7}}}function A7(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:R4},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(s,l,o,c){const h=o.createTracker(c);let m=h.move("[^");const f=o.enter("footnoteDefinition"),x=o.enter("label");return m+=h.move(o.safe(o.associationId(s),{before:m,after:"]"})),x(),m+=h.move("]:"),s.children&&s.children.length>0&&(h.shift(4),m+=h.move((e?`
`:" ")+o.indentLines(o.containerFlow(s,h.current()),e?D4:k7))),f(),m}}function k7(t,e,n){return e===0?t:D4(t,e,n)}function D4(t,e,n){return(n?"":"    ")+t}const I7=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];M4.peek=P7;function R7(){return{canContainEols:["delete"],enter:{strikethrough:M7},exit:{strikethrough:O7}}}function D7(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:I7}],handlers:{delete:M4}}}function M7(t){this.enter({type:"delete",children:[]},t)}function O7(t){this.exit(t)}function M4(t,e,n,s){const l=n.createTracker(s),o=n.enter("strikethrough");let c=l.move("~~");return c+=n.containerPhrasing(t,{...l.current(),before:c,after:"~"}),c+=l.move("~~"),o(),c}function P7(){return"~"}function L7(t){return t.length}function V7(t,e){const n=e||{},s=(n.align||[]).concat(),l=n.stringLength||L7,o=[],c=[],h=[],m=[];let f=0,x=-1;for(;++x<t.length;){const U=[],I=[];let z=-1;for(t[x].length>f&&(f=t[x].length);++z<t[x].length;){const L=U7(t[x][z]);if(n.alignDelimiters!==!1){const q=l(L);I[z]=q,(m[z]===void 0||q>m[z])&&(m[z]=q)}U.push(L)}c[x]=U,h[x]=I}let y=-1;if(typeof s=="object"&&"length"in s)for(;++y<f;)o[y]=jN(s[y]);else{const U=jN(s);for(;++y<f;)o[y]=U}y=-1;const v=[],w=[];for(;++y<f;){const U=o[y];let I="",z="";U===99?(I=":",z=":"):U===108?I=":":U===114&&(z=":");let L=n.alignDelimiters===!1?1:Math.max(1,m[y]-I.length-z.length);const q=I+"-".repeat(L)+z;n.alignDelimiters!==!1&&(L=I.length+L+z.length,L>m[y]&&(m[y]=L),w[y]=L),v[y]=q}c.splice(1,0,v),h.splice(1,0,w),x=-1;const S=[];for(;++x<c.length;){const U=c[x],I=h[x];y=-1;const z=[];for(;++y<f;){const L=U[y]||"";let q="",K="";if(n.alignDelimiters!==!1){const se=m[y]-(I[y]||0),G=o[y];G===114?q=" ".repeat(se):G===99?se%2?(q=" ".repeat(se/2+.5),K=" ".repeat(se/2-.5)):(q=" ".repeat(se/2),K=q):K=" ".repeat(se)}n.delimiterStart!==!1&&!y&&z.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&L==="")&&(n.delimiterStart!==!1||y)&&z.push(" "),n.alignDelimiters!==!1&&z.push(q),z.push(L),n.alignDelimiters!==!1&&z.push(K),n.padding!==!1&&z.push(" "),(n.delimiterEnd!==!1||y!==f-1)&&z.push("|")}S.push(n.delimiterEnd===!1?z.join("").replace(/ +$/,""):z.join(""))}return S.join(`
`)}function U7(t){return t==null?"":String(t)}function jN(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function z7(t,e,n,s){const l=n.enter("blockquote"),o=n.createTracker(s);o.move("> "),o.shift(2);const c=n.indentLines(n.containerFlow(t,o.current()),F7);return l(),c}function F7(t,e,n){return">"+(n?"":" ")+t}function B7(t,e){return _N(t,e.inConstruct,!0)&&!_N(t,e.notInConstruct,!1)}function _N(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let s=-1;for(;++s<e.length;)if(t.includes(e[s]))return!0;return!1}function SN(t,e,n,s){let l=-1;for(;++l<n.unsafe.length;)if(n.unsafe[l].character===`
`&&B7(n.stack,n.unsafe[l]))return/[ \t]/.test(s.before)?"":" ";return`\\
`}function $7(t,e){const n=String(t);let s=n.indexOf(e),l=s,o=0,c=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;s!==-1;)s===l?++o>c&&(c=o):o=1,l=s+e.length,s=n.indexOf(e,l);return c}function q7(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function H7(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function G7(t,e,n,s){const l=H7(n),o=t.value||"",c=l==="`"?"GraveAccent":"Tilde";if(q7(t,n)){const y=n.enter("codeIndented"),v=n.indentLines(o,Y7);return y(),v}const h=n.createTracker(s),m=l.repeat(Math.max($7(o,l)+1,3)),f=n.enter("codeFenced");let x=h.move(m);if(t.lang){const y=n.enter(`codeFencedLang${c}`);x+=h.move(n.safe(t.lang,{before:x,after:" ",encode:["`"],...h.current()})),y()}if(t.lang&&t.meta){const y=n.enter(`codeFencedMeta${c}`);x+=h.move(" "),x+=h.move(n.safe(t.meta,{before:x,after:`
`,encode:["`"],...h.current()})),y()}return x+=h.move(`
`),o&&(x+=h.move(o+`
`)),x+=h.move(m),f(),x}function Y7(t,e,n){return(n?"":"    ")+t}function ky(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function Q7(t,e,n,s){const l=ky(n),o=l==='"'?"Quote":"Apostrophe",c=n.enter("definition");let h=n.enter("label");const m=n.createTracker(s);let f=m.move("[");return f+=m.move(n.safe(n.associationId(t),{before:f,after:"]",...m.current()})),f+=m.move("]: "),h(),!t.url||/[\0- \u007F]/.test(t.url)?(h=n.enter("destinationLiteral"),f+=m.move("<"),f+=m.move(n.safe(t.url,{before:f,after:">",...m.current()})),f+=m.move(">")):(h=n.enter("destinationRaw"),f+=m.move(n.safe(t.url,{before:f,after:t.title?" ":`
`,...m.current()}))),h(),t.title&&(h=n.enter(`title${o}`),f+=m.move(" "+l),f+=m.move(n.safe(t.title,{before:f,after:l,...m.current()})),f+=m.move(l),h()),c(),f}function K7(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Qu(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Qm(t,e,n){const s=Ko(t),l=Ko(e);return s===void 0?l===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:l===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:s===1?l===void 0?{inside:!1,outside:!1}:l===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:l===void 0?{inside:!1,outside:!1}:l===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}O4.peek=X7;function O4(t,e,n,s){const l=K7(n),o=n.enter("emphasis"),c=n.createTracker(s),h=c.move(l);let m=c.move(n.containerPhrasing(t,{after:l,before:h,...c.current()}));const f=m.charCodeAt(0),x=Qm(s.before.charCodeAt(s.before.length-1),f,l);x.inside&&(m=Qu(f)+m.slice(1));const y=m.charCodeAt(m.length-1),v=Qm(s.after.charCodeAt(0),y,l);v.inside&&(m=m.slice(0,-1)+Qu(y));const w=c.move(l);return o(),n.attentionEncodeSurroundingInfo={after:v.outside,before:x.outside},h+m+w}function X7(t,e,n){return n.options.emphasis||"*"}function W7(t,e){let n=!1;return Cy(t,function(s){if("value"in s&&/\r?\n|\r/.test(s.value)||s.type==="break")return n=!0,tx}),!!((!t.depth||t.depth<3)&&wy(t)&&(e.options.setext||n))}function J7(t,e,n,s){const l=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(s);if(W7(t,n)){const x=n.enter("headingSetext"),y=n.enter("phrasing"),v=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return y(),x(),v+`
`+(l===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const c="#".repeat(l),h=n.enter("headingAtx"),m=n.enter("phrasing");o.move(c+" ");let f=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(f)&&(f=Qu(f.charCodeAt(0))+f.slice(1)),f=f?c+" "+f:c,n.options.closeAtx&&(f+=" "+c),m(),h(),f}P4.peek=Z7;function P4(t){return t.value||""}function Z7(){return"<"}L4.peek=eV;function L4(t,e,n,s){const l=ky(n),o=l==='"'?"Quote":"Apostrophe",c=n.enter("image");let h=n.enter("label");const m=n.createTracker(s);let f=m.move("![");return f+=m.move(n.safe(t.alt,{before:f,after:"]",...m.current()})),f+=m.move("]("),h(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(h=n.enter("destinationLiteral"),f+=m.move("<"),f+=m.move(n.safe(t.url,{before:f,after:">",...m.current()})),f+=m.move(">")):(h=n.enter("destinationRaw"),f+=m.move(n.safe(t.url,{before:f,after:t.title?" ":")",...m.current()}))),h(),t.title&&(h=n.enter(`title${o}`),f+=m.move(" "+l),f+=m.move(n.safe(t.title,{before:f,after:l,...m.current()})),f+=m.move(l),h()),f+=m.move(")"),c(),f}function eV(){return"!"}V4.peek=tV;function V4(t,e,n,s){const l=t.referenceType,o=n.enter("imageReference");let c=n.enter("label");const h=n.createTracker(s);let m=h.move("![");const f=n.safe(t.alt,{before:m,after:"]",...h.current()});m+=h.move(f+"]["),c();const x=n.stack;n.stack=[],c=n.enter("reference");const y=n.safe(n.associationId(t),{before:m,after:"]",...h.current()});return c(),n.stack=x,o(),l==="full"||!f||f!==y?m+=h.move(y+"]"):l==="shortcut"?m=m.slice(0,-1):m+=h.move("]"),m}function tV(){return"!"}U4.peek=nV;function U4(t,e,n){let s=t.value||"",l="`",o=-1;for(;new RegExp("(^|[^`])"+l+"([^`]|$)").test(s);)l+="`";for(/[^ \r\n]/.test(s)&&(/^[ \r\n]/.test(s)&&/[ \r\n]$/.test(s)||/^`|`$/.test(s))&&(s=" "+s+" ");++o<n.unsafe.length;){const c=n.unsafe[o],h=n.compilePattern(c);let m;if(c.atBreak)for(;m=h.exec(s);){let f=m.index;s.charCodeAt(f)===10&&s.charCodeAt(f-1)===13&&f--,s=s.slice(0,f)+" "+s.slice(m.index+1)}}return l+s+l}function nV(){return"`"}function z4(t,e){const n=wy(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}F4.peek=sV;function F4(t,e,n,s){const l=ky(n),o=l==='"'?"Quote":"Apostrophe",c=n.createTracker(s);let h,m;if(z4(t,n)){const x=n.stack;n.stack=[],h=n.enter("autolink");let y=c.move("<");return y+=c.move(n.containerPhrasing(t,{before:y,after:">",...c.current()})),y+=c.move(">"),h(),n.stack=x,y}h=n.enter("link"),m=n.enter("label");let f=c.move("[");return f+=c.move(n.containerPhrasing(t,{before:f,after:"](",...c.current()})),f+=c.move("]("),m(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(m=n.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(n.safe(t.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(m=n.enter("destinationRaw"),f+=c.move(n.safe(t.url,{before:f,after:t.title?" ":")",...c.current()}))),m(),t.title&&(m=n.enter(`title${o}`),f+=c.move(" "+l),f+=c.move(n.safe(t.title,{before:f,after:l,...c.current()})),f+=c.move(l),m()),f+=c.move(")"),h(),f}function sV(t,e,n){return z4(t,n)?"<":"["}B4.peek=aV;function B4(t,e,n,s){const l=t.referenceType,o=n.enter("linkReference");let c=n.enter("label");const h=n.createTracker(s);let m=h.move("[");const f=n.containerPhrasing(t,{before:m,after:"]",...h.current()});m+=h.move(f+"]["),c();const x=n.stack;n.stack=[],c=n.enter("reference");const y=n.safe(n.associationId(t),{before:m,after:"]",...h.current()});return c(),n.stack=x,o(),l==="full"||!f||f!==y?m+=h.move(y+"]"):l==="shortcut"?m=m.slice(0,-1):m+=h.move("]"),m}function aV(){return"["}function Iy(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function rV(t){const e=Iy(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function iV(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function $4(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function lV(t,e,n,s){const l=n.enter("list"),o=n.bulletCurrent;let c=t.ordered?iV(n):Iy(n);const h=t.ordered?c==="."?")":".":rV(n);let m=e&&n.bulletLastUsed?c===n.bulletLastUsed:!1;if(!t.ordered){const x=t.children?t.children[0]:void 0;if((c==="*"||c==="-")&&x&&(!x.children||!x.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(m=!0),$4(n)===c&&x){let y=-1;for(;++y<t.children.length;){const v=t.children[y];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){m=!0;break}}}}m&&(c=h),n.bulletCurrent=c;const f=n.containerFlow(t,s);return n.bulletLastUsed=c,n.bulletCurrent=o,l(),f}function oV(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function cV(t,e,n,s){const l=oV(n);let o=n.bulletCurrent||Iy(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let c=o.length+1;(l==="tab"||l==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(c=Math.ceil(c/4)*4);const h=n.createTracker(s);h.move(o+" ".repeat(c-o.length)),h.shift(c);const m=n.enter("listItem"),f=n.indentLines(n.containerFlow(t,h.current()),x);return m(),f;function x(y,v,w){return v?(w?"":" ".repeat(c))+y:(w?o:o+" ".repeat(c-o.length))+y}}function uV(t,e,n,s){const l=n.enter("paragraph"),o=n.enter("phrasing"),c=n.containerPhrasing(t,s);return o(),l(),c}const dV=Uf(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function hV(t,e,n,s){return(t.children.some(function(c){return dV(c)})?n.containerPhrasing:n.containerFlow).call(n,t,s)}function mV(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}q4.peek=fV;function q4(t,e,n,s){const l=mV(n),o=n.enter("strong"),c=n.createTracker(s),h=c.move(l+l);let m=c.move(n.containerPhrasing(t,{after:l,before:h,...c.current()}));const f=m.charCodeAt(0),x=Qm(s.before.charCodeAt(s.before.length-1),f,l);x.inside&&(m=Qu(f)+m.slice(1));const y=m.charCodeAt(m.length-1),v=Qm(s.after.charCodeAt(0),y,l);v.inside&&(m=m.slice(0,-1)+Qu(y));const w=c.move(l+l);return o(),n.attentionEncodeSurroundingInfo={after:v.outside,before:x.outside},h+m+w}function fV(t,e,n){return n.options.strong||"*"}function pV(t,e,n,s){return n.safe(t.value,s)}function gV(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function xV(t,e,n){const s=($4(n)+(n.options.ruleSpaces?" ":"")).repeat(gV(n));return n.options.ruleSpaces?s.slice(0,-1):s}const H4={blockquote:z7,break:SN,code:G7,definition:Q7,emphasis:O4,hardBreak:SN,heading:J7,html:P4,image:L4,imageReference:V4,inlineCode:U4,link:F4,linkReference:B4,list:lV,listItem:cV,paragraph:uV,root:hV,strong:q4,text:pV,thematicBreak:xV};function yV(){return{enter:{table:bV,tableData:EN,tableHeader:EN,tableRow:wV},exit:{codeText:NV,table:vV,tableData:gg,tableHeader:gg,tableRow:gg}}}function bV(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function vV(t){this.exit(t),this.data.inTable=void 0}function wV(t){this.enter({type:"tableRow",children:[]},t)}function gg(t){this.exit(t)}function EN(t){this.enter({type:"tableCell",children:[]},t)}function NV(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,jV));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function jV(t,e){return e==="|"?e:t}function _V(t){const e=t||{},n=e.tableCellPadding,s=e.tablePipeAlign,l=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:c,tableCell:m,tableRow:h}};function c(w,S,U,I){return f(x(w,U,I),w.align)}function h(w,S,U,I){const z=y(w,U,I),L=f([z]);return L.slice(0,L.indexOf(`
`))}function m(w,S,U,I){const z=U.enter("tableCell"),L=U.enter("phrasing"),q=U.containerPhrasing(w,{...I,before:o,after:o});return L(),z(),q}function f(w,S){return V7(w,{align:S,alignDelimiters:s,padding:n,stringLength:l})}function x(w,S,U){const I=w.children;let z=-1;const L=[],q=S.enter("table");for(;++z<I.length;)L[z]=y(I[z],S,U);return q(),L}function y(w,S,U){const I=w.children;let z=-1;const L=[],q=S.enter("tableRow");for(;++z<I.length;)L[z]=m(I[z],w,S,U);return q(),L}function v(w,S,U){let I=H4.inlineCode(w,S,U);return U.stack.includes("tableCell")&&(I=I.replace(/\|/g,"\\$&")),I}}function SV(){return{exit:{taskListCheckValueChecked:TN,taskListCheckValueUnchecked:TN,paragraph:TV}}}function EV(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:CV}}}function TN(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function TV(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const s=n.children[0];if(s&&s.type==="text"){const l=e.children;let o=-1,c;for(;++o<l.length;){const h=l[o];if(h.type==="paragraph"){c=h;break}}c===n&&(s.value=s.value.slice(1),s.value.length===0?n.children.shift():n.position&&s.position&&typeof s.position.start.offset=="number"&&(s.position.start.column++,s.position.start.offset++,n.position.start=Object.assign({},s.position.start)))}}this.exit(t)}function CV(t,e,n,s){const l=t.children[0],o=typeof t.checked=="boolean"&&l&&l.type==="paragraph",c="["+(t.checked?"x":" ")+"] ",h=n.createTracker(s);o&&h.move(c);let m=H4.listItem(t,e,n,{...s,...h.current()});return o&&(m=m.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),m;function f(x){return x+c}}function AV(){return[l7(),C7(),R7(),yV(),SV()]}function kV(t){return{extensions:[o7(),A7(t),D7(),_V(t),EV()]}}const IV={tokenize:LV,partial:!0},G4={tokenize:VV,partial:!0},Y4={tokenize:UV,partial:!0},Q4={tokenize:zV,partial:!0},RV={tokenize:FV,partial:!0},K4={name:"wwwAutolink",tokenize:OV,previous:W4},X4={name:"protocolAutolink",tokenize:PV,previous:J4},Cr={name:"emailAutolink",tokenize:MV,previous:Z4},$a={};function DV(){return{text:$a}}let dl=48;for(;dl<123;)$a[dl]=Cr,dl++,dl===58?dl=65:dl===91&&(dl=97);$a[43]=Cr;$a[45]=Cr;$a[46]=Cr;$a[95]=Cr;$a[72]=[Cr,X4];$a[104]=[Cr,X4];$a[87]=[Cr,K4];$a[119]=[Cr,K4];function MV(t,e,n){const s=this;let l,o;return c;function c(y){return!rx(y)||!Z4.call(s,s.previous)||Ry(s.events)?n(y):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),h(y))}function h(y){return rx(y)?(t.consume(y),h):y===64?(t.consume(y),m):n(y)}function m(y){return y===46?t.check(RV,x,f)(y):y===45||y===95||Fn(y)?(o=!0,t.consume(y),m):x(y)}function f(y){return t.consume(y),l=!0,m}function x(y){return o&&l&&Yn(s.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(y)):n(y)}}function OV(t,e,n){const s=this;return l;function l(c){return c!==87&&c!==119||!W4.call(s,s.previous)||Ry(s.events)?n(c):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(IV,t.attempt(G4,t.attempt(Y4,o),n),n)(c))}function o(c){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(c)}}function PV(t,e,n){const s=this;let l="",o=!1;return c;function c(y){return(y===72||y===104)&&J4.call(s,s.previous)&&!Ry(s.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),l+=String.fromCodePoint(y),t.consume(y),h):n(y)}function h(y){if(Yn(y)&&l.length<5)return l+=String.fromCodePoint(y),t.consume(y),h;if(y===58){const v=l.toLowerCase();if(v==="http"||v==="https")return t.consume(y),m}return n(y)}function m(y){return y===47?(t.consume(y),o?f:(o=!0,m)):n(y)}function f(y){return y===null||Hm(y)||Tt(y)||Tl(y)||Pf(y)?n(y):t.attempt(G4,t.attempt(Y4,x),n)(y)}function x(y){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(y)}}function LV(t,e,n){let s=0;return l;function l(c){return(c===87||c===119)&&s<3?(s++,t.consume(c),l):c===46&&s===3?(t.consume(c),o):n(c)}function o(c){return c===null?n(c):e(c)}}function VV(t,e,n){let s,l,o;return c;function c(f){return f===46||f===95?t.check(Q4,m,h)(f):f===null||Tt(f)||Tl(f)||f!==45&&Pf(f)?m(f):(o=!0,t.consume(f),c)}function h(f){return f===95?s=!0:(l=s,s=void 0),t.consume(f),c}function m(f){return l||s||!o?n(f):e(f)}}function UV(t,e){let n=0,s=0;return l;function l(c){return c===40?(n++,t.consume(c),l):c===41&&s<n?o(c):c===33||c===34||c===38||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===60||c===63||c===93||c===95||c===126?t.check(Q4,e,o)(c):c===null||Tt(c)||Tl(c)?e(c):(t.consume(c),l)}function o(c){return c===41&&s++,t.consume(c),l}}function zV(t,e,n){return s;function s(h){return h===33||h===34||h===39||h===41||h===42||h===44||h===46||h===58||h===59||h===63||h===95||h===126?(t.consume(h),s):h===38?(t.consume(h),o):h===93?(t.consume(h),l):h===60||h===null||Tt(h)||Tl(h)?e(h):n(h)}function l(h){return h===null||h===40||h===91||Tt(h)||Tl(h)?e(h):s(h)}function o(h){return Yn(h)?c(h):n(h)}function c(h){return h===59?(t.consume(h),s):Yn(h)?(t.consume(h),c):n(h)}}function FV(t,e,n){return s;function s(o){return t.consume(o),l}function l(o){return Fn(o)?n(o):e(o)}}function W4(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Tt(t)}function J4(t){return!Yn(t)}function Z4(t){return!(t===47||rx(t))}function rx(t){return t===43||t===45||t===46||t===95||Fn(t)}function Ry(t){let e=t.length,n=!1;for(;e--;){const s=t[e][1];if((s.type==="labelLink"||s.type==="labelImage")&&!s._balanced){n=!0;break}if(s._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const BV={tokenize:XV,partial:!0};function $V(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:YV,continuation:{tokenize:QV},exit:KV}},text:{91:{name:"gfmFootnoteCall",tokenize:GV},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:qV,resolveTo:HV}}}}function qV(t,e,n){const s=this;let l=s.events.length;const o=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let c;for(;l--;){const m=s.events[l][1];if(m.type==="labelImage"){c=m;break}if(m.type==="gfmFootnoteCall"||m.type==="labelLink"||m.type==="label"||m.type==="image"||m.type==="link")break}return h;function h(m){if(!c||!c._balanced)return n(m);const f=la(s.sliceSerialize({start:c.end,end:s.now()}));return f.codePointAt(0)!==94||!o.includes(f.slice(1))?n(m):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),e(m))}}function HV(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const s={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},l={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};l.end.column++,l.end.offset++,l.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},l.end),end:Object.assign({},t[t.length-1][1].start)},c={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},h=[t[n+1],t[n+2],["enter",s,e],t[n+3],t[n+4],["enter",l,e],["exit",l,e],["enter",o,e],["enter",c,e],["exit",c,e],["exit",o,e],t[t.length-2],t[t.length-1],["exit",s,e]];return t.splice(n,t.length-n+1,...h),t}function GV(t,e,n){const s=this,l=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let o=0,c;return h;function h(y){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(y),t.exit("gfmFootnoteCallLabelMarker"),m}function m(y){return y!==94?n(y):(t.enter("gfmFootnoteCallMarker"),t.consume(y),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",f)}function f(y){if(o>999||y===93&&!c||y===null||y===91||Tt(y))return n(y);if(y===93){t.exit("chunkString");const v=t.exit("gfmFootnoteCallString");return l.includes(la(s.sliceSerialize(v)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(y),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(y)}return Tt(y)||(c=!0),o++,t.consume(y),y===92?x:f}function x(y){return y===91||y===92||y===93?(t.consume(y),o++,f):f(y)}}function YV(t,e,n){const s=this,l=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let o,c=0,h;return m;function m(S){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(S),t.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(S){return S===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(S),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",x):n(S)}function x(S){if(c>999||S===93&&!h||S===null||S===91||Tt(S))return n(S);if(S===93){t.exit("chunkString");const U=t.exit("gfmFootnoteDefinitionLabelString");return o=la(s.sliceSerialize(U)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(S),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),v}return Tt(S)||(h=!0),c++,t.consume(S),S===92?y:x}function y(S){return S===91||S===92||S===93?(t.consume(S),c++,x):x(S)}function v(S){return S===58?(t.enter("definitionMarker"),t.consume(S),t.exit("definitionMarker"),l.includes(o)||l.push(o),lt(t,w,"gfmFootnoteDefinitionWhitespace")):n(S)}function w(S){return e(S)}}function QV(t,e,n){return t.check(vd,e,t.attempt(BV,e,n))}function KV(t){t.exit("gfmFootnoteDefinition")}function XV(t,e,n){const s=this;return lt(t,l,"gfmFootnoteDefinitionIndent",5);function l(o){const c=s.events[s.events.length-1];return c&&c[1].type==="gfmFootnoteDefinitionIndent"&&c[2].sliceSerialize(c[1],!0).length===4?e(o):n(o)}}function WV(t){let n=(t||{}).singleTilde;const s={name:"strikethrough",tokenize:o,resolveAll:l};return n==null&&(n=!0),{text:{126:s},insideSpan:{null:[s]},attentionMarkers:{null:[126]}};function l(c,h){let m=-1;for(;++m<c.length;)if(c[m][0]==="enter"&&c[m][1].type==="strikethroughSequenceTemporary"&&c[m][1]._close){let f=m;for(;f--;)if(c[f][0]==="exit"&&c[f][1].type==="strikethroughSequenceTemporary"&&c[f][1]._open&&c[m][1].end.offset-c[m][1].start.offset===c[f][1].end.offset-c[f][1].start.offset){c[m][1].type="strikethroughSequence",c[f][1].type="strikethroughSequence";const x={type:"strikethrough",start:Object.assign({},c[f][1].start),end:Object.assign({},c[m][1].end)},y={type:"strikethroughText",start:Object.assign({},c[f][1].end),end:Object.assign({},c[m][1].start)},v=[["enter",x,h],["enter",c[f][1],h],["exit",c[f][1],h],["enter",y,h]],w=h.parser.constructs.insideSpan.null;w&&Ns(v,v.length,0,Lf(w,c.slice(f+1,m),h)),Ns(v,v.length,0,[["exit",y,h],["enter",c[m][1],h],["exit",c[m][1],h],["exit",x,h]]),Ns(c,f-1,m-f+3,v),m=f+v.length-2;break}}for(m=-1;++m<c.length;)c[m][1].type==="strikethroughSequenceTemporary"&&(c[m][1].type="data");return c}function o(c,h,m){const f=this.previous,x=this.events;let y=0;return v;function v(S){return f===126&&x[x.length-1][1].type!=="characterEscape"?m(S):(c.enter("strikethroughSequenceTemporary"),w(S))}function w(S){const U=Ko(f);if(S===126)return y>1?m(S):(c.consume(S),y++,w);if(y<2&&!n)return m(S);const I=c.exit("strikethroughSequenceTemporary"),z=Ko(S);return I._open=!z||z===2&&!!U,I._close=!U||U===2&&!!z,h(S)}}}class JV{constructor(){this.map=[]}add(e,n,s){ZV(this,e,n,s)}consume(e){if(this.map.sort(function(o,c){return o[0]-c[0]}),this.map.length===0)return;let n=this.map.length;const s=[];for(;n>0;)n-=1,s.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];s.push(e.slice()),e.length=0;let l=s.pop();for(;l;){for(const o of l)e.push(o);l=s.pop()}this.map.length=0}}function ZV(t,e,n,s){let l=0;if(!(n===0&&s.length===0)){for(;l<t.map.length;){if(t.map[l][0]===e){t.map[l][1]+=n,t.map[l][2].push(...s);return}l+=1}t.map.push([e,n,s])}}function eU(t,e){let n=!1;const s=[];for(;e<t.length;){const l=t[e];if(n){if(l[0]==="enter")l[1].type==="tableContent"&&s.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(l[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=s.length-1;s[o]=s[o]==="left"?"center":"right"}}else if(l[1].type==="tableDelimiterRow")break}else l[0]==="enter"&&l[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return s}function tU(){return{flow:{null:{name:"table",tokenize:nU,resolveAll:sU}}}}function nU(t,e,n){const s=this;let l=0,o=0,c;return h;function h(E){let T=s.events.length-1;for(;T>-1;){const te=s.events[T][1].type;if(te==="lineEnding"||te==="linePrefix")T--;else break}const M=T>-1?s.events[T][1].type:null,R=M==="tableHead"||M==="tableRow"?G:m;return R===G&&s.parser.lazy[s.now().line]?n(E):R(E)}function m(E){return t.enter("tableHead"),t.enter("tableRow"),f(E)}function f(E){return E===124||(c=!0,o+=1),x(E)}function x(E){return E===null?n(E):Me(E)?o>1?(o=0,s.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),w):n(E):Je(E)?lt(t,x,"whitespace")(E):(o+=1,c&&(c=!1,l+=1),E===124?(t.enter("tableCellDivider"),t.consume(E),t.exit("tableCellDivider"),c=!0,x):(t.enter("data"),y(E)))}function y(E){return E===null||E===124||Tt(E)?(t.exit("data"),x(E)):(t.consume(E),E===92?v:y)}function v(E){return E===92||E===124?(t.consume(E),y):y(E)}function w(E){return s.interrupt=!1,s.parser.lazy[s.now().line]?n(E):(t.enter("tableDelimiterRow"),c=!1,Je(E)?lt(t,S,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):S(E))}function S(E){return E===45||E===58?I(E):E===124?(c=!0,t.enter("tableCellDivider"),t.consume(E),t.exit("tableCellDivider"),U):se(E)}function U(E){return Je(E)?lt(t,I,"whitespace")(E):I(E)}function I(E){return E===58?(o+=1,c=!0,t.enter("tableDelimiterMarker"),t.consume(E),t.exit("tableDelimiterMarker"),z):E===45?(o+=1,z(E)):E===null||Me(E)?K(E):se(E)}function z(E){return E===45?(t.enter("tableDelimiterFiller"),L(E)):se(E)}function L(E){return E===45?(t.consume(E),L):E===58?(c=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(E),t.exit("tableDelimiterMarker"),q):(t.exit("tableDelimiterFiller"),q(E))}function q(E){return Je(E)?lt(t,K,"whitespace")(E):K(E)}function K(E){return E===124?S(E):E===null||Me(E)?!c||l!==o?se(E):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(E)):se(E)}function se(E){return n(E)}function G(E){return t.enter("tableRow"),D(E)}function D(E){return E===124?(t.enter("tableCellDivider"),t.consume(E),t.exit("tableCellDivider"),D):E===null||Me(E)?(t.exit("tableRow"),e(E)):Je(E)?lt(t,D,"whitespace")(E):(t.enter("data"),C(E))}function C(E){return E===null||E===124||Tt(E)?(t.exit("data"),D(E)):(t.consume(E),E===92?O:C)}function O(E){return E===92||E===124?(t.consume(E),C):C(E)}}function sU(t,e){let n=-1,s=!0,l=0,o=[0,0,0,0],c=[0,0,0,0],h=!1,m=0,f,x,y;const v=new JV;for(;++n<t.length;){const w=t[n],S=w[1];w[0]==="enter"?S.type==="tableHead"?(h=!1,m!==0&&(CN(v,e,m,f,x),x=void 0,m=0),f={type:"table",start:Object.assign({},S.start),end:Object.assign({},S.end)},v.add(n,0,[["enter",f,e]])):S.type==="tableRow"||S.type==="tableDelimiterRow"?(s=!0,y=void 0,o=[0,0,0,0],c=[0,n+1,0,0],h&&(h=!1,x={type:"tableBody",start:Object.assign({},S.start),end:Object.assign({},S.end)},v.add(n,0,[["enter",x,e]])),l=S.type==="tableDelimiterRow"?2:x?3:1):l&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")?(s=!1,c[2]===0&&(o[1]!==0&&(c[0]=c[1],y=sm(v,e,o,l,void 0,y),o=[0,0,0,0]),c[2]=n)):S.type==="tableCellDivider"&&(s?s=!1:(o[1]!==0&&(c[0]=c[1],y=sm(v,e,o,l,void 0,y)),o=c,c=[o[1],n,0,0])):S.type==="tableHead"?(h=!0,m=n):S.type==="tableRow"||S.type==="tableDelimiterRow"?(m=n,o[1]!==0?(c[0]=c[1],y=sm(v,e,o,l,n,y)):c[1]!==0&&(y=sm(v,e,c,l,n,y)),l=0):l&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")&&(c[3]=n)}for(m!==0&&CN(v,e,m,f,x),v.consume(e.events),n=-1;++n<e.events.length;){const w=e.events[n];w[0]==="enter"&&w[1].type==="table"&&(w[1]._align=eU(e.events,n))}return t}function sm(t,e,n,s,l,o){const c=s===1?"tableHeader":s===2?"tableDelimiter":"tableData",h="tableContent";n[0]!==0&&(o.end=Object.assign({},Do(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const m=Do(e.events,n[1]);if(o={type:c,start:Object.assign({},m),end:Object.assign({},m)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const f=Do(e.events,n[2]),x=Do(e.events,n[3]),y={type:h,start:Object.assign({},f),end:Object.assign({},x)};if(t.add(n[2],0,[["enter",y,e]]),s!==2){const v=e.events[n[2]],w=e.events[n[3]];if(v[1].end=Object.assign({},w[1].end),v[1].type="chunkText",v[1].contentType="text",n[3]>n[2]+1){const S=n[2]+1,U=n[3]-n[2]-1;t.add(S,U,[])}}t.add(n[3]+1,0,[["exit",y,e]])}return l!==void 0&&(o.end=Object.assign({},Do(e.events,l)),t.add(l,0,[["exit",o,e]]),o=void 0),o}function CN(t,e,n,s,l){const o=[],c=Do(e.events,n);l&&(l.end=Object.assign({},c),o.push(["exit",l,e])),s.end=Object.assign({},c),o.push(["exit",s,e]),t.add(n+1,0,o)}function Do(t,e){const n=t[e],s=n[0]==="enter"?"start":"end";return n[1][s]}const aU={name:"tasklistCheck",tokenize:iU};function rU(){return{text:{91:aU}}}function iU(t,e,n){const s=this;return l;function l(m){return s.previous!==null||!s._gfmTasklistFirstContentOfListItem?n(m):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(m),t.exit("taskListCheckMarker"),o)}function o(m){return Tt(m)?(t.enter("taskListCheckValueUnchecked"),t.consume(m),t.exit("taskListCheckValueUnchecked"),c):m===88||m===120?(t.enter("taskListCheckValueChecked"),t.consume(m),t.exit("taskListCheckValueChecked"),c):n(m)}function c(m){return m===93?(t.enter("taskListCheckMarker"),t.consume(m),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),h):n(m)}function h(m){return Me(m)?e(m):Je(m)?t.check({tokenize:lU},e,n)(m):n(m)}}function lU(t,e,n){return lt(t,s,"whitespace");function s(l){return l===null?n(l):e(l)}}function oU(t){return u4([DV(),$V(),WV(t),tU(),rU()])}const cU={};function hc(t){const e=this,n=t||cU,s=e.data(),l=s.micromarkExtensions||(s.micromarkExtensions=[]),o=s.fromMarkdownExtensions||(s.fromMarkdownExtensions=[]),c=s.toMarkdownExtensions||(s.toMarkdownExtensions=[]);l.push(oU(n)),o.push(AV()),c.push(kV(n))}const Ff=["Public Forum (PF)","Lincoln-Douglas (LD)","Policy Debate (CX)","Big Questions Debate","World Schools Debate","Congressional Debate","Original Oratory (OO)","Informative Speaking (INFO)","United States Extemp (USX)","International Extemp (IX)","Dramatic Interpretation (DI)","Humorous Interpretation (HI)","Duo Interpretation","Program Oral Interpretation (POI)","Impromptu","Extemporaneous Commentary","Expository","Storytelling","Prose/Poetry","Parliamentary (British)","Parliamentary (Asian)","Model UN Speech","After Dinner Speaking","Toast/Ceremonial"],eS=["Proposition/Affirmative","Opposition/Negative","Government","Opposition","Pro","Con","Opening Member","Closing Member/Whip","Sponsor (Congress)","Individual/Solo","Neutral/Evaluator"],Fe={DEBATE:"debate",INDIVIDUAL_SPEAKING:"individual",INTERP:"interp",EXTEMP:"extemp",LIMITED_PREP:"limited_prep"},Xo={"Public Forum (PF)":Fe.DEBATE,"Lincoln-Douglas (LD)":Fe.DEBATE,"Policy Debate (CX)":Fe.DEBATE,"Big Questions Debate":Fe.DEBATE,"World Schools Debate":Fe.DEBATE,"Congressional Debate":Fe.DEBATE,"Parliamentary (British)":Fe.DEBATE,"Parliamentary (Asian)":Fe.DEBATE,"Original Oratory (OO)":Fe.INDIVIDUAL_SPEAKING,"Informative Speaking (INFO)":Fe.INDIVIDUAL_SPEAKING,Expository:Fe.INDIVIDUAL_SPEAKING,"After Dinner Speaking":Fe.INDIVIDUAL_SPEAKING,"Toast/Ceremonial":Fe.INDIVIDUAL_SPEAKING,"Model UN Speech":Fe.INDIVIDUAL_SPEAKING,"Dramatic Interpretation (DI)":Fe.INTERP,"Humorous Interpretation (HI)":Fe.INTERP,"Duo Interpretation":Fe.INTERP,"Program Oral Interpretation (POI)":Fe.INTERP,"Prose/Poetry":Fe.INTERP,Storytelling:Fe.INTERP,"United States Extemp (USX)":Fe.EXTEMP,"International Extemp (IX)":Fe.EXTEMP,"Extemporaneous Commentary":Fe.EXTEMP,Impromptu:Fe.LIMITED_PREP},uU={[Fe.DEBATE]:{name:"Debate",description:"Competitive debate formats with opposing sides",showOpposingArguments:!0,showClash:!0,showRebuttals:!0,showCrossEx:!0,rubric:`
## Debate Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Argumentation & Evidence** | 30% | Quality of arguments, evidence strength, logical warrants |
| **Clash & Engagement** | 25% | Direct responses to opponent, refutation quality |
| **Impact Analysis** | 20% | Magnitude, probability, timeframe of impacts |
| **Strategy & Organization** | 15% | Speech structure, time allocation, flow |
| **Delivery** | 10% | Clarity, persuasion, pace (speed okay if clear) |
    `,focusAreas:["Arguments for your position","Responses to opposing arguments","Evidence quality and sources","Impact calculus","Clash and refutation","Cross-examination presence"]},[Fe.INDIVIDUAL_SPEAKING]:{name:"Individual Speaking",description:"Platform speaking events focused on original content",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Individual Speaking Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Content & Research** | 30% | Depth of information, accuracy, relevance |
| **Organization** | 25% | Structure, transitions, logical flow |
| **Delivery** | 25% | Vocal variety, eye contact, gestures, presence |
| **Analysis & Insight** | 15% | Original thought, depth of understanding |
| **Impact & Memorability** | 5% | Audience engagement, lasting impression |
    `,focusAreas:["Content clarity and accuracy","Speech organization and structure","Vocal delivery and variety","Physical presence and gestures","Audience engagement","Use of evidence and examples"]},[Fe.INTERP]:{name:"Interpretation",description:"Performance events with scripted or literary material",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Interpretation Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Characterization** | 30% | Distinct, consistent, believable characters |
| **Emotional Range** | 25% | Depth of emotion, appropriate intensity |
| **Technical Skill** | 20% | Blocking, pops, timing, focus |
| **Material Selection** | 15% | Quality of cutting, thematic unity |
| **Overall Impact** | 10% | Audience connection, memorability |
    `,focusAreas:["Character development and distinction","Emotional authenticity","Physical performance (blocking, gestures)","Vocal variety and character voices","Timing and pacing","Thematic development"]},[Fe.EXTEMP]:{name:"Extemporaneous Speaking",description:"Current events analysis with limited prep time",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Extemporaneous Speaking Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Analysis Depth** | 30% | Quality of reasoning, insight into topic |
| **Evidence & Sources** | 25% | Citation quality, recency, variety |
| **Organization** | 20% | Clear structure, strong transitions |
| **Answering the Question** | 15% | Directly addresses the prompt |
| **Delivery** | 10% | Conversational, engaging, minimal notes |
    `,focusAreas:["Direct answer to the question","Analysis depth and insight","Evidence and source citations","Current events knowledge","Logical organization","Conversational delivery"]},[Fe.LIMITED_PREP]:{name:"Limited Preparation",description:"Impromptu speaking with minimal prep time",showOpposingArguments:!1,showClash:!1,showRebuttals:!1,showCrossEx:!1,rubric:`
## Impromptu Speaking Evaluation Criteria

| Category | Weight | Description |
|----------|--------|-------------|
| **Quick Thinking** | 30% | Ability to form coherent thoughts rapidly |
| **Relevance** | 25% | Staying on topic, addressing the prompt |
| **Organization** | 20% | Clear structure despite limited prep |
| **Creativity** | 15% | Original examples, unique perspectives |
| **Delivery** | 10% | Confident, fluid despite improvisation |
    `,focusAreas:["Response relevance to prompt","Quick organization of thoughts","Creative examples and analogies","Confident delivery","Time management","Coherent structure"]}},tS=t=>{const e=Xo[t]||Fe.INDIVIDUAL_SPEAKING;return uU[e]},ix=t=>Xo[t]===Fe.DEBATE?["Proposition/Affirmative","Opposition/Negative","Government","Opposition","Pro","Con","Opening Member","Closing Member/Whip","Sponsor (Congress)"]:["Individual/Solo","Neutral/Evaluator"],AN=(t,e,n,s)=>{const l=tS(t),o=Xo[t];let c=`You are an expert ${t} coach and judge with years of experience evaluating this specific event type.`;return e&&(c+=`
Topic/Prompt: ${e}`),l.showOpposingArguments&&n&&(c+=`
Side/Position: ${n}`),c+=`

Evaluate the following speech based on this event-specific rubric:
${l.rubric}`,o===Fe.DEBATE?c+=`

### DEBATE-SPECIFIC ANALYSIS:
- Analyze the strength and clarity of each argument presented
- Identify potential opposing arguments and how well they were preempted or addressed
- Evaluate evidence quality and proper citation
- Assess impact calculus (magnitude, probability, timeframe)
- Note clash quality and direct engagement with opposing points
- Consider cross-examination strategy if applicable`:o===Fe.INDIVIDUAL_SPEAKING?c+=`

### INDIVIDUAL SPEAKING-SPECIFIC ANALYSIS:
- Focus on content clarity and information accuracy
- Do NOT analyze opposing arguments (this is not a debate event)
- Evaluate speech organization and flow
- Assess delivery techniques (vocal variety, gestures, eye contact)
- Consider audience engagement and persuasive techniques
- NOTE: Do not penalize for missing visual aids or props (text-only evaluation)`:o===Fe.INTERP?c+=`

### INTERPRETATION-SPECIFIC ANALYSIS:
- Evaluate character development and distinction between characters
- Assess emotional authenticity and range
- Analyze physical performance elements described
- Consider pacing and timing
- Note thematic development and material selection quality
- Do NOT analyze arguments or debate elements (this is a performance event)`:o===Fe.EXTEMP?c+=`

### EXTEMP-SPECIFIC ANALYSIS:
- Evaluate how directly the question/prompt is answered
- Assess depth of analysis on current events
- Check quality and recency of evidence cited
- Consider organization and structure
- Note delivery style (should be conversational, not memorized)
- Do NOT analyze debate clash (this is not a debate event)`:o===Fe.LIMITED_PREP&&(c+=`

### IMPROMPTU-SPECIFIC ANALYSIS:
- Evaluate quick thinking and coherent thought formation
- Assess relevance to the prompt given
- Consider organization despite limited preparation time
- Note creative examples and unique perspectives
- Evaluate confidence and delivery fluidity
- Be understanding of minor hesitations given the time constraints`),c+=`

Please provide the output in the following Markdown format:

## Executive Summary
(Brief 2-3 sentence overview of overall performance)

## Scorecard
| Category | Score (0-10) | Notes |
| --- | --- | --- |
(Fill based on the rubric above)
| **Total** | **(Average/Sum)** | |

## Key ${o===Fe.DEBATE?"Argument":"Content"} Analysis
(Detailed breakdown of main points made)
${l.showOpposingArguments?`
## Opposing Arguments & Clash
(Analysis of responses to opponent arguments and missed clash opportunities)`:""}

## Constructive Feedback
- **Strengths**: ...
- **Areas for Improvement**: ...

## Recommended Drills
(3-5 specific exercises to improve weak areas, tailored to this event type)

## Quick Tips for Next Round
(2-3 actionable items for immediate improvement)

SPEECH TEXT:
${s}`,c},kN={[Fe.DEBATE]:{label:"Debate Events",icon:"",color:"text-red-400"},[Fe.INDIVIDUAL_SPEAKING]:{label:"Individual Speaking",icon:"",color:"text-blue-400"},[Fe.INTERP]:{label:"Interpretation",icon:"",color:"text-purple-400"},[Fe.EXTEMP]:{label:"Extemporaneous",icon:"",color:"text-green-400"},[Fe.LIMITED_PREP]:{label:"Limited Prep",icon:"",color:"text-yellow-400"}};var IN;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(IN||(IN={}));var RN;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(RN||(RN={}));var DN;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(DN||(DN={}));const MN=["user","model","function","system"];var ON;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(ON||(ON={}));var PN;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(PN||(PN={}));var LN;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(LN||(LN={}));var VN;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(VN||(VN={}));var Mu;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(Mu||(Mu={}));var UN;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(UN||(UN={}));var zN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(zN||(zN={}));var FN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(FN||(FN={}));class zn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class To extends zn{constructor(e,n){super(e),this.response=n}}class nS extends zn{constructor(e,n,s,l){super(e),this.status=n,this.statusText=s,this.errorDetails=l}}class bi extends zn{}class sS extends zn{}const dU="https://generativelanguage.googleapis.com",hU="v1beta",mU="0.24.1",fU="genai-js";var Cl;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Cl||(Cl={}));class pU{constructor(e,n,s,l,o){this.model=e,this.task=n,this.apiKey=s,this.stream=l,this.requestOptions=o}toString(){var e,n;const s=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||hU;let o=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||dU}/${s}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}}function gU(t){const e=[];return t?.apiClient&&e.push(t.apiClient),e.push(`${fU}/${mU}`),e.join(" ")}async function xU(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",gU(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let s=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(s){if(!(s instanceof Headers))try{s=new Headers(s)}catch(l){throw new bi(`unable to convert customHeaders value ${JSON.stringify(s)} to Headers: ${l.message}`)}for(const[l,o]of s.entries()){if(l==="x-goog-api-key")throw new bi(`Cannot set reserved header name ${l}`);if(l==="x-goog-api-client")throw new bi(`Header name ${l} can only be set using the apiClient field`);n.append(l,o)}}return n}async function yU(t,e,n,s,l,o){const c=new pU(t,e,n,s,o);return{url:c.toString(),fetchOptions:Object.assign(Object.assign({},NU(o)),{method:"POST",headers:await xU(c),body:l})}}async function Nd(t,e,n,s,l,o={},c=fetch){const{url:h,fetchOptions:m}=await yU(t,e,n,s,l,o);return bU(h,m,c)}async function bU(t,e,n=fetch){let s;try{s=await n(t,e)}catch(l){vU(l,t)}return s.ok||await wU(s,t),s}function vU(t,e){let n=t;throw n.name==="AbortError"?(n=new sS(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof nS||t instanceof bi||(n=new zn(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function wU(t,e){let n="",s;try{const l=await t.json();n=l.error.message,l.error.details&&(n+=` ${JSON.stringify(l.error.details)}`,s=l.error.details)}catch{}throw new nS(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,s)}function NU(t){const e={};if(t?.signal!==void 0||t?.timeout>=0){const n=new AbortController;t?.timeout>=0&&setTimeout(()=>n.abort(),t.timeout),t?.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}function Dy(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),vm(t.candidates[0]))throw new To(`${oi(t)}`,t);return jU(t)}else if(t.promptFeedback)throw new To(`Text not available. ${oi(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),vm(t.candidates[0]))throw new To(`${oi(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),BN(t)[0]}else if(t.promptFeedback)throw new To(`Function call not available. ${oi(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),vm(t.candidates[0]))throw new To(`${oi(t)}`,t);return BN(t)}else if(t.promptFeedback)throw new To(`Function call not available. ${oi(t)}`,t)},t}function jU(t){var e,n,s,l;const o=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const c of(l=(s=t.candidates)===null||s===void 0?void 0:s[0].content)===null||l===void 0?void 0:l.parts)c.text&&o.push(c.text),c.executableCode&&o.push("\n```"+c.executableCode.language+`
`+c.executableCode.code+"\n```\n"),c.codeExecutionResult&&o.push("\n```\n"+c.codeExecutionResult.output+"\n```\n");return o.length>0?o.join(""):""}function BN(t){var e,n,s,l;const o=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const c of(l=(s=t.candidates)===null||s===void 0?void 0:s[0].content)===null||l===void 0?void 0:l.parts)c.functionCall&&o.push(c.functionCall);if(o.length>0)return o}const _U=[Mu.RECITATION,Mu.SAFETY,Mu.LANGUAGE];function vm(t){return!!t.finishReason&&_U.includes(t.finishReason)}function oi(t){var e,n,s;let l="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)l+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(l+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(l+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((s=t.candidates)===null||s===void 0)&&s[0]){const o=t.candidates[0];vm(o)&&(l+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(l+=`: ${o.finishMessage}`))}return l}function Ku(t){return this instanceof Ku?(this.v=t,this):new Ku(t)}function SU(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),l,o=[];return l={},c("next"),c("throw"),c("return"),l[Symbol.asyncIterator]=function(){return this},l;function c(v){s[v]&&(l[v]=function(w){return new Promise(function(S,U){o.push([v,w,S,U])>1||h(v,w)})})}function h(v,w){try{m(s[v](w))}catch(S){y(o[0][3],S)}}function m(v){v.value instanceof Ku?Promise.resolve(v.value.v).then(f,x):y(o[0][2],v)}function f(v){h("next",v)}function x(v){h("throw",v)}function y(v,w){v(w),o.shift(),o.length&&h(o[0][0],o[0][1])}}const $N=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function EU(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=AU(e),[s,l]=n.tee();return{stream:CU(s),response:TU(l)}}async function TU(t){const e=[],n=t.getReader();for(;;){const{done:s,value:l}=await n.read();if(s)return Dy(kU(e));e.push(l)}}function CU(t){return SU(this,arguments,function*(){const n=t.getReader();for(;;){const{value:s,done:l}=yield Ku(n.read());if(l)break;yield yield Ku(Dy(s))}})}function AU(t){const e=t.getReader();return new ReadableStream({start(s){let l="";return o();function o(){return e.read().then(({value:c,done:h})=>{if(h){if(l.trim()){s.error(new zn("Failed to parse stream"));return}s.close();return}l+=c;let m=l.match($N),f;for(;m;){try{f=JSON.parse(m[1])}catch{s.error(new zn(`Error parsing JSON response: "${m[1]}"`));return}s.enqueue(f),l=l.substring(m[0].length),m=l.match($N)}return o()}).catch(c=>{let h=c;throw h.stack=c.stack,h.name==="AbortError"?h=new sS("Request aborted when reading from the stream"):h=new zn("Error reading from the stream"),h})}}})}function kU(t){const e=t[t.length-1],n={promptFeedback:e?.promptFeedback};for(const s of t){if(s.candidates){let l=0;for(const o of s.candidates)if(n.candidates||(n.candidates=[]),n.candidates[l]||(n.candidates[l]={index:l}),n.candidates[l].citationMetadata=o.citationMetadata,n.candidates[l].groundingMetadata=o.groundingMetadata,n.candidates[l].finishReason=o.finishReason,n.candidates[l].finishMessage=o.finishMessage,n.candidates[l].safetyRatings=o.safetyRatings,o.content&&o.content.parts){n.candidates[l].content||(n.candidates[l].content={role:o.content.role||"user",parts:[]});const c={};for(const h of o.content.parts)h.text&&(c.text=h.text),h.functionCall&&(c.functionCall=h.functionCall),h.executableCode&&(c.executableCode=h.executableCode),h.codeExecutionResult&&(c.codeExecutionResult=h.codeExecutionResult),Object.keys(c).length===0&&(c.text=""),n.candidates[l].content.parts.push(c)}l++}s.usageMetadata&&(n.usageMetadata=s.usageMetadata)}return n}async function aS(t,e,n,s){const l=await Nd(e,Cl.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),s);return EU(l)}async function rS(t,e,n,s){const o=await(await Nd(e,Cl.GENERATE_CONTENT,t,!1,JSON.stringify(n),s)).json();return{response:Dy(o)}}function iS(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Xu(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return IU(e)}function IU(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let s=!1,l=!1;for(const o of t)"functionResponse"in o?(n.parts.push(o),l=!0):(e.parts.push(o),s=!0);if(s&&l)throw new zn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!s&&!l)throw new zn("No content is provided for sending chat message.");return s?e:n}function RU(t,e){var n;let s={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(n=e?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const l=t.generateContentRequest!=null;if(t.contents){if(l)throw new bi("CountTokensRequest must have one of contents or generateContentRequest, not both.");s.contents=t.contents}else if(l)s=Object.assign(Object.assign({},s),t.generateContentRequest);else{const o=Xu(t);s.contents=[o]}return{generateContentRequest:s}}function qN(t){let e;return t.contents?e=t:e={contents:[Xu(t)]},t.systemInstruction&&(e.systemInstruction=iS(t.systemInstruction)),e}function DU(t){return typeof t=="string"||Array.isArray(t)?{content:Xu(t)}:t}const HN=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],MU={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function OU(t){let e=!1;for(const n of t){const{role:s,parts:l}=n;if(!e&&s!=="user")throw new zn(`First content should be with role 'user', got ${s}`);if(!MN.includes(s))throw new zn(`Each item should include role field. Got ${s} but valid roles are: ${JSON.stringify(MN)}`);if(!Array.isArray(l))throw new zn("Content should have 'parts' property with an array of Parts");if(l.length===0)throw new zn("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const h of l)for(const m of HN)m in h&&(o[m]+=1);const c=MU[s];for(const h of HN)if(!c.includes(h)&&o[h]>0)throw new zn(`Content with role '${s}' can't contain '${h}' part`);e=!0}}function GN(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const s of n.parts)if(s===void 0||Object.keys(s).length===0||s.text!==void 0&&s.text==="")return!1;return!0}const YN="SILENT_ERROR";class PU{constructor(e,n,s,l={}){this.model=n,this.params=s,this._requestOptions=l,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,s?.history&&(OU(s.history),this._history=s.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var s,l,o,c,h,m;await this._sendPromise;const f=Xu(e),x={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(l=this.params)===null||l===void 0?void 0:l.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(h=this.params)===null||h===void 0?void 0:h.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,f]},y=Object.assign(Object.assign({},this._requestOptions),n);let v;return this._sendPromise=this._sendPromise.then(()=>rS(this._apiKey,this.model,x,y)).then(w=>{var S;if(GN(w.response)){this._history.push(f);const U=Object.assign({parts:[],role:"model"},(S=w.response.candidates)===null||S===void 0?void 0:S[0].content);this._history.push(U)}else{const U=oi(w.response);U&&console.warn(`sendMessage() was unsuccessful. ${U}. Inspect response object for details.`)}v=w}).catch(w=>{throw this._sendPromise=Promise.resolve(),w}),await this._sendPromise,v}async sendMessageStream(e,n={}){var s,l,o,c,h,m;await this._sendPromise;const f=Xu(e),x={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(l=this.params)===null||l===void 0?void 0:l.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(h=this.params)===null||h===void 0?void 0:h.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,f]},y=Object.assign(Object.assign({},this._requestOptions),n),v=aS(this._apiKey,this.model,x,y);return this._sendPromise=this._sendPromise.then(()=>v).catch(w=>{throw new Error(YN)}).then(w=>w.response).then(w=>{if(GN(w)){this._history.push(f);const S=Object.assign({},w.candidates[0].content);S.role||(S.role="model"),this._history.push(S)}else{const S=oi(w);S&&console.warn(`sendMessageStream() was unsuccessful. ${S}. Inspect response object for details.`)}}).catch(w=>{w.message!==YN&&console.error(w)}),v}}async function LU(t,e,n,s){return(await Nd(e,Cl.COUNT_TOKENS,t,!1,JSON.stringify(n),s)).json()}async function VU(t,e,n,s){return(await Nd(e,Cl.EMBED_CONTENT,t,!1,JSON.stringify(n),s)).json()}async function UU(t,e,n,s){const l=n.requests.map(c=>Object.assign(Object.assign({},c),{model:e}));return(await Nd(e,Cl.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:l}),s)).json()}class QN{constructor(e,n,s={}){this.apiKey=e,this._requestOptions=s,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=iS(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var s;const l=qN(e),o=Object.assign(Object.assign({},this._requestOptions),n);return rS(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},l),o)}async generateContentStream(e,n={}){var s;const l=qN(e),o=Object.assign(Object.assign({},this._requestOptions),n);return aS(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},l),o)}startChat(e){var n;return new PU(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const s=RU(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),l=Object.assign(Object.assign({},this._requestOptions),n);return LU(this.apiKey,this.model,s,l)}async embedContent(e,n={}){const s=DU(e),l=Object.assign(Object.assign({},this._requestOptions),n);return VU(this.apiKey,this.model,s,l)}async batchEmbedContents(e,n={}){const s=Object.assign(Object.assign({},this._requestOptions),n);return UU(this.apiKey,this.model,e,s)}}class _r{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new zn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new QN(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,s){if(!e.name)throw new bi("Cached content must contain a `name` field.");if(!e.model)throw new bi("Cached content must contain a `model` field.");const l=["model","systemInstruction"];for(const c of l)if(n?.[c]&&e[c]&&n?.[c]!==e[c]){if(c==="model"){const h=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,m=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(h===m)continue}throw new bi(`Different value for "${c}" specified in modelParams (${n[c]}) and cachedContent (${e[c]})`)}const o=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new QN(this.apiKey,o,s)}}function lS(t){return new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function zU(t){const e=new Date(t),s=new Date-e,l=Math.floor(s/6e4),o=Math.floor(s/36e5),c=Math.floor(s/864e5);return l<1?"Just now":l<60?`${l}m ago`:o<24?`${o}h ago`:c<7?`${c}d ago`:lS(t)}function FU(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}const KN={get:(t,e=null)=>{try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch{return e}},set:(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(n){console.error("Storage error:",n)}},remove:t=>{try{localStorage.removeItem(t)}catch(e){console.error("Storage error:",e)}}},XN="adjudicator_history",WN=50;function Ll(){const[t,e]=A.useState([]),[n,s]=A.useState(!0);A.useEffect(()=>{const w=KN.get(XN,[]);e(w),s(!1)},[]),A.useEffect(()=>{n||KN.set(XN,t)},[t,n]);const l=A.useCallback(w=>{const S={id:FU(),createdAt:new Date().toISOString(),...w};return e(U=>[S,...U].slice(0,WN)),S.id},[]),o=A.useCallback(w=>{e(S=>S.filter(U=>U.id!==w))},[]),c=A.useCallback(()=>{e([])},[]),h=A.useCallback(w=>t.find(S=>S.id===w),[t]),m=A.useCallback(w=>t.filter(S=>S.type===w),[t]),f=A.useCallback((w,S)=>{e(U=>U.map(I=>I.id===w?{...I,...S,updatedAt:new Date().toISOString()}:I))},[]),x=A.useCallback(()=>{const w=JSON.stringify(t,null,2),S=new Blob([w],{type:"application/json"}),U=URL.createObjectURL(S),I=document.createElement("a");I.href=U,I.download=`adjudicator-history-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(U)},[t]),y=A.useCallback(async w=>{try{const S=await w.text(),U=JSON.parse(S);return Array.isArray(U)?(e(I=>{const z=new Set(I.map(q=>q.id));return[...U.filter(q=>!z.has(q.id)),...I].slice(0,WN)}),{success:!0,count:U.length}):{success:!1,error:"Invalid format"}}catch(S){return{success:!1,error:S.message}}},[]),v={total:t.length,byType:{judge:t.filter(w=>w.type==="judge").length,board:t.filter(w=>w.type==="board").length,coach:t.filter(w=>w.type==="coach").length,strategy:t.filter(w=>w.type==="strategy").length,extemp:t.filter(w=>w.type==="extemp").length,tone:t.filter(w=>w.type==="tone").length},lastSession:t[0]||null};return{history:t,isLoading:n,stats:v,addSession:l,deleteSession:o,clearHistory:c,getSession:h,getSessionsByType:m,updateSession:f,exportHistory:x,importHistory:y}}const BU=({apiKey:t})=>{const[e,n]=A.useState("Public Forum (PF)"),[s,l]=A.useState("Proposition/Affirmative"),[o,c]=A.useState(""),[h,m]=A.useState(""),[f,x]=A.useState(!1),[y,v]=A.useState(null),[w,S]=A.useState(""),[U,I]=A.useState(!1),[z,L]=A.useState(!1),{addSession:q}=Ll(),K=A.useMemo(()=>tS(e),[e]),se=A.useMemo(()=>ix(e),[e]),G=Xo[e],D=kN[G],C=M=>{n(M);const R=ix(M);R.includes(s)||l(R[0])},O=async()=>{if(!t){S("Please enter a valid Gemini API Key in Settings.");return}if(!h.trim()){S("Please enter the speech transcript.");return}x(!0),S(""),v(null);try{const R=new _r(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),te=AN(e,o,s,h),W=(await(await R.generateContent(te)).response).text();v(W),q({type:"judge",title:o||`${e} Analysis`,input:{transcript:h.substring(0,500)+(h.length>500?"...":"")},result:W,metadata:{speechType:e,side:K.showOpposingArguments?s:null,topic:o,eventCategory:G}}),L(!0),setTimeout(()=>L(!1),2e3)}catch(M){console.error("Gemini Error:",M);try{const te=new _r(t).getGenerativeModel({model:"gemini-1.5-flash"}),J=AN(e,o,s,h),he=(await(await te.generateContent(J)).response).text();v(he)}catch{S(`Error: ${M.message}. Please try again.`)}}finally{x(!1)}},E=()=>{y&&(navigator.clipboard.writeText(y),I(!0),setTimeout(()=>I(!1),2e3))},T=A.useMemo(()=>{const M={};return Ff.forEach(R=>{const te=Xo[R];M[te]||(M[te]=[]),M[te].push(R)}),M},[]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Speech Analysis"}),a.jsx("p",{className:"text-slate-400 mt-1",children:"Get AI-powered feedback on your speeches"})]}),D&&a.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-slate-900/50 border border-slate-800/60",children:[a.jsx("span",{className:"text-lg",children:D.icon}),a.jsx("span",{className:`text-sm font-medium ${D.color}`,children:D.label})]})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[a.jsxs("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Event Format"}),a.jsx("select",{value:e,onChange:M=>C(M.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all",children:Object.entries(T).map(([M,R])=>{const te=kN[M];return a.jsx("optgroup",{label:`${te?.icon||""} ${te?.label||M}`,children:R.map(J=>a.jsx("option",{value:J,children:J},J))},M)})})]}),K.showOpposingArguments?a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Side/Position"}),a.jsx("select",{value:s,onChange:M=>l(M.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all",children:se.map(M=>a.jsx("option",{value:M,children:M},M))})]}):a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Speaker Role"}),a.jsx("select",{value:s,onChange:M=>l(M.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all",children:se.map(M=>a.jsx("option",{value:M,children:M},M))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:K.showOpposingArguments?"Resolution/Topic":"Speech Topic/Prompt"}),a.jsx("input",{type:"text",value:o,onChange:M=>c(M.target.value),placeholder:K.showOpposingArguments?"Resolved: The United States should...":"Enter the topic or prompt...",className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all"})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(ed,{className:"w-4 h-4 text-cyan-400"}),a.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Analysis Focus Areas"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[K.focusAreas.slice(0,4).map((M,R)=>a.jsx("span",{className:"px-3 py-1.5 text-xs font-medium bg-slate-900/50 text-slate-400 rounded-lg border border-slate-700/50",children:M},R)),K.focusAreas.length>4&&a.jsxs("span",{className:"px-3 py-1.5 text-xs text-slate-500",children:["+",K.focusAreas.length-4," more"]})]})]})]}),a.jsxs("div",{className:"flex-1 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[a.jsx("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50",children:a.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Speech Transcript"})}),a.jsx("textarea",{value:h,onChange:M=>m(M.target.value),placeholder:"Paste your speech text here...",className:"flex-1 w-full bg-transparent p-4 resize-none focus:outline-none font-mono text-sm text-slate-200 placeholder-slate-600 min-h-[200px]"}),a.jsxs("div",{className:"p-4 border-t border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[a.jsxs("span",{className:"text-xs text-slate-500 font-medium",children:[h.length.toLocaleString()," characters"]}),a.jsxs("button",{onClick:O,disabled:f,className:"px-6 py-2.5 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-semibold shadow-lg shadow-cyan-500/25 hover:shadow-cyan-500/40 hover:scale-[1.02] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center gap-2",children:[f?a.jsx(ki,{className:"w-4 h-4 animate-spin"}):a.jsx(cf,{className:"w-4 h-4"}),f?"Analyzing...":"Analyze Speech"]})]})]}),w&&a.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 text-red-400",children:[a.jsx(is,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:w})]})]}),a.jsxs("div",{className:"w-full lg:w-1/2 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[a.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[a.jsx(za,{className:"w-5 h-5 text-cyan-400"}),K.name," Evaluation"]}),y&&a.jsxs("div",{className:"flex items-center gap-3",children:[z&&a.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1 font-medium",children:[a.jsx(Fa,{className:"w-3 h-3"})," Saved"]}),a.jsx("button",{onClick:E,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Copy to clipboard",children:U?a.jsx(br,{className:"w-4 h-4 text-emerald-500"}):a.jsx(oa,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:y?a.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-cyan-400 prose-headings:font-semibold prose-a:text-cyan-400 prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-3 prose-td:p-3 prose-th:bg-slate-800/50 prose-th:text-left",children:a.jsx(dc,{remarkPlugins:[hc],children:y})}):a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 py-16",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:a.jsx("span",{className:"text-3xl",children:D?.icon||""})}),a.jsxs("p",{className:"text-center max-w-xs",children:["Ready to evaluate your ",K.name.toLowerCase()," speech.",a.jsx("br",{}),a.jsx("span",{className:"text-sm text-slate-600",children:"Enter your speech and click Analyze."})]})]})})]})]})]})},$U=({apiKey:t})=>{const[e,n]=A.useState("Public Forum (PF)"),[s,l]=A.useState("Proposition/Affirmative"),[o,c]=A.useState(""),[h,m]=A.useState(""),[f,x]=A.useState([]),[y,v]=A.useState(!1),[w,S]=A.useState(null),[U,I]=A.useState(""),[z,L]=A.useState(!1),[q,K]=A.useState(!1),se=A.useRef(null),{addSession:G}=Ll(),D=T=>{const M=Array.from(T.target.files);M.length!==0&&(M.forEach(R=>{if(R.size>4*1024*1024){I(J=>(J?`${J} `:"")+`Skipped ${R.name} (too large).`);return}const te=new FileReader;te.onloadend=()=>{const J=te.result.split(",")[1];x($=>[...$,{id:Math.random().toString(36).substr(2,9),url:te.result,raw:J,mimeType:R.type,name:R.name}])},te.readAsDataURL(R)}),se.current&&(se.current.value=""))},C=T=>{x(M=>M.filter(R=>R.id!==T))},O=async()=>{if(!t){I("Please enter a valid Gemini API Key in Settings.");return}if(f.length===0&&!h.trim()){I("Please upload images of the board or provide a description.");return}v(!0),I(""),S(null);try{const M=new _r(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),R=`
        Expert Debate Coach (Flowing). Evaluate board/flow. 
        Context: ${e}, ${s}, Topic: ${o}. 
        Assess Organization, Grouping, Legibility, Suggestions. 
        User Notes: ${h}. 
        
        Please provide the output in the following Markdown format:
        ## Executive Summary
        (Brief overview)

        ## Scorecard
        | Category | Score (0-10) | Notes |
        | --- | --- | --- |
        | Organization | | |
        | Grouping | | |
        | Legibility | | |
        | Strategy | | |
        | **Total** | **(Sum)** | |

        ## Detailed Feedback
        ...
      `,te=f.map(he=>({inlineData:{data:he.raw,mimeType:he.mimeType}})),W=(await(await M.generateContent([R,...te])).response).text();S(W),G({type:"board",title:o||"Board Evaluation",input:{imageCount:f.length,description:h.substring(0,200)},result:W,metadata:{speechType:e,side:s,topic:o}}),K(!0),setTimeout(()=>K(!1),2e3)}catch(T){console.error("Gemini Error:",T);try{const R=new _r(t).getGenerativeModel({model:"gemini-1.5-flash"}),te="... (same prompt) ...";I(`Error: ${T.message}. Please try again.`)}catch{I(`Error: ${T.message}`)}}finally{v(!1)}},E=()=>{w&&(navigator.clipboard.writeText(w),L(!0),setTimeout(()=>L(!1),2e3))};return a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-[calc(100vh-8rem)]",children:[a.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[a.jsxs("div",{className:"glass-card space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Format"}),a.jsx("select",{value:e,onChange:T=>n(T.target.value),className:"input-field",children:Ff.map(T=>a.jsx("option",{value:T,children:T},T))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Side"}),a.jsx("select",{value:s,onChange:T=>l(T.target.value),className:"input-field",children:eS.map(T=>a.jsx("option",{value:T,children:T},T))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Topic"}),a.jsx("input",{type:"text",value:o,onChange:T=>c(T.target.value),placeholder:"Resolved: The United States should...",className:"input-field"})]})]}),a.jsxs("div",{className:"flex-1 glass-card flex flex-col p-0 overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50",children:a.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Board Images & Notes"})}),a.jsxs("div",{className:"flex-1 p-4 overflow-y-auto custom-scrollbar space-y-4",children:[f.length>0&&a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:f.map(T=>a.jsxs("div",{className:"relative group aspect-video bg-slate-800 rounded-lg overflow-hidden border border-slate-700",children:[a.jsx("img",{src:T.url,alt:"Board",className:"w-full h-full object-cover"}),a.jsx("button",{onClick:()=>C(T.id),className:"absolute top-1 right-1 p-1 bg-red-500/80 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(ls,{className:"w-3 h-3"})})]},T.id))}),a.jsxs("div",{onClick:()=>se.current?.click(),className:"border-2 border-dashed border-slate-700 rounded-xl p-8 flex flex-col items-center justify-center text-slate-500 hover:border-primary hover:text-primary hover:bg-primary/5 transition-all cursor-pointer",children:[a.jsx(ad,{className:"w-8 h-8 mb-2"}),a.jsx("span",{className:"text-sm font-medium",children:"Click to upload images"}),a.jsx("span",{className:"text-xs opacity-70",children:"Max 4MB per file"}),a.jsx("input",{type:"file",ref:se,onChange:D,multiple:!0,accept:"image/*",className:"hidden"})]}),a.jsx("textarea",{value:h,onChange:T=>m(T.target.value),placeholder:"Add any specific notes or questions about the flow...",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg p-3 text-sm text-text-primary focus:outline-none focus:border-primary resize-none h-24"})]}),a.jsxs("div",{className:"p-4 border-t border-slate-700/50 bg-slate-900/50 flex justify-between items-center",children:[a.jsxs("span",{className:"text-xs text-text-muted",children:[f.length," images"]}),a.jsxs("button",{onClick:O,disabled:y,className:"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[y?a.jsx(ki,{className:"w-4 h-4 animate-spin"}):a.jsx(cf,{className:"w-4 h-4"}),y?"Analyzing...":"Evaluate Board"]})]})]}),U&&a.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-2 text-red-400 text-sm",children:[a.jsx(is,{className:"w-4 h-4"}),U]})]}),a.jsxs("div",{className:"w-full lg:w-1/2 glass-card overflow-hidden flex flex-col p-0",children:[a.jsxs("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50 flex justify-between items-center",children:[a.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[a.jsx(_m,{className:"w-4 h-4 text-primary"}),"Evaluation"]}),w&&a.jsxs("div",{className:"flex items-center gap-2",children:[q&&a.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1",children:[a.jsx(Fa,{className:"w-3 h-3"})," Saved"]}),a.jsx("button",{onClick:E,className:"text-text-secondary hover:text-white transition-colors",title:"Copy to clipboard",children:z?a.jsx(br,{className:"w-4 h-4 text-green-500"}):a.jsx(oa,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:w?a.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-cyan-400 prose-a:text-accent prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-2 prose-td:p-2 prose-th:bg-slate-800/50",children:a.jsx(dc,{remarkPlugins:[hc],children:w})}):a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-text-muted opacity-50",children:[a.jsx(_m,{className:"w-16 h-16 mb-4"}),a.jsx("p",{children:"Upload board images and click Evaluate."})]})})]})]})},qU=({analyser:t,isRecording:e})=>{const n=A.useRef(null);return A.useEffect(()=>{if(!t||!e||!n.current)return;const s=n.current,l=s.getContext("2d"),o=t.frequencyBinCount,c=new Uint8Array(o);let h;const m=()=>{h=requestAnimationFrame(m),t.getByteFrequencyData(c),l.clearRect(0,0,s.width,s.height);const f=s.width/o*2.5;let x,y=0;for(let v=0;v<o;v++){x=c[v]/2;const w=l.createLinearGradient(0,s.height,0,0);w.addColorStop(0,"#06b6d4"),w.addColorStop(1,"#8b5cf6"),l.fillStyle=w,l.fillRect(y,s.height-x,f,x),y+=f+1}};return m(),()=>cancelAnimationFrame(h)},[t,e]),e?a.jsx("canvas",{ref:n,width:300,height:100,className:"w-full h-24 rounded-lg bg-slate-900/50"}):a.jsx("div",{className:"w-full h-24 bg-slate-900/50 rounded-lg flex items-center justify-center text-slate-700 text-xs",children:"Visualizer Ready"})},HU=({analyser:t,isRecording:e})=>{const[n,s]=A.useState({volume:0,brightness:0}),[l,o]=A.useState({label:"Ready",color:"text-slate-500"}),c=A.useRef({volume:0,brightness:0});return A.useEffect(()=>{if(!t||!e)return;const h=t.frequencyBinCount,m=new Uint8Array(h),f=new Uint8Array(t.fftSize);let x;const y=()=>{t.getByteFrequencyData(m),t.getByteTimeDomainData(f);let v=0;for(let K=0;K<f.length;K++){const se=(f[K]-128)/128;v+=se*se}const w=Math.sqrt(v/f.length);let S=0,U=0;for(let K=0;K<h;K++)S+=K*m[K],U+=m[K];const I=U===0?0:S/U/h,z=.15;c.current.volume=c.current.volume*(1-z)+w*z,c.current.brightness=c.current.brightness*(1-z)+I*z;const{volume:L,brightness:q}=c.current;s({volume:L,brightness:q}),L<.01?o({label:"Listening...",color:"text-slate-500"}):L<.05?o({label:"Too Quiet",color:"text-amber-500"}):L>.6?o({label:"Too Loud",color:"text-red-500"}):q>.5?o({label:"Urgent / Intense",color:"text-orange-500"}):q<.2?o({label:"Serious",color:"text-indigo-500"}):o({label:"Balanced",color:"text-green-500"}),x=requestAnimationFrame(y)};return y(),()=>cancelAnimationFrame(x)},[t,e]),e?a.jsxs("div",{className:"flex flex-col items-center space-y-2 mt-4 animate-in fade-in",children:[a.jsx("div",{className:`text-lg font-bold ${l.color} transition-colors duration-300`,children:l.label}),a.jsxs("div",{className:"flex space-x-4 text-xs text-slate-400",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"h-16 w-4 bg-slate-800 rounded-full overflow-hidden relative",children:a.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-cyan-500 transition-all duration-100",style:{height:`${Math.min(n.volume*200,100)}%`}})}),a.jsx("span",{className:"mt-1",children:"Vol"})]}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"h-16 w-4 bg-slate-800 rounded-full overflow-hidden relative",children:a.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-purple-500 transition-all duration-100",style:{height:`${Math.min(n.brightness*300,100)}%`}})}),a.jsx("span",{className:"mt-1",children:"Tone"})]})]})]}):null},GU=({apiKey:t})=>{const[e,n]=A.useState("Public Forum (PF)"),[s,l]=A.useState("Proposition/Affirmative"),[o,c]=A.useState(""),[h,m]=A.useState(!1),[f,x]=A.useState(0),[y,v]=A.useState(null),[w,S]=A.useState(null),[U,I]=A.useState(null),[z,L]=A.useState(!1),[q,K]=A.useState(null),[se,G]=A.useState(""),[D,C]=A.useState(!1),[O,E]=A.useState(!1),{addSession:T}=Ll(),M=A.useRef(null),R=A.useRef(null),te=A.useRef([]),J=A.useRef(null),$=A.useRef(null),W=P=>{const Ee=Math.floor(P/60),Ve=P%60;return`${Ee}:${Ve<10?"0":""}${Ve}`},he=async()=>{G("");try{const P=await navigator.mediaDevices.getUserMedia({audio:!0});$.current=P;const Ee=new(window.AudioContext||window.webkitAudioContext),Ve=Ee.createAnalyser();Ee.createMediaStreamSource(P).connect(Ve),Ve.fftSize=256,J.current=Ee,I(Ve),M.current=new MediaRecorder(P),te.current=[],M.current.ondataavailable=ct=>{ct.data.size>0&&te.current.push(ct.data)},M.current.onstop=()=>{const ct=new Blob(te.current,{type:"audio/webm"});v(ct);const wt=new FileReader;wt.readAsDataURL(ct),wt.onloadend=()=>{const xt=wt.result.split(",")[1];S({raw:xt,mimeType:ct.type})},$.current&&$.current.getTracks().forEach(xt=>xt.stop()),J.current&&(J.current.close(),J.current=null,I(null))},M.current.start(),m(!0),x(0),S(null),v(null),K(null),R.current=setInterval(()=>x(ct=>ct+1),1e3)}catch(P){G("Could not access microphone. Ensure permissions are granted."),console.error(P)}},be=()=>{M.current&&h&&(M.current.stop(),m(!1),clearInterval(R.current))},B=()=>{S(null),v(null),x(0),K(null),G("")},ie=async()=>{if(!t){G("Please enter a valid Gemini API Key in Settings.");return}if(!w){G("Please record audio first.");return}L(!0),G(""),K(null);try{const Ee=new _r(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),Ve=`
        Expert Speech Coach. Listen to audio. 
        Context: ${e}, ${s}, Topic: ${o}. 
        Evaluate: 
        1. Vocal Delivery (Pace, Tone, Fluency, Emotion). 
        2. Content (Clarity, Persuasion). 
        3. Score (0-100).
        
        Please provide the output in the following Markdown format:
        ## Executive Summary
        (Brief overview)

        ## Scorecard
        | Category | Score (0-10) | Notes |
        | --- | --- | --- |
        | Vocal Delivery | | |
        | Content | | |
        | Persuasion | | |
        | **Total** | **(Sum)** | |

        ## Detailed Feedback
        ...
      `,Be={inlineData:{data:w.raw,mimeType:w.mimeType}},xt=(await(await Ee.generateContent([Ve,Be])).response).text();K(xt),T({type:"coach",title:o||"Live Coaching Session",input:{duration:W(f)},result:xt,metadata:{speechType:e,side:s,topic:o,recordingDuration:f}}),E(!0),setTimeout(()=>E(!1),2e3)}catch(P){console.error("Gemini Error:",P),G(`Error: ${P.message}. Please try again.`)}finally{L(!1)}},ge=()=>{q&&(navigator.clipboard.writeText(q),C(!0),setTimeout(()=>C(!1),2e3))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Live Coaching"}),a.jsx("p",{className:"text-slate-400 mt-1",children:"Record and analyze your speech in real-time"})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[a.jsxs("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Format"}),a.jsx("select",{value:e,onChange:P=>n(P.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all",children:Ff.map(P=>a.jsx("option",{value:P,children:P},P))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Side"}),a.jsx("select",{value:s,onChange:P=>l(P.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all",children:eS.map(P=>a.jsx("option",{value:P,children:P},P))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Topic"}),a.jsx("input",{type:"text",value:o,onChange:P=>c(P.target.value),placeholder:"Topic or Resolution...",className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all"})]})]}),a.jsxs("div",{className:"flex-1 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[a.jsx("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50",children:a.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Live Recording"})}),a.jsxs("div",{className:"flex-1 p-8 flex flex-col items-center justify-center space-y-8",children:[a.jsx("div",{className:`text-6xl font-mono font-bold tracking-tighter ${h?"text-red-500 animate-pulse":"text-white"}`,children:W(f)}),a.jsxs("div",{className:"w-full max-w-md",children:[a.jsx(qU,{analyser:U,isRecording:h}),a.jsx(HU,{analyser:U,isRecording:h})]}),a.jsx("div",{className:"flex items-center gap-4",children:h?a.jsx("button",{onClick:be,className:"w-20 h-20 rounded-full bg-slate-700 hover:bg-slate-600 flex items-center justify-center shadow-lg transition-all hover:scale-110 active:scale-95",children:a.jsx(xj,{className:"w-6 h-6 text-white fill-current"})}):a.jsx("button",{onClick:he,className:"w-20 h-20 rounded-full bg-gradient-to-br from-red-500 to-red-600 hover:from-red-400 hover:to-red-500 flex items-center justify-center shadow-lg shadow-red-500/30 transition-all hover:scale-110 active:scale-95",children:a.jsx(ra,{className:"w-8 h-8 text-white"})})}),y&&!h&&a.jsxs("div",{className:"flex items-center gap-4 animate-in fade-in",children:[a.jsx("audio",{controls:!0,src:URL.createObjectURL(y),className:"h-12 rounded-xl"}),a.jsx("button",{onClick:B,className:"p-3 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:a.jsx(bl,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"p-4 border-t border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-slate-500 font-medium",children:y?"Audio recorded":"Ready to record"}),a.jsxs("button",{onClick:ie,disabled:z||!w,className:"px-6 py-2.5 rounded-xl bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold shadow-lg shadow-purple-500/25 hover:shadow-purple-500/40 hover:scale-[1.02] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center gap-2",children:[z?a.jsx(ki,{className:"w-4 h-4 animate-spin"}):a.jsx(vi,{className:"w-4 h-4"}),z?"Analyzing...":"Analyze Audio"]})]})]}),se&&a.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 text-red-400",children:[a.jsx(is,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:se})]})]}),a.jsxs("div",{className:"w-full lg:w-1/2 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[a.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[a.jsx(vi,{className:"w-5 h-5 text-purple-400"}),"Coaching Feedback"]}),q&&a.jsxs("div",{className:"flex items-center gap-3",children:[O&&a.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1 font-medium",children:[a.jsx(Fa,{className:"w-3 h-3"})," Saved"]}),a.jsx("button",{onClick:ge,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Copy to clipboard",children:D?a.jsx(br,{className:"w-4 h-4 text-emerald-500"}):a.jsx(oa,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:q?a.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-purple-400 prose-headings:font-semibold prose-a:text-purple-400 prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-3 prose-td:p-3 prose-th:bg-slate-800/50 prose-th:text-left",children:a.jsx(dc,{remarkPlugins:[hc],children:q})}):a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 py-16",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:a.jsx(ra,{className:"w-8 h-8"})}),a.jsx("p",{className:"text-center max-w-xs",children:"Record your speech and click Analyze to get AI coaching feedback."})]})})]})]})]})},YU=({apiKey:t})=>{const[e,n]=A.useState("DX"),[s,l]=A.useState("Medium"),[o,c]=A.useState(""),[h,m]=A.useState(!1),[f,x]=A.useState(""),[y,v]=A.useState(!1),[w,S]=A.useState(!1),{addSession:U}=Ll(),I=async()=>{if(!t){x("Please enter a valid Gemini API Key in Settings.");return}m(!0),c(""),x("");try{const q=new _r(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),K=`Generate a single ${s} difficulty Extemporaneous Speaking question for the category ${e==="DX"?"United States Domestic Extemp (DX)":"International Extemp (NX)"}. The question should be current, relevant to 2024-2025 events, and formatted as a question. Do not include any other text.`,C=(await(await q.generateContent(K)).response).text().trim().replace(/^"|"$/g,"");c(C),U({type:"extemp",title:`${e} Question - ${s}`,input:{question:C},result:C,metadata:{category:e,difficulty:s}}),S(!0),setTimeout(()=>S(!1),2e3)}catch(L){console.error("Gemini Error:",L);try{const K=new _r(t).getGenerativeModel({model:"gemini-1.5-flash"});x(`Error: ${L.message}. Please try again.`)}catch{x(`Error: ${L.message}`)}}finally{m(!1)}},z=()=>{o&&(navigator.clipboard.writeText(o),v(!0),setTimeout(()=>v(!1),2e3))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Extemp Generator"}),a.jsx("p",{className:"text-slate-400 mt-1",children:"Generate practice questions for extemporaneous speaking"})]}),a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs("div",{className:"p-8 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Category"}),a.jsxs("div",{className:"flex bg-slate-900/50 rounded-xl p-1 border border-slate-800",children:[a.jsx("button",{onClick:()=>n("DX"),className:`px-5 py-2.5 rounded-lg text-sm font-medium transition-all ${e==="DX"?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:"Domestic (DX)"}),a.jsx("button",{onClick:()=>n("NX"),className:`px-5 py-2.5 rounded-lg text-sm font-medium transition-all ${e==="NX"?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:"International (NX)"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Difficulty Level"}),a.jsx("div",{className:"grid grid-cols-3 gap-4",children:["Easy","Medium","Hard"].map(L=>a.jsx("button",{onClick:()=>l(L),className:`py-4 rounded-xl border transition-all font-medium ${s===L?"bg-cyan-500/10 border-cyan-500/30 text-cyan-400 shadow-lg shadow-cyan-500/10":"bg-slate-900/30 border-slate-800 text-slate-400 hover:border-slate-700 hover:bg-slate-800/50"}`,children:L},L))})]}),a.jsxs("button",{onClick:I,disabled:h,className:"w-full py-4 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white text-lg font-semibold shadow-lg shadow-cyan-500/25 hover:shadow-cyan-500/40 hover:scale-[1.01] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center gap-3",children:[h?a.jsx(ki,{className:"w-6 h-6 animate-spin"}):a.jsx(Ou,{className:"w-6 h-6"}),h?"Generating Question...":"Generate New Question"]}),f&&a.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 text-red-400",children:[a.jsx(is,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:f})]}),o&&a.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4",children:a.jsxs("div",{className:"bg-slate-900/80 border border-slate-700 rounded-2xl p-8 relative group",children:[a.jsxs("p",{className:"text-xl md:text-2xl font-serif text-center text-white leading-relaxed",children:['"',o,'"']}),a.jsx("button",{onClick:z,className:"absolute top-4 right-4 p-2.5 text-slate-400 hover:text-white bg-slate-800/50 hover:bg-slate-700 rounded-xl transition-all opacity-0 group-hover:opacity-100",title:"Copy to clipboard",children:y?a.jsx(br,{className:"w-5 h-5 text-emerald-500"}):a.jsx(oa,{className:"w-5 h-5"})}),w&&a.jsxs("span",{className:"absolute top-4 left-4 text-xs text-emerald-400 flex items-center gap-1 bg-emerald-500/10 px-3 py-1.5 rounded-lg font-medium",children:[a.jsx(Fa,{className:"w-3 h-3"})," Saved to history"]})]})})]})})]})},QU=({apiKey:t})=>{const e=A.useMemo(()=>Ff.filter(T=>Xo[T]===Fe.DEBATE),[]),[n,s]=A.useState(e[0]||"Public Forum (PF)"),[l,o]=A.useState("Proposition/Affirmative"),[c,h]=A.useState(""),[m,f]=A.useState(""),[x,y]=A.useState("comprehensive"),[v,w]=A.useState(!1),[S,U]=A.useState(null),[I,z]=A.useState(""),[L,q]=A.useState(!1),[K,se]=A.useState(!1),{addSession:G}=Ll(),D=A.useMemo(()=>ix(n),[n]),C=[{id:"comprehensive",label:"Full Strategy",icon:Ot,description:"Complete debate strategy with arguments, rebuttals, and flow"},{id:"arguments",label:"Argument Builder",icon:kl,description:"Focus on constructing strong arguments"},{id:"rebuttals",label:"Rebuttal Prep",icon:sd,description:"Anticipate and counter opponent arguments"},{id:"crossfire",label:"Cross-Ex Prep",icon:IA,description:"Strategic questions and responses"}],O=async()=>{if(!t){z("Please enter a valid Gemini API Key in Settings.");return}if(!c.trim()){z("Please enter the debate topic or resolution.");return}w(!0),z(""),U(null);try{const M=new _r(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),R={comprehensive:`You are an expert Debate Coach preparing a student for a ${n} debate.

**Topic/Resolution:** ${c}
**Side:** ${l}
${m?`**Additional Context:** ${m}`:""}

Generate a COMPREHENSIVE DEBATE STRATEGY. Include:

##  Strategic Overview
A brief (2-3 sentence) overview of the best approach for this position.

##  Core Framework
The central theme/value/criterion that should anchor all arguments.

##  Main Arguments (3-4)
For each argument provide:
### Argument 1: [Compelling Title]
- **Claim**: The main assertion (1 sentence)
- **Warrant**: The logical reasoning (2-3 sentences)
- **Impact**: Why this matters - include magnitude, timeframe, probability
- **Evidence Needed**: Specific types of sources/data to find
- **Tag Line**: A memorable 5-7 word summary

##  Anticipated Opponent Arguments
For the top 3 likely opponent arguments:
### Counter to: [Their Argument]
- **Their likely claim**: What they'll say
- **Your response strategy**: How to refute it
- **Turn potential**: Can you flip this to your advantage?

##  Cross-Examination Strategy
### Questions to Ask
1. [Strategic question with goal]
2. [Strategic question with goal]
3. [Strategic question with goal]

### Likely Questions You'll Face
- [Question]  [Prepared response]
- [Question]  [Prepared response]

##  Flow Visualization
\`\`\`

                      ${l.toUpperCase()} FLOW                 

 CONSTRUCTIVE  REBUTTAL      SUMMARY       FINAL FOCUS       

 [Arg 1]      [Extend]     [Voters]     [Key takeaway]       

 [Arg 2]      [Respond]    [Weigh]      [Emotional close]    

\`\`\`

##  Time Allocation
| Speech | Time | Focus |
|--------|------|-------|
| Constructive | X min | ... |
| Rebuttal | X min | ... |
| Summary | X min | ... |
| Final Focus | X min | ... |

##  Win Conditions
The 2-3 things that MUST happen to win this round:
1. ...
2. ...
3. ...

##  Power Phrases
5 memorable phrases to use during the round:
1. "..."
2. "..."
3. "..."
4. "..."
5. "..."
`,arguments:`You are an expert Debate Coach specializing in argument construction for ${n}.

**Topic/Resolution:** ${c}
**Side:** ${l}
${m?`**Additional Context:** ${m}`:""}

Generate 4-5 STRONG ARGUMENTS for this position:

## Argument Analysis Framework

For EACH argument, provide:

###  Argument [N]: [Compelling Title]

#### The Claim
A clear, assertive 1-sentence statement.

#### Logical Structure
- **Premise 1**: ...
- **Premise 2**: ...
- **Conclusion**: ...

#### Warrant Deep-Dive
Explain the logical reasoning in 3-4 sentences. Why does the claim follow from the evidence?

#### Impact Calculus
| Factor | Assessment |
|--------|------------|
| **Magnitude** | How big is the impact? |
| **Probability** | How likely? |
| **Timeframe** | When does it occur? |
| **Reversibility** | Can it be undone? |

#### Evidence Guide
- **Statistics needed**: ...
- **Expert quotes**: Types of experts to cite
- **Case studies**: Historical/current examples to find
- **Logical backing**: Philosophical/theoretical support

#### Delivery Tips
- Opening hook: "..."
- Key transition phrases
- Powerful conclusion line

#### Vulnerability Analysis
- Weakest point of this argument
- How opponents might attack
- Pre-emptive defense strategy

---

## Argument Hierarchy
Rank arguments by strength and when to deploy them:
1. **Strongest** (Lead with this): Argument X
2. **Most Emotional** (Final Focus): Argument Y
3. **Technical** (For experienced judges): Argument Z
`,rebuttals:`You are an expert Debate Coach specializing in rebuttal strategy for ${n}.

**Topic/Resolution:** ${c}
**Your Side:** ${l}
**Opponent's Side:** ${l.includes("Affirmative")||l.includes("Pro")?"Opposition/Negative":"Proposition/Affirmative"}
${m?`**Additional Context:** ${m}`:""}

Generate a COMPREHENSIVE REBUTTAL PREPARATION guide:

##  Opponent Argument Predictions

### Predicted Argument 1: [Title]
**What they'll likely say:**
> [Their argument in their words]

**Why this is flawed:**
- Logical flaw: ...
- Evidence problem: ...
- Impact overreach: ...

**Your Rebuttal Response:**
"[Exact words to say - 30-45 seconds]"

**The Turn (flip it to your advantage):**
"Actually, this argument supports OUR side because..."

---

### Predicted Argument 2: [Title]
[Same structure]

---

### Predicted Argument 3: [Title]
[Same structure]

---

##  Defense Blocks

### If They Attack Your [Argument 1]:
**Their likely attack:** ...
**Your defense:** "[30-second response]"

### If They Attack Your [Argument 2]:
**Their likely attack:** ...
**Your defense:** "[30-second response]"

##  Quick-Fire Responses
One-liner responses to common attacks:

| If they say... | You respond... |
|----------------|----------------|
| "..." | "..." |
| "..." | "..." |
| "..." | "..." |

##  Weighing Mechanisms
How to compare impacts when both sides have valid points:

### Magnitude Weighing
"Even if they win X, our impact of Y is larger because..."

### Probability Weighing
"Their impact is speculative, while ours is empirically proven..."

### Timeframe Weighing
"Their impact is long-term and uncertain, our harm is happening now..."

##  Kill Shots
Arguments that completely devastate common opponent positions:

1. **Against [common position]:** ...
2. **Against [common position]:** ...
`,crossfire:`You are an expert Debate Coach specializing in Cross-Examination/Crossfire strategy for ${n}.

**Topic/Resolution:** ${c}
**Your Side:** ${l}
${m?`**Additional Context:** ${m}`:""}

Generate a COMPREHENSIVE CROSS-EXAMINATION STRATEGY:

##  Your Questioning Strategy

### Goal-Oriented Questions
Each question should serve a strategic purpose:

#### Setup Questions (Establish facts)
1. **Question:** "..."
   - **Goal:** Get them to admit X
   - **Follow-up if yes:** "..."
   - **Follow-up if no:** "..."

2. **Question:** "..."
   - **Goal:** ...

#### Trap Questions (Expose contradictions)
1. **Question:** "..."
   - **The trap:** If they say X, point out Y
   - **Delivery:** Stay calm, don't telegraph

2. **Question:** "..."
   - **The trap:** ...

#### Concession Questions (Get admissions)
1. **Question:** "..."
   - **Looking for:** Them to admit your framing
   - **Use in later speeches:** "They agreed that..."

### Question Sequences
**To undermine their Argument 1:**
1. First ask: "..."
2. Then: "..."
3. Finish with: "..."

**To support your Argument 1:**
1. First ask: "..."
2. Then: "..."
3. Finish with: "..."

##  Defending in Cross-Ex

### Likely Questions You'll Face
| Their Question | Your Response Strategy |
|----------------|----------------------|
| "..." | [Don't concede X, instead say...] |
| "..." | [Bridge to your argument...] |
| "..." | [Ask for clarification to buy time...] |

### Deflection Techniques
- **"That's not the right framing..."** then reframe
- **"The real question is..."** pivot to your ground
- **"We can discuss that, but first..."** delay and redirect

### Trap Avoidance
Common traps and how to spot/avoid them:
1. **The false dichotomy:** They present only two options. Response: "Those aren't the only options..."
2. **The hypothetical spiral:** They create unrealistic scenarios. Response: "In the real world..."
3. **The quote trap:** They try to get quotable admissions. Response: "What I'm saying is..." (reframe)

##  Power Moves

### Taking Control
- "Let me finish this point..."
- "That's a different question, I'm asking about..."
- "With respect, that doesn't answer the question..."

### Memorable Moments
Crossfire zingers (use sparingly):
- "So you're agreeing with us that..."
- "If that's true, then your entire case falls apart..."
- "You've just proven our point..."

##  Time Management
| Phase | Your Goals |
|-------|------------|
| First 30 sec | Establish one key admission |
| Middle | Build your trap sequence |
| Final 30 sec | Land your strongest point |
`},$=(await(await M.generateContent(R[x])).response).text();U($),G({type:"strategy",title:`${C.find(W=>W.id===x)?.label}: ${c.substring(0,50)}`,input:{topic:c,context:m},result:$,metadata:{speechType:n,side:l,topic:c,strategyType:x}}),se(!0),setTimeout(()=>se(!1),2e3)}catch(T){console.error("Gemini Error:",T),z(`Error: ${T.message}. Please try again.`)}finally{w(!1)}},E=()=>{S&&(navigator.clipboard.writeText(S),q(!0),setTimeout(()=>q(!1),2e3))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Strategy Generator"}),a.jsx("p",{className:"text-slate-400 mt-1",children:"Build winning debate strategies with AI"})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[a.jsxs("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Debate Format"}),a.jsx("select",{value:n,onChange:T=>s(T.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-all",children:e.map(T=>a.jsx("option",{value:T,children:T},T))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Side"}),a.jsx("select",{value:l,onChange:T=>o(T.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-all",children:D.map(T=>a.jsx("option",{value:T,children:T},T))})]})]}),a.jsx("div",{className:"p-4 rounded-xl bg-blue-500/10 border border-blue-500/20",children:a.jsxs("div",{className:"flex items-center gap-3 text-blue-400 text-sm",children:[a.jsx(ed,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{children:"Strategy Generator is optimized for competitive debate events."})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Topic / Resolution"}),a.jsx("input",{type:"text",value:c,onChange:T=>h(T.target.value),placeholder:"Resolved: The United States should substantially increase...",className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-all"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:["Additional Context ",a.jsx("span",{className:"text-slate-600",children:"(optional)"})]}),a.jsx("textarea",{value:m,onChange:T=>f(T.target.value),placeholder:"E.g., specific arguments you want to focus on, your opponent's known style...",className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-all resize-none h-24"})]})]}),a.jsxs("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-4",children:"Strategy Type"}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:C.map(T=>{const M=T.icon;return a.jsxs("button",{onClick:()=>y(T.id),className:`p-4 rounded-xl border text-left transition-all ${x===T.id?"bg-orange-500/10 border-orange-500/30 shadow-lg shadow-orange-500/10":"bg-slate-900/30 border-slate-800 hover:border-slate-700 hover:bg-slate-800/50"}`,children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(M,{className:`w-5 h-5 ${x===T.id?"text-orange-400":"text-slate-500"}`}),a.jsx("span",{className:`font-medium ${x===T.id?"text-white":"text-slate-400"}`,children:T.label})]}),a.jsx("p",{className:"text-xs text-slate-500",children:T.description})]},T.id)})})]}),a.jsx("button",{onClick:O,disabled:v||!c.trim(),className:"w-full py-4 rounded-xl bg-gradient-to-r from-orange-500 to-red-500 text-white text-lg font-semibold shadow-lg shadow-orange-500/25 hover:shadow-orange-500/40 hover:scale-[1.01] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center gap-3",children:v?a.jsxs(a.Fragment,{children:[a.jsx(ki,{className:"w-5 h-5 animate-spin"}),"Generating Strategy..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Fs,{className:"w-5 h-5"}),"Generate Strategy"]})}),I&&a.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 text-red-400",children:[a.jsx(is,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:I})]})]}),a.jsxs("div",{className:"w-full lg:w-1/2 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[a.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[a.jsx(yr,{className:"w-5 h-5 text-orange-400"}),"Strategy Playbook"]}),S&&a.jsxs("div",{className:"flex items-center gap-3",children:[K&&a.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1 font-medium",children:[a.jsx(Fa,{className:"w-3 h-3"})," Saved"]}),a.jsx("button",{onClick:E,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Copy to clipboard",children:L?a.jsx(br,{className:"w-4 h-4 text-emerald-500"}):a.jsx(oa,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:S?a.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-orange-400 prose-headings:font-semibold prose-a:text-orange-400 prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-3 prose-td:p-3 prose-th:bg-slate-800/50 prose-th:text-left prose-code:bg-slate-800 prose-code:px-1.5 prose-code:rounded prose-pre:bg-slate-900 prose-pre:border prose-pre:border-slate-700 prose-blockquote:border-l-orange-500 prose-blockquote:bg-slate-900/50 prose-blockquote:py-1",children:a.jsx(dc,{remarkPlugins:[hc],children:S})}):a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 py-16",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:a.jsx(Ot,{className:"w-8 h-8"})}),a.jsx("p",{className:"text-center max-w-xs",children:"Enter your debate topic and select a strategy type to generate your personalized playbook."})]})})]})]})]})},Km={judge:{icon:za,label:"Speech Analysis",color:"text-cyan-400",bg:"bg-cyan-500/10 border-cyan-500/20"},board:{icon:_m,label:"Board Evaluation",color:"text-purple-400",bg:"bg-purple-500/10 border-purple-500/20"},coach:{icon:ra,label:"Live Coaching",color:"text-emerald-400",bg:"bg-emerald-500/10 border-emerald-500/20"},strategy:{icon:Ot,label:"Strategy",color:"text-orange-400",bg:"bg-orange-500/10 border-orange-500/20"},extemp:{icon:dx,label:"Extemp Question",color:"text-amber-400",bg:"bg-amber-500/10 border-amber-500/20"},tone:{icon:yl,label:"Tone Analysis",color:"text-pink-400",bg:"bg-pink-500/10 border-pink-500/20"}},KU=({session:t,onView:e,onDelete:n})=>{const[s,l]=A.useState(!1),o=Km[t.type]||Km.judge,c=o.icon;return a.jsxs("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden group",children:[a.jsx("div",{className:"p-4 cursor-pointer hover:bg-slate-800/30 transition-colors",onClick:()=>l(!s),children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`p-2.5 rounded-xl border ${o.bg}`,children:a.jsx(c,{className:`w-5 h-5 ${o.color}`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-lg ${o.bg} ${o.color}`,children:o.label}),t.metadata?.speechType&&a.jsx("span",{className:"text-xs text-slate-500",children:t.metadata.speechType})]}),a.jsx("h3",{className:"font-medium text-white truncate",children:t.title||t.metadata?.topic||"Untitled Session"}),a.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-slate-500",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(pr,{className:"w-3 h-3"}),lS(t.createdAt)]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Dn,{className:"w-3 h-3"}),zU(t.createdAt)]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:h=>{h.stopPropagation(),n(t.id)},className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:"Delete session",children:a.jsx($s,{className:"w-4 h-4"})}),s?a.jsx(wi,{className:"w-5 h-5 text-slate-500"}):a.jsx(Nn,{className:"w-5 h-5 text-slate-500"})]})]})}),s&&a.jsxs("div",{className:"border-t border-slate-800/60 p-4 animate-in slide-in-from-top-2",children:[t.metadata&&a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[t.metadata.side&&a.jsx("span",{className:"text-xs px-2.5 py-1 bg-slate-800/50 rounded-lg text-slate-400 border border-slate-700/50",children:t.metadata.side}),t.metadata.difficulty&&a.jsxs("span",{className:"text-xs px-2.5 py-1 bg-slate-800/50 rounded-lg text-slate-400 border border-slate-700/50",children:[t.metadata.difficulty," difficulty"]})]}),a.jsx("div",{className:"bg-slate-900/50 rounded-xl p-4 max-h-[400px] overflow-y-auto border border-slate-800/50",children:a.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-cyan-400 prose-headings:font-semibold prose-a:text-cyan-400 prose-strong:text-white prose-table:border-collapse prose-th:border prose-th:border-slate-700 prose-td:border prose-td:border-slate-700 prose-th:p-3 prose-td:p-3 prose-th:bg-slate-800/50",children:a.jsx(dc,{remarkPlugins:[hc],children:t.result||"No analysis result available"})})}),t.type==="extemp"&&t.input?.question&&a.jsxs("div",{className:"mt-4 p-4 bg-slate-800/30 rounded-xl border border-slate-700/50",children:[a.jsx("h4",{className:"text-xs font-medium text-slate-500 mb-2",children:"Generated Question"}),a.jsxs("p",{className:"text-white font-serif text-lg",children:['"',t.input.question,'"']})]})]})]})},XU=()=>{const{history:t,isLoading:e,stats:n,deleteSession:s,clearHistory:l,exportHistory:o,importHistory:c}=Ll(),[h,m]=A.useState(""),[f,x]=A.useState("all"),[y,v]=A.useState(!1),[w,S]=A.useState(null),U=ox.useRef(null),I=t.filter(L=>{const q=f==="all"||L.type===f,K=!h||L.title?.toLowerCase().includes(h.toLowerCase())||L.metadata?.topic?.toLowerCase().includes(h.toLowerCase())||L.result?.toLowerCase().includes(h.toLowerCase());return q&&K}),z=async L=>{const q=L.target.files?.[0];if(q){const K=await c(q);S(K),setTimeout(()=>S(null),3e3),U.current&&(U.current.value="")}};return e?a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Session History"}),a.jsxs("p",{className:"text-slate-400 mt-1",children:[n.total," ",n.total===1?"session":"sessions"," recorded"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:o,disabled:t.length===0,className:"p-2.5 text-slate-400 hover:text-white hover:bg-slate-800 rounded-xl transition-colors disabled:opacity-50 border border-slate-800",title:"Export history",children:a.jsx(Wo,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>U.current?.click(),className:"p-2.5 text-slate-400 hover:text-white hover:bg-slate-800 rounded-xl transition-colors border border-slate-800",title:"Import history",children:a.jsx(ad,{className:"w-5 h-5"})}),a.jsx("input",{ref:U,type:"file",accept:".json",onChange:z,className:"hidden"}),t.length>0&&a.jsx("button",{onClick:()=>v(!0),className:"p-2.5 text-slate-400 hover:text-red-400 hover:bg-red-500/10 rounded-xl transition-colors border border-slate-800",title:"Clear all history",children:a.jsx($s,{className:"w-5 h-5"})})]})]}),w&&a.jsx("div",{className:`p-4 rounded-xl flex items-center gap-3 text-sm animate-in fade-in ${w.success?"bg-emerald-500/10 border border-emerald-500/20 text-emerald-400":"bg-red-500/10 border border-red-500/20 text-red-400"}`,children:w.success?a.jsxs(a.Fragment,{children:[a.jsx(br,{className:"w-5 h-5"}),"Imported ",w.count," sessions successfully"]}):a.jsxs(a.Fragment,{children:[a.jsx(is,{className:"w-5 h-5"}),"Import failed: ",w.error]})}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:Object.entries(Km).map(([L,q])=>{const K=q.icon,se=n.byType[L]||0;return a.jsx("button",{onClick:()=>x(f===L?"all":L),className:`p-4 rounded-xl border text-left transition-all ${f===L?"border-cyan-500/30 bg-cyan-500/10 shadow-lg shadow-cyan-500/10":"border-slate-800/60 bg-slate-900/30 hover:bg-slate-800/30 hover:border-slate-700"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(K,{className:`w-5 h-5 ${q.color}`}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xl font-bold text-white",children:se}),a.jsx("div",{className:"text-xs text-slate-500",children:q.label})]})]})},L)})}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(vl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),a.jsx("input",{type:"text",value:h,onChange:L=>m(L.target.value),placeholder:"Search sessions...",className:"w-full pl-11 pr-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all"})]}),a.jsxs("select",{value:f,onChange:L=>x(L.target.value),className:"px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-800 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all w-full sm:w-48",children:[a.jsx("option",{value:"all",children:"All Types"}),Object.entries(Km).map(([L,q])=>a.jsx("option",{value:L,children:q.label},L))]})]}),I.length>0?a.jsx("div",{className:"space-y-4",children:I.map(L=>a.jsx(KU,{session:L,onDelete:s},L.id))}):a.jsx("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm flex flex-col items-center justify-center min-h-[40vh] text-center p-8",children:t.length===0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:a.jsx(Fa,{className:"w-8 h-8 text-slate-600"})}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Sessions Yet"}),a.jsx("p",{className:"text-slate-500 max-w-md",children:"Your analysis sessions will appear here. Try analyzing a speech, using the live coach, or generating a strategy to get started!"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:a.jsx(vl,{className:"w-8 h-8 text-slate-600"})}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Results Found"}),a.jsx("p",{className:"text-slate-500",children:"No sessions match your search criteria."}),a.jsx("button",{onClick:()=>{m(""),x("all")},className:"mt-4 text-cyan-400 hover:text-cyan-300 font-medium",children:"Clear filters"})]})}),y&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",children:a.jsxs("div",{className:"w-full max-w-md p-6 rounded-2xl border border-slate-800 bg-slate-900 shadow-2xl animate-in zoom-in-95",children:[a.jsxs("div",{className:"flex items-center gap-3 text-red-400 mb-4",children:[a.jsx(is,{className:"w-6 h-6"}),a.jsx("h2",{className:"text-xl font-bold",children:"Clear All History?"})]}),a.jsxs("p",{className:"text-slate-400 mb-6",children:["This will permanently delete all ",n.total," sessions. This action cannot be undone."]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2.5 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>{l(),v(!1)},className:"px-4 py-2.5 rounded-xl bg-red-500 hover:bg-red-600 text-white font-medium transition-colors",children:"Delete All"})]})]})})]})},WU={uncertain:{label:"Uncertain",color:"text-yellow-400",bgColor:"bg-yellow-500/20",icon:uf},moderate:{label:"Moderate",color:"text-blue-400",bgColor:"bg-blue-500/20",icon:af},strong:{label:"Strong",color:"text-green-400",bgColor:"bg-green-500/20",icon:wl}},lx={passionate:{label:"Passionate",color:"text-red-400",bgColor:"bg-red-500/20",emoji:""},neutral:{label:"Neutral",color:"text-gray-400",bgColor:"bg-gray-500/20",emoji:""},analytical:{label:"Analytical",color:"text-cyan-400",bgColor:"bg-cyan-500/20",emoji:""},inspiring:{label:"Inspiring",color:"text-purple-400",bgColor:"bg-purple-500/20",emoji:""},urgent:{label:"Urgent",color:"text-orange-400",bgColor:"bg-orange-500/20",emoji:""}},JU={ethos:{label:"Ethos",description:"Credibility & Authority",color:"from-blue-500 to-indigo-500",icon:of},pathos:{label:"Pathos",description:"Emotional Appeal",color:"from-red-500 to-pink-500",icon:fC},logos:{label:"Logos",description:"Logic & Reasoning",color:"from-green-500 to-emerald-500",icon:kl}},ZU=({sections:t})=>!t||t.length===0?null:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-secondary mb-3",children:[a.jsx(Qn,{className:"w-4 h-4"}),a.jsx("span",{children:"Tone Progression"})]}),a.jsx("div",{className:"flex h-8 rounded-lg overflow-hidden",children:t.map((e,n)=>{const s=lx[e.tone]||lx.neutral;return a.jsxs("div",{className:`flex-1 ${s.bgColor} flex items-center justify-center text-xs font-medium ${s.color} border-r border-bg-primary last:border-r-0 transition-all hover:brightness-125`,title:`${e.label}: ${s.label}`,children:[a.jsx("span",{className:"hidden sm:inline",children:e.label}),a.jsx("span",{className:"sm:hidden",children:s.emoji})]},n)})}),a.jsxs("div",{className:"flex justify-between text-xs text-text-muted",children:[a.jsx("span",{children:"Opening"}),a.jsx("span",{children:"Closing"})]})]}),xg=({type:t,score:e})=>{const n=JU[t];if(!n)return null;const s=n.icon;return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-8 h-8 rounded-lg bg-gradient-to-br ${n.color} flex items-center justify-center`,children:a.jsx(s,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-white",children:n.label}),a.jsx("div",{className:"text-xs text-text-muted",children:n.description})]})]}),a.jsxs("span",{className:"text-lg font-bold text-white",children:[e,"%"]})]}),a.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full bg-gradient-to-r ${n.color} transition-all duration-1000 ease-out`,style:{width:`${e}%`}})})]})},ez=({apiKey:t})=>{const[e,n]=A.useState(""),[s,l]=A.useState(!1),[o,c]=A.useState(null),[h,m]=A.useState(null),[f,x]=A.useState(""),[y,v]=A.useState(!1),[w,S]=A.useState(!1),{addSession:U}=Ll(),I=async()=>{if(!t){x("Please enter a valid Gemini API Key in Settings.");return}if(!e.trim()){x("Please enter the speech transcript.");return}l(!0),x(""),c(null),m(null);try{const se=new _r(t).getGenerativeModel({model:"gemini-2.0-flash-exp"}),G=`You are an expert rhetorical analyst and speech coach. Analyze the following speech for tone, rhetorical techniques, and emotional impact.

SPEECH TEXT:
${e}

Provide your analysis in the following JSON format (ONLY output valid JSON, no markdown):
{
  "overallConfidence": "uncertain" | "moderate" | "strong",
  "dominantTone": "passionate" | "neutral" | "analytical" | "inspiring" | "urgent",
  "rhetoricalAppeals": {
    "ethos": <number 0-100>,
    "pathos": <number 0-100>,
    "logos": <number 0-100>
  },
  "toneProgression": [
    { "label": "Intro", "tone": "neutral" },
    { "label": "Build", "tone": "analytical" },
    { "label": "Peak", "tone": "passionate" },
    { "label": "Close", "tone": "inspiring" }
  ],
  "confidenceIndicators": {
    "hedgingPhrases": ["maybe", "perhaps", "I think"],
    "assertivePhrases": ["clearly", "undoubtedly", "must"],
    "hedgeCount": <number>,
    "assertiveCount": <number>
  },
  "techniques": [
    {
      "name": "Anaphora",
      "description": "Repetition at the beginning of sentences",
      "example": "We will fight... We will win...",
      "effectiveness": "high" | "medium" | "low"
    }
  ],
  "emotionalArc": {
    "opening": { "emotion": "hopeful", "intensity": 60 },
    "middle": { "emotion": "determined", "intensity": 80 },
    "closing": { "emotion": "triumphant", "intensity": 95 }
  },
  "recommendations": [
    "Add more concrete evidence to strengthen logos appeal",
    "Consider varying sentence length for better rhythm"
  ],
  "summary": "A two-sentence summary of the overall rhetorical effectiveness."
}`,O=(await(await se.generateContent(G)).response).text();let E;try{const T=O.match(/\{[\s\S]*\}/);if(T)E=JSON.parse(T[0]);else throw new Error("No JSON found in response")}catch(T){console.error("JSON parse error:",T),c(O);return}m(E),U({type:"tone",title:"Tone Analysis",input:{transcript:e.substring(0,500)+(e.length>500?"...":"")},result:JSON.stringify(E,null,2),metadata:{confidence:E.overallConfidence,dominantTone:E.dominantTone}}),S(!0),setTimeout(()=>S(!1),2e3)}catch(K){console.error("Gemini Error:",K),x(`Error: ${K.message}. Please try again.`)}finally{l(!1)}},z=()=>{h&&(navigator.clipboard.writeText(JSON.stringify(h,null,2)),v(!0),setTimeout(()=>v(!1),2e3))},L=h?.overallConfidence?WU[h.overallConfidence]:null,q=h?.dominantTone?lx[h.dominantTone]:null;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Tone Analysis"}),a.jsx("p",{className:"text-slate-400 mt-1",children:"Analyze rhetorical impact and emotional tone"})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-4",children:[a.jsx("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm space-y-4",children:a.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(ed,{className:"w-4 h-4 text-purple-400"}),a.jsx("span",{className:"text-sm font-medium text-slate-300",children:"This analysis detects:"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:["Confidence Level","Emotional Tone","Ethos/Pathos/Logos","Rhetorical Techniques"].map((K,se)=>a.jsx("span",{className:"px-3 py-1.5 text-xs font-medium bg-slate-900/50 text-slate-400 rounded-lg border border-slate-700/50",children:K},se))})]})}),a.jsxs("div",{className:"flex-1 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[a.jsx("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50",children:a.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Speech Transcript"})}),a.jsx("textarea",{value:e,onChange:K=>n(K.target.value),placeholder:"Paste your speech text here for detailed tone and rhetorical analysis...",className:"flex-1 w-full bg-transparent p-4 resize-none focus:outline-none font-mono text-sm text-slate-200 placeholder-slate-600 min-h-[300px]"}),a.jsxs("div",{className:"p-4 border-t border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[a.jsxs("span",{className:"text-xs text-slate-500 font-medium",children:[e.length.toLocaleString()," characters"]}),a.jsxs("button",{onClick:I,disabled:s,className:"px-6 py-2.5 rounded-xl bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold shadow-lg shadow-purple-500/25 hover:shadow-purple-500/40 hover:scale-[1.02] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center gap-2",children:[s?a.jsx(ki,{className:"w-4 h-4 animate-spin"}):a.jsx(cf,{className:"w-4 h-4"}),s?"Analyzing...":"Analyze Tone"]})]})]}),f&&a.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 text-red-400",children:[a.jsx(is,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:f})]})]}),a.jsxs("div",{className:"w-full lg:w-1/2 rounded-2xl border border-slate-800/60 bg-slate-900/30 backdrop-blur-sm overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-slate-800/60 bg-slate-900/50 flex justify-between items-center",children:[a.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[a.jsx(Fs,{className:"w-5 h-5 text-purple-400"}),"Rhetorical Analysis"]}),h&&a.jsxs("div",{className:"flex items-center gap-3",children:[w&&a.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1 font-medium",children:[a.jsx(Fa,{className:"w-3 h-3"})," Saved"]}),a.jsx("button",{onClick:z,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Copy to clipboard",children:y?a.jsx(br,{className:"w-4 h-4 text-emerald-500"}):a.jsx(oa,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:h?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[L&&a.jsxs("div",{className:`p-4 rounded-xl ${L.bgColor} border border-slate-700/50`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(L.icon,{className:`w-5 h-5 ${L.color}`}),a.jsx("span",{className:"text-sm text-slate-400",children:"Confidence"})]}),a.jsx("div",{className:`text-xl font-bold ${L.color}`,children:L.label})]}),q&&a.jsxs("div",{className:`p-4 rounded-xl ${q.bgColor} border border-slate-700/50`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-xl",children:q.emoji}),a.jsx("span",{className:"text-sm text-slate-400",children:"Dominant Tone"})]}),a.jsx("div",{className:`text-xl font-bold ${q.color}`,children:q.label})]})]}),a.jsxs("div",{className:"p-5 rounded-xl bg-slate-800/30 border border-slate-700/30 space-y-4",children:[a.jsxs("h4",{className:"font-semibold text-white flex items-center gap-2",children:[a.jsx(of,{className:"w-4 h-4 text-purple-400"}),"Rhetorical Appeals"]}),h.rhetoricalAppeals&&a.jsxs("div",{className:"space-y-4",children:[a.jsx(xg,{type:"ethos",score:h.rhetoricalAppeals.ethos}),a.jsx(xg,{type:"pathos",score:h.rhetoricalAppeals.pathos}),a.jsx(xg,{type:"logos",score:h.rhetoricalAppeals.logos})]})]}),h.toneProgression&&a.jsx("div",{className:"p-5 rounded-xl bg-slate-800/30 border border-slate-700/30",children:a.jsx(ZU,{sections:h.toneProgression})}),h.techniques&&h.techniques.length>0&&a.jsxs("div",{className:"p-5 rounded-xl bg-slate-800/30 border border-slate-700/30 space-y-3",children:[a.jsx("h4",{className:"font-semibold text-white",children:"Rhetorical Techniques"}),a.jsx("div",{className:"space-y-3",children:h.techniques.map((K,se)=>a.jsxs("div",{className:"p-3 bg-slate-900/50 rounded-lg border border-slate-800",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"font-medium text-white",children:K.name}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${K.effectiveness==="high"?"bg-emerald-500/20 text-emerald-400":K.effectiveness==="medium"?"bg-amber-500/20 text-amber-400":"bg-red-500/20 text-red-400"}`,children:K.effectiveness})]}),a.jsx("p",{className:"text-sm text-slate-500",children:K.description})]},se))})]}),h.recommendations&&a.jsxs("div",{className:"p-5 rounded-xl bg-slate-800/30 border border-slate-700/30 space-y-3",children:[a.jsxs("h4",{className:"font-semibold text-white flex items-center gap-2",children:[a.jsx(kl,{className:"w-4 h-4 text-amber-400"}),"Recommendations"]}),a.jsx("ul",{className:"space-y-2",children:h.recommendations.map((K,se)=>a.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-400",children:[a.jsx(br,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),K]},se))})]}),h.summary&&a.jsxs("div",{className:"p-5 rounded-xl bg-purple-500/10 border border-purple-500/20",children:[a.jsx("h4",{className:"font-semibold text-purple-400 mb-2",children:"Summary"}),a.jsx("p",{className:"text-slate-300",children:h.summary})]})]}):o?a.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:a.jsx(dc,{remarkPlugins:[hc],children:o})}):a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 py-16",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:a.jsx(yl,{className:"w-8 h-8"})}),a.jsx("p",{className:"text-center max-w-xs",children:"Paste your speech transcript to analyze rhetorical impact and emotional tone."})]})})]})]})]})},tz=({onSkip:t})=>{const[e,n]=A.useState(!0),[s,l]=A.useState(""),[o,c]=A.useState(""),[h,m]=A.useState(""),[f,x]=A.useState(!1),[y,v]=A.useState(!1),[w,S]=A.useState(""),{login:U,register:I,loginWithGoogle:z,error:L,clearError:q}=Mn(),K=async C=>{if(C.preventDefault(),S(""),q(),!s||!o){S("Please fill in all required fields.");return}if(!e&&!h){S("Please enter your name.");return}if(o.length<6){S("Password must be at least 6 characters.");return}v(!0);try{e?await U(s,o):await I(s,o,h)}catch{}finally{v(!1)}},se=async()=>{S(""),q(),v(!0);try{await z()}catch{}finally{v(!1)}},G=()=>{n(!e),S(""),q()},D=w||L;return a.jsxs("div",{className:"min-h-screen bg-bg-primary flex items-center justify-center p-4",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-full h-full bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-3xl"}),a.jsx("div",{className:"absolute -bottom-1/2 -right-1/2 w-full h-full bg-gradient-to-tl from-accent/10 to-transparent rounded-full blur-3xl"})]}),a.jsxs("div",{className:"w-full max-w-md relative z-10",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-accent shadow-lg shadow-primary/25 mb-4",children:a.jsx(za,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Adjudicator AI"}),a.jsx("p",{className:"text-text-secondary",children:"Your AI-powered debate coaching platform"})]}),a.jsxs("div",{className:"glass-card space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:e?"Welcome back":"Create your account"}),a.jsx("p",{className:"text-text-muted text-sm mt-1",children:e?"Sign in to continue to your dashboard":"Start your debate coaching journey"})]}),a.jsxs("button",{onClick:se,disabled:y,className:"w-full flex items-center justify-center gap-3 px-4 py-3 bg-white hover:bg-gray-100 text-gray-800 font-medium rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-slate-700"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-4 bg-bg-secondary text-text-muted",children:"or continue with email"})})]}),a.jsxs("form",{onSubmit:K,className:"space-y-4",children:[!e&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Full Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(rd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),a.jsx("input",{type:"text",value:h,onChange:C=>m(C.target.value),placeholder:"John Doe",className:"input-field pl-10",disabled:y})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(RC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),a.jsx("input",{type:"email",value:s,onChange:C=>l(C.target.value),placeholder:"you@example.com",className:"input-field pl-10",disabled:y})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(CC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),a.jsx("input",{type:f?"text":"password",value:o,onChange:C=>c(C.target.value),placeholder:"",className:"input-field pl-10 pr-10",disabled:y}),a.jsx("button",{type:"button",onClick:()=>x(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-muted hover:text-text-secondary",children:f?a.jsx(KT,{className:"w-5 h-5"}):a.jsx(hx,{className:"w-5 h-5"})})]})]}),D&&a.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-start gap-2 text-red-400 text-sm",children:[a.jsx(is,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:D})]}),a.jsx("button",{type:"submit",disabled:y,className:"btn-primary w-full flex items-center justify-center gap-2 py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:y?a.jsx(ki,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[e?"Sign In":"Create Account",a.jsx(Nm,{className:"w-4 h-4"})]})})]}),a.jsxs("p",{className:"text-center text-text-secondary text-sm",children:[e?"Don't have an account? ":"Already have an account? ",a.jsx("button",{onClick:G,className:"text-primary hover:text-primary/80 font-medium transition-colors",disabled:y,children:e?"Sign up":"Sign in"})]})]}),a.jsx("div",{className:"text-center mt-6",children:a.jsx("button",{onClick:t,className:"text-text-muted hover:text-text-secondary text-sm transition-colors underline underline-offset-2",children:"Continue as guest (limited features)"})})]})]})},nz=({onGetStarted:t,onContinueAsGuest:e})=>{const[n,s]=A.useState(0),l=[{icon:Pu,title:"Real-time Analysis",description:"Get instant AI feedback on speeches with event-specific rubrics. Identify strengths, weaknesses, and actionable improvements in seconds.",color:"from-cyan-500 to-blue-500",delay:.1},{icon:Vs,title:"Team Collaboration",description:"Manage your entire debate squad in one place. Share strategies, track individual progress, and coordinate team preparation.",color:"from-purple-500 to-pink-500",delay:.2},{icon:Qn,title:"Performance Insights",description:"Deep analytics on speaking patterns, argument effectiveness, and improvement trends. Data-driven coaching for measurable results.",color:"from-orange-500 to-red-500",delay:.3},{icon:on,title:"Tournament Tracking",description:"Log competition results, monitor rankings, and analyze performance across events. See what strategies win at the highest levels.",color:"from-green-500 to-emerald-500",delay:.4}],o=[{icon:Pu,text:"Instant AI feedback in seconds"},{icon:sd,text:"Event-specific evaluation rubrics"},{icon:Qn,text:"Track progress over time"},{icon:yr,text:"Personalized improvement drills"}],c=[{quote:"This completely transformed how I prepare for tournaments. My speaker points jumped 2 points!",author:"Sarah M.",role:"Public Forum Debater",avatar:""},{quote:"The strategy generator helped me anticipate every argument my opponents made at State.",author:"Marcus T.",role:"Lincoln-Douglas Champion",avatar:""},{quote:"Finally, feedback that understands the difference between Informative and Extemp. Game changer.",author:"Emily R.",role:"Speech Coach",avatar:""}];A.useEffect(()=>{const f=setInterval(()=>{s(x=>(x+1)%c.length)},5e3);return()=>clearInterval(f)},[]);const h={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},m={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return a.jsxs("div",{className:"min-h-screen bg-bg-primary overflow-hidden",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-full h-full bg-gradient-to-br from-primary/20 via-transparent to-transparent rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute -bottom-1/2 -right-1/2 w-full h-full bg-gradient-to-tl from-accent/20 via-transparent to-transparent rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),a.jsx("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-gradient-to-br from-cyan-500/10 to-purple-500/10 rounded-full blur-3xl animate-float"})]}),a.jsx("nav",{className:"relative z-10 px-6 py-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[a.jsxs(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary to-accent flex items-center justify-center shadow-lg shadow-primary/25",children:a.jsx(za,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"text-xl font-bold text-white",children:"Adjudicator AI"})]}),a.jsxs(F.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex items-center gap-4",children:[a.jsx("button",{onClick:e,className:"text-text-secondary hover:text-white transition-colors px-4 py-2",children:"Try Free"}),a.jsxs("button",{onClick:t,className:"btn-primary flex items-center gap-2",children:["Sign In",a.jsx(Nm,{className:"w-4 h-4"})]})]})]})}),a.jsx("section",{className:"relative z-10 px-6 pt-16 pb-24",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs(F.div,{initial:"hidden",animate:"visible",variants:h,className:"text-center max-w-4xl mx-auto",children:[a.jsxs(F.div,{variants:m,className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/20 mb-8",children:[a.jsx(Fs,{className:"w-4 h-4 text-primary"}),a.jsx("span",{className:"text-sm text-primary font-medium",children:"Trusted by 500+ Competitive Teams"})]}),a.jsxs(F.h1,{variants:m,className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",children:[a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary via-cyan-400 to-accent",children:"AI-Powered"}),a.jsx("span",{className:"text-white",children:" Debate Coaching"}),a.jsx("br",{}),a.jsx("span",{className:"text-white",children:"for "}),a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-accent",children:"Competitive Teams"})]}),a.jsx(F.p,{variants:m,className:"text-xl text-text-secondary mb-10 max-w-2xl mx-auto",children:"Elite debate programs use Adjudicator AI to analyze speeches in real-time, track team performance, and gain competitive insights that win tournaments."}),a.jsxs(F.div,{variants:m,className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-12",children:[a.jsx("button",{onClick:t,className:"group relative px-8 py-4 bg-gradient-to-r from-primary to-cyan-400 rounded-xl font-semibold text-white shadow-lg shadow-primary/25 hover:shadow-xl hover:shadow-primary/30 transition-all hover:scale-105",children:a.jsxs("span",{className:"flex items-center gap-2",children:["Start Free Trial",a.jsx(Nm,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})}),a.jsxs("button",{onClick:e,className:"group px-8 py-4 rounded-xl font-semibold text-text-secondary hover:text-white border border-slate-700 hover:border-slate-600 hover:bg-slate-800/50 transition-all flex items-center gap-2",children:[a.jsx(Ni,{className:"w-5 h-5"}),"Watch Demo"]})]}),a.jsxs(F.div,{variants:m,className:"flex flex-col sm:flex-row items-center justify-center gap-6 sm:gap-12 text-text-muted",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center",children:a.jsx(Vs,{className:"w-5 h-5 text-cyan-400"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"text-lg font-bold text-white",children:"10,000+"}),a.jsx("div",{className:"text-xs text-text-muted",children:"Active Debaters"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center",children:a.jsx(on,{className:"w-5 h-5 text-yellow-500"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"text-lg font-bold text-white",children:"500+"}),a.jsx("div",{className:"text-xs text-text-muted",children:"Teams & Schools"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center",children:a.jsx(Ii,{className:"w-5 h-5 text-green-400"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"text-lg font-bold text-white",children:"1M+"}),a.jsx("div",{className:"text-xs text-text-muted",children:"Speeches Analyzed"})]})]})]})]})})}),a.jsx("section",{className:"relative z-10 px-6 py-24 bg-gradient-to-b from-transparent via-slate-900/50 to-transparent",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs(F.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Everything You Need to Excel"}),a.jsx("p",{className:"text-text-secondary max-w-2xl mx-auto",children:"From speech analysis to strategy building, we've got every aspect of your debate prep covered."})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map((f,x)=>a.jsx(F.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:f.delay},whileHover:{y:-5,scale:1.02},className:"group relative",children:a.jsxs("div",{className:"glass-card h-full cursor-pointer",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${f.color} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform shadow-lg`,children:a.jsx(f.icon,{className:"w-6 h-6 text-white"})}),a.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:f.title}),a.jsx("p",{className:"text-text-secondary text-sm",children:f.description})]})},f.title))})]})}),a.jsx("section",{className:"relative z-10 px-6 py-24",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[a.jsxs(F.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Why Debaters Choose Us"}),a.jsx("p",{className:"text-text-secondary mb-8",children:"We built this for debaters, by debaters. Every feature is designed to give you a competitive edge."}),a.jsx("div",{className:"space-y-4",children:o.map((f,x)=>a.jsxs(F.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:x*.1},className:"flex items-center gap-4 p-4 rounded-xl bg-slate-900/50 border border-slate-800 hover:border-primary/30 transition-colors",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:a.jsx(f.icon,{className:"w-5 h-5 text-primary"})}),a.jsx("span",{className:"text-text-primary font-medium",children:f.text})]},x))})]}),a.jsx(F.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"relative",children:a.jsxs("div",{className:"glass-card relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/20 to-accent/20 rounded-full blur-3xl"}),a.jsx(ot,{mode:"wait",children:a.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"relative z-10",children:[a.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((f,x)=>a.jsx(Bn,{className:"w-5 h-5 fill-yellow-500 text-yellow-500"},x))}),a.jsxs("blockquote",{className:"text-xl text-white font-medium mb-6 leading-relaxed",children:['"',c[n].quote,'"']}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center text-2xl",children:c[n].avatar}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-semibold",children:c[n].author}),a.jsx("div",{className:"text-text-muted text-sm",children:c[n].role})]})]})]},n)}),a.jsx("div",{className:"flex items-center gap-2 mt-6",children:c.map((f,x)=>a.jsx("button",{onClick:()=>s(x),className:`w-2 h-2 rounded-full transition-all ${x===n?"w-6 bg-primary":"bg-slate-700 hover:bg-slate-600"}`},x))})]})})]})})}),a.jsx("section",{className:"relative z-10 px-6 py-24",children:a.jsx(F.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"relative rounded-3xl overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 via-accent/20 to-primary/20"}),a.jsx("div",{className:"absolute inset-0 bg-slate-900/80 backdrop-blur-xl"}),a.jsxs("div",{className:"relative z-10 p-12 text-center",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-accent mb-6 shadow-lg shadow-primary/25",children:a.jsx(on,{className:"w-8 h-8 text-white"})}),a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Ready to Win Your Next Round?"}),a.jsx("p",{className:"text-text-secondary mb-8 max-w-lg mx-auto",children:"Join thousands of debaters already using AI to sharpen their skills and dominate competitions."}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[a.jsxs("button",{onClick:t,className:"group px-8 py-4 bg-white text-slate-900 rounded-xl font-semibold hover:bg-gray-100 transition-all hover:scale-105 flex items-center gap-2",children:["Start Free Today",a.jsx(Nn,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),a.jsx("button",{onClick:e,className:"px-8 py-4 text-white font-semibold hover:underline underline-offset-4",children:"Continue as Guest"})]})]})]})})}),a.jsx("footer",{className:"relative z-10 px-6 py-16 border-t border-slate-800 bg-slate-900/50",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-12",children:[a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary to-accent flex items-center justify-center shadow-lg shadow-primary/25",children:a.jsx(za,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"text-lg font-bold text-white",children:"Adjudicator AI"})]}),a.jsx("p",{className:"text-text-muted text-sm mb-4",children:"AI-powered debate coaching platform for competitive teams and speech programs."}),a.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[[...Array(5)].map((f,x)=>a.jsx(Bn,{className:"w-4 h-4 fill-yellow-500 text-yellow-500"},x)),a.jsx("span",{className:"text-sm text-text-muted ml-2",children:"4.9/5"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold mb-4",children:"Product"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Speech Analysis"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Strategy Generator"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Live Coaching"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Team Analytics"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold mb-4",children:"Resources"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Documentation"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Debate Guides"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Event Rubrics"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"API Access"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold mb-4",children:"Company"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"About Us"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Contact"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Privacy Policy"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-text-muted hover:text-white transition-colors text-sm",children:"Terms of Service"})})]})]})]}),a.jsxs("div",{className:"pt-8 border-t border-slate-800 flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsx("div",{className:"text-text-muted text-sm",children:" 2025 Adjudicator AI. All rights reserved."}),a.jsx("div",{className:"flex items-center gap-6",children:a.jsx("span",{className:"text-text-muted text-sm",children:"Built for debaters, by debaters."})})]})]})})]})},sz=async(t,e)=>{const n=os(mt,"users",t,"debates");return(await Ol(n,{...e,createdAt:Yt(),updatedAt:Yt()})).id},az=async(t,e={})=>{const n=os(mt,"users",t,"debates");let s=zs(n,oc("createdAt","desc"));return e.format&&(s=zs(s,cy("format","==",e.format))),e.limit&&(s=zs(s,my(e.limit))),(await Ml(s)).docs.map(o=>({id:o.id,...o.data()}))},rz=async t=>{const e=await az(t),n={},s={},l={},o={};return e.forEach(c=>{n[c.format]||(n[c.format]={wins:0,losses:0,total:0}),n[c.format].total++,c.result==="win"?n[c.format].wins++:c.result==="loss"&&n[c.format].losses++,c.tournament&&(s[c.tournament]||(s[c.tournament]={wins:0,losses:0,total:0,speakerPoints:[]}),s[c.tournament].total++,c.result==="win"?s[c.tournament].wins++:s[c.tournament].losses++,c.speakerPoints&&s[c.tournament].speakerPoints.push(c.speakerPoints));const h=c.createdAt?.toDate?.()||new Date(c.createdAt),m=`${h.getFullYear()}-${String(h.getMonth()+1).padStart(2,"0")}`;l[m]||(l[m]={wins:0,losses:0,total:0,avgScore:[]}),l[m].total++,c.result==="win"?l[m].wins++:l[m].losses++,c.score&&l[m].avgScore.push(c.score),c.opponent&&(o[c.opponent]||(o[c.opponent]={wins:0,losses:0,total:0}),o[c.opponent].total++,c.result==="win"?o[c.opponent].wins++:o[c.opponent].losses++)}),{totalDebates:e.length,totalWins:e.filter(c=>c.result==="win").length,totalLosses:e.filter(c=>c.result==="loss").length,winRate:e.length>0?(e.filter(c=>c.result==="win").length/e.length*100).toFixed(1):0,formatStats:n,tournamentStats:s,monthlyStats:l,opponentStats:o,recentDebates:e.slice(0,10)}},iz=async(t,e)=>{const n=os(mt,"users",t,"opponents");return(await Ol(n,{...e,createdAt:Yt(),updatedAt:Yt()})).id},lz=async(t,e,n)=>{const s=fn(mt,"users",t,"opponents",e);await da(s,{...n,updatedAt:Yt()})},oz=async t=>{const e=os(mt,"users",t,"opponents"),n=zs(e,oc("updatedAt","desc"));return(await Ml(n)).docs.map(l=>({id:l.id,...l.data()}))},cz=async(t,e)=>{const n=fn(mt,"users",t,"opponents",e);await fy(n)},uz=async(t,e,n)=>{const s=fn(mt,"users",t,"opponents",e);await da(s,{notes:Qo({id:Date.now().toString(),content:n,createdAt:new Date().toISOString()}),updatedAt:Yt()})},dz=async(t,e)=>{const n=os(mt,"users",t,"evidence");return(await Ol(n,{...e,usageCount:0,usedInDebates:[],createdAt:Yt(),updatedAt:Yt()})).id},hz=async(t,e,n)=>{const s=fn(mt,"users",t,"evidence",e);await da(s,{...n,updatedAt:Yt()})},mz=async(t,e={})=>{const n=os(mt,"users",t,"evidence");let s=zs(n,oc("createdAt","desc"));e.limit&&(s=zs(s,my(e.limit)));let o=(await Ml(s)).docs.map(c=>({id:c.id,...c.data()}));if(e.tag&&(o=o.filter(c=>c.tags?.includes(e.tag))),e.search){const c=e.search.toLowerCase();o=o.filter(h=>h.title?.toLowerCase().includes(c)||h.content?.toLowerCase().includes(c)||h.source?.toLowerCase().includes(c))}return o},fz=async(t,e)=>{const n=fn(mt,"users",t,"evidence",e);await fy(n)},pz=async(t,e,n)=>{const s=fn(mt,"users",t,"evidence",e),l=await Mf(s);l.exists()&&await da(s,{usageCount:(l.data().usageCount||0)+1,usedInDebates:Qo(n),lastUsed:Yt()})},gz=async(t,e)=>{const n=os(mt,"users",t,"practice");return(await Ol(n,{...e,createdAt:Yt()})).id},oS=async(t,e={})=>{const n=os(mt,"users",t,"practice");let s=zs(n,oc("createdAt","desc"));return e.type&&(s=zs(s,cy("type","==",e.type))),e.limit&&(s=zs(s,my(e.limit))),(await Ml(s)).docs.map(o=>({id:o.id,...o.data()}))},xz=async t=>{const e=await oS(t),n={totalSessions:e.length,totalTime:e.reduce((c,h)=>c+(h.duration||0),0),byType:{},streak:0,avgScore:0};e.forEach(c=>{n.byType[c.type]||(n.byType[c.type]={count:0,totalScore:0}),n.byType[c.type].count++,c.score&&(n.byType[c.type].totalScore+=c.score)});const s=e.filter(c=>c.score);s.length>0&&(n.avgScore=(s.reduce((c,h)=>c+h.score,0)/s.length).toFixed(1));const l=new Date;let o=0;for(let c=0;c<365;c++){const h=new Date(l);h.setDate(h.getDate()-c);const m=h.toISOString().split("T")[0];if(e.some(x=>(x.createdAt?.toDate?.()||new Date(x.createdAt)).toISOString().split("T")[0]===m))o++;else if(c>0)break}return n.streak=o,n},yz=async(t,e)=>{const n=os(mt,"teams"),s=await Ol(n,{...e,ownerId:t,members:[{id:t,role:"owner",joinedAt:new Date().toISOString()}],inviteCode:Math.random().toString(36).substring(2,8).toUpperCase(),createdAt:Yt(),updatedAt:Yt()}),l=fn(mt,"users",t);return await da(l,{teams:Qo(s.id)}),s.id},bz=async t=>{const e=fn(mt,"teams",t),n=await Mf(e);return n.exists()?{id:n.id,...n.data()}:null},vz=async t=>{const e=fn(mt,"users",t),n=await Mf(e);if(!n.exists())return[];const s=n.data().teams||[];return(await Promise.all(s.map(o=>bz(o)))).filter(Boolean)},wz=async(t,e)=>{const n=os(mt,"teams"),s=zs(n,cy("inviteCode","==",e.toUpperCase())),l=await Ml(s);if(l.empty)throw new Error("Invalid invite code");const o=l.docs[0];if(o.data().members.some(h=>h.id===t))throw new Error("Already a member of this team");return await da(fn(mt,"teams",o.id),{members:Qo({id:t,role:"member",joinedAt:new Date().toISOString()}),updatedAt:Yt()}),await da(fn(mt,"users",t),{teams:Qo(o.id)}),o.id},Nz=async(t,e)=>{const n=os(mt,"users",t,"tournaments");return(await Ol(n,{...e,rounds:[],createdAt:Yt(),updatedAt:Yt()})).id},jz=async(t,e,n)=>{const s=fn(mt,"users",t,"tournaments",e);await da(s,{...n,updatedAt:Yt()})},_z=async t=>{const e=os(mt,"users",t,"tournaments"),n=zs(e,oc("date","desc"));return(await Ml(n)).docs.map(l=>({id:l.id,...l.data()}))},Sz=async(t,e)=>{const n=fn(mt,"users",t,"tournaments",e);await fy(n)},Ez=async(t,e,n)=>{const s=fn(mt,"users",t,"tournaments",e);await da(s,{rounds:Qo({id:Date.now().toString(),...n,createdAt:new Date().toISOString()}),updatedAt:Yt()})},Tz=async(t,e)=>{const n=os(mt,"users",t,"judges");return(await Ol(n,{...e,createdAt:Yt(),updatedAt:Yt()})).id},Cz=async t=>{const e=os(mt,"users",t,"judges"),n=zs(e,oc("name"));return(await Ml(n)).docs.map(l=>({id:l.id,...l.data()}))},Az=async(t,e,n)=>{const s=fn(mt,"users",t,"judges",e);await da(s,{...n,updatedAt:Yt()})},kz=()=>{const{user:t}=Mn(),[e,n]=A.useState(null),[s,l]=A.useState(!0),[o,c]=A.useState(null),h=A.useCallback(async()=>{if(!t?.uid){l(!1);return}try{l(!0);const f=await rz(t.uid);n(f),c(null)}catch(f){console.error("Error fetching analytics:",f),c(f.message)}finally{l(!1)}},[t?.uid]);return A.useEffect(()=>{h()},[h]),{analytics:e,loading:s,error:o,refetch:h,saveDebate:async f=>{if(!t?.uid)throw new Error("Not authenticated");const x=await sz(t.uid,f);return await h(),x}}},Iz=()=>{const{user:t}=Mn(),[e,n]=A.useState([]),[s,l]=A.useState(!0),[o,c]=A.useState(null),h=A.useCallback(async()=>{if(!t?.uid){l(!1);return}try{l(!0);const v=await oz(t.uid);n(v),c(null)}catch(v){console.error("Error fetching opponents:",v),c(v.message)}finally{l(!1)}},[t?.uid]);return A.useEffect(()=>{h()},[h]),{opponents:e,loading:s,error:o,refetch:h,addOpponent:async v=>{if(!t?.uid)throw new Error("Not authenticated");const w=await iz(t.uid,v);return await h(),w},updateOpponent:async(v,w)=>{if(!t?.uid)throw new Error("Not authenticated");await lz(t.uid,v,w),await h()},deleteOpponent:async v=>{if(!t?.uid)throw new Error("Not authenticated");await cz(t.uid,v),await h()},addNote:async(v,w)=>{if(!t?.uid)throw new Error("Not authenticated");await uz(t.uid,v,w),await h()}}},Rz=(t={})=>{const{user:e}=Mn(),[n,s]=A.useState([]),[l,o]=A.useState(!0),[c,h]=A.useState(null),[m,f]=A.useState(t),x=A.useCallback(async()=>{if(!e?.uid){o(!1);return}try{o(!0);const I=await mz(e.uid,m);s(I),h(null)}catch(I){console.error("Error fetching evidence:",I),h(I.message)}finally{o(!1)}},[e?.uid,m]);A.useEffect(()=>{x()},[x]);const y=async I=>{if(!e?.uid)throw new Error("Not authenticated");const z=await dz(e.uid,I);return await x(),z},v=async(I,z)=>{if(!e?.uid)throw new Error("Not authenticated");await hz(e.uid,I,z),await x()},w=async I=>{if(!e?.uid)throw new Error("Not authenticated");await fz(e.uid,I),await x()},S=async(I,z)=>{if(!e?.uid)throw new Error("Not authenticated");await pz(e.uid,I,z),await x()},U=[...new Set(n.flatMap(I=>I.tags||[]))];return{evidence:n,loading:l,error:c,filters:m,setFilters:f,allTags:U,refetch:x,addEvidence:y,updateEvidence:v,deleteEvidence:w,trackUsage:S}},Dz=()=>{const{user:t}=Mn(),[e,n]=A.useState([]),[s,l]=A.useState(null),[o,c]=A.useState(!0),[h,m]=A.useState(null),f=A.useCallback(async()=>{if(!t?.uid){c(!1);return}try{c(!0);const[y,v]=await Promise.all([oS(t.uid,{limit:50}),xz(t.uid)]);n(y),l(v),m(null)}catch(y){console.error("Error fetching practice data:",y),m(y.message)}finally{c(!1)}},[t?.uid]);return A.useEffect(()=>{f()},[f]),{sessions:e,stats:s,loading:o,error:h,refetch:f,saveSession:async y=>{if(!t?.uid)throw new Error("Not authenticated");const v=await gz(t.uid,y);return await f(),v}}},Mz=()=>{const{user:t}=Mn(),[e,n]=A.useState([]),[s,l]=A.useState(!0),[o,c]=A.useState(null),h=A.useCallback(async()=>{if(!t?.uid){l(!1);return}try{l(!0);const x=await vz(t.uid);n(x),c(null)}catch(x){console.error("Error fetching teams:",x),c(x.message)}finally{l(!1)}},[t?.uid]);return A.useEffect(()=>{h()},[h]),{teams:e,loading:s,error:o,refetch:h,createTeam:async x=>{if(!t?.uid)throw new Error("Not authenticated");const y=await yz(t.uid,x);return await h(),y},joinTeam:async x=>{if(!t?.uid)throw new Error("Not authenticated");const y=await wz(t.uid,x);return await h(),y}}},Oz=()=>{const{user:t}=Mn(),[e,n]=A.useState([]),[s,l]=A.useState(!0),[o,c]=A.useState(null),h=A.useCallback(async()=>{if(!t?.uid){l(!1);return}try{l(!0);const v=await _z(t.uid);n(v),c(null)}catch(v){console.error("Error fetching tournaments:",v),c(v.message)}finally{l(!1)}},[t?.uid]);return A.useEffect(()=>{h()},[h]),{tournaments:e,loading:s,error:o,refetch:h,addTournament:async v=>{if(!t?.uid)throw new Error("Not authenticated");const w=await Nz(t.uid,v);return await h(),w},updateTournament:async(v,w)=>{if(!t?.uid)throw new Error("Not authenticated");await jz(t.uid,v,w),await h()},deleteTournament:async v=>{if(!t?.uid)throw new Error("Not authenticated");await Sz(t.uid,v),await h()},addRound:async(v,w)=>{if(!t?.uid)throw new Error("Not authenticated");await Ez(t.uid,v,w),await h()}}},Pz=()=>{const{user:t}=Mn(),[e,n]=A.useState([]),[s,l]=A.useState(!0),[o,c]=A.useState(null),h=A.useCallback(async()=>{if(!t?.uid){l(!1);return}try{l(!0);const x=await Cz(t.uid);n(x),c(null)}catch(x){console.error("Error fetching judges:",x),c(x.message)}finally{l(!1)}},[t?.uid]);return A.useEffect(()=>{h()},[h]),{judges:e,loading:s,error:o,refetch:h,addJudge:async x=>{if(!t?.uid)throw new Error("Not authenticated");const y=await Tz(t.uid,x);return await h(),y},updateJudge:async(x,y)=>{if(!t?.uid)throw new Error("Not authenticated");await Az(t.uid,x,y),await h()}}},Lz=["Public Forum","Lincoln-Douglas","Policy","Congress","World Schools","Extemp","Original Oratory","Impromptu"],Vz={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},hl={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},cS=({value:t,duration:e=1e3,prefix:n="",suffix:s="",decimals:l=0})=>{const[o,c]=A.useState(0);return A.useEffect(()=>{const h=Date.now(),m=typeof t=="number"?t:parseFloat(t)||0,f=()=>{const x=Date.now(),y=Math.min((x-h)/e,1),v=1-Math.pow(1-y,4),w=m*v;c(w),y<1&&requestAnimationFrame(f)};requestAnimationFrame(f)},[t,e]),a.jsxs("span",{children:[n,o.toFixed(l),s]})},uS=({progress:t,size:e=120,strokeWidth:n=8,color:s="cyan",showValue:l=!0,label:o,animate:c=!0})=>{const h=(e-n)/2,m=h*2*Math.PI,f=m-t/100*m,x={cyan:{stroke:"#06b6d4",glow:"drop-shadow(0 0 8px rgba(6, 182, 212, 0.5))"},emerald:{stroke:"#10b981",glow:"drop-shadow(0 0 8px rgba(16, 185, 129, 0.5))"},purple:{stroke:"#a855f7",glow:"drop-shadow(0 0 8px rgba(168, 85, 247, 0.5))"},amber:{stroke:"#f59e0b",glow:"drop-shadow(0 0 8px rgba(245, 158, 11, 0.5))"},red:{stroke:"#ef4444",glow:"drop-shadow(0 0 8px rgba(239, 68, 68, 0.5))"}},y=x[s]||x.cyan;return a.jsxs("div",{className:"relative inline-flex flex-col items-center",children:[a.jsxs("svg",{width:e,height:e,className:"transform -rotate-90",children:[a.jsx("circle",{cx:e/2,cy:e/2,r:h,fill:"none",stroke:"currentColor",strokeWidth:n,className:"text-slate-800"}),a.jsx(F.circle,{cx:e/2,cy:e/2,r:h,fill:"none",stroke:y.stroke,strokeWidth:n,strokeLinecap:"round",strokeDasharray:m,initial:c?{strokeDashoffset:m}:{strokeDashoffset:f},animate:{strokeDashoffset:f},transition:{duration:1,ease:"easeOut"},style:{filter:y.glow}})]}),l&&a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[a.jsx("span",{className:"text-2xl font-bold text-white",children:a.jsx(cS,{value:t,suffix:"%"})}),o&&a.jsx("span",{className:"text-xs text-slate-400",children:o})]})]})},am=({label:t,value:e,change:n,icon:s,color:l="cyan",subtitle:o})=>{const c=n>0,h=n===0||n===void 0,m={cyan:{bg:"from-cyan-500/20 to-cyan-600/5",border:"border-cyan-500/20",icon:"text-cyan-400",iconBg:"bg-cyan-500/10"},emerald:{bg:"from-emerald-500/20 to-emerald-600/5",border:"border-emerald-500/20",icon:"text-emerald-400",iconBg:"bg-emerald-500/10"},purple:{bg:"from-purple-500/20 to-purple-600/5",border:"border-purple-500/20",icon:"text-purple-400",iconBg:"bg-purple-500/10"},amber:{bg:"from-amber-500/20 to-amber-600/5",border:"border-amber-500/20",icon:"text-amber-400",iconBg:"bg-amber-500/10"},red:{bg:"from-red-500/20 to-red-600/5",border:"border-red-500/20",icon:"text-red-400",iconBg:"bg-red-500/10"}},f=m[l]||m.cyan;return a.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02,y:-4},className:"relative group cursor-default",children:[a.jsx("div",{className:`absolute -inset-1 bg-gradient-to-r ${f.bg} rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-all duration-500`}),a.jsxs("div",{className:`relative p-6 rounded-2xl border ${f.border} bg-gradient-to-br ${f.bg} backdrop-blur-sm overflow-hidden`,children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-white/5 to-transparent rounded-full -translate-y-1/2 translate-x-1/2"}),a.jsxs("div",{className:"relative flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-slate-400 font-medium mb-1",children:t}),a.jsxs("p",{className:"text-3xl font-bold text-white tracking-tight",children:[a.jsx(cS,{value:parseFloat(e)||0,decimals:e.toString().includes(".")?1:0}),e.toString().includes("%")&&"%"]}),n!==void 0&&a.jsxs("div",{className:`flex items-center gap-1.5 mt-2 text-sm font-medium ${h?"text-slate-500":c?"text-emerald-400":"text-red-400"}`,children:[!h&&a.jsx(F.div,{initial:{rotate:c?-45:45,opacity:0},animate:{rotate:0,opacity:1},transition:{delay:.3},children:c?"":""}),a.jsx("span",{children:h?"No change":`${Math.abs(n)}%`}),a.jsx("span",{className:"text-slate-500",children:"vs last month"})]}),o&&a.jsx("p",{className:"text-sm text-slate-500 mt-1",children:o})]}),a.jsx(F.div,{whileHover:{rotate:5,scale:1.1},className:`p-3 rounded-xl ${f.iconBg} border ${f.border}`,children:a.jsx(s,{className:`w-6 h-6 ${f.icon}`})})]})]})]})},My=({children:t,variant:e="default",size:n="md"})=>{const s={default:"bg-slate-800 text-slate-300 border-slate-700",success:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30",warning:"bg-amber-500/10 text-amber-400 border-amber-500/30",danger:"bg-red-500/10 text-red-400 border-red-500/30",info:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30",purple:"bg-purple-500/10 text-purple-400 border-purple-500/30"},l={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-1",lg:"text-base px-3 py-1.5"};return a.jsx(F.span,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:`inline-flex items-center gap-1.5 font-medium rounded-full border ${s[e]} ${l[n]}`,children:t})},Uz=()=>a.jsx("div",{className:"relative p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 animate-pulse",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-4 w-24 bg-slate-800 rounded"}),a.jsx("div",{className:"h-8 w-20 bg-slate-800 rounded"}),a.jsx("div",{className:"h-3 w-32 bg-slate-800 rounded"})]}),a.jsx("div",{className:"w-12 h-12 bg-slate-800 rounded-xl"})]})}),yg=({className:t=""})=>a.jsx("div",{className:`bg-slate-800/50 rounded-xl animate-pulse ${t}`}),zz=({onAddDebate:t})=>a.jsxs(F.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-20",children:[a.jsxs("div",{className:"relative inline-block mb-8",children:[a.jsx(F.div,{animate:{scale:[1,1.2,1],opacity:[.3,.1,.3]},transition:{duration:3,repeat:1/0},className:"absolute inset-0 w-32 h-32 rounded-full bg-cyan-500/20 blur-xl"}),a.jsx(F.div,{animate:{scale:[1,1.3,1],opacity:[.2,.05,.2]},transition:{duration:3,repeat:1/0,delay:.5},className:"absolute inset-0 w-32 h-32 rounded-full bg-purple-500/20 blur-xl"}),a.jsxs(F.div,{initial:{rotate:-10},animate:{rotate:[0,5,0]},transition:{duration:4,repeat:1/0},className:"relative p-6 rounded-3xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-slate-700/50 backdrop-blur-xl shadow-2xl",children:[a.jsx(Qn,{className:"w-16 h-16 text-cyan-400"}),a.jsx(F.div,{animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0},className:"absolute -top-2 -right-2",children:a.jsx(Fs,{className:"w-6 h-6 text-amber-400"})})]})]}),a.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Start Your Debate Journey"}),a.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-8 leading-relaxed",children:"Track your debates to unlock powerful analytics, visualize your progress, and gain insights that will help you win more rounds."}),a.jsxs(F.button,{whileHover:{scale:1.05,boxShadow:"0 20px 40px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},onClick:t,className:"px-8 py-4 rounded-2xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold text-lg shadow-lg shadow-cyan-500/25 inline-flex items-center gap-3",children:[a.jsx(hn,{className:"w-5 h-5"}),"Record Your First Debate",a.jsx(Nn,{className:"w-5 h-5"})]})]}),Fz=({isOpen:t,onClose:e,onSave:n})=>{const[s,l]=A.useState({date:new Date().toISOString().split("T")[0],format:"Public Forum",tournament:"",round:"Round 1",opponent:"",opponentSchool:"",side:"Pro",result:"win",speakerPoints:"",score:"",topic:"",notes:""});if(!t)return null;const o=c=>{c.preventDefault(),n({...s,speakerPoints:s.speakerPoints?parseFloat(s.speakerPoints):null,score:s.score?parseInt(s.score):null}),e()};return a.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:c=>c.target===c.currentTarget&&e(),children:a.jsxs(F.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"w-full max-w-2xl bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-800 rounded-3xl shadow-2xl shadow-black/50 max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"relative p-6 border-b border-slate-800 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 via-transparent to-purple-500/10"}),a.jsxs("div",{className:"relative flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-xl bg-cyan-500/10 border border-cyan-500/30",children:a.jsx(on,{className:"w-5 h-5 text-cyan-400"})}),"Record Debate"]}),a.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Track your performance and build your analytics"})]}),a.jsx(F.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:e,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:a.jsx(ls,{className:"w-5 h-5"})})]})]}),a.jsxs("form",{onSubmit:o,className:"p-6 space-y-6 overflow-y-auto max-h-[calc(90vh-180px)]",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Date"}),a.jsx("input",{type:"date",value:s.date,onChange:c=>l({...s,date:c.target.value}),className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Format"}),a.jsx("select",{value:s.format,onChange:c=>l({...s,format:c.target.value}),className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all",children:Lz.map(c=>a.jsx("option",{value:c,children:c},c))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Tournament"}),a.jsx("input",{type:"text",value:s.tournament,onChange:c=>l({...s,tournament:c.target.value}),placeholder:"e.g., Harvard Invitational",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Round"}),a.jsx("select",{value:s.round,onChange:c=>l({...s,round:c.target.value}),className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all",children:["Round 1","Round 2","Round 3","Round 4","Round 5","Round 6","Octofinals","Quarterfinals","Semifinals","Finals"].map(c=>a.jsx("option",{value:c,children:c},c))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Opponent Name"}),a.jsx("input",{type:"text",value:s.opponent,onChange:c=>l({...s,opponent:c.target.value}),placeholder:"Opponent's name",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Opponent School"}),a.jsx("input",{type:"text",value:s.opponentSchool,onChange:c=>l({...s,opponentSchool:c.target.value}),placeholder:"School name",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Result"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(F.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l({...s,result:"win"}),className:`p-4 rounded-xl border-2 transition-all ${s.result==="win"?"bg-emerald-500/20 border-emerald-500 shadow-lg shadow-emerald-500/20":"bg-slate-800/30 border-slate-700 hover:border-slate-600"}`,children:[a.jsx(on,{className:`w-8 h-8 mx-auto mb-2 ${s.result==="win"?"text-emerald-400":"text-slate-500"}`}),a.jsx("span",{className:`font-semibold ${s.result==="win"?"text-emerald-400":"text-slate-400"}`,children:"Win"})]}),a.jsxs(F.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l({...s,result:"loss"}),className:`p-4 rounded-xl border-2 transition-all ${s.result==="loss"?"bg-red-500/20 border-red-500 shadow-lg shadow-red-500/20":"bg-slate-800/30 border-slate-700 hover:border-slate-600"}`,children:[a.jsx(Ot,{className:`w-8 h-8 mx-auto mb-2 ${s.result==="loss"?"text-red-400":"text-slate-500"}`}),a.jsx("span",{className:`font-semibold ${s.result==="loss"?"text-red-400":"text-slate-400"}`,children:"Loss"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Side"}),a.jsxs("select",{value:s.side,onChange:c=>l({...s,side:c.target.value}),className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all",children:[a.jsx("option",{value:"Pro",children:"Pro/Aff"}),a.jsx("option",{value:"Con",children:"Con/Neg"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Speaker Points"}),a.jsx("input",{type:"number",step:"0.1",min:"20",max:"30",value:s.speakerPoints,onChange:c=>l({...s,speakerPoints:c.target.value}),placeholder:"28.5",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Notes"}),a.jsx("textarea",{value:s.notes,onChange:c=>l({...s,notes:c.target.value}),placeholder:"Key takeaways, what worked, areas to improve...",rows:3,className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all resize-none"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-800",children:[a.jsx(F.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"px-6 py-3 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:"Cancel"}),a.jsx(F.button,{type:"submit",whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},className:"px-8 py-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold shadow-lg shadow-cyan-500/25",children:"Save Debate"})]})]})]})})},Bz=({wins:t,losses:e})=>{const n=t+e,s=n>0?t/n*100:0;return a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsxs("div",{className:"relative",children:[a.jsx(uS,{progress:s,size:140,strokeWidth:12,color:s>=50?"emerald":"amber",label:"Win Rate"}),a.jsx(F.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute -inset-4 rounded-full border border-dashed border-slate-700/50"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-4 h-4 rounded-full bg-emerald-500 shadow-lg shadow-emerald-500/50"}),a.jsx(F.div,{animate:{scale:[1,1.5,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 rounded-full bg-emerald-500"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-2xl font-bold text-white",children:t}),a.jsx("span",{className:"text-slate-400 ml-2",children:"Wins"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-4 h-4 rounded-full bg-slate-600"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-2xl font-bold text-white",children:e}),a.jsx("span",{className:"text-slate-400 ml-2",children:"Losses"})]})]}),a.jsx("div",{className:"pt-2 border-t border-slate-800",children:a.jsxs("p",{className:"text-slate-500",children:[n," total debates"]})})]})]})},$z=({data:t})=>{const e=Object.keys(t).sort().slice(-12),n=e.map(l=>{const o=t[l];return o.total>0?o.wins/o.total*100:0}),s=Math.max(...n,100);return e.length===0?a.jsx("div",{className:"flex items-center justify-center h-48 text-slate-500",children:a.jsx("p",{children:"Record more debates to see trends"})}):a.jsxs("div",{className:"relative h-56",children:[a.jsx("div",{className:"absolute inset-0 flex flex-col justify-between pointer-events-none",children:[100,75,50,25,0].map(l=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-xs text-slate-600 w-8",children:[l,"%"]}),a.jsx("div",{className:"flex-1 border-t border-slate-800/50 border-dashed"})]},l))}),a.jsx("div",{className:"absolute inset-0 pt-4 pb-6 pl-10 flex items-end justify-between gap-2",children:n.map((l,o)=>a.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2",children:[a.jsxs(F.div,{initial:{height:0,opacity:0},animate:{height:`${l/s*100}%`,opacity:1},transition:{delay:o*.05,duration:.6,ease:"easeOut"},className:"relative w-full rounded-t-lg cursor-pointer group",style:{background:l>=50?"linear-gradient(to top, rgba(16, 185, 129, 0.8), rgba(6, 182, 212, 0.6))":"linear-gradient(to top, rgba(245, 158, 11, 0.8), rgba(251, 191, 36, 0.6))",minHeight:"4px"},children:[a.jsx("div",{className:"absolute inset-0 rounded-t-lg blur-md opacity-50",style:{background:l>=50?"linear-gradient(to top, rgb(16, 185, 129), rgb(6, 182, 212))":"linear-gradient(to top, rgb(245, 158, 11), rgb(251, 191, 36))"}}),a.jsxs("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 px-3 py-1.5 bg-slate-800 border border-slate-700 rounded-lg text-xs text-white font-medium opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10 shadow-xl",children:[l.toFixed(0),"% win rate",a.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-slate-800 border-r border-b border-slate-700 rotate-45"})]})]}),a.jsx("span",{className:"text-[10px] text-slate-500 font-medium",children:e[o].split("-")[1]})]},e[o]))})]})},qz=({data:t})=>{const e=Object.entries(t);return e.length===0?a.jsx("div",{className:"text-center py-8 text-slate-500",children:"No format data available"}):a.jsx("div",{className:"space-y-5",children:e.map(([n,s],l)=>{const o=s.total>0?s.wins/s.total*100:0,c=o>=70?"emerald":o>=50?"cyan":o>=30?"amber":"red";return a.jsxs(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:l*.1},className:"group",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"text-white font-medium flex items-center gap-2",children:[n,o>=70&&a.jsx(ef,{className:"w-4 h-4 text-amber-400"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-slate-500 text-sm",children:[s.wins,"W - ",s.losses,"L"]}),a.jsxs(My,{variant:c==="emerald"?"success":c==="cyan"?"info":c==="amber"?"warning":"danger",children:[o.toFixed(0),"%"]})]})]}),a.jsx("div",{className:"h-3 bg-slate-800 rounded-full overflow-hidden",children:a.jsx(F.div,{initial:{width:0},animate:{width:`${o}%`},transition:{duration:.8,delay:l*.1},className:"h-full rounded-full relative overflow-hidden",style:{background:`linear-gradient(90deg, ${c==="emerald"?"rgb(16, 185, 129), rgb(6, 182, 212)":c==="cyan"?"rgb(6, 182, 212), rgb(99, 102, 241)":c==="amber"?"rgb(245, 158, 11), rgb(251, 191, 36)":"rgb(239, 68, 68), rgb(248, 113, 113)"})`},children:a.jsx(F.div,{animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,repeatDelay:3},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent"})})})]},n)})})},Hz=({data:t})=>{const e=Object.entries(t).map(([n,s])=>({name:n,...s,winRate:s.total>0?s.wins/s.total*100:0})).sort((n,s)=>s.total-n.total).slice(0,10);return e.length===0?a.jsx("div",{className:"text-center py-8 text-slate-500",children:"No opponent data available"}):a.jsx("div",{className:"space-y-3",children:e.map((n,s)=>a.jsxs(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:s*.05},whileHover:{scale:1.01,x:4},className:"flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-slate-800/50 to-slate-900/30 border border-slate-800/50 hover:border-slate-700/50 transition-all cursor-pointer group",children:[a.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-bold text-lg ${s===0?"bg-amber-500/20 text-amber-400 border border-amber-500/30":s===1?"bg-slate-400/20 text-slate-300 border border-slate-400/30":s===2?"bg-amber-700/20 text-amber-600 border border-amber-700/30":"bg-slate-800 text-slate-400"}`,children:s+1}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-white font-medium truncate group-hover:text-cyan-400 transition-colors",children:n.name}),a.jsxs("p",{className:"text-slate-500 text-sm",children:[n.total," debates"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`text-lg font-bold ${n.winRate>=50?"text-emerald-400":"text-red-400"}`,children:[n.winRate.toFixed(0),"%"]}),a.jsxs("p",{className:"text-slate-500 text-xs",children:[n.wins,"W-",n.losses,"L"]})]}),a.jsx(Nn,{className:"w-5 h-5 text-slate-600 group-hover:text-slate-400 transition-colors"})]},n.name))})},Gz=({debates:t})=>a.jsx("div",{className:"space-y-3",children:t.slice(0,5).map((e,n)=>a.jsxs(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.05},whileHover:{scale:1.01},className:"flex items-center gap-4 p-4 rounded-xl bg-slate-800/30 border border-slate-800/50 hover:bg-slate-800/50 transition-all cursor-pointer group",children:[a.jsx("div",{className:`relative w-2 h-14 rounded-full ${e.result==="win"?"bg-emerald-500":"bg-red-500"}`,children:a.jsx(F.div,{animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},className:`absolute inset-0 rounded-full ${e.result==="win"?"bg-emerald-500":"bg-red-500"} blur-sm`})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:"text-white font-medium",children:e.tournament||"Practice"}),a.jsx("span",{className:"text-slate-600",children:""}),a.jsx(My,{variant:"info",size:"sm",children:e.format})]}),a.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:["vs ",e.opponent||"Unknown","  ",e.round]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:`px-3 py-1.5 rounded-lg text-sm font-semibold ${e.result==="win"?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/30":"bg-red-500/10 text-red-400 border border-red-500/30"}`,children:e.result==="win"?" Win":"Loss"}),e.speakerPoints&&a.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:[a.jsx(Bn,{className:"w-3 h-3 inline-block text-amber-400 mr-1"}),e.speakerPoints," speaks"]})]})]},e.id||n))}),Yz=()=>a.jsxs("div",{className:"space-y-8 animate-pulse",children:[a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((t,e)=>a.jsx(Uz,{},e))}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[a.jsx(yg,{className:"h-64 rounded-2xl"}),a.jsx(yg,{className:"h-64 rounded-2xl"})]}),a.jsx(yg,{className:"h-80 rounded-2xl"})]}),Qz=({apiKey:t})=>{const{user:e,isAuthenticated:n}=Mn(),{analytics:s,loading:l,refetch:o,saveDebate:c}=kz(),[h,m]=A.useState(!1),[f,x]=A.useState("overview"),y=async w=>{try{await c(w)}catch(S){console.error("Error saving debate:",S)}},v=s&&s.totalDebates>0;return a.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs(F.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-600/20 border border-cyan-500/30",children:a.jsx(Qn,{className:"w-7 h-7 text-cyan-400"})}),"Analytics",a.jsx(My,{variant:"info",children:"Premium"})]}),a.jsx("p",{className:"text-slate-400 mt-2",children:"Track your debate performance and progress"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(F.button,{whileHover:{scale:1.05,rotate:180},whileTap:{scale:.95},onClick:o,className:"p-3 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",title:"Refresh",children:a.jsx(Ou,{className:"w-5 h-5"})}),a.jsxs(F.button,{whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},onClick:()=>m(!0),className:"px-5 py-2.5 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-medium shadow-lg shadow-cyan-500/25 flex items-center gap-2",children:[a.jsx(hn,{className:"w-5 h-5"}),"Record Debate"]})]})]}),a.jsx(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex items-center gap-2 p-1.5 bg-slate-900/50 rounded-2xl border border-slate-800/50 w-fit",children:[{id:"overview",label:"Overview",icon:Ng},{id:"trends",label:"Trends",icon:wl},{id:"opponents",label:"Head-to-Head",icon:Vs},{id:"formats",label:"By Format",icon:Qn}].map(w=>a.jsxs(F.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>x(w.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium transition-all ${f===w.id?"bg-slate-800 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:[a.jsx(w.icon,{className:"w-4 h-4"}),w.label]},w.id))}),l?a.jsx(Yz,{}):v?a.jsxs(F.div,{variants:Vz,initial:"hidden",animate:"visible",children:[f==="overview"&&a.jsxs(a.Fragment,{children:[a.jsxs(F.div,{variants:hl,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(am,{label:"Total Debates",value:s.totalDebates.toString(),icon:ra,color:"cyan"}),a.jsx(am,{label:"Win Rate",value:`${s.winRate}`,change:5,icon:on,color:"emerald"}),a.jsx(am,{label:"Total Wins",value:s.totalWins.toString(),icon:ux,color:"purple"}),a.jsx(am,{label:"Win Streak",value:s.currentStreak?.toString()||"0",subtitle:"Current streak",icon:tf,color:"amber"})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[a.jsxs(F.div,{variants:hl,className:"p-6 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/50 to-slate-950/50",children:[a.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-2",children:[a.jsx(Ng,{className:"w-5 h-5 text-cyan-400"}),"Win/Loss Ratio"]}),a.jsx(Bz,{wins:s.totalWins,losses:s.totalLosses})]}),a.jsxs(F.div,{variants:hl,className:"p-6 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/50 to-slate-950/50",children:[a.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-2",children:[a.jsx(Qn,{className:"w-5 h-5 text-purple-400"}),"Performance by Format"]}),a.jsx(qz,{data:s.formatStats})]})]}),a.jsxs(F.div,{variants:hl,className:"p-6 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/50 to-slate-950/50",children:[a.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-2",children:[a.jsx(Dn,{className:"w-5 h-5 text-amber-400"}),"Recent Debates"]}),a.jsx(Gz,{debates:s.recentDebates})]})]}),f==="trends"&&a.jsxs(F.div,{variants:hl,className:"p-6 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/50 to-slate-950/50",children:[a.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-2",children:[a.jsx(wl,{className:"w-5 h-5 text-emerald-400"}),"Win Rate Trend (Last 12 Months)"]}),a.jsx($z,{data:s.monthlyStats})]}),f==="opponents"&&a.jsxs(F.div,{variants:hl,className:"p-6 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/50 to-slate-950/50",children:[a.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-2",children:[a.jsx(Vs,{className:"w-5 h-5 text-cyan-400"}),"Head-to-Head Records"]}),a.jsx(Hz,{data:s.opponentStats})]}),f==="formats"&&a.jsx(F.div,{variants:hl,className:"grid md:grid-cols-2 gap-6",children:Object.entries(s.formatStats).map(([w,S],U)=>{const I=S.total>0?S.wins/S.total*100:0;return a.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:U*.1},whileHover:{scale:1.02,y:-4},className:"p-6 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/50 to-slate-950/50 hover:border-slate-700/60 transition-all",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h4",{className:"text-white font-semibold text-lg",children:w}),a.jsx(uS,{progress:I,size:60,strokeWidth:6,color:I>=50?"emerald":"amber"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{className:"p-3 rounded-xl bg-slate-800/30",children:[a.jsx("p",{className:"text-2xl font-bold text-white",children:S.total}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Total"})]}),a.jsxs("div",{className:"p-3 rounded-xl bg-emerald-500/10",children:[a.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:S.wins}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Wins"})]}),a.jsxs("div",{className:"p-3 rounded-xl bg-red-500/10",children:[a.jsx("p",{className:"text-2xl font-bold text-red-400",children:S.losses}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Losses"})]})]})]},w)})})]}):a.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},className:"p-8 rounded-3xl border border-slate-800/60 bg-gradient-to-b from-slate-900/50 to-slate-950/50",children:a.jsx(zz,{onAddDebate:()=>m(!0)})}),a.jsx(ot,{children:h&&a.jsx(Fz,{isOpen:h,onClose:()=>m(!1),onSave:y})})]})})},Kz={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08}}},Xz={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.4,ease:"easeOut"}}},Al={high:{label:"High Threat",color:"red",bgClass:"bg-red-500/10 border-red-500/30",textClass:"text-red-400",icon:mi,glow:"shadow-red-500/20"},medium:{label:"Medium Threat",color:"amber",bgClass:"bg-amber-500/10 border-amber-500/30",textClass:"text-amber-400",icon:is,glow:"shadow-amber-500/20"},low:{label:"Low Threat",color:"emerald",bgClass:"bg-emerald-500/10 border-emerald-500/30",textClass:"text-emerald-400",icon:br,glow:"shadow-emerald-500/20"}},Wz=({onAdd:t})=>a.jsxs(F.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-20",children:[a.jsxs("div",{className:"relative inline-block mb-8",children:[a.jsx(F.div,{animate:{scale:[1,1.2,1],opacity:[.3,.1,.3]},transition:{duration:3,repeat:1/0},className:"absolute inset-0 w-32 h-32 rounded-full bg-red-500/20 blur-xl"}),a.jsx(F.div,{animate:{scale:[1,1.3,1],opacity:[.2,.05,.2]},transition:{duration:3,repeat:1/0,delay:.5},className:"absolute inset-0 w-32 h-32 rounded-full bg-amber-500/20 blur-xl"}),a.jsxs(F.div,{animate:{rotate:[0,5,0,-5,0]},transition:{duration:5,repeat:1/0},className:"relative p-6 rounded-3xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-slate-700/50 backdrop-blur-xl shadow-2xl",children:[a.jsx(Ot,{className:"w-16 h-16 text-red-400"}),a.jsx(F.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -top-2 -right-2",children:a.jsx(hx,{className:"w-6 h-6 text-amber-400"})})]})]}),a.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Know Your Competition"}),a.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-8 leading-relaxed",children:"Track opponents, analyze their strategies, and prepare winning counter-arguments. Intelligence wins debates."}),a.jsxs(F.button,{whileHover:{scale:1.05,boxShadow:"0 20px 40px rgba(239, 68, 68, 0.3)"},whileTap:{scale:.98},onClick:t,className:"px-8 py-4 rounded-2xl bg-gradient-to-r from-red-500 to-orange-600 text-white font-semibold text-lg shadow-lg shadow-red-500/25 inline-flex items-center gap-3",children:[a.jsx(hn,{className:"w-5 h-5"}),"Add First Opponent",a.jsx(Nn,{className:"w-5 h-5"})]})]}),dS=({level:t,size:e="md",pulse:n=!1})=>{const s=Al[t]||Al.medium,l=s.icon,o={sm:"px-2 py-0.5 text-xs gap-1",md:"px-3 py-1 text-sm gap-1.5",lg:"px-4 py-2 text-base gap-2"};return a.jsxs(F.span,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:`inline-flex items-center font-semibold rounded-full border ${s.bgClass} ${s.textClass} ${o[e]} ${n?"animate-pulse":""}`,children:[a.jsx(l,{className:e==="sm"?"w-3 h-3":e==="lg"?"w-5 h-5":"w-4 h-4"}),s.label]})},Jz=({winRate:t,size:e=60})=>{const n=(e-6)/2,s=n*2*Math.PI,l=s-t/100*s,o=t>=50?"#ef4444":"#10b981";return a.jsxs("div",{className:"relative",style:{width:e,height:e},children:[a.jsxs("svg",{className:"transform -rotate-90",width:e,height:e,children:[a.jsx("circle",{cx:e/2,cy:e/2,r:n,fill:"none",stroke:"currentColor",strokeWidth:"6",className:"text-slate-800"}),a.jsx(F.circle,{cx:e/2,cy:e/2,r:n,fill:"none",stroke:o,strokeWidth:"6",strokeLinecap:"round",strokeDasharray:s,initial:{strokeDashoffset:s},animate:{strokeDashoffset:l},transition:{duration:1,ease:"easeOut"}})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("span",{className:`text-sm font-bold ${t>=50?"text-red-400":"text-emerald-400"}`,children:[t,"%"]})})]})},Zz=({opponent:t,onClick:e,isSelected:n})=>{const s=Al[t.threatLevel]||Al.medium,l=t.debates?.total>0?Math.round(t.debates.wins/t.debates.total*100):0;return a.jsxs(F.div,{variants:Xz,whileHover:{scale:1.02,y:-4},whileTap:{scale:.98},onClick:e,className:`relative group cursor-pointer ${n?"ring-2 ring-cyan-500":""}`,children:[a.jsx("div",{className:`absolute -inset-1 bg-gradient-to-r ${t.threatLevel==="high"?"from-red-500/20 to-orange-500/20":t.threatLevel==="medium"?"from-amber-500/20 to-yellow-500/20":"from-emerald-500/20 to-teal-500/20"} rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-all duration-500`}),a.jsxs("div",{className:"relative p-5 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/80 to-slate-950/80 backdrop-blur-sm hover:border-slate-700/60 transition-all overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-white/5 to-transparent rounded-full -translate-y-1/2 translate-x-1/2"}),a.jsxs("div",{className:"relative flex items-start gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:`w-14 h-14 rounded-xl bg-gradient-to-br ${t.threatLevel==="high"?"from-red-500/30 to-orange-600/30":t.threatLevel==="medium"?"from-amber-500/30 to-yellow-600/30":"from-emerald-500/30 to-teal-600/30"} flex items-center justify-center text-2xl font-bold text-white border ${s.bgClass}`,children:t.name?.[0]?.toUpperCase()||"?"}),a.jsx(F.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full ${t.threatLevel==="high"?"bg-red-500":t.threatLevel==="medium"?"bg-amber-500":"bg-emerald-500"} border-2 border-slate-900`})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-semibold text-lg truncate group-hover:text-cyan-400 transition-colors",children:t.name}),a.jsx("p",{className:"text-slate-500 text-sm",children:t.school||"Unknown School"})]}),a.jsx(dS,{level:t.threatLevel,size:"sm"})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400 text-sm",children:[a.jsx(AA,{className:"w-4 h-4"}),a.jsxs("span",{children:[t.debates?.total||0," debates"]})]}),a.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[a.jsx(on,{className:l>=50?"w-4 h-4 text-red-400":"w-4 h-4 text-emerald-400"}),a.jsxs("span",{className:l>=50?"text-red-400":"text-emerald-400",children:[t.debates?.wins||0,"W - ",t.debates?.losses||0,"L"]})]})]}),(t.strengths?.length>0||t.weaknesses?.length>0)&&a.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[t.strengths?.slice(0,2).map((o,c)=>a.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs bg-red-500/10 text-red-400 border border-red-500/20",children:[" ",o]},c)),t.weaknesses?.slice(0,2).map((o,c)=>a.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",children:[" ",o]},c))]})]}),a.jsx("div",{className:"hidden sm:block",children:a.jsx(Jz,{winRate:l})})]}),a.jsx(Nn,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-600 group-hover:text-slate-400 group-hover:translate-x-1 transition-all"})]})]})},eF=({opponent:t,onClose:e,onGenerateStrategy:n})=>{const[s,l]=A.useState("overview"),[o,c]=A.useState(!1);if(!t)return null;const h=Al[t.threatLevel]||Al.medium;t.debates?.total>0&&Math.round(t.debates.wins/t.debates.total*100);const m=async()=>{c(!0),await n?.(t),c(!1)};return a.jsxs(F.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"h-full overflow-hidden rounded-2xl border border-slate-800/60 bg-gradient-to-b from-slate-900/95 to-slate-950/95 backdrop-blur-xl",children:[a.jsxs("div",{className:"relative p-6 border-b border-slate-800 overflow-hidden",children:[a.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${t.threatLevel==="high"?"from-red-500/10 via-transparent to-orange-500/5":t.threatLevel==="medium"?"from-amber-500/10 via-transparent to-yellow-500/5":"from-emerald-500/10 via-transparent to-teal-500/5"}`}),a.jsxs("div",{className:"relative flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${t.threatLevel==="high"?"from-red-500/30 to-orange-600/30":t.threatLevel==="medium"?"from-amber-500/30 to-yellow-600/30":"from-emerald-500/30 to-teal-600/30"} flex items-center justify-center text-3xl font-bold text-white border ${h.bgClass}`,children:t.name?.[0]?.toUpperCase()||"?"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:t.name}),a.jsx("p",{className:"text-slate-400",children:t.school||"Unknown School"}),a.jsx(dS,{level:t.threatLevel,size:"md"})]})]}),a.jsx(F.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:e,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:a.jsx(ls,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"flex items-center gap-2 p-4 border-b border-slate-800/50",children:[{id:"overview",label:"Overview",icon:Qn},{id:"history",label:"History",icon:Dn},{id:"strategy",label:"Strategy",icon:yl}].map(f=>a.jsxs(F.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l(f.id),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium transition-all ${s===f.id?"bg-slate-800 text-white":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,children:[a.jsx(f.icon,{className:"w-4 h-4"}),f.label]},f.id))}),a.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(100%-200px)] space-y-6",children:[s==="overview"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-800/50 text-center",children:[a.jsx("p",{className:"text-3xl font-bold text-white",children:t.debates?.total||0}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Total Debates"})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 text-center",children:[a.jsx("p",{className:"text-3xl font-bold text-red-400",children:t.debates?.wins||0}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Your Losses"})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-emerald-500/10 border border-emerald-500/20 text-center",children:[a.jsx("p",{className:"text-3xl font-bold text-emerald-400",children:t.debates?.losses||0}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Your Wins"})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[a.jsx(mi,{className:"w-5 h-5 text-red-400"}),"Opponent Strengths"]}),a.jsx("div",{className:"space-y-2",children:t.strengths?.length>0?t.strengths.map((f,x)=>a.jsxs(F.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:x*.1},className:"flex items-center gap-3 p-3 rounded-xl bg-red-500/5 border border-red-500/20",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),a.jsx("span",{className:"text-slate-300",children:f})]},x)):a.jsx("p",{className:"text-slate-500 italic",children:"No strengths recorded yet"})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[a.jsx(Ot,{className:"w-5 h-5 text-emerald-400"}),"Opponent Weaknesses"]}),a.jsx("div",{className:"space-y-2",children:t.weaknesses?.length>0?t.weaknesses.map((f,x)=>a.jsxs(F.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:x*.1},className:"flex items-center gap-3 p-3 rounded-xl bg-emerald-500/5 border border-emerald-500/20",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),a.jsx("span",{className:"text-slate-300",children:f})]},x)):a.jsx("p",{className:"text-slate-500 italic",children:"No weaknesses recorded yet"})})]}),t.commonArguments?.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[a.jsx(rs,{className:"w-5 h-5 text-cyan-400"}),"Common Arguments"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:t.commonArguments.map((f,x)=>a.jsx("span",{className:"px-3 py-1.5 rounded-full text-sm bg-cyan-500/10 text-cyan-400 border border-cyan-500/20",children:f},x))})]})]}),s==="history"&&a.jsx("div",{className:"space-y-4",children:t.debateHistory?.length>0?t.debateHistory.map((f,x)=>a.jsxs(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:x*.05},className:"flex items-center gap-4 p-4 rounded-xl bg-slate-800/30 border border-slate-800/50",children:[a.jsx("div",{className:`w-2 h-12 rounded-full ${f.result==="win"?"bg-emerald-500":"bg-red-500"}`}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-white font-medium",children:f.tournament}),a.jsxs("p",{className:"text-slate-500 text-sm",children:[f.round,"  ",f.date]})]}),a.jsx("span",{className:`px-3 py-1 rounded-lg text-sm font-medium ${f.result==="win"?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-400"}`,children:f.result==="win"?"Won":"Lost"})]},x)):a.jsx("p",{className:"text-slate-500 text-center py-8",children:"No debate history recorded"})}),s==="strategy"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx(F.button,{whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(168, 85, 247, 0.3)"},whileTap:{scale:.98},onClick:m,disabled:o,className:"w-full py-4 rounded-xl bg-gradient-to-r from-purple-500 to-pink-600 text-white font-semibold shadow-lg shadow-purple-500/25 flex items-center justify-center gap-3 disabled:opacity-50",children:o?a.jsxs(a.Fragment,{children:[a.jsx(F.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:a.jsx(Fs,{className:"w-5 h-5"})}),"Generating AI Strategy..."]}):a.jsxs(a.Fragment,{children:[a.jsx(yl,{className:"w-5 h-5"}),"Generate AI Counter-Strategy",a.jsx(Fs,{className:"w-5 h-5"})]})}),t.counterStrategies?.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-white font-semibold flex items-center gap-2",children:[a.jsx(sd,{className:"w-5 h-5 text-purple-400"}),"Counter-Strategies"]}),t.counterStrategies.map((f,x)=>a.jsx(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-purple-500/5 border border-purple-500/20",children:a.jsx("p",{className:"text-slate-300",children:f})},x))]})]})]})]})},tF=({isOpen:t,onClose:e,onSave:n})=>{const[s,l]=A.useState({name:"",school:"",threatLevel:"medium",strengths:"",weaknesses:"",commonArguments:"",notes:""});if(!t)return null;const o=c=>{c.preventDefault(),n({...s,strengths:s.strengths.split(",").map(h=>h.trim()).filter(Boolean),weaknesses:s.weaknesses.split(",").map(h=>h.trim()).filter(Boolean),commonArguments:s.commonArguments.split(",").map(h=>h.trim()).filter(Boolean),debates:{total:0,wins:0,losses:0}}),e()};return a.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:c=>c.target===c.currentTarget&&e(),children:a.jsxs(F.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},className:"w-full max-w-lg bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-800 rounded-3xl shadow-2xl max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"relative p-6 border-b border-slate-800 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/10 via-transparent to-amber-500/10"}),a.jsxs("div",{className:"relative flex items-center justify-between",children:[a.jsx("div",{children:a.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-xl bg-red-500/10 border border-red-500/30",children:a.jsx(Ot,{className:"w-5 h-5 text-red-400"})}),"Add Opponent"]})}),a.jsx(F.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:e,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:a.jsx(ls,{className:"w-5 h-5"})})]})]}),a.jsxs("form",{onSubmit:o,className:"p-6 space-y-5 overflow-y-auto max-h-[calc(90vh-140px)]",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Name *"}),a.jsx("input",{type:"text",value:s.name,onChange:c=>l({...s,name:c.target.value}),className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"School"}),a.jsx("input",{type:"text",value:s.school,onChange:c=>l({...s,school:c.target.value}),className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Threat Level"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:Object.entries(Al).map(([c,h])=>a.jsxs(F.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l({...s,threatLevel:c}),className:`p-3 rounded-xl border-2 transition-all text-center ${s.threatLevel===c?`${h.bgClass} border-current ${h.textClass}`:"bg-slate-800/30 border-slate-700 text-slate-400 hover:border-slate-600"}`,children:[a.jsx(h.icon,{className:`w-6 h-6 mx-auto mb-1 ${s.threatLevel===c?h.textClass:""}`}),a.jsx("span",{className:"text-sm font-medium",children:h.label.split(" ")[0]})]},c))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Strengths (comma-separated)"}),a.jsx("input",{type:"text",value:s.strengths,onChange:c=>l({...s,strengths:c.target.value}),placeholder:"e.g., Strong rebuttals, Fast speaking, Good evidence",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Weaknesses (comma-separated)"}),a.jsx("input",{type:"text",value:s.weaknesses,onChange:c=>l({...s,weaknesses:c.target.value}),placeholder:"e.g., Weak on CX, Poor time management",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Notes"}),a.jsx("textarea",{value:s.notes,onChange:c=>l({...s,notes:c.target.value}),placeholder:"Any additional observations...",rows:3,className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all resize-none"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-800",children:[a.jsx(F.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"px-6 py-3 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:"Cancel"}),a.jsx(F.button,{type:"submit",whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(239, 68, 68, 0.3)"},whileTap:{scale:.98},className:"px-8 py-3 rounded-xl bg-gradient-to-r from-red-500 to-orange-600 text-white font-semibold shadow-lg shadow-red-500/25",children:"Add Opponent"})]})]})]})})},nF=({apiKey:t})=>{const{user:e}=Mn(),{opponents:n,loading:s,saveOpponent:l,generateCounterStrategy:o}=Iz(),[c,h]=A.useState(!1),[m,f]=A.useState(null),[x,y]=A.useState(""),[v,w]=A.useState("all"),S=A.useMemo(()=>(n||[]).filter(I=>{const z=I.name?.toLowerCase().includes(x.toLowerCase())||I.school?.toLowerCase().includes(x.toLowerCase()),L=v==="all"||I.threatLevel===v;return z&&L}),[n,x,v]),U=async I=>{await l(I)};return a.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"h-full",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-red-500/20 to-orange-600/20 border border-red-500/30",children:a.jsx(Ot,{className:"w-7 h-7 text-red-400"})}),"Opponent Intelligence"]}),a.jsx("p",{className:"text-slate-400 mt-2",children:"Track, analyze, and prepare for your competition"})]}),a.jsxs(F.button,{whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(239, 68, 68, 0.3)"},whileTap:{scale:.98},onClick:()=>h(!0),className:"px-5 py-2.5 rounded-xl bg-gradient-to-r from-red-500 to-orange-600 text-white font-medium shadow-lg shadow-red-500/25 flex items-center gap-2",children:[a.jsx(hn,{className:"w-5 h-5"}),"Add Opponent"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(vl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),a.jsx("input",{type:"text",value:x,onChange:I=>y(I.target.value),placeholder:"Search opponents...",className:"w-full pl-12 pr-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),a.jsx("div",{className:"flex items-center gap-2 p-1 bg-slate-900/50 rounded-xl border border-slate-800/50",children:[{id:"all",label:"All"},{id:"high",label:"High",color:"text-red-400"},{id:"medium",label:"Medium",color:"text-amber-400"},{id:"low",label:"Low",color:"text-emerald-400"}].map(I=>a.jsx("button",{onClick:()=>w(I.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${v===I.id?"bg-slate-800 text-white":`text-slate-400 hover:text-white ${I.color||""}`}`,children:I.label},I.id))})]}),s?a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[...Array(4)].map((I,z)=>a.jsx("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 animate-pulse",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-14 h-14 rounded-xl bg-slate-800"}),a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsx("div",{className:"h-5 w-32 bg-slate-800 rounded"}),a.jsx("div",{className:"h-4 w-24 bg-slate-800 rounded"}),a.jsx("div",{className:"h-3 w-full bg-slate-800 rounded"})]})]})},z))}):S.length===0?a.jsx("div",{className:"p-8 rounded-3xl border border-slate-800/60 bg-gradient-to-b from-slate-900/50 to-slate-950/50",children:a.jsx(Wz,{onAdd:()=>h(!0)})}):a.jsxs("div",{className:"grid lg:grid-cols-5 gap-6",children:[a.jsx(F.div,{variants:Kz,initial:"hidden",animate:"visible",className:`${m?"lg:col-span-3":"lg:col-span-5"} space-y-4`,children:a.jsx("div",{className:`grid ${m?"grid-cols-1":"md:grid-cols-2"} gap-4`,children:S.map(I=>a.jsx(Zz,{opponent:I,onClick:()=>f(I),isSelected:m?.id===I.id},I.id))})}),a.jsx(ot,{children:m&&a.jsx("div",{className:"lg:col-span-2",children:a.jsx(eF,{opponent:m,onClose:()=>f(null),onGenerateStrategy:o})})})]})]}),a.jsx(ot,{children:c&&a.jsx(tF,{isOpen:c,onClose:()=>h(!1),onSave:U})})]})},sF={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.06}}},aF={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.3}}},Oy=({rating:t,onChange:e,readonly:n=!0,size:s="md"})=>{const[l,o]=A.useState(0),c={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return a.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(h=>{const m=(l||t)>=h;return a.jsx(F.button,{type:"button",disabled:n,onClick:()=>!n&&e?.(h),onMouseEnter:()=>!n&&o(h),onMouseLeave:()=>o(0),whileHover:n?{}:{scale:1.2},whileTap:n?{}:{scale:.9},className:n?"cursor-default":"cursor-pointer",children:a.jsx(Bn,{className:`${c[s]} transition-colors ${m?"text-amber-400 fill-amber-400":"text-slate-700"}`})},h)})})},hS=({label:t,color:e="slate",onRemove:n,onClick:s})=>{const l={slate:"bg-slate-800 text-slate-300 hover:bg-slate-700 border-slate-700",cyan:"bg-cyan-500/10 text-cyan-400 hover:bg-cyan-500/20 border-cyan-500/30",emerald:"bg-emerald-500/10 text-emerald-400 hover:bg-emerald-500/20 border-emerald-500/30",purple:"bg-purple-500/10 text-purple-400 hover:bg-purple-500/20 border-purple-500/30",amber:"bg-amber-500/10 text-amber-400 hover:bg-amber-500/20 border-amber-500/30",red:"bg-red-500/10 text-red-400 hover:bg-red-500/20 border-red-500/30",blue:"bg-blue-500/10 text-blue-400 hover:bg-blue-500/20 border-blue-500/30"};return a.jsxs(F.span,{layout:!0,initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},whileHover:{scale:1.05},onClick:s,className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium border ${l[e]} transition-colors cursor-pointer`,children:[a.jsx(gx,{className:"w-3 h-3"}),t,n&&a.jsx("button",{onClick:o=>{o.stopPropagation(),n()},className:"ml-0.5 hover:text-white transition-colors",children:""})]})},rF=({onAdd:t})=>a.jsxs(F.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-20",children:[a.jsxs("div",{className:"relative inline-block mb-8",children:[a.jsx(F.div,{animate:{scale:[1,1.2,1],opacity:[.3,.1,.3]},transition:{duration:3,repeat:1/0},className:"absolute inset-0 w-32 h-32 rounded-full bg-cyan-500/20 blur-xl"}),a.jsx(F.div,{animate:{scale:[1,1.3,1],opacity:[.2,.05,.2]},transition:{duration:3,repeat:1/0,delay:.5},className:"absolute inset-0 w-32 h-32 rounded-full bg-blue-500/20 blur-xl"}),a.jsxs(F.div,{animate:{y:[0,-5,0]},transition:{duration:3,repeat:1/0},className:"relative p-6 rounded-3xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-slate-700/50 backdrop-blur-xl shadow-2xl",children:[a.jsx(yr,{className:"w-16 h-16 text-cyan-400"}),a.jsx(F.div,{animate:{rotate:[0,10,0,-10,0]},transition:{duration:4,repeat:1/0},className:"absolute -top-2 -right-2",children:a.jsx(Fs,{className:"w-6 h-6 text-amber-400"})})]})]}),a.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Build Your Evidence Arsenal"}),a.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-8 leading-relaxed",children:"Store your best cards, organize by topic, and access them instantly during rounds. Quality evidence wins debates."}),a.jsxs(F.button,{whileHover:{scale:1.05,boxShadow:"0 20px 40px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},onClick:t,className:"px-8 py-4 rounded-2xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold text-lg shadow-lg shadow-cyan-500/25 inline-flex items-center gap-3",children:[a.jsx(hn,{className:"w-5 h-5"}),"Add Your First Card",a.jsx(Nn,{className:"w-5 h-5"})]})]}),iF=({evidence:t,onClick:e,onCopy:n,isExpanded:s})=>{const[l,o]=A.useState(!1),[c,h]=A.useState(!1),m=x=>{x.stopPropagation(),navigator.clipboard.writeText(t.content),o(!0),setTimeout(()=>o(!1),2e3),n?.()},f=["cyan","purple","emerald","amber","blue","red"];return a.jsxs(F.div,{variants:aF,whileHover:{scale:1.01,y:-4},onClick:e,className:"relative group cursor-pointer",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/10 via-blue-500/10 to-purple-500/10 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-all duration-500"}),a.jsxs("div",{className:"relative p-5 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/80 to-slate-950/80 backdrop-blur-sm hover:border-slate-700/60 transition-all overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-cyan-500/5 to-transparent rounded-full -translate-y-1/2 translate-x-1/2"}),a.jsxs("div",{className:"relative flex items-start justify-between gap-3 mb-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-white font-semibold text-lg truncate group-hover:text-cyan-400 transition-colors",children:t.title}),a.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-slate-500",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(rd,{className:"w-3.5 h-3.5"}),t.author||"Unknown"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(pr,{className:"w-3.5 h-3.5"}),t.year||"N/A"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Oy,{rating:t.quality||3,size:"sm"}),a.jsx("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(F.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:m,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:l?a.jsx(sa,{className:"w-4 h-4 text-emerald-400"}):a.jsx(oa,{className:"w-4 h-4"})})})]})]}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 rounded-full bg-gradient-to-b from-cyan-500 to-blue-600"}),a.jsxs("p",{className:"pl-4 text-slate-400 text-sm line-clamp-3 leading-relaxed italic",children:['"',t.content,'"']})]}),t.source&&a.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm",children:[a.jsx(sf,{className:"w-4 h-4 text-slate-500"}),a.jsx("span",{className:"text-slate-500 truncate",children:t.source})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.tags?.slice(0,4).map((x,y)=>a.jsx(hS,{label:x,color:f[y%f.length]},x)),t.tags?.length>4&&a.jsxs("span",{className:"text-xs text-slate-500 self-center",children:["+",t.tags.length-4," more"]})]}),a.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-slate-800/50",children:[a.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(rs,{className:"w-3.5 h-3.5"}),"Used ",t.usageCount||0," times"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Dn,{className:"w-3.5 h-3.5"}),t.lastUsed?new Date(t.lastUsed).toLocaleDateString():"Never"]})]}),t.bookmarked&&a.jsx(yT,{className:"w-4 h-4 text-amber-400"})]}),a.jsx(Nn,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-600 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]})]})},lF=({evidence:t,format:e="mla"})=>{const[n,s]=A.useState(!1),l=()=>{const{author:c,title:h,source:m,year:f,url:x}=t;switch(e){case"mla":return`${c||"Unknown"}. "${h}." ${m||"N/A"}, ${f||"n.d."}.`;case"apa":return`${c||"Unknown"}. (${f||"n.d."}) ${h}. ${m||"N/A"}.`;case"chicago":return`${c||"Unknown"}. "${h}." ${m||"N/A"} (${f||"n.d."}).`;default:return`${c||"Unknown"} - ${h} (${f||"n.d."})`}},o=()=>{navigator.clipboard.writeText(l()),s(!0),setTimeout(()=>s(!1),2e3)};return a.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/50 border border-slate-700",children:[a.jsx("p",{className:"text-slate-300 text-sm font-mono",children:l()}),a.jsxs(F.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:o,className:"mt-3 px-4 py-2 rounded-lg bg-slate-700 text-white text-sm font-medium hover:bg-slate-600 transition-colors flex items-center gap-2",children:[n?a.jsx(sa,{className:"w-4 h-4 text-emerald-400"}):a.jsx(oa,{className:"w-4 h-4"}),n?"Copied!":"Copy Citation"]})]})},oF=({evidence:t,isOpen:e,onClose:n,onEdit:s,onDelete:l})=>{const[o,c]=A.useState("mla"),[h,m]=A.useState(!1);if(!e||!t)return null;const f=()=>{navigator.clipboard.writeText(t.content),m(!0),setTimeout(()=>m(!1),2e3)};return a.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:x=>x.target===x.currentTarget&&n(),children:a.jsxs(F.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},className:"w-full max-w-3xl bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-800 rounded-3xl shadow-2xl max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"relative p-6 border-b border-slate-800 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 via-transparent to-blue-500/10"}),a.jsxs("div",{className:"relative flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:t.title}),a.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[a.jsxs("span",{className:"text-slate-400 flex items-center gap-1.5",children:[a.jsx(rd,{className:"w-4 h-4"}),t.author||"Unknown"]}),a.jsxs("span",{className:"text-slate-400 flex items-center gap-1.5",children:[a.jsx(pr,{className:"w-4 h-4"}),t.year||"N/A"]}),a.jsx(Oy,{rating:t.quality||3})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(F.button,{whileHover:{scale:1.1},onClick:s,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:a.jsx(td,{className:"w-5 h-5"})}),a.jsx(F.button,{whileHover:{scale:1.1,rotate:90},onClick:n,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:a.jsx(ls,{className:"w-5 h-5"})})]})]})]}),a.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)] space-y-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h3",{className:"text-white font-semibold flex items-center gap-2",children:[a.jsx(oA,{className:"w-5 h-5 text-cyan-400"}),"Evidence Content"]}),a.jsxs(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,className:"px-3 py-1.5 rounded-lg bg-slate-800 text-slate-300 text-sm font-medium hover:bg-slate-700 transition-colors flex items-center gap-2",children:[h?a.jsx(sa,{className:"w-4 h-4 text-emerald-400"}):a.jsx(oa,{className:"w-4 h-4"}),h?"Copied!":"Copy"]})]}),a.jsxs("div",{className:"relative p-5 rounded-xl bg-slate-800/30 border border-slate-800/50",children:[a.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 rounded-full bg-gradient-to-b from-cyan-500 to-blue-600"}),a.jsx("p",{className:"pl-4 text-slate-300 leading-relaxed whitespace-pre-wrap",children:t.content})]})]}),t.source&&a.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-slate-800/30 border border-slate-800/50",children:[a.jsx(sf,{className:"w-5 h-5 text-slate-500"}),a.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-colors flex items-center gap-2",children:[t.source,a.jsx(lj,{className:"w-4 h-4"})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[a.jsx(gx,{className:"w-5 h-5 text-purple-400"}),"Tags"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags?.map((x,y)=>a.jsx(hS,{label:x,color:["cyan","purple","emerald","amber","blue"][y%5]},x))})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[a.jsx(rs,{className:"w-5 h-5 text-amber-400"}),"Citation"]}),a.jsx("div",{className:"flex items-center gap-2 mb-3",children:["mla","apa","chicago"].map(x=>a.jsx("button",{onClick:()=>c(x),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${o===x?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-slate-800 text-slate-400 hover:text-white"}`,children:x.toUpperCase()},x))}),a.jsx(lF,{evidence:t,format:o})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-white",children:t.usageCount||0}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Times Used"})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-white",children:t.quality||0}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Quality Rating"})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-white",children:t.lastUsed?new Date(t.lastUsed).toLocaleDateString():"Never"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Last Used"})]})]})]})]})})},cF=({isOpen:t,onClose:e,onSave:n})=>{const[s,l]=A.useState({title:"",author:"",year:"",source:"",url:"",content:"",tags:"",quality:3});if(!t)return null;const o=c=>{c.preventDefault(),n({...s,tags:s.tags.split(",").map(h=>h.trim()).filter(Boolean),usageCount:0,createdAt:new Date().toISOString()}),e(),l({title:"",author:"",year:"",source:"",url:"",content:"",tags:"",quality:3})};return a.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:c=>c.target===c.currentTarget&&e(),children:a.jsxs(F.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},className:"w-full max-w-2xl bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-800 rounded-3xl shadow-2xl max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"relative p-6 border-b border-slate-800 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 via-transparent to-blue-500/10"}),a.jsxs("div",{className:"relative flex items-center justify-between",children:[a.jsx("div",{children:a.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-xl bg-cyan-500/10 border border-cyan-500/30",children:a.jsx(yr,{className:"w-5 h-5 text-cyan-400"})}),"Add Evidence Card"]})}),a.jsx(F.button,{whileHover:{scale:1.1,rotate:90},onClick:e,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:a.jsx(ls,{className:"w-5 h-5"})})]})]}),a.jsxs("form",{onSubmit:o,className:"p-6 space-y-5 overflow-y-auto max-h-[calc(90vh-140px)]",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Card Title *"}),a.jsx("input",{type:"text",value:s.title,onChange:c=>l({...s,title:c.target.value}),placeholder:"e.g., Climate Change Impact on Economy",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Author"}),a.jsx("input",{type:"text",value:s.author,onChange:c=>l({...s,author:c.target.value}),placeholder:"Author name",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Year"}),a.jsx("input",{type:"text",value:s.year,onChange:c=>l({...s,year:c.target.value}),placeholder:"2024",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Quality"}),a.jsx("div",{className:"pt-2",children:a.jsx(Oy,{rating:s.quality,onChange:c=>l({...s,quality:c}),readonly:!1})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Source / Publication"}),a.jsx("input",{type:"text",value:s.source,onChange:c=>l({...s,source:c.target.value}),placeholder:"e.g., The New York Times, Nature Journal",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"URL (optional)"}),a.jsx("input",{type:"url",value:s.url,onChange:c=>l({...s,url:c.target.value}),placeholder:"https://...",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Evidence Content *"}),a.jsx("textarea",{value:s.content,onChange:c=>l({...s,content:c.target.value}),placeholder:"Paste your evidence card content here...",rows:5,className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all resize-none",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Tags (comma-separated)"}),a.jsx("input",{type:"text",value:s.tags,onChange:c=>l({...s,tags:c.target.value}),placeholder:"e.g., climate, economy, impact, 2024",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-800",children:[a.jsx(F.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"px-6 py-3 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:"Cancel"}),a.jsx(F.button,{type:"submit",whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},className:"px-8 py-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold shadow-lg shadow-cyan-500/25",children:"Add Evidence"})]})]})]})})},uF=({apiKey:t})=>{const{user:e}=Mn(),{evidence:n,loading:s,saveEvidence:l,deleteEvidence:o}=Rz(),[c,h]=A.useState(!1),[m,f]=A.useState(null),[x,y]=A.useState(""),[v,w]=A.useState("all"),[S,U]=A.useState("recent"),I=A.useMemo(()=>{const L=new Set;return n?.forEach(q=>q.tags?.forEach(K=>L.add(K))),Array.from(L)},[n]),z=A.useMemo(()=>{let L=[...n||[]];if(x){const q=x.toLowerCase();L=L.filter(K=>K.title?.toLowerCase().includes(q)||K.content?.toLowerCase().includes(q)||K.author?.toLowerCase().includes(q)||K.tags?.some(se=>se.toLowerCase().includes(q)))}switch(v!=="all"&&(L=L.filter(q=>q.tags?.includes(v))),S){case"recent":L.sort((q,K)=>new Date(K.createdAt)-new Date(q.createdAt));break;case"quality":L.sort((q,K)=>(K.quality||0)-(q.quality||0));break;case"usage":L.sort((q,K)=>(K.usageCount||0)-(q.usageCount||0));break;case"alpha":L.sort((q,K)=>q.title?.localeCompare(K.title));break}return L},[n,x,v,S]);return a.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-600/20 border border-cyan-500/30",children:a.jsx(yr,{className:"w-7 h-7 text-cyan-400"})}),"Evidence Library"]}),a.jsxs("p",{className:"text-slate-400 mt-2",children:[n?.length||0," cards  Organize and access your research instantly"]})]}),a.jsxs(F.button,{whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},onClick:()=>h(!0),className:"px-5 py-2.5 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-medium shadow-lg shadow-cyan-500/25 flex items-center gap-2",children:[a.jsx(hn,{className:"w-5 h-5"}),"Add Card"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(vl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),a.jsx("input",{type:"text",value:x,onChange:L=>y(L.target.value),placeholder:"Search evidence...",className:"w-full pl-12 pr-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),a.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[a.jsxs("select",{value:v,onChange:L=>w(L.target.value),className:"px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none transition-all",children:[a.jsx("option",{value:"all",children:"All Tags"}),I.map(L=>a.jsx("option",{value:L,children:L},L))]}),a.jsxs("select",{value:S,onChange:L=>U(L.target.value),className:"px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none transition-all",children:[a.jsx("option",{value:"recent",children:"Most Recent"}),a.jsx("option",{value:"quality",children:"Highest Quality"}),a.jsx("option",{value:"usage",children:"Most Used"}),a.jsx("option",{value:"alpha",children:"Alphabetical"})]})]})]}),s?a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[...Array(4)].map((L,q)=>a.jsx("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-slate-900/30 animate-pulse",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-5 w-3/4 bg-slate-800 rounded"}),a.jsx("div",{className:"h-4 w-1/2 bg-slate-800 rounded"}),a.jsx("div",{className:"h-20 bg-slate-800 rounded"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"h-6 w-16 bg-slate-800 rounded-full"}),a.jsx("div",{className:"h-6 w-16 bg-slate-800 rounded-full"})]})]})},q))}):z.length===0?a.jsx("div",{className:"p-8 rounded-3xl border border-slate-800/60 bg-gradient-to-b from-slate-900/50 to-slate-950/50",children:n?.length===0?a.jsx(rF,{onAdd:()=>h(!0)}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(vl,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Results Found"}),a.jsx("p",{className:"text-slate-400",children:"Try adjusting your search or filters"})]})}):a.jsx(F.div,{variants:sF,initial:"hidden",animate:"visible",className:"grid md:grid-cols-2 gap-4",children:z.map(L=>a.jsx(iF,{evidence:L,onClick:()=>f(L)},L.id))})]}),a.jsx(ot,{children:c&&a.jsx(cF,{isOpen:c,onClose:()=>h(!1),onSave:l})}),a.jsx(ot,{children:m&&a.jsx(oF,{evidence:m,isOpen:!!m,onClose:()=>f(null),onEdit:()=>{},onDelete:()=>o(m.id)})})]})},yu=["gemini-2.0-flash-exp","gemini-1.5-flash"];async function dF(t,e,n=[]){for(const s of yu)try{const l=[{text:e}];n.length>0&&n.forEach(h=>{h.base64&&l.push({inline_data:{mime_type:h.mimeType||"image/jpeg",data:h.base64}})});const o=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${s}:generateContent?key=${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:l}]})});if(!o.ok){const h=await o.json().catch(()=>({}));if(s===yu[yu.length-1])throw new Error(`Gemini API Error: ${h.error?.message||o.statusText}`);continue}return(await o.json()).candidates?.[0]?.content?.parts?.[0]?.text||""}catch(l){if(s===yu[yu.length-1])throw l}}const hF=({show:t})=>t?a.jsx("div",{className:"fixed inset-0 pointer-events-none z-[60]",children:[...Array(50)].map((e,n)=>a.jsx(F.div,{initial:{opacity:1,y:-20,x:Math.random()*window.innerWidth,rotate:0,scale:1},animate:{opacity:0,y:window.innerHeight+100,rotate:720,scale:.5},transition:{duration:3+Math.random()*2,delay:Math.random()*.5,ease:"easeOut"},className:"absolute",style:{width:10+Math.random()*10,height:10+Math.random()*10,background:["#22d3ee","#a855f7","#f97316","#22c55e","#eab308"][Math.floor(Math.random()*5)],borderRadius:Math.random()>.5?"50%":"2px"}},n))}):null,mS=({progress:t,size:e=200,strokeWidth:n=8,color:s="cyan",children:l})=>{const o=(e-n)/2,c=o*2*Math.PI,h=c-t/100*c,m={cyan:{stroke:"stroke-cyan-400",glow:"drop-shadow-[0_0_15px_rgba(34,211,238,0.6)]"},purple:{stroke:"stroke-purple-400",glow:"drop-shadow-[0_0_15px_rgba(168,85,247,0.6)]"},orange:{stroke:"stroke-orange-400",glow:"drop-shadow-[0_0_15px_rgba(251,146,60,0.6)]"},emerald:{stroke:"stroke-emerald-400",glow:"drop-shadow-[0_0_15px_rgba(52,211,153,0.6)]"},amber:{stroke:"stroke-amber-400",glow:"drop-shadow-[0_0_15px_rgba(251,191,36,0.6)]"},red:{stroke:"stroke-red-400",glow:"drop-shadow-[0_0_15px_rgba(248,113,113,0.6)]"}},f=m[s]||m.cyan;return a.jsxs("div",{className:"relative",style:{width:e,height:e},children:[a.jsxs("svg",{className:`transform -rotate-90 ${f.glow}`,width:e,height:e,children:[a.jsx("circle",{cx:e/2,cy:e/2,r:o,stroke:"currentColor",strokeWidth:n,fill:"none",className:"text-slate-800/60"}),a.jsx(F.circle,{cx:e/2,cy:e/2,r:o,stroke:"currentColor",strokeWidth:n,fill:"none",strokeLinecap:"round",className:f.stroke,initial:{strokeDashoffset:c},animate:{strokeDashoffset:h},transition:{duration:.5,ease:"easeOut"},style:{strokeDasharray:c}})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l})]})},mF=({isActive:t,color:e="red"})=>a.jsxs("div",{className:"relative flex items-center justify-center",children:[t&&a.jsxs(a.Fragment,{children:[a.jsx(F.div,{animate:{scale:[1,1.5,1],opacity:[.5,0,.5]},transition:{duration:1.5,repeat:1/0},className:`absolute w-4 h-4 rounded-full bg-${e}-500`}),a.jsx(F.div,{animate:{scale:[1,2,1],opacity:[.3,0,.3]},transition:{duration:1.5,repeat:1/0,delay:.2},className:`absolute w-4 h-4 rounded-full bg-${e}-500`})]}),a.jsx(F.div,{animate:t?{scale:[1,1.1,1]}:{},transition:{duration:.5,repeat:1/0},className:`w-4 h-4 rounded-full ${t?`bg-${e}-500`:"bg-slate-600"}`})]}),fF=({className:t=""})=>a.jsx("div",{className:`animate-pulse bg-gradient-to-r from-slate-800/50 via-slate-700/50 to-slate-800/50 rounded-xl ${t}`}),pF=({value:t,duration:e=1e3})=>{const[n,s]=A.useState(0);return A.useEffect(()=>{if(typeof t!="number")return;let l;const o=c=>{l||(l=c);const h=Math.min((c-l)/e,1);s(Math.floor(h*t)),h<1&&requestAnimationFrame(o)};requestAnimationFrame(o)},[t,e]),a.jsx("span",{children:n})},rm=[{id:"timed-response",name:"Timed Response",description:"Practice speaking for set durations",icon:Dn,color:"cyan",gradient:"from-cyan-500/20 to-blue-500/20",borderGlow:"hover:shadow-[0_0_30px_rgba(34,211,238,0.15)]",durations:[30,60,120,180,240]},{id:"refutation",name:"Argument Refutation",description:"Counter arguments under pressure",icon:Ot,color:"purple",gradient:"from-purple-500/20 to-pink-500/20",borderGlow:"hover:shadow-[0_0_30px_rgba(168,85,247,0.15)]",durations:[30,60]},{id:"cross-ex",name:"Cross Examination",description:"Practice CX questions & answers",icon:Ii,color:"orange",gradient:"from-orange-500/20 to-amber-500/20",borderGlow:"hover:shadow-[0_0_30px_rgba(251,146,60,0.15)]",durations:[180]},{id:"impromptu",name:"Impromptu Topics",description:"Random topics, minimal prep",icon:pj,color:"emerald",gradient:"from-emerald-500/20 to-teal-500/20",borderGlow:"hover:shadow-[0_0_30px_rgba(52,211,153,0.15)]",durations:[120,180,300]}],gF={"timed-response":["Explain why education funding should be increased","Argue for or against social media regulation","Defend the importance of free speech on college campuses","Explain the benefits of renewable energy investment","Argue for or against universal basic income","Discuss the ethics of artificial intelligence","Defend the role of government in healthcare","Explain why immigration reform is necessary"],refutation:[{claim:"Minimum wage increases cause unemployment",side:"oppose"},{claim:"Climate change is the most pressing issue of our time",side:"oppose"},{claim:"Privacy should be sacrificed for national security",side:"oppose"},{claim:"Standardized testing improves education outcomes",side:"oppose"},{claim:"Social media companies should be liable for user content",side:"oppose"},{claim:"Universal healthcare would bankrupt the economy",side:"oppose"}],"cross-ex":[{topic:"Government surveillance",role:"questioner"},{topic:"Criminal justice reform",role:"questioner"},{topic:"Environmental regulations",role:"questioner"},{topic:"Free trade agreements",role:"answerer"},{topic:"Immigration policy",role:"answerer"}],impromptu:["Technology has made us more connected but less social","The pen is mightier than the sword","History repeats itself","Money can't buy happiness","Actions speak louder than words","The ends justify the means","Knowledge is power"]},xF=({onStart:t})=>a.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:[a.jsxs("div",{className:"relative w-32 h-32 mx-auto mb-8",children:[a.jsx(F.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute inset-0 rounded-full border-2 border-dashed border-slate-700"}),a.jsx(F.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"absolute inset-4 rounded-full bg-gradient-to-br from-cyan-500/20 to-purple-500/20 border border-cyan-500/30 flex items-center justify-center",children:a.jsx(Ot,{className:"w-12 h-12 text-cyan-400"})}),[0,1,2].map(e=>a.jsx(F.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear",delay:e*1},className:"absolute inset-0",style:{transformOrigin:"center center"},children:a.jsx("div",{className:"absolute w-3 h-3 rounded-full bg-cyan-400",style:{top:0,left:"50%",transform:"translateX(-50%)"}})},e))]}),a.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Ready to Level Up?"}),a.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-8 text-lg",children:"Sharpen your skills with timed drills, refutation practice, and cross-examination simulations."}),a.jsxs(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"group relative px-8 py-4 rounded-2xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-semibold shadow-lg shadow-cyan-500/25 hover:shadow-cyan-500/40 transition-all inline-flex items-center gap-3",children:[a.jsx(Ni,{className:"w-5 h-5"}),"Start Your First Drill",a.jsx(F.span,{animate:{x:[0,4,0]},transition:{duration:1,repeat:1/0},children:a.jsx(Nm,{className:"w-5 h-5"})})]})]}),im=({icon:t,label:e,value:n,color:s,suffix:l=""})=>{const o={cyan:"from-cyan-500/10 via-cyan-500/5 to-transparent border-cyan-500/20",purple:"from-purple-500/10 via-purple-500/5 to-transparent border-purple-500/20",orange:"from-orange-500/10 via-orange-500/5 to-transparent border-orange-500/20",emerald:"from-emerald-500/10 via-emerald-500/5 to-transparent border-emerald-500/20"},c={cyan:"text-cyan-400 bg-cyan-500/10",purple:"text-purple-400 bg-purple-500/10",orange:"text-orange-400 bg-orange-500/10",emerald:"text-emerald-400 bg-emerald-500/10"};return a.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-4,scale:1.02},className:`relative overflow-hidden p-5 rounded-2xl bg-gradient-to-br ${o[s]} border backdrop-blur-sm transition-all duration-300`,children:[a.jsx("div",{className:`absolute -top-10 -right-10 w-32 h-32 rounded-full bg-${s}-500/10 blur-3xl`}),a.jsxs("div",{className:"relative flex items-start gap-4",children:[a.jsx("div",{className:`p-3 rounded-xl ${c[s]}`,children:a.jsx(t,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsxs("p",{className:`text-2xl font-bold text-${s}-400`,children:[typeof n=="number"?a.jsx(pF,{value:n}):n,l]}),a.jsx("p",{className:"text-slate-400 text-sm mt-0.5",children:e})]})]})]})},yF=({drill:t,onSelect:e,index:n})=>{const s=t.icon;return a.jsxs(F.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},whileHover:{y:-8,scale:1.02},whileTap:{scale:.98},onClick:()=>e(t),className:`group relative w-full p-6 rounded-2xl border border-slate-800/60 bg-gradient-to-br ${t.gradient} backdrop-blur-sm hover:border-${t.color}-500/50 ${t.borderGlow} transition-all duration-500 text-left overflow-hidden`,children:[a.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:a.jsx(F.div,{animate:{rotate:360},transition:{duration:30,repeat:1/0,ease:"linear"},className:`absolute -top-20 -right-20 w-40 h-40 rounded-full bg-${t.color}-500/10 blur-2xl`})}),a.jsxs("div",{className:"relative",children:[a.jsx(F.div,{whileHover:{rotate:[0,-10,10,0],scale:1.1},transition:{duration:.5},className:`w-16 h-16 rounded-2xl bg-${t.color}-500/10 border border-${t.color}-500/30 flex items-center justify-center mb-5 group-hover:shadow-lg group-hover:shadow-${t.color}-500/20 transition-all`,children:a.jsx(s,{className:`w-8 h-8 text-${t.color}-400`})}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-${drill.color}-300 transition-colors",children:t.name}),a.jsx("p",{className:"text-slate-400 text-sm mb-5 line-clamp-2",children:t.description}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.durations.slice(0,3).map(l=>a.jsx("span",{className:`px-3 py-1.5 rounded-lg bg-slate-800/60 text-slate-300 text-xs font-medium border border-slate-700/50 group-hover:border-${t.color}-500/30 transition-colors`,children:l<60?`${l}s`:`${l/60}m`},l)),t.durations.length>3&&a.jsxs("span",{className:"text-slate-500 text-xs font-medium",children:["+",t.durations.length-3," more"]})]}),a.jsxs(F.div,{initial:{opacity:0,x:-10},whileHover:{opacity:1,x:0},className:`absolute top-6 right-6 flex items-center gap-2 text-${t.color}-400 text-sm font-medium`,children:["Start",a.jsx(Nn,{className:"w-4 h-4"})]})]})]})},bF=({drill:t,onSelect:e,onCancel:n})=>{const s=t.icon;return a.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",children:a.jsxs(F.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:`w-full max-w-md bg-gradient-to-br from-slate-900 via-slate-900 to-${t.color}-950/20 border border-slate-800 rounded-3xl shadow-2xl shadow-${t.color}-500/10 p-8`,children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx(F.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},className:`w-20 h-20 rounded-2xl bg-${t.color}-500/10 border border-${t.color}-500/30 flex items-center justify-center mx-auto mb-5`,children:a.jsx(s,{className:`w-10 h-10 text-${t.color}-400`})}),a.jsx("h2",{className:"text-2xl font-bold text-white",children:t.name}),a.jsx("p",{className:"text-slate-400 text-sm mt-2",children:"How long do you want to practice?"})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.durations.map((l,o)=>a.jsxs(F.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+o*.1},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(l),className:`group p-5 rounded-2xl bg-slate-800/50 border border-slate-700/50 hover:border-${t.color}-500/50 hover:bg-${t.color}-500/10 transition-all text-center`,children:[a.jsx("span",{className:`text-3xl font-bold text-white group-hover:text-${t.color}-400 transition-colors`,children:l<60?l:l/60}),a.jsx("span",{className:"text-slate-400 text-sm ml-1 block mt-1",children:l<60?"seconds":"minutes"})]},l))}),a.jsx(F.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},onClick:n,className:"w-full mt-6 py-4 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all font-medium",children:"Cancel"})]})})},vF=({duration:t,isRunning:e,onComplete:n})=>{const[s,l]=A.useState(t),[o,c]=A.useState(100);A.useEffect(()=>{l(t),c(100)},[t]),A.useEffect(()=>{if(!e||s<=0){s<=0&&n?.();return}const f=setInterval(()=>{l(x=>{const y=x-1;return c(y/t*100),y})},1e3);return()=>clearInterval(f)},[e,s,t,n]);const h=f=>{const x=Math.floor(f/60),y=f%60;return`${x}:${y.toString().padStart(2,"0")}`},m=()=>o>50?"cyan":o>25?"amber":"red";return a.jsx(mS,{progress:o,size:220,strokeWidth:10,color:m(),children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(F.span,{initial:{scale:1.1,opacity:0},animate:{scale:1,opacity:1},className:`text-5xl font-bold tracking-tight text-${m()}-400`,children:h(s)},s),a.jsx("span",{className:"text-slate-500 text-sm mt-1",children:"remaining"})]})})},wF=({score:t,onContinue:e})=>{const s=t>=90?{icon:ef,color:"amber",message:"Outstanding!",subtitle:"You're a debate champion!"}:t>=80?{icon:on,color:"cyan",message:"Excellent!",subtitle:"Top-tier performance!"}:t>=70?{icon:Sm,color:"purple",message:"Great Job!",subtitle:"Keep up the momentum!"}:t>=60?{icon:Bn,color:"emerald",message:"Good Work!",subtitle:"Room to grow, but solid!"}:{icon:Ot,color:"orange",message:"Keep Practicing!",subtitle:"Every session makes you better!"},l=s.icon;return a.jsxs(F.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center py-12",children:[a.jsx(F.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",damping:10},className:`w-28 h-28 rounded-full bg-gradient-to-br from-${s.color}-500/20 to-${s.color}-600/10 border-2 border-${s.color}-500/40 mx-auto mb-6 flex items-center justify-center shadow-xl shadow-${s.color}-500/20`,children:a.jsx(l,{className:`w-14 h-14 text-${s.color}-400`})}),a.jsx(F.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-bold text-white mb-2",children:s.message}),a.jsx(F.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-slate-400 mb-6",children:s.subtitle}),t&&a.jsxs(F.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.5,type:"spring"},className:`inline-flex items-center gap-3 px-6 py-3 rounded-2xl bg-${s.color}-500/10 border border-${s.color}-500/30`,children:[a.jsx(Fs,{className:`w-5 h-5 text-${s.color}-400`}),a.jsx("span",{className:"text-3xl font-bold text-white",children:t}),a.jsx("span",{className:"text-slate-400",children:"/100"})]}),a.jsx(F.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"block mx-auto mt-8 px-8 py-4 rounded-2xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-semibold shadow-lg shadow-cyan-500/25",children:"Continue"})]})},NF=({drill:t,duration:e,prompt:n,onComplete:s,onCancel:l,apiKey:o})=>{const[c,h]=A.useState("prep"),[m,f]=A.useState(!1),[x,y]=A.useState(!1),[v,w]=A.useState(15),[S,U]=A.useState(null),[I,z]=A.useState(!1),[L,q]=A.useState(""),[K,se]=A.useState(!1),G=A.useRef(null);A.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const te=window.SpeechRecognition||window.webkitSpeechRecognition;G.current=new te,G.current.continuous=!0,G.current.interimResults=!0,G.current.onresult=J=>{let $="";for(let W=J.resultIndex;W<J.results.length;W++)J.results[W].isFinal&&($+=J.results[W][0].transcript+" ");$&&q(W=>W+$)}}},[]);const D=async()=>{try{y(!0),G.current&&G.current.start()}catch(te){console.error("Error starting recording:",te)}},C=()=>{y(!1),G.current&&G.current.stop()},O=()=>{h("active"),f(!0),D()},E=async()=>{if(f(!1),C(),h("review"),L&&o){z(!0);try{const te=`Analyze this debate practice response. The drill was: "${n}"

The speaker said:
"${L}"

Duration: ${e} seconds

Provide a brief analysis covering:
1. **Content Quality** (1-10): Were the arguments clear and relevant?
2. **Structure** (1-10): Was there a clear organization?
3. **Delivery Estimate** (1-10): Based on word count and sentence structure
4. **Strengths**: What worked well
5. **Areas to Improve**: Specific suggestions
6. **Overall Score**: X/10

Keep the response concise but actionable.`,J=await dF(te,o);U(J);const $=M(J);$&&$>=70&&(se(!0),setTimeout(()=>se(!1),4e3))}catch(te){console.error("Analysis error:",te)}finally{z(!1)}}},T=()=>{const te=S?M(S):null;te&&te>=80?h("celebration"):s({type:t.id,duration:e,prompt:n,transcript:L,analysis:S,score:te})},M=te=>{const J=te.match(/Overall Score[:\s]*(\d+)/i);return J?parseInt(J[1])*10:null},R=t.icon;return a.jsxs(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 backdrop-blur-xl flex items-center justify-center p-6 overflow-y-auto",children:[a.jsx(hF,{show:K}),a.jsxs("div",{className:"w-full max-w-3xl",children:[a.jsxs(F.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-xl bg-${t.color}-500/10 border border-${t.color}-500/30 flex items-center justify-center`,children:a.jsx(R,{className:`w-5 h-5 text-${t.color}-400`})}),t.name]}),a.jsxs("p",{className:"text-slate-400 mt-1",children:[c==="prep"&&"Prepare your response",c==="active"&&"Speak now!",c==="review"&&"Review your performance",c==="celebration"&&"Congratulations!"]})]}),a.jsx(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:l,className:"px-4 py-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all border border-transparent hover:border-slate-700",children:"Exit"})]}),a.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`p-6 rounded-2xl bg-gradient-to-br from-${t.color}-500/10 to-transparent border border-${t.color}-500/20 mb-8`,children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`p-2 rounded-lg bg-${t.color}-500/10`,children:a.jsx(kl,{className:`w-5 h-5 text-${t.color}-400`})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-2",children:"Your Prompt"}),a.jsx("p",{className:"text-xl text-white font-medium",children:typeof n=="object"?n.claim||n.topic:n}),typeof n=="object"&&n.role&&a.jsxs("span",{className:`inline-block mt-3 px-4 py-2 rounded-xl text-sm font-medium ${n.role==="questioner"?"bg-purple-500/10 text-purple-400 border border-purple-500/30":"bg-cyan-500/10 text-cyan-400 border border-cyan-500/30"}`,children:["Role: ",n.role.charAt(0).toUpperCase()+n.role.slice(1)]})]})]})}),a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[350px]",children:[c==="prep"&&a.jsxs(F.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[a.jsx(mS,{progress:100,size:180,color:"cyan",children:a.jsx(F.span,{initial:{scale:1.3,opacity:0},animate:{scale:1,opacity:1},className:"text-6xl font-bold text-cyan-400",children:v},v)}),a.jsx("p",{className:"text-slate-400 mt-4 mb-8 text-lg",children:"seconds to prepare"}),a.jsx("div",{className:"flex items-center gap-4 justify-center",children:a.jsxs(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:O,className:"px-10 py-5 rounded-2xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-bold text-lg shadow-lg shadow-cyan-500/30 hover:shadow-cyan-500/50 transition-all flex items-center gap-3",children:[a.jsx(Ni,{className:"w-6 h-6"}),"Start Speaking"]})}),a.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[a.jsx("button",{onClick:()=>w(Math.max(5,v-5)),className:"px-4 py-2 rounded-xl bg-slate-800/50 text-slate-400 hover:text-white transition-colors border border-slate-700/50 hover:border-slate-600",children:"-5s"}),a.jsx("button",{onClick:()=>w(v+5),className:"px-4 py-2 rounded-xl bg-slate-800/50 text-slate-400 hover:text-white transition-colors border border-slate-700/50 hover:border-slate-600",children:"+5s"})]})]}),c==="active"&&a.jsxs(F.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center w-full",children:[a.jsx(vF,{duration:e,isRunning:m,onComplete:E}),a.jsxs(F.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"flex items-center justify-center gap-4 mt-8",children:[a.jsx(mF,{isActive:x}),a.jsx("span",{className:x?"text-red-400 font-medium":"text-slate-500",children:x?"Recording...":"Microphone off"})]}),a.jsxs("div",{className:"flex items-center gap-4 justify-center mt-8",children:[a.jsxs(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>f(!m),className:`px-6 py-3 rounded-xl font-medium transition-all flex items-center gap-2 ${m?"bg-amber-500/10 border border-amber-500/30 text-amber-400 hover:bg-amber-500/20":"bg-emerald-500/10 border border-emerald-500/30 text-emerald-400 hover:bg-emerald-500/20"}`,children:[m?a.jsx(rf,{className:"w-5 h-5"}):a.jsx(Ni,{className:"w-5 h-5"}),m?"Pause":"Resume"]}),a.jsxs(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:E,className:"px-6 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-slate-300 hover:text-white hover:bg-slate-800 transition-all flex items-center gap-2",children:[a.jsx(jm,{className:"w-5 h-5"}),"Finish Early"]})]}),L&&a.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-8 p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 max-h-32 overflow-y-auto",children:a.jsx("p",{className:"text-slate-300 text-sm text-left",children:L})})]}),c==="review"&&a.jsxs(F.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full space-y-6",children:[L&&a.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-5 rounded-2xl bg-slate-800/30 border border-slate-700/50",children:[a.jsxs("h4",{className:"text-sm font-medium text-slate-400 mb-3 flex items-center gap-2",children:[a.jsx(ra,{className:"w-4 h-4"}),"Your Response"]}),a.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:L})]}),I?a.jsxs(F.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-12",children:[a.jsx(F.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 rounded-full border-3 border-cyan-500/30 border-t-cyan-500 mb-4"}),a.jsx("span",{className:"text-slate-400",children:"Analyzing your response with AI..."})]}):S?a.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-5 rounded-2xl bg-gradient-to-br from-emerald-500/10 to-transparent border border-emerald-500/20",children:[a.jsxs("h4",{className:"text-sm font-medium text-emerald-400 mb-3 flex items-center gap-2",children:[a.jsx(yl,{className:"w-4 h-4"}),"AI Analysis"]}),a.jsx("div",{className:"text-slate-300 text-sm whitespace-pre-wrap leading-relaxed",children:S})]}):L?null:a.jsxs(F.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-800/50 mx-auto mb-4 flex items-center justify-center",children:a.jsx(VC,{className:"w-8 h-8 text-slate-600"})}),a.jsx("p",{className:"text-slate-400",children:"No speech detected. Make sure your microphone is enabled."})]}),a.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex items-center justify-center gap-4",children:[a.jsxs(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{h("prep"),q(""),U(null)},className:"px-6 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-slate-300 hover:text-white hover:bg-slate-800 transition-all flex items-center gap-2",children:[a.jsx(bl,{className:"w-5 h-5"}),"Try Again"]}),a.jsxs(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:T,className:"px-6 py-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-semibold shadow-lg shadow-cyan-500/25 hover:shadow-cyan-500/40 transition-all flex items-center gap-2",children:[a.jsx(jm,{className:"w-5 h-5"}),"Save & Exit"]})]})]}),c==="celebration"&&a.jsx(wF,{score:S?M(S):null,onContinue:()=>s({type:t.id,duration:e,prompt:n,transcript:L,analysis:S,score:S?M(S):null})})]})]})]})},jF=({session:t,drillType:e,index:n})=>{const s=e.icon,l=o=>o>=80?"emerald":o>=60?"cyan":"amber";return a.jsxs(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.1},whileHover:{x:4},className:`p-4 rounded-xl bg-gradient-to-r from-${e.color}-500/5 to-transparent border border-slate-800/50 hover:border-${e.color}-500/30 flex items-center gap-4 transition-all`,children:[a.jsx("div",{className:`w-12 h-12 rounded-xl bg-${e.color}-500/10 border border-${e.color}-500/20 flex items-center justify-center`,children:a.jsx(s,{className:`w-6 h-6 text-${e.color}-400`})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-white font-medium",children:e.name}),a.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[a.jsxs("span",{className:"text-slate-500 text-sm flex items-center gap-1",children:[a.jsx(Dn,{className:"w-3 h-3"}),t.duration,"s"]}),a.jsx("span",{className:"text-slate-600",children:""}),a.jsx("span",{className:"text-slate-500 text-sm",children:new Date(t.createdAt?.toDate?.()||t.createdAt).toLocaleDateString()})]})]}),t.score&&a.jsxs("div",{className:`px-4 py-2 rounded-xl bg-${l(t.score)}-500/10 border border-${l(t.score)}-500/20`,children:[a.jsx("span",{className:`text-lg font-bold text-${l(t.score)}-400`,children:t.score}),a.jsx("span",{className:"text-slate-500 text-sm",children:"/100"})]})]})},_F=({apiKey:t})=>{const{sessions:e,stats:n,loading:s,saveSession:l}=Dz(),[o,c]=A.useState(null),[h,m]=A.useState(!1),[f,x]=A.useState(null),y=S=>{c(S),m(!0)},v=S=>{m(!1);const U=gF[o.id],I=U[Math.floor(Math.random()*U.length)];x({drill:o,duration:S,prompt:I})},w=async S=>{await l(S),x(null),c(null)};return a.jsxs("div",{className:"space-y-8",children:[a.jsxs(F.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative",children:[a.jsx("div",{className:"absolute -top-20 -left-20 w-64 h-64 bg-cyan-500/10 rounded-full blur-3xl"}),a.jsxs("div",{className:"relative",children:[a.jsxs("h1",{className:"text-4xl font-bold text-white tracking-tight flex items-center gap-4",children:[a.jsx(F.div,{whileHover:{rotate:180},transition:{duration:.5},className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-cyan-500/20 to-blue-500/20 border border-cyan-500/30 flex items-center justify-center",children:a.jsx(Ot,{className:"w-7 h-7 text-cyan-400"})}),"Practice Mode"]}),a.jsx("p",{className:"text-slate-400 mt-2 text-lg",children:"Sharpen your skills with targeted drills and real-time AI feedback"})]})]}),n&&a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(im,{icon:Ot,label:"Total Sessions",value:n.totalSessions,color:"cyan"}),a.jsx(im,{icon:Dn,label:"Practice Time",value:Math.round(n.totalTime/60),suffix:"m",color:"purple"}),a.jsx(im,{icon:tf,label:"Day Streak",value:n.streak,color:"orange"}),a.jsx(im,{icon:Bn,label:"Avg Score",value:n.avgScore||"-",color:"emerald"})]}),a.jsxs("div",{children:[a.jsxs(F.h2,{initial:{opacity:0},animate:{opacity:1},className:"text-xl font-bold text-white mb-6 flex items-center gap-3",children:[a.jsx(Pu,{className:"w-5 h-5 text-amber-400"}),"Choose Your Drill"]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-5",children:rm.map((S,U)=>a.jsx(yF,{drill:S,onSelect:y,index:U},S.id))})]}),a.jsxs("div",{children:[a.jsxs(F.h2,{initial:{opacity:0},animate:{opacity:1},className:"text-xl font-bold text-white mb-6 flex items-center gap-3",children:[a.jsx(Qn,{className:"w-5 h-5 text-purple-400"}),"Recent Practice"]}),s?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(S=>a.jsx(fF,{className:"h-20"},S))}):e.length===0?a.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-8 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/50 to-slate-900/30",children:a.jsx(xF,{onStart:()=>y(rm[0])})}):a.jsx("div",{className:"space-y-3",children:e.slice(0,5).map((S,U)=>{const I=rm.find(z=>z.id===S.type)||rm[0];return a.jsx(jF,{session:S,drillType:I,index:U},S.id||U)})})]}),a.jsxs(ot,{children:[h&&o&&a.jsx(bF,{drill:o,onSelect:v,onCancel:()=>{m(!1),c(null)}}),f&&a.jsx(NF,{drill:f.drill,duration:f.duration,prompt:f.prompt,apiKey:t,onComplete:w,onCancel:()=>{x(null),c(null)}})]})]})},SF={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},EF={hidden:{opacity:0,y:10},visible:{opacity:1,y:0}},TF=({role:t})=>{const e={captain:{label:"Captain",icon:ef,color:"from-amber-500 to-orange-600",bg:"bg-amber-500/10",border:"border-amber-500/30",text:"text-amber-400"},coach:{label:"Coach",icon:sd,color:"from-purple-500 to-indigo-600",bg:"bg-purple-500/10",border:"border-purple-500/30",text:"text-purple-400"},varsity:{label:"Varsity",icon:Bn,color:"from-cyan-500 to-blue-600",bg:"bg-cyan-500/10",border:"border-cyan-500/30",text:"text-cyan-400"},jv:{label:"JV",icon:Ot,color:"from-emerald-500 to-green-600",bg:"bg-emerald-500/10",border:"border-emerald-500/30",text:"text-emerald-400"},novice:{label:"Novice",icon:Fs,color:"from-slate-400 to-slate-600",bg:"bg-slate-500/10",border:"border-slate-500/30",text:"text-slate-400"}},n=e[t]||e.novice,s=n.icon;return a.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${n.bg} ${n.border} ${n.text} border`,children:[a.jsx(s,{className:"w-3 h-3"}),n.label]})},CF=({isOnline:t,size:e="sm"})=>{const n={sm:"w-2.5 h-2.5",md:"w-3 h-3",lg:"w-4 h-4"};return a.jsxs("span",{className:`relative flex ${n[e]}`,children:[t&&a.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),a.jsx("span",{className:`relative inline-flex rounded-full ${n[e]} ${t?"bg-emerald-500":"bg-slate-500"}`})]})},fS=({name:t,image:e,size:n="md",showOnline:s,isOnline:l})=>{const o={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-12 h-12 text-base",xl:"w-16 h-16 text-xl"},c=["from-cyan-500 to-blue-600","from-purple-500 to-indigo-600","from-emerald-500 to-green-600","from-amber-500 to-orange-600","from-pink-500 to-rose-600"],h=t?t.charCodeAt(0)%c.length:0,m=t?.split(" ").map(f=>f[0]).join("").toUpperCase().slice(0,2)||"?";return a.jsxs("div",{className:"relative",children:[e?a.jsx("img",{src:e,alt:t,className:`${o[n]} rounded-xl object-cover ring-2 ring-slate-800`}):a.jsx("div",{className:`${o[n]} rounded-xl bg-gradient-to-br ${c[h]} flex items-center justify-center text-white font-bold shadow-lg`,children:m}),s&&a.jsx("div",{className:"absolute -bottom-0.5 -right-0.5",children:a.jsx(CF,{isOnline:l,size:"sm"})})]})},AF=({member:t,isCurrentUser:e,onMessage:n,onRemove:s})=>{const[l,o]=A.useState(!1);return a.jsxs(F.div,{variants:EF,whileHover:{scale:1.02,y:-2},className:"relative group",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/5 to-purple-500/5 rounded-2xl blur-lg opacity-0 group-hover:opacity-100 transition-all"}),a.jsx("div",{className:"relative p-4 rounded-xl border border-slate-800/60 bg-gradient-to-br from-slate-900/80 to-slate-950/80 hover:border-slate-700/60 transition-all",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(fS,{name:t.name,image:t.avatar,size:"lg",showOnline:!0,isOnline:t.isOnline}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("h4",{className:"text-white font-semibold truncate",children:[t.name,e&&a.jsx("span",{className:"text-slate-500 ml-1",children:"(You)"})]}),t.isOnline&&a.jsx("span",{className:"text-xs text-emerald-400",children:"Online"})]}),a.jsx("p",{className:"text-slate-500 text-sm truncate",children:t.email}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx(TF,{role:t.role}),t.events?.map(c=>a.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-800 text-slate-400",children:c},c))]})]}),a.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx(F.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>n?.(t),className:"p-2 rounded-lg text-slate-400 hover:text-cyan-400 hover:bg-cyan-500/10 transition-all",children:a.jsx(Ii,{className:"w-5 h-5"})}),a.jsxs("div",{className:"relative",children:[a.jsx(F.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>o(!l),className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:a.jsx(HT,{className:"w-5 h-5"})}),l&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)}),a.jsxs("div",{className:"absolute right-0 top-full mt-1 w-40 bg-slate-900 border border-slate-800 rounded-xl shadow-xl z-50 py-1",children:[a.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm text-slate-300 hover:bg-slate-800 flex items-center gap-2",children:[a.jsx(hx,{className:"w-4 h-4"})," View Profile"]}),a.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm text-slate-300 hover:bg-slate-800 flex items-center gap-2",children:[a.jsx(td,{className:"w-4 h-4"})," Edit Role"]}),!e&&a.jsxs("button",{onClick:()=>s?.(t),className:"w-full px-4 py-2 text-left text-sm text-red-400 hover:bg-red-500/10 flex items-center gap-2",children:[a.jsx(GA,{className:"w-4 h-4"})," Remove"]})]})]})]})]})]})})]})},kF=({message:t,isOwn:e,senderName:n,senderAvatar:s,timestamp:l})=>a.jsxs(F.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},className:`flex gap-3 ${e?"flex-row-reverse":""}`,children:[a.jsx(fS,{name:n,image:s,size:"sm"}),a.jsxs("div",{className:`max-w-[70%] ${e?"items-end":"items-start"}`,children:[a.jsxs("div",{className:`flex items-center gap-2 mb-1 ${e?"flex-row-reverse":""}`,children:[a.jsx("span",{className:"text-sm font-medium text-slate-300",children:n}),a.jsx("span",{className:"text-xs text-slate-500",children:l})]}),a.jsx("div",{className:`p-3 rounded-2xl ${e?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white rounded-br-md":"bg-slate-800 text-slate-200 rounded-bl-md"}`,children:a.jsx("p",{className:"text-sm leading-relaxed",children:t})})]})]}),IF=({teamId:t,members:e})=>{const[n,s]=A.useState([{id:1,sender:"Alex Chen",message:"Ready for the tournament this weekend?",timestamp:"2:30 PM",isOwn:!1},{id:2,sender:"You",message:"Yes! I finished the case outline. Will share it tonight.",timestamp:"2:32 PM",isOwn:!0},{id:3,sender:"Sarah Kim",message:"Perfect! I found some great evidence on the climate topic.",timestamp:"2:35 PM",isOwn:!1},{id:4,sender:"You",message:"Can't wait to see it. Let's do a practice round tomorrow?",timestamp:"2:36 PM",isOwn:!0}]),[l,o]=A.useState(""),c=A.useRef(null),h=()=>{c.current?.scrollIntoView({behavior:"smooth"})};A.useEffect(()=>{h()},[n]);const m=()=>{l.trim()&&(s([...n,{id:Date.now(),sender:"You",message:l,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),isOwn:!0}]),o(""))};return a.jsxs("div",{className:"flex flex-col h-[500px] rounded-2xl border border-slate-800/60 bg-gradient-to-b from-slate-900/80 to-slate-950/80 overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-slate-800 bg-slate-900/50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ii,{className:"w-5 h-5 text-cyan-400"}),a.jsx("h3",{className:"text-white font-semibold",children:"Team Chat"}),a.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-emerald-500/10 text-emerald-400 text-xs",children:[e?.filter(f=>f.isOnline).length||0," online"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(F.button,{whileHover:{scale:1.1},className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:a.jsx(nA,{className:"w-4 h-4"})}),a.jsx(F.button,{whileHover:{scale:1.1},className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:a.jsx(WA,{className:"w-4 h-4"})})]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n.map(f=>a.jsx(kF,{message:f.message,isOwn:f.isOwn,senderName:f.sender,timestamp:f.timestamp},f.id)),a.jsx("div",{ref:c})]}),a.jsx("div",{className:"p-4 border-t border-slate-800 bg-slate-900/50",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(F.button,{whileHover:{scale:1.1},className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:a.jsx(QC,{className:"w-5 h-5"})}),a.jsx("input",{type:"text",value:l,onChange:f=>o(f.target.value),onKeyPress:f=>f.key==="Enter"&&m(),placeholder:"Type a message...",className:"flex-1 px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"}),a.jsx(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:m,disabled:!l.trim(),className:"p-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white shadow-lg shadow-cyan-500/25 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(cf,{className:"w-5 h-5"})})]})})]})},RF=({doc:t,onClick:e})=>{const n={case:{icon:rs,color:"text-cyan-400",bg:"bg-cyan-500/10"},evidence:{icon:rs,color:"text-purple-400",bg:"bg-purple-500/10"},strategy:{icon:Ot,color:"text-amber-400",bg:"bg-amber-500/10"},notes:{icon:rs,color:"text-emerald-400",bg:"bg-emerald-500/10"}},s=n[t.type]||n.notes,l=s.icon;return a.jsx(F.div,{whileHover:{scale:1.02,y:-2},onClick:e,className:"p-4 rounded-xl border border-slate-800/60 bg-gradient-to-br from-slate-900/80 to-slate-950/80 hover:border-slate-700/60 transition-all cursor-pointer group",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${s.bg}`,children:a.jsx(l,{className:`w-5 h-5 ${s.color}`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-white font-medium truncate group-hover:text-cyan-400 transition-colors",children:t.title}),a.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:["Updated ",t.updatedAt," by ",t.updatedBy]})]}),a.jsx(Nn,{className:"w-5 h-5 text-slate-600 group-hover:text-slate-400 transition-colors"})]})})},bg=({tournament:t})=>{const[e,n]=A.useState([{id:1,text:"Complete Aff case",done:!0},{id:2,text:"Complete Neg blocks",done:!0},{id:3,text:"Update evidence files",done:!1},{id:4,text:"Practice round with team",done:!1},{id:5,text:"Review judge paradigms",done:!1},{id:6,text:"Prepare extension files",done:!1}]),[s,l]=A.useState(""),o=f=>{n(e.map(x=>x.id===f?{...x,done:!x.done}:x))},c=()=>{s.trim()&&(n([...e,{id:Date.now(),text:s,done:!1}]),l(""))},h=e.filter(f=>f.done).length,m=h/e.length*100;return a.jsxs("div",{className:"p-5 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/80 to-slate-950/80",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-amber-500/10",children:a.jsx(gj,{className:"w-5 h-5 text-amber-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-semibold",children:"Tournament Prep"}),a.jsx("p",{className:"text-slate-500 text-sm",children:t||"Next Tournament"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("span",{className:"text-2xl font-bold text-white",children:[h,"/",e.length]}),a.jsx("p",{className:"text-slate-500 text-xs",children:"tasks complete"})]})]}),a.jsx("div",{className:"h-2 rounded-full bg-slate-800 mb-4 overflow-hidden",children:a.jsx(F.div,{initial:{width:0},animate:{width:`${m}%`},className:"h-full rounded-full bg-gradient-to-r from-cyan-500 to-emerald-500"})}),a.jsx("div",{className:"space-y-2 mb-4 max-h-48 overflow-y-auto",children:e.map(f=>a.jsxs(F.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},className:`flex items-center gap-3 p-3 rounded-lg transition-colors ${f.done?"bg-emerald-500/5":"bg-slate-800/30 hover:bg-slate-800/50"}`,children:[a.jsx(F.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>o(f.id),className:`w-5 h-5 rounded-md border-2 flex items-center justify-center transition-colors ${f.done?"bg-emerald-500 border-emerald-500":"border-slate-600 hover:border-slate-500"}`,children:f.done&&a.jsx(sa,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:`flex-1 text-sm ${f.done?"text-slate-500 line-through":"text-slate-300"}`,children:f.text})]},f.id))}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:s,onChange:f=>l(f.target.value),onKeyPress:f=>f.key==="Enter"&&c(),placeholder:"Add task...",className:"flex-1 px-3 py-2 rounded-lg bg-slate-800/50 border border-slate-700 text-white text-sm placeholder-slate-500 focus:border-cyan-500 outline-none transition-all"}),a.jsx(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:c,className:"p-2 rounded-lg bg-slate-800 text-slate-400 hover:text-white transition-colors",children:a.jsx(hn,{className:"w-4 h-4"})})]})]})},DF=()=>{const{user:t}=Mn(),{teams:e}=Mz(),[n,s]=A.useState("overview"),[l,o]=A.useState(!1),c=e?.[0],h=c?.members||[],m={id:"demo-team",name:"Westwood Debate",members:[{id:1,name:"Alex Chen",email:"alex@school.edu",role:"captain",isOnline:!0,events:["LD","PF"]},{id:2,name:"Sarah Kim",email:"sarah@school.edu",role:"varsity",isOnline:!0,events:["PF"]},{id:3,name:"Mike Johnson",email:"mike@school.edu",role:"varsity",isOnline:!1,events:["LD"]},{id:4,name:"Emma Davis",email:"emma@school.edu",role:"jv",isOnline:!0,events:["PF"]},{id:5,name:"You",email:t?.email||"you@school.edu",role:"varsity",isOnline:!0,events:["LD","PF"]}],documents:[{id:1,title:"Aff Case - Climate Policy",type:"case",updatedAt:"2 hours ago",updatedBy:"Alex"},{id:2,title:"Neg Blocks - Economy",type:"evidence",updatedAt:"1 day ago",updatedBy:"Sarah"},{id:3,title:"Tournament Strategy",type:"strategy",updatedAt:"3 days ago",updatedBy:"Mike"},{id:4,title:"Practice Notes",type:"notes",updatedAt:"1 week ago",updatedBy:"Emma"}]},f=c||m,x=h||m.members,y=[{id:"overview",label:"Overview",icon:Vs},{id:"chat",label:"Chat",icon:Ii},{id:"documents",label:"Documents",icon:rs},{id:"prep",label:"Prep",icon:gj}];return a.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-600/20 border border-cyan-500/30",children:a.jsx(Vs,{className:"w-7 h-7 text-cyan-400"})}),f.name]}),a.jsxs("p",{className:"text-slate-400 mt-2",children:[x.length," members  ",x.filter(v=>v.isOnline).length," online"]})]}),a.jsxs(F.button,{whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},onClick:()=>o(!0),className:"px-5 py-2.5 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-medium shadow-lg shadow-cyan-500/25 flex items-center gap-2",children:[a.jsx(cw,{className:"w-5 h-5"}),"Invite Member"]})]}),a.jsx("div",{className:"flex items-center gap-2 p-1 rounded-xl bg-slate-900/50 border border-slate-800/50 w-fit",children:y.map(v=>a.jsxs("button",{onClick:()=>s(v.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${n===v.id?"bg-slate-800 text-white":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,children:[a.jsx(v.icon,{className:"w-4 h-4"}),v.label]},v.id))}),a.jsxs(ot,{mode:"wait",children:[n==="overview"&&a.jsxs(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"grid lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[a.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[a.jsx(Vs,{className:"w-5 h-5 text-cyan-400"}),"Team Members"]}),a.jsx(F.div,{variants:SF,initial:"hidden",animate:"visible",className:"space-y-3",children:x.map(v=>a.jsx(AF,{member:v,isCurrentUser:v.name==="You",onMessage:w=>s("chat"),onRemove:()=>console.log("Remove member:",v.id)},v.id))})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"p-5 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/80 to-slate-950/80",children:[a.jsx("h3",{className:"text-white font-semibold mb-4",children:"Team Stats"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-slate-400",children:"Win Rate"}),a.jsx("span",{className:"text-white font-bold",children:"68%"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-slate-400",children:"Tournaments"}),a.jsx("span",{className:"text-white font-bold",children:"12"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-slate-400",children:"Trophies"}),a.jsxs("span",{className:"text-white font-bold flex items-center gap-1",children:[a.jsx(on,{className:"w-4 h-4 text-amber-400"})," 5"]})]})]})]}),a.jsx(bg,{tournament:"State Championships - Dec 15"})]})]},"overview"),n==="chat"&&a.jsx(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:a.jsx(IF,{teamId:f.id,members:x})},"chat"),n==="documents"&&a.jsxs(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[a.jsx(mx,{className:"w-5 h-5 text-cyan-400"}),"Shared Documents"]}),a.jsxs(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg bg-slate-800 text-white text-sm font-medium hover:bg-slate-700 transition-colors flex items-center gap-2",children:[a.jsx(ad,{className:"w-4 h-4"}),"Upload"]})]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:f.documents.map(v=>a.jsx(RF,{doc:v,onClick:()=>{}},v.id))})]},"documents"),n==="prep"&&a.jsxs(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"grid md:grid-cols-2 gap-6",children:[a.jsx(bg,{tournament:"State Championships - Dec 15"}),a.jsx(bg,{tournament:"National Qualifiers - Jan 20"})]},"prep")]})]}),a.jsx(ot,{children:l&&a.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:v=>v.target===v.currentTarget&&o(!1),children:a.jsxs(F.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"w-full max-w-md bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-800 rounded-3xl shadow-2xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(cw,{className:"w-5 h-5 text-cyan-400"}),"Invite Team Member"]}),a.jsx(F.button,{whileHover:{scale:1.1,rotate:90},onClick:()=>o(!1),className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:a.jsx(ls,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",placeholder:"teammate@school.edu",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Role"}),a.jsxs("select",{className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none transition-all",children:[a.jsx("option",{value:"novice",children:"Novice"}),a.jsx("option",{value:"jv",children:"JV"}),a.jsx("option",{value:"varsity",children:"Varsity"})]})]}),a.jsx(F.button,{whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},className:"w-full py-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold shadow-lg shadow-cyan-500/25",children:"Send Invitation"})]})]})})})]})},MF=({onAdd:t})=>a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"p-4 rounded-full bg-slate-800/50 border border-slate-700/50 mb-6 mx-auto w-fit",children:a.jsx(on,{className:"w-12 h-12 text-slate-500"})}),a.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Tournaments Scheduled"}),a.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-6",children:"Add upcoming tournaments to track rounds, manage judge preferences, and stay organized."}),a.jsxs("button",{onClick:t,className:"px-6 py-3 rounded-xl bg-cyan-500/10 border border-cyan-500/30 text-cyan-400 font-medium hover:bg-cyan-500/20 transition-all inline-flex items-center gap-2",children:[a.jsx(hn,{className:"w-5 h-5"}),"Add Tournament"]})]}),OF=({isOpen:t,onClose:e,onSave:n,tournament:s=null})=>{const[l,o]=A.useState(s||{name:"",date:"",endDate:"",location:"",format:"Public Forum",level:"Local",registrationDeadline:"",notes:"",travelInfo:{flight:"",hotel:"",transportation:""}});if(!t)return null;const c=h=>{h.preventDefault(),n(l),e()};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:a.jsxs(F.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-2xl bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-slate-800",children:a.jsx("h2",{className:"text-xl font-bold text-white",children:s?"Edit Tournament":"Add Tournament"})}),a.jsxs("form",{onSubmit:c,className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Tournament Name *"}),a.jsx("input",{type:"text",value:l.name,onChange:h=>o({...l,name:h.target.value}),placeholder:"e.g., Harvard National Forensics Tournament",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Start Date *"}),a.jsx("input",{type:"date",value:l.date,onChange:h=>o({...l,date:h.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"End Date"}),a.jsx("input",{type:"date",value:l.endDate,onChange:h=>o({...l,endDate:h.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Location"}),a.jsx("input",{type:"text",value:l.location,onChange:h=>o({...l,location:h.target.value}),placeholder:"City, State",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Registration Deadline"}),a.jsx("input",{type:"date",value:l.registrationDeadline,onChange:h=>o({...l,registrationDeadline:h.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Format"}),a.jsx("select",{value:l.format,onChange:h=>o({...l,format:h.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",children:["Public Forum","Lincoln-Douglas","Policy","Congress","World Schools","Multiple"].map(h=>a.jsx("option",{value:h,children:h},h))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Level"}),a.jsx("select",{value:l.level,onChange:h=>o({...l,level:h.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",children:["Local","Regional","State","National","International"].map(h=>a.jsx("option",{value:h,children:h},h))})]})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50",children:[a.jsxs("h3",{className:"text-sm font-medium text-slate-400 mb-4 flex items-center gap-2",children:[a.jsx(hj,{className:"w-4 h-4"}),"Travel Information (Optional)"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("input",{type:"text",value:l.travelInfo.flight,onChange:h=>o({...l,travelInfo:{...l.travelInfo,flight:h.target.value}}),placeholder:"Flight details",className:"w-full px-3 py-2 rounded-lg bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 text-sm focus:border-cyan-500 outline-none"}),a.jsx("input",{type:"text",value:l.travelInfo.hotel,onChange:h=>o({...l,travelInfo:{...l.travelInfo,hotel:h.target.value}}),placeholder:"Hotel/accommodation",className:"w-full px-3 py-2 rounded-lg bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 text-sm focus:border-cyan-500 outline-none"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Notes"}),a.jsx("textarea",{value:l.notes,onChange:h=>o({...l,notes:h.target.value}),placeholder:"Additional notes...",rows:3,className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none resize-none"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-800",children:[a.jsx("button",{type:"button",onClick:e,className:"px-5 py-2.5 rounded-xl text-slate-400 hover:text-white transition-colors",children:"Cancel"}),a.jsxs("button",{type:"submit",className:"px-6 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors",children:[s?"Update":"Add"," Tournament"]})]})]})]})})},PF=({tournament:t,onEdit:e,onDelete:n,onClick:s})=>{const l=new Date(t.date),o=l>new Date,c=Math.ceil((l-new Date)/(1e3*60*60*24)),h={Local:"bg-slate-500/10 text-slate-400 border-slate-500/30",Regional:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30",State:"bg-purple-500/10 text-purple-400 border-purple-500/30",National:"bg-amber-500/10 text-amber-400 border-amber-500/30",International:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30"};return a.jsxs(F.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:s,className:"p-5 rounded-2xl border border-slate-800/60 bg-slate-900/30 hover:border-slate-700/60 transition-all cursor-pointer group",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsxs("div",{className:"w-14 h-14 rounded-xl bg-cyan-500/10 border border-cyan-500/20 flex flex-col items-center justify-center",children:[a.jsx("span",{className:"text-xs text-cyan-400 font-medium",children:l.toLocaleString("default",{month:"short"}).toUpperCase()}),a.jsx("span",{className:"text-xl font-bold text-white",children:l.getDate()})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white group-hover:text-cyan-400 transition-colors",children:t.name}),a.jsxs("div",{className:"flex items-center gap-2 mt-1 text-slate-400 text-sm",children:[a.jsx(Jo,{className:"w-3 h-3"}),t.location||"TBD"]})]})]}),a.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium border ${h[t.level]}`,children:t.level})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("span",{className:"text-slate-400 flex items-center gap-1",children:[a.jsx(on,{className:"w-4 h-4"}),t.format]}),t.rounds?.length>0&&a.jsxs("span",{className:"text-slate-400 flex items-center gap-1",children:[a.jsx(Ot,{className:"w-4 h-4"}),t.rounds.length," rounds"]})]}),o&&c<=14&&a.jsxs("div",{className:`mt-4 px-3 py-2 rounded-lg text-sm flex items-center gap-2 ${c<=3?"bg-red-500/10 border border-red-500/20 text-red-400":"bg-amber-500/10 border border-amber-500/20 text-amber-400"}`,children:[a.jsx(is,{className:"w-4 h-4"}),c===0?"Today!":c===1?"Tomorrow!":`${c} days away`]}),a.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-slate-800/50",children:[a.jsx("div",{className:"flex items-center gap-2",children:t.rounds?.length>0?a.jsxs("span",{className:"text-emerald-400 text-sm flex items-center gap-1",children:[a.jsx(jm,{className:"w-4 h-4"}),"Tracking"]}):a.jsxs("span",{className:"text-slate-500 text-sm flex items-center gap-1",children:[a.jsx(DT,{className:"w-4 h-4"}),"No rounds yet"]})}),a.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:m=>{m.stopPropagation(),e(t)},className:"p-1.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",children:a.jsx(td,{className:"w-4 h-4"})}),a.jsx("button",{onClick:m=>{m.stopPropagation(),n(t.id)},className:"p-1.5 rounded-lg text-slate-400 hover:text-red-400 hover:bg-red-500/10 transition-all",children:a.jsx($s,{className:"w-4 h-4"})})]})]})]})},LF=({tournament:t,onBack:e,onAddRound:n,onUpdateTournament:s})=>{const[l,o]=A.useState(!1),c=t.rounds||[],h=c.filter(f=>f.result==="win").length,m=c.filter(f=>f.result==="loss").length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:e,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all",children:a.jsx(ij,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:t.name}),a.jsxs("div",{className:"flex items-center gap-3 mt-1 text-slate-400",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(pr,{className:"w-4 h-4"}),new Date(t.date).toLocaleDateString()]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Jo,{className:"w-4 h-4"}),t.location||"TBD"]})]})]})]}),a.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors flex items-center gap-2",children:[a.jsx(hn,{className:"w-5 h-5"}),"Add Round"]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-xl bg-slate-900/30 border border-slate-800/50 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-white",children:c.length}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Rounds"})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-emerald-500/10 border border-emerald-500/20 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:h}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Wins"})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-red-400",children:m}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Losses"})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-cyan-500/10 border border-cyan-500/20 text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-cyan-400",children:[c.length>0?(h/c.length*100).toFixed(0):0,"%"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Win Rate"})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Round History"}),c.length===0?a.jsxs("div",{className:"text-center py-12 rounded-xl bg-slate-900/30 border border-slate-800/50",children:[a.jsx(Ot,{className:"w-10 h-10 text-slate-600 mx-auto mb-3"}),a.jsx("p",{className:"text-slate-400",children:"No rounds recorded yet"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Add your first round to start tracking"})]}):a.jsx("div",{className:"space-y-3",children:c.map((f,x)=>a.jsxs("div",{className:"p-4 rounded-xl bg-slate-900/30 border border-slate-800/50 flex items-center gap-4",children:[a.jsx("div",{className:`w-2 h-12 rounded-full ${f.result==="win"?"bg-emerald-500":"bg-red-500"}`}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-white font-medium",children:f.roundName}),a.jsx("span",{className:"text-slate-500",children:""}),a.jsx("span",{className:"text-slate-400",children:f.side})]}),a.jsxs("p",{className:"text-slate-500 text-sm",children:["vs ",f.opponent||"Unknown"," ",f.opponentSchool&&`(${f.opponentSchool})`]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${f.result==="win"?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-400"}`,children:f.result==="win"?"Win":"Loss"}),f.speakerPoints&&a.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:[f.speakerPoints," speaks"]})]})]},f.id||x))})]}),(t.travelInfo?.flight||t.travelInfo?.hotel)&&a.jsxs("div",{className:"p-4 rounded-xl bg-slate-900/30 border border-slate-800/50",children:[a.jsxs("h3",{className:"text-sm font-medium text-slate-400 mb-3 flex items-center gap-2",children:[a.jsx(hj,{className:"w-4 h-4"}),"Travel Information"]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[t.travelInfo.flight&&a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-slate-500",children:"Flight:"}),a.jsx("span",{className:"text-slate-300",children:t.travelInfo.flight})]}),t.travelInfo.hotel&&a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-slate-500",children:"Hotel:"}),a.jsx("span",{className:"text-slate-300",children:t.travelInfo.hotel})]})]})]}),a.jsx(ot,{children:l&&a.jsx(VF,{isOpen:l,onClose:()=>o(!1),onSave:f=>n(t.id,f)})})]})},VF=({isOpen:t,onClose:e,onSave:n})=>{const[s,l]=A.useState({roundName:"Round 1",opponent:"",opponentSchool:"",side:"Pro",result:"win",speakerPoints:"",judge:"",notes:""});if(!t)return null;const o=c=>{c.preventDefault(),n({...s,speakerPoints:s.speakerPoints?parseFloat(s.speakerPoints):null}),e()};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:a.jsxs(F.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-md bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl",children:[a.jsx("div",{className:"p-6 border-b border-slate-800",children:a.jsx("h2",{className:"text-xl font-bold text-white",children:"Add Round"})}),a.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Round"}),a.jsx("select",{value:s.roundName,onChange:c=>l({...s,roundName:c.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",children:["Round 1","Round 2","Round 3","Round 4","Round 5","Round 6","Octofinals","Quarterfinals","Semifinals","Finals"].map(c=>a.jsx("option",{value:c,children:c},c))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Opponent"}),a.jsx("input",{type:"text",value:s.opponent,onChange:c=>l({...s,opponent:c.target.value}),placeholder:"Name",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"School"}),a.jsx("input",{type:"text",value:s.opponentSchool,onChange:c=>l({...s,opponentSchool:c.target.value}),placeholder:"School",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Side"}),a.jsxs("select",{value:s.side,onChange:c=>l({...s,side:c.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",children:[a.jsx("option",{value:"Pro",children:"Pro"}),a.jsx("option",{value:"Con",children:"Con"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Result"}),a.jsxs("select",{value:s.result,onChange:c=>l({...s,result:c.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:border-cyan-500 outline-none",children:[a.jsx("option",{value:"win",children:"Win"}),a.jsx("option",{value:"loss",children:"Loss"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Speaks"}),a.jsx("input",{type:"number",step:"0.1",value:s.speakerPoints,onChange:c=>l({...s,speakerPoints:c.target.value}),placeholder:"28.5",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Judge"}),a.jsx("input",{type:"text",value:s.judge,onChange:c=>l({...s,judge:c.target.value}),placeholder:"Judge name",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:e,className:"px-5 py-2.5 rounded-xl text-slate-400 hover:text-white transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors",children:"Add Round"})]})]})]})})},UF=({judges:t,onAddJudge:e,onUpdateJudge:n})=>{const[s,l]=A.useState(!1);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[a.jsx(za,{className:"w-5 h-5 text-cyan-400"}),"Judge Preferences"]}),a.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-2 rounded-xl bg-cyan-500/10 border border-cyan-500/30 text-cyan-400 hover:bg-cyan-500/20 transition-all flex items-center gap-2 text-sm",children:[a.jsx(hn,{className:"w-4 h-4"}),"Add Judge"]})]}),t.length===0?a.jsxs("div",{className:"text-center py-8 rounded-xl bg-slate-900/30 border border-slate-800/50",children:[a.jsx(za,{className:"w-10 h-10 text-slate-600 mx-auto mb-3"}),a.jsx("p",{className:"text-slate-400",children:"No judges recorded yet"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Track judge preferences to adapt your strategy"})]}):a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:t.map(o=>a.jsxs("div",{className:"p-4 rounded-xl bg-slate-900/30 border border-slate-800/50",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-medium",children:o.name}),a.jsx("p",{className:"text-slate-500 text-sm",children:o.affiliation})]}),a.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(c=>a.jsx(Bn,{className:`w-4 h-4 ${c<=o.rating?"text-amber-400 fill-current":"text-slate-700"}`},c))})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[o.paradigm&&a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-slate-500",children:"Paradigm:"}),a.jsx("span",{className:"text-slate-300",children:o.paradigm})]}),a.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[a.jsxs("span",{className:`flex items-center gap-1 text-xs ${o.leansPro?"text-emerald-400":"text-slate-500"}`,children:[a.jsx(LA,{className:"w-3 h-3"}),"Pro"]}),a.jsxs("span",{className:`flex items-center gap-1 text-xs ${o.leansCon?"text-red-400":"text-slate-500"}`,children:[a.jsx(OA,{className:"w-3 h-3"}),"Con"]}),a.jsxs("span",{className:`flex items-center gap-1 text-xs ${!o.leansPro&&!o.leansCon?"text-cyan-400":"text-slate-500"}`,children:[a.jsx(af,{className:"w-3 h-3"}),"Neutral"]})]})]})]},o.id))}),a.jsx(ot,{children:s&&a.jsx(zF,{isOpen:s,onClose:()=>l(!1),onSave:e})})]})},zF=({isOpen:t,onClose:e,onSave:n})=>{const[s,l]=A.useState({name:"",affiliation:"",paradigm:"",rating:3,leansPro:!1,leansCon:!1,notes:""});if(!t)return null;const o=c=>{c.preventDefault(),n(s),e(),l({name:"",affiliation:"",paradigm:"",rating:3,leansPro:!1,leansCon:!1,notes:""})};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:a.jsxs(F.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-md bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl",children:[a.jsx("div",{className:"p-6 border-b border-slate-800",children:a.jsx("h2",{className:"text-xl font-bold text-white",children:"Add Judge"})}),a.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Name *"}),a.jsx("input",{type:"text",value:s.name,onChange:c=>l({...s,name:c.target.value}),placeholder:"Judge name",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Affiliation"}),a.jsx("input",{type:"text",value:s.affiliation,onChange:c=>l({...s,affiliation:c.target.value}),placeholder:"School/Organization",className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Rating"}),a.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(c=>a.jsx("button",{type:"button",onClick:()=>l({...s,rating:c}),className:"p-1",children:a.jsx(Bn,{className:`w-6 h-6 ${c<=s.rating?"text-amber-400 fill-current":"text-slate-700"}`})},c))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Paradigm"}),a.jsx("textarea",{value:s.paradigm,onChange:c=>l({...s,paradigm:c.target.value}),placeholder:"Judge's preferred arguments, style preferences...",rows:3,className:"w-full px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 outline-none resize-none"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:e,className:"px-5 py-2.5 rounded-xl text-slate-400 hover:text-white transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors",children:"Add Judge"})]})]})]})})},FF=({apiKey:t})=>{const{tournaments:e,loading:n,addTournament:s,updateTournament:l,deleteTournament:o,addRound:c}=Oz(),{judges:h,addJudge:m,updateJudge:f}=Pz(),[x,y]=A.useState(!1),[v,w]=A.useState(null),[S,U]=A.useState(null),[I,z]=A.useState("upcoming"),L=A.useMemo(()=>e.filter(se=>new Date(se.date)>=new Date).sort((se,G)=>new Date(se.date)-new Date(G.date)),[e]),q=A.useMemo(()=>e.filter(se=>new Date(se.date)<new Date).sort((se,G)=>new Date(G.date)-new Date(se.date)),[e]),K=async se=>{v?(await l(v.id,se),w(null)):await s(se),y(!1)};return S?a.jsx(LF,{tournament:S,onBack:()=>U(null),onAddRound:c,onUpdateTournament:l}):a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[a.jsx(on,{className:"w-8 h-8 text-cyan-400"}),"Tournaments"]}),a.jsx("p",{className:"text-slate-400 mt-1",children:"Manage your tournament schedule and track rounds"})]}),a.jsxs("button",{onClick:()=>y(!0),className:"px-4 py-2.5 rounded-xl bg-cyan-500 text-white font-medium hover:bg-cyan-400 transition-colors flex items-center gap-2",children:[a.jsx(hn,{className:"w-5 h-5"}),"Add Tournament"]})]}),a.jsx("div",{className:"flex items-center gap-2 p-1 bg-slate-900/50 rounded-xl border border-slate-800/50 w-fit",children:[{id:"upcoming",label:`Upcoming (${L.length})`},{id:"past",label:`Past (${q.length})`},{id:"judges",label:`Judges (${h.length})`}].map(se=>a.jsx("button",{onClick:()=>z(se.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${I===se.id?"bg-slate-800 text-white":"text-slate-400 hover:text-white"}`,children:se.label},se.id))}),n?a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(Ou,{className:"w-8 h-8 text-cyan-400 animate-spin"})}):I==="judges"?a.jsx(UF,{judges:h,onAddJudge:m,onUpdateJudge:f}):a.jsx(a.Fragment,{children:(I==="upcoming"?L:q).length===0?a.jsx("div",{className:"p-8 rounded-2xl border border-slate-800/60 bg-slate-900/30",children:a.jsx(MF,{onAdd:()=>y(!0)})}):a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:(I==="upcoming"?L:q).map(se=>a.jsx(PF,{tournament:se,onClick:()=>U(se),onEdit:G=>{w(G),y(!0)},onDelete:o},se.id))})}),a.jsx(ot,{children:x&&a.jsx(OF,{isOpen:x,onClose:()=>{y(!1),w(null)},onSave:K,tournament:v})})]})},Wu={claim:{label:"Claim",color:"from-cyan-500 to-blue-600",bgColor:"bg-cyan-500/10",borderColor:"border-cyan-500/50",textColor:"text-cyan-400",icon:Ot,description:"Main argument assertion"},evidence:{label:"Evidence",color:"from-emerald-500 to-green-600",bgColor:"bg-emerald-500/10",borderColor:"border-emerald-500/50",textColor:"text-emerald-400",icon:rs,description:"Supporting data or facts"},warrant:{label:"Warrant",color:"from-purple-500 to-indigo-600",bgColor:"bg-purple-500/10",borderColor:"border-purple-500/50",textColor:"text-purple-400",icon:kl,description:"Reasoning connecting evidence to claim"},impact:{label:"Impact",color:"from-amber-500 to-orange-600",bgColor:"bg-amber-500/10",borderColor:"border-amber-500/50",textColor:"text-amber-400",icon:mi,description:"Significance or consequence"},response:{label:"Response",color:"from-red-500 to-rose-600",bgColor:"bg-red-500/10",borderColor:"border-red-500/50",textColor:"text-red-400",icon:sd,description:"Counter-argument or rebuttal"},question:{label:"Question",color:"from-slate-400 to-slate-600",bgColor:"bg-slate-500/10",borderColor:"border-slate-500/50",textColor:"text-slate-400",icon:dx,description:"Cross-examination point"}},Xm={supports:{label:"Supports",color:"#22c55e",dash:!1},attacks:{label:"Attacks",color:"#ef4444",dash:!1},responds:{label:"Responds",color:"#f59e0b",dash:!0},leads_to:{label:"Leads To",color:"#8b5cf6",dash:!1},questions:{label:"Questions",color:"#64748b",dash:!0}},JN=()=>`node_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,BF=(t,e,n,s)=>{const l=Math.abs(n-t)*.3;return`M ${t} ${e} C ${t+l} ${e}, ${n-l} ${s}, ${n} ${s}`},$F=({node:t,isSelected:e,isDragging:n,onSelect:s,onDragStart:l,onDrag:o,onDragEnd:c,onEdit:h,onDelete:m,onStartConnection:f,onEndConnection:x,isConnecting:y,scale:v})=>{const w=A.useRef(null),[S,U]=A.useState(!1),[I,z]=A.useState({x:0,y:0}),L=Wu[t.type]||Wu.claim,q=L.icon,K=C=>{if(C.button!==0)return;C.stopPropagation();const O=w.current.getBoundingClientRect();z({x:C.clientX-O.left,y:C.clientY-O.top}),U(!0),l?.(t.id),s?.(t.id)},se=A.useCallback(C=>{if(!S)return;const O=(C.clientX-I.x)/v,E=(C.clientY-I.y)/v;o?.(t.id,O,E)},[S,I,v,t.id,o]),G=A.useCallback(()=>{S&&(U(!1),c?.(t.id))},[S,t.id,c]);A.useEffect(()=>{if(S)return window.addEventListener("mousemove",se),window.addEventListener("mouseup",G),()=>{window.removeEventListener("mousemove",se),window.removeEventListener("mouseup",G)}},[S,se,G]);const D=(C,O)=>{C.stopPropagation(),y?x?.(t.id):O&&f?.(t.id)};return a.jsxs(F.div,{ref:w,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1,boxShadow:e?"0 0 0 2px rgba(6, 182, 212, 0.5), 0 20px 40px rgba(0, 0, 0, 0.3)":"0 10px 30px rgba(0, 0, 0, 0.2)"},style:{position:"absolute",left:t.x,top:t.y,cursor:S?"grabbing":"grab",zIndex:e?100:S?99:10},className:`
        w-64 rounded-xl border backdrop-blur-sm
        ${L.bgColor} ${L.borderColor}
        ${e?"ring-2 ring-cyan-500/50":""}
        transition-shadow duration-200
      `,onMouseDown:K,children:[a.jsx("div",{className:`
          absolute -left-2 top-1/2 -translate-y-1/2 w-4 h-4 rounded-full 
          bg-slate-700 border-2 border-slate-500 cursor-crosshair
          hover:bg-cyan-500 hover:border-cyan-400 hover:scale-125
          transition-all duration-200
          ${y?"animate-pulse bg-cyan-500 border-cyan-400":""}
        `,onClick:C=>D(C,!1)}),a.jsx("div",{className:`
          absolute -right-2 top-1/2 -translate-y-1/2 w-4 h-4 rounded-full 
          bg-slate-700 border-2 border-slate-500 cursor-crosshair
          hover:bg-emerald-500 hover:border-emerald-400 hover:scale-125
          transition-all duration-200
        `,onClick:C=>D(C,!0)}),a.jsxs("div",{className:`flex items-center gap-2 p-3 border-b ${L.borderColor}`,children:[a.jsx("div",{className:`p-1.5 rounded-lg bg-gradient-to-br ${L.color}`,children:a.jsx(q,{className:"w-4 h-4 text-white"})}),a.jsx("span",{className:`text-xs font-semibold ${L.textColor} uppercase tracking-wider`,children:L.label}),a.jsxs("div",{className:"ml-auto flex items-center gap-1",children:[a.jsx("button",{onClick:C=>{C.stopPropagation(),h?.(t)},className:"p-1 rounded hover:bg-slate-700/50 text-slate-400 hover:text-white transition-colors",children:a.jsx(td,{className:"w-3.5 h-3.5"})}),a.jsx("button",{onClick:C=>{C.stopPropagation(),m?.(t.id)},className:"p-1 rounded hover:bg-red-500/20 text-slate-400 hover:text-red-400 transition-colors",children:a.jsx($s,{className:"w-3.5 h-3.5"})})]})]}),a.jsxs("div",{className:"p-3",children:[a.jsx("h4",{className:"text-white font-medium text-sm mb-1 line-clamp-2",children:t.title||"Untitled"}),t.content&&a.jsx("p",{className:"text-slate-400 text-xs line-clamp-3",children:t.content})]}),t.source&&a.jsx("div",{className:"px-3 pb-3",children:a.jsxs("p",{className:"text-slate-500 text-[10px] truncate",children:["Source: ",t.source]})})]})},qF=({connection:t,nodes:e,isSelected:n,onSelect:s,onDelete:l})=>{const o=e.find(U=>U.id===t.from),c=e.find(U=>U.id===t.to);if(!o||!c)return null;const h=o.x+256+8,m=o.y+50,f=c.x-8,x=c.y+50,y=Xm[t.type]||Xm.supports,v=BF(h,m,f,x),w=(h+f)/2,S=(m+x)/2;return a.jsxs("g",{className:"cursor-pointer",onClick:()=>s?.(t.id),children:[a.jsx("path",{d:v,fill:"none",stroke:y.color,strokeWidth:n?3:2,strokeDasharray:y.dash?"8 4":"none",className:"transition-all duration-200",style:{filter:n?"drop-shadow(0 0 8px currentColor)":"none"}}),a.jsx("circle",{cx:f,cy:x,r:4,fill:y.color}),a.jsxs("g",{transform:`translate(${w}, ${S})`,children:[a.jsx("rect",{x:-30,y:-10,width:60,height:20,rx:4,fill:"#1e293b",stroke:y.color,strokeWidth:1,opacity:.9}),a.jsx("text",{textAnchor:"middle",dominantBaseline:"middle",fill:y.color,fontSize:10,fontWeight:500,children:y.label})]}),n&&a.jsxs("g",{transform:`translate(${w+40}, ${S})`,onClick:U=>{U.stopPropagation(),l?.(t.id)},className:"cursor-pointer",children:[a.jsx("circle",{r:10,fill:"#ef4444"}),a.jsx("text",{textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:12,children:""})]})]})},HF=({isOpen:t,onClose:e,onAdd:n,editNode:s})=>{const[l,o]=A.useState({type:"claim",title:"",content:"",source:""});if(A.useEffect(()=>{o(s?{type:s.type||"claim",title:s.title||"",content:s.content||"",source:s.source||""}:{type:"claim",title:"",content:"",source:""})},[s,t]),!t)return null;const c=h=>{h.preventDefault(),n(l,s?.id),e()};return a.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:h=>h.target===h.currentTarget&&e(),children:a.jsxs(F.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},className:"w-full max-w-lg bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-800 rounded-3xl shadow-2xl overflow-hidden",children:[a.jsxs("div",{className:"relative p-6 border-b border-slate-800",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 via-transparent to-purple-500/10"}),a.jsxs("div",{className:"relative flex items-center justify-between",children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-600/20 border border-cyan-500/30",children:a.jsx(nf,{className:"w-5 h-5 text-cyan-400"})}),s?"Edit Node":"Add Node"]}),a.jsx(F.button,{whileHover:{scale:1.1,rotate:90},onClick:e,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:a.jsx(ls,{className:"w-5 h-5"})})]})]}),a.jsxs("form",{onSubmit:c,className:"p-6 space-y-5",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Node Type"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:Object.entries(Wu).map(([h,m])=>{const f=m.icon;return a.jsxs("button",{type:"button",onClick:()=>o({...l,type:h}),className:`
                      p-3 rounded-xl border transition-all text-left
                      ${l.type===h?`${m.bgColor} ${m.borderColor} ${m.textColor}`:"bg-slate-800/30 border-slate-700 text-slate-400 hover:bg-slate-800/50"}
                    `,children:[a.jsx(f,{className:"w-5 h-5 mb-1"}),a.jsx("p",{className:"text-xs font-medium",children:m.label})]},h)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Title *"}),a.jsx("input",{type:"text",value:l.title,onChange:h=>o({...l,title:h.target.value}),placeholder:"Enter node title...",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Content"}),a.jsx("textarea",{value:l.content,onChange:h=>o({...l,content:h.target.value}),placeholder:"Add details or explanation...",rows:3,className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all resize-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Source (optional)"}),a.jsx("input",{type:"text",value:l.source,onChange:h=>o({...l,source:h.target.value}),placeholder:"Citation or reference...",className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white placeholder-slate-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 outline-none transition-all"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-800",children:[a.jsx(F.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"px-6 py-3 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:"Cancel"}),a.jsx(F.button,{type:"submit",whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},className:"px-8 py-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold shadow-lg shadow-cyan-500/25",children:s?"Save Changes":"Add Node"})]})]})]})})},GF=({isOpen:t,onClose:e,onAdd:n,fromNode:s,toNode:l})=>{const[o,c]=A.useState("supports");return t?a.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:h=>h.target===h.currentTarget&&e(),children:a.jsxs(F.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},className:"w-full max-w-md bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-800 rounded-3xl shadow-2xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(sf,{className:"w-5 h-5 text-cyan-400"}),"Create Connection"]}),a.jsx(F.button,{whileHover:{scale:1.1,rotate:90},onClick:e,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:a.jsx(ls,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("p",{className:"text-slate-400 text-sm mb-4",children:["Connecting ",a.jsx("span",{className:"text-cyan-400 font-medium",children:s?.title})," to"," ",a.jsx("span",{className:"text-emerald-400 font-medium",children:l?.title})]}),a.jsx("div",{className:"space-y-2",children:Object.entries(Xm).map(([h,m])=>a.jsxs("button",{onClick:()=>c(h),className:`
                  w-full p-3 rounded-xl border transition-all flex items-center gap-3
                  ${o===h?"bg-slate-800 border-slate-600":"bg-slate-900/50 border-slate-800 hover:bg-slate-800/50"}
                `,children:[a.jsx("div",{className:"w-8 h-1 rounded-full",style:{backgroundColor:m.color,backgroundImage:m.dash?`repeating-linear-gradient(90deg, ${m.color}, ${m.color} 4px, transparent 4px, transparent 8px)`:"none"}}),a.jsx("span",{className:"text-white font-medium",children:m.label}),o===h&&a.jsx(sa,{className:"w-4 h-4 text-cyan-400 ml-auto"})]},h))})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(F.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"px-6 py-3 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:"Cancel"}),a.jsx(F.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{n(o),e()},className:"px-8 py-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold shadow-lg shadow-cyan-500/25",children:"Connect"})]})]})}):null},YF=({scale:t,onZoomIn:e,onZoomOut:n,onResetView:s,onAddNode:l,onExportPNG:o,onExportPDF:c,onSave:h,onLoad:m,tool:f,setTool:x,showGrid:y,setShowGrid:v})=>a.jsxs("div",{className:"absolute top-4 left-4 z-30 flex flex-col gap-2",children:[a.jsxs("div",{className:"p-2 rounded-xl bg-slate-900/90 border border-slate-800 backdrop-blur-sm flex flex-col gap-1",children:[a.jsx("button",{onClick:()=>x("select"),className:`p-2.5 rounded-lg transition-all ${f==="select"?"bg-cyan-500/20 text-cyan-400":"text-slate-400 hover:text-white hover:bg-slate-800"}`,title:"Select Tool (V)",children:a.jsx(qC,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>x("pan"),className:`p-2.5 rounded-lg transition-all ${f==="pan"?"bg-cyan-500/20 text-cyan-400":"text-slate-400 hover:text-white hover:bg-slate-800"}`,title:"Pan Tool (H)",children:a.jsx(dC,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-2 rounded-xl bg-slate-900/90 border border-slate-800 backdrop-blur-sm flex flex-col gap-1",children:[a.jsx("button",{onClick:e,className:"p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Zoom In (+)",children:a.jsx(lk,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-center text-xs text-slate-500 py-1",children:[Math.round(t*100),"%"]}),a.jsx("button",{onClick:n,className:"p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Zoom Out (-)",children:a.jsx(uk,{className:"w-5 h-5"})}),a.jsx("button",{onClick:s,className:"p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Reset View (R)",children:a.jsx(dj,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"p-2 rounded-xl bg-slate-900/90 border border-slate-800 backdrop-blur-sm",children:a.jsx("button",{onClick:()=>v(!y),className:`p-2.5 rounded-lg transition-all ${y?"bg-cyan-500/20 text-cyan-400":"text-slate-400 hover:text-white hover:bg-slate-800"}`,title:"Toggle Grid (G)",children:a.jsx(fx,{className:"w-5 h-5"})})})]}),QF=({onAddNode:t,onExportPNG:e,onExportPDF:n,onSave:s,onLoad:l,onClear:o})=>a.jsxs("div",{className:"absolute top-4 right-4 z-30 flex flex-col gap-2",children:[a.jsx(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"p-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white shadow-lg shadow-cyan-500/25",title:"Add Node (N)",children:a.jsx(hn,{className:"w-5 h-5"})}),a.jsxs("div",{className:"p-2 rounded-xl bg-slate-900/90 border border-slate-800 backdrop-blur-sm flex flex-col gap-1",children:[a.jsx("button",{onClick:s,className:"p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Save Flowchart",children:a.jsx(lf,{className:"w-5 h-5"})}),a.jsx("button",{onClick:l,className:"p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Load Flowchart",children:a.jsx(mx,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-2 rounded-xl bg-slate-900/90 border border-slate-800 backdrop-blur-sm flex flex-col gap-1",children:[a.jsx("button",{onClick:e,className:"p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Export as PNG",children:a.jsx(_m,{className:"w-5 h-5"})}),a.jsx("button",{onClick:n,className:"p-2.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all",title:"Export as PDF",children:a.jsx(rs,{className:"w-5 h-5"})})]}),a.jsx("button",{onClick:o,className:"p-2.5 rounded-xl bg-slate-900/90 border border-slate-800 backdrop-blur-sm text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-all",title:"Clear Canvas",children:a.jsx($s,{className:"w-5 h-5"})})]}),KF=()=>a.jsxs("div",{className:"absolute bottom-4 left-4 z-30 p-4 rounded-xl bg-slate-900/90 border border-slate-800 backdrop-blur-sm",children:[a.jsx("h4",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Node Types"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(Wu).map(([t,e])=>{const n=e.icon;return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`p-1 rounded ${e.bgColor}`,children:a.jsx(n,{className:`w-3 h-3 ${e.textColor}`})}),a.jsx("span",{className:"text-xs text-slate-400",children:e.label})]},t)})})]}),XF=({onAddNode:t})=>a.jsx(F.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:a.jsxs("div",{className:"text-center pointer-events-auto",children:[a.jsxs("div",{className:"relative inline-block mb-8",children:[a.jsx(F.div,{animate:{scale:[1,1.2,1],opacity:[.3,.1,.3]},transition:{duration:3,repeat:1/0},className:"absolute inset-0 w-32 h-32 rounded-full bg-cyan-500/20 blur-xl"}),a.jsx(F.div,{animate:{y:[0,-5,0]},transition:{duration:3,repeat:1/0},className:"relative p-6 rounded-3xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-slate-700/50 backdrop-blur-xl shadow-2xl",children:a.jsx(nf,{className:"w-16 h-16 text-cyan-400"})})]}),a.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Start Building Your Flow"}),a.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-8 leading-relaxed",children:"Create argument structures visually. Add claims, evidence, warrants, and connect them to see your case flow."}),a.jsxs(F.button,{whileHover:{scale:1.05,boxShadow:"0 20px 40px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.98},onClick:t,className:"px-8 py-4 rounded-2xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold text-lg shadow-lg shadow-cyan-500/25 inline-flex items-center gap-3",children:[a.jsx(hn,{className:"w-5 h-5"}),"Add First Node",a.jsx(Nn,{className:"w-5 h-5"})]})]})}),WF=()=>{const{user:t}=Mn(),e=A.useRef(null),n=A.useRef(null),[s,l]=A.useState([]),[o,c]=A.useState([]),[h,m]=A.useState(1),[f,x]=A.useState({x:0,y:0}),[y,v]=A.useState("select"),[w,S]=A.useState(!0),[U,I]=A.useState(null),[z,L]=A.useState(null),[q,K]=A.useState(!1),[se,G]=A.useState(null),[D,C]=A.useState(!1),[O,E]=A.useState(null),[T,M]=A.useState(!1),[R,te]=A.useState(null),[J,$]=A.useState(!1),[W,he]=A.useState({x:0,y:0});A.useEffect(()=>{const we=je=>{if(!(je.target.tagName==="INPUT"||je.target.tagName==="TEXTAREA"))switch(je.key.toLowerCase()){case"n":C(!0);break;case"v":v("select");break;case"h":v("pan");break;case"g":S(Ae=>!Ae);break;case"r":ie();break;case"+":case"=":be();break;case"-":B();break;case"delete":case"backspace":U?ct(U):z&&jn(z);break;case"escape":K(!1),G(null),I(null),L(null);break}};return window.addEventListener("keydown",we),()=>window.removeEventListener("keydown",we)},[U,z]);const be=()=>m(we=>Math.min(we*1.2,3)),B=()=>m(we=>Math.max(we/1.2,.25)),ie=()=>{m(1),x({x:0,y:0})},ge=we=>{if(we.ctrlKey||we.metaKey){we.preventDefault();const je=we.deltaY>0?.9:1.1;m(Ae=>Math.min(Math.max(Ae*je,.25),3))}},P=we=>{y==="pan"||we.button===1?($(!0),he({x:we.clientX-f.x,y:we.clientY-f.y})):y==="select"&&(we.target===e.current||we.target.tagName==="svg")&&(I(null),L(null),q&&(K(!1),G(null)))},Ee=we=>{J&&x({x:we.clientX-W.x,y:we.clientY-W.y})},Ve=()=>{$(!1)},Be=(we,je)=>{if(je)l(s.map(Ae=>Ae.id===je?{...Ae,...we}:Ae));else{const Ae=n.current?.getBoundingClientRect(),Ke={id:JN(),...we,x:(Ae?.width/2-128-f.x)/h+Math.random()*100-50,y:(Ae?.height/2-50-f.y)/h+Math.random()*100-50};l([...s,Ke])}E(null)},ct=we=>{l(s.filter(je=>je.id!==we)),c(o.filter(je=>je.from!==we&&je.to!==we)),I(null)},wt=(we,je,Ae)=>{l(s.map(Ke=>Ke.id===we?{...Ke,x:je,y:Ae}:Ke))},xt=we=>{K(!0),G(we)},pn=we=>{se&&se!==we&&(o.some(Ae=>Ae.from===se&&Ae.to===we||Ae.from===we&&Ae.to===se)||(te({from:se,to:we}),M(!0))),K(!1),G(null)},gn=we=>{if(R){const je={id:JN(),from:R.from,to:R.to,type:we};c([...o,je]),te(null)}},jn=we=>{c(o.filter(je=>je.id!==we)),L(null)},pe=async()=>{if(e.current)try{const we=document.createElement("canvas"),je=we.getContext("2d");we.width=1920,we.height=1080,je.fillStyle="#0f172a",je.fillRect(0,0,we.width,we.height),s.forEach(Ke=>{const _n=Wu[Ke.type];je.fillStyle="#1e293b",je.strokeStyle="#334155",je.lineWidth=2,je.beginPath(),je.roundRect(Ke.x,Ke.y,256,100,12),je.fill(),je.stroke(),je.fillStyle="#fff",je.font="14px sans-serif",je.fillText(Ke.title||"Untitled",Ke.x+12,Ke.y+50)}),o.forEach(Ke=>{const _n=s.find(Pt=>Pt.id===Ke.from),cn=s.find(Pt=>Pt.id===Ke.to);if(_n&&cn){const Pt=Xm[Ke.type];je.strokeStyle=Pt.color,je.lineWidth=2,je.beginPath(),je.moveTo(_n.x+256,_n.y+50),je.lineTo(cn.x,cn.y+50),je.stroke()}});const Ae=document.createElement("a");Ae.download=`argument-flow-${Date.now()}.png`,Ae.href=we.toDataURL("image/png"),Ae.click()}catch(we){console.error("Export failed:",we),alert("Export failed. Please try again.")}},ye=()=>{window.print()},ke=()=>{const je=JSON.stringify({nodes:s,connections:o,scale:h,offset:f},null,2),Ae=new Blob([je],{type:"application/json"}),Ke=document.createElement("a");Ke.download=`argument-flow-${Date.now()}.json`,Ke.href=URL.createObjectURL(Ae),Ke.click()},$e=()=>{const we=document.createElement("input");we.type="file",we.accept=".json",we.onchange=je=>{const Ae=je.target.files[0];if(Ae){const Ke=new FileReader;Ke.onload=_n=>{try{const cn=JSON.parse(_n.target.result);l(cn.nodes||[]),c(cn.connections||[]),cn.scale&&m(cn.scale),cn.offset&&x(cn.offset)}catch(cn){console.error("Load failed:",cn),alert("Failed to load file. Please check the format.")}},Ke.readAsText(Ae)}},we.click()},Qt=()=>{s.length===0&&o.length===0||confirm("Clear all nodes and connections?")&&(l([]),c([]),I(null),L(null))};return a.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"h-[calc(100vh-8rem)]",children:[a.jsxs("div",{className:"space-y-4 h-full flex flex-col",children:[a.jsx("div",{className:"flex items-start justify-between flex-shrink-0",children:a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-600/20 border border-cyan-500/30",children:a.jsx(nf,{className:"w-7 h-7 text-cyan-400"})}),"Argument Flowchart"]}),a.jsxs("p",{className:"text-slate-400 mt-2",children:[s.length," nodes  ",o.length," connections"]})]})}),a.jsxs("div",{ref:n,className:"flex-1 relative rounded-2xl border border-slate-800/60 bg-slate-950 overflow-hidden",style:{cursor:y==="pan"?"grab":J?"grabbing":"default"},onMouseDown:P,onMouseMove:Ee,onMouseUp:Ve,onMouseLeave:Ve,onWheel:ge,children:[w&&a.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none",style:{backgroundImage:`
                  linear-gradient(rgba(100, 116, 139, 0.3) 1px, transparent 1px),
                  linear-gradient(90deg, rgba(100, 116, 139, 0.3) 1px, transparent 1px)
                `,backgroundSize:`${32*h}px ${32*h}px`,backgroundPosition:`${f.x}px ${f.y}px`}}),a.jsxs("div",{ref:e,className:"absolute inset-0",style:{transform:`translate(${f.x}px, ${f.y}px) scale(${h})`,transformOrigin:"0 0"},children:[a.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{overflow:"visible"},children:[o.map(we=>a.jsx(qF,{connection:we,nodes:s,isSelected:z===we.id,onSelect:je=>{L(je),I(null)},onDelete:jn},we.id)),q&&se&&a.jsx("line",{x1:s.find(we=>we.id===se)?.x+256+8,y1:s.find(we=>we.id===se)?.y+50,x2:(f.x*-1+(n.current?.clientWidth/2||0))/h,y2:(f.y*-1+(n.current?.clientHeight/2||0))/h,stroke:"#06b6d4",strokeWidth:2,strokeDasharray:"8 4",className:"pointer-events-none"})]}),s.map(we=>a.jsx($F,{node:we,isSelected:U===we.id,onSelect:je=>{I(je),L(null)},onDragStart:()=>{},onDrag:wt,onDragEnd:()=>{},onEdit:je=>{E(je),C(!0)},onDelete:ct,onStartConnection:xt,onEndConnection:pn,isConnecting:q,scale:h},we.id))]}),s.length===0&&a.jsx(XF,{onAddNode:()=>C(!0)}),a.jsx(YF,{scale:h,onZoomIn:be,onZoomOut:B,onResetView:ie,tool:y,setTool:v,showGrid:w,setShowGrid:S}),a.jsx(QF,{onAddNode:()=>C(!0),onExportPNG:pe,onExportPDF:ye,onSave:ke,onLoad:$e,onClear:Qt}),a.jsx(KF,{}),q&&a.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 px-4 py-2 rounded-full bg-cyan-500/20 border border-cyan-500/50 text-cyan-400 text-sm font-medium flex items-center gap-2",children:[a.jsx(sf,{className:"w-4 h-4"}),"Click a node to connect",a.jsx("button",{onClick:()=>{K(!1),G(null)},className:"ml-2 p-1 rounded hover:bg-cyan-500/20",children:a.jsx(ls,{className:"w-4 h-4"})})]})]})]}),a.jsx(ot,{children:D&&a.jsx(HF,{isOpen:D,onClose:()=>{C(!1),E(null)},onAdd:Be,editNode:O})}),a.jsx(ot,{children:T&&R&&a.jsx(GF,{isOpen:T,onClose:()=>{M(!1),te(null)},onAdd:gn,fromNode:s.find(we=>we.id===R.from),toNode:s.find(we=>we.id===R.to)})})]})},JF=["um","uh","like","you know","so","actually","basically","literally","right","okay"],vg={excellent:85,good:70,fair:55},ml={slow:100,normal:150,fast:180,veryFast:200},ZF=({analyser:t,isRecording:e,audioData:n})=>{const s=A.useRef(null),l=A.useRef(null);return A.useEffect(()=>{if(!s.current)return;const o=s.current,c=o.getContext("2d"),h=o.width,m=o.height,f=()=>{if(!t){c.fillStyle="#0f172a",c.fillRect(0,0,h,m),c.beginPath(),c.strokeStyle="#334155",c.lineWidth=2,c.moveTo(0,m/2),c.lineTo(h,m/2),c.stroke();return}const x=t.frequencyBinCount,y=new Uint8Array(x);t.getByteTimeDomainData(y),c.fillStyle="#0f172a",c.fillRect(0,0,h,m);const v=c.createLinearGradient(0,0,h,0);v.addColorStop(0,"#06b6d4"),v.addColorStop(.5,"#8b5cf6"),v.addColorStop(1,"#06b6d4"),c.lineWidth=2,c.strokeStyle=e?v:"#475569",c.beginPath();const w=h/x;let S=0;for(let U=0;U<x;U++){const z=y[U]/128*m/2;U===0?c.moveTo(S,z):c.lineTo(S,z),S+=w}c.lineTo(h,m/2),c.stroke(),e&&(c.shadowBlur=10,c.shadowColor="#06b6d4"),l.current=requestAnimationFrame(f)};return f(),()=>{l.current&&cancelAnimationFrame(l.current)}},[t,e]),a.jsx("canvas",{ref:s,width:800,height:150,className:"w-full h-32 rounded-xl border border-slate-800"})},eB=({analyser:t,isRecording:e})=>{const n=A.useRef(null),s=A.useRef(null);return A.useEffect(()=>{if(!n.current)return;const l=n.current,o=l.getContext("2d"),c=l.width,h=l.height,m=()=>{if(!t){o.fillStyle="#0f172a",o.fillRect(0,0,c,h);const S=32,U=c/S-2;for(let I=0;I<S;I++)o.fillStyle="#1e293b",o.fillRect(I*(U+2),h-20,U,20);return}const f=t.frequencyBinCount,x=new Uint8Array(f);t.getByteFrequencyData(x),o.fillStyle="#0f172a",o.fillRect(0,0,c,h);const y=64,v=c/y-2,w=Math.floor(f/y);for(let S=0;S<y;S++){const I=x[S*w]/255*h*.9,z=S/y*60+180;o.fillStyle=e?`hsla(${z}, 80%, 60%, 0.8)`:"#334155";const L=S*(v+2),q=h-I;o.beginPath(),o.roundRect(L,q,v,I,2),o.fill()}s.current=requestAnimationFrame(m)};return m(),()=>{s.current&&cancelAnimationFrame(s.current)}},[t,e]),a.jsx("canvas",{ref:n,width:400,height:120,className:"w-full h-28 rounded-xl border border-slate-800"})},tB=({pitchHistory:t,currentPitch:e})=>{const n=A.useRef(null);return A.useEffect(()=>{if(!n.current)return;const s=n.current,l=s.getContext("2d"),o=s.width,c=s.height;l.fillStyle="#0f172a",l.fillRect(0,0,o,c),l.strokeStyle="#1e293b",l.lineWidth=1;for(let y=0;y<5;y++){const v=c/5*y;l.beginPath(),l.moveTo(0,v),l.lineTo(o,v),l.stroke()}if(l.fillStyle="#64748b",l.font="10px sans-serif",l.fillText("High",5,15),l.fillText("Low",5,c-5),t.length<2)return;const h=l.createLinearGradient(0,0,o,0);h.addColorStop(0,"#06b6d4"),h.addColorStop(1,"#8b5cf6"),l.strokeStyle=h,l.lineWidth=2,l.beginPath();const m=Math.max(...t,300),f=Math.min(...t.filter(y=>y>0),80),x=m-f||1;if(t.forEach((y,v)=>{const w=v/(t.length-1)*o,S=y>0?(y-f)/x:.5,U=c-S*c*.8-c*.1;v===0?l.moveTo(w,U):l.lineTo(w,U)}),l.stroke(),e>0){const y=(e-f)/x,v=c-y*c*.8-c*.1;l.beginPath(),l.arc(o-5,v,4,0,Math.PI*2),l.fillStyle="#06b6d4",l.fill(),l.shadowBlur=10,l.shadowColor="#06b6d4",l.fill()}},[t,e]),a.jsx("canvas",{ref:n,width:300,height:100,className:"w-full h-24 rounded-xl border border-slate-800"})},lm=({icon:t,label:e,value:n,subValue:s,trend:l,color:o="cyan"})=>{const c={cyan:"from-cyan-500/20 to-cyan-600/20 border-cyan-500/30 text-cyan-400",emerald:"from-emerald-500/20 to-emerald-600/20 border-emerald-500/30 text-emerald-400",purple:"from-purple-500/20 to-purple-600/20 border-purple-500/30 text-purple-400",amber:"from-amber-500/20 to-amber-600/20 border-amber-500/30 text-amber-400",red:"from-red-500/20 to-red-600/20 border-red-500/30 text-red-400"},h=l==="up"?wl:l==="down"?uf:af;return a.jsx("div",{className:`p-4 rounded-xl bg-gradient-to-br ${c[o]} border backdrop-blur-sm`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-400 text-xs font-medium uppercase tracking-wider",children:e}),a.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:n}),s&&a.jsx("p",{className:"text-slate-500 text-xs mt-1",children:s})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[l&&a.jsx(h,{className:`w-4 h-4 ${l==="up"?"text-emerald-400":l==="down"?"text-red-400":"text-slate-400"}`}),a.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-br ${c[o]}`,children:a.jsx(t,{className:"w-5 h-5"})})]})]})})},nB=({word:t,count:e})=>a.jsxs(F.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-amber-500/10 border border-amber-500/30",children:[a.jsxs("span",{className:"text-amber-400 text-sm font-medium",children:['"',t,'"']}),a.jsx("span",{className:"px-1.5 py-0.5 rounded-full bg-amber-500/20 text-amber-300 text-xs font-bold",children:e})]}),sB=({score:t})=>{const e=()=>t>=vg.excellent?{bg:"bg-emerald-500",text:"text-emerald-400",label:"Excellent"}:t>=vg.good?{bg:"bg-cyan-500",text:"text-cyan-400",label:"Good"}:t>=vg.fair?{bg:"bg-amber-500",text:"text-amber-400",label:"Fair"}:{bg:"bg-red-500",text:"text-red-400",label:"Needs Work"},{bg:n,text:s,label:l}=e();return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-slate-400 text-sm",children:"Confidence Score"}),a.jsxs("span",{className:`${s} font-bold`,children:[t,"%"]})]}),a.jsx("div",{className:"h-3 rounded-full bg-slate-800 overflow-hidden",children:a.jsx(F.div,{initial:{width:0},animate:{width:`${t}%`},transition:{duration:1,ease:"easeOut"},className:`h-full rounded-full ${n}`})}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:s,children:l}),a.jsx("span",{className:"text-slate-500",children:"Target: 85%+"})]})]})},aB=({recording:t,onPlay:e,onDelete:n,isPlaying:s})=>{const l=o=>{const c=Math.floor(o/60),h=Math.floor(o%60);return`${c}:${h.toString().padStart(2,"0")}`};return a.jsxs(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center gap-4 p-4 rounded-xl bg-slate-800/30 border border-slate-800/60 hover:border-slate-700/60 transition-all group",children:[a.jsx(F.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>e(t),className:`p-3 rounded-xl transition-all ${s?"bg-cyan-500 text-white":"bg-slate-700 text-slate-300 hover:bg-cyan-500 hover:text-white"}`,children:s?a.jsx(rf,{className:"w-5 h-5"}):a.jsx(Ni,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-white font-medium truncate",children:t.name}),a.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-500",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Dn,{className:"w-3.5 h-3.5"}),l(t.duration)]}),a.jsx("span",{children:new Date(t.timestamp).toLocaleDateString()})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.confidence>=80?"bg-emerald-500/10 text-emerald-400":t.confidence>=60?"bg-amber-500/10 text-amber-400":"bg-red-500/10 text-red-400"}`,children:[t.confidence,"%"]})}),a.jsx(F.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>n(t.id),className:"p-2 rounded-lg text-slate-400 hover:text-red-400 hover:bg-red-500/10 opacity-0 group-hover:opacity-100 transition-all",children:a.jsx($s,{className:"w-4 h-4"})})]})},rB=()=>a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"inline-flex p-4 rounded-full bg-slate-800/50 mb-4",children:a.jsx(fj,{className:"w-8 h-8 text-slate-500"})}),a.jsx("p",{className:"text-slate-400",children:"No recordings yet"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Start recording to analyze your speech"})]}),iB=()=>{const{user:t}=Mn(),[e,n]=A.useState(!1),[s,l]=A.useState(!1),[o,c]=A.useState(0),[h,m]=A.useState(null),[f,x]=A.useState(!1),[y,v]=A.useState(null),[w,S]=A.useState([]),[U,I]=A.useState(0),[z,L]=A.useState(0),[q,K]=A.useState({}),[se,G]=A.useState(0),[D,C]=A.useState(0),[O,E]=A.useState(0),[T,M]=A.useState([]),R=A.useRef(null),te=A.useRef(null),J=A.useRef(null),$=A.useRef(null),W=A.useRef([]),he=A.useRef(null),be=A.useRef(new Audio),B=A.useCallback(async()=>{try{const pe=await navigator.mediaDevices.getUserMedia({audio:!0});return $.current=pe,te.current=new(window.AudioContext||window.webkitAudioContext),J.current=te.current.createAnalyser(),J.current.fftSize=2048,J.current.smoothingTimeConstant=.8,te.current.createMediaStreamSource(pe).connect(J.current),R.current=new MediaRecorder(pe),R.current.ondataavailable=ke=>{ke.data.size>0&&W.current.push(ke.data)},R.current.onstop=()=>{const ke=new Blob(W.current,{type:"audio/webm"});m(ke),W.current=[]},!0}catch(pe){return console.error("Failed to initialize audio:",pe),!1}},[]),ie=A.useCallback(()=>{if(!J.current)return 0;const pe=J.current.fftSize,ye=new Float32Array(pe);J.current.getFloatTimeDomainData(ye);let ke=0,$e=-1;const Qt=te.current?.sampleRate||44100,we=Math.floor(Qt/400),je=Math.floor(Qt/80);for(let Ae=we;Ae<je;Ae++){let Ke=0;for(let _n=0;_n<pe-Ae;_n++)Ke+=ye[_n]*ye[_n+Ae];Ke>ke&&(ke=Ke,$e=Ae)}return $e>0&&ke>.01?Qt/$e:0},[]),ge=A.useCallback(()=>{if(!J.current)return 0;const pe=J.current.frequencyBinCount,ye=new Uint8Array(pe);J.current.getByteFrequencyData(ye);const ke=ye.reduce(($e,Qt)=>$e+Qt,0);return Math.round(ke/pe/255*100)},[]);A.useEffect(()=>{let pe;return e&&!s&&(pe=setInterval(()=>{const ye=ie();ye>0&&(I(Math.round(ye)),S($e=>[...$e.slice(-100),ye]));const ke=ge();if(C(ke),ke>20&&(L($e=>Math.min(200,$e+Math.random()*5)),E($e=>$e+(Math.random()>.7?1:0))),Math.random()<.02&&ke>30){const $e=JF[Math.floor(Math.random()*3)];K(Qt=>({...Qt,[$e]:(Qt[$e]||0)+1}))}},100)),()=>{pe&&clearInterval(pe)}},[e,s,ie,ge]),A.useEffect(()=>{const pe=Object.values(q).reduce((je,Ae)=>je+Ae,0),ye=Math.min(30,pe*3),ke=w.length>10?Math.min(20,(Math.max(...w)-Math.min(...w.filter(je=>je>0)))/10):10,$e=z>=ml.slow&&z<=ml.fast?20:10,we=Math.max(0,Math.min(100,70-ye+ke+$e));G(Math.round(we))},[q,w,z]),A.useEffect(()=>(e&&!s?he.current=setInterval(()=>{c(pe=>pe+1)},1e3):he.current&&clearInterval(he.current),()=>{he.current&&clearInterval(he.current)}),[e,s]);const P=async()=>{if(!await B()){alert("Could not access microphone. Please check permissions.");return}c(0),S([]),K({}),L(0),E(0),G(0),m(null),R.current?.start(100),n(!0),l(!1)},Ee=()=>{R.current?.stop(),$.current?.getTracks().forEach(pe=>pe.stop()),n(!1),l(!1)},Ve=()=>{s?R.current?.resume():R.current?.pause(),l(!s)},Be=()=>{if(!h)return;const pe={id:Date.now().toString(),name:`Recording ${T.length+1}`,blob:h,duration:o,timestamp:new Date().toISOString(),confidence:se,fillerWords:{...q},speakingRate:z,wordCount:O};M(ye=>[pe,...ye]),m(null),c(0)},ct=pe=>{if(y===pe.id)be.current.pause(),x(!1),v(null);else{const ye=URL.createObjectURL(pe.blob);be.current.src=ye,be.current.play(),x(!0),v(pe.id),be.current.onended=()=>{x(!1),v(null)}}},wt=pe=>{M(ye=>ye.filter(ke=>ke.id!==pe)),y===pe&&(be.current.pause(),x(!1),v(null))},xt=()=>{if(!h)return;const pe=URL.createObjectURL(h),ye=document.createElement("a");ye.href=pe,ye.download=`voice-recording-${Date.now()}.webm`,ye.click()},pn=pe=>{const ye=Math.floor(pe/60),ke=pe%60;return`${ye.toString().padStart(2,"0")}:${ke.toString().padStart(2,"0")}`},gn=()=>z<ml.slow?{label:"Too Slow",color:"text-amber-400"}:z<ml.normal?{label:"Slow",color:"text-cyan-400"}:z<ml.fast?{label:"Normal",color:"text-emerald-400"}:z<ml.veryFast?{label:"Fast",color:"text-amber-400"}:{label:"Too Fast",color:"text-red-400"},jn=Object.values(q).reduce((pe,ye)=>pe+ye,0);return a.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-600/20 border border-cyan-500/30",children:a.jsx(ak,{className:"w-7 h-7 text-cyan-400"})}),"Voice Analysis"]}),a.jsx("p",{className:"text-slate-400 mt-2",children:"Real-time speech pattern analysis and feedback"})]})}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"p-6 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/80 to-slate-950/80",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-white font-semibold flex items-center gap-2",children:[a.jsx(vi,{className:"w-5 h-5 text-cyan-400"}),"Waveform"]}),e&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"relative flex h-3 w-3",children:[a.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),a.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),a.jsx("span",{className:"text-red-400 text-sm font-medium",children:"Recording"})]})]}),a.jsx(ZF,{analyser:J.current,isRecording:e&&!s}),a.jsx("div",{className:"flex items-center justify-center gap-4 mt-6",children:e?a.jsxs(a.Fragment,{children:[a.jsx(F.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Ve,className:`p-4 rounded-xl ${s?"bg-emerald-500 text-white":"bg-slate-700 text-white hover:bg-slate-600"}`,children:s?a.jsx(Ni,{className:"w-6 h-6"}):a.jsx(rf,{className:"w-6 h-6"})}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-3xl font-bold text-white font-mono",children:pn(o)}),a.jsx("p",{className:"text-slate-500 text-sm",children:s?"Paused":"Recording..."})]}),a.jsx(F.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Ee,className:"p-4 rounded-xl bg-red-500 text-white hover:bg-red-600",children:a.jsx(xj,{className:"w-6 h-6"})})]}):a.jsxs(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:P,className:"px-8 py-4 rounded-2xl bg-gradient-to-r from-red-500 to-rose-600 text-white font-semibold text-lg shadow-lg shadow-red-500/25 flex items-center gap-3",children:[a.jsx(ra,{className:"w-6 h-6"}),"Start Recording"]})}),h&&!e&&a.jsxs("div",{className:"flex items-center justify-center gap-3 mt-4 pt-4 border-t border-slate-800",children:[a.jsxs(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Be,className:"px-6 py-2.5 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-medium shadow-lg shadow-cyan-500/25 flex items-center gap-2",children:[a.jsx(lf,{className:"w-4 h-4"}),"Save Recording"]}),a.jsxs(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:xt,className:"px-6 py-2.5 rounded-xl bg-slate-700 text-white font-medium hover:bg-slate-600 flex items-center gap-2",children:[a.jsx(Wo,{className:"w-4 h-4"}),"Download"]})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-xl border border-slate-800/60 bg-slate-900/50",children:[a.jsxs("h4",{className:"text-white font-medium mb-3 flex items-center gap-2",children:[a.jsx(Qn,{className:"w-4 h-4 text-purple-400"}),"Frequency Spectrum"]}),a.jsx(eB,{analyser:J.current,isRecording:e&&!s})]}),a.jsxs("div",{className:"p-4 rounded-xl border border-slate-800/60 bg-slate-900/50",children:[a.jsxs("h4",{className:"text-white font-medium mb-3 flex items-center gap-2",children:[a.jsx(wl,{className:"w-4 h-4 text-cyan-400"}),"Pitch Variation"]}),a.jsx(tB,{pitchHistory:w,currentPitch:U})]})]}),a.jsxs("div",{className:"p-5 rounded-xl border border-slate-800/60 bg-slate-900/50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h4",{className:"text-white font-medium flex items-center gap-2",children:[a.jsx(mi,{className:"w-4 h-4 text-amber-400"}),"Filler Words Detected"]}),a.jsx("span",{className:`text-2xl font-bold ${jn>10?"text-red-400":jn>5?"text-amber-400":"text-emerald-400"}`,children:jn})]}),Object.keys(q).length>0?a.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(q).map(([pe,ye])=>a.jsx(nB,{word:pe,count:ye},pe))}):a.jsx("p",{className:"text-slate-500 text-sm",children:e?"Listening for filler words...":"No filler words detected"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-white font-semibold flex items-center gap-2",children:[a.jsx(Pu,{className:"w-5 h-5 text-amber-400"}),"Live Metrics"]}),a.jsx(lm,{icon:bj,label:"Volume Level",value:`${D}%`,color:"cyan"}),a.jsx(lm,{icon:vi,label:"Current Pitch",value:U>0?`${U} Hz`:"",subValue:U>200?"High":U>120?"Normal":"Low",color:"purple"}),a.jsx(lm,{icon:Dn,label:"Speaking Rate",value:`${Math.round(z)} WPM`,subValue:gn().label,color:z>ml.fast?"amber":"emerald"}),a.jsx(lm,{icon:MessageSquare,label:"Word Count",value:O,color:"cyan"})]}),a.jsxs("div",{className:"p-5 rounded-xl border border-slate-800/60 bg-gradient-to-br from-slate-900/80 to-slate-950/80",children:[a.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Fs,{className:"w-5 h-5 text-cyan-400"}),"Confidence Analysis"]}),a.jsx(sB,{score:se})]}),a.jsxs("div",{className:"p-5 rounded-xl border border-slate-800/60 bg-gradient-to-br from-slate-900/80 to-slate-950/80",children:[a.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[a.jsx(fj,{className:"w-5 h-5 text-purple-400"}),"Saved Recordings",T.length>0&&a.jsx("span",{className:"ml-auto px-2 py-0.5 rounded-full bg-slate-800 text-slate-400 text-xs",children:T.length})]}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:T.length>0?T.map(pe=>a.jsx(aB,{recording:pe,onPlay:ct,onDelete:wt,isPlaying:y===pe.id},pe.id)):a.jsx(rB,{})})]}),a.jsxs("div",{className:"p-4 rounded-xl border border-cyan-500/20 bg-cyan-500/5",children:[a.jsxs("h4",{className:"text-cyan-400 font-medium mb-2 flex items-center gap-2",children:[a.jsx(ed,{className:"w-4 h-4"}),"Tips for Better Speech"]}),a.jsxs("ul",{className:"space-y-2 text-sm text-slate-400",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(sa,{className:"w-4 h-4 text-emerald-400 mt-0.5 flex-shrink-0"}),"Aim for 130-160 words per minute"]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(sa,{className:"w-4 h-4 text-emerald-400 mt-0.5 flex-shrink-0"}),"Vary your pitch to maintain engagement"]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(sa,{className:"w-4 h-4 text-emerald-400 mt-0.5 flex-shrink-0"}),"Pause instead of using filler words"]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(sa,{className:"w-4 h-4 text-emerald-400 mt-0.5 flex-shrink-0"}),"Practice breath control for steady volume"]})]})]})]})]})]})})},Co={ld:{name:"Lincoln-Douglas",shortName:"LD",segments:[{name:"AC",fullName:"Affirmative Constructive",time:360,speaker:"aff"},{name:"CX",fullName:"Cross-Examination",time:180,speaker:"neg"},{name:"NC",fullName:"Negative Constructive",time:420,speaker:"neg"},{name:"CX",fullName:"Cross-Examination",time:180,speaker:"aff"},{name:"1AR",fullName:"First Affirmative Rebuttal",time:240,speaker:"aff"},{name:"NR",fullName:"Negative Rebuttal",time:360,speaker:"neg"},{name:"2AR",fullName:"Second Affirmative Rebuttal",time:180,speaker:"aff"}],prepTime:{aff:240,neg:240}},pf:{name:"Public Forum",shortName:"PF",segments:[{name:"Pro",fullName:"First Pro Speech",time:240,speaker:"pro"},{name:"Con",fullName:"First Con Speech",time:240,speaker:"con"},{name:"CX",fullName:"Crossfire",time:180,speaker:"both"},{name:"Pro",fullName:"Second Pro Speech",time:240,speaker:"pro"},{name:"Con",fullName:"Second Con Speech",time:240,speaker:"con"},{name:"CX",fullName:"Crossfire",time:180,speaker:"both"},{name:"Sum",fullName:"Pro Summary",time:180,speaker:"pro"},{name:"Sum",fullName:"Con Summary",time:180,speaker:"con"},{name:"GCX",fullName:"Grand Crossfire",time:180,speaker:"both"},{name:"FF",fullName:"Pro Final Focus",time:120,speaker:"pro"},{name:"FF",fullName:"Con Final Focus",time:120,speaker:"con"}],prepTime:{pro:120,con:120}},policy:{name:"Policy",shortName:"CX",segments:[{name:"1AC",fullName:"First Affirmative Constructive",time:480,speaker:"aff"},{name:"CX",fullName:"Cross-Examination",time:180,speaker:"neg"},{name:"1NC",fullName:"First Negative Constructive",time:480,speaker:"neg"},{name:"CX",fullName:"Cross-Examination",time:180,speaker:"aff"},{name:"2AC",fullName:"Second Affirmative Constructive",time:480,speaker:"aff"},{name:"CX",fullName:"Cross-Examination",time:180,speaker:"neg"},{name:"2NC",fullName:"Second Negative Constructive",time:480,speaker:"neg"},{name:"CX",fullName:"Cross-Examination",time:180,speaker:"aff"},{name:"1NR",fullName:"First Negative Rebuttal",time:300,speaker:"neg"},{name:"1AR",fullName:"First Affirmative Rebuttal",time:300,speaker:"aff"},{name:"2NR",fullName:"Second Negative Rebuttal",time:300,speaker:"neg"},{name:"2AR",fullName:"Second Affirmative Rebuttal",time:300,speaker:"aff"}],prepTime:{aff:480,neg:480}},parli:{name:"Parliamentary",shortName:"Parli",segments:[{name:"PM",fullName:"Prime Minister Constructive",time:420,speaker:"gov"},{name:"LO",fullName:"Leader of Opposition",time:480,speaker:"opp"},{name:"MG",fullName:"Member of Government",time:480,speaker:"gov"},{name:"MO",fullName:"Member of Opposition",time:480,speaker:"opp"},{name:"LOR",fullName:"Leader of Opposition Rebuttal",time:240,speaker:"opp"},{name:"PMR",fullName:"Prime Minister Rebuttal",time:300,speaker:"gov"}],prepTime:{gov:0,opp:0}},custom:{name:"Custom",shortName:"Custom",segments:[],prepTime:{side1:180,side2:180}}},pS=t=>{const e=Math.floor(Math.abs(t)/60),n=Math.abs(t)%60;return`${t<0?"-":""}${e}:${n.toString().padStart(2,"0")}`},gS=t=>{const e=Math.floor(t/60),n=t%60;return e===0?`${n}s`:n===0?`${e}m`:`${e}m ${n}s`},lB=({progress:t,size:e=300,strokeWidth:n=12,timeRemaining:s,totalTime:l,isRunning:o,isOvertime:c})=>{const h=(e-n)/2,m=h*2*Math.PI,f=m-t/100*m,x=()=>c||t<=10?"#ef4444":t<=25?"#f59e0b":"#06b6d4";return a.jsxs("div",{className:"relative",style:{width:e,height:e},children:[a.jsxs("svg",{className:"absolute transform -rotate-90",width:e,height:e,children:[a.jsx("circle",{cx:e/2,cy:e/2,r:h,fill:"none",stroke:"#1e293b",strokeWidth:n}),a.jsx("circle",{cx:e/2,cy:e/2,r:h,fill:"none",stroke:x(),strokeWidth:n,strokeLinecap:"round",strokeDasharray:m,strokeDashoffset:f,style:{transition:"stroke-dashoffset 0.5s ease, stroke 0.3s ease",filter:o?`drop-shadow(0 0 10px ${x()})`:"none"}})]}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[a.jsx(F.span,{initial:{scale:1.1},animate:{scale:1},className:`text-5xl font-bold font-mono ${c||t<=10?"text-red-400":t<=25?"text-amber-400":"text-white"}`,children:pS(s)},s),a.jsxs("span",{className:"text-slate-500 text-sm mt-2",children:["of ",gS(l)]}),c&&a.jsxs("span",{className:"text-red-400 text-xs mt-1 flex items-center gap-1",children:[a.jsx(mi,{className:"w-3 h-3"}),"OVERTIME"]})]}),o&&a.jsx(F.div,{animate:{scale:[1,1.05,1],opacity:[.5,.2,.5]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 rounded-full border-2",style:{borderColor:x()}})]})},oB=({segment:t,index:e,isActive:n,isCompleted:s,onClick:l})=>{const o=c=>{switch(c){case"aff":case"pro":case"gov":return"bg-cyan-500/10 border-cyan-500/30 text-cyan-400";case"neg":case"con":case"opp":return"bg-red-500/10 border-red-500/30 text-red-400";case"both":return"bg-purple-500/10 border-purple-500/30 text-purple-400";default:return"bg-slate-500/10 border-slate-500/30 text-slate-400"}};return a.jsxs(F.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:l,className:`
        relative p-3 rounded-xl border transition-all text-left w-full
        ${n?"bg-cyan-500/20 border-cyan-500/50 ring-2 ring-cyan-500/30":s?"bg-slate-800/30 border-slate-700/50 opacity-60":"bg-slate-800/30 border-slate-800/60 hover:border-slate-700/60"}
      `,children:[n&&a.jsx(F.div,{layoutId:"activeIndicator",className:"absolute left-0 top-0 bottom-0 w-1 bg-cyan-500 rounded-l-xl"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`
          w-8 h-8 rounded-lg flex items-center justify-center text-sm font-bold
          ${s?"bg-emerald-500/20 text-emerald-400":"bg-slate-700 text-slate-300"}
        `,children:s?a.jsx(sa,{className:"w-4 h-4"}):e+1}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`font-semibold ${n?"text-white":"text-slate-300"}`,children:t.name}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs border ${o(t.speaker)}`,children:t.speaker})]}),a.jsx("p",{className:"text-xs text-slate-500 truncate",children:t.fullName})]}),a.jsx("span",{className:"text-slate-400 font-mono text-sm",children:gS(t.time)})]})]})},cB=({prepTime:t,usedPrepTime:e,onUsePrep:n,onStopPrep:s,activePrepSide:l})=>{const o=Object.keys(t);return a.jsxs("div",{className:"p-4 rounded-xl border border-slate-800/60 bg-slate-900/50",children:[a.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[a.jsx(Dn,{className:"w-4 h-4 text-amber-400"}),"Prep Time"]}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.map(c=>{const h=t[c]-(e[c]||0),m=l===c,f=h/t[c]*100;return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`text-sm font-medium capitalize ${c.includes("aff")||c.includes("pro")||c.includes("gov")||c==="side1"?"text-cyan-400":"text-red-400"}`,children:c}),a.jsx("span",{className:"text-white font-mono text-sm",children:pS(h)})]}),a.jsx("div",{className:"h-2 rounded-full bg-slate-800 overflow-hidden",children:a.jsx(F.div,{initial:{width:"100%"},animate:{width:`${f}%`},className:`h-full rounded-full ${f>50?"bg-emerald-500":f>25?"bg-amber-500":"bg-red-500"}`})}),a.jsx(F.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>m?s():n(c),disabled:h<=0&&!m,className:`
                  w-full py-2 rounded-lg text-sm font-medium transition-all
                  ${m?"bg-amber-500 text-white":h<=0?"bg-slate-800 text-slate-600 cursor-not-allowed":"bg-slate-700 text-white hover:bg-slate-600"}
                `,children:m?"Stop Prep":"Use Prep"})]},c)})})]})},uB=({isOpen:t,onClose:e})=>{if(!t)return null;const n=[{key:"Space",action:"Play / Pause timer"},{key:"R",action:"Reset current segment"},{key:"",action:"Previous segment"},{key:"",action:"Next segment"},{key:"M",action:"Toggle sound"},{key:"F",action:"Toggle fullscreen"},{key:"1-9",action:"Jump to segment"},{key:"P",action:"Use prep time (cycles sides)"},{key:"Esc",action:"Close modals / Exit fullscreen"}];return a.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:s=>s.target===s.currentTarget&&e(),children:a.jsxs(F.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},className:"w-full max-w-md bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-800 rounded-3xl shadow-2xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(uj,{className:"w-5 h-5 text-cyan-400"}),"Keyboard Shortcuts"]}),a.jsx(F.button,{whileHover:{scale:1.1,rotate:90},onClick:e,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:a.jsx(ls,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"space-y-2",children:n.map(({key:s,action:l})=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-slate-800/30",children:[a.jsx("span",{className:"text-slate-300",children:l}),a.jsx("kbd",{className:"px-3 py-1.5 rounded-lg bg-slate-700 text-white text-sm font-mono border border-slate-600",children:s})]},s))})]})})},dB=({isOpen:t,onClose:e,settings:n,onSettingsChange:s})=>t?a.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",onClick:l=>l.target===l.currentTarget&&e(),children:a.jsxs(F.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},className:"w-full max-w-md bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-800 rounded-3xl shadow-2xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(nd,{className:"w-5 h-5 text-cyan-400"}),"Timer Settings"]}),a.jsx(F.button,{whileHover:{scale:1.1,rotate:90},onClick:e,className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all",children:a.jsx(ls,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{children:a.jsxs("label",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-slate-300",children:"Sound Alerts"}),a.jsx("button",{onClick:()=>s({...n,soundEnabled:!n.soundEnabled}),className:`relative w-12 h-6 rounded-full transition-colors ${n.soundEnabled?"bg-cyan-500":"bg-slate-700"}`,children:a.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${n.soundEnabled?"left-7":"left-1"}`})})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Alert at (seconds remaining)"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:[120,60,30,10,0].map(l=>a.jsx("button",{onClick:()=>{const o=n.alertTimes.includes(l)?n.alertTimes.filter(c=>c!==l):[...n.alertTimes,l].sort((c,h)=>h-c);s({...n,alertTimes:o})},className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${n.alertTimes.includes(l)?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-slate-800 text-slate-400 hover:text-white"}`,children:l===0?"End":`${l}s`},l))})]}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-slate-300",children:"Allow Overtime"}),a.jsx("button",{onClick:()=>s({...n,allowOvertime:!n.allowOvertime}),className:`relative w-12 h-6 rounded-full transition-colors ${n.allowOvertime?"bg-cyan-500":"bg-slate-700"}`,children:a.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${n.allowOvertime?"left-7":"left-1"}`})})]})}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-slate-300",children:"Auto-advance to next segment"}),a.jsx("button",{onClick:()=>s({...n,autoAdvance:!n.autoAdvance}),className:`relative w-12 h-6 rounded-full transition-colors ${n.autoAdvance?"bg-cyan-500":"bg-slate-700"}`,children:a.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${n.autoAdvance?"left-7":"left-1"}`})})]})})]}),a.jsx("div",{className:"mt-6 pt-4 border-t border-slate-800",children:a.jsx(F.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"w-full py-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold",children:"Done"})})]})}):null,hB=()=>{const{user:t}=Mn(),[e,n]=A.useState("pf"),[s,l]=A.useState(Co.pf.segments),[o,c]=A.useState(Co.pf.prepTime),[h,m]=A.useState(0),[f,x]=A.useState(Co.pf.segments[0]?.time||0),[y,v]=A.useState(!1),[w,S]=A.useState([]),[U,I]=A.useState({}),[z,L]=A.useState(null),[q,K]=A.useState({soundEnabled:!0,alertTimes:[60,30,10,0],allowOvertime:!0,autoAdvance:!1}),[se,G]=A.useState(!1),[D,C]=A.useState(!1),[O,E]=A.useState(!1),[T,M]=A.useState(null),R=A.useRef(null),te=A.useRef(null),J=A.useRef(null),$=s[h],W=$?.time||0,he=W>0?Math.max(0,f/W*100):0,be=f<0,B=A.useCallback(()=>(te.current||(te.current=new(window.AudioContext||window.webkitAudioContext)),te.current),[]),ie=A.useCallback((pe="beep")=>{if(q.soundEnabled)try{const ye=B(),ke=ye.createOscillator(),$e=ye.createGain();switch(ke.connect($e),$e.connect(ye.destination),pe){case"warning":ke.frequency.value=880,ke.type="sine",$e.gain.value=.3;break;case"final":ke.frequency.value=440,ke.type="square",$e.gain.value=.4;break;case"end":ke.frequency.value=660,ke.type="sawtooth",$e.gain.value=.5;break;default:ke.frequency.value=660,ke.type="sine",$e.gain.value=.3}ke.start(),$e.gain.exponentialRampToValueAtTime(.01,ye.currentTime+.3),ke.stop(ye.currentTime+.3)}catch(ye){console.error("Audio error:",ye)}},[q.soundEnabled,B]);A.useEffect(()=>(y&&(R.current=setInterval(()=>{x(pe=>{const ye=pe-1;return q.alertTimes.includes(ye)&&ye!==T&&(M(ye),ye===0?ie("end"):ye<=10?ie("final"):ie("warning")),ye<=0&&!q.allowOvertime?(v(!1),q.autoAdvance&&h<s.length-1&&setTimeout(()=>Ve(),500),0):ye})},1e3)),()=>{R.current&&clearInterval(R.current)}),[y,q,h,s.length,T,ie]),A.useEffect(()=>{let pe;return z&&(pe=setInterval(()=>{I(ye=>{const ke=(ye[z]||0)+1;return ke>=o[z]?(L(null),ie("end"),{...ye,[z]:o[z]}):{...ye,[z]:ke}})},1e3)),()=>{pe&&clearInterval(pe)}},[z,o,ie]),A.useEffect(()=>{const pe=ye=>{if(!(ye.target.tagName==="INPUT"||ye.target.tagName==="TEXTAREA"))switch(ye.key.toLowerCase()){case" ":ye.preventDefault(),v($e=>!$e);break;case"r":Ee();break;case"arrowleft":Be();break;case"arrowright":Ve();break;case"m":K($e=>({...$e,soundEnabled:!$e.soundEnabled}));break;case"f":gn();break;case"p":pn();break;case"escape":O&&document.exitFullscreen?.(),G(!1),C(!1);break;default:const ke=parseInt(ye.key);ke>=1&&ke<=s.length&&ct(ke-1)}};return window.addEventListener("keydown",pe),()=>window.removeEventListener("keydown",pe)},[s.length,O]);const ge=pe=>{const ye=Co[pe];n(pe),l(ye.segments),c(ye.prepTime),m(0),x(ye.segments[0]?.time||0),v(!1),S([]),I({}),L(null)},P=()=>v(pe=>!pe),Ee=()=>{x($?.time||0),v(!1),M(null)},Ve=()=>{h<s.length-1&&(S(pe=>[...pe,h]),m(pe=>pe+1),x(s[h+1]?.time||0),v(!1),M(null))},Be=()=>{h>0&&(S(pe=>pe.filter(ye=>ye!==h-1)),m(pe=>pe-1),x(s[h-1]?.time||0),v(!1),M(null))},ct=pe=>{pe>=0&&pe<s.length&&(m(pe),x(s[pe]?.time||0),v(!1),M(null),S(Array.from({length:pe},(ye,ke)=>ke)))},wt=pe=>{v(!1),L(pe)},xt=()=>{L(null)},pn=()=>{const pe=Object.keys(o);if(z)L(null);else{const ye=pe.indexOf(z),ke=pe[(ye+1)%pe.length];o[ke]-(U[ke]||0)>0&&(L(ke),v(!1))}},gn=()=>{document.fullscreenElement?(document.exitFullscreen(),E(!1)):(J.current?.requestFullscreen(),E(!0))};A.useEffect(()=>{const pe=()=>{E(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",pe),()=>document.removeEventListener("fullscreenchange",pe)},[]);const jn=()=>{m(0),x(s[0]?.time||0),v(!1),S([]),I({}),L(null),M(null)};return a.jsxs(F.div,{ref:J,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`${O?"fixed inset-0 z-50 bg-slate-950 p-8":""}`,children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-600/20 border border-cyan-500/30",children:a.jsx(yj,{className:"w-7 h-7 text-cyan-400"})}),"Debate Timer"]}),a.jsxs("p",{className:"text-slate-400 mt-2",children:[Co[e].name," Format"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>C(!0),className:"p-2.5 rounded-xl bg-slate-800 text-slate-400 hover:text-white transition-all",title:"Keyboard Shortcuts",children:a.jsx(uj,{className:"w-5 h-5"})}),a.jsx(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K(pe=>({...pe,soundEnabled:!pe.soundEnabled})),className:"p-2.5 rounded-xl bg-slate-800 text-slate-400 hover:text-white transition-all",title:q.soundEnabled?"Mute":"Unmute",children:q.soundEnabled?a.jsx(bj,{className:"w-5 h-5"}):a.jsx(ek,{className:"w-5 h-5"})}),a.jsx(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:gn,className:"p-2.5 rounded-xl bg-slate-800 text-slate-400 hover:text-white transition-all",title:"Toggle Fullscreen",children:O?a.jsx(FC,{className:"w-5 h-5"}):a.jsx(dj,{className:"w-5 h-5"})}),a.jsx(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>G(!0),className:"p-2.5 rounded-xl bg-slate-800 text-slate-400 hover:text-white transition-all",title:"Settings",children:a.jsx(nd,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:Object.entries(Co).filter(([pe])=>pe!=="custom").map(([pe,ye])=>a.jsx(F.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>ge(pe),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${e===pe?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-slate-800 text-slate-400 hover:text-white border border-slate-700"}`,children:ye.shortName},pe))}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("div",{className:"p-8 rounded-2xl border border-slate-800/60 bg-gradient-to-br from-slate-900/80 to-slate-950/80",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:$?.fullName||"No Segment"}),a.jsxs("p",{className:"text-slate-400 mt-1",children:["Segment ",h+1," of ",s.length]})]}),a.jsx("div",{className:"flex justify-center mb-8",children:a.jsx(lB,{progress:he,size:280,strokeWidth:14,timeRemaining:f,totalTime:W,isRunning:y,isOvertime:be})}),a.jsxs("div",{className:"flex items-center justify-center gap-4",children:[a.jsx(F.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Be,disabled:h===0,className:"p-3 rounded-xl bg-slate-700 text-white disabled:opacity-30 disabled:cursor-not-allowed hover:bg-slate-600 transition-all",children:a.jsx(ij,{className:"w-6 h-6"})}),a.jsx(F.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Ee,className:"p-3 rounded-xl bg-slate-700 text-white hover:bg-slate-600 transition-all",children:a.jsx(bl,{className:"w-6 h-6"})}),a.jsx(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:P,className:`p-5 rounded-2xl shadow-lg transition-all ${y?"bg-amber-500 hover:bg-amber-600 shadow-amber-500/25":"bg-gradient-to-r from-cyan-500 to-blue-600 shadow-cyan-500/25"}`,children:y?a.jsx(rf,{className:"w-8 h-8 text-white"}):a.jsx(Ni,{className:"w-8 h-8 text-white"})}),a.jsx(F.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:jn,className:"p-3 rounded-xl bg-slate-700 text-white hover:bg-slate-600 transition-all",title:"Reset All",children:a.jsx(bl,{className:"w-6 h-6"})}),a.jsx(F.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Ve,disabled:h===s.length-1,className:"p-3 rounded-xl bg-slate-700 text-white disabled:opacity-30 disabled:cursor-not-allowed hover:bg-slate-600 transition-all",children:a.jsx(Nn,{className:"w-6 h-6"})})]}),a.jsxs("p",{className:"text-center text-slate-500 text-sm mt-6",children:["Press ",a.jsx("kbd",{className:"px-2 py-1 rounded bg-slate-800 text-slate-300 font-mono",children:"Space"})," to start/stop"]})]}),Object.keys(o).length>0&&o[Object.keys(o)[0]]>0&&a.jsx("div",{className:"mt-6",children:a.jsx(cB,{prepTime:o,usedPrepTime:U,onUsePrep:wt,onStopPrep:xt,activePrepSide:z})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-white font-semibold flex items-center gap-2",children:[a.jsx(Ii,{className:"w-5 h-5 text-cyan-400"}),"Speech Segments"]}),a.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto pr-2",children:s.map((pe,ye)=>a.jsx(oB,{segment:pe,index:ye,isActive:ye===h,isCompleted:w.includes(ye),onClick:()=>ct(ye)},ye))}),a.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-800/60",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-slate-400 text-sm",children:"Progress"}),a.jsxs("span",{className:"text-white font-medium",children:[w.length," / ",s.length]})]}),a.jsx("div",{className:"h-2 rounded-full bg-slate-800 overflow-hidden",children:a.jsx(F.div,{initial:{width:0},animate:{width:`${w.length/s.length*100}%`},className:"h-full rounded-full bg-gradient-to-r from-cyan-500 to-emerald-500"})})]})]})]})]}),a.jsx(ot,{children:se&&a.jsx(dB,{isOpen:se,onClose:()=>G(!1),settings:q,onSettingsChange:K})}),a.jsx(ot,{children:D&&a.jsx(uB,{isOpen:D,onClose:()=>C(!1)})})]})},ZN={policy_1ac:{name:"Policy 1AC",format:"Policy",totalTime:480,sections:[{id:"inherency",type:"contention",title:"Inherency",timeAllocation:60,collapsed:!1,notes:"",subPoints:[{id:"inh-a",type:"subpoint",title:"Current System Fails",timeAllocation:30,notes:"",evidence:[{id:"inh-ev1",tag:"Status quo inadequate",source:"",notes:""}]},{id:"inh-b",type:"subpoint",title:"No Change Coming",timeAllocation:30,notes:"",evidence:[{id:"inh-ev2",tag:"No political will",source:"",notes:""}]}]},{id:"plan",type:"contention",title:"Plan Text",timeAllocation:30,collapsed:!1,notes:"Read slowly and clearly",subPoints:[]},{id:"solvency",type:"contention",title:"Solvency",timeAllocation:120,collapsed:!1,notes:"",subPoints:[{id:"solv-a",type:"subpoint",title:"Plan Solves the Problem",timeAllocation:60,notes:"",evidence:[{id:"solv-ev1",tag:"Expert analysis",source:"",notes:""},{id:"solv-ev2",tag:"Historical precedent",source:"",notes:""}]},{id:"solv-b",type:"subpoint",title:"Implementation Feasible",timeAllocation:60,notes:"",evidence:[{id:"solv-ev3",tag:"Resources available",source:"",notes:""}]}]},{id:"adv1",type:"contention",title:"Advantage 1: [Title]",timeAllocation:135,collapsed:!1,notes:"",subPoints:[{id:"adv1-a",type:"subpoint",title:"Link",timeAllocation:45,notes:"",evidence:[{id:"adv1-ev1",tag:"Problem exists",source:"",notes:""}]},{id:"adv1-b",type:"subpoint",title:"Internal Link",timeAllocation:30,notes:"",evidence:[{id:"adv1-ev2",tag:"Escalation scenario",source:"",notes:""}]},{id:"adv1-c",type:"subpoint",title:"Impact",timeAllocation:60,notes:"",evidence:[{id:"adv1-ev3",tag:"Magnitude/scope",source:"",notes:""},{id:"adv1-ev4",tag:"Timeframe",source:"",notes:""}]}]},{id:"adv2",type:"contention",title:"Advantage 2: [Title]",timeAllocation:135,collapsed:!1,notes:"",subPoints:[{id:"adv2-a",type:"subpoint",title:"Link",timeAllocation:45,notes:"",evidence:[]},{id:"adv2-b",type:"subpoint",title:"Internal Link",timeAllocation:30,notes:"",evidence:[]},{id:"adv2-c",type:"subpoint",title:"Impact",timeAllocation:60,notes:"",evidence:[]}]}]},ld_aff:{name:"LD Affirmative Case",format:"Lincoln Douglas",totalTime:360,sections:[{id:"intro",type:"contention",title:"Introduction",timeAllocation:30,collapsed:!1,notes:"Hook the judge",subPoints:[]},{id:"resolution",type:"contention",title:"Resolution & Definitions",timeAllocation:30,collapsed:!1,notes:"",subPoints:[{id:"def-a",type:"subpoint",title:"Key Terms",timeAllocation:15,notes:"",evidence:[]},{id:"def-b",type:"subpoint",title:"Framework/Standard",timeAllocation:15,notes:"",evidence:[]}]},{id:"value",type:"contention",title:"Value Premise",timeAllocation:45,collapsed:!1,notes:"",subPoints:[{id:"val-a",type:"subpoint",title:"Value Statement",timeAllocation:20,notes:"",evidence:[]},{id:"val-b",type:"subpoint",title:"Value Justification",timeAllocation:25,notes:"",evidence:[]}]},{id:"criterion",type:"contention",title:"Value Criterion",timeAllocation:45,collapsed:!1,notes:"",subPoints:[{id:"crit-a",type:"subpoint",title:"Criterion Statement",timeAllocation:15,notes:"",evidence:[]},{id:"crit-b",type:"subpoint",title:"Link to Value",timeAllocation:30,notes:"",evidence:[]}]},{id:"cont1",type:"contention",title:"Contention 1",timeAllocation:90,collapsed:!1,notes:"",subPoints:[{id:"c1-a",type:"subpoint",title:"Claim",timeAllocation:30,notes:"",evidence:[]},{id:"c1-b",type:"subpoint",title:"Warrant",timeAllocation:30,notes:"",evidence:[]},{id:"c1-c",type:"subpoint",title:"Impact to Criterion",timeAllocation:30,notes:"",evidence:[]}]},{id:"cont2",type:"contention",title:"Contention 2",timeAllocation:90,collapsed:!1,notes:"",subPoints:[{id:"c2-a",type:"subpoint",title:"Claim",timeAllocation:30,notes:"",evidence:[]},{id:"c2-b",type:"subpoint",title:"Warrant",timeAllocation:30,notes:"",evidence:[]},{id:"c2-c",type:"subpoint",title:"Impact to Criterion",timeAllocation:30,notes:"",evidence:[]}]},{id:"conclusion",type:"contention",title:"Conclusion",timeAllocation:30,collapsed:!1,notes:"Restate value and criterion",subPoints:[]}]},pf_case:{name:"Public Forum Case",format:"Public Forum",totalTime:240,sections:[{id:"intro",type:"contention",title:"Introduction/Hook",timeAllocation:20,collapsed:!1,notes:"Grab attention, state resolution stance",subPoints:[]},{id:"framework",type:"contention",title:"Framework (Optional)",timeAllocation:20,collapsed:!1,notes:"",subPoints:[]},{id:"cont1",type:"contention",title:"Contention 1",timeAllocation:90,collapsed:!1,notes:"",subPoints:[{id:"pf-c1-claim",type:"subpoint",title:"Claim/Tagline",timeAllocation:10,notes:"",evidence:[]},{id:"pf-c1-warrant",type:"subpoint",title:"Warrant/Analysis",timeAllocation:40,notes:"",evidence:[{id:"pf-c1-ev1",tag:"Evidence 1",source:"",notes:""},{id:"pf-c1-ev2",tag:"Evidence 2",source:"",notes:""}]},{id:"pf-c1-impact",type:"subpoint",title:"Impact",timeAllocation:40,notes:"",evidence:[]}]},{id:"cont2",type:"contention",title:"Contention 2",timeAllocation:90,collapsed:!1,notes:"",subPoints:[{id:"pf-c2-claim",type:"subpoint",title:"Claim/Tagline",timeAllocation:10,notes:"",evidence:[]},{id:"pf-c2-warrant",type:"subpoint",title:"Warrant/Analysis",timeAllocation:40,notes:"",evidence:[]},{id:"pf-c2-impact",type:"subpoint",title:"Impact",timeAllocation:40,notes:"",evidence:[]}]},{id:"conclusion",type:"contention",title:"Conclusion/Weighing",timeAllocation:20,collapsed:!1,notes:"Summarize why your impacts outweigh",subPoints:[]}]},congress_speech:{name:"Congress Speech",format:"Congressional Debate",totalTime:180,sections:[{id:"intro",type:"contention",title:"Introduction",timeAllocation:20,collapsed:!1,notes:"Hook + thesis",subPoints:[]},{id:"point1",type:"contention",title:"Point 1",timeAllocation:50,collapsed:!1,notes:"",subPoints:[{id:"cong-p1-claim",type:"subpoint",title:"Claim",timeAllocation:10,notes:"",evidence:[]},{id:"cong-p1-evidence",type:"subpoint",title:"Evidence",timeAllocation:25,notes:"",evidence:[{id:"cong-ev1",tag:"Statistic/Quote",source:"",notes:""}]},{id:"cong-p1-analysis",type:"subpoint",title:"Analysis",timeAllocation:15,notes:"",evidence:[]}]},{id:"point2",type:"contention",title:"Point 2",timeAllocation:50,collapsed:!1,notes:"",subPoints:[{id:"cong-p2-claim",type:"subpoint",title:"Claim",timeAllocation:10,notes:"",evidence:[]},{id:"cong-p2-evidence",type:"subpoint",title:"Evidence",timeAllocation:25,notes:"",evidence:[]},{id:"cong-p2-analysis",type:"subpoint",title:"Analysis",timeAllocation:15,notes:"",evidence:[]}]},{id:"point3",type:"contention",title:"Point 3 (Optional)",timeAllocation:40,collapsed:!1,notes:"",subPoints:[]},{id:"conclusion",type:"contention",title:"Conclusion",timeAllocation:20,collapsed:!1,notes:"Call to action - urge passage/defeat",subPoints:[]}]},blank:{name:"Blank Outline",format:"Custom",totalTime:300,sections:[]}},dr=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,na=t=>{const e=Math.floor(t/60),n=t%60;return`${e}:${n.toString().padStart(2,"0")}`},mB=({evidence:t,onChange:e,onDelete:n})=>{const[s,l]=A.useState(!1);return a.jsxs(F.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-slate-700/50 border border-slate-600 rounded-lg p-3 space-y-2",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(gx,{className:"w-4 h-4 text-cyan-400 mt-1 flex-shrink-0"}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx("input",{type:"text",value:t.tag,onChange:o=>e({...t,tag:o.target.value}),placeholder:"Evidence tag...",className:"w-full bg-transparent text-white text-sm font-medium focus:outline-none"})}),a.jsx("button",{onClick:n,className:"p-1 text-slate-400 hover:text-red-400 transition-colors",children:a.jsx($s,{className:"w-3 h-3"})})]}),a.jsx("input",{type:"text",value:t.source,onChange:o=>e({...t,source:o.target.value}),placeholder:"Source (Author, Year)...",className:"w-full bg-slate-800/50 text-slate-300 text-xs px-2 py-1 rounded focus:outline-none focus:ring-1 focus:ring-cyan-500/50"}),s?a.jsx("textarea",{value:t.notes,onChange:o=>e({...t,notes:o.target.value}),onBlur:()=>l(!1),placeholder:"Notes about this evidence...",className:"w-full bg-slate-800/50 text-slate-400 text-xs px-2 py-1 rounded focus:outline-none focus:ring-1 focus:ring-cyan-500/50 min-h-[60px]",autoFocus:!0}):a.jsx("div",{onClick:()=>l(!0),className:"text-xs text-slate-500 cursor-pointer hover:text-slate-400",children:t.notes||"+ Add notes..."})]})},fB=({subPoint:t,onChange:e,onDelete:n,index:s})=>{const[l,o]=A.useState(!0),c=()=>{const f={id:dr(),tag:"",source:"",notes:""};e({...t,evidence:[...t.evidence,f]})},h=(f,x)=>{e({...t,evidence:t.evidence.map(y=>y.id===f?x:y)})},m=f=>{e({...t,evidence:t.evidence.filter(x=>x.id!==f)})};return a.jsx(F.div,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"ml-6 border-l-2 border-slate-600 pl-4",children:a.jsxs("div",{className:"bg-slate-800/30 rounded-lg p-3 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(oj,{className:"w-4 h-4 text-slate-500 cursor-grab"}),a.jsx("button",{onClick:()=>o(!l),className:"p-1 text-slate-400 hover:text-white transition-colors",children:l?a.jsx(wi,{className:"w-4 h-4"}):a.jsx(Nn,{className:"w-4 h-4"})}),a.jsxs("span",{className:"text-cyan-400 text-sm font-medium",children:[String.fromCharCode(65+s),"."]}),a.jsx("input",{type:"text",value:t.title,onChange:f=>e({...t,title:f.target.value}),placeholder:"Sub-point title...",className:"flex-1 bg-transparent text-white font-medium focus:outline-none"}),a.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[a.jsx(Dn,{className:"w-3 h-3"}),a.jsx("input",{type:"number",value:t.timeAllocation,onChange:f=>e({...t,timeAllocation:parseInt(f.target.value)||0}),className:"w-12 bg-slate-700/50 text-center rounded px-1 py-0.5 focus:outline-none focus:ring-1 focus:ring-cyan-500/50"}),a.jsx("span",{children:"sec"})]}),a.jsx("button",{onClick:n,className:"p-1 text-slate-400 hover:text-red-400 transition-colors",children:a.jsx($s,{className:"w-4 h-4"})})]}),a.jsx(ot,{children:l&&a.jsxs(F.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-3",children:[a.jsx("textarea",{value:t.notes,onChange:f=>e({...t,notes:f.target.value}),placeholder:"Notes for this sub-point...",className:"w-full bg-slate-700/30 text-slate-300 text-sm px-3 py-2 rounded-lg focus:outline-none focus:ring-1 focus:ring-cyan-500/50 min-h-[60px]"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Evidence"}),a.jsxs("button",{onClick:c,className:"flex items-center gap-1 text-xs text-cyan-400 hover:text-cyan-300 transition-colors",children:[a.jsx(hn,{className:"w-3 h-3"}),"Add Evidence"]})]}),a.jsx(ot,{children:t.evidence.map(f=>a.jsx(mB,{evidence:f,onChange:x=>h(f.id,x),onDelete:()=>m(f.id)},f.id))})]})]})})]})})},pB=({contention:t,onChange:e,onDelete:n,index:s})=>{const[l,o]=A.useState(t.collapsed),c=t.subPoints.reduce((v,w)=>v+w.timeAllocation,0),h=c>t.timeAllocation?"over":c<t.timeAllocation*.8?"under":"good",m=()=>{const v={id:dr(),type:"subpoint",title:"",timeAllocation:30,notes:"",evidence:[]};e({...t,subPoints:[...t.subPoints,v]})},f=(v,w)=>{e({...t,subPoints:t.subPoints.map(S=>S.id===v?w:S)})},x=v=>{e({...t,subPoints:t.subPoints.filter(w=>w.id!==v)})},y=v=>{e({...t,subPoints:v})};return a.jsxs(F.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:[a.jsxs("div",{className:"p-4 bg-slate-800/80",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(oj,{className:"w-5 h-5 text-slate-500 cursor-grab"}),a.jsx("button",{onClick:()=>o(!l),className:"p-1 text-slate-400 hover:text-white transition-colors",children:l?a.jsx(Nn,{className:"w-5 h-5"}):a.jsx(wi,{className:"w-5 h-5"})}),a.jsxs("span",{className:"text-purple-400 font-bold text-lg",children:[s+1,"."]}),a.jsx("input",{type:"text",value:t.title,onChange:v=>e({...t,title:v.target.value}),placeholder:"Contention title...",className:"flex-1 bg-transparent text-white text-lg font-semibold focus:outline-none"}),a.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-lg ${h==="over"?"bg-red-500/20 text-red-400":h==="under"?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"}`,children:[a.jsx(Dn,{className:"w-4 h-4"}),a.jsx("input",{type:"number",value:t.timeAllocation,onChange:v=>e({...t,timeAllocation:parseInt(v.target.value)||0}),className:"w-14 bg-transparent text-center font-medium focus:outline-none"}),a.jsx("span",{className:"text-sm",children:"sec"}),h==="over"&&a.jsx(is,{className:"w-4 h-4"}),h==="good"&&a.jsx(jm,{className:"w-4 h-4"})]}),a.jsx("button",{onClick:n,className:"p-2 text-slate-400 hover:text-red-400 transition-colors",children:a.jsx($s,{className:"w-5 h-5"})})]}),t.subPoints.length>0&&a.jsxs("div",{className:"mt-2 ml-12 text-xs text-slate-500",children:["Sub-points total: ",na(c)," / ",na(t.timeAllocation)," allocated"]})]}),a.jsx(ot,{children:!l&&a.jsxs(F.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"p-4 space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(TA,{className:"w-4 h-4 text-slate-400 mt-2"}),a.jsx("textarea",{value:t.notes,onChange:v=>e({...t,notes:v.target.value}),placeholder:"Notes for this contention...",className:"flex-1 bg-slate-700/30 text-slate-300 px-3 py-2 rounded-lg focus:outline-none focus:ring-1 focus:ring-purple-500/50 min-h-[60px]"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(sj,{axis:"y",values:t.subPoints,onReorder:y,className:"space-y-3",children:t.subPoints.map((v,w)=>a.jsx(aj,{value:v,children:a.jsx(fB,{subPoint:v,onChange:S=>f(v.id,S),onDelete:()=>x(v.id),index:w})},v.id))}),a.jsxs("button",{onClick:m,className:"ml-6 flex items-center gap-2 text-sm text-slate-400 hover:text-cyan-400 transition-colors",children:[a.jsx(hn,{className:"w-4 h-4"}),"Add Sub-Point"]})]})]})})]})},gB=()=>{const[t,e]=A.useState({id:dr(),name:"Untitled Outline",format:"Custom",totalTime:300,sections:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),[n,s]=A.useState([]),[l,o]=A.useState(!0),[c,h]=A.useState(!1),m=t.sections.reduce((D,C)=>D+C.timeAllocation,0),f=t.sections.reduce((D,C)=>D+C.subPoints.reduce((O,E)=>O+E.evidence.length,0),0),x=m>t.totalTime?"over":m<t.totalTime*.9?"under":"good",y=D=>{const C=ZN[D];e({...C,id:dr(),name:C.name,sections:C.sections.map(O=>({...O,id:dr(),subPoints:O.subPoints.map(E=>({...E,id:dr(),evidence:E.evidence.map(T=>({...T,id:dr()}))}))})),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),o(!1)},v=()=>{const D={id:dr(),type:"contention",title:"",timeAllocation:60,collapsed:!1,notes:"",subPoints:[]};e(C=>({...C,sections:[...C.sections,D],updatedAt:new Date().toISOString()}))},w=(D,C)=>{e(O=>({...O,sections:O.sections.map(E=>E.id===D?C:E),updatedAt:new Date().toISOString()}))},S=D=>{e(C=>({...C,sections:C.sections.filter(O=>O.id!==D),updatedAt:new Date().toISOString()}))},U=D=>{e(C=>({...C,sections:D,updatedAt:new Date().toISOString()}))},I=()=>{const D={...t,updatedAt:new Date().toISOString()};s(C=>{const O=C.findIndex(E=>E.id===t.id);if(O>=0){const E=[...C];return E[O]=D,E}return[...C,D]}),e(D)},z=D=>{e(D),h(!1)},L=()=>{const D=JSON.stringify(t,null,2),C=new Blob([D],{type:"application/json"}),O=URL.createObjectURL(C),E=document.createElement("a");E.href=O,E.download=`${t.name.replace(/\s+/g,"_")}.json`,E.click(),URL.revokeObjectURL(O)},q=()=>{let D=`# ${t.name}

`;D+=`**Format:** ${t.format}  
`,D+=`**Total Time:** ${na(t.totalTime)}

`,D+=`---

`,t.sections.forEach((T,M)=>{D+=`## ${M+1}. ${T.title||"Untitled"} (${na(T.timeAllocation)})

`,T.notes&&(D+=`*${T.notes}*

`),T.subPoints.forEach((R,te)=>{D+=`### ${String.fromCharCode(65+te)}. ${R.title||"Untitled"} (${na(R.timeAllocation)})

`,R.notes&&(D+=`${R.notes}

`),R.evidence.forEach((J,$)=>{D+=`- **[${J.tag||"Evidence"}]** ${J.source||""}
`,J.notes&&(D+=`  - ${J.notes}
`)}),R.evidence.length>0&&(D+=`
`)}),D+=`
`});const C=new Blob([D],{type:"text/markdown"}),O=URL.createObjectURL(C),E=document.createElement("a");E.href=O,E.download=`${t.name.replace(/\s+/g,"_")}.md`,E.click(),URL.revokeObjectURL(O)},K=()=>{let D=`<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>${t.name}</title>
  <style>
    body { font-family: 'Georgia', serif; max-width: 800px; margin: 40px auto; padding: 20px; line-height: 1.6; }
    h1 { color: #1a1a2e; border-bottom: 2px solid #4a4a8a; padding-bottom: 10px; }
    h2 { color: #4a4a8a; margin-top: 30px; }
    h3 { color: #6a6aaa; margin-left: 20px; }
    .meta { color: #666; font-style: italic; margin-bottom: 20px; }
    .time { color: #888; font-size: 0.9em; }
    .notes { background: #f5f5f5; padding: 10px; border-left: 3px solid #4a4a8a; margin: 10px 0; }
    .evidence { margin-left: 40px; padding: 10px; background: #fafafa; border-radius: 5px; margin-bottom: 10px; }
    .evidence-tag { font-weight: bold; color: #4a4a8a; }
    .evidence-source { color: #666; font-style: italic; }
    @media print { body { margin: 20px; } }
  </style>
</head>
<body>
  <h1>${t.name}</h1>
  <div class="meta">
    <strong>Format:</strong> ${t.format} | 
    <strong>Total Time:</strong> ${na(t.totalTime)}
  </div>
`;t.sections.forEach((T,M)=>{D+=`  <h2>${M+1}. ${T.title||"Untitled"} <span class="time">(${na(T.timeAllocation)})</span></h2>
`,T.notes&&(D+=`  <div class="notes">${T.notes}</div>
`),T.subPoints.forEach((R,te)=>{D+=`  <h3>${String.fromCharCode(65+te)}. ${R.title||"Untitled"} <span class="time">(${na(R.timeAllocation)})</span></h3>
`,R.notes&&(D+=`  <p>${R.notes}</p>
`),R.evidence.forEach(J=>{D+=`  <div class="evidence">
    <span class="evidence-tag">[${J.tag||"Evidence"}]</span>
    <span class="evidence-source">${J.source||""}</span>
    ${J.notes?`<p>${J.notes}</p>`:""}
  </div>
`})})}),D+=`</body>
</html>`;const C=new Blob([D],{type:"text/html"}),O=URL.createObjectURL(C),E=document.createElement("a");E.href=O,E.download=`${t.name.replace(/\s+/g,"_")}.html`,E.click(),URL.revokeObjectURL(O)},se=D=>{const C=D.target.files?.[0];if(!C)return;const O=new FileReader;O.onload=E=>{try{const T=JSON.parse(E.target?.result);e({...T,id:dr(),updatedAt:new Date().toISOString()})}catch(T){console.error("Failed to import outline:",T)}},O.readAsText(C),D.target.value=""},G=()=>{if(t.sections.length===0)return;const D=Math.floor(t.totalTime/t.sections.length);e(C=>({...C,sections:C.sections.map(O=>{const E=O.subPoints.length||1,T=Math.floor(O.timeAllocation/E);return{...O,timeAllocation:D,subPoints:O.subPoints.map(M=>({...M,timeAllocation:T}))}}),updatedAt:new Date().toISOString()}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl",children:a.jsx(rs,{className:"w-6 h-6 text-white"})}),"Speech Outline Builder"]}),a.jsx("p",{className:"text-slate-400 mt-1",children:"Create structured speech outlines with drag-and-drop organization"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[a.jsx(GC,{className:"w-4 h-4"}),"Templates"]}),a.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[a.jsx(mx,{className:"w-4 h-4"}),"Saved"]})]})]}),a.jsx(ot,{children:l&&a.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>o(!1),children:a.jsxs(F.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",onClick:D=>D.stopPropagation(),children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Choose a Template"}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(ZN).map(([D,C])=>a.jsxs("button",{onClick:()=>y(D),className:"p-4 bg-slate-700/50 hover:bg-slate-700 border border-slate-600 hover:border-purple-500 rounded-xl text-left transition-all",children:[a.jsx("div",{className:"font-semibold text-white",children:C.name}),a.jsx("div",{className:"text-sm text-slate-400 mt-1",children:C.format}),a.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:[na(C.totalTime),"  ",C.sections.length," sections"]})]},D))})]})})}),a.jsx(ot,{children:c&&a.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>h(!1),children:a.jsxs(F.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-lg w-full max-h-[80vh] overflow-y-auto",onClick:D=>D.stopPropagation(),children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Saved Outlines"}),n.length===0?a.jsx("p",{className:"text-slate-400 text-center py-8",children:"No saved outlines yet"}):a.jsx("div",{className:"space-y-2",children:n.map(D=>a.jsxs("button",{onClick:()=>z(D),className:"w-full p-3 bg-slate-700/50 hover:bg-slate-700 border border-slate-600 rounded-lg text-left transition-colors",children:[a.jsx("div",{className:"font-medium text-white",children:D.name}),a.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:[D.format,"  Updated ",new Date(D.updatedAt).toLocaleDateString()]})]},D.id))})]})})}),a.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Outline Name"}),a.jsx("input",{type:"text",value:t.name,onChange:D=>e(C=>({...C,name:D.target.value})),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Format"}),a.jsxs("select",{value:t.format,onChange:D=>e(C=>({...C,format:D.target.value})),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/50",children:[a.jsx("option",{value:"Custom",children:"Custom"}),a.jsx("option",{value:"Policy",children:"Policy"}),a.jsx("option",{value:"Lincoln Douglas",children:"Lincoln Douglas"}),a.jsx("option",{value:"Public Forum",children:"Public Forum"}),a.jsx("option",{value:"Congressional Debate",children:"Congressional Debate"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Total Time (seconds)"}),a.jsx("input",{type:"number",value:t.totalTime,onChange:D=>e(C=>({...C,totalTime:parseInt(D.target.value)||0})),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/50"})]})]}),a.jsxs("div",{className:"flex items-center gap-6 mt-4 pt-4 border-t border-slate-700",children:[a.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-lg ${x==="over"?"bg-red-500/20 text-red-400":x==="under"?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"}`,children:[a.jsx(Dn,{className:"w-4 h-4"}),a.jsx("span",{className:"font-medium",children:na(m)}),a.jsxs("span",{className:"text-sm opacity-75",children:["/ ",na(t.totalTime)]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[a.jsx(NC,{className:"w-4 h-4"}),a.jsxs("span",{children:[t.sections.length," contentions"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[a.jsx(yr,{className:"w-4 h-4"}),a.jsxs("span",{children:[f," evidence cards"]})]}),a.jsxs("button",{onClick:G,className:"flex items-center gap-2 text-sm text-purple-400 hover:text-purple-300 transition-colors ml-auto",children:[a.jsx(nk,{className:"w-4 h-4"}),"Auto-allocate time"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-lg transition-colors",children:[a.jsx(hn,{className:"w-4 h-4"}),"Add Contention"]}),a.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[a.jsx(lf,{className:"w-4 h-4"}),"Save"]}),a.jsx("div",{className:"h-6 w-px bg-slate-700"}),a.jsxs("button",{onClick:q,className:"flex items-center gap-2 px-3 py-2 bg-slate-700/50 hover:bg-slate-700 text-slate-300 rounded-lg transition-colors text-sm",children:[a.jsx(JT,{className:"w-4 h-4"}),"Markdown"]}),a.jsxs("button",{onClick:K,className:"flex items-center gap-2 px-3 py-2 bg-slate-700/50 hover:bg-slate-700 text-slate-300 rounded-lg transition-colors text-sm",children:[a.jsx(mj,{className:"w-4 h-4"}),"HTML"]}),a.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-3 py-2 bg-slate-700/50 hover:bg-slate-700 text-slate-300 rounded-lg transition-colors text-sm",children:[a.jsx(Wo,{className:"w-4 h-4"}),"JSON"]}),a.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-slate-700/50 hover:bg-slate-700 text-slate-300 rounded-lg transition-colors text-sm cursor-pointer",children:[a.jsx(ad,{className:"w-4 h-4"}),"Import",a.jsx("input",{type:"file",accept:".json",onChange:se,className:"hidden"})]}),a.jsxs("button",{onClick:()=>y("blank"),className:"flex items-center gap-2 px-3 py-2 bg-slate-700/50 hover:bg-slate-700 text-slate-300 rounded-lg transition-colors text-sm ml-auto",children:[a.jsx(bl,{className:"w-4 h-4"}),"Reset"]})]}),a.jsx("div",{className:"space-y-4",children:t.sections.length===0?a.jsxs("div",{className:"text-center py-16",children:[a.jsx(rs,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-slate-400",children:"No contentions yet"}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Start by choosing a template or adding your first contention"}),a.jsxs("div",{className:"flex items-center justify-center gap-3 mt-4",children:[a.jsx("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-lg transition-colors",children:"Choose Template"}),a.jsx("button",{onClick:v,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Start from Scratch"})]})]}):a.jsx(sj,{axis:"y",values:t.sections,onReorder:U,className:"space-y-4",children:t.sections.map((D,C)=>a.jsx(aj,{value:D,children:a.jsx(pB,{contention:D,onChange:O=>w(D.id,O),onDelete:()=>S(D.id),index:C})},D.id))})})]})},om={policy:{name:"Policy",roundTime:90,prepTime:10,breakTime:15},ld:{name:"Lincoln Douglas",roundTime:45,prepTime:5,breakTime:10},pf:{name:"Public Forum",roundTime:40,prepTime:5,breakTime:10},congress:{name:"Congress",roundTime:60,prepTime:0,breakTime:15},parli:{name:"Parliamentary",roundTime:35,prepTime:15,breakTime:10}},Wm=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,ej=(t,e=1)=>{if(t.length<2)return[];const n=[...t];n.length%2!==0&&n.push({id:"bye",name:"BYE",school:""});const s=n.length,l=(s-1)*e,o=s/2,c=[];for(let h=0;h<l;h++){const m=[],f=[...n],x=h%(s-1);for(let y=0;y<x;y++){const v=f.pop();f.splice(1,0,v)}for(let y=0;y<o;y++){const v=f[y],w=f[s-1-y];if(v.id==="bye"||w.id==="bye")continue;const S=h%2===0?v:w,U=h%2===0?w:v;m.push({id:Wm(),roundNumber:h+1,matchNumber:y+1,affTeam:S.id,negTeam:U.id,venue:null,timeSlot:null,judge:null,status:"scheduled",winner:null,notes:""})}c.push({id:Wm(),roundNumber:h+1,matches:m,startTime:null,status:"pending"})}return c},xB=(t,e,n)=>{const s=[];return t.forEach((l,o)=>{const c=l.matches,h=new Map;if(c.forEach(f=>{[f.affTeam,f.negTeam].forEach(x=>{h.has(x)&&s.push({type:"team-double-book",severity:"error",roundNumber:l.roundNumber,message:`Team "${e.find(y=>y.id===x)?.name}" has multiple matches in Round ${l.roundNumber}`}),h.set(x,!0)})}),l.startTime){const f=new Map;c.forEach(x=>{x.venue&&x.timeSlot===l.startTime&&(f.has(x.venue)&&s.push({type:"venue-double-book",severity:"error",roundNumber:l.roundNumber,message:`Venue "${n.find(y=>y.id===x.venue)?.name}" is double-booked in Round ${l.roundNumber}`}),f.set(x.venue,!0))})}const m=n.filter(f=>f.available).length;c.length>m&&m>0&&s.push({type:"insufficient-venues",severity:"warning",roundNumber:l.roundNumber,message:`Round ${l.roundNumber} has ${c.length} matches but only ${m} venues available`})}),s},yB=({team:t,onChange:e,onDelete:n})=>a.jsxs(F.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"flex items-center gap-2 bg-slate-700/50 rounded-lg p-2",children:[a.jsx(Vs,{className:"w-4 h-4 text-slate-400"}),a.jsx("input",{type:"text",value:t.name,onChange:s=>e({...t,name:s.target.value}),placeholder:"Team name...",className:"flex-1 bg-transparent text-white text-sm focus:outline-none"}),a.jsx("input",{type:"text",value:t.school||"",onChange:s=>e({...t,school:s.target.value}),placeholder:"School...",className:"w-32 bg-transparent text-slate-400 text-sm focus:outline-none"}),a.jsx("button",{onClick:n,className:"p-1 text-slate-400 hover:text-red-400 transition-colors",children:a.jsx($s,{className:"w-4 h-4"})})]}),bB=({venue:t,onChange:e,onDelete:n})=>a.jsxs(F.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"flex items-center gap-2 bg-slate-700/50 rounded-lg p-2",children:[a.jsx(Jo,{className:"w-4 h-4 text-slate-400"}),a.jsx("input",{type:"text",value:t.name,onChange:s=>e({...t,name:s.target.value}),placeholder:"Room/Venue name...",className:"flex-1 bg-transparent text-white text-sm focus:outline-none"}),a.jsxs("label",{className:"flex items-center gap-1 text-xs text-slate-400",children:[a.jsx("input",{type:"checkbox",checked:t.available,onChange:s=>e({...t,available:s.target.checked}),className:"rounded border-slate-600"}),"Available"]}),a.jsx("button",{onClick:n,className:"p-1 text-slate-400 hover:text-red-400 transition-colors",children:a.jsx($s,{className:"w-4 h-4"})})]}),xS=({match:t,teams:e,venues:n,onUpdate:s,onDelete:l,compact:o=!1})=>{const[c,h]=A.useState(!1),m=e.find(v=>v.id===t.affTeam),f=e.find(v=>v.id===t.negTeam),x=n.find(v=>v.id===t.venue),y={scheduled:"bg-slate-600 text-slate-300",in_progress:"bg-yellow-500/20 text-yellow-400",completed:"bg-green-500/20 text-green-400",cancelled:"bg-red-500/20 text-red-400"};return o?a.jsxs("div",{className:"flex items-center justify-between bg-slate-700/30 rounded-lg p-2 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-cyan-400 font-medium",children:m?.name||"?"}),a.jsx("span",{className:"text-slate-500",children:"vs"}),a.jsx("span",{className:"text-orange-400 font-medium",children:f?.name||"?"})]}),x&&a.jsx("span",{className:"text-slate-500 text-xs",children:x.name})]}):a.jsxs(F.div,{layout:!0,className:"bg-slate-800/50 border border-slate-700 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("span",{className:"text-xs text-slate-500",children:["Match #",t.matchNumber]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${y[t.status]}`,children:t.status.replace("_"," ")}),a.jsx("button",{onClick:()=>h(!c),className:"p-1 text-slate-400 hover:text-white transition-colors",children:a.jsx(eA,{className:"w-3 h-3"})})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex-1 text-center",children:[a.jsx("div",{className:"text-xs text-cyan-400 uppercase tracking-wide mb-1",children:"Aff"}),a.jsx("div",{className:"font-semibold text-white",children:m?.name||"TBD"}),m?.school&&a.jsx("div",{className:"text-xs text-slate-500",children:m.school})]}),a.jsx("div",{className:"text-slate-500 font-bold",children:"vs"}),a.jsxs("div",{className:"flex-1 text-center",children:[a.jsx("div",{className:"text-xs text-orange-400 uppercase tracking-wide mb-1",children:"Neg"}),a.jsx("div",{className:"font-semibold text-white",children:f?.name||"TBD"}),f?.school&&a.jsx("div",{className:"text-xs text-slate-500",children:f.school})]})]}),a.jsxs("div",{className:"flex items-center justify-center gap-4 mt-3 text-xs text-slate-400",children:[x&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Jo,{className:"w-3 h-3"}),x.name]}),t.timeSlot&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Dn,{className:"w-3 h-3"}),t.timeSlot]})]}),t.winner&&a.jsx("div",{className:"mt-3 text-center",children:a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded",children:[a.jsx(on,{className:"w-3 h-3"}),"Winner: ",e.find(v=>v.id===t.winner)?.name]})})]}),a.jsx(ot,{children:c&&a.jsx(F.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-slate-700",children:a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Venue"}),a.jsxs("select",{value:t.venue||"",onChange:v=>s({...t,venue:v.target.value||null}),className:"w-full bg-slate-700/50 border border-slate-600 text-white text-sm px-2 py-1 rounded focus:outline-none",children:[a.jsx("option",{value:"",children:"Select venue..."}),n.filter(v=>v.available).map(v=>a.jsx("option",{value:v.id,children:v.name},v.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Status"}),a.jsxs("select",{value:t.status,onChange:v=>s({...t,status:v.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 text-white text-sm px-2 py-1 rounded focus:outline-none",children:[a.jsx("option",{value:"scheduled",children:"Scheduled"}),a.jsx("option",{value:"in_progress",children:"In Progress"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),t.status==="completed"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Winner"}),a.jsxs("select",{value:t.winner||"",onChange:v=>s({...t,winner:v.target.value||null}),className:"w-full bg-slate-700/50 border border-slate-600 text-white text-sm px-2 py-1 rounded focus:outline-none",children:[a.jsx("option",{value:"",children:"Select winner..."}),a.jsxs("option",{value:t.affTeam,children:[m?.name," (Aff)"]}),a.jsxs("option",{value:t.negTeam,children:[f?.name," (Neg)"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Notes"}),a.jsx("input",{type:"text",value:t.notes,onChange:v=>s({...t,notes:v.target.value}),placeholder:"Match notes...",className:"w-full bg-slate-700/50 border border-slate-600 text-white text-sm px-2 py-1 rounded focus:outline-none"})]})]})})})]})},vB=({round:t,teams:e,venues:n,onUpdateMatch:s,onUpdateRound:l,expanded:o=!1})=>{const[c,h]=A.useState(o),m=t.matches.filter(x=>x.status==="completed").length,f=t.matches.length>0?m/t.matches.length*100:0;return a.jsxs(F.div,{layout:!0,className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:[a.jsx("div",{className:"p-4 cursor-pointer hover:bg-slate-800/80 transition-colors",onClick:()=>h(!c),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{className:"p-1 text-slate-400",children:c?a.jsx(wi,{className:"w-5 h-5"}):a.jsx(Nn,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-white",children:["Round ",t.roundNumber]}),a.jsxs("p",{className:"text-xs text-slate-400",children:[t.matches.length," matches  ",m," completed"]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[t.startTime&&a.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-400",children:[a.jsx(Dn,{className:"w-4 h-4"}),t.startTime]}),a.jsx("div",{className:"w-24 h-2 bg-slate-700 rounded-full overflow-hidden",children:a.jsx(F.div,{initial:{width:0},animate:{width:`${f}%`},className:`h-full ${f===100?"bg-green-500":f>0?"bg-yellow-500":"bg-slate-600"}`})})]})]})}),a.jsx(ot,{children:c&&a.jsxs(F.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-slate-700",children:[a.jsxs("div",{className:"p-4 bg-slate-800/30 flex items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Start Time"}),a.jsx("input",{type:"time",value:t.startTime||"",onChange:x=>l({...t,startTime:x.target.value}),className:"bg-slate-700/50 border border-slate-600 text-white text-sm px-2 py-1 rounded focus:outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Status"}),a.jsxs("select",{value:t.status,onChange:x=>l({...t,status:x.target.value}),className:"bg-slate-700/50 border border-slate-600 text-white text-sm px-2 py-1 rounded focus:outline-none",children:[a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"in_progress",children:"In Progress"}),a.jsx("option",{value:"completed",children:"Completed"})]})]})]}),a.jsx("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.matches.map(x=>a.jsx(xS,{match:x,teams:e,venues:n,onUpdate:y=>s(t.id,x.id,y)},x.id))})]})})]})},wB=({rounds:t,teams:e,venues:n})=>a.jsx("div",{className:"overflow-x-auto",children:a.jsx("div",{className:"flex gap-6 min-w-max p-4",children:t.map(s=>a.jsxs("div",{className:"w-64 flex-shrink-0",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsxs("h3",{className:"font-semibold text-white",children:["Round ",s.roundNumber]}),s.startTime&&a.jsx("p",{className:"text-xs text-slate-400",children:s.startTime})]}),a.jsx("div",{className:"space-y-3",children:s.matches.map(l=>a.jsx(xS,{match:l,teams:e,venues:n,onUpdate:()=>{},compact:!0},l.id))})]},s.id))})}),NB=({rounds:t,teams:e})=>{const n=A.useMemo(()=>{const s=new Map;return e.forEach(l=>{s.set(l.id,{team:l,wins:0,losses:0,affWins:0,negWins:0,totalMatches:0})}),t.forEach(l=>{l.matches.forEach(o=>{if(o.status==="completed"&&o.winner){const c=s.get(o.affTeam),h=s.get(o.negTeam);c&&(c.totalMatches++,o.winner===o.affTeam?(c.wins++,c.affWins++):c.losses++),h&&(h.totalMatches++,o.winner===o.negTeam?(h.wins++,h.negWins++):h.losses++)}})}),Array.from(s.values()).sort((l,o)=>o.wins!==l.wins?o.wins-l.wins:l.losses-o.losses)},[t,e]);return a.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-slate-700",children:a.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[a.jsx(Qn,{className:"w-5 h-5 text-purple-400"}),"Current Standings"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-800/50",children:a.jsxs("tr",{className:"text-left text-xs text-slate-400 uppercase tracking-wide",children:[a.jsx("th",{className:"px-4 py-3",children:"Rank"}),a.jsx("th",{className:"px-4 py-3",children:"Team"}),a.jsx("th",{className:"px-4 py-3",children:"School"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"W"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"L"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Aff W"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Neg W"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Win %"})]})}),a.jsx("tbody",{children:n.map((s,l)=>{const o=s.totalMatches>0?(s.wins/s.totalMatches*100).toFixed(0):"-";return a.jsxs("tr",{className:"border-t border-slate-700/50 hover:bg-slate-700/30",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:`font-bold ${l===0?"text-yellow-400":l===1?"text-slate-300":l===2?"text-orange-400":"text-slate-500"}`,children:l+1})}),a.jsx("td",{className:"px-4 py-3 font-medium text-white",children:s.team.name}),a.jsx("td",{className:"px-4 py-3 text-slate-400",children:s.team.school||"-"}),a.jsx("td",{className:"px-4 py-3 text-center text-green-400 font-medium",children:s.wins}),a.jsx("td",{className:"px-4 py-3 text-center text-red-400 font-medium",children:s.losses}),a.jsx("td",{className:"px-4 py-3 text-center text-cyan-400",children:s.affWins}),a.jsx("td",{className:"px-4 py-3 text-center text-orange-400",children:s.negWins}),a.jsx("td",{className:"px-4 py-3 text-center text-slate-300",children:o!=="-"?`${o}%`:"-"})]},s.team.id)})})]})})]})},jB=()=>{const[t,e]=A.useState([]),[n,s]=A.useState([]),[l,o]=A.useState([]),[c,h]=A.useState("pf"),[m,f]=A.useState("Tournament"),[x,y]=A.useState(""),[v,w]=A.useState("rounds"),[S,U]=A.useState(!0),I=A.useMemo(()=>xB(l,t,n),[l,t,n]),z=I.filter($=>$.severity==="error").length,L=I.filter($=>$.severity==="warning").length,q=()=>{e($=>[...$,{id:Wm(),name:"",school:""}])},K=($,W)=>{e(he=>he.map(be=>be.id===$?W:be))},se=$=>{e(W=>W.filter(he=>he.id!==$))},G=()=>{s($=>[...$,{id:Wm(),name:"",available:!0}])},D=($,W)=>{s(he=>he.map(be=>be.id===$?W:be))},C=$=>{s(W=>W.filter(he=>he.id!==$))},O=()=>{const $=t.filter(be=>be.name.trim());if($.length<2)return;const W=ej($),he=n.filter(be=>be.available);W.forEach(be=>{be.matches.forEach((B,ie)=>{he[ie%he.length]&&(B.venue=he[ie%he.length].id)})}),o(W),U(!1)},E=()=>{const $=[...t].sort(()=>Math.random()-.5),W=ej($.filter(be=>be.name.trim())),he=n.filter(be=>be.available);W.forEach(be=>{be.matches.forEach((B,ie)=>{he[ie%he.length]&&(B.venue=he[ie%he.length].id)})}),o(W)},T=($,W,he)=>{o(be=>be.map(B=>B.id===$?{...B,matches:B.matches.map(ie=>ie.id===W?he:ie)}:B))},M=$=>{o(W=>W.map(he=>he.id===$.id?$:he))},R=()=>{const $=om[c];let he=540;o(be=>be.map((B,ie)=>{const ge=Math.floor(he/60),P=he%60,Ee=`${ge.toString().padStart(2,"0")}:${P.toString().padStart(2,"0")}`;return he+=$.roundTime+$.breakTime,{...B,startTime:Ee}}))},te=()=>{const $={tournament:{name:m,date:x,format:om[c].name},teams:t,venues:n,rounds:l},W=new Blob([JSON.stringify($,null,2)],{type:"application/json"}),he=URL.createObjectURL(W),be=document.createElement("a");be.href=he,be.download=`${m.replace(/\s+/g,"_")}_schedule.json`,be.click(),URL.revokeObjectURL(he)},J=()=>{let $=`<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>${m} - Schedule</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 1000px; margin: 0 auto; padding: 20px; }
    h1 { text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; }
    .meta { text-align: center; color: #666; margin-bottom: 20px; }
    .round { margin-bottom: 30px; page-break-inside: avoid; }
    .round h2 { background: #f0f0f0; padding: 10px; margin: 0; }
    .matches { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 10px; padding: 10px; }
    .match { border: 1px solid #ddd; padding: 10px; border-radius: 5px; }
    .teams { display: flex; justify-content: space-between; align-items: center; }
    .team { font-weight: bold; }
    .aff { color: #0088cc; }
    .neg { color: #cc8800; }
    .venue { font-size: 12px; color: #666; margin-top: 5px; }
    @media print { .round { page-break-inside: avoid; } }
  </style>
</head>
<body>
  <h1>${m}</h1>
  <div class="meta">
    ${x?`<p>Date: ${x}</p>`:""}
    <p>Format: ${om[c].name} | Teams: ${t.length} | Rounds: ${l.length}</p>
  </div>
`;l.forEach(he=>{$+=`  <div class="round">
    <h2>Round ${he.roundNumber}${he.startTime?` - ${he.startTime}`:""}</h2>
    <div class="matches">
`,he.matches.forEach(be=>{const B=t.find(P=>P.id===be.affTeam),ie=t.find(P=>P.id===be.negTeam),ge=n.find(P=>P.id===be.venue);$+=`      <div class="match">
        <div class="teams">
          <span class="team aff">${B?.name||"TBD"}</span>
          <span>vs</span>
          <span class="team neg">${ie?.name||"TBD"}</span>
        </div>
        ${ge?`<div class="venue">${ge.name}</div>`:""}
      </div>
`}),$+=`    </div>
  </div>
`}),$+="</body></html>";const W=window.open("","_blank");W.document.write($),W.document.close(),W.print()};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl",children:a.jsx(pr,{className:"w-6 h-6 text-white"})}),"Round Robin Scheduler"]}),a.jsx("p",{className:"text-slate-400 mt-1",children:"Generate tournament schedules with conflict detection"})]}),a.jsx("div",{className:"flex items-center gap-2",children:l.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>U(!S),className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[a.jsx(nd,{className:"w-4 h-4"}),"Setup"]}),a.jsxs("button",{onClick:J,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[a.jsx(mj,{className:"w-4 h-4"}),"Print"]}),a.jsxs("button",{onClick:te,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors",children:[a.jsx(Wo,{className:"w-4 h-4"}),"Export"]})]})})]}),a.jsx(ot,{children:S&&a.jsx(F.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Tournament Name"}),a.jsx("input",{type:"text",value:m,onChange:$=>f($.target.value),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Date"}),a.jsx("input",{type:"date",value:x,onChange:$=>y($.target.value),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Format"}),a.jsx("select",{value:c,onChange:$=>h($.target.value),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/50",children:Object.entries(om).map(([$,W])=>a.jsx("option",{value:$,children:W.name},$))})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[a.jsx(Vs,{className:"w-5 h-5 text-cyan-400"}),"Teams (",t.length,")"]}),a.jsxs("button",{onClick:q,className:"flex items-center gap-1 text-sm text-cyan-400 hover:text-cyan-300 transition-colors",children:[a.jsx(hn,{className:"w-4 h-4"}),"Add Team"]})]}),a.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[a.jsx(ot,{children:t.map($=>a.jsx(yB,{team:$,onChange:W=>K($.id,W),onDelete:()=>se($.id)},$.id))}),t.length===0&&a.jsx("p",{className:"text-slate-500 text-sm text-center py-4",children:"Add teams to generate schedule"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[a.jsx(Jo,{className:"w-5 h-5 text-orange-400"}),"Venues (",n.length,")"]}),a.jsxs("button",{onClick:G,className:"flex items-center gap-1 text-sm text-orange-400 hover:text-orange-300 transition-colors",children:[a.jsx(hn,{className:"w-4 h-4"}),"Add Venue"]})]}),a.jsxs("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:[a.jsx(ot,{children:n.map($=>a.jsx(bB,{venue:$,onChange:W=>D($.id,W),onDelete:()=>C($.id)},$.id))}),n.length===0&&a.jsx("p",{className:"text-slate-500 text-sm text-center py-4",children:"Add venues for room assignments"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-slate-700",children:[a.jsxs("button",{onClick:O,disabled:t.filter($=>$.name.trim()).length<2,className:"flex items-center gap-2 px-6 py-3 bg-green-600 hover:bg-green-500 disabled:bg-slate-700 disabled:text-slate-500 text-white rounded-lg transition-colors font-medium",children:[a.jsx(pr,{className:"w-5 h-5"}),"Generate Schedule"]}),l.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-4 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[a.jsx(pj,{className:"w-4 h-4"}),"Shuffle"]}),a.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-4 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[a.jsx(Dn,{className:"w-4 h-4"}),"Auto Times"]})]}),a.jsxs("div",{className:"ml-auto text-sm text-slate-400",children:[t.filter($=>$.name.trim()).length," teams  ",Math.max(0,t.filter($=>$.name.trim()).length-1)," rounds"]})]})]})})}),I.length>0&&a.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx(mi,{className:"w-5 h-5 text-yellow-400"}),a.jsxs("span",{className:"font-medium text-white",children:[z," errors, ",L," warnings detected"]})]}),a.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:I.map(($,W)=>a.jsxs("div",{className:`flex items-center gap-2 text-sm px-3 py-2 rounded ${$.severity==="error"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:[$.severity==="error"?a.jsx(mi,{className:"w-4 h-4"}):a.jsx(mi,{className:"w-4 h-4"}),$.message]},W))})]}),l.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>w("rounds"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${v==="rounds"?"bg-green-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[a.jsx(px,{className:"w-4 h-4"}),"Rounds"]}),a.jsxs("button",{onClick:()=>w("bracket"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${v==="bracket"?"bg-green-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[a.jsx(fx,{className:"w-4 h-4"}),"Bracket"]}),a.jsxs("button",{onClick:()=>w("standings"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${v==="standings"?"bg-green-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[a.jsx(on,{className:"w-4 h-4"}),"Standings"]})]}),a.jsxs(ot,{mode:"wait",children:[v==="rounds"&&a.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:l.map($=>a.jsx(vB,{round:$,teams:t,venues:n,onUpdateMatch:T,onUpdateRound:M},$.id))},"rounds"),v==="bracket"&&a.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-slate-800/50 border border-slate-700 rounded-xl",children:a.jsx(wB,{rounds:l,teams:t,venues:n})},"bracket"),v==="standings"&&a.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:a.jsx(NB,{rounds:l,teams:t})},"standings")]})]}),l.length===0&&!S&&a.jsxs("div",{className:"text-center py-16",children:[a.jsx(pr,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-slate-400",children:"No schedule generated"}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Set up your tournament to generate a schedule"}),a.jsx("button",{onClick:()=>U(!0),className:"mt-4 px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors",children:"Open Setup"})]})]})},tj=()=>({overall:{wins:47,losses:18,ties:2,totalRounds:67,winRate:70.1,winStreak:5,bestStreak:12,improvement:8.5},bySide:{aff:{wins:25,losses:8,winRate:75.8},neg:{wins:22,losses:10,winRate:68.8}},byFormat:{"Public Forum":{wins:20,losses:7,winRate:74.1},"Lincoln Douglas":{wins:15,losses:6,winRate:71.4},Policy:{wins:8,losses:4,winRate:66.7},Congress:{wins:4,losses:1,winRate:80}},speakerPoints:{average:28.4,highest:30,lowest:26.5,recent:[28.5,29,27.5,28,29.5,28,30,28.5],percentile:87,trend:"up"},recentTournaments:[{id:1,name:"State Championships",date:"2025-11-28",place:2,totalTeams:64,record:"5-1",speakerAward:!0,speakerRank:3},{id:2,name:"Regional Qualifier",date:"2025-11-15",place:1,totalTeams:32,record:"6-0",speakerAward:!0,speakerRank:1},{id:3,name:"Fall Classic",date:"2025-11-01",place:5,totalTeams:48,record:"4-2",speakerAward:!1,speakerRank:12},{id:4,name:"October Invitational",date:"2025-10-18",place:3,totalTeams:56,record:"5-2",speakerAward:!0,speakerRank:5}],upcomingMatches:[{id:1,tournament:"December Invitational",date:"2025-12-06",location:"Central High School",format:"Public Forum",registered:!0},{id:2,tournament:"Winter Classic",date:"2025-12-13",location:"University Arena",format:"Lincoln Douglas",registered:!0},{id:3,tournament:"Holiday Tournament",date:"2025-12-20",location:"Convention Center",format:"Policy",registered:!1}],achievements:[{id:1,name:"Tournament Champion",count:3,icon:"trophy",color:"gold"},{id:2,name:"Top Speaker",count:5,icon:"star",color:"purple"},{id:3,name:"Undefeated Day",count:8,icon:"flame",color:"orange"},{id:4,name:"30 Speaker Points",count:2,icon:"zap",color:"cyan"}],headToHead:[{opponent:"Westview Academy",wins:3,losses:1,lastMet:"2025-11-28"},{opponent:"Eastside Prep",wins:2,losses:2,lastMet:"2025-11-15"},{opponent:"North High",wins:4,losses:0,lastMet:"2025-11-01"},{opponent:"Central Academy",wins:1,losses:2,lastMet:"2025-10-18"}]}),wm=({value:t,duration:e=1e3,decimals:n=0,suffix:s=""})=>{const[l,o]=A.useState(0);return A.useEffect(()=>{let c;const h=l,m=t-h,f=x=>{c||(c=x);const y=x-c,v=Math.min(y/e,1),w=1-Math.pow(1-v,3),S=h+m*w;o(S),v<1&&requestAnimationFrame(f)};requestAnimationFrame(f)},[t,e]),a.jsxs("span",{children:[l.toFixed(n),s]})},Ju=({value:t,max:e=100,color:n="cyan",size:s="md",showLabel:l=!0,animated:o=!0})=>{const c=Math.min(t/e*100,100),h={cyan:"from-cyan-500 to-blue-500",green:"from-emerald-500 to-green-500",purple:"from-purple-500 to-indigo-500",orange:"from-orange-500 to-amber-500",red:"from-red-500 to-rose-500",gold:"from-yellow-400 to-amber-500"},m={sm:"h-1.5",md:"h-2",lg:"h-3"};return a.jsxs("div",{className:"w-full",children:[a.jsx("div",{className:`w-full bg-slate-700/50 rounded-full overflow-hidden ${m[s]}`,children:a.jsx(F.div,{initial:o?{width:0}:{width:`${c}%`},animate:{width:`${c}%`},transition:{duration:1,ease:"easeOut"},className:`h-full bg-gradient-to-r ${h[n]} rounded-full`})}),l&&a.jsxs("div",{className:"flex justify-between mt-1 text-xs text-slate-400",children:[a.jsx("span",{children:t}),a.jsx("span",{children:e})]})]})},yS=({label:t,value:e,trend:n,color:s="slate"})=>{const l={green:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",red:"bg-red-500/20 text-red-400 border-red-500/30",cyan:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30",purple:"bg-purple-500/20 text-purple-400 border-purple-500/30",orange:"bg-orange-500/20 text-orange-400 border-orange-500/30",gold:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",slate:"bg-slate-500/20 text-slate-400 border-slate-500/30"};return a.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full border text-xs font-medium ${l[s]}`,children:[a.jsx("span",{children:t}),a.jsx("span",{className:"font-bold",children:e}),n&&a.jsx("span",{className:n==="up"?"text-emerald-400":n==="down"?"text-red-400":"text-slate-400",children:n==="up"?a.jsx(mT,{className:"w-3 h-3"}):n==="down"?a.jsx(uT,{className:"w-3 h-3"}):a.jsx(af,{className:"w-3 h-3"})})]})},_B=({stats:t})=>{const{wins:e,losses:n,ties:s,winRate:l,winStreak:o,improvement:c}=t;return a.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-lg",children:a.jsx(Qn,{className:"w-4 h-4 text-white"})}),"Win/Loss Record"]}),a.jsx(yS,{label:"Win Rate",value:`${l}%`,trend:c>0?"up":c<0?"down":"stable",color:l>=70?"green":l>=50?"orange":"red"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-emerald-400",children:a.jsx(wm,{value:e})}),a.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Wins"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-red-400",children:a.jsx(wm,{value:n})}),a.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Losses"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-slate-400",children:a.jsx(wm,{value:s})}),a.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Ties"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-slate-400",children:"Overall Win Rate"}),a.jsxs("span",{className:"text-white font-medium",children:[l,"%"]})]}),a.jsx(Ju,{value:l,max:100,color:"cyan",size:"md",showLabel:!1})]}),a.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-700",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tf,{className:"w-4 h-4 text-orange-400"}),a.jsx("span",{className:"text-sm text-slate-400",children:"Current Streak:"}),a.jsxs("span",{className:"text-white font-semibold",children:[o,"W"]})]}),a.jsx("div",{className:"flex items-center gap-1 text-sm",children:c>0?a.jsxs(a.Fragment,{children:[a.jsx(wl,{className:"w-4 h-4 text-emerald-400"}),a.jsxs("span",{className:"text-emerald-400",children:["+",c,"%"]})]}):c<0?a.jsxs(a.Fragment,{children:[a.jsx(uf,{className:"w-4 h-4 text-red-400"}),a.jsxs("span",{className:"text-red-400",children:[c,"%"]})]}):a.jsx("span",{className:"text-slate-400",children:"No change"})})]})]})},SB=({bySide:t})=>a.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[a.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-lg",children:a.jsx(Ng,{className:"w-4 h-4 text-white"})}),"Performance by Side"]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-cyan-500"}),a.jsx("span",{className:"text-white font-medium",children:"Affirmative"})]}),a.jsxs("span",{className:"text-cyan-400 font-semibold",children:[t.aff.winRate,"%"]})]}),a.jsx(Ju,{value:t.aff.winRate,max:100,color:"cyan",size:"sm",showLabel:!1}),a.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-1",children:[a.jsxs("span",{children:[t.aff.wins,"W - ",t.aff.losses,"L"]}),a.jsxs("span",{children:[t.aff.wins+t.aff.losses," rounds"]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),a.jsx("span",{className:"text-white font-medium",children:"Negative"})]}),a.jsxs("span",{className:"text-orange-400 font-semibold",children:[t.neg.winRate,"%"]})]}),a.jsx(Ju,{value:t.neg.winRate,max:100,color:"orange",size:"sm",showLabel:!1}),a.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-1",children:[a.jsxs("span",{children:[t.neg.wins,"W - ",t.neg.losses,"L"]}),a.jsxs("span",{children:[t.neg.wins+t.neg.losses," rounds"]})]})]})]}),EB=({speakerPoints:t})=>{const{average:e,highest:n,lowest:s,recent:l,percentile:o,trend:c}=t;return a.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-amber-500 to-orange-600 rounded-lg",children:a.jsx(Bn,{className:"w-4 h-4 text-white"})}),"Speaker Points"]}),a.jsx(yS,{label:"Top",value:`${o}%`,color:"gold"})]}),a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("div",{className:"text-5xl font-bold text-white mb-1",children:a.jsx(wm,{value:e,decimals:1})}),a.jsx("div",{className:"text-sm text-slate-400",children:"Average Speaker Points"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx(Ju,{value:e,max:30,color:"gold",size:"lg",showLabel:!1}),a.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[a.jsx("span",{className:"text-slate-500",children:"26"}),a.jsx("span",{className:"text-slate-500",children:"27"}),a.jsx("span",{className:"text-slate-500",children:"28"}),a.jsx("span",{className:"text-slate-500",children:"29"}),a.jsx("span",{className:"text-amber-400 font-semibold",children:"30"})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-700",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-emerald-400",children:n}),a.jsx("div",{className:"text-xs text-slate-400",children:"Personal Best"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-slate-400",children:s}),a.jsx("div",{className:"text-xs text-slate-400",children:"Season Low"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[c==="up"?a.jsx(wl,{className:"w-5 h-5 text-emerald-400"}):c==="down"?a.jsx(uf,{className:"w-5 h-5 text-red-400"}):a.jsx(vi,{className:"w-5 h-5 text-slate-400"}),a.jsx("span",{className:`text-sm font-medium ${c==="up"?"text-emerald-400":c==="down"?"text-red-400":"text-slate-400"}`,children:c==="up"?"Improving":c==="down"?"Declining":"Stable"})]})]}),a.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-700",children:[a.jsx("div",{className:"text-xs text-slate-400 mb-2",children:"Recent Rounds"}),a.jsx("div",{className:"flex items-end justify-between h-12 gap-1",children:l.map((m,f)=>{const x=(m-26)/4*100;return a.jsx(F.div,{initial:{height:0},animate:{height:`${x}%`},transition:{delay:f*.1,duration:.5},className:`flex-1 rounded-t ${m>=29?"bg-emerald-500":m>=28?"bg-cyan-500":m>=27?"bg-amber-500":"bg-slate-500"}`,title:`${m} pts`},f)})})]})]})},TB=({tournaments:t})=>{const e=(s,l)=>{const o=s/l*100;return s===1?"text-yellow-400":s===2?"text-slate-300":s===3?"text-orange-400":o<=25?"text-emerald-400":o<=50?"text-cyan-400":"text-slate-400"},n=s=>s===1?a.jsx(ef,{className:"w-4 h-4 text-yellow-400"}):s===2?a.jsx(Sm,{className:"w-4 h-4 text-slate-300"}):s===3?a.jsx(Sm,{className:"w-4 h-4 text-orange-400"}):a.jsx(ux,{className:"w-4 h-4 text-slate-400"});return a.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-emerald-500 to-green-600 rounded-lg",children:a.jsx(on,{className:"w-4 h-4 text-white"})}),"Recent Tournaments"]}),a.jsx("button",{className:"text-xs text-cyan-400 hover:text-cyan-300 transition-colors",children:"View All"})]}),a.jsx("div",{className:"space-y-3",children:t.map((s,l)=>a.jsxs(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*l},className:"flex items-center gap-3 p-3 bg-slate-700/30 rounded-lg hover:bg-slate-700/50 transition-colors",children:[a.jsx("div",{className:"flex-shrink-0",children:n(s.place)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-white font-medium text-sm truncate",children:s.name}),s.speakerAward&&a.jsx(Bn,{className:"w-3 h-3 text-amber-400 flex-shrink-0"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[a.jsx("span",{children:new Date(s.date).toLocaleDateString()}),a.jsx("span",{children:""}),a.jsx("span",{children:s.record})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`text-lg font-bold ${e(s.place,s.totalTeams)}`,children:["#",s.place]}),a.jsxs("div",{className:"text-xs text-slate-500",children:["of ",s.totalTeams]})]})]},s.id))})]})},CB=({matches:t})=>{const e=n=>{const s=new Date,o=new Date(n)-s;return Math.ceil(o/(1e3*60*60*24))};return a.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg",children:a.jsx(pr,{className:"w-4 h-4 text-white"})}),"Upcoming Matches"]})}),a.jsx("div",{className:"space-y-3",children:t.map((n,s)=>{const l=e(n.date);return a.jsxs(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*s},className:"p-3 bg-slate-700/30 rounded-lg",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium text-sm",children:n.tournament}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400 mt-1",children:[a.jsx(Jo,{className:"w-3 h-3"}),n.location]})]}),a.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${n.registered?"bg-emerald-500/20 text-emerald-400":"bg-amber-500/20 text-amber-400"}`,children:n.registered?"Registered":"Not Registered"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"px-2 py-0.5 bg-slate-600/50 text-slate-300 text-xs rounded",children:n.format}),a.jsx("span",{className:"text-xs text-slate-400",children:new Date(n.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]}),a.jsxs("div",{className:`flex items-center gap-1 text-xs font-medium ${l<=3?"text-red-400":l<=7?"text-amber-400":"text-slate-400"}`,children:[a.jsx(Dn,{className:"w-3 h-3"}),l===0?"Today":l===1?"Tomorrow":`${l} days`]})]})]},n.id)})})]})},AB=({achievements:t})=>{const e={trophy:on,star:Bn,flame:tf,zap:Pu,medal:Sm},n={gold:"from-yellow-400 to-amber-500 text-yellow-400",purple:"from-purple-500 to-indigo-500 text-purple-400",orange:"from-orange-500 to-red-500 text-orange-400",cyan:"from-cyan-500 to-blue-500 text-cyan-400"};return a.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-pink-500 to-rose-600 rounded-lg",children:a.jsx(Fs,{className:"w-4 h-4 text-white"})}),"Achievements"]})}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.map((s,l)=>{const o=e[s.icon]||on,c=n[s.color]||n.gold;return a.jsxs(F.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1*l},className:"flex items-center gap-3 p-3 bg-slate-700/30 rounded-lg",children:[a.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-br ${c.split(" ")[0]} ${c.split(" ")[1]}`,children:a.jsx(o,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white text-sm font-medium",children:s.name}),a.jsxs("div",{className:`text-lg font-bold ${c.split(" ")[2]}`,children:["",s.count]})]})]},s.id)})})]})},kB=({records:t})=>a.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-red-500 to-rose-600 rounded-lg",children:a.jsx(Vs,{className:"w-4 h-4 text-white"})}),"Head-to-Head Records"]})}),a.jsx("div",{className:"space-y-3",children:t.map((e,n)=>{const s=e.wins+e.losses,l=s>0?e.wins/s*100:0;return a.jsxs(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*n},className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-white text-sm font-medium",children:e.opponent}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-emerald-400 font-semibold",children:[e.wins,"W"]}),a.jsx("span",{className:"text-slate-500",children:"-"}),a.jsxs("span",{className:"text-red-400 font-semibold",children:[e.losses,"L"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-2 bg-slate-700 rounded-full overflow-hidden",children:a.jsx(F.div,{initial:{width:0},animate:{width:`${l}%`},transition:{duration:.5,delay:.2*n},className:`h-full rounded-full ${l>=50?"bg-emerald-500":"bg-red-500"}`})}),a.jsxs("span",{className:`text-xs font-medium ${l>=50?"text-emerald-400":"text-red-400"}`,children:[l.toFixed(0),"%"]})]})]},e.opponent)})})]}),IB=({byFormat:t})=>{const e=Object.entries(t),n=["cyan","purple","orange","green"];return a.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-lg",children:a.jsx(Ot,{className:"w-4 h-4 text-white"})}),"Performance by Format"]})}),a.jsx("div",{className:"space-y-4",children:e.map(([s,l],o)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-white text-sm",children:s}),a.jsxs("span",{className:"text-xs text-slate-400",children:[l.wins,"W - ",l.losses,"L"]})]}),a.jsx(Ju,{value:l.winRate,max:100,color:n[o%n.length],size:"sm",showLabel:!1})]},s))})]})},RB=({compact:t=!1})=>{const[e,n]=A.useState(null),[s,l]=A.useState(!0),[o,c]=A.useState("season");A.useEffect(()=>{const m=setTimeout(()=>{n(tj()),l(!1)},500);return()=>clearTimeout(m)},[]);const h=()=>{l(!0),setTimeout(()=>{n(tj()),l(!1)},500)};return s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ou,{className:"w-8 h-8 text-cyan-400 animate-spin mx-auto mb-2"}),a.jsx("p",{className:"text-slate-400",children:"Loading stats..."})]})}):e?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-xl",children:a.jsx(vi,{className:"w-6 h-6 text-white"})}),"Quick Stats"]}),a.jsx("p",{className:"text-slate-400 mt-1",children:"Your performance at a glance"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{value:o,onChange:m=>c(m.target.value),className:"bg-slate-700/50 border border-slate-600 text-white text-sm px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50",children:[a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"}),a.jsx("option",{value:"season",children:"This Season"}),a.jsx("option",{value:"all",children:"All Time"})]}),a.jsx("button",{onClick:h,className:"p-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:a.jsx(Ou,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(_B,{stats:e.overall}),a.jsx(SB,{bySide:e.bySide}),a.jsx(EB,{speakerPoints:e.speakerPoints}),a.jsx(TB,{tournaments:e.recentTournaments}),a.jsx(CB,{matches:e.upcomingMatches}),a.jsx(AB,{achievements:e.achievements}),a.jsx(kB,{records:e.headToHead}),a.jsx(IB,{byFormat:e.byFormat})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(is,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),a.jsx("p",{className:"text-slate-400",children:"Unable to load statistics"})]})},Zu={domestic:{label:"Domestic Policy",icon:xC,color:"cyan",bgColor:"bg-cyan-500/10",borderColor:"border-cyan-500/30",textColor:"text-cyan-400"},international:{label:"International Relations",icon:lC,color:"purple",bgColor:"bg-purple-500/10",borderColor:"border-purple-500/30",textColor:"text-purple-400"},philosophy:{label:"Philosophy/Ethics",icon:yl,color:"amber",bgColor:"bg-amber-500/10",borderColor:"border-amber-500/30",textColor:"text-amber-400"},economics:{label:"Economics",icon:of,color:"emerald",bgColor:"bg-emerald-500/10",borderColor:"border-emerald-500/30",textColor:"text-emerald-400"},social:{label:"Social Issues",icon:Vs,color:"rose",bgColor:"bg-rose-500/10",borderColor:"border-rose-500/30",textColor:"text-rose-400"},legal:{label:"Legal/Constitutional",icon:za,color:"orange",bgColor:"bg-orange-500/10",borderColor:"border-orange-500/30",textColor:"text-orange-400"}},Jm={pf:{label:"Public Forum",short:"PF"},ld:{label:"Lincoln Douglas",short:"LD"},policy:{label:"Policy/CX",short:"CX"},congress:{label:"Congressional",short:"Congress"},parli:{label:"Parliamentary",short:"Parli"},worlds:{label:"World Schools",short:"WSDC"},bp:{label:"British Parliamentary",short:"BP"}},Zm=[{value:1,label:"Novice",color:"emerald"},{value:2,label:"JV",color:"cyan"},{value:3,label:"Varsity",color:"amber"},{value:4,label:"Elite",color:"purple"},{value:5,label:"Championship",color:"rose"}],ur=()=>`motion_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,DB=[{id:ur(),text:"Resolved: The United States federal government should substantially increase its protection of water resources in the United States.",category:"domestic",format:"policy",difficulty:4,year:2024,month:"September",tournament:"NSDA National Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["environment","water","federal policy"],notes:"Year-long topic for Policy debate. Focus areas include Clean Water Act, infrastructure, and tribal water rights.",favorited:!0,timesUsed:12,lastUsed:"2024-11-15",createdAt:"2024-08-01"},{id:ur(),text:"Resolved: The United States ought to guarantee universal basic income.",category:"economics",format:"ld",difficulty:3,year:2024,month:"November",tournament:"November/December LD Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["UBI","welfare","economics","poverty"],notes:"Strong aff ground on poverty reduction, neg ground on inflation and work incentives.",favorited:!0,timesUsed:8,lastUsed:"2024-11-20",createdAt:"2024-10-15"},{id:ur(),text:"Resolved: The European Union should substantially strengthen its defense capabilities independent of the North Atlantic Treaty Organization.",category:"international",format:"pf",difficulty:4,year:2024,month:"December",tournament:"December PF Topic",source:"NSDA",sourceUrl:"https://www.speechanddebate.org",tags:["EU","NATO","defense","foreign policy"],notes:'Topicality on "independent" will be key. Research European strategic autonomy.',favorited:!1,timesUsed:3,lastUsed:"2024-11-28",createdAt:"2024-11-01"},{id:ur(),text:"This House believes that the pursuit of happiness is a more important life goal than the pursuit of meaning.",category:"philosophy",format:"bp",difficulty:3,year:2024,month:"October",tournament:"Cambridge IV",source:"Cambridge Union",sourceUrl:"",tags:["philosophy","happiness","meaning","life purpose"],notes:"Classic philosophy motion. Define happiness vs meaning carefully.",favorited:!0,timesUsed:5,lastUsed:"2024-10-25",createdAt:"2024-10-01"},{id:ur(),text:"Resolved: Jury nullification is a legitimate tool for criminal defense.",category:"legal",format:"ld",difficulty:4,year:2024,month:"September",tournament:"Yale Invitational",source:"Yale Debate",sourceUrl:"",tags:["jury","law","justice","courts"],notes:"Focus on democratic legitimacy vs rule of law tensions.",favorited:!1,timesUsed:2,lastUsed:"2024-09-20",createdAt:"2024-09-01"},{id:ur(),text:"This House would ban the use of facial recognition technology by law enforcement.",category:"social",format:"parli",difficulty:2,year:2024,month:"November",tournament:"State Championships",source:"Local Circuit",sourceUrl:"",tags:["technology","privacy","police","civil liberties"],notes:"Good novice motion. Clear clash on privacy vs security.",favorited:!1,timesUsed:7,lastUsed:"2024-11-10",createdAt:"2024-11-05"},{id:ur(),text:"Resolved: A bill to implement a carbon tax should pass.",category:"economics",format:"congress",difficulty:2,year:2024,month:"October",tournament:"Fall Regional",source:"Regional Circuit",sourceUrl:"",tags:["climate","tax","environment","economics"],notes:"Popular Congress topic. Both sides have strong economic arguments.",favorited:!1,timesUsed:4,lastUsed:"2024-10-15",createdAt:"2024-10-01"},{id:ur(),text:"This House believes that Western liberal democracies should adopt deliberative democracy mechanisms.",category:"philosophy",format:"worlds",difficulty:5,year:2024,month:"August",tournament:"World Schools Debate Championship",source:"WSDC",sourceUrl:"https://wsdc.info",tags:["democracy","deliberation","politics","governance"],notes:"Championship-level motion requiring deep knowledge of democratic theory.",favorited:!0,timesUsed:1,lastUsed:"2024-08-15",createdAt:"2024-08-01"}],nj=({level:t})=>{const e=Zm.find(s=>s.value===t)||Zm[2],n={emerald:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",cyan:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30",amber:"bg-amber-500/20 text-amber-400 border-amber-500/30",purple:"bg-purple-500/20 text-purple-400 border-purple-500/30",rose:"bg-rose-500/20 text-rose-400 border-rose-500/30"};return a.jsx("span",{className:`px-2 py-0.5 rounded-full border text-xs font-medium ${n[e.color]}`,children:e.label})},MB=({motion:t,onEdit:e,onDelete:n,onToggleFavorite:s,onCopy:l,viewMode:o})=>{const[c,h]=A.useState(!1),m=Zu[t.category]||Zu.domestic,f=Jm[t.format]||Jm.pf,x=m.icon,y=()=>{navigator.clipboard.writeText(t.text),l?.(t)};return o==="compact"?a.jsx(t.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`p-4 rounded-lg border ${m.bgColor} ${m.borderColor} hover:border-opacity-60 transition-colors`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-br from-${m.color}-500/20 to-${m.color}-600/20`,children:a.jsx(x,{className:`w-4 h-4 ${m.textColor}`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-white text-sm line-clamp-2",children:t.text}),a.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[a.jsx("span",{className:"text-xs text-slate-400",children:f.short}),a.jsx("span",{className:"text-slate-600",children:""}),a.jsx(nj,{level:t.difficulty}),a.jsx("span",{className:"text-slate-600",children:""}),a.jsx("span",{className:"text-xs text-slate-400",children:t.year})]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>s(t.id),className:`p-1.5 rounded transition-colors ${t.favorited?"text-amber-400 hover:text-amber-300":"text-slate-500 hover:text-slate-300"}`,children:t.favorited?a.jsx(Bn,{className:"w-4 h-4 fill-current"}):a.jsx(ow,{className:"w-4 h-4"})}),a.jsx("button",{onClick:y,className:"p-1.5 text-slate-500 hover:text-white rounded transition-colors",children:a.jsx(oa,{className:"w-4 h-4"})})]})]})}):a.jsxs(t.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`rounded-xl border overflow-hidden ${m.bgColor} ${m.borderColor}`,children:[a.jsx("div",{className:"p-4 border-b border-slate-700/50",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`p-2.5 rounded-xl bg-gradient-to-br from-${m.color}-500/20 to-${m.color}-600/20`,children:a.jsx(x,{className:`w-5 h-5 ${m.textColor}`})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:`text-xs font-medium ${m.textColor}`,children:m.label}),a.jsx("span",{className:"text-slate-600",children:""}),a.jsx("span",{className:"text-xs text-slate-400",children:f.label})]}),a.jsx(nj,{level:t.difficulty})]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>s(t.id),className:`p-2 rounded-lg transition-colors ${t.favorited?"text-amber-400 hover:bg-amber-500/20":"text-slate-500 hover:text-slate-300 hover:bg-slate-700/50"}`,children:t.favorited?a.jsx(Bn,{className:"w-4 h-4 fill-current"}):a.jsx(ow,{className:"w-4 h-4"})}),a.jsx("button",{onClick:y,className:"p-2 text-slate-500 hover:text-white hover:bg-slate-700/50 rounded-lg transition-colors",title:"Copy motion text",children:a.jsx(oa,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>e(t),className:"p-2 text-slate-500 hover:text-white hover:bg-slate-700/50 rounded-lg transition-colors",children:a.jsx(td,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>n(t.id),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",children:a.jsx($s,{className:"w-4 h-4"})})]})]})}),a.jsx("div",{className:"p-4",children:a.jsx("p",{className:"text-white font-medium leading-relaxed",children:t.text})}),t.tags&&t.tags.length>0&&a.jsx("div",{className:"px-4 pb-3 flex items-center gap-2 flex-wrap",children:t.tags.map((v,w)=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-slate-700/50 text-slate-300 text-xs rounded-full",children:[a.jsx(cj,{className:"w-3 h-3"}),v]},w))}),a.jsxs("div",{className:"px-4 pb-4",children:[a.jsxs("button",{onClick:()=>h(!c),className:"flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[c?a.jsx(wi,{className:"w-4 h-4"}):a.jsx(Nn,{className:"w-4 h-4"}),a.jsx("span",{children:"Details"})]}),a.jsx(ot,{children:c&&a.jsx(t.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:a.jsxs("div",{className:"pt-3 space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-500 text-xs uppercase tracking-wide",children:"Tournament"}),a.jsx("p",{className:"text-white",children:t.tournament||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-500 text-xs uppercase tracking-wide",children:"Source"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("p",{className:"text-white",children:t.source||"Unknown"}),t.sourceUrl&&a.jsx("a",{href:t.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300",children:a.jsx(lj,{className:"w-3 h-3"})})]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-500 text-xs uppercase tracking-wide",children:"Date"}),a.jsxs("p",{className:"text-white",children:[t.month," ",t.year]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-500 text-xs uppercase tracking-wide",children:"Times Used"}),a.jsx("p",{className:"text-white",children:t.timesUsed||0})]})]}),t.notes&&a.jsxs("div",{className:"pt-2 border-t border-slate-700/50",children:[a.jsx("span",{className:"text-slate-500 text-xs uppercase tracking-wide",children:"Notes"}),a.jsx("p",{className:"text-slate-300 text-sm mt-1",children:t.notes})]})]})})})]})]})},OB=({isOpen:t,onClose:e,motion:n,onSave:s})=>{const[l,o]=A.useState({text:"",category:"domestic",format:"pf",difficulty:3,year:new Date().getFullYear(),month:"",tournament:"",source:"",sourceUrl:"",tags:[],notes:""}),[c,h]=A.useState("");ox.useEffect(()=>{t&&o(n?{text:n.text||"",category:n.category||"domestic",format:n.format||"pf",difficulty:n.difficulty||3,year:n.year||new Date().getFullYear(),month:n.month||"",tournament:n.tournament||"",source:n.source||"",sourceUrl:n.sourceUrl||"",tags:n.tags||[],notes:n.notes||""}:{text:"",category:"domestic",format:"pf",difficulty:3,year:new Date().getFullYear(),month:"",tournament:"",source:"",sourceUrl:"",tags:[],notes:""})},[t,n]);const m=()=>{c.trim()&&!l.tags.includes(c.trim())&&(o(y=>({...y,tags:[...y.tags,c.trim().toLowerCase()]})),h(""))},f=y=>{o(v=>({...v,tags:v.tags.filter(w=>w!==y)}))},x=y=>{y.preventDefault(),l.text.trim()&&(s({id:n?.id||ur(),...l,favorited:n?.favorited||!1,timesUsed:n?.timesUsed||0,lastUsed:n?.lastUsed||null,createdAt:n?.createdAt||new Date().toISOString()}),e())};return t?a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsx(n.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-slate-800 border border-slate-700 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:a.jsxs("form",{onSubmit:x,children:[a.jsx("div",{className:"p-6 border-b border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:n?"Edit Motion":"Add New Motion"}),a.jsx("button",{type:"button",onClick:e,className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",children:a.jsx(ls,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"p-6 space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Motion/Resolution Text *"}),a.jsx("textarea",{value:l.text,onChange:y=>o(v=>({...v,text:y.target.value})),placeholder:"Resolved: ...",rows:3,className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50 resize-none",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Category"}),a.jsx("select",{value:l.category,onChange:y=>o(v=>({...v,category:y.target.value})),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50",children:Object.entries(Zu).map(([y,v])=>a.jsx("option",{value:y,children:v.label},y))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Format"}),a.jsx("select",{value:l.format,onChange:y=>o(v=>({...v,format:y.target.value})),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50",children:Object.entries(Jm).map(([y,v])=>a.jsx("option",{value:y,children:v.label},y))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Difficulty Level"}),a.jsx("div",{className:"flex items-center gap-2",children:Zm.map(y=>a.jsx("button",{type:"button",onClick:()=>o(v=>({...v,difficulty:y.value})),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${l.difficulty===y.value?`bg-${y.color}-500/20 text-${y.color}-400 border border-${y.color}-500/50`:"bg-slate-700/50 text-slate-400 border border-slate-600 hover:bg-slate-700"}`,children:y.label},y.value))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Tournament/Event"}),a.jsx("input",{type:"text",value:l.tournament,onChange:y=>o(v=>({...v,tournament:y.target.value})),placeholder:"e.g., NSDA Nationals",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Source"}),a.jsx("input",{type:"text",value:l.source,onChange:y=>o(v=>({...v,source:y.target.value})),placeholder:"e.g., NSDA",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Year"}),a.jsx("input",{type:"number",value:l.year,onChange:y=>o(v=>({...v,year:parseInt(y.target.value)})),min:2e3,max:2030,className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Month"}),a.jsxs("select",{value:l.month,onChange:y=>o(v=>({...v,month:y.target.value})),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50",children:[a.jsx("option",{value:"",children:"Select month..."}),["January","February","March","April","May","June","July","August","September","October","November","December"].map(y=>a.jsx("option",{value:y,children:y},y))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Source URL (optional)"}),a.jsx("input",{type:"url",value:l.sourceUrl,onChange:y=>o(v=>({...v,sourceUrl:y.target.value})),placeholder:"https://...",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Tags"}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("input",{type:"text",value:c,onChange:y=>h(y.target.value),onKeyPress:y=>y.key==="Enter"&&(y.preventDefault(),m()),placeholder:"Add a tag...",className:"flex-1 bg-slate-700/50 border border-slate-600 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50"}),a.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Add"})]}),l.tags.length>0&&a.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:l.tags.map((y,v)=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 bg-slate-700 text-slate-300 text-sm rounded-full",children:[a.jsx(cj,{className:"w-3 h-3"}),y,a.jsx("button",{type:"button",onClick:()=>f(y),className:"text-slate-500 hover:text-red-400 ml-1",children:a.jsx(ls,{className:"w-3 h-3"})})]},v))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Notes"}),a.jsx("textarea",{value:l.notes,onChange:y=>o(v=>({...v,notes:y.target.value})),placeholder:"Strategy notes, key arguments, etc.",rows:3,className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50 resize-none"})]})]}),a.jsxs("div",{className:"p-6 border-t border-slate-700 flex items-center justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-slate-400 hover:text-white transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-cyan-600 hover:bg-cyan-500 text-white rounded-lg transition-colors font-medium",children:n?"Save Changes":"Add Motion"})]})]})})}):null},PB=()=>{const[t,e]=A.useState(DB),[n,s]=A.useState(""),[l,o]=A.useState("all"),[c,h]=A.useState("all"),[m,f]=A.useState("all"),[x,y]=A.useState("all"),[v,w]=A.useState(!1),[S,U]=A.useState("newest"),[I,z]=A.useState("full"),[L,q]=A.useState(!1),[K,se]=A.useState(null),[G,D]=A.useState(!1),[C,O]=A.useState(null),E=A.useMemo(()=>{const ie=new Set(t.map(ge=>ge.year));return Array.from(ie).sort((ge,P)=>P-ge)},[t]),T=A.useMemo(()=>{let ie=[...t];if(n.trim()){const ge=n.toLowerCase();ie=ie.filter(P=>P.text.toLowerCase().includes(ge)||P.tags?.some(Ee=>Ee.toLowerCase().includes(ge))||P.tournament?.toLowerCase().includes(ge)||P.source?.toLowerCase().includes(ge))}switch(l!=="all"&&(ie=ie.filter(ge=>ge.category===l)),c!=="all"&&(ie=ie.filter(ge=>ge.format===c)),m!=="all"&&(ie=ie.filter(ge=>ge.difficulty===parseInt(m))),x!=="all"&&(ie=ie.filter(ge=>ge.year===parseInt(x))),v&&(ie=ie.filter(ge=>ge.favorited)),S){case"newest":ie.sort((ge,P)=>new Date(P.createdAt)-new Date(ge.createdAt));break;case"oldest":ie.sort((ge,P)=>new Date(ge.createdAt)-new Date(P.createdAt));break;case"most-used":ie.sort((ge,P)=>(P.timesUsed||0)-(ge.timesUsed||0));break;case"difficulty-asc":ie.sort((ge,P)=>ge.difficulty-P.difficulty);break;case"difficulty-desc":ie.sort((ge,P)=>P.difficulty-ge.difficulty);break;case"alphabetical":ie.sort((ge,P)=>ge.text.localeCompare(P.text));break}return ie},[t,n,l,c,m,x,v,S]),M=ie=>{e(ge=>{const P=ge.findIndex(Ee=>Ee.id===ie.id);if(P>=0){const Ee=[...ge];return Ee[P]=ie,Ee}return[ie,...ge]})},R=ie=>{confirm("Are you sure you want to delete this motion?")&&e(ge=>ge.filter(P=>P.id!==ie))},te=ie=>{e(ge=>ge.map(P=>P.id===ie?{...P,favorited:!P.favorited}:P))},J=ie=>{O(ie.id),setTimeout(()=>O(null),2e3)},$=ie=>{se(ie),q(!0)},W=()=>{const ie=JSON.stringify(t,null,2),ge=new Blob([ie],{type:"application/json"}),P=URL.createObjectURL(ge),Ee=document.createElement("a");Ee.href=P,Ee.download="motion-library.json",Ee.click(),URL.revokeObjectURL(P)},he=ie=>{const ge=ie.target.files?.[0];if(!ge)return;const P=new FileReader;P.onload=Ee=>{try{const Ve=JSON.parse(Ee.target.result);Array.isArray(Ve)&&e(Be=>[...Ve,...Be])}catch(Ve){console.error("Failed to import motions:",Ve)}},P.readAsText(ge),ie.target.value=""},be=()=>{s(""),o("all"),h("all"),f("all"),y("all"),w(!1)},B=[l!=="all",c!=="all",m!=="all",x!=="all",v].filter(Boolean).length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl",children:a.jsx(yr,{className:"w-6 h-6 text-white"})}),"Motion Library"]}),a.jsxs("p",{className:"text-slate-400 mt-1",children:[T.length," of ",t.length," motions"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors cursor-pointer",children:[a.jsx(ad,{className:"w-4 h-4"}),"Import",a.jsx("input",{type:"file",accept:".json",onChange:he,className:"hidden"})]}),a.jsxs("button",{onClick:W,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[a.jsx(Wo,{className:"w-4 h-4"}),"Export"]}),a.jsxs("button",{onClick:()=>{se(null),q(!0)},className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-500 text-white rounded-lg transition-colors",children:[a.jsx(hn,{className:"w-4 h-4"}),"Add Motion"]})]})]}),a.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(vl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",value:n,onChange:ie=>s(ie.target.value),placeholder:"Search motions, tags, tournaments...",className:"w-full bg-slate-700/50 border border-slate-600 text-white pl-10 pr-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50"})]}),a.jsxs("button",{onClick:()=>w(!v),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-colors ${v?"bg-amber-500/20 text-amber-400 border border-amber-500/50":"bg-slate-700/50 text-slate-400 border border-slate-600 hover:text-white"}`,children:[a.jsx(Bn,{className:`w-4 h-4 ${v?"fill-current":""}`}),"Favorites"]}),a.jsxs("button",{onClick:()=>D(!G),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-colors ${G||B>0?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/50":"bg-slate-700/50 text-slate-400 border border-slate-600 hover:text-white"}`,children:[a.jsx(sC,{className:"w-4 h-4"}),"Filters",B>0&&a.jsx("span",{className:"w-5 h-5 bg-cyan-500 text-white text-xs rounded-full flex items-center justify-center",children:B})]}),a.jsxs("div",{className:"flex items-center gap-1 bg-slate-700/50 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>z("full"),className:`p-2 rounded ${I==="full"?"bg-slate-600 text-white":"text-slate-400 hover:text-white"}`,children:a.jsx(fx,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>z("compact"),className:`p-2 rounded ${I==="compact"?"bg-slate-600 text-white":"text-slate-400 hover:text-white"}`,children:a.jsx(px,{className:"w-4 h-4"})})]}),a.jsxs("select",{value:S,onChange:ie=>U(ie.target.value),className:"bg-slate-700/50 border border-slate-600 text-white px-3 py-2.5 rounded-lg focus:outline-none",children:[a.jsx("option",{value:"newest",children:"Newest First"}),a.jsx("option",{value:"oldest",children:"Oldest First"}),a.jsx("option",{value:"most-used",children:"Most Used"}),a.jsx("option",{value:"difficulty-asc",children:"Difficulty "}),a.jsx("option",{value:"difficulty-desc",children:"Difficulty "}),a.jsx("option",{value:"alphabetical",children:"A-Z"})]})]}),a.jsx(ot,{children:G&&a.jsxs(F.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:[a.jsxs("div",{className:"pt-4 mt-4 border-t border-slate-700 grid grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Category"}),a.jsxs("select",{value:l,onChange:ie=>o(ie.target.value),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-3 py-2 rounded-lg focus:outline-none text-sm",children:[a.jsx("option",{value:"all",children:"All Categories"}),Object.entries(Zu).map(([ie,ge])=>a.jsx("option",{value:ie,children:ge.label},ie))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Format"}),a.jsxs("select",{value:c,onChange:ie=>h(ie.target.value),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-3 py-2 rounded-lg focus:outline-none text-sm",children:[a.jsx("option",{value:"all",children:"All Formats"}),Object.entries(Jm).map(([ie,ge])=>a.jsx("option",{value:ie,children:ge.label},ie))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Difficulty"}),a.jsxs("select",{value:m,onChange:ie=>f(ie.target.value),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-3 py-2 rounded-lg focus:outline-none text-sm",children:[a.jsx("option",{value:"all",children:"All Levels"}),Zm.map(ie=>a.jsx("option",{value:ie.value,children:ie.label},ie.value))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Year"}),a.jsxs("select",{value:x,onChange:ie=>y(ie.target.value),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-3 py-2 rounded-lg focus:outline-none text-sm",children:[a.jsx("option",{value:"all",children:"All Years"}),E.map(ie=>a.jsx("option",{value:ie,children:ie},ie))]})]})]}),B>0&&a.jsx("div",{className:"mt-3 flex items-center justify-end",children:a.jsx("button",{onClick:be,className:"text-sm text-slate-400 hover:text-white transition-colors",children:"Clear all filters"})})]})})]}),a.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:[a.jsx("button",{onClick:()=>o("all"),className:`flex-shrink-0 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l==="all"?"bg-slate-700 text-white":"bg-slate-800/50 text-slate-400 hover:text-white"}`,children:"All"}),Object.entries(Zu).map(([ie,ge])=>{const P=ge.icon,Ee=t.filter(Ve=>Ve.category===ie).length;return a.jsxs("button",{onClick:()=>o(l===ie?"all":ie),className:`flex-shrink-0 flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l===ie?`${ge.bgColor} ${ge.textColor} border ${ge.borderColor}`:"bg-slate-800/50 text-slate-400 hover:text-white border border-transparent"}`,children:[a.jsx(P,{className:"w-4 h-4"}),ge.label,a.jsxs("span",{className:"text-xs opacity-60",children:["(",Ee,")"]})]},ie)})]}),T.length===0?a.jsxs("div",{className:"text-center py-16",children:[a.jsx(yr,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-slate-400",children:"No motions found"}),a.jsx("p",{className:"text-slate-500 mt-1",children:n||B>0?"Try adjusting your filters or search query":"Add your first motion to get started"}),(n||B>0)&&a.jsx("button",{onClick:be,className:"mt-4 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Clear Filters"})]}):a.jsx("div",{className:I==="full"?"grid grid-cols-1 lg:grid-cols-2 gap-4":"space-y-2",children:a.jsx(ot,{mode:"popLayout",children:T.map(ie=>a.jsx(MB,{motion:ie,viewMode:I,onEdit:$,onDelete:R,onToggleFavorite:te,onCopy:J},ie.id))})}),a.jsx(ot,{children:C&&a.jsxs(F.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 right-6 bg-emerald-600 text-white px-4 py-3 rounded-lg shadow-lg flex items-center gap-2",children:[a.jsx(sa,{className:"w-5 h-5"}),"Motion copied to clipboard!"]})}),a.jsx(ot,{children:L&&a.jsx(OB,{isOpen:L,onClose:()=>{q(!1),se(null)},motion:K,onSave:M})})]})},wg={pf:{name:"Public Forum",teams:2,speakersPerTeam:2,maxSpeakerPoints:30,minSpeakerPoints:20,rubricCategories:[{id:"argumentation",label:"Argumentation & Analysis",weight:30,description:"Quality of arguments, logical reasoning, clash"},{id:"evidence",label:"Use of Evidence",weight:20,description:"Quality, relevance, and explanation of sources"},{id:"refutation",label:"Refutation & Defense",weight:20,description:"Responses to opponent arguments, defense of own case"},{id:"delivery",label:"Delivery & Presentation",weight:15,description:"Speaking skills, clarity, eye contact, pace"},{id:"crossfire",label:"Crossfire Performance",weight:15,description:"Questions, answers, engagement in crossfire"}]},ld:{name:"Lincoln Douglas",teams:2,speakersPerTeam:1,maxSpeakerPoints:30,minSpeakerPoints:20,rubricCategories:[{id:"framework",label:"Value/Criterion Framework",weight:25,description:"Quality and defense of philosophical framework"},{id:"argumentation",label:"Argumentation",weight:25,description:"Quality of contentions and logical analysis"},{id:"clash",label:"Clash & Refutation",weight:20,description:"Engagement with opponent, responses, weighing"},{id:"crystallization",label:"Crystallization",weight:15,description:"Summary and focus on key issues"},{id:"delivery",label:"Delivery",weight:15,description:"Speaking skills, persuasion, presence"}]},policy:{name:"Policy/CX",teams:2,speakersPerTeam:2,maxSpeakerPoints:30,minSpeakerPoints:20,rubricCategories:[{id:"case",label:"Case Arguments",weight:25,description:"Quality of affirmative/negative case"},{id:"evidence",label:"Evidence Quality",weight:20,description:"Card quality, warrants, recency"},{id:"strategy",label:"Strategic Choices",weight:20,description:"Argument selection, time allocation, 2NR/2AR"},{id:"cx",label:"Cross-Examination",weight:15,description:"Question quality, answer quality, strategic use"},{id:"delivery",label:"Delivery & Clarity",weight:20,description:"Speed, clarity, organization, signposting"}]},congress:{name:"Congressional Debate",teams:1,speakersPerTeam:1,maxSpeakerPoints:6,minSpeakerPoints:1,rubricCategories:[{id:"argumentation",label:"Argumentation",weight:30,description:"Quality and originality of arguments"},{id:"evidence",label:"Evidence & Research",weight:20,description:"Use of statistics, examples, sources"},{id:"refutation",label:"Clash & Refutation",weight:20,description:"Engagement with previous speakers"},{id:"delivery",label:"Delivery",weight:20,description:"Speaking skills, presence, persuasion"},{id:"procedure",label:"Parliamentary Procedure",weight:10,description:"Knowledge and use of procedure"}]},parli:{name:"Parliamentary",teams:2,speakersPerTeam:2,maxSpeakerPoints:30,minSpeakerPoints:20,rubricCategories:[{id:"case",label:"Case Construction",weight:25,description:"Model/interpretation, argumentation"},{id:"refutation",label:"Refutation",weight:25,description:"Responses, turns, impact comparison"},{id:"poi",label:"Points of Information",weight:15,description:"POI quality and handling"},{id:"strategy",label:"Strategy & Weighing",weight:20,description:"Strategic choices, crystallization"},{id:"delivery",label:"Delivery",weight:15,description:"Speaking skills, wit, presence"}]}},LB=[{range:"29.5-30",label:"Exceptional",description:"Tournament-winning performance"},{range:"29-29.4",label:"Excellent",description:"Should be in late elimination rounds"},{range:"28.5-28.9",label:"Very Good",description:"Should break to elimination rounds"},{range:"28-28.4",label:"Good",description:"Solid varsity performance"},{range:"27.5-27.9",label:"Above Average",description:"Competent but room for improvement"},{range:"27-27.4",label:"Average",description:"Meets basic expectations"},{range:"26-26.9",label:"Below Average",description:"Significant areas for improvement"},{range:"25-25.9",label:"Needs Work",description:"Major issues in multiple areas"},{range:"20-24.9",label:"Developmental",description:"Novice or serious concerns"}],VB=()=>`ballot_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,UB=({category:t,score:e,onChange:n,maxScore:s=10})=>{const l=e/s*100,o=c=>c>=90?"text-emerald-400":c>=80?"text-cyan-400":c>=70?"text-amber-400":c>=60?"text-orange-400":"text-red-400";return a.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-medium",children:t.label}),a.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:t.description})]}),a.jsxs("span",{className:"text-xs text-slate-500 bg-slate-700 px-2 py-0.5 rounded",children:["Weight: ",t.weight,"%"]})]}),a.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[a.jsx("input",{type:"range",min:0,max:s,step:.5,value:e,onChange:c=>n(parseFloat(c.target.value)),className:"flex-1 h-2 bg-slate-600 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),a.jsx("div",{className:`text-2xl font-bold w-16 text-right ${o(l)}`,children:e.toFixed(1)})]}),a.jsxs("div",{className:"flex justify-between mt-1 text-xs text-slate-500",children:[a.jsx("span",{children:"0"}),a.jsx("span",{children:"Poor"}),a.jsx("span",{children:"Average"}),a.jsx("span",{children:"Good"}),a.jsx("span",{children:"Excellent"}),a.jsx("span",{children:s})]})]})},zB=({speaker:t,points:e,onChange:n,format:s,showGuide:l=!1})=>{const[o,c]=A.useState(l),{minSpeakerPoints:h,maxSpeakerPoints:m}=s,f=x=>x>=29.5?"text-emerald-400":x>=29?"text-cyan-400":x>=28.5?"text-blue-400":x>=28?"text-purple-400":x>=27.5?"text-amber-400":x>=27?"text-orange-400":"text-red-400";return a.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rd,{className:"w-4 h-4 text-slate-400"}),a.jsx("span",{className:"text-white font-medium",children:t.name||`Speaker ${t.position}`}),a.jsxs("span",{className:"text-xs text-slate-500",children:["(",t.side,")"]})]}),a.jsxs("button",{onClick:()=>c(!o),className:"text-xs text-cyan-400 hover:text-cyan-300 flex items-center gap-1",children:[a.jsx(ed,{className:"w-3 h-3"}),"Guide"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"number",min:h,max:m,step:.1,value:e,onChange:x=>n(parseFloat(x.target.value)||h),className:`w-24 bg-slate-800 border border-slate-600 text-center text-2xl font-bold px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50 ${f(e)}`}),a.jsx("input",{type:"range",min:h,max:m,step:.1,value:e,onChange:x=>n(parseFloat(x.target.value)),className:"flex-1 h-2 bg-slate-600 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]}),a.jsx(ot,{children:o&&a.jsx(F.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:a.jsx("div",{className:"mt-3 pt-3 border-t border-slate-700 grid grid-cols-3 gap-2 text-xs",children:LB.map(x=>a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-medium text-slate-300",children:x.range}),a.jsx("div",{className:"text-slate-500",children:x.label})]},x.range))})})})]})},FB=({team:t,isWinner:e,onToggleWinner:n,onUpdateSpeaker:s,onUpdateRubric:l,format:o})=>{const[c,h]=A.useState(!0),m=Object.values(t.rubricScores||{}).reduce((x,y)=>x+y,0),f=o.rubricCategories.length>0?m/o.rubricCategories.length:0;return a.jsxs("div",{className:`bg-slate-800/50 border rounded-xl overflow-hidden transition-all ${e?"border-emerald-500/50 ring-2 ring-emerald-500/20":"border-slate-700"}`,children:[a.jsxs("div",{className:`p-4 border-b ${e?"bg-emerald-500/10 border-emerald-500/30":"bg-slate-800/50 border-slate-700"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${t.side==="Aff"||t.side==="Pro"||t.side==="Gov"?"bg-cyan-500/20 text-cyan-400":"bg-orange-500/20 text-orange-400"}`,children:a.jsx(of,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("input",{type:"text",value:t.name,onChange:x=>s(t.id,"name",x.target.value),placeholder:"Team Name",className:"bg-transparent text-white font-semibold text-lg focus:outline-none"}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{className:`${t.side==="Aff"||t.side==="Pro"||t.side==="Gov"?"text-cyan-400":"text-orange-400"}`,children:t.side}),a.jsx("span",{className:"text-slate-500",children:""}),a.jsx("input",{type:"text",value:t.school||"",onChange:x=>s(t.id,"school",x.target.value),placeholder:"School",className:"bg-transparent text-slate-400 focus:outline-none"})]})]})]}),a.jsxs("button",{onClick:()=>n(t.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${e?"bg-emerald-500 text-white":"bg-slate-700 text-slate-400 hover:bg-slate-600 hover:text-white"}`,children:[a.jsx(on,{className:`w-4 h-4 ${e?"fill-current":""}`}),e?"Winner":"Mark Winner"]})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1 text-slate-400",children:[a.jsx(Bn,{className:"w-4 h-4 text-amber-400"}),a.jsx("span",{children:"Avg Points:"}),a.jsx("span",{className:"text-white font-medium",children:(t.speakers.reduce((x,y)=>x+y.points,0)/t.speakers.length).toFixed(1)})]}),a.jsxs("div",{className:"flex items-center gap-1 text-slate-400",children:[a.jsx(Ot,{className:"w-4 h-4 text-cyan-400"}),a.jsx("span",{children:"Rubric:"}),a.jsxs("span",{className:"text-white font-medium",children:[f.toFixed(1),"/10"]})]})]})]}),a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsxs("h4",{className:"text-sm text-slate-400 uppercase tracking-wide flex items-center gap-2",children:[a.jsx(ra,{className:"w-4 h-4"}),"Speaker Points"]}),t.speakers.map((x,y)=>a.jsx(zB,{speaker:x,points:x.points,onChange:v=>s(t.id,`speaker_${y}_points`,v),format:o},x.id))]}),a.jsxs("div",{className:"p-4 border-t border-slate-700",children:[a.jsxs("button",{onClick:()=>h(!c),className:"flex items-center justify-between w-full text-sm text-slate-400 uppercase tracking-wide mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ot,{className:"w-4 h-4"}),"Rubric Scoring"]}),c?a.jsx(wi,{className:"w-4 h-4"}):a.jsx(Nn,{className:"w-4 h-4"})]}),a.jsx(ot,{children:c&&a.jsx(F.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"space-y-3",children:o.rubricCategories.map(x=>a.jsx(UB,{category:x,score:t.rubricScores?.[x.id]||5,onChange:y=>l(t.id,x.id,y)},x.id))})})]})]})},BB=({rfd:t,onChange:e})=>{const[n,s]=A.useState(t.length),l=o=>{const c=o.target.value;s(c.length),e(c)};return a.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[a.jsx(Ii,{className:"w-5 h-5 text-purple-400"}),"Reason for Decision (RFD)"]}),a.jsxs("span",{className:"text-xs text-slate-500",children:[n," characters"]})]}),a.jsx("textarea",{value:t,onChange:l,placeholder:`Explain your decision. What were the key voting issues? How did the teams compare on those issues? What feedback would help the debaters improve?

Consider addressing:
 The main arguments and how they were resolved
 Key moments that influenced your decision
 Specific feedback for each team
 What each side did well and areas for improvement`,rows:8,className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/50 resize-none"}),a.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-xs text-slate-500",children:"Quick add:"}),["Better weighing on impacts","Clearer extensions in rebuttals","More responsive to opponent arguments","Stronger evidence comparison"].map(o=>a.jsxs("button",{onClick:()=>e(t+(t?`

`:"")+o),className:"text-xs px-2 py-1 bg-slate-700 text-slate-300 rounded hover:bg-slate-600 transition-colors",children:["+ ",o]},o))]})]})},$B=({signature:t,onChange:e})=>{const n=A.useRef(null),[s,l]=A.useState(!1),[o,c]=A.useState({x:0,y:0}),h=y=>{const w=n.current.getBoundingClientRect(),S=(y.clientX||y.touches?.[0]?.clientX)-w.left,U=(y.clientY||y.touches?.[0]?.clientY)-w.top;c({x:S,y:U}),l(!0)},m=y=>{if(!s)return;const v=n.current,w=v.getContext("2d"),S=v.getBoundingClientRect(),U=(y.clientX||y.touches?.[0]?.clientX)-S.left,I=(y.clientY||y.touches?.[0]?.clientY)-S.top;w.beginPath(),w.moveTo(o.x,o.y),w.lineTo(U,I),w.strokeStyle="#22d3ee",w.lineWidth=2,w.lineCap="round",w.stroke(),c({x:U,y:I})},f=()=>{if(s){l(!1);const y=n.current;e({...t,image:y.toDataURL()})}},x=()=>{const y=n.current;y.getContext("2d").clearRect(0,0,y.width,y.height),e({...t,image:null})};return a.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[a.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2 mb-4",children:[a.jsx(JC,{className:"w-5 h-5 text-cyan-400"}),"Judge Information & Signature"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Judge Name"}),a.jsx("input",{type:"text",value:t.name||"",onChange:y=>e({...t,name:y.target.value}),placeholder:"Enter your name",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Affiliation"}),a.jsx("input",{type:"text",value:t.affiliation||"",onChange:y=>e({...t,affiliation:y.target.value}),placeholder:"School/Organization",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500/50"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"text-sm text-slate-400",children:"Signature (draw below)"}),a.jsxs("button",{onClick:x,className:"text-xs text-slate-400 hover:text-white flex items-center gap-1",children:[a.jsx(bl,{className:"w-3 h-3"}),"Clear"]})]}),a.jsxs("div",{className:"relative bg-slate-900 border border-slate-600 rounded-lg overflow-hidden",children:[a.jsx("canvas",{ref:n,width:400,height:100,onMouseDown:h,onMouseMove:m,onMouseUp:f,onMouseLeave:f,onTouchStart:h,onTouchMove:m,onTouchEnd:f,className:"w-full cursor-crosshair touch-none",style:{height:"100px"}}),!t.image&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:a.jsx("span",{className:"text-slate-600 text-sm",children:"Sign here"})})]})]})]})},qB=()=>{const[t,e]=A.useState("pf"),[n,s]=A.useState({tournament:"",round:"",room:"",date:new Date().toISOString().split("T")[0],motion:""}),[l,o]=A.useState([{id:"team1",name:"",school:"",side:"Pro",speakers:[{id:"sp1",name:"",position:1,side:"Pro",points:28},{id:"sp2",name:"",position:2,side:"Pro",points:28}],rubricScores:{}},{id:"team2",name:"",school:"",side:"Con",speakers:[{id:"sp3",name:"",position:1,side:"Con",points:28},{id:"sp4",name:"",position:2,side:"Con",points:28}],rubricScores:{}}]),[c,h]=A.useState(null),[m,f]=A.useState(""),[x,y]=A.useState({name:"",affiliation:"",image:null}),[v,w]=A.useState([]),[S,U]=A.useState(!1),I=wg[t],z=E=>{e(E);const T=wg[E],M={pf:["Pro","Con"],ld:["Aff","Neg"],policy:["Aff","Neg"],congress:["Speaker"],parli:["Gov","Opp"]},R=[];for(let te=0;te<T.teams;te++){const J=[];for(let $=0;$<T.speakersPerTeam;$++)J.push({id:`sp_${te}_${$}`,name:"",position:$+1,side:M[E][te],points:(T.maxSpeakerPoints+T.minSpeakerPoints)/2});R.push({id:`team${te+1}`,name:"",school:"",side:M[E][te],speakers:J,rubricScores:{}})}o(R),h(null)},L=(E,T,M)=>{o(R=>R.map(te=>{if(te.id!==E)return te;if(T==="name"||T==="school")return{...te,[T]:M};if(T.startsWith("speaker_")){const[,J,$]=T.split("_"),W=[...te.speakers];return W[parseInt(J)]={...W[parseInt(J)],[$]:M},{...te,speakers:W}}return te}))},q=(E,T,M)=>{o(R=>R.map(te=>te.id!==E?te:{...te,rubricScores:{...te.rubricScores,[T]:M}}))},K=E=>{h(c===E?null:E)},se=E=>{let T=0,M=0;return I.rubricCategories.forEach(R=>{const te=E.rubricScores?.[R.id]||5;T+=te*R.weight,M+=R.weight}),M>0?T/M:0},G=()=>{l.find(M=>M.id===c),l.find(M=>M.id!==c);const E=`
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Debate Ballot - ${n.tournament||"Tournament"}</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Georgia', serif; max-width: 800px; margin: 0 auto; padding: 20px; color: #1a1a2e; }
    .header { text-align: center; border-bottom: 3px double #333; padding-bottom: 15px; margin-bottom: 20px; }
    .header h1 { font-size: 24px; margin-bottom: 5px; }
    .header .format { color: #666; font-style: italic; }
    .meta { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 20px; padding: 10px; background: #f5f5f5; border-radius: 5px; }
    .meta-item { text-align: center; }
    .meta-item label { display: block; font-size: 10px; text-transform: uppercase; color: #666; }
    .meta-item span { font-weight: bold; }
    .motion { background: #e8e8e8; padding: 15px; border-radius: 5px; margin-bottom: 20px; font-style: italic; }
    .teams { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
    .team { border: 2px solid #ddd; border-radius: 8px; padding: 15px; }
    .team.winner { border-color: #22c55e; background: #f0fdf4; }
    .team-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; padding-bottom: 10px; border-bottom: 1px solid #ddd; }
    .team-name { font-size: 18px; font-weight: bold; }
    .team-side { color: #666; }
    .winner-badge { background: #22c55e; color: white; padding: 3px 10px; border-radius: 20px; font-size: 12px; }
    .speakers { margin-bottom: 15px; }
    .speaker { display: flex; justify-content: space-between; padding: 5px 0; border-bottom: 1px dotted #ddd; }
    .speaker-points { font-weight: bold; font-size: 18px; }
    .rubric { margin-top: 10px; }
    .rubric-item { display: flex; justify-content: space-between; padding: 3px 0; font-size: 12px; }
    .rubric-score { font-weight: bold; }
    .rfd { margin-bottom: 20px; padding: 15px; background: #fafafa; border-left: 4px solid #8b5cf6; }
    .rfd h3 { margin-bottom: 10px; color: #8b5cf6; }
    .rfd p { line-height: 1.6; white-space: pre-wrap; }
    .signature { display: flex; justify-content: space-between; align-items: flex-end; margin-top: 30px; padding-top: 20px; border-top: 2px solid #333; }
    .sig-box { text-align: center; }
    .sig-line { width: 200px; border-bottom: 1px solid #333; margin-bottom: 5px; min-height: 50px; }
    .sig-line img { max-height: 50px; }
    .sig-label { font-size: 12px; color: #666; }
    @media print { 
      body { padding: 10px; }
      .no-print { display: none; }
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>${n.tournament||"Debate Tournament"}</h1>
    <div class="format">${I.name} Ballot</div>
  </div>

  <div class="meta">
    <div class="meta-item">
      <label>Round</label>
      <span>${n.round||"-"}</span>
    </div>
    <div class="meta-item">
      <label>Room</label>
      <span>${n.room||"-"}</span>
    </div>
    <div class="meta-item">
      <label>Date</label>
      <span>${n.date||"-"}</span>
    </div>
    <div class="meta-item">
      <label>Format</label>
      <span>${I.name}</span>
    </div>
  </div>

  ${n.motion?`<div class="motion"><strong>Motion:</strong> ${n.motion}</div>`:""}

  <div class="teams">
    ${l.map(M=>`
      <div class="team ${M.id===c?"winner":""}">
        <div class="team-header">
          <div>
            <div class="team-name">${M.name||"Team"}</div>
            <div class="team-side">${M.side}  ${M.school||"School"}</div>
          </div>
          ${M.id===c?'<span class="winner-badge">WINNER</span>':""}
        </div>
        <div class="speakers">
          <strong>Speaker Points:</strong>
          ${M.speakers.map(R=>`
            <div class="speaker">
              <span>${R.name||`Speaker ${R.position}`}</span>
              <span class="speaker-points">${R.points.toFixed(1)}</span>
            </div>
          `).join("")}
        </div>
        <div class="rubric">
          <strong>Rubric Scores:</strong>
          ${I.rubricCategories.map(R=>`
            <div class="rubric-item">
              <span>${R.label}</span>
              <span class="rubric-score">${(M.rubricScores?.[R.id]||5).toFixed(1)}/10</span>
            </div>
          `).join("")}
        </div>
      </div>
    `).join("")}
  </div>

  <div class="rfd">
    <h3>Reason for Decision</h3>
    <p>${m||"No RFD provided."}</p>
  </div>

  <div class="signature">
    <div class="sig-box">
      <div class="sig-line">
        ${x.image?`<img src="${x.image}" alt="Signature" />`:""}
      </div>
      <div class="sig-label">Judge Signature</div>
    </div>
    <div class="sig-box">
      <div class="sig-line" style="display: flex; align-items: flex-end; justify-content: center; padding-bottom: 5px;">
        ${x.name||""}
      </div>
      <div class="sig-label">Print Name</div>
    </div>
    <div class="sig-box">
      <div class="sig-line" style="display: flex; align-items: flex-end; justify-content: center; padding-bottom: 5px;">
        ${x.affiliation||""}
      </div>
      <div class="sig-label">Affiliation</div>
    </div>
  </div>
</body>
</html>
    `,T=window.open("","_blank");T.document.write(E),T.document.close(),T.print()},D=()=>{const E={id:VB(),format:t,roundInfo:n,teams:l,winnerId:c,rfd:m,signature:x,createdAt:new Date().toISOString()};w(T=>[E,...T])},C=()=>{confirm("Are you sure you want to reset the ballot? All data will be lost.")&&(z(t),s({tournament:"",round:"",room:"",date:new Date().toISOString().split("T")[0],motion:""}),f(""),y({name:"",affiliation:"",image:null}))},O=c&&x.name&&m.length>0;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl",children:a.jsx(za,{className:"w-6 h-6 text-white"})}),"Judge Ballot Generator"]}),a.jsx("p",{className:"text-slate-400 mt-1",children:"Create standardized ballots with rubric scoring"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[a.jsx(bl,{className:"w-4 h-4"}),"Reset"]}),a.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[a.jsx(lf,{className:"w-4 h-4"}),"Save"]}),a.jsxs("button",{onClick:G,disabled:!O,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${O?"bg-amber-600 hover:bg-amber-500 text-white":"bg-slate-700 text-slate-500 cursor-not-allowed"}`,children:[a.jsx(Wo,{className:"w-4 h-4"}),"Export PDF"]})]})]}),a.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Debate Format"}),a.jsx("select",{value:t,onChange:E=>z(E.target.value),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/50",children:Object.entries(wg).map(([E,T])=>a.jsx("option",{value:E,children:T.name},E))})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Tournament"}),a.jsx("input",{type:"text",value:n.tournament,onChange:E=>s(T=>({...T,tournament:E.target.value})),placeholder:"Tournament name",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Round"}),a.jsx("input",{type:"text",value:n.round,onChange:E=>s(T=>({...T,round:E.target.value})),placeholder:"Round 1",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Room"}),a.jsx("input",{type:"text",value:n.room,onChange:E=>s(T=>({...T,room:E.target.value})),placeholder:"Room 101",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/50"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Date"}),a.jsx("input",{type:"date",value:n.date,onChange:E=>s(T=>({...T,date:E.target.value})),className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/50"})]}),a.jsxs("div",{className:"md:col-span-3",children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Motion/Resolution (Optional)"}),a.jsx("input",{type:"text",value:n.motion,onChange:E=>s(T=>({...T,motion:E.target.value})),placeholder:"Resolved: ...",className:"w-full bg-slate-700/50 border border-slate-600 text-white px-4 py-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/50"})]})]})]}),!O&&a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-amber-500/10 border border-amber-500/30 rounded-xl",children:[a.jsx(is,{className:"w-5 h-5 text-amber-400"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-amber-400 font-medium",children:"Ballot incomplete:"}),a.jsxs("span",{className:"text-slate-400 ml-2",children:[!c&&"Select a winner  ",!x.name&&"Enter judge name  ",m.length===0&&"Write an RFD"]})]})]}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:l.map(E=>a.jsx(FB,{team:E,isWinner:c===E.id,onToggleWinner:K,onUpdateSpeaker:L,onUpdateRubric:q,format:I},E.id))}),a.jsx(BB,{rfd:m,onChange:f}),a.jsx($B,{signature:x,onChange:y}),a.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[a.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2 mb-4",children:[a.jsx(ux,{className:"w-5 h-5 text-amber-400"}),"Score Summary"]}),a.jsx("div",{className:"grid grid-cols-2 gap-6",children:l.map(E=>{const T=E.speakers.reduce((te,J)=>te+J.points,0),M=T/E.speakers.length,R=se(E);return a.jsxs("div",{className:`p-4 rounded-lg border ${c===E.id?"bg-emerald-500/10 border-emerald-500/30":"bg-slate-700/30 border-slate-600"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-white",children:E.name||"Team"}),a.jsx("div",{className:"text-sm text-slate-400",children:E.side})]}),c===E.id&&a.jsx(on,{className:"w-6 h-6 text-emerald-400 fill-current"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-amber-400",children:T.toFixed(1)}),a.jsx("div",{className:"text-xs text-slate-500",children:"Total Points"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:M.toFixed(1)}),a.jsx("div",{className:"text-xs text-slate-500",children:"Avg Points"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-purple-400",children:R.toFixed(1)}),a.jsx("div",{className:"text-xs text-slate-500",children:"Rubric Score"})]})]})]},E.id)})})]})]})},HB=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--bg-primary)"},children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx(ki,{className:"w-12 h-12 animate-spin mx-auto",style:{color:"var(--primary)"}}),a.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading Adjudicator AI..."})]})}),GB=({isOpen:t,onClose:e,apiKey:n,setApiKey:s,openaiKey:l,setOpenaiKey:o})=>t?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",children:a.jsxs("div",{className:"glass-card w-full max-w-md space-y-6 animate-in zoom-in-95",children:[a.jsxs("h2",{className:"text-xl font-bold flex items-center",style:{color:"var(--text-primary)"},children:[a.jsx(nd,{className:"w-5 h-5 mr-2",style:{color:"var(--primary)"}}),"Configuration"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Google Gemini API Key"}),a.jsx("input",{type:"password",value:n,onChange:c=>s(c.target.value),placeholder:"AIzaSy...",className:"input-field"}),a.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"Required for most features."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:"OpenAI API Key (Optional)"}),a.jsx("input",{type:"password",value:l,onChange:c=>o(c.target.value),placeholder:"sk-...",className:"input-field"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg transition-colors",style:{color:"var(--text-secondary)"},children:"Close"}),a.jsx("button",{onClick:e,className:"btn-primary",children:"Save Changes"})]})]})}):null;function YB(){const[t,e]=A.useState("dashboard"),[n,s]=A.useState(!1),[l,o]=A.useState(!0),[c,h]=A.useState(localStorage.getItem("gemini_key")||""),[m,f]=A.useState(localStorage.getItem("openai_key")||""),[x,y]=A.useState(localStorage.getItem("guest_mode")==="true"),{user:v,loading:w,isAuthenticated:S}=Mn();return A.useEffect(()=>{localStorage.setItem("gemini_key",c)},[c]),A.useEffect(()=>{localStorage.setItem("openai_key",m)},[m]),A.useEffect(()=>{(S||x)&&o(!1)},[S,x]),w?a.jsx(HB,{}):l&&!S&&!x?a.jsx(nz,{onGetStarted:()=>o(!1),onContinueAsGuest:()=>{y(!0),localStorage.setItem("guest_mode","true"),o(!1)}}):!S&&!x?a.jsx(tz,{onSkip:()=>{y(!0),localStorage.setItem("guest_mode","true")}}):a.jsxs(zM,{activeTab:t,setActiveTab:e,onSettingsClick:()=>s(!0),children:[t==="dashboard"&&a.jsx(FM,{setActiveTab:e}),t==="analytics"&&a.jsx(Qz,{}),t==="judge"&&a.jsx(BU,{apiKey:c}),t==="board"&&a.jsx($U,{apiKey:c}),t==="coach"&&a.jsx(GU,{apiKey:c}),t==="practice"&&a.jsx(_F,{apiKey:c}),t==="tournaments"&&a.jsx(FF,{}),t==="opponents"&&a.jsx(nF,{apiKey:c}),t==="evidence"&&a.jsx(uF,{}),t==="team"&&a.jsx(DF,{}),t==="strategy"&&a.jsx(QU,{apiKey:c}),t==="extemp"&&a.jsx(YU,{apiKey:c}),t==="tone"&&a.jsx(ez,{apiKey:c}),t==="history"&&a.jsx(XU,{}),t==="flowchart"&&a.jsx(WF,{}),t==="voice"&&a.jsx(iB,{}),t==="timer"&&a.jsx(hB,{}),t==="outline"&&a.jsx(gB,{}),t==="scheduler"&&a.jsx(jB,{}),t==="quickstats"&&a.jsx(RB,{}),t==="motions"&&a.jsx(PB,{}),t==="ballot"&&a.jsx(qB,{}),a.jsx(GB,{isOpen:n,onClose:()=>s(!1),apiKey:c,setApiKey:h,openaiKey:m,setOpenaiKey:f})]})}function QB(){return a.jsx(VM,{children:a.jsx(PM,{children:a.jsx(YB,{})})})}nT.createRoot(document.getElementById("root")).render(a.jsx(ox.StrictMode,{children:a.jsx(QB,{})}));
